(self.webpackChunkresiliency_app=self.webpackChunkresiliency_app||[]).push([[179],{145:(xl,E0,Pi)=>{"use strict";var Ho={};Pi.r(Ho),Pi.d(Ho,{aggregate:()=>gp,bin:()=>MR,collect:()=>AR,compare:()=>boe,countpattern:()=>TR,cross:()=>NR,density:()=>IR,dotbin:()=>RR,expression:()=>Moe,extent:()=>kR,facet:()=>tw,field:()=>Aoe,filter:()=>PR,flatten:()=>LR,fold:()=>BR,formula:()=>$R,generate:()=>Toe,impute:()=>UR,joinaggregate:()=>VR,kde:()=>HR,key:()=>Noe,load:()=>Ioe,lookup:()=>qR,multiextent:()=>Ooe,multivalues:()=>Roe,params:()=>koe,pivot:()=>jR,prefacet:()=>Foe,project:()=>GR,proxy:()=>Poe,quantile:()=>WR,relay:()=>Loe,sample:()=>YR,sequence:()=>KR,sieve:()=>Boe,subflow:()=>FR,timeunit:()=>XR,tupleindex:()=>Uoe,values:()=>Voe,window:()=>ZR});var te={};Pi.r(te),Pi.d(te,{interpolate:()=>gg,interpolateArray:()=>aWe,interpolateBasis:()=>yse,interpolateBasisClosed:()=>bse,interpolateCubehelix:()=>cKe,interpolateCubehelixLong:()=>fKe,interpolateDate:()=>Dse,interpolateDiscrete:()=>YYe,interpolateHcl:()=>lKe,interpolateHclLong:()=>uKe,interpolateHsl:()=>rKe,interpolateHslLong:()=>oKe,interpolateHue:()=>KYe,interpolateLab:()=>aKe,interpolateNumber:()=>Mf,interpolateNumberArray:()=>hk,interpolateObject:()=>xse,interpolateRgb:()=>dk,interpolateRgbBasis:()=>oWe,interpolateRgbBasisClosed:()=>sWe,interpolateRound:()=>mw,interpolateString:()=>Mse,interpolateTransformCss:()=>QYe,interpolateTransformSvg:()=>JYe,interpolateZoom:()=>iKe,piecewise:()=>Tk,quantize:()=>dKe});var x={};Pi.r(x),Pi.d(x,{bound:()=>ace,identifier:()=>JF,mark:()=>uce,overlap:()=>cce,render:()=>mce,viewlayout:()=>Ece});var xi={};Pi.r(xi),Pi.d(xi,{axisticks:()=>Nce,datajoin:()=>Ice,encode:()=>Oce,legendentries:()=>Rce,linkpath:()=>oP,pie:()=>sP,scale:()=>$ce,sortitems:()=>Hce,stack:()=>lP});var Wi={};Pi.r(Wi),Pi.d(Wi,{contour:()=>eL,geojson:()=>iL,geopath:()=>rL,geopoint:()=>oL,geoshape:()=>sL,graticule:()=>aL,heatmap:()=>lL,isocontour:()=>ZP,kde2d:()=>JP,projection:()=>Hde});var we={};Pi.r(we),Pi.d(we,{force:()=>dL});var _t={};Pi.r(_t),Pi.d(_t,{nest:()=>wL,pack:()=>SL,partition:()=>DL,stratify:()=>xL,tree:()=>AL,treelinks:()=>TL,treemap:()=>IL});var Rn={};Pi.r(Rn),Pi.d(Rn,{label:()=>VL});var ni={};Pi.r(ni),Pi.d(ni,{loess:()=>HL,regression:()=>qL});var Mi={};Pi.r(Mi),Pi.d(Mi,{voronoi:()=>yB});var St={};Pi.r(St),Pi.d(St,{wordcloud:()=>wB});var fe={};Pi.r(fe),Pi.d(fe,{crossfilter:()=>EB,resolvefilter:()=>SB});var lt={};Pi.r(lt),Pi.d(lt,{Bounds:()=>zs,CanvasHandler:()=>nv,CanvasRenderer:()=>sE,DATE:()=>hu,DAY:()=>cl,DAYOFYEAR:()=>Od,Dataflow:()=>w3,Debug:()=>Vne,Error:()=>WI,EventStream:()=>qb,Gradient:()=>Dle,GroupItem:()=>Pw,HOURS:()=>Ku,Handler:()=>NF,HybridHandler:()=>Uue,HybridRenderer:()=>HF,Info:()=>Une,Item:()=>Fw,MILLISECONDS:()=>Cf,MINUTES:()=>Xu,MONTH:()=>ul,Marks:()=>Qu,MultiPulse:()=>eR,None:()=>$ne,Operator:()=>Ao,Parameters:()=>zb,Pulse:()=>pp,QUARTER:()=>du,RenderType:()=>Tp,Renderer:()=>ev,ResourceLoader:()=>Ple,SECONDS:()=>Fc,SVGHandler:()=>wue,SVGRenderer:()=>VF,SVGStringRenderer:()=>$ue,Scenegraph:()=>uue,TIME_UNITS:()=>bO,Transform:()=>Et,View:()=>e1e,WEEK:()=>Zs,Warn:()=>YI,YEAR:()=>Fa,accessor:()=>cu,accessorFields:()=>ol,accessorName:()=>ys,array:()=>Un,ascending:()=>c3,bandwidthNRD:()=>aR,bin:()=>Qre,bootstrapCI:()=>Jre,boundClip:()=>Xue,boundContext:()=>W4,boundItem:()=>AF,boundMark:()=>oue,boundStroke:()=>eh,changeset:()=>hg,clampRange:()=>Jne,codegenExpression:()=>mhe,compare:()=>JI,constant:()=>ll,cumulativeLogNormal:()=>hR,cumulativeNormal:()=>Xb,cumulativeUniform:()=>vR,dayofyear:()=>Tie,debounce:()=>eO,defaultLocale:()=>UO,definition:()=>jre,densityLogNormal:()=>dR,densityNormal:()=>lR,densityUniform:()=>mR,domChild:()=>Js,domClear:()=>qc,domCreate:()=>Mp,domFind:()=>TF,dotbin:()=>eoe,error:()=>Rt,expressionFunction:()=>Is,extend:()=>cr,extent:()=>Id,extentIndex:()=>eie,falsy:()=>ap,fastmap:()=>f3,field:()=>Rc,flush:()=>tie,font:()=>Kw,fontFamily:()=>Q4,fontSize:()=>Ud,format:()=>Pb,formatLocale:()=>kb,formats:()=>YO,hasOwnProperty:()=>Gn,id:()=>K6,identity:()=>sl,inferType:()=>Mre,inferTypes:()=>Are,ingest:()=>oo,inherits:()=>Dn,inrange:()=>d3,interpolate:()=>Kk,interpolateColors:()=>Nw,interpolateRange:()=>lle,intersect:()=>Gue,intersectBoxLine:()=>P3,intersectPath:()=>hF,intersectPoint:()=>pF,intersectRule:()=>qle,isArray:()=>Pt,isBoolean:()=>lp,isDate:()=>up,isFunction:()=>ur,isIterable:()=>nie,isNumber:()=>Kr,isObject:()=>Ln,isRegExp:()=>tO,isString:()=>Bn,isTuple:()=>Ub,key:()=>nO,lerp:()=>iie,lineHeight:()=>Dp,loader:()=>Lb,locale:()=>Cre,logger:()=>KI,lruCache:()=>rie,markup:()=>UF,merge:()=>oie,mergeConfig:()=>l3,multiLineOffset:()=>DF,one:()=>a3,pad:()=>sie,panLinear:()=>Wne,panLog:()=>Yne,panPow:()=>Kne,panSymlog:()=>Xne,parse:()=>p0t,parseExpression:()=>hhe,parseSelector:()=>Gp,path:()=>cw,pathCurves:()=>tF,pathEqual:()=>Zue,pathParse:()=>R3,pathRectangle:()=>Ole,pathRender:()=>H4,pathSymbols:()=>Ile,pathTrail:()=>Rle,peek:()=>Rr,point:()=>Zw,projection:()=>GP,quantileLogNormal:()=>pR,quantileNormal:()=>Zb,quantileUniform:()=>_R,quantiles:()=>oR,quantizeInterpolator:()=>ule,quarter:()=>Zne,quartiles:()=>sR,random:()=>$c,randomInteger:()=>Qqe,randomKDE:()=>cR,randomLCG:()=>Zqe,randomLogNormal:()=>noe,randomMixture:()=>ioe,randomNormal:()=>uR,randomUniform:()=>roe,read:()=>Ore,regressionConstant:()=>yR,regressionExp:()=>soe,regressionLinear:()=>bR,regressionLoess:()=>foe,regressionLog:()=>ooe,regressionPoly:()=>loe,regressionPow:()=>aoe,regressionQuad:()=>wR,renderModule:()=>cE,repeat:()=>X6,resetDefaultLocale:()=>Hze,resetSVGClipId:()=>Fle,resetSVGDefIds:()=>xQe,responseType:()=>Ire,runtimeContext:()=>Ipe,sampleCurve:()=>Jb,sampleLogNormal:()=>fR,sampleNormal:()=>Kb,sampleUniform:()=>gR,scale:()=>Qr,sceneEqual:()=>qF,sceneFromJSON:()=>aue,scenePickVisit:()=>zw,sceneToJSON:()=>sue,sceneVisit:()=>Nf,sceneZOrder:()=>gF,scheme:()=>Xk,serializeXML:()=>Oue,setHybridRendererOptions:()=>EQe,setRandom:()=>Kqe,span:()=>Z6,splitAccessPath:()=>Nd,stringValue:()=>yn,textMetrics:()=>Zu,timeBin:()=>Yie,timeFloor:()=>Pie,timeFormatLocale:()=>_4,timeInterval:()=>g3,timeOffset:()=>$ie,timeSequence:()=>Hie,timeUnitSpecifier:()=>Aie,timeUnits:()=>EO,toBoolean:()=>iO,toDate:()=>rO,toNumber:()=>al,toSet:()=>Sf,toString:()=>oO,transform:()=>Gre,transforms:()=>E3,truncate:()=>aie,truthy:()=>kc,tupleid:()=>yi,typeParsers:()=>jO,utcFloor:()=>Lie,utcInterval:()=>m3,utcOffset:()=>Uie,utcSequence:()=>zie,utcdayofyear:()=>Oie,utcquarter:()=>Qne,utcweek:()=>Rie,version:()=>g0t,visitArray:()=>cp,week:()=>Nie,writeConfig:()=>u3,zero:()=>sp,zoomLinear:()=>XI,zoomLog:()=>ZI,zoomPow:()=>Mb,zoomSymlog:()=>QI});var zn={};Pi.r(zn),Pi.d(zn,{accessPathDepth:()=>A5,accessPathWithDatum:()=>oU,accessWithDatumToUnescapedPath:()=>mo,compile:()=>J8t,contains:()=>Ar,deepEqual:()=>fc,deleteNestedProperty:()=>IC,duplicate:()=>zi,entries:()=>Yp,every:()=>tU,fieldIntersection:()=>rU,flatAccessWithDatum:()=>age,getFirstDefined:()=>Os,hasIntersection:()=>nU,hasProperty:()=>sn,hash:()=>Nr,internalField:()=>cge,isBoolean:()=>b9,isEmpty:()=>wo,isEqual:()=>A0t,isInternalField:()=>fge,isNullOrFalse:()=>eU,isNumeric:()=>OC,keys:()=>Yt,logicalExpr:()=>w9,mergeDeep:()=>oge,never:()=>rge,normalize:()=>W2e,normalizeAngle:()=>S9,omit:()=>Cu,pick:()=>D5,prefixGenerator:()=>iU,removePathFromField:()=>M5,replaceAll:()=>nm,replacePathInField:()=>Qc,resetIdCounter:()=>N0t,setEqual:()=>sge,some:()=>x5,stringify:()=>Eo,titleCase:()=>E9,unique:()=>r0,uniqueId:()=>uge,vals:()=>$a,varName:()=>Xo,version:()=>n6t});var At={};function an(e){return"function"==typeof e}Pi.r(At),Pi.d(At,{carbong10:()=>e4t,carbong100:()=>n4t,carbong90:()=>t4t,carbonwhite:()=>J6t,dark:()=>S6t,excel:()=>C6t,fivethirtyeight:()=>M6t,ggplot2:()=>A6t,googlecharts:()=>U6t,latimes:()=>O6t,powerbi:()=>K6t,quartz:()=>R6t,urbaninstitute:()=>$6t,version:()=>i4t,vox:()=>k6t});let jt=!1;const un={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else jt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");jt=e},get useDeprecatedSynchronousErrorHandling(){return jt}};function Je(e){setTimeout(()=>{throw e},0)}const xn={closed:!0,next(e){},error(e){if(un.useDeprecatedSynchronousErrorHandling)throw e;Je(e)},complete(){}},Ri=Array.isArray||(e=>e&&"number"==typeof e.length);function dr(e){return null!==e&&"object"==typeof e}const hr=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class Fn{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof Fn)i.remove(this);else if(null!==i)for(let a=0;a<i.length;++a)i[a].remove(this);if(an(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){t=a instanceof hr?ze(a.errors):[a]}}if(Ri(s)){let a=-1,l=s.length;for(;++a<l;){const u=s[a];if(dr(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof hr?t=t.concat(ze(c.errors)):t.push(c)}}}if(t)throw new hr(t)}add(t){let i=t;if(!t)return Fn.EMPTY;switch(typeof t){case"function":i=new Fn(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof Fn)){const s=i;i=new Fn,i._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=i;if(null===r)i._parentOrParents=this;else if(r instanceof Fn){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[i]:o.push(i),i}remove(t){const i=this._subscriptions;if(i){const r=i.indexOf(t);-1!==r&&i.splice(r,1)}}}var e;function ze(e){return e.reduce((t,i)=>t.concat(i instanceof hr?i.errors:i),[])}Fn.EMPTY=((e=new Fn).closed=!0,e);const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class O extends Fn{constructor(t,i,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=xn;break;case 1:if(!t){this.destination=xn;break}if("object"==typeof t){t instanceof O?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new U(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new U(this,t,i,r)}}[D](){return this}static create(t,i,r){const o=new O(t,i,r);return o.syncErrorThrowable=!1,o}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class U extends O{constructor(t,i,r,o){super(),this._parentSubscriber=t;let s,a=this;an(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==xn&&(a=Object.create(i),an(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=r,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:i}=this;un.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:i}=this,{useDeprecatedSynchronousErrorHandling:r}=un;if(this._error)r&&i.syncErrorThrowable?(this.__tryOrSetError(i,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(i.syncErrorThrowable)r?(i.syncErrorValue=t,i.syncErrorThrown=!0):Je(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Je(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const i=()=>this._complete.call(this._context);un.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,i){try{t.call(this._context,i)}catch(r){if(this.unsubscribe(),un.useDeprecatedSynchronousErrorHandling)throw r;Je(r)}}__tryOrSetError(t,i,r){if(!un.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,r)}catch(o){return un.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(Je(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const de="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ee(e){return e}function Me(e){return 0===e.length?Ee:1===e.length?e[0]:function(i){return e.reduce((r,o)=>o(r),i)}}let $e=(()=>{class e{constructor(i){this._isScalar=!1,i&&(this._subscribe=i)}lift(i){const r=new e;return r.source=this,r.operator=i,r}subscribe(i,r,o){const{operator:s}=this,a=function ie(e,t,i){if(e){if(e instanceof O)return e;if(e[D])return e[D]()}return e||t||i?new O(e,t,i):new O(xn)}(i,r,o);if(a.add(s?s.call(a,this.source):this.source||un.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),un.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(i){try{return this._subscribe(i)}catch(r){un.useDeprecatedSynchronousErrorHandling&&(i.syncErrorThrown=!0,i.syncErrorValue=r),function Z(e){for(;e;){const{closed:t,destination:i,isStopped:r}=e;if(t||r)return!1;e=i&&i instanceof O?i:null}return!0}(i)?i.error(r):console.warn(r)}}forEach(i,r){return new(r=dt(r))((o,s)=>{let a;a=this.subscribe(l=>{try{i(l)}catch(u){s(u),a&&a.unsubscribe()}},s,o)})}_subscribe(i){const{source:r}=this;return r&&r.subscribe(i)}[de](){return this}pipe(...i){return 0===i.length?this:Me(i)(this)}toPromise(i){return new(i=dt(i))((r,o)=>{let s;this.subscribe(a=>s=a,a=>o(a),()=>r(s))})}}return e.create=t=>new e(t),e})();function dt(e){if(e||(e=un.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const kt=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class tn extends Fn{constructor(t,i){super(),this.subject=t,this.subscriber=i,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,i=t.observers;if(this.subject=null,!i||0===i.length||t.isStopped||t.closed)return;const r=i.indexOf(this.subscriber);-1!==r&&i.splice(r,1)}}class hn extends O{constructor(t){super(t),this.destination=t}}let Xe=(()=>{class e extends $e{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[D](){return new hn(this)}lift(i){const r=new Vn(this,this);return r.operator=i,r}next(i){if(this.closed)throw new kt;if(!this.isStopped){const{observers:r}=this,o=r.length,s=r.slice();for(let a=0;a<o;a++)s[a].next(i)}}error(i){if(this.closed)throw new kt;this.hasError=!0,this.thrownError=i,this.isStopped=!0;const{observers:r}=this,o=r.length,s=r.slice();for(let a=0;a<o;a++)s[a].error(i);this.observers.length=0}complete(){if(this.closed)throw new kt;this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(i){if(this.closed)throw new kt;return super._trySubscribe(i)}_subscribe(i){if(this.closed)throw new kt;return this.hasError?(i.error(this.thrownError),Fn.EMPTY):this.isStopped?(i.complete(),Fn.EMPTY):(this.observers.push(i),new tn(this,i))}asObservable(){const i=new $e;return i.source=this,i}}return e.create=(t,i)=>new Vn(t,i),e})();class Vn extends Xe{constructor(t,i){super(),this.destination=t,this.source=i}next(t){const{destination:i}=this;i&&i.next&&i.next(t)}error(t){const{destination:i}=this;i&&i.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:i}=this;return i?this.source.subscribe(t):Fn.EMPTY}}function In(e){return e&&"function"==typeof e.schedule}function en(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new _i(e,t))}}class _i{constructor(t,i){this.project=t,this.thisArg=i}call(t,i){return i.subscribe(new Vi(t,this.project,this.thisArg))}}class Vi extends O{constructor(t,i,r){super(t),this.project=i,this.count=0,this.thisArg=r||this}_next(t){let i;try{i=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}const Qt=e=>t=>{for(let i=0,r=e.length;i<r&&!t.closed;i++)t.next(e[i]);t.complete()},Ei=function Hi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Ne=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function nt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const ft=e=>{if(e&&"function"==typeof e[de])return(e=>t=>{const i=e[de]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if(Ne(e))return Qt(e);if(nt(e))return(e=>t=>(e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,Je),t))(e);if(e&&"function"==typeof e[Ei])return(e=>t=>{const i=e[Ei]();for(;;){let r;try{r=i.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t})(e);{const i=`You provided ${dr(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(i)}};function Te(e,t){return new $e(i=>{const r=new Fn;let o=0;return r.add(t.schedule(function(){o!==e.length?(i.next(e[o++]),i.closed||r.add(this.schedule())):i.complete()})),r})}function Fe(e,t){return t?function he(e,t){if(null!=e){if(function k(e){return e&&"function"==typeof e[de]}(e))return function xt(e,t){return new $e(i=>{const r=new Fn;return r.add(t.schedule(()=>{const o=e[de]();r.add(o.subscribe({next(s){r.add(t.schedule(()=>i.next(s)))},error(s){r.add(t.schedule(()=>i.error(s)))},complete(){r.add(t.schedule(()=>i.complete()))}}))})),r})}(e,t);if(nt(e))return function ke(e,t){return new $e(i=>{const r=new Fn;return r.add(t.schedule(()=>e.then(o=>{r.add(t.schedule(()=>{i.next(o),r.add(t.schedule(()=>i.complete()))}))},o=>{r.add(t.schedule(()=>i.error(o)))}))),r})}(e,t);if(Ne(e))return Te(e,t);if(function ne(e){return e&&"function"==typeof e[Ei]}(e)||"string"==typeof e)return function Gt(e,t){if(!e)throw new Error("Iterable cannot be null");return new $e(i=>{const r=new Fn;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(t.schedule(()=>{o=e[Ei](),r.add(t.schedule(function(){if(i.closed)return;let s,a;try{const l=o.next();s=l.value,a=l.done}catch(l){return void i.error(l)}a?i.complete():(i.next(s),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof $e?e:new $e(ft(e))}class Ve extends O{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ge extends O{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function tt(e,t){if(t.closed)return;if(e instanceof $e)return e.subscribe(t);let i;try{i=ft(e)(t)}catch(r){t.error(r)}return i}function Ze(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Ze((o,s)=>Fe(e(o,s)).pipe(en((a,l)=>t(o,a,s,l))),i)):("number"==typeof t&&(i=t),r=>r.lift(new it(e,i)))}class it{constructor(t,i=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=i}call(t,i){return i.subscribe(new bt(t,this.project,this.concurrent))}}class bt extends Ge{constructor(t,i,r=Number.POSITIVE_INFINITY){super(t),this.project=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let i;const r=this.index++;try{i=this.project(t,r)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(i)}_innerSub(t){const i=new Ve(this),r=this.destination;r.add(i);const o=tt(t,i);o!==i&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function We(e=Number.POSITIVE_INFINITY){return Ze(Ee,e)}function Ye(e,t){return t?Te(e,t):new $e(Qt(e))}function Ft(...e){let t=Number.POSITIVE_INFINITY,i=null,r=e[e.length-1];return In(r)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof $e?e[0]:We(t)(Ye(e,i))}function Bt(){return function(t){return t.lift(new Wt(t))}}class Wt{constructor(t){this.connectable=t}call(t,i){const{connectable:r}=this;r._refCount++;const o=new Pn(t,r),s=i.subscribe(o);return o.closed||(o.connection=r.connect()),s}}class Pn extends O{constructor(t,i){super(t),this.connectable=i}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const i=t._refCount;if(i<=0)return void(this.connection=null);if(t._refCount=i-1,i>1)return void(this.connection=null);const{connection:r}=this,o=t._connection;this.connection=null,o&&(!r||o===r)&&o.unsubscribe()}}class fn extends $e{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Fn,t.add(this.source.subscribe(new kn(this.getSubject(),this))),t.closed&&(this._connection=null,t=Fn.EMPTY)),t}refCount(){return Bt()(this)}}const Li=(()=>{const e=fn.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class kn extends hn{constructor(t,i){super(t),this.connectable=i}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const i=t._connection;t._refCount=0,t._subject=null,t._connection=null,i&&i.unsubscribe()}}}class Ai{constructor(t,i){this.subjectFactory=t,this.selector=i}call(t,i){const{selector:r}=this,o=this.subjectFactory(),s=r(o).subscribe(t);return s.add(i.subscribe(o)),s}}function Ti(){return new Xe}function zt(e){for(let t in e)if(e[t]===zt)return t;throw Error("Could not find renamed property on target object.")}function Ci(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function di(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(di).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function B(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const G=zt({__forward_ref__:zt});function z(e){return e.__forward_ref__=z,e.toString=function(){return di(this())},e}function q(e){return ue(e)?e():e}function ue(e){return"function"==typeof e&&e.hasOwnProperty(G)&&e.__forward_ref__===z}function Y(e){return e&&!!e.\u0275providers}const Pe="https://g.co/ng/security#xss";class ce extends Error{constructor(t,i){super(Ke(t,i)),this.code=t}}function Ke(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function De(e){return"string"==typeof e?e:null==e?"":String(e)}function wi(e,t){throw new ce(-201,!1)}function Yn(e,t,i,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${i} ${r} ${t} <=Actual]`))}function on(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vn(e){return{providers:e.providers||[],imports:e.imports||[]}}function g(e){return T(e,W)||T(e,He)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function V(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(mt))?e[ge]:null}const W=zt({\u0275prov:zt}),ge=zt({\u0275inj:zt}),He=zt({ngInjectableDef:zt}),mt=zt({ngInjectorDef:zt});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let vt;function Ot(e){const t=vt;return vt=e,t}function pn(e,t,i){const r=g(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:i&je.Optional?null:void 0!==t?t:void wi(di(e))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yr={},no="__NG_DI_FLAG__",Ui="ngTempTokenPath",Fo="ngTokenPath",Fs=/\n/gm,zo="\u0275",er="__source";let Cr;function io(e){const t=Cr;return Cr=e,t}function Cs(e,t=je.Default){if(void 0===Cr)throw new ce(-203,!1);return null===Cr?pn(e,void 0,t):Cr.get(e,t&je.Optional?null:void 0,t)}function qt(e,t=je.Default){return(function Nn(){return vt}()||Cs)(q(e),t)}function Qn(e,t=je.Default){return qt(e,br(t))}function br(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Co(e){const t=[];for(let i=0;i<e.length;i++){const r=q(e[i]);if(Array.isArray(r)){if(0===r.length)throw new ce(900,!1);let o,s=je.Default;for(let a=0;a<r.length;a++){const l=r[a],u=Ga(l);"number"==typeof u?-1===u?o=l.token:s|=u:o=l}t.push(qt(o,s))}else t.push(qt(r))}return t}function ja(e,t){return e[no]=t,e.prototype[no]=t,e}function Ga(e){return e[no]}function Ps(e){return{toString:e}.toString()}var ds=(()=>((ds=ds||{})[ds.OnPush=0]="OnPush",ds[ds.Default=1]="Default",ds))(),Do=(()=>(function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Do||(Do={})),Do))();const Wa={},wr=[],Ou=zt({\u0275cmp:zt}),ra=zt({\u0275dir:zt}),Al=zt({\u0275pipe:zt}),dd=zt({\u0275mod:zt}),Dr=zt({\u0275fac:zt}),qi=zt({__NG_ELEMENT_ID__:zt});let _c=0;function sr(e){return Ps(()=>{const t=d7(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ds.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Do.Emulated,id:"c"+_c++,styles:e.styles||wr,_:null,schemas:e.schemas||null,tView:null};h7(i);const r=e.dependencies;return i.directiveDefs=Bm(r,!1),i.pipeDefs=Bm(r,!0),i})}function Ds(e){return Yr(e)||oa(e)}function Tl(e){return null!==e}function mi(e){return Ps(()=>({type:e.type,bootstrap:e.bootstrap||wr,declarations:e.declarations||wr,imports:e.imports||wr,exports:e.exports||wr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function f7(e,t){if(null==e)return Wa;const i={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),i[o]=r,t&&(t[o]=s)}return i}function wn(e){return Ps(()=>{const t=d7(e);return h7(t),t})}function Ya(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Yr(e){return e[Ou]||null}function oa(e){return e[ra]||null}function Ka(e){return e[Al]||null}function Nl(e,t){const i=e[dd]||null;if(!i&&!0===t)throw new Error(`Type ${di(e)} does not have '\u0275mod' property.`);return i}function d7(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||wr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f7(e.inputs,t),outputs:f7(e.outputs)}}function h7(e){e.features?.forEach(t=>t(e))}function Bm(e,t){if(!e)return null;const i=t?Ka:Ds;return()=>("function"==typeof e?e():e).map(r=>i(r)).filter(Tl)}const af=0,Kn=1,tr=2,qo=3,Ru=4,S0=5,sa=6,Nh=7,es=8,$m=9,Um=10,ar=11,o8=12,p1=13,Vm=14,Ih=15,hs=16,b=17,C=18,X=19,le=20,Ie=21,Ue=22,ot=1,$t=2,Lt=7,dn=8,pt=9,$n=10;function Xn(e){return Array.isArray(e)&&"object"==typeof e[ot]}function ui(e){return Array.isArray(e)&&!0===e[ot]}function Ki(e){return 0!=(4&e.flags)}function pr(e){return e.componentOffset>-1}function Sn(e){return 1==(1&e.flags)}function ri(e){return!!e.template}function Tr(e){return 0!=(256&e[tr])}function nu(e,t){return e.hasOwnProperty(Dr)?e[Dr]:null}class Oh{constructor(t,i,r){this.previousValue=t,this.currentValue=i,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fr(){return Rh}function Rh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Xa),pd}function pd(){const e=cf(this),t=e?.current;if(t){const i=e.previous;if(i===Wa)e.previous=t;else for(let r in t)i[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Xa(e,t,i,r){const o=this.declaredInputs[i],s=cf(e)||function C0(e,t){return e[kh]=t}(e,{previous:Wa,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Oh(u&&u.currentValue,t,l===Wa),e[r]=t}Fr.ngInherit=!0;const kh="__ngSimpleChanges__";function cf(e){return e[kh]||null}const iu=function(e,t,i){},az="svg";function Da(e){for(;Array.isArray(e);)e=e[af];return e}function p7(e,t){return Da(t[e])}function Fu(e,t){return Da(t[e.index])}function uz(e,t){return e.data[t]}function Hm(e,t){return e[t]}function ru(e,t){const i=t[e];return Xn(i)?i:i[af]}function g7(e){return 64==(64&e[tr])}function Fh(e,t){return null==t?null:e[t]}function cz(e){e[C]=0}function sx(e,t){e[S0]+=t;let i=e,r=e[qo];for(;null!==r&&(1===t&&1===i[S0]||-1===t&&0===i[S0]);)r[S0]+=t,i=r,r=r[qo]}const Xi={lFrame:bz(null),bindingsEnabled:!0};function dz(){return Xi.bindingsEnabled}function Xt(){return Xi.lFrame.lView}function Pr(){return Xi.lFrame.tView}function hi(e){return Xi.lFrame.contextLView=e,e[es]}function pi(e){return Xi.lFrame.contextLView=null,e}function xa(){let e=hz();for(;null!==e&&64===e.type;)e=e.parent;return e}function hz(){return Xi.lFrame.currentTNode}function a8(){const e=Xi.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function gd(e,t){const i=Xi.lFrame;i.currentTNode=e,i.isParent=t}function ax(){return Xi.lFrame.isParent}function lx(){Xi.lFrame.isParent=!1}function Il(){const e=Xi.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function x0(){return Xi.lFrame.bindingIndex}function zm(){return Xi.lFrame.bindingIndex++}function M0(e){const t=Xi.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function mz(e){Xi.lFrame.inI18n=e}function T6e(e,t){const i=Xi.lFrame;i.bindingIndex=i.bindingRootIndex=e,ux(t)}function ux(e){Xi.lFrame.currentDirectiveIndex=e}function vz(){return Xi.lFrame.currentQueryIndex}function fx(e){Xi.lFrame.currentQueryIndex=e}function I6e(e){const t=e[Kn];return 2===t.type?t.declTNode:1===t.type?e[sa]:null}function _z(e,t,i){if(i&je.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||i&je.Host||(o=I6e(s),null===o||(s=s[Ih],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Xi.lFrame=yz();return r.currentTNode=t,r.lView=e,!0}function dx(e){const t=yz(),i=e[Kn];Xi.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function yz(){const e=Xi.lFrame,t=null===e?null:e.child;return null===t?bz(e):t}function bz(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wz(){const e=Xi.lFrame;return Xi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ez=wz;function hx(){const e=wz();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ol(){return Xi.lFrame.selectedIndex}function g1(e){Xi.lFrame.selectedIndex=e}function rs(){const e=Xi.lFrame;return uz(e.tView,e.selectedIndex)}function m7(){Xi.lFrame.currentNamespace=az}function v7(e,t){for(let i=t.directiveStart,r=t.directiveEnd;i<r;i++){const s=e.data[i].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=s;a&&(e.contentHooks??(e.contentHooks=[])).push(-i,a),l&&((e.contentHooks??(e.contentHooks=[])).push(i,l),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(i,l)),u&&(e.viewHooks??(e.viewHooks=[])).push(-i,u),c&&((e.viewHooks??(e.viewHooks=[])).push(i,c),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(i,c)),null!=f&&(e.destroyHooks??(e.destroyHooks=[])).push(i,f)}}function _7(e,t,i){Sz(e,t,3,i)}function y7(e,t,i,r){(3&e[tr])===i&&Sz(e,t,i,r)}function px(e,t){let i=e[tr];(3&i)===t&&(i&=2047,i+=1,e[tr]=i)}function Sz(e,t,i,r){const s=r??-1,a=t.length-1;let l=0;for(let u=void 0!==r?65535&e[C]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=r&&l>=r)break}else t[u]<0&&(e[C]+=65536),(l<s||-1==s)&&($6e(e,i,t,u),e[C]=(4294901760&e[C])+u+2),u++}function $6e(e,t,i,r){const o=i[r]<0,s=i[r+1],l=e[o?-i[r]:i[r]];if(o){if(e[tr]>>11<e[C]>>16&&(3&e[tr])===t){e[tr]+=2048,iu(4,l,s);try{s.call(l)}finally{iu(5,l,s)}}}else{iu(4,l,s);try{s.call(l)}finally{iu(5,l,s)}}}const qm=-1;class l8{constructor(t,i,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=r}}function mx(e,t,i){let r=0;for(;r<i.length;){const o=i[r];if("number"==typeof o){if(0!==o)break;r++;const s=i[r++],a=i[r++],l=i[r++];e.setAttribute(t,a,l,s)}else{const s=o,a=i[++r];Dz(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),r++}}return r}function Cz(e){return 3===e||4===e||6===e}function Dz(e){return 64===e.charCodeAt(0)}function u8(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?i=o:0===i||xz(e,i,o,null,-1===i||2===i?t[++r]:null)}}return e}function xz(e,t,i,r,o){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===i){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,i),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}function Mz(e){return e!==qm}function b7(e){return 32767&e}function w7(e,t){let i=function z6e(e){return e>>16}(e),r=t;for(;i>0;)r=r[Ih],i--;return r}let vx=!0;function E7(e){const t=vx;return vx=e,t}const Az=255,Tz=5;let q6e=0;const md={};function S7(e,t){const i=Nz(e,t);if(-1!==i)return i;const r=t[Kn];r.firstCreatePass&&(e.injectorIndex=t.length,_x(r.data,e),_x(t,null),_x(r.blueprint,null));const o=yx(e,t),s=e.injectorIndex;if(Mz(o)){const a=b7(o),l=w7(o,t),u=l[Kn].data;for(let c=0;c<8;c++)t[s+c]=l[a+c]|u[a+c]}return t[s+8]=o,s}function _x(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Nz(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function yx(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,r=null,o=t;for(;null!==o;){if(r=Lz(o),null===r)return qm;if(i++,o=o[Ih],-1!==r.injectorIndex)return r.injectorIndex|i<<16}return qm}function bx(e,t,i){!function j6e(e,t,i){let r;"string"==typeof i?r=i.charCodeAt(0)||0:i.hasOwnProperty(qi)&&(r=i[qi]),null==r&&(r=i[qi]=q6e++);const o=r&Az;t.data[e+(o>>Tz)]|=1<<o}(e,t,i)}function Iz(e,t,i){if(i&je.Optional||void 0!==e)return e;wi()}function Oz(e,t,i,r){if(i&je.Optional&&void 0===r&&(r=null),!(i&(je.Self|je.Host))){const o=e[$m],s=Ot(void 0);try{return o?o.get(t,r,i&je.Optional):pn(t,r,i&je.Optional)}finally{Ot(s)}}return Iz(r,0,i)}function Rz(e,t,i,r=je.Default,o){if(null!==e){if(1024&t[tr]){const a=function X6e(e,t,i,r,o){let s=e,a=t;for(;null!==s&&null!==a&&1024&a[tr]&&!(256&a[tr]);){const l=kz(s,a,i,r|je.Self,md);if(l!==md)return l;let u=s.parent;if(!u){const c=a[Ie];if(c){const f=c.get(i,md,r);if(f!==md)return f}u=Lz(a),a=a[Ih]}s=u}return o}(e,t,i,r,md);if(a!==md)return a}const s=kz(e,t,i,r,md);if(s!==md)return s}return Oz(t,i,r,o)}function kz(e,t,i,r,o){const s=function Y6e(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qi)?e[qi]:void 0;return"number"==typeof t?t>=0?t&Az:K6e:t}(i);if("function"==typeof s){if(!_z(t,e,r))return r&je.Host?Iz(o,0,r):Oz(t,i,r,o);try{const a=s(r);if(null!=a||r&je.Optional)return a;wi()}finally{Ez()}}else if("number"==typeof s){let a=null,l=Nz(e,t),u=qm,c=r&je.Host?t[hs][sa]:null;for((-1===l||r&je.SkipSelf)&&(u=-1===l?yx(e,t):t[l+8],u!==qm&&Pz(r,!1)?(a=t[Kn],l=b7(u),t=w7(u,t)):l=-1);-1!==l;){const f=t[Kn];if(Fz(s,l,f.data)){const d=W6e(l,t,i,a,r,c);if(d!==md)return d}u=t[l+8],u!==qm&&Pz(r,t[Kn].data[l+8]===c)&&Fz(s,l,t)?(a=f,l=b7(u),t=w7(u,t)):l=-1}}return o}function W6e(e,t,i,r,o,s){const a=t[Kn],l=a.data[e+8],f=C7(l,a,i,null==r?pr(l)&&vx:r!=a&&0!=(3&l.type),o&je.Host&&s===l);return null!==f?m1(t,a,f,l):md}function C7(e,t,i,r,o){const s=e.providerIndexes,a=t.data,l=1048575&s,u=e.directiveStart,f=s>>20,h=o?l+f:e.directiveEnd;for(let p=r?l:l+f;p<h;p++){const m=a[p];if(p<u&&i===m||p>=u&&m.type===i)return p}if(o){const p=a[u];if(p&&ri(p)&&p.type===i)return u}return null}function m1(e,t,i,r){let o=e[i];const s=t.data;if(function U6e(e){return e instanceof l8}(o)){const a=o;a.resolving&&function Mt(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ce(-200,`Circular dependency in DI detected for ${e}${i}`)}(function rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():De(e)}(s[i]));const l=E7(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Ot(a.injectImpl):null;_z(e,r,je.Default);try{o=e[i]=a.factory(void 0,s,e,r),t.firstCreatePass&&i>=r.directiveStart&&function B6e(e,t,i){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const a=Rh(t);(i.preOrderHooks??(i.preOrderHooks=[])).push(e,a),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(e,a)}o&&(i.preOrderHooks??(i.preOrderHooks=[])).push(0-e,o),s&&((i.preOrderHooks??(i.preOrderHooks=[])).push(e,s),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(e,s))}(i,s[i],t)}finally{null!==u&&Ot(u),E7(l),a.resolving=!1,Ez()}}return o}function Fz(e,t,i){return!!(i[t+(e>>Tz)]&1<<e)}function Pz(e,t){return!(e&je.Self||e&je.Host&&t)}class jm{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,r){return Rz(this._tNode,this._lView,t,br(r),i)}}function K6e(){return new jm(xa(),Xt())}function Po(e){return Ps(()=>{const t=e.prototype.constructor,i=t[Dr]||wx(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[Dr]||wx(o);if(s&&s!==i)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function wx(e){return ue(e)?()=>{const t=wx(q(e));return t&&t()}:nu(e)}function Lz(e){const t=e[Kn],i=t.type;return 2===i?t.declTNode:1===i?e[sa]:null}const Wm="__parameters__";function Km(e,t,i){return Ps(()=>{const r=function Ex(e){return function(...i){if(e){const r=e(...i);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return l.annotation=a,l;function l(u,c,f){const d=u.hasOwnProperty(Wm)?u[Wm]:Object.defineProperty(u,Wm,{value:[]})[Wm];for(;d.length<=f;)d.push(null);return(d[f]=d[f]||[]).push(a),u}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class si{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=on({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function v1(e,t){e.forEach(i=>Array.isArray(i)?v1(i,t):t(i))}function $z(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function D7(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function d8(e,t){const i=[];for(let r=0;r<e;r++)i.push(t);return i}function Pu(e,t,i){let r=Xm(e,t);return r>=0?e[1|r]=i:(r=~r,function e4e(e,t,i,r){let o=e.length;if(o==t)e.push(i,r);else if(1===o)e.push(r,e[0]),e[0]=i;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=i,e[t+1]=r}}(e,r,t,i)),r}function Cx(e,t){const i=Xm(e,t);if(i>=0)return e[1|i]}function Xm(e,t){return function Uz(e,t,i){let r=0,o=e.length>>i;for(;o!==r;){const s=r+(o-r>>1),a=e[s<<i];if(t===a)return s<<i;a>t?o=s:r=s+1}return~(o<<i)}(e,t,1)}const h8=ja(Km("Optional"),8),p8=ja(Km("SkipSelf"),4);var ou=(()=>((ou=ou||{})[ou.Important=1]="Important",ou[ou.DashCase=2]="DashCase",ou))();const y4e=/^>|^->|<!--|-->|--!>|<!-$/g,b4e=/(<|>)/,w4e="\u200b$1\u200b";const Nx=new Map;let E4e=0;const Ox="__ngContext__";function Za(e,t){Xn(t)?(e[Ox]=t[le],function C4e(e){Nx.set(e[le],e)}(t)):e[Ox]=t}let Rx;function kx(e,t){return Rx(e,t)}function _8(e){const t=e[qo];return ui(t)?t[qo]:t}function Fx(e){return sq(e[p1])}function Px(e){return sq(e[Ru])}function sq(e){for(;null!==e&&!ui(e);)e=e[Ru];return e}function Qm(e,t,i,r,o){if(null!=r){let s,a=!1;ui(r)?s=r:Xn(r)&&(a=!0,r=r[af]);const l=Da(r);0===e&&null!==i?null==o?dq(t,i,l):_1(t,i,l,o||null,!0):1===e&&null!==i?_1(t,i,l,o||null,!0):2===e?zx(t,l,a):3===e&&t.destroyNode(l),null!=s&&function W4e(e,t,i,r,o){const s=i[Lt];s!==Da(i)&&Qm(t,e,r,s,o);for(let l=$n;l<i.length;l++){const u=i[l];y8(u[Kn],u,e,t,r,s)}}(t,e,s,i,o)}}function Lx(e,t){return e.createText(t)}function aq(e,t,i){e.setValue(t,i)}function F4e(e,t){return e.createComment(function Qz(e){return e.replace(y4e,t=>t.replace(b4e,w4e))}(t))}function Bx(e,t,i){return e.createElement(t,i)}function lq(e,t){const i=e[pt],r=i.indexOf(t),o=t[qo];512&t[tr]&&(t[tr]&=-513,sx(o,-1)),i.splice(r,1)}function $x(e,t){if(e.length<=$n)return;const i=$n+t,r=e[i];if(r){const o=r[b];null!==o&&o!==e&&lq(o,r),t>0&&(e[i-1][Ru]=r[Ru]);const s=D7(e,$n+t);!function P4e(e,t){y8(e,t,t[ar],2,null,null),t[af]=null,t[sa]=null}(r[Kn],r);const a=s[X];null!==a&&a.detachView(s[Kn]),r[qo]=null,r[Ru]=null,r[tr]&=-65}return r}function uq(e,t){if(!(128&t[tr])){const i=t[ar];i.destroyNode&&y8(e,t,i,3,null,null),function $4e(e){let t=e[p1];if(!t)return Ux(e[Kn],e);for(;t;){let i=null;if(Xn(t))i=t[p1];else{const r=t[$n];r&&(i=r)}if(!i){for(;t&&!t[Ru]&&t!==e;)Xn(t)&&Ux(t[Kn],t),t=t[qo];null===t&&(t=e),Xn(t)&&Ux(t[Kn],t),i=t&&t[Ru]}t=i}}(t)}}function Ux(e,t){if(!(128&t[tr])){t[tr]&=-65,t[tr]|=128,function z4e(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let r=0;r<i.length;r+=2){const o=t[i[r]];if(!(o instanceof l8)){const s=i[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=o[s[a]],u=s[a+1];iu(4,l,u);try{u.call(l)}finally{iu(5,l,u)}}else{iu(4,o,s);try{s.call(o)}finally{iu(5,o,s)}}}}}(e,t),function H4e(e,t){const i=e.cleanup,r=t[Nh];let o=-1;if(null!==i)for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const a=i[s+3];a>=0?r[o=a]():r[o=-a].unsubscribe(),s+=2}else{const a=r[o=i[s+1]];i[s].call(a)}if(null!==r){for(let s=o+1;s<r.length;s++)(0,r[s])();t[Nh]=null}}(e,t),1===t[Kn].type&&t[ar].destroy();const i=t[b];if(null!==i&&ui(t[qo])){i!==t[qo]&&lq(i,t);const r=t[X];null!==r&&r.detachView(e)}!function D4e(e){Nx.delete(e[le])}(t)}}function cq(e,t,i){return fq(e,t.parent,i)}function fq(e,t,i){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return i[af];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Do.None||s===Do.Emulated)return null}return Fu(r,i)}}function _1(e,t,i,r,o){e.insertBefore(t,i,r,o)}function dq(e,t,i){e.appendChild(t,i)}function hq(e,t,i,r,o){null!==r?_1(e,t,i,r,o):dq(e,t,i)}function T7(e,t){return e.parentNode(t)}function pq(e,t,i){return mq(e,t,i)}function gq(e,t,i){return 40&e.type?Fu(e,i):null}let Vx,O7,Gx,mq=gq;function vq(e,t){mq=e,Vx=t}function N7(e,t,i,r){const o=cq(e,r,t),s=t[ar],l=pq(r.parent||t[sa],r,t);if(null!=o)if(Array.isArray(i))for(let u=0;u<i.length;u++)hq(s,o,i[u],l,!1);else hq(s,o,i,l,!1);void 0!==Vx&&Vx(s,r,t,i,o)}function I7(e,t){if(null!==t){const i=t.type;if(3&i)return Fu(t,e);if(4&i)return Hx(-1,e[t.index]);if(8&i){const r=t.child;if(null!==r)return I7(e,r);{const o=e[t.index];return ui(o)?Hx(-1,o):Da(o)}}if(32&i)return kx(t,e)()||Da(e[t.index]);{const r=_q(e,t);return null!==r?Array.isArray(r)?r[0]:I7(_8(e[hs]),r):I7(e,t.next)}}return null}function _q(e,t){return null!==t?e[hs][sa].projection[t.projection]:null}function Hx(e,t){const i=$n+e+1;if(i<t.length){const r=t[i],o=r[Kn].firstChild;if(null!==o)return I7(r,o)}return t[Lt]}function zx(e,t,i){const r=T7(e,t);r&&function q4e(e,t,i,r){e.removeChild(t,i,r)}(e,r,t,i)}function qx(e,t,i,r,o,s,a){for(;null!=i;){const l=r[i.index],u=i.type;if(a&&0===t&&(l&&Za(Da(l),r),i.flags|=2),32!=(32&i.flags))if(8&u)qx(e,t,i.child,r,o,s,!1),Qm(t,e,o,l,s);else if(32&u){const c=kx(i,r);let f;for(;f=c();)Qm(t,e,o,f,s);Qm(t,e,o,l,s)}else 16&u?yq(e,t,r,i,o,s):Qm(t,e,o,l,s);i=a?i.projectionNext:i.next}}function y8(e,t,i,r,o,s){qx(i,r,e.firstChild,t,o,s,!1)}function yq(e,t,i,r,o,s){const a=i[hs],u=a[sa].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qm(t,e,o,u[c],s);else qx(e,t,u,a[qo],o,s,!0)}function bq(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function wq(e,t,i){const{mergedAttrs:r,classes:o,styles:s}=i;null!==r&&mx(e,t,r),null!==o&&bq(e,t,o),null!==s&&function K4e(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Jm(e){return function jx(){if(void 0===O7&&(O7=null,bn.trustedTypes))try{O7=bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return O7}()?.createHTML(e)||e}class xq{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pe})`}}function Lh(e){return e instanceof xq?e.changingThisBreaksApplicationSecurity:e}class sve{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(Jm(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.removeChild(i.firstChild),i)}catch{return null}}}class ave{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=Jm(t),i}}const uve=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yx(e){return(e=String(e)).match(uve)?e:"unsafe:"+e}function A0(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function w8(...e){const t={};for(const i of e)for(const r in i)i.hasOwnProperty(r)&&(t[r]=!0);return t}const Aq=A0("area,br,col,hr,img,wbr"),Tq=A0("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nq=A0("rp,rt"),Kx=w8(Aq,w8(Tq,A0("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w8(Nq,A0("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),w8(Nq,Tq)),Xx=A0("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iq=w8(Xx,A0("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),A0("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function E8(e){const t=function S8(){const e=Xt();return e&&e[o8]}();return t?t.sanitize(Bs.URL,e)||"":function b8(e,t){const i=function ove(e){return e instanceof xq&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${Pe})`)}return i===t}(e,"URL")?Lh(e):Yx(De(e))}const F7=new si("ENVIRONMENT_INITIALIZER"),Fq=new si("INJECTOR",-1),Pq=new si("INJECTOR_DEF_TYPES");class Lq{get(t,i=yr){if(i===yr){const r=new Error(`NullInjectorError: No provider for ${di(t)}!`);throw r.name="NullInjectorError",r}return i}}function Sve(...e){return{\u0275providers:Bq(0,e),\u0275fromNgModule:!0}}function Bq(e,...t){const i=[],r=new Set;let o;return v1(t,s=>{const a=s;Qx(a,i,[],r)&&(o||(o=[]),o.push(a))}),void 0!==o&&$q(o,i),i}function $q(e,t){for(let i=0;i<e.length;i++){const{providers:o}=e[i];Jx(o,s=>{t.push(s)})}}function Qx(e,t,i,r){if(!(e=q(e)))return!1;let o=null,s=V(e);const a=!s&&Yr(e);if(s||a){if(a&&!a.standalone)return!1;o=e}else{const u=e.ngModule;if(s=V(u),!s)return!1;o=u}const l=r.has(o);if(a){if(l)return!1;if(r.add(o),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of u)Qx(c,t,i,r)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let c;r.add(o);try{v1(s.imports,f=>{Qx(f,t,i,r)&&(c||(c=[]),c.push(f))})}finally{}void 0!==c&&$q(c,t)}if(!l){const c=nu(o)||(()=>new o);t.push({provide:o,useFactory:c,deps:wr},{provide:Pq,useValue:o,multi:!0},{provide:F7,useValue:()=>qt(o),multi:!0})}const u=s.providers;null==u||l||Jx(u,f=>{t.push(f)})}}return o!==e&&void 0!==e.providers}function Jx(e,t){for(let i of e)Y(i)&&(i=i.\u0275providers),Array.isArray(i)?Jx(i,t):t(i)}const Cve=zt({provide:String,useValue:zt});function eM(e){return null!==e&&"object"==typeof e&&Cve in e}function y1(e){return"function"==typeof e}const tM=new si("Set Injector scope."),P7={},xve={};let nM;function L7(){return void 0===nM&&(nM=new Lq),nM}class wc{}class Hq extends wc{get destroyed(){return this._destroyed}constructor(t,i,r,o){super(),this.parent=i,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rM(t,a=>this.processProvider(a)),this.records.set(Fq,e2(void 0,this)),o.has("environment")&&this.records.set(wc,e2(void 0,this));const s=this.records.get(tM);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Pq.multi,wr,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const i=io(this),r=Ot(void 0);try{return t()}finally{io(i),Ot(r)}}get(t,i=yr,r=je.Default){this.assertNotDestroyed(),r=br(r);const o=io(this),s=Ot(void 0);try{if(!(r&je.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function Ive(e){return"function"==typeof e||"object"==typeof e&&e instanceof si}(t)&&g(t);l=u&&this.injectableDefInScope(u)?e2(iM(t),P7):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&je.Self?L7():this.parent).get(t,i=r&je.Optional&&i===yr?null:i)}catch(a){if("NullInjectorError"===a.name){if((a[Ui]=a[Ui]||[]).unshift(di(t)),o)throw a;return function eu(e,t,i,r){const o=e[Ui];throw t[er]&&o.unshift(t[er]),e.message=function vc(e,t,i,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==zo?e.slice(2):e;let o=di(t);if(Array.isArray(t))o=t.map(di).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):di(l)))}o=`{${s.join(", ")}}`}return`${i}${r?"("+r+")":""}[${o}]: ${e.replace(Fs,"\n  ")}`}("\n"+e.message,o,i,r),e[Fo]=o,e[Ui]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Ot(s),io(o)}}resolveInjectorInitializers(){const t=io(this),i=Ot(void 0);try{const r=this.get(F7.multi,wr,je.Self);for(const o of r)o()}finally{io(t),Ot(i)}}toString(){const t=[],i=this.records;for(const r of i.keys())t.push(di(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(t){let i=y1(t=q(t))?t:q(t&&t.provide);const r=function Ave(e){return eM(e)?e2(void 0,e.useValue):e2(zq(e),P7)}(t);if(y1(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=e2(void 0,P7,!0),o.factory=()=>Co(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}hydrate(t,i){return i.value===P7&&(i.value=xve,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Nve(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=q(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function iM(e){const t=g(e),i=null!==t?t.factory:nu(e);if(null!==i)return i;if(e instanceof si)throw new ce(204,!1);if(e instanceof Function)return function Mve(e){const t=e.length;if(t>0)throw d8(t,"?"),new ce(204,!1);const i=function L(e){return e&&(e[W]||e[He])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new ce(204,!1)}function zq(e,t,i){let r;if(y1(e)){const o=q(e);return nu(o)||iM(o)}if(eM(e))r=()=>q(e.useValue);else if(function Vq(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Co(e.deps||[]));else if(function Uq(e){return!(!e||!e.useExisting)}(e))r=()=>qt(q(e.useExisting));else{const o=q(e&&(e.useClass||e.provide));if(!function Tve(e){return!!e.deps}(e))return nu(o)||iM(o);r=()=>new o(...Co(e.deps))}return r}function e2(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function rM(e,t){for(const i of e)Array.isArray(i)?rM(i,t):i&&Y(i)?rM(i.\u0275providers,t):t(i)}class Ove{}class qq{}class kve{resolveComponentFactory(t){throw function Rve(e){const t=Error(`No component factory found for ${di(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let C8=(()=>{class e{}return e.NULL=new kve,e})();function Fve(){return t2(xa(),Xt())}function t2(e,t){return new lr(Fu(e,t))}let lr=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=Fve,e})();function Pve(e){return e instanceof lr?e.nativeElement:e}class n2{}let aa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Lve(){const e=Xt(),i=ru(xa().index,e);return(Xn(i)?i:e)[ar]}(),e})(),Bve=(()=>{class e{}return e.\u0275prov=on({token:e,providedIn:"root",factory:()=>null}),e})();class D8{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $ve=new D8("15.2.10"),oM={},sM="ngOriginalError";function aM(e){return e[sM]}class i2{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&aM(t);for(;i&&aM(i);)i=aM(i);return i||null}}function Gq(e){return e.ownerDocument}function T0(e){return e instanceof Function?e():e}function Yq(e,t,i){let r=e.length;for(;;){const o=e.indexOf(t,i);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}i=o+1}}const Kq="ng-template";function Kve(e,t,i){let r=0,o=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&o){const a=e[r++];if(i&&"class"===s&&-1!==Yq(a.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(o=!1)}}return!1}function Xq(e){return 4===e.type&&e.value!==Kq}function Xve(e,t,i){return t===(4!==e.type||i?e.value:Kq)}function Zve(e,t,i){let r=4;const o=e.attrs||[],s=function e9e(e){for(let t=0;t<e.length;t++)if(Cz(e[t]))return t;return e.length}(o);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Xve(e,u,i)||""===u&&1===t.length){if(ff(r))return!1;a=!0}}else{const c=8&r?u:t[++l];if(8&r&&null!==e.attrs){if(!Kve(e.attrs,c,i)){if(ff(r))return!1;a=!0}continue}const d=Qve(8&r?"class":u,o,Xq(e),i);if(-1===d){if(ff(r))return!1;a=!0;continue}if(""!==c){let h;h=d>s?"":o[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==Yq(p,c,0)||2&r&&c!==h){if(ff(r))return!1;a=!0}}}}else{if(!a&&!ff(r)&&!ff(u))return!1;if(a&&ff(u))continue;a=!1,r=u|1&r}}return ff(r)||a}function ff(e){return 0==(1&e)}function Qve(e,t,i,r){if(null===t)return-1;let o=0;if(r||!i){let s=!1;for(;o<t.length;){const a=t[o];if(a===e)return o;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++o];for(;"string"==typeof l;)l=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=s?1:2}return-1}return function t9e(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const r=e[i];if("number"==typeof r)return-1;if(r===t)return i;i++}return-1}(t,e)}function Zq(e,t,i=!1){for(let r=0;r<t.length;r++)if(Zve(e,t[r],i))return!0;return!1}function n9e(e,t){e:for(let i=0;i<t.length;i++){const r=t[i];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Qq(e,t){return e?":not("+t.trim()+")":t}function i9e(e){let t=e[0],i=1,r=2,o="",s=!1;for(;i<e.length;){let a=e[i];if("string"==typeof a)if(2&r){const l=e[++i];o+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!ff(a)&&(t+=Qq(s,o),o=""),r=a,s=s||!ff(r);i++}return""!==o&&(t+=Qq(s,o)),t}const Zi={};function yt(e){Jq(Pr(),Xt(),Ol()+e,!1)}function Jq(e,t,i,r){if(!r)if(3==(3&t[tr])){const s=e.preOrderCheckHooks;null!==s&&_7(t,s,i)}else{const s=e.preOrderHooks;null!==s&&y7(t,s,0,i)}g1(i)}function ij(e,t=null,i=null,r){const o=rj(e,t,i,r);return o.resolveInjectorInitializers(),o}function rj(e,t=null,i=null,r,o=new Set){const s=[i||wr,Sve(e)];return r=r||("object"==typeof e?void 0:di(e)),new Hq(s,t||L7(),r||null,o)}let au=(()=>{class e{static create(i,r){if(Array.isArray(i))return ij({name:""},r,i,"");{const o=i.name??"";return ij({name:o},i.parent,i.providers,o)}}}return e.THROW_IF_NOT_FOUND=yr,e.NULL=new Lq,e.\u0275prov=on({token:e,providedIn:"any",factory:()=>qt(Fq)}),e.__NG_ELEMENT_ID__=-1,e})();function Ae(e,t=je.Default){const i=Xt();return null===i?qt(e,t):Rz(xa(),i,q(e),t)}function dj(e,t){const i=e.contentQueries;if(null!==i)for(let r=0;r<i.length;r+=2){const s=i[r+1];if(-1!==s){const a=e.data[s];fx(i[r]),a.contentQueries(2,t[s],s)}}}function $7(e,t,i,r,o,s,a,l,u,c,f){const d=t.blueprint.slice();return d[af]=o,d[tr]=76|r,(null!==f||e&&1024&e[tr])&&(d[tr]|=1024),cz(d),d[qo]=d[Ih]=e,d[es]=i,d[Um]=a||e&&e[Um],d[ar]=l||e&&e[ar],d[o8]=u||e&&e[o8]||null,d[$m]=c||e&&e[$m]||null,d[sa]=s,d[le]=function S4e(){return E4e++}(),d[Ie]=f,d[hs]=2==t.type?e[hs]:d,d}function s2(e,t,i,r,o){let s=e.data[t];if(null===s)s=dM(e,t,i,r,o),function A6e(){return Xi.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=r,s.attrs=o;const a=a8();s.injectorIndex=null===a?-1:a.injectorIndex}return gd(s,!0),s}function dM(e,t,i,r,o){const s=hz(),a=ax(),u=e.data[t]=function T9e(e,t,i,r,o,s){return{type:i,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,i,t,r,o);return null===e.firstChild&&(e.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}function x8(e,t,i,r){if(0===i)return-1;const o=t.length;for(let s=0;s<i;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function hM(e,t,i){dx(t);try{const r=e.viewQuery;null!==r&&EM(1,r,i);const o=e.template;null!==o&&hj(e,t,o,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dj(e,t),e.staticViewQueries&&EM(2,e.viewQuery,i);const s=e.components;null!==s&&function x9e(e,t){for(let i=0;i<t.length;i++)K9e(e,t[i])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[tr]&=-5,hx()}}function U7(e,t,i,r){const o=t[tr];if(128!=(128&o)){dx(t);try{cz(t),function gz(e){return Xi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&hj(e,t,i,2,r);const a=3==(3&o);if(a){const c=e.preOrderCheckHooks;null!==c&&_7(t,c,null)}else{const c=e.preOrderHooks;null!==c&&y7(t,c,0,null),px(t,0)}if(function W9e(e){for(let t=Fx(e);null!==t;t=Px(t)){if(!t[$t])continue;const i=t[pt];for(let r=0;r<i.length;r++){const o=i[r];512&o[tr]||sx(o[qo],1),o[tr]|=512}}}(t),function G9e(e){for(let t=Fx(e);null!==t;t=Px(t))for(let i=$n;i<t.length;i++){const r=t[i],o=r[Kn];g7(r)&&U7(o,r,o.template,r[es])}}(t),null!==e.contentQueries&&dj(e,t),a){const c=e.contentCheckHooks;null!==c&&_7(t,c)}else{const c=e.contentHooks;null!==c&&y7(t,c,1),px(t,1)}!function C9e(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let r=0;r<i.length;r++){const o=i[r];if(o<0)g1(~o);else{const s=o,a=i[++r],l=i[++r];T6e(a,s),l(2,t[s])}}}finally{g1(-1)}}(e,t);const l=e.components;null!==l&&function D9e(e,t){for(let i=0;i<t.length;i++)Y9e(e,t[i])}(t,l);const u=e.viewQuery;if(null!==u&&EM(2,u,r),a){const c=e.viewCheckHooks;null!==c&&_7(t,c)}else{const c=e.viewHooks;null!==c&&y7(t,c,2),px(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[tr]&=-41,512&t[tr]&&(t[tr]&=-513,sx(t[qo],-1))}finally{hx()}}}function hj(e,t,i,r,o){const s=Ol(),a=2&r;try{g1(-1),a&&t.length>Ue&&Jq(e,t,Ue,!1),iu(a?2:0,o),i(r,o)}finally{g1(s),iu(a?3:1,o)}}function pM(e,t,i){if(Ki(t)){const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,i[s],s)}}}function gM(e,t,i){dz()&&(function P9e(e,t,i,r){const o=i.directiveStart,s=i.directiveEnd;pr(i)&&function z9e(e,t,i){const r=Fu(t,e),o=pj(i),s=e[Um],a=V7(e,$7(e,o,null,i.onPush?32:16,r,t,s,s.createRenderer(r,i),null,null,null));e[t.index]=a}(t,i,e.data[o+i.componentOffset]),e.firstCreatePass||S7(i,t),Za(r,t);const a=i.initialInputs;for(let l=o;l<s;l++){const u=e.data[l],c=m1(t,e,l,i);Za(c,t),null!==a&&q9e(0,l-o,c,u,0,a),ri(u)&&(ru(i.index,t)[es]=m1(t,e,l,i))}}(e,t,i,Fu(i,t)),64==(64&i.flags)&&yj(e,t,i))}function mM(e,t,i=Fu){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],l=-1===a?i(t,e):e[a];e[o++]=l}}}function pj(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=vM(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function vM(e,t,i,r,o,s,a,l,u,c){const f=Ue+r,d=f+o,h=function M9e(e,t){const i=[];for(let r=0;r<t;r++)i.push(r<e?null:Zi);return i}(f,d),p="function"==typeof c?c():c;return h[Kn]={type:e,blueprint:h,template:i,queries:null,viewQuery:l,declTNode:t,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function gj(e,t,i,r){const o=wj(t);null===i?o.push(r):(o.push(i),e.firstCreatePass&&Ej(e).push(r,o.length-1))}function mj(e,t,i,r){for(let o in e)if(e.hasOwnProperty(o)){i=null===i?{}:i;const s=e[o];null===r?vj(i,t,o,s):r.hasOwnProperty(o)&&vj(i,t,r[o],s)}return i}function vj(e,t,i,r){e.hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}function Lu(e,t,i,r,o,s,a,l){const u=Fu(t,i);let f,c=t.inputs;!l&&null!=c&&(f=c[r])?(SM(e,i,f,r,o),pr(t)&&function O9e(e,t){const i=ru(t,e);16&i[tr]||(i[tr]|=32)}(i,t.index)):3&t.type&&(r=function I9e(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=a?a(o,t.value||"",r):o,s.setProperty(u,r,o))}function _M(e,t,i,r){if(dz()){const o=null===r?null:{"":-1},s=function B9e(e,t){const i=e.directiveRegistry;let r=null,o=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];if(Zq(t,a.selectors,!1))if(r||(r=[]),ri(a))if(null!==a.findHostDirectiveDefs){const l=[];o=o||new Map,a.findHostDirectiveDefs(a,l,o),r.unshift(...l,a),yM(e,t,l.length)}else r.unshift(a),yM(e,t,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,r,o),r.push(a)}return null===r?null:[r,o]}(e,i);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&_j(e,t,i,a,o,l),o&&function $9e(e,t,i){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=i[t[o+1]];if(null==s)throw new ce(-301,!1);r.push(t[o],s)}}}(i,r,o)}i.mergedAttrs=u8(i.mergedAttrs,i.attrs)}function _j(e,t,i,r,o,s){for(let c=0;c<r.length;c++)bx(S7(i,t),e,r[c].type);!function V9e(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,r.length);for(let c=0;c<r.length;c++){const f=r[c];f.providersResolver&&f.providersResolver(f)}let a=!1,l=!1,u=x8(e,t,r.length,null);for(let c=0;c<r.length;c++){const f=r[c];i.mergedAttrs=u8(i.mergedAttrs,f.hostAttrs),H9e(e,i,t,u,f),U9e(u,f,o),null!==f.contentQueries&&(i.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(i.flags|=64);const d=f.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(i.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(i.index),l=!0),u++}!function N9e(e,t,i){const o=t.directiveEnd,s=e.data,a=t.attrs,l=[];let u=null,c=null;for(let f=t.directiveStart;f<o;f++){const d=s[f],h=i?i.get(d):null,m=h?h.outputs:null;u=mj(d.inputs,f,u,h?h.inputs:null),c=mj(d.outputs,f,c,m);const v=null===u||null===a||Xq(t)?null:j9e(u,f,a);l.push(v)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=u,t.outputs=c}(e,i,s)}function yj(e,t,i){const r=i.directiveStart,o=i.directiveEnd,s=i.index,a=function N6e(){return Xi.lFrame.currentDirectiveIndex}();try{g1(s);for(let l=r;l<o;l++){const u=e.data[l],c=t[l];ux(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&L9e(u,c)}}finally{g1(-1),ux(a)}}function L9e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function yM(e,t,i){t.componentOffset=i,(e.components??(e.components=[])).push(t.index)}function U9e(e,t,i){if(i){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)i[t.exportAs[r]]=e;ri(t)&&(i[""]=e)}}function H9e(e,t,i,r,o){e.data[r]=o;const s=o.factory||(o.factory=nu(o.type)),a=new l8(s,ri(o),Ae);e.blueprint[r]=a,i[r]=a,function k9e(e,t,i,r,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function F9e(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}(e,t,r,x8(e,i,o.hostVars,Zi),o)}function bM(e,t,i,r,o,s,a){if(null==s)e.removeAttribute(t,o,i);else{const l=null==a?De(s):a(s,r||"",o);e.setAttribute(t,o,l,i)}}function q9e(e,t,i,r,o,s){const a=s[t];if(null!==a){const l=r.setInput;for(let u=0;u<a.length;){const c=a[u++],f=a[u++],d=a[u++];null!==l?r.setInput(i,d,c,f):i[f]=d}}}function j9e(e,t,i){let r=null,o=0;for(;o<i.length;){const s=i[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const a=e[s];for(let l=0;l<a.length;l+=2)if(a[l]===t){r.push(s,a[l+1],i[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function bj(e,t,i,r){return[e,!0,!1,t,null,0,r,i,null,null]}function Y9e(e,t){const i=ru(t,e);if(g7(i)){const r=i[Kn];48&i[tr]?U7(r,i,r.template,i[es]):i[S0]>0&&wM(i)}}function wM(e){for(let r=Fx(e);null!==r;r=Px(r))for(let o=$n;o<r.length;o++){const s=r[o];if(g7(s))if(512&s[tr]){const a=s[Kn];U7(a,s,a.template,s[es])}else s[S0]>0&&wM(s)}const i=e[Kn].components;if(null!==i)for(let r=0;r<i.length;r++){const o=ru(i[r],e);g7(o)&&o[S0]>0&&wM(o)}}function K9e(e,t){const i=ru(t,e),r=i[Kn];(function X9e(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(r,i),hM(r,i,i[es])}function V7(e,t){return e[p1]?e[Vm][Ru]=t:e[p1]=t,e[Vm]=t,t}function H7(e){for(;e;){e[tr]|=32;const t=_8(e);if(Tr(e)&&!t)return e;e=t}return null}function z7(e,t,i,r=!0){const o=t[Um];o.begin&&o.begin();try{U7(e,t,e.template,i)}catch(a){throw r&&Cj(t,a),a}finally{o.end&&o.end()}}function EM(e,t,i){fx(0),t(e,i)}function wj(e){return e[Nh]||(e[Nh]=[])}function Ej(e){return e.cleanup||(e.cleanup=[])}function Cj(e,t){const i=e[$m],r=i?i.get(i2,null):null;r&&r.handleError(t)}function SM(e,t,i,r,o){for(let s=0;s<i.length;){const a=i[s++],l=i[s++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,o,r,l):u[l]=o}}function N0(e,t,i){const r=p7(t,e);aq(e[ar],r,i)}function q7(e,t,i){let r=i?e.styles:null,o=i?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?o=B(o,l):2==s&&(r=B(r,l+": "+t[++a]+";"))}i?e.styles=r:e.stylesWithoutHost=r,i?e.classes=o:e.classesWithoutHost=o}function j7(e,t,i,r,o=!1){for(;null!==i;){const s=t[i.index];if(null!==s&&r.push(Da(s)),ui(s))for(let l=$n;l<s.length;l++){const u=s[l],c=u[Kn].firstChild;null!==c&&j7(u[Kn],u,c,r)}const a=i.type;if(8&a)j7(e,t,i.child,r);else if(32&a){const l=kx(i,t);let u;for(;u=l();)r.push(u)}else if(16&a){const l=_q(t,i);if(Array.isArray(l))r.push(...l);else{const u=_8(t[hs]);j7(u[Kn],u,l,r,!0)}}i=o?i.projectionNext:i.next}return r}class M8{get rootNodes(){const t=this._lView,i=t[Kn];return j7(i,t,i.firstChild,[])}constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[es]}set context(t){this._lView[es]=t}get destroyed(){return 128==(128&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qo];if(ui(t)){const i=t[dn],r=i?i.indexOf(this):-1;r>-1&&($x(t,r),D7(i,r))}this._attachedToViewContainer=!1}uq(this._lView[Kn],this._lView)}onDestroy(t){gj(this._lView[Kn],this._lView,null,t)}markForCheck(){H7(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-65}reattach(){this._lView[tr]|=64}detectChanges(){z7(this._lView[Kn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B4e(e,t){y8(e,t,t[ar],2,null,null)}(this._lView[Kn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=t}}class Z9e extends M8{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;z7(t[Kn],t,t[es],!1)}checkNoChanges(){}get context(){return null}}class Dj extends C8{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Yr(t);return new A8(i,this.ngModule)}}function xj(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class J9e{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,r){r=br(r);const o=this.injector.get(t,oM,r);return o!==oM||i===oM?o:this.parentInjector.get(t,i,r)}}class A8 extends qq{get inputs(){return xj(this.componentDef.inputs)}get outputs(){return xj(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function r9e(e){return e.map(i9e).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,r,o){let s=(o=o||this.ngModule)instanceof wc?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new J9e(t,s):t,l=a.get(n2,null);if(null===l)throw new ce(407,!1);const u=a.get(Bve,null),c=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",d=r?function A9e(e,t,i){return e.selectRootElement(t,i===Do.ShadowDom)}(c,r,this.componentDef.encapsulation):Bx(c,f,function Q9e(e){const t=e.toLowerCase();return"svg"===t?az:"math"===t?"math":null}(f)),h=this.componentDef.onPush?288:272,p=vM(0,null,null,1,0,null,null,null,null,null),m=$7(null,p,null,h,null,null,l,c,u,a,null);let v,_;dx(m);try{const y=this.componentDef;let w,S=null;y.findHostDirectiveDefs?(w=[],S=new Map,y.findHostDirectiveDefs(y,w,S),w.push(y)):w=[y];const M=function t7e(e,t){const i=e[Kn],r=Ue;return e[r]=t,s2(i,r,2,"#host",null)}(m,d),A=function n7e(e,t,i,r,o,s,a,l){const u=o[Kn];!function i7e(e,t,i,r){for(const o of e)t.mergedAttrs=u8(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(q7(t,t.mergedAttrs,!0),null!==i&&wq(r,i,t))}(r,e,t,a);const c=s.createRenderer(t,i),f=$7(o,pj(i),null,i.onPush?32:16,o[e.index],e,s,c,l||null,null,null);return u.firstCreatePass&&yM(u,e,r.length-1),V7(o,f),o[e.index]=f}(M,d,y,w,m,l,c);_=uz(p,Ue),d&&function o7e(e,t,i,r){if(r)mx(e,i,["ng-version",$ve.full]);else{const{attrs:o,classes:s}=function o9e(e){const t=[],i=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&i.push(s);else{if(!ff(o))break;o=s}r++}return{attrs:t,classes:i}}(t.selectors[0]);o&&mx(e,i,o),s&&s.length>0&&bq(e,i,s.join(" "))}}(c,y,d,r),void 0!==i&&function s7e(e,t,i){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=i[o];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,i),v=function r7e(e,t,i,r,o,s){const a=xa(),l=o[Kn],u=Fu(a,o);_j(l,o,a,i,null,r);for(let f=0;f<i.length;f++)Za(m1(o,l,a.directiveStart+f,a),o);yj(l,o,a),u&&Za(u,o);const c=m1(o,l,a.directiveStart+a.componentOffset,a);if(e[es]=o[es]=c,null!==s)for(const f of s)f(c,t);return pM(l,a,e),c}(A,y,w,S,m,[a7e]),hM(p,m,null)}finally{hx()}return new e7e(this.componentType,v,t2(_,m),m,_)}}class e7e extends Ove{constructor(t,i,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.instance=i,this.hostView=this.changeDetectorRef=new Z9e(o),this.componentType=t}setInput(t,i){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const s=this._rootLView;SM(s[Kn],s,o,t,i),H7(ru(this._tNode.index,s))}}get injector(){return new jm(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function a7e(){const e=xa();v7(Xt()[Kn],e)}function zr(e){let t=function Mj(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const r=[e];for(;t;){let o;if(ri(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ce(903,!1);o=t.\u0275dir}if(o){if(i){r.push(o);const a=e;a.inputs=CM(e.inputs),a.declaredInputs=CM(e.declaredInputs),a.outputs=CM(e.outputs);const l=o.hostBindings;l&&f7e(e,l);const u=o.viewQuery,c=o.contentQueries;if(u&&u7e(e,u),c&&c7e(e,c),Ci(e.inputs,o.inputs),Ci(e.declaredInputs,o.declaredInputs),Ci(e.outputs,o.outputs),ri(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(e),l===zr&&(i=!1)}}t=Object.getPrototypeOf(t)}!function l7e(e){let t=0,i=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=u8(o.hostAttrs,i=u8(i,o.hostAttrs))}}(r)}function CM(e){return e===Wa?{}:e===wr?[]:e}function u7e(e,t){const i=e.viewQuery;e.viewQuery=i?(r,o)=>{t(r,o),i(r,o)}:t}function c7e(e,t){const i=e.contentQueries;e.contentQueries=i?(r,o,s)=>{t(r,o,s),i(r,o,s)}:t}function f7e(e,t){const i=e.hostBindings;e.hostBindings=i?(r,o)=>{t(r,o),i(r,o)}:t}function G7(e){return!!DM(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function DM(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _d(e,t,i){return e[t]=i}function Qa(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function b1(e,t,i,r){const o=Qa(e,t,i);return Qa(e,t+1,r)||o}function W7(e,t,i,r,o){const s=b1(e,t,i,r);return Qa(e,t+2,o)||s}function gr(e,t,i,r){const o=Xt();return Qa(o,zm(),t)&&(Pr(),function vd(e,t,i,r,o,s){const a=Fu(e,t);bM(t[ar],a,s,e.value,i,r,o)}(rs(),o,e,t,i,r)),gr}function l2(e,t,i,r){return Qa(e,zm(),i)?t+De(i)+r:Zi}function Ut(e,t,i,r,o,s,a,l){const u=Xt(),c=Pr(),f=e+Ue,d=c.firstCreatePass?function b7e(e,t,i,r,o,s,a,l,u){const c=t.consts,f=s2(t,e,4,a||null,Fh(c,l));_M(t,i,f,Fh(c,u)),v7(t,f);const d=f.tView=vM(2,f,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,f),d.queries=t.queries.embeddedTView(f)),f}(f,c,u,t,i,r,o,s,a):c.data[f];gd(d,!1);const h=u[ar].createComment("");N7(c,u,h,d),Za(h,u),V7(u,u[f]=bj(h,u,h,d)),Sn(d)&&gM(c,u,d),null!=a&&mM(u,d,l)}function Ja(e){return Hm(function M6e(){return Xi.lFrame.contextLView}(),Ue+e)}function ht(e,t,i){const r=Xt();return Qa(r,zm(),t)&&Lu(Pr(),rs(),r,e,t,r[ar],i,!1),ht}function xM(e,t,i,r,o){const a=o?"class":"style";SM(e,i,t.inputs[a],a,r)}function wt(e,t,i,r){const o=Xt(),s=Pr(),a=Ue+e,l=o[ar],u=s.firstCreatePass?function E7e(e,t,i,r,o,s){const a=t.consts,u=s2(t,e,2,r,Fh(a,o));return _M(t,i,u,Fh(a,s)),null!==u.attrs&&q7(u,u.attrs,!1),null!==u.mergedAttrs&&q7(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,s,o,t,i,r):s.data[a],c=o[a]=Bx(l,t,function L6e(){return Xi.lFrame.currentNamespace}()),f=Sn(u);return gd(u,!0),wq(l,c,u),32!=(32&u.flags)&&N7(s,o,c,u),0===function E6e(){return Xi.lFrame.elementDepthCount}()&&Za(c,o),function S6e(){Xi.lFrame.elementDepthCount++}(),f&&(gM(s,o,u),pM(s,u,o)),null!==r&&mM(o,u),wt}function Tt(){let e=xa();ax()?lx():(e=e.parent,gd(e,!1));const t=e;!function C6e(){Xi.lFrame.elementDepthCount--}();const i=Pr();return i.firstCreatePass&&(v7(i,e),Ki(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function V6e(e){return 0!=(8&e.flags)}(t)&&xM(i,t,Xt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function H6e(e){return 0!=(16&e.flags)}(t)&&xM(i,t,Xt(),t.stylesWithoutHost,!1),Tt}function Er(e,t,i,r){return wt(e,t,i,r),Tt(),Er}function w1(e,t,i){const r=Xt(),o=Pr(),s=e+Ue,a=o.firstCreatePass?function S7e(e,t,i,r,o){const s=t.consts,a=Fh(s,r),l=s2(t,e,8,"ng-container",a);return null!==a&&q7(l,a,!0),_M(t,i,l,Fh(s,o)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,i):o.data[s];gd(a,!0);const l=r[s]=r[ar].createComment("");return N7(o,r,l,a),Za(l,r),Sn(a)&&(gM(o,r,a),pM(o,a,r)),null!=i&&mM(r,a),w1}function E1(){let e=xa();const t=Pr();return ax()?lx():(e=e.parent,gd(e,!1)),t.firstCreatePass&&(v7(t,e),Ki(e)&&t.queries.elementEnd(e)),E1}function I8(e,t,i){return w1(e,t,i),E1(),I8}function Lr(){return Xt()}function O8(e){return!!e&&"function"==typeof e.then}const MM=function Uj(e){return!!e&&"function"==typeof e.subscribe};function qn(e,t,i,r){const o=Xt(),s=Pr(),a=xa();return function Hj(e,t,i,r,o,s,a){const l=Sn(r),c=e.firstCreatePass&&Ej(e),f=t[es],d=wj(t);let h=!0;if(3&r.type||a){const v=Fu(r,t),_=a?a(v):v,y=d.length,w=a?M=>a(Da(M[r.index])):r.index;let S=null;if(!a&&l&&(S=function C7e(e,t,i,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const a=o[s];if(a===i&&o[s+1]===r){const l=t[Nh],u=o[s+2];return l.length>u?l[u]:null}"string"==typeof a&&(s+=2)}return null}(e,t,o,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=qj(r,t,f,s,!1);const M=i.listen(_,o,s);d.push(s,M),c&&c.push(o,w,y,y+1)}}else s=qj(r,t,f,s,!1);const p=r.outputs;let m;if(h&&null!==p&&(m=p[o])){const v=m.length;if(v)for(let _=0;_<v;_+=2){const A=t[m[_]][m[_+1]].subscribe(s),F=d.length;d.push(s,A),c&&c.push(o,r.index,F,-(F+1))}}}(s,o,o[ar],a,e,t,r),qn}function zj(e,t,i,r){try{return iu(6,t,i),!1!==i(r)}catch(o){return Cj(e,o),!1}finally{iu(7,t,i)}}function qj(e,t,i,r,o){return function s(a){if(a===Function)return r;H7(e.componentOffset>-1?ru(e.index,t):t);let u=zj(t,i,r,a),c=s.__ngNextListenerFn__;for(;c;)u=zj(t,i,c,a)&&u,c=c.__ngNextListenerFn__;return o&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function Ct(e=1){return function O6e(e){return(Xi.lFrame.contextLView=function R6e(e,t){for(;e>0;)t=t[Ih],e--;return t}(e,Xi.lFrame.contextLView))[es]}(e)}function D7e(e,t){let i=null;const r=function Jve(e){const t=e.attrs;if(null!=t){const i=t.indexOf(5);if(!(1&i))return t[i+1]}return null}(e);for(let o=0;o<t.length;o++){const s=t[o];if("*"!==s){if(null===r?Zq(e,s,!0):n9e(r,s))return o}else i=o}return i}function S1(e){const t=Xt()[hs][sa];if(!t.projection){const r=t.projection=d8(e?e.length:1,null),o=r.slice();let s=t.child;for(;null!==s;){const a=e?D7e(s,e):0;null!==a&&(o[a]?o[a].projectionNext=s:r[a]=s,o[a]=s),s=s.next}}}function C1(e,t=0,i){const r=Xt(),o=Pr(),s=s2(o,Ue+e,16,null,i||null);null===s.projection&&(s.projection=t),lx(),32!=(32&s.flags)&&function G4e(e,t,i){yq(t[ar],0,t,i,cq(e,i,t),pq(i.parent||t[sa],i,t))}(o,r,s)}function AM(e,t,i){return m2(e,"",t,"",i),AM}function m2(e,t,i,r,o){const s=Xt(),a=l2(s,t,i,r);return a!==Zi&&Lu(Pr(),rs(),s,e,a,s[ar],o,!1),m2}function Y7(e,t){return e<<17|t<<2}function Bh(e){return e>>17&32767}function TM(e){return 2|e}function D1(e){return(131068&e)>>2}function NM(e,t){return-131069&e|t<<2}function IM(e){return 1|e}function Jj(e,t,i,r,o){const s=e[i+1],a=null===t;let l=r?Bh(s):D1(s),u=!1;for(;0!==l&&(!1===u||a);){const f=e[l+1];I7e(e[l],t)&&(u=!0,e[l+1]=r?IM(f):TM(f)),l=r?Bh(f):D1(f)}u&&(e[i+1]=r?TM(s):IM(s))}function I7e(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xm(e,t)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eG(e){return e.substring(js.key,js.keyEnd)}function tG(e,t){const i=js.textEnd;return i===t?-1:(t=js.keyEnd=function F7e(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,js.key=t,i),v2(e,t,i))}function v2(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function x1(e,t,i){return df(e,t,i,!1),x1}function ki(e,t){return df(e,t,null,!0),ki}function el(e){hf(q7e,bd,e,!0)}function bd(e,t){for(let i=function R7e(e){return function iG(e){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=e.length}(e),tG(e,v2(e,0,js.textEnd))}(t);i>=0;i=tG(t,i))Pu(e,eG(t),!0)}function df(e,t,i,r){const o=Xt(),s=Pr(),a=M0(2);s.firstUpdatePass&&aG(s,e,a,r),t!==Zi&&Qa(o,a,t)&&uG(s,s.data[Ol()],o,o[ar],e,o[a+1]=function G7e(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=di(Lh(e)))),e}(t,i),r,a)}function hf(e,t,i,r){const o=Pr(),s=M0(2);o.firstUpdatePass&&aG(o,null,s,r);const a=Xt();if(i!==Zi&&Qa(a,s,i)){const l=o.data[Ol()];if(fG(l,r)&&!sG(o,s)){let u=r?l.classesWithoutHost:l.stylesWithoutHost;null!==u&&(i=B(u,i||"")),xM(o,l,a,i,r)}else!function j7e(e,t,i,r,o,s,a,l){o===Zi&&(o=wr);let u=0,c=0,f=0<o.length?o[0]:null,d=0<s.length?s[0]:null;for(;null!==f||null!==d;){const h=u<o.length?o[u+1]:void 0,p=c<s.length?s[c+1]:void 0;let v,m=null;f===d?(u+=2,c+=2,h!==p&&(m=d,v=p)):null===d||null!==f&&f<d?(u+=2,m=f):(c+=2,m=d,v=p),null!==m&&uG(e,t,i,r,m,v,a,l),f=u<o.length?o[u]:null,d=c<s.length?s[c]:null}}(o,l,a,a[ar],a[s+1],a[s+1]=function z7e(e,t,i){if(null==i||""===i)return wr;const r=[],o=Lh(i);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(r,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(r,s,o[s]);else"string"==typeof o&&t(r,o);return r}(e,t,i),r,s)}}function sG(e,t){return t>=e.expandoStartIndex}function aG(e,t,i,r){const o=e.data;if(null===o[i+1]){const s=o[Ol()],a=sG(e,i);fG(s,r)&&null===t&&!a&&(t=!1),t=function $7e(e,t,i,r){const o=function cx(e){const t=Xi.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(i=R8(i=OM(null,e,t,i,r),t.attrs,r),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==o)if(i=OM(o,e,t,i,r),null===s){let u=function U7e(e,t,i){const r=i?t.classBindings:t.styleBindings;if(0!==D1(r))return e[Bh(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=OM(null,e,t,u[1],r),u=R8(u,t.attrs,r),function V7e(e,t,i,r){e[Bh(i?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else s=function H7e(e,t,i){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=R8(r,e[s].hostAttrs,i);return R8(r,t.attrs,i)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),i}(o,s,t,r),function T7e(e,t,i,r,o,s){let a=s?t.classBindings:t.styleBindings,l=Bh(a),u=D1(a);e[r]=i;let f,c=!1;if(Array.isArray(i)?(f=i[1],(null===f||Xm(i,f)>0)&&(c=!0)):f=i,o)if(0!==u){const h=Bh(e[l+1]);e[r+1]=Y7(h,l),0!==h&&(e[h+1]=NM(e[h+1],r)),e[l+1]=function M7e(e,t){return 131071&e|t<<17}(e[l+1],r)}else e[r+1]=Y7(l,0),0!==l&&(e[l+1]=NM(e[l+1],r)),l=r;else e[r+1]=Y7(u,0),0===l?l=r:e[u+1]=NM(e[u+1],r),u=r;c&&(e[r+1]=TM(e[r+1])),Jj(e,f,r,!0),Jj(e,f,r,!1),function N7e(e,t,i,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Xm(s,t)>=0&&(i[r+1]=IM(i[r+1]))}(t,f,e,r,s),a=Y7(l,u),s?t.classBindings=a:t.styleBindings=a}(o,s,t,i,a,r)}}function OM(e,t,i,r,o){let s=null;const a=i.directiveEnd;let l=i.directiveStylingLast;for(-1===l?l=i.directiveStart:l++;l<a&&(s=t[l],r=R8(r,s.hostAttrs,o),s!==e);)l++;return null!==e&&(i.directiveStylingLast=l),r}function R8(e,t,i){const r=i?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Pu(e,a,!!i||t[++s]))}return void 0===e?null:e}function q7e(e,t,i){const r=String(t);""!==r&&!r.includes(" ")&&Pu(e,r,i)}function uG(e,t,i,r,o,s,a,l){if(!(3&t.type))return;const u=e.data,c=u[l+1],f=function A7e(e){return 1==(1&e)}(c)?cG(u,t,i,o,D1(c),a):void 0;K7(f)||(K7(s)||function x7e(e){return 2==(2&e)}(c)&&(s=cG(u,null,i,o,l,a)),function Y4e(e,t,i,r,o){if(t)o?e.addClass(i,r):e.removeClass(i,r);else{let s=-1===r.indexOf("-")?void 0:ou.DashCase;null==o?e.removeStyle(i,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=ou.Important),e.setStyle(i,r,o,s))}}(r,a,p7(Ol(),i),o,s))}function cG(e,t,i,r,o,s){const a=null===t;let l;for(;o>0;){const u=e[o],c=Array.isArray(u),f=c?u[1]:u,d=null===f;let h=i[o+1];h===Zi&&(h=d?wr:void 0);let p=d?Cx(h,r):f===r?h:void 0;if(c&&!K7(p)&&(p=Cx(u,r)),K7(p)&&(l=p,a))return l;const m=e[o+1];o=a?Bh(m):D1(m)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(l=Cx(u,r))}return l}function K7(e){return void 0!==e}function fG(e,t){return 0!=(e.flags&(t?8:16))}function ji(e,t=""){const i=Xt(),r=Pr(),o=e+Ue,s=r.firstCreatePass?s2(r,o,1,t,null):r.data[o],a=i[o]=Lx(i[ar],t);N7(r,i,a,s),gd(s,!1)}function $s(e){return $h("",e,""),$s}function $h(e,t,i){const r=Xt(),o=l2(r,e,t,i);return o!==Zi&&N0(r,Ol(),o),$h}function RM(e,t,i,r,o,s,a){const l=Xt(),u=function c2(e,t,i,r,o,s,a,l){const c=W7(e,x0(),i,o,a);return M0(3),c?t+De(i)+r+De(o)+s+De(a)+l:Zi}(l,e,t,i,r,o,s,a);return u!==Zi&&N0(l,Ol(),u),RM}function yG(e,t,i,r,o){hf(Pu,bd,function u2(e,t,i,r,o,s){const l=b1(e,x0(),i,o);return M0(2),l?t+De(i)+r+De(o)+s:Zi}(Xt(),e,t,i,r,o),!0)}function Bu(e,t,i){const r=Xt();return Qa(r,zm(),t)&&Lu(Pr(),rs(),r,e,t,r[ar],i,!0),Bu}const M1=void 0;var f_e=["en",[["a","p"],["AM","PM"],M1],[["AM","PM"],M1,M1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],M1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],M1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",M1,"{1} 'at' {0}",M1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function c_e(e){const i=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===r?1:5}];let _2={};function Rl(e){const t=function d_e(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=IG(t);if(i)return i;const r=t.split("-")[0];if(i=IG(r),i)return i;if("en"===r)return f_e;throw new ce(701,!1)}function IG(e){return e in _2||(_2[e]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[e]),_2[e]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const h_e=["zero","one","two","few","many"],y2="en-US",X7={marker:"element"},Z7={marker:"ICU"};var ms=(()=>((ms=ms||{})[ms.SHIFT=2]="SHIFT",ms[ms.APPEND_EAGERLY=1]="APPEND_EAGERLY",ms[ms.COMMENT=2]="COMMENT",ms))();let OG=y2;function RG(e){(function Hn(e,t){null==e&&Yn(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(OG=e.toLowerCase().replace(/_/g,"-"))}function kG(e,t,i){const r=t.insertBeforeIndex,o=Array.isArray(r)?r[0]:r;return null===o?gq(e,0,i):Da(i[o])}function FG(e,t,i,r,o){const s=t.insertBeforeIndex;if(Array.isArray(s)){let a=r,l=null;if(3&t.type||(l=a,a=o),null!==a&&-1===t.componentOffset)for(let u=1;u<s.length;u++)_1(e,a,i[s[u]],l,!1)}}function PG(e,t){if(e.push(t),e.length>1)for(let i=e.length-2;i>=0;i--){const r=e[i];LG(r)||v_e(r,t)&&null===__e(r)&&y_e(r,t.index)}}function LG(e){return!(64&e.type)}function v_e(e,t){return LG(t)||e.index>t.index}function __e(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function y_e(e,t){const i=e.insertBeforeIndex;Array.isArray(i)?i[0]=t:(vq(kG,FG),e.insertBeforeIndex=t)}function k8(e,t){const i=e.data[t];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function E_e(e,t,i){const r=dM(e,i,64,null,null);return PG(t,r),r}function Q7(e,t){const i=t[e.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function BG(e){return e>>>17}function $G(e){return(131070&e)>>>1}let F8=0,P8=0;function VG(e,t,i,r){const o=i[ar];let a,s=null;for(let l=0;l<t.length;l++){const u=t[l];if("string"==typeof u){const c=t[++l];null===i[c]&&(i[c]=Lx(o,u))}else if("number"==typeof u)switch(1&u){case 0:const c=BG(u);let f,d;if(null===s&&(s=c,a=T7(o,r)),c===s?(f=r,d=a):(f=null,d=Da(i[c])),null!==d){const v=$G(u);_1(o,d,i[v],f,!1);const y=k8(e,v);if(null!==y&&"object"==typeof y){const w=Q7(y,i);null!==w&&VG(e,y.create[w],i,i[y.anchorIdx])}}break;case 1:const p=t[++l],m=t[++l];bM(o,p7(u>>>1,i),null,null,p,m,null)}else switch(u){case Z7:const c=t[++l],f=t[++l];null===i[f]&&Za(i[f]=F4e(o,c),i);break;case X7:const d=t[++l],h=t[++l];null===i[h]&&Za(i[h]=Bx(o,d,null),i)}}}function HG(e,t,i,r,o){for(let s=0;s<i.length;s++){const a=i[s],l=i[++s];if(a&o){let u="";for(let c=s+1;c<=s+l;c++){const f=i[c];if("string"==typeof f)u+=f;else if("number"==typeof f)if(f<0)u+=De(t[r-f]);else{const d=f>>>2;switch(3&f){case 1:const h=i[++c],p=i[++c],m=e.data[d];"string"==typeof m?bM(t[ar],t[d],null,m,h,u,p):Lu(e,m,t,h,u,t[ar],p,!1);break;case 0:const v=t[d];null!==v&&aq(t[ar],v,u);break;case 2:M_e(e,k8(e,d),t,u);break;case 3:zG(e,k8(e,d),r,t)}}}}else{const u=i[s+1];if(u>0&&3==(3&u)){const f=k8(e,u>>>2);t[f.currentCaseLViewIndex]<0&&zG(e,f,r,t)}}s+=l}}function zG(e,t,i,r){let o=r[t.currentCaseLViewIndex];if(null!==o){let s=F8;o<0&&(o=r[t.currentCaseLViewIndex]=~o,s=-1),HG(e,r,t.update[o],i,s)}}function M_e(e,t,i,r){const o=function A_e(e,t){let i=e.cases.indexOf(t);if(-1===i)switch(e.type){case 1:{const r=function p_e(e,t){const i=function NG(e){return Rl(e)[jn.PluralCase]}(t)(parseInt(e,10)),r=h_e[i];return void 0!==r?r:"other"}(t,function m_e(){return OG}());i=e.cases.indexOf(r),-1===i&&"other"!==r&&(i=e.cases.indexOf("other"));break}case 0:i=e.cases.indexOf("other")}return-1===i?null:i}(t,r);if(Q7(t,i)!==o&&(qG(e,t,i),i[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const a=i[t.anchorIdx];a&&VG(e,t.create[o],i,a)}}function qG(e,t,i){let r=Q7(t,i);if(null!==r){const o=t.remove[r];for(let s=0;s<o.length;s++){const a=o[s];if(a>0){const l=p7(a,i);null!==l&&zx(i[ar],l)}else qG(e,k8(e,~a),i)}}}function T_e(){const e=[];let i,r,t=-1;function s(l,u){t=0;const c=Q7(l,u);r=null!==c?l.remove[c]:wr}function a(){if(t<r.length){const l=r[t++];return l>0?i[l]:(e.push(t,r),s(i[Kn].data[~l],i),a())}return 0===e.length?null:(r=e.pop(),t=e.pop(),a())}return function o(l,u){for(i=u;e.length;)e.pop();return s(l.value,u),a}}const J7=/\ufffd(\d+):?\d*\ufffd/gi,I_e=/\ufffd(\d+)\ufffd/,GG=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,L8="\ufffd",O_e=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,R_e=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,k_e=/\uE500/g;function WG(e,t,i,r,o,s,a){const l=x8(e,r,1,null);let u=l<<ms.SHIFT,c=a8();t===c&&(c=null),null===c&&(u|=ms.APPEND_EAGERLY),a&&(u|=ms.COMMENT,function O4e(e){void 0===Rx&&(Rx=e())}(T_e)),o.push(u,null===s?"":s);const f=dM(e,l,a?32:1,null===s?"":s,null);PG(i,f);const d=f.index;return gd(f,!1),null!==c&&t!==c&&function w_e(e,t){let i=e.insertBeforeIndex;null===i?(vq(kG,FG),i=e.insertBeforeIndex=[null,t]):(function Cn(e,t,i){e!=t&&Yn(i,e,t,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(t))}(c,d),f}function L_e(e,t,i,r,o,s,a){const l=a.match(J7),u=WG(e,t,i,s,r,l?null:a,!1);l&&B8(o,a,u.index,null,0,null)}function B8(e,t,i,r,o,s){const a=e.length,l=a+1;e.push(null,null);const u=a+2,c=t.split(J7);let f=0;for(let d=0;d<c.length;d++){const h=c[d];if(1&d){const p=o+parseInt(h,10);e.push(-1-p),f|=YG(p)}else""!==h&&e.push(h)}return e.push(i<<2|(r?1:0)),r&&e.push(r,s),e[a]=f,e[l]=e.length-u,f}function YG(e){return 1<<Math.min(e,31)}function KG(e){let t,s,i="",r=0,o=!1;for(;null!==(t=O_e.exec(e));)o?t[0]===`${L8}/*${s}${L8}`&&(r=t.index,o=!1):(i+=e.substring(r,t.index+t[0].length),s=t[1],o=!0);return i+=e.slice(r),i}function XG(e,t,i,r,o,s){let a=0;const l={type:o.type,currentCaseLViewIndex:x8(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function j_e(e,t,i){e.push(YG(t.mainBinding),2,-1-t.mainBinding,i<<2|2)})(i,o,s),function b_e(e,t,i){const r=e.data[t];null===r?e.data[t]=i:r.value=i}(e,s,l);const u=o.values;for(let c=0;c<u.length;c++){const f=u[c],d=[];for(let h=0;h<f.length;h++){const p=f[h];if("string"!=typeof p){const m=d.push(p)-1;f[h]=`\x3c!--\ufffd${m}\ufffd--\x3e`}}a=z_e(e,l,t,i,r,o.cases[c],f.join(""),d)|a}a&&function G_e(e,t,i){e.push(t,1,i<<2|3)}(i,a,s)}function H_e(e){const t=[],i=[];let r=1,o=0;const s=kM(e=e.replace(GG,function(a,l,u){return r="select"===u?0:1,o=parseInt(l.slice(1),10),""}));for(let a=0;a<s.length;){let l=s[a++].trim();1===r&&(l=l.replace(/\s*(?:=)?(\w+)\s*/,"$1")),l.length&&t.push(l);const u=kM(s[a++]);t.length>i.length&&i.push(u)}return{type:r,mainBinding:o,cases:t,values:i}}function kM(e){if(!e)return[];let t=0;const i=[],r=[],o=/[{}]/g;let s;for(o.lastIndex=0;s=o.exec(e);){const l=s.index;if("}"==s[0]){if(i.pop(),0==i.length){const u=e.substring(t,l);GG.test(u)?r.push(H_e(u)):r.push(u),t=l+1}}else{if(0==i.length){const u=e.substring(t,l);r.push(u),t=l+1}i.push("{")}}const a=e.substring(t);return r.push(a),r}function z_e(e,t,i,r,o,s,a,l){const u=[],c=[],f=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(f);const h=function Mq(e){const t=new ave(e);return function lve(){try{return!!(new window.DOMParser).parseFromString(Jm(""),"text/html")}catch{return!1}}()?new sve(t):t}(function Eq(){return void 0!==Gx?Gx:typeof document<"u"?document:void 0}()).getInertBodyElement(a),p=function Zx(e){return"content"in e&&function gve(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}(h)||h;return p?ZG(e,t,i,r,u,c,f,p,o,l,0):0}function ZG(e,t,i,r,o,s,a,l,u,c,f){let d=0,h=l.firstChild;for(;h;){const p=x8(e,i,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:const m=h,v=m.tagName.toLowerCase();if(Kx.hasOwnProperty(v)){FM(o,X7,v,u,p),e.data[p]=v;const S=m.attributes;for(let M=0;M<S.length;M++){const A=S.item(M),F=A.name.toLowerCase();A.value.match(J7)?Iq.hasOwnProperty(F)&&B8(a,A.value,p,A.name,0,Xx[F]?Yx:null):W_e(o,p,A)}d=ZG(e,t,i,r,o,s,a,h,p,c,f+1)|d,QG(s,p,f)}break;case Node.TEXT_NODE:const _=h.textContent||"",y=_.match(J7);FM(o,null,y?"":_,u,p),QG(s,p,f),y&&(d=B8(a,_,p,null,0,null)|d);break;case Node.COMMENT_NODE:const w=I_e.exec(h.textContent||"");if(w){const M=c[parseInt(w[1],10)];FM(o,Z7,"",u,p),XG(e,i,r,u,M,p),q_e(s,p,f)}}h=h.nextSibling}return d}function QG(e,t,i){0===i&&e.push(t)}function q_e(e,t,i){0===i&&(e.push(~t),e.push(t))}function FM(e,t,i,r,o){null!==t&&e.push(t),e.push(i,o,function S_e(e,t,i){return e|t<<17|i<<1}(0,r,o))}function W_e(e,t,i){e.push(t<<1|1,i.name,i.value)}function eW(e,t,i=-1){const r=Pr(),o=Xt(),s=Ue+e,a=Fh(r.consts,t),l=a8();r.firstCreatePass&&function P_e(e,t,i,r,o,s){const a=a8(),l=[],u=[],c=[[]];o=function V_e(e,t){if(function U_e(e){return-1===e}(t))return KG(e);{const i=e.indexOf(`:${t}${L8}`)+2+t.toString().length,r=e.search(new RegExp(`${L8}\\/\\*\\d+:${t}${L8}`));return KG(e.substring(i,r))}}(o,s);const f=function F_e(e){return e.replace(k_e," ")}(o).split(R_e);for(let d=0;d<f.length;d++){let h=f[d];if(1&d){const p=47===h.charCodeAt(0),v=(h.charCodeAt(p?1:0),Ue+Number.parseInt(h.substring(p?2:1)));if(p)c.shift(),gd(a8(),!1);else{const _=E_e(e,c[0],v);c.unshift([]),gd(_,!0)}}else{const p=kM(h);for(let m=0;m<p.length;m++){let v=p[m];if(1&m){const _=v;if("object"!=typeof _)throw new Error(`Unable to parse ICU expression in "${o}" message.`);XG(e,i,u,t,_,WG(e,a,c[0],i,l,"",!0).index)}else""!==v&&L_e(e,a,c[0],l,u,i,v)}}}e.data[r]={create:l,update:u}}(r,null===l?0:l.index,o,s,a,i);const u=r.data[s],f=fq(r,l===o[sa]?null:l,o);(function x_e(e,t,i,r){const o=e[ar];for(let s=0;s<t.length;s++){const a=t[s++],l=t[s],c=(a&ms.APPEND_EAGERLY)===ms.APPEND_EAGERLY,f=a>>>ms.SHIFT;let d=e[f];null===d&&(d=e[f]=(a&ms.COMMENT)===ms.COMMENT?o.createComment(l):Lx(o,l)),c&&null!==i&&_1(o,i,d,r,!1)}})(o,u.create,f,l&&8&l.type?o[l.index]:null),mz(!0)}function Ma(e,t,i){eW(e,t,i),function tW(){mz(!1)}()}function b2(e){return function C_e(e){e&&(F8|=1<<Math.min(P8,31)),P8++}(Qa(Xt(),zm(),e)),b2}function $8(e){!function D_e(e,t,i){if(P8>0){const r=e.data[i];HG(e,t,Array.isArray(r)?r:r.update,x0()-P8-1,F8)}F8=0,P8=0}(Pr(),Xt(),e+Ue)}function PM(e,t,i,r,o){if(e=q(e),Array.isArray(e))for(let s=0;s<e.length;s++)PM(e[s],t,i,r,o);else{const s=Pr(),a=Xt();let l=y1(e)?e:q(e.provide),u=zq(e);const c=xa(),f=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(y1(e)||!e.multi){const p=new l8(u,o,Ae),m=BM(l,t,o?f:f+h,d);-1===m?(bx(S7(c,a),s,l),LM(s,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(p),a.push(p)):(i[m]=p,a[m]=p)}else{const p=BM(l,t,f+h,d),m=BM(l,t,f,f+h),_=m>=0&&i[m];if(o&&!_||!o&&!(p>=0&&i[p])){bx(S7(c,a),s,l);const y=function aye(e,t,i,r,o){const s=new l8(e,i,Ae);return s.multi=[],s.index=t,s.componentProviders=0,nW(s,o,r&&!i),s}(o?sye:oye,i.length,o,r,u);!o&&_&&(i[m].providerFactory=y),LM(s,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(y),a.push(y)}else LM(s,e,p>-1?p:m,nW(i[o?m:p],u,!o&&r));!o&&r&&_&&i[m].componentProviders++}}}function LM(e,t,i,r){const o=y1(t),s=function Dve(e){return!!e.useClass}(t);if(o||s){const u=(s?q(t.useClass):t).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(i);-1===f?c.push(i,[r,u]):c[f+1].push(r,u)}else c.push(i,u)}}}function nW(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function BM(e,t,i,r){for(let o=i;o<r;o++)if(t[o]===e)return o;return-1}function oye(e,t,i,r){return $M(this.multi,[])}function sye(e,t,i,r){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=m1(i,i[Kn],this.providerFactory.index,r);s=l.slice(0,a),$M(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],$M(o,s);return s}function $M(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function qr(e,t=[]){return i=>{i.providersResolver=(r,o)=>function rye(e,t,i){const r=Pr();if(r.firstCreatePass){const o=ri(e);PM(i,r.data,r.blueprint,o,!0),PM(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class w2{}class iW{}class rW extends w2{constructor(t,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dj(this);const r=Nl(t);this._bootstrapComponents=T0(r.bootstrap),this._r3Injector=rj(t,i,[{provide:w2,useValue:this},{provide:C8,useValue:this.componentFactoryResolver}],di(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class UM extends iW{constructor(t){super(),this.moduleType=t}create(t){return new rW(this.moduleType,t)}}class uye extends w2{constructor(t,i,r){super(),this.componentFactoryResolver=new Dj(this),this.instance=null;const o=new Hq([...t,{provide:w2,useValue:this},{provide:C8,useValue:this.componentFactoryResolver}],i||L7(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function e_(e,t,i=null){return new uye(e,t,i).injector}let cye=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const r=Bq(0,i.type),o=r.length>0?e_([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,o)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=on({token:e,providedIn:"environment",factory:()=>new e(qt(wc))}),e})();function os(e){e.getStandaloneInjector=t=>t.get(cye).getOrCreateStandaloneInjector(e)}function I0(e,t,i){const r=Il()+e,o=Xt();return o[r]===Zi?_d(o,r,i?t.call(i):t()):function N8(e,t){return e[t]}(o,r)}function Sc(e,t,i,r){return dW(Xt(),Il(),e,t,i,r)}function O0(e,t,i,r,o){return function hW(e,t,i,r,o,s,a){const l=t+i;return b1(e,l,o,s)?_d(e,l+2,a?r.call(a,o,s):r(o,s)):U8(e,l+2)}(Xt(),Il(),e,t,i,r,o)}function t_(e,t,i,r,o,s){return function pW(e,t,i,r,o,s,a,l){const u=t+i;return W7(e,u,o,s,a)?_d(e,u+3,l?r.call(l,o,s,a):r(o,s,a)):U8(e,u+3)}(Xt(),Il(),e,t,i,r,o,s)}function fW(e,t,i,r){return function mW(e,t,i,r,o,s){let a=t+i,l=!1;for(let u=0;u<o.length;u++)Qa(e,a++,o[u])&&(l=!0);return l?_d(e,a,r.apply(s,o)):U8(e,a)}(Xt(),Il(),e,t,i,r)}function U8(e,t){const i=e[t];return i===Zi?void 0:i}function dW(e,t,i,r,o,s){const a=t+i;return Qa(e,a,o)?_d(e,a+1,s?r.call(s,o):r(o)):U8(e,a+1)}function _W(e,t,i){const r=e+Ue,o=Xt(),s=Hm(o,r);return function V8(e,t){return e[Kn].data[t].pure}(o,r)?dW(o,Il(),t,s.transform,i,s):s.transform(i)}function HM(e){return t=>{setTimeout(e,void 0,t)}}const On=class Tye extends Xe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,r){let o=t,s=i||(()=>null),a=r;if(t&&"object"==typeof t){const u=t;o=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=HM(s),o&&(o=HM(o)),a&&(a=HM(a)));const l=super.subscribe({next:o,error:s,complete:a});return t instanceof Fn&&t.add(l),l}};function Nye(){return this._results[Symbol.iterator]()}class zM{get changes(){return this._changes||(this._changes=new On)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=zM.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Nye)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){const r=this;r.dirty=!1;const o=function bc(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Q6e(e,t,i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],s=t[r];if(i&&(o=i(o),s=i(s)),s!==o)return!1}return!0}(r._results,o,i))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xo=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rye,e})();const Iye=xo,Oye=class extends Iye{constructor(t,i,r){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}createEmbeddedView(t,i){const r=this._declarationTContainer.tView,o=$7(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,i||null);o[b]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[X];return null!==a&&(o[X]=a.createEmbeddedView(r)),hM(r,o,t),new M8(o)}};function Rye(){return n_(xa(),Xt())}function n_(e,t){return 4&e.type?new Oye(t,e,t2(e,t)):null}let Cc=(()=>{class e{}return e.__NG_ELEMENT_ID__=kye,e})();function kye(){return wW(xa(),Xt())}const Fye=Cc,yW=class extends Fye{constructor(t,i,r){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=r}get element(){return t2(this._hostTNode,this._hostLView)}get injector(){return new jm(this._hostTNode,this._hostLView)}get parentInjector(){const t=yx(this._hostTNode,this._hostLView);if(Mz(t)){const i=w7(t,this._hostLView),r=b7(t);return new jm(i[Kn].data[r+8],i)}return new jm(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=bW(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(t,i,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedView(i||{},s);return this.insert(a,o),a}createComponent(t,i,r,o,s){const a=t&&!function f8(e){return"function"==typeof e}(t);let l;if(a)l=i;else{const d=i||{};l=d.index,r=d.injector,o=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=a?t:new A8(Yr(t)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(a?c:this.parentInjector).get(wc,null);h&&(s=h)}const f=u.create(c,o,void 0,s);return this.insert(f.hostView,l),f}insert(t,i){const r=t._lView,o=r[Kn];if(function w6e(e){return ui(e[qo])}(r)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const d=r[qo],h=new yW(d,d[sa],d[qo]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(i),a=this._lContainer;!function U4e(e,t,i,r){const o=$n+r,s=i.length;r>0&&(i[o-1][Ru]=t),r<s-$n?(t[Ru]=i[o],$z(i,$n+r,t)):(i.push(t),t[Ru]=null),t[qo]=i;const a=t[b];null!==a&&i!==a&&function V4e(e,t){const i=e[pt];t[hs]!==t[qo][qo][hs]&&(e[$t]=!0),null===i?e[pt]=[t]:i.push(t)}(a,t);const l=t[X];null!==l&&l.insertView(e),t[tr]|=64}(o,r,a,s);const l=Hx(s,a),u=r[ar],c=T7(u,a[Lt]);return null!==c&&function L4e(e,t,i,r,o,s){r[af]=o,r[sa]=t,y8(e,r,i,1,o,s)}(o,a[sa],u,r,c,l),t.attachToViewContainerRef(),$z(qM(a),s,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=bW(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),r=$x(this._lContainer,i);r&&(D7(qM(this._lContainer),i),uq(r[Kn],r))}detach(t){const i=this._adjustIndex(t,-1),r=$x(this._lContainer,i);return r&&null!=D7(qM(this._lContainer),i)?new M8(r):null}_adjustIndex(t,i=0){return t??this.length+i}};function bW(e){return e[dn]}function qM(e){return e[dn]||(e[dn]=[])}function wW(e,t){let i;const r=t[e.index];if(ui(r))i=r;else{let o;if(8&e.type)o=Da(r);else{const s=t[ar];o=s.createComment("");const a=Fu(e,t);_1(s,T7(s,a),o,function j4e(e,t){return e.nextSibling(t)}(s,a),!1)}t[e.index]=i=bj(r,t,o,e),V7(t,i)}return new yW(i,e,t)}class jM{constructor(t){this.queryList=t,this.matches=null}clone(){return new jM(this.queryList)}setDirty(){this.queryList.setDirty()}}class GM{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const r=null!==t.contentQueries?t.contentQueries[0]:i.length,o=[];for(let s=0;s<r;s++){const a=i.getByIndex(s);o.push(this.queries[a.indexInDeclarationView].clone())}return new GM(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==xW(t,i).matches&&this.queries[i].setDirty()}}class EW{constructor(t,i,r=null){this.predicate=t,this.flags=i,this.read=r}}class WM{constructor(t=[]){this.queries=t}elementStart(t,i){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let r=0;r<this.length;r++){const o=null!==i?i.length:0,s=this.getByIndex(r).embeddedTView(t,o);s&&(s.indexInDeclarationView=r,null!==i?i.push(s):i=[s])}return null!==i?new WM(i):null}template(t,i){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class YM{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new YM(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==i;)r=r.parent;return i===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const s=r[o];this.matchTNodeWithReadOption(t,i,Pye(i,s)),this.matchTNodeWithReadOption(t,i,C7(i,t,s,!1,!1))}else r===xo?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,C7(i,t,r,!1,!1))}matchTNodeWithReadOption(t,i,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===lr||o===Cc||o===xo&&4&i.type)this.addMatch(i.index,-2);else{const s=C7(i,t,o,!1,!1);null!==s&&this.addMatch(i.index,s)}else this.addMatch(i.index,r)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function Pye(e,t){const i=e.localNames;if(null!==i)for(let r=0;r<i.length;r+=2)if(i[r]===t)return i[r+1];return null}function Bye(e,t,i,r){return-1===i?function Lye(e,t){return 11&e.type?t2(e,t):4&e.type?n_(e,t):null}(t,e):-2===i?function $ye(e,t,i){return i===lr?t2(t,e):i===xo?n_(t,e):i===Cc?wW(t,e):void 0}(e,t,r):m1(e,e[Kn],i,t)}function SW(e,t,i,r){const o=t[X].queries[r];if(null===o.matches){const s=e.data,a=i.matches,l=[];for(let u=0;u<a.length;u+=2){const c=a[u];l.push(c<0?null:Bye(t,s[c],a[u+1],i.metadata.read))}o.matches=l}return o.matches}function KM(e,t,i,r){const o=e.queries.getByIndex(i),s=o.matches;if(null!==s){const a=SW(e,t,o,i);for(let l=0;l<s.length;l+=2){const u=s[l];if(u>0)r.push(a[l/2]);else{const c=s[l+1],f=t[-u];for(let d=$n;d<f.length;d++){const h=f[d];h[b]===h[qo]&&KM(h[Kn],h,c,r)}if(null!==f[pt]){const d=f[pt];for(let h=0;h<d.length;h++){const p=d[h];KM(p[Kn],p,c,r)}}}}}return r}function Ni(e){const t=Xt(),i=Pr(),r=vz();fx(r+1);const o=xW(i,r);if(e.dirty&&function b6e(e){return 4==(4&e[tr])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const s=o.crossesNgTemplate?KM(i,t,r,[]):SW(i,t,o,r);e.reset(s,Pve),e.notifyOnChanges()}return!0}return!1}function jo(e,t,i){const r=Pr();r.firstCreatePass&&(DW(r,new EW(e,t,i),-1),2==(2&t)&&(r.staticViewQueries=!0)),CW(r,Xt(),t)}function yo(e,t,i,r){const o=Pr();if(o.firstCreatePass){const s=xa();DW(o,new EW(t,i,r),s.index),function Vye(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(o,e),2==(2&i)&&(o.staticContentQueries=!0)}CW(o,Xt(),i)}function Ii(){return function Uye(e,t){return e[X].queries[t].queryList}(Xt(),vz())}function CW(e,t,i){const r=new zM(4==(4&i));gj(e,t,r,r.destroy),null===t[X]&&(t[X]=new GM),t[X].queries.push(new jM(r))}function DW(e,t,i){null===e.queries&&(e.queries=new WM),e.queries.track(new YM(t,i))}function xW(e,t){return e.queries.getByIndex(t)}function Aa(e,t){return n_(e,t)}function r_(...e){}const o_=new si("Application Initializer");let s_=(()=>{class e{constructor(i){this.appInits=i,this.resolve=r_,this.reject=r_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const i=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const s=this.appInits[o]();if(O8(s))i.push(s);else if(MM(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});i.push(a)}}Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),0===i.length&&r(),this.initialized=!0}}return e.\u0275fac=function(i){return new(i||e)(qt(o_,8))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const z8=new si("AppId",{providedIn:"root",factory:function qW(){return`${tA()}${tA()}${tA()}`}});function tA(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jW=new si("Platform Initializer"),Uh=new si("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GW=new si("AnimationModuleType");let abe=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const $u=new si("LocaleId",{providedIn:"root",factory:()=>Qn($u,je.Optional|je.SkipSelf)||function lbe(){return typeof $localize<"u"&&$localize.locale||y2}()});class cbe{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let WW=(()=>{class e{compileModuleSync(i){return new UM(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),s=T0(Nl(i).declarations).reduce((a,l)=>{const u=Yr(l);return u&&a.push(new A8(u)),a},[]);return new cbe(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hbe=(()=>Promise.resolve(0))();function nA(e){typeof Zone>"u"?hbe.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class xr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new On(!1),this.onMicrotaskEmpty=new On(!1),this.onStable=new On(!1),this.onError=new On(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function pbe(){let e=bn.requestAnimationFrame,t=bn.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vbe(e){const t=()=>{!function mbe(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rA(e),e.isCheckStableRunning=!0,iA(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rA(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,r,o,s,a,l)=>{try{return XW(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ZW(e)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return XW(e),i.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),ZW(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,rA(e),iA(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xr.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(xr.isInAngularZone())throw new ce(909,!1)}run(t,i,r){return this._inner.run(t,i,r)}runTask(t,i,r,o){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+o,t,gbe,r_,r_);try{return s.runTask(a,i,r)}finally{s.cancelTask(a)}}runGuarded(t,i,r){return this._inner.runGuarded(t,i,r)}runOutsideAngular(t){return this._outer.run(t)}}const gbe={};function iA(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rA(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function XW(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ZW(e){e._nesting--,iA(e)}class _be{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new On,this.onMicrotaskEmpty=new On,this.onStable=new On,this.onError=new On}run(t,i,r){return t.apply(i,r)}runGuarded(t,i,r){return t.apply(i,r)}runOutsideAngular(t){return t()}runTask(t,i,r,o){return t.apply(i,r)}}const QW=new si(""),a_=new si("");let aA,oA=(()=>{class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aA||(function ybe(e){aA=e}(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xr.assertNotInAngularZone(),nA(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nA(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}}return e.\u0275fac=function(i){return new(i||e)(qt(xr),qt(sA),qt(a_))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),sA=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return aA?.findTestabilityInTree(this,i,r)??null}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const R0=!1;let Vh=null;const JW=new si("AllowMultipleToken"),lA=new si("PlatformDestroyListeners"),eY=new si("appBootstrapListener");class tY{constructor(t,i){this.name=t,this.token=i}}function iY(e,t,i=[]){const r=`Platform: ${t}`,o=new si(r);return(s=[])=>{let a=uA();if(!a||a.injector.get(JW,!1)){const l=[...i,...s,{provide:o,useValue:!0}];e?e(l):function Ebe(e){if(Vh&&!Vh.get(JW,!1))throw new ce(400,!1);Vh=e;const t=e.get(oY);(function nY(e){const t=e.get(jW,null);t&&t.forEach(i=>i())})(e)}(function rY(e=[],t){return au.create({name:t,providers:[{provide:tM,useValue:"platform"},{provide:lA,useValue:new Set([()=>Vh=null])},...e]})}(l,r))}return function Cbe(e){const t=uA();if(!t)throw new ce(401,!1);return t}()}}function uA(){return Vh?.get(oY)??null}let oY=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const o=function aY(e,t){let i;return i="noop"===e?new _be:("zone.js"===e?void 0:e)||new xr(t),i}(r?.ngZone,function sY(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:xr,useValue:o}];return o.run(()=>{const a=au.create({providers:s,parent:this.injector,name:i.moduleType.name}),l=i.create(a),u=l.injector.get(i2,null);if(!u)throw new ce(402,!1);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:f=>{u.handleError(f)}});l.onDestroy(()=>{l_(this._modules,l),c.unsubscribe()})}),function lY(e,t,i){try{const r=i();return O8(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const c=l.injector.get(s_);return c.runInitializers(),c.donePromise.then(()=>(RG(l.injector.get($u,y2)||y2),this._moduleDoBootstrap(l),l))})})}bootstrapModule(i,r=[]){const o=uY({},r);return function bbe(e,t,i){const r=new UM(i);return Promise.resolve(r)}(0,0,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){const r=i.injector.get(A1);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new ce(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(lA,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(i){return new(i||e)(qt(au))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function uY(e,t){return Array.isArray(t)?t.reduce(uY,e):{...e,...t}}let A1=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(i,r,o){this._zone=i,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new $e(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new $e(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{xr.assertNotInAngularZone(),nA(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=Ft(s,a.pipe(function En(){return e=>Bt()(function oi(e,t){return function(r){let o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new Ai(o,t));const s=Object.create(r,Li);return s.source=r,s.subjectFactory=o,s}}(Ti)(e))}()))}bootstrap(i,r){const o=i instanceof qq;if(!this._injector.get(s_).done){!o&&function Th(e){const t=Yr(e)||oa(e)||Ka(e);return null!==t&&t.standalone}(i);throw new ce(405,R0)}let a;a=o?i:this._injector.get(C8).resolveComponentFactory(i),this.componentTypes.push(a.componentType);const l=function wbe(e){return e.isBoundToModule}(a)?void 0:this._injector.get(w2),c=a.create(au.NULL,[],r||a.selector,l),f=c.location.nativeElement,d=c.injector.get(QW,null);return d?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),l_(this.components,c),d?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;l_(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(eY,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>l_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ce(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(i){return new(i||e)(qt(xr),qt(wc),qt(i2))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function l_(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}let Ta=(()=>{class e{}return e.__NG_ELEMENT_ID__=xbe,e})();function xbe(e){return function Mbe(e,t,i){if(pr(e)&&!i){const r=ru(e.index,t);return new M8(r,r)}return 47&e.type?new M8(t[hs],t):null}(xa(),Xt(),16==(16&e))}class pY{constructor(){}supports(t){return G7(t)}create(t){return new Rbe(t)}}const Obe=(e,t)=>t;class Rbe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Obe}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,r=this._removalsHead,o=0,s=null;for(;i||r;){const a=!r||i&&i.currentIndex<mY(r,o,s)?i:r,l=mY(a,o,s),u=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(i=i._next,null==a.previousIndex)o++;else{s||(s=[]);const c=l-o,f=u-o;if(c!=f){for(let h=0;h<c;h++){const p=h<s.length?s[h]:s[h]=0,m=p+h;f<=m&&m<c&&(s[h]=p+1)}s[a.previousIndex]=f-c}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!G7(t))throw new ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,a,i=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==i&&Object.is(i.trackById,a)?(r&&(i=this._verifyReinsertion(i,s,a,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,a,l),r=!0),i=i._next}else o=0,function v7e(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let r;for(;!(r=i.next()).done;)t(r.value)}}(t,l=>{a=this._trackByFn(o,l),null!==i&&Object.is(i.trackById,a)?(r&&(i=this._verifyReinsertion(i,l,a,o)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,a,o),r=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,o)):t=this._addAfter(new kbe(i,r),s,o),t}_verifyReinsertion(t,i,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,i,r),this._addToMoves(t,r),t}_moveAfter(t,i,r){return this._unlink(t),this._insertAfter(t,i,r),this._addToMoves(t,r),t}_addAfter(t,i,r){return this._insertAfter(t,i,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,r){const o=null===i?this._itHead:i._next;return t._next=o,t._prev=i,null===o?this._itTail=t:o._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new gY),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,r=t._next;return null===i?this._itHead=r:i._next=r,null===r?this._itTail=i:r._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gY),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kbe{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fbe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===i||i<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const i=t._prevDup,r=t._nextDup;return null===i?this._head=r:i._nextDup=r,null===r?this._tail=i:r._prevDup=i,null===this._head}}class gY{constructor(){this.map=new Map}put(t){const i=t.trackById;let r=this.map.get(i);r||(r=new Fbe,this.map.set(i,r)),r.add(t)}get(t,i){const o=this.map.get(t);return o?o.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mY(e,t,i){const r=e.previousIndex;if(null===r)return r;let o=0;return i&&r<i.length&&(o=i[r]),r+t+o}class vY{constructor(){}supports(t){return t instanceof Map||DM(t)}create(){return new Pbe}}class Pbe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||DM(t)))throw new ce(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(i&&i.key===o)this._maybeAddToChanges(i,r),this._appendAfter=i,i=i._next;else{const s=this._getOrCreateRecordForKey(o,r);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let r=i;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const r=t._prev;return i._next=t,i._prev=r,t._prev=i,r&&(r._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,i);const s=o._prev,a=o._next;return s&&(s._next=a),a&&(a._prev=s),o._next=null,o._prev=null,o}const r=new Lbe(t);return this._records.set(t,r),r.currentValue=i,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(r=>i(t[r],r))}}class Lbe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _Y(){return new f_([new pY])}let f_=(()=>{class e{constructor(i){this.factories=i}static create(i,r){if(null!=r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||_Y()),deps:[[e,new p8,new h8]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(null!=r)return r;throw new ce(901,!1)}}return e.\u0275prov=on({token:e,providedIn:"root",factory:_Y}),e})();function yY(){return new q8([new vY])}let q8=(()=>{class e{constructor(i){this.factories=i}static create(i,r){if(r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||yY()),deps:[[e,new p8,new h8]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(r)return r;throw new ce(901,!1)}}return e.\u0275prov=on({token:e,providedIn:"root",factory:yY}),e})();const Ube=iY(null,"core",[]);let Vbe=(()=>{class e{constructor(i){}}return e.\u0275fac=function(i){return new(i||e)(qt(A1))},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})();function pA(e,t){const i=Yr(e),r=t.elementInjector||L7();return new A8(i).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}let gA=null;function k0(){return gA}class qbe{}const Mo=new si("DocumentToken");let mA=(()=>{class e{historyGo(i){throw new Error("Not implemented")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return function jbe(){return qt(bY)}()},providedIn:"platform"}),e})();const Gbe=new si("Location Initialized");let bY=(()=>{class e extends mA{constructor(i){super(),this._doc=i,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k0().getBaseHref(this._doc)}onPopState(i){const r=k0().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=k0().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){wY()?this._history.pushState(i,r,o):this._location.hash=o}replaceState(i,r,o){wY()?this._history.replaceState(i,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:function(){return function Wbe(){return new bY(qt(Mo))}()},providedIn:"platform"}),e})();function wY(){return!!window.history.pushState}function vA(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function EY(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function F0(e){return e&&"?"!==e[0]?"?"+e:e}let N1=(()=>{class e{historyGo(i){throw new Error("Not implemented")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return Qn(CY)},providedIn:"root"}),e})();const SY=new si("appBaseHref");let CY=(()=>{class e extends N1{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Qn(Mo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return vA(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+F0(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){const a=this.prepareExternalUrl(o+F0(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){const a=this.prepareExternalUrl(o+F0(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return e.\u0275fac=function(i){return new(i||e)(qt(mA),qt(SY,8))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ybe=(()=>{class e extends N1{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=vA(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+F0(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+F0(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return e.\u0275fac=function(i){return new(i||e)(qt(mA),qt(SY,8))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),_A=(()=>{class e{constructor(i){this._subject=new On,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function Zbe(e){if(new RegExp("^(https?:)?//").test(e)){const[,i]=e.split(/\/\/[^\/]+/);return i}return e}(EY(DY(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+F0(r))}normalize(i){return e.stripTrailingSlash(function Xbe(e,t){if(!e||!t.startsWith(e))return t;const i=t.substring(e.length);return""===i||["/",";","?","#"].includes(i[0])?i:t}(this._basePath,DY(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+F0(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+F0(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}}return e.normalizeQueryParams=F0,e.joinWithSlash=vA,e.stripTrailingSlash=EY,e.\u0275fac=function(i){return new(i||e)(qt(N1))},e.\u0275prov=on({token:e,factory:function(){return function Kbe(){return new _A(qt(N1))}()},providedIn:"root"}),e})();function DY(e){return e.replace(/\/index.html$/,"")}var lu=(()=>((lu=lu||{})[lu.Decimal=0]="Decimal",lu[lu.Percent=1]="Percent",lu[lu.Currency=2]="Currency",lu[lu.Scientific=3]="Scientific",lu))(),Lo=(()=>((Lo=Lo||{})[Lo.Format=0]="Format",Lo[Lo.Standalone=1]="Standalone",Lo))(),Qi=(()=>((Qi=Qi||{})[Qi.Narrow=0]="Narrow",Qi[Qi.Abbreviated=1]="Abbreviated",Qi[Qi.Wide=2]="Wide",Qi[Qi.Short=3]="Short",Qi))(),ss=(()=>((ss=ss||{})[ss.Short=0]="Short",ss[ss.Medium=1]="Medium",ss[ss.Long=2]="Long",ss[ss.Full=3]="Full",ss))(),Oi=(()=>((Oi=Oi||{})[Oi.Decimal=0]="Decimal",Oi[Oi.Group=1]="Group",Oi[Oi.List=2]="List",Oi[Oi.PercentSign=3]="PercentSign",Oi[Oi.PlusSign=4]="PlusSign",Oi[Oi.MinusSign=5]="MinusSign",Oi[Oi.Exponential=6]="Exponential",Oi[Oi.SuperscriptingExponent=7]="SuperscriptingExponent",Oi[Oi.PerMille=8]="PerMille",Oi[Oi.Infinity=9]="Infinity",Oi[Oi.NaN=10]="NaN",Oi[Oi.TimeSeparator=11]="TimeSeparator",Oi[Oi.CurrencyDecimal=12]="CurrencyDecimal",Oi[Oi.CurrencyGroup=13]="CurrencyGroup",Oi))();function MY(e,t,i){const r=Rl(e),s=xc([r[jn.DayPeriodsFormat],r[jn.DayPeriodsStandalone]],t);return xc(s,i)}function AY(e,t,i){const r=Rl(e),s=xc([r[jn.DaysFormat],r[jn.DaysStandalone]],t);return xc(s,i)}function yA(e,t,i){const r=Rl(e),s=xc([r[jn.MonthsFormat],r[jn.MonthsStandalone]],t);return xc(s,i)}function d_(e,t){return xc(Rl(e)[jn.DateFormat],t)}function h_(e,t){return xc(Rl(e)[jn.TimeFormat],t)}function p_(e,t){return xc(Rl(e)[jn.DateTimeFormat],t)}function Dc(e,t){const i=Rl(e),r=i[jn.NumberSymbols][t];if(typeof r>"u"){if(t===Oi.CurrencyDecimal)return i[jn.NumberSymbols][Oi.Decimal];if(t===Oi.CurrencyGroup)return i[jn.NumberSymbols][Oi.Group]}return r}function TY(e){if(!e[jn.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[jn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xc(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function wA(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const awe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j8={},lwe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gs=(()=>((Gs=Gs||{})[Gs.Short=0]="Short",Gs[Gs.ShortGMT=1]="ShortGMT",Gs[Gs.Long=2]="Long",Gs[Gs.Extended=3]="Extended",Gs))(),Fi=(()=>((Fi=Fi||{})[Fi.FullYear=0]="FullYear",Fi[Fi.Month=1]="Month",Fi[Fi.Date=2]="Date",Fi[Fi.Hours=3]="Hours",Fi[Fi.Minutes=4]="Minutes",Fi[Fi.Seconds=5]="Seconds",Fi[Fi.FractionalSeconds=6]="FractionalSeconds",Fi[Fi.Day=7]="Day",Fi))(),mr=(()=>((mr=mr||{})[mr.DayPeriods=0]="DayPeriods",mr[mr.Days=1]="Days",mr[mr.Months=2]="Months",mr[mr.Eras=3]="Eras",mr))();function NY(e,t,i,r){let o=function vwe(e){if(RY(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[o,s=1,a=1]=e.split("-").map(l=>+l);return g_(o,s-1,a)}const i=parseFloat(e);if(!isNaN(e-i))return new Date(i);let r;if(r=e.match(awe))return function _we(e){const t=new Date(0);let i=0,r=0;const o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const a=Number(e[4]||0)-i,l=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,a,l,u,c),t}(r)}const t=new Date(e);if(!RY(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=P0(i,t)||t;let l,a=[];for(;t;){if(l=lwe.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const f=a.pop();if(!f)break;t=f}}let u=o.getTimezoneOffset();r&&(u=OY(r,u),o=function mwe(e,t,i){const r=i?-1:1,o=e.getTimezoneOffset();return function gwe(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(OY(t,o)-o))}(o,r,!0));let c="";return a.forEach(f=>{const d=function pwe(e){if(SA[e])return SA[e];let t;switch(e){case"G":case"GG":case"GGG":t=No(mr.Eras,Qi.Abbreviated);break;case"GGGG":t=No(mr.Eras,Qi.Wide);break;case"GGGGG":t=No(mr.Eras,Qi.Narrow);break;case"y":t=Vs(Fi.FullYear,1,0,!1,!0);break;case"yy":t=Vs(Fi.FullYear,2,0,!0,!0);break;case"yyy":t=Vs(Fi.FullYear,3,0,!1,!0);break;case"yyyy":t=Vs(Fi.FullYear,4,0,!1,!0);break;case"Y":t=y_(1);break;case"YY":t=y_(2,!0);break;case"YYY":t=y_(3);break;case"YYYY":t=y_(4);break;case"M":case"L":t=Vs(Fi.Month,1,1);break;case"MM":case"LL":t=Vs(Fi.Month,2,1);break;case"MMM":t=No(mr.Months,Qi.Abbreviated);break;case"MMMM":t=No(mr.Months,Qi.Wide);break;case"MMMMM":t=No(mr.Months,Qi.Narrow);break;case"LLL":t=No(mr.Months,Qi.Abbreviated,Lo.Standalone);break;case"LLLL":t=No(mr.Months,Qi.Wide,Lo.Standalone);break;case"LLLLL":t=No(mr.Months,Qi.Narrow,Lo.Standalone);break;case"w":t=EA(1);break;case"ww":t=EA(2);break;case"W":t=EA(1,!0);break;case"d":t=Vs(Fi.Date,1);break;case"dd":t=Vs(Fi.Date,2);break;case"c":case"cc":t=Vs(Fi.Day,1);break;case"ccc":t=No(mr.Days,Qi.Abbreviated,Lo.Standalone);break;case"cccc":t=No(mr.Days,Qi.Wide,Lo.Standalone);break;case"ccccc":t=No(mr.Days,Qi.Narrow,Lo.Standalone);break;case"cccccc":t=No(mr.Days,Qi.Short,Lo.Standalone);break;case"E":case"EE":case"EEE":t=No(mr.Days,Qi.Abbreviated);break;case"EEEE":t=No(mr.Days,Qi.Wide);break;case"EEEEE":t=No(mr.Days,Qi.Narrow);break;case"EEEEEE":t=No(mr.Days,Qi.Short);break;case"a":case"aa":case"aaa":t=No(mr.DayPeriods,Qi.Abbreviated);break;case"aaaa":t=No(mr.DayPeriods,Qi.Wide);break;case"aaaaa":t=No(mr.DayPeriods,Qi.Narrow);break;case"b":case"bb":case"bbb":t=No(mr.DayPeriods,Qi.Abbreviated,Lo.Standalone,!0);break;case"bbbb":t=No(mr.DayPeriods,Qi.Wide,Lo.Standalone,!0);break;case"bbbbb":t=No(mr.DayPeriods,Qi.Narrow,Lo.Standalone,!0);break;case"B":case"BB":case"BBB":t=No(mr.DayPeriods,Qi.Abbreviated,Lo.Format,!0);break;case"BBBB":t=No(mr.DayPeriods,Qi.Wide,Lo.Format,!0);break;case"BBBBB":t=No(mr.DayPeriods,Qi.Narrow,Lo.Format,!0);break;case"h":t=Vs(Fi.Hours,1,-12);break;case"hh":t=Vs(Fi.Hours,2,-12);break;case"H":t=Vs(Fi.Hours,1);break;case"HH":t=Vs(Fi.Hours,2);break;case"m":t=Vs(Fi.Minutes,1);break;case"mm":t=Vs(Fi.Minutes,2);break;case"s":t=Vs(Fi.Seconds,1);break;case"ss":t=Vs(Fi.Seconds,2);break;case"S":t=Vs(Fi.FractionalSeconds,1);break;case"SS":t=Vs(Fi.FractionalSeconds,2);break;case"SSS":t=Vs(Fi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=v_(Gs.Short);break;case"ZZZZZ":t=v_(Gs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=v_(Gs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=v_(Gs.Long);break;default:return null}return SA[e]=t,t}(f);c+=d?d(o,i,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function g_(e,t,i){const r=new Date(0);return r.setFullYear(e,t,i),r.setHours(0,0,0),r}function P0(e,t){const i=function Qbe(e){return Rl(e)[jn.LocaleId]}(e);if(j8[i]=j8[i]||{},j8[i][t])return j8[i][t];let r="";switch(t){case"shortDate":r=d_(e,ss.Short);break;case"mediumDate":r=d_(e,ss.Medium);break;case"longDate":r=d_(e,ss.Long);break;case"fullDate":r=d_(e,ss.Full);break;case"shortTime":r=h_(e,ss.Short);break;case"mediumTime":r=h_(e,ss.Medium);break;case"longTime":r=h_(e,ss.Long);break;case"fullTime":r=h_(e,ss.Full);break;case"short":const o=P0(e,"shortTime"),s=P0(e,"shortDate");r=m_(p_(e,ss.Short),[o,s]);break;case"medium":const a=P0(e,"mediumTime"),l=P0(e,"mediumDate");r=m_(p_(e,ss.Medium),[a,l]);break;case"long":const u=P0(e,"longTime"),c=P0(e,"longDate");r=m_(p_(e,ss.Long),[u,c]);break;case"full":const f=P0(e,"fullTime"),d=P0(e,"fullDate");r=m_(p_(e,ss.Full),[f,d])}return r&&(j8[i][t]=r),r}function m_(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(i,r){return null!=t&&r in t?t[r]:i})),e}function gf(e,t,i="-",r,o){let s="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,s=i));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),s+a}function Vs(e,t,i=0,r=!1,o=!1){return function(s,a){let l=function cwe(e,t){switch(e){case Fi.FullYear:return t.getFullYear();case Fi.Month:return t.getMonth();case Fi.Date:return t.getDate();case Fi.Hours:return t.getHours();case Fi.Minutes:return t.getMinutes();case Fi.Seconds:return t.getSeconds();case Fi.FractionalSeconds:return t.getMilliseconds();case Fi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||l>-i)&&(l+=i),e===Fi.Hours)0===l&&-12===i&&(l=12);else if(e===Fi.FractionalSeconds)return function uwe(e,t){return gf(e,3).substring(0,t)}(l,t);const u=Dc(a,Oi.MinusSign);return gf(l,t,u,r,o)}}function No(e,t,i=Lo.Format,r=!1){return function(o,s){return function fwe(e,t,i,r,o,s){switch(i){case mr.Months:return yA(t,o,r)[e.getMonth()];case mr.Days:return AY(t,o,r)[e.getDay()];case mr.DayPeriods:const a=e.getHours(),l=e.getMinutes();if(s){const c=function nwe(e){const t=Rl(e);return TY(t),(t[jn.ExtraData][2]||[]).map(r=>"string"==typeof r?wA(r):[wA(r[0]),wA(r[1])])}(t),f=function iwe(e,t,i){const r=Rl(e);TY(r);const s=xc([r[jn.ExtraData][0],r[jn.ExtraData][1]],t)||[];return xc(s,i)||[]}(t,o,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[p,m]=h,v=a>=p.hours&&l>=p.minutes,_=a<m.hours||a===m.hours&&l<m.minutes;if(p.hours<m.hours){if(v&&_)return!0}else if(v||_)return!0}else if(h.hours===a&&h.minutes===l)return!0;return!1});if(-1!==d)return f[d]}return MY(t,o,r)[a<12?0:1];case mr.Eras:return function Jbe(e,t){return xc(Rl(e)[jn.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(o,s,e,t,i,r)}}function v_(e){return function(t,i,r){const o=-1*r,s=Dc(i,Oi.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case Gs.Short:return(o>=0?"+":"")+gf(a,2,s)+gf(Math.abs(o%60),2,s);case Gs.ShortGMT:return"GMT"+(o>=0?"+":"")+gf(a,1,s);case Gs.Long:return"GMT"+(o>=0?"+":"")+gf(a,2,s)+":"+gf(Math.abs(o%60),2,s);case Gs.Extended:return 0===r?"Z":(o>=0?"+":"")+gf(a,2,s)+":"+gf(Math.abs(o%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const dwe=0,__=4;function IY(e){return g_(e.getFullYear(),e.getMonth(),e.getDate()+(__-e.getDay()))}function EA(e,t=!1){return function(i,r){let o;if(t){const s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,a=i.getDate();o=1+Math.floor((a+s)/7)}else{const s=IY(i),a=function hwe(e){const t=g_(e,dwe,1).getDay();return g_(e,0,1+(t<=__?__:__+7)-t)}(s.getFullYear()),l=s.getTime()-a.getTime();o=1+Math.round(l/6048e5)}return gf(o,e,Dc(r,Oi.MinusSign))}}function y_(e,t=!1){return function(i,r){return gf(IY(i).getFullYear(),e,Dc(r,Oi.MinusSign),t)}}const SA={};function OY(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function RY(e){return e instanceof Date&&!isNaN(e.valueOf())}const ywe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,kY=22,b_=".",G8="0",bwe=";",wwe=",",CA="#";function MA(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function LY(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const r=i.indexOf("="),[o,s]=-1==r?[i,""]:[i.slice(0,r),i.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const TA=/\s+/,BY=[];let W8=(()=>{class e{constructor(i,r,o,s){this._iterableDiffers=i,this._keyValueDiffers=r,this._ngEl=o,this._renderer=s,this.initialClasses=BY,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(TA):BY}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(TA):i}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const r of i)this._updateState(r,!0);else if(null!=i)for(const r of Object.keys(i))this._updateState(r,Boolean(i[r]));this._applyStateDiff()}_updateState(i,r){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){(i=i.trim()).length>0&&i.split(TA).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return e.\u0275fac=function(i){return new(i||e)(Ae(f_),Ae(q8),Ae(lr),Ae(aa))},e.\u0275dir=wn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Iwe{constructor(t,i,r,o){this.$implicit=t,this.ngForOf=i,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uu=(()=>{class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Iwe(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,a),VY(l,o)}});for(let o=0,s=r.length;o<s;o++){const l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{VY(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,r){return!0}}return e.\u0275fac=function(i){return new(i||e)(Ae(Cc),Ae(xo),Ae(f_))},e.\u0275dir=wn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function VY(e,t){e.context.$implicit=t.item}let la=(()=>{class e{constructor(i,r){this._viewContainer=i,this._context=new Rwe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){HY("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){HY("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return e.\u0275fac=function(i){return new(i||e)(Ae(Cc),Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Rwe{constructor(){this.$implicit=null,this.ngIf=null}}function HY(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${di(t)}'.`)}let w_=(()=>{class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){const[o,s]=i.split("."),a=-1===o.indexOf("-")?void 0:ou.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(i){return new(i||e)(Ae(lr),Ae(q8),Ae(aa))},e.\u0275dir=wn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Mc=(()=>{class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=r.createEmbeddedView(o,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(i){return new(i||e)(Ae(Cc))},e.\u0275dir=wn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Fr]}),e})();let jY=(()=>{class e{constructor(i){this._locale=i}transform(i,r,o){if(!function OA(e){return!(null==e||""===e||e!=e)}(i))return null;o=o||this._locale;try{return function Cwe(e,t,i){return function DA(e,t,i,r,o,s,a=!1){let l="",u=!1;if(isFinite(e)){let c=function Mwe(e){let r,o,s,a,l,t=Math.abs(e)+"",i=0;for((o=t.indexOf(b_))>-1&&(t=t.replace(b_,"")),(s=t.search(/e/i))>0?(o<0&&(o=s),o+=+t.slice(s+1),t=t.substring(0,s)):o<0&&(o=t.length),s=0;t.charAt(s)===G8;s++);if(s===(l=t.length))r=[0],o=1;else{for(l--;t.charAt(l)===G8;)l--;for(o-=s,r=[],a=0;s<=l;s++,a++)r[a]=Number(t.charAt(s))}return o>kY&&(r=r.splice(0,kY-1),i=o-1,o=1),{digits:r,exponent:i,integerLen:o}}(e);a&&(c=function xwe(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let f=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){const w=s.match(ywe);if(null===w)throw new Error(`${s} is not a valid digit info`);const S=w[1],M=w[3],A=w[5];null!=S&&(f=MA(S)),null!=M&&(d=MA(M)),null!=A?h=MA(A):null!=M&&d>h&&(h=d)}!function Awe(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let r=e.digits,o=r.length-e.integerLen;const s=Math.min(Math.max(t,o),i);let a=s+e.integerLen,l=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(let d=a;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let d=1;d<a;d++)r[d]=0}if(l>=5)if(a-1<0){for(let d=0;d>a;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;o<Math.max(0,s);o++)r.push(0);let u=0!==s;const c=t+e.integerLen,f=r.reduceRight(function(d,h,p,m){return m[p]=(h+=d)<10?h:h-10,u&&(0===m[p]&&p>=c?m.pop():u=!1),h>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}(c,d,h);let p=c.digits,m=c.integerLen;const v=c.exponent;let _=[];for(u=p.every(w=>!w);m<f;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?_=p.splice(m,p.length):(_=p,p=[0]);const y=[];for(p.length>=t.lgSize&&y.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)y.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),l=y.join(Dc(i,r)),_.length&&(l+=Dc(i,o)+_.join("")),v&&(l+=Dc(i,Oi.Exponential)+"+"+v)}else l=Dc(i,Oi.Infinity);return l=e<0&&!u?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(e,function xA(e,t="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(bwe),o=r[0],s=r[1],a=-1!==o.indexOf(b_)?o.split(b_):[o.substring(0,o.lastIndexOf(G8)+1),o.substring(o.lastIndexOf(G8)+1)],l=a[0],u=a[1]||"";i.posPre=l.substring(0,l.indexOf(CA));for(let f=0;f<u.length;f++){const d=u.charAt(f);d===G8?i.minFrac=i.maxFrac=f+1:d===CA?i.maxFrac=f+1:i.posSuf+=d}const c=l.split(wwe);if(i.gSize=c[1]?c[1].length:0,i.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const f=o.length-i.posPre.length-i.posSuf.length,d=s.indexOf(CA);i.negPre=s.substring(0,d).replace(/'/g,""),i.negSuf=s.slice(d+f).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}(function bA(e,t){return Rl(e)[jn.NumberFormats][t]}(t,lu.Percent),Dc(t,Oi.MinusSign)),t,Oi.Group,Oi.Decimal,i,!0).replace(new RegExp("%","g"),Dc(t,Oi.PercentSign))}(function RA(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(i),o,r)}catch(s){throw function mf(e,t){return new ce(2100,!1)}()}}}return e.\u0275fac=function(i){return new(i||e)(Ae($u,16))},e.\u0275pipe=Ya({name:"percent",type:e,pure:!0,standalone:!0}),e})();let I1=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})();const GY="browser";function Y8(e){return e===GY}let aEe=(()=>{class e{}return e.\u0275prov=on({token:e,providedIn:"root",factory:()=>new lEe(qt(Mo),window)}),e})();class lEe{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const i=function uEe(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const s=o.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=t)}}scrollToElement(t){const i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=WY(this.window.history)||WY(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function WY(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class YY{}class PEe extends qbe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PA extends PEe{static makeCurrent(){!function zbe(e){gA||(gA=e)}(new PA)}onAndCancel(t,i,r){return t.addEventListener(i,r,!1),()=>{t.removeEventListener(i,r,!1)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function LEe(){return X8=X8||document.querySelector("base"),X8?X8.getAttribute("href"):null}();return null==i?null:function BEe(e){C_=C_||document.createElement("a"),C_.setAttribute("href",e);const t=C_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(i)}resetBaseElement(){X8=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return LY(document.cookie,t)}}let C_,X8=null;const JY=new si("TRANSITION_ID"),UEe=[{provide:o_,useFactory:function $Ee(e,t,i){return()=>{i.get(s_).donePromise.then(()=>{const r=k0(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<o.length;s++)r.remove(o[s])})}},deps:[JY,Mo,au],multi:!0}];let HEe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const D_=new si("EventManagerPlugins");let x_=(()=>{class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}addGlobalEventListener(i,r,o){return this._findPluginFor(r).addGlobalEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){const r=this._eventNameToPlugin.get(i);if(r)return r;const o=this._plugins;for(let s=0;s<o.length;s++){const a=o[s];if(a.supports(i))return this._eventNameToPlugin.set(i,a),a}throw new Error(`No event manager plugin found for event ${i}`)}}return e.\u0275fac=function(i){return new(i||e)(qt(D_),qt(xr))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();class eK{constructor(t){this._doc=t}addGlobalEventListener(t,i,r){const o=k0().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${i}`);return this.addEventListener(o,i,r)}}let tK=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(i){}onStyleAdded(i){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(i,r){const o=this.usageCount;let s=o.get(i)??0;return s+=r,s>0?o.set(i,s):o.delete(i),s}ngOnDestroy(){for(const i of this.getAllStyles())this.onStyleRemoved(i);this.usageCount.clear()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),Z8=(()=>{class e extends tK{constructor(i){super(),this.doc=i,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.forEach(s=>s.remove()),r.delete(i)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}addStyleToHost(i,r){const o=this.doc.createElement("style");o.textContent=r,i.appendChild(o);const s=this.styleRef.get(r);s?s.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const LA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BA=/%COMP%/g,rK=new si("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function oK(e,t){return t.flat(100).map(i=>i.replace(BA,e))}function sK(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let M_=(()=>{class e{constructor(i,r,o,s){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new $A(i)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(i,r);return o instanceof uK?o.applyToHost(i):o instanceof UA&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const a=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Do.Emulated:s=new uK(a,l,r,this.appId,u);break;case Do.ShadowDom:return new KEe(a,l,i,r);default:s=new UA(a,l,r,u)}s.onDestroy=()=>o.delete(r.id),o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(i){return new(i||e)(qt(x_),qt(Z8),qt(z8),qt(rK))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();class $A{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,i){return i?document.createElementNS(LA[i]||i,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,i){(lK(t)?t.content:t).appendChild(i)}insertBefore(t,i,r){t&&(lK(t)?t.content:t).insertBefore(i,r)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return i||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,r,o){if(o){i=o+":"+i;const s=LA[o];s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}else t.setAttribute(i,r)}removeAttribute(t,i,r){if(r){const o=LA[r];o?t.removeAttributeNS(o,i):t.removeAttribute(`${r}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,r,o){o&(ou.DashCase|ou.Important)?t.style.setProperty(i,r,o&ou.Important?"important":""):t.style[i]=r}removeStyle(t,i,r){r&ou.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,r){t[i]=r}setValue(t,i){t.nodeValue=i}listen(t,i,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,i,sK(r)):this.eventManager.addEventListener(t,i,sK(r))}}function lK(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class KEe extends $A{constructor(t,i,r,o){super(t),this.sharedStylesHost=i,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=oK(o.id,o.styles);for(const a of s){const l=document.createElement("style");l.textContent=a,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,r){return super.insertBefore(this.nodeOrShadowRoot(t),i,r)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class UA extends $A{constructor(t,i,r,o,s=r.id){super(t),this.sharedStylesHost=i,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=oK(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class uK extends UA{constructor(t,i,r,o,s){const a=o+"-"+r.id;super(t,i,r,s,a),this.contentAttr=function GEe(e){return"_ngcontent-%COMP%".replace(BA,e)}(a),this.hostAttr=function WEe(e){return"_nghost-%COMP%".replace(BA,e)}(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const r=super.createElement(t,i);return super.setAttribute(r,this.contentAttr,""),r}}let XEe=(()=>{class e extends eK{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const cK=["alt","control","meta","shift"],ZEe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QEe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let JEe=(()=>{class e extends eK{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,o){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k0().onAndCancel(i,s.domEventName,a))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),cK.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),a+=c+".")}),a+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let o=ZEe[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cK.forEach(a=>{a!==o&&(0,QEe[a])(i)&&(s+=a+".")}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const dK=[{provide:Uh,useValue:GY},{provide:jW,useValue:function eSe(){PA.makeCurrent()},multi:!0},{provide:Mo,useFactory:function nSe(){return function J4e(e){Gx=e}(document),document},deps:[]}],iSe=iY(Ube,"browser",dK),hK=new si(""),pK=[{provide:a_,useClass:class VEe{addToWindow(t){bn.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new Error("Could not find testability for element.");return s},bn.getAllAngularTestabilities=()=>t.getAllTestabilities(),bn.getAllAngularRootElements=()=>t.getAllRootElements(),bn.frameworkStabilizers||(bn.frameworkStabilizers=[]),bn.frameworkStabilizers.push(r=>{const o=bn.getAllAngularTestabilities();let s=o.length,a=!1;const l=function(u){a=a||u,s--,0==s&&r(a)};o.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,i,r){return null==i?null:t.getTestability(i)??(r?k0().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:QW,useClass:oA,deps:[xr,sA,a_]},{provide:oA,useClass:oA,deps:[xr,sA,a_]}],gK=[{provide:tM,useValue:"root"},{provide:i2,useFactory:function tSe(){return new i2},deps:[]},{provide:D_,useClass:XEe,multi:!0,deps:[Mo,xr,Uh]},{provide:D_,useClass:JEe,multi:!0,deps:[Mo]},{provide:M_,useClass:M_,deps:[x_,Z8,z8,rK]},{provide:n2,useExisting:M_},{provide:tK,useExisting:Z8},{provide:Z8,useClass:Z8,deps:[Mo]},{provide:x_,useClass:x_,deps:[D_,xr]},{provide:YY,useClass:HEe,deps:[]},[]];let mK=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:z8,useValue:i.appId},{provide:JY,useExisting:z8},UEe]}}}return e.\u0275fac=function(i){return new(i||e)(qt(hK,12))},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({providers:[...gK,...pK],imports:[I1,Vbe]}),e})(),vK=(()=>{class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:function(i){let r=null;return r=i?new i:function oSe(){return new vK(qt(Mo))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;class bK{}class fSe{}const L0="*";function wK(e,t){return{type:7,name:e,definitions:t,options:{}}}function A_(e,t=null){return{type:4,styles:t,timings:e}}function EK(e,t=null){return{type:2,steps:e,options:t}}function D2(e){return{type:6,styles:e,offset:null}}function T_(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function SK(e,t=null){return{type:8,animation:e,options:t}}function CK(e,t=null){return{type:10,animation:e,options:t}}function DK(e){Promise.resolve().then(e)}class Q8{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DK(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}class xK{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,r=0,o=0;const s=this.players.length;0==s?DK(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++i==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const i=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,i/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((i,r)=>null===i||r.totalTime>i.totalTime?r:i,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}const zA="!";function MK(e){return new ce(3e3,!1)}function GSe(){return typeof window<"u"&&typeof window.document<"u"}function qA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zh(e){switch(e.length){case 0:return new Q8;case 1:return e[0];default:return new xK(e)}}function AK(e,t,i,r,o=new Map,s=new Map){const a=[],l=[];let u=-1,c=null;if(r.forEach(f=>{const d=f.get("offset"),h=d==u,p=h&&c||new Map;f.forEach((m,v)=>{let _=v,y=m;if("offset"!==v)switch(_=t.normalizePropertyName(_,a),y){case zA:y=o.get(v);break;case L0:y=s.get(v);break;default:y=t.normalizeStyleValue(v,_,y,a)}p.set(_,y)}),h||l.push(p),c=p,u=d}),a.length)throw function kSe(e){return new ce(3502,!1)}();return l}function jA(e,t,i,r){switch(t){case"start":e.onStart(()=>r(i&&GA(i,"start",e)));break;case"done":e.onDone(()=>r(i&&GA(i,"done",e)));break;case"destroy":e.onDestroy(()=>r(i&&GA(i,"destroy",e)))}}function GA(e,t,i){const s=WA(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),a=e._data;return null!=a&&(s._data=a),s}function WA(e,t,i,r,o="",s=0,a){return{element:e,triggerName:t,fromState:i,toState:r,phaseName:o,totalTime:s,disabled:!!a}}function Vu(e,t,i){let r=e.get(t);return r||e.set(t,r=i),r}function TK(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let YA=(e,t)=>!1,NK=(e,t,i)=>[],IK=null;function KA(e){const t=e.parentNode||e.host;return t===IK?null:t}(qA()||typeof Element<"u")&&(GSe()?(IK=(()=>document.documentElement)(),YA=(e,t)=>{for(;t;){if(t===e)return!0;t=KA(t)}return!1}):YA=(e,t)=>e.contains(t),NK=(e,t,i)=>{if(i)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]});let O1=null,OK=!1;const RK=YA,kK=NK;let FK=(()=>{class e{validateStyleProperty(i){return function YSe(e){O1||(O1=function KSe(){return typeof document<"u"?document.body:null}()||{},OK=!!O1.style&&"WebkitAppearance"in O1.style);let t=!0;return O1.style&&!function WSe(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in O1.style,!t&&OK&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in O1.style)),t}(i)}matchesElement(i,r){return!1}containsElement(i,r){return RK(i,r)}getParentElement(i){return KA(i)}query(i,r,o){return kK(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,l=[],u){return new Q8(o,s)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),XA=(()=>{class e{}return e.NOOP=new FK,e})();const XSe=1e3,ZA="ng-enter",N_="ng-leave",I_="ng-trigger",O_=".ng-trigger",LK="ng-animating",QA=".ng-animating";function B0(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:JA(parseFloat(t[1]),t[2])}function JA(e,t){return"s"===t?e*XSe:e}function R_(e,t,i){return e.hasOwnProperty("duration")?e:function QSe(e,t,i){let o,s=0,a="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(MK()),{duration:0,delay:0,easing:""};o=JA(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(s=JA(parseFloat(u),l[4]));const c=l[5];c&&(a=c)}else o=e;if(!i){let l=!1,u=t.length;o<0&&(t.push(function dSe(){return new ce(3100,!1)}()),l=!0),s<0&&(t.push(function hSe(){return new ce(3101,!1)}()),l=!0),l&&t.splice(u,0,MK())}return{duration:o,delay:s,easing:a}}(e,t,i)}function J8(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function BK(e){const t=new Map;return Object.keys(e).forEach(i=>{t.set(i,e[i])}),t}function qh(e,t=new Map,i){if(i)for(let[r,o]of i)t.set(r,o);for(let[r,o]of e)t.set(r,o);return t}function UK(e,t,i){return i?t+":"+i+";":""}function VK(e){let t="";for(let i=0;i<e.style.length;i++){const r=e.style.item(i);t+=UK(0,r,e.style.getPropertyValue(r))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=UK(0,nCe(i),e.style[i]));e.setAttribute("style",t)}function wd(e,t,i){e.style&&(t.forEach((r,o)=>{const s=tT(o);i&&!i.has(o)&&i.set(o,e.style[s]),e.style[s]=r}),qA()&&VK(e))}function R1(e,t){e.style&&(t.forEach((i,r)=>{const o=tT(r);e.style[o]=""}),qA()&&VK(e))}function e6(e){return Array.isArray(e)?1==e.length?e[0]:EK(e):e}const eT=new RegExp("{{\\s*(.+?)\\s*}}","g");function HK(e){let t=[];if("string"==typeof e){let i;for(;i=eT.exec(e);)t.push(i[1]);eT.lastIndex=0}return t}function t6(e,t,i){const r=e.toString(),o=r.replace(eT,(s,a)=>{let l=t[a];return null==l&&(i.push(function gSe(e){return new ce(3003,!1)}()),l=""),l.toString()});return o==r?e:o}function k_(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const tCe=/-+([a-z0-9])/g;function tT(e){return e.replace(tCe,(...t)=>t[1].toUpperCase())}function nCe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hu(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw function mSe(e){return new ce(3004,!1)}()}}function zK(e,t){return window.getComputedStyle(e)[t]}const L_="*";function lCe(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function uCe(e,t,i){if(":"==e[0]){const u=function cCe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,r)=>parseFloat(r)>parseFloat(i);case":decrement":return(i,r)=>parseFloat(r)<parseFloat(i);default:return t.push(function NSe(e){return new ce(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof u)return void t.push(u);e=u}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return i.push(function TSe(e){return new ce(3015,!1)}()),t;const o=r[1],s=r[2],a=r[3];t.push(qK(o,a));"<"==s[0]&&!(o==L_&&a==L_)&&t.push(qK(a,o))}(r,i,t)):i.push(e),i}const B_=new Set(["true","1"]),$_=new Set(["false","0"]);function qK(e,t){const i=B_.has(e)||$_.has(e),r=B_.has(t)||$_.has(t);return(o,s)=>{let a=e==L_||e==o,l=t==L_||t==s;return!a&&i&&"boolean"==typeof o&&(a=o?B_.has(e):$_.has(e)),!l&&r&&"boolean"==typeof s&&(l=s?B_.has(t):$_.has(t)),a&&l}}const fCe=new RegExp("s*:selfs*,?","g");function nT(e,t,i,r){return new dCe(e).build(t,i,r)}class dCe{constructor(t){this._driver=t}build(t,i,r){const o=new gCe(i);return this._resetContextStyleTimingState(o),Hu(this,e6(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,i){let r=i.queryCount=0,o=i.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&i.errors.push(function _Se(){return new ce(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(i),0==l.type){const u=l,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,i))}),u.name=c}else if(1==l.type){const u=this.visitTransition(l,i);r+=u.queryCount,o+=u.depCount,a.push(u)}else i.errors.push(function ySe(){return new ce(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:r,depCount:o,options:null}}visitState(t,i){const r=this.visitStyle(t.styles,i),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=o||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(u=>{HK(u).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&(k_(s.values()),i.errors.push(function bSe(e,t){return new ce(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;const r=Hu(this,e6(t.animation),i);return{type:1,matchers:lCe(t.expr,i.errors),animation:r,queryCount:i.queryCount,depCount:i.depCount,options:k1(t.options)}}visitSequence(t,i){return{type:2,steps:t.steps.map(r=>Hu(this,r,i)),options:k1(t.options)}}visitGroup(t,i){const r=i.currentTime;let o=0;const s=t.steps.map(a=>{i.currentTime=r;const l=Hu(this,a,i);return o=Math.max(o,i.currentTime),l});return i.currentTime=o,{type:3,steps:s,options:k1(t.options)}}visitAnimate(t,i){const r=function vCe(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return iT(R_(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=iT(0,0,"");return s.dynamic=!0,s.strValue=i,s}const o=R_(i,t);return iT(o.duration,o.delay,o.easing)}(t.timings,i.errors);i.currentAnimateTimings=r;let o,s=t.styles?t.styles:D2({});if(5==s.type)o=this.visitKeyframes(s,i);else{let a=t.styles,l=!1;if(!a){l=!0;const c={};r.easing&&(c.easing=r.easing),a=D2(c)}i.currentTime+=r.duration+r.delay;const u=this.visitStyle(a,i);u.isEmptyStep=l,o=u}return i.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,i){const r=this._makeStyleAst(t,i);return this._validateStyleAst(r,i),r}_makeStyleAst(t,i){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of o)"string"==typeof l?l===L0?r.push(l):i.errors.push(new ce(3002,!1)):r.push(BK(l));let s=!1,a=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let u of l.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,i){const r=i.currentAnimateTimings;let o=i.currentTime,s=i.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,u)=>{const c=i.collectedStyles.get(i.currentQuerySelector),f=c.get(u);let d=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(i.errors.push(function ESe(e,t,i,r,o){return new ce(3010,!1)}()),d=!1),s=f.startTime),d&&c.set(u,{startTime:s,endTime:o}),i.options&&function eCe(e,t,i){const r=t.params||{},o=HK(e);o.length&&o.forEach(s=>{r.hasOwnProperty(s)||i.push(function pSe(e){return new ce(3001,!1)}())})}(l,i.options,i.errors)})})}visitKeyframes(t,i){const r={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function SSe(){return new ce(3011,!1)}()),r;let s=0;const a=[];let l=!1,u=!1,c=0;const f=t.steps.map(y=>{const w=this._makeStyleAst(y,i);let S=null!=w.offset?w.offset:function mCe(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const r=i;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(w.styles),M=0;return null!=S&&(s++,M=w.offset=S),u=u||M<0||M>1,l=l||M<c,c=M,a.push(M),w});u&&i.errors.push(function CSe(){return new ce(3012,!1)}()),l&&i.errors.push(function DSe(){return new ce(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?i.errors.push(function xSe(){return new ce(3202,!1)}()):0==s&&(h=1/(d-1));const p=d-1,m=i.currentTime,v=i.currentAnimateTimings,_=v.duration;return f.forEach((y,w)=>{const S=h>0?w==p?1:h*w:a[w],M=S*_;i.currentTime=m+v.delay+M,v.duration=M,this._validateStyleAst(y,i),y.offset=S,r.styles.push(y)}),r}visitReference(t,i){return{type:8,animation:Hu(this,e6(t.animation),i),options:k1(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:9,options:k1(t.options)}}visitAnimateRef(t,i){return{type:10,animation:this.visitReference(t.animation,i),options:k1(t.options)}}visitQuery(t,i){const r=i.currentQuerySelector,o=t.options||{};i.queryCount++,i.currentQuery=t;const[s,a]=function hCe(e){const t=!!e.split(/\s*,\s*/).find(i=>":self"==i);return t&&(e=e.replace(fCe,"")),e=e.replace(/@\*/g,O_).replace(/@\w+/g,i=>O_+"-"+i.slice(1)).replace(/:animating/g,QA),[e,t]}(t.selector);i.currentQuerySelector=r.length?r+" "+s:s,Vu(i.collectedStyles,i.currentQuerySelector,new Map);const l=Hu(this,e6(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=r,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:k1(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(function MSe(){return new ce(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:R_(t.timings,i.errors,!0);return{type:12,animation:Hu(this,e6(t.animation),i),timings:r,options:null}}}class gCe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function k1(e){return e?(e=J8(e)).params&&(e.params=function pCe(e){return e?J8(e):null}(e.params)):e={},e}function iT(e,t,i){return{duration:e,delay:t,easing:i}}function rT(e,t,i,r,o,s,a=null,l=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:r,duration:o,delay:s,totalTime:o+s,easing:a,subTimeline:l}}class U_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bCe=new RegExp(":enter","g"),ECe=new RegExp(":leave","g");function oT(e,t,i,r,o,s=new Map,a=new Map,l,u,c=[]){return(new SCe).buildKeyframes(e,t,i,r,o,s,a,l,u,c)}class SCe{buildKeyframes(t,i,r,o,s,a,l,u,c,f=[]){c=c||new U_;const d=new sT(t,i,c,o,s,f,[]);d.options=u;const h=u.delay?B0(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,u),Hu(this,r,d);const p=d.timelines.filter(m=>m.containsAnimation());if(p.length&&l.size){let m;for(let v=p.length-1;v>=0;v--){const _=p[v];if(_.element===i){m=_;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([l],null,d.errors,u)}return p.length?p.map(m=>m.buildKeyframes()):[rT(i,[],[],[],0,h,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){const r=i.subInstructions.get(i.element);if(r){const o=i.createSubContext(t.options),s=i.currentTimeline.currentTime,a=this._visitSubInstructions(r,o,o.options);s!=a&&i.transformIntoNewTimeline(a)}i.previousNode=t}visitAnimateRef(t,i){const r=i.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,r),this.visitReference(t.animation,r),i.transformIntoNewTimeline(r.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,r){for(const o of t){const s=o?.delay;if(s){const a="number"==typeof s?s:B0(t6(s,o?.params??{},i.errors));r.delayNextStep(a)}}}_visitSubInstructions(t,i,r){let s=i.currentTimeline.currentTime;const a=null!=r.duration?B0(r.duration):null,l=null!=r.delay?B0(r.delay):null;return 0!==a&&t.forEach(u=>{const c=i.appendInstructionToTimeline(u,a,l);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,i){i.updateOptions(t.options,!0),Hu(this,t.animation,i),i.previousNode=t}visitSequence(t,i){const r=i.subContextCount;let o=i;const s=t.options;if(s&&(s.params||s.delay)&&(o=i.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=V_);const a=B0(s.delay);o.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Hu(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){const r=[];let o=i.currentTimeline.currentTime;const s=t.options&&t.options.delay?B0(t.options.delay):0;t.steps.forEach(a=>{const l=i.createSubContext(t.options);s&&l.delayNextStep(s),Hu(this,a,l),o=Math.max(o,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>i.currentTimeline.mergeTimelineCollectedStyles(a)),i.transformIntoNewTimeline(o),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){const r=t.strValue;return R_(i.params?t6(r,i.params,i.errors):r,i.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){const r=i.currentAnimateTimings=this._visitTiming(t.timings,i),o=i.currentTimeline;r.delay&&(i.incrementTime(r.delay),o.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,i):(i.incrementTime(r.duration),this.visitStyle(s,i),o.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){const r=i.currentTimeline,o=i.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){const r=i.currentAnimateTimings,o=i.currentTimeline.duration,s=r.duration,l=i.createSubContext().currentTimeline;l.easing=r.easing,t.styles.forEach(u=>{l.forwardTime((u.offset||0)*s),l.setStyles(u.styles,u.easing,i.errors,i.options),l.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(l),i.transformIntoNewTimeline(o+s),i.previousNode=t}visitQuery(t,i){const r=i.currentTimeline.currentTime,o=t.options||{},s=o.delay?B0(o.delay):0;s&&(6===i.previousNode.type||0==r&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=V_);let a=r;const l=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,i.errors);i.currentQueryTotal=l.length;let u=null;l.forEach((c,f)=>{i.currentQueryIndex=f;const d=i.createSubContext(t.options,c);s&&d.delayNextStep(s),c===i.element&&(u=d.currentTimeline),Hu(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(a),u&&(i.currentTimeline.mergeTimelineCollectedStyles(u),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){const r=i.parentContext,o=i.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(i.currentQueryTotal-1);let u=a*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=l-u;break;case"full":u=r.currentStaggerTime}const f=i.currentTimeline;u&&f.delayNextStep(u);const d=f.currentTime;Hu(this,t.animation,i),i.previousNode=t,r.currentStaggerTime=o.currentTime-d+(o.startTime-r.currentTimeline.startTime)}}const V_={};class sT{constructor(t,i,r,o,s,a,l,u){this._driver=t,this.element=i,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=V_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new H_(this._driver,i,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=B0(r.duration)),null!=r.delay&&(o.delay=B0(r.delay));const s=r.params;if(s){let a=o.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!i||!a.hasOwnProperty(l))&&(a[l]=t6(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const i=this.options.params;if(i){const r=t.params={};Object.keys(i).forEach(o=>{r[o]=i[o]})}}return t}createSubContext(t=null,i,r){const o=i||this.element,s=new sT(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=V_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,r){const o={duration:i??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new CCe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,r,o,s,a){let l=[];if(o&&l.push(this.element),t.length>0){t=(t=t.replace(bCe,"."+this._enterClassName)).replace(ECe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),l.push(...c)}return!s&&0==l.length&&a.push(function ASe(e){return new ce(3014,!1)}()),l}}class H_{constructor(t,i,r,o){this._driver=t,this.element=i,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new H_(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,r]of this._globalTimelineStyles)this._backFill.set(i,r||L0),this._currentKeyframe.set(i,L0);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,r,o){i&&this._previousKeyframe.set("easing",i);const s=o&&o.params||{},a=function DCe(e,t){const i=new Map;let r;return e.forEach(o=>{if("*"===o){r=r||t.keys();for(let s of r)i.set(s,L0)}else qh(o,i)}),i}(t,this._globalTimelineStyles);for(let[l,u]of a){const c=t6(u,s,r);this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??L0),this._updateStyle(l,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,r)=>{const o=this._styleSummary.get(r);(!o||i.time>o.time)&&this._updateStyle(r,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,i=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((l,u)=>{const c=qh(l,new Map,this._backFill);c.forEach((f,d)=>{f===zA?t.add(d):f===L0&&i.add(d)}),r||c.set("offset",u/this.duration),o.push(c)});const s=t.size?k_(t.values()):[],a=i.size?k_(i.values()):[];if(r){const l=o[0],u=new Map(l);l.set("offset",0),u.set("offset",1),o=[l,u]}return rT(this.element,o,s,a,this.duration,this.startTime,this.easing,!1)}}class CCe extends H_{constructor(t,i,r,o,s,a,l=!1){super(t,i,a.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&i){const s=[],a=r+i,l=i/a,u=qh(t[0]);u.set("offset",0),s.push(u);const c=qh(t[0]);c.set("offset",WK(l)),s.push(c);const f=t.length-1;for(let d=1;d<=f;d++){let h=qh(t[d]);const p=h.get("offset");h.set("offset",WK((i+p*r)/a)),s.push(h)}r=a,i=0,o="",t=s}return rT(this.element,t,this.preStyleProps,this.postStyleProps,r,i,o,!0)}}function WK(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class aT{}const xCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class MCe extends aT{normalizePropertyName(t,i){return tT(t)}normalizeStyleValue(t,i,r,o){let s="";const a=r.toString().trim();if(xCe.has(i)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&o.push(function vSe(e,t){return new ce(3005,!1)}())}return a+s}}function YK(e,t,i,r,o,s,a,l,u,c,f,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:i,fromStyles:s,toState:r,toStyles:a,timelines:l,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:d,errors:h}}const lT={};class KK{constructor(t,i,r){this._triggerName=t,this.ast=i,this._stateStyles=r}match(t,i,r,o){return function ACe(e,t,i,r,o){return e.some(s=>s(t,i,r,o))}(this.ast.matchers,t,i,r,o)}buildStyles(t,i,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(i,r):new Map}build(t,i,r,o,s,a,l,u,c,f){const d=[],h=this.ast.options&&this.ast.options.params||lT,m=this.buildStyles(r,l&&l.params||lT,d),v=u&&u.params||lT,_=this.buildStyles(o,v,d),y=new Set,w=new Map,S=new Map,M="void"===o,A={params:TCe(v,h),delay:this.ast.options?.delay},F=f?[]:oT(t,i,this.ast.animation,s,a,m,_,A,c,d);let N=0;if(F.forEach(K=>{N=Math.max(K.duration+K.delay,N)}),d.length)return YK(i,this._triggerName,r,o,M,m,_,[],[],w,S,N,d);F.forEach(K=>{const oe=K.element,ee=Vu(w,oe,new Set);K.preStyleProps.forEach(pe=>ee.add(pe));const ve=Vu(S,oe,new Set);K.postStyleProps.forEach(pe=>ve.add(pe)),oe!==i&&y.add(oe)});const H=k_(y.values());return YK(i,this._triggerName,r,o,M,m,_,F,H,w,S,N)}}function TCe(e,t){const i=J8(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(i[r]=e[r]);return i}class NCe{constructor(t,i,r){this.styles=t,this.defaultParams=i,this.normalizer=r}buildStyles(t,i){const r=new Map,o=J8(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(o[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=t6(a,o,i));const u=this.normalizer.normalizePropertyName(l,i);a=this.normalizer.normalizeStyleValue(l,u,a,i),r.set(l,a)})}),r}}class OCe{constructor(t,i,r){this.name=t,this.ast=i,this._normalizer=r,this.transitionFactories=[],this.states=new Map,i.states.forEach(o=>{this.states.set(o.name,new NCe(o.style,o.options&&o.options.params||{},r))}),XK(this.states,"true","1"),XK(this.states,"false","0"),i.transitions.forEach(o=>{this.transitionFactories.push(new KK(t,o,this.states))}),this.fallbackTransition=function RCe(e,t,i){return new KK(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,r,o){return this.transitionFactories.find(a=>a.match(t,i,r,o))||null}matchStyles(t,i,r){return this.fallbackTransition.buildStyles(t,i,r)}}function XK(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}const kCe=new U_;class FCe{constructor(t,i,r){this.bodyNode=t,this._driver=i,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){const r=[],o=[],s=nT(this._driver,i,r,o);if(r.length)throw function FSe(e){return new ce(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,i,r){const o=t.element,s=AK(0,this._normalizer,0,t.keyframes,i,r);return this._driver.animate(o,s,t.duration,t.delay,t.easing,[],!0)}create(t,i,r={}){const o=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=oT(this._driver,i,s,ZA,N_,new Map,new Map,r,kCe,o),a.forEach(f=>{const d=Vu(l,f.element,new Map);f.postStyleProps.forEach(h=>d.set(h,null))})):(o.push(function PSe(){return new ce(3300,!1)}()),a=[]),o.length)throw function LSe(e){return new ce(3504,!1)}();l.forEach((f,d)=>{f.forEach((h,p)=>{f.set(p,this._driver.computeStyle(d,p,L0))})});const c=zh(a.map(f=>{const d=l.get(f.element);return this._buildPlayer(f,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);const r=this.players.indexOf(i);r>=0&&this.players.splice(r,1)}_getPlayer(t){const i=this._playersById.get(t);if(!i)throw function BSe(e){return new ce(3301,!1)}();return i}listen(t,i,r,o){const s=WA(i,"","","");return jA(this._getPlayer(t),r,s,o),()=>{}}command(t,i,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,i,o[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const ZK="ng-animate-queued",uT="ng-animate-disabled",UCe=[],QK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ac="__ng_removed";class cT{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;const r=t&&t.hasOwnProperty("value");if(this.value=function jCe(e){return e??null}(r?t.value:t),r){const s=J8(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const i=t.params;if(i){const r=this.options.params;Object.keys(i).forEach(o=>{null==r[o]&&(r[o]=i[o])})}}}const n6="void",fT=new cT(n6);class HCe{constructor(t,i,r){this.id=t,this.hostElement=i,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Tc(i,this._hostClassName)}listen(t,i,r,o){if(!this._triggers.has(i))throw function $Se(e,t){return new ce(3302,!1)}();if(null==r||0==r.length)throw function USe(e){return new ce(3303,!1)}();if(!function GCe(e){return"start"==e||"done"==e}(r))throw function VSe(e,t){return new ce(3400,!1)}();const s=Vu(this._elementListeners,t,[]),a={name:i,phase:r,callback:o};s.push(a);const l=Vu(this._engine.statesByElement,t,new Map);return l.has(i)||(Tc(t,I_),Tc(t,I_+"-"+i),l.set(i,fT)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers.has(i)||l.delete(i)})}}register(t,i){return!this._triggers.has(t)&&(this._triggers.set(t,i),!0)}_getTrigger(t){const i=this._triggers.get(t);if(!i)throw function HSe(e){return new ce(3401,!1)}();return i}trigger(t,i,r,o=!0){const s=this._getTrigger(i),a=new dT(this.id,i,t);let l=this._engine.statesByElement.get(t);l||(Tc(t,I_),Tc(t,I_+"-"+i),this._engine.statesByElement.set(t,l=new Map));let u=l.get(i);const c=new cT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),l.set(i,c),u||(u=fT),c.value!==n6&&u.value===c.value){if(!function KCe(e,t){const i=Object.keys(e),r=Object.keys(t);if(i.length!=r.length)return!1;for(let o=0;o<i.length;o++){const s=i[o];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(u.params,c.params)){const v=[],_=s.matchStyles(u.value,u.params,v),y=s.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{R1(t,_),wd(t,y)})}return}const h=Vu(this._engine.playersByElement,t,[]);h.forEach(v=>{v.namespaceId==this.id&&v.triggerName==i&&v.queued&&v.destroy()});let p=s.matchTransition(u.value,c.value,t,c.params),m=!1;if(!p){if(!o)return;p=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:p,fromState:u,toState:c,player:a,isFallbackTransition:m}),m||(Tc(t,ZK),a.onStart(()=>{x2(t,ZK)})),a.onDone(()=>{let v=this.players.indexOf(a);v>=0&&this.players.splice(v,1);const _=this._engine.playersByElement.get(t);if(_){let y=_.indexOf(a);y>=0&&_.splice(y,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,r)=>{this._elementListeners.set(r,i.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const i=this._engine.playersByElement.get(t);i&&(i.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){const r=this._engine.driver.query(t,O_,!0);r.forEach(o=>{if(o[Ac])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(a=>a.triggerLeaveAnimation(o,i,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,i,r,o){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((u,c)=>{if(a.set(c,u.value),this._triggers.has(c)){const f=this.trigger(t,c,n6,o);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,a),r&&zh(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const i=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(i&&r){const o=new Set;i.forEach(s=>{const a=s.name;if(o.has(a))return;o.add(a);const u=this._triggers.get(a).fallbackTransition,c=r.get(a)||fT,f=new cT(n6),d=new dT(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:c,toState:f,player:d,isFallbackTransition:!0})})}}removeNode(t,i){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let o=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)o=!0;else{let a=t;for(;a=a.parentNode;)if(r.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,i);else{const s=t[Ac];(!s||s===QK)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,i))}}insertNode(t,i){Tc(t,this._hostClassName)}drainQueuedTransitions(t){const i=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==r.triggerName){const u=WA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=t,jA(r.player,l.phase,u,l.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):i.push(r)}),this._queue=[],i.sort((r,o)=>{const s=r.transition.ast.depCount,a=o.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let i=!1;return this._elementListeners.has(t)&&(i=!0),i=!!this._queue.find(r=>r.element===t)||i,i}}class zCe{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,r){this.bodyNode=t,this.driver=i,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(i=>{i.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,i){const r=new HCe(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(r,i):(this.newHostElements.set(i,r),this.collectEnterElement(i)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,i){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,l=this.driver.getParentElement(i);for(;l;){const u=o.get(l);if(u){const c=r.indexOf(u);r.splice(c+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||r.unshift(t)}else r.push(t);return o.set(i,t),t}register(t,i){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,i)),r}registerTrigger(t,i,r){let o=this._namespaceLookup[t];o&&o.register(i,r)&&this.totalAnimations++}destroy(t,i){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(i))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const i=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&i.add(s)}return i}trigger(t,i,r,o){if(z_(i)){const s=this._fetchNamespace(t);if(s)return s.trigger(i,r,o),!0}return!1}insertNode(t,i,r,o){if(!z_(i))return;const s=i[Ac];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(i);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(i,r)}o&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Tc(t,uT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),x2(t,uT))}removeNode(t,i,r,o){if(z_(i)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(i,o):this.markElementAsRemoved(t,i,!1,o),r){const a=this.namespacesByHostElement.get(i);a&&a.id!==t&&a.removeNode(i,o)}}else this._onRemovalComplete(i,o)}markElementAsRemoved(t,i,r,o,s){this.collectedLeaveElements.push(i),i[Ac]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,i,r,o,s){return z_(i)?this._fetchNamespace(t).listen(i,r,o,s):()=>{}}_buildInstruction(t,i,r,o,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,i,s)}destroyInnerAnimations(t){let i=this.driver.query(t,O_,!0);i.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(t,QA,!0),i.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const i=this.playersByElement.get(t);i&&i.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const i=this.playersByQueriedElement.get(t);i&&i.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const i=t[Ac];if(i&&i.setForRemoval){if(t[Ac]=QK,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(uT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Tc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{i=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],i.length?zh(i).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function zSe(e){return new ce(3402,!1)}()}_flushAnimations(t,i){const r=new U_,o=[],s=new Map,a=[],l=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach($=>{f.add($);const Q=this.driver.query($,".ng-animate-queued",!0);for(let j=0;j<Q.length;j++)f.add(Q[j])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=tX(h,this.collectedEnterElements),m=new Map;let v=0;p.forEach(($,Q)=>{const j=ZA+v++;m.set(Q,j),$.forEach(J=>Tc(J,j))});const _=[],y=new Set,w=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){const Q=this.collectedLeaveElements[$],j=Q[Ac];j&&j.setForRemoval&&(_.push(Q),y.add(Q),j.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(J=>y.add(J)):w.add(Q))}const S=new Map,M=tX(h,Array.from(y));M.forEach(($,Q)=>{const j=N_+v++;S.set(Q,j),$.forEach(J=>Tc(J,j))}),t.push(()=>{p.forEach(($,Q)=>{const j=m.get(Q);$.forEach(J=>x2(J,j))}),M.forEach(($,Q)=>{const j=S.get(Q);$.forEach(J=>x2(J,j))}),_.forEach($=>{this.processLeaveNode($)})});const A=[],F=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(i).forEach(j=>{const J=j.player,re=j.element;if(A.push(J),this.collectedEnterElements.length){const et=re[Ac];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(j.triggerName)){const Vt=et.previousTriggersValues.get(j.triggerName),Re=this.statesByElement.get(j.element);if(Re&&Re.has(j.triggerName)){const ct=Re.get(j.triggerName);ct.value=Vt,Re.set(j.triggerName,ct)}}return void J.destroy()}}const _e=!d||!this.driver.containsElement(d,re),Se=S.get(re),Be=m.get(re),Oe=this._buildInstruction(j,r,Be,Se,_e);if(Oe.errors&&Oe.errors.length)return void F.push(Oe);if(_e)return J.onStart(()=>R1(re,Oe.fromStyles)),J.onDestroy(()=>wd(re,Oe.toStyles)),void o.push(J);if(j.isFallbackTransition)return J.onStart(()=>R1(re,Oe.fromStyles)),J.onDestroy(()=>wd(re,Oe.toStyles)),void o.push(J);const qe=[];Oe.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||qe.push(et)}),Oe.timelines=qe,r.append(re,Oe.timelines),a.push({instruction:Oe,player:J,element:re}),Oe.queriedElements.forEach(et=>Vu(l,et,[]).push(J)),Oe.preStyleProps.forEach((et,Vt)=>{if(et.size){let Re=u.get(Vt);Re||u.set(Vt,Re=new Set),et.forEach((ct,gt)=>Re.add(gt))}}),Oe.postStyleProps.forEach((et,Vt)=>{let Re=c.get(Vt);Re||c.set(Vt,Re=new Set),et.forEach((ct,gt)=>Re.add(gt))})});if(F.length){const $=[];F.forEach(Q=>{$.push(function qSe(e,t){return new ce(3505,!1)}())}),A.forEach(Q=>Q.destroy()),this.reportError($)}const N=new Map,H=new Map;a.forEach($=>{const Q=$.element;r.has(Q)&&(H.set(Q,Q),this._beforeAnimationBuild($.player.namespaceId,$.instruction,N))}),o.forEach($=>{const Q=$.element;this._getPreviousPlayers(Q,!1,$.namespaceId,$.triggerName,null).forEach(J=>{Vu(N,Q,[]).push(J),J.destroy()})});const K=_.filter($=>iX($,u,c)),oe=new Map;eX(oe,this.driver,w,c,L0).forEach($=>{iX($,u,c)&&K.push($)});const ve=new Map;p.forEach(($,Q)=>{eX(ve,this.driver,new Set($),u,zA)}),K.forEach($=>{const Q=oe.get($),j=ve.get($);oe.set($,new Map([...Array.from(Q?.entries()??[]),...Array.from(j?.entries()??[])]))});const pe=[],R=[],P={};a.forEach($=>{const{element:Q,player:j,instruction:J}=$;if(r.has(Q)){if(f.has(Q))return j.onDestroy(()=>wd(Q,J.toStyles)),j.disabled=!0,j.overrideTotalTime(J.totalTime),void o.push(j);let re=P;if(H.size>1){let Se=Q;const Be=[];for(;Se=Se.parentNode;){const Oe=H.get(Se);if(Oe){re=Oe;break}Be.push(Se)}Be.forEach(Oe=>H.set(Oe,re))}const _e=this._buildAnimation(j.namespaceId,J,N,s,ve,oe);if(j.setRealPlayer(_e),re===P)pe.push(j);else{const Se=this.playersByElement.get(re);Se&&Se.length&&(j.parentPlayer=zh(Se)),o.push(j)}}else R1(Q,J.fromStyles),j.onDestroy(()=>wd(Q,J.toStyles)),R.push(j),f.has(Q)&&o.push(j)}),R.forEach($=>{const Q=s.get($.element);if(Q&&Q.length){const j=zh(Q);$.setRealPlayer(j)}}),o.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<_.length;$++){const Q=_[$],j=Q[Ac];if(x2(Q,N_),j&&j.hasAnimation)continue;let J=[];if(l.size){let _e=l.get(Q);_e&&_e.length&&J.push(..._e);let Se=this.driver.query(Q,QA,!0);for(let Be=0;Be<Se.length;Be++){let Oe=l.get(Se[Be]);Oe&&Oe.length&&J.push(...Oe)}}const re=J.filter(_e=>!_e.destroyed);re.length?WCe(this,Q,re):this.processLeaveNode(Q)}return _.length=0,pe.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();const Q=this.players.indexOf($);this.players.splice(Q,1)}),$.play()}),pe}elementContainsData(t,i){let r=!1;const o=i[Ac];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(i)&&(r=!0),this.playersByQueriedElement.has(i)&&(r=!0),this.statesByElement.has(i)&&(r=!0),this._fetchNamespace(t).elementContainsData(i)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,r,o,s){let a=[];if(i){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const u=!s||s==n6;l.forEach(c=>{c.queued||!u&&c.triggerName!=o||a.push(c)})}}return(r||o)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||o&&o!=l.triggerName))),a}_beforeAnimationBuild(t,i,r){const s=i.element,a=i.isRemovalTransition?void 0:t,l=i.isRemovalTransition?void 0:i.triggerName;for(const u of i.timelines){const c=u.element,f=c!==s,d=Vu(r,c,[]);this._getPreviousPlayers(c,f,a,l,i.toState).forEach(p=>{const m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),d.push(p)})}R1(s,i.fromStyles)}_buildAnimation(t,i,r,o,s,a){const l=i.triggerName,u=i.element,c=[],f=new Set,d=new Set,h=i.timelines.map(m=>{const v=m.element;f.add(v);const _=v[Ac];if(_&&_.removedBeforeQueried)return new Q8(m.duration,m.delay);const y=v!==u,w=function YCe(e){const t=[];return nX(e,t),t}((r.get(v)||UCe).map(N=>N.getRealPlayer())).filter(N=>!!N.element&&N.element===v),S=s.get(v),M=a.get(v),A=AK(0,this._normalizer,0,m.keyframes,S,M),F=this._buildPlayer(m,A,w);if(m.subTimeline&&o&&d.add(v),y){const N=new dT(t,l,v);N.setRealPlayer(F),c.push(N)}return F});c.forEach(m=>{Vu(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function qCe(e,t,i){let r=e.get(t);if(r){if(r.length){const o=r.indexOf(i);r.splice(o,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,m.element,m))}),f.forEach(m=>Tc(m,LK));const p=zh(h);return p.onDestroy(()=>{f.forEach(m=>x2(m,LK)),wd(u,i.toStyles)}),d.forEach(m=>{Vu(o,m,[]).push(p)}),p}_buildPlayer(t,i,r){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,r):new Q8(t.duration,t.delay)}}class dT{constructor(t,i,r){this.namespaceId=t,this.triggerName=i,this.element=r,this._player=new Q8,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,r)=>{i.forEach(o=>jA(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){Vu(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const i=this._player;i.triggerCallback&&i.triggerCallback(t)}}function z_(e){return e&&1===e.nodeType}function JK(e,t){const i=e.style.display;return e.style.display=t??"none",i}function eX(e,t,i,r,o){const s=[];i.forEach(u=>s.push(JK(u)));const a=[];r.forEach((u,c)=>{const f=new Map;u.forEach(d=>{const h=t.computeStyle(c,d,o);f.set(d,h),(!h||0==h.length)&&(c[Ac]=VCe,a.push(c))}),e.set(c,f)});let l=0;return i.forEach(u=>JK(u,s[l++])),a}function tX(e,t){const i=new Map;if(e.forEach(l=>i.set(l,[])),0==t.length)return i;const r=1,o=new Set(t),s=new Map;function a(l){if(!l)return r;let u=s.get(l);if(u)return u;const c=l.parentNode;return u=i.has(c)?c:o.has(c)?r:a(c),s.set(l,u),u}return t.forEach(l=>{const u=a(l);u!==r&&i.get(u).push(l)}),i}function Tc(e,t){e.classList?.add(t)}function x2(e,t){e.classList?.remove(t)}function WCe(e,t,i){zh(i).onDone(()=>e.processLeaveNode(t))}function nX(e,t){for(let i=0;i<e.length;i++){const r=e[i];r instanceof xK?nX(r.players,t):t.push(r)}}function iX(e,t,i){const r=i.get(e);if(!r)return!1;let o=t.get(e);return o?r.forEach(s=>o.add(s)):t.set(e,r),i.delete(e),!0}class q_{constructor(t,i,r){this.bodyNode=t,this._driver=i,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new zCe(t,i,r),this._timelineEngine=new FCe(t,i,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(t,i,r,o,s){const a=t+"-"+o;let l=this._triggerCache[a];if(!l){const u=[],c=[],f=nT(this._driver,s,u,c);if(u.length)throw function RSe(e,t){return new ce(3404,!1)}();l=function ICe(e,t,i){return new OCe(e,t,i)}(o,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(i,o,l)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,r,o){this._transitionEngine.insertNode(t,i,r,o)}onRemove(t,i,r,o){this._transitionEngine.removeNode(t,i,o||!1,r)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,r,o){if("@"==r.charAt(0)){const[s,a]=TK(r);this._timelineEngine.command(s,i,a,o)}else this._transitionEngine.trigger(t,i,r,o)}listen(t,i,r,o,s){if("@"==r.charAt(0)){const[a,l]=TK(r);return this._timelineEngine.listen(a,i,l,s)}return this._transitionEngine.listen(t,i,r,o,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZCe=(()=>{class e{constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o,this._state=0;let s=e.initialStylesByElement.get(i);s||e.initialStylesByElement.set(i,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&wd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wd(this._element,this._initialStyles),this._endStyles&&(wd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(R1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(R1(this._element,this._endStyles),this._endStyles=null),wd(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function hT(e){let t=null;return e.forEach((i,r)=>{(function QCe(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,i))}),t}class rX{constructor(t,i,r,o){this.element=t,this.keyframes=i,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const i=[];return t.forEach(r=>{i.push(Object.fromEntries(r))}),i}_triggerWebAnimation(t,i,r){return t.animate(this._convertKeyframesToObject(i),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:zK(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const i="start"===t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}class JCe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,i){return!1}containsElement(t,i){return RK(t,i)}getParentElement(t){return KA(t)}query(t,i,r){return kK(t,i,r)}computeStyle(t,i,r){return window.getComputedStyle(t)[i]}animate(t,i,r,o,s,a=[]){const u={duration:r,delay:o,fill:0==o?"both":"forwards"};s&&(u.easing=s);const c=new Map,f=a.filter(p=>p instanceof rX);(function iCe(e,t){return 0===e||0===t})(r,o)&&f.forEach(p=>{p.currentSnapshot.forEach((m,v)=>c.set(v,m))});let d=function JSe(e){return e.length?e[0]instanceof Map?e:e.map(t=>BK(t)):[]}(i).map(p=>qh(p));d=function rCe(e,t,i){if(i.size&&t.length){let r=t[0],o=[];if(i.forEach((s,a)=>{r.has(a)||o.push(a),r.set(a,s)}),o.length)for(let s=1;s<t.length;s++){let a=t[s];o.forEach(l=>a.set(l,zK(e,l)))}}return t}(t,d,c);const h=function XCe(e,t){let i=null,r=null;return Array.isArray(t)&&t.length?(i=hT(t[0]),t.length>1&&(r=hT(t[t.length-1]))):t instanceof Map&&(i=hT(t)),i||r?new ZCe(e,i,r):null}(t,d);return new rX(t,d,u,h)}}let eDe=(()=>{class e extends bK{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:Do.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(i)?EK(i):i;return oX(this._renderer,null,r,"register",[o]),new tDe(r,this._renderer)}}return e.\u0275fac=function(i){return new(i||e)(qt(n2),qt(Mo))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();class tDe extends fSe{constructor(t,i){super(),this._id=t,this._renderer=i}create(t,i){return new nDe(this._id,t,i||{},this._renderer)}}class nDe{constructor(t,i,r,o){this.id=t,this.element=i,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,i){return this._renderer.listen(this.element,`@@${this.id}:${t}`,i)}_command(t,...i){return oX(this._renderer,this.element,this.id,t,i)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oX(e,t,i,r,o){return e.setProperty(t,`@@${i}:${r}`,o)}const sX="@.disabled";let iDe=(()=>{class e{constructor(i,r,o){this.delegate=i,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(i,r){const s=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new aX("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,i);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(a,l,i,f.name,f)};return r.data.animation.forEach(u),new rDe(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,o){i>=0&&i<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(i){return new(i||e)(qt(n2),qt(q_),qt(xr))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();class aX{constructor(t,i,r,o){this.namespaceId=t,this.delegate=i,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>i.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,r,o=!0){this.delegate.insertBefore(t,i,r),this.engine.onInsert(this.namespaceId,i,t,o)}removeChild(t,i,r){this.engine.onRemove(this.namespaceId,i,this.delegate,r)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,r,o){this.delegate.setAttribute(t,i,r,o)}removeAttribute(t,i,r){this.delegate.removeAttribute(t,i,r)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,r,o){this.delegate.setStyle(t,i,r,o)}removeStyle(t,i,r){this.delegate.removeStyle(t,i,r)}setProperty(t,i,r){"@"==i.charAt(0)&&i==sX?this.disableAnimations(t,!!r):this.delegate.setProperty(t,i,r)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,r){return this.delegate.listen(t,i,r)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}}class rDe extends aX{constructor(t,i,r,o,s){super(i,r,o,s),this.factory=t,this.namespaceId=i}setProperty(t,i,r){"@"==i.charAt(0)?"."==i.charAt(1)&&i==sX?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,i.slice(1),r):this.delegate.setProperty(t,i,r)}listen(t,i,r){if("@"==i.charAt(0)){const o=function oDe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=i.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function sDe(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(t,i,r)}}let aDe=(()=>{class e extends q_{constructor(i,r,o,s){super(i.body,r,o)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo),qt(XA),qt(aT),qt(A1))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const lX=[{provide:bK,useClass:eDe},{provide:aT,useFactory:function lDe(){return new MCe}},{provide:q_,useClass:aDe},{provide:n2,useFactory:function uDe(e,t,i){return new iDe(e,t,i)},deps:[M_,q_,xr]}],pT=[{provide:XA,useFactory:()=>new JCe},{provide:GW,useValue:"BrowserAnimations"},...lX],uX=[{provide:XA,useClass:FK},{provide:GW,useValue:"NoopAnimations"},...lX];let cDe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?uX:pT}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({providers:pT,imports:[mK]}),e})();function gi(...e){let t=e[e.length-1];return In(t)?(e.pop(),Te(e,t)):Ye(e)}function jh(e,t){return Ze(e,t,1)}function ua(e,t){return function(r){return r.lift(new fDe(e,t))}}class fDe{constructor(t,i){this.predicate=t,this.thisArg=i}call(t,i){return i.subscribe(new dDe(t,this.predicate,this.thisArg))}}class dDe extends O{constructor(t,i,r){super(t),this.predicate=i,this.thisArg=r,this.count=0}_next(t){let i;try{i=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}i&&this.destination.next(t)}}class G_{}class gT{}class $0{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(i=>{const r=i.indexOf(":");if(r>0){const o=i.slice(0,r),s=o.toLowerCase(),a=i.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([i,r])=>{let o;if(o="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),o.length>0){const s=i.toLowerCase();this.headers.set(s,o),this.maybeSetNormalizedName(i,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof $0?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new $0;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof $0?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,i);const o=("a"===t.op?this.headers.get(i):void 0)||[];o.push(...r),this.headers.set(i,o);break;case"d":const s=t.value;if(s){let a=this.headers.get(i);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,a)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class hDe{encodeKey(t){return cX(t)}encodeValue(t){return cX(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gDe=/%(\d[a-f0-9])/gi,mDe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cX(e){return encodeURIComponent(e).replace(gDe,(t,i)=>mDe[i]??t)}function W_(e){return`${e}`}class Gh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hDe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pDe(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[a,l]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],u=i.get(a)||[];u.push(l),i.set(a,u)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const r=t.fromObject[i],o=Array.isArray(r)?r.map(W_):[W_(r)];this.map.set(i,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{i.push({param:r,value:s,op:"a"})}):i.push({param:r,value:o,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(r=>i+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new Gh({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(W_(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(W_(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class vDe{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fX(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function dX(e){return typeof Blob<"u"&&e instanceof Blob}function hX(e){return typeof FormData<"u"&&e instanceof FormData}class i6{constructor(t,i,r,o){let s;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _De(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new $0),this.context||(this.context=new vDe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=i;else{const l=i.indexOf("?");this.urlWithParams=i+(-1===l?"?":l<i.length-1?"&":"")+a}}else this.params=new Gh,this.urlWithParams=i}serializeBody(){return null===this.body?null:fX(this.body)||dX(this.body)||hX(this.body)||function yDe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hX(this.body)?null:dX(this.body)?this.body.type||null:fX(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new i6(i,r,s,{params:c,headers:u,context:f,reportProgress:l,responseType:o,withCredentials:a})}}var Hs=(()=>((Hs=Hs||{})[Hs.Sent=0]="Sent",Hs[Hs.UploadProgress=1]="UploadProgress",Hs[Hs.ResponseHeader=2]="ResponseHeader",Hs[Hs.DownloadProgress=3]="DownloadProgress",Hs[Hs.Response=4]="Response",Hs[Hs.User=5]="User",Hs))();class mT{constructor(t,i=200,r="OK"){this.headers=t.headers||new $0,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class vT extends mT{constructor(t={}){super(t),this.type=Hs.ResponseHeader}clone(t={}){return new vT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Y_ extends mT{constructor(t={}){super(t),this.type=Hs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Y_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class pX extends mT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _T(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let bDe=(()=>{class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof i6)s=i;else{let u,c;u=o.headers instanceof $0?o.headers:new $0(o.headers),o.params&&(c=o.params instanceof Gh?o.params:new Gh({fromObject:o.params})),s=new i6(i,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=gi(s).pipe(jh(u=>this.handler.handle(u)));if(i instanceof i6||"events"===o.observe)return a;const l=a.pipe(ua(u=>u instanceof Y_));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(en(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(en(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(en(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(en(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new Gh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,_T(o,r))}post(i,r,o={}){return this.request("POST",i,_T(o,r))}put(i,r,o={}){return this.request("PUT",i,_T(o,r))}}return e.\u0275fac=function(i){return new(i||e)(qt(G_))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function gX(e,t){return t(e)}function wDe(e,t){return(i,r)=>t.intercept(i,{handle:o=>e(o,r)})}const SDe=new si("HTTP_INTERCEPTORS"),r6=new si("HTTP_INTERCEPTOR_FNS");function CDe(){let e=null;return(t,i)=>(null===e&&(e=(Qn(SDe,{optional:!0})??[]).reduceRight(wDe,gX)),e(t,i))}let mX=(()=>{class e extends G_{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null}handle(i){if(null===this.chain){const r=Array.from(new Set(this.injector.get(r6)));this.chain=r.reduceRight((o,s)=>function EDe(e,t,i){return(r,o)=>i.runInContext(()=>t(r,s=>e(s,o)))}(o,s,this.injector),gX)}return this.chain(i,r=>this.backend.handle(r))}}return e.\u0275fac=function(i){return new(i||e)(qt(gT),qt(wc))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const ADe=/^\)\]\}',?\n/;let _X=(()=>{class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $e(r=>{const o=this.xhrFactory.build();if(o.open(i.method,i.urlWithParams),i.withCredentials&&(o.withCredentials=!0),i.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),i.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const p=i.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(i.responseType){const p=i.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const s=i.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const p=o.statusText||"OK",m=new $0(o.getAllResponseHeaders()),v=function TDe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||i.url;return a=new vT({headers:m,status:o.status,statusText:p,url:v}),a},u=()=>{let{headers:p,status:m,statusText:v,url:_}=l(),y=null;204!==m&&(y=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=y?200:0);let w=m>=200&&m<300;if("json"===i.responseType&&"string"==typeof y){const S=y;y=y.replace(ADe,"");try{y=""!==y?JSON.parse(y):null}catch(M){y=S,w&&(w=!1,y={error:M,text:y})}}w?(r.next(new Y_({body:y,headers:p,status:m,statusText:v,url:_||void 0})),r.complete()):r.error(new pX({error:y,headers:p,status:m,statusText:v,url:_||void 0}))},c=p=>{const{url:m}=l(),v=new pX({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});r.error(v)};let f=!1;const d=p=>{f||(r.next(l()),f=!0);let m={type:Hs.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===i.responseType&&o.responseText&&(m.partialText=o.responseText),r.next(m)},h=p=>{let m={type:Hs.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),r.next(m)};return o.addEventListener("load",u),o.addEventListener("error",c),o.addEventListener("timeout",c),o.addEventListener("abort",c),i.reportProgress&&(o.addEventListener("progress",d),null!==s&&o.upload&&o.upload.addEventListener("progress",h)),o.send(s),r.next({type:Hs.Sent}),()=>{o.removeEventListener("error",c),o.removeEventListener("abort",c),o.removeEventListener("load",u),o.removeEventListener("timeout",c),i.reportProgress&&(o.removeEventListener("progress",d),null!==s&&o.upload&&o.upload.removeEventListener("progress",h)),o.readyState!==o.DONE&&o.abort()}})}}return e.\u0275fac=function(i){return new(i||e)(qt(YY))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const yT=new si("XSRF_ENABLED"),yX=new si("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bX=new si("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wX{}let ODe=(()=>{class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=LY(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo),qt(Uh),qt(yX))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function RDe(e,t){const i=e.url.toLowerCase();if(!Qn(yT)||"GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t(e);const r=Qn(wX).getToken(),o=Qn(bX);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var As=(()=>((As=As||{})[As.Interceptors=0]="Interceptors",As[As.LegacyInterceptors=1]="LegacyInterceptors",As[As.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",As[As.NoXsrfProtection=3]="NoXsrfProtection",As[As.JsonpSupport=4]="JsonpSupport",As[As.RequestsMadeViaParent=5]="RequestsMadeViaParent",As))();function M2(e,t){return{\u0275kind:e,\u0275providers:t}}function kDe(...e){const t=[bDe,_X,mX,{provide:G_,useExisting:mX},{provide:gT,useExisting:_X},{provide:r6,useValue:RDe,multi:!0},{provide:yT,useValue:!0},{provide:wX,useClass:ODe}];for(const i of e)t.push(...i.\u0275providers);return function Eve(e){return{\u0275providers:e}}(t)}const EX=new si("LEGACY_INTERCEPTOR_FN");let PDe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({providers:[kDe(M2(As.LegacyInterceptors,[{provide:EX,useFactory:CDe},{provide:r6,useExisting:EX,multi:!0}]))]}),e})(),LDe=(()=>{class e{constructor(){this.messages=[]}add(i){this.messages.push(i)}clear(){this.messages=[]}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),BDe=(()=>{class e{constructor(i){this.messageService=i,this.createHandleError=(r="")=>(o="operation",s={})=>this.handleError(r,o,s)}handleError(i="",r="operation",o={}){return s=>{console.error(s);const a=s.error instanceof ErrorEvent?s.error.message:`server returned code ${s.status} with body "${s.error}"`;return this.messageService.add(`${i}: ${r} failed: ${a}`),gi(o)}}}return e.\u0275fac=function(i){return new(i||e)(qt(LDe))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function K_(e,t){return new $e(i=>{const r=e.length;if(0===r)return void i.complete();const o=new Array(r);let s=0,a=0;for(let l=0;l<r;l++){const u=Fe(e[l]);let c=!1;i.add(u.subscribe({next:f=>{c||(c=!0,a++),o[l]=f},error:f=>i.error(f),complete:()=>{s++,(s===r||!c)&&(a===r&&i.next(t?t.reduce((f,d,h)=>(f[d]=o[h],f),{}):o),i.complete())}}))}})}let SX=(()=>{class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return e.\u0275fac=function(i){return new(i||e)(Ae(aa),Ae(lr))},e.\u0275dir=wn({type:e}),e})(),F1=(()=>{class e extends SX{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275dir=wn({type:e,features:[zr]}),e})();const Na=new si("NgValueAccessor"),UDe={provide:Na,useExisting:z(()=>bT),multi:!0};let bT=(()=>{class e extends F1{writeValue(i){this.setProperty("checked",i)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275dir=wn({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&qn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[qr([UDe]),zr]}),e})();const VDe={provide:Na,useExisting:z(()=>X_),multi:!0},zDe=new si("CompositionEventMode");let X_=(()=>{class e extends SX{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HDe(){const e=k0()?k0().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return e.\u0275fac=function(i){return new(i||e)(Ae(aa),Ae(lr),Ae(zDe,8))},e.\u0275dir=wn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&qn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[qr([VDe]),zr]}),e})();const qDe=!1;function Wh(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const Ia=new si("NgValidators"),Yh=new si("NgAsyncValidators");function Z_(e){return null}function RX(e){return null!=e}function kX(e){const t=O8(e)?Fe(e):e;if(qDe&&!MM(t)){let i="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(i+=" Are you using a synchronous validator where an async validator is expected?"),new ce(-1101,i)}return t}function FX(e){let t={};return e.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function PX(e,t){return t.map(i=>i(e))}function LX(e){return e.map(t=>function GDe(e){return!e.validate}(t)?t:i=>t.validate(i))}function wT(e){return null!=e?function BX(e){if(!e)return null;const t=e.filter(RX);return 0==t.length?null:function(i){return FX(PX(i,t))}}(LX(e)):null}function ET(e){return null!=e?function $X(e){if(!e)return null;const t=e.filter(RX);return 0==t.length?null:function(i){return function $De(...e){if(1===e.length){const t=e[0];if(Ri(t))return K_(t,null);if(dr(t)&&Object.getPrototypeOf(t)===Object.prototype){const i=Object.keys(t);return K_(i.map(r=>t[r]),i)}}if("function"==typeof e[e.length-1]){const t=e.pop();return K_(e=1===e.length&&Ri(e[0])?e[0]:e,null).pipe(en(i=>t(...i)))}return K_(e,null)}(PX(i,t).map(kX)).pipe(en(FX))}}(LX(e)):null}function UX(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ST(e){return e?Array.isArray(e)?e:[e]:[]}function Q_(e,t){return Array.isArray(e)?e.includes(t):e===t}function zX(e,t){const i=ST(t);return ST(e).forEach(o=>{Q_(i,o)||i.push(o)}),i}function qX(e,t){return ST(t).filter(i=>!Q_(e,i))}class jX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ET(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Fl extends jX{get formDirective(){return null}get path(){return null}}class Kh extends jX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GX{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WX=(()=>{class e extends GX{constructor(i){super(i)}}return e.\u0275fac=function(i){return new(i||e)(Ae(Kh,2))},e.\u0275dir=wn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ki("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[zr]}),e})(),YX=(()=>{class e extends GX{constructor(i){super(i)}}return e.\u0275fac=function(i){return new(i||e)(Ae(Fl,10))},e.\u0275dir=wn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ki("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[zr]}),e})();function KX(e,t){return e?`with name: '${t}'`:`at index: ${t}`}const xT=!1,o6="VALID",ey="INVALID",A2="PENDING",s6="DISABLED";function MT(e){return(ty(e)?e.validators:e)||null}function AT(e,t){return(ty(t)?t.asyncValidators:e)||null}function ty(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class QX{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===o6}get invalid(){return this.status===ey}get pending(){return this.status==A2}get disabled(){return this.status===s6}get enabled(){return this.status!==s6}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zX(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zX(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qX(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qX(t,this._rawAsyncValidators))}hasValidator(t){return Q_(this._rawValidators,t)}hasAsyncValidator(t){return Q_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=A2,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=s6,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=o6,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===o6||this.status===A2)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?s6:o6}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=A2,this._hasOwnPendingAsyncValidator=!0;const i=kX(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((r,o)=>r&&r._find(o),this)}getError(t,i){const r=i?this.get(i):this;return r&&r.errors?r.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new On,this.statusChanges=new On}_calculateStatus(){return this._allControlsDisabled()?s6:this.errors?ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A2)?A2:this._anyControlsHaveStatus(ey)?ey:o6}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ty(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function JDe(e){return Array.isArray(e)?wT(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function exe(e){return Array.isArray(e)?ET(e):e||null}(this._rawAsyncValidators)}}class TT extends QX{constructor(t,i,r){super(MT(i),AT(r,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,r={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){(function ZX(e,t,i){e._forEachChild((r,o)=>{if(void 0===i[o])throw new ce(1002,xT?function QDe(e,t){return`Must supply a value for form control ${KX(e,t)}`}(t,o):"")})})(this,!0,t),Object.keys(t).forEach(r=>{(function XX(e,t,i){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new ce(1e3,xT?function XDe(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[i])throw new ce(1001,xT?function ZDe(e,t){return`Cannot find form control ${KX(e,t)}`}(t,i):"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,r)=>(t[r]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,r)=>!!r._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const r=this.controls[i];r&&t(r,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[i,r]of Object.entries(this.controls))if(this.contains(i)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,r,o)=>((r.enabled||this.disabled)&&(i[o]=r.value),i))}_reduceChildren(t,i){let r=t;return this._forEachChild((o,s)=>{r=i(r,o,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const T2=new si("CallSetDisabledState",{providedIn:"root",factory:()=>ny}),ny="always";function a6(e,t,i=ny){NT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function ixe(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&JX(e,t)})}(e,t),function oxe(e,t){const i=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function rxe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&JX(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function nxe(e,t){if(t.valueAccessor.setDisabledState){const i=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function oy(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function NT(e,t){const i=function VX(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(UX(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const r=function HX(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(UX(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();oy(t._rawValidators,o),oy(t._rawAsyncValidators,o)}function JX(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const cxe={provide:Fl,useExisting:z(()=>ay)},l6=(()=>Promise.resolve())();let ay=(()=>{class e extends Fl{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new On,this.form=new TT({},wT(i),ET(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){l6.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),a6(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){l6.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){l6.then(()=>{const r=this._findContainer(i.path),o=new TT({});(function eZ(e,t){NT(e,t)})(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){l6.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){l6.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function tZ(e,t){e._syncPendingControls(),t.forEach(i=>{const r=i.control;"submit"===r.updateOn&&r._pendingChange&&(i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return e.\u0275fac=function(i){return new(i||e)(Ae(Ia,10),Ae(Yh,10),Ae(T2,8))},e.\u0275dir=wn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&qn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qr([cxe]),zr]}),e})();function nZ(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function iZ(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const rZ=class extends QX{constructor(t=null,i,r){super(MT(i),AT(r,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ty(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=iZ(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nZ(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nZ(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iZ(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},hxe={provide:Kh,useExisting:z(()=>kT)},aZ=(()=>Promise.resolve())();let kT=(()=>{class e extends Kh{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new rZ,this._registered=!1,this.update=new On,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function RT(e,t){if(!t)return null;let i,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===X_?i=s:function lxe(e){return Object.getPrototypeOf(e.constructor)===F1}(s)?r=s:o=s}),o||r||i||null}(0,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function OT(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){a6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){aZ.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const r=i.isDisabled.currentValue,o=0!==r&&function C2(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);aZ.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function iy(e,t){return[...t.path,e]}(i,this._parent):[i]}}return e.\u0275fac=function(i){return new(i||e)(Ae(Fl,9),Ae(Ia,10),Ae(Yh,10),Ae(Na,10),Ae(Ta,8),Ae(T2,8))},e.\u0275dir=wn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qr([hxe]),zr,Fr]}),e})(),lZ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const pxe={provide:Na,useExisting:z(()=>FT),multi:!0};let FT=(()=>{class e extends F1{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=r=>{i(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275dir=wn({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&qn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[qr([pxe]),zr]}),e})();const gxe={provide:Na,useExisting:z(()=>PT),multi:!0};let uZ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})(),mxe=(()=>{class e{constructor(){this._accessors=[]}add(i,r){this._accessors.push([i,r])}remove(i){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===i)return void this._accessors.splice(r,1)}select(i){this._accessors.forEach(r=>{this._isSameGroup(r,i)&&r[1]!==i&&r[1].fireUncheck(i.value)})}_isSameGroup(i,r){return!!i[0].control&&i[0]._parent===r._control._parent&&i[1].name===r.name}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:uZ}),e})(),PT=(()=>{class e extends F1{constructor(i,r,o,s){super(i,r),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Qn(T2,{optional:!0})??ny}ngOnInit(){this._control=this._injector.get(Kh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(i){this._state=i===this.value,this.setProperty("checked",this._state)}registerOnChange(i){this._fn=i,this.onChange=()=>{i(this.value),this._registry.select(this)}}setDisabledState(i){(this.setDisabledStateFired||i||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",i),this.setDisabledStateFired=!0}fireUncheck(i){this.writeValue(i)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(i){return new(i||e)(Ae(aa),Ae(lr),Ae(mxe),Ae(au))},e.\u0275dir=wn({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&qn("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[qr([gxe]),zr]}),e})();function _Z(e){return"number"==typeof e?e:parseFloat(e)}let P1=(()=>{class e{constructor(){this._validator=Z_}ngOnChanges(i){if(this.inputName in i){const r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Z_,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wn({type:e,features:[Fr]}),e})();const Txe={provide:Ia,useExisting:z(()=>HT),multi:!0};let HT=(()=>{class e extends P1{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=i=>_Z(i),this.createValidator=i=>function xX(e){return t=>{if(Wh(t.value)||Wh(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(i)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275dir=wn({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&gr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[qr([Txe]),zr]}),e})();const Nxe={provide:Ia,useExisting:z(()=>zT),multi:!0};let zT=(()=>{class e extends P1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>_Z(i),this.createValidator=i=>function DX(e){return t=>{if(Wh(t.value)||Wh(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(i)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275dir=wn({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&gr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[qr([Nxe]),zr]}),e})(),Lxe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[uZ]}),e})(),$xe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:T2,useValue:i.callSetDisabledState??ny}]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[Lxe]}),e})();const Xh=new $e(e=>e.complete());function ly(e){return e?function Uxe(e){return new $e(t=>e.schedule(()=>t.complete()))}(e):Xh}function tl(e,t,i,r){return an(i)&&(r=i,i=void 0),r?tl(e,t,i).pipe(en(o=>Ri(o)?r(...o):r(o))):new $e(o=>{CZ(e,t,function s(a){o.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},o,i)})}function CZ(e,t,i,r,o){let s;if(function zxe(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const a=e;e.addEventListener(t,i,o),s=()=>a.removeEventListener(t,i,o)}else if(function Hxe(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const a=e;e.on(t,i),s=()=>a.off(t,i)}else if(function Vxe(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const a=e;e.addListener(t,i),s=()=>a.removeListener(t,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,l=e.length;a<l;a++)CZ(e[a],t,i,r,o)}r.add(s)}class qxe extends Fn{constructor(t,i){super()}schedule(t,i=0){return this}}let DZ=(()=>{class e{constructor(i,r=e.now){this.SchedulerAction=i,this.now=r}schedule(i,r=0,o){return new this.SchedulerAction(this,i).schedule(o,r)}}return e.now=()=>Date.now(),e})();class Zh extends DZ{constructor(t,i=DZ.now){super(t,()=>Zh.delegate&&Zh.delegate!==this?Zh.delegate.now():i()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,i=0,r){return Zh.delegate&&Zh.delegate!==this?Zh.delegate.schedule(t,i,r):super.schedule(t,i,r)}flush(t){const{actions:i}=this;if(this.active)return void i.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=i.shift());if(this.active=!1,r){for(;t=i.shift();)t.unsubscribe();throw r}}}const xZ=new Zh(class jxe extends qxe{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this}requestAsyncId(t,i,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,i,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return i;clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,i);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),o}_unsubscribe(){const t=this.id,i=this.scheduler,r=i.actions,o=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null}});function MZ(e){return!Ri(e)&&e-parseFloat(e)+1>=0}function AZ(e=0,t,i){let r=-1;return MZ(t)?r=Number(t)<1?1:Number(t):In(t)&&(i=t),In(i)||(i=xZ),new $e(o=>{const s=MZ(e)?e:+e-i.now();return i.schedule(Gxe,s,{index:0,period:r,subscriber:o})})}function Gxe(e){const{index:t,period:i,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===i)return r.complete();e.index=t+1,this.schedule(e,i)}}class jT extends O{notifyNext(t,i,r,o,s){this.destination.next(i)}notifyError(t,i){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Wxe extends O{constructor(t,i,r){super(),this.parent=t,this.outerValue=i,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function GT(e,t,i,r,o=new Wxe(e,i,r)){if(!o.closed)return t instanceof $e?t.subscribe(o):ft(t)(o)}class Yxe{call(t,i){return i.subscribe(new Kxe(t))}}class Kxe extends jT{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,i=t.length;if(0===i)this.destination.complete();else{for(let r=0;r<i&&!this.hasFirst;r++){const s=GT(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}}notifyNext(t,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(i)}}class ca extends Xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return i&&!i.closed&&t.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new kt;return this._value}next(t){super.next(this._value=t)}}const NZ={};function uy(...e){let t,i;return In(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Ri(e[0])&&(e=e[0]),Ye(e,i).lift(new Xxe(t))}class Xxe{constructor(t){this.resultSelector=t}call(t,i){return i.subscribe(new Zxe(t,this.resultSelector))}}class Zxe extends jT{constructor(t,i){super(t),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(NZ),this.observables.push(t)}_complete(){const t=this.observables,i=t.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let r=0;r<i;r++)this.add(GT(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,i,r){const o=this.values,a=this.toRespond?o[r]===NZ?--this.toRespond:this.toRespond:0;o[r]=i,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let i;try{i=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}function U0(){}const IZ=new $e(U0);function cy(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Ye(e,void 0).lift(new Qxe(t))}class Qxe{constructor(t){this.resultSelector=t}call(t,i){return i.subscribe(new Jxe(t,this.resultSelector))}}class Jxe extends O{constructor(t,i,r=Object.create(null)){super(t),this.resultSelector=i,this.iterators=[],this.active=0,this.resultSelector="function"==typeof i?i:void 0}_next(t){const i=this.iterators;Ri(t)?i.push(new tMe(t)):i.push("function"==typeof t[Ei]?new eMe(t[Ei]()):new nMe(this.destination,this,t))}_complete(){const t=this.iterators,i=t.length;if(this.unsubscribe(),0!==i){this.active=i;for(let r=0;r<i;r++){let o=t[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,i=t.length,r=this.destination;for(let a=0;a<i;a++){let l=t[a];if("function"==typeof l.hasValue&&!l.hasValue())return}let o=!1;const s=[];for(let a=0;a<i;a++){let l=t[a],u=l.next();if(l.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),o&&r.complete()}_tryresultSelector(t){let i;try{i=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}class eMe{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class tMe{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Ei](){return this}next(t){const i=this.index++;return i<this.length?{value:this.array[i],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class nMe extends Ge{constructor(t,i,r){super(t),this.parent=i,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ei](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return tt(this.observable,new Ve(this))}}function fy(...e){return function iMe(){return We(1)}()(gi(...e))}function vs(e){return t=>t.lift(new oMe(e))}class oMe{constructor(t){this.notifier=t}call(t,i){const r=new sMe(t),o=tt(this.notifier,new Ve(r));return o&&!r.seenValue?(r.add(o),i.subscribe(r)):r}}class sMe extends Ge{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const OZ=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function fa(e){return t=>0===e?ly():t.lift(new aMe(e))}class aMe{constructor(t){if(this.total=t,this.total<0)throw new OZ}call(t,i){return i.subscribe(new lMe(t,this.total))}}class lMe extends O{constructor(t,i){super(t),this.total=i,this.count=0}_next(t){const i=this.total,r=++this.count;r<=i&&(this.destination.next(t),r===i&&(this.destination.complete(),this.unsubscribe()))}}function dy(...e){const t=e[e.length-1];return In(t)?(e.pop(),i=>fy(e,i,t)):i=>fy(e,i)}function WT(e,t){return i=>i.lift(new uMe(e,t))}class uMe{constructor(t,i){this.compare=t,this.keySelector=i}call(t,i){return i.subscribe(new cMe(t,this.compare,this.keySelector))}}class cMe extends O{constructor(t,i,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(t,i){return t===i}_next(t){let i;try{const{keySelector:o}=this;i=o?o(t):t}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,i)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=i,this.destination.next(t))}}function zu(e,t){return"function"==typeof t?i=>i.pipe(zu((r,o)=>Fe(e(r,o)).pipe(en((s,a)=>t(r,s,o,a))))):i=>i.lift(new fMe(e))}class fMe{constructor(t){this.project=t}call(t,i){return i.subscribe(new dMe(t,this.project))}}class dMe extends Ge{constructor(t,i){super(t),this.project=i,this.index=0}_next(t){let i;const r=this.index++;try{i=this.project(t,r)}catch(o){return void this.destination.error(o)}this._innerSub(i)}_innerSub(t){const i=this.innerSubscription;i&&i.unsubscribe();const r=new Ve(this),o=this.destination;o.add(r),this.innerSubscription=tt(t,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function da(e,t,i){return function(o){return o.lift(new hMe(e,t,i))}}class hMe{constructor(t,i,r){this.nextOrObserver=t,this.error=i,this.complete=r}call(t,i){return i.subscribe(new pMe(t,this.nextOrObserver,this.error,this.complete))}}class pMe extends O{constructor(t,i,r,o){super(t),this._tapNext=U0,this._tapError=U0,this._tapComplete=U0,this._tapError=r||U0,this._tapComplete=o||U0,an(i)?(this._context=this,this._tapNext=i):i&&(this._context=i,this._tapNext=i.next||U0,this._tapError=i.error||U0,this._tapComplete=i.complete||U0)}_next(t){try{this._tapNext.call(this._context,t)}catch(i){return void this.destination.error(i)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(i){return void this.destination.error(i)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function YT(...e){return t=>{let i;return"function"==typeof e[e.length-1]&&(i=e.pop()),t.lift(new gMe(e,i))}}class gMe{constructor(t,i){this.observables=t,this.project=i}call(t,i){return i.subscribe(new mMe(t,this.observables,this.project))}}class mMe extends jT{constructor(t,i,r){super(t),this.observables=i,this.project=r,this.toRespond=[];const o=i.length;this.values=new Array(o);for(let s=0;s<o;s++)this.toRespond.push(s);for(let s=0;s<o;s++)this.add(GT(this,i[s],void 0,s))}notifyNext(t,i,r){this.values[r]=i;const o=this.toRespond;if(o.length>0){const s=o.indexOf(r);-1!==s&&o.splice(s,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const i=[t,...this.values];this.project?this._tryProject(i):this.destination.next(i)}}_tryProject(t){let i;try{i=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}function N2(e,t){return new $e(t?i=>t.schedule(_Me,0,{error:e,subscriber:i}):i=>i.error(e))}function _Me({error:e,subscriber:t}){t.error(e)}class vf{constructor(t,i,r){this.kind=t,this.value=i,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,i,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return i&&i(this.error);case"C":return r&&r()}}accept(t,i,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,i,r)}toObservable(){switch(this.kind){case"N":return gi(this.value);case"E":return N2(this.error);case"C":return ly()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new vf("N",t):vf.undefinedValueNotification}static createError(t){return new vf("E",void 0,t)}static createComplete(){return vf.completeNotification}}vf.completeNotification=new vf("C"),vf.undefinedValueNotification=new vf("N",void 0);class SMe{constructor(t){this.total=t}call(t,i){return i.subscribe(new CMe(t,this.total))}}class CMe extends O{constructor(t,i){super(t),this.total=i,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function AAe(e,t){}function TAe(e,t){if(1&e&&(wt(0,"button",3),ji(1),Ut(2,AAe,0,0,"ng-template",4),Tt()),2&e){const i=t.$implicit;ht("ngbPanelToggle",i),yt(1),$h(" ",i.title," "),yt(1),ht("ngTemplateOutlet",null==i.titleTpl?null:i.titleTpl.templateRef)}}function NAe(e,t){}function IAe(e,t){}function OAe(e,t){if(1&e){const i=Lr();wt(0,"div",8),qn("ngbRef",function(o){return hi(i),pi(Ct().$implicit.panelDiv=o)}),wt(1,"div",9),Ut(2,IAe,0,0,"ng-template",4),Tt()()}if(2&e){const i=Ct().$implicit;AM("id",i.id),gr("aria-labelledby",i.id+"-header"),yt(2),ht("ngTemplateOutlet",(null==i.contentTpl?null:i.contentTpl.templateRef)||null)}}Math,Math,Math;const RAe=function(e,t){return{$implicit:e,opened:t}};function kAe(e,t){if(1&e&&(wt(0,"div")(1,"div",5),Ut(2,NAe,0,0,"ng-template",6),Tt(),Ut(3,OAe,3,3,"div",7),Tt()),2&e){const i=t.$implicit,r=Ct(),o=Ja(1);el("accordion-item "+(i.cardClass||"")),yt(1),el("accordion-header "+(i.type?"bg-"+i.type:r.type?"bg-"+r.type:"")),m2("id","",i.id,"-header"),yt(1),ht("ngTemplateOutlet",(null==i.headerTpl?null:i.headerTpl.templateRef)||o)("ngTemplateOutletContext",O0(8,RAe,i,i.isOpen)),yt(1),ht("ngIf",!r.destroyOnHide||i.isOpen||i.transitionRunning)}}function FAe(e,t){if(1&e){const i=Lr();wt(0,"button",1),qn("click",function(){return hi(i),pi(Ct().close())}),Tt()}}const vy=["*"];function PAe(e,t){if(1&e){const i=Lr();wt(0,"button",6),qn("click",function(){const s=hi(i).$implicit,a=Ct();return a.focus(),pi(a.select(s.id,a.NgbSlideEventSource.INDICATOR))}),Tt()}if(2&e){const i=t.$implicit,r=Ct();ki("active",i.id===r.activeId),gr("aria-labelledby","slide-"+i.id)("aria-controls","slide-"+i.id)("aria-selected",i.id===r.activeId)}}function LAe(e,t){}function BAe(e,t){if(1&e&&(wt(0,"div",7)(1,"span",8),Ma(2,9),Tt(),Ut(3,LAe,0,0,"ng-template",10),Tt()),2&e){const i=t.$implicit,r=t.index,o=t.count;ht("id","slide-"+i.id),yt(2),b2(r+1)(o),$8(2),yt(1),ht("ngTemplateOutlet",i.tplRef)}}function $Ae(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){return hi(i),pi(Ct().arrowLeft())}),Er(1,"span",12),wt(2,"span",8),Ma(3,13),Tt()()}}function UAe(e,t){if(1&e){const i=Lr();wt(0,"button",14),qn("click",function(){return hi(i),pi(Ct().arrowRight())}),Er(1,"span",15),wt(2,"span",8),Ma(3,16),Tt()()}}const VAe=["ngbDatepickerDayView",""],HAe=["month"],zAe=["year"];function qAe(e,t){if(1&e&&(wt(0,"option",5),ji(1),Tt()),2&e){const i=t.$implicit,r=Ct();ht("value",i),gr("aria-label",r.i18n.getMonthFullName(i,r.date.year)),yt(1),$s(r.i18n.getMonthShortName(i,r.date.year))}}function jAe(e,t){if(1&e&&(wt(0,"option",5),ji(1),Tt()),2&e){const i=t.$implicit,r=Ct();ht("value",i),yt(1),$s(r.i18n.getYearNumerals(i))}}function GAe(e,t){if(1&e){const i=Lr();wt(0,"ngb-datepicker-navigation-select",7),qn("select",function(o){return hi(i),pi(Ct().select.emit(o))}),Tt()}if(2&e){const i=Ct();ht("date",i.date)("disabled",i.disabled)("months",i.selectBoxes.months)("years",i.selectBoxes.years)}}function WAe(e,t){1&e&&Er(0,"div",0)}function YAe(e,t){1&e&&Er(0,"div",0)}function KAe(e,t){if(1&e&&(Ut(0,WAe,1,0,"div",9),wt(1,"div",10),ji(2),Tt(),Ut(3,YAe,1,0,"div",9)),2&e){const i=t.$implicit,r=t.index,o=Ct(2);ht("ngIf",r>0),yt(2),$h(" ",o.i18n.getMonthLabel(i.firstDate)," "),yt(1),ht("ngIf",r!==o.months.length-1)}}function XAe(e,t){1&e&&Ut(0,KAe,4,3,"ng-template",8),2&e&&ht("ngForOf",Ct().months)}function ZAe(e,t){if(1&e&&(wt(0,"div",5),ji(1),Tt()),2&e){const i=Ct(2);yt(1),$s(i.i18n.getWeekLabel())}}function QAe(e,t){if(1&e&&(wt(0,"div",6),ji(1),Tt()),2&e){const i=t.$implicit;yt(1),$s(i)}}function JAe(e,t){if(1&e&&(wt(0,"div",2),Ut(1,ZAe,2,1,"div",3),Ut(2,QAe,2,1,"div",4),Tt()),2&e){const i=Ct();yt(1),ht("ngIf",i.datepicker.showWeekNumbers),yt(1),ht("ngForOf",i.viewModel.weekdays)}}function eTe(e,t){if(1&e&&(wt(0,"div",11),ji(1),Tt()),2&e){const i=Ct(2).$implicit,r=Ct();yt(1),$s(r.i18n.getWeekNumerals(i.number))}}function tTe(e,t){}function nTe(e,t){if(1&e&&Ut(0,tTe,0,0,"ng-template",14),2&e){const i=Ct().$implicit;ht("ngTemplateOutlet",Ct(3).datepicker.dayTemplate)("ngTemplateOutletContext",i.context)}}function iTe(e,t){if(1&e){const i=Lr();wt(0,"div",12),qn("click",function(o){const a=hi(i).$implicit;return Ct(3).doSelect(a),pi(o.preventDefault())}),Ut(1,nTe,1,2,"ng-template",13),Tt()}if(2&e){const i=t.$implicit;ki("disabled",i.context.disabled)("hidden",i.hidden)("ngb-dp-today",i.context.today),ht("tabindex",i.tabindex),gr("aria-label",i.ariaLabel),yt(1),ht("ngIf",!i.hidden)}}function rTe(e,t){if(1&e&&(wt(0,"div",8),Ut(1,eTe,2,1,"div",9),Ut(2,iTe,2,9,"div",10),Tt()),2&e){const i=Ct().$implicit,r=Ct();yt(1),ht("ngIf",r.datepicker.showWeekNumbers),yt(1),ht("ngForOf",i.days)}}function oTe(e,t){1&e&&Ut(0,rTe,3,2,"div",7),2&e&&ht("ngIf",!t.$implicit.collapsed)}const sTe=["defaultDayTemplate"],aTe=["content"];function lTe(e,t){if(1&e&&Er(0,"div",8),2&e){const r=t.currentMonth,o=t.selected,s=t.disabled,a=t.focused;ht("date",t.date)("currentMonth",r)("selected",o)("disabled",s)("focused",a)}}function uTe(e,t){if(1&e&&(wt(0,"div",13),ji(1),Tt()),2&e){const i=Ct().$implicit,r=Ct(2);yt(1),$h(" ",r.i18n.getMonthLabel(i.firstDate)," ")}}function cTe(e,t){if(1&e&&(wt(0,"div",10),Ut(1,uTe,2,1,"div",11),Er(2,"ngb-datepicker-month",12),Tt()),2&e){const i=t.$implicit,r=Ct(2);yt(1),ht("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),yt(1),ht("month",i.firstDate)}}function fTe(e,t){1&e&&Ut(0,cTe,3,2,"div",9),2&e&&ht("ngForOf",Ct().model.months)}function dTe(e,t){if(1&e){const i=Lr();wt(0,"ngb-datepicker-navigation",14),qn("navigate",function(o){return hi(i),pi(Ct().onNavigateEvent(o))})("select",function(o){return hi(i),pi(Ct().onNavigateDateSelect(o))}),Tt()}if(2&e){const i=Ct();ht("date",i.model.firstDate)("months",i.model.months)("disabled",i.model.disabled)("showSelect","select"===i.model.navigation)("prevDisabled",i.model.prevDisabled)("nextDisabled",i.model.nextDisabled)("selectBoxes",i.model.selectBoxes)}}function hTe(e,t){}function pTe(e,t){}const KZ=function(e){return{$implicit:e}},gTe=["dialog"],mTe=["ngbNavOutlet",""];function vTe(e,t){}function _Te(e,t){if(1&e&&(wt(0,"div",2),Ut(1,vTe,0,0,"ng-template",3),Tt()),2&e){const i=Ct().$implicit,r=Ct();ht("item",i)("nav",r.nav)("role",r.paneRole),yt(1),ht("ngTemplateOutlet",(null==i.contentTpl?null:i.contentTpl.templateRef)||null)("ngTemplateOutletContext",Sc(5,KZ,i.active||r.isPanelTransitioning(i)))}}function yTe(e,t){if(1&e&&Ut(0,_Te,2,7,"div",1),2&e){const i=t.$implicit,r=Ct();ht("ngIf",i.isPanelInDom()||r.isPanelTransitioning(i))}}function bTe(e,t){1&e&&(wt(0,"span",9),Ma(1,10),Tt())}function wTe(e,t){1&e&&(wt(0,"span",9),Ma(1,11),Tt())}function ETe(e,t){1&e&&(wt(0,"span",9),Ma(1,12),Tt())}function STe(e,t){1&e&&(wt(0,"span",9),Ma(1,13),Tt())}function CTe(e,t){1&e&&ji(0,"...")}function DTe(e,t){1&e&&ji(0),2&e&&$s(t.$implicit)}function xTe(e,t){}const MTe=function(e){return{disabled:!0,currentPage:e}};function ATe(e,t){if(1&e&&(wt(0,"a",18),Ut(1,xTe,0,0,"ng-template",8),Tt()),2&e){const i=Ct(2).$implicit,r=Ct(),o=Ja(9);yt(1),ht("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",Sc(2,MTe,i))}}function TTe(e,t){}const NTe=function(e,t,i){return{disabled:e,$implicit:t,currentPage:i}};function ITe(e,t){if(1&e){const i=Lr();wt(0,"a",19),qn("click",function(o){hi(i);const s=Ct().$implicit;return Ct(2).selectPage(s),pi(o.preventDefault())}),Ut(1,TTe,0,0,"ng-template",8),Tt()}if(2&e){const i=Ct().$implicit,r=Ct(),o=r.disabled,s=r.$implicit,a=Ct(),l=Ja(11);gr("tabindex",o?"-1":null)("aria-disabled",o?"true":null),yt(1),ht("ngTemplateOutlet",(null==a.tplNumber?null:a.tplNumber.templateRef)||l)("ngTemplateOutletContext",t_(4,NTe,o,i,s))}}function OTe(e,t){if(1&e&&(wt(0,"li",15),Ut(1,ATe,2,4,"a",16),Ut(2,ITe,2,8,"a",17),Tt()),2&e){const i=t.$implicit,r=Ct(),o=r.$implicit,s=r.disabled,a=Ct();ki("active",i===o)("disabled",a.isEllipsis(i)||s),gr("aria-current",i===o?"page":null),yt(1),ht("ngIf",a.isEllipsis(i)),yt(1),ht("ngIf",!a.isEllipsis(i))}}function RTe(e,t){1&e&&Ut(0,OTe,3,7,"li",14),2&e&&ht("ngForOf",t.pages)}function kTe(e,t){}const sN=function(e,t){return{disabled:e,currentPage:t}};function FTe(e,t){if(1&e){const i=Lr();wt(0,"li",15)(1,"a",20),qn("click",function(o){return hi(i),Ct().selectPage(1),pi(o.preventDefault())}),Ut(2,kTe,0,0,"ng-template",8),Tt()()}if(2&e){const i=Ct(),r=Ja(1);ki("disabled",i.previousDisabled()),yt(1),gr("tabindex",i.previousDisabled()?"-1":null)("aria-disabled",i.previousDisabled()?"true":null),yt(1),ht("ngTemplateOutlet",(null==i.tplFirst?null:i.tplFirst.templateRef)||r)("ngTemplateOutletContext",O0(6,sN,i.previousDisabled(),i.page))}}function PTe(e,t){}const LTe=function(e){return{disabled:e}};function BTe(e,t){if(1&e){const i=Lr();wt(0,"li",15)(1,"a",21),qn("click",function(o){hi(i);const s=Ct();return s.selectPage(s.page-1),pi(o.preventDefault())}),Ut(2,PTe,0,0,"ng-template",8),Tt()()}if(2&e){const i=Ct(),r=Ja(3);ki("disabled",i.previousDisabled()),yt(1),gr("tabindex",i.previousDisabled()?"-1":null)("aria-disabled",i.previousDisabled()?"true":null),yt(1),ht("ngTemplateOutlet",(null==i.tplPrevious?null:i.tplPrevious.templateRef)||r)("ngTemplateOutletContext",Sc(6,LTe,i.previousDisabled()))}}function $Te(e,t){}function UTe(e,t){}function VTe(e,t){if(1&e){const i=Lr();wt(0,"li",15)(1,"a",22),qn("click",function(o){hi(i);const s=Ct();return s.selectPage(s.page+1),pi(o.preventDefault())}),Ut(2,UTe,0,0,"ng-template",8),Tt()()}if(2&e){const i=Ct(),r=Ja(5);ki("disabled",i.nextDisabled()),yt(1),gr("tabindex",i.nextDisabled()?"-1":null)("aria-disabled",i.nextDisabled()?"true":null),yt(1),ht("ngTemplateOutlet",(null==i.tplNext?null:i.tplNext.templateRef)||r)("ngTemplateOutletContext",O0(6,sN,i.nextDisabled(),i.page))}}function HTe(e,t){}function zTe(e,t){if(1&e){const i=Lr();wt(0,"li",15)(1,"a",23),qn("click",function(o){hi(i);const s=Ct();return s.selectPage(s.pageCount),pi(o.preventDefault())}),Ut(2,HTe,0,0,"ng-template",8),Tt()()}if(2&e){const i=Ct(),r=Ja(7);ki("disabled",i.nextDisabled()),yt(1),gr("tabindex",i.nextDisabled()?"-1":null)("aria-disabled",i.nextDisabled()?"true":null),yt(1),ht("ngTemplateOutlet",(null==i.tplLast?null:i.tplLast.templateRef)||r)("ngTemplateOutletContext",O0(6,sN,i.nextDisabled(),i.page))}}const qTe=function(e,t,i){return{$implicit:e,pages:t,disabled:i}};function WTe(e,t){if(1&e&&(wt(0,"span"),Ma(1,1),function vW(e,t){const i=Pr();let r;const o=e+Ue;i.firstCreatePass?(r=function Cye(e,t){if(t)for(let i=t.length-1;i>=0;i--){const r=t[i];if(e===r.name)return r}}(t,i.pipeRegistry),i.data[o]=r,r.onDestroy&&(i.destroyHooks??(i.destroyHooks=[])).push(o,r.onDestroy)):r=i.data[o];const s=r.factory||(r.factory=nu(r.type)),a=Ot(Ae);try{const l=E7(!1),u=s();return E7(l),function w7e(e,t,i,r){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(i,Xt(),o,u),u}finally{Ot(a)}}(2,"percent"),Tt()),2&e){const i=Ct();yt(2),b2(_W(2,1,i.getValue()/i.max)),$8(1)}}function YTe(e,t){1&e&&ji(0),2&e&&$s(100===t.fill?"\u2605":"\u2606")}function KTe(e,t){}function XTe(e,t){if(1&e){const i=Lr();wt(0,"span",2),ji(1),Tt(),wt(2,"span",3),qn("mouseenter",function(){const s=hi(i).index;return pi(Ct().enter(s+1))})("click",function(){const s=hi(i).index;return pi(Ct().handleClick(s+1))}),Ut(3,KTe,0,0,"ng-template",4),Tt()}if(2&e){const i=t.index,r=Ct(),o=Ja(1);yt(1),$h("(",i<r.nextRate?"*":" ",")"),yt(1),x1("cursor",r.isInteractive()?"pointer":"default"),yt(1),ht("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||o)("ngTemplateOutletContext",r.contexts[i])}}function ZTe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct();return pi(o.changeHour(o.hourStep))}),Er(1,"span",12),wt(2,"span",13),Ma(3,14),Tt()()}if(2&e){const i=Ct();ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function QTe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct();return pi(o.changeHour(-o.hourStep))}),Er(1,"span",15),wt(2,"span",13),Ma(3,16),Tt()()}if(2&e){const i=Ct();ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function JTe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct();return pi(o.changeMinute(o.minuteStep))}),Er(1,"span",12),wt(2,"span",13),Ma(3,17),Tt()()}if(2&e){const i=Ct();ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function eNe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct();return pi(o.changeMinute(-o.minuteStep))}),Er(1,"span",15),wt(2,"span",13),Ma(3,18),Tt()()}if(2&e){const i=Ct();ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function tNe(e,t){1&e&&(wt(0,"div",5),ji(1,":"),Tt())}function nNe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct(2);return pi(o.changeSecond(o.secondStep))}),Er(1,"span",12),wt(2,"span",13),Ma(3,21),Tt()()}if(2&e){const i=Ct(2);ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function iNe(e,t){if(1&e){const i=Lr();wt(0,"button",11),qn("click",function(){hi(i);const o=Ct(2);return pi(o.changeSecond(-o.secondStep))}),Er(1,"span",15),wt(2,"span",13),Ma(3,22),Tt()()}if(2&e){const i=Ct(2);ki("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),ht("disabled",i.disabled)}}function rNe(e,t){if(1&e){const i=Lr();wt(0,"div",19),Ut(1,nNe,4,7,"button",3),wt(2,"input",20),qn("change",function(o){return hi(i),pi(Ct().updateSecond(o.target.value))})("blur",function(){return hi(i),pi(Ct().handleBlur())})("input",function(o){return hi(i),pi(Ct().formatInput(o.target))})("keydown.ArrowUp",function(o){hi(i);const s=Ct();return s.changeSecond(s.secondStep),pi(o.preventDefault())})("keydown.ArrowDown",function(o){hi(i);const s=Ct();return s.changeSecond(-s.secondStep),pi(o.preventDefault())}),Tt(),Ut(3,iNe,4,7,"button",3),Tt()}if(2&e){const i=Ct();yt(1),ht("ngIf",i.spinners),yt(1),ki("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),ht("value",i.formatMinSec(null==i.model?null:i.model.second))("readOnly",i.readonlyInputs)("disabled",i.disabled),yt(1),ht("ngIf",i.spinners)}}function oNe(e,t){1&e&&Er(0,"div",5)}function sNe(e,t){if(1&e&&(w1(0),Ma(1,27),E1()),2&e){const i=Ct(2);yt(1),b2(i.i18n.getAfternoonPeriod()),$8(1)}}function aNe(e,t){1&e&&Ma(0,28),2&e&&(b2(Ct(2).i18n.getMorningPeriod()),$8(0))}function lNe(e,t){if(1&e){const i=Lr();wt(0,"div",23)(1,"button",24),qn("click",function(){return hi(i),pi(Ct().toggleMeridian())}),Ut(2,sNe,2,1,"ng-container",25),Ut(3,aNe,1,1,"ng-template",null,26,Aa),Tt()()}if(2&e){const i=Ja(4),r=Ct();yt(1),ki("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),ht("disabled",r.disabled),yt(1),ht("ngIf",r.model&&r.model.hour>=12)("ngIfElse",i)}}function uNe(e,t){if(1&e&&(wt(0,"strong",3),ji(1),Tt()),2&e){const i=Ct();yt(1),$s(i.header)}}function cNe(e,t){}function fNe(e,t){if(1&e){const i=Lr();wt(0,"div",4),Ut(1,cNe,0,0,"ng-template",5),wt(2,"button",6),qn("click",function(){return hi(i),pi(Ct().hide())}),Tt()()}if(2&e){const i=Ct(),r=Ja(1);yt(1),ht("ngTemplateOutlet",i.contentHeaderTpl||r)}}function dNe(e,t){if(1&e&&(wt(0,"span"),ji(1),Tt()),2&e){const i=Ct().$implicit;el(Ct().highlightClass),yt(1),$s(i)}}function hNe(e,t){1&e&&ji(0),2&e&&$s(Ct().$implicit)}function pNe(e,t){if(1&e&&(Ut(0,dNe,2,3,"span",1),Ut(1,hNe,1,1,"ng-template",null,2,Aa)),2&e){const i=t.odd,r=Ja(2);ht("ngIf",i)("ngIfElse",r)}}function Oa(e){return parseInt(`${e}`,10)}function XZ(e){return null!=e?`${e}`:""}function _y(e,t,i=0){return Math.max(Math.min(e,t),i)}function F2(e){return"string"==typeof e}function _s(e){return!isNaN(Oa(e))}function as(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function $1(e){return null!=e}function P2(e){return _s(e)?`0${e}`.slice(-2):""}function QZ(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}function L2(e){return(e||document.body).getBoundingClientRect()}function JZ(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const eQ={animation:!0,transitionTimerDelayMs:5},wNe=()=>{},{transitionTimerDelayMs:ENe}=eQ,g6=new Map,Ws=(e,t,i,r)=>{let o=r.context||{};const s=g6.get(t);if(s)switch(r.runningTransition){case"continue":return Xh;case"stop":e.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),g6.delete(t)}const a=i(t,r.animation,o)||wNe;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>a()),gi(void 0).pipe(function yNe(e){return t=>new $e(i=>t.subscribe({next:a=>e.run(()=>i.next(a)),error:a=>e.run(()=>i.error(a)),complete:()=>e.run(()=>i.complete())}))}(e));const l=new Xe,u=new Xe,c=l.pipe(function rMe(...e){return t=>fy(t,gi(...e))}(!0));g6.set(t,{transition$:l,complete:()=>{u.next(),u.complete()},context:o});const f=function bNe(e){const{transitionDelay:t,transitionDuration:i}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(i))}(t);return e.runOutsideAngular(()=>{const d=tl(t,"transitionend").pipe(vs(c),ua(({target:p})=>p===t));(function TZ(...e){if(1===e.length){if(!Ri(e[0]))return e[0];e=e[0]}return Ye(e,void 0).lift(new Yxe)})(AZ(f+ENe).pipe(vs(c)),d,u).pipe(vs(c)).subscribe(()=>{g6.delete(t),e.run(()=>{a(),l.next(),l.complete()})})}),l.asObservable()},aN=(e,t,i)=>{let{direction:r,maxSize:o,dimension:s}=i;const{classList:a}=e;function l(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(t)return o||(o=function CNe(e,t){if(typeof navigator>"u")return"0px";const{classList:i}=e,r=i.contains("show");r||i.add("show"),e.style[t]="";const o=e.getBoundingClientRect()[t]+"px";return r||i.remove("show"),o}(e,s),i.maxSize=o,e.style[s]="show"!==r?o:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),L2(e),a.add("collapsing")),e.style[s]="show"===r?o:"0px",()=>{l(),a.remove("collapsing"),e.style[s]=""};l()};let U1=(()=>{class e{constructor(){this.animation=eQ.animation}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tQ=(()=>{class e{constructor(i){this._ngbConfig=i,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return e.\u0275fac=function(i){return new(i||e)(qt(U1))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),DNe=0,lN=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),e})(),nQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),e})(),iQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),e})(),uN=(()=>{class e{constructor(){this.disabled=!1,this.id="ngb-panel-"+DNe++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new On,this.hidden=new On}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wn({type:e,selectors:[["ngb-panel"]],contentQueries:function(i,r,o){if(1&i&&(yo(o,nQ,4),yo(o,lN,4),yo(o,iQ,4)),2&i){let s;Ni(s=Ii())&&(r.titleTpls=s),Ni(s=Ii())&&(r.headerTpls=s),Ni(s=Ii())&&(r.contentTpls=s)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),e})(),xNe=(()=>{class e{constructor(i){this._El=i,this.ngbRef=new On}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return e.\u0275fac=function(i){return new(i||e)(Ae(lr))},e.\u0275dir=wn({type:e,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),e})(),rQ=(()=>{class e{constructor(i,r){this.accordion=i,this.panel=r}set ngbPanelToggle(i){i&&(this.panel=i)}}return e.\u0275fac=function(i){return new(i||e)(Ae(z(()=>cN)),Ae(uN,9))},e.\u0275dir=wn({type:e,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(i,r){1&i&&qn("click",function(){return r.accordion.toggle(r.panel.id)}),2&i&&(Bu("disabled",r.panel.disabled),gr("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),ki("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),e})(),cN=(()=>{class e{constructor(i,r,o){this._ngZone=r,this._changeDetector=o,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new On,this.shown=new On,this.hidden=new On,this.animation=i.animation,this.type=i.type,this.closeOtherPanels=i.closeOthers}isExpanded(i){return this.activeIds.indexOf(i)>-1}expand(i){this._changeOpenState(this._findPanelById(i),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(i=>this._changeOpenState(i,!0))}collapse(i){this._changeOpenState(this._findPanelById(i),!1)}collapseAll(){this.panels.forEach(i=>{this._changeOpenState(i,!1)})}toggle(i){const r=this._findPanelById(i);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){F2(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(i=>{i.isOpen=!i.disabled&&this.activeIds.indexOf(i.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(fa(1)).subscribe(()=>{this.panels.forEach(i=>{const r=i.panelDiv;r?i.initClassDone||(i.initClassDone=!0,Ws(this._ngZone,r,aN,{animation:!1,runningTransition:"continue",context:{direction:i.isOpen?"show":"hide",dimension:"height"}})):i.initClassDone=!1})})}_changeOpenState(i,r){if(null!=i&&!i.disabled&&i.isOpen!==r){let o=!1;this.panelChange.emit({panelId:i.id,nextState:r,preventDefault:()=>{o=!0}}),o||(i.isOpen=r,i.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(i.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(i,r=!0){this.panels.forEach(o=>{o.id!==i&&o.isOpen&&(o.isOpen=!1,o.transitionRunning=r)})}_findPanelById(i){return this.panels.find(r=>r.id===i)||null}_updateActiveIds(){this.activeIds=this.panels.filter(i=>i.isOpen&&!i.disabled).map(i=>i.id)}_runTransitions(i){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Ws(this._ngZone,r.panelDiv,aN,{animation:i,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:s}=r;r.isOpen?(r.shown.emit(),this.shown.emit(s)):(r.hidden.emit(),this.hidden.emit(s))})})}}return e.\u0275fac=function(i){return new(i||e)(Ae(tQ),Ae(xr),Ae(Ta))},e.\u0275cmp=sr({type:e,selectors:[["ngb-accordion"]],contentQueries:function(i,r,o){if(1&i&&yo(o,uN,4),2&i){let s;Ni(s=Ii())&&(r.panels=s)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(i,r){2&i&&gr("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[os],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(i,r){1&i&&(Ut(0,TAe,3,3,"ng-template",0,1,Aa),Ut(2,kAe,4,11,"ng-template",2)),2&i&&(yt(2),ht("ngForOf",r.panels))},dependencies:[Uu,Mc,rQ,xNe,lN,la],encapsulation:2}),e})(),lQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[cN]}),e})();const ONe=({classList:e})=>{e.remove("show")};let RNe=(()=>{class e{constructor(i){this._ngbConfig=i,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return e.\u0275fac=function(i){return new(i||e)(qt(U1))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kNe=(()=>{class e{constructor(i,r,o,s){this._renderer=r,this._element=o,this._zone=s,this.closed=new On,this.dismissible=i.dismissible,this.type=i.type,this.animation=i.animation}close(){const i=Ws(this._zone,this._element.nativeElement,ONe,{animation:this.animation,runningTransition:"continue"});return i.subscribe(()=>this.closed.emit()),i}ngOnChanges(i){const r=i.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return e.\u0275fac=function(i){return new(i||e)(Ae(RNe),Ae(aa),Ae(lr),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(i,r){2&i&&ki("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Fr,os],ngContentSelectors:vy,decls:2,vars:1,consts:function(){let t;return t=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",t,3,"click",4,"ngIf"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(S1(),C1(0),Ut(1,FAe,1,0,"button",0)),2&i&&(yt(1),ht("ngIf",r.dismissible))},dependencies:[la],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),e})(),uQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[kNe]}),e})();var Jh=(()=>(function(e){e.START="start",e.END="end"}(Jh||(Jh={})),Jh))();const cQ=({classList:e})=>e.contains("carousel-item-start")||e.contains("carousel-item-end"),m6=e=>{e.remove("carousel-item-start"),e.remove("carousel-item-end")},yy=e=>{m6(e),e.remove("carousel-item-prev"),e.remove("carousel-item-next")},FNe=(e,t,{direction:i})=>{const{classList:r}=e;return t?(cQ(e)?m6(r):(r.add("carousel-item-"+(i===Jh.START?"next":"prev")),L2(e),r.add("carousel-item-"+i)),()=>{yy(r),r.add("active")}):(m6(r),yy(r),void r.add("active"))},PNe=(e,t,{direction:i})=>{const{classList:r}=e;return t?(cQ(e)?m6(r):r.add("carousel-item-"+i),()=>{yy(r),r.remove("active")}):(m6(r),yy(r),void r.remove("active"))};let LNe=(()=>{class e{constructor(i){this._ngbConfig=i,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return e.\u0275fac=function(i){return new(i||e)(qt(U1))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BNe=0,$Ne=(()=>{class e{constructor(i){this.tplRef=i,this.id="ngb-slide-"+BNe++,this.slid=new On}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),e})(),UNe=(()=>{class e{constructor(i,r,o,s,a){this._platformId=r,this._ngZone=o,this._cd=s,this._container=a,this.NgbSlideEventSource=H1,this._destroy$=new Xe,this._interval$=new ca(0),this._mouseHover$=new ca(!1),this._focused$=new ca(!1),this._pauseOnHover$=new ca(!1),this._pauseOnFocus$=new ca(!1),this._pause$=new ca(!1),this._wrap$=new ca(!1),this.slide=new On,this.slid=new On,this._transitionIds=null,this.animation=i.animation,this.interval=i.interval,this.wrap=i.wrap,this.keyboard=i.keyboard,this.pauseOnHover=i.pauseOnHover,this.pauseOnFocus=i.pauseOnFocus,this.showNavigationArrows=i.showNavigationArrows,this.showNavigationIndicators=i.showNavigationIndicators}set interval(i){this._interval$.next(i)}get interval(){return this._interval$.value}set wrap(i){this._wrap$.next(i)}get wrap(){return this._wrap$.value}set pauseOnHover(i){this._pauseOnHover$.next(i)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(i){this._pauseOnFocus$.next(i)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(i){this._mouseHover$.next(i)}get mouseHover(){return this._mouseHover$.value}set focused(i){this._focused$.next(i)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(H1.ARROW_LEFT)}arrowRight(){this.focus(),this.next(H1.ARROW_RIGHT)}ngAfterContentInit(){Y8(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const i=uy([this.slide.pipe(en(r=>r.current),dy(this.activeId)),this._wrap$,this.slides.changes.pipe(dy(null))]).pipe(en(([r,o])=>{const s=this.slides.toArray(),a=this._getSlideIdxById(r);return o?s.length>1:a<s.length-1}),WT());uy([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,i]).pipe(en(([r,o,s,a,l,u,c])=>r||o&&s||a&&l||!c?0:u),WT(),zu(r=>r>0?AZ(r,r):IZ),vs(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(H1.TIMER)))}),this.slides.changes.pipe(vs(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(i=>(e=>{g6.get(e)?.complete()})(this._getSlideElement(i))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(fa(1)).subscribe(()=>{for(const{id:i}of this.slides){const r=this._getSlideElement(i);i===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let i=this._getSlideById(this.activeId);this.activeId=i?i.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const i=this._getSlideElement(this.activeId);i&&i.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(i,r){this._cycleToSelected(i,this._getSlideEventDirection(this.activeId,i),r)}prev(i){this._cycleToSelected(this._getPrevSlide(this.activeId),Jh.END,i)}next(i){this._cycleToSelected(this._getNextSlide(this.activeId),Jh.START,i)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(i,r,o){const s=this._transitionIds;if(s&&(s[0]!==i||s[1]!==this.activeId))return;let a=this._getSlideById(i);if(a&&a.id!==this.activeId){this._transitionIds=[this.activeId,i],this.slide.emit({prev:this.activeId,current:a.id,direction:r,paused:this._pause$.value,source:o});const l={animation:this.animation,runningTransition:"stop",context:{direction:r}},u=[],c=this._getSlideById(this.activeId);if(c){const p=Ws(this._ngZone,this._getSlideElement(c.id),PNe,l);p.subscribe(()=>{c.slid.emit({isShown:!1,direction:r,source:o})}),u.push(p)}const f=this.activeId;this.activeId=a.id;const d=this._getSlideById(this.activeId),h=Ws(this._ngZone,this._getSlideElement(a.id),FNe,l);h.subscribe(()=>{d?.slid.emit({isShown:!0,direction:r,source:o})}),u.push(h),cy(...u).pipe(fa(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:f,current:a.id,direction:r,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(i,r){return this._getSlideIdxById(i)>this._getSlideIdxById(r)?Jh.END:Jh.START}_getSlideById(i){return this.slides.find(r=>r.id===i)||null}_getSlideIdxById(i){const r=this._getSlideById(i);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(i){const r=this.slides.toArray(),o=this._getSlideIdxById(i);return o===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[o+1].id}_getPrevSlide(i){const r=this.slides.toArray(),o=this._getSlideIdxById(i);return 0===o?this.wrap?r[r.length-1].id:r[0].id:r[o-1].id}_getSlideElement(i){return this._container.nativeElement.querySelector(`#slide-${i}`)}}return e.\u0275fac=function(i){return new(i||e)(Ae(LNe),Ae(Uh),Ae(xr),Ae(Ta),Ae(lr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-carousel"]],contentQueries:function(i,r,o){if(1&i&&yo(o,$Ne,4),2&i){let s;Ni(s=Ii())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(i,r){1&i&&qn("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&i&&(gr("aria-activedescendant","slide-"+r.activeId),x1("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[os],decls:6,vars:6,consts:function(){let t,i,r;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,i=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],i,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(i,r){1&i&&(wt(0,"div",0),Ut(1,PAe,1,5,"button",1),Tt(),wt(2,"div",2),Ut(3,BAe,4,4,"div",3),Tt(),Ut(4,$Ae,4,0,"button",4),Ut(5,UAe,4,0,"button",5)),2&i&&(ki("visually-hidden",!r.showNavigationIndicators),yt(1),ht("ngForOf",r.slides),yt(2),ht("ngForOf",r.slides),yt(1),ht("ngIf",r.showNavigationArrows),yt(1),ht("ngIf",r.showNavigationArrows))},dependencies:[Uu,Mc,la],encapsulation:2,changeDetection:0}),e})();var H1=(()=>(function(e){e.TIMER="timer",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.INDICATOR="indicator"}(H1||(H1={})),H1))();let fQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[UNe]}),e})(),dQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})();class Ys{constructor(t,i,r){this.year=as(t)?t:null,this.month=as(i)?i:null,this.day=as(r)?r:null}static from(t){return t instanceof Ys?t:t?new Ys(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function B2(e,t){return!function VNe(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function hQ(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function by(e,t,i){return e&&t&&e.before(t)?t:e&&i&&e.after(i)?i:e||null}function dN(e,t){const{minDate:i,maxDate:r,disabled:o,markDisabled:s}=t;return!(null==e||o||s&&s(e,{year:e.year,month:e.month})||i&&e.before(i)||r&&e.after(r))}function pQ(e){return new Ys(e.getFullYear(),e.getMonth()+1,e.getDate())}function wy(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}let Ey=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return function XNe(){return new ZNe}()},providedIn:"root"}),e})(),ZNe=(()=>{class e extends Ey{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(i,r="d",o=1){let s=wy(i),a=!0,l=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":l+=o,s.setMonth(l),l%=12,l<0&&(l+=12);break;case"d":s.setDate(s.getDate()+o),a=!1;break;default:return i}return a&&s.getMonth()!==l&&s.setDate(0),pQ(s)}getPrev(i,r="d",o=1){return this.getNext(i,r,-o)}getWeekday(i){let o=wy(i).getDay();return 0===o?7:o}getWeekNumber(i,r){7===r&&(r=0);const a=wy(i[(11-r)%7]);a.setDate(a.getDate()+4-(a.getDay()||7));const l=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((l-a.getTime())/864e5)/7)+1}getToday(){return pQ(new Date)}isValid(i){if(!(i&&as(i.year)&&as(i.month)&&as(i.day)&&0!==i.year))return!1;const r=wy(i);return!isNaN(r.getTime())&&r.getFullYear()===i.year&&r.getMonth()+1===i.month&&r.getDate()===i.day}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),z1=(()=>{class e{getMonthLabel(i){return`${this.getMonthFullName(i.month,i.year)} ${this.getYearNumerals(i.year)}`}getDayNumerals(i){return`${i.day}`}getWeekNumerals(i){return`${i}`}getYearNumerals(i){return`${i}`}getWeekLabel(){return""}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(i){let r=null;return r=i?new i:function QNe(e){return new JNe(e)}(qt($u)),r},providedIn:"root"}),e})(),JNe=(()=>{class e extends z1{constructor(i){super(),this._locale=i,this._monthsShort=yA(i,Lo.Standalone,Qi.Abbreviated),this._monthsFull=yA(i,Lo.Standalone,Qi.Wide)}getWeekdayLabel(i,r){const o=AY(this._locale,Lo.Standalone,void 0===r?Qi.Short:r);return o.map((a,l)=>o[(l+1)%7])[i-1]||""}getMonthShortName(i){return this._monthsShort[i-1]||""}getMonthFullName(i){return this._monthsFull[i-1]||""}getDayAriaLabel(i){return NY(new Date(i.year,i.month-1,i.day),"fullDate",this._locale)}}return e.\u0275fac=function(i){return new(i||e)(qt($u))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),hN=(()=>{class e{constructor(i,r){this._calendar=i,this._i18n=r,this._VALIDATORS={dayTemplateData:o=>{if(this._state.dayTemplateData!==o)return{dayTemplateData:o}},displayMonths:o=>{if(as(o=Oa(o))&&o>0&&this._state.displayMonths!==o)return{displayMonths:o}},disabled:o=>{if(this._state.disabled!==o)return{disabled:o}},firstDayOfWeek:o=>{if(as(o=Oa(o))&&o>=0&&this._state.firstDayOfWeek!==o)return{firstDayOfWeek:o}},focusVisible:o=>{if(this._state.focusVisible!==o&&!this._state.disabled)return{focusVisible:o}},markDisabled:o=>{if(this._state.markDisabled!==o)return{markDisabled:o}},maxDate:o=>{const s=this.toValidDate(o,null);if(B2(this._state.maxDate,s))return{maxDate:s}},minDate:o=>{const s=this.toValidDate(o,null);if(B2(this._state.minDate,s))return{minDate:s}},navigation:o=>{if(this._state.navigation!==o)return{navigation:o}},outsideDays:o=>{if(this._state.outsideDays!==o)return{outsideDays:o}},weekdays:o=>{const s=!0===o||!1===o?Qi.Short:o,a=!0!==o&&!1!==o||o;if(this._state.weekdayWidth!==s||this._state.weekdaysVisible!==a)return{weekdayWidth:s,weekdaysVisible:a}}},this._model$=new Xe,this._dateSelect$=new Xe,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Qi.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ua(i=>i.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ua(i=>null!==i))}set(i){let r=Object.keys(i).map(o=>this._VALIDATORS[o](i[o])).reduce((o,s)=>({...o,...s}),{});Object.keys(r).length>0&&this._nextState(r)}focus(i){const r=this.toValidDate(i,null);null!=r&&!this._state.disabled&&B2(this._state.focusDate,r)&&this._nextState({focusDate:i})}focusSelect(){dN(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(i){const r=this.toValidDate(i,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||hQ(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(i,r={}){const o=this.toValidDate(i,null);null!=o&&!this._state.disabled&&(B2(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),r.emitEvent&&dN(o,this._state)&&this._dateSelect$.next(o))}toValidDate(i,r){const o=Ys.from(i);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(o)?o:r}getMonth(i){for(let r of this._state.months)if(i.month===r.number&&i.year===r.year)return r;throw new Error(`month ${i.month} of year ${i.year} not found`)}_nextState(i){const r=this._updateState(i);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(i){const{months:r,displayMonths:o,selectedDate:s,focusDate:a,focusVisible:l,disabled:u,outsideDays:c}=i;i.months.forEach(f=>{f.weeks.forEach(d=>{d.days.forEach(h=>{a&&(h.context.focused=a.equals(h.date)&&l),h.tabindex=!u&&a&&h.date.equals(a)&&a.month===f.number?0:-1,!0===u&&(h.context.disabled=!0),void 0!==s&&(h.context.selected=null!==s&&s.equals(h.date)),f.number!==h.date.month&&(h.hidden="hidden"===c||"collapsed"===c||o>1&&h.date.after(r[0].firstDate)&&h.date.before(r[o-1].lastDate))})})})}_updateState(i){const r=Object.assign({},this._state,i);let o=r.firstDate;if(("minDate"in i||"maxDate"in i)&&(function HNe(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(r.minDate,r.maxDate),r.focusDate=by(r.focusDate,r.minDate,r.maxDate),r.firstDate=by(r.firstDate,r.minDate,r.maxDate),o=r.focusDate),"disabled"in i&&(r.focusVisible=!1),"selectedDate"in i&&0===this._state.months.length&&(o=r.selectedDate),"focusVisible"in i||"focusDate"in i&&(r.focusDate=by(r.focusDate,r.minDate,r.maxDate),o=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in i&&(r.firstDate=by(r.firstDate,r.minDate,r.maxDate),o=r.firstDate),o){const a=function WNe(e,t,i,r,o){const{displayMonths:s,months:a}=i,l=a.splice(0,a.length);return Array.from({length:s},(c,f)=>{const d=Object.assign(e.getNext(t,"m",f),{day:1});if(a[f]=null,!o){const h=l.findIndex(p=>p.firstDate.equals(d));-1!==h&&(a[f]=l.splice(h,1)[0])}return d}).forEach((c,f)=>{null===a[f]&&(a[f]=function YNe(e,t,i,r,o={}){const{dayTemplateData:s,minDate:a,maxDate:l,firstDayOfWeek:u,markDisabled:c,outsideDays:f,weekdayWidth:d,weekdaysVisible:h}=i,p=e.getToday();o.firstDate=null,o.lastDate=null,o.number=t.month,o.year=t.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],t=function KNe(e,t,i){const r=e.getDaysPerWeek(),o=new Ys(t.year,t.month,1),s=e.getWeekday(o)%r;return e.getPrev(o,"d",(r+s-i)%r)}(e,t,u),h||(o.weekdays.length=0);for(let m=0;m<e.getWeeksPerMonth();m++){let v=o.weeks[m];v||(v=o.weeks[m]={number:0,days:[],collapsed:!0});const _=v.days;for(let y=0;y<e.getDaysPerWeek();y++){0===m&&h&&(o.weekdays[y]=r.getWeekdayLabel(e.getWeekday(t),d));const w=new Ys(t.year,t.month,t.day),S=e.getNext(w),M=r.getDayAriaLabel(w);let A=!!(a&&w.before(a)||l&&w.after(l));!A&&c&&(A=c(w,{month:o.number,year:o.year}));let F=w.equals(p),N=s?s(w,{month:o.number,year:o.year}):void 0;null===o.firstDate&&w.month===o.number&&(o.firstDate=w),w.month===o.number&&S.month!==o.number&&(o.lastDate=w);let H=_[y];H||(H=_[y]={}),H.date=w,H.context=Object.assign(H.context||{},{$implicit:w,date:w,data:N,currentMonth:o.number,currentYear:o.year,disabled:A,focused:!1,selected:!1,today:F}),H.tabindex=-1,H.ariaLabel=M,H.hidden=!1,t=S}v.number=e.getWeekNumber(_.map(y=>y.date),u),v.collapsed="collapsed"===f&&_[0].date.month!==o.number&&_[_.length-1].date.month!==o.number}return o}(e,c,i,r,l.shift()||{}))}),a}(this._calendar,o,r,this._i18n,"dayTemplateData"in i||"firstDayOfWeek"in i||"markDisabled"in i||"minDate"in i||"maxDate"in i||"disabled"in i||"outsideDays"in i||"weekdaysVisible"in i);r.months=a,r.firstDate=a[0].firstDate,r.lastDate=a[a.length-1].lastDate,"selectedDate"in i&&!dN(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in i&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=o);const l=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in i||"maxDate"in i||0===r.selectBoxes.years.length||l)&&(r.selectBoxes.years=function qNe(e,t,i){if(!e)return[];const r=t?Math.max(t.year,e.year-500):e.year-10,s=(i?Math.min(i.year,e.year+500):e.year+10)-r+1,a=Array(s);for(let l=0;l<s;l++)a[l]=r+l;return a}(r.firstDate,r.minDate,r.maxDate)),("minDate"in i||"maxDate"in i||0===r.selectBoxes.months.length||l)&&(r.selectBoxes.months=function zNe(e,t,i,r){if(!t)return[];let o=e.getMonths(t.year);if(i&&t.year===i.year){const s=o.findIndex(a=>a===i.month);o=o.slice(s)}if(r&&t.year===r.year){const s=o.findIndex(a=>a===r.month);o=o.slice(0,s+1)}return o}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(u||l||"minDate"in i||"maxDate"in i||"disabled"in i)&&(r.prevDisabled=r.disabled||function GNe(e,t,i){const r=Object.assign(e.getPrev(t,"m"),{day:1});return null!=i&&(r.year===i.year&&r.month<i.month||r.year<i.year&&1===i.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function jNe(e,t,i){const r=Object.assign(e.getNext(t,"m"),{day:1});return null!=i&&r.after(i)}(this._calendar,r.lastDate,r.maxDate))}return r}}return e.\u0275fac=function(i){return new(i||e)(qt(Ey),qt(z1))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();var $2=(()=>(function(e){e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT"}($2||($2={})),$2))();let eIe=(()=>{class e{constructor(i){this.i18n=i}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return e.\u0275fac=function(i){return new(i||e)(Ae(z1))},e.\u0275cmp=sr({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,r){2&i&&ki("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[os],attrs:VAe,decls:1,vars:1,template:function(i,r){1&i&&ji(0),2&i&&$s(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e})(),tIe=(()=>{class e{constructor(i,r){this.i18n=i,this._renderer=r,this.select=new On,this._month=-1,this._year=-1}changeMonth(i){this.select.emit(new Ys(this.date.year,Oa(i),1))}changeYear(i){this.select.emit(new Ys(Oa(i),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return e.\u0275fac=function(i){return new(i||e)(Ae(z1),Ae(aa))},e.\u0275cmp=sr({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,r){if(1&i&&(jo(HAe,7,lr),jo(zAe,7,lr)),2&i){let o;Ni(o=Ii())&&(r.monthSelect=o.first),Ni(o=Ii())&&(r.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[os],decls:6,vars:4,consts:function(){let t,i,r,o;return t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,o=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",t,"title",i,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",o,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(i,r){1&i&&(wt(0,"select",0,1),qn("change",function(s){return r.changeMonth(s.target.value)}),Ut(2,qAe,2,3,"option",2),Tt(),wt(3,"select",3,4),qn("change",function(s){return r.changeYear(s.target.value)}),Ut(5,jAe,2,2,"option",2),Tt()),2&i&&(ht("disabled",r.disabled),yt(2),ht("ngForOf",r.months),yt(1),ht("disabled",r.disabled),yt(2),ht("ngForOf",r.years))},dependencies:[Uu],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),e})(),nIe=(()=>{class e{constructor(i){this.i18n=i,this.navigation=$2,this.months=[],this.navigate=new On,this.select=new On}onClickPrev(i){i.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(i){i.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return e.\u0275fac=function(i){return new(i||e)(Ae(z1))},e.\u0275cmp=sr({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[os],decls:8,vars:4,consts:function(){let t,i,r,o;return t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(i,r){1&i&&(wt(0,"div",0)(1,"button",1),qn("click",function(s){return r.onClickPrev(s)}),Er(2,"span",2),Tt()(),Ut(3,GAe,1,4,"ngb-datepicker-navigation-select",3),Ut(4,XAe,1,1,null,4),wt(5,"div",5)(6,"button",6),qn("click",function(s){return r.onClickNext(s)}),Er(7,"span",2),Tt()()),2&i&&(yt(1),ht("disabled",r.prevDisabled),yt(2),ht("ngIf",r.showSelect),yt(1),ht("ngIf",!r.showSelect),yt(2),ht("disabled",r.nextDisabled))},dependencies:[la,Uu,tIe],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),e})();var Or=(()=>(function(e){e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown"}(Or||(Or={})),Or))();let iIe=(()=>{class e{processKey(i,r){const{state:o,calendar:s}=r;switch(i.which){case Or.PageUp:r.focusDate(s.getPrev(o.focusedDate,i.shiftKey?"y":"m",1));break;case Or.PageDown:r.focusDate(s.getNext(o.focusedDate,i.shiftKey?"y":"m",1));break;case Or.End:r.focusDate(i.shiftKey?o.maxDate:o.lastDate);break;case Or.Home:r.focusDate(i.shiftKey?o.minDate:o.firstDate);break;case Or.ArrowLeft:r.focusDate(s.getPrev(o.focusedDate,"d",1));break;case Or.ArrowUp:r.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case Or.ArrowRight:r.focusDate(s.getNext(o.focusedDate,"d",1));break;case Or.ArrowDown:r.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case Or.Enter:case Or.Space:r.focusSelect();break;default:return}i.preventDefault(),i.stopPropagation()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),pN=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Qi.Short}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return function rIe(){return new oIe}()},providedIn:"root"}),e})(),oIe=(()=>{class e extends gN{fromModel(i){return i&&as(i.year)&&as(i.month)&&as(i.day)?{year:i.year,month:i.month,day:i.day}:null}toModel(i){return i&&as(i.year)&&as(i.month)&&as(i.day)?{year:i.year,month:i.month,day:i.day}:null}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),gQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),e})(),mN=(()=>{class e{constructor(i,r,o,s){this.i18n=i,this.datepicker=r,this._keyboardService=o,this._service=s}set month(i){this.viewModel=this._service.getMonth(i)}onKeyDown(i){this._keyboardService.processKey(i,this.datepicker)}doSelect(i){!i.context.disabled&&!i.hidden&&this.datepicker.onDateSelect(i.date)}}return e.\u0275fac=function(i){return new(i||e)(Ae(z1),Ae(z(()=>Sy)),Ae(iIe),Ae(hN))},e.\u0275cmp=sr({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,r){1&i&&qn("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[os],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(Ut(0,JAe,3,2,"div",0),Ut(1,oTe,1,1,"ng-template",1)),2&i&&(ht("ngIf",r.viewModel.weekdays.length>0),yt(1),ht("ngForOf",r.viewModel.weeks))},dependencies:[la,Uu,Mc],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),e})(),Sy=(()=>{class e{constructor(i,r,o,s,a,l,u,c){this._service=i,this._calendar=r,this._i18n=o,this._elementRef=l,this._ngbDateAdapter=u,this._ngZone=c,this.injector=Qn(au),this._controlValue=null,this._destroyed$=new Xe,this._publicState={},this.navigate=new On,this.dateSelect=new On,this.onChange=f=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(f=>this[f]=s[f]),i.dateSelect$.pipe(vs(this._destroyed$)).subscribe(f=>{this.dateSelect.emit(f)}),i.model$.pipe(vs(this._destroyed$)).subscribe(f=>{const d=f.firstDate,h=this.model?this.model.firstDate:null;this._publicState={maxDate:f.maxDate,minDate:f.minDate,firstDate:f.firstDate,lastDate:f.lastDate,focusedDate:f.focusDate,months:f.months.map(y=>y.firstDate)};let p=!1;if(!d.equals(h)&&(this.navigate.emit({current:h?{year:h.year,month:h.month}:null,next:{year:d.year,month:d.month},preventDefault:()=>p=!0}),p&&null!==h))return void this._service.open(h);const m=f.selectedDate,v=f.focusDate,_=this.model?this.model.focusDate:null;this.model=f,B2(m,this._controlValue)&&(this._controlValue=m,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(m))),B2(v,_)&&_&&f.focusVisible&&this.focus(),a.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(i){this._service.focus(Ys.from(i))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(fa(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');i&&i.focus()})}navigateTo(i){this._service.open(Ys.from(i?i.day?i:{...i,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const i=tl(this._contentEl.nativeElement,"focusin"),r=tl(this._contentEl.nativeElement,"focusout"),{nativeElement:o}=this._elementRef;Ft(i,r).pipe(ua(({target:s,relatedTarget:a})=>!(QZ(s,"ngb-dp-day")&&QZ(a,"ngb-dp-day")&&o.contains(s)&&o.contains(a))),vs(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const i={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>i[r]=this[r]),this._service.set(i),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(i){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in i).forEach(o=>r[o]=this[o]),this._service.set(r),"startDate"in i){const{currentValue:o,previousValue:s}=i.startDate;hQ(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(i){this._service.focus(i),this._service.select(i,{emitEvent:!0})}onNavigateDateSelect(i){this._service.open(i)}onNavigateEvent(i){switch(i){case $2.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case $2.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this._service.set({disabled:i})}writeValue(i){this._controlValue=Ys.from(this._ngbDateAdapter.fromModel(i)),this._service.select(this._controlValue)}}return e.\u0275fac=function(i){return new(i||e)(Ae(hN),Ae(Ey),Ae(z1),Ae(pN),Ae(Ta),Ae(lr),Ae(gN),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(i,r,o){if(1&i&&yo(o,gQ,7),2&i){let s;Ni(s=Ii())&&(r.contentTemplateFromContent=s.first)}},viewQuery:function(i,r){if(1&i&&(jo(sTe,7),jo(aTe,7)),2&i){let o;Ni(o=Ii())&&(r._defaultDayTemplate=o.first),Ni(o=Ii())&&(r._contentEl=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&ki("disabled",r.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[qr([{provide:Na,useExisting:z(()=>e),multi:!0},hN]),Fr,os],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(i,r){if(1&i&&(Ut(0,lTe,1,5,"ng-template",null,0,Aa),Ut(2,fTe,1,1,"ng-template",null,1,Aa),wt(4,"div",2),Ut(5,dTe,1,7,"ngb-datepicker-navigation",3),Tt(),wt(6,"div",4,5),Ut(8,hTe,0,0,"ng-template",6),Tt(),Ut(9,pTe,0,0,"ng-template",7)),2&i){const o=Ja(3);yt(5),ht("ngIf","none"!==r.navigation),yt(1),ki("ngb-dp-months",!r.contentTemplate),yt(2),ht("ngTemplateOutlet",r.contentTemplate||(null==r.contentTemplateFromContent?null:r.contentTemplateFromContent.templateRef)||o)("ngTemplateOutletContext",Sc(7,KZ,r))("ngTemplateOutletInjector",r.injector),yt(1),ht("ngTemplateOutlet",r.footerTemplate)}},dependencies:[la,Uu,Mc,eIe,mN,nIe],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _Q=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yQ(e){const t=Array.from(e.querySelectorAll(_Q)).filter(i=>-1!==i.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let OQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[Sy,mN]}),e})(),FQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})();class G1{constructor(t,i,r){this.nodes=t,this.viewRef=i,this.componentRef=r}}let NIe=(()=>{class e{constructor(i,r){this._el=i,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(fa(1)).subscribe(()=>{Ws(this._zone,this._el.nativeElement,(i,r)=>{r&&L2(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ws(this._zone,this._el.nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(i){return new(i||e)(Ae(lr),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(el("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ki("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[os],decls:0,vars:0,template:function(i,r){},encapsulation:2}),e})();class PQ{update(t){}close(t){}dismiss(t){}}const IIe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],OIe=["animation","backdropClass"];class RIe{constructor(t,i,r,o){this._windowCmptRef=t,this._contentRef=i,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new Xe,this._dismissed=new Xe,this._hidden=new Xe,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,a)=>{this._resolve=s,this._reject=a}),this.result.then(null,()=>{})}_applyWindowOptions(t,i){IIe.forEach(r=>{$1(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){OIe.forEach(r=>{$1(i[r])&&(t[r]=i[r])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vs(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vs(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();!function ZZ(e){return e&&e.then}(i)?!1!==i&&this._dismiss(t):i.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gi(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cy(t,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var y6=(()=>(function(e){e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC"}(y6||(y6={})),y6))();let kIe=(()=>{class e{constructor(i,r,o){this._document=i,this._elRef=r,this._zone=o,this._closed$=new Xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new On,this.shown=new Xe,this.hidden=new Xe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":F2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(fa(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},a=cy(Ws(this._zone,i,()=>i.classList.remove("show"),r),Ws(this._zone,this._dialogEl.nativeElement,()=>{},r));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const i={animation:this.animation,runningTransition:"continue"};cy(Ws(this._zone,this._elRef.nativeElement,(s,a)=>{a&&L2(s),s.classList.add("show")},i),Ws(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{tl(i,"keydown").pipe(vs(this._closed$),ua(o=>o.which===Or.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(y6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;tl(this._dialogEl.nativeElement,"mousedown").pipe(vs(this._closed$),da(()=>r=!1),zu(()=>tl(i,"mouseup").pipe(vs(this._closed$),fa(1))),ua(({target:o})=>i===o)).subscribe(()=>{r=!0}),tl(i,"click").pipe(vs(this._closed$)).subscribe(({target:o})=>{i===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(y6.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const r=i.querySelector("[ngbAutofocus]"),o=yQ(i)[0];(r||o||i).focus()}}_restoreFocus(){const i=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&i.contains(r)?r:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ws(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(i){return new(i||e)(Ae(Mo),Ae(lr),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&jo(gTe,7),2&i){let o;Ni(o=Ii())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(gr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),el("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ki("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[os],ngContentSelectors:vy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(S1(),wt(0,"div",0,1)(2,"div",2),C1(3),Tt()()),2&i&&el("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),FIe=(()=>{class e{constructor(i){this._document=i}hide(){const i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,o=r.style,{overflow:s,paddingRight:a}=o;if(i>0){const l=parseFloat(window.getComputedStyle(r).paddingRight);o.paddingRight=`${l+i}px`}return o.overflow="hidden",()=>{i>0&&(o.paddingRight=a),o.overflow=s}}}return e.\u0275fac=function(i){return new(i||e)(qt(Mo))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PIe=(()=>{class e{constructor(i,r,o,s,a,l,u){this._applicationRef=i,this._injector=r,this._environmentInjector=o,this._document=s,this._scrollBar=a,this._rendererFactory=l,this._ngZone=u,this._activeWindowCmptHasChanged=new Xe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new On,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((e,t,i,r=!1)=>{e.runOutsideAngular(()=>{const o=tl(t,"focusin").pipe(vs(i),en(s=>s.target));tl(t,"keydown").pipe(vs(i),ua(s=>s.which===Or.Tab),YT(o)).subscribe(([s,a])=>{const[l,u]=yQ(t);(a===l||a===t)&&s.shiftKey&&(u.focus(),s.preventDefault()),a===u&&!s.shiftKey&&(l.focus(),s.preventDefault())}),r&&tl(t,"click").pipe(vs(i),YT(o),en(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,o){const s=o.container instanceof HTMLElement?o.container:$1(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new PQ,u=(i=o.injector||i).get(wc,null)||this._environmentInjector,c=this._getContentRef(i,u,r,l,o);let f=!1!==o.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,c.nodes),h=new RIe(d,c,f,o.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(fa(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=p=>{h.close(p)},l.dismiss=p=>{h.dismiss(p)},l.update=p=>{h.update(p)},h.update(o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&f.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=pA(NIe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let o=pA(kIe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_getContentRef(i,r,o,s,a){return o?o instanceof xo?this._createFromTemplateRef(o,s):F2(o)?this._createFromString(o):this._createFromComponent(i,r,o,s,a):new G1([])}_createFromTemplateRef(i,r){const s=i.createEmbeddedView({$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}});return this._applicationRef.attachView(s),new G1([s.rootNodes],s)}_createFromString(i){const r=this._document.createTextNode(`${i}`);return new G1([[r]])}_createFromComponent(i,r,o,s,a){const u=pA(o,{environmentInjector:r,elementInjector:au.create({providers:[{provide:PQ,useValue:s}],parent:i})}),c=u.location.nativeElement;return a.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new G1([[c]],u.hostView,u)}_setAriaHidden(i){const r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==i&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const r=()=>{const o=this._modalRefs.indexOf(i);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(i){return new(i||e)(qt(A1),qt(au),qt(wc),qt(Mo),qt(FIe),qt(n2),qt(xr))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),LIe=(()=>{class e{constructor(i){this._ngbConfig=i,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return e.\u0275fac=function(i){return new(i||e)(qt(U1))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BIe=(()=>{class e{constructor(i,r,o){this._injector=i,this._modalStack=r,this._config=o}open(i,r={}){const o={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,i,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(i){return new(i||e)(qt(au),qt(PIe),qt(LIe))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),LQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({providers:[BIe]}),e})();const qIe=({classList:e})=>(e.remove("show"),()=>e.remove("active")),jIe=(e,t)=>{t&&L2(e),e.classList.add("show")};let bN=(()=>{class e{constructor(i){this.elRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(lr))},e.\u0275dir=wn({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,r){2&i&&(Bu("id",r.item.panelDomId),gr("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),ki("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),e})(),UQ=(()=>{class e{constructor(i,r){this._cd=i,this._ngZone=r,this._activePane=null}isPanelTransitioning(i){return this._activePane?.item===i}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(vs(this.nav.destroy$),dy(this._activePane?.item||null),WT(),function EMe(e){return t=>t.lift(new SMe(e))}(1)).subscribe(i=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ws(this._ngZone,this._activePane.elRef.nativeElement,qIe,r).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(i),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Ws(this._ngZone,this._activePane.elRef.nativeElement,jIe,r).subscribe(()=>{i&&(i.shown.emit(),this.nav.shown.emit(i.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(i){return this._panes&&this._panes.find(r=>r.item===i)||null}_getActivePane(){return this._panes&&this._panes.find(i=>i.item.active)||null}}return e.\u0275fac=function(i){return new(i||e)(Ae(Ta),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,r){if(1&i&&jo(bN,5),2&i){let o;Ni(o=Ii())&&(r._panes=o)}},hostVars:2,hostBindings:function(i,r){2&i&&ki("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[os],attrs:mTe,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&Ut(0,yTe,1,1,"ng-template",0),2&i&&ht("ngForOf",r.nav.items)},dependencies:[bN,Uu,la,Mc],encapsulation:2,changeDetection:0}),e})(),VQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[UQ]}),e})(),GIe=(()=>{class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),HQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),e})(),zQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),e})(),qQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),e})(),jQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),e})(),GQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),e})(),WQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),e})(),YQ=(()=>{class e{constructor(i){this.templateRef=i}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),e})(),KQ=(()=>{class e{constructor(i){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new On(!0),this.disabled=i.disabled,this.boundaryLinks=i.boundaryLinks,this.directionLinks=i.directionLinks,this.ellipses=i.ellipses,this.maxSize=i.maxSize,this.pageSize=i.pageSize,this.rotate=i.rotate,this.size=i.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(i){this._updatePages(i)}ngOnChanges(i){this._updatePages(this.page)}isEllipsis(i){return-1===i}_applyEllipses(i,r){this.ellipses&&(i>0&&(i>2?this.pages.unshift(-1):2===i&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let i=0,r=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?r=this.maxSize:this.pageCount-this.page<o?i=this.pageCount-this.maxSize:(i=this.page-o-1,r=this.page+(this.maxSize%2==0?o-1:o)),[i,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(i){const r=this.page;this.page=_y(i,this.pageCount,1),this.page!==r&&_s(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(i){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),_s(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(i),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,o=this.pageCount;[r,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,o),this._applyEllipses(r,o)}}}return e.\u0275fac=function(i){return new(i||e)(Ae(GIe))},e.\u0275cmp=sr({type:e,selectors:[["ngb-pagination"]],contentQueries:function(i,r,o){if(1&i&&(yo(o,HQ,5),yo(o,zQ,5),yo(o,qQ,5),yo(o,jQ,5),yo(o,GQ,5),yo(o,WQ,5),yo(o,YQ,5)),2&i){let s;Ni(s=Ii())&&(r.tplEllipsis=s.first),Ni(s=Ii())&&(r.tplFirst=s.first),Ni(s=Ii())&&(r.tplLast=s.first),Ni(s=Ii())&&(r.tplNext=s.first),Ni(s=Ii())&&(r.tplNumber=s.first),Ni(s=Ii())&&(r.tplPrevious=s.first),Ni(s=Ii())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Fr,os],decls:20,vars:12,consts:function(){let t,i,r,o,s,a,l,u;return t=$localize`:@@ngb.pagination.first:««`,i=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,o=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,u=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,i,r,o,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"]]},template:function(i,r){if(1&i&&(Ut(0,bTe,2,0,"ng-template",null,0,Aa),Ut(2,wTe,2,0,"ng-template",null,1,Aa),Ut(4,ETe,2,0,"ng-template",null,2,Aa),Ut(6,STe,2,0,"ng-template",null,3,Aa),Ut(8,CTe,1,0,"ng-template",null,4,Aa),Ut(10,DTe,1,1,"ng-template",null,5,Aa),Ut(12,RTe,1,1,"ng-template",null,6,Aa),wt(14,"ul"),Ut(15,FTe,3,9,"li",7),Ut(16,BTe,3,8,"li",7),Ut(17,$Te,0,0,"ng-template",8),Ut(18,VTe,3,9,"li",7),Ut(19,zTe,3,9,"li",7),Tt()),2&i){const o=Ja(13);yt(14),el("pagination"+(r.size?" pagination-"+r.size:"")),yt(1),ht("ngIf",r.boundaryLinks),yt(1),ht("ngIf",r.directionLinks),yt(1),ht("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||o)("ngTemplateOutletContext",t_(8,qTe,r.page,r.pages,r.disabled)),yt(1),ht("ngIf",r.directionLinks),yt(1),ht("ngIf",r.boundaryLinks)}},dependencies:[la,Uu,Mc],encapsulation:2,changeDetection:0}),e})(),XQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[KQ]}),e})(),QQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})(),QIe=(()=>{class e{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),JIe=(()=>{class e{constructor(i){this.value=0,this.max=i.max,this.animated=i.animated,this.ariaLabel=i.ariaLabel,this.striped=i.striped,this.textType=i.textType,this.type=i.type,this.showValue=i.showValue,this.height=i.height}set max(i){this._max=!_s(i)||i<=0?100:i}get max(){return this._max}getValue(){return _y(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return e.\u0275fac=function(i){return new(i||e)(Ae(QIe))},e.\u0275cmp=sr({type:e,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(i,r){2&i&&(gr("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),x1("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[os],ngContentSelectors:vy,decls:3,vars:11,consts:function(){let t;return t=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],t]},template:function(i,r){1&i&&(S1(),wt(0,"div"),Ut(1,WTe,3,3,"span",0),C1(2),Tt()),2&i&&(yG("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),x1("width",r.getPercentValue(),"%"),ki("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),yt(1),ht("ngIf",r.showValue))},dependencies:[la,jY],encapsulation:2,changeDetection:0}),e})(),JQ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[JIe]}),e})(),eOe=(()=>{class e{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tOe=(()=>{class e{constructor(i,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new On,this.leave=new On,this.rateChange=new On(!0),this.onChange=o=>{},this.onTouched=()=>{},this.max=i.max,this.readonly=i.readonly,this.tabindex=i.tabindex}ariaValueText(i,r){return`${i} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(i){this.isInteractive()&&this._updateState(i),this.hover.emit(i)}handleBlur(){this.onTouched()}handleClick(i){this.isInteractive()&&this.update(this.resettable&&this.rate===i?0:i)}handleKeyDown(i){switch(i.which){case Or.ArrowDown:case Or.ArrowLeft:this.update(this.rate-1);break;case Or.ArrowUp:case Or.ArrowRight:this.update(this.rate+1);break;case Or.Home:this.update(0);break;case Or.End:this.update(this.max);break;default:return}i.preventDefault()}ngOnChanges(i){i.rate&&this.update(this.rate),i.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(i){this.disabled=i}update(i,r=!0){const o=_y(i,this.max,0);this.isInteractive()&&this.rate!==o&&(this.rate=o,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(i){this.update(i,!1),this._changeDetectorRef.markForCheck()}_updateState(i){this.nextRate=i,this.contexts.forEach((r,o)=>r.fill=Math.round(100*_y(i-o,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(i,r)=>({fill:0,index:r}))}}return e.\u0275fac=function(i){return new(i||e)(Ae(eOe),Ae(Ta))},e.\u0275cmp=sr({type:e,selectors:[["ngb-rating"]],contentQueries:function(i,r,o){if(1&i&&yo(o,xo,5),2&i){let s;Ni(s=Ii())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(i,r){1&i&&qn("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&i&&(Bu("tabindex",r.disabled?-1:r.tabindex),gr("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[qr([{provide:Na,useExisting:z(()=>e),multi:!0}]),Fr,os],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(Ut(0,YTe,1,1,"ng-template",null,0,Aa),Ut(2,XTe,4,5,"ng-template",1)),2&i&&(yt(2),ht("ngForOf",r.contexts))},dependencies:[Uu,Mc],encapsulation:2,changeDetection:0}),e})(),eJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[tOe]}),e})();class tJ{constructor(t,i,r){this.hour=Oa(t),this.minute=Oa(i),this.second=Oa(r)}changeHour(t=1){this.updateHour((isNaN(this.hour)?0:this.hour)+t)}updateHour(t){this.hour=_s(t)?(t<0?24+t:t)%24:NaN}changeMinute(t=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}updateMinute(t){_s(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}changeSecond(t=1){this.updateSecond((isNaN(this.second)?0:this.second)+t)}updateSecond(t){_s(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}isValid(t=!0){return _s(this.hour)&&_s(this.minute)&&(!t||_s(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let nOe=(()=>{class e{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return function iOe(){return new rOe}()},providedIn:"root"}),e})(),rOe=(()=>{class e extends nJ{fromModel(i){return i&&as(i.hour)&&as(i.minute)?{hour:i.hour,minute:i.minute,second:as(i.second)?i.second:null}:null}toModel(i){return i&&as(i.hour)&&as(i.minute)?{hour:i.hour,minute:i.minute,second:as(i.second)?i.second:null}:null}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),iJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(i){let r=null;return r=i?new i:function oOe(e){return new sOe(e)}(qt($u)),r},providedIn:"root"}),e})(),sOe=(()=>{class e extends iJ{constructor(i){super(),this._periods=MY(i,Lo.Standalone,Qi.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return e.\u0275fac=function(i){return new(i||e)(qt($u))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const aOe=/[^0-9]/g;let lOe=(()=>{class e{constructor(i,r,o,s){this._config=i,this._ngbTimeAdapter=r,this._cd=o,this.i18n=s,this.onChange=a=>{},this.onTouched=()=>{},this.meridian=i.meridian,this.spinners=i.spinners,this.seconds=i.seconds,this.hourStep=i.hourStep,this.minuteStep=i.minuteStep,this.secondStep=i.secondStep,this.disabled=i.disabled,this.readonlyInputs=i.readonlyInputs,this.size=i.size}set hourStep(i){this._hourStep=as(i)?i:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(i){this._minuteStep=as(i)?i:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(i){this._secondStep=as(i)?i:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(i){const r=this._ngbTimeAdapter.fromModel(i);this.model=r?new tJ(r.hour,r.minute,r.second):new tJ,!this.seconds&&(!r||!_s(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}changeHour(i){this.model?.changeHour(i),this.propagateModelChange()}changeMinute(i){this.model?.changeMinute(i),this.propagateModelChange()}changeSecond(i){this.model?.changeSecond(i),this.propagateModelChange()}updateHour(i){const r=!!this.model&&this.model.hour>=12,o=Oa(i);this.model?.updateHour(this.meridian&&(r&&o<12||!r&&12===o)?o+12:o),this.propagateModelChange()}updateMinute(i){this.model?.updateMinute(Oa(i)),this.propagateModelChange()}updateSecond(i){this.model?.updateSecond(Oa(i)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(i){i.value=i.value.replace(aOe,"")}formatHour(i){return _s(i)?P2(this.meridian?i%12==0?12:i%12:i%24):P2(NaN)}formatMinSec(i){return P2(_s(i)?i:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(i){i.seconds&&!this.seconds&&this.model&&!_s(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(i=!0){i&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return e.\u0275fac=function(i){return new(i||e)(Ae(nOe),Ae(nJ),Ae(Ta),Ae(iJ))},e.\u0275cmp=sr({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[qr([{provide:Na,useExisting:z(()=>e),multi:!0}]),Fr,os],decls:16,vars:25,consts:function(){let t,i,r,o,s,a,l,u,c,f,d,h,p,m;return t=$localize`:@@ngb.timepicker.HH:HH`,i=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,o=$localize`:@@ngb.timepicker.minutes:Minutes`,s=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,a=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,l=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,u=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,c=$localize`:@@ngb.timepicker.SS:SS`,f=$localize`:@@ngb.timepicker.seconds:Seconds`,d=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,h=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,p=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,m=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",t,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",o,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],s,[1,"chevron","ngb-tp-chevron","bottom"],a,l,u,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",c,"aria-label",f,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],d,h,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],p,m]},template:function(i,r){1&i&&(wt(0,"fieldset",0)(1,"div",1)(2,"div",2),Ut(3,ZTe,4,7,"button",3),wt(4,"input",4),qn("change",function(s){return r.updateHour(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),Tt(),Ut(5,QTe,4,7,"button",3),Tt(),wt(6,"div",5),ji(7,":"),Tt(),wt(8,"div",6),Ut(9,JTe,4,7,"button",3),wt(10,"input",7),qn("change",function(s){return r.updateMinute(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),Tt(),Ut(11,eNe,4,7,"button",3),Tt(),Ut(12,tNe,2,0,"div",8),Ut(13,rNe,4,9,"div",9),Ut(14,oNe,1,0,"div",8),Ut(15,lNe,5,9,"div",10),Tt()()),2&i&&(ki("disabled",r.disabled),ht("disabled",r.disabled),yt(3),ht("ngIf",r.spinners),yt(1),ki("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),ht("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),yt(1),ht("ngIf",r.spinners),yt(4),ht("ngIf",r.spinners),yt(1),ki("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),ht("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),yt(1),ht("ngIf",r.spinners),yt(1),ht("ngIf",r.seconds),yt(1),ht("ngIf",r.seconds),yt(1),ht("ngIf",r.meridian),yt(1),ht("ngIf",r.meridian))},dependencies:[la],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),e})(),rJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[lOe]}),e})();const uOe=(e,t)=>{const{classList:i}=e;if(t)return i.add("fade"),L2(e),i.add("show","showing"),()=>{i.remove("showing")};i.add("show")},cOe=({classList:e})=>(e.add("showing"),()=>{e.remove("show","showing")});let fOe=(()=>{class e{constructor(i){this._ngbConfig=i,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return e.\u0275fac=function(i){return new(i||e)(qt(U1))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dOe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wn({type:e,selectors:[["","ngbToastHeader",""]],standalone:!0}),e})(),hOe=(()=>{class e{constructor(i,r,o,s){this.ariaLive=i,this._zone=o,this._element=s,this.contentHeaderTpl=null,this.shown=new On,this.hidden=new On,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(fa(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(i){"autohide"in i&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const i=Ws(this._zone,this._element.nativeElement,cOe,{animation:this.animation,runningTransition:"stop"});return i.subscribe(()=>{this.hidden.emit()}),i}show(){const i=Ws(this._zone,this._element.nativeElement,uOe,{animation:this.animation,runningTransition:"continue"});return i.subscribe(()=>{this.shown.emit()}),i}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return e.\u0275fac=function(i){return new(i||e)(function Ph(e){return function G6e(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const r=i.length;let o=0;for(;o<r;){const s=i[o];if(Cz(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<r&&"string"==typeof i[o];)o++;else{if(s===t)return i[o+1];o+=2}}}return null}(xa(),e)}("aria-live"),Ae(fOe),Ae(xr),Ae(lr))},e.\u0275cmp=sr({type:e,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(1&i&&yo(o,dOe,7,xo),2&i){let s;Ni(s=Ii())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(gr("aria-live",r.ariaLive),ki("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Fr,os],ngContentSelectors:vy,decls:5,vars:1,consts:function(){let t;return t=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(S1(),Ut(0,uNe,2,1,"ng-template",null,0,Aa),Ut(2,fNe,3,1,"ng-template",1),wt(3,"div",2),C1(4),Tt()),2&i&&(yt(2),ht("ngIf",r.contentHeaderTpl||r.header))},dependencies:[la,Mc],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),e})(),oJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[hOe]}),e})(),sJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})(),pOe=(()=>{class e{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(i){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=XZ(this.result),o=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:JZ(c),a=o.map(c=>function vNe(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(XZ(c)))).filter(c=>c),l=this.accentSensitive?r:JZ(r),u=a.length?l.split(new RegExp(`(${a.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=u;else{let c=0;this.parts=u.map(f=>r.substring(c,c+=f.length))}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sr({type:e,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Fr,os],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(i,r){1&i&&Ut(0,pNe,3,2,"ng-template",0),2&i&&ht("ngForOf",r.parts)},dependencies:[la,Uu],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),e})();new si("live announcer delay",{providedIn:"root",factory:function gOe(){return 100}});let aJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[pOe]}),e})(),lJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({}),e})();const mOe=[lQ,uQ,fQ,dQ,OQ,FQ,LQ,VQ,lJ,XQ,QQ,JQ,eJ,rJ,oJ,sJ,aJ];let vOe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[mOe,lQ,uQ,fQ,dQ,OQ,FQ,LQ,VQ,lJ,XQ,QQ,JQ,eJ,rJ,oJ,sJ,aJ]}),e})(),nl=(()=>{class e{}return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.IN="in",e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL_TO="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL_TO="gte",e.BETWEEN="between",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.DATE_IS="dateIs",e.DATE_IS_NOT="dateIsNot",e.DATE_BEFORE="dateBefore",e.DATE_AFTER="dateAfter",e})(),wN=(()=>{class e{constructor(){this.clickSource=new Xe,this.clickObservable=this.clickSource.asObservable()}add(i){i&&this.clickSource.next(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w6=(()=>{class e{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[nl.STARTS_WITH,nl.CONTAINS,nl.NOT_CONTAINS,nl.ENDS_WITH,nl.EQUALS,nl.NOT_EQUALS],numeric:[nl.EQUALS,nl.NOT_EQUALS,nl.LESS_THAN,nl.LESS_THAN_OR_EQUAL_TO,nl.GREATER_THAN,nl.GREATER_THAN_OR_EQUAL_TO],date:[nl.DATE_IS,nl.DATE_IS_NOT,nl.DATE_BEFORE,nl.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Xe,this.translationObserver=this.translationSource.asObservable()}getTranslation(i){return this.translation[i]}setTranslation(i){this.translation={...this.translation,...i},this.translationSource.next(this.translation)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Iy=(()=>{class e{constructor(i){this.template=i}getType(){return this.name}}return e.\u0275fac=function(i){return new(i||e)(Ae(xo))},e.\u0275dir=wn({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e})(),Oy=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1]}),e})(),ti=(()=>{class e{static addClass(i,r){i&&r&&(i.classList?i.classList.add(r):i.className+=" "+r)}static addMultipleClasses(i,r){if(i&&r)if(i.classList){let o=r.trim().split(" ");for(let s=0;s<o.length;s++)i.classList.add(o[s])}else{let o=r.split(" ");for(let s=0;s<o.length;s++)i.className+=" "+o[s]}}static removeClass(i,r){i&&r&&(i.classList?i.classList.remove(r):i.className=i.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(i,r){return!(!i||!r)&&(i.classList?i.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(i.className))}static siblings(i){return Array.prototype.filter.call(i.parentNode.children,function(r){return r!==i})}static find(i,r){return Array.from(i.querySelectorAll(r))}static findSingle(i,r){return i?i.querySelector(r):null}static index(i){let r=i.parentNode.childNodes,o=0;for(var s=0;s<r.length;s++){if(r[s]==i)return o;1==r[s].nodeType&&o++}return-1}static indexWithinGroup(i,r){let o=i.parentNode?i.parentNode.childNodes:[],s=0;for(var a=0;a<o.length;a++){if(o[a]==i)return s;o[a].attributes&&o[a].attributes[r]&&1==o[a].nodeType&&s++}return-1}static appendOverlay(i,r,o="self"){"self"!==o&&i&&r&&this.appendChild(i,r)}static alignOverlay(i,r,o="self",s=!0){i&&r&&(s&&(i.style.minWidth=`${e.getOuterWidth(r)}px`),"self"===o?this.relativePosition(i,r):this.absolutePosition(i,r))}static relativePosition(i,r){const o=v=>{if(v)return"relative"===getComputedStyle(v).getPropertyValue("position")?v:o(v.parentElement)},s=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),a=r.offsetHeight,l=r.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),f=this.getViewport(),h=o(i)?.getBoundingClientRect()||{top:-1*u,left:-1*c};let p,m;l.top+a+s.height>f.height?(p=l.top-h.top-s.height,i.style.transformOrigin="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-h.top,i.style.transformOrigin="top"),m=s.width>f.width?-1*(l.left-h.left):l.left-h.left+s.width>f.width?-1*(l.left-h.left+s.width-f.width):l.left-h.left,i.style.top=p+"px",i.style.left=m+"px"}static absolutePosition(i,r){const o=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),s=o.height,a=o.width,l=r.offsetHeight,u=r.offsetWidth,c=r.getBoundingClientRect(),f=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport();let p,m;c.top+l+s>h.height?(p=c.top+f-s,i.style.transformOrigin="bottom",p<0&&(p=f)):(p=l+c.top+f,i.style.transformOrigin="top"),m=c.left+a>h.width?Math.max(0,c.left+d+u-a):c.left+d,i.style.top=p+"px",i.style.left=m+"px"}static getParents(i,r=[]){return null===i.parentNode?r:this.getParents(i.parentNode,r.concat([i.parentNode]))}static getScrollableParents(i){let r=[];if(i){let o=this.getParents(i);const s=/(auto|scroll)/,a=l=>{let u=window.getComputedStyle(l,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let l of o){let u=1===l.nodeType&&l.dataset.scrollselectors;if(u){let c=u.split(",");for(let f of c){let d=this.findSingle(l,f);d&&a(d)&&r.push(d)}}9!==l.nodeType&&a(l)&&r.push(l)}}return r}static getHiddenElementOuterHeight(i){i.style.visibility="hidden",i.style.display="block";let r=i.offsetHeight;return i.style.display="none",i.style.visibility="visible",r}static getHiddenElementOuterWidth(i){i.style.visibility="hidden",i.style.display="block";let r=i.offsetWidth;return i.style.display="none",i.style.visibility="visible",r}static getHiddenElementDimensions(i){let r={};return i.style.visibility="hidden",i.style.display="block",r.width=i.offsetWidth,r.height=i.offsetHeight,i.style.display="none",i.style.visibility="visible",r}static scrollInView(i,r){let o=getComputedStyle(i).getPropertyValue("borderTopWidth"),s=o?parseFloat(o):0,a=getComputedStyle(i).getPropertyValue("paddingTop"),l=a?parseFloat(a):0,u=i.getBoundingClientRect(),f=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-l,d=i.scrollTop,h=i.clientHeight,p=this.getOuterHeight(r);f<0?i.scrollTop=d+f:f+p>h&&(i.scrollTop=d+f-h+p)}static fadeIn(i,r){i.style.opacity=0;let o=+new Date,s=0,a=function(){s=+i.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,i.style.opacity=s,o=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}static fadeOut(i,r){var o=1,l=50/r;let u=setInterval(()=>{(o-=l)<=0&&(o=0,clearInterval(u)),i.style.opacity=o},50)}static getWindowScrollTop(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}static getWindowScrollLeft(){let i=document.documentElement;return(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}static matches(i,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(a){return-1!==[].indexOf.call(document.querySelectorAll(a),this)}).call(i,r)}static getOuterWidth(i,r){let o=i.offsetWidth;if(r){let s=getComputedStyle(i);o+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return o}static getHorizontalPadding(i){let r=getComputedStyle(i);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(i){let r=getComputedStyle(i);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(i){let r=i.offsetWidth,o=getComputedStyle(i);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(i){let r=i.offsetWidth,o=getComputedStyle(i);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(i){let r=i.offsetHeight,o=getComputedStyle(i);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(i,r){let o=i.offsetHeight;if(r){let s=getComputedStyle(i);o+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return o}static getHeight(i){let r=i.offsetHeight,o=getComputedStyle(i);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(i){let r=i.offsetWidth,o=getComputedStyle(i);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let i=window,r=document,o=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:i.innerWidth||o.clientWidth||s.clientWidth,height:i.innerHeight||o.clientHeight||s.clientHeight}}static getOffset(i){var r=i.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(i,r){let o=i.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,i)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var i=window.navigator.userAgent;return i.indexOf("MSIE ")>0||(i.indexOf("Trident/")>0?(i.indexOf("rv:"),!0):i.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(i,r){if(this.isElement(r))r.appendChild(i);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+i;r.el.nativeElement.appendChild(i)}}static removeChild(i,r){if(this.isElement(r))r.removeChild(i);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+i+" from "+r;r.el.nativeElement.removeChild(i)}}static removeElement(i){"remove"in Element.prototype?i.remove():i.parentNode.removeChild(i)}static isElement(i){return"object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&null!==i&&1===i.nodeType&&"string"==typeof i.nodeName}static calculateScrollbarWidth(i){if(i){let r=getComputedStyle(i);return i.offsetWidth-i.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetHeight-i.clientHeight;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(i,r,o){i[r].apply(i,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let i=this.resolveUserAgent();this.browser={},i.browser&&(this.browser[i.browser]=!0,this.browser.version=i.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let i=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(i){return Number.isInteger?Number.isInteger(i):"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}static isHidden(i){return!i||null===i.offsetParent}static isVisible(i){return i&&null!=i.offsetParent}static isExist(i){return null!==i&&typeof i<"u"&&i.nodeName&&i.parentNode}static focus(i,r){i&&document.activeElement!==i&&i.focus(r)}static getFocusableElements(i){let r=e.find(i,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),o=[];for(let s of r)(s.offsetWidth||s.offsetHeight||s.getClientRects().length)&&o.push(s);return o}static getNextFocusableElement(i,r=!1){const o=e.getFocusableElements(i);let s=0;if(o&&o.length>0){const a=o.indexOf(o[0].ownerDocument.activeElement);r?s=-1==a||0===a?o.length-1:a-1:-1!=a&&a!==o.length-1&&(s=a+1)}return o[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(i,r){if(!i)return null;switch(i){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const o=typeof i;if("string"===o)return document.querySelector(i);if("object"===o&&i.hasOwnProperty("nativeElement"))return this.isExist(i.nativeElement)?i.nativeElement:void 0;const a=(l=i)&&l.constructor&&l.call&&l.apply?i():i;return a&&9===a.nodeType||this.isExist(a)?a:null}var l}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}}return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e})();class EN{constructor(t,i=(()=>{})){this.element=t,this.listener=i}bindScrollListener(){this.scrollableParents=ti.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Pl{static equals(t,i,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(i,r):this.equalsByValue(t,i)}static equalsByValue(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){var s,a,l,r=Array.isArray(t),o=Array.isArray(i);if(r&&o){if((a=t.length)!=i.length)return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[s],i[s]))return!1;return!0}if(r!=o)return!1;var u=this.isDate(t),c=this.isDate(i);if(u!=c)return!1;if(u&&c)return t.getTime()==i.getTime();var f=t instanceof RegExp,d=i instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==i.toString();var h=Object.keys(t);if((a=h.length)!==Object.keys(i).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,h[s]))return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[l=h[s]],i[l]))return!1;return!0}return t!=t&&i!=i}static resolveFieldData(t,i){if(t&&i){if(this.isFunction(i))return i(t);if(-1==i.indexOf("."))return t[i];{let r=i.split("."),o=t;for(let s=0,a=r.length;s<a;++s){if(null==o)return null;o=o[r[s]]}return o}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,i,r){t&&i!==r&&(r>=t.length&&(r%=t.length,i%=t.length),t.splice(r,0,t.splice(i,1)[0]))}static insertIntoOrderedArray(t,i,r,o){if(r.length>0){let s=!1;for(let a=0;a<r.length;a++)if(this.findIndexInList(r[a],o)>i){r.splice(a,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(i[o]==t){r=o;break}return r}static contains(t,i){if(null!=t&&i&&i.length)for(let r of i)if(this.equals(t,r))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,i,r,o=1){let s=-1;const a=this.isEmpty(t),l=this.isEmpty(i);return s=a&&l?0:a?o:l?-o:"string"==typeof t&&"string"==typeof i?t.localeCompare(i,r,{numeric:!0}):t<i?-1:t>i?1:0,s}static sort(t,i,r=1,o,s=1){return(1===s?r:s)*Pl.compare(t,i,o,r)}static merge(t,i){if(null!=t||null!=i)return null!=t&&"object"!=typeof t||null!=i&&"object"!=typeof i?null!=t&&"string"!=typeof t||null!=i&&"string"!=typeof i?i||t:[t||"",i||""].join(" "):{...t||{},...i||{}}}}var H0=function _Oe(){let e=[];const o=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:o,set:(s,a,l)=>{a&&(a.style.zIndex=String(((s,a)=>{let l=e.length>0?e[e.length-1]:{key:s,value:a},u=l.value+(l.key===s?0:a)+1;return e.push({key:s,value:u}),u})(s,l)))},clear:s=>{s&&((s=>{e=e.filter(a=>a.value!==s)})(o(s)),s.style.zIndex="")},getCurrent:()=>e.length>0?e[e.length-1].value:0}}();const yOe=["overlay"],bOe=["content"];function wOe(e,t){1&e&&I8(0)}const EOe=function(e,t,i){return{showTransitionParams:e,hideTransitionParams:t,transform:i}},SOe=function(e){return{value:"visible",params:e}},COe=function(e){return{mode:e}},DOe=function(e){return{$implicit:e}};function xOe(e,t){if(1&e){const i=Lr();wt(0,"div",1,3),qn("click",function(o){return hi(i),pi(Ct(2).onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){return hi(i),pi(Ct(2).onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){return hi(i),pi(Ct(2).onOverlayContentAnimationDone(o))}),C1(2),Ut(3,wOe,1,0,"ng-container",4),Tt()}if(2&e){const i=Ct(2);el(i.contentStyleClass),ht("ngStyle",i.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Sc(11,SOe,t_(7,EOe,i.showTransitionOptions,i.hideTransitionOptions,i.transformOptions[i.modal?i.overlayResponsiveDirection:"default"]))),yt(3),ht("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",Sc(15,DOe,Sc(13,COe,i.overlayMode)))}}const MOe=function(e,t,i,r,o,s,a,l,u,c,f,d,h,p){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":e,"p-overlay-center":t,"p-overlay-top":i,"p-overlay-top-start":r,"p-overlay-top-end":o,"p-overlay-bottom":s,"p-overlay-bottom-start":a,"p-overlay-bottom-end":l,"p-overlay-left":u,"p-overlay-left-start":c,"p-overlay-left-end":f,"p-overlay-right":d,"p-overlay-right-start":h,"p-overlay-right-end":p}};function AOe(e,t){if(1&e){const i=Lr();wt(0,"div",1,2),qn("click",function(o){return hi(i),pi(Ct().onOverlayClick(o))}),Ut(2,xOe,4,17,"div",0),Tt()}if(2&e){const i=Ct();el(i.styleClass),ht("ngStyle",i.style)("ngClass",fW(5,MOe,[i.modal,i.modal&&"center"===i.overlayResponsiveDirection,i.modal&&"top"===i.overlayResponsiveDirection,i.modal&&"top-start"===i.overlayResponsiveDirection,i.modal&&"top-end"===i.overlayResponsiveDirection,i.modal&&"bottom"===i.overlayResponsiveDirection,i.modal&&"bottom-start"===i.overlayResponsiveDirection,i.modal&&"bottom-end"===i.overlayResponsiveDirection,i.modal&&"left"===i.overlayResponsiveDirection,i.modal&&"left-start"===i.overlayResponsiveDirection,i.modal&&"left-end"===i.overlayResponsiveDirection,i.modal&&"right"===i.overlayResponsiveDirection,i.modal&&"right-start"===i.overlayResponsiveDirection,i.modal&&"right-end"===i.overlayResponsiveDirection])),yt(2),ht("ngIf",i.visible)}}const TOe=["*"],NOe={provide:Na,useExisting:z(()=>cJ),multi:!0},IOe=SK([D2({transform:"{{transform}}",opacity:0}),A_("{{showTransitionParams}}")]),OOe=SK([A_("{{hideTransitionParams}}",D2({transform:"{{transform}}",opacity:0}))]);let cJ=(()=>{class e{constructor(i,r,o,s,a,l,u){this.document=i,this.platformId=r,this.el=o,this.renderer=s,this.config=a,this.overlayService=l,this.zone=u,this.visibleChange=new On,this.onBeforeShow=new On,this.onShow=new On,this.onBeforeHide=new On,this.onHide=new On,this.onAnimationStart=new On,this.onAnimationDone=new On,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(i){this._mode=i}get style(){return Pl.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(i){this._style=i}get styleClass(){return Pl.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(i){this._styleClass=i}get contentStyle(){return Pl.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(i){this._contentStyle=i}get contentStyleClass(){return Pl.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(i){this._contentStyleClass=i}get target(){const i=this._target||this.overlayOptions?.target;return void 0===i?"@prev":i}set target(i){this._target=i}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(i){this._appendTo=i}get autoZIndex(){const i=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===i||i}set autoZIndex(i){this._autoZIndex=i}get baseZIndex(){const i=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===i?0:i}set baseZIndex(i){this._baseZIndex=i}get showTransitionOptions(){const i=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===i?".12s cubic-bezier(0, 0, 0.2, 1)":i}set showTransitionOptions(i){this._showTransitionOptions=i}get hideTransitionOptions(){const i=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===i?".1s linear":i}set hideTransitionOptions(i){this._hideTransitionOptions=i}get listener(){return this._listener||this.overlayOptions?.listener}set listener(i){this._listener=i}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(i){this._responsive=i}get options(){return this._options}set options(i){this._options=i}get modal(){if(Y8(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return ti.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(i=>{i.getType(),this.contentTemplate=i.template})}show(i,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ti.focus(this.targetEl),this.modal&&ti.addClass(this.document?.body,"p-overflow-hidden")}hide(i,r=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ti.focus(this.targetEl),this.modal&&ti.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&ti.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(i){this._visible=i,this.visibleChange.emit(i)}onOverlayClick(i){this.isOverlayClicked=!0}onOverlayContentClick(i){this.overlayService.add({originalEvent:i,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(i){switch(i.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&H0.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),ti.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&ti.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",i)}onOverlayContentAnimationDone(i){const r=this.overlayEl||i.element.parentElement;switch(i.toState){case"visible":this.show(r,!0),this.bindListeners();break;case"void":this.hide(r,!0),this.unbindListeners(),ti.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),H0.clear(r),this.modalVisible=!1}this.handleEvents("onAnimationDone",i)}handleEvents(i,r){this[i].emit(r),this.options&&this.options[i]&&this.options[i](r),this.config?.overlayOptions&&this.config?.overlayOptions[i]&&this.config?.overlayOptions[i](r)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new EN(this.targetEl,i=>{(!this.listener||this.listener(i,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(i,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",i=>{const o=!(this.targetEl&&(this.targetEl.isSameNode(i.target)||!this.isOverlayClicked&&this.targetEl.contains(i.target))||this.isOverlayContentClicked);(this.listener?this.listener(i,{type:"outside",mode:this.overlayMode,valid:3!==i.which&&o}):o)&&this.hide(i),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",i=>{(this.listener?this.listener(i,{type:"resize",mode:this.overlayMode,valid:!ti.isTouchDevice()}):!ti.isTouchDevice())&&this.hide(i,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",i=>{this.overlayOptions.hideOnEscape&&27===i.keyCode&&(this.listener?this.listener(i,{type:"keydown",mode:this.overlayMode,valid:!ti.isTouchDevice()}):!ti.isTouchDevice())&&this.zone.run(()=>{this.hide(i,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(ti.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),H0.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return e.\u0275fac=function(i){return new(i||e)(Ae(Mo),Ae(Uh),Ae(lr),Ae(aa),Ae(w6),Ae(wN),Ae(xr))},e.\u0275cmp=sr({type:e,selectors:[["p-overlay"]],contentQueries:function(i,r,o){if(1&i&&yo(o,Iy,4),2&i){let s;Ni(s=Ii())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(jo(yOe,5),jo(bOe,5)),2&i){let o;Ni(o=Ii())&&(r.overlayViewChild=o.first),Ni(o=Ii())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[qr([NOe])],ngContentSelectors:TOe,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(S1(),Ut(0,AOe,3,20,"div",0)),2&i&&ht("ngIf",r.modalVisible)},dependencies:[W8,la,Mc,w_],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[wK("overlayContentAnimation",[T_(":enter",[CK(IOe)]),T_(":leave",[CK(OOe)])])]},changeDetection:0}),e})(),fJ=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1,Oy,Oy]}),e})(),ROe=(()=>{class e{constructor(i,r,o,s,a,l){this.document=i,this.platformId=r,this.renderer=o,this.el=s,this.zone=a,this.config=l}ngAfterViewInit(){Y8(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(i){let r=this.getInk();if(!r||"none"===this.document.defaultView.getComputedStyle(r,null).display)return;if(ti.removeClass(r,"p-ink-active"),!ti.getHeight(r)&&!ti.getWidth(r)){let l=Math.max(ti.getOuterWidth(this.el.nativeElement),ti.getOuterHeight(this.el.nativeElement));r.style.height=l+"px",r.style.width=l+"px"}let o=ti.getOffset(this.el.nativeElement),s=i.pageX-o.left+this.document.body.scrollTop-ti.getWidth(r)/2,a=i.pageY-o.top+this.document.body.scrollLeft-ti.getHeight(r)/2;this.renderer.setStyle(r,"top",a+"px"),this.renderer.setStyle(r,"left",s+"px"),ti.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&ti.removeClass(l,"p-ink-active")},401)}getInk(){const i=this.el.nativeElement.children;for(let r=0;r<i.length;r++)if("string"==typeof i[r].className&&-1!==i[r].className.indexOf("p-ink"))return i[r];return null}resetInk(){let i=this.getInk();i&&ti.removeClass(i,"p-ink-active")}onAnimationEnd(i){this.timeout&&clearTimeout(this.timeout),ti.removeClass(i.currentTarget,"p-ink-active")}create(){let i=this.renderer.createElement("span");this.renderer.addClass(i,"p-ink"),this.renderer.appendChild(this.el.nativeElement,i),this.animationListener||(this.animationListener=this.renderer.listen(i,"animationend",this.onAnimationEnd.bind(this)))}remove(){let i=this.getInk();i&&(this.mouseDownListener(),this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ti.removeElement(i))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return e.\u0275fac=function(i){return new(i||e)(Ae(Mo),Ae(Uh),Ae(aa),Ae(lr),Ae(xr),Ae(w6,8))},e.\u0275dir=wn({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),e})(),kOe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1]}),e})();const FOe=["*"];let SN=(()=>{class e{constructor(){this.spin=!1}ngOnInit(){this.getAttributes()}getAttributes(){const i=Pl.isEmpty(this.label);this.role=i?void 0:"img",this.ariaLabel=i?void 0:this.label,this.ariaHidden=i}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sr({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[os],ngContentSelectors:FOe,decls:1,vars:0,template:function(i,r){1&i&&(S1(),C1(0))},encapsulation:2,changeDetection:0}),e})(),dJ=(()=>{class e extends SN{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275cmp=sr({type:e,selectors:[["ChevronDownIcon"]],standalone:!0,features:[zr,os],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(m7(),wt(0,"svg",0),Er(1,"path",1),Tt()),2&i&&(el(r.getClassNames()),gr("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2}),e})(),hJ=(()=>{class e extends SN{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275cmp=sr({type:e,selectors:[["AngleRightIcon"]],standalone:!0,features:[zr,os],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){1&i&&(m7(),wt(0,"svg",0),Er(1,"path",1),Tt()),2&i&&(el(r.getClassNames()),gr("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2}),e})(),pJ=(()=>{class e extends SN{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275cmp=sr({type:e,selectors:[["TimesIcon"]],standalone:!0,features:[zr,os],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){1&i&&(m7(),wt(0,"svg",0),Er(1,"path",1),Tt()),2&i&&(el(r.getClassNames()),gr("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2}),e})();function POe(e,t){1&e&&I8(0)}const LOe=function(e){return{$implicit:e}};function BOe(e,t){if(1&e&&(w1(0),Ut(1,POe,1,0,"ng-container",8),E1()),2&e){const i=Ct().$implicit,r=Ct();yt(1),ht("ngTemplateOutlet",r.optionTemplate)("ngTemplateOutletContext",Sc(2,LOe,i))}}function $Oe(e,t){if(1&e&&(wt(0,"span",9),ji(1),Tt()),2&e){const i=Ct().$implicit,r=Ct();yt(1),$s(r.getOptionLabelToRender(i))}}function UOe(e,t){1&e&&Er(0,"AngleRightIcon")}function VOe(e,t){}function HOe(e,t){1&e&&Ut(0,VOe,0,0,"ng-template")}function zOe(e,t){if(1&e&&(wt(0,"span",10),Ut(1,UOe,1,0,"AngleRightIcon",11),Ut(2,HOe,1,0,null,12),Tt()),2&e){const i=Ct(2);yt(1),ht("ngIf",!i.groupIconTemplate),yt(1),ht("ngTemplateOutlet",i.groupIconTemplate)}}function qOe(e,t){if(1&e){const i=Lr();wt(0,"p-cascadeSelectSub",13),qn("onSelect",function(o){return hi(i),pi(Ct(2).onOptionSelect(o))})("onOptionGroupSelect",function(){return hi(i),pi(Ct(2).onOptionGroupSelect())}),Tt()}if(2&e){const i=Ct().$implicit,r=Ct();ht("selectionPath",r.selectionPath)("options",r.getOptionGroupChildren(i))("optionLabel",r.optionLabel)("optionValue",r.optionValue)("level",r.level+1)("optionGroupLabel",r.optionGroupLabel)("optionGroupChildren",r.optionGroupChildren)("parentActive",r.isOptionActive(i))("dirty",r.dirty)("optionTemplate",r.optionTemplate)}}function jOe(e,t){if(1&e){const i=Lr();wt(0,"li",2)(1,"div",3),qn("click",function(o){const a=hi(i).$implicit;return pi(Ct().onOptionClick(o,a))})("keydown",function(o){const s=hi(i),a=s.$implicit,l=s.index;return pi(Ct().onKeyDown(o,a,l))}),Ut(2,BOe,2,4,"ng-container",4),Ut(3,$Oe,2,1,"ng-template",null,5,Aa),Ut(5,zOe,3,2,"span",6),Tt(),Ut(6,qOe,1,10,"p-cascadeSelectSub",7),Tt()}if(2&e){const i=t.$implicit,r=Ja(4),o=Ct();ht("ngClass",o.getItemClass(i)),yt(2),ht("ngIf",o.optionTemplate)("ngIfElse",r),yt(3),ht("ngIf",o.isOptionGroup(i)),yt(1),ht("ngIf",o.isOptionGroup(i)&&o.isOptionActive(i))}}const GOe=function(e){return{"p-cascadeselect-panel-root":e}},WOe=["focusInput"],YOe=["container"],KOe=["panel"],XOe=["overlay"];function ZOe(e,t){1&e&&I8(0)}const QOe=function(e,t){return{$implicit:e,placeholder:t}};function JOe(e,t){if(1&e&&(w1(0),Ut(1,ZOe,1,0,"ng-container",15),E1()),2&e){const i=Ct();yt(1),ht("ngTemplateOutlet",i.valueTemplate)("ngTemplateOutletContext",O0(2,QOe,i.value,i.placeholder))}}function eRe(e,t){1&e&&ji(0),2&e&&$h(" ",Ct().label()," ")}function tRe(e,t){if(1&e){const i=Lr();wt(0,"TimesIcon",18),qn("click",function(o){return hi(i),pi(Ct(2).clear(o))}),Tt()}2&e&&ht("styleClass","p-cascadeselect-clear-icon")}function nRe(e,t){}function iRe(e,t){1&e&&Ut(0,nRe,0,0,"ng-template")}function rRe(e,t){if(1&e){const i=Lr();wt(0,"span",19),qn("click",function(o){return hi(i),pi(Ct(2).clear(o))}),Ut(1,iRe,1,0,null,20),Tt()}if(2&e){const i=Ct(2);yt(1),ht("ngTemplateOutlet",i.clearIconTemplate)}}function oRe(e,t){if(1&e&&(w1(0),Ut(1,tRe,1,1,"TimesIcon",16),Ut(2,rRe,2,1,"span",17),E1()),2&e){const i=Ct();yt(1),ht("ngIf",!i.clearIconTemplate),yt(1),ht("ngIf",i.clearIconTemplate)}}function sRe(e,t){1&e&&Er(0,"ChevronDownIcon",21),2&e&&ht("styleClass","p-cascadeselect-trigger-icon")}function aRe(e,t){}function lRe(e,t){1&e&&Ut(0,aRe,0,0,"ng-template")}function uRe(e,t){if(1&e&&(wt(0,"span",22),Ut(1,lRe,1,0,null,20),Tt()),2&e){const i=Ct();yt(1),ht("ngTemplateOutlet",i.triggerIconTemplate)}}function cRe(e,t){if(1&e){const i=Lr();wt(0,"div",23,24)(2,"div",25)(3,"p-cascadeSelectSub",26),qn("onSelect",function(o){return hi(i),pi(Ct().onOptionSelect(o))})("onGroupSelect",function(o){return hi(i),pi(Ct().onOptionGroupSelect(o))}),Tt()()()}if(2&e){const i=Ct();el(i.panelStyleClass),ht("ngStyle",i.panelStyle),yt(3),ht("options",i.options)("selectionPath",i.selectionPath)("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",0)("optionTemplate",i.optionTemplate)("groupIconTemplate",i.groupIconTemplate)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("dirty",i.dirty)("root",!0)}}const fRe={provide:Na,useExisting:z(()=>CN),multi:!0};let dRe=(()=>{class e{constructor(i,r){this.el=r,this.level=0,this.onSelect=new On,this.onGroupSelect=new On,this.activeOption=null,this.cascadeSelect=i}get parentActive(){return this._parentActive}set parentActive(i){i||(this.activeOption=null),this._parentActive=i}ngOnInit(){if(this.selectionPath&&this.options&&!this.dirty)for(let i of this.options)if(this.selectionPath.includes(i)){this.activeOption=i;break}this.root||this.position()}onOptionClick(i,r){this.isOptionGroup(r)?(this.activeOption=this.activeOption===r?null:r,this.onGroupSelect.emit({originalEvent:i,value:r})):this.onSelect.emit({originalEvent:i,value:this.getOptionValue(r)})}onOptionSelect(i){this.onSelect.emit(i)}onOptionGroupSelect(i){this.onGroupSelect.emit(i)}getOptionLabel(i){return this.optionLabel?Pl.resolveFieldData(i,this.optionLabel):i}getOptionValue(i){return this.optionValue?Pl.resolveFieldData(i,this.optionValue):i}getOptionGroupLabel(i){return this.optionGroupLabel?Pl.resolveFieldData(i,this.optionGroupLabel):null}getOptionGroupChildren(i){return Pl.resolveFieldData(i,this.optionGroupChildren[this.level])}isOptionGroup(i){return Object.prototype.hasOwnProperty.call(i,this.optionGroupChildren[this.level])}getOptionLabelToRender(i){return this.isOptionGroup(i)?this.getOptionGroupLabel(i):this.getOptionLabel(i)}getItemClass(i){return{"p-cascadeselect-item":!0,"p-cascadeselect-item-group":this.isOptionGroup(i),"p-cascadeselect-item-active p-highlight":this.isOptionActive(i)}}isOptionActive(i){return this.activeOption===i}onKeyDown(i,r,o){let s=i.currentTarget.parentElement;switch(i.key){case"Down":case"ArrowDown":var a=this.el.nativeElement.children[0].children[o+1];a&&a.children[0].focus(),i.preventDefault();break;case"Up":case"ArrowUp":var l=this.el.nativeElement.children[0].children[o-1];l&&l.children[0].focus(),i.preventDefault();break;case"Right":case"ArrowRight":this.isOptionGroup(r)&&(this.isOptionActive(r)?s.children[1].children[0].children[0].children[0].focus():this.activeOption=r),i.preventDefault();break;case"Left":case"ArrowLeft":this.activeOption=null;var u=s.parentElement.parentElement.parentElement;u&&u.children[0].focus(),i.preventDefault();break;case"Enter":this.onOptionClick(i,r),i.preventDefault();break;case"Tab":case"Escape":this.cascadeSelect.hide(),i.preventDefault()}}position(){const i=this.el.nativeElement.parentElement,r=ti.getOffset(i),o=ti.getViewport(),s=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:ti.getHiddenElementOuterWidth(this.el.nativeElement.children[0]),a=ti.getOuterWidth(i.children[0]);parseInt(r.left,10)+a+s>o.width-ti.calculateScrollbarWidth()&&(this.el.nativeElement.children[0].style.left="-200%")}}return e.\u0275fac=function(i){return new(i||e)(Ae(z(()=>CN)),Ae(lr))},e.\u0275cmp=sr({type:e,selectors:[["p-cascadeSelectSub"]],inputs:{selectionPath:"selectionPath",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",groupIconTemplate:"groupIconTemplate",level:"level",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:"dirty",root:"root",parentActive:"parentActive"},outputs:{onSelect:"onSelect",onGroupSelect:"onGroupSelect"},decls:2,vars:4,consts:[["role","listbox","aria-orientation","horizontal",1,"p-cascadeselect-panel","p-cascadeselect-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["role","none",3,"ngClass"],["tabindex","0","pRipple","",1,"p-cascadeselect-item-content",3,"click","keydown"],[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","p-cascadeselect-group-icon",4,"ngIf"],["class","p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-item-text"],[1,"p-cascadeselect-group-icon"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect"]],template:function(i,r){1&i&&(wt(0,"ul",0),Ut(1,jOe,7,5,"ng-template",1),Tt()),2&i&&(ht("ngClass",Sc(2,GOe,r.root)),yt(1),ht("ngForOf",r.options))},dependencies:function(){return[W8,Uu,la,Mc,ROe,hJ,e]},encapsulation:2,changeDetection:0}),e})(),CN=(()=>{class e{constructor(i,r,o,s){this.el=i,this.cd=r,this.config=o,this.overlayService=s,this.showClear=!1,this.onChange=new On,this.onGroupChange=new On,this.onShow=new On,this.onHide=new On,this.onClear=new On,this.onBeforeShow=new On,this.onBeforeHide=new On,this.selectionPath=null,this.focused=!1,this.filled=!1,this.overlayVisible=!1,this.dirty=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngOnInit(){this.updateSelectionPath()}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"value":this.valueTemplate=i.template;break;case"option":this.optionTemplate=i.template;break;case"triggericon":this.triggerIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"optiongroupicon":this.groupIconTemplate=i.template}})}onOptionSelect(i){this.value=i.value,this.updateSelectionPath(),this.onModelChange(this.value),this.onChange.emit(i),this.hide(),this.focusInputEl.nativeElement.focus()}onOptionGroupSelect(i){this.dirty=!0,this.onGroupChange.emit(i)}getOptionLabel(i){return this.optionLabel?Pl.resolveFieldData(i,this.optionLabel):i}getOptionValue(i){return this.optionValue?Pl.resolveFieldData(i,this.optionValue):i}getOptionGroupChildren(i,r){return Pl.resolveFieldData(i,this.optionGroupChildren[r])}isOptionGroup(i,r){return Object.prototype.hasOwnProperty.call(i,this.optionGroupChildren[r])}updateSelectionPath(){let i;if(null!=this.value&&this.options)for(let r of this.options)if(i=this.findModelOptionInGroup(r,0),i)break;this.selectionPath=i,this.updateFilledState()}updateFilledState(){this.filled=!(null==this.selectionPath||0==this.selectionPath.length)}findModelOptionInGroup(i,r){if(this.isOptionGroup(i,r)){let o;for(let s of this.getOptionGroupChildren(i,r))if(o=this.findModelOptionInGroup(s,r+1),o)return o.unshift(i),o}else if(Pl.equals(this.value,this.getOptionValue(i),this.dataKey))return[i];return null}show(){this.overlayVisible=!0}hide(){this.overlayVisible=!1,this.cd.markForCheck()}clear(i){this.value=null,this.selectionPath=null,this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),i.stopPropagation(),this.cd.markForCheck()}onClick(i){this.disabled||this.overlayViewChild?.el?.nativeElement?.contains(i.target)||(this.overlayVisible?this.hide():this.show(),this.focusInputEl.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1}onOverlayAnimationDone(i){"void"===i.toState&&(this.dirty=!1)}writeValue(i){this.value=i,this.updateSelectionPath(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}label(){return this.selectionPath?this.getOptionLabel(this.selectionPath[this.selectionPath.length-1]):this.placeholder||"p-emptylabel"}onKeyDown(i){switch(i.code){case"Down":case"ArrowDown":this.overlayVisible?ti.findSingle(this.panelEl.nativeElement,".p-cascadeselect-item").children[0].focus():i.altKey&&this.options&&this.options.length&&this.show(),i.preventDefault();break;case"Space":case"Enter":this.overlayVisible?this.hide():this.show(),i.preventDefault();break;case"Tab":case"Escape":this.overlayVisible&&(this.hide(),i.preventDefault())}}containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused}}labelClass(){return{"p-cascadeselect-label":!0,"p-inputtext":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&("p-emptylabel"===this.label()||0===this.label().length)}}}return e.\u0275fac=function(i){return new(i||e)(Ae(lr),Ae(Ta),Ae(w6),Ae(wN))},e.\u0275cmp=sr({type:e,selectors:[["p-cascadeSelect"]],contentQueries:function(i,r,o){if(1&i&&yo(o,Iy,4),2&i){let s;Ni(s=Ii())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(jo(WOe,5),jo(YOe,5),jo(KOe,5),jo(XOe,5)),2&i){let o;Ni(o=Ii())&&(r.focusInputEl=o.first),Ni(o=Ii())&&(r.containerEl=o.first),Ni(o=Ii())&&(r.panelEl=o.first),Ni(o=Ii())&&(r.overlayViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){2&i&&ki("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused||r.overlayVisible)("p-cascadeselect-clearable",r.showClear&&!r.disabled)},inputs:{styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",tabindex:"tabindex",ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:"disabled",rounded:"rounded",showClear:"showClear",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",overlayOptions:"overlayOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide"},features:[qr([fRe])],decls:16,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["focusInput",""],[3,"ngClass"],[4,"ngIf","ngIfElse"],["defaultValueTemplate",""],[4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-trigger"],[3,"styleClass",4,"ngIf"],["class","p-cascadeselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationDone","onBeforeShow","onShow","onBeforeHide","onHide"],["overlay",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass","click",4,"ngIf"],["class","p-cascadeselect-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-cascadeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-cascadeselect-trigger-icon"],[1,"p-cascadeselect-panel","p-component",3,"ngStyle"],["panel",""],[1,"p-cascadeselect-items-wrapper"],[1,"p-cascadeselect-items",3,"options","selectionPath","optionLabel","optionValue","level","optionTemplate","groupIconTemplate","optionGroupLabel","optionGroupChildren","dirty","root","onSelect","onGroupSelect"]],template:function(i,r){if(1&i&&(wt(0,"div",0,1),qn("click",function(s){return r.onClick(s)}),wt(2,"div",2)(3,"input",3,4),qn("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keydown",function(s){return r.onKeyDown(s)}),Tt()(),wt(5,"span",5),Ut(6,JOe,2,5,"ng-container",6),Ut(7,eRe,1,1,"ng-template",null,7,Aa),Tt(),Ut(9,oRe,3,2,"ng-container",8),wt(10,"div",9),Ut(11,sRe,1,1,"ChevronDownIcon",10),Ut(12,uRe,2,1,"span",11),Tt(),wt(13,"p-overlay",12,13),qn("visibleChange",function(s){return r.overlayVisible=s})("onAnimationDone",function(s){return r.onOverlayAnimationDone(s)})("onBeforeShow",function(s){return r.onBeforeShow.emit(s)})("onShow",function(s){return r.onShow.emit(s)})("onBeforeHide",function(s){return r.onBeforeHide.emit(s)})("onHide",function(s){return r.onHide.emit(s)}),Ut(15,cRe,4,14,"ng-template",14),Tt()()),2&i){const o=Ja(8);el(r.styleClass),ht("ngClass",r.containerClass())("ngStyle",r.style),yt(3),ht("disabled",r.disabled),gr("id",r.inputId)("tabindex",r.tabindex)("aria-expanded",r.overlayVisible)("aria-labelledby",r.ariaLabelledBy)("label",r.inputLabel)("aria-label",r.ariaLabel),yt(2),ht("ngClass",r.labelClass()),yt(1),ht("ngIf",r.valueTemplate)("ngIfElse",o),yt(3),ht("ngIf",r.filled&&!r.disabled&&r.showClear),yt(1),gr("aria-expanded",r.overlayVisible),yt(1),ht("ngIf",!r.triggerIconTemplate),yt(1),ht("ngIf",r.triggerIconTemplate),yt(1),ht("visible",r.overlayVisible)("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:function(){return[W8,la,Mc,w_,cJ,Iy,dJ,pJ,dRe]},styles:[".p-cascadeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-cascadeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-cascadeselect-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-cascadeselect-label-empty{overflow:hidden;visibility:hidden}.p-cascadeselect-item{cursor:pointer;font-weight:400;white-space:nowrap}.p-cascadeselect-item-content{display:flex;align-items:center;overflow:hidden;position:relative}.p-cascadeselect-group-icon{margin-left:auto}.p-cascadeselect-items{margin:0;padding:0;list-style-type:none}.p-fluid .p-cascadeselect{display:flex}.p-fluid .p-cascadeselect .p-cascadeselect-label{width:1%}.p-cascadeselect-sublist{position:absolute;min-width:100%;z-index:1;display:none}.p-cascadeselect-item-active{overflow:visible!important}.p-cascadeselect-item-active>.p-cascadeselect-sublist{display:block;left:100%;top:0}.p-cascadeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-cascadeselect-clearable,.p-overlay-modal .p-cascadeselect-sublist{position:relative}.p-overlay-modal .p-cascadeselect-item-active>.p-cascadeselect-sublist{left:0}\n"],encapsulation:2,changeDetection:0}),e})(),hRe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1,fJ,Oy,kOe,dJ,hJ,pJ,fJ,Oy]}),e})(),pRe=(()=>{class e{constructor(i,r,o,s,a,l){this.platformId=i,this.el=r,this.zone=o,this.config=s,this.renderer=a,this.changeDetector=l,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this.hideOnEscape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0,hideOnEscape:!1}}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this.deactivate()}ngAfterViewInit(){Y8(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(i){i.tooltipPosition&&this.setOption({tooltipPosition:i.tooltipPosition.currentValue}),i.tooltipEvent&&this.setOption({tooltipEvent:i.tooltipEvent.currentValue}),i.appendTo&&this.setOption({appendTo:i.appendTo.currentValue}),i.positionStyle&&this.setOption({positionStyle:i.positionStyle.currentValue}),i.tooltipStyleClass&&this.setOption({tooltipStyleClass:i.tooltipStyleClass.currentValue}),i.tooltipZIndex&&this.setOption({tooltipZIndex:i.tooltipZIndex.currentValue}),i.escape&&this.setOption({escape:i.escape.currentValue}),i.showDelay&&this.setOption({showDelay:i.showDelay.currentValue}),i.hideDelay&&this.setOption({hideDelay:i.hideDelay.currentValue}),i.life&&this.setOption({life:i.life.currentValue}),i.positionTop&&this.setOption({positionTop:i.positionTop.currentValue}),i.positionLeft&&this.setOption({positionLeft:i.positionLeft.currentValue}),i.disabled&&this.setOption({disabled:i.disabled.currentValue}),i.text&&(this.setOption({tooltipLabel:i.text.currentValue}),this.active&&(i.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),i.autoHide&&this.setOption({autoHide:i.autoHide.currentValue}),i.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...i.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(i){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(i){(this.isAutoHide()||!(ti.hasClass(i.toElement,"p-tooltip")||ti.hasClass(i.toElement,"p-tooltip-arrow")||ti.hasClass(i.toElement,"p-tooltip-text")||ti.hasClass(i.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(i){this.activate()}onBlur(i){this.deactivate()}onInputClick(i){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},i)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let i=document.createElement("div");i.className="p-tooltip-arrow",this.container.appendChild(i),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ti.appendChild(this.container,this.el.nativeElement):ti.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",r=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ti.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?H0.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&H0.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let i=this.el.nativeElement.getBoundingClientRect();return{left:i.left+ti.getWindowScrollLeft(),top:i.top+ti.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let i=this.getHostOffset(),r=i.left+ti.getOuterWidth(this.el.nativeElement),o=i.top+(ti.getOuterHeight(this.el.nativeElement)-ti.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let i=this.getHostOffset(),r=i.left-ti.getOuterWidth(this.container),o=i.top+(ti.getOuterHeight(this.el.nativeElement)-ti.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let i=this.getHostOffset(),r=i.left+(ti.getOuterWidth(this.el.nativeElement)-ti.getOuterWidth(this.container))/2,o=i.top-ti.getOuterHeight(this.container);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let i=this.getHostOffset(),r=i.left+(ti.getOuterWidth(this.el.nativeElement)-ti.getOuterWidth(this.container))/2,o=i.top+ti.getOuterHeight(this.el.nativeElement);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(i){this._tooltipOptions={...this._tooltipOptions,...i}}getOption(i){return this._tooltipOptions[i]}getTarget(i){return ti.hasClass(i,"p-inputwrapper")?ti.findSingle(i,"input"):i}preAlign(i){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+i;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let i=this.container.getBoundingClientRect(),r=i.top,o=i.left,s=ti.getOuterWidth(this.container),a=ti.getOuterHeight(this.container),l=ti.getViewport();return o+s>l.width||o<0||r<0||r+a>l.height}onWindowResize(i){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new EN(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ti.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&H0.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return e.\u0275fac=function(i){return new(i||e)(Ae(Uh),Ae(lr),Ae(xr),Ae(w6),Ae(aa),Ae(Ta))},e.\u0275dir=wn({type:e,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){1&i&&qn("keydown.escape",function(s){return r.onPressEscape(s)},0,Gq)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Fr]}),e})(),gRe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1]}),e})();const mRe=["container"],vRe=["input"],_Re=["colorSelector"],yRe=["colorHandle"],bRe=["hue"],wRe=["hueHandle"],ERe=function(e){return{"p-disabled":e}};function SRe(e,t){if(1&e){const i=Lr();wt(0,"input",4,5),qn("focus",function(){return hi(i),pi(Ct().onInputFocus())})("click",function(){return hi(i),pi(Ct().onInputClick())})("keydown",function(o){return hi(i),pi(Ct().onInputKeydown(o))}),Tt()}if(2&e){const i=Ct();x1("background-color",i.inputBgColor),ht("ngClass",Sc(6,ERe,i.disabled))("disabled",i.disabled),gr("id",i.inputId)("tabindex",i.tabindex)}}const CRe=function(e,t){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":e,"p-disabled":t}},DRe=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},xRe=function(e){return{value:"visible",params:e}};function MRe(e,t){if(1&e){const i=Lr();wt(0,"div",6),qn("click",function(o){return hi(i),pi(Ct().onOverlayClick(o))})("@overlayAnimation.start",function(o){return hi(i),pi(Ct().onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){return hi(i),pi(Ct().onOverlayAnimationEnd(o))}),wt(1,"div",7)(2,"div",8,9),qn("touchstart",function(o){return hi(i),pi(Ct().onColorTouchStart(o))})("touchmove",function(o){return hi(i),pi(Ct().onMove(o))})("touchend",function(){return hi(i),pi(Ct().onDragEnd())})("mousedown",function(o){return hi(i),pi(Ct().onColorMousedown(o))}),wt(4,"div",10),Er(5,"div",11,12),Tt()(),wt(7,"div",13,14),qn("mousedown",function(o){return hi(i),pi(Ct().onHueMousedown(o))})("touchstart",function(o){return hi(i),pi(Ct().onHueTouchStart(o))})("touchmove",function(o){return hi(i),pi(Ct().onMove(o))})("touchend",function(){return hi(i),pi(Ct().onDragEnd())}),Er(9,"div",15,16),Tt()()()}if(2&e){const i=Ct();ht("ngClass",O0(3,CRe,!i.inline,i.disabled))("@overlayAnimation",Sc(9,xRe,O0(6,DRe,i.showTransitionOptions,i.hideTransitionOptions)))("@.disabled",!0===i.inline)}}const ARe=function(e,t){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":e,"p-colorpicker-dragging":t}},TRe={provide:Na,useExisting:z(()=>gJ),multi:!0};let gJ=(()=>{class e{constructor(i,r,o,s,a,l,u){this.document=i,this.platformId=r,this.el=o,this.renderer=s,this.cd=a,this.config=l,this.overlayService=u,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new On,this.onShow=new On,this.onHide=new On,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.window=this.document.defaultView}set colorSelector(i){this.colorSelectorViewChild=i}set colorHandle(i){this.colorHandleViewChild=i}set hue(i){this.hueViewChild=i}set hueHandle(i){this.hueHandleViewChild=i}onHueMousedown(i){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(i))}onHueTouchStart(i){this.disabled||(this.hueDragging=!0,this.pickHue(i,i.changedTouches[0]))}onColorTouchStart(i){this.disabled||(this.colorDragging=!0,this.pickColor(i,i.changedTouches[0]))}pickHue(i,r){let o=r?r.pageY:i.pageY,s=this.hueViewChild.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,o-s)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:i,value:this.getValueToUpdate()})}onColorMousedown(i){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(i))}onMove(i){this.colorDragging&&(this.pickColor(i,i.changedTouches[0]),i.preventDefault()),this.hueDragging&&(this.pickHue(i,i.changedTouches[0]),i.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(i,r){let o=r?r.pageX:i.pageX,s=r?r.pageY:i.pageY,a=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),l=a.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),c=Math.floor(100*Math.max(0,Math.min(150,o-(a.left+this.document.body.scrollLeft)))/150),f=Math.floor(100*(150-Math.max(0,Math.min(150,s-l)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:f}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:i,value:this.getValueToUpdate()})}getValueToUpdate(){let i;switch(this.format){case"hex":i="#"+this.HSBtoHEX(this.value);break;case"rgb":i=this.HSBtoRGB(this.value);break;case"hsb":i=this.value}return i}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(i){if(i)switch(this.format){case"hex":this.value=this.HEXtoHSB(i);break;case"rgb":this.value=this.RGBtoHSB(i);break;case"hsb":this.value=i}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const i={s:100,b:100};i.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(i)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(i){switch(i.toState){case"visible":this.inline||(this.overlay=i.element,this.appendOverlay(),this.autoZIndex&&H0.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(i){switch(i.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&H0.clear(i.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.overlay):ti.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?ti.absolutePosition(this.overlay,this.inputViewChild.nativeElement):ti.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(i){switch(i.which){case 32:this.togglePanel(),i.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(i){this.overlayService.add({originalEvent:i,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",r=>{this.colorDragging&&this.pickColor(r),this.hueDragging&&this.pickHue(r)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){Y8(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!ti.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new EN(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(i){return{h:Math.min(360,Math.max(0,i.h)),s:Math.min(100,Math.max(0,i.s)),b:Math.min(100,Math.max(0,i.b))}}validateRGB(i){return{r:Math.min(255,Math.max(0,i.r)),g:Math.min(255,Math.max(0,i.g)),b:Math.min(255,Math.max(0,i.b))}}validateHEX(i){var r=6-i.length;if(r>0){for(var o=[],s=0;s<r;s++)o.push("0");o.push(i),i=o.join("")}return i}HEXtoRGB(i){let r=parseInt(i.indexOf("#")>-1?i.substring(1):i,16);return{r:r>>16,g:(65280&r)>>8,b:255&r}}HEXtoHSB(i){return this.RGBtoHSB(this.HEXtoRGB(i))}RGBtoHSB(i){var r={h:0,s:0,b:0},o=Math.min(i.r,i.g,i.b),s=Math.max(i.r,i.g,i.b),a=s-o;return r.b=s,r.s=0!=s?255*a/s:0,r.h=0!=r.s?i.r==s?(i.g-i.b)/a:i.g==s?2+(i.b-i.r)/a:4+(i.r-i.g)/a:-1,r.h*=60,r.h<0&&(r.h+=360),r.s*=100/255,r.b*=100/255,r}HSBtoRGB(i){var r={r:null,g:null,b:null};let o=i.h,s=255*i.s/100,a=255*i.b/100;if(0==s)r={r:a,g:a,b:a};else{let l=a,u=(255-s)*a/255,c=o%60*(l-u)/60;360==o&&(o=0),o<60?(r.r=l,r.b=u,r.g=u+c):o<120?(r.g=l,r.b=u,r.r=l-c):o<180?(r.g=l,r.r=u,r.b=u+c):o<240?(r.b=l,r.r=u,r.g=l-c):o<300?(r.b=l,r.g=u,r.r=u+c):o<360?(r.r=l,r.g=u,r.b=l-c):(r.r=0,r.g=0,r.b=0)}return{r:Math.round(r.r),g:Math.round(r.g),b:Math.round(r.b)}}RGBtoHEX(i){var r=[i.r.toString(16),i.g.toString(16),i.b.toString(16)];for(var o in r)1==r[o].length&&(r[o]="0"+r[o]);return r.join("")}HSBtoHEX(i){return this.RGBtoHEX(this.HSBtoRGB(i))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&H0.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(i){return new(i||e)(Ae(Mo),Ae(Uh),Ae(lr),Ae(aa),Ae(Ta),Ae(w6),Ae(wN))},e.\u0275cmp=sr({type:e,selectors:[["p-colorPicker"]],viewQuery:function(i,r){if(1&i&&(jo(mRe,5),jo(vRe,5),jo(_Re,5),jo(yRe,5),jo(bRe,5),jo(wRe,5)),2&i){let o;Ni(o=Ii())&&(r.containerViewChild=o.first),Ni(o=Ii())&&(r.inputViewChild=o.first),Ni(o=Ii())&&(r.colorSelector=o.first),Ni(o=Ii())&&(r.colorHandle=o.first),Ni(o=Ii())&&(r.hue=o.first),Ni(o=Ii())&&(r.hueHandle=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[qr([TRe])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(i,r){1&i&&(wt(0,"div",0,1),Ut(2,SRe,2,8,"input",2),Ut(3,MRe,11,11,"div",3),Tt()),2&i&&(el(r.styleClass),ht("ngStyle",r.style)("ngClass",O0(6,ARe,!r.inline,r.colorDragging||r.hueDragging)),yt(2),ht("ngIf",!r.inline),yt(1),ht("ngIf",r.inline||r.overlayVisible))},dependencies:[W8,la,w_],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[wK("overlayAnimation",[T_(":enter",[D2({opacity:0,transform:"scaleY(0.8)"}),A_("{{showTransitionParams}}")]),T_(":leave",[A_("{{hideTransitionParams}}",D2({opacity:0}))])])]},changeDetection:0}),e})(),NRe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[I1]}),e})();const Ry=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function mJ(e){return new $e(t=>{let i;try{i=e()}catch(o){return void t.error(o)}return(i?Fe(i):ly()).subscribe(t)})}function ky(e=null){return t=>t.lift(new IRe(e))}class IRe{constructor(t){this.defaultValue=t}call(t,i){return i.subscribe(new ORe(t,this.defaultValue))}}class ORe extends O{constructor(t,i){super(t),this.defaultValue=i,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function vJ(e=FRe){return t=>t.lift(new RRe(e))}class RRe{constructor(t){this.errorFactory=t}call(t,i){return i.subscribe(new kRe(t,this.errorFactory))}}class kRe extends O{constructor(t,i){super(t),this.errorFactory=i,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(i){t=i}this.destination.error(t)}}}function FRe(){return new Ry}function ep(e,t){const i=arguments.length>=2;return r=>r.pipe(e?ua((o,s)=>e(o,s,r)):Ee,fa(1),i?ky(t):vJ(()=>new Ry))}function W1(e){return function(i){const r=new PRe(e),o=i.lift(r);return r.caught=o}}class PRe{constructor(t){this.selector=t}call(t,i){return i.subscribe(new LRe(t,this.selector,this.caught))}}class LRe extends Ge{constructor(t,i,r){super(t),this.selector=i,this.caught=r}error(t){if(!this.isStopped){let i;try{i=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Ve(this);this.add(r);const o=tt(i,r);o!==r&&this.add(o)}}}function _J(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(o){return o.lift(new BRe(e,t,i))}}class BRe{constructor(t,i,r=!1){this.accumulator=t,this.seed=i,this.hasSeed=r}call(t,i){return i.subscribe(new $Re(t,this.accumulator,this.seed,this.hasSeed))}}class $Re extends O{constructor(t,i,r,o){super(t),this.accumulator=i,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const i=this.index++;let r;try{r=this.accumulator(this.seed,t,i)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function DN(e){return function(i){return 0===e?ly():i.lift(new URe(e))}}class URe{constructor(t){if(this.total=t,this.total<0)throw new OZ}call(t,i){return i.subscribe(new VRe(t,this.total))}}class VRe extends O{constructor(t,i){super(t),this.total=i,this.ring=new Array,this.count=0}_next(t){const i=this.ring,r=this.total,o=this.count++;i.length<r?i.push(t):i[o%r]=t}_complete(){const t=this.destination;let i=this.count;if(i>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let s=0;s<r;s++){const a=i++%r;t.next(o[a])}}t.complete()}}function yJ(e,t){const i=arguments.length>=2;return r=>r.pipe(e?ua((o,s)=>e(o,s,r)):Ee,DN(1),i?ky(t):vJ(()=>new Ry))}class zRe{constructor(t,i){this.predicate=t,this.inclusive=i}call(t,i){return i.subscribe(new qRe(t,this.predicate,this.inclusive))}}class qRe extends O{constructor(t,i,r){super(t),this.predicate=i,this.inclusive=r,this.index=0}_next(t){const i=this.destination;let r;try{r=this.predicate(t,this.index++)}catch(o){return void i.error(o)}this.nextOrComplete(t,r)}nextOrComplete(t,i){const r=this.destination;Boolean(i)?r.next(t):(this.inclusive&&r.next(t),r.complete())}}class GRe{constructor(t){this.value=t}call(t,i){return i.subscribe(new WRe(t,this.value))}}class WRe extends O{constructor(t,i){super(t),this.value=i}_next(t){this.destination.next(this.value)}}function xN(e){return t=>t.lift(new YRe(e))}class YRe{constructor(t){this.callback=t}call(t,i){return i.subscribe(new KRe(t,this.callback))}}class KRe extends O{constructor(t,i){super(t),this.add(new Fn(i))}}const ir="primary",E6=Symbol("RouteTitle");class XRe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function H2(e){return new XRe(e)}function ZRe(e,t,i){const r=i.path.split("/");if(r.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const a=r[s],l=e[s];if(a.startsWith(":"))o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Cd(e,t){const i=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!i||!r||i.length!=r.length)return!1;let o;for(let s=0;s<i.length;s++)if(o=i[s],!bJ(e[o],t[o]))return!1;return!0}function bJ(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),r=[...t].sort();return i.every((o,s)=>r[s]===o)}return e===t}function wJ(e){return Array.prototype.concat.apply([],e)}function EJ(e){return e.length>0?e[e.length-1]:null}function Ra(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function tp(e){return MM(e)?e:O8(e)?Fe(Promise.resolve(e)):gi(e)}const Fy=!1,JRe={exact:function DJ(e,t,i){if(!Y1(e.segments,t.segments)||!Py(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!DJ(e.children[r],t.children[r],i))return!1;return!0},subset:xJ},SJ={exact:function eke(e,t){return Cd(e,t)},subset:function tke(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>bJ(e[i],t[i]))},ignored:()=>!0};function CJ(e,t,i){return JRe[i.paths](e.root,t.root,i.matrixParams)&&SJ[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function xJ(e,t,i){return MJ(e,t,t.segments,i)}function MJ(e,t,i,r){if(e.segments.length>i.length){const o=e.segments.slice(0,i.length);return!(!Y1(o,i)||t.hasChildren()||!Py(o,i,r))}if(e.segments.length===i.length){if(!Y1(e.segments,i)||!Py(e.segments,i,r))return!1;for(const o in t.children)if(!e.children[o]||!xJ(e.children[o],t.children[o],r))return!1;return!0}{const o=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!!(Y1(e.segments,o)&&Py(e.segments,o,r)&&e.children[ir])&&MJ(e.children[ir],t,s,r)}}function Py(e,t,i){return t.every((r,o)=>SJ[i](e[o].parameters,r.parameters))}class np{constructor(t=new Sr([],{}),i={},r=null){this.root=t,this.queryParams=i,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=H2(this.queryParams)),this._queryParamMap}toString(){return rke.serialize(this)}}class Sr{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Ra(i,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ly(this)}}class S6{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=H2(this.parameters)),this._parameterMap}toString(){return NJ(this)}}function Y1(e,t){return e.length===t.length&&e.every((i,r)=>i.path===t[r].path)}let C6=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return new MN},providedIn:"root"}),e})();class MN{parse(t){const i=new hke(t);return new np(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${D6(t.root,!0)}`,r=function ake(e){const t=Object.keys(e).map(i=>{const r=e[i];return Array.isArray(r)?r.map(o=>`${By(i)}=${By(o)}`).join("&"):`${By(i)}=${By(r)}`}).filter(i=>!!i);return t.length?`?${t.join("&")}`:""}(t.queryParams),o="string"==typeof t.fragment?`#${function oke(e){return encodeURI(e)}(t.fragment)}`:"";return`${i}${r}${o}`}}const rke=new MN;function Ly(e){return e.segments.map(t=>NJ(t)).join("/")}function D6(e,t){if(!e.hasChildren())return Ly(e);if(t){const i=e.children[ir]?D6(e.children[ir],!1):"",r=[];return Ra(e.children,(o,s)=>{s!==ir&&r.push(`${s}:${D6(o,!1)}`)}),r.length>0?`${i}(${r.join("//")})`:i}{const i=function ike(e,t){let i=[];return Ra(e.children,(r,o)=>{o===ir&&(i=i.concat(t(r,o)))}),Ra(e.children,(r,o)=>{o!==ir&&(i=i.concat(t(r,o)))}),i}(e,(r,o)=>o===ir?[D6(e.children[ir],!1)]:[`${o}:${D6(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ir]?`${Ly(e)}/${i[0]}`:`${Ly(e)}/(${i.join("//")})`}}function AJ(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function By(e){return AJ(e).replace(/%3B/gi,";")}function AN(e){return AJ(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $y(e){return decodeURIComponent(e)}function TJ(e){return $y(e.replace(/\+/g,"%20"))}function NJ(e){return`${AN(e.path)}${function ske(e){return Object.keys(e).map(t=>`;${AN(t)}=${AN(e[t])}`).join("")}(e.parameters)}`}const lke=/^[^\/()?;=#]+/;function Uy(e){const t=e.match(lke);return t?t[0]:""}const uke=/^[^=?&#]+/,fke=/^[^&#]+/;class hke{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sr([],{}):new Sr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(r[ir]=new Sr(t,i)),r}parseSegment(){const t=Uy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ce(4009,Fy);return this.capture(t),new S6($y(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=Uy(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){const o=Uy(this.remaining);o&&(r=o,this.capture(r))}t[$y(i)]=$y(r)}parseQueryParam(t){const i=function cke(e){const t=e.match(uke);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){const a=function dke(e){const t=e.match(fke);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const o=TJ(i),s=TJ(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(s)}else t[o]=s}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Uy(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ce(4010,Fy);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ir);const a=this.parseChildren();i[s]=1===Object.keys(a).length?a[ir]:new Sr([],a),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ce(4011,Fy)}}function TN(e){return e.segments.length>0?new Sr([],{[ir]:e}):e}function Vy(e){const t={};for(const r of Object.keys(e.children)){const s=Vy(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function pke(e){if(1===e.numberOfChildren&&e.children[ir]){const t=e.children[ir];return new Sr(e.segments.concat(t.segments),t.children)}return e}(new Sr(e.segments,t))}function K1(e){return e instanceof np}const NN=!1;function gke(e,t,i,r,o){if(0===i.length)return z2(t.root,t.root,t.root,r,o);const s=function FJ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kJ(!0,0,e);let t=0,i=!1;const r=e.reduce((o,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Ra(s.outlets,(u,c)=>{l[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:l}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===a?(s.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?i=!0:".."===l?t++:""!=l&&o.push(l))}),o):[...o,s]},[]);return new kJ(i,t,r)}(i);return s.toRoot()?z2(t.root,t.root,new Sr([],{}),r,o):function a(u){const c=function vke(e,t,i,r){if(e.isAbsolute)return new q2(t.root,!0,0);if(-1===r)return new q2(i,i===t.root,0);return function PJ(e,t,i){let r=e,o=t,s=i;for(;s>o;){if(s-=o,r=r.parent,!r)throw new ce(4005,NN&&"Invalid number of '../'");o=r.segments.length}return new q2(r,!1,o-s)}(i,r+(x6(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,u),f=c.processChildren?j2(c.segmentGroup,c.index,s.commands):IN(c.segmentGroup,c.index,s.commands);return z2(t.root,c.segmentGroup,f,r,o)}(e.snapshot?._lastPathIndex)}function x6(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function M6(e){return"object"==typeof e&&null!=e&&e.outlets}function z2(e,t,i,r,o){let a,s={};r&&Ra(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),a=e===t?i:RJ(e,t,i);const l=TN(Vy(a));return new np(l,s,o)}function RJ(e,t,i){const r={};return Ra(e.children,(o,s)=>{r[s]=o===t?i:RJ(o,t,i)}),new Sr(e.segments,r)}class kJ{constructor(t,i,r){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=r,t&&r.length>0&&x6(r[0]))throw new ce(4003,NN&&"Root segment cannot have matrix parameters");const o=r.find(M6);if(o&&o!==EJ(r))throw new ce(4004,NN&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q2{constructor(t,i,r){this.segmentGroup=t,this.processChildren=i,this.index=r}}function IN(e,t,i){if(e||(e=new Sr([],{})),0===e.segments.length&&e.hasChildren())return j2(e,t,i);const r=function yke(e,t,i){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=i.length)return s;const a=e.segments[o],l=i[r];if(M6(l))break;const u=`${l}`,c=r<i.length-1?i[r+1]:null;if(o>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!BJ(u,c,a))return s;r+=2}else{if(!BJ(u,{},a))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,i),o=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Sr(e.segments.slice(0,r.pathIndex),{});return s.children[ir]=new Sr(e.segments.slice(r.pathIndex),e.children),j2(s,0,o)}return r.match&&0===o.length?new Sr(e.segments,{}):r.match&&!e.hasChildren()?ON(e,t,i):r.match?j2(e,0,o):ON(e,t,i)}function j2(e,t,i){if(0===i.length)return new Sr(e.segments,{});{const r=function _ke(e){return M6(e[0])?e[0].outlets:{[ir]:e}}(i),o={};if(!r[ir]&&e.children[ir]&&1===e.numberOfChildren&&0===e.children[ir].segments.length){const s=j2(e.children[ir],t,i);return new Sr(e.segments,s.children)}return Ra(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[a]=IN(e.children[a],t,s))}),Ra(e.children,(s,a)=>{void 0===r[a]&&(o[a]=s)}),new Sr(e.segments,o)}}function ON(e,t,i){const r=e.segments.slice(0,t);let o=0;for(;o<i.length;){const s=i[o];if(M6(s)){const u=bke(s.outlets);return new Sr(r,u)}if(0===o&&x6(i[0])){r.push(new S6(e.segments[t].path,LJ(i[0]))),o++;continue}const a=M6(s)?s.outlets[ir]:`${s}`,l=o<i.length-1?i[o+1]:null;a&&l&&x6(l)?(r.push(new S6(a,LJ(l))),o+=2):(r.push(new S6(a,{})),o++)}return new Sr(r,{})}function bke(e){const t={};return Ra(e,(i,r)=>{"string"==typeof i&&(i=[i]),null!==i&&(t[r]=ON(new Sr([],{}),0,i))}),t}function LJ(e){const t={};return Ra(e,(i,r)=>t[r]=`${i}`),t}function BJ(e,t,i){return e==i.path&&Cd(t,i.parameters)}const A6="imperative";class Dd{constructor(t,i){this.id=t,this.url=i}}class RN extends Dd{constructor(t,i,r="imperative",o=null){super(t,i),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class X1 extends Dd{constructor(t,i,r){super(t,i),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hy extends Dd{constructor(t,i,r,o){super(t,i),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zy extends Dd{constructor(t,i,r,o){super(t,i),this.reason=r,this.code=o,this.type=16}}class kN extends Dd{constructor(t,i,r,o){super(t,i),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wke extends Dd{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eke extends Dd{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ske extends Dd{constructor(t,i,r,o,s){super(t,i),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cke extends Dd{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dke extends Dd{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xke{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mke{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ake{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tke{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nke{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ike{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $J{constructor(t,i,r){this.routerEvent=t,this.position=i,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let kke=(()=>{class e{createUrlTree(i,r,o,s,a,l){return gke(i||r.root,o,s,a,l)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),Pke=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(t){return kke.\u0275fac(t)},providedIn:"root"}),e})();class UJ{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=FN(t,this._root);return i?i.children.map(r=>r.value):[]}firstChild(t){const i=FN(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=PN(t,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return PN(t,this._root).map(i=>i.value)}}function FN(e,t){if(e===t.value)return t;for(const i of t.children){const r=FN(e,i);if(r)return r}return null}function PN(e,t){if(e===t.value)return[t];for(const i of t.children){const r=PN(e,i);if(r.length)return r.unshift(t),r}return[]}class z0{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function G2(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class VJ extends UJ{constructor(t,i){super(t),this.snapshot=i,LN(this,t)}toString(){return this.snapshot.toString()}}function HJ(e,t){const i=function Lke(e,t){const a=new qy([],{},{},"",{},ir,t,null,e.root,-1,{});return new qJ("",new z0(a,[]))}(e,t),r=new ca([new S6("",{})]),o=new ca({}),s=new ca({}),a=new ca({}),l=new ca(""),u=new W2(r,o,a,l,s,ir,t,i.root);return u.snapshot=i.root,new VJ(new z0(u,[]),i)}class W2{constructor(t,i,r,o,s,a,l,u){this.url=t,this.params=i,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe(en(c=>c[E6]))??gi(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(en(t=>H2(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(en(t=>H2(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zJ(e,t="emptyOnly"){const i=e.pathFromRoot;let r=0;if("always"!==t)for(r=i.length-1;r>=1;){const o=i[r],s=i[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function Bke(e){return e.reduce((t,i)=>({params:{...t.params,...i.params},data:{...t.data,...i.data},resolve:{...i.data,...t.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(r))}class qy{get title(){return this.data?.[E6]}constructor(t,i,r,o,s,a,l,u,c,f,d){this.url=t,this.params=i,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=l,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=f,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=H2(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=H2(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qJ extends UJ{constructor(t,i){super(i),this.url=t,LN(this,i)}toString(){return jJ(this._root)}}function LN(e,t){t.value._routerState=e,t.children.forEach(i=>LN(e,i))}function jJ(e){const t=e.children.length>0?` { ${e.children.map(jJ).join(", ")} } `:"";return`${e.value}${t}`}function BN(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Cd(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),Cd(t.params,i.params)||e.params.next(i.params),function QRe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Cd(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),Cd(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function $N(e,t){const i=Cd(e.params,t.params)&&function nke(e,t){return Y1(e,t)&&e.every((i,r)=>Cd(i.parameters,t[r].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||$N(e.parent,t.parent))}function T6(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=t.value;const o=function Uke(e,t,i){return t.children.map(r=>{for(const o of i.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return T6(e,r,o);return T6(e,r)})}(e,t,i);return new z0(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>T6(e,l)),a}}const r=function Vke(e){return new W2(new ca(e.url),new ca(e.params),new ca(e.queryParams),new ca(e.fragment),new ca(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>T6(e,s));return new z0(r,o)}}const UN="ngNavigationCancelingError";function GJ(e,t){const{redirectTo:i,navigationBehaviorOptions:r}=K1(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=WJ(!1,0,t);return o.url=i,o.navigationBehaviorOptions=r,o}function WJ(e,t,i){const r=new Error("NavigationCancelingError: "+(e||""));return r[UN]=!0,r.cancellationCode=t,i&&(r.url=i),r}function YJ(e){return KJ(e)&&K1(e.url)}function KJ(e){return e&&e[UN]}class Hke{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new N6,this.attachRef=null}}let N6=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Hke,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jy=!1;let VN=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ir,this.activateEvents=new On,this.deactivateEvents=new On,this.attachEvents=new On,this.detachEvents=new On,this.parentContexts=Qn(N6),this.location=Qn(Cc),this.changeDetector=Qn(Ta),this.environmentInjector=Qn(wc)}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,jy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,jy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,jy);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ce(4013,jy);this._activatedRoute=i;const o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new zke(i,l,o.injector);if(r&&function qke(e){return!!e.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(a);this.activated=o.createComponent(c,o.length,u)}else this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fr]}),e})();class zke{constructor(t,i,r){this.route=t,this.childContexts=i,this.parent=r}get(t,i){return t===W2?this.route:t===N6?this.childContexts:this.parent.get(t,i)}}let HN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sr({type:e,selectors:[["ng-component"]],standalone:!0,features:[os],decls:1,vars:0,template:function(i,r){1&i&&Er(0,"router-outlet")},dependencies:[VN],encapsulation:2}),e})();function XJ(e,t){return e.providers&&!e._injector&&(e._injector=e_(e.providers,t,`Route: ${e.path}`)),e._injector??t}function qN(e){const t=e.children&&e.children.map(qN),i=t?{...e,children:t}:{...e};return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ir&&(i.component=HN),i}function Ic(e){return e.outlet||ir}function ZJ(e,t){const i=e.filter(r=>Ic(r)===t);return i.push(...e.filter(r=>Ic(r)!==t)),i}function I6(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class Kke{constructor(t,i,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=r,this.forwardEvent=o}activate(t){const i=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,r,t),BN(this.futureState.root),this.activateChildRoutes(i,r,t)}deactivateChildRoutes(t,i,r){const o=G2(i);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,o[a],r),delete o[a]}),Ra(o,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,i,r){const o=t.value,s=i?i.value:null;if(o===s)if(o.component){const a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,i,a.children)}else this.deactivateChildRoutes(t,i,r);else s&&this.deactivateRouteAndItsChildren(i,r)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const r=i.getContext(t.value.outlet),o=r&&t.value.component?r.children:i,s=G2(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,i){const r=i.getContext(t.value.outlet),o=r&&t.value.component?r.children:i,s=G2(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,i,r){const o=G2(i);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new Ike(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Tke(t.value.snapshot))}activateRoutes(t,i,r){const o=t.value,s=i?i.value:null;if(BN(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,i,a.children)}else this.activateChildRoutes(t,i,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),BN(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=I6(o.snapshot),u=l?.get(C8)??null;a.attachRef=null,a.route=o,a.resolver=u,a.injector=l,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class QJ{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gy{constructor(t,i){this.component=t,this.route=i}}function Xke(e,t,i){const r=e._root;return O6(r,t?t._root:null,i,[r.value])}function Y2(e,t){const i=Symbol(),r=t.get(e,i);return r===i?"function"!=typeof e||function E(e){return null!==g(e)}(e)?t.get(e):e:r}function O6(e,t,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=G2(t);return e.children.forEach(a=>{(function Qke(e,t,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function Jke(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Y1(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Y1(e.url,t.url)||!Cd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$N(e,t)||!Cd(e.queryParams,t.queryParams);default:return!$N(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new QJ(r)):(s.data=a.data,s._resolvedData=a._resolvedData),O6(e,t,s.component?l?l.children:null:i,r,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Gy(l.outlet.component,a))}else a&&R6(t,l,o),o.canActivateChecks.push(new QJ(r)),O6(e,null,s.component?l?l.children:null:i,r,o)})(a,s[a.value.outlet],i,r.concat([a.value]),o),delete s[a.value.outlet]}),Ra(s,(a,l)=>R6(a,i.getContext(l),o)),o}function R6(e,t,i){const r=G2(e),o=e.value;Ra(r,(s,a)=>{R6(s,o.component?t?t.children.getContext(a):null:t,i)}),i.canDeactivateChecks.push(new Gy(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function k6(e){return"function"==typeof e}function jN(e){return e instanceof Ry||"EmptyError"===e?.name}const Wy=Symbol("INITIAL_VALUE");function K2(){return zu(e=>uy(e.map(t=>t.pipe(fa(1),dy(Wy)))).pipe(en(t=>{for(const i of t)if(!0!==i){if(i===Wy)return Wy;if(!1===i||i instanceof np)return i}return!0}),ua(t=>t!==Wy),fa(1)))}function JJ(e){return function ye(...e){return Me(e)}(da(t=>{if(K1(t))throw GJ(0,t)}),en(t=>!0===t))}const GN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eee(e,t,i,r,o){const s=WN(e,t,i);return s.matched?function mFe(e,t,i,r){const o=t.canMatch;return o&&0!==o.length?gi(o.map(a=>{const l=Y2(a,e);return tp(function oFe(e){return e&&k6(e.canMatch)}(l)?l.canMatch(t,i):e.runInContext(()=>l(t,i)))})).pipe(K2(),JJ()):gi(!0)}(r=XJ(t,r),t,i).pipe(en(a=>!0===a?s:{...GN})):gi(s)}function WN(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{...GN}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const o=(t.matcher||ZRe)(i,e,t);if(!o)return{...GN};const s={};Ra(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:i.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function Yy(e,t,i,r){if(i.length>0&&function yFe(e,t,i){return i.some(r=>Ky(e,t,r)&&Ic(r)!==ir)}(e,i,r)){const s=new Sr(t,function _Fe(e,t,i,r){const o={};o[ir]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of i)if(""===s.path&&Ic(s)!==ir){const a=new Sr([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[Ic(s)]=a}return o}(e,t,r,new Sr(i,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function bFe(e,t,i){return i.some(r=>Ky(e,t,r))}(e,i,r)){const s=new Sr(e.segments,function vFe(e,t,i,r,o){const s={};for(const a of r)if(Ky(e,i,a)&&!o[Ic(a)]){const l=new Sr([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,s[Ic(a)]=l}return{...o,...s}}(e,t,i,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:i}}const o=new Sr(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:i}}function Ky(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}function tee(e,t,i,r){return!!(Ic(e)===r||r!==ir&&Ky(t,i,e))&&("**"===e.path||WN(t,e,i).matched)}function nee(e,t,i){return 0===t.length&&!e.children[i]}const Xy=!1;class Zy{constructor(t){this.segmentGroup=t||null}}class iee{constructor(t){this.urlTree=t}}function F6(e){return N2(new Zy(e))}function ree(e){return N2(new iee(e))}function wFe(e){return N2(new ce(4e3,Xy&&`Only absolute redirects can have named outlets. redirectTo: '${e}'`))}class CFe{constructor(t,i,r,o,s){this.injector=t,this.configLoader=i,this.urlSerializer=r,this.urlTree=o,this.config=s,this.allowRedirects=!0}apply(){const t=Yy(this.urlTree.root,[],[],this.config).segmentGroup,i=new Sr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,i,ir).pipe(en(s=>this.createUrlTree(Vy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(W1(s=>{if(s instanceof iee)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zy?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ir).pipe(en(o=>this.createUrlTree(Vy(o),t.queryParams,t.fragment))).pipe(W1(o=>{throw o instanceof Zy?this.noMatchError(o):o}))}noMatchError(t){return new ce(4002,Xy&&`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,i,r){const o=TN(t);return new np(o,i,r)}expandSegmentGroup(t,i,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,i,r).pipe(en(s=>new Sr([],s))):this.expandSegment(t,r,i,r.segments,o,!0)}expandChildren(t,i,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Fe(o).pipe(jh(s=>{const a=r.children[s],l=ZJ(i,s);return this.expandSegmentGroup(t,l,a,s).pipe(en(u=>({segment:u,outlet:s})))}),_J((s,a)=>(s[a.outlet]=a.segment,s),{}),yJ())}expandSegment(t,i,r,o,s,a){return Fe(r).pipe(jh(l=>this.expandSegmentAgainstRoute(t,i,r,l,o,s,a).pipe(W1(c=>{if(c instanceof Zy)return gi(null);throw c}))),ep(l=>!!l),W1((l,u)=>{if(jN(l))return nee(i,o,s)?gi(new Sr([],{})):F6(i);throw l}))}expandSegmentAgainstRoute(t,i,r,o,s,a,l){return tee(o,i,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,i,o,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a):F6(i):F6(i)}expandSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ree(s):this.lineralizeSegments(r,s).pipe(Ze(a=>{const l=new Sr(a,{});return this.expandSegment(t,l,i,a,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a){const{matched:l,consumedSegments:u,remainingSegments:c,positionalParamSegments:f}=WN(i,o,s);if(!l)return F6(i);const d=this.applyRedirectCommands(u,o.redirectTo,f);return o.redirectTo.startsWith("/")?ree(d):this.lineralizeSegments(o,d).pipe(Ze(h=>this.expandSegment(t,i,r,h.concat(c),a,!1)))}matchSegmentAgainstRoute(t,i,r,o,s){return"**"===r.path?(t=XJ(r,t),r.loadChildren?(r._loadedRoutes?gi({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(en(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Sr(o,{})))):gi(new Sr(o,{}))):eee(i,r,o,t).pipe(zu(({matched:a,consumedSegments:l,remainingSegments:u})=>a?this.getChildConfig(t=r._injector??t,r,o).pipe(Ze(f=>{const d=f.injector??t,h=f.routes,{segmentGroup:p,slicedSegments:m}=Yy(i,l,u,h),v=new Sr(p.segments,p.children);if(0===m.length&&v.hasChildren())return this.expandChildren(d,h,v).pipe(en(S=>new Sr(l,S)));if(0===h.length&&0===m.length)return gi(new Sr(l,{}));const _=Ic(r)===s;return this.expandSegment(d,v,h,m,_?ir:s,!0).pipe(en(w=>new Sr(l.concat(w.segments),w.children)))})):F6(i)))}getChildConfig(t,i,r){return i.children?gi({routes:i.children,injector:t}):i.loadChildren?void 0!==i._loadedRoutes?gi({routes:i._loadedRoutes,injector:i._loadedInjector}):function gFe(e,t,i,r){const o=t.canLoad;return void 0===o||0===o.length?gi(!0):gi(o.map(a=>{const l=Y2(a,e);return tp(function tFe(e){return e&&k6(e.canLoad)}(l)?l.canLoad(t,i):e.runInContext(()=>l(t,i)))})).pipe(K2(),JJ())}(t,i,r).pipe(Ze(o=>o?this.configLoader.loadChildren(t,i).pipe(da(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):function EFe(e){return N2(WJ(Xy&&`Cannot load children because the guard of the route "path: '${e.path}'" returned false`,3))}(i))):gi({routes:[],injector:t})}lineralizeSegments(t,i){let r=[],o=i.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return gi(r);if(o.numberOfChildren>1||!o.children[ir])return wFe(t.redirectTo);o=o.children[ir]}}applyRedirectCommands(t,i,r){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,r)}applyRedirectCreateUrlTree(t,i,r,o){const s=this.createSegmentGroup(t,i.root,r,o);return new np(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const r={};return Ra(t,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);r[s]=i[l]}else r[s]=o}),r}createSegmentGroup(t,i,r,o){const s=this.createSegments(t,i.segments,r,o);let a={};return Ra(i.children,(l,u)=>{a[u]=this.createSegmentGroup(t,l,r,o)}),new Sr(s,a)}createSegments(t,i,r,o){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,i,r){const o=r[i.path.substring(1)];if(!o)throw new ce(4001,Xy&&`Cannot redirect to '${t}'. Cannot find '${i.path}'.`);return o}findOrReturn(t,i){let r=0;for(const o of i){if(o.path===t.path)return i.splice(r),o;r++}return t}}class xFe{}class TFe{constructor(t,i,r,o,s,a,l){this.injector=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l}recognize(){const t=Yy(this.urlTree.root,[],[],this.config.filter(i=>void 0===i.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ir).pipe(en(i=>{if(null===i)return null;const r=new qy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ir,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new z0(r,i),s=new qJ(this.url,o);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const i=t.value,r=zJ(i,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,i,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,i,r):this.processSegment(t,i,r,r.segments,o)}processChildren(t,i,r){return Fe(Object.keys(r.children)).pipe(jh(o=>{const s=r.children[o],a=ZJ(i,o);return this.processSegmentGroup(t,a,s,o)}),_J((o,s)=>o&&s?(o.push(...s),o):null),function HRe(e,t=!1){return i=>i.lift(new zRe(e,t))}(o=>null!==o),ky(null),yJ(),en(o=>{if(null===o)return null;const s=see(o);return function NFe(e){e.sort((t,i)=>t.value.outlet===ir?-1:i.value.outlet===ir?1:t.value.outlet.localeCompare(i.value.outlet))}(s),s}))}processSegment(t,i,r,o,s){return Fe(i).pipe(jh(a=>this.processSegmentAgainstRoute(a._injector??t,a,r,o,s)),ep(a=>!!a),W1(a=>{if(jN(a))return nee(r,o,s)?gi([]):gi(null);throw a}))}processSegmentAgainstRoute(t,i,r,o,s){if(i.redirectTo||!tee(i,r,o,s))return gi(null);let a;if("**"===i.path){const l=o.length>0?EJ(o).parameters:{},u=lee(r)+o.length;a=gi({snapshot:new qy(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uee(i),Ic(i),i.component??i._loadedComponent??null,i,aee(r),u,cee(i)),consumedSegments:[],remainingSegments:[]})}else a=eee(r,i,o,t).pipe(en(({matched:l,consumedSegments:u,remainingSegments:c,parameters:f})=>{if(!l)return null;const d=lee(r)+u.length;return{snapshot:new qy(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uee(i),Ic(i),i.component??i._loadedComponent??null,i,aee(r),d,cee(i)),consumedSegments:u,remainingSegments:c}}));return a.pipe(zu(l=>{if(null===l)return gi(null);const{snapshot:u,consumedSegments:c,remainingSegments:f}=l;t=i._injector??t;const d=i._loadedInjector??t,h=function IFe(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(i),{segmentGroup:p,slicedSegments:m}=Yy(r,c,f,h.filter(_=>void 0===_.redirectTo));if(0===m.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(en(_=>null===_?null:[new z0(u,_)]));if(0===h.length&&0===m.length)return gi([new z0(u,[])]);const v=Ic(i)===s;return this.processSegment(d,h,p,m,v?ir:s).pipe(en(_=>null===_?null:[new z0(u,_)]))}))}}function OFe(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function see(e){const t=[],i=new Set;for(const r of e){if(!OFe(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),i.add(o)):t.push(r)}for(const r of i){const o=see(r.children);t.push(new z0(r.value,o))}return t.filter(r=>!i.has(r))}function aee(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lee(e){let t=e,i=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift??0;return i-1}function uee(e){return e.data||{}}function cee(e){return e.resolve||{}}function fee(e){return"string"==typeof e.title||null===e.title}function YN(e){return zu(t=>{const i=e(t);return i?Fe(i).pipe(en(()=>t)):gi(t)})}const X2=new si("ROUTES");let KN=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Qn(WW)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return gi(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=tp(i.loadComponent()).pipe(en(hee),da(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),xN(()=>{this.componentLoaders.delete(i)})),o=new fn(r,()=>new Xe).pipe(Bt());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gi({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(en(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,f=!1;Array.isArray(l)?c=l:(u=l.create(i).injector,c=wJ(u.get(X2,[],je.Self|je.Optional)));return{routes:c.map(qN),injector:u}}),xN(()=>{this.childrenLoaders.delete(r)})),a=new fn(s,()=>new Xe).pipe(Bt());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(i){return tp(i()).pipe(en(hee),Ze(r=>r instanceof iW||Array.isArray(r)?gi(r):Fe(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hee(e){return function UFe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Jy=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.configLoader=Qn(KN),this.environmentInjector=Qn(wc),this.urlSerializer=Qn(C6),this.rootContexts=Qn(N6),this.navigationId=0,this.afterPreactivation=()=>gi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Mke(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new xke(o))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i){return this.transitions=new ca({id:0,targetPageId:0,currentUrlTree:i.currentUrlTree,currentRawUrl:i.currentUrlTree,extractedUrl:i.urlHandlingStrategy.extract(i.currentUrlTree),urlAfterRedirects:i.urlHandlingStrategy.extract(i.currentUrlTree),rawUrl:i.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:A6,restoredState:null,currentSnapshot:i.routerState.snapshot,targetSnapshot:null,currentRouterState:i.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ua(r=>0!==r.id),en(r=>({...r,extractedUrl:i.urlHandlingStrategy.extract(r.rawUrl)})),zu(r=>{let o=!1,s=!1;return gi(r).pipe(da(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zu(a=>{const l=i.browserUrlTree.toString(),u=!i.navigated||a.extractedUrl.toString()!==l||l!==i.currentUrlTree.toString();if(!u&&"reload"!==(a.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const f="";return this.events.next(new zy(a.id,i.serializeUrl(r.rawUrl),f,0)),i.rawUrlTree=a.rawUrl,a.resolve(null),Xh}if(i.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pee(a.source)&&(i.browserUrlTree=a.extractedUrl),gi(a).pipe(zu(f=>{const d=this.transitions?.getValue();return this.events.next(new RN(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?Xh:Promise.resolve(f)}),function DFe(e,t,i,r){return zu(o=>function SFe(e,t,i,r,o){return new CFe(e,t,i,r,o).apply()}(e,t,i,o.extractedUrl,r).pipe(en(s=>({...o,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,i.config),da(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},r.urlAfterRedirects=f.urlAfterRedirects}),function kFe(e,t,i,r,o){return Ze(s=>function AFe(e,t,i,r,o,s,a="emptyOnly"){return new TFe(e,t,i,r,o,a,s).recognize().pipe(zu(l=>null===l?function MFe(e){return new $e(t=>t.error(e))}(new xFe):gi(l)))}(e,t,i,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,o).pipe(en(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),da(f=>{if(r.targetSnapshot=f.targetSnapshot,"eager"===i.urlUpdateStrategy){if(!f.extras.skipLocationChange){const h=i.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);i.setBrowserUrl(h,f)}i.browserUrlTree=f.urlAfterRedirects}const d=new wke(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(u&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){const{id:f,extractedUrl:d,source:h,restoredState:p,extras:m}=a,v=new RN(f,this.urlSerializer.serialize(d),h,p);this.events.next(v);const _=HJ(d,this.rootComponentType).snapshot;return gi(r={...a,targetSnapshot:_,urlAfterRedirects:d,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}{const f="";return this.events.next(new zy(a.id,i.serializeUrl(r.extractedUrl),f,1)),i.rawUrlTree=a.rawUrl,a.resolve(null),Xh}}),da(a=>{const l=new Eke(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),en(a=>r={...a,guards:Xke(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function aFe(e,t){return Ze(i=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=i;return 0===a.length&&0===s.length?gi({...i,guardsResult:!0}):function lFe(e,t,i,r){return Fe(e).pipe(Ze(o=>function pFe(e,t,i,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?gi(s.map(l=>{const u=I6(t)??o,c=Y2(l,u);return tp(function rFe(e){return e&&k6(e.canDeactivate)}(c)?c.canDeactivate(e,t,i,r):u.runInContext(()=>c(e,t,i,r))).pipe(ep())})).pipe(K2()):gi(!0)}(o.component,o.route,i,t,r)),ep(o=>!0!==o,!0))}(a,r,o,e).pipe(Ze(l=>l&&function eFe(e){return"boolean"==typeof e}(l)?function uFe(e,t,i,r){return Fe(t).pipe(jh(o=>fy(function fFe(e,t){return null!==e&&t&&t(new Ake(e)),gi(!0)}(o.route.parent,r),function cFe(e,t){return null!==e&&t&&t(new Nke(e)),gi(!0)}(o.route,r),function hFe(e,t,i){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function Zke(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>mJ(()=>gi(a.guards.map(u=>{const c=I6(a.node)??i,f=Y2(u,c);return tp(function iFe(e){return e&&k6(e.canActivateChild)}(f)?f.canActivateChild(r,e):c.runInContext(()=>f(r,e))).pipe(ep())})).pipe(K2())));return gi(s).pipe(K2())}(e,o.path,i),function dFe(e,t,i){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return gi(!0);const o=r.map(s=>mJ(()=>{const a=I6(t)??i,l=Y2(s,a);return tp(function nFe(e){return e&&k6(e.canActivate)}(l)?l.canActivate(t,e):a.runInContext(()=>l(t,e))).pipe(ep())}));return gi(o).pipe(K2())}(e,o.route,i))),ep(o=>!0!==o,!0))}(r,s,e,t):gi(l)),en(l=>({...i,guardsResult:l})))})}(this.environmentInjector,a=>this.events.next(a)),da(a=>{if(r.guardsResult=a.guardsResult,K1(a.guardsResult))throw GJ(0,a.guardsResult);const l=new Ske(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),ua(a=>!!a.guardsResult||(i.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),YN(a=>{if(a.guards.canActivateChecks.length)return gi(a).pipe(da(l=>{const u=new Cke(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),zu(l=>{let u=!1;return gi(l).pipe(function FFe(e,t){return Ze(i=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=i;if(!o.length)return gi(i);let s=0;return Fe(o).pipe(jh(a=>function PFe(e,t,i,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!fee(o)&&(s[E6]=o.title),function LFe(e,t,i,r){const o=function BFe(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return gi({});const s={};return Fe(o).pipe(Ze(a=>function $Fe(e,t,i,r){const o=I6(t)??r,s=Y2(e,o);return tp(s.resolve?s.resolve(t,i):o.runInContext(()=>s(t,i)))}(e[a],t,i,r).pipe(ep(),da(l=>{s[a]=l}))),DN(1),function jRe(e){return t=>t.lift(new GRe(e))}(s),W1(a=>jN(a)?Xh:N2(a)))}(s,e,t,r).pipe(en(a=>(e._resolvedData=a,e.data=zJ(e,i).resolve,o&&fee(o)&&(e.data[E6]=o.title),null)))}(a.route,r,e,t)),da(()=>s++),DN(1),Ze(a=>s===o.length?gi(i):Xh))})}(i.paramsInheritanceStrategy,this.environmentInjector),da({next:()=>u=!0,complete:()=>{u||(i.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),da(l=>{const u=new Dke(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),YN(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(da(f=>{u.component=f}),en(()=>{})));for(const f of u.children)c.push(...l(f));return c};return uy(l(a.targetSnapshot.root)).pipe(ky(),fa(1))}),YN(()=>this.afterPreactivation()),en(a=>{const l=function $ke(e,t,i){const r=T6(e,t._root,i?i._root:void 0);return new VJ(r,t)}(i.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),da(a=>{i.currentUrlTree=a.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),i.routerState=a.targetRouterState,"deferred"===i.urlUpdateStrategy&&(a.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,a),i.browserUrlTree=a.urlAfterRedirects)}),((e,t,i)=>en(r=>(new Kke(t,r.targetRouterState,r.currentRouterState,i).activate(e),r)))(this.rootContexts,i.routeReuseStrategy,a=>this.events.next(a)),fa(1),da({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,i.navigated=!0,this.events.next(new X1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(i.currentUrlTree))),i.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),xN(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),W1(a=>{if(s=!0,KJ(a)){YJ(a)||(i.navigated=!0,i.restoreHistory(r,!0));const l=new Hy(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(l),YJ(a)){const u=i.urlHandlingStrategy.merge(a.url,i.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||pee(r.source)};i.scheduleNavigation(u,A6,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{i.restoreHistory(r,!0);const l=new kN(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(l);try{r.resolve(i.errorHandler(a))}catch(u){r.reject(u)}}return Xh}))}))}cancelNavigationTransition(i,r,o){const s=new Hy(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pee(e){return e!==A6}let gee=(()=>{class e{buildTitle(i){let r,o=i.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ir);return r}getResolvedTitleForRoute(i){return i.data[E6]}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return Qn(VFe)},providedIn:"root"}),e})(),VFe=(()=>{class e extends gee{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(i){return new(i||e)(qt(vK))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),HFe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return Qn(qFe)},providedIn:"root"}),e})();class zFe{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}let qFe=(()=>{class e extends zFe{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Po(e)))(r||e)}}(),e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const eb=new si("",{providedIn:"root",factory:()=>({})});let GFe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:function(){return Qn(WFe)},providedIn:"root"}),e})(),WFe=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function YFe(e){throw e}function KFe(e,t,i){return t.parse("/")}const XFe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZFe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wu=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Qn(abe),this.isNgZoneEnabled=!1,this.options=Qn(eb,{optional:!0})||{},this.errorHandler=this.options.errorHandler||YFe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||KFe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Qn(GFe),this.routeReuseStrategy=Qn(HFe),this.urlCreationStrategy=Qn(Pke),this.titleStrategy=Qn(gee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wJ(Qn(X2,{optional:!0})??[]),this.navigationTransitions=Qn(Jy),this.urlSerializer=Qn(C6),this.location=Qn(_A),this.isNgZoneEnabled=Qn(xr)instanceof xr&&xr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new np,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HJ(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId??0},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),A6,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(i){this.config=i.map(qN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,r={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a;let f=null;switch(l){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}return null!==f&&(f=this.removeEmptyProps(f)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,i,f,c??null)}navigateByUrl(i,r={skipLocationChange:!1}){const o=K1(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,A6,null,r)}navigate(i,r={skipLocationChange:!1}){return function QFe(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new ce(4008,false)}}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,i)}return r}isActive(i,r){let o;if(o=!0===r?{...XFe}:!1===r?{...ZFe}:r,K1(i))return CJ(this.currentUrlTree,i,o);const s=this.parseUrl(i);return CJ(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.keys(i).reduce((r,o)=>{const s=i[o];return null!=s&&(r[o]=s),r},{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,c,f;return a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((d,h)=>{l=d,u=h}),f="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:f,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(i,r){const o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(o,"",s)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class mee{}let tPe=(()=>{class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ua(i=>i instanceof X1),jh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const o=[];for(const s of r){s.providers&&!s._injector&&(s._injector=e_(s.providers,i,`Route: ${s.path}`));const a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Fe(o).pipe(We())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):gi(null);const s=o.pipe(Ze(a=>null===a?gi(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));return r.loadComponent&&!r._loadedComponent?Fe([s,this.loader.loadComponent(r)]).pipe(We()):s})}}return e.\u0275fac=function(i){return new(i||e)(qt(Wu),qt(WW),qt(wc),qt(mee),qt(KN))},e.\u0275prov=on({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const QN=new si("");let vee=(()=>{class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof RN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof X1&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof $J&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $J(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(i){!function fj(){throw new Error("invalid")}()},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();var Yu=(()=>((Yu=Yu||{})[Yu.COMPLETE=0]="COMPLETE",Yu[Yu.FAILED=1]="FAILED",Yu[Yu.REDIRECTING=2]="REDIRECTING",Yu))();const Z2=!1;function ip(e,t){return{\u0275kind:e,\u0275providers:t}}const JN=new si("",{providedIn:"root",factory:()=>!1});function yee(){const e=Qn(au);return t=>{const i=e.get(A1);if(t!==i.components[0])return;const r=e.get(Wu),o=e.get(bee);1===e.get(eI)&&r.initialNavigation(),e.get(wee,null,je.Optional)?.setUpPreloading(),e.get(QN,null,je.Optional)?.init(),r.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const bee=new si(Z2?"bootstrap done indicator":"",{factory:()=>new Xe}),eI=new si(Z2?"initial navigation":"",{providedIn:"root",factory:()=>1});function sPe(){let e=[];return e=Z2?[{provide:F7,multi:!0,useFactory:()=>{const t=Qn(Wu);return()=>t.events.subscribe(i=>{console.group?.(`Router Event: ${i.constructor.name}`),console.log(function Oke(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(i)),console.log(i),console.groupEnd?.()})}}]:[],ip(1,e)}const wee=new si(Z2?"router preloader":"");function aPe(e){return ip(0,[{provide:wee,useExisting:tPe},{provide:mee,useExisting:e}])}const P6=!1,Eee=new si(P6?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),lPe=[_A,{provide:C6,useClass:MN},Wu,N6,{provide:W2,useFactory:function _ee(e){return e.routerState.root},deps:[Wu]},KN,P6?{provide:JN,useValue:!0}:[]];function uPe(){return new tY("Router",Wu)}let See=(()=>{class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[lPe,P6&&r?.enableTracing?sPe().\u0275providers:[],{provide:X2,multi:!0,useValue:i},{provide:Eee,useFactory:hPe,deps:[[Wu,new h8,new p8]]},{provide:eb,useValue:r||{}},r?.useHash?{provide:N1,useClass:Ybe}:{provide:N1,useClass:CY},{provide:QN,useFactory:()=>{const e=Qn(aEe),t=Qn(xr),i=Qn(eb),r=Qn(Jy),o=Qn(C6);return i.scrollOffset&&e.setOffset(i.scrollOffset),new vee(o,r,e,t,i)}},r?.preloadingStrategy?aPe(r.preloadingStrategy).\u0275providers:[],{provide:tY,multi:!0,useFactory:uPe},r?.initialNavigation?pPe(r):[],[{provide:Cee,useFactory:yee},{provide:eY,multi:!0,useExisting:Cee}]]}}static forChild(i){return{ngModule:e,providers:[{provide:X2,multi:!0,useValue:i}]}}}return e.\u0275fac=function(i){return new(i||e)(qt(Eee,8))},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[HN]}),e})();function hPe(e){if(P6&&e)throw new ce(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pPe(e){return["disabled"===e.initialNavigation?ip(3,[{provide:o_,multi:!0,useFactory:()=>{const t=Qn(Wu);return()=>{t.setUpLocationChangeListener()}}},{provide:eI,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ip(2,[{provide:eI,useValue:0},{provide:o_,multi:!0,deps:[au],useFactory:t=>{const i=t.get(Gbe,Promise.resolve());return()=>i.then(()=>new Promise(r=>{const o=t.get(Wu),s=t.get(bee);(function nPe(e,t){e.events.pipe(ua(i=>i instanceof X1||i instanceof Hy||i instanceof kN||i instanceof zy),en(i=>i instanceof X1||i instanceof zy?Yu.COMPLETE:i instanceof Hy&&(0===i.code||1===i.code)?Yu.REDIRECTING:Yu.FAILED),ua(i=>i!==Yu.REDIRECTING),fa(1)).subscribe(()=>{t()})})(o,()=>{r(!0)}),t.get(Jy).afterPreactivation=()=>(r(!0),s.closed?gi(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const Cee=new si(P6?"Router Initializer":"");var mPe=Array.prototype.slice;function xee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tI(e){let t=e,i=e;function r(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;i(a[f],l)<0?u=f+1:c=f}return u}return 1===e.length&&(t=(a,l)=>e(a)-l,i=function vPe(e){return(t,i)=>xee(e(t),i)}(e)),{left:r,center:function s(a,l,u,c){null==u&&(u=0),null==c&&(c=a.length);const f=r(a,l,u,c-1);return f>u&&t(a[f-1],l)>-t(a[f],l)?f-1:f},right:function o(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;i(a[f],l)>0?c=f:u=f+1}return u}}}const yPe=tI(xee).right,bPe=(tI(function _Pe(e){return null===e?NaN:+e}),yPe);function tb(e){return function(){return e}}function nI(e,t){let i,r;if(void 0===t)for(const o of e)null!=o&&(void 0===i?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(void 0===i?s>=s&&(i=r=s):(i>s&&(i=s),r<s&&(r=s)))}return[i,r]}function wPe(e){return e}var iI=Math.sqrt(50),rI=Math.sqrt(10),oI=Math.sqrt(2);function sI(e,t,i){var r=(t-e)/Math.max(0,i),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=iI?10:s>=rI?5:s>=oI?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=iI?10:s>=rI?5:s>=oI?2:1)}function Aee(e,t,i){var r=Math.abs(t-e)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=iI?o*=10:s>=rI?o*=5:s>=oI&&(o*=2),t<e?-o:o}function DPe(e){return Math.ceil(Math.log(function CPe(e,t){let i=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++i;else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(o=+o)>=o&&++i}return i}(e))/Math.LN2)+1}function MPe(){}function aI(e){return null==e?MPe:function(){return this.querySelector(e)}}function Tee(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function TPe(){return[]}function Nee(e){return null==e?TPe:function(){return this.querySelectorAll(e)}}function Iee(e){return function(){return this.matches(e)}}function Oee(e){return function(t){return t.matches(e)}}var OPe=Array.prototype.find;function kPe(){return this.firstElementChild}var PPe=Array.prototype.filter;function LPe(){return this.children}function Ree(e){return new Array(e.length)}function nb(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function zPe(e,t,i,r,o,s){for(var l,a=0,u=t.length,c=s.length;a<c;++a)(l=t[a])?(l.__data__=s[a],r[a]=l):i[a]=new nb(e,s[a]);for(;a<u;++a)(l=t[a])&&(o[a]=l)}function qPe(e,t,i,r,o,s,a){var l,u,p,c=new Map,f=t.length,d=s.length,h=new Array(f);for(l=0;l<f;++l)(u=t[l])&&(h[l]=p=a.call(u,u.__data__,l,t)+"",c.has(p)?o[l]=u:c.set(p,u));for(l=0;l<d;++l)p=a.call(e,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):i[l]=new nb(e,s[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(h[l])===u&&(o[l]=u)}function jPe(e){return e.__data__}function QPe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}nb.prototype={constructor:nb,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var lI="http://www.w3.org/1999/xhtml";const kee={svg:"http://www.w3.org/2000/svg",xhtml:lI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ib(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),kee.hasOwnProperty(t)?{space:kee[t],local:e}:e}function oLe(e){return function(){this.removeAttribute(e)}}function sLe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aLe(e,t){return function(){this.setAttribute(e,t)}}function lLe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uLe(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function cLe(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Fee(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dLe(e){return function(){this.style.removeProperty(e)}}function hLe(e,t,i){return function(){this.style.setProperty(e,t,i)}}function pLe(e,t,i){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,i)}}function Q2(e,t){return e.style.getPropertyValue(t)||Fee(e).getComputedStyle(e,null).getPropertyValue(t)}function mLe(e){return function(){delete this[e]}}function vLe(e,t){return function(){this[e]=t}}function _Le(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function Pee(e){return e.trim().split(/^|\s+/)}function uI(e){return e.classList||new Lee(e)}function Lee(e){this._node=e,this._names=Pee(e.getAttribute("class")||"")}function Bee(e,t){for(var i=uI(e),r=-1,o=t.length;++r<o;)i.add(t[r])}function $ee(e,t){for(var i=uI(e),r=-1,o=t.length;++r<o;)i.remove(t[r])}function bLe(e){return function(){Bee(this,e)}}function wLe(e){return function(){$ee(this,e)}}function ELe(e,t){return function(){(t.apply(this,arguments)?Bee:$ee)(this,e)}}function CLe(){this.textContent=""}function DLe(e){return function(){this.textContent=e}}function xLe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ALe(){this.innerHTML=""}function TLe(e){return function(){this.innerHTML=e}}function NLe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function OLe(){this.nextSibling&&this.parentNode.appendChild(this)}function kLe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PLe(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===lI&&t.documentElement.namespaceURI===lI?t.createElement(e):t.createElementNS(i,e)}}function LLe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uee(e){var t=ib(e);return(t.local?LLe:PLe)(t)}function $Le(){return null}function VLe(){var e=this.parentNode;e&&e.removeChild(this)}function zLe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qLe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KLe(e){return function(){var t=this.__on;if(t){for(var s,i=0,r=-1,o=t.length;i<o;++i)s=t[i],e.type&&s.type!==e.type||s.name!==e.name?t[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?t.length=r:delete this.__on}}}function XLe(e,t,i){return function(){var o,r=this.__on,s=function WLe(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=i),void(o.value=t);this.addEventListener(e.type,s,i),o={type:e.type,name:e.name,value:t,listener:s,options:i},r?r.push(o):this.__on=[o]}}function Vee(e,t,i){var r=Fee(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,i):(o=r.document.createEvent("Event"),i?(o.initEvent(t,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function QLe(e,t){return function(){return Vee(this,e,t)}}function JLe(e,t){return function(){return Vee(this,e,t.apply(this,arguments))}}Lee.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var nBe=[null];function Oc(e,t){this._groups=e,this._parents=t}function Hee(){return new Oc([[document.documentElement]],nBe)}Oc.prototype=Hee.prototype={constructor:Oc,select:function APe(e){"function"!=typeof e&&(e=aI(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,c,s=t[o],a=s.length,l=r[o]=new Array(a),f=0;f<a;++f)(u=s[f])&&(c=e.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new Oc(r,this._parents)},selectAll:function IPe(e){e="function"==typeof e?function NPe(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Tee(t)}}(e):Nee(e);for(var t=this._groups,i=t.length,r=[],o=[],s=0;s<i;++s)for(var u,a=t[s],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),o.push(u));return new Oc(r,o)},selectChild:function FPe(e){return this.select(null==e?kPe:function RPe(e){return function(){return OPe.call(this.children,e)}}("function"==typeof e?e:Oee(e)))},selectChildren:function $Pe(e){return this.selectAll(null==e?LPe:function BPe(e){return function(){return PPe.call(this.children,e)}}("function"==typeof e?e:Oee(e)))},filter:function UPe(e){"function"!=typeof e&&(e=Iee(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new Oc(r,this._parents)},data:function GPe(e,t){if(!arguments.length)return Array.from(this,jPe);var i=t?qPe:zPe,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function HPe(e){return function(){return e}}(e));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=o[c],h=d.length,p=Tee(e.call(f,f&&f.__data__,c,r)),m=p.length,v=l[c]=new Array(m),_=a[c]=new Array(m);i(f,d,v,_,u[c]=new Array(h),p,t);for(var M,A,w=0,S=0;w<m;++w)if(M=v[w]){for(w>=S&&(S=w+1);!(A=_[S])&&++S<m;);M._next=A||null}}return(a=new Oc(a,r))._enter=l,a._exit=u,a},enter:function VPe(){return new Oc(this._enter||this._groups.map(Ree),this._parents)},exit:function WPe(){return new Oc(this._exit||this._groups.map(Ree),this._parents)},join:function YPe(e,t,i){var r=this.enter(),o=this,s=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==i?s.remove():i(s),r&&o?r.merge(o).order():o},merge:function KPe(e){if(!(e instanceof Oc))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),l=0;l<s;++l)for(var h,u=t[l],c=i[l],f=u.length,d=a[l]=new Array(f),p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<r;++l)a[l]=t[l];return new Oc(a,this._parents)},selection:function iBe(){return this},order:function XPe(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var a,r=e[t],o=r.length-1,s=r[o];--o>=0;)(a=r[o])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function ZPe(e){function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}e||(e=QPe);for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s){for(var c,a=i[s],l=a.length,u=o[s]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(t)}return new Oc(o,this._parents).order()},call:function JPe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function eLe(){return Array.from(this)},node:function tLe(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null},size:function nLe(){let e=0;for(const t of this)++e;return e},empty:function iLe(){return!this.node()},each:function rLe(e){for(var t=this._groups,i=0,r=t.length;i<r;++i)for(var l,o=t[i],s=0,a=o.length;s<a;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this},attr:function fLe(e,t){var i=ib(e);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((null==t?i.local?sLe:oLe:"function"==typeof t?i.local?cLe:uLe:i.local?lLe:aLe)(i,t))},style:function gLe(e,t,i){return arguments.length>1?this.each((null==t?dLe:"function"==typeof t?pLe:hLe)(e,t,i??"")):Q2(this.node(),e)},property:function yLe(e,t){return arguments.length>1?this.each((null==t?mLe:"function"==typeof t?_Le:vLe)(e,t)):this.node()[e]},classed:function SLe(e,t){var i=Pee(e+"");if(arguments.length<2){for(var r=uI(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each(("function"==typeof t?ELe:t?bLe:wLe)(i,t))},text:function MLe(e){return arguments.length?this.each(null==e?CLe:("function"==typeof e?xLe:DLe)(e)):this.node().textContent},html:function ILe(e){return arguments.length?this.each(null==e?ALe:("function"==typeof e?NLe:TLe)(e)):this.node().innerHTML},raise:function RLe(){return this.each(OLe)},lower:function FLe(){return this.each(kLe)},append:function BLe(e){var t="function"==typeof e?e:Uee(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function ULe(e,t){var i="function"==typeof e?e:Uee(e),r=null==t?$Le:"function"==typeof t?t:aI(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function HLe(){return this.each(VLe)},clone:function jLe(e){return this.select(e?qLe:zLe)},datum:function GLe(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function ZLe(e,t,i){var o,a,r=function YLe(e){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{type:t,name:i}})}(e+""),s=r.length;if(!(arguments.length<2)){for(l=t?XLe:KLe,o=0;o<s;++o)this.each(l(r[o],t,i));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(o=0,f=l[u];o<s;++o)if((a=r[o]).type===f.type&&a.name===f.name)return f.value},dispatch:function eBe(e,t){return this.each(("function"==typeof t?JLe:QLe)(e,t))},[Symbol.iterator]:function*tBe(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a,r=e[t],o=0,s=r.length;o<s;++o)(a=r[o])&&(yield a)}};const L6=Hee;var rBe={value:()=>{}};function zee(){for(var r,e=0,t=arguments.length,i={};e<t;++e){if(!(r=arguments[e]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new rb(i)}function rb(e){this._=e}function sBe(e,t){for(var o,i=0,r=e.length;i<r;++i)if((o=e[i]).name===t)return o.value}function qee(e,t,i){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=rBe,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=i&&e.push({name:t,value:i}),e}rb.prototype=zee.prototype={constructor:rb,on:function(e,t){var o,i=this._,r=function oBe(e,t){return e.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");if(o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}(e+"",i),s=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(o=(e=r[s]).type)i[o]=qee(i[o],e.name,t);else if(null==t)for(o in i)i[o]=qee(i[o],e.name,null);return this}for(;++s<a;)if((o=(e=r[s]).type)&&(o=sBe(i[o],e.name)))return o},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new rb(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var o,s,i=new Array(o),r=0;r<o;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,o=(s=this._[e]).length;r<o;++r)s[r].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,i)}};const jee=zee;var ob,U6,J2=0,B6=0,$6=0,Gee=1e3,sb=0,Z1=0,ab=0,V6="object"==typeof performance&&performance.now?performance:Date,Wee="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cI(){return Z1||(Wee(aBe),Z1=V6.now()+ab)}function aBe(){Z1=0}function lb(){this._call=this._time=this._next=null}function fI(e,t,i){var r=new lb;return r.restart(e,t,i),r}function Yee(){Z1=(sb=V6.now())+ab,J2=B6=0;try{!function lBe(){cI(),++J2;for(var t,e=ob;e;)(t=Z1-e._time)>=0&&e._call.call(null,t),e=e._next;--J2}()}finally{J2=0,function cBe(){for(var e,i,t=ob,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:ob=i);U6=e,dI(r)}(),Z1=0}}function uBe(){var e=V6.now(),t=e-sb;t>Gee&&(ab-=t,sb=e)}function dI(e){J2||(B6&&(B6=clearTimeout(B6)),e-Z1>24?(e<1/0&&(B6=setTimeout(Yee,e-V6.now()-ab)),$6&&($6=clearInterval($6))):($6||(sb=V6.now(),$6=setInterval(uBe,Gee)),J2=1,Wee(Yee)))}function Kee(e,t,i){var r=new lb;return r.restart(o=>{r.stop(),e(o+t)},t=null==t?0:+t,i),r}lb.prototype=fI.prototype={constructor:lb,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?cI():+i)+(null==t?0:+t),!this._next&&U6!==this&&(U6?U6._next=this:ob=this,U6=this),this._call=e,this._time=i,dI()},stop:function(){this._call&&(this._call=null,this._time=1/0,dI())}};var fBe=jee("start","end","cancel","interrupt"),dBe=[],Xee=0,Zee=1,hI=2,ub=3,Qee=4,pI=5,cb=6;function fb(e,t,i,r,o,s){var a=e.__transition;if(a){if(i in a)return}else e.__transition={};!function hBe(e,t,i){var o,r=e.__transition;function a(c){var f,d,h,p;if(i.state!==Zee)return u();for(f in r)if((p=r[f]).name===i.name){if(p.state===ub)return Kee(a);p.state===Qee?(p.state=cb,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=cb,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(Kee(function(){i.state===ub&&(i.state=Qee,i.timer.restart(l,i.delay,i.time),l(c))}),i.state=hI,i.on.call("start",e,e.__data__,i.index,i.group),i.state===hI){for(i.state=ub,o=new Array(h=i.tween.length),f=0,d=-1;f<h;++f)(p=i.tween[f].value.call(e,e.__data__,i.index,i.group))&&(o[++d]=p);o.length=d+1}}function l(c){for(var f=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(u),i.state=pI,1),d=-1,h=o.length;++d<h;)o[d].call(e,f);i.state===pI&&(i.on.call("end",e,e.__data__,i.index,i.group),u())}function u(){for(var c in i.state=cb,i.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=i,i.timer=fI(function s(c){i.state=Zee,i.timer.restart(a,i.delay,i.time),i.delay<=c&&a(c-i.delay)},0,i.time)}(e,i,{name:t,index:r,group:o,on:fBe,tween:dBe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Xee})}function gI(e,t){var i=wf(e,t);if(i.state>Xee)throw new Error("too late; already scheduled");return i}function xd(e,t){var i=wf(e,t);if(i.state>ub)throw new Error("too late; already running");return i}function wf(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function rp(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var db,Jee=180/Math.PI,mI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ete(e,t,i,r,o,s){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*i+t*r)&&(i-=e*u,r-=t*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),e*r<t*i&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Jee,skewX:Math.atan(u)*Jee,scaleX:a,scaleY:l}}function tte(e,t,i,r){function o(c){return c.length?c.pop()+" ":""}return function(c,f){var d=[],h=[];return c=e(c),f=e(f),function s(c,f,d,h,p,m){if(c!==d||f!==h){var v=p.push("translate(",null,t,null,i);m.push({i:v-4,x:rp(c,d)},{i:v-2,x:rp(f,h)})}else(d||h)&&p.push("translate("+d+t+h+i)}(c.translateX,c.translateY,f.translateX,f.translateY,d,h),function a(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:rp(c,f)})):f&&d.push(o(d)+"rotate("+f+r)}(c.rotate,f.rotate,d,h),function l(c,f,d,h){c!==f?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:rp(c,f)}):f&&d.push(o(d)+"skewX("+f+r)}(c.skewX,f.skewX,d,h),function u(c,f,d,h,p,m){if(c!==d||f!==h){var v=p.push(o(p)+"scale(",null,",",null,")");m.push({i:v-4,x:rp(c,d)},{i:v-2,x:rp(f,h)})}else(1!==d||1!==h)&&p.push(o(p)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(p){for(var _,m=-1,v=h.length;++m<v;)d[(_=h[m]).i]=_.x(p);return d.join("")}}}var _Be=tte(function mBe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mI:ete(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),yBe=tte(function vBe(e){return null!=e&&(db||(db=document.createElementNS("http://www.w3.org/2000/svg","g")),db.setAttribute("transform",e),e=db.transform.baseVal.consolidate())?ete((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):mI},", ",")",")");function bBe(e,t){var i,r;return function(){var o=xd(this,e),s=o.tween;if(s!==i)for(var a=0,l=(r=i=s).length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function wBe(e,t,i){var r,o;if("function"!=typeof i)throw new Error;return function(){var s=xd(this,e),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:i},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function vI(e,t,i){var r=e._id;return e.each(function(){var o=xd(this,r);(o.value||(o.value={}))[t]=i.apply(this,arguments)}),function(o){return wf(o,r).value[t]}}function e3(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function H6(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function op(){}var t3=1/.7,n3="\\s*([+-]?\\d+)\\s*",z6="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Md="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SBe=/^#([0-9a-f]{3,8})$/,CBe=new RegExp("^rgb\\("+[n3,n3,n3]+"\\)$"),DBe=new RegExp("^rgb\\("+[Md,Md,Md]+"\\)$"),xBe=new RegExp("^rgba\\("+[n3,n3,n3,z6]+"\\)$"),MBe=new RegExp("^rgba\\("+[Md,Md,Md,z6]+"\\)$"),ABe=new RegExp("^hsl\\("+[z6,Md,Md]+"\\)$"),TBe=new RegExp("^hsla\\("+[z6,Md,Md,z6]+"\\)$"),nte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ite(){return this.rgb().formatHex()}function rte(){return this.rgb().formatRgb()}function q0(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=SBe.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?ote(t):3===i?new ka(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?hb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?hb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=CBe.exec(e))?new ka(t[1],t[2],t[3],1):(t=DBe.exec(e))?new ka(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xBe.exec(e))?hb(t[1],t[2],t[3],t[4]):(t=MBe.exec(e))?hb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ABe.exec(e))?lte(t[1],t[2]/100,t[3]/100,1):(t=TBe.exec(e))?lte(t[1],t[2]/100,t[3]/100,t[4]):nte.hasOwnProperty(e)?ote(nte[e]):"transparent"===e?new ka(NaN,NaN,NaN,0):null}function ote(e){return new ka(e>>16&255,e>>8&255,255&e,1)}function hb(e,t,i,r){return r<=0&&(e=t=i=NaN),new ka(e,t,i,r)}function _I(e){return e instanceof op||(e=q0(e)),e?new ka((e=e.rgb()).r,e.g,e.b,e.opacity):new ka}function Ef(e,t,i,r){return 1===arguments.length?_I(e):new ka(e,t,i,r??1)}function ka(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function ste(){return"#"+yI(this.r)+yI(this.g)+yI(this.b)}function ate(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function yI(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function lte(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Ad(e,t,i,r)}function ute(e){if(e instanceof Ad)return new Ad(e.h,e.s,e.l,e.opacity);if(e instanceof op||(e=q0(e)),!e)return new Ad;if(e instanceof Ad)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new Ad(a,l,u,e.opacity)}function bI(e,t,i,r){return 1===arguments.length?ute(e):new Ad(e,t,i,r??1)}function Ad(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function wI(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}function cte(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}e3(op,q0,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ite,formatHex:ite,formatHsl:function NBe(){return ute(this).formatHsl()},formatRgb:rte,toString:rte}),e3(ka,Ef,H6(op,{brighter:function(e){return e=null==e?t3:Math.pow(t3,e),new ka(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ka(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ste,formatHex:ste,formatRgb:ate,toString:ate})),e3(Ad,bI,H6(op,{brighter:function(e){return e=null==e?t3:Math.pow(t3,e),new Ad(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ad(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new ka(wI(e>=240?e-240:e+120,o,r),wI(e,o,r),wI(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const EI=e=>()=>e;function fte(e,t){return function(i){return e+i*t}}function i3(e,t){var i=t-e;return i?fte(e,i):EI(isNaN(e)?t:e)}const dte=function e(t){var i=function FBe(e){return 1==(e=+e)?i3:function(t,i){return i-t?function RBe(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):EI(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=Ef(o)).r,(s=Ef(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=i3(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function hte(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=Ef(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}var PBe=hte(function IBe(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return cte((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}),SI=(hte(function OBe(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return cte((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),CI=new RegExp(SI.source,"g");function $Be(e,t){var r,o,s,i=SI.lastIndex=CI.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=SI.exec(e))&&(o=CI.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:rp(r,o)})),i=CI.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function BBe(e){return function(t){return e(t)+""}}(u[0].x):function LBe(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function pte(e,t){var i;return("number"==typeof t?rp:t instanceof q0?dte:(i=q0(t))?(t=i,dte):$Be)(e,t)}function UBe(e){return function(){this.removeAttribute(e)}}function VBe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HBe(e,t,i){var r,s,o=i+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?s:s=t(r=a,i)}}function zBe(e,t,i){var r,s,o=i+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?s:s=t(r=a,i)}}function qBe(e,t,i){var r,o,s;return function(){var a,u,l=i(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}function jBe(e,t,i){var r,o,s;return function(){var a,u,l=i(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}function KBe(e,t){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&function YBe(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}(e,s)),i}return o._value=t,o}function XBe(e,t){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&function WBe(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}(e,s)),i}return o._value=t,o}function QBe(e,t){return function(){gI(this,e).delay=+t.apply(this,arguments)}}function JBe(e,t){return t=+t,function(){gI(this,e).delay=t}}function t$e(e,t){return function(){xd(this,e).duration=+t.apply(this,arguments)}}function n$e(e,t){return t=+t,function(){xd(this,e).duration=t}}var v$e=L6.prototype.constructor;function gte(e){return function(){this.style.removeProperty(e)}}var F$e=0;function j0(e,t,i,r){this._groups=e,this._parents=t,this._name=i,this._id=r}function mte(){return++F$e}var J1=L6.prototype;j0.prototype=function P$e(e){return L6().transition(e)}.prototype={constructor:j0,select:function g$e(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=aI(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var f,d,l=r[a],u=l.length,c=s[a]=new Array(u),h=0;h<u;++h)(f=l[h])&&(d=e.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,fb(c[h],t,i,h,c,wf(f,i)));return new j0(s,this._parents,t,i)},selectAll:function m$e(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=Nee(e));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var f,u=r[l],c=u.length,d=0;d<c;++d)if(f=u[d]){for(var p,h=e.call(f,f.__data__,d,u),m=wf(f,i),v=0,_=h.length;v<_;++v)(p=h[v])&&fb(p,t,i,v,h,m);s.push(h),a.push(f)}return new j0(s,a,t,i)},filter:function l$e(e){"function"!=typeof e&&(e=Iee(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new j0(r,this._parents,this._name,this._id)},merge:function u$e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),l=0;l<s;++l)for(var h,u=t[l],c=i[l],f=u.length,d=a[l]=new Array(f),p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<r;++l)a[l]=t[l];return new j0(a,this._parents,this._name,this._id)},selection:function _$e(){return new v$e(this._groups,this._parents)},transition:function R$e(){for(var e=this._name,t=this._id,i=mte(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=wf(u,t);fb(u,e,i,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new j0(r,this._parents,e,i)},call:J1.call,nodes:J1.nodes,node:J1.node,size:J1.size,empty:J1.empty,each:J1.each,on:function d$e(e,t){var i=this._id;return arguments.length<2?wf(this.node(),i).on.on(e):this.each(function f$e(e,t,i){var r,o,s=function c$e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t})}(t)?gI:xd;return function(){var a=s(this,e),l=a.on;l!==r&&(o=(r=l).copy()).on(t,i),a.on=o}}(i,e,t))},attr:function GBe(e,t){var i=ib(e),r="transform"===i?yBe:pte;return this.attrTween(e,"function"==typeof t?(i.local?jBe:qBe)(i,r,vI(this,"attr."+e,t)):null==t?(i.local?VBe:UBe)(i):(i.local?zBe:HBe)(i,r,t))},attrTween:function ZBe(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var r=ib(e);return this.tween(i,(r.local?KBe:XBe)(r,t))},style:function S$e(e,t,i){var r="transform"==(e+="")?_Be:pte;return null==t?this.styleTween(e,function y$e(e,t){var i,r,o;return function(){var s=Q2(this,e),a=(this.style.removeProperty(e),Q2(this,e));return s===a?null:s===i&&a===r?o:o=t(i=s,r=a)}}(e,r)).on("end.style."+e,gte(e)):"function"==typeof t?this.styleTween(e,function w$e(e,t,i){var r,o,s;return function(){var a=Q2(this,e),l=i(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=Q2(this,e)),a===u?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}(e,r,vI(this,"style."+e,t))).each(function E$e(e,t){var i,r,o,l,s="style."+t,a="end."+s;return function(){var u=xd(this,e),c=u.on,f=null==u.value[s]?l||(l=gte(t)):void 0;(c!==i||o!==f)&&(r=(i=c).copy()).on(a,o=f),u.on=r}}(this._id,e)):this.styleTween(e,function b$e(e,t,i){var r,s,o=i+"";return function(){var a=Q2(this,e);return a===o?null:a===r?s:s=t(r=a,i)}}(e,r,t),i).on("end.style."+e,null)},styleTween:function x$e(e,t,i){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function D$e(e,t,i){var r,o;function s(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function C$e(e,t,i){return function(r){this.style.setProperty(e,t.call(this,r),i)}}(e,a,i)),r}return s._value=t,s}(e,t,i??""))},text:function T$e(e){return this.tween("text","function"==typeof e?function A$e(e){return function(){var t=e(this);this.textContent=t??""}}(vI(this,"text",e)):function M$e(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function O$e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function I$e(e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&function N$e(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return r._value=e,r}(e))},remove:function p$e(){return this.on("end.remove",function h$e(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function EBe(e,t){var i=this._id;if(e+="",arguments.length<2){for(var a,r=wf(this.node(),i).tween,o=0,s=r.length;o<s;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((null==t?bBe:wBe)(i,e,t))},delay:function e$e(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?QBe:JBe)(t,e)):wf(this.node(),t).delay},duration:function i$e(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?t$e:n$e)(t,e)):wf(this.node(),t).duration},ease:function o$e(e){var t=this._id;return arguments.length?this.each(function r$e(e,t){if("function"!=typeof t)throw new Error;return function(){xd(this,e).ease=t}}(t,e)):wf(this.node(),t).ease},easeVarying:function a$e(e){if("function"!=typeof e)throw new Error;return this.each(function s$e(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;xd(this,e).ease=i}}(this._id,e))},end:function k$e(){var e,t,i=this,r=i._id,o=i.size();return new Promise(function(s,a){var l={value:a},u={value:function(){0==--o&&s()}};i.each(function(){var c=xd(this,r),f=c.on;f!==e&&((t=(e=f).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),0===o&&s()})},[Symbol.iterator]:J1[Symbol.iterator]};var B$e={time:null,delay:0,duration:250,ease:function L$e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function $$e(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}L6.prototype.interrupt=function gBe(e){return this.each(function(){!function pBe(e,t){var r,o,a,i=e.__transition,s=!0;if(i){for(a in t=null==t?null:t+"",i)(r=i[a]).name===t?(o=r.state>hI&&r.state<pI,r.state=cb,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete i[a]):s=!1;s&&delete e.__transition}}(this,e)})},L6.prototype.transition=function U$e(e){var t,i;e instanceof j0?(t=e._id,e=e._name):(t=mte(),(i=B$e).time=cI(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)(u=a[c])&&fb(u,e,t,c,a,i||$$e(u,t));return new j0(r,this._parents,e,t)};Math;function q6(e){return{type:e}}["w","e"].map(q6),["n","s"].map(q6),["n","w","e","s","nw","ne","sw","se"].map(q6);var Ete={},TI={},NI=34,j6=10,II=13;function Ste(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+'] || ""'}).join(",")+"}")}function Cte(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var o in r)o in t||i.push(t[o]=o)}),i}function uu(e,t){var i=e+"",r=i.length;return r<t?new Array(t-r+1).join(0)+i:i}function Dte(e){var t=new RegExp('["'+e+"\n\r]"),i=e.charCodeAt(0);function o(d,h){var y,p=[],m=d.length,v=0,_=0,w=m<=0,S=!1;function M(){if(w)return TI;if(S)return S=!1,Ete;var F,H,N=v;if(d.charCodeAt(N)===NI){for(;v++<m&&d.charCodeAt(v)!==NI||d.charCodeAt(++v)===NI;);return(F=v)>=m?w=!0:(H=d.charCodeAt(v++))===j6?S=!0:H===II&&(S=!0,d.charCodeAt(v)===j6&&++v),d.slice(N+1,F-1).replace(/""/g,'"')}for(;v<m;){if((H=d.charCodeAt(F=v++))===j6)S=!0;else if(H===II)S=!0,d.charCodeAt(v)===j6&&++v;else if(H!==i)continue;return d.slice(N,F)}return w=!0,d.slice(N,m)}for(d.charCodeAt(m-1)===j6&&--m,d.charCodeAt(m-1)===II&&--m;(y=M())!==TI;){for(var A=[];y!==Ete&&y!==TI;)A.push(y),y=M();h&&null==(A=h(A,_++))||p.push(A)}return p}function s(d,h){return d.map(function(p){return h.map(function(m){return f(p[m])}).join(e)})}function c(d){return d.map(f).join(e)}function f(d){return null==d?"":d instanceof Date?function Z$e(e){var t=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function X$e(e){return e<0?"-"+uu(-e,6):e>9999?"+"+uu(e,6):uu(e,4)}(e.getUTCFullYear())+"-"+uu(e.getUTCMonth()+1,2)+"-"+uu(e.getUTCDate(),2)+(o?"T"+uu(t,2)+":"+uu(i,2)+":"+uu(r,2)+"."+uu(o,3)+"Z":r?"T"+uu(t,2)+":"+uu(i,2)+":"+uu(r,2)+"Z":i||t?"T"+uu(t,2)+":"+uu(i,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var p,m,v=o(d,function(_,y){if(p)return p(_,y-1);m=_,p=h?function K$e(e,t){var i=Ste(e);return function(r,o){return t(i(r),o,e)}}(_,h):Ste(_)});return v.columns=m||[],v},parseRows:o,format:function a(d,h){return null==h&&(h=Cte(d)),[h.map(f).join(e)].concat(s(d,h)).join("\n")},formatBody:function l(d,h){return null==h&&(h=Cte(d)),s(d,h).join("\n")},formatRows:function u(d){return d.map(c).join("\n")},formatRow:c,formatValue:f}}var Q$e=Dte(",").parse,J$e=Dte("\t").parse;function eUe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function xte(e){return function(t,i,r){return 2===arguments.length&&"function"==typeof i&&(r=i,i=void 0),function tUe(e,t){return fetch(e,t).then(eUe)}(t,i).then(function(o){return e(o,r)})}}var nUe=xte(Q$e);function iUe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function rUe(e,t){return fetch(e,t).then(iUe)}function vr(e){for(var t=e.length/6|0,i=new Array(t),r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}xte(J$e);const oUe=vr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),sUe=vr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),aUe=vr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),lUe=vr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),uUe=vr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),cUe=vr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),fUe=vr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),dUe=vr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),hUe=vr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),pUe=vr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Io=e=>PBe(e[e.length-1]);var Mte=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(vr);Io(Mte);var Ate=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(vr);Io(Ate);var Tte=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(vr);Io(Tte);var Nte=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(vr);Io(Nte);var Ite=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(vr);Io(Ite);var Ote=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(vr);Io(Ote);var Rte=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(vr);Io(Rte);var kte=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vr);Io(kte);var Fte=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(vr);Io(Fte);var Pte=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(vr);Io(Pte);var Lte=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(vr);Io(Lte);var Bte=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(vr);Io(Bte);var $te=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(vr);Io($te);var Ute=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(vr);Io(Ute);var Vte=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(vr);Io(Vte);var Hte=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(vr);Io(Hte);var zte=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(vr);Io(zte);var qte=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(vr);Io(qte);var jte=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(vr);Io(jte);var Gte=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(vr);Io(Gte);var Wte=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(vr);Io(Wte);var Yte=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(vr);Io(Yte);var Kte=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(vr);Io(Kte);var Xte=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(vr);Io(Xte);var Zte=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(vr);Io(Zte);var Qte=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(vr);Io(Qte);const Jte=Math.PI/180,ene=180/Math.PI;var OI=1.78277,RI=-.29227,mb=-.90649,G6=1.97294,nne=G6*mb,ine=G6*OI,rne=OI*RI- -.14861*mb;function Td(e,t,i,r){return 1===arguments.length?function mUe(e){if(e instanceof ng)return new ng(e.h,e.s,e.l,e.opacity);e instanceof ka||(e=_I(e));var i=e.g/255,r=e.b/255,o=(rne*r+nne*(e.r/255)-ine*i)/(rne+nne-ine),s=r-o,a=(G6*(i-o)-RI*s)/mb,l=Math.sqrt(a*a+s*s)/(G6*o*(1-o)),u=l?Math.atan2(a,s)*ene-120:NaN;return new ng(u<0?u+360:u,l,o,e.opacity)}(e):new ng(e,t,i,r??1)}function ng(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function one(e){return function t(i){function r(o,s){var a=e((o=Td(o)).h,(s=Td(s)).h),l=i3(o.s,s.s),u=i3(o.l,s.l),c=i3(o.opacity,s.opacity);return function(f){return o.h=a(f),o.s=l(f),o.l=u(Math.pow(f,i)),o.opacity=c(f),o+""}}return i=+i,r.gamma=t,r}(1)}e3(ng,Td,H6(op,{brighter:function(e){return e=null==e?t3:Math.pow(t3,e),new ng(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ng(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Jte,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new ka(255*(t+i*(-.14861*r+OI*o)),255*(t+i*(RI*r+mb*o)),255*(t+i*(G6*r)),this.opacity)}})),one(function kBe(e,t){var i=t-e;return i?fte(e,i>180||i<-180?i-360*Math.round(i/360):i):EI(isNaN(e)?t:e)});var sne=one(i3),vb=(sne(Td(-100,.75,.35),Td(80,1.5,.8)),sne(Td(260,.75,.35),Td(80,1.5,.8)),Td()),_b=Ef(),_Ue=Math.PI/3,yUe=2*Math.PI/3;function yb(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}const EUe=yb(vr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var SUe=yb(vr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),CUe=yb(vr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));function s3(e,t,i){this.k=e,this.x=t,this.y=i}function RUe(e){return e}function lne(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(i){return une(e,i)})}:une(e,t)}function une(e,t){var i=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,s=cne(e,t);return null==i&&null==r?{type:"Feature",properties:o,geometry:s}:null==r?{type:"Feature",id:i,properties:o,geometry:s}:{type:"Feature",id:i,bbox:r,properties:o,geometry:s}}function cne(e,t){var i=function kUe(e){if(null==e)return RUe;var t,i,r=e.scale[0],o=e.scale[1],s=e.translate[0],a=e.translate[1];return function(l,u){u||(t=i=0);var c=2,f=l.length,d=new Array(f);for(d[0]=(t+=l[0])*r+s,d[1]=(i+=l[1])*o+a;c<f;)d[c]=l[c],++c;return d}}(e.transform),r=e.arcs;function o(f,d){d.length&&d.pop();for(var h=r[f<0?~f:f],p=0,m=h.length;p<m;++p)d.push(i(h[p],p));f<0&&function OUe(e,t){for(var i,r=e.length,o=r-t;o<--r;)i=e[o],e[o++]=e[r],e[r]=i}(d,m)}function s(f){return i(f)}function a(f){for(var d=[],h=0,p=f.length;h<p;++h)o(f[h],d);return d.length<2&&d.push(d[0]),d}function l(f){for(var d=a(f);d.length<4;)d.push(d[0]);return d}function u(f){return f.map(l)}return function c(f){var h,d=f.type;switch(d){case"GeometryCollection":return{type:d,geometries:f.geometries.map(c)};case"Point":h=s(f.coordinates);break;case"MultiPoint":h=f.coordinates.map(s);break;case"LineString":h=a(f.arcs);break;case"MultiLineString":h=f.arcs.map(a);break;case"Polygon":h=u(f.arcs);break;case"MultiPolygon":h=f.arcs.map(u);break;default:return null}return{type:d,coordinates:h}}(t)}function Ll(e){if(0===e.length)throw new Error("mean requires at least one data point");return function FUe(e){if(0===e.length)return 0;var r,t=e[0],i=0;if("number"!=typeof t)return Number.NaN;for(var o=1;o<e.length;o++){if("number"!=typeof e[o])return Number.NaN;r=t+e[o],Math.abs(t)>=Math.abs(e[o])?i+=t-r+e[o]:i+=e[o]-r+t,t=r}return t+i}(e)/e.length}function dne(e){if(1===e.length)return 0;var t=function PUe(e){if(0===e.length)throw new Error("variance requires at least one data point");return function fne(e,t){var o,s,i=Ll(e),r=0;if(2===t)for(s=0;s<e.length;s++)r+=(o=e[s]-i)*o;else for(s=0;s<e.length;s++)r+=Math.pow(e[s]-i,t);return r}(e,2)/e.length}(e);return Math.sqrt(t)}function PI(e,t){var i=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:i%1!=0?e[Math.ceil(i)-1]:e.length%2==0?(e[i-1]+e[i])/2:e[i]}function bb(e,t,i,r){for(i=i||0,r=r||e.length-1;r>i;){if(r-i>600){var o=r-i+1,s=t-i+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o);s-o/2<0&&(u*=-1),bb(e,t,Math.max(i,Math.floor(t-s*l/o+u)),Math.min(r,Math.floor(t+(o-s)*l/o+u)))}var d=e[t],h=i,p=r;for(W6(e,i,t),e[r]>d&&W6(e,i,r);h<p;){for(W6(e,h,p),h++,p--;e[h]<d;)h++;for(;e[p]>d;)p--}e[i]===d?W6(e,i,p):W6(e,++p,r),p<=t&&(i=p+1),t<=p&&(r=p-1)}}function W6(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function W0(e,t){var i=e.slice();if(Array.isArray(t)){!function VUe(e,t){for(var i=[0],r=0;r<t.length;r++)i.push(pne(e.length,t[r]));i.push(e.length-1),i.sort(HUe);for(var o=[0,i.length-1];o.length;){var s=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(s-a<=1)){var l=Math.floor((a+s)/2);hne(e,i[l],Math.floor(i[a]),Math.ceil(i[s])),o.push(a,l,l,s)}}}(i,t);for(var r=[],o=0;o<t.length;o++)r[o]=PI(i,t[o]);return r}return hne(i,pne(i.length,t),0,i.length-1),PI(i,t)}function hne(e,t,i,r){t%1==0?bb(e,t,i,r):(bb(e,t=Math.floor(t),i,r),bb(e,t+1,t+1,r))}function HUe(e,t){return e-t}function pne(e,t){var i=e*t;return 1===t?e-1:0===t?0:i%1!=0?Math.ceil(i)-1:e%2==0?i-.5:i}function wb(e,t){for(var i=[],r=0;r<e;r++){for(var o=[],s=0;s<t;s++)o.push(0);i.push(o)}return i}function BI(e,t,i,r){var o;if(e>0){var s=(i[t]-i[e-1])/(t-e+1);o=r[t]-r[e-1]-(t-e+1)*s*s}else o=r[t]-i[t]*i[t]/(t+1);return o<0?0:o}function $I(e,t,i,r,o,s,a){if(!(e>t)){var l=Math.floor((e+t)/2);r[i][l]=r[i-1][l-1],o[i][l]=l;var u=i;e>i&&(u=Math.max(u,o[i][e-1]||0)),u=Math.max(u,o[i-1][l]||0);var c=l-1;t<r[0].length-1&&(c=Math.min(c,o[i][t+1]||0));for(var f,h,p,m=c;m>=u&&!((f=BI(m,l,s,a))+r[i-1][u-1]>=r[i][l]);--m)(h=BI(u,l,s,a)+r[i-1][u-1])<r[i][l]&&(r[i][l]=h,o[i][l]=u),u++,(p=f+r[i-1][m-1])<r[i][l]&&(r[i][l]=p,o[i][l]=m);$I(e,l-1,i,r,o,s,a),$I(l+1,t,i,r,o,s,a)}}yb(vr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),s3.prototype={constructor:s3,scale:function(e){return 1===e?this:new s3(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new s3(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new s3(1,0,0);var vne=function(){this.totalCount=0,this.data={}};vne.prototype.train=function(t,i){for(var r in this.data[i]||(this.data[i]={}),t){var o=t[r];void 0===this.data[i][r]&&(this.data[i][r]={}),void 0===this.data[i][r][o]&&(this.data[i][r][o]=0),this.data[i][r][o]++}this.totalCount++},vne.prototype.score=function(t){var r,i={};for(var o in t){var s=t[o];for(r in this.data)i[r]={},i[r][o+"_"+s]=this.data[r][o]?(this.data[r][o][s]||0)/this.totalCount:0}var a={};for(r in i)for(var l in a[r]=0,i[r])a[r]+=i[r][l];return a};var _ne=function(){this.weights=[],this.bias=0};_ne.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var i=0,r=0;r<this.weights.length;r++)i+=this.weights[r]*t[r];return(i+=this.bias)>0?1:0},_ne.prototype.train=function(t,i){if(0!==i&&1!==i)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var r=this.predict(t);if("number"==typeof r&&r!==i){for(var o=i-r,s=0;s<this.weights.length;s++)this.weights[s]+=o*t[s];this.bias+=o}return this},Math.log(Math.sqrt(2*Math.PI)),Math.sqrt(2*Math.PI);var cVe=Math.sqrt(2*Math.PI);function fVe(e){for(var t=e,i=e,r=1;r<15;r++)t+=i*=e*e/(2*r+1);return Math.round(1e4*(.5+t/cVe*Math.exp(-e*e/2)))/1e4}for(var Sb=[],zI=0;zI<=3.09;zI+=.01)Sb.push(fVe(zI));var Ene=Pi(270);Pi(512),Pi(374),Pi(312);const Sne="equalInterval",Cne="percentile",Dne="definedInterval",Ane="standardDeviation",Tne="maximumBreaks",Nne="prettyBreaks",One="headTailBreaks",Rne="fisherJenks",kne="exponentialBinSizes",Fne="geometricInterval",jI="unclassed",Pne="manualInterval";class wVe{constructor(t=[],i=5,r=10,o=2){this.visModel={},this.rawData=t,this.binCount=i,this.binExtent=r,this.precision=o,this.data=this.rawData.filter(s=>this.isValid(s)),this.minSortedData=JSON.parse(JSON.stringify(this.data)).sort((s,a)=>s-a),this.maxSortedData=JSON.parse(JSON.stringify(this.data)).sort((s,a)=>a-s),this.median=function LI(e){return+W0(e,.5)}(this.data),this.mean=Ll(this.data),this.sd=dne(this.data),this.iqr=function gne(e){var t=W0(e,.75),i=W0(e,.25);if("number"==typeof t&&"number"==typeof i)return t-i}(this.data),this.lq1=W0(this.data,.01),this.lq10=W0(this.data,.1),this.lq25=W0(this.data,.25),this.uq75=W0(this.data,.75),this.uq90=W0(this.data,.9),this.uq99=W0(this.data,.99),[this.min,this.max]=function $Ue(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],i=e[0],r=1;r<e.length;r++)e[r]>i&&(i=e[r]),e[r]<t&&(t=e[r]);return[t,i]}(this.data),this.nonZeroMin=Math.min.apply(null,this.data.filter(Boolean)),this.median=parseFloat(this.median.toFixed(2)),this.mean=parseFloat(this.mean.toFixed(2)),this.sd=parseFloat(this.sd.toFixed(2)),this.iqr=parseFloat(this.iqr.toFixed(2)),this.lq1=parseFloat(this.lq1.toFixed(2)),this.lq10=parseFloat(this.lq10.toFixed(2)),this.lq25=parseFloat(this.lq25.toFixed(2)),this.uq75=parseFloat(this.uq75.toFixed(2)),this.uq90=parseFloat(this.uq90.toFixed(2)),this.uq99=parseFloat(this.uq99.toFixed(2)),[this.min,this.max]=[this.min,this.max].map(s=>parseFloat(s.toFixed(2))),this.nonZeroMin=parseFloat(this.nonZeroMin.toFixed(2))}getMostFrequentElement(t){const i={};return t.forEach(r=>i[r]?i[r]+=1:i[r]=1),parseInt(Object.keys(i).sort((r,o)=>i[o]-i[r])[0])}getFrequencyOfMostFrequentElement(t){for(var i=new Map,r=t.length,o=0;o<r;o++)i.has(t[o])?i.set(t[o],i.get(t[o])+1):i.set(t[o],1);var s=[];i.forEach((l,u)=>{s.push(u)}),s.sort((l,u)=>l-u);let a=-1/0;return s.forEach(l=>{let u=i.get(l);u>a&&(a=u)}),a}maximumBreaks(){let t=this,i=[],r=[];for(var o=0;o<t.minSortedData.length-1;o++)r.push(t.minSortedData[o+1]-t.minSortedData[o]);var s=r.length,a=new Array(s);for(o=0;o<s;++o)a[o]=o;a.sort(function(c,f){return r[c]<r[f]?1:r[c]>r[f]?-1:0});for(let c=0;c<t.binCount-1;c++)i.push(t.minSortedData[a[c]+1]);i=i.sort(function(c,f){return c-f});let l=t.computeBinSizes(i),u=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(i,t.precision),binSizes:l,dataBinAssignments:u}}headTailBreaks(){let t=this,i=[];!function r(a){let l=a.reduce(function(c,f){return c+f})/a.length,u=a.filter(function(c){return c>l});for(i.push(l);u.length>1&&u.length/a.length<.4;)return r(u)}(t.maxSortedData);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}ckMeans(){let t=this,i=[];i=function XUe(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var i=function kI(e){return e.slice().sort(function(t,i){return t-i})}(e),r=function YUe(e){for(var i,t=0,r=0;r<e.length;r++)(0===r||e[r]!==i)&&(i=e[r],t++);return t}(i);if(1===r)return[i];var o=wb(t,i.length),s=wb(t,i.length);!function KUe(e,t,i){for(var r=t[0].length,o=e[Math.floor(r/2)],s=[],a=[],l=0,u=void 0;l<r;++l)u=e[l]-o,0===l?(s.push(u),a.push(u*u)):(s.push(s[l-1]+u),a.push(a[l-1]+u*u)),t[0][l]=BI(0,l,s,a),i[0][l]=0;for(var f=1;f<t.length;++f)$I(f<t.length-1?f:r-1,r-1,f,t,i,s,a)}(i,o,s);for(var a=[],l=s[0].length-1,u=s.length-1;u>=0;u--){var c=s[u][l];a[u]=i.slice(c,l+1),u>0&&(l=c-1)}return a}(t.data,t.binCount).map(function(a){return a[a.length-1]}),i=i.slice(0,-1);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}equalInterval(){let t=this,i=[],r=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++)i.push(t.min+r*(a+1));let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}percentile(){let t=this,i=[t.lq1+Number.EPSILON,t.lq10,t.median,t.uq90,t.uq99],r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:r,dataBinAssignments:o}}quantile(){let t=this,i=[];const r=Math.floor(t.minSortedData.length/t.binCount);for(let a=1;a<t.binCount;a++)i.push(t.minSortedData[r*a]);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}standardDeviation(t=!1,i=1){let r=this,o=[],s=r.binCount;if(t){let u=r.mean-r.sd*i*(Math.ceil(s/2)-1),c=r.sd*i;for(let f=0;f<s-1;f++)o.push(u+c*f)}else{let u=r.mean-r.sd*i*(Math.ceil(s/2)-1)-r.sd*i/2,c=r.sd*i;for(let f=0;f<s-1;f++)o.push(u+c*f)}let a=r.computeBinSizes(o),l=r.computeDataBinAssignments(o);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:o.length+1,binBreaks:r.roundToPrecision(o,r.precision),binSizes:a,dataBinAssignments:l}}manualInterval(t=[1,2,3]){let i=this,r=i.computeBinSizes(t),o=i.computeDataBinAssignments(t);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:t.length+1,binBreaks:i.roundToPrecision(t,i.precision),binSizes:r,dataBinAssignments:o}}prettyBreaks(){let t=this,i=[];if(1==t.binCount)i=[];else if(2==t.binCount)i=[parseFloat(t.mean.toPrecision(2))];else{let s=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++){let l=parseFloat((t.min+s*(a+1)).toPrecision(2));i.push(l)}}i=[...new Set(i)];let r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,0),binSizes:r,dataBinAssignments:o}}boxPlot(){let t=this,r=[t.lq25-1.5*t.iqr,t.lq25,t.median,t.uq75,t.uq75+1.5*t.iqr],o=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:s}}definedInterval(t=null){let i=this,r=[],o=1;for(null==t&&(t=this.binExtent);i.min+t*o<i.max;)r.push(i.min+t*o),o++;let s=i.computeBinSizes(r),a=i.computeDataBinAssignments(r);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:r.length+1,binBreaks:i.roundToPrecision(r,i.precision),binSizes:s,dataBinAssignments:a}}geometricInterval(){let t=this,i=[],r=0==t.min?t.nonZeroMin:t.min,o=Math.pow(t.max/r,1/t.binCount);for(let l=0;l<t.binCount-1;l++){let u=r*Math.pow(o,l+1);i.push(u)}let s=t.computeBinSizes(i),a=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:s,dataBinAssignments:a}}exponentialBinSizes(){let t=this,i=[];const o=t.minSortedData.length,s=1..toString()+" * (1 - x^"+t.binCount.toString()+") = "+o.toString()+" * (1 - x)",a=Ene.solveEquations(s,"x").map(f=>Ene(f).evaluate().text());let l=1;for(let f=0;f<a.length;f++)try{let d=parseFloat(a[f]);if(1!=d){l=d;break}}catch{continue}if(1==l)return[];{let f=0;for(let d=0;d<t.binCount-1;d++){f+=1*Math.pow(l,d);const p=Math.floor(f);i.push(t.minSortedData[p-1])}}let u=t.computeBinSizes(i),c=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:u,dataBinAssignments:c}}fisherJenks(){let t=this;if(t.binCount>t.data.length)return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:{valids:null,invalids:null},dataBinAssignments:{}};t.data=t.data.slice().sort(function(f,d){return f-d});var o=function i(f,d){var m,v,h=[],p=[],_=0;for(m=0;m<f.length+1;m++){var y=[],w=[];for(v=0;v<d+1;v++)y.push(0),w.push(0);h.push(y),p.push(w)}for(m=1;m<d+1;m++)for(h[1][m]=1,p[1][m]=0,v=2;v<f.length+1;v++)p[v][m]=1/0;for(var S=2;S<f.length+1;S++){for(var M=0,A=0,F=0,N=0,H=1;H<S+1;H++){var K=S-H+1,oe=f[K-1];if(_=(A+=oe*oe)-(M+=oe)*M/++F,0!=(N=K-1))for(v=2;v<d+1;v++)p[S][v]>=_+p[N][v-1]&&(h[S][v]=K,p[S][v]=_+p[N][v-1])}h[S][1]=1,p[S][1]=_}return{lower_bin_limits:h,variance_combinations:p}}(t.data,t.binCount);let l=function r(f,d,h){var p=f.length-1,m=[],v=h;for(m[h]=f[f.length-1],m[0]=f[0];v>1;)m[v-1]=f[d[p][v]-2],p=d[p][v]-1,v--;return m}(t.data,o.lower_bin_limits,t.binCount).slice(1).slice(0,-1),u=t.computeBinSizes(l),c=t.computeDataBinAssignments(l);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:l.length+1,binBreaks:t.roundToPrecision(l,t.precision),binSizes:u,dataBinAssignments:c}}unique(){let t=this;const i=Array.from(new Set(t.minSortedData)),r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:r,dataBinAssignments:o}}unclassed(){let t=this;const i=[t.min,t.max],r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:r,dataBinAssignments:o}}resiliency(t=[],i={}){let r=this,o=[];t.length>0&&t.forEach(function(m){let v={};switch(m){case Sne:v=r.equalInterval(),i[Sne]=JSON.parse(JSON.stringify(v));break;case Cne:v=r.percentile(),i[Cne]=JSON.parse(JSON.stringify(v));break;case"quantile":v=r.quantile(),i.quantile=JSON.parse(JSON.stringify(v));break;case Ane:v=r.standardDeviation(),i[Ane]=JSON.parse(JSON.stringify(v));break;case Pne:v=r.manualInterval(),i[Pne]=JSON.parse(JSON.stringify(v));break;case Nne:v=r.prettyBreaks(),i[Nne]=JSON.parse(JSON.stringify(v));break;case Tne:v=r.maximumBreaks(),i[Tne]=JSON.parse(JSON.stringify(v));break;case One:v=r.headTailBreaks(),i[One]=JSON.parse(JSON.stringify(v));break;case"ckMeans":v=r.ckMeans(),i.ckMeans=JSON.parse(JSON.stringify(v));break;case"boxPlot":v=r.boxPlot(),i.boxPlot=JSON.parse(JSON.stringify(v));break;case Dne:v=r.definedInterval(),i[Dne]=JSON.parse(JSON.stringify(v));break;case kne:v=r.exponentialBinSizes(),i[kne]=JSON.parse(JSON.stringify(v));break;case Fne:v=r.geometricInterval(),i[Fne]=JSON.parse(JSON.stringify(v));break;case Rne:v=r.fisherJenks(),i[Rne]=JSON.parse(JSON.stringify(v))}});let s={},a={};r.rawData.forEach(function(m,v){let _=v.toString();if(r.isValid(m)){let y=Array.from(Object.values(i)).map(w=>w.dataBinAssignments[_]);_ in s||(s[_]=0),s[_]=r.getFrequencyOfMostFrequentElement(y),_ in a||(a[_]=0),a[_]=r.getMostFrequentElement(y)}else a[_]=null,s[_]=null});let l=[];Object.keys(s).forEach(function(m,v){let _={};r.isValid(r.rawData[v])&&(_.primaryKey=m,_.value=r.rawData[v],_.binCandidates=[],Object.keys(i).forEach(function(y){_.binCandidates.push(JSON.parse(JSON.stringify(i[y].dataBinAssignments[m])))}),l.push(_))});let u={},c={};l.forEach(function(m){u[m.primaryKey]=[],c[m.primaryKey]=[];let v=[...m.binCandidates];for(;v.length>0;){const _=r.getMostFrequentElement(v),y=r.getFrequencyOfMostFrequentElement(v);v=v.filter(function(w){return w!==_}),u[m.primaryKey].push(_),c[m.primaryKey].push(y)}});let f={},d=[];l.forEach(function(m){let v=u[m.primaryKey][0];v in f||(f[v]=[],d.push(v)),f[v].push(m.value)}),d=d.sort((m,v)=>m-v),d.forEach(function(m,v){f[m]=f[m].sort((_,y)=>_-y),v>0&&o.push(f[m][0])}),o=o.map(m=>parseFloat(m.toFixed(2))),o=o.sort((m,v)=>m-v);let h=r.computeBinSizes(o),p=r.computeDataBinAssignments(o);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:o.length+1,binBreaks:r.roundToPrecision(o,r.precision),binSizes:h,dataBinAssignments:p,binObjs:i,mostFrequentBins:a,frequencyOfMostFrequentBins:s}}computeBinSizes(t){let i=this,r={},o=0;return i.rawData.forEach(function(s,a){if(i.isValid(s)){let l=1;l in r||(r[l]=0);for(let u=l;u<t.length+1;u++)t[u-1]<=s&&(l=u+1,l in r||(r[l]=0));r[l]+=1}else o++}),{valids:r,invalids:o}}computeDataBinAssignments(t){let i=this,r={};return i.rawData.forEach(function(o,s){let a=s.toString();if(i.isValid(o)){let l=1;for(let u=l;u<t.length+1;u++)t[u-1]<o&&(l=u+1);r[a]=l}else r[a]=null}),r}isValid(t){return null!=t&&null!=t&&t.toString().length>0&&null==t.toString().match(/[^0-9\.\-]/g)&&!Number.isNaN(Number(t))}roundToPrecision(t,i=2){return t.map(r=>parseFloat(r.toFixed(i)))}visualize(t,i,r="viridis"){let o=this,s=o.min,a=o.max,l=i==jI?t.dataRange:t.binBreaks,[u,c]=[Math.min(s,l[0]),Math.max(a,l[l.length-1])];i!=jI&&([u,c]=[parseFloat((.9*u).toFixed(o.precision)),parseFloat((1.1*c).toFixed(o.precision))]);let f=[],d=[],p=o.computeBinSizes(l).valids;for(var m=0;m<=l.length;m++){let y={},w=(m+1).toString();0==m?(y.binMin=u,y.binMax=l[m],isNaN(y.binMin)||d.push(y.binMin)):m<=l.length-1?(y.binMin=l[m-1],y.binMax=l[m]):(y.binMin=l[m-1],y.binMax=c),y.binningMethod=i,y.binID=w.toString(),y.binSize=p[w],isNaN(y.binMax)||d.push(y.binMax),f.push(y)}let _={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:700,height:50,background:null,config:{tick:{bandSize:20},view:{stroke:null},axis:{domain:!1,grid:!1,ticks:!1}},layer:[{title:null,data:{values:f},mark:{type:"bar",tooltip:{content:"data"}},transform:[{filter:"datum.binSize != 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`,labelFontSize:16},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labels:!1}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`,labelFontSize:16}},size:{field:"binSize",legend:null,scale:{type:"linear",range:[5,25]}},color:{field:"binID",type:"quantitative",scale:{domain:f.map(y=>y.binID),scheme:r,type:"threshold"},legend:null}}},{title:null,data:{values:f},mark:{type:"rule",tooltip:{content:"data"}},transform:[{filter:"datum.binSize == 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labelFontSize:16,labelLimit:250,labelPadding:10}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`}},size:{value:2},strokeDash:{value:[8,8]}}},{title:null,data:{values:d},mark:{type:"tick",tooltip:{content:"data"},fill:"black",orient:"vertical",thickness:3,height:25},encoding:{x:{field:"data",type:"quantitative",scale:{domain:[u,c]}}}}]};return i==jI&&(delete _.layer[0].encoding.color,_.layer[0].mark.color={x1:0,y1:0,x2:1,y2:0,gradient:"linear",stops:[{offset:0,color:"#440154"},{offset:.1,color:"#48186a"},{offset:.2,color:"#472d7b"},{offset:.3,color:"#424086"},{offset:.4,color:"#3b528b"},{offset:.5,color:"#33638d"},{offset:.6,color:"#2c728e"},{offset:.7,color:"#26828e"},{offset:.8,color:"#21918c"},{offset:.9,color:"#21a784"},{offset:1,color:"#29b872"}]}),_}map(t,i,r,o,s,a="id",l="id",u="viridis"){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:500,height:300,data:{values:r,format:{type:"topojson",feature:s}},transform:[{lookup:a,from:{data:{values:i},key:l,fields:[o]}}],projection:{type:"albersUsa"},mark:{type:"geoshape",tooltip:{content:"data"},invalid:null},encoding:{color:{field:o,type:"quantitative",condition:{test:"!isValid(datum['"+o+"'])",value:null},scale:{domain:t.binBreaks,type:"threshold",scheme:u}}}}}}function Lne(e,t,i,r,o,s,a){try{var l=e[s](a),u=l.value}catch(c){return void i(c)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ks(e){return function(){var t=this,i=arguments;return new Promise(function(r,o){var s=e.apply(t,i);function a(u){Lne(s,r,o,a,l,"next",u)}function l(u){Lne(s,r,o,a,l,"throw",u)}a(void 0)})}}const EVe=/("(?:[^\\"]|\\.)*")|[:,]/g;function GI(e,t={}){const i=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===i?1/0:void 0===t.maxLength?80:t.maxLength;let{replacer:o}=t;return function s(a,l,u){a&&"function"==typeof a.toJSON&&(a=a.toJSON());const c=JSON.stringify(a,o);if(void 0===c)return c;const f=r-l.length-u;if(c.length<=f){const d=c.replace(EVe,(h,p)=>p||`${h} `);if(d.length<=f)return d}if(null!=o&&(a=JSON.parse(c),o=void 0),"object"==typeof a&&null!==a){const d=l+i,h=[];let m,v,p=0;if(Array.isArray(a)){m="[",v="]";const{length:_}=a;for(;p<_;p++)h.push(s(a[p],d,p===_-1?0:1)||"null")}else{m="{",v="}";const _=Object.keys(a),{length:y}=_;for(;p<y;p++){const w=_[p],S=`${JSON.stringify(w)}: `,M=s(a[w],d,S.length+(p===y-1?0:1));void 0!==M&&h.push(S+M)}}if(h.length>0)return[m,i+h.join(`,\n${d}`),v].join(`\n${l}`)}return c}(e,"",0)}function cu(e,t,i){return e.fields=t||[],e.fname=i,e}function ys(e){return null==e?null:e.fname}function ol(e){return null==e?null:e.fields}function Bne(e){return 1===e.length?SVe(e[0]):CVe(e)}const SVe=e=>function(t){return t[e]},CVe=e=>{const t=e.length;return function(i){for(let r=0;r<t;++r)i=i[e[r]];return i}};function Rt(e){throw Error(e)}function Nd(e){const t=[],i=e.length;let a,l,u,r=null,o=0,s="";function c(){t.push(s+e.substring(a,l)),s="",a=l+1}for(e+="",a=l=0;l<i;++l)if(u=e[l],"\\"===u)s+=e.substring(a,l++),a=l;else if(u===r)c(),r=null,o=-1;else{if(r)continue;a===o&&'"'===u||a===o&&"'"===u?(a=l+1,r=u):"."!==u||o?"["===u?(l>a&&c(),o=a=l+1):"]"===u&&(o||Rt("Access path missing open bracket: "+e),o>0&&c(),o=0,a=l+1):l>a?c():a=l+1}return o&&Rt("Access path missing closing bracket: "+e),r&&Rt("Access path missing closing quote: "+e),l>a&&(l++,c()),t}function Rc(e,t,i){const r=Nd(e);return e=1===r.length?r[0]:e,cu((i&&i.get||Bne)(r),[e],t||e)}const K6=Rc("id"),sl=cu(e=>e,[],"identity"),sp=cu(()=>0,[],"zero"),a3=cu(()=>1,[],"one"),kc=cu(()=>!0,[],"true"),ap=cu(()=>!1,[],"false");function DVe(e,t,i){const r=[t].concat([].slice.call(i));console[e].apply(console,r)}const $ne=0,WI=1,YI=2,Une=3,Vne=4;function KI(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DVe,r=e||$ne;return{level(o){return arguments.length?(r=+o,this):r},error(){return r>=WI&&i(t||"error","ERROR",arguments),this},warn(){return r>=YI&&i(t||"warn","WARN",arguments),this},info(){return r>=Une&&i(t||"log","INFO",arguments),this},debug(){return r>=Vne&&i(t||"log","DEBUG",arguments),this}}}var Pt=Array.isArray;function Ln(e){return e===Object(e)}const Hne=e=>"__proto__"!==e;function l3(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((r,o)=>{for(const s in o)"signals"===s?r.signals=xVe(r.signals,o.signals):u3(r,s,o[s],"legend"===s?{layout:1}:"style"===s||null);return r},{})}function u3(e,t,i,r){if(!Hne(t))return;let o,s;if(Ln(i)&&!Pt(i))for(o in s=Ln(e[t])?e[t]:e[t]={},i)r&&(!0===r||r[o])?u3(s,o,i[o]):Hne(o)&&(s[o]=i[o]);else e[t]=i}function xVe(e,t){if(null==e)return t;const i={},r=[];function o(s){i[s.name]||(i[s.name]=1,r.push(s))}return t.forEach(o),e.forEach(o),r}function Rr(e){return e[e.length-1]}function al(e){return null==e||""===e?null:+e}const zne=e=>t=>e*Math.exp(t),qne=e=>t=>Math.log(e*t),jne=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),Gne=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Cb=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Db(e,t,i,r){const o=i(e[0]),s=i(Rr(e)),a=(s-o)*t;return[r(o-a),r(s-a)]}function Wne(e,t){return Db(e,t,al,sl)}function Yne(e,t){var i=Math.sign(e[0]);return Db(e,t,qne(i),zne(i))}function Kne(e,t,i){return Db(e,t,Cb(i),Cb(1/i))}function Xne(e,t,i){return Db(e,t,jne(i),Gne(i))}function xb(e,t,i,r,o){const s=r(e[0]),a=r(Rr(e)),l=null!=t?r(t):(s+a)/2;return[o(l+(s-l)*i),o(l+(a-l)*i)]}function XI(e,t,i){return xb(e,t,i,al,sl)}function ZI(e,t,i){const r=Math.sign(e[0]);return xb(e,t,i,qne(r),zne(r))}function Mb(e,t,i,r){return xb(e,t,i,Cb(r),Cb(1/r))}function QI(e,t,i,r){return xb(e,t,i,jne(r),Gne(r))}function Zne(e){return 1+~~(new Date(e).getMonth()/3)}function Qne(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Un(e){return null!=e?Pt(e)?e:[e]:[]}function Jne(e,t,i){let s,r=e[0],o=e[1];return o<r&&(s=o,o=r,r=s),s=o-r,s>=i-t?[t,i]:[r=Math.min(Math.max(r,t),i-s),r+s]}function ur(e){return"function"==typeof e}const MVe="descending";function JI(e,t,i){i=i||{},t=Un(t)||[];const r=[],o=[],s={},a=i.comparator||AVe;return Un(e).forEach((l,u)=>{null!=l&&(r.push(t[u]===MVe?-1:1),o.push(l=ur(l)?l:Rc(l,null,i)),(ol(l)||[]).forEach(c=>s[c]=1))}),0===o.length?null:cu(a(o,r),Object.keys(s))}const c3=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),AVe=(e,t)=>1===e.length?TVe(e[0],t[0]):NVe(e,t,e.length),TVe=(e,t)=>function(i,r){return c3(e(i),e(r))*t},NVe=(e,t,i)=>(t.push(0),function(r,o){let s,a=0,l=-1;for(;0===a&&++l<i;)s=e[l],a=c3(s(r),s(o));return a*t[l]});function ll(e){return ur(e)?e:()=>e}function eO(e,t){let i;return r=>{i&&clearTimeout(i),i=setTimeout(()=>(t(r),i=null),e)}}function cr(e){for(let t,i,r=1,o=arguments.length;r<o;++r)for(i in t=arguments[r],t)e[i]=t[i];return e}function Id(e,t){let r,o,s,a,i=0;if(e&&(r=e.length))if(null==t){for(o=e[i];i<r&&(null==o||o!=o);o=e[++i]);for(s=a=o;i<r;++i)o=e[i],null!=o&&(o<s&&(s=o),o>a&&(a=o))}else{for(o=t(e[i]);i<r&&(null==o||o!=o);o=t(e[++i]));for(s=a=o;i<r;++i)o=t(e[i]),null!=o&&(o<s&&(s=o),o>a&&(a=o))}return[s,a]}function eie(e,t){const i=e.length;let o,s,a,l,u,r=-1;if(null==t){for(;++r<i;)if(s=e[r],null!=s&&s>=s){o=a=s;break}if(r===i)return[-1,-1];for(l=u=r;++r<i;)s=e[r],null!=s&&(o>s&&(o=s,l=r),a<s&&(a=s,u=r))}else{for(;++r<i;)if(s=t(e[r],r,e),null!=s&&s>=s){o=a=s;break}if(r===i)return[-1,-1];for(l=u=r;++r<i;)s=t(e[r],r,e),null!=s&&(o>s&&(o=s,l=r),a<s&&(a=s,u=r))}return[l,u]}function Gn(e,t){return Object.hasOwn(e,t)}const Ab={};function f3(e){let i,t={};function r(s){return Gn(t,s)&&t[s]!==Ab}const o={size:0,empty:0,object:t,has:r,get:s=>r(s)?t[s]:void 0,set(s,a){return r(s)||(++o.size,t[s]===Ab&&--o.empty),t[s]=a,this},delete(s){return r(s)&&(--o.size,++o.empty,t[s]=Ab),this},clear(){o.size=o.empty=0,o.object=t={}},test(s){return arguments.length?(i=s,o):i},clean(){const s={};let a=0;for(const l in t){const u=t[l];u!==Ab&&(!i||!i(u))&&(s[l]=u,++a)}o.size=a,o.empty=0,o.object=t=s}};return e&&Object.keys(e).forEach(s=>{o.set(s,e[s])}),o}function tie(e,t,i,r,o,s){if(!i&&0!==i)return s;const a=+i;let c,l=e[0],u=Rr(e);u<l&&(c=l,l=u,u=c),c=Math.abs(t-l);const f=Math.abs(u-t);return c<f&&c<=a?r:f<=a?o:s}function Dn(e,t,i){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),cr(r,i)}function d3(e,t,i,r){let a,o=t[0],s=t[t.length-1];return o>s&&(a=o,o=s,s=a),r=void 0===r||r,((i=void 0===i||i)?o<=e:o<e)&&(r?e<=s:e<s)}function lp(e){return"boolean"==typeof e}function up(e){return"[object Date]"===Object.prototype.toString.call(e)}function nie(e){return e&&ur(e[Symbol.iterator])}function Kr(e){return"number"==typeof e}function tO(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function Bn(e){return"string"==typeof e}function nO(e,t,i){e&&(e=t?Un(e).map(l=>l.replace(/\\(.)/g,"$1")):Un(e));const r=e&&e.length,o=i&&i.get||Bne,s=l=>o(t?[l]:Nd(l));let a;if(r)if(1===r){const l=s(e[0]);a=function(u){return""+l(u)}}else{const l=e.map(s);a=function(u){let c=""+l[0](u),f=0;for(;++f<r;)c+="|"+l[f](u);return c}}else a=function(){return""};return cu(a,e,"key")}function iie(e,t){const i=e[0],r=Rr(e),o=+t;return o?1===o?r:i+o*(r-i):i}const IVe=1e4;function rie(e){let t,i,r;e=+e||IVe;const o=()=>{t={},i={},r=0},s=(a,l)=>(++r>e&&(i=t,t={},r=1),t[a]=l);return o(),{clear:o,has:a=>Gn(t,a)||Gn(i,a),get:a=>Gn(t,a)?t[a]:Gn(i,a)?s(a,i[a]):void 0,set:(a,l)=>Gn(t,a)?t[a]=l:s(a,l)}}function oie(e,t,i,r){const o=t.length,s=i.length;if(!s)return t;if(!o)return i;const a=r||new t.constructor(o+s);let l=0,u=0,c=0;for(;l<o&&u<s;++c)a[c]=e(t[l],i[u])>0?i[u++]:t[l++];for(;l<o;++l,++c)a[c]=t[l];for(;u<s;++u,++c)a[c]=i[u];return a}function X6(e,t){let i="";for(;--t>=0;)i+=e;return i}function sie(e,t,i,r){const o=i||" ",s=e+"",a=t-s.length;return a<=0?s:"left"===r?X6(o,a)+s:"center"===r?X6(o,~~(a/2))+s+X6(o,Math.ceil(a/2)):s+X6(o,a)}function Z6(e){return e&&Rr(e)-e[0]||0}function yn(e){return Pt(e)?"["+e.map(yn)+"]":Ln(e)||Bn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function iO(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const OVe=e=>Kr(e)||up(e)?e:Date.parse(e);function rO(e,t){return t=t||OVe,null==e||""===e?null:t(e)}function oO(e){return null==e||""===e?null:e+""}function Sf(e){const t={},i=e.length;for(let r=0;r<i;++r)t[e[r]]=!0;return t}function aie(e,t,i,r){const o=r??"\u2026",s=e+"",a=s.length,l=Math.max(0,t-o.length);return a<=t?s:"left"===i?o+s.slice(a-l):"center"===i?s.slice(0,Math.ceil(l/2))+o+s.slice(a-~~(l/2)):s.slice(0,l)+o}function cp(e,t,i){if(e)if(t){const r=e.length;for(let o=0;o<r;++o){const s=t(e[o]);s&&i(s,o,e)}}else e.forEach(i)}var lie={},sO={},aO=34,Q6=10,lO=13;function uie(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+'] || ""'}).join(",")+"}")}function cie(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var o in r)o in t||i.push(t[o]=o)}),i}function fu(e,t){var i=e+"",r=i.length;return r<t?new Array(t-r+1).join(0)+i:i}function PVe(e){var t=new RegExp('["'+e+"\n\r]"),i=e.charCodeAt(0);function o(d,h){var y,p=[],m=d.length,v=0,_=0,w=m<=0,S=!1;function M(){if(w)return sO;if(S)return S=!1,lie;var F,H,N=v;if(d.charCodeAt(N)===aO){for(;v++<m&&d.charCodeAt(v)!==aO||d.charCodeAt(++v)===aO;);return(F=v)>=m?w=!0:(H=d.charCodeAt(v++))===Q6?S=!0:H===lO&&(S=!0,d.charCodeAt(v)===Q6&&++v),d.slice(N+1,F-1).replace(/""/g,'"')}for(;v<m;){if((H=d.charCodeAt(F=v++))===Q6)S=!0;else if(H===lO)S=!0,d.charCodeAt(v)===Q6&&++v;else if(H!==i)continue;return d.slice(N,F)}return w=!0,d.slice(N,m)}for(d.charCodeAt(m-1)===Q6&&--m,d.charCodeAt(m-1)===lO&&--m;(y=M())!==sO;){for(var A=[];y!==lie&&y!==sO;)A.push(y),y=M();h&&null==(A=h(A,_++))||p.push(A)}return p}function s(d,h){return d.map(function(p){return h.map(function(m){return f(p[m])}).join(e)})}function c(d){return d.map(f).join(e)}function f(d){return null==d?"":d instanceof Date?function FVe(e){var t=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function kVe(e){return e<0?"-"+fu(-e,6):e>9999?"+"+fu(e,6):fu(e,4)}(e.getUTCFullYear())+"-"+fu(e.getUTCMonth()+1,2)+"-"+fu(e.getUTCDate(),2)+(o?"T"+fu(t,2)+":"+fu(i,2)+":"+fu(r,2)+"."+fu(o,3)+"Z":r?"T"+fu(t,2)+":"+fu(i,2)+":"+fu(r,2)+"Z":i||t?"T"+fu(t,2)+":"+fu(i,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var p,m,v=o(d,function(_,y){if(p)return p(_,y-1);m=_,p=h?function RVe(e,t){var i=uie(e);return function(r,o){return t(i(r),o,e)}}(_,h):uie(_)});return v.columns=m||[],v},parseRows:o,format:function a(d,h){return null==h&&(h=cie(d)),[h.map(f).join(e)].concat(s(d,h)).join("\n")},formatBody:function l(d,h){return null==h&&(h=cie(d)),s(d,h).join("\n")},formatRows:function u(d){return d.map(c).join("\n")},formatRow:c,formatValue:f}}function LVe(e,t){var i={},r={},o={},s=[],a=-1;function u(c,f){for(var d in c){var h=c[d];delete f[h.start],delete h.start,delete h.end,h.forEach(function(p){i[p<0?~p:p]=1}),s.push(h)}}return t.forEach(function(c,f){var h,d=e.arcs[c<0?~c:c];d.length<3&&!d[1][0]&&!d[1][1]&&(h=t[++a],t[a]=c,t[f]=h)}),t.forEach(function(c){var p,m,f=function l(c){var h,f=e.arcs[c<0?~c:c],d=f[0];return e.transform?(h=[0,0],f.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=f[f.length-1],c<0?[h,d]:[d,h]}(c),d=f[0],h=f[1];if(p=o[d])if(delete o[p.end],p.push(c),p.end=h,m=r[h]){delete r[m.start];var v=m===p?p:p.concat(m);r[v.start=p.start]=o[v.end=m.end]=v}else r[p.start]=o[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,m=o[d]){delete o[m.end];var _=m===p?p:m.concat(p);r[_.start=m.start]=o[_.end=p.end]=_}else r[p.start]=o[p.end]=p;else r[(p=[c]).start=d]=o[p.end=h]=p}),u(o,r),u(r,o),t.forEach(function(c){i[c<0?~c:c]||s.push([c])}),s}function BVe(e){return cne(e,$Ve.apply(this,arguments))}function $Ve(e,t,i){var r,o,s;if(arguments.length>1)r=function UVe(e,t,i){var s,r=[],o=[];function a(d){var h=d<0?~d:d;(o[h]||(o[h]=[])).push({i:d,g:s})}function l(d){d.forEach(a)}function u(d){d.forEach(l)}return function f(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(f);break;case"LineString":l(d.arcs);break;case"MultiLineString":case"Polygon":u(d.arcs);break;case"MultiPolygon":!function c(d){d.forEach(u)}(d.arcs)}}(t),o.forEach(null==i?function(d){r.push(d[0].i)}:function(d){i(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}(0,t,i);else for(o=0,r=new Array(s=e.arcs.length);o<s;++o)r[o]=o;return{type:"MultiLineString",arcs:LVe(e,r)}}const VVe=Math.sqrt(50),HVe=Math.sqrt(10),zVe=Math.sqrt(2);function Tb(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=VVe?10:s>=HVe?5:s>=zVe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?Tb(e,t,2*i):[l,u,c]}function fie(e,t,i){return Tb(e=+e,t=+t,i=+i)[2]}var die,jVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function J6(e){if(!(t=jVe.exec(e)))throw new Error("invalid format: "+e);var t;return new uO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function uO(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Nb(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function h3(e){return(e=Nb(Math.abs(e)))?e[1]:NaN}function hie(e,t){var i=Nb(e,t);if(!i)return e+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}J6.prototype=uO.prototype,uO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const pie={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function GVe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hie(100*e,t),r:hie,s:function JVe(e,t){var i=Nb(e,t);if(!i)return e+"";var r=i[0],o=i[1],s=o-(die=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Nb(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gie(e){return e}var Ib,yie,bie,mie=Array.prototype.map,vie=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function _ie(e){var t=void 0===e.grouping||void 0===e.thousands?gie:function XVe(e,t){return function(i,r){for(var o=i.length,s=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(i.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}(mie.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?gie:function ZVe(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}(mie.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(d){var h=(d=J6(d)).fill,p=d.align,m=d.sign,v=d.symbol,_=d.zero,y=d.width,w=d.comma,S=d.precision,M=d.trim,A=d.type;"n"===A?(w=!0,A="g"):pie[A]||(void 0===S&&(S=12),M=!0,A="g"),(_||"0"===h&&"="===p)&&(_=!0,h="0",p="=");var F="$"===v?i:"#"===v&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N="$"===v?r:/[%p]/.test(A)?a:"",H=pie[A],K=/[defgprs%]/.test(A);function oe(ee){var R,P,$,ve=F,pe=N;if("c"===A)pe=H(ee)+pe,ee="";else{var Q=(ee=+ee)<0||1/ee<0;if(ee=isNaN(ee)?u:H(Math.abs(ee),S),M&&(ee=function QVe(e){e:for(var o,t=e.length,i=1,r=-1;i<t;++i)switch(e[i]){case".":r=o=i;break;case"0":0===r&&(r=i),o=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(o+1):e}(ee)),Q&&0==+ee&&"+"!==m&&(Q=!1),ve=(Q?"("===m?m:l:"-"===m||"("===m?"":m)+ve,pe=("s"===A?vie[8+die/3]:"")+pe+(Q&&"("===m?")":""),K)for(R=-1,P=ee.length;++R<P;)if(48>($=ee.charCodeAt(R))||$>57){pe=(46===$?o+ee.slice(R+1):ee.slice(R))+pe,ee=ee.slice(0,R);break}}w&&!_&&(ee=t(ee,1/0));var j=ve.length+ee.length+pe.length,J=j<y?new Array(y-j+1).join(h):"";switch(w&&_&&(ee=t(J+ee,J.length?y-pe.length:1/0),J=""),p){case"<":ee=ve+ee+pe+J;break;case"=":ee=ve+J+ee+pe;break;case"^":ee=J.slice(0,j=J.length>>1)+ve+ee+pe+J.slice(j);break;default:ee=J+ve+ee+pe}return s(ee)}return S=void 0===S?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S)),oe.toString=function(){return d+""},oe}return{format:c,formatPrefix:function f(d,h){var p=c(((d=J6(d)).type="f",d)),m=3*Math.max(-8,Math.min(8,Math.floor(h3(h)/3))),v=Math.pow(10,-m),_=vie[8+m/3];return function(y){return p(v*y)+_}}}}!function eHe(e){Ib=_ie(e),yie=Ib.format,bie=Ib.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const cO=new Date,fO=new Date;function Xs(e,t,i,r){function o(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return o.floor=s=>(e(s=new Date(+s)),s),o.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),o.round=s=>{const a=o(s),l=o.ceil(s);return s-a<l-s?a:l},o.offset=(s,a)=>(t(s=new Date(+s),null==a?1:Math.floor(a)),s),o.range=(s,a,l)=>{const u=[];if(s=o.ceil(s),l=null==l?1:Math.floor(l),!(s<a&&l>0))return u;let c;do{u.push(c=new Date(+s)),t(s,l),e(s)}while(c<s&&s<a);return u},o.filter=s=>Xs(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),i&&(o.count=(s,a)=>(cO.setTime(+s),fO.setTime(+a),e(cO),e(fO),Math.floor(i(cO,fO))),o.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?o.filter(r?a=>r(a)%s==0:a=>o.count(0,a)%s==0):o:null)),o}const fp=6e4,t4=60*fp,ig=24*t4,wie=7*ig,n4=Xs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fp)/ig,e=>e.getDate()-1),i4=Xs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ig,e=>e.getUTCDate()-1);function rg(e){return Xs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+7*i)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*fp)/wie)}Xs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ig,e=>Math.floor(e/ig));const dO=rg(0);function og(e){return Xs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+7*i)},(t,i)=>(i-t)/wie)}rg(1),rg(2),rg(3),rg(4),rg(5),rg(6);const hO=og(0),pO=(og(1),og(2),og(3),og(4),og(5),og(6),Xs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));pO.every=e=>isFinite(e=Math.floor(e))&&e>0?Xs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)}):null;const gO=Xs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gO.every=e=>isFinite(e=Math.floor(e))&&e>0?Xs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null;const mO=Xs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),vO=Xs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),Eie=Xs(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*fp)},(e,t)=>{e.setTime(+e+t*t4)},(e,t)=>(t-e)/t4,e=>e.getHours()),Sie=Xs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*t4)},(e,t)=>(t-e)/t4,e=>e.getUTCHours()),Cie=Xs(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+t*fp)},(e,t)=>(t-e)/fp,e=>e.getMinutes()),Die=Xs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fp)},(e,t)=>(t-e)/fp,e=>e.getUTCMinutes()),_O=Xs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),r4=Xs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function yO(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hHe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gHe(){return 0}r4.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Xs(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):r4:null);const mHe=Math.sqrt(50),vHe=Math.sqrt(10),_He=Math.sqrt(2);function Ob(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=mHe?10:s>=vHe?5:s>=_He?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?Ob(e,t,2*i):[l,u,c]}function xie(e,t,i){return Ob(e=+e,t=+t,i=+i)[2]}function Mie(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?xie(t,e,i):xie(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}const Fa="year",du="quarter",ul="month",Zs="week",hu="date",cl="day",Od="dayofyear",Ku="hours",Xu="minutes",Fc="seconds",Cf="milliseconds",bO=[Fa,du,ul,Zs,hu,cl,Od,Ku,Xu,Fc,Cf],wO=bO.reduce((e,t,i)=>(e[t]=1+i,e),{});function EO(e){const t=Un(e).slice(),i={};return t.length||Rt("Missing time unit."),t.forEach(o=>{Gn(wO,o)?i[o]=1:Rt(`Invalid time unit: ${o}.`)}),(i[Zs]||i[cl]?1:0)+(i[du]||i[ul]||i[hu]?1:0)+(i[Od]?1:0)>1&&Rt(`Incompatible time units: ${e}`),t.sort((o,s)=>wO[o]-wO[s]),t}const yHe={[Fa]:"%Y ",[du]:"Q%q ",[ul]:"%b ",[hu]:"%d ",[Zs]:"W%U ",[cl]:"%a ",[Od]:"%j ",[Ku]:"%H:00",[Xu]:"00:%M",[Fc]:":%S",[Cf]:".%L",[`${Fa}-${ul}`]:"%Y-%m ",[`${Fa}-${ul}-${hu}`]:"%Y-%m-%d ",[`${Ku}-${Xu}`]:"%H:%M"};function Aie(e,t){const i=cr({},yHe,t),r=EO(e),o=r.length;let l,u,s="",a=0;for(a=0;a<o;)for(l=r.length;l>a;--l)if(u=r.slice(a,l).join("-"),null!=i[u]){s+=i[u],a=l;break}return s.trim()}const sg=new Date;function SO(e){return sg.setFullYear(e),sg.setMonth(0),sg.setDate(1),sg.setHours(0,0,0,0),sg}function Tie(e){return Iie(new Date(e))}function Nie(e){return CO(new Date(e))}function Iie(e){return n4.count(SO(e.getFullYear())-1,e)}function CO(e){return dO.count(SO(e.getFullYear())-1,e)}function DO(e){return SO(e).getDay()}function bHe(e,t,i,r,o,s,a){if(0<=e&&e<100){const l=new Date(-1,t,i,r,o,s,a);return l.setFullYear(e),l}return new Date(e,t,i,r,o,s,a)}function Oie(e){return kie(new Date(e))}function Rie(e){return xO(new Date(e))}function kie(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return i4.count(t-1,e)}function xO(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return hO.count(t-1,e)}function MO(e){return sg.setTime(Date.UTC(e,0,1)),sg.getUTCDay()}function wHe(e,t,i,r,o,s,a){if(0<=e&&e<100){const l=new Date(Date.UTC(-1,t,i,r,o,s,a));return l.setUTCFullYear(i.y),l}return new Date(Date.UTC(e,t,i,r,o,s,a))}function Fie(e,t,i,r,o){const s=t||1,a=Rr(e),l=(y,w,S)=>function EHe(e,t,i,r){const o=i<=1?e:r?(s,a)=>r+i*Math.floor((e(s,a)-r)/i):(s,a)=>i*Math.floor(e(s,a)/i);return t?(s,a)=>t(o(s,a),a):o}(i[S=S||y],r[S],y===a&&s,w),u=new Date,c=Sf(e),f=c[Fa]?l(Fa):ll(2012),d=c[ul]?l(ul):c[du]?l(du):sp,h=c[Zs]&&c[cl]?l(cl,1,Zs+cl):c[Zs]?l(Zs,1):c[cl]?l(cl,1):c[hu]?l(hu,1):c[Od]?l(Od,1):a3,p=c[Ku]?l(Ku):sp,m=c[Xu]?l(Xu):sp,v=c[Fc]?l(Fc):sp,_=c[Cf]?l(Cf):sp;return function(y){u.setTime(+y);const w=f(u);return o(w,d(u),h(u,w),p(u),m(u),v(u),_(u))}}function p3(e,t,i){return t+7*e-(i+6)%7}const SHe={[Fa]:e=>e.getFullYear(),[du]:e=>Math.floor(e.getMonth()/3),[ul]:e=>e.getMonth(),[hu]:e=>e.getDate(),[Ku]:e=>e.getHours(),[Xu]:e=>e.getMinutes(),[Fc]:e=>e.getSeconds(),[Cf]:e=>e.getMilliseconds(),[Od]:e=>Iie(e),[Zs]:e=>CO(e),[Zs+cl]:(e,t)=>p3(CO(e),e.getDay(),DO(t)),[cl]:(e,t)=>p3(1,e.getDay(),DO(t))},CHe={[du]:e=>3*e,[Zs]:(e,t)=>p3(e,0,DO(t))};function Pie(e,t){return Fie(e,t||1,SHe,CHe,bHe)}const DHe={[Fa]:e=>e.getUTCFullYear(),[du]:e=>Math.floor(e.getUTCMonth()/3),[ul]:e=>e.getUTCMonth(),[hu]:e=>e.getUTCDate(),[Ku]:e=>e.getUTCHours(),[Xu]:e=>e.getUTCMinutes(),[Fc]:e=>e.getUTCSeconds(),[Cf]:e=>e.getUTCMilliseconds(),[Od]:e=>kie(e),[Zs]:e=>xO(e),[cl]:(e,t)=>p3(1,e.getUTCDay(),MO(t)),[Zs+cl]:(e,t)=>p3(xO(e),e.getUTCDay(),MO(t))},xHe={[du]:e=>3*e,[Zs]:(e,t)=>p3(e,0,MO(t))};function Lie(e,t){return Fie(e,t||1,DHe,xHe,wHe)}const MHe={[Fa]:pO,[du]:mO.every(3),[ul]:mO,[Zs]:dO,[hu]:n4,[cl]:n4,[Od]:n4,[Ku]:Eie,[Xu]:Cie,[Fc]:_O,[Cf]:r4},AHe={[Fa]:gO,[du]:vO.every(3),[ul]:vO,[Zs]:hO,[hu]:i4,[cl]:i4,[Od]:i4,[Ku]:Sie,[Xu]:Die,[Fc]:_O,[Cf]:r4};function g3(e){return MHe[e]}function m3(e){return AHe[e]}function Bie(e,t,i){return e?e.offset(t,i):void 0}function $ie(e,t,i){return Bie(g3(e),t,i)}function Uie(e,t,i){return Bie(m3(e),t,i)}function Vie(e,t,i,r){return e?e.range(t,i,r):void 0}function Hie(e,t,i,r){return Vie(g3(e),t,i,r)}function zie(e,t,i,r){return Vie(m3(e),t,i,r)}const s4=6e4,a4=60*s4,AO=31536e6,jie=[Fa,ul,hu,Ku,Xu,Fc,Cf],l4=jie.slice(0,-1),u4=l4.slice(0,-1),c4=u4.slice(0,-1),NHe=c4.slice(0,-1),Gie=[Fa,ul],Wie=[Fa],f4=[[l4,1,1e3],[l4,5,5e3],[l4,15,15e3],[l4,30,3e4],[u4,1,s4],[u4,5,5*s4],[u4,15,15*s4],[u4,30,30*s4],[c4,1,a4],[c4,3,3*a4],[c4,6,6*a4],[c4,12,12*a4],[NHe,1,864e5],[[Fa,Zs],1,6048e5],[Gie,1,2592e6],[Gie,3,7776e6],[Wie,1,AO]];function Yie(e){const t=e.extent,i=e.maxbins||40,r=Math.abs(Z6(t))/i;let s,a,o=function pHe(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=yO,i=(l,u)=>yO(e(l),u),r=(l,u)=>e(l)-u):(t=e===yO||e===hHe?e:gHe,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(l=>l[2]).right(f4,r);return o===f4.length?(s=Wie,a=Mie(t[0]/AO,t[1]/AO,i)):o?(o=f4[r/f4[o-1][2]<f4[o][2]/r?o-1:o],s=o[0],a=o[1]):(s=jie,a=Math.max(Mie(t[0],t[1],i),1)),{units:s,step:a}}var TO=new Date,NO=new Date;function ha(e,t,i,r){function o(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return o.floor=function(s){return e(s=new Date(+s)),s},o.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},o.round=function(s){var a=o(s),l=o.ceil(s);return s-a<l-s?a:l},o.offset=function(s,a){return t(s=new Date(+s),null==a?1:Math.floor(a)),s},o.range=function(s,a,l){var c,u=[];if(s=o.ceil(s),l=null==l?1:Math.floor(l),!(s<a&&l>0))return u;do{u.push(c=new Date(+s)),t(s,l),e(s)}while(c<s&&s<a);return u},o.filter=function(s){return ha(function(a){if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},function(a,l){if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););})},i&&(o.count=function(s,a){return TO.setTime(+s),NO.setTime(+a),e(TO),e(NO),Math.floor(i(TO,NO))},o.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?o.filter(r?function(a){return r(a)%s==0}:function(a){return o.count(0,a)%s==0}):o:null}),o}const Y0=1e3,Pc=60*Y0,K0=60*Pc,ag=24*K0,IO=7*ag,Kie=30*ag,OO=365*ag;function lg(e){return ha(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+7*i)},function(t,i){return(i-t)/IO})}var d4=lg(0),ug=lg(1),Df=(lg(2),lg(3),lg(4)),Xie=(lg(5),lg(6),ha(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/ag},function(e){return e.getUTCDate()-1}));const v3=Xie;function cg(e){return ha(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+7*i)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*Pc)/IO})}var h4=cg(0),fg=cg(1),xf=(cg(2),cg(3),cg(4)),Zie=(cg(5),cg(6),ha(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pc)/ag,e=>e.getDate()-1));const _3=Zie;var RO=ha(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});RO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ha(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)}):null};const Lc=RO;var kO=ha(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});kO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ha(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null};const Bc=kO;function FO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function PO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function p4(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function Qie(e){var t=e.dateTime,i=e.date,r=e.time,o=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=g4(o),f=m4(o),d=g4(s),h=m4(s),p=g4(a),m=m4(a),v=g4(l),_=m4(l),y=g4(u),w=m4(u),S={a:function Q(Re){return a[Re.getDay()]},A:function j(Re){return s[Re.getDay()]},b:function J(Re){return u[Re.getMonth()]},B:function re(Re){return l[Re.getMonth()]},c:null,d:rre,e:rre,f:lze,g:_ze,G:bze,H:oze,I:sze,j:aze,L:ore,m:uze,M:cze,p:function _e(Re){return o[+(Re.getHours()>=12)]},q:function Se(Re){return 1+~~(Re.getMonth()/3)},Q:fre,s:dre,S:fze,u:dze,U:hze,V:pze,w:gze,W:mze,x:null,X:null,y:vze,Y:yze,Z:wze,"%":cre},M={a:function Be(Re){return a[Re.getUTCDay()]},A:function Oe(Re){return s[Re.getUTCDay()]},b:function qe(Re){return u[Re.getUTCMonth()]},B:function Dt(Re){return l[Re.getUTCMonth()]},c:null,d:are,e:are,f:Dze,g:Fze,G:Lze,H:Eze,I:Sze,j:Cze,L:lre,m:xze,M:Mze,p:function et(Re){return o[+(Re.getUTCHours()>=12)]},q:function Vt(Re){return 1+~~(Re.getUTCMonth()/3)},Q:fre,s:dre,S:Aze,u:Tze,U:Nze,V:Ize,w:Oze,W:Rze,x:null,X:null,y:kze,Y:Pze,Z:Bze,"%":cre},A={a:function oe(Re,ct,gt){var Ce=p.exec(ct.slice(gt));return Ce?(Re.w=m.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},A:function ee(Re,ct,gt){var Ce=d.exec(ct.slice(gt));return Ce?(Re.w=h.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},b:function ve(Re,ct,gt){var Ce=y.exec(ct.slice(gt));return Ce?(Re.m=w.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},B:function pe(Re,ct,gt){var Ce=v.exec(ct.slice(gt));return Ce?(Re.m=_.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},c:function R(Re,ct,gt){return H(Re,t,ct,gt)},d:nre,e:nre,f:tze,g:tre,G:ere,H:ire,I:ire,j:ZHe,L:eze,m:XHe,M:QHe,p:function K(Re,ct,gt){var Ce=c.exec(ct.slice(gt));return Ce?(Re.p=f.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},q:KHe,Q:ize,s:rze,S:JHe,u:qHe,U:jHe,V:GHe,w:zHe,W:WHe,x:function P(Re,ct,gt){return H(Re,i,ct,gt)},X:function $(Re,ct,gt){return H(Re,r,ct,gt)},y:tre,Y:ere,Z:YHe,"%":nze};function F(Re,ct){return function(gt){var Mn,Jt,vi,Ce=[],Zt=-1,rn=0,Zn=Re.length;for(gt instanceof Date||(gt=new Date(+gt));++Zt<Zn;)37===Re.charCodeAt(Zt)&&(Ce.push(Re.slice(rn,Zt)),null!=(Jt=Jie[Mn=Re.charAt(++Zt)])?Mn=Re.charAt(++Zt):Jt="e"===Mn?" ":"0",(vi=ct[Mn])&&(Mn=vi(gt,Jt)),Ce.push(Mn),rn=Zt+1);return Ce.push(Re.slice(rn,Zt)),Ce.join("")}}function N(Re,ct){return function(gt){var rn,Zn,Ce=p4(1900,void 0,1);if(H(Ce,Re,gt+="",0)!=gt.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(1e3*Ce.s+("L"in Ce?Ce.L:0));if(ct&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+12*Ce.p),void 0===Ce.m&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(Zn=(rn=PO(p4(Ce.y,0,1))).getUTCDay(),rn=Zn>4||0===Zn?ug.ceil(rn):ug(rn),rn=v3.offset(rn,7*(Ce.V-1)),Ce.y=rn.getUTCFullYear(),Ce.m=rn.getUTCMonth(),Ce.d=rn.getUTCDate()+(Ce.w+6)%7):(Zn=(rn=FO(p4(Ce.y,0,1))).getDay(),rn=Zn>4||0===Zn?fg.ceil(rn):fg(rn),rn=_3.offset(rn,7*(Ce.V-1)),Ce.y=rn.getFullYear(),Ce.m=rn.getMonth(),Ce.d=rn.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),Zn="Z"in Ce?PO(p4(Ce.y,0,1)).getUTCDay():FO(p4(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+7*Ce.W-(Zn+5)%7:Ce.w+7*Ce.U-(Zn+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,PO(Ce)):FO(Ce)}}function H(Re,ct,gt,Ce){for(var Mn,Jt,Zt=0,rn=ct.length,Zn=gt.length;Zt<rn;){if(Ce>=Zn)return-1;if(37===(Mn=ct.charCodeAt(Zt++))){if(Mn=ct.charAt(Zt++),!(Jt=A[Mn in Jie?ct.charAt(Zt++):Mn])||(Ce=Jt(Re,gt,Ce))<0)return-1}else if(Mn!=gt.charCodeAt(Ce++))return-1}return Ce}return S.x=F(i,S),S.X=F(r,S),S.c=F(t,S),M.x=F(i,M),M.X=F(r,M),M.c=F(t,M),{format:function(Re){var ct=F(Re+="",S);return ct.toString=function(){return Re},ct},parse:function(Re){var ct=N(Re+="",!1);return ct.toString=function(){return Re},ct},utcFormat:function(Re){var ct=F(Re+="",M);return ct.toString=function(){return Re},ct},utcParse:function(Re){var ct=N(Re+="",!0);return ct.toString=function(){return Re},ct}}}var y3,hre,pre,gre,mre,Jie={"-":"",_:" ",0:"0"},pa=/^\s*\d+/,UHe=/^%/,VHe=/[\\^$*+?|[\]().{}]/g;function Xr(e,t,i){var r=e<0?"-":"",o=(r?-e:e)+"",s=o.length;return r+(s<i?new Array(i-s+1).join(t)+o:o)}function HHe(e){return e.replace(VHe,"\\$&")}function g4(e){return new RegExp("^(?:"+e.map(HHe).join("|")+")","i")}function m4(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function zHe(e,t,i){var r=pa.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function qHe(e,t,i){var r=pa.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function jHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function GHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function WHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function ere(e,t,i){var r=pa.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function tre(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function YHe(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function KHe(e,t,i){var r=pa.exec(t.slice(i,i+1));return r?(e.q=3*r[0]-3,i+r[0].length):-1}function XHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function nre(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function ZHe(e,t,i){var r=pa.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function ire(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function QHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function JHe(e,t,i){var r=pa.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function eze(e,t,i){var r=pa.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function tze(e,t,i){var r=pa.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function nze(e,t,i){var r=UHe.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function ize(e,t,i){var r=pa.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function rze(e,t,i){var r=pa.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function rre(e,t){return Xr(e.getDate(),t,2)}function oze(e,t){return Xr(e.getHours(),t,2)}function sze(e,t){return Xr(e.getHours()%12||12,t,2)}function aze(e,t){return Xr(1+_3.count(Lc(e),e),t,3)}function ore(e,t){return Xr(e.getMilliseconds(),t,3)}function lze(e,t){return ore(e,t)+"000"}function uze(e,t){return Xr(e.getMonth()+1,t,2)}function cze(e,t){return Xr(e.getMinutes(),t,2)}function fze(e,t){return Xr(e.getSeconds(),t,2)}function dze(e){var t=e.getDay();return 0===t?7:t}function hze(e,t){return Xr(h4.count(Lc(e)-1,e),t,2)}function sre(e){var t=e.getDay();return t>=4||0===t?xf(e):xf.ceil(e)}function pze(e,t){return e=sre(e),Xr(xf.count(Lc(e),e)+(4===Lc(e).getDay()),t,2)}function gze(e){return e.getDay()}function mze(e,t){return Xr(fg.count(Lc(e)-1,e),t,2)}function vze(e,t){return Xr(e.getFullYear()%100,t,2)}function _ze(e,t){return Xr((e=sre(e)).getFullYear()%100,t,2)}function yze(e,t){return Xr(e.getFullYear()%1e4,t,4)}function bze(e,t){var i=e.getDay();return Xr((e=i>=4||0===i?xf(e):xf.ceil(e)).getFullYear()%1e4,t,4)}function wze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xr(t/60|0,"0",2)+Xr(t%60,"0",2)}function are(e,t){return Xr(e.getUTCDate(),t,2)}function Eze(e,t){return Xr(e.getUTCHours(),t,2)}function Sze(e,t){return Xr(e.getUTCHours()%12||12,t,2)}function Cze(e,t){return Xr(1+v3.count(Bc(e),e),t,3)}function lre(e,t){return Xr(e.getUTCMilliseconds(),t,3)}function Dze(e,t){return lre(e,t)+"000"}function xze(e,t){return Xr(e.getUTCMonth()+1,t,2)}function Mze(e,t){return Xr(e.getUTCMinutes(),t,2)}function Aze(e,t){return Xr(e.getUTCSeconds(),t,2)}function Tze(e){var t=e.getUTCDay();return 0===t?7:t}function Nze(e,t){return Xr(d4.count(Bc(e)-1,e),t,2)}function ure(e){var t=e.getUTCDay();return t>=4||0===t?Df(e):Df.ceil(e)}function Ize(e,t){return e=ure(e),Xr(Df.count(Bc(e),e)+(4===Bc(e).getUTCDay()),t,2)}function Oze(e){return e.getUTCDay()}function Rze(e,t){return Xr(ug.count(Bc(e)-1,e),t,2)}function kze(e,t){return Xr(e.getUTCFullYear()%100,t,2)}function Fze(e,t){return Xr((e=ure(e)).getUTCFullYear()%100,t,2)}function Pze(e,t){return Xr(e.getUTCFullYear()%1e4,t,4)}function Lze(e,t){var i=e.getUTCDay();return Xr((e=i>=4||0===i?Df(e):Df.ceil(e)).getUTCFullYear()%1e4,t,4)}function Bze(){return"+0000"}function cre(){return"%"}function fre(e){return+e}function dre(e){return Math.floor(+e/1e3)}function v4(e){const t={};return i=>t[i]||(t[i]=e(i))}function vre(e){const t=v4(e.format),i=e.formatPrefix;return{format:t,formatPrefix:i,formatFloat(r){const o=J6(r||",");if(null==o.precision){switch(o.precision=12,o.type){case"%":o.precision-=2;break;case"e":o.precision-=1}return function Uze(e,t){return i=>{const r=e(i),o=r.indexOf(t);if(o<0)return r;let s=function Vze(e,t){let r,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(r=e.charCodeAt(i),r>=48&&r<=57)return i+1}(r,o);const a=s<r.length?r.slice(s):"";for(;--s>o;)if("0"!==r[s]){++s;break}return r.slice(0,s)+a}}(t(o),t(".1f")(1)[1])}return t(o)},formatSpan(r,o,s,a){a=J6(a??",f");const l=function qVe(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?fie(t,e,i):fie(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(r,o,s),u=Math.max(Math.abs(r),Math.abs(o));let c;if(null==a.precision)switch(a.type){case"s":return isNaN(c=function WVe(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(h3(t)/3)))-h3(Math.abs(e)))}(l,u))||(a.precision=c),i(a,u);case"":case"e":case"g":case"p":case"r":isNaN(c=function YVe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,h3(t)-h3(e))+1}(l,u))||(a.precision=c-("e"===a.type));break;case"f":case"%":isNaN(c=function KVe(e){return Math.max(0,-h3(Math.abs(e)))}(l))||(a.precision=c-2*("%"===a.type))}return t(a)}}}let LO,BO;function _re(){return LO=vre({format:yie,formatPrefix:bie})}function yre(e){return vre(_ie(e))}function kb(e){return arguments.length?LO=yre(e):LO}function bre(e,t,i){Ln(i=i||{})||Rt(`Invalid time multi-format specifier: ${i}`);const r=t(Fc),o=t(Xu),s=t(Ku),a=t(hu),l=t(Zs),u=t(ul),c=t(du),f=t(Fa),d=e(i[Cf]||".%L"),h=e(i[Fc]||":%S"),p=e(i[Xu]||"%I:%M"),m=e(i[Ku]||"%I %p"),v=e(i[hu]||i[cl]||"%a %d"),_=e(i[Zs]||"%b %d"),y=e(i[ul]||"%B"),w=e(i[du]||"%B"),S=e(i[Fa]||"%Y");return M=>(r(M)<M?d:o(M)<M?h:s(M)<M?p:a(M)<M?m:u(M)<M?l(M)<M?v:_:f(M)<M?c(M)<M?y:w:S)(M)}function wre(e){const t=v4(e.format),i=v4(e.utcFormat);return{timeFormat:r=>Bn(r)?t(r):bre(t,g3,r),utcFormat:r=>Bn(r)?i(r):bre(i,m3,r),timeParse:v4(e.parse),utcParse:v4(e.utcParse)}}function Ere(){return BO=wre({format:hre,parse:pre,utcFormat:gre,utcParse:mre})}function Sre(e){return wre(Qie(e))}function _4(e){return arguments.length?BO=Sre(e):BO}!function $ze(e){y3=Qie(e),hre=y3.format,pre=y3.parse,gre=y3.utcFormat,mre=y3.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_re(),Ere();const $O=(e,t)=>cr({},e,t);function Cre(e,t){const i=e?yre(e):kb(),r=t?Sre(t):_4();return $O(i,r)}function UO(e,t){const i=arguments.length;return i&&2!==i&&Rt("defaultLocale expects either zero or two arguments."),i?$O(kb(e),_4(t)):$O(kb(),_4())}function Hze(){return _re(),Ere(),UO()}const zze=/^(data:|([A-Za-z]+:)?\/\/)/,qze=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,jze=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Dre="file://";function Wze(e,t){return VO.apply(this,arguments)}function VO(){return VO=Ks(function*(e,t){const i=yield this.sanitize(e,t),r=i.href;return i.localFile?this.file(r):this.http(r,t)}),VO.apply(this,arguments)}function Yze(e,t){return HO.apply(this,arguments)}function HO(){return HO=Ks(function*(e,t){t=cr({},this.options,t);const i=this.fileAccess,r={href:null};let o,s,a;const l=qze.test(e.replace(jze,""));(null==e||"string"!=typeof e||!l)&&Rt("Sanitize failure, invalid URI: "+yn(e));const u=zze.test(e);return(a=t.baseURL)&&!u&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),s=(o=e.startsWith(Dre))||"file"===t.mode||"http"!==t.mode&&!u&&i,o?e=e.slice(Dre.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}),HO.apply(this,arguments)}function Kze(e){return e?t=>new Promise((i,r)=>{e.readFile(t,(o,s)=>{o?r(o):i(s)})}):Xze}function Xze(){return zO.apply(this,arguments)}function zO(){return(zO=Ks(function*(){Rt("No file system access.")})).apply(this,arguments)}function Zze(e){return e?function(){var t=Ks(function*(i,r){const o=cr({},this.options.http,r),s=r&&r.response,a=yield e(i,o);return a.ok?ur(a[s])?a[s]():a.text():Rt(a.status+""+a.statusText)});return function(i,r){return t.apply(this,arguments)}}():Qze}function Qze(){return qO.apply(this,arguments)}function qO(){return(qO=Ks(function*(){Rt("No HTTP fetch method available.")})).apply(this,arguments)}const Jze=e=>null!=e&&e==e,xre=e=>!(Number.isNaN(+e)||e instanceof Date),jO={boolean:iO,integer:al,number:al,date:rO,string:oO,unknown:sl},Fb=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>xre(e)&&Number.isInteger(+e),xre,e=>!Number.isNaN(Date.parse(e))],iqe=["boolean","integer","number","date"];function Mre(e,t){if(!e||!e.length)return"unknown";const i=e.length,r=Fb.length,o=Fb.map((s,a)=>a+1);for(let l,u,s=0,a=0;s<i;++s)for(u=t?e[s][t]:e[s],l=0;l<r;++l)if(o[l]&&Jze(u)&&!Fb[l](u)&&(o[l]=0,++a,a===Fb.length))return"string";return iqe[o.reduce((s,a)=>0===s?a:s,0)-1]}function Are(e,t){return t.reduce((i,r)=>(i[r]=Mre(e,r),i),{})}function Tre(e){const t=function(i,r){const o={delimiter:e};return GO(i,r?cr(r,o):o)};return t.responseType="text",t}function GO(e,t){return t.header&&(e=t.header.map(yn).join(t.delimiter)+"\n"+e),PVe(t.delimiter).parse(e+"")}function WO(e,t){const i=t&&t.property?Rc(t.property):sl;return Ln(e)&&!function rqe(e){return!("function"!=typeof Buffer||!ur(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function oqe(e,t){return!Pt(e)&&nie(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(e),t):i(JSON.parse(e))}GO.responseType="text",WO.responseType="json";const sqe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Nre(e,t){let i,r,o,s;return e=WO(e,t),t&&t.feature?(i=lne,o=t.feature):t&&t.mesh?(i=BVe,o=t.mesh,s=sqe[t.filter]):Rt("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[o])?i(e,r,s):Rt("Invalid TopoJSON object: "+o),r&&r.features||[r]}Nre.responseType="json";const Pb={dsv:GO,csv:Tre(","),tsv:Tre("\t"),json:WO,topojson:Nre};function YO(e,t){return arguments.length>1?(Pb[e]=t,this):Gn(Pb,e)?Pb[e]:null}function Ire(e){const t=YO(e);return t&&t.responseType||"text"}function Ore(e,t,i,r){const o=YO((t=t||{}).type||"json");return o||Rt("Unknown data format type: "+t.type),e=o(e,t),t.parse&&function aqe(e,t,i,r){if(!e.length)return;const o=_4();i=i||o.timeParse,r=r||o.utcParse;let a,l,u,c,f,d,s=e.columns||Object.keys(e[0]);"auto"===t&&(t=Are(e,s)),s=Object.keys(t);const h=s.map(p=>{const m=t[p];let v,_;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return v=m.split(/:(.+)?/,2),_=v[1],("'"===_[0]&&"'"===_[_.length-1]||'"'===_[0]&&'"'===_[_.length-1])&&(_=_.slice(1,-1)),("utc"===v[0]?r:i)(_);if(!jO[m])throw Error("Illegal format pattern: "+p+":"+m);return jO[m]});for(u=0,f=e.length,d=s.length;u<f;++u)for(a=e[u],c=0;c<d;++c)l=s[c],a[l]=h[c](a[l])}(e,t.parse,i,r),Gn(e,"columns")&&delete e.columns,e}const Lb=function Gze(e,t){return i=>({options:i||{},sanitize:Yze,load:Wze,fileAccess:!1,file:Kze(t),http:Zze(e)})}(typeof fetch<"u"&&fetch,null);function Bb(e){const t=e||sl,i=[],r={};return i.add=o=>{const s=t(o);return r[s]||(r[s]=1,i.push(o)),i},i.remove=o=>{const s=t(o);if(r[s]){r[s]=0;const a=i.indexOf(o);a>=0&&i.splice(a,1)}return i},i}function $b(e,t){return KO.apply(this,arguments)}function KO(){return KO=Ks(function*(e,t){try{yield t(e)}catch(i){e.error(i)}}),KO.apply(this,arguments)}const Rre=Symbol("vega_id");let lqe=1;function Ub(e){return!(!e||!yi(e))}function yi(e){return e[Rre]}function kre(e,t){return e[Rre]=t,e}function oo(e){const t=e===Object(e)?e:{data:e};return yi(t)?t:kre(t,lqe++)}function XO(e){return Vb(e,oo({}))}function Vb(e,t){for(const i in e)t[i]=e[i];return t}function Fre(e,t){return kre(t,yi(e))}function dg(e,t){return e?t?(i,r)=>e(i,r)||yi(t(i))-yi(t(r)):(i,r)=>e(i,r)||yi(i)-yi(r):null}function Pre(e){return e&&e.constructor===hg}function hg(){const e=[],t=[],i=[],r=[],o=[];let s=null,a=!1;return{constructor:hg,insert(l){const u=Un(l),c=u.length;for(let f=0;f<c;++f)e.push(u[f]);return this},remove(l){const u=ur(l)?r:t,c=Un(l),f=c.length;for(let d=0;d<f;++d)u.push(c[d]);return this},modify(l,u,c){const f={field:u,value:ll(c)};return ur(l)?(f.filter=l,o.push(f)):(f.tuple=l,i.push(f)),this},encode(l,u){return ur(l)?o.push({filter:l,field:u}):i.push({tuple:l,field:u}),this},clean(l){return s=l,this},reflow(){return a=!0,this},pulse(l,u){const c={},f={};let d,h,p,m,v,_;for(d=0,h=u.length;d<h;++d)c[yi(u[d])]=1;for(d=0,h=t.length;d<h;++d)v=t[d],c[yi(v)]=-1;for(d=0,h=r.length;d<h;++d)m=r[d],u.forEach(w=>{m(w)&&(c[yi(w)]=-1)});for(d=0,h=e.length;d<h;++d)v=e[d],_=yi(v),c[_]?c[_]=1:l.add.push(oo(e[d]));for(d=0,h=u.length;d<h;++d)v=u[d],c[yi(v)]<0&&l.rem.push(v);function y(w,S,M){M?w[S]=M(w):l.encode=S,a||(f[yi(w)]=w)}for(d=0,h=i.length;d<h;++d)p=i[d],v=p.tuple,m=p.field,_=c[yi(v)],_>0&&(y(v,m,p.value),l.modifies(m));for(d=0,h=o.length;d<h;++d)p=o[d],m=p.filter,u.forEach(w=>{m(w)&&c[yi(w)]>0&&y(w,p.field,p.value)}),l.modifies(p.field);if(a)l.mod=t.length||r.length?u.filter(w=>c[yi(w)]>0):u.slice();else for(_ in f)l.mod.push(f[_]);return(s||null==s&&(t.length||r.length))&&l.clean(!0),l}}}const Hb="_:mod:_";function zb(){Object.defineProperty(this,Hb,{writable:!0,value:{}})}zb.prototype={set(e,t,i,r){const o=this,s=o[e],a=o[Hb];return null!=t&&t>=0?(s[t]!==i||r)&&(s[t]=i,a[t+":"+e]=-1,a[e]=-1):(s!==i||r)&&(o[e]=i,a[e]=Pt(i)?1+i.length:-1),o},modified(e,t){const i=this[Hb];if(!arguments.length){for(const r in i)if(i[r])return!0;return!1}if(Pt(e)){for(let r=0;r<e.length;++r)if(i[e[r]])return!0;return!1}return null!=t&&t>=0?t+1<i[e]||!!i[t+":"+e]:!!i[e]},clear(){return this[Hb]={},this}};let uqe=0;const fqe=new zb;function Ao(e,t,i,r){this.id=++uqe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),i&&this.parameters(i,r)}function Lre(e){return function(t){const i=this.flags;return 0===arguments.length?!!(i&e):(this.flags=t?i|e:i&~e,this)}}Ao.prototype={targets(){return this._targets||(this._targets=Bb(K6))},set(e){return this.value!==e?(this.value=e,1):0},skip:Lre(1),modified:Lre(2),parameters(e,t,i){t=!1!==t;const r=this._argval=this._argval||new zb,o=this._argops=this._argops||[],s=[];let a,l,u,c;const f=(d,h,p)=>{p instanceof Ao?(p!==this&&(t&&p.targets().add(this),s.push(p)),o.push({op:p,name:d,index:h})):r.set(d,h,p)};for(a in e)if(l=e[a],"pulse"===a)Un(l).forEach(d=>{d instanceof Ao?d!==this&&(d.targets().add(this),s.push(d)):Rt("Pulse parameters must be operator instances.")}),this.source=l;else if(Pt(l))for(r.set(a,-1,Array(u=l.length)),c=0;c<u;++c)f(a,c,l[c]);else f(a,-1,l);return this.marshall().clear(),i&&(o.initonly=!0),s},marshall(e){const t=this._argval||fqe,i=this._argops;let r,o,s,a;if(i){const l=i.length;for(o=0;o<l;++o)r=i[o],s=r.op,a=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,a);if(i.initonly){for(o=0;o<l;++o)r=i[o],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,i,r,o;if(e)for(t=0,i=e.length;t<i;++t)r=e[t],o=r.op,o._targets&&o._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const i=this.marshall(e.stamp),r=t.call(this,i,e);if(i.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let mqe=0;function qb(e,t,i){this.id=++mqe,this.value=null,i&&(this.receive=i),e&&(this._filter=e),t&&(this._apply=t)}function dp(e,t,i){return new qb(e,t,i)}function ZO(){return ZO=Ks(function*(e,t){const i=this;let o,r=0;try{o=yield i.loader().load(e,{context:"dataflow",response:Ire(t&&t.type)});try{o=i.parse(o,t)}catch(s){r=-2,i.warn("Data ingestion failed",e,s)}}catch(s){r=-1,i.warn("Loading failed",e,s)}return{data:o,status:r}}),ZO.apply(this,arguments)}function QO(){return QO=Ks(function*(e,t,i){const r=this,o=r._pending||function Eqe(e){let t;const i=new Promise(r=>t=r);return i.requests=0,i.done=()=>{0==--i.requests&&(e._pending=null,t(e))},e._pending=i}(r);o.requests+=1;const s=yield r.request(t,i);return r.pulse(e,r.changeset().remove(kc).insert(s.data||[])),o.done(),s}),QO.apply(this,arguments)}qb.prototype={_filter:kc,_apply:sl,targets(){return this._targets||(this._targets=Bb(K6))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),i=this._targets,r=i?i.length:0;for(let o=0;o<r;++o)i[o].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=dp(e);return this.targets().add(t),t},apply(e){const t=dp(null,e);return this.targets().add(t),t},merge(){const e=dp();this.targets().add(e);for(let t=0,i=arguments.length;t<i;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const i=Date.now();return i-t>e?(t=i,1):0})},debounce(e){const t=dp();return this.targets().add(dp(null,null,eO(e,i=>{const r=i.dataflow;t.receive(i),r&&r.run&&r.run()}))),t},between(e,t){let i=!1;return e.targets().add(dp(null,null,()=>i=!0)),t.targets().add(dp(null,null,()=>i=!1)),this.filter(()=>i)},detach(){this._filter=kc,this._targets=null}};const Sqe={skip:!0};function Dqe(e,t,i,r,o,s){const a=cr({},s,Sqe);let l,u;ur(i)||(i=ll(i)),void 0===r?l=c=>e.touch(i(c)):ur(r)?(u=new Ao(null,r,o,!1),l=c=>{u.evaluate(c);const f=i(c),d=u.value;Pre(d)?e.pulse(f,d,s):e.update(f,d,a)}):l=c=>e.update(i(c),r,a),t.apply(l)}function xqe(e,t,i,r,o,s){if(void 0===r)t.targets().add(i);else{const a=s||{},l=new Ao(null,function Mqe(e,t){return t=ur(t)?t:ll(t),e?function(i,r){const o=t(i,r);return e.skip()||(e.skip(o!==this.value).value=o),o}:t}(i,r),o,!1);l.modified(a.force),l.rank=t.rank,t.targets().add(l),i&&(l.skip(!0),l.value=i.value,l.targets().add(i),e.connect(i,[l]))}}const jb={};function pp(e,t,i){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=i||null}function JO(e,t){const i=[];return cp(e,t,r=>i.push(r)),i}function Hre(e,t){const i={};return e.visit(t,r=>{i[yi(r)]=1}),r=>i[yi(r)]?null:r}function Gb(e,t){return e?(i,r)=>e(i,r)&&t(i,r):t}function eR(e,t,i,r){const o=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=i;for(const a of i)if(a.stamp===t){if(a.fields){const l=o.fields||(o.fields={});for(const u in a.fields)l[u]=1}a.changed(o.ADD)&&(s|=o.ADD),a.changed(o.REM)&&(s|=o.REM),a.changed(o.MOD)&&(s|=o.MOD)}this.changes=s}function tR(){return tR=Ks(function*(e,t,i){const r=this,o=[];if(r._pulse)return zre(r);if(r._pending&&(yield r._pending),t&&(yield $b(r,t)),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new pp(r,s,e),r._touched.forEach(f=>r._enqueue(f,!0)),r._touched=Bb(K6);let l,u,c,a=0;try{for(;r._heap.size()>0;)l=r._heap.pop(),l.rank===l.qrank?(u=l.run(r._getPulse(l,e)),u.then?u=yield u:u.async&&(o.push(u.async),u=jb),u!==jb&&l._targets&&l._targets.forEach(f=>r._enqueue(f)),++a):r._enqueue(l,!0)}catch(f){r._heap.clear(),c=f}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${a} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const f=r._postrun.sort((d,h)=>h.priority-d.priority);r._postrun=[];for(let d=0;d<f.length;++d)yield $b(r,f[d].callback)}return i&&(yield $b(r,i)),o.length&&Promise.all(o).then(f=>r.runAsync(null,()=>{f.forEach(d=>{try{d(r)}catch(h){r.error(h)}})})),r}),tR.apply(this,arguments)}function nR(){return nR=Ks(function*(e,t,i){for(;this._running;)yield this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,i)).then(r,r),this._running}),nR.apply(this,arguments)}function zre(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}pp.prototype={StopPropagation:jb,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new pp(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new pp(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const i=this;return i.stamp=e.stamp,i.encode=e.encode,e.fields&&!(64&t)&&(i.fields=e.fields),1&t?(i.addF=e.addF,i.add=e.add):(i.addF=null,i.add=[]),2&t?(i.remF=e.remF,i.rem=e.rem):(i.remF=null,i.rem=[]),4&t?(i.modF=e.modF,i.mod=e.mod):(i.modF=null,i.mod=[]),32&t?(i.srcF=null,i.source=null):(i.srcF=e.srcF,i.source=e.source,e.cleans&&(i.cleans=e.cleans)),i},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,i=this.source&&this.source.length;return i&&i!==t&&(this.mod=this.source,t&&this.filter(4,Hre(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Pt(e)?e.forEach(i=>t[i]=!0):t[e]=!0,this},modified(e,t){const i=this.fields;return!(!t&&!this.mod.length||!i)&&(arguments.length?Pt(e)?e.some(r=>i[r]):i[e]:!!i)},filter(e,t){const i=this;return 1&e&&(i.addF=Gb(i.addF,t)),2&e&&(i.remF=Gb(i.remF,t)),4&e&&(i.modF=Gb(i.modF,t)),16&e&&(i.srcF=Gb(i.srcF,t)),i},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=JO(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=JO(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=JO(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const i=this,r=t;if(16&e)return cp(i.source,i.srcF,r),i;1&e&&cp(i.add,i.addF,r),2&e&&cp(i.rem,i.remF,r),4&e&&cp(i.mod,i.modF,r);const o=i.source;if(8&e&&o){const s=i.add.length+i.mod.length;s===o.length||cp(o,s?Hre(i,5):i.srcF,r)}return i}},Dn(eR,pp,{fork(e){const t=new pp(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,i=>t.add.push(i)),e&t.REM&&this.visit(t.REM,i=>t.rem.push(i)),e&t.MOD&&this.visit(t.MOD,i=>t.mod.push(i))),t},changed(e){return this.changes&e},modified(e){const t=this,i=t.fields;return i&&t.changes&t.MOD?Pt(e)?e.some(r=>i[r]):i[e]:0},filter(){Rt("MultiPulse does not support filtering.")},materialize(){Rt("MultiPulse does not support materialization.")},visit(e,t){const i=this,r=i.pulses,o=r.length;let s=0;if(e&i.SOURCE)for(;s<o;++s)r[s].visit(e,t);else for(;s<o;++s)r[s].stamp===i.stamp&&r[s].visit(e,t);return i}});const iR={skip:!1,force:!1};function qre(e,t,i,r){let o,s;const a=e[i];for(;i>t&&(s=i-1>>1,o=e[s],r(a,o)<0);)e[i]=o,i=s;return e[i]=a}function w3(){this.logger(KI()),this.logLevel(WI),this._clock=0,this._rank=0,this._locale=UO();try{this._loader=Lb()}catch{}this._touched=Bb(K6),this._input={},this._pulse=null,this._heap=function Vqe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:i=>(t.push(i),qre(t,0,t.length-1,e)),pop:()=>{const i=t.pop();let r;return t.length?(r=t[0],t[0]=i,function Hqe(e,t,i){const r=t,o=e.length,s=e[t];let l,a=1+(t<<1);for(;a<o;)l=a+1,l<o&&i(e[a],e[l])>=0&&(a=l),e[t]=e[a],a=1+((t=a)<<1);e[t]=s,qre(e,r,t,i)}(t,0,e)):r=i,r}}}((e,t)=>e.qrank-t.qrank),this._postrun=[]}function b4(e){return function(){return this._log[e].apply(this,arguments)}}function Et(e,t){Ao.call(this,e,null,t)}w3.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:b4("error"),warn:b4("warn"),info:b4("info"),debug:b4("debug"),logLevel:b4("level"),cleanThreshold:1e4,add:function pqe(e,t,i,r){let s,o=1;return e instanceof Ao?s=e:e&&e.prototype instanceof Ao?s=new e:ur(e)?s=new Ao(null,e):(o=0,s=new Ao(e,t)),this.rank(s),o&&(r=i,i=t),i&&this.connect(s,s.parameters(i,r)),this.touch(s),s},connect:function gqe(e,t){const i=e.rank,r=t.length;for(let o=0;o<r;++o)if(i<t[o].rank)return void this.rerank(e)},rank:function Aqe(e){e.rank=++this._rank},rerank:function Tqe(e){const t=[e];let i,r,o;for(;t.length;)if(this.rank(i=t.pop()),r=i._targets)for(o=r.length;--o>=0;)t.push(i=r[o]),i===e&&Rt("Cycle detected in dataflow graph.")},pulse:function Uqe(e,t,i){this.touch(e,i||iR);const r=new pp(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,o),this},touch:function Bqe(e,t){const i=t||iR;return this._pulse?this._enqueue(e):this._touched.add(e),i.skip&&e.skip(!0),this},update:function $qe(e,t,i){const r=i||iR;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:hg,ingest:function yqe(e,t,i){return t=this.parse(t,i),this.pulse(e,this.changeset().insert(t))},parse:function _qe(e,t){const i=this.locale();return Ore(e,t,i.timeParse,i.utcParse)},preload:function wqe(e,t,i){return QO.apply(this,arguments)},request:function bqe(e,t){return ZO.apply(this,arguments)},events:function vqe(e,t,i,r){const o=this,s=dp(i,r),a=function(c){c.dataflow=o;try{s.receive(c)}catch(f){o.error(f)}finally{o.run()}};let l;l="string"==typeof e&&typeof document<"u"?document.querySelectorAll(e):Un(e);const u=l.length;for(let c=0;c<u;++c)l[c].addEventListener(t,a);return s},on:function Cqe(e,t,i,r,o){return(e instanceof Ao?xqe:Dqe)(this,e,t,i,r,o),this},evaluate:function Iqe(e,t,i){return tR.apply(this,arguments)},run:function Rqe(e,t,i){return this._pulse?zre(this):(this.evaluate(e,t,i),this)},runAsync:function Oqe(e,t,i){return nR.apply(this,arguments)},runAfter:function kqe(e,t,i){if(this._pulse||t)this._postrun.push({priority:i||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function Fqe(e,t){const i=e.stamp<this._clock;i&&(e.stamp=this._clock),(i||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function Pqe(e,t){const i=e.source,r=this._clock;return i&&Pt(i)?new eR(this,r,i.map(o=>o.pulse),t):this._input[e.id]||function Lqe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==jb&&(e.source=t.source),e)}(this._pulse,i&&i.pulse)}},Dn(Et,Ao,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(i=>this.pulse=i):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),i=this.transform(t,e);return t.clear(),i},transform(){}});const E3={};function jre(e){const t=Gre(e);return t&&t.Definition||null}function Gre(e){return e=e&&e.toLowerCase(),Gn(E3,e)?E3[e]:null}function Wb(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wre(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}function Yre(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i>r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i>o||void 0===i&&o>=o)&&(i=o)}return i}function Yb(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Xre(e,t,i=0,r=1/0,o){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(e.length-1,r)),!(i<=t&&t<=r))return e;for(o=void 0===o?Yb:function Kre(e=Wb){if(e===Wb)return Yb;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,i)=>{const r=e(t,i);return r||0===r?r:(0===e(i,i))-(0===e(t,t))}}(o);r>i;){if(r-i>600){const u=r-i+1,c=t-i+1,f=Math.log(u),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1);Xre(e,t,Math.max(i,Math.floor(t-c*d/u+h)),Math.min(r,Math.floor(t+(u-c)*d/u+h)),o)}const s=e[t];let a=i,l=r;for(w4(e,i,t),o(e[r],s)>0&&w4(e,i,r);a<l;){for(w4(e,a,l),++a,--l;o(e[a],s)<0;)++a;for(;o(e[l],s)>0;)--l}0===o(e[i],s)?w4(e,i,l):(++l,w4(e,l,r)),l<=t&&(i=l+1),t<=l&&(r=l-1)}return e}function w4(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function zqe(e){return null===e?NaN:+e}function rR(e,t,i){if(e=Float64Array.from(function*qqe(e,t){if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(yield r)}}(e,i)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Yre(e);if(t>=1)return Wre(e);var r,o=(r-1)*t,s=Math.floor(o),a=Wre(Xre(e,s).subarray(0,s+1));return a+(Yre(e.subarray(s+1))-a)*(o-s)}}function Yqe(e,t){return rR(e,.5,t)}function*Zre(e,t){if(null==t)for(let i of e)null!=i&&""!==i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)r=t(r,++i,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function oR(e,t,i){const r=Float64Array.from(Zre(e,i));return r.sort(Wb),t.map(o=>function jqe(e,t,i=zqe){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+i(e[0],0,e);if(t>=1)return+i(e[r-1],r-1,e);var r,o=(r-1)*t,s=Math.floor(o),a=+i(e[s],s,e);return a+(+i(e[s+1],s+1,e)-a)*(o-s)}}(r,o))}function sR(e,t){return oR(e,[.25,.5,.75],t)}function aR(e,t){const i=e.length,r=function Wqe(e,t){const i=function Gqe(e,t){let r,i=0,o=0,s=0;if(void 0===t)for(let a of e)null!=a&&(a=+a)>=a&&(r=a-o,o+=r/++i,s+=r*(a-o));else{let a=-1;for(let l of e)null!=(l=t(l,++a,e))&&(l=+l)>=l&&(r=l-o,o+=r/++i,s+=r*(l-o))}if(i>1)return s/(i-1)}(e,t);return i&&Math.sqrt(i)}(e,t),o=sR(e,t);return 1.06*(Math.min(r,(o[2]-o[0])/1.34)||r||Math.abs(o[0])||1)*Math.pow(i,-.2)}function Qre(e){const t=e.maxbins||20,i=e.base||10,r=Math.log(i),o=e.divide||[5,2];let l,u,c,f,d,h,s=e.extent[0],a=e.extent[1];const p=e.span||a-s||Math.abs(s)||1;if(e.step)l=e.step;else if(e.steps){for(f=p/t,d=0,h=e.steps.length;d<h&&e.steps[d]<f;++d);l=e.steps[Math.max(0,d-1)]}else{for(u=Math.ceil(Math.log(t)/r),c=e.minstep||0,l=Math.max(c,Math.pow(i,Math.round(Math.log(p)/r)-u));Math.ceil(p/l)>t;)l*=i;for(d=0,h=o.length;d<h;++d)f=l/o[d],f>=c&&p/f<=t&&(l=f)}f=Math.log(l);const v=Math.pow(i,-(f>=0?0:1+~~(-f/r))-1);return(e.nice||void 0===e.nice)&&(f=Math.floor(s/l+v)*l,s=s<f?f-l:f,a=Math.ceil(a/l)*l),{start:s,stop:a===s?s+l:a,step:l}}var $c=Math.random;function Kqe(e){$c=e}function Jre(e,t,i,r){if(!e.length)return[void 0,void 0];const o=Float64Array.from(Zre(e,r)),s=o.length,a=t;let l,u,c,f;for(c=0,f=Array(a);c<a;++c){for(l=0,u=0;u<s;++u)l+=o[~~($c()*s)];f[c]=l/s}return f.sort(Wb),[rR(f,i/2),rR(f,1-i/2)]}function eoe(e,t,i,r){r=r||(h=>h);const o=e.length,s=new Float64Array(o);let d,a=0,l=1,u=r(e[0]),c=u,f=u+t;for(;l<o;++l){if(d=r(e[l]),d>=f){for(c=(u+c)/2;a<l;++a)s[a]=c;f=d+t,u=d}c=d}for(c=(u+c)/2;a<l;++a)s[a]=c;return i?function Xqe(e,t){const i=e.length;let s,a,r=0,o=1;for(;e[r]===e[o];)++o;for(;o<i;){for(s=o+1;e[o]===e[s];)++s;if(e[o]-e[o-1]<t){for(a=o+(r+s-o-o>>1);a<o;)e[a++]=e[o];for(;a>o;)e[a--]=e[r]}r=o,o=s}return e}(s,t+t/4):s}function Zqe(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function Qqe(e,t){let i,r,o;null==t&&(t=e,e=0);const s={min(a){return arguments.length?(i=a||0,o=r-i,s):i},max(a){return arguments.length?(r=a||0,o=r-i,s):r},sample:()=>i+Math.floor(o*$c()),pdf:a=>a===Math.floor(a)&&a>=i&&a<r?1/o:0,cdf(a){const l=Math.floor(a);return l<i?0:l>=r?1:(l-i+1)/o},icdf:a=>a>=0&&a<=1?i-1+Math.floor(a*o):NaN};return s.min(e).max(t)}const toe=Math.sqrt(2*Math.PI),Jqe=Math.SQRT2;let E4=NaN;function Kb(e,t){e=e||0,t=t??1;let o,s,i=0,r=0;if(E4==E4)i=E4,E4=NaN;else{do{i=2*$c()-1,r=2*$c()-1,o=i*i+r*r}while(0===o||o>1);s=Math.sqrt(-2*Math.log(o)/o),i*=s,E4=r*s}return e+i*t}function lR(e,t,i){const r=(e-(t||0))/(i=i??1);return Math.exp(-.5*r*r)/(i*toe)}function Xb(e,t,i){const r=(e-(t=t||0))/(i=i??1),o=Math.abs(r);let s;if(o>37)s=0;else{const a=Math.exp(-o*o/2);let l;o<7.07106781186547?(l=.0352624965998911*o+.700383064443688,l=l*o+6.37396220353165,l=l*o+33.912866078383,l=l*o+112.079291497871,l=l*o+221.213596169931,l=l*o+220.206867912376,s=a*l,l=.0883883476483184*o+1.75566716318264,l=l*o+16.064177579207,l=l*o+86.7807322029461,l=l*o+296.564248779674,l=l*o+637.333633378831,l=l*o+793.826512519948,l=l*o+440.413735824752,s/=l):(l=o+.65,l=o+4/l,l=o+3/l,l=o+2/l,l=o+1/l,s=a/l/2.506628274631)}return r>0?1-s:s}function Zb(e,t,i){return e<0||e>1?NaN:(t||0)+(i??1)*Jqe*function eje(e){let i,t=-Math.log((1-e)*(1+e));return t<6.25?(t-=3.125,i=-364441206401782e-35,i=i*t-16850591381820166e-35,i=128584807152564e-32+i*t,i=11157877678025181e-33+i*t,i=i*t-1333171662854621e-31,i=20972767875968562e-33+i*t,i=6637638134358324e-30+i*t,i=i*t-4054566272975207e-29,i=i*t-8151934197605472e-29,i=26335093153082323e-28+i*t,i=i*t-12975133253453532e-27,i=i*t-5415412054294628e-26,i=1.0512122733215323e-9+i*t,i=i*t-4.112633980346984e-9,i=i*t-2.9070369957882005e-8,i=4.2347877827932404e-7+i*t,i=i*t-13654692000834679e-22,i=i*t-13882523362786469e-21,i=.00018673420803405714+i*t,i=i*t-.000740702534166267,i=i*t-.006033670871430149,i=.24015818242558962+i*t,i=1.6536545626831027+i*t):t<16?(t=Math.sqrt(t)-3.25,i=2.2137376921775787e-9,i=9.075656193888539e-8+i*t,i=i*t-2.7517406297064545e-7,i=1.8239629214389228e-8+i*t,i=15027403968909828e-22+i*t,i=i*t-4013867526981546e-21,i=29234449089955446e-22+i*t,i=12475304481671779e-21+i*t,i=i*t-47318229009055734e-21,i=6828485145957318e-20+i*t,i=24031110387097894e-21+i*t,i=i*t-.0003550375203628475,i=.0009532893797373805+i*t,i=i*t-.0016882755560235047,i=.002491442096107851+i*t,i=i*t-.003751208507569241,i=.005370914553590064+i*t,i=1.0052589676941592+i*t,i=3.0838856104922208+i*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,i=-27109920616438573e-27,i=i*t-2.555641816996525e-10,i=1.5076572693500548e-9+i*t,i=i*t-3.789465440126737e-9,i=7.61570120807834e-9+i*t,i=i*t-1.496002662714924e-8,i=2.914795345090108e-8+i*t,i=i*t-6.771199775845234e-8,i=2.2900482228026655e-7+i*t,i=i*t-9.9298272942317e-7,i=4526062597223154e-21+i*t,i=i*t-1968177810553167e-20,i=7599527703001776e-20+i*t,i=i*t-.00021503011930044477,i=i*t-.00013871931833623122,i=1.0103004648645344+i*t,i=4.849906401408584+i*t):i=1/0,i*e}(2*e-1)}function uR(e,t){let i,r;const o={mean(s){return arguments.length?(i=s||0,o):i},stdev(s){return arguments.length?(r=s??1,o):r},sample:()=>Kb(i,r),pdf:s=>lR(s,i,r),cdf:s=>Xb(s,i,r),icdf:s=>Zb(s,i,r)};return o.mean(e).stdev(t)}function cR(e,t){const i=uR();let r=0;const o={data(s){return arguments.length?(e=s,r=s?s.length:0,o.bandwidth(t)):e},bandwidth(s){return arguments.length?(!(t=s)&&e&&(t=aR(e)),o):t},sample:()=>e[~~($c()*r)]+t*i.sample(),pdf(s){let a=0,l=0;for(;l<r;++l)a+=i.pdf((s-e[l])/t);return a/t/r},cdf(s){let a=0,l=0;for(;l<r;++l)a+=i.cdf((s-e[l])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return o.data(e)}function fR(e,t){return e=e||0,t=t??1,Math.exp(e+Kb()*t)}function dR(e,t,i){if(e<=0)return 0;t=t||0,i=i??1;const r=(Math.log(e)-t)/i;return Math.exp(-.5*r*r)/(i*toe*e)}function hR(e,t,i){return Xb(Math.log(e),t,i)}function pR(e,t,i){return Math.exp(Zb(e,t,i))}function noe(e,t){let i,r;const o={mean(s){return arguments.length?(i=s||0,o):i},stdev(s){return arguments.length?(r=s??1,o):r},sample:()=>fR(i,r),pdf:s=>dR(s,i,r),cdf:s=>hR(s,i,r),icdf:s=>pR(s,i,r)};return o.mean(e).stdev(t)}function ioe(e,t){let r,i=0;const s={weights(a){return arguments.length?(r=function o(a){const l=[];let c,u=0;for(c=0;c<i;++c)u+=l[c]=null==a[c]?1:+a[c];for(c=0;c<i;++c)l[c]/=u;return l}(t=a||[]),s):t},distributions(a){return arguments.length?(a?(i=a.length,e=a):(i=0,e=[]),s.weights(t)):e},sample(){const a=$c();let l=e[i-1],u=r[0],c=0;for(;c<i-1;u+=r[++c])if(a<u){l=e[c];break}return l.sample()},pdf(a){let l=0,u=0;for(;u<i;++u)l+=r[u]*e[u].pdf(a);return l},cdf(a){let l=0,u=0;for(;u<i;++u)l+=r[u]*e[u].cdf(a);return l},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function gR(e,t){return null==t&&(t=e??1,e=0),e+(t-e)*$c()}function mR(e,t,i){return null==i&&(i=t??1,t=0),e>=t&&e<=i?1/(i-t):0}function vR(e,t,i){return null==i&&(i=t??1,t=0),e<t?0:e>i?1:(e-t)/(i-t)}function _R(e,t,i){return null==i&&(i=t??1,t=0),e>=0&&e<=1?t+e*(i-t):NaN}function roe(e,t){let i,r;const o={min(s){return arguments.length?(i=s||0,o):i},max(s){return arguments.length?(r=s??1,o):r},sample:()=>gR(i,r),pdf:s=>mR(s,i,r),cdf:s=>vR(s,i,r),icdf:s=>_R(s,i,r)};return null==t&&(t=e??1,e=0),o.min(e).max(t)}function yR(e,t,i){let r=0,o=0;for(const s of e){const a=i(s);null==t(s)||null==a||isNaN(a)||(r+=(a-r)/++o)}return{coef:[r],predict:()=>r,rSquared:0}}function S4(e,t,i,r){const o=r-e*e,s=Math.abs(o)<1e-24?0:(i-e*t)/o;return[t-s*e,s]}function Qb(e,t,i,r){e=e.filter(p=>{let m=t(p),v=i(p);return null!=m&&(m=+m)>=m&&null!=v&&(v=+v)>=v}),r&&e.sort((p,m)=>t(p)-t(m));const o=e.length,s=new Float64Array(o),a=new Float64Array(o);let f,d,h,l=0,u=0,c=0;for(h of e)s[l]=f=+t(h),a[l]=d=+i(h),++l,u+=(f-u)/l,c+=(d-c)/l;for(l=0;l<o;++l)s[l]-=u,a[l]-=c;return[s,a,u,c]}function C4(e,t,i,r){let s,a,o=-1;for(const l of e)s=t(l),a=i(l),null!=s&&(s=+s)>=s&&null!=a&&(a=+a)>=a&&r(s,a,++o)}function S3(e,t,i,r,o){let s=0,a=0;return C4(e,t,i,(l,u)=>{const c=u-o(l),f=u-r;s+=c*c,a+=f*f}),1-s/a}function bR(e,t,i){let r=0,o=0,s=0,a=0,l=0;C4(e,t,i,(f,d)=>{++l,r+=(f-r)/l,o+=(d-o)/l,s+=(f*d-s)/l,a+=(f*f-a)/l});const u=S4(r,o,s,a),c=f=>u[0]+u[1]*f;return{coef:u,predict:c,rSquared:S3(e,t,i,o,c)}}function ooe(e,t,i){let r=0,o=0,s=0,a=0,l=0;C4(e,t,i,(f,d)=>{++l,f=Math.log(f),r+=(f-r)/l,o+=(d-o)/l,s+=(f*d-s)/l,a+=(f*f-a)/l});const u=S4(r,o,s,a),c=f=>u[0]+u[1]*Math.log(f);return{coef:u,predict:c,rSquared:S3(e,t,i,o,c)}}function soe(e,t,i){const[r,o,s,a]=Qb(e,t,i);let h,p,m,l=0,u=0,c=0,f=0,d=0;C4(e,t,i,(w,S)=>{h=r[d++],p=Math.log(S),m=h*S,l+=(S*p-l)/d,u+=(m-u)/d,c+=(m*p-c)/d,f+=(h*m-f)/d});const[v,_]=S4(u/a,l/a,c/a,f/a),y=w=>Math.exp(v+_*(w-s));return{coef:[Math.exp(v-_*s),_],predict:y,rSquared:S3(e,t,i,a,y)}}function aoe(e,t,i){let r=0,o=0,s=0,a=0,l=0,u=0;C4(e,t,i,(d,h)=>{const p=Math.log(d),m=Math.log(h);++u,r+=(p-r)/u,o+=(m-o)/u,s+=(p*m-s)/u,a+=(p*p-a)/u,l+=(h-l)/u});const c=S4(r,o,s,a),f=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:f,rSquared:S3(e,t,i,l,f)}}function wR(e,t,i){const[r,o,s,a]=Qb(e,t,i),l=r.length;let p,m,v,_,u=0,c=0,f=0,d=0,h=0;for(p=0;p<l;)m=r[p],v=o[p++],_=m*m,u+=(_-u)/p,c+=(_*m-c)/p,f+=(_*_-f)/p,d+=(m*v-d)/p,h+=(_*v-h)/p;const y=f-u*u,w=u*y-c*c,S=(h*u-d*c)/w,M=(d*y-h*c)/w,A=-S*u,F=N=>S*(N-=s)*N+M*N+A+a;return{coef:[A-M*s+S*s*s+a,M-2*S*s,S],predict:F,rSquared:S3(e,t,i,a,F)}}function loe(e,t,i,r){if(0===r)return yR(e,t,i);if(1===r)return bR(e,t,i);if(2===r)return wR(e,t,i);const[o,s,a,l]=Qb(e,t,i),u=o.length,c=[],f=[],d=r+1;let h,p,m,v,_;for(h=0;h<d;++h){for(m=0,v=0;m<u;++m)v+=Math.pow(o[m],h)*s[m];for(c.push(v),_=new Float64Array(d),p=0;p<d;++p){for(m=0,v=0;m<u;++m)v+=Math.pow(o[m],h+p);_[p]=v}f.push(_)}f.push(c);const y=function nje(e){const t=e.length-1,i=[];let r,o,s,a,l;for(r=0;r<t;++r){for(a=r,o=r+1;o<t;++o)Math.abs(e[r][o])>Math.abs(e[r][a])&&(a=o);for(s=r;s<t+1;++s)l=e[s][r],e[s][r]=e[s][a],e[s][a]=l;for(o=r+1;o<t;++o)for(s=t;s>=r;s--)e[s][o]-=e[s][r]*e[r][o]/e[r][r]}for(o=t-1;o>=0;--o){for(l=0,s=o+1;s<t;++s)l+=e[s][o]*i[s];i[o]=(e[t][o]-l)/e[o][o]}return i}(f),w=S=>{let M=l+y[0]+y[1]*(S-=a)+y[2]*S*S;for(h=3;h<d;++h)M+=y[h]*Math.pow(S,h);return M};return{coef:tje(d,y,-a,l),predict:w,rSquared:S3(e,t,i,l,w)}}function tje(e,t,i,r){const o=Array(e);let s,a,l,u;for(s=0;s<e;++s)o[s]=0;for(s=e-1;s>=0;--s)for(l=t[s],u=1,o[s]+=l,a=1;a<=s;++a)u*=(s+1-a)/a,o[s-a]+=l*Math.pow(i,a)*u;return o[0]+=r,o}const uoe=2,coe=1e-12;function foe(e,t,i,r){const[o,s,a,l]=Qb(e,t,i,!0),u=o.length,c=Math.max(2,~~(r*u)),f=new Float64Array(u),d=new Float64Array(u),h=new Float64Array(u).fill(1);for(let p=-1;++p<=uoe;){const m=[0,c-1];for(let _=0;_<u;++_){const y=o[_],w=m[0],S=m[1];let A=0,F=0,N=0,H=0,K=0;const oe=1/Math.abs(o[y-o[w]>o[S]-y?w:S]-y||1);for(let pe=w;pe<=S;++pe){const R=o[pe],P=s[pe],$=ije(Math.abs(y-R)*oe)*h[pe],Q=R*$;A+=$,F+=Q,N+=P*$,H+=P*Q,K+=R*Q}const[ee,ve]=S4(F/A,N/A,H/A,K/A);f[_]=ee+ve*y,d[_]=Math.abs(s[_]-f[_]),rje(o,_+1,m)}if(p===uoe)break;const v=Yqe(d);if(Math.abs(v)<coe)break;for(let y,w,_=0;_<u;++_)y=d[_]/(6*v),h[_]=y>=1?coe:(w=1-y*y)*w}return function oje(e,t,i,r){const o=e.length,s=[];let c,a=0,l=0,u=[];for(;a<o;++a)c=e[a]+i,u[0]===c?u[1]+=(t[a]-u[1])/++l:(l=0,u[1]+=r,u=[c,t[a]],s.push(u));return u[1]+=r,s}(o,f,a,l)}function ije(e){return(e=1-e*e*e)*e*e}function rje(e,t,i){const r=e[t];let o=i[0],s=i[1]+1;if(!(s>=e.length))for(;t>o&&e[s]-r<=r-e[o];)i[0]=++o,i[1]=s,++s}const sje=.5*Math.PI/180;function Jb(e,t,i,r){i=i||25,r=Math.max(i,r||200);const o=v=>[v,e(v)],s=t[0],a=t[1],l=a-s,u=l/r,c=[o(s)],f=[];if(i===r){for(let v=1;v<r;++v)c.push(o(s+v/i*l));return c.push(o(a)),c}f.push(o(a));for(let v=i;--v>0;)f.push(o(s+v/i*l));let d=c[0],h=f[f.length-1];const p=1/l,m=function aje(e,t){let i=e,r=e;const o=t.length;for(let s=0;s<o;++s){const a=t[s][1];a<i&&(i=a),a>r&&(r=a)}return 1/(r-i)}(d[1],f);for(;h;){const v=o((d[0]+h[0])/2);v[0]-d[0]>=u&&lje(d,v,h,p,m)>sje?f.push(v):(d=h,c.push(h),f.pop()),h=f[f.length-1]}return c}function lje(e,t,i,r,o){const s=Math.atan2(o*(i[1]-e[1]),r*(i[0]-e[0])),a=Math.atan2(o*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-a)}function ER(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}function SR(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i>r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i>o||void 0===i&&o>=o)&&(i=o)}return i}function D4(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ew(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function hoe(e,t,i=0,r=1/0,o){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(e.length-1,r)),!(i<=t&&t<=r))return e;for(o=void 0===o?ew:function doe(e=D4){if(e===D4)return ew;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,i)=>{const r=e(t,i);return r||0===r?r:(0===e(i,i))-(0===e(t,t))}}(o);r>i;){if(r-i>600){const u=r-i+1,c=t-i+1,f=Math.log(u),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1);hoe(e,t,Math.max(i,Math.floor(t-c*d/u+h)),Math.min(r,Math.floor(t+(u-c)*d/u+h)),o)}const s=e[t];let a=i,l=r;for(x4(e,i,t),o(e[r],s)>0&&x4(e,i,r);a<l;){for(x4(e,a,l),++a,--l;o(e[a],s)<0;)++a;for(;o(e[l],s)>0;)--l}0===o(e[i],s)?x4(e,i,l):(++l,x4(e,l,r)),l<=t&&(i=l+1),t<=l&&(r=l-1)}return e}function x4(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function poe(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function hje(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gje(){return 0}function CR(e){return e&&e.length?1===e.length?e[0]:function mje(e){return t=>{const i=e.length;let r=1,o=String(e[0](t));for(;r<i;++r)o+="|"+e[r](t);return o}}(e):function(){return""}}function goe(e,t,i){return i||e+(t?"_"+t:"")}const DR=()=>{},vje={init:DR,add:DR,rem:DR,idx:0},M4={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,i)=>{t<e.min&&(e.argmin=i)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,i)=>{t>e.max&&(e.argmax=i)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},A4=Object.keys(M4).filter(e=>"__count__"!==e);function moe(e,t,i){return M4[e](i,t)}function voe(e,t){return e.idx-t.idx}function bje(){this.valid=0,this.missing=0,this._ops.forEach(e=>null==e.aggregate_param?e.init(this):e.init(this,e.aggregate_param))}function wje(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(i=>i.add(this,e,t))):++this.missing}function Eje(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(i=>i.rem(this,e,t))):--this.missing}function Sje(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function _oe(e,t){const i=t||sl,r=function yje(e){const t={};e.forEach(r=>t[r.name]=r);const i=r=>{r.req&&r.req.forEach(o=>{t[o]||i(t[o]=M4[o]())})};return e.forEach(i),Object.values(t).sort(voe)}(e),o=e.slice().sort(voe);function s(a){this._ops=r,this._out=o,this.cell=a,this.init()}return s.prototype.init=bje,s.prototype.add=wje,s.prototype.rem=Eje,s.prototype.set=Sje,s.prototype.get=i,s.fields=e.map(a=>a.out),s}function xR(e){this._key=e?Rc(e):yi,this.reset()}[...A4,"__count__"].forEach(e=>{M4[e]=function _je(e,t){return(i,r)=>cr({name:e,aggregate_param:r,out:i||e},vje,t)}(e,M4[e])});const Pa=xR.prototype;function gp(e){Et.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function MR(e){Et.call(this,null,e)}function yoe(e,t,i){const r=e;let o=t||[],s=i||[],a={},l=0;return{add:u=>s.push(u),remove:u=>a[r(u)]=++l,size:()=>o.length,data:(u,c)=>(l&&(o=o.filter(f=>!a[r(f)]),a={},l=0),c&&u&&o.sort(u),s.length&&(o=u?oie(u,o,s.sort(u)):o.concat(s),s=[]),o)}}function AR(e){Et.call(this,[],e)}function boe(e){Ao.call(this,null,Dje,e)}function Dje(e){return this.value&&!e.modified()?this.value:JI(e.fields,e.orders)}function TR(e){Et.call(this,null,e)}function NR(e){Et.call(this,null,e)}Pa.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Pa.add=function(e){this._add.push(e)},Pa.rem=function(e){this._rem.push(e)},Pa.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,i=this._key,r=e.length,o=t.length,s=Array(r-o),a={};let l,u,c;for(l=0;l<o;++l)a[i(t[l])]=1;for(l=0,u=0;l<r;++l)a[i(c=e[l])]?a[i(c)]=0:s[u++]=c;return this._rem=[],this._add=s},Pa.distinct=function(e){const t=this.values(),i={};let s,r=t.length,o=0;for(;--r>=0;)s=e(t[r])+"",Gn(i,s)||(i[s]=1,++o);return o},Pa.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),i=eie(t,e);this._ext=[t[i[0]],t[i[1]]],this._get=e}return this._ext},Pa.argmin=function(e){return this.extent(e)[0]||{}},Pa.argmax=function(e){return this.extent(e)[1]||{}},Pa.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},Pa.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},Pa.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=sR(this.values(),e),this._get=e),this._q},Pa.q1=function(e){return this.quartile(e)[0]},Pa.q2=function(e){return this.quartile(e)[1]},Pa.q3=function(e){return this.quartile(e)[2]},Pa.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=Jre(this.values(),1e3,.05,e),this._get=e),this._ci},Pa.ci0=function(e){return this.ci(e)[0]},Pa.ci1=function(e){return this.ci(e)[1]},gp.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:A4},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Dn(gp,Et,{transform(e,t){const i=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return i.stamp=r.stamp,i.value&&(o||t.modified(i._inputs,!0))?(i._prev=i.value,i.value=o?i.init(e):Object.create(null),t.visit(t.SOURCE,s=>i.add(s))):(i.value=i.value||i.init(e),t.visit(t.REM,s=>i.rem(s)),t.visit(t.ADD,s=>i.add(s))),r.modifies(i._outputs),i._drop=!1!==e.drop,e.cross&&i._dims.length>1&&(i._drop=!1,i.cross()),t.clean()&&i._drop&&r.clean(!0).runAfter(()=>this.clean()),i.changes(r)},cross(){const e=this,t=e.value,i=e._dnames,r=i.map(()=>({})),o=i.length;function s(l){let u,c,f,d;for(u in l)for(f=l[u].tuple,c=0;c<o;++c)r[c][d=f[i[c]]]=d}s(e._prev),s(t),function a(l,u,c){const f=i[c],d=r[c++];for(const h in d){const p=l?l+"|"+h:h;u[f]=d[h],c<o?a(p,u,c):t[p]||e.cell(p,u)}}("",{},0)},init(e){const t=this._inputs=[],i=this._outputs=[],r={};function o(w){const S=Un(ol(w)),M=S.length;let F,A=0;for(;A<M;++A)r[F=S[A]]||(r[F]=1,t.push(F))}this._dims=Un(e.groupby),this._dnames=this._dims.map(w=>{const S=ys(w);return o(w),i.push(S),S}),this.cellkey=e.key?e.key:CR(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],a=e.ops||["count"],l=e.aggregate_params||[null],u=e.as||[],c=s.length,f={};let d,h,p,m,v,_,y;for(c!==a.length&&Rt("Unmatched number of fields and aggregate ops."),y=0;y<c;++y)d=s[y],h=a[y],p=l[y]||null,null==d&&"count"!==h&&Rt("Null aggregate field specified."),v=ys(d),_=goe(h,v,u[y]),i.push(_),"count"!==h?(m=f[v],m||(o(d),m=f[v]=[],m.field=d,this._measures.push(m)),"count"!==h&&(this._countOnly=!1),m.push(moe(h,p,_))):this._counts.push(_);return this._measures=this._measures.map(w=>_oe(w,w.field)),Object.create(null)},cellkey:CR(),cell(e,t){let i=this.value[e];return i?0===i.num&&this._drop&&i.stamp<this.stamp?(i.stamp=this.stamp,this._adds[this._alen++]=i):i.stamp<this.stamp&&(i.stamp=this.stamp,this._mods[this._mlen++]=i):(i=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=i),i},newcell(e,t){const i={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,o=r.length;i.agg=Array(o);for(let s=0;s<o;++s)i.agg[s]=new r[s](i)}return i.store&&(i.data=new xR),i},newtuple(e,t){const i=this._dnames,r=this._dims,o=r.length,s={};for(let a=0;a<o;++a)s[i[a]]=r[a](e);return t?Fre(t.tuple,s):oo(s)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),i=this.cell(t,e);if(i.num+=1,this._countOnly)return;i.store&&i.data.add(e);const r=i.agg;for(let o=0,s=r.length;o<s;++o)r[o].add(r[o].get(e),e)},rem(e){const t=this.cellkey(e),i=this.cell(t,e);if(i.num-=1,this._countOnly)return;i.store&&i.data.rem(e);const r=i.agg;for(let o=0,s=r.length;o<s;++o)r[o].rem(r[o].get(e),e)},celltuple(e){const t=e.tuple,i=this._counts;e.store&&e.data.values();for(let r=0,o=i.length;r<o;++r)t[i[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let o=0,s=r.length;o<s;++o)r[o].set(t)}return t},changes(e){const t=this._adds,i=this._mods,r=this._prev,o=this._drop,s=e.add,a=e.rem,l=e.mod;let u,c,f,d;if(r)for(c in r)u=r[c],(!o||u.num)&&a.push(u.tuple);for(f=0,d=this._alen;f<d;++f)s.push(this.celltuple(t[f])),t[f]=null;for(f=0,d=this._mlen;f<d;++f)u=i[f],(0===u.num&&o?a:l).push(this.celltuple(u)),i[f]=null;return this._alen=this._mlen=0,this._prev=null,e}}),MR.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Dn(MR,Et,{transform(e,t){const i=!1!==e.interval,r=this._bins(e),o=r.start,s=r.step,a=e.as||["bin0","bin1"],l=a[0],u=a[1];let c;return c=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(ol(e.field))?t.ADD_MOD:t.ADD,t.visit(c,i?f=>{const d=r(f);f[l]=d,f[u]=null==d?null:o+s*(1+(d-o)/s)}:f=>f[l]=r(f)),t.modifies(i?a:l)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,i=Qre(e),r=i.step;let a,l,o=i.start,s=o+Math.ceil((i.stop-o)/r)*r;null!=(a=e.anchor)&&(l=a-(o+r*Math.floor((a-o)/r)),o+=l,s+=l);const u=function(c){let f=al(t(c));return null==f?null:f<o?-1/0:f>s?1/0:(f=Math.max(o,Math.min(f,s-r)),o+r*Math.floor(1e-14+(f-o)/r))};return u.start=o,u.stop=i.stop,u.step=r,this.value=cu(u,ol(t),e.name||"bin_"+ys(t))}}),AR.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Dn(AR,Et,{transform(e,t){const i=t.fork(t.ALL),r=yoe(yi,this.value,i.materialize(i.ADD).add),o=e.sort,s=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return i.visit(i.REM,r.remove),this.modified(s),this.value=i.source=r.data(dg(o),s),t.source&&t.source.root&&(this.value.root=t.source.root),i}}),Dn(boe,Ao),TR.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Dn(TR,Et,{transform(e,t){const i=d=>h=>{for(var m,p=function xje(e,t,i){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(i)}(l(h),e.case,s)||[],v=0,_=p.length;v<_;++v)a.test(m=p[v])||d(m)},r=this._parameterCheck(e,t),o=this._counts,s=this._match,a=this._stop,l=e.field,u=e.as||["text","count"],c=i(d=>o[d]=1+(o[d]||0)),f=i(d=>o[d]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let i=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),i=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),i=!0),(e.modified("field")||t.modified(e.field.fields))&&(i=!0),i&&(this._counts={}),i},_finish(e,t){const i=this._counts,r=this._tuples||(this._tuples={}),o=t[0],s=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let l,u,c;for(l in i)u=r[l],c=i[l]||0,!u&&c?(r[l]=u=oo({}),u[o]=l,u[s]=c,a.add.push(u)):0===c?(u&&a.rem.push(u),i[l]=null,r[l]=null):u[s]!==c&&(u[s]=c,a.mod.push(u));return a.modifies(t)}}),NR.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Dn(NR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.as||["a","b"],o=r[0],s=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return a?(l&&(i.rem=l),l=t.materialize(t.SOURCE).source,i.add=this.value=function Mje(e,t,i,r){for(var u,c,o=[],s={},a=e.length,l=0;l<a;++l)for(s[t]=c=e[l],u=0;u<a;++u)s[i]=e[u],r(s)&&(o.push(oo(s)),(s={})[t]=c);return o}(l,o,s,e.filter||kc)):i.mod=l,i.source=this.value,i.modifies(r)}});const woe={kde:cR,mixture:ioe,normal:uR,lognormal:noe,uniform:roe},Aje="distributions",Eoe="function",Tje="field";function Soe(e,t){const i=e[Eoe];Gn(woe,i)||Rt("Unknown distribution function: "+i);const r=woe[i]();for(const o in e)o===Tje?r.data((e.from||t()).map(e[o])):o===Aje?r[o](e[o].map(s=>Soe(s,t))):typeof r[o]===Eoe&&r[o](e[o]);return r}function IR(e){Et.call(this,null,e)}const Coe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function Doe(e,t){return e?e.map((i,r)=>t[r]||ys(i)):null}function OR(e,t,i){const r=[],o=d=>d(u);let s,a,l,u,c,f;if(null==t)r.push(e.map(i));else for(s={},a=0,l=e.length;a<l;++a)u=e[a],c=t.map(o),f=s[c],f||(s[c]=f=[],f.dims=c,r.push(f)),f.push(i(u));return r}function RR(e){Et.call(this,null,e)}function Moe(e){Ao.call(this,null,Rje,e),this.modified(!0)}function Rje(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:cu(i=>t(i,e),ol(t),ys(t))}function kR(e){Et.call(this,[void 0,void 0],e)}function FR(e,t){Ao.call(this,e),this.parent=t,this.count=0}function tw(e){Et.call(this,{},e),this._keys=f3();const t=this._targets=[];t.active=0,t.forEach=i=>{for(let r=0,o=t.active;r<o;++r)i(t[r],r,t)}}function Aoe(e){Ao.call(this,null,kje,e)}function kje(e){return this.value&&!e.modified()?this.value:Pt(e.name)?Un(e.name).map(t=>Rc(t)):Rc(e.name,e.as)}function PR(e){Et.call(this,f3(),e)}function LR(e){Et.call(this,[],e)}function BR(e){Et.call(this,[],e)}function $R(e){Et.call(this,null,e)}function Toe(e){Et.call(this,[],e)}IR.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Coe.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Coe},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},Dn(IR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Soe(e.distribution,function Ije(e){return()=>e.materialize(e.SOURCE).source}(t)),o=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Rt("Invalid density method: "+a),!e.extent&&!r.data&&Rt("Missing density extent parameter."),a=r[a];const l=e.as||["value","density"],c=Jb(a,e.extent||Id(r.data()),o,s).map(f=>{const d={};return d[l[0]]=f[0],d[l[1]]=f[1],oo(d)});this.value&&(i.rem=this.value),this.value=i.add=i.source=c}return i}}),RR.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Dn(RR,Et,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const i=t.materialize(t.SOURCE).source,r=OR(t.source,e.groupby,sl),o=e.smooth||!1,s=e.field,a=e.step||((e,t)=>Z6(Id(e,t))/30)(i,s),l=dg((m,v)=>s(m)-s(v)),u=e.as||"bin",c=r.length;let p,f=1/0,d=-1/0,h=0;for(;h<c;++h){const m=r[h].sort(l);p=-1;for(const v of eoe(m,a,o,s))v<f&&(f=v),v>d&&(d=v),m[++p][u]=v}return this.value={start:f,stop:d,step:a},t.reflow(!0).modifies(u)}}),Dn(Moe,Ao),kR.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Dn(kR,Et,{transform(e,t){const i=this.value,r=e.field,o=t.changed()||t.modified(r.fields)||e.modified("field");let s=i[0],a=i[1];if((o||null==s)&&(s=1/0,a=-1/0),t.visit(o?t.SOURCE:t.ADD,l=>{const u=al(r(l));null!=u&&(u<s&&(s=u),u>a&&(a=u))}),!Number.isFinite(s)||!Number.isFinite(a)){let l=ys(r);l&&(l=` for field "${l}"`),t.dataflow.warn(`Infinite extent${l}: [${s}, ${a}]`),s=a=void 0}this.value=[s,a]}}),Dn(FR,Ao,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),Dn(tw,Et,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,i,r){const o=this.value;let a,l,s=Gn(o,e)&&o[e];return s?s.value.stamp<i.stamp&&(s.init(i),this.activate(s)):(l=r||(l=this._group[e])&&l.tuple,a=i.dataflow,s=new FR(i.fork(i.NO_SOURCE),this),a.add(s).connect(t(a,e,l)),o[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const i in e)if(0===e[i].count){const r=e[i].detachSubflow;r&&r(),delete e[i],++t}if(t){const i=this._targets.filter(r=>r&&r.count>0);this.initTargets(i)}},initTargets(e){const t=this._targets,i=t.length,r=e?e.length:0;let o=0;for(;o<r;++o)t[o]=e[o];for(;o<i&&null!=t[o];++o)t[o]=null;t.active=r},transform(e,t){const i=t.dataflow,r=e.key,o=e.subflow,s=this._keys,a=e.modified("key"),l=u=>this.subflow(u,o,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const c=yi(u),f=s.get(c);void 0!==f&&(s.delete(c),l(f).rem(u))}),t.visit(t.ADD,u=>{const c=r(u);s.set(yi(u),c),l(c).add(u)}),a||t.modified(r.fields)?t.visit(t.MOD,u=>{const c=yi(u),f=s.get(c),d=r(u);f===d?l(d).mod(u):(s.set(c,d),l(f).rem(u),l(d).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{l(s.get(yi(u))).mod(u)}),a&&t.visit(t.REFLOW,u=>{const c=yi(u),f=s.get(c),d=r(u);f!==d&&(s.set(c,d),l(f).rem(u),l(d).add(u))}),t.clean()?i.runAfter(()=>{this.clean(),s.clean()}):s.empty>i.cleanThreshold&&i.runAfter(s.clean),t}}),Dn(Aoe,Ao),PR.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Dn(PR,Et,{transform(e,t){const i=t.dataflow,r=this.value,o=t.fork(),s=o.add,a=o.rem,l=o.mod,u=e.expr;let c=!0;function f(d){const h=yi(d),p=u(d,e),m=r.get(h);p&&m?(r.delete(h),s.push(d)):p||m?c&&p&&!m&&l.push(d):(r.set(h,1),a.push(d))}return t.visit(t.REM,d=>{const h=yi(d);r.has(h)?r.delete(h):a.push(d)}),t.visit(t.ADD,d=>{u(d,e)?s.push(d):r.set(yi(d),1)}),t.visit(t.MOD,f),e.modified()&&(c=!1,t.visit(t.REFLOW,f)),r.empty>i.cleanThreshold&&i.runAfter(r.clean),o}}),LR.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Dn(LR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=Doe(r,e.as||[]),s=e.index||null,a=o.length;return i.rem=this.value,t.visit(t.SOURCE,l=>{const u=r.map(m=>m(l)),c=u.reduce((m,v)=>Math.max(m,v.length),0);let d,h,p,f=0;for(;f<c;++f){for(h=XO(l),d=0;d<a;++d)h[o[d]]=null==(p=u[d][f])?null:p;s&&(h[s]=f),i.add.push(h)}}),this.value=i.source=i.add,s&&i.modifies(s),i.modifies(o)}}),BR.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Dn(BR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=r.map(ys),s=e.as||["key","value"],a=s[0],l=s[1],u=r.length;return i.rem=this.value,t.visit(t.SOURCE,c=>{for(let d,f=0;f<u;++f)d=XO(c),d[a]=o[f],d[l]=r[f](c),i.add.push(d)}),this.value=i.source=i.add,i.modifies(s)}}),$R.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Dn($R,Et,{transform(e,t){const i=e.expr,r=e.as,o=e.modified(),s=e.initonly?t.ADD:o?t.SOURCE:t.modified(i.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return o&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,a=>a[r]=i(a,e))}}),Dn(Toe,Et,{transform(e,t){const i=t.fork(t.ALL),r=e.generator;let a,l,u,o=this.value,s=e.size-o.length;if(s>0){for(a=[];--s>=0;)a.push(u=oo(r(e))),o.push(u);i.add=i.add.length?i.materialize(i.ADD).add.concat(a):a}else l=o.slice(0,-s),i.rem=i.rem.length?i.materialize(i.REM).rem.concat(l):l,o=o.slice(-s);return i.source=this.value=o,i}});const nw={value:"value",median:function fje(e,t){return function cje(e,t,i){if(e=Float64Array.from(function*uje(e,t){if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(yield r)}}(e,i)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return SR(e);if(t>=1)return ER(e);var r,o=(r-1)*t,s=Math.floor(o),a=ER(hoe(e,s).subarray(0,s+1));return a+(SR(e.subarray(s+1))-a)*(o-s)}}(e,.5,t)},mean:function dje(e,t){let i=0,r=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&(++i,r+=o);else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(++i,r+=s)}if(i)return r/i},min:SR,max:ER},Fje=[];function UR(e){Et.call(this,[],e)}function VR(e){gp.call(this,e)}function HR(e){Et.call(this,null,e)}function Noe(e){Ao.call(this,null,$je,e)}function $je(e){return this.value&&!e.modified()?this.value:nO(e.fields,e.flat)}function Ioe(e){Et.call(this,[],e),this._pending=null}function zR(e,t,i){i.forEach(oo);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=i,e._pending=null,r.rem.length&&r.clean(!0),r}function qR(e){Et.call(this,{},e)}function Ooe(e){Ao.call(this,null,Vje,e)}function Vje(e){if(this.value&&!e.modified())return this.value;const t=e.extents,i=t.length;let s,a,r=1/0,o=-1/0;for(s=0;s<i;++s)a=t[s],a[0]<r&&(r=a[0]),a[1]>o&&(o=a[1]);return[r,o]}function Roe(e){Ao.call(this,null,Hje,e)}function Hje(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,i)=>t.concat(i),[])}function koe(e){Et.call(this,null,e)}function jR(e){gp.call(this,e)}function Foe(e){tw.call(this,e)}function GR(e){Et.call(this,null,e)}function Poe(e){Et.call(this,null,e)}function WR(e){Et.call(this,null,e)}function Loe(e){Et.call(this,null,e)}function YR(e){Et.call(this,[],e),this.count=0}function KR(e){Et.call(this,null,e)}function Boe(e){Et.call(this,null,e),this.modified(!0)}function XR(e){Et.call(this,null,e)}UR.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Dn(UR,Et,{transform(e,t){var h,p,m,v,_,y,w,S,M,A,i=t.fork(t.ALL),r=function Pje(e){var i,t=e.method||nw.value;if(null!=nw[t])return t===nw.value?(i=void 0!==e.value?e.value:0,()=>i):nw[t];Rt("Unrecognized imputation method: "+t)}(e),o=function Lje(e){const t=e.field;return i=>i?t(i):NaN}(e),s=ys(e.field),a=ys(e.key),l=(e.groupby||[]).map(ys),u=function Bje(e,t,i,r){var c,f,d,h,p,m,v,_,o=y=>y(_),s=[],a=r?r.slice():[],l={},u={};for(a.forEach((y,w)=>l[y]=w+1),h=0,v=e.length;h<v;++h)m=i(_=e[h]),p=l[m]||(l[m]=a.push(m)),(d=u[f=(c=t?t.map(o):Fje)+""])||(d=u[f]=[],s.push(d),d.values=c),d[p-1]=_;return s.domain=a,s}(t.source,e.groupby,e.key,e.keyvals),c=[],f=this.value,d=u.domain.length;for(_=0,S=u.length;_<S;++_)for(m=(h=u[_]).values,p=NaN,w=0;w<d;++w)if(null==h[w]){for(v=u.domain[w],A={_impute:!0},y=0,M=m.length;y<M;++y)A[l[y]]=m[y];A[a]=v,A[s]=Number.isNaN(p)?p=r(h,o):p,c.push(oo(A))}return c.length&&(i.add=i.materialize(i.ADD).add.concat(c)),f.length&&(i.rem=i.materialize(i.REM).rem.concat(f)),this.value=c,i}}),VR.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:A4},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Dn(VR,gp,{transform(e,t){const i=this,r=e.modified();let o;return i.value&&(r||t.modified(i._inputs,!0))?(o=i.value=r?i.init(e):{},t.visit(t.SOURCE,s=>i.add(s))):(o=i.value=i.value||this.init(e),t.visit(t.REM,s=>i.rem(s)),t.visit(t.ADD,s=>i.add(s))),i.changes(),t.visit(t.SOURCE,s=>{cr(s,o[i.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let i,r;for(i=0,r=this._alen;i<r;++i)this.celltuple(e[i]),e[i]=null;for(i=0,r=this._mlen;i<r;++i)this.celltuple(t[i]),t[i]=null;this._alen=this._mlen=0}}),HR.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Dn(HR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,o=OR(r,e.groupby,e.field),s=(e.groupby||[]).map(ys),a=e.bandwidth,l=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[];let f=e.extent,d=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Rt("Invalid density method: "+l),"shared"===e.resolve&&(f||(f=Id(r,e.field)),d=h=e.steps||h),o.forEach(p=>{const m=cR(p,a)[l],v=e.counts?p.length:1;Jb(m,f||Id(p),d,h).forEach(y=>{const w={};for(let S=0;S<s.length;++S)w[s[S]]=p.dims[S];w[u[0]]=y[0],w[u[1]]=y[1]*v,c.push(oo(w))})}),this.value&&(i.rem=this.value),this.value=i.add=i.source=c}return i}}),Dn(Noe,Ao),Dn(Ioe,Et,{transform(e,t){const i=t.dataflow;return this._pending?zR(this,t,this._pending):function Uje(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?zR(this,t,i.parse(e.values,e.format)):e.async?{async:i.request(e.url,e.format).then(o=>(this._pending=Un(o.data),s=>s.touch(this)))}:i.request(e.url,e.format).then(r=>zR(this,t,Un(r.data)))}}),qR.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Dn(qR,Et,{transform(e,t){const i=e.fields,r=e.index,o=e.values,s=null==e.default?null:e.default,a=e.modified(),l=i.length;let d,h,p,u=a?t.SOURCE:t.ADD,c=t,f=e.as;return o?(h=o.length,l>1&&!f&&Rt('Multi-field lookup requires explicit "as" parameter.'),f&&f.length!==l*h&&Rt('The "as" parameter has too few output field names.'),f=f||o.map(ys),d=function(m){for(var y,w,v=0,_=0;v<l;++v)if(null==(w=r.get(i[v](m))))for(y=0;y<h;++y,++_)m[f[_]]=s;else for(y=0;y<h;++y,++_)m[f[_]]=o[y](w)}):(f||Rt("Missing output field names."),d=function(m){for(var _,v=0;v<l;++v)_=r.get(i[v](m)),m[f[v]]=_??s}),a?c=t.reflow(!0):(p=i.some(m=>t.modified(m.fields)),u|=p?t.MOD:0),t.visit(u,d),c.modifies(f)}}),Dn(Ooe,Ao),Dn(Roe,Ao),Dn(koe,Et,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),jR.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:A4,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Dn(jR,gp,{_transform:gp.prototype.transform,transform(e,t){return this._transform(function zje(e,t){const i=e.field,r=e.value,o=("count"===e.op?"__count__":e.op)||"sum",s=ol(i).concat(ol(r)),a=function jje(e,t,i){const r={},o=[];return i.visit(i.SOURCE,s=>{const a=e(s);r[a]||(r[a]=1,o.push(a))}),o.sort(c3),t?o.slice(0,t):o}(i,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>o),fields:a.map(l=>function qje(e,t,i,r){return cu(o=>t(o)===e?i(o):NaN,r,e+"")}(l,i,r,s)),as:a.map(l=>l+""),modified:e.modified.bind(e)}}(e,t),t)}}),Dn(Foe,tw,{transform(e,t){const i=e.subflow,r=e.field,o=s=>this.subflow(yi(s),i,t,s);return(e.modified("field")||r&&t.modified(ol(r)))&&Rt("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const a=o(s);r(s).forEach(l=>a.mod(l))}),t.visit(t.ADD,s=>{const a=o(s);r(s).forEach(l=>a.add(oo(l)))}),t.visit(t.REM,s=>{const a=o(s);r(s).forEach(l=>a.rem(l))})):(t.visit(t.MOD,s=>o(s).mod(s)),t.visit(t.ADD,s=>o(s).add(s)),t.visit(t.REM,s=>o(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}}),GR.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Dn(GR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=Doe(e.fields,e.as||[]),s=r?(l,u)=>function Gje(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t[r[o]]=i[o](e);return t}(l,u,r,o):Vb;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,l=>{const u=yi(l);i.rem.push(a[u]),a[u]=null}),t.visit(t.ADD,l=>{const u=s(l,oo({}));a[yi(l)]=u,i.add.push(u)}),t.visit(t.MOD,l=>{i.mod.push(s(l,a[yi(l)]))}),i}}),Dn(Poe,Et,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),WR.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},Dn(WR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return i.source=this.value,i;const s=OR(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(ys),l=[],u=e.step||.01,c=e.probs||poe(u/2,1-1e-14,u),f=c.length;return s.forEach(d=>{const h=oR(d,c);for(let p=0;p<f;++p){const m={};for(let v=0;v<a.length;++v)m[a[v]]=d.dims[v];m[r[0]]=c[p],m[r[1]]=h[p],l.push(oo(m))}}),this.value&&(i.rem=this.value),this.value=i.add=i.source=l,i}}),Dn(Loe,Et,{transform(e,t){let i,r;return this.value?r=this.value:(i=t=t.addAll(),r=this.value={}),e.derive&&(i=t.fork(t.NO_SOURCE),t.visit(t.REM,o=>{const s=yi(o);i.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,o=>{const s=XO(o);r[yi(o)]=s,i.add.push(s)}),t.visit(t.MOD,o=>{const s=r[yi(o)];for(const a in o)s[a]=o[a],i.modifies(a);i.mod.push(s)})),i}}),YR.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Dn(YR,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.modified("size"),o=e.size,s=this.value.reduce((f,d)=>(f[yi(d)]=1,f),{});let a=this.value,l=this.count,u=0;function c(f){let d,h;a.length<o?a.push(f):(h=~~((l+1)*$c()),h<a.length&&h>=u&&(d=a[h],s[yi(d)]&&i.rem.push(d),a[h]=f)),++l}if(t.rem.length&&(t.visit(t.REM,f=>{const d=yi(f);s[d]&&(s[d]=-1,i.rem.push(f)),--l}),a=a.filter(f=>-1!==s[yi(f)])),(t.rem.length||r)&&a.length<o&&t.source&&(u=l=a.length,t.visit(t.SOURCE,f=>{s[yi(f)]||c(f)}),u=-1),r&&a.length>o){const f=a.length-o;for(let d=0;d<f;++d)s[yi(a[d])]=-1,i.rem.push(a[d]);a=a.slice(f)}return t.mod.length&&t.visit(t.MOD,f=>{s[yi(f)]&&i.mod.push(f)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(i.add=a.filter(f=>!s[yi(f)])),this.count=l,this.value=i.source=a,i}}),KR.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Dn(KR,Et,{transform(e,t){if(this.value&&!e.modified())return;const i=t.materialize().fork(t.MOD),r=e.as||"data";return i.rem=this.value?t.rem.concat(this.value):t.rem,this.value=poe(e.start,e.stop,e.step||1).map(o=>{const s={};return s[r]=o,oo(s)}),i.add=t.add.concat(this.value),i}}),Dn(Boe,Et,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const $oe=["unit0","unit1"];function Uoe(e){Et.call(this,f3(),e)}function Voe(e){Et.call(this,null,e)}XR.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:bO,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:$oe}]},Dn(XR,Et,{transform(e,t){const i=e.field,r=!1!==e.interval,o="utc"===e.timezone,s=this._floor(e,t),a=(o?m3:g3)(s.unit).offset,l=e.as||$oe,u=l[0],c=l[1],f=s.step;let d=s.start||1/0,h=s.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ol(i)))&&(p=(t=t.reflow(!0)).SOURCE,d=1/0,h=-1/0),t.visit(p,m=>{const v=i(m);let _,y;null==v?(m[u]=null,r&&(m[c]=null)):(m[u]=_=y=s(v),r&&(m[c]=y=a(_,f)),_<d&&(d=_),y>h&&(h=y))}),s.start=d,s.stop=h,t.modifies(r?l:u)},_floor(e,t){const i="utc"===e.timezone,{units:r,step:o}=e.units?{units:e.units,step:e.step||1}:Yie({extent:e.extent||Id(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=EO(r),a=this.value||{},l=(i?Lie:Pie)(s,o);return l.unit=Rr(s),l.units=s,l.step=o,l.start=a.start,l.stop=a.stop,this.value=l}}),Dn(Uoe,Et,{transform(e,t){const i=t.dataflow,r=e.field,o=this.value,s=l=>o.set(r(l),l);let a=!0;return e.modified("field")||t.modified(r.fields)?(o.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,l=>o.delete(r(l))),t.visit(t.ADD,s)):a=!1,this.modified(a),o.empty>i.cleanThreshold&&i.runAfter(o.clean),t.fork()}}),Dn(Voe,Et,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(dg(e.sort)):t.source).map(e.field))}});const T4={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,r=t.data;return i&&t.compare(r[i-1],r[i])?e=i+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,r=t.data;return i&&t.compare(r[i-1],r[i])?++e:e}}},percent_rank:function(){const e=T4.rank(),t=e.next;return{init:e.init,next:i=>(t(i)-1)/(i.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const i=t.data,r=t.compare;let o=t.index;if(e<o){for(;o+1<i.length&&!r(i[o],i[o+1]);)++o;e=o}return(1+e)/i.length}}},ntile:function(e,t){(t=+t)>0||Rt("ntile num must be greater than zero.");const i=T4.cume_dist(),r=i.next;return{init:i.init,next:o=>Math.ceil(t*r(o))}},lag:function(e,t){return t=+t||1,{next:i=>{const r=i.index-t;return r>=0?e(i.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:i=>{const r=i.index+t,o=i.data;return r<o.length?e(o[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Rt("nth_value nth must be greater than zero."),{next:i=>{const r=i.i0+(t-1);return r<i.i1?e(i.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:i=>{const r=e(i.data[i.index]);return null!=r?t=r:t}}},next_value:function(e){let t,i;return{init:()=>(t=null,i=-1),next:r=>{const o=r.data;return r.index<=i?t:(i=function Kje(e,t,i){for(let r=t.length;i<r;++i)if(null!=e(t[i]))return i;return-1}(e,o,r.index))<0?(i=o.length,t=null):t=e(o[i])}}}},Xje=Object.keys(T4);function Hoe(e){const t=Un(e.ops),i=Un(e.fields),r=Un(e.params),o=Un(e.aggregate_params),s=Un(e.as),a=this.outputs=[],l=this.windows=[],u={},c={},f=[],d=[];let h=!0;function p(m){Un(ol(m)).forEach(v=>u[v]=1)}p(e.sort),t.forEach((m,v)=>{const _=i[v],y=r[v],w=o[v]||null,S=ys(_),M=goe(m,S,s[v]);if(p(_),a.push(M),Gn(T4,m))l.push(function Yje(e,t,i,r){const o=T4[e](t,i);return{init:o.init||sp,update:function(s,a){a[r]=o.next(s)}}}(m,_,y,M));else{if(null==_&&"count"!==m&&Rt("Null aggregate field specified."),"count"===m)return void f.push(M);h=!1;let A=c[S];A||(A=c[S]=[],A.field=_,d.push(A)),A.push(moe(m,w,M))}}),(f.length||d.length)&&(this.cell=function Zje(e,t,i){e=e.map(u=>_oe(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!i)for(var o=e.length,s=r.agg=Array(o),a=0;a<o;++a)s[a]=new e[a](r);if(r.store)var l=r.data=new xR;return r.add=function(u){if(r.num+=1,!i){l&&l.add(u);for(let c=0;c<o;++c)s[c].add(s[c].get(u),u)}},r.rem=function(u){if(r.num-=1,!i){l&&l.rem(u);for(let c=0;c<o;++c)s[c].rem(s[c].get(u),u)}},r.set=function(u){let c,f;for(l&&l.values(),c=0,f=t.length;c<f;++c)u[t[c]]=r.num;if(!i)for(c=0,f=s.length;c<f;++c)s[c].set(u)},r.init=function(){r.num=0,l&&l.reset();for(let u=0;u<o;++u)s[u].init()},r}(d,f,h)),this.inputs=Object.keys(u)}const zoe=Hoe.prototype;function ZR(e){Et.call(this,{},e),this._mlen=0,this._mods=[]}function Qje(e,t,i,r){const o=r.sort,s=o&&!r.ignorePeers,a=r.frame||[null,0],l=e.data(i),u=l.length,c=s?function pje(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=D4,i=(l,u)=>D4(e(l),u),r=(l,u)=>e(l)-u):(t=e===D4||e===hje?e:gje,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(o):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:o||ll(-1)};t.init();for(let d=0;d<u;++d)Jje(f,a,d,u),s&&eGe(f,c),t.update(f,l[d])}function Jje(e,t,i,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,i-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,i+Math.abs(t[1])+1),e.index=i}function eGe(e,t){const i=e.i0,r=e.i1-1,o=e.compare,s=e.data,a=s.length-1;i>0&&!o(s[i],s[i-1])&&(e.i0=t.left(s,s[i])),r<a&&!o(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}function iw(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function rw(e){this._context=e}function mp(){}function qoe(e){this._context=e}function joe(e){this._context=e}function Goe(e,t){this._basis=new rw(e),this._beta=t}zoe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},zoe.update=function(e,t){const i=this.cell,r=this.windows,o=e.data,s=r&&r.length;let a;if(i){for(a=e.p0;a<e.i0;++a)i.rem(o[a]);for(a=e.p1;a<e.i1;++a)i.add(o[a]);i.set(t)}for(a=0;a<s;++a)r[a].update(e,t)},ZR.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Xje.concat(A4)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Dn(ZR,Et,{transform(e,t){this.stamp=t.stamp;const i=e.modified(),r=dg(e.sort),o=CR(e.groupby),s=l=>this.group(o(l));let a=this.state;(!a||i)&&(a=this.state=new Hoe(e)),i||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,l=>s(l).add(l))):(t.visit(t.REM,l=>s(l).remove(l)),t.visit(t.ADD,l=>s(l).add(l)));for(let l=0,u=this._mlen;l<u;++l)Qje(this._mods[l],a,r,e);return this._mlen=0,this._mods=[],t.reflow(i).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=yoe(yi),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qoe.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},joe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:iw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Goe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var u,r=e[0],o=t[0],s=e[i]-r,a=t[i]-o,l=-1;++l<=i;)this._basis.point(this._beta*e[l]+(1-this._beta)*(r+(u=l/i)*s),this._beta*t[l]+(1-this._beta)*(o+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const rGe=function e(t){function i(r){return 1===t?new rw(r):new Goe(r,t)}return i.beta=function(r){return e(+r)},i}(.85);function ow(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function QR(e,t){this._context=e,this._k=(1-t)/6}QR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ow(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ow(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oGe=function e(t){function i(r){return new QR(r,t)}return i.tension=function(r){return e(+r)},i}(0);function JR(e,t){this._context=e,this._k=(1-t)/6}JR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ow(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const sGe=function e(t){function i(r){return new JR(r,t)}return i.tension=function(r){return e(+r)},i}(0);function ek(e,t){this._context=e,this._k=(1-t)/6}ek.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ow(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const aGe=function e(t){function i(r){return new ek(r,t)}return i.tension=function(r){return e(+r)},i}(0),Woe=Math.abs,fl=Math.atan2,Z0=Math.cos,lGe=Math.max,C3=Math.min,pu=Math.sin,Bo=Math.sqrt,dl=1e-12,vp=Math.PI,sw=vp/2,N4=2*vp;function Yoe(e){return e>=1?sw:e<=-1?-sw:Math.asin(e)}function tk(e,t,i){var r=e._x1,o=e._y1,s=e._x2,a=e._y2;if(e._l01_a>dl){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,o=(o*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>dl){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/f,a=(a*c+e._y1*e._l23_2a-i*e._l12_2a)/f}e._context.bezierCurveTo(r,o,s,a,e._x2,e._y2)}function Koe(e,t){this._context=e,this._alpha=t}Koe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:tk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cGe=function e(t){function i(r){return t?new Koe(r,t):new QR(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function Xoe(e,t){this._context=e,this._alpha=t}Xoe.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fGe=function e(t){function i(r){return t?new Xoe(r,t):new ek(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function Zoe(e,t){this._context=e,this._alpha=t}Zoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dGe=function e(t){function i(r){return t?new Zoe(r,t):new JR(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function Qoe(e){this._context=e}function nk(e){return new Qoe(e)}function Joe(e){this._context=e}function ese(e){return e<0?-1:1}function tse(e,t,i){var r=e._x1-e._x0,o=t-e._x1,s=(e._y1-e._y0)/(r||o<0&&-0),a=(i-e._y1)/(o||r<0&&-0),l=(s*o+a*r)/(r+o);return(ese(s)+ese(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function nse(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function ik(e,t,i){var r=e._x0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,e._y0+l*t,s-l,a-l*i,s,a)}function aw(e){this._context=e}function ise(e){this._context=new rse(e)}function rse(e){this._context=e}function ose(e){this._context=e}function sse(e){var t,r,i=e.length-1,o=new Array(i),s=new Array(i),a=new Array(i);for(o[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)o[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[i-1]=2,s[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)s[t]-=r=o[t]/s[t-1],a[t]-=r*a[t-1];for(o[i-1]=a[i-1]/s[i-1],t=i-2;t>=0;--t)o[t]=(a[t]-o[t+1])/s[t];for(s[i-1]=(e[i]+o[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-o[t+1];return[o,s]}function lw(e,t){this._context=e,this._t=t}function lo(e){return function(){return e}}Qoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Joe.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ik(this,this._t0,nse(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ik(this,nse(this,i=tse(this,e,t)),i);break;default:ik(this,this._t0,i=tse(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}},(ise.prototype=Object.create(aw.prototype)).point=function(e,t){aw.prototype.point.call(this,t,e)},rse.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,r,o,s){this._context.bezierCurveTo(t,e,r,i,s,o)}},ose.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===i)this._context.lineTo(e[1],t[1]);else for(var r=sse(e),o=sse(t),s=0,a=1;a<i;++s,++a)this._context.bezierCurveTo(r[0][s],o[0][s],r[1][s],o[1][s],e[a],t[a]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}}this._x=e,this._y=t}};const rk=Math.PI,ok=2*rk,pg=1e-6,bGe=ok-pg;function ase(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}class uw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ase:function wGe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ase;const i=10**t;return function(r){this._+=r[0];for(let o=1,s=r.length;o<s;++o)this._+=Math.round(arguments[o]*i)/i+r[o]}}(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,r,o){this._append`Q${+t},${+i},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,i,r,o,s,a){this._append`C${+t},${+i},${+r},${+o},${this._x1=+s},${this._y1=+a}`}arcTo(t,i,r,o,s){if(t=+t,i=+i,r=+r,o=+o,(s=+s)<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-t,c=o-i,f=a-t,d=l-i,h=f*f+d*d;if(null===this._x1)this._append`M${this._x1=t},${this._y1=i}`;else if(h>pg)if(Math.abs(d*u-c*f)>pg&&s){let p=r-a,m=o-l,v=u*u+c*c,_=p*p+m*m,y=Math.sqrt(v),w=Math.sqrt(h),S=s*Math.tan((rk-Math.acos((v+h-_)/(2*y*w)))/2),M=S/w,A=S/y;Math.abs(M-1)>pg&&this._append`L${t+M*f},${i+M*d}`,this._append`A${s},${s},0,0,${+(d*p>f*m)},${this._x1=t+A*u},${this._y1=i+A*c}`}else this._append`L${this._x1=t},${this._y1=i}`}arc(t,i,r,o,s,a){if(t=+t,i=+i,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),u=r*Math.sin(o),c=t+l,f=i+u,d=1^a,h=a?o-s:s-o;null===this._x1?this._append`M${c},${f}`:(Math.abs(this._x1-c)>pg||Math.abs(this._y1-f)>pg)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%ok+ok),h>bGe?this._append`A${r},${r},0,1,${d},${t-l},${i-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>pg&&this._append`A${r},${r},0,${+(h>=rk)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=i+r*Math.sin(s)}`)}rect(t,i,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function cw(){return new uw}function fw(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(null==i)t=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);t=r}return e},()=>new uw(t)}function EGe(e){return e.innerRadius}function SGe(e){return e.outerRadius}function CGe(e){return e.startAngle}function DGe(e){return e.endAngle}function xGe(e){return e&&e.padAngle}function dw(e,t,i,r,o,s,a){var l=e-i,u=t-r,c=(a?s:-s)/Bo(l*l+u*u),f=c*u,d=-c*l,h=e+f,p=t+d,m=i+f,v=r+d,_=(h+m)/2,y=(p+v)/2,w=m-h,S=v-p,M=w*w+S*S,A=o-s,F=h*v-m*p,N=(S<0?-1:1)*Bo(lGe(0,A*A*M-F*F)),H=(F*S-w*N)/M,K=(-F*w-S*N)/M,oe=(F*S+w*N)/M,ee=(-F*w+S*N)/M,ve=H-_,pe=K-y,R=oe-_,P=ee-y;return ve*ve+pe*pe>R*R+P*P&&(H=oe,K=ee),{cx:H,cy:K,x01:-f,y01:-d,x11:H*(o/A-1),y11:K*(o/A-1)}}function lse(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function use(e){return e[0]}function cse(e){return e[1]}function fse(e,t){var i=lo(!0),r=null,o=nk,s=null,a=fw(l);function l(u){var c,d,p,f=(u=lse(u)).length,h=!1;for(null==r&&(s=o(p=a())),c=0;c<=f;++c)!(c<f&&i(d=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,c,u),+t(d,c,u));if(p)return s=null,p+""||null}return e="function"==typeof e?e:void 0===e?use:lo(e),t="function"==typeof t?t:void 0===t?cse:lo(t),l.x=function(u){return arguments.length?(e="function"==typeof u?u:lo(+u),l):e},l.y=function(u){return arguments.length?(t="function"==typeof u?u:lo(+u),l):t},l.defined=function(u){return arguments.length?(i="function"==typeof u?u:lo(!!u),l):i},l.curve=function(u){return arguments.length?(o=u,null!=r&&(s=o(r)),l):o},l.context=function(u){return arguments.length?(null==u?r=s=null:s=o(r=u),l):r},l}function dse(e,t,i){var r=null,o=lo(!0),s=null,a=nk,l=null,u=fw(c);function c(d){var h,p,m,_,w,v=(d=lse(d)).length,y=!1,S=new Array(v),M=new Array(v);for(null==s&&(l=a(w=u())),h=0;h<=v;++h){if(!(h<v&&o(_=d[h],h,d))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(S[m],M[m]);l.lineEnd(),l.areaEnd()}y&&(S[h]=+e(_,h,d),M[h]=+t(_,h,d),l.point(r?+r(_,h,d):S[h],i?+i(_,h,d):M[h]))}if(w)return l=null,w+""||null}function f(){return fse().defined(o).curve(a).context(s)}return e="function"==typeof e?e:void 0===e?use:lo(+e),t="function"==typeof t?t:lo(void 0===t?0:+t),i="function"==typeof i?i:void 0===i?cse:lo(+i),c.x=function(d){return arguments.length?(e="function"==typeof d?d:lo(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e="function"==typeof d?d:lo(+d),c):e},c.x1=function(d){return arguments.length?(r=null==d?null:"function"==typeof d?d:lo(+d),c):r},c.y=function(d){return arguments.length?(t="function"==typeof d?d:lo(+d),i=null,c):t},c.y0=function(d){return arguments.length?(t="function"==typeof d?d:lo(+d),c):t},c.y1=function(d){return arguments.length?(i=null==d?null:"function"==typeof d?d:lo(+d),c):i},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(i)},c.lineX1=function(){return f().x(r).y(t)},c.defined=function(d){return arguments.length?(o="function"==typeof d?d:lo(!!d),c):o},c.curve=function(d){return arguments.length?(a=d,null!=s&&(l=a(s)),c):a},c.context=function(d){return arguments.length?(null==d?s=l=null:l=a(s=d),c):s},c}cw.prototype=uw.prototype,Bo(3);const sk={draw(e,t){const i=Bo(t/vp);e.moveTo(i,0),e.arc(0,0,i,0,N4)}};Bo(1/3),pu(vp/10),pu(7*vp/10);function _p(e,t){if(typeof document<"u"&&document.createElement){const i=document.createElement("canvas");if(i&&i.getContext)return i.width=e,i.height=t,i}return null}function I4(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZGe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gse(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=I4,i=(l,u)=>I4(e(l),u),r=(l,u)=>e(l)-u):(t=e===I4||e===ZGe?e:QGe,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}function QGe(){return 0}function mse(e){return null===e?NaN:+e}pu(N4/10),Z0(N4/10),Bo(3),Bo(3),Bo(3),Bo(12);const uk=gse(I4).right,O4=(gse(mse),uk),JGe=Math.sqrt(50),eWe=Math.sqrt(10),tWe=Math.sqrt(2);function hw(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=JGe?10:s>=eWe?5:s>=tWe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?hw(e,t,2*i):[l,u,c]}function ck(e,t,i){if(!((i=+i)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[o,s,a]=r?hw(t,e,i):hw(e,t,i);if(!(s>=o))return[];const l=s-o+1,u=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)u[c]=(s-c)/-a;else for(let c=0;c<l;++c)u[c]=(s-c)*a;else if(a<0)for(let c=0;c<l;++c)u[c]=(o+c)/-a;else for(let c=0;c<l;++c)u[c]=(o+c)*a;return u}function fk(e,t,i){return hw(e=+e,t=+t,i=+i)[2]}function _se(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}function yse(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return _se((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}function bse(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return _se((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}const pw=e=>()=>e;function wse(e,t){return function(i){return e+i*t}}function gw(e,t){var i=t-e;return i?wse(e,i>180||i<-180?i-360*Math.round(i/360):i):pw(isNaN(e)?t:e)}function ga(e,t){var i=t-e;return i?wse(e,i):pw(isNaN(e)?t:e)}const dk=function e(t){var i=function rWe(e){return 1==(e=+e)?ga:function(t,i){return i-t?function iWe(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):pw(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=Ef(o)).r,(s=Ef(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=ga(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function Ese(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=Ef(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}var oWe=Ese(yse),sWe=Ese(bse);function hk(e,t){t||(t=[]);var o,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(o=0;o<i;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function Sse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aWe(e,t){return(Sse(t)?hk:Cse)(e,t)}function Cse(e,t){var a,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(a=0;a<r;++a)o[a]=gg(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=o[a](l);return s}}function Dse(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function Mf(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function xse(e,t){var o,i={},r={};for(o in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)o in e?i[o]=gg(e[o],t[o]):r[o]=t[o];return function(s){for(o in i)r[o]=i[o](s);return r}}var pk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gk=new RegExp(pk.source,"g");function Mse(e,t){var r,o,s,i=pk.lastIndex=gk.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=pk.exec(e))&&(o=gk.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:Mf(r,o)})),i=gk.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function uWe(e){return function(t){return e(t)+""}}(u[0].x):function lWe(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function gg(e,t){var r,i=typeof t;return null==t||"boolean"===i?pw(t):("number"===i?Mf:"string"===i?(r=q0(t))?(t=r,dk):Mse:t instanceof q0?dk:t instanceof Date?Dse:Sse(t)?hk:Array.isArray(t)?Cse:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?xse:Mf)(e,t)}function mw(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function mk(e){return+e}var Ase=[0,1];function gu(e){return e}function vk(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:function cWe(e){return function(){return e}}(isNaN(t)?NaN:.5)}function dWe(e,t,i){var r=e[0],o=e[1],s=t[0],a=t[1];return o<r?(r=vk(o,r),s=i(a,s)):(r=vk(r,o),s=i(s,a)),function(l){return s(r(l))}}function hWe(e,t,i){var r=Math.min(e.length,t.length)-1,o=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=vk(e[a],e[a+1]),s[a]=i(t[a],t[a+1]);return function(l){var u=O4(e,l,1,r)-1;return s[u](o[u](l))}}function R4(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vw(){var r,o,s,l,u,c,e=Ase,t=Ase,i=gg,a=gu;function f(){var h=Math.min(e.length,t.length);return a!==gu&&(a=function fWe(e,t){var i;return e>t&&(i=e,e=t,t=i),function(r){return Math.max(e,Math.min(t,r))}}(e[0],e[h-1])),l=h>2?hWe:dWe,u=c=null,d}function d(h){return null==h||isNaN(h=+h)?s:(u||(u=l(e.map(r),t,i)))(r(a(h)))}return d.invert=function(h){return a(o((c||(c=l(t,e.map(r),Mf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,mk),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),i=mw,f()},d.clamp=function(h){return arguments.length?(a=!!h||gu,f()):a!==gu},d.interpolate=function(h){return arguments.length?(i=h,f()):i},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return r=h,o=p,f()}}function Tse(){return vw()(gu,gu)}function kd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function yp(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}var Nse,pWe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k4(e){if(!(t=pWe.exec(e)))throw new Error("invalid format: "+e);var t;return new _k({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _k(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _w(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function D3(e){return(e=_w(Math.abs(e)))?e[1]:NaN}function Ise(e,t){var i=_w(e,t);if(!i)return e+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}k4.prototype=_k.prototype,_k.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ose={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function gWe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ise(100*e,t),r:Ise,s:function bWe(e,t){var i=_w(e,t);if(!i)return e+"";var r=i[0],o=i[1],s=o-(Nse=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_w(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rse(e){return e}var yw,yk,Pse,kse=Array.prototype.map,Fse=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Lse(e,t,i,r){var s,o=function nWe(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?fk(t,e,i):fk(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(e,t,i);switch((r=k4(r??",f")).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(s=function mWe(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(D3(t)/3)))-D3(Math.abs(e)))}(o,a))&&(r.precision=s),Pse(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(s=function SWe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,D3(t)-D3(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(s=function CWe(e){return Math.max(0,-D3(Math.abs(e)))}(o))&&(r.precision=s-2*("%"===r.type))}return yk(r)}function mg(e){var t=e.domain;return e.ticks=function(i){var r=t();return ck(r[0],r[r.length-1],i??10)},e.tickFormat=function(i,r){var o=t();return Lse(o[0],o[o.length-1],i??10,r)},e.nice=function(i){null==i&&(i=10);var u,c,r=t(),o=0,s=r.length-1,a=r[o],l=r[s],f=10;for(l<a&&(c=a,a=l,l=c,c=o,o=s,s=c);f-- >0;){if((c=fk(a,l,i))===u)return r[o]=a,r[s]=l,t(r);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c}u=c}return e},e}function Use(e,t){var a,i=0,r=(e=e.slice()).length-1,o=e[i],s=e[r];return s<o&&(a=i,i=r,r=a,a=o,o=s,s=a),e[i]=t.floor(o),e[r]=t.ceil(s),e}function Vse(e){return Math.log(e)}function Hse(e){return Math.exp(e)}function DWe(e){return-Math.log(-e)}function xWe(e){return-Math.exp(-e)}function MWe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zse(e){return(t,i)=>-e(-t,i)}function bk(e){const t=e(Vse,Hse),i=t.domain;let o,s,r=10;function a(){return o=function TWe(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(r),s=function AWe(e){return 10===e?MWe:e===Math.E?Math.exp:t=>Math.pow(e,t)}(r),i()[0]<0?(o=zse(o),s=zse(s),e(DWe,xWe)):e(Vse,Hse),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(i(l),a()):i()},t.ticks=l=>{const u=i();let c=u[0],f=u[u.length-1];const d=f<c;d&&([c,f]=[f,c]);let m,v,h=o(c),p=o(f);const _=null==l?10:+l;let y=[];if(!(r%1)&&p-h<_){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(v=h<0?m/s(-h):m*s(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(v=h>0?m/s(-h):m*s(h),!(v<c)){if(v>f)break;y.push(v)}2*y.length<_&&(y=ck(c,f,_))}else y=ck(h,p,Math.min(p-h,_)).map(s);return d?y.reverse():y},t.tickFormat=(l,u)=>{if(null==l&&(l=10),null==u&&(u=10===r?"s":","),"function"!=typeof u&&(!(r%1)&&null==(u=k4(u)).precision&&(u.trim=!0),u=yk(u)),l===1/0)return u;const c=Math.max(1,r*l/t.ticks().length);return f=>{let d=f/s(Math.round(o(f)));return d*r<r-.5&&(d*=r),d<=c?u(f):""}},t.nice=()=>i(Use(i(),{floor:l=>s(Math.floor(o(l))),ceil:l=>s(Math.ceil(o(l)))})),t}function jse(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NWe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IWe(e){return e<0?-e*e:e*e}function wk(e){var t=e(gu,gu),i=1;return t.exponent=function(o){return arguments.length?(i=+o,function r(){return 1===i?e(gu,gu):.5===i?e(NWe,IWe):e(jse(i),jse(1/i))}()):i},mg(t)}function Ek(){var e=wk(vw());return e.copy=function(){return R4(e,Ek()).exponent(e.exponent())},kd.apply(e,arguments),e}function Gse(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Wse(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sk(e){var t=1,i=e(Gse(t),Wse(t));return i.constant=function(r){return arguments.length?e(Gse(t=+r),Wse(t)):t},mg(i)}!function EWe(e){yw=function wWe(e){var t=void 0===e.grouping||void 0===e.thousands?Rse:function vWe(e,t){return function(i,r){for(var o=i.length,s=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(i.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}(kse.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Rse:function _We(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}(kse.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(d){var h=(d=k4(d)).fill,p=d.align,m=d.sign,v=d.symbol,_=d.zero,y=d.width,w=d.comma,S=d.precision,M=d.trim,A=d.type;"n"===A?(w=!0,A="g"):Ose[A]||(void 0===S&&(S=12),M=!0,A="g"),(_||"0"===h&&"="===p)&&(_=!0,h="0",p="=");var F="$"===v?i:"#"===v&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N="$"===v?r:/[%p]/.test(A)?a:"",H=Ose[A],K=/[defgprs%]/.test(A);function oe(ee){var R,P,$,ve=F,pe=N;if("c"===A)pe=H(ee)+pe,ee="";else{var Q=(ee=+ee)<0||1/ee<0;if(ee=isNaN(ee)?u:H(Math.abs(ee),S),M&&(ee=function yWe(e){e:for(var o,t=e.length,i=1,r=-1;i<t;++i)switch(e[i]){case".":r=o=i;break;case"0":0===r&&(r=i),o=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(o+1):e}(ee)),Q&&0==+ee&&"+"!==m&&(Q=!1),ve=(Q?"("===m?m:l:"-"===m||"("===m?"":m)+ve,pe=("s"===A?Fse[8+Nse/3]:"")+pe+(Q&&"("===m?")":""),K)for(R=-1,P=ee.length;++R<P;)if(48>($=ee.charCodeAt(R))||$>57){pe=(46===$?o+ee.slice(R+1):ee.slice(R))+pe,ee=ee.slice(0,R);break}}w&&!_&&(ee=t(ee,1/0));var j=ve.length+ee.length+pe.length,J=j<y?new Array(y-j+1).join(h):"";switch(w&&_&&(ee=t(J+ee,J.length?y-pe.length:1/0),J=""),p){case"<":ee=ve+ee+pe+J;break;case"=":ee=ve+J+ee+pe;break;case"^":ee=J.slice(0,j=J.length>>1)+ve+ee+pe+J.slice(j);break;default:ee=J+ve+ee+pe}return s(ee)}return S=void 0===S?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S)),oe.toString=function(){return d+""},oe}return{format:c,formatPrefix:function f(d,h){var p=c(((d=k4(d)).type="f",d)),m=3*Math.max(-8,Math.min(8,Math.floor(D3(h)/3))),v=Math.pow(10,-m),_=Fse[8+m/3];return function(y){return p(v*y)+_}}}}(e),yk=yw.format,Pse=yw.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var bw=ha(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});bw.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ha(function(t){t.setTime(Math.floor(t/e)*e)},function(t,i){t.setTime(+t+i*e)},function(t,i){return(i-t)/e}):bw:null};const RWe=bw;var Kse=ha(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Y0)},function(e,t){return(t-e)/Y0},function(e){return e.getUTCSeconds()});const x3=Kse;var Xse=ha(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y0)},function(e,t){e.setTime(+e+t*Pc)},function(e,t){return(t-e)/Pc},function(e){return e.getMinutes()});const Zse=Xse;var Qse=ha(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y0-e.getMinutes()*Pc)},function(e,t){e.setTime(+e+t*K0)},function(e,t){return(t-e)/K0},function(e){return e.getHours()});const Jse=Qse;var eae=ha(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const tae=eae;var nae=ha(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Pc)},function(e,t){return(t-e)/Pc},function(e){return e.getUTCMinutes()});const iae=nae;var rae=ha(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*K0)},function(e,t){return(t-e)/K0},function(e){return e.getUTCHours()});const oae=rae;var sae=ha(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const aae=sae;function lae(e,t,i,r,o,s){const a=[[x3,1,Y0],[x3,5,5*Y0],[x3,15,15*Y0],[x3,30,30*Y0],[s,1,Pc],[s,5,5*Pc],[s,15,15*Pc],[s,30,30*Pc],[o,1,K0],[o,3,3*K0],[o,6,6*K0],[o,12,12*K0],[r,1,ag],[r,2,2*ag],[i,1,IO],[t,1,Kie],[t,3,3*Kie],[e,1,OO]];function u(c,f,d){const h=Math.abs(f-c)/d,p=tI(([,,_])=>_).right(a,h);if(p===a.length)return e.every(Aee(c/OO,f/OO,d));if(0===p)return RWe.every(Math.max(Aee(c,f,d),1));const[m,v]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(v)}return[function l(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&"function"==typeof d.range?d:u(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m},u]}const[kWe,FWe]=lae(Bc,aae,d4,v3,oae,iae),[PWe,LWe]=lae(Lc,tae,h4,_3,Jse,Zse);function Ck(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function F4(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}var M3,Sae,Cae,uae={"-":"",_:" ",0:"0"},ma=/^\s*\d+/,$We=/^%/,UWe=/[\\^$*+?|[\]().{}]/g;function Zr(e,t,i){var r=e<0?"-":"",o=(r?-e:e)+"",s=o.length;return r+(s<i?new Array(i-s+1).join(t)+o:o)}function VWe(e){return e.replace(UWe,"\\$&")}function P4(e){return new RegExp("^(?:"+e.map(VWe).join("|")+")","i")}function L4(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function HWe(e,t,i){var r=ma.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function zWe(e,t,i){var r=ma.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function qWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function jWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function GWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function cae(e,t,i){var r=ma.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function fae(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function WWe(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function YWe(e,t,i){var r=ma.exec(t.slice(i,i+1));return r?(e.q=3*r[0]-3,i+r[0].length):-1}function KWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function dae(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function XWe(e,t,i){var r=ma.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function hae(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function ZWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function QWe(e,t,i){var r=ma.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function JWe(e,t,i){var r=ma.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function eYe(e,t,i){var r=ma.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function tYe(e,t,i){var r=$We.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function nYe(e,t,i){var r=ma.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function iYe(e,t,i){var r=ma.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function pae(e,t){return Zr(e.getDate(),t,2)}function rYe(e,t){return Zr(e.getHours(),t,2)}function oYe(e,t){return Zr(e.getHours()%12||12,t,2)}function sYe(e,t){return Zr(1+_3.count(Lc(e),e),t,3)}function gae(e,t){return Zr(e.getMilliseconds(),t,3)}function aYe(e,t){return gae(e,t)+"000"}function lYe(e,t){return Zr(e.getMonth()+1,t,2)}function uYe(e,t){return Zr(e.getMinutes(),t,2)}function cYe(e,t){return Zr(e.getSeconds(),t,2)}function fYe(e){var t=e.getDay();return 0===t?7:t}function dYe(e,t){return Zr(h4.count(Lc(e)-1,e),t,2)}function mae(e){var t=e.getDay();return t>=4||0===t?xf(e):xf.ceil(e)}function hYe(e,t){return e=mae(e),Zr(xf.count(Lc(e),e)+(4===Lc(e).getDay()),t,2)}function pYe(e){return e.getDay()}function gYe(e,t){return Zr(fg.count(Lc(e)-1,e),t,2)}function mYe(e,t){return Zr(e.getFullYear()%100,t,2)}function vYe(e,t){return Zr((e=mae(e)).getFullYear()%100,t,2)}function _Ye(e,t){return Zr(e.getFullYear()%1e4,t,4)}function yYe(e,t){var i=e.getDay();return Zr((e=i>=4||0===i?xf(e):xf.ceil(e)).getFullYear()%1e4,t,4)}function bYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zr(t/60|0,"0",2)+Zr(t%60,"0",2)}function vae(e,t){return Zr(e.getUTCDate(),t,2)}function wYe(e,t){return Zr(e.getUTCHours(),t,2)}function EYe(e,t){return Zr(e.getUTCHours()%12||12,t,2)}function SYe(e,t){return Zr(1+v3.count(Bc(e),e),t,3)}function _ae(e,t){return Zr(e.getUTCMilliseconds(),t,3)}function CYe(e,t){return _ae(e,t)+"000"}function DYe(e,t){return Zr(e.getUTCMonth()+1,t,2)}function xYe(e,t){return Zr(e.getUTCMinutes(),t,2)}function MYe(e,t){return Zr(e.getUTCSeconds(),t,2)}function AYe(e){var t=e.getUTCDay();return 0===t?7:t}function TYe(e,t){return Zr(d4.count(Bc(e)-1,e),t,2)}function yae(e){var t=e.getUTCDay();return t>=4||0===t?Df(e):Df.ceil(e)}function NYe(e,t){return e=yae(e),Zr(Df.count(Bc(e),e)+(4===Bc(e).getUTCDay()),t,2)}function IYe(e){return e.getUTCDay()}function OYe(e,t){return Zr(ug.count(Bc(e)-1,e),t,2)}function RYe(e,t){return Zr(e.getUTCFullYear()%100,t,2)}function kYe(e,t){return Zr((e=yae(e)).getUTCFullYear()%100,t,2)}function FYe(e,t){return Zr(e.getUTCFullYear()%1e4,t,4)}function PYe(e,t){var i=e.getUTCDay();return Zr((e=i>=4||0===i?Df(e):Df.ceil(e)).getUTCFullYear()%1e4,t,4)}function LYe(){return"+0000"}function bae(){return"%"}function wae(e){return+e}function Eae(e){return Math.floor(+e/1e3)}function VYe(e){return new Date(e)}function HYe(e){return e instanceof Date?+e:+new Date(+e)}function xk(e,t,i,r,o,s,a,l,u,c){var f=Tse(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),_=c("%I %p"),y=c("%a %d"),w=c("%b %d"),S=c("%B"),M=c("%Y");function A(F){return(u(F)<F?p:l(F)<F?m:a(F)<F?v:s(F)<F?_:r(F)<F?o(F)<F?y:w:i(F)<F?S:M)(F)}return f.invert=function(F){return new Date(d(F))},f.domain=function(F){return arguments.length?h(Array.from(F,HYe)):h().map(VYe)},f.ticks=function(F){var N=h();return e(N[0],N[N.length-1],F??10)},f.tickFormat=function(F,N){return null==N?A:c(N)},f.nice=function(F){var N=h();return(!F||"function"!=typeof F.range)&&(F=t(N[0],N[N.length-1],F??10)),F?h(Use(N,F)):f},f.copy=function(){return R4(f,xk(e,t,i,r,o,s,a,l,u,c))},f}function ww(){var i,r,o,s,u,e=0,t=1,a=gu,l=!1;function c(d){return null==d||isNaN(d=+d)?u:a(0===o?.5:(d=(s(d)-i)*o,l?Math.max(0,Math.min(1,d)):d))}function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,a=d(p,m),c):[a(0),a(1)]}}return c.domain=function(d){return arguments.length?([e,t]=d,i=s(e=+e),r=s(t=+t),o=i===r?0:1/(r-i),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(a=d,c):a},c.range=f(gg),c.rangeRound=f(mw),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return s=d,i=d(e),r=d(t),o=i===r?0:1/(r-i),c}}function bp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Mk(){var e=mg(ww()(gu));return e.copy=function(){return bp(e,Mk())},yp.apply(e,arguments)}function Ak(){var e=wk(ww());return e.copy=function(){return bp(e,Ak()).exponent(e.exponent())},yp.apply(e,arguments)}function Tk(e,t){void 0===t&&(t=e,e=gg);for(var i=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);i<r;)s[i]=e(o,o=t[++i]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Ew(){var o,s,a,l,u,f,h,e=0,t=.5,i=1,r=1,c=gu,d=!1;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-s)*(r*v<r*s?l:u),c(d?Math.max(0,Math.min(1,v)):v))}function m(v){return function(_){var y,w,S;return arguments.length?([y,w,S]=_,c=Tk(v,[y,w,S]),p):[c(0),c(.5),c(1)]}}return p.domain=function(v){return arguments.length?([e,t,i]=v,o=f(e=+e),s=f(t=+t),a=f(i=+i),l=o===s?0:.5/(s-o),u=s===a?0:.5/(a-s),r=s<o?-1:1,p):[e,t,i]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c},p.range=m(gg),p.rangeRound=m(mw),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,o=v(e),s=v(t),a=v(i),l=o===s?0:.5/(s-o),u=s===a?0:.5/(a-s),r=s<o?-1:1,p}}function Nk(){var e=wk(Ew());return e.copy=function(){return bp(e,Nk()).exponent(e.exponent())},yp.apply(e,arguments)}function WYe(e,t,i=mse){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+i(e[0],0,e);if(t>=1)return+i(e[r-1],r-1,e);var r,o=(r-1)*t,s=Math.floor(o),a=+i(e[s],s,e);return a+(+i(e[s+1],s+1,e)-a)*(o-s)}}!function UYe(e){M3=function BWe(e){var t=e.dateTime,i=e.date,r=e.time,o=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=P4(o),f=L4(o),d=P4(s),h=L4(s),p=P4(a),m=L4(a),v=P4(l),_=L4(l),y=P4(u),w=L4(u),S={a:function Q(Re){return a[Re.getDay()]},A:function j(Re){return s[Re.getDay()]},b:function J(Re){return u[Re.getMonth()]},B:function re(Re){return l[Re.getMonth()]},c:null,d:pae,e:pae,f:aYe,g:vYe,G:yYe,H:rYe,I:oYe,j:sYe,L:gae,m:lYe,M:uYe,p:function _e(Re){return o[+(Re.getHours()>=12)]},q:function Se(Re){return 1+~~(Re.getMonth()/3)},Q:wae,s:Eae,S:cYe,u:fYe,U:dYe,V:hYe,w:pYe,W:gYe,x:null,X:null,y:mYe,Y:_Ye,Z:bYe,"%":bae},M={a:function Be(Re){return a[Re.getUTCDay()]},A:function Oe(Re){return s[Re.getUTCDay()]},b:function qe(Re){return u[Re.getUTCMonth()]},B:function Dt(Re){return l[Re.getUTCMonth()]},c:null,d:vae,e:vae,f:CYe,g:kYe,G:PYe,H:wYe,I:EYe,j:SYe,L:_ae,m:DYe,M:xYe,p:function et(Re){return o[+(Re.getUTCHours()>=12)]},q:function Vt(Re){return 1+~~(Re.getUTCMonth()/3)},Q:wae,s:Eae,S:MYe,u:AYe,U:TYe,V:NYe,w:IYe,W:OYe,x:null,X:null,y:RYe,Y:FYe,Z:LYe,"%":bae},A={a:function oe(Re,ct,gt){var Ce=p.exec(ct.slice(gt));return Ce?(Re.w=m.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},A:function ee(Re,ct,gt){var Ce=d.exec(ct.slice(gt));return Ce?(Re.w=h.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},b:function ve(Re,ct,gt){var Ce=y.exec(ct.slice(gt));return Ce?(Re.m=w.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},B:function pe(Re,ct,gt){var Ce=v.exec(ct.slice(gt));return Ce?(Re.m=_.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},c:function R(Re,ct,gt){return H(Re,t,ct,gt)},d:dae,e:dae,f:eYe,g:fae,G:cae,H:hae,I:hae,j:XWe,L:JWe,m:KWe,M:ZWe,p:function K(Re,ct,gt){var Ce=c.exec(ct.slice(gt));return Ce?(Re.p=f.get(Ce[0].toLowerCase()),gt+Ce[0].length):-1},q:YWe,Q:nYe,s:iYe,S:QWe,u:zWe,U:qWe,V:jWe,w:HWe,W:GWe,x:function P(Re,ct,gt){return H(Re,i,ct,gt)},X:function $(Re,ct,gt){return H(Re,r,ct,gt)},y:fae,Y:cae,Z:WWe,"%":tYe};function F(Re,ct){return function(gt){var Mn,Jt,vi,Ce=[],Zt=-1,rn=0,Zn=Re.length;for(gt instanceof Date||(gt=new Date(+gt));++Zt<Zn;)37===Re.charCodeAt(Zt)&&(Ce.push(Re.slice(rn,Zt)),null!=(Jt=uae[Mn=Re.charAt(++Zt)])?Mn=Re.charAt(++Zt):Jt="e"===Mn?" ":"0",(vi=ct[Mn])&&(Mn=vi(gt,Jt)),Ce.push(Mn),rn=Zt+1);return Ce.push(Re.slice(rn,Zt)),Ce.join("")}}function N(Re,ct){return function(gt){var rn,Zn,Ce=F4(1900,void 0,1);if(H(Ce,Re,gt+="",0)!=gt.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(1e3*Ce.s+("L"in Ce?Ce.L:0));if(ct&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+12*Ce.p),void 0===Ce.m&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(Zn=(rn=Dk(F4(Ce.y,0,1))).getUTCDay(),rn=Zn>4||0===Zn?ug.ceil(rn):ug(rn),rn=v3.offset(rn,7*(Ce.V-1)),Ce.y=rn.getUTCFullYear(),Ce.m=rn.getUTCMonth(),Ce.d=rn.getUTCDate()+(Ce.w+6)%7):(Zn=(rn=Ck(F4(Ce.y,0,1))).getDay(),rn=Zn>4||0===Zn?fg.ceil(rn):fg(rn),rn=_3.offset(rn,7*(Ce.V-1)),Ce.y=rn.getFullYear(),Ce.m=rn.getMonth(),Ce.d=rn.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),Zn="Z"in Ce?Dk(F4(Ce.y,0,1)).getUTCDay():Ck(F4(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+7*Ce.W-(Zn+5)%7:Ce.w+7*Ce.U-(Zn+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,Dk(Ce)):Ck(Ce)}}function H(Re,ct,gt,Ce){for(var Mn,Jt,Zt=0,rn=ct.length,Zn=gt.length;Zt<rn;){if(Ce>=Zn)return-1;if(37===(Mn=ct.charCodeAt(Zt++))){if(Mn=ct.charAt(Zt++),!(Jt=A[Mn in uae?ct.charAt(Zt++):Mn])||(Ce=Jt(Re,gt,Ce))<0)return-1}else if(Mn!=gt.charCodeAt(Ce++))return-1}return Ce}return S.x=F(i,S),S.X=F(r,S),S.c=F(t,S),M.x=F(i,M),M.X=F(r,M),M.c=F(t,M),{format:function(Re){var ct=F(Re+="",S);return ct.toString=function(){return Re},ct},parse:function(Re){var ct=N(Re+="",!1);return ct.toString=function(){return Re},ct},utcFormat:function(Re){var ct=F(Re+="",M);return ct.toString=function(){return Re},ct},utcParse:function(Re){var ct=N(Re+="",!0);return ct.toString=function(){return Re},ct}}}(e),Sae=M3.format,Cae=M3.utcFormat}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class Rae extends Map{constructor(t,i=Pae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=t)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(Ik(this,t))}has(t){return super.has(Ik(this,t))}set(t,i){return super.set(kae(this,t),i)}delete(t){return super.delete(Fae(this,t))}}class Sw extends Set{constructor(t,i=Pae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=t)for(const r of t)this.add(r)}has(t){return super.has(Ik(this,t))}add(t){return super.add(kae(this,t))}delete(t){return super.delete(Fae(this,t))}}function Ik({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):i}function kae({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):(e.set(r,i),i)}function Fae({_intern:e,_key:t},i){const r=t(i);return e.has(r)&&(i=e.get(i),e.delete(r)),i}function Pae(e){return null!==e&&"object"==typeof e?e.valueOf():e}const Ok=Symbol("implicit");function Rk(){var e=new Rae,t=[],i=[],r=Ok;function o(s){let a=e.get(s);if(void 0===a){if(r!==Ok)return r;e.set(s,a=t.push(s)-1)}return i[a%i.length]}return o.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Rae;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(s){return arguments.length?(i=Array.from(s),o):i.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return Rk(t,i).unknown(r)},kd.apply(o,arguments),o}function YYe(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}function KYe(e,t){var i=gw(+e,+t);return function(r){var o=i(r);return o-360*Math.floor(o/360)}}var Cw,Lae=180/Math.PI,kk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bae(e,t,i,r,o,s){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*i+t*r)&&(i-=e*u,r-=t*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),e*r<t*i&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Lae,skewX:Math.atan(u)*Lae,scaleX:a,scaleY:l}}function $ae(e,t,i,r){function o(c){return c.length?c.pop()+" ":""}return function(c,f){var d=[],h=[];return c=e(c),f=e(f),function s(c,f,d,h,p,m){if(c!==d||f!==h){var v=p.push("translate(",null,t,null,i);m.push({i:v-4,x:Mf(c,d)},{i:v-2,x:Mf(f,h)})}else(d||h)&&p.push("translate("+d+t+h+i)}(c.translateX,c.translateY,f.translateX,f.translateY,d,h),function a(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:Mf(c,f)})):f&&d.push(o(d)+"rotate("+f+r)}(c.rotate,f.rotate,d,h),function l(c,f,d,h){c!==f?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:Mf(c,f)}):f&&d.push(o(d)+"skewX("+f+r)}(c.skewX,f.skewX,d,h),function u(c,f,d,h,p,m){if(c!==d||f!==h){var v=p.push(o(p)+"scale(",null,",",null,")");m.push({i:v-4,x:Mf(c,d)},{i:v-2,x:Mf(f,h)})}else(1!==d||1!==h)&&p.push(o(p)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(p){for(var _,m=-1,v=h.length;++m<v;)d[(_=h[m]).i]=_.x(p);return d.join("")}}}var QYe=$ae(function XYe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kk:Bae(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),JYe=$ae(function ZYe(e){return null!=e&&(Cw||(Cw=document.createElementNS("http://www.w3.org/2000/svg","g")),Cw.setAttribute("transform",e),e=Cw.transform.baseVal.consolidate())?Bae((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):kk},", ",")",")"),eKe=1e-12;function Uae(e){return((e=Math.exp(e))+1/e)/2}const iKe=function e(t,i,r){function o(s,a){var _,y,l=s[0],u=s[1],c=s[2],h=a[2],p=a[0]-l,m=a[1]-u,v=p*p+m*m;if(v<eKe)y=Math.log(h/c)/t,_=function(N){return[l+N*p,u+N*m,c*Math.exp(t*N*y)]};else{var w=Math.sqrt(v),S=(h*h-c*c+r*v)/(2*c*i*w),M=(h*h-c*c-r*v)/(2*h*i*w),A=Math.log(Math.sqrt(S*S+1)-S),F=Math.log(Math.sqrt(M*M+1)-M);y=(F-A)/t,_=function(N){var H=N*y,K=Uae(A),oe=c/(i*w)*(K*function nKe(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*H+A)-function tKe(e){return((e=Math.exp(e))-1/e)/2}(A));return[l+oe*p,u+oe*m,c*K/Uae(t*H+A)]}}return _.duration=1e3*y*t/Math.SQRT2,_}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a;return e(a,l,l*l)},o}(Math.SQRT2,2,4);function Vae(e){return function(t,i){var r=e((t=bI(t)).h,(i=bI(i)).h),o=ga(t.s,i.s),s=ga(t.l,i.l),a=ga(t.opacity,i.opacity);return function(l){return t.h=r(l),t.s=o(l),t.l=s(l),t.opacity=a(l),t+""}}}const rKe=Vae(gw);var oKe=Vae(ga);const Hae=.96422,zae=1,qae=.82521,jae=4/29,A3=6/29,Gae=3*A3*A3,sKe=A3*A3*A3;function Wae(e){if(e instanceof Af)return new Af(e.l,e.a,e.b,e.opacity);if(e instanceof Fd)return Kae(e);e instanceof ka||(e=_I(e));var s,a,t=$k(e.r),i=$k(e.g),r=$k(e.b),o=Pk((.2225045*t+.7168786*i+.0606169*r)/zae);return t===i&&i===r?s=a=o:(s=Pk((.4360747*t+.3850649*i+.1430804*r)/Hae),a=Pk((.0139322*t+.0971045*i+.7141733*r)/qae)),new Af(116*o-16,500*(s-o),200*(o-a),e.opacity)}function Fk(e,t,i,r){return 1===arguments.length?Wae(e):new Af(e,t,i,r??1)}function Af(e,t,i,r){this.l=+e,this.a=+t,this.b=+i,this.opacity=+r}function Pk(e){return e>sKe?Math.pow(e,1/3):e/Gae+jae}function Lk(e){return e>A3?e*e*e:Gae*(e-jae)}function Bk(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $k(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Uk(e,t,i,r){return 1===arguments.length?function Yae(e){if(e instanceof Fd)return new Fd(e.h,e.c,e.l,e.opacity);if(e instanceof Af||(e=Wae(e)),0===e.a&&0===e.b)return new Fd(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ene;return new Fd(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Fd(e,t,i,r??1)}function Fd(e,t,i,r){this.h=+e,this.c=+t,this.l=+i,this.opacity=+r}function Kae(e){if(isNaN(e.h))return new Af(e.l,0,0,e.opacity);var t=e.h*Jte;return new Af(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function aKe(e,t){var i=ga((e=Fk(e)).l,(t=Fk(t)).l),r=ga(e.a,t.a),o=ga(e.b,t.b),s=ga(e.opacity,t.opacity);return function(a){return e.l=i(a),e.a=r(a),e.b=o(a),e.opacity=s(a),e+""}}function Xae(e){return function(t,i){var r=e((t=Uk(t)).h,(i=Uk(i)).h),o=ga(t.c,i.c),s=ga(t.l,i.l),a=ga(t.opacity,i.opacity);return function(l){return t.h=r(l),t.c=o(l),t.l=s(l),t.opacity=a(l),t+""}}}e3(Af,Fk,H6(op,{brighter:function(e){return new Af(this.l+18*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Af(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return new ka(Bk(3.1338561*(t=Hae*Lk(t))-1.6168667*(e=zae*Lk(e))-.4906146*(i=qae*Lk(i))),Bk(-.9787684*t+1.9161415*e+.033454*i),Bk(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}})),e3(Fd,Uk,H6(op,{brighter:function(e){return new Fd(this.h,this.c,this.l+18*(e??1),this.opacity)},darker:function(e){return new Fd(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb:function(){return Kae(this).rgb()}}));const lKe=Xae(gw);var uKe=Xae(ga);function Zae(e){return function t(i){function r(o,s){var a=e((o=Td(o)).h,(s=Td(s)).h),l=ga(o.s,s.s),u=ga(o.l,s.l),c=ga(o.opacity,s.opacity);return function(f){return o.h=a(f),o.s=l(f),o.l=u(Math.pow(f,i)),o.opacity=c(f),o+""}}return i=+i,r.gamma=t,r}(1)}const cKe=Zae(gw);var fKe=Zae(ga);function dKe(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e(r/(t-1));return i}function Pd(e){for(var t=e.length/6|0,i=new Array(t),r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}const hKe=Pd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),pKe=Pd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),gKe=Pd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),mKe=Pd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),vKe=Pd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_Ke=Pd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),yKe=Pd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),bKe=Pd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),wKe=Pd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),EKe=Pd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Vk(e,t,i){const r=e-t+2*i;return e?r>0?r:1:0}const T3="linear",Q0="log",B4="pow",$4="sqrt",xw="symlog",vg="time",_g="utc",Ld="sequential",N3="diverging",I3="quantile",Mw="quantize",Aw="threshold",Hk="ordinal",zk="point",qk="bin-ordinal",Qs="continuous",U4="discrete",V4="discretizing",Hc="interpolating",jk="temporal";function Gk(){const e=Rk().unknown(void 0),t=e.domain,i=e.range;let o,s,r=[0,1],a=!1,l=0,u=0,c=.5;function f(){const d=t().length,h=r[1]<r[0],p=r[1-h],m=Vk(d,l,u);let v=r[h-0];o=(p-v)/(m||1),a&&(o=Math.floor(o)),v+=(p-v-o*(d-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));const _=function XGe(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}(d).map(y=>v+o*y);return i(h?_.reverse():_)}return delete e.unknown,e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],f()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l=u,f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.invertRange=function(d){if(null==d[0]||null==d[1])return;const h=r[1]<r[0],p=h?i().reverse():i(),m=p.length-1;let y,w,S,v=+d[0],_=+d[1];return v!=v||_!=_||(_<v&&(S=v,v=_,_=S),_<p[0]||v>r[1-h])?void 0:(y=Math.max(0,uk(p,v)-1),w=v===_?y:uk(p,_)-1,v-p[y]>s+1e-10&&++y,h&&(S=y,y=m-w,w=m-S),y>w?void 0:t().slice(y,w+1))},e.invert=function(d){const h=e.invertRange([d,d]);return h&&h[0]},e.copy=function(){return Gk().domain(t()).range(r).round(a).paddingInner(l).paddingOuter(u).align(c)},f()}function Jae(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Jae(t())},e}var MKe=Array.prototype.map;const TKe=Array.prototype.slice,Tw=new Map,tle=Symbol("vega_scale");function nle(e){return e[tle]=!0,e}function ile(e){return e&&!0===e[tle]}function Qr(e,t,i){return arguments.length>1?(Tw.set(e,function NKe(e,t,i){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?function CKe(e){return function(t){let o,i=t[0],r=t[1];return r<i&&(o=i,i=r,r=o),[e.invert(i),e.invert(r)]}}(s):s.invertExtent?function DKe(e){return function(t){const i=e.range();let a,l,u,c,r=t[0],o=t[1],s=-1;for(o<r&&(l=r,r=o,o=l),u=0,c=i.length;u<c;++u)i[u]>=r&&i[u]<=o&&(s<0&&(s=u),a=u);if(!(s<0))return r=e.invertExtent(i[s]),o=e.invertExtent(i[a]),[void 0===r[0]?r[1]:r[0],void 0===o[1]?o[0]:o[1]]}}(s):void 0),s.type=e,nle(s)};return r.metadata=Sf(Un(i)),r}(e,t,i)),this):rle(e)?Tw.get(e):void 0}function rle(e){return Tw.has(e)}function yg(e,t){const i=Tw.get(e);return i&&i.metadata[t]}function Wk(e){return yg(e,Qs)}function O3(e){return yg(e,U4)}function Yk(e){return yg(e,V4)}function ole(e){return yg(e,Q0)}function sle(e){return yg(e,Hc)}function ale(e){return yg(e,I3)}Qr("identity",function $se(e){var t;function i(r){return null==r||isNaN(r=+r)?t:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(e=Array.from(r,mk),i):e.slice()},i.unknown=function(r){return arguments.length?(t=r,i):t},i.copy=function(){return $se(e).unknown(t)},e=arguments.length?Array.from(e,mk):[0,1],mg(i)}),Qr(T3,function Bse(){var e=Tse();return e.copy=function(){return R4(e,Bse())},kd.apply(e,arguments),mg(e)},Qs),Qr(Q0,function qse(){const e=bk(vw()).domain([1,10]);return e.copy=()=>R4(e,qse()).base(e.base()),kd.apply(e,arguments),e},[Qs,Q0]),Qr(B4,Ek,Qs),Qr($4,function OWe(){return Ek.apply(null,arguments).exponent(.5)},Qs),Qr(xw,function Yse(){var e=Sk(vw());return e.copy=function(){return R4(e,Yse()).constant(e.constant())},kd.apply(e,arguments)},Qs),Qr(vg,function zYe(){return kd.apply(xk(PWe,LWe,Lc,tae,h4,_3,Jse,Zse,x3,Sae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Qs,jk]),Qr(_g,function qYe(){return kd.apply(xk(kWe,FWe,Bc,aae,d4,v3,oae,iae,x3,Cae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Qs,jk]),Qr(Ld,Mk,[Qs,Hc]),Qr(`${Ld}-${T3}`,Mk,[Qs,Hc]),Qr(`${Ld}-${Q0}`,function Dae(){var e=bk(ww()).domain([1,10]);return e.copy=function(){return bp(e,Dae()).base(e.base())},yp.apply(e,arguments)},[Qs,Hc,Q0]),Qr(`${Ld}-${B4}`,Ak,[Qs,Hc]),Qr(`${Ld}-${$4}`,function jYe(){return Ak.apply(null,arguments).exponent(.5)},[Qs,Hc]),Qr(`${Ld}-${xw}`,function xae(){var e=Sk(ww());return e.copy=function(){return bp(e,xae()).constant(e.constant())},yp.apply(e,arguments)},[Qs,Hc]),Qr(`${N3}-${T3}`,function Mae(){var e=mg(Ew()(gu));return e.copy=function(){return bp(e,Mae())},yp.apply(e,arguments)},[Qs,Hc]),Qr(`${N3}-${Q0}`,function Aae(){var e=bk(Ew()).domain([.1,1,10]);return e.copy=function(){return bp(e,Aae()).base(e.base())},yp.apply(e,arguments)},[Qs,Hc,Q0]),Qr(`${N3}-${B4}`,Nk,[Qs,Hc]),Qr(`${N3}-${$4}`,function GYe(){return Nk.apply(null,arguments).exponent(.5)},[Qs,Hc]),Qr(`${N3}-${xw}`,function Tae(){var e=Sk(Ew());return e.copy=function(){return bp(e,Tae()).constant(e.constant())},yp.apply(e,arguments)},[Qs,Hc]),Qr(I3,function Nae(){var r,e=[],t=[],i=[];function o(){var a=0,l=Math.max(1,t.length);for(i=new Array(l-1);++a<l;)i[a-1]=WYe(e,a/l);return s}function s(a){return null==a||isNaN(a=+a)?r:t[O4(i,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?i[l-1]:e[0],l<i.length?i[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)null!=l&&!isNaN(l=+l)&&e.push(l);return e.sort(I4),o()},s.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return i.slice()},s.copy=function(){return Nae().domain(e).range(t).unknown(r)},kd.apply(s,arguments)},[V4,I3]),Qr(Mw,function Iae(){var s,e=0,t=1,i=1,r=[.5],o=[0,1];function a(u){return null!=u&&u<=u?o[O4(r,u,0,i)]:s}function l(){var u=-1;for(r=new Array(i);++u<i;)r[u]=((u+1)*t-(u-i)*e)/(i+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(i=(o=Array.from(u)).length-1,l()):o.slice()},a.invertExtent=function(u){var c=o.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=i?[r[i-1],t]:[r[c-1],r[c]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Iae().domain([e,t]).range(o).unknown(s)},kd.apply(mg(a),arguments)},V4),Qr(Aw,function Oae(){var i,e=[.5],t=[0,1],r=1;function o(s){return null!=s&&s<=s?t[O4(e,s,0,r)]:i}return o.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return Oae().domain(e).range(t).unknown(i)},kd.apply(o,arguments)},V4),Qr(qk,function ele(){let e=[],t=[];function i(r){return null==r||r!=r?void 0:t[(O4(e,r)-1)%t.length]}return i.domain=function(r){return arguments.length?(e=function AKe(e){return MKe.call(e,al)}(r),i):e.slice()},i.range=function(r){return arguments.length?(t=TKe.call(r),i):t.slice()},i.tickFormat=function(r,o){return Lse(e[0],Rr(e),r??10,o)},i.copy=function(){return ele().domain(i.domain()).range(i.range())},i},[U4,V4]),Qr(Hk,Rk,U4),Qr("band",Gk,U4),Qr(zk,function xKe(){return Jae(Gk().paddingInner(1))},U4);const OKe=["clamp","base","constant","exponent"];function lle(e,t){const i=t[0],r=Rr(t)-i;return function(o){return e(i+o*r)}}function Nw(e,t,i){return Tk(Kk(t||"rgb",i),e)}function ule(e,t){const i=new Array(t),r=t+1;for(let o=0;o<t;)i[o]=e(++o/r);return i}function cle(e,t,i){const r=i-t;let o,s,a;return r&&Number.isFinite(r)?(o=(s=e.type).indexOf("-"),s=o<0?s:s.slice(o+1),a=Qr(s)().domain([t,i]).range([0,1]),OKe.forEach(l=>e[l]?a[l](e[l]()):0),a):ll(.5)}function Kk(e,t){const i=te[function RKe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}(e)];return null!=t&&i&&i.gamma?i.gamma(t):i}function fle(e){if(Pt(e))return e;const t=e.length/6|0,i=new Array(t);for(let r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}function dle(e,t){for(const i in e)Xk(i,t(e[i]))}const hle={};function Xk(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(hle[e]=t,this):hle[e]}dle({accent:hKe,category10:pKe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:gKe,observable10:mKe,paired:vKe,pastel1:_Ke,pastel2:yKe,set1:bKe,set2:wKe,set3:EKe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},fle),dle({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>Nw(fle(e)));const Iw="symbol",PKe="discrete",BKe=e=>Pt(e)?e.map(t=>String(t)):String(e),$Ke=(e,t)=>e[1]-t[1],UKe=(e,t)=>t[1]-e[1];function Zk(e,t,i){let r;return Kr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=i&&(t=Math.min(t,Math.floor(Z6(e.domain())/i||1)+1))),Ln(t)&&(r=t.step,t=t.interval),Bn(t)&&(t=e.type===vg?g3(t):e.type==_g?m3(t):Rt("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function ple(e,t,i){let r=e.range(),o=r[0],s=Rr(r),a=$Ke;if(o>s&&(r=s,s=o,o=r,a=UKe),o=Math.floor(o),s=Math.ceil(s),t=t.map(l=>[l,e(l)]).filter(l=>o<=l[1]&&l[1]<=s).sort(a).map(l=>l[0]),i>0&&t.length>1){const l=[t[0],Rr(t)];for(;t.length>i&&t.length>=3;)t=t.filter((u,c)=>!(c%2));t.length<3&&(t=l)}return t}function Qk(e,t){return e.bins?ple(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function gle(e,t,i,r,o,s){const a=t.type;let l=BKe;if(a===vg||o===vg)l=e.timeFormat(r);else if(a===_g||o===_g)l=e.utcFormat(r);else if(ole(a)){const u=e.formatFloat(r);if(s||t.bins)l=u;else{const c=mle(t,i,!1);l=f=>c(f)?u(f):""}}else if(t.tickFormat){const u=t.domain();l=e.formatSpan(u[0],u[u.length-1],i,r)}else r&&(l=e.format(r));return l}function mle(e,t,i){const r=Qk(e,t),o=e.base(),s=Math.log(o),a=Math.max(1,o*t/r.length),l=u=>{let c=u/Math.pow(o,Math.round(Math.log(u)/s));return c*o<o-.5&&(c*=o),c<=a};return i?r.filter(l):l}const Jk={[I3]:"quantiles",[Mw]:"thresholds",[Aw]:"domain"},vle={[I3]:"quantiles",[Mw]:"domain"};function _le(e,t){return e.bins?function zKe(e){const t=e.slice(0,-1);return t.max=Rr(e),t}(e.bins):e.type===Q0?mle(e,t,!0):Jk[e.type]?function HKe(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[Jk[e.type]]()):Qk(e,t)}const qKe=e=>Jk[e.type]||e.bins;function yle(e,t,i,r,o,s,a){const l=vle[t.type]&&s!==vg&&s!==_g?function VKe(e,t,i){const r=t[vle[t.type]](),o=r.length;let a,s=o>1?r[1]-r[0]:r[0];for(a=1;a<o;++a)s=Math.min(s,r[a]-r[a-1]);return e.formatSpan(0,s,30,i)}(e,t,o):gle(e,t,i,o,s,a);return r===Iw&&qKe(t)?jKe(l):r===PKe?GKe(l):WKe(l)}const jKe=e=>(t,i,r)=>{const o=ble(r[i+1],ble(r.max,1/0)),s=wle(t,e),a=wle(o,e);return s&&a?s+" \u2013 "+a:a?"< "+a:"\u2265 "+s},ble=(e,t)=>e??t,GKe=e=>(t,i)=>i?e(t):null,WKe=e=>t=>e(t),wle=(e,t)=>Number.isFinite(e)?t(e):null;function Ele(e,t,i){i=i||{};const r=Math.max(3,i.maxlen||7),o=function KKe(e,t,i,r){const o=r||t.type;return Bn(i)&&function IKe(e){return yg(e,jk)}(o)&&(i=i.replace(/%a/g,"%A").replace(/%b/g,"%B")),i||o!==vg?i||o!==_g?yle(e,t,5,null,i,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,i.format,i.formatType);if(Yk(t.type)){const s=_le(t).slice(1).map(o),a=s.length;return`${a} boundar${1===a?"y":"ies"}: ${s.join(", ")}`}if(O3(t.type)){const s=t.domain(),a=s.length;return`${a} value${1===a?"":"s"}: ${a>r?s.slice(0,r-2).map(o).join(", ")+", ending with "+s.slice(-1).map(o):s.map(o).join(", ")}`}{const s=t.domain();return`values from ${o(s[0])} to ${o(Rr(s))}`}}let Sle=0;const Ow="p_";function eF(e){return e&&e.gradient}function Cle(e,t,i){const r=e.gradient;let o=e.id,s="radial"===r?Ow:"";return o||(o=e.id="gradient_"+Sle++,"radial"===r?(e.x1=Bd(e.x1,.5),e.y1=Bd(e.y1,.5),e.r1=Bd(e.r1,0),e.x2=Bd(e.x2,.5),e.y2=Bd(e.y2,.5),e.r2=Bd(e.r2,.5),s=Ow):(e.x1=Bd(e.x1,0),e.y1=Bd(e.y1,0),e.x2=Bd(e.x2,1),e.y2=Bd(e.y2,0))),t[o]=e,"url("+(i||"")+"#"+s+o+")"}function Bd(e,t){return e??t}function Dle(e,t){var r,i=[];return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(o,s){return i.push({offset:o,color:s}),r}}}const xle={basis:{curve:function tGe(e){return new rw(e)}},"basis-closed":{curve:function nGe(e){return new qoe(e)}},"basis-open":{curve:function iGe(e){return new joe(e)}},bundle:{curve:rGe,tension:"beta",value:.85},cardinal:{curve:oGe,tension:"tension",value:0},"cardinal-open":{curve:sGe,tension:"tension",value:0},"cardinal-closed":{curve:aGe,tension:"tension",value:0},"catmull-rom":{curve:cGe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:fGe,tension:"alpha",value:.5},"catmull-rom-open":{curve:dGe,tension:"alpha",value:.5},linear:{curve:nk},"linear-closed":{curve:function hGe(e){return new Joe(e)}},monotone:{horizontal:function gGe(e){return new ise(e)},vertical:function pGe(e){return new aw(e)}},natural:{curve:function mGe(e){return new ose(e)}},step:{curve:function vGe(e){return new lw(e,.5)}},"step-after":{curve:function yGe(e){return new lw(e,1)}},"step-before":{curve:function _Ge(e){return new lw(e,0)}}};function tF(e,t,i){var r=Gn(xle,e)&&xle[e],o=null;return r&&(o=r.curve||r[t||"vertical"],r.tension&&null!=i&&(o=o[r.tension](i))),o}const ZKe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},QKe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,JKe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,eXe=/^((\s+,?\s*)|(,\s*))/,tXe=/^[01]/;function R3(e){const t=[];return(e.match(QKe)||[]).forEach(r=>{let o=r[0];const s=o.toLowerCase(),a=ZKe[s],l=function nXe(e,t,i){const r=[];for(let o=0;t&&o<i.length;)for(let s=0;s<t;++s){const a="a"!==e||3!==s&&4!==s?JKe:tXe,l=i.slice(o).match(a);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");o+=l[0].length,r.push(+l[0]);const u=i.slice(o).match(eXe);null!==u&&(o+=u[0].length)}return r}(s,a,r.slice(1).trim()),u=l.length;if(u<a||u&&u%a!=0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([o,...l.slice(0,a)]),u!==a){"m"===s&&(o="M"===o?"L":"l");for(let c=a;c<u;c+=a)t.push([o,...l.slice(c,c+a)])}}),t}const wp=Math.PI/180,iXe=1e-14,bg=Math.PI/2,$d=2*Math.PI,k3=Math.sqrt(3)/2;var nF={},iF={},Mle=[].join;function oXe(e){const t=Mle.call(e);if(iF[t])return iF[t];var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7];const f=c*a,d=-u*l,h=u*a,p=c*l,m=Math.cos(o),v=Math.sin(o),_=Math.cos(s),y=Math.sin(s),w=.5*(s-o),S=Math.sin(.5*w),M=8/3*S*S/Math.sin(w),A=i+m-M*v,F=r+v+M*m,N=i+_,H=r+y,K=N+M*y,oe=H-M*_;return iF[t]=[f*A+d*F,h*A+p*F,f*K+d*oe,h*K+p*oe,f*N+d*H,h*N+p*H]}const zc=["l",0,0,0,0,0,0,0];function sXe(e,t,i){const r=zc[0]=e[0];if("a"===r||"A"===r)zc[1]=t*e[1],zc[2]=i*e[2],zc[3]=e[3],zc[4]=e[4],zc[5]=e[5],zc[6]=t*e[6],zc[7]=i*e[7];else if("h"===r||"H"===r)zc[1]=t*e[1];else if("v"===r||"V"===r)zc[1]=i*e[1];else for(var o=1,s=e.length;o<s;++o)zc[o]=(o%2==1?t:i)*e[o];return zc}function H4(e,t,i,r,o,s){var a,h,p,m,v,l=null,u=0,c=0,f=0,d=0,_=0,y=0;null==i&&(i=0),null==r&&(r=0),null==o&&(o=1),null==s&&(s=o),e.beginPath&&e.beginPath();for(var w=0,S=t.length;w<S;++w){switch(a=t[w],(1!==o||1!==s)&&(a=sXe(a,o,s)),a[0]){case"l":e.lineTo((u+=a[1])+i,(c+=a[2])+r);break;case"L":e.lineTo((u=a[1])+i,(c=a[2])+r);break;case"h":e.lineTo((u+=a[1])+i,c+r);break;case"H":e.lineTo((u=a[1])+i,c+r);break;case"v":e.lineTo(u+i,(c+=a[1])+r);break;case"V":e.lineTo(u+i,(c=a[1])+r);break;case"m":_=u+=a[1],y=c+=a[2],e.moveTo(u+i,c+r);break;case"M":_=u=a[1],y=c=a[2],e.moveTo(u+i,c+r);break;case"c":e.bezierCurveTo(u+a[1]+i,c+a[2]+r,(f=u+a[3])+i,(d=c+a[4])+r,(h=u+a[5])+i,(p=c+a[6])+r),u=h,c=p;break;case"C":e.bezierCurveTo(a[1]+i,a[2]+r,(f=a[3])+i,(d=a[4])+r,(u=a[5])+i,(c=a[6])+r);break;case"s":e.bezierCurveTo((f=2*u-f)+i,(d=2*c-d)+r,u+a[1]+i,c+a[2]+r,(h=u+a[3])+i,(p=c+a[4])+r),f=u+a[1],d=c+a[2],u=h,c=p;break;case"S":e.bezierCurveTo((f=2*u-f)+i,(d=2*c-d)+r,a[1]+i,a[2]+r,(h=a[3])+i,(p=a[4])+r),u=h,c=p,f=a[1],d=a[2];break;case"q":e.quadraticCurveTo((f=u+a[1])+i,(d=c+a[2])+r,(h=u+a[3])+i,(p=c+a[4])+r),u=h,c=p;break;case"Q":e.quadraticCurveTo(a[1]+i,a[2]+r,(h=a[3])+i,(p=a[4])+r),u=h,c=p,f=a[1],d=a[2];break;case"t":h=u+a[1],p=c+a[2],null===l[0].match(/[QqTt]/)?(f=u,d=c):"t"===l[0]?(f=2*u-m,d=2*c-v):"q"===l[0]&&(f=2*u-f,d=2*c-d),m=f,v=d,e.quadraticCurveTo(f+i,d+r,h+i,p+r),f=(u=h)+a[1],d=(c=p)+a[2];break;case"T":e.quadraticCurveTo((f=2*u-f)+i,(d=2*c-d)+r,(h=a[1])+i,(p=a[2])+r),u=h,c=p;break;case"a":Ale(e,u+i,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+u+i,a[7]+c+r]),u+=a[6],c+=a[7];break;case"A":Ale(e,u+i,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+i,a[7]+r]),u=a[6],c=a[7];break;case"z":case"Z":u=_,c=y,e.closePath()}l=a}}function Ale(e,t,i,r){const o=function rXe(e,t,i,r,o,s,a,l,u){const c=Mle.call(arguments);if(nF[c])return nF[c];const f=a*wp,d=Math.sin(f),h=Math.cos(f),p=h*(l-e)*.5+d*(u-t)*.5,m=h*(u-t)*.5-d*(l-e)*.5;let v=p*p/((i=Math.abs(i))*i)+m*m/((r=Math.abs(r))*r);v>1&&(v=Math.sqrt(v),i*=v,r*=v);const _=h/i,y=d/i,w=-d/r,S=h/r,M=_*l+y*u,A=w*l+S*u,F=_*e+y*t,N=w*e+S*t;let K=1/((F-M)*(F-M)+(N-A)*(N-A))-.25;K<0&&(K=0);let oe=Math.sqrt(K);s==o&&(oe=-oe);const ee=.5*(M+F)-oe*(N-A),ve=.5*(A+N)+oe*(F-M),pe=Math.atan2(A-ve,M-ee);let P=Math.atan2(N-ve,F-ee)-pe;P<0&&1===s?P+=$d:P>0&&0===s&&(P-=$d);const $=Math.ceil(Math.abs(P/(bg+.001))),Q=[];for(let j=0;j<$;++j)Q[j]=[ee,ve,pe+j*P/$,pe+(j+1)*P/$,i,r,d,h];return nF[c]=Q}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,i);for(let s=0;s<o.length;++s){const a=oXe(o[s]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const Tle=.5773502691896257,Nle={circle:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(i,0),e.arc(0,0,i,0,$d)}},cross:{draw:function(e,t){var i=Math.sqrt(t)/2,r=i/2.5;e.moveTo(-i,-r),e.lineTo(-i,r),e.lineTo(-r,r),e.lineTo(-r,i),e.lineTo(r,i),e.lineTo(r,r),e.lineTo(i,r),e.lineTo(i,-r),e.lineTo(r,-r),e.lineTo(r,-i),e.lineTo(-r,-i),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(-i,0),e.lineTo(0,-i),e.lineTo(i,0),e.lineTo(0,i),e.closePath()}},square:{draw:function(e,t){var i=Math.sqrt(t),r=-i/2;e.rect(r,r,i,i)}},arrow:{draw:function(e,t){var i=Math.sqrt(t)/2,r=i/7,o=i/2.5,s=i/8;e.moveTo(-r,i),e.lineTo(r,i),e.lineTo(r,-s),e.lineTo(o,-s),e.lineTo(0,-i),e.lineTo(-o,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i,o=r-i*Tle,s=i/4;e.moveTo(0,-r-o),e.lineTo(-s,r-o),e.lineTo(s,r-o),e.closePath()}},triangle:{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i,o=r-i*Tle;e.moveTo(0,-r-o),e.lineTo(-i,r-o),e.lineTo(i,r-o),e.closePath()}},"triangle-up":{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i;e.moveTo(0,-r),e.lineTo(-i,r),e.lineTo(i,r),e.closePath()}},"triangle-down":{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i;e.moveTo(0,r),e.lineTo(-i,-r),e.lineTo(i,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i;e.moveTo(r,0),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},"triangle-left":{draw:function(e,t){var i=Math.sqrt(t)/2,r=k3*i;e.moveTo(-r,0),e.lineTo(r,-i),e.lineTo(r,i),e.closePath()}},stroke:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(-i,0),e.lineTo(i,0)}}};function Ile(e){return Gn(Nle,e)?Nle[e]:function aXe(e){if(!Gn(rF,e)){const t=R3(e);rF[e]={draw:function(i,r){H4(i,t,0,0,Math.sqrt(r)/2)}}}return rF[e]}(e)}var rF={};const Ep=.448084975506;function lXe(e){return e.x}function uXe(e){return e.y}function cXe(e){return e.width}function fXe(e){return e.height}function J0(e){return"function"==typeof e?e:()=>+e}function Rw(e,t,i){return Math.max(t,Math.min(e,i))}function Ole(){var e=lXe,t=uXe,i=cXe,r=fXe,o=J0(0),s=o,a=o,l=o,u=null;function c(f,d,h){var p,m=d??+e.call(this,f),v=h??+t.call(this,f),_=+i.call(this,f),y=+r.call(this,f),w=Math.min(_,y)/2,S=Rw(+o.call(this,f),0,w),M=Rw(+s.call(this,f),0,w),A=Rw(+a.call(this,f),0,w),F=Rw(+l.call(this,f),0,w);if(u||(u=p=cw()),S<=0&&M<=0&&A<=0&&F<=0)u.rect(m,v,_,y);else{var N=m+_,H=v+y;u.moveTo(m+S,v),u.lineTo(N-M,v),u.bezierCurveTo(N-Ep*M,v,N,v+Ep*M,N,v+M),u.lineTo(N,H-F),u.bezierCurveTo(N,H-Ep*F,N-Ep*F,H,N-F,H),u.lineTo(m+A,H),u.bezierCurveTo(m+Ep*A,H,m,H-Ep*A,m,H-A),u.lineTo(m,v+S),u.bezierCurveTo(m,v+Ep*S,m+Ep*S,v,m+S,v),u.closePath()}if(p)return u=null,p+""||null}return c.x=function(f){return arguments.length?(e=J0(f),c):e},c.y=function(f){return arguments.length?(t=J0(f),c):t},c.width=function(f){return arguments.length?(i=J0(f),c):i},c.height=function(f){return arguments.length?(r=J0(f),c):r},c.cornerRadius=function(f,d,h,p){return arguments.length?(o=J0(f),s=null!=d?J0(d):o,l=null!=h?J0(h):o,a=null!=p?J0(p):s,c):o},c.context=function(f){return arguments.length?(u=f??null,c):u},c}function Rle(){var e,t,i,r,s,a,l,u,o=null;function c(d,h,p){const m=p/2;if(s){var v=l-h,_=d-a;if(v||_){var y=Math.hypot(v,_),w=(v/=y)*u,S=(_/=y)*u,M=Math.atan2(_,v);o.moveTo(a-w,l-S),o.lineTo(d-v*m,h-_*m),o.arc(d,h,m,M-Math.PI,M),o.lineTo(a+w,l+S),o.arc(a,l,u,M,M+Math.PI)}else o.arc(d,h,m,0,$d);o.closePath()}else s=1;a=d,l=h,u=m}function f(d){var h,m,_,p=d.length,v=!1;for(null==o&&(o=_=cw()),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===v&&(v=!v)&&(s=0),v&&c(+e(m,h,d),+t(m,h,d),+i(m,h,d));if(_)return o=null,_+""||null}return f.x=function(d){return arguments.length?(e=d,f):e},f.y=function(d){return arguments.length?(t=d,f):t},f.size=function(d){return arguments.length?(i=d,f):i},f.defined=function(d){return arguments.length?(r=d,f):r},f.context=function(d){return arguments.length?(o=null==d?null:d,f):o},f}function z4(e,t){return e??t}const q4=e=>e.x||0,j4=e=>e.y||0,kw=e=>!1!==e.defined,TXe=function AGe(){var e=EGe,t=SGe,i=lo(0),r=null,o=CGe,s=DGe,a=xGe,l=null,u=fw(c);function c(){var f,d,h=+e.apply(this,arguments),p=+t.apply(this,arguments),m=o.apply(this,arguments)-sw,v=s.apply(this,arguments)-sw,_=Woe(v-m),y=v>m;if(l||(l=f=u()),p<h&&(d=p,p=h,h=d),p>dl)if(_>N4-dl)l.moveTo(p*Z0(m),p*pu(m)),l.arc(0,0,p,m,v,!y),h>dl&&(l.moveTo(h*Z0(v),h*pu(v)),l.arc(0,0,h,v,m,y));else{var pe,R,w=m,S=v,M=m,A=v,F=_,N=_,H=a.apply(this,arguments)/2,K=H>dl&&(r?+r.apply(this,arguments):Bo(h*h+p*p)),oe=C3(Woe(p-h)/2,+i.apply(this,arguments)),ee=oe,ve=oe;if(K>dl){var P=Yoe(K/h*pu(H)),$=Yoe(K/p*pu(H));(F-=2*P)>dl?(M+=P*=y?1:-1,A-=P):(F=0,M=A=(m+v)/2),(N-=2*$)>dl?(w+=$*=y?1:-1,S-=$):(N=0,w=S=(m+v)/2)}var Q=p*Z0(w),j=p*pu(w),J=h*Z0(A),re=h*pu(A);if(oe>dl){var qe,_e=p*Z0(S),Se=p*pu(S),Be=h*Z0(M),Oe=h*pu(M);if(_<vp)if(qe=function MGe(e,t,i,r,o,s,a,l){var u=i-e,c=r-t,f=a-o,d=l-s,h=d*u-f*c;if(!(h*h<dl))return[e+(h=(f*(t-s)-d*(e-o))/h)*u,t+h*c]}(Q,j,Be,Oe,_e,Se,J,re)){var Dt=Q-qe[0],et=j-qe[1],Vt=_e-qe[0],Re=Se-qe[1],ct=1/pu(function uGe(e){return e>1?0:e<-1?vp:Math.acos(e)}((Dt*Vt+et*Re)/(Bo(Dt*Dt+et*et)*Bo(Vt*Vt+Re*Re)))/2),gt=Bo(qe[0]*qe[0]+qe[1]*qe[1]);ee=C3(oe,(h-gt)/(ct-1)),ve=C3(oe,(p-gt)/(ct+1))}else ee=ve=0}N>dl?ve>dl?(pe=dw(Be,Oe,Q,j,p,ve,y),R=dw(_e,Se,J,re,p,ve,y),l.moveTo(pe.cx+pe.x01,pe.cy+pe.y01),ve<oe?l.arc(pe.cx,pe.cy,ve,fl(pe.y01,pe.x01),fl(R.y01,R.x01),!y):(l.arc(pe.cx,pe.cy,ve,fl(pe.y01,pe.x01),fl(pe.y11,pe.x11),!y),l.arc(0,0,p,fl(pe.cy+pe.y11,pe.cx+pe.x11),fl(R.cy+R.y11,R.cx+R.x11),!y),l.arc(R.cx,R.cy,ve,fl(R.y11,R.x11),fl(R.y01,R.x01),!y))):(l.moveTo(Q,j),l.arc(0,0,p,w,S,!y)):l.moveTo(Q,j),h>dl&&F>dl?ee>dl?(pe=dw(J,re,_e,Se,h,-ee,y),R=dw(Q,j,Be,Oe,h,-ee,y),l.lineTo(pe.cx+pe.x01,pe.cy+pe.y01),ee<oe?l.arc(pe.cx,pe.cy,ee,fl(pe.y01,pe.x01),fl(R.y01,R.x01),!y):(l.arc(pe.cx,pe.cy,ee,fl(pe.y01,pe.x01),fl(pe.y11,pe.x11),!y),l.arc(0,0,h,fl(pe.cy+pe.y11,pe.cx+pe.x11),fl(R.cy+R.y11,R.cx+R.x11),y),l.arc(R.cx,R.cy,ee,fl(R.y11,R.x11),fl(R.y01,R.x01),!y))):l.arc(0,0,h,A,M,y):l.lineTo(J,re)}else l.moveTo(0,0);if(l.closePath(),f)return l=null,f+""||null}return c.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-vp/2;return[Z0(d)*f,pu(d)*f]},c.innerRadius=function(f){return arguments.length?(e="function"==typeof f?f:lo(+f),c):e},c.outerRadius=function(f){return arguments.length?(t="function"==typeof f?f:lo(+f),c):t},c.cornerRadius=function(f){return arguments.length?(i="function"==typeof f?f:lo(+f),c):i},c.padRadius=function(f){return arguments.length?(r=null==f?null:"function"==typeof f?f:lo(+f),c):r},c.startAngle=function(f){return arguments.length?(o="function"==typeof f?f:lo(+f),c):o},c.endAngle=function(f){return arguments.length?(s="function"==typeof f?f:lo(+f),c):s},c.padAngle=function(f){return arguments.length?(a="function"==typeof f?f:lo(+f),c):a},c.context=function(f){return arguments.length?(l=f??null,c):l},c}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),NXe=dse().x(q4).y1(j4).y0(e=>(e.y||0)+(e.height||0)).defined(kw),IXe=dse().y(j4).x1(q4).x0(e=>(e.x||0)+(e.width||0)).defined(kw),OXe=fse().x(q4).y(j4).defined(kw),RXe=Ole().x(q4).y(j4).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>z4(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>z4(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>z4(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>z4(e.cornerRadiusBottomLeft,e.cornerRadius)||0),kXe=function YGe(e,t){let i=null,r=fw(o);function o(){let s;if(i||(i=s=r()),e.apply(this,arguments).draw(i,+t.apply(this,arguments)),s)return i=null,s+""||null}return e="function"==typeof e?e:lo(e||sk),t="function"==typeof t?t:lo(void 0===t?64:+t),o.type=function(s){return arguments.length?(e="function"==typeof s?s:lo(s),o):e},o.size=function(s){return arguments.length?(t="function"==typeof s?s:lo(+s),o):t},o.context=function(s){return arguments.length?(i=s??null,o):i},o}().type(e=>Ile(e.shape||"circle")).size(e=>z4(e.size,64)),FXe=Rle().x(q4).y(j4).defined(kw).size(e=>e.size||1);function oF(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function F3(e,t,i,r){return RXe.context(e)(t,i,r)}var kle=1;function Fle(){kle=1}function sF(e,t,i){var r=t.clip,o=e._defs,s=t.clip_id||(t.clip_id="clip"+kle++),a=o.clipping[s]||(o.clipping[s]={id:s});return ur(r)?a.path=r(null):oF(i)?a.path=F3(null,i,0,0):(a.width=i.width||0,a.height=i.height||0),"url(#"+s+")"}function zs(e){this.clear(),e&&this.union(e)}function Fw(e){this.mark=e,this.bounds=this.bounds||new zs}function Pw(e){Fw.call(this,e),this.items=this.items||[]}zs.prototype={clone(){return new zs(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,i,r){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,i){const r=this.rotatedPoints(e,t,i);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,i){var{x1:r,y1:o,x2:s,y2:a}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+i*u,f=i-t*u-i*l;return[l*r-u*o+c,u*r+l*o+f,l*r-u*a+c,u*r+l*a+f,l*s-u*o+c,u*s+l*o+f,l*s-u*a+c,u*s+l*a+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Dn(Pw,Fw);class Ple{constructor(t){this._pending=0,this._loader=t||Lb()}pending(){return this._pending}sanitizeURL(t){const i=this;return Lle(i),i._loader.sanitize(t,{context:"href"}).then(r=>(G4(i),r)).catch(()=>(G4(i),null))}loadImage(t){const i=this,r=typeof Image<"u"?Image:null;return Lle(i),i._loader.sanitize(t,{context:"image"}).then(o=>{const s=o.href;if(!s||!r)throw{url:s};const a=new r,l=Gn(o,"crossOrigin")?o.crossOrigin:"anonymous";return null!=l&&(a.crossOrigin=l),a.onload=()=>G4(i),a.onerror=()=>G4(i),a.src=s,a}).catch(o=>(G4(i),{complete:!1,width:0,height:0,src:o&&o.url||""}))}ready(){const t=this;return new Promise(i=>{!function r(o){t.pending()?setTimeout(()=>{r(!0)},10):i(o)}(!1)})}}function Lle(e){e._pending+=1}function G4(e){e._pending-=1}function eh(e,t,i){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(i?function HXe(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}const zXe=$d-1e-8;let Lw,Bw,$w,wg,aF,Uw,lF,uF;const Sp=(e,t)=>Lw.add(e,t),Vw=(e,t)=>Sp(Bw=e,$w=t),Ble=e=>Sp(e,Lw.y1),$le=e=>Sp(Lw.x1,e),Eg=(e,t)=>aF*e+lF*t,Sg=(e,t)=>Uw*e+uF*t,cF=(e,t)=>Sp(Eg(e,t),Sg(e,t)),fF=(e,t)=>Vw(Eg(e,t),Sg(e,t));function W4(e,t){return Lw=e,t?(wg=t*wp,aF=uF=Math.cos(wg),Uw=Math.sin(wg),lF=-Uw):(aF=uF=1,wg=Uw=lF=0),qXe}const qXe={beginPath(){},closePath(){},moveTo:fF,lineTo:fF,rect(e,t,i,r){wg?(cF(e+i,t),cF(e+i,t+r),cF(e,t+r),fF(e,t)):(Sp(e+i,t+r),Vw(e,t))},quadraticCurveTo(e,t,i,r){const o=Eg(e,t),s=Sg(e,t),a=Eg(i,r),l=Sg(i,r);Ule(Bw,o,a,Ble),Ule($w,s,l,$le),Vw(a,l)},bezierCurveTo(e,t,i,r,o,s){const a=Eg(e,t),l=Sg(e,t),u=Eg(i,r),c=Sg(i,r),f=Eg(o,s),d=Sg(o,s);Vle(Bw,a,u,f,Ble),Vle($w,l,c,d,$le),Vw(f,d)},arc(e,t,i,r,o,s){if(r+=wg,o+=wg,Bw=i*Math.cos(o)+e,$w=i*Math.sin(o)+t,Math.abs(o-r)>zXe)Sp(e-i,t-i),Sp(e+i,t+i);else{const a=c=>Sp(i*Math.cos(c)+e,i*Math.sin(c)+t);let l,u;if(a(r),a(o),o!==r)if((r%=$d)<0&&(r+=$d),(o%=$d)<0&&(o+=$d),o<r&&(s=!s,l=r,r=o,o=l),s)for(o-=$d,l=r-r%bg,u=0;u<4&&l>o;++u,l-=bg)a(l);else for(l=r-r%bg+bg,u=0;u<4&&l<o;++u,l+=bg)a(l)}}};function Ule(e,t,i,r){const o=(e-t)/(e+i-2*t);0<o&&o<1&&r(e+(t-e)*o)}function Vle(e,t,i,r,o){const s=r-e+3*t-3*i,a=e+i-2*t,l=e-t;let f,u=0,c=0;Math.abs(s)>iXe?(f=a*a+l*s,f>=0&&(f=Math.sqrt(f),u=(-a+f)/s,c=(-a-f)/s)):u=.5*l/a,0<u&&u<1&&o(Hle(u,e,t,i,r)),0<c&&c<1&&o(Hle(c,e,t,i,r))}function Hle(e,t,i,r,o){const s=1-e,a=s*s,l=e*e;return a*s*t+3*a*e*i+3*s*l*r+l*e*o}var Cp=(Cp=_p(1,1))?Cp.getContext("2d"):null;const dF=new zs;function hF(e){return function(t,i){if(!Cp)return!0;e(Cp,t),dF.clear().union(t.bounds).intersect(i).round();const{x1:r,y1:o,x2:s,y2:a}=dF;for(let l=o;l<=a;++l)for(let u=r;u<=s;++u)if(Cp.isPointInPath(u,l))return!0;return!1}}function pF(e,t){return t.contains(e.x||0,e.y||0)}function zle(e,t){const i=e.x||0,r=e.y||0;return t.intersects(dF.set(i,r,i+(e.width||0),r+(e.height||0)))}function qle(e,t){const i=e.x||0,r=e.y||0;return P3(t,i,r,null!=e.x2?e.x2:i,null!=e.y2?e.y2:r)}function P3(e,t,i,r,o){const{x1:s,y1:a,x2:l,y2:u}=e,c=r-t,f=o-i;let p,m,v,_,d=0,h=1;for(_=0;_<4;++_){if(0===_&&(p=-c,m=-(s-t)),1===_&&(p=c,m=l-t),2===_&&(p=-f,m=-(a-i)),3===_&&(p=f,m=u-i),Math.abs(p)<1e-10&&m<0)return!1;if(v=m/p,p<0){if(v>h)return!1;v>d&&(d=v)}else if(p>0){if(v<d)return!1;v<h&&(h=v)}}return!0}function L3(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Tf(e,t){return e??t}function jle(e,t){const i=t.length;for(let r=0;r<i;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Gle(e,t,i){return eF(i)?function jXe(e,t,i){const r=i.width(),o=i.height();let s;if("radial"===t.gradient)s=e.createRadialGradient(i.x1+Tf(t.x1,.5)*r,i.y1+Tf(t.y1,.5)*o,Math.max(r,o)*Tf(t.r1,0),i.x1+Tf(t.x2,.5)*r,i.y1+Tf(t.y2,.5)*o,Math.max(r,o)*Tf(t.r2,.5));else{const a=Tf(t.x1,0),l=Tf(t.y1,0),u=Tf(t.x2,1),c=Tf(t.y2,0);if(a!==u&&l!==c&&r!==o){const f=_p(Math.ceil(r),Math.ceil(o)),d=f.getContext("2d");return d.scale(r,o),d.fillStyle=jle(d.createLinearGradient(a,l,u,c),t.stops),d.fillRect(0,0,r,o),e.createPattern(f,"no-repeat")}s=e.createLinearGradient(i.x1+a*r,i.y1+l*o,i.x1+u*r,i.y1+c*o)}return jle(s,t.stops)}(e,i,t.bounds):i}function Hw(e,t,i){return(i*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=i,e.fillStyle=Gle(e,t,t.fill),!0)}var GXe=[];function B3(e,t,i){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(i*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=i,e.strokeStyle=Gle(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||GXe),e.lineDashOffset=t.strokeDashOffset||0),!0)}function WXe(e,t){return e.zindex-t.zindex||e.index-t.index}function gF(e){if(!e.zdirty)return e.zitems;var r,o,s,t=e.items,i=[];for(o=0,s=t.length;o<s;++o)(r=t[o]).index=o,r.zindex&&i.push(r);return e.zdirty=!1,e.zitems=i.sort(WXe)}function Nf(e,t){var r,o,i=e.items;if(!i||!i.length)return;const s=gF(e);if(s&&s.length){for(r=0,o=i.length;r<o;++r)i[r].zindex||t(i[r]);i=s}for(r=0,o=i.length;r<o;++r)t(i[r])}function zw(e,t){var r,o,i=e.items;if(!i||!i.length)return null;const s=gF(e);for(s&&s.length&&(i=s),o=i.length;--o>=0;)if(r=t(i[o]))return r;if(i===s)for(o=(i=e.items).length;--o>=0;)if(!i[o].zindex&&(r=t(i[o])))return r;return null}function mF(e){return function(t,i,r){Nf(i,o=>{(!r||r.intersects(o.bounds))&&Wle(e,t,o,o)})}}function YXe(e){return function(t,i,r){i.items.length&&(!r||r.intersects(i.bounds))&&Wle(e,t,i.items[0],i.items)}}function Wle(e,t,i,r){var o=null==i.opacity?1:i.opacity;0!==o&&(e(t,r)||(L3(t,i),i.fill&&Hw(t,i,o)&&t.fill(),i.stroke&&B3(t,i,o)&&t.stroke()))}function qw(e){return e=e||kc,function(t,i,r,o,s,a){return r*=t.pixelRatio,o*=t.pixelRatio,zw(i,l=>{const u=l.bounds;if((!u||u.contains(s,a))&&u&&e(t,l,r,o,s,a))return l})}}function Y4(e,t){return function(i,r,o,s){var f,a=Array.isArray(r)?r[0]:r,l=t??a.fill,u=a.stroke&&i.isPointInStroke;return u&&(f=a.strokeCap,i.lineWidth=a.strokeWidth??1,i.lineCap=f??"butt"),!e(i,r)&&(l&&i.isPointInPath(o,s)||u&&i.isPointInStroke(o,s))}}function vF(e){return qw(Y4(e))}function Cg(e,t){return"translate("+e+","+t+")"}function _F(e){return"rotate("+e+")"}function Yle(e){return Cg(e.x||0,e.y||0)}function yF(e,t,i){function s(a,l){var u=l.x||0,c=l.y||0,f=l.angle||0;a.translate(u,c),f&&a.rotate(f*=wp),a.beginPath(),t(a,l),f&&a.rotate(-f),a.translate(-u,-c)}return{type:e,tag:"path",nested:!1,attr:function r(a,l){a("transform",function XXe(e){return Cg(e.x||0,e.y||0)+(e.angle?" "+_F(e.angle):"")}(l)),a("d",t(null,l))},bound:function o(a,l){return t(W4(a,l.angle),l),eh(a,l).translate(l.x||0,l.y||0)},draw:mF(s),pick:vF(s),isect:i||hF(s)}}var QXe=yF("arc",function PXe(e,t){return TXe.context(e)(t)});function bF(e,t,i){function s(u,c){u.beginPath(),t(u,c)}const a=Y4(s);return{type:e,tag:"path",nested:!0,attr:function r(u,c){var f=c.mark.items;f.length&&u("d",t(null,f))},bound:function o(u,c){var f=c.items;return 0===f.length?u:(t(W4(u),f),eh(u,f[0]))},draw:YXe(s),pick:function l(u,c,f,d,h,p){var m=c.items,v=c.bounds;return!m||!m.length||v&&!v.contains(h,p)?null:a(u,m,f*=u.pixelRatio,d*=u.pixelRatio)?m[0]:null},isect:pF,tip:i}}var nZe=bF("area",function LXe(e,t){const i=t[0];return("horizontal"===i.orient?IXe:NXe).curve(tF(i.interpolate||"linear",i.orient,i.tension)).context(e)(t)},function JXe(e,t){for(var a,l,i="horizontal"===e[0].orient?t[1]:t[0],r="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(l=Math.abs(e[o][r]-i))<s&&(s=l,a=e[o]);return a});function Kle(e,t){e.beginPath(),oF(t)?F3(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Xle(e){const t=Tf(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Zle(e,t){const i=Xle(t);e("d",F3(null,t,i,i))}function K4(e,t,i,r){const o=Xle(t);e.beginPath(),F3(e,t,(i||0)+o,(r||0)+o)}const uZe=Y4(K4),cZe=Y4(K4,!1),fZe=Y4(K4,!0);var gZe={type:"group",tag:"g",nested:!1,attr:function rZe(e,t){e("transform",Yle(t))},bound:function lZe(e,t){if(!t.clip&&t.items){const i=t.items,r=i.length;for(let o=0;o<r;++o)e.union(i[o].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),eh(e,t),e.translate(t.x||0,t.y||0)},draw:function dZe(e,t,i,r){Nf(t,o=>{const s=o.x||0,a=o.y||0,l=o.strokeForeground,u=null==o.opacity?1:o.opacity;(o.stroke||o.fill)&&u&&(K4(e,o,s,a),L3(e,o),o.fill&&Hw(e,o,u)&&e.fill(),o.stroke&&!l&&B3(e,o,u)&&e.stroke()),e.save(),e.translate(s,a),o.clip&&Kle(e,o),i&&i.translate(-s,-a),Nf(o,c=>{("group"===c.marktype||null==r||r.includes(c.marktype))&&this.draw(e,c,i,r)}),i&&i.translate(s,a),e.restore(),l&&o.stroke&&u&&(K4(e,o,s,a),L3(e,o),B3(e,o,u)&&e.stroke())})},pick:function hZe(e,t,i,r,o,s){if(t.bounds&&!t.bounds.contains(o,s)||!t.items)return null;const a=i*e.pixelRatio,l=r*e.pixelRatio;return zw(t,u=>{let c,f,d;const h=u.bounds;if(h&&!h.contains(o,s))return;f=u.x||0,d=u.y||0;const v=u.clip;if(v&&(o<f||o>f+(u.width||0)||s<d||s>d+(u.height||0)))return;if(e.save(),e.translate(f,d),f=o-f,d=s-d,v&&oF(u)&&!fZe(e,u,a,l))return e.restore(),null;const _=u.strokeForeground,y=!1!==t.interactive;return y&&_&&u.stroke&&cZe(e,u,a,l)?(e.restore(),u):(c=zw(u,w=>function pZe(e,t,i){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,i)}(w,f,d)?this.pick(w,i,r,f,d):null),!c&&y&&(u.fill||!_&&u.stroke)&&uZe(e,u,a,l)&&(c=u),e.restore(),c||null)})},isect:zle,content:function aZe(e,t,i){e("clip-path",t.clip?sF(i,t,t):null)},background:function oZe(e,t){e("class","background"),e("aria-hidden",!0),Zle(e,t)},foreground:function sZe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Zle(e,t):e("d","")}},X4={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function wF(e,t){var i=e.image;return(!i||e.url&&e.url!==i.url)&&(i={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),i}function EF(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function SF(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function jw(e,t){return"center"===e?t/2:"right"===e?t:0}function Gw(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var yZe={type:"image",tag:"image",nested:!1,attr:function mZe(e,t,i){const r=wF(t,i),o=EF(t,r),s=SF(t,r),a=(t.x||0)-jw(t.align,o),l=(t.y||0)-Gw(t.baseline,s);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",X4["xmlns:xlink"],"xlink:href"),e("transform",Cg(a,l)),e("width",o),e("height",s),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function vZe(e,t){const i=t.image,r=EF(t,i),o=SF(t,i),s=(t.x||0)-jw(t.align,r),a=(t.y||0)-Gw(t.baseline,o);return e.set(s,a,s+r,a+o)},draw:function _Ze(e,t,i){Nf(t,r=>{if(i&&!i.intersects(r.bounds))return;const o=wF(r,this);let s=EF(r,o),a=SF(r,o);if(0===s||0===a)return;let c,f,d,h,l=(r.x||0)-jw(r.align,s),u=(r.y||0)-Gw(r.baseline,a);!1!==r.aspect&&(f=o.width/o.height,d=r.width/r.height,f==f&&d==d&&f!==d&&(d<f?(h=s/f,u+=(a-h)/2,a=h):(h=a*f,l+=(s-h)/2,s=h))),(o.complete||o.toDataURL)&&(L3(e,r),e.globalAlpha=null!=(c=r.opacity)?c:1,e.imageSmoothingEnabled=!1!==r.smooth,e.drawImage(o,l,u,s,a))})},pick:qw(),isect:kc,get:wF,xOffset:jw,yOffset:Gw},bZe=bF("line",function BXe(e,t){const i=t[0];return OXe.curve(tF(i.interpolate||"linear",i.orient,i.tension)).context(e)(t)},function eZe(e,t){for(var o,s,i=Math.pow(e[0].strokeWidth||1,2),r=e.length;--r>=0;)if(!1!==e[r].defined&&(o=e[r].x-t[0])*o+(s=e[r].y-t[1])*s<i)return e[r];return null});function Ww(e,t){var i=t.path;if(null==i)return!0;var r=t.x||0,o=t.y||0,s=t.scaleX||1,a=t.scaleY||1,l=(t.angle||0)*wp,u=t.pathCache;(!u||u.path!==i)&&((t.pathCache=u=R3(i)).path=i),l&&e.rotate&&e.translate?(e.translate(r,o),e.rotate(l),H4(e,u,0,0,s,a),e.rotate(-l),e.translate(-r,-o)):H4(e,u,r,o,s,a)}var SZe={type:"path",tag:"path",nested:!1,attr:function wZe(e,t){(1!==(t.scaleX||1)||1!==(t.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function ZXe(e){return Cg(e.x||0,e.y||0)+(e.angle?" "+_F(e.angle):"")+(e.scaleX||e.scaleY?" "+function KXe(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function EZe(e,t){return Ww(W4(e,t.angle),t)?e.set(0,0,0,0):eh(e,t,!0)},draw:mF(Ww),pick:vF(Ww),isect:hF(Ww)};function Qle(e,t){e.beginPath(),F3(e,t)}var xZe={type:"rect",tag:"path",nested:!1,attr:function CZe(e,t){e("d",F3(null,t))},bound:function DZe(e,t){var i,r;return eh(e.set(i=t.x||0,r=t.y||0,i+t.width||0,r+t.height||0),t)},draw:mF(Qle),pick:vF(Qle),isect:zle};function Jle(e,t,i){var r,o,s,a;return!(!t.stroke||!B3(e,t,i)||(r=t.x||0,o=t.y||0,s=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:o,e.beginPath(),e.moveTo(r,o),e.lineTo(s,a),0))}var IZe={type:"rule",tag:"line",nested:!1,attr:function MZe(e,t){e("transform",Yle(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function AZe(e,t){var i,r;return eh(e.set(i=t.x||0,r=t.y||0,null!=t.x2?t.x2:i,null!=t.y2?t.y2:r),t)},draw:function TZe(e,t,i){Nf(t,r=>{if(!i||i.intersects(r.bounds)){var o=null==r.opacity?1:r.opacity;o&&Jle(e,r,o)&&(L3(e,r),e.stroke())}})},pick:qw(function NZe(e,t,i,r){return!!e.isPointInStroke&&Jle(e,t,1)&&e.isPointInStroke(i,r)}),isect:qle},OZe=yF("shape",function $Xe(e,t){return(t.mark.shape||t.shape).context(e)(t)}),RZe=yF("symbol",function UXe(e,t){return kXe.context(e)(t)},pF);const eue=rie();var Zu={height:Ud,measureWidth:CF,estimateWidth:Yw,width:Yw,canvas:tue};function tue(e){Zu.width=e&&Cp?CF:Yw}function Yw(e,t){return nue(xp(e,t),Ud(e))}function nue(e,t){return~~(.8*e.length*t)}function CF(e,t){return Ud(e)<=0||!(t=xp(e,t))?0:iue(t,Kw(e))}function iue(e,t){const i=`(${t}) ${e}`;let r=eue.get(i);return void 0===r&&(Cp.font=t,r=Cp.measureText(e).width,eue.set(i,r)),r}function Ud(e){return null!=e.fontSize?+e.fontSize||0:11}function Dp(e){return null!=e.lineHeight?e.lineHeight:Ud(e)+2}function Z4(e){return function kZe(e){return Pt(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!Pt(e.text)?e.text.split(e.lineBreak):e.text)}function DF(e){const t=Z4(e);return(Pt(t)?t.length-1:0)*Dp(e)}function xp(e,t){const i=null==t?"":(t+"").trim();return e.limit>0&&i.length?function PZe(e,t){var i=+e.limit,r=function FZe(e){if(Zu.width===CF){const t=Kw(e);return i=>iue(i,t)}if(Zu.width===Yw){const t=Ud(e);return i=>nue(i,t)}return t=>Zu.width(e,t)}(e);if(r(t)<i)return t;var u,o=e.ellipsis||"\u2026",s="rtl"===e.dir,a=0,l=t.length;if(i-=r(o),s){for(;a<l;)r(t.slice(u=a+l>>>1))>i?a=u+1:l=u;return o+t.slice(a)}for(;a<l;)r(t.slice(0,u=1+(a+l>>>1)))<i?a=u:l=u-1;return t.slice(0,a)+o}(e,i):i}function Q4(e,t){var i=e.font;return(t&&i?String(i).replace(/"/g,"'"):i)||"sans-serif"}function Kw(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ud(e)+"px "+Q4(e,t)}function xF(e){var t=e.baseline,i=Ud(e);return Math.round("top"===t?.79*i:"middle"===t?.3*i:"bottom"===t?-.21*i:"line-top"===t?.29*i+.5*Dp(e):"line-bottom"===t?.29*i-.5*Dp(e):0)}tue(!0);const LZe={left:"start",center:"middle",right:"end"},J4=new zs;function Xw(e){var o,t=e.x||0,i=e.y||0,r=e.radius||0;return r&&(o=(e.theta||0)-bg,t+=r*Math.cos(o),i+=r*Math.sin(o)),J4.x1=t,J4.y1=i,J4}function MF(e,t,i){var d,r=Zu.height(t),o=t.align,s=Xw(t),a=s.x1,l=s.y1,u=t.dx||0,c=(t.dy||0)+xF(t)-Math.round(.8*r),f=Z4(t);if(Pt(f)?(r+=Dp(t)*(f.length-1),d=f.reduce((h,p)=>Math.max(h,Zu.width(t,p)),0)):d=Zu.width(t,f),"center"===o?u-=d/2:"right"===o&&(u-=d),e.set(u+=a,c+=l,u+d,c+r),t.angle&&!i)e.rotate(t.angle*wp,a,l);else if(2===i)return e.rotatedPoints(t.angle*wp,a,l);return e}var HZe={type:"text",tag:"text",nested:!1,attr:function BZe(e,t){var u,i=t.dx||0,r=(t.dy||0)+xF(t),o=Xw(t),s=o.x1,a=o.y1,l=t.angle||0;e("text-anchor",LZe[t.align]||"start"),l?(u=Cg(s,a)+" "+_F(l),(i||r)&&(u+=" "+Cg(i,r))):u=Cg(s+i,a+r),e("transform",u)},bound:MF,draw:function $Ze(e,t,i){Nf(t,r=>{var s,a,l,u,c,f,d,o=null==r.opacity?1:r.opacity;if(!(i&&!i.intersects(r.bounds)||0===o||r.fontSize<=0||null==r.text||0===r.text.length)){if(e.font=Kw(r),e.textAlign=r.align||"left",a=(s=Xw(r)).x1,l=s.y1,r.angle&&(e.save(),e.translate(a,l),e.rotate(r.angle*wp),a=l=0),a+=r.dx||0,l+=(r.dy||0)+xF(r),f=Z4(r),L3(e,r),Pt(f))for(c=Dp(r),u=0;u<f.length;++u)d=xp(r,f[u]),r.fill&&Hw(e,r,o)&&e.fillText(d,a,l),r.stroke&&B3(e,r,o)&&e.strokeText(d,a,l),l+=c;else d=xp(r,f),r.fill&&Hw(e,r,o)&&e.fillText(d,a,l),r.stroke&&B3(e,r,o)&&e.strokeText(d,a,l);r.angle&&e.restore()}})},pick:qw(function UZe(e,t,i,r,o,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=Xw(t),l=a.x1,u=a.y1,c=MF(J4,t,1),f=-t.angle*wp,d=Math.cos(f),h=Math.sin(f);return c.contains(d*o-h*s+(l-d*l+h*u),h*o+d*s+(u-h*l-d*u))}),isect:function VZe(e,t){const i=MF(J4,e,2);return P3(t,i[0],i[1],i[2],i[3])||P3(t,i[0],i[1],i[4],i[5])||P3(t,i[4],i[5],i[6],i[7])||P3(t,i[2],i[3],i[6],i[7])}},zZe=bF("trail",function VXe(e,t){return FXe.context(e)(t)},function tZe(e,t){for(var r,o,i=e.length;--i>=0;)if(!1!==e[i].defined&&(r=e[i].x-t[0])*r+(o=e[i].y-t[1])*o<(r=e[i].size||1)*r)return e[i];return null}),Qu={arc:QXe,area:nZe,group:gZe,image:yZe,line:bZe,path:SZe,rect:xZe,rule:IZe,shape:OZe,symbol:RZe,text:HZe,trail:zZe};function AF(e,t,i){var r=Qu[e.mark.marktype];return r.nested&&(e=e.mark),(t||r.bound)(e.bounds||(e.bounds=new zs),e,i)}var rue={mark:null};function oue(e,t,i){var l,u,c,f,r=Qu[e.marktype],o=r.bound,s=e.items,a=s&&s.length;if(r.nested)return a?c=s[0]:(rue.mark=e,c=rue),f=AF(c,o,i),t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new zs,a)for(l=0,u=s.length;l<u;++l)t.union(AF(s[l],o,i));return e.bounds=t}const qZe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function sue(e,t){return JSON.stringify(e,qZe,t)}function aue(e){return lue("string"==typeof e?JSON.parse(e):e)}function lue(e){var r,o,s,t=e.marktype,i=e.items;if(i)for(o=0,s=i.length;o<s;++o)i[o][r=t?"mark":"group"]=e,i[o].zindex&&(i[o][r].zdirty=!0),"group"===(t||r)&&lue(i[o]);return t&&oue(e),e}class uue{constructor(t){arguments.length?this.root=aue(t):(this.root=cue({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Pw(this.root)])}toJSON(t){return sue(this.root,t||0)}mark(t,i,r){const o=cue(t,i=i||this.root.items[0]);return i.items[r]=o,o.zindex&&(o.group.zdirty=!0),o}}function cue(e,t){const i={bounds:new zs,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(i.aria=e.aria),e.description&&(i.description=e.description),i}function Mp(e,t,i){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?i?e.createElementNS(i,t):e.createElement(t):null}function TF(e,t){t=t.toLowerCase();for(var i=e.childNodes,r=0,o=i.length;r<o;++r)if(i[r].tagName.toLowerCase()===t)return i[r]}function Js(e,t,i,r){var s,o=e.childNodes[t];return(!o||o.tagName.toLowerCase()!==i.toLowerCase())&&(s=o||null,o=Mp(e.ownerDocument,i,r),e.insertBefore(o,s)),o}function qc(e,t){for(var i=e.childNodes,r=i.length;r>t;)e.removeChild(i[--r]);return e}function fue(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Zw(e,t){const i=t.getBoundingClientRect();return[e.clientX-i.left-(t.clientLeft||0),e.clientY-i.top-(t.clientTop||0)]}class NF{constructor(t,i){this._active=null,this._handlers={},this._loader=t||Lb(),this._tooltip=i||GZe}initialize(t,i,r){return this._el=t,this._obj=r||null,this.origin(i)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,i,r){for(let o=t?t.length:0;--o>=0;)if(t[o].type===i&&(!r||t[o].handler===r))return o;return-1}handlers(t){const i=this._handlers,r=[];if(t)r.push(...i[this.eventName(t)]);else for(const o in i)r.push(...i[o]);return r}eventName(t){const i=t.indexOf(".");return i<0?t:t.slice(0,i)}handleHref(t,i,r){this._loader.sanitize(r,{context:"href"}).then(o=>{const s=new MouseEvent(t.type,t),a=Mp(null,"a");for(const l in o)a.setAttribute(l,o[l]);a.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,i,r){i&&null!=i.tooltip&&(i=function jZe(e,t,i,r){var s,a,o=e&&e.mark;if(o&&(s=Qu[o.marktype]).tip){for((a=Zw(t,i))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=s.tip(o.items,a)}return e}(i,t,this.canvas(),this._origin),this._tooltip.call(this._obj,this,t,i,r&&i&&i.tooltip||null))}getItemBoundingClientRect(t){const i=this.canvas();if(!i)return;const r=i.getBoundingClientRect(),o=this._origin,s=t.bounds,a=s.width(),l=s.height();let u=s.x1+o[0]+r.left,c=s.y1+o[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,c+=t.y||0;return{x:u,y:c,width:a,height:l,left:u,top:c,right:u+a,bottom:c+l}}}function GZe(e,t,i,r){e.element().setAttribute("title",r||"")}class ev{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Ple(t)}initialize(t,i,r,o,s){return this._el=t,this.resize(i,r,o,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)}resize(t,i,r,o){return this._width=t,this._height=i,this._origin=r||[0,0],this._scale=o||1,this}dirty(){}render(t,i){const r=this;return r._call=function(){r._render(t,i)},r._call(),r._call=null,r}_render(){}renderAsync(t,i){const r=this.render(t,i);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,i){var r=this,o=r._loader[t](i);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(a=>{a&&s(),r._ready=null})}return o}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const Qw="dragleave",IF="pointerdown",Jw="pointermove",eE="pointerout",pue="pointerover",OF="mousedown",tE="mouseout",nE="click",vue="mousewheel",iE="touchstart",rE="touchmove",oE="touchend",eQe=["keydown","keypress","keyup","dragenter",Qw,"dragover",IF,"pointerup",Jw,eE,pue,OF,"mouseup","mousemove",tE,"mouseover",nE,"dblclick","wheel",vue,iE,rE,oE],RF=Jw,tv=tE,kF=nE;class nv extends NF{constructor(t,i){super(t,i),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=eQe,this.pointermove=yue([Jw,"mousemove"],[pue,"mouseover"],[eE,tE]),this.dragover=yue(["dragover"],["dragenter"],[Qw]),this.pointerout=bue([eE,tE]),this.dragleave=bue([Qw])}initialize(t,i,r){return this._canvas=t&&TF(t,"canvas"),[nE,OF,IF,Jw,eE,Qw].forEach(o=>_ue(this,o)),super.initialize(t,i,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(vue,t)}pointerdown(t){this._down=this._active,this.fire(IF,t)}mousedown(t){this._down=this._active,this.fire(OF,t)}click(t){this._down===this._active&&(this.fire(nE,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(iE,t,!0)}touchmove(t){this.fire(rE,t,!0)}touchend(t){this.fire(oE,t,!0),this._touch=null}fire(t,i,r){const o=r?this._touch:this._active,s=this._handlers[t];if(i.vegaType=t,t===kF&&o&&o.href?this.handleHref(i,o,o.href):(t===RF||t===tv)&&this.handleTooltip(i,o,t!==tv),s)for(let a=0,l=s.length;a<l;++a)s[a].handler.call(this._obj,i,o)}on(t,i){const r=this.eventName(t),o=this._handlers;return this._handlerIndex(o[r],t,i)<0&&(_ue(this,t),(o[r]||(o[r]=[])).push({type:t,handler:i})),this}off(t,i){const r=this.eventName(t),o=this._handlers[r],s=this._handlerIndex(o,t,i);return s>=0&&o.splice(s,1),this}pickEvent(t){const i=Zw(t,this._canvas),r=this._origin;return this.pick(this._scene,i[0],i[1],i[0]-r[0],i[1]-r[1])}pick(t,i,r,o,s){const a=this.context();return Qu[t.marktype].pick.call(this,a,t,i,r,o,s)}}const tQe=e=>e===iE||e===rE||e===oE?[iE,rE,oE]:[e];function _ue(e,t){tQe(t).forEach(i=>function nQe(e,t){const i=e.canvas();i&&!e._events[t]&&(e._events[t]=1,i.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}(e,i))}function iv(e,t,i){t.forEach(r=>e.fire(r,i))}function yue(e,t,i){return function(r){const o=this._active,s=this.pickEvent(r);s===o||((!o||!o.exit)&&iv(this,i,r),this._active=s,iv(this,t,r)),iv(this,e,r)}}function bue(e){return function(t){iv(this,e,t),this._active=null}}class sE extends ev{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new zs,this._tempb=new zs}initialize(t,i,r,o,s,a){return this._options=a||{},this._canvas=this._options.externalContext?null:_p(1,1),t&&this._canvas&&(qc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,i,r,o,s)}resize(t,i,r,o){if(super.resize(t,i,r,o),this._canvas)!function rQe(e,t,i,r,o,s){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&null!=e.parentNode,l=e.getContext("2d"),u=a?function iQe(){return typeof window<"u"&&window.devicePixelRatio||1}():o;e.width=t*u,e.height=i*u;for(const c in s)l[c]=s[c];return a&&1!==u&&(e.style.width=t+"px",e.style.height=i+"px"),l.pixelRatio=u,l.setTransform(u,0,0,u,u*r[0],u*r[1]),e}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Rt("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const i=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)i.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(i)}_render(t,i){const r=this.context(),o=this._origin,s=this._width,a=this._height,l=this._dirty,u=oQe(o,s,a);r.save();const c=this._redraw||l.empty()?(this._redraw=!1,u.expand(1)):function sQe(e,t,i){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-i[0]%1,-i[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(r,u.intersect(l),o);return this.clear(-o[0],-o[1],s,a),this.draw(r,t,c,i),r.restore(),l.clear(),this}draw(t,i,r,o){if("group"!==i.marktype&&null!=o&&!o.includes(i.marktype))return;const s=Qu[i.marktype];i.clip&&function iZe(e,t){var i=t.clip;e.save(),ur(i)?(e.beginPath(),i(e),e.clip()):Kle(e,t.group)}(t,i),s.draw.call(this,t,i,r,o),i.clip&&t.restore()}clear(t,i,r,o){const s=this._options,a=this.context();"pdf"!==s.type&&!s.externalContext&&a.clearRect(t,i,r,o),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(t,i,r,o))}}const oQe=(e,t,i)=>(new zs).set(0,0,t,i).translate(-e[0],-e[1]);class wue extends NF{constructor(t,i){super(t,i);const r=this;r._hrefHandler=FF(r,(o,s)=>{s&&s.href&&r.handleHref(o,s,s.href)}),r._tooltipHandler=FF(r,(o,s)=>{r.handleTooltip(o,s,o.type!==tv)})}initialize(t,i,r){let o=this._svg;return o&&(o.removeEventListener(kF,this._hrefHandler),o.removeEventListener(RF,this._tooltipHandler),o.removeEventListener(tv,this._tooltipHandler)),this._svg=o=t&&TF(t,"svg"),o&&(o.addEventListener(kF,this._hrefHandler),o.addEventListener(RF,this._tooltipHandler),o.addEventListener(tv,this._tooltipHandler)),super.initialize(t,i,r)}canvas(){return this._svg}on(t,i){const r=this.eventName(t),o=this._handlers;if(this._handlerIndex(o[r],t,i)<0){const a={type:t,handler:i,listener:FF(this,i)};(o[r]||(o[r]=[])).push(a),this._svg&&this._svg.addEventListener(r,a.listener)}return this}off(t,i){const r=this.eventName(t),o=this._handlers[r],s=this._handlerIndex(o,t,i);return s>=0&&(this._svg&&this._svg.removeEventListener(r,o[s].listener),o.splice(s,1)),this}}const FF=(e,t)=>i=>{let r=i.target.__data__;r=Array.isArray(r)?r[0]:r,i.vegaType=i.type,t.call(e._obj,i,r)},Eue="aria-hidden",PF="aria-label",LF="role",BF="aria-roledescription",Sue="graphics-object",$F="graphics-symbol",Cue=(e,t,i)=>({[LF]:e,[BF]:t,[PF]:i||void 0}),aQe=Sf(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Due={axis:{desc:"axis",caption:function cQe(e){const t=e.datum,i=e.orient,r=t.title?Nue(e):null,o=e.context,s=o.scales[t.scale].value,a=o.dataflow.locale(),l=s.type;return("left"===i||"right"===i?"Y":"X")+"-axis"+(r?` titled '${r}'`:"")+` for a ${O3(l)?"discrete":l} scale with ${Ele(a,s,e)}`}},legend:{desc:"legend",caption:function fQe(e){const t=e.datum,i=t.title?Nue(e):null,r=`${t.type||""} legend`.trim(),o=t.scales,s=Object.keys(o),a=e.context,l=a.scales[o[s[0]]].value,u=a.dataflow.locale();return function hQe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(r)+(i?` titled '${i}'`:"")+` for ${function dQe(e){return e=e.map(t=>t+("fill"===t||"stroke"===t?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Rr(e)}(s)} with ${Ele(u,l,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${Tue(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Tue(e)}'`}},xue={ariaRole:LF,ariaRoleDescription:BF,description:PF};function Mue(e,t){const i=!1===t.aria;if(e(Eue,i||void 0),i||null==t.description)for(const r in xue)e(xue[r],void 0);else{const r=t.mark.marktype;e(PF,t.description),e(LF,t.ariaRole||("group"===r?Sue:$F)),e(BF,t.ariaRoleDescription||`${r} mark`)}}function Aue(e){return!1===e.aria?{[Eue]:!0}:aQe[e.role]?null:Due[e.role]?function uQe(e,t){try{const i=e.items[0];return Cue(t.role||$F,t.desc,i.description||(t.caption||(()=>""))(i))}catch{return null}}(e,Due[e.role]):function lQe(e){const t=e.marktype,i="group"===t||"text"===t||e.items.some(r=>null!=r.description&&!1!==r.aria);return Cue(i?Sue:$F,`${t} mark container`,e.description)}(e)}function Tue(e){return Un(e.text).join(" ")}function Nue(e){try{return Un(Rr(e.items).items[0].text).join(" ")}catch{return null}}const Iue=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),pQe=e=>Iue(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function UF(){let e="",t="",i="";const r=[],o=()=>t=i="",a=(u,c)=>(null!=c&&(t+=` ${u}="${pQe(c)}"`),l),l={open(u){(u=>{t&&(e+=`${t}>${i}`,o()),r.push(u)})(u),t="<"+u;for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];for(const h of f)for(const p in h)a(p,h[p]);return l},close(){const u=r.pop();return e+=t?t+(i?`>${i}</${u}>`:"/>"):`</${u}>`,o(),l},attr:a,text:u=>(i+=Iue(u),l),toString:()=>e};return l}const Oue=e=>Rue(UF(),e)+"";function Rue(e,t){if(e.open(t.tagName),t.hasAttributes()){const i=t.attributes,r=i.length;for(let o=0;o<r;++o)e.attr(i[o].name,i[o].value)}if(t.hasChildNodes()){const i=t.childNodes;for(const r of i)3===r.nodeType?e.text(r.nodeValue):Rue(e,r)}return e.close()}const aE={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},lE={blend:"mix-blend-mode"},kue={fill:"none","stroke-miterlimit":10},Fue="http://www.w3.org/2000/xmlns/",ea=X4.xmlns;class VF extends ev{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,i,r,o,s){return this._defs={},this._clearDefs(),t&&(this._svg=Js(t,0,"svg",ea),this._svg.setAttributeNS(Fue,"xmlns",ea),this._svg.setAttributeNS(Fue,"xmlns:xlink",X4["xmlns:xlink"]),this._svg.setAttribute("version",X4.version),this._svg.setAttribute("class","marks"),qc(t,1),this._root=Js(this._svg,0,"g",ea),Ap(this._root,kue),qc(this._svg,1)),this.background(this._bgcolor),super.initialize(t,i,r,o,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,i,r,o){return super.resize(t,i,r,o),this._svg&&(Ap(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,i=this._bgcolor;if(!t)return null;let r;i&&(t.removeAttribute("style"),r=Js(t,0,"rect",ea),Ap(r,{width:this._width,height:this._height,fill:i}));const o=Oue(t);return i&&(t.removeChild(r),this._svg.style.setProperty("background-color",i)),o}_render(t,i){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,i),qc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const i=++this._dirtyID;let r,o,s,a,l,u,c;for(l=0,u=t.length;l<u;++l)if(r=t[l],o=r.mark,o.marktype!==s&&(s=o.marktype,a=Qu[s]),o.zdirty&&o.dirty!==i&&(this._dirtyAll=!1,Pue(r,i),o.items.forEach(f=>{f.dirty=i})),!o.zdirty){if(r.exit){a.nested&&o.items.length?(c=o.items[0],c._svg&&this._update(a,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=a.nested?o.items[0]:r,r._update!==i&&(r._svg&&r._svg.ownerSVGElement?this._update(a,r._svg,r):(this._dirtyAll=!1,Pue(r,i)),r._update=i)}return!this._dirtyAll}mark(t,i,r,o){if(!this.isDirty(i))return i._svg;const s=this._svg,a=i.marktype,l=Qu[a],u=!1===i.interactive?"none":null,c="g"===l.tag,f=Lue(i,t,r,"g",s);if("group"!==a&&null!=o&&!o.includes(a))return qc(f,0),i._svg;f.setAttribute("class",fue(i));const d=Aue(i);for(const v in d)Bl(f,v,d[v]);c||Bl(f,"pointer-events",u),Bl(f,"clip-path",i.clip?sF(this,i,i.group):null);let h=null,p=0;const m=v=>{const _=this.isDirty(v),y=Lue(v,f,h,l.tag,s);_&&(this._update(l,y,v),c&&function vQe(e,t,i,r){t=t.lastChild.previousSibling;let o,s=0;Nf(i,a=>{o=e.mark(t,a,o,r),++s}),qc(t,1+s)}(this,y,v,o)),h=y,++p};return l.nested?i.items.length&&m(i.items[0]):Nf(i,m),qc(f,p),f}_update(t,i,r){th=i,hl=i.__values__,Mue(ov,r),t.attr(ov,r,this);const o=yQe[t.type];o&&o.call(this,t,i,r),th&&this.style(th,r)}style(t,i){if(null!=i){for(const r in aE){let o="font"===r?Q4(i):i[r];if(o===hl[r])continue;const s=aE[r];null==o?t.removeAttribute(s):(eF(o)&&(o=Cle(o,this._defs.gradient,Bue())),t.setAttribute(s,o+"")),hl[r]=o}for(const r in lE)uE(t,lE[r],i[r])}}defs(){const t=this._svg,i=this._defs;let r=i.el,o=0;for(const s in i.gradient)r||(i.el=r=Js(t,1,"defs",ea)),o=gQe(r,i.gradient[s],o);for(const s in i.clipping)r||(i.el=r=Js(t,1,"defs",ea)),o=mQe(r,i.clipping[s],o);r&&(0===o?(t.removeChild(r),i.el=null):qc(r,o))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function Pue(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function gQe(e,t,i){let r,o,s;if("radial"===t.gradient){let a=Js(e,i++,"pattern",ea);Ap(a,{id:Ow+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=Js(a,0,"rect",ea),Ap(a,{width:1,height:1,fill:`url(${Bue()}#${t.id})`}),Ap(e=Js(e,i++,"radialGradient",ea),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Ap(e=Js(e,i++,"linearGradient",ea),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,o=t.stops.length;r<o;++r)s=Js(e,r,"stop",ea),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return qc(e,r),i}function mQe(e,t,i){let r;return(e=Js(e,i,"clipPath",ea)).setAttribute("id",t.id),t.path?(r=Js(e,0,"path",ea),r.setAttribute("d",t.path)):(r=Js(e,0,"rect",ea),Ap(r,{x:0,y:0,width:t.width,height:t.height})),qc(e,1),i+1}function Lue(e,t,i,r,o){let a,s=e._svg;if(!s&&(a=t.ownerDocument,s=Mp(a,r,ea),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},"g"===r))){const l=Mp(a,"path",ea);s.appendChild(l),l.__data__=e;const u=Mp(a,"g",ea);s.appendChild(u),u.__data__=e;const c=Mp(a,"path",ea);s.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(s.ownerSVGElement!==o||function _Qe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(s,i))&&t.insertBefore(s,i?i.nextSibling:t.firstChild),s}let th=null,hl=null;const yQe={group(e,t,i){const r=th=t.childNodes[2];hl=r.__values__,e.foreground(ov,i,this),hl=t.__values__,th=t.childNodes[1],e.content(ov,i,this);const o=th=t.childNodes[0];e.background(ov,i,this);const s=!1===i.mark.interactive?"none":null;if(s!==hl.events&&(Bl(r,"pointer-events",s),Bl(o,"pointer-events",s),hl.events=s),i.strokeForeground&&i.stroke){const a=i.fill;Bl(r,"display",null),this.style(o,i),Bl(o,"stroke",null),a&&(i.fill=null),hl=r.__values__,this.style(r,i),a&&(i.fill=a),th=null}else Bl(r,"display","none")},image(e,t,i){!1===i.smooth?(uE(t,"image-rendering","optimizeSpeed"),uE(t,"image-rendering","pixelated")):uE(t,"image-rendering",null)},text(e,t,i){const r=Z4(i);let o,s,a,l;Pt(r)?(s=r.map(u=>xp(i,u)),o=s.join("\n"),o!==hl.text&&(qc(t,0),a=t.ownerDocument,l=Dp(i),s.forEach((u,c)=>{const f=Mp(a,"tspan",ea);f.__data__=i,f.textContent=u,c&&(f.setAttribute("x",0),f.setAttribute("dy",l)),t.appendChild(f)}),hl.text=o)):(s=xp(i,r),s!==hl.text&&(t.textContent=s,hl.text=s)),Bl(t,"font-family",Q4(i)),Bl(t,"font-size",Ud(i)+"px"),Bl(t,"font-style",i.fontStyle),Bl(t,"font-variant",i.fontVariant),Bl(t,"font-weight",i.fontWeight)}};function ov(e,t,i){t!==hl[e]&&(i?function bQe(e,t,i,r){null!=i?e.setAttributeNS(r,t,i):e.removeAttributeNS(r,t)}(th,e,t,i):Bl(th,e,t),hl[e]=t)}function uE(e,t,i){i!==hl[t]&&(null==i?e.style.removeProperty(t):e.style.setProperty(t,i+""),hl[t]=i)}function Ap(e,t){for(const i in t)Bl(e,i,t[i])}function Bl(e,t,i){null!=i?e.setAttribute(t,i):e.removeAttribute(t)}function Bue(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class $ue extends ev{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const i=UF();i.open("svg",cr({},X4,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&"transparent"!==r&&"none"!==r&&i.open("rect",{width:this._width,height:this._height,fill:r}).close(),i.open("g",kue,{transform:"translate("+this._origin+")"}),this.mark(i,t),i.close(),this.defs(i),this._text=i.close()+"",this}mark(t,i){const r=Qu[i.marktype],o=r.tag,s=[Mue,r.attr];t.open("g",{class:fue(i),"clip-path":i.clip?sF(this,i,i.group):null},Aue(i),{"pointer-events":"g"!==o&&!1===i.interactive?"none":null});const a=l=>{const u=this.href(l);if(u&&t.open("a",u),t.open(o,this.attr(i,l,s,"g"!==o?o:null)),"text"===o){const c=Z4(l);if(Pt(c)){const f={x:0,dy:Dp(l)};for(let d=0;d<c.length;++d)t.open("tspan",d?f:null).text(xp(l,c[d])).close()}else t.text(xp(l,c))}else if("g"===o){const c=l.strokeForeground,f=l.fill,d=l.stroke;c&&d&&(l.stroke=null),t.open("path",this.attr(i,l,r.background,"bgrect")).close(),t.open("g",this.attr(i,l,r.content)),Nf(l,h=>this.mark(t,h)),t.close(),c&&d?(f&&(l.fill=null),l.stroke=d,t.open("path",this.attr(i,l,r.foreground,"bgrect")).close(),f&&(l.fill=f)):t.open("path",this.attr(i,l,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?i.items&&i.items.length&&a(i.items[0]):Nf(i,a),t.close()}href(t){const i=t.href;let r;if(i){if(r=this._hrefs&&this._hrefs[i])return r;this.sanitizeURL(i).then(o=>{o["xlink:href"]=o.href,o.href=null,(this._hrefs||(this._hrefs={}))[i]=o})}return null}attr(t,i,r,o){const s={},a=(l,u,c,f)=>{s[f||l]=u};return Array.isArray(r)?r.forEach(l=>l(a,i,this)):r(a,i,this),o&&function wQe(e,t,i,r,o){let s;if(null==t||("bgrect"===r&&!1===i.interactive&&(e["pointer-events"]="none"),"bgfore"===r&&(!1===i.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill)))return e;"image"===r&&!1===t.smooth&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),"text"===r&&(e["font-family"]=Q4(t),e["font-size"]=Ud(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in aE){let l=t[a];const u=aE[a];"transparent"===l&&("fill"===u||"stroke"===u)||null!=l&&(eF(l)&&(l=Cle(l,o.gradient,"")),e[u]=l)}for(const a in lE){const l=t[a];null!=l&&(s=s||[],s.push(`${lE[a]}: ${l};`))}s&&(e.style=s.join(" "))}(s,i,t,o,this._defs),s}defs(t){const i=this._defs.gradient,r=this._defs.clipping;if(Object.keys(i).length+Object.keys(r).length!==0){t.open("defs");for(const s in i){const a=i[s],l=a.stops;"radial"===a.gradient?(t.open("pattern",{id:Ow+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:s,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let u=0;u<l.length;++u)t.open("stop",{offset:l[u].offset,"stop-color":l[u].color}).close();t.close()}for(const s in r){const a=r[s];t.open("clipPath",{id:s}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}const If={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function EQe(e){If.svgMarkTypes=e.svgMarkTypes??["text"],If.svgOnTop=e.svgOnTop??!0,If.debug=e.debug??!1}class HF extends ev{constructor(t){super(t),this._svgRenderer=new VF(t),this._canvasRenderer=new sE(t)}initialize(t,i,r,o,s){this._root_el=Js(t,0,"div");const a=Js(this._root_el,0,"div"),l=Js(this._root_el,1,"div");return this._root_el.style.position="relative",If.debug||(a.style.height="100%",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%"),this._svgEl=If.svgOnTop?l:a,this._canvasEl=If.svgOnTop?a:l,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,i,r,o,s),this._svgRenderer.initialize(this._svgEl,i,r,o,s),super.initialize(t,i,r,o,s)}dirty(t){return If.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,i){const o=(i??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!If.svgMarkTypes.includes(s));this._svgRenderer.render(t,If.svgMarkTypes),this._canvasRenderer.render(t,o)}resize(t,i,r,o){return super.resize(t,i,r,o),this._svgRenderer.resize(t,i,r,o),this._canvasRenderer.resize(t,i,r,o),this}background(t){return If.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class Uue extends nv{constructor(t,i){super(t,i)}initialize(t,i,r){const o=Js(Js(t,0,"div"),If.svgOnTop?0:1,"div");return super.initialize(o,i,r)}}const Tp={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"},Dg={};function cE(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Dg[e]=t,this):Dg[e]}function Gue(e,t,i){const r=[],o=(new zs).union(t),s=e.marktype;return s?Wue(e,o,i,r):"group"===s?Yue(e,o,i,r):Rt("Intersect scene must be mark node or group item.")}function Wue(e,t,i,r){if(function SQe(e,t,i){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!i||i(e)))}(e,t,i)){const o=e.items,s=e.marktype,a=o.length;let l=0;if("group"===s)for(;l<a;++l)Yue(o[l],t,i,r);else for(const u=Qu[s].isect;l<a;++l){const c=o[l];Kue(c,t,u)&&r.push(c)}}return r}function Yue(e,t,i,r){i&&i(e.mark)&&Kue(e,t,Qu.group.isect)&&r.push(e);const o=e.items,s=o&&o.length;if(s){const a=e.x||0,l=e.y||0;t.translate(-a,-l);for(let u=0;u<s;++u)Wue(o[u],t,i,r);t.translate(a,l)}return r}function Kue(e,t,i){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&i(e,t)}Dg.canvas=Dg.png={renderer:sE,headless:sE,handler:nv},Dg.svg={renderer:VF,headless:$ue,handler:wue},Dg.hybrid={renderer:HF,headless:HF,handler:Uue},Dg.none={};const zF=new zs;function Xue(e){const t=e.clip;if(ur(t))t(W4(zF.clear()));else{if(!t)return;zF.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(zF)}const CQe=1e-9;function qF(e,t,i){return e===t||("path"===i?Zue(e,t):e instanceof Date&&t instanceof Date?+e==+t:Kr(e)&&Kr(t)?Math.abs(e-t)<=CQe:e&&t&&(Ln(e)||Ln(t))?function DQe(e,t){var o,s,i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(i.sort(),r.sort(),s=i.length-1;s>=0;s--)if(i[s]!=r[s])return!1;for(s=i.length-1;s>=0;s--)if(!qF(e[o=i[s]],t[o],o))return!1;return typeof e==typeof t}(e,t):e==t)}function Zue(e,t){return qF(R3(e),R3(t))}function xQe(){Fle(),function XKe(){Sle=0}()}const $3="top",Of="left",Rf="right",Np="bottom",MQe="top-left",AQe="top-right",TQe="bottom-left",NQe="bottom-right",jF="start",GF="middle",$l="end",IQe="x",OQe="y",fE="group",WF="axis",YF="title",KF="legend",Que="row-header",Jue="row-footer",ece="row-title",tce="column-header",nce="column-footer",ice="column-title",PQe="symbol",XF="none",dE="all",ZF="each",QF="flush",Ip="column",Op="row";function ace(e){Et.call(this,null,e)}function hE(e,t,i){return t(e.bounds.clear(),e,i)}Dn(ace,Et,{transform(e,t){const i=t.dataflow,r=e.mark,o=r.marktype,s=Qu[o],a=s.bound;let u,l=r.bounds;if(s.nested)r.items.length&&i.dirty(r.items[0]),l=hE(r,a),r.items.forEach(c=>{c.bounds.clear().union(l)});else if(o===fE||e.modified())switch(t.visit(t.MOD,c=>i.dirty(c)),l.clear(),r.items.forEach(c=>l.union(hE(c,a))),r.role){case WF:case KF:case YF:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,c=>{l.union(hE(c,a))}),t.visit(t.MOD,c=>{u=u||l.alignsWith(c.bounds),i.dirty(c),l.union(hE(c,a))}),u&&(l.clear(),r.items.forEach(c=>l.union(c.bounds)));return Xue(r),t.modifies("bounds")}});const lce=":vega_identifier:";function JF(e){Et.call(this,0,e)}function uce(e){Et.call(this,null,e)}function cce(e){Et.call(this,null,e)}JF.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Dn(JF,Et,{transform(e,t){const i=function BQe(e){return e._signals[lce]||(e._signals[lce]=e.add(0))}(t.dataflow),r=e.as;let o=i.value;return t.visit(t.ADD,s=>s[r]=s[r]||++o),i.set(this.value=o),t}}),Dn(uce,Et,{transform(e,t){let i=this.value;i||(i=t.dataflow.scenegraph().mark(e.markdef,function $Qe(e){const t=e.groups,i=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&i?t.lookup(i):null}(e),e.index),i.group.context=e.context,e.context.group||(e.context.group=i.group),i.source=this.source,i.clip=e.clip,i.interactive=e.interactive,this.value=i);const r=i.marktype===fE?Pw:Fw;return t.visit(t.ADD,o=>r.call(o,i)),(e.modified("clip")||e.modified("interactive"))&&(i.clip=e.clip,i.interactive=!!e.interactive,i.zdirty=!0,t.reflow()),i.items=t.source,t}});const fce={parity:e=>e.filter((t,i)=>i%2?t.opacity=0:1),greedy:(e,t)=>{let i;return e.filter((r,o)=>o&&dce(i.bounds,r.bounds,t)?r.opacity=0:(i=r,1))}},dce=(e,t,i)=>i>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),hce=(e,t)=>{for(var s,i=1,r=e.length,o=e[0].bounds;i<r;o=s,++i)if(dce(o,s=e[i].bounds,t))return!0},UQe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},pce=e=>(e.forEach(t=>t.opacity=1),e),gce=(e,t)=>e.reflow(t.modified()).modifies("opacity");function mce(e){Et.call(this,null,e)}Dn(cce,Et,{transform(e,t){const i=fce[e.method]||fce.parity,r=e.separation||0;let s,a,o=t.materialize(t.SOURCE).source;if(!o||!o.length)return;if(!e.method)return e.modified("method")&&(pce(o),t=gce(t,e)),t;if(o=o.filter(UQe),!o.length)return;if(e.sort&&(o=o.slice().sort(e.sort)),s=pce(o),t=gce(t,e),s.length>=3&&hce(s,r)){do{s=i(s,r)}while(s.length>=3&&hce(s,r));s.length<3&&!Rr(o).opacity&&(s.length>1&&(Rr(s).opacity=0),Rr(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=((e,t,i)=>{var r=e.range(),o=new zs;return t===$3||t===Np?o.set(r[0],-1/0,r[1],1/0):o.set(-1/0,r[0],1/0,r[1]),o.expand(i||1),s=>o.encloses(s.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach(u=>{a(u)||(u.opacity=0)}));const l=s[0].mark.bounds.clear();return o.forEach(u=>{u.opacity&&l.union(u.bounds)}),t}}),Dn(mce,Et,{transform(e,t){const i=t.dataflow;if(t.visit(t.ALL,r=>i.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const pl=new zs;function U3(e,t,i){return e[t]===i?0:(e[t]=i,1)}function HQe(e){var t=e.items[0].orient;return t===Of||t===Rf}function qQe(e,t,i,r){var M,A,o=t.items[0],s=o.datum,a=null!=o.translate?o.translate:.5,l=o.orient,u=function zQe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),c=o.range,f=o.offset,d=o.position,h=o.minExtent,p=o.maxExtent,m=s.title&&o.items[u[2]].items[0],v=o.titlePadding,_=o.bounds,y=m&&DF(m),w=0,S=0;switch(pl.clear().union(_),_.clear(),(M=u[0])>-1&&_.union(o.items[M].bounds),(M=u[1])>-1&&_.union(o.items[M].bounds),l){case $3:w=d||0,S=-f,A=Math.max(h,Math.min(p,-_.y1)),_.add(0,-A).add(c,0),m&&pE(e,m,A,v,y,0,-1,_);break;case Of:w=-f,S=d||0,A=Math.max(h,Math.min(p,-_.x1)),_.add(-A,0).add(0,c),m&&pE(e,m,A,v,y,1,-1,_);break;case Rf:w=i+f,S=d||0,A=Math.max(h,Math.min(p,_.x2)),_.add(0,0).add(A,c),m&&pE(e,m,A,v,y,1,1,_);break;case Np:w=d||0,S=r+f,A=Math.max(h,Math.min(p,_.y2)),_.add(0,0).add(c,A),m&&pE(e,m,A,v,0,0,1,_);break;default:w=o.x,S=o.y}return eh(_.translate(w,S),o),U3(o,"x",w+a)|U3(o,"y",S+a)&&(o.bounds=pl,e.dirty(o),o.bounds=_,e.dirty(o)),o.mark.bounds.clear().union(_)}function pE(e,t,i,r,o,s,a,l){const u=t.bounds;if(t.auto){const c=a*(i+o+r);let f=0,d=0;e.dirty(t),s?f=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-f,-d)),e.dirty(t)}l.union(u)}const vce=(e,t)=>Math.floor(Math.min(e,t)),_ce=(e,t)=>Math.ceil(Math.max(e,t));function GQe(e){return(new zs).set(0,0,e.width||0,e.height||0)}function WQe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Wo(e,t,i){return(Ln(e)?e[t]:e)??(void 0!==i?i:0)}function yce(e){return e<0?Math.ceil(-e):0}function bce(e,t,i){var F,N,H,K,oe,ee,ve,pe,R,P,$,r=!i.nodirty,o=i.bounds===QF?GQe:WQe,s=pl.set(0,0,0,0),a=Wo(i.align,Ip),l=Wo(i.align,Op),u=Wo(i.padding,Ip),c=Wo(i.padding,Op),f=i.columns||t.length,d=f<=0?1:Math.ceil(t.length/f),h=t.length,p=Array(h),m=Array(f),v=0,_=Array(h),y=Array(d),w=0,S=Array(h),M=Array(h),A=Array(h);for(N=0;N<f;++N)m[N]=0;for(N=0;N<d;++N)y[N]=0;for(N=0;N<h;++N)oe=A[N]=o(ee=t[N]),ee.x=ee.x||0,S[N]=0,ee.y=ee.y||0,M[N]=0,H=N%f,K=~~(N/f),v=Math.max(v,ve=Math.ceil(oe.x2)),w=Math.max(w,pe=Math.ceil(oe.y2)),m[H]=Math.max(m[H],ve),y[K]=Math.max(y[K],pe),p[N]=u+yce(oe.x1),_[N]=c+yce(oe.y1),r&&e.dirty(t[N]);for(N=0;N<h;++N)N%f==0&&(p[N]=0),N<f&&(_[N]=0);if(a===ZF)for(H=1;H<f;++H){for($=0,N=H;N<h;N+=f)$<p[N]&&($=p[N]);for(N=H;N<h;N+=f)p[N]=$+m[H-1]}else if(a===dE){for($=0,N=0;N<h;++N)N%f&&$<p[N]&&($=p[N]);for(N=0;N<h;++N)N%f&&(p[N]=$+v)}else for(a=!1,H=1;H<f;++H)for(N=H;N<h;N+=f)p[N]+=m[H-1];if(l===ZF)for(K=1;K<d;++K){for($=0,F=(N=K*f)+f;N<F;++N)$<_[N]&&($=_[N]);for(N=K*f;N<F;++N)_[N]=$+y[K-1]}else if(l===dE){for($=0,N=f;N<h;++N)$<_[N]&&($=_[N]);for(N=f;N<h;++N)_[N]=$+w}else for(l=!1,K=1;K<d;++K)for(F=(N=K*f)+f;N<F;++N)_[N]+=y[K-1];for(R=0,N=0;N<h;++N)S[N]+=(R=p[N]+(N%f?R:0))-t[N].x;for(H=0;H<f;++H)for(P=0,N=H;N<h;N+=f)M[N]+=(P+=_[N])-t[N].y;if(a&&Wo(i.center,Ip)&&d>1)for(N=0;N<h;++N)(R=(oe=a===dE?v:m[N%f])-A[N].x2-t[N].x-S[N])>0&&(S[N]+=R/2);if(l&&Wo(i.center,Op)&&1!==f)for(N=0;N<h;++N)(P=(oe=l===dE?w:y[~~(N/f)])-A[N].y2-t[N].y-M[N])>0&&(M[N]+=P/2);for(N=0;N<h;++N)s.union(A[N].translate(S[N],M[N]));switch(R=Wo(i.anchor,IQe),P=Wo(i.anchor,OQe),Wo(i.anchor,Ip)){case $l:R-=s.width();break;case GF:R-=s.width()/2}switch(Wo(i.anchor,Op)){case $l:P-=s.height();break;case GF:P-=s.height()/2}for(R=Math.round(R),P=Math.round(P),s.clear(),N=0;N<h;++N)t[N].mark.bounds.clear();for(N=0;N<h;++N)(ee=t[N]).x+=S[N]+=R,ee.y+=M[N]+=P,s.union(ee.mark.bounds.union(ee.bounds.translate(S[N],M[N]))),r&&e.dirty(ee);return s}function KQe(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function XQe(e,t){return e.bounds[t]}function gE(e,t,i,r,o,s,a,l,u,c,f,d,h,p){var y,w,S,M,A,F,N,H,K,m=i.length,v=0,_=0;if(!m)return v;for(y=f;y<m;y+=d)i[y]&&(v=a(v,u(i[y],c)));if(!t.length)return v;for(t.length>o&&(e.warn("Grid headers exceed limit: "+o),t=t.slice(0,o)),v+=s,w=0,M=t.length;w<M;++w)e.dirty(t[w]),t[w].mark.bounds.clear();for(y=f,w=0,M=t.length;w<M;++w,y+=d){for(A=(F=t[w]).mark.bounds,S=y;S>=0&&null==(N=i[S]);S-=h);l?(H=null==p?N.x:Math.round(N.bounds.x1+p*N.bounds.width()),K=v):(H=v,K=null==p?N.y:Math.round(N.bounds.y1+p*N.bounds.height())),A.union(F.bounds.translate(H-(F.x||0),K-(F.y||0))),F.x=H,F.y=K,e.dirty(F),_=a(_,A[c])}return _}function wce(e,t,i,r,o,s){if(t){e.dirty(t);var a=i,l=i;r?a=Math.round(o.x1+s*o.width()):l=Math.round(o.y1+s*o.height()),t.bounds.translate(a-(t.x||0),l-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=l,e.dirty(t)}}function JQe(e,t,i,r,o,s,a){const l=function ZQe(e,t){const i=e[t]||{};return(r,o)=>null!=i[r]?i[r]:null!=e[r]?e[r]:o}(i,t),u=function QQe(e,t){let i=-1/0;return e.forEach(r=>{null!=r.offset&&(i=Math.max(i,r.offset))}),i>-1/0?i:t}(e,l("offset",0)),c=l("anchor",jF),f=c===$l?1:c===GF?.5:0,d={align:ZF,bounds:l("bounds",QF),columns:"vertical"===l("direction")?1:e.length,padding:l("margin",8),center:l("center"),nodirty:!0};switch(t){case Of:d.anchor={x:Math.floor(r.x1)-u,column:$l,y:f*(a||r.height()+2*r.y1),row:c};break;case Rf:d.anchor={x:Math.ceil(r.x2)+u,y:f*(a||r.height()+2*r.y1),row:c};break;case $3:d.anchor={y:Math.floor(o.y1)-u,row:$l,x:f*(s||o.width()+2*o.x1),column:c};break;case Np:d.anchor={y:Math.ceil(o.y2)+u,x:f*(s||o.width()+2*o.x1),column:c};break;case MQe:d.anchor={x:u,y:u};break;case AQe:d.anchor={x:s-u,y:u,column:$l};break;case TQe:d.anchor={x:u,y:a-u,row:$l};break;case NQe:d.anchor={x:s-u,y:a-u,column:$l,row:$l}}return d}function eJe(e,t){var u,c,i=t.items[0],r=i.datum,o=i.orient,s=i.bounds,a=i.x,l=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function nJe(e,t,i){var r=t.padding,o=r-i.x,s=r-i.y;if(t.datum.title){var a=t.items[1].items[0],l=a.anchor,u=t.titlePadding||0,c=r-a.x,f=r-a.y;switch(a.orient){case Of:o+=Math.ceil(a.bounds.width())+u;break;case Rf:case Np:break;default:s+=a.bounds.height()+u}switch((o||s)&&sv(e,i,o,s),a.orient){case Of:f+=V3(t,i,a,l,1,1);break;case Rf:c+=V3(t,i,a,$l,0,0)+u,f+=V3(t,i,a,l,1,1);break;case Np:c+=V3(t,i,a,l,0,0),f+=V3(t,i,a,$l,-1,0,1)+u;break;default:c+=V3(t,i,a,l,0,0)}(c||f)&&sv(e,a,c,f),(c=Math.round(a.bounds.x1-r))<0&&(sv(e,i,-c,0),sv(e,a,-c,0))}else(o||s)&&sv(e,i,o,s)}(e,i,i.items[0].items[0]),s=function tJe(e,t){return e.items.forEach(i=>t.union(i.bounds)),t.x1=e.padding,t.y1=e.padding,t}(i,s),u=2*i.padding,c=2*i.padding,s.empty()||(u=Math.ceil(s.width()+u),c=Math.ceil(s.height()+c)),r.type===PQe&&function iJe(e){const t=e.reduce((i,r)=>(i[r.column]=Math.max(r.bounds.x2-r.x,i[r.column]||0),i),{});e.forEach(i=>{i.width=t[i.column],i.height=i.bounds.y2-i.y})}(i.items[0].items[0].items[0].items),o!==XF&&(i.x=a=0,i.y=l=0),i.width=u,i.height=c,eh(s.set(a,l,a+u,l+c),i),i.mark.bounds.clear().union(s),i}function V3(e,t,i,r,o,s,a){const u=i.datum.vgrad,f=("symbol"===e.datum.type||!s&&u||a?t:t.items[0]).bounds[o?"y2":"x2"]-e.padding,d=u&&s?f:0,h=u&&s?0:f,p=o<=0?0:DF(i);return Math.round(r===jF?d:r===$l?h-p:.5*(f-p))}function sv(e,t,i,r){t.x+=i,t.y+=r,t.bounds.translate(i,r),t.mark.bounds.translate(i,r),e.dirty(t)}function Ece(e){Et.call(this,null,e)}function Sce(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function uJe(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function Cce(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}Dn(Ece,Et,{transform(e,t){const i=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&function YQe(e,t,i){var f,d,h,p,m,v,_,r=function jQe(e){var o,s,t=e.items,i=t.length,r=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<i;++r)if(s=(o=t[r]).items,o.marktype===fE)switch(o.role){case WF:case KF:case YF:break;case Que:a.rowheaders.push(...s);break;case Jue:a.rowfooters.push(...s);break;case tce:a.colheaders.push(...s);break;case nce:a.colfooters.push(...s);break;case ece:a.rowtitle=s[0];break;case ice:a.coltitle=s[0];break;default:a.marks.push(...s)}return a}(t),o=r.marks,s=i.bounds===QF?KQe:XQe,a=i.offset,l=i.columns||o.length,u=l<=0?1:Math.ceil(o.length/l),c=u*l;const y=bce(e,o,i);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(v=Wo(i.headerBand,Op,null),f=gE(e,r.rowheaders,o,0,u,-Wo(a,"rowHeader"),vce,0,s,"x1",0,l,1,v)),r.colheaders&&(v=Wo(i.headerBand,Ip,null),d=gE(e,r.colheaders,o,0,l,-Wo(a,"columnHeader"),vce,1,s,"y1",0,1,l,v)),r.rowfooters&&(v=Wo(i.footerBand,Op,null),h=gE(e,r.rowfooters,o,0,u,Wo(a,"rowFooter"),_ce,0,s,"x2",l-1,l,1,v)),r.colfooters&&(v=Wo(i.footerBand,Ip,null),p=gE(e,r.colfooters,o,0,l,Wo(a,"columnFooter"),_ce,1,s,"y2",c-l,1,l,v)),r.rowtitle&&(m=Wo(i.titleAnchor,Op),_=Wo(a,"rowTitle"),_=m===$l?h+_:f-_,v=Wo(i.titleBand,Op,.5),wce(e,r.rowtitle,_,0,y,v)),r.coltitle&&(m=Wo(i.titleAnchor,Ip),_=Wo(a,"columnTitle"),_=m===$l?p+_:d-_,v=Wo(i.titleBand,Ip,.5),wce(e,r.coltitle,_,1,y,v))}(i,r,e.layout),function sJe(e,t,i){var f,d,h,m,v,r=t.items,o=Math.max(0,t.width||0),s=Math.max(0,t.height||0),a=(new zs).set(0,0,o,s),l=a.clone(),u=a.clone(),c=[];for(m=0,v=r.length;m<v;++m)switch(d=r[m],d.role){case WF:(HQe(d)?l:u).union(qQe(e,d,o,s));break;case YF:f=d;break;case KF:c.push(eJe(e,d));break;case"frame":case"scope":case Que:case Jue:case ece:case tce:case nce:case ice:l.union(d.bounds),u.union(d.bounds);break;default:a.union(d.bounds)}if(c.length){const _={};c.forEach(y=>{(h=y.orient||Rf)!==XF&&(_[h]||(_[h]=[])).push(y)});for(const y in _){const w=_[y];bce(e,w,JQe(w,y,i.legends,l,u,o,s))}c.forEach(y=>{const w=y.bounds;if(w.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=w,e.dirty(y)),!i.autosize||"fit"!==i.autosize.type&&"fit-x"!==i.autosize.type&&"fit-y"!==i.autosize.type)a.union(w);else switch(y.orient){case Of:case Rf:a.add(w.x1,0).add(w.x2,0);break;case $3:case Np:a.add(0,w.y1).add(0,w.y2)}})}a.union(l).union(u),f&&a.union(function rJe(e,t,i,r,o){var S,s=t.items[0],l=s.orient,u=s.anchor,c=s.offset,f=s.padding,d=s.items[0].items[0],h=s.items[1]&&s.items[1].items[0],p=l===Of||l===Rf?r:i,m=0,v=0,_=0,y=0,w=0;if(s.frame!==fE?l===Of?(m=o.y2,p=o.y1):l===Rf?(m=o.y1,p=o.y2):(m=o.x1,p=o.x2):l===Of&&(m=r,p=0),S=u===jF?m:u===$l?p:(m+p)/2,h&&h.text){switch(l){case $3:case Np:w=d.bounds.height()+f;break;case Of:y=d.bounds.width()+f;break;case Rf:y=-d.bounds.width()-f}pl.clear().union(h.bounds),pl.translate(y-(h.x||0),w-(h.y||0)),U3(h,"x",y)|U3(h,"y",w)&&(e.dirty(h),h.bounds.clear().union(pl),h.mark.bounds.clear().union(pl),e.dirty(h)),pl.clear().union(h.bounds)}else pl.clear();switch(pl.union(d.bounds),l){case $3:v=S,_=o.y1-pl.height()-c;break;case Of:v=o.x1-pl.width()-c,_=S;break;case Rf:v=o.x2+pl.width()+c,_=S;break;case Np:v=S,_=o.y2+c;break;default:v=s.x,_=s.y}return U3(s,"x",v)|U3(s,"y",_)&&(pl.translate(v,_),e.dirty(s),s.bounds.clear().union(pl),t.bounds.clear().union(pl),e.dirty(s)),s.bounds}(e,f,o,s,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),function aJe(e,t,i,r){const o=r.autosize||{},s=o.type;if(e._autosize<1||!s)return;let a=e._width,l=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-i.x1)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-i.y1));const h=Math.max(0,Math.ceil(i.x2-u)),p=Math.max(0,Math.ceil(i.y2-f));if("padding"===o.contains){const m=e.padding();a-=m.left+m.right,l-=m.top+m.bottom}s===XF?(c=0,d=0,u=a,f=l):"fit"===s?(u=Math.max(0,a-c-h),f=Math.max(0,l-d-p)):"fit-x"===s?(u=Math.max(0,a-c-h),l=f+d+p):"fit-y"===s?(a=u+c+h,f=Math.max(0,l-d-p)):"pad"===s&&(a=u+c+h,l=f+d+p),e._resizeView(a,l,u,f,[c,d],o.resize)}(e,t,a,i)}(i,r,e)}),function oJe(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}});const eP=e=>()=>e;function xce(e,t){var i=t-e;return i?function Dce(e,t){return function(i){return e+i*t}}(e,i):eP(isNaN(e)?t:e)}const Mce=function e(t){var i=function hJe(e){return 1==(e=+e)?xce:function(t,i){return i-t?function dJe(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):eP(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=Ef(o)).r,(s=Ef(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=xce(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function Ace(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=Ef(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}function Tce(e,t){var a,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(a=0;a<r;++a)o[a]=rP(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=o[a](l);return s}}function pJe(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function tP(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function gJe(e,t){var o,i={},r={};for(o in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)o in e?i[o]=rP(e[o],t[o]):r[o]=t[o];return function(s){for(o in i)r[o]=i[o](s);return r}}Ace(function cJe(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return Cce((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}),Ace(function fJe(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return Cce((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}});var nP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iP=new RegExp(nP.source,"g");function _Je(e,t){var r,o,s,i=nP.lastIndex=iP.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=nP.exec(e))&&(o=iP.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:tP(r,o)})),i=iP.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function vJe(e){return function(t){return e(t)+""}}(u[0].x):function mJe(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function yJe(e,t){t||(t=[]);var o,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(o=0;o<i;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function rP(e,t){var r,i=typeof t;return null==t||"boolean"===i?eP(t):("number"===i?tP:"string"===i?(r=q0(t))?(t=r,Mce):_Je:t instanceof q0?Mce:t instanceof Date?pJe:function bJe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?yJe:Array.isArray(t)?Tce:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?gJe:tP)(e,t)}function Nce(e){Et.call(this,null,e)}function Ice(e){Et.call(this,null,e)}function wJe(){return oo({})}function Oce(e){Et.call(this,null,e)}function Rce(e){Et.call(this,[],e)}Dn(Nce,Et,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var i=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.scale,l=Zk(s,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||gle(i,s,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?ple(s,e.values,l):Qk(s,l);return o&&(r.rem=o),o=c.map((f,d)=>oo({index:d/(c.length-1||1),value:f,label:u(f)})),e.extra&&o.length&&o.push(oo({index:-1,extra:{value:o[0].value},label:""})),r.source=o,r.add=o,this.value=o,r}}),Dn(Ice,Et,{transform(e,t){var i=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||wJe,s=e.key||yi,a=this.value;return Pt(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(s))&&Rt("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function EJe(e){const t=f3().test(i=>i.exit);return t.lookup=i=>t.get(e(i)),t}(s)),t.visit(t.ADD,l=>{const u=s(l);let c=a.get(u);c?c.exit?(a.empty--,r.add.push(c)):r.mod.push(c):(c=o(l),a.set(u,c),r.add.push(c)),c.datum=l,c.exit=!1}),t.visit(t.MOD,l=>{const u=s(l),c=a.get(u);c&&(c.datum=l,r.mod.push(c))}),t.visit(t.REM,l=>{const u=s(l),c=a.get(u);l===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>i.cleanThreshold)&&i.runAfter(a.clean),r}}),Dn(Oce,Et,{transform(e,t){var i=t.fork(t.ADD_REM),r=e.mod||!1,o=e.encoders,s=t.encode;if(Pt(s)){if(!i.changed()&&!s.every(d=>o[d]))return t.StopPropagation;s=s[0],i.encode=null}var a="enter"===s,l=o.update||ap,u=o.enter||ap,c=o.exit||ap,f=(s&&!a?o[s]:l)||ap;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{u(d,e),l(d,e)}),i.modifies(u.output),i.modifies(l.output),f!==ap&&f!==l&&(t.visit(t.ADD,d=>{f(d,e)}),i.modifies(f.output))),t.changed(t.REM)&&c!==ap&&(t.visit(t.REM,d=>{c(d,e)}),i.modifies(c.output)),a||f!==ap){const d=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(d,h=>{const p=u(h,e)||r;(f(h,e)||p)&&i.mod.push(h)}),i.mod.length&&i.modifies(u.output)):t.visit(d,h=>{(f(h,e)||r)&&i.mod.push(h)}),i.mod.length&&i.modifies(f.output)}return i.changed()?i:t.StopPropagation}}),Dn(Rce,Et,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var h,p,m,v,_,i=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.type||Iw,a=e.scale,l=+e.limit,u=Zk(a,null==e.count?5:e.count,e.minstep),f=e.format||yle(i,a,u,s,e.formatSpecifier,e.formatType,!!e.values||s===Iw),d=e.values||_le(a,u);return o&&(r.rem=o),s===Iw?(l&&d.length>l?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),o=d.slice(0,l-1),_=!0):o=d,ur(m=e.size)?(!e.values&&0===a(o[0])&&(o=o.slice(1)),v=o.reduce((y,w)=>Math.max(y,m(w,e)),0)):m=ll(v=m||8),o=o.map((y,w)=>oo({index:w,label:f(y,w,o),value:y,offset:v,size:m(y,e)})),_&&o.push(oo({index:o.length,label:`\u2026${d.length-o.length} entries`,value:_=d[o.length],offset:v,size:m(_,e)}))):"gradient"===s?(h=a.domain(),p=cle(a,h[0],Rr(h)),d.length<3&&!e.values&&h[0]!==Rr(h)&&(d=[h[0],Rr(h)]),o=d.map((y,w)=>oo({index:w,label:f(y,w,d),value:y,perc:p(y)}))):(m=d.length-1,p=function YKe(e){const t=e.domain(),i=t.length-1;let r=+t[0],o=+Rr(t),s=o-r;if(e.type===Aw){const a=i?s/i:.1;r-=a,o+=a,s=o-r}return a=>(a-r)/s}(a),o=d.map((y,w)=>oo({index:w,label:f(y,w,d),value:y,perc:w?p(y):0,perc2:w===m?1:p(d[w+1])}))),r.source=o,r.add=o,this.value=o,r}});const SJe=e=>e.source.x,CJe=e=>e.source.y,DJe=e=>e.target.x,xJe=e=>e.target.y;function oP(e){Et.call(this,{},e)}oP.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Dn(oP,Et,{transform(e,t){var i=e.sourceX||SJe,r=e.sourceY||CJe,o=e.targetX||DJe,s=e.targetY||xJe,a=e.as||"path",u=e.shape||"line",c=Lce.get(u+"-"+(e.orient||"vertical"))||Lce.get(u);return c||Rt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,f=>{f[a]=c(i(f),r(f),o(f),s(f))}),t.reflow(e.modified()).modifies(a)}});const kce=(e,t,i,r)=>"M"+e+","+t+"L"+i+","+r,Fce=(e,t,i,r)=>{var o=i-e,s=r-t,a=Math.hypot(o,s)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(s,o)/Math.PI+" 0 1 "+i+","+r},Pce=(e,t,i,r)=>{const o=i-e,s=r-t,a=.2*(o+s),l=.2*(s-o);return"M"+e+","+t+"C"+(e+a)+","+(t+l)+" "+(i+l)+","+(r-a)+" "+i+","+r},Lce=f3({line:kce,"line-radial":(e,t,i,r)=>kce(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),arc:Fce,"arc-radial":(e,t,i,r)=>Fce(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),curve:Pce,"curve-radial":(e,t,i,r)=>Pce(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),"orthogonal-horizontal":(e,t,i,r)=>"M"+e+","+t+"V"+r+"H"+i,"orthogonal-vertical":(e,t,i,r)=>"M"+e+","+t+"H"+i+"V"+r,"orthogonal-radial":(e,t,i,r)=>{const o=Math.cos(e),s=Math.sin(e),a=Math.cos(i),l=Math.sin(i);return"M"+t*o+","+t*s+"A"+t+","+t+" 0 0,"+((Math.abs(i-e)>Math.PI?i<=e:i>e)?1:0)+" "+t*a+","+t*l+"L"+r*a+","+r*l},"diagonal-horizontal":(e,t,i,r)=>{const o=(e+i)/2;return"M"+e+","+t+"C"+o+","+t+" "+o+","+r+" "+i+","+r},"diagonal-vertical":(e,t,i,r)=>{const o=(t+r)/2;return"M"+e+","+t+"C"+e+","+o+" "+i+","+o+" "+i+","+r},"diagonal-radial":(e,t,i,r)=>{const o=Math.cos(e),s=Math.sin(e),a=Math.cos(i),l=Math.sin(i),u=(t+r)/2;return"M"+t*o+","+t*s+"C"+u*o+","+u*s+" "+u*a+","+u*l+" "+r*a+","+r*l}});function sP(e){Et.call(this,null,e)}sP.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Dn(sP,Et,{transform(e,t){var m,v,_,i=e.as||["startAngle","endAngle"],r=i[0],o=i[1],a=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,u=t.source,c=u.map(e.field||a3),f=c.length,d=a,h=(l-a)/function lJe(e,t){let i=0;if(void 0===t)for(let r of e)(r=+r)&&(i+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(i+=o)}return i}(c),p=Sce(f);for(e.sort&&p.sort((y,w)=>c[y]-c[w]),m=0;m<f;++m)_=c[p[m]],(v=u[p[m]])[r]=d,v[o]=d+=_*h;return this.value=c,t.reflow(e.modified()).modifies(i)}});function Bce(e){return Wk(e)&&e!==Ld}const IJe=Sf(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function $ce(e){Et.call(this,null,e),this.modified(!0)}function Uce(e,t,i){return ole(e)&&Math.abs(t.reduce((o,s)=>o+(s<0?-1:s>0?1:0),0))!==t.length&&i.warn("Log scale domain includes zero: "+yn(t)),t}function Vce(e,t,i){return ur(e)&&(t||i)?lle(e,aP(t||[0,1],i)):e}function aP(e,t){return t?e.slice().reverse():e}function Hce(e){Et.call(this,null,e)}Dn($ce,Et,{transform(e,t){var i=t.dataflow,r=this.value,o=function OJe(e){var r,t=e.type,i="";return t===Ld?Ld+"-"+T3:(function RJe(e){const t=e.type;return Wk(t)&&t!==vg&&t!==_g&&(e.scheme||e.range&&e.range.length&&e.range.every(Bn))}(e)&&(i=2===(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?Ld+"-":3===r?N3+"-":""),(i+t||T3).toLowerCase())}(e);for(o in(!r||o!==r.type)&&(this.value=r=Qr(o)()),e)if(!IJe[o]){if("padding"===o&&Bce(r.type))continue;ur(r[o])?r[o](e[o]):i.warn("Unsupported scale property: "+o)}return function BJe(e,t,i){var r=e.type,o=t.round||!1,s=t.range;if(null!=t.rangeStep)s=function $Je(e,t,i){return"band"!==e&&e!==zk&&Rt("Only band and point scales support rangeStep."),[0,t.rangeStep*Vk(i,e===zk?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?t.paddingOuter:t.padding)||0)]}(r,t,i);else if(t.scheme&&(s=function UJe(e,t,i){var s,r=t.schemeExtent;return Pt(t.scheme)?s=Nw(t.scheme,t.interpolate,t.interpolateGamma):(s=Xk(t.scheme.toLowerCase()))||Rt(`Unrecognized scheme name: ${t.scheme}`),i=e===Aw?i+1:e===qk?i-1:e===I3||e===Mw?+t.schemeCount||5:i,sle(e)?Vce(s,r,t.reverse):ur(s)?ule(Vce(s,r),i):e===Hk?s:s.slice(0,i)}(r,t,i),ur(s))){if(e.interpolator)return e.interpolator(s);Rt(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&sle(r))return e.interpolator(Nw(aP(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(Kk(t.interpolate,t.interpolateGamma)):ur(e.round)?e.round(o):ur(e.rangeRound)&&e.interpolate(o?uJe:rP),s&&e.range(aP(s,t.reverse))}(r,e,function LJe(e,t,i){let r=t.bins;if(r&&!Pt(r)){const o=e.domain(),s=o[0],a=Rr(o),l=r.step;let u=null==r.start?s:r.start,c=null==r.stop?a:r.stop;l||Rt("Scale bins parameter missing step property."),u<s&&(u=l*Math.ceil(s/l)),c>a&&(c=l*Math.floor(a/l)),r=Sce(u,c+l/2,l)}return r?e.bins=r:e.bins&&delete e.bins,e.type===qk&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),i=r.length):e.bins=e.domain()),i}(r,e,function kJe(e,t,i){const r=function FJe(e,t,i){return t?(e.domain(Uce(e.type,t,i)),t.length):-1}(e,t.domainRaw,i);if(r>-1)return r;var l,u,o=t.domain,s=e.type,a=t.zero||void 0===t.zero&&function NJe(e){const t=e.type;return!e.bins&&(t===T3||t===B4||t===$4)}(e);if(!o)return 0;if((a||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(l=(o=o.slice()).length-1||1,a&&(o[0]>0&&(o[0]=0),o[l]<0&&(o[l]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[l]=t.domainMax),null!=t.domainMid)){const c=(u=t.domainMid)>o[l]?l+1:u<o[0]?0:l;c!==l&&i.warn("Scale domainMid exceeds domain min or max.",u),o.splice(c,0,u)}return Bce(s)&&t.padding&&o[0]!==Rr(o)&&(o=function PJe(e,t,i,r,o,s){var a=Math.abs(Rr(i)-i[0]),l=a/(a-2*r),u=e===Q0?ZI(t,null,l):e===$4?Mb(t,null,l,.5):e===B4?Mb(t,null,l,o||1):e===xw?QI(t,null,l,s||1):XI(t,null,l);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(s,o,t.range,t.padding,t.exponent,t.constant)),e.domain(Uce(s,o,i)),s===Hk&&e.unknown(t.domainImplicit?Ok:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&Zk(e,t.nice)||null),o.length}(r,e,i))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Dn(Hce,Et,{transform(e,t){const i=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return i&&t.source.sort(dg(e.sort)),this.modified(i),t}});const Gce=["y0","y1"];function lP(e){Et.call(this,null,e)}function VJe(e,t,i,r,o){for(var u,s=(t-e.sum)/2,a=e.length,l=0;l<a;++l)(u=e[l])[r]=s,u[o]=s+=Math.abs(i(u))}function HJe(e,t,i,r,o){for(var f,s=1/e.sum,a=0,l=e.length,u=0,c=0;u<l;++u)(f=e[u])[r]=a,f[o]=a=s*(c+=Math.abs(i(f)))}function zJe(e,t,i,r,o){for(var c,f,s=0,a=0,l=e.length,u=0;u<l;++u)(c=+i(f=e[u]))<0?(f[r]=a,f[o]=a+=c):(f[r]=s,f[o]=s+=c)}lP.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Gce}]},Dn(lP,Et,{transform(e,t){var u,c,f,d,i=e.as||Gce,r=i[0],o=i[1],s=dg(e.sort),a=e.field||a3,l="center"===e.offset?VJe:"normalize"===e.offset?HJe:zJe;for(u=function qJe(e,t,i,r){var a,l,u,c,f,d,h,p,m,o=[],s=v=>v(f);if(null==t)o.push(e.slice());else for(a={},l=0,u=e.length;l<u;++l)f=e[l],(h=a[d=t.map(s)])||(a[d]=h=[],o.push(h)),h.push(f);for(d=0,m=0,c=o.length;d<c;++d){for(l=0,p=0,u=(h=o[d]).length;l<u;++l)p+=Math.abs(r(h[l]));h.sum=p,p>m&&(m=p),i&&h.sort(i)}return o.max=m,o}(t.source,e.groupby,s,a),c=0,f=u.length,d=u.max;c<f;++c)l(u[c],d,a,r,o);return t.reflow(e.modified()).modifies(i)}});const jJe=Math.sqrt(50),GJe=Math.sqrt(10),WJe=Math.sqrt(2);function mE(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=jJe?10:s>=GJe?5:s>=WJe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?mE(e,t,2*i):[l,u,c]}function Wce(e,t,i){return mE(e=+e,t=+t,i=+i)[2]}function xg(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function vE(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}const av=e=>e;function _E(e,t){e&&Kce.hasOwnProperty(e.type)&&Kce[e.type](e,t)}var Yce={Feature:function(e,t){_E(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)_E(i[r].geometry,t)}},Kce={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){uP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)uP(i[r],t,0)},Polygon:function(e,t){Xce(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)Xce(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)_E(i[r],t)}};function uP(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function Xce(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)uP(e[i],t,1);t.polygonEnd()}function H3(e,t){e&&Yce.hasOwnProperty(e.type)?Yce[e.type](e,t):_E(e,t)}class Vd{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const s=i[o],a=t+s,l=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);l&&(i[r++]=l),t=a}return i[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let r,o,s,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(r=a,o=t[--i],a=r+o,s=o-(a-r),!s););i>0&&(s<0&&t[i-1]<0||s>0&&t[i-1]>0)&&(o=2*s,r=a+o,o==r-a&&(a=r))}return a}}var fr=1e-6,Zce=1e-12,Mr=Math.PI,bs=Mr/2,Qce=Mr/4,Ju=2*Mr,gl=180/Mr,ls=Mr/180,uo=Math.abs,z3=Math.atan,nh=Math.atan2,_r=Math.cos,Jce=(Math,Math.exp),yE=(Math,Math,Math.log),cP=Math.pow,Ji=Math.sin,jc=Math.sign||function(e){return e>0?1:e<0?-1:0},mu=Math.sqrt,fP=Math.tan;function efe(e){return e>1?0:e<-1?Mr:Math.acos(e)}function Gc(e){return e>1?bs:e<-1?-bs:Math.asin(e)}function Wc(){}var tfe,nfe,pP,gP,dP=new Vd,hP=new Vd,Rp={point:Wc,lineStart:Wc,lineEnd:Wc,polygonStart:function(){Rp.lineStart=XJe,Rp.lineEnd=QJe},polygonEnd:function(){Rp.lineStart=Rp.lineEnd=Rp.point=Wc,dP.add(uo(hP)),hP=new Vd},result:function(){var e=dP/2;return dP=new Vd,e}};function XJe(){Rp.point=ZJe}function ZJe(e,t){Rp.point=ife,tfe=pP=e,nfe=gP=t}function ife(e,t){hP.add(gP*e-pP*t),pP=e,gP=t}function QJe(){ife(tfe,nfe)}const rfe=Rp;var q3=1/0,bE=q3,lv=-q3,wE=lv,JJe={point:function eet(e,t){e<q3&&(q3=e),e>lv&&(lv=e),t<bE&&(bE=t),t>wE&&(wE=t)},lineStart:Wc,lineEnd:Wc,polygonStart:Wc,polygonEnd:Wc,result:function(){var e=[[q3,bE],[lv,wE]];return lv=wE=-(bE=q3=1/0),e}};const EE=JJe;var ofe,sfe,Hd,zd,mP=0,vP=0,uv=0,SE=0,CE=0,j3=0,_P=0,yP=0,cv=0,kf={point:Mg,lineStart:afe,lineEnd:lfe,polygonStart:function(){kf.lineStart=iet,kf.lineEnd=ret},polygonEnd:function(){kf.point=Mg,kf.lineStart=afe,kf.lineEnd=lfe},result:function(){var e=cv?[_P/cv,yP/cv]:j3?[SE/j3,CE/j3]:uv?[mP/uv,vP/uv]:[NaN,NaN];return mP=vP=uv=SE=CE=j3=_P=yP=cv=0,e}};function Mg(e,t){mP+=e,vP+=t,++uv}function afe(){kf.point=tet}function tet(e,t){kf.point=net,Mg(Hd=e,zd=t)}function net(e,t){var i=e-Hd,r=t-zd,o=mu(i*i+r*r);SE+=o*(Hd+e)/2,CE+=o*(zd+t)/2,j3+=o,Mg(Hd=e,zd=t)}function lfe(){kf.point=Mg}function iet(){kf.point=oet}function ret(){ufe(ofe,sfe)}function oet(e,t){kf.point=ufe,Mg(ofe=Hd=e,sfe=zd=t)}function ufe(e,t){var i=e-Hd,r=t-zd,o=mu(i*i+r*r);SE+=o*(Hd+e)/2,CE+=o*(zd+t)/2,j3+=o,_P+=(o=zd*e-Hd*t)*(Hd+e),yP+=o*(zd+t),cv+=3*o,Mg(Hd=e,zd=t)}const cfe=kf;function ffe(e){this._context=e}ffe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ju)}},result:Wc};var wP,dfe,hfe,fv,dv,bP=new Vd,DE={point:Wc,lineStart:function(){DE.point=set},lineEnd:function(){wP&&pfe(dfe,hfe),DE.point=Wc},polygonStart:function(){wP=!0},polygonEnd:function(){wP=null},result:function(){var e=+bP;return bP=new Vd,e}};function set(e,t){DE.point=pfe,dfe=fv=e,hfe=dv=t}function pfe(e,t){bP.add(mu((fv-=e)*fv+(dv-=t)*dv)),fv=e,dv=t}const gfe=DE;let mfe,xE,vfe,_fe;class yfe{constructor(t){this._append=null==t?bfe:function aet(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return bfe;if(t!==mfe){const i=10**t;mfe=t,xE=function(o){let s=1;this._+=o[0];for(const a=o.length;s<a;++s)this._+=Math.round(arguments[s]*i)/i+o[s]}}return xE}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:this._append`M${t},${i}`,this._point=1;break;case 1:this._append`L${t},${i}`;break;default:if(this._append`M${t},${i}`,this._radius!==vfe||this._append!==xE){const r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,vfe=r,xE=this._append,_fe=this._,this._=o}this._+=_fe}}result(){const t=this._;return this._="",t.length?t:null}}function bfe(e){let t=1;this._+=e[0];for(const i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function wfe(e,t){let o,s,i=3,r=4.5;function a(l){return l&&("function"==typeof r&&s.pointRadius(+r.apply(this,arguments)),H3(l,o(s))),s.result()}return a.area=function(l){return H3(l,o(rfe)),rfe.result()},a.measure=function(l){return H3(l,o(gfe)),gfe.result()},a.bounds=function(l){return H3(l,o(EE)),EE.result()},a.centroid=function(l){return H3(l,o(cfe)),cfe.result()},a.projection=function(l){return arguments.length?(o=null==l?(e=null,av):(e=l).stream,a):e},a.context=function(l){return arguments.length?(s=null==l?(t=null,new yfe(i)):new ffe(t=l),"function"!=typeof r&&s.pointRadius(r),a):t},a.pointRadius=function(l){return arguments.length?(r="function"==typeof l?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return i;if(null==l)i=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);i=u}return null===t&&(s=new yfe(i)),a},a.projection(e).digits(i).context(t)}function Efe(){var t,e=[];return{point:function(i,r,o){t.push([i,r,o])},lineStart:function(){e.push(t=[])},lineEnd:Wc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function ME(e,t){return uo(e[0]-t[0])<fr&&uo(e[1]-t[1])<fr}function AE(e,t,i,r){this.x=e,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function Sfe(e,t,i,r,o){var l,u,s=[],a=[];if(e.forEach(function(m){if(!((v=m.length-1)<=0)){var v,w,_=m[0],y=m[v];if(ME(_,y)){if(!_[2]&&!y[2]){for(o.lineStart(),l=0;l<v;++l)o.point((_=m[l])[0],_[1]);return void o.lineEnd()}y[0]+=2*fr}s.push(w=new AE(_,m,null,!0)),a.push(w.o=new AE(_,null,w,!1)),s.push(w=new AE(y,m,null,!1)),a.push(w.o=new AE(y,null,w,!0))}}),s.length){for(a.sort(t),Cfe(s),Cfe(a),l=0,u=a.length;l<u;++l)a[l].e=i=!i;for(var f,d,c=s[0];;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=(f=h.p.z).length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else r(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Cfe(e){if(t=e.length){for(var t,o,i=0,r=e[0];++i<t;)r.n=o=e[i],o.p=r,r=o;r.n=o=e[0],o.p=r}}function EP(e){return[nh(e[1],e[0]),Gc(e[2])]}function G3(e){var t=e[0],i=e[1],r=_r(i);return[r*_r(t),r*Ji(t),Ji(i)]}function TE(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function NE(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function SP(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function IE(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function CP(e){var t=mu(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function DP(e){return uo(e[0])<=Mr?e[0]:jc(e[0])*((uo(e[0])+Mr)%Ju-Mr)}function OE(e){return Array.from(function*cet(e){for(const t of e)yield*t}(e))}function Dfe(e,t,i,r){return function(o){var c,f,d,s=t(o),a=Efe(),l=t(a),u=!1,h={point:p,lineStart:v,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=w,h.lineEnd=S,f=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=_,f=OE(f);var M=function uet(e,t){var i=DP(t),r=t[1],o=Ji(r),s=[Ji(i),-_r(i),0],a=0,l=0,u=new Vd;1===o?r=bs+fr:-1===o&&(r=-bs-fr);for(var c=0,f=e.length;c<f;++c)if(h=(d=e[c]).length)for(var d,h,p=d[h-1],m=DP(p),v=p[1]/2+Qce,_=Ji(v),y=_r(v),w=0;w<h;++w,m=M,_=F,y=N,p=S){var S=d[w],M=DP(S),A=S[1]/2+Qce,F=Ji(A),N=_r(A),H=M-m,K=H>=0?1:-1,oe=K*H,ee=oe>Mr,ve=_*F;if(u.add(nh(ve*K*Ji(oe),y*N+ve*_r(oe))),a+=ee?H+K*Ju:H,ee^m>=i^M>=i){var pe=NE(G3(p),G3(S));CP(pe);var R=NE(s,pe);CP(R);var P=(ee^H>=0?-1:1)*Gc(R[2]);(r>P||r===P&&(pe[0]||pe[1]))&&(l+=ee^H>=0?1:-1)}}return(a<-fr||a<fr&&u<-Zce)^1&l}(c,r);f.length?(u||(o.polygonStart(),u=!0),Sfe(f,det,M,i,o)):M&&(u||(o.polygonStart(),u=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(M,A){e(M,A)&&o.point(M,A)}function m(M,A){s.point(M,A)}function v(){h.point=m,s.lineStart()}function _(){h.point=p,s.lineEnd()}function y(M,A){d.push([M,A]),l.point(M,A)}function w(){l.lineStart(),d=[]}function S(){y(d[0][0],d[0][1]),l.lineEnd();var F,H,K,oe,M=l.clean(),A=a.result(),N=A.length;if(d.pop(),c.push(d),d=null,N){if(1&M){if((H=(K=A[0]).length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),F=0;F<H;++F)o.point((oe=K[F])[0],oe[1]);o.lineEnd()}return}N>1&&2&M&&A.push(A.pop().concat(A.shift())),f.push(A.filter(fet))}}return h}}function fet(e){return e.length>1}function det(e,t){return((e=e.x)[0]<0?e[1]-bs-fr:bs-e[1])-((t=t.x)[0]<0?t[1]-bs-fr:bs-t[1])}const xfe=Dfe(function(){return!0},function het(e){var o,t=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),o=1},point:function(s,a){var l=s>0?Mr:-Mr,u=uo(s-t);uo(u-Mr)<fr?(e.point(t,i=(i+a)/2>0?bs:-bs),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),o=0):r!==l&&u>=Mr&&(uo(t-r)<fr&&(t-=r*fr),uo(s-l)<fr&&(s-=l*fr),i=function pet(e,t,i,r){var o,s,a=Ji(e-i);return uo(a)>fr?z3((Ji(t)*(s=_r(r))*Ji(i)-Ji(r)*(o=_r(t))*Ji(e))/(o*s*a)):(t+r)/2}(t,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),o=0),e.point(t=s,i=a),r=l},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-o}}},function get(e,t,i,r){var o;if(null==e)r.point(-Mr,o=i*bs),r.point(0,o),r.point(Mr,o),r.point(Mr,0),r.point(Mr,-o),r.point(0,-o),r.point(-Mr,-o),r.point(-Mr,0),r.point(-Mr,o);else if(uo(e[0]-t[0])>fr){var s=e[0]<t[0]?Mr:-Mr;r.point(-s,o=i*s/2),r.point(0,o),r.point(s,o)}else r.point(t[0],t[1])},[-Mr,-bs]);function Afe(e,t){(t=G3(t))[0]-=e,CP(t);var i=efe(-t[1]);return((-t[2]<0?-i:i)+Ju-fr)%Ju}var hv=1e9,RE=-hv;function Tfe(e,t,i,r){function o(c,f){return e<=c&&c<=i&&t<=f&&f<=r}function s(c,f,d,h){var p=0,m=0;if(null==c||(p=a(c,d))!==(m=a(f,d))||u(c,f)<0^d>0)do{h.point(0===p||3===p?e:i,p>1?r:t)}while((p=(p+d+4)%4)!==m);else h.point(f[0],f[1])}function a(c,f){return uo(c[0]-e)<fr?f>0?0:3:uo(c[0]-i)<fr?f>0?2:1:uo(c[1]-t)<fr?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=a(c,1),h=a(f,1);return d!==h?d-h:0===d?f[1]-c[1]:1===d?c[0]-f[0]:2===d?c[1]-f[1]:f[0]-c[0]}return function(c){var h,p,m,v,_,y,w,S,M,A,F,f=c,d=Efe(),N={point:H,lineStart:function ve(){N.point=R,p&&p.push(m=[]),A=!0,M=!1,w=S=NaN},lineEnd:function pe(){h&&(R(v,_),y&&M&&d.rejoin(),h.push(d.result())),N.point=H,M&&f.lineEnd()},polygonStart:function oe(){f=d,h=[],p=[],F=!0},polygonEnd:function ee(){var P=function K(){for(var P=0,$=0,Q=p.length;$<Q;++$)for(var Se,Be,j=p[$],J=1,re=j.length,_e=j[0],Oe=_e[0],qe=_e[1];J<re;++J)Se=Oe,Be=qe,Oe=(_e=j[J])[0],qe=_e[1],Be<=r?qe>r&&(Oe-Se)*(r-Be)>(qe-Be)*(e-Se)&&++P:qe<=r&&(Oe-Se)*(r-Be)<(qe-Be)*(e-Se)&&--P;return P}(),$=F&&P,Q=(h=OE(h)).length;($||Q)&&(c.polygonStart(),$&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),Q&&Sfe(h,l,P,s,c),c.polygonEnd()),f=c,h=p=m=null}};function H(P,$){o(P,$)&&f.point(P,$)}function R(P,$){var Q=o(P,$);if(p&&m.push([P,$]),A)v=P,_=$,y=Q,A=!1,Q&&(f.lineStart(),f.point(P,$));else if(Q&&M)f.point(P,$);else{var j=[w=Math.max(RE,Math.min(hv,w)),S=Math.max(RE,Math.min(hv,S))],J=[P=Math.max(RE,Math.min(hv,P)),$=Math.max(RE,Math.min(hv,$))];!function vet(e,t,i,r,o,s){var m,a=e[0],l=e[1],f=0,d=1,h=t[0]-a,p=t[1]-l;if(m=i-a,h||!(m>0)){if(m/=h,h<0){if(m<f)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>f&&(f=m)}if(m=o-a,h||!(m<0)){if(m/=h,h<0){if(m>d)return;m>f&&(f=m)}else if(h>0){if(m<f)return;m<d&&(d=m)}if(m=r-l,p||!(m>0)){if(m/=p,p<0){if(m<f)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>f&&(f=m)}if(m=s-l,p||!(m<0)){if(m/=p,p<0){if(m>d)return;m>f&&(f=m)}else if(p>0){if(m<f)return;m<d&&(d=m)}return f>0&&(e[0]=a+f*h,e[1]=l+f*p),d<1&&(t[0]=a+d*h,t[1]=l+d*p),!0}}}}}(j,J,e,t,i,r)?Q&&(f.lineStart(),f.point(P,$),F=!1):(M||(f.lineStart(),f.point(j[0],j[1])),f.point(J[0],J[1]),Q||f.lineEnd(),F=!1)}w=P,S=$,M=Q}return N}}function xP(e,t){function i(r,o){return r=e(r,o),t(r[0],r[1])}return e.invert&&t.invert&&(i.invert=function(r,o){return(r=t.invert(r,o))&&e.invert(r[0],r[1])}),i}function MP(e,t){return uo(e)>Mr&&(e-=Math.round(e/Ju)*Ju),[e,t]}function Nfe(e,t,i){return(e%=Ju)?t||i?xP(Ofe(e),Rfe(t,i)):Ofe(e):t||i?Rfe(t,i):MP}function Ife(e){return function(t,i){return uo(t+=e)>Mr&&(t-=Math.round(t/Ju)*Ju),[t,i]}}function Ofe(e){var t=Ife(e);return t.invert=Ife(-e),t}function Rfe(e,t){var i=_r(e),r=Ji(e),o=_r(t),s=Ji(t);function a(l,u){var c=_r(u),f=_r(l)*c,d=Ji(l)*c,h=Ji(u),p=h*i+f*r;return[nh(d*o-p*s,f*i-h*r),Gc(p*o+d*s)]}return a.invert=function(l,u){var c=_r(u),f=_r(l)*c,d=Ji(l)*c,h=Ji(u),p=h*o-d*s;return[nh(d*o+h*s,f*i+p*r),Gc(p*i-f*r)]},a}function pv(e){return function(t){var i=new AP;for(var r in e)i[r]=e[r];return i.stream=t,i}}function AP(){}function TP(e,t,i){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),H3(i,e.stream(EE)),t(EE.result()),null!=r&&e.clipExtent(r),e}function kE(e,t,i){return TP(e,function(r){var o=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+t[0][0]+(o-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([l,u])},i)}function NP(e,t,i){return kE(e,[[0,0],t],i)}function IP(e,t,i){return TP(e,function(r){var o=+t,s=o/(r[1][0]-r[0][0]),a=(o-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];e.scale(150*s).translate([a,l])},i)}function OP(e,t,i){return TP(e,function(r){var o=+t,s=o/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},i)}MP.invert=MP,AP.prototype={constructor:AP,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var kfe=16,yet=_r(30*ls);function Ffe(e,t){return+t?function wet(e,t){function i(r,o,s,a,l,u,c,f,d,h,p,m,v,_){var y=c-r,w=f-o,S=y*y+w*w;if(S>4*t&&v--){var M=a+h,A=l+p,F=u+m,N=mu(M*M+A*A+F*F),H=Gc(F/=N),K=uo(uo(F)-1)<fr||uo(s-d)<fr?(s+d)/2:nh(A,M),oe=e(K,H),ee=oe[0],ve=oe[1],pe=ee-r,R=ve-o,P=w*pe-y*R;(P*P/S>t||uo((y*pe+w*R)/S-.5)>.3||a*h+l*p+u*m<yet)&&(i(r,o,s,a,l,u,ee,ve,K,M/=N,A/=N,F,v,_),_.point(ee,ve),i(ee,ve,K,M,A,F,c,f,d,h,p,m,v,_))}}return function(r){var o,s,a,l,u,c,f,d,h,p,m,v,_={point:y,lineStart:w,lineEnd:M,polygonStart:function(){r.polygonStart(),_.lineStart=A},polygonEnd:function(){r.polygonEnd(),_.lineStart=w}};function y(H,K){H=e(H,K),r.point(H[0],H[1])}function w(){d=NaN,_.point=S,r.lineStart()}function S(H,K){var oe=G3([H,K]),ee=e(H,K);i(d,h,f,p,m,v,d=ee[0],h=ee[1],f=H,p=oe[0],m=oe[1],v=oe[2],kfe,r),r.point(d,h)}function M(){_.point=y,r.lineEnd()}function A(){w(),_.point=F,_.lineEnd=N}function F(H,K){S(o=H,K),s=d,a=h,l=p,u=m,c=v,_.point=S}function N(){i(d,h,f,p,m,v,s,a,o,l,u,c,kfe,r),_.lineEnd=M,M()}return _}}(e,t):function bet(e){return pv({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}(e)}var Eet=pv({point:function(e,t){this.stream.point(e*ls,t*ls)}});function Pfe(e,t,i,r,o,s){if(!s)return function Det(e,t,i,r,o){function s(a,l){return[t+e*(a*=r),i-e*(l*=o)]}return s.invert=function(a,l){return[(a-t)/e*r,(i-l)/e*o]},s}(e,t,i,r,o);var a=_r(s),l=Ji(s),u=a*e,c=l*e,f=a/e,d=l/e,h=(l*i-a*t)/e,p=(l*t+a*i)/e;function m(v,_){return[u*(v*=r)-c*(_*=o)+t,i-c*v-u*_]}return m.invert=function(v,_){return[r*(f*v-d*_+h),o*(p-d*v-f*_)]},m}function ih(e){return Lfe(function(){return e})()}function Lfe(e){var t,f,y,w,S,F,N,H,K,oe,i=150,r=480,o=250,s=0,a=0,l=0,u=0,c=0,d=0,h=1,p=1,m=null,v=xfe,_=null,M=av,A=.5;function ee(P){return H(P[0]*ls,P[1]*ls)}function ve(P){return(P=H.invert(P[0],P[1]))&&[P[0]*gl,P[1]*gl]}function pe(){var P=Pfe(i,0,0,h,p,d).apply(null,t(s,a)),$=Pfe(i,r-P[0],o-P[1],h,p,d);return f=Nfe(l,u,c),N=xP(t,$),H=xP(f,N),F=Ffe(N,A),R()}function R(){return K=oe=null,ee}return ee.stream=function(P){return K&&oe===P?K:K=Eet(function Cet(e){return pv({point:function(t,i){var r=e(t,i);return this.stream.point(r[0],r[1])}})}(f)(v(F(M(oe=P)))))},ee.preclip=function(P){return arguments.length?(v=P,m=void 0,R()):v},ee.postclip=function(P){return arguments.length?(M=P,_=y=w=S=null,R()):M},ee.clipAngle=function(P){return arguments.length?(v=+P?function met(e){var t=_r(e),i=2*ls,r=t>0,o=uo(t)>fr;function a(f,d){return _r(f)*_r(d)>t}function u(f,d,h){var v=[1,0,0],_=NE(G3(f),G3(d)),y=TE(_,_),w=_[0],S=y-w*w;if(!S)return!h&&f;var M=t*y/S,A=-t*w/S,F=NE(v,_),N=IE(v,M);SP(N,IE(_,A));var K=F,oe=TE(N,K),ee=TE(K,K),ve=oe*oe-ee*(TE(N,N)-1);if(!(ve<0)){var pe=mu(ve),R=IE(K,(-oe-pe)/ee);if(SP(R,N),R=EP(R),!h)return R;var J,P=f[0],$=d[0],Q=f[1],j=d[1];$<P&&(J=P,P=$,$=J);var re=$-P,_e=uo(re-Mr)<fr;if(!_e&&j<Q&&(J=Q,Q=j,j=J),_e||re<fr?_e?Q+j>0^R[1]<(uo(R[0]-P)<fr?Q:j):Q<=R[1]&&R[1]<=j:re>Mr^(P<=R[0]&&R[0]<=$)){var Be=IE(K,(-oe+pe)/ee);return SP(Be,N),[R,EP(Be)]}}}function c(f,d){var h=r?e:Mr-e,p=0;return f<-h?p|=1:f>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return Dfe(a,function l(f){var d,h,p,m,v;return{lineStart:function(){m=p=!1,v=1},point:function(_,y){var S,w=[_,y],M=a(_,y),A=r?M?0:c(_,y):M?c(_+(_<0?Mr:-Mr),y):0;if(!d&&(m=p=M)&&f.lineStart(),M!==p&&(!(S=u(d,w))||ME(d,S)||ME(w,S))&&(w[2]=1),M!==p)v=0,M?(f.lineStart(),S=u(w,d),f.point(S[0],S[1])):(S=u(d,w),f.point(S[0],S[1],2),f.lineEnd()),d=S;else if(o&&d&&r^M){var F;!(A&h)&&(F=u(w,d,!0))&&(v=0,r?(f.lineStart(),f.point(F[0][0],F[0][1]),f.point(F[1][0],F[1][1]),f.lineEnd()):(f.point(F[1][0],F[1][1]),f.lineEnd(),f.lineStart(),f.point(F[0][0],F[0][1],3)))}M&&(!d||!ME(d,w))&&f.point(w[0],w[1]),d=w,p=M,h=A},lineEnd:function(){p&&f.lineEnd(),d=null},clean:function(){return v|(m&&p)<<1}}},function s(f,d,h,p){!function Mfe(e,t,i,r,o,s){if(i){var a=_r(t),l=Ji(t),u=r*i;null==o?(o=t+r*Ju,s=t-u/2):(o=Afe(a,o),s=Afe(a,s),(r>0?o<s:o>s)&&(o+=r*Ju));for(var c,f=o;r>0?f>s:f<s;f-=u)c=EP([a,-l*_r(f),-l*Ji(f)]),e.point(c[0],c[1])}}(p,e,i,h,f,d)},r?[0,-e]:[-Mr,e-Mr])}(m=P*ls):(m=null,xfe),R()):m*gl},ee.clipExtent=function(P){return arguments.length?(M=null==P?(_=y=w=S=null,av):Tfe(_=+P[0][0],y=+P[0][1],w=+P[1][0],S=+P[1][1]),R()):null==_?null:[[_,y],[w,S]]},ee.scale=function(P){return arguments.length?(i=+P,pe()):i},ee.translate=function(P){return arguments.length?(r=+P[0],o=+P[1],pe()):[r,o]},ee.center=function(P){return arguments.length?(s=P[0]%360*ls,a=P[1]%360*ls,pe()):[s*gl,a*gl]},ee.rotate=function(P){return arguments.length?(l=P[0]%360*ls,u=P[1]%360*ls,c=P.length>2?P[2]%360*ls:0,pe()):[l*gl,u*gl,c*gl]},ee.angle=function(P){return arguments.length?(d=P%360*ls,pe()):d*gl},ee.reflectX=function(P){return arguments.length?(h=P?-1:1,pe()):h<0},ee.reflectY=function(P){return arguments.length?(p=P?-1:1,pe()):p<0},ee.precision=function(P){return arguments.length?(F=Ffe(N,A=P*P),R()):mu(A)},ee.fitExtent=function(P,$){return kE(ee,P,$)},ee.fitSize=function(P,$){return NP(ee,P,$)},ee.fitWidth=function(P,$){return IP(ee,P,$)},ee.fitHeight=function(P,$){return OP(ee,P,$)},function(){return t=e.apply(this,arguments),ee.invert=t.invert&&ve,pe()}}function RP(e){var t=0,i=Mr/3,r=Lfe(e),o=r(t,i);return o.parallels=function(s){return arguments.length?r(t=s[0]*ls,i=s[1]*ls):[t*gl,i*gl]},o}function Met(e,t){var i=Ji(e),r=(i+Ji(t))/2;if(uo(r)<fr)return function xet(e){var t=_r(e);function i(r,o){return[r*t,Ji(o)/t]}return i.invert=function(r,o){return[r/t,Gc(o*t)]},i}(e);var o=1+i*(2*r-i),s=mu(o)/r;function a(l,u){var c=mu(o-2*r*Ji(u))/r;return[c*Ji(l*=r),s-c*_r(l)]}return a.invert=function(l,u){var c=s-u,f=nh(l,uo(c))*jc(c);return c*r<0&&(f-=Mr*jc(l)*jc(c)),[f/r,Gc((o-(l*l+c*c)*r*r)/(2*r))]},a}function FE(){return RP(Met).scale(155.424).center([0,33.6442])}function Bfe(){return FE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function $fe(e){return function(t,i){var r=_r(t),o=_r(i),s=e(r*o);return s===1/0?[2,0]:[s*o*Ji(t),s*Ji(i)]}}function gv(e){return function(t,i){var r=mu(t*t+i*i),o=e(r),s=Ji(o),a=_r(o);return[nh(t*s,r*a),Gc(r&&i*s/r)]}}var Ufe=$fe(function(e){return mu(2/(1+e))});Ufe.invert=gv(function(e){return 2*Gc(e/2)});var Vfe=$fe(function(e){return(e=efe(e))&&e/Ji(e)});function PE(e,t){return[e,yE(fP((bs+t)/2))]}function Hfe(e){var l,u,c,t=ih(e),i=t.center,r=t.scale,o=t.translate,s=t.clipExtent,a=null;function f(){var d=Mr*r(),h=t(function _et(e){function t(i){return(i=e(i[0]*ls,i[1]*ls))[0]*=gl,i[1]*=gl,i}return e=Nfe(e[0]*ls,e[1]*ls,e.length>2?e[2]*ls:0),t.invert=function(i){return(i=e.invert(i[0]*ls,i[1]*ls))[0]*=gl,i[1]*=gl,i},t}(t.rotate()).invert([0,0]));return s(null==a?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===PE?[[Math.max(h[0]-d,a),l],[Math.min(h[0]+d,u),c]]:[[a,Math.max(h[1]-d,l)],[u,Math.min(h[1]+d,c)]])}return t.scale=function(d){return arguments.length?(r(d),f()):r()},t.translate=function(d){return arguments.length?(o(d),f()):o()},t.center=function(d){return arguments.length?(i(d),f()):i()},t.clipExtent=function(d){return arguments.length?(null==d?a=l=u=c=null:(a=+d[0][0],l=+d[0][1],u=+d[1][0],c=+d[1][1]),f()):null==a?null:[[a,l],[u,c]]},f()}function LE(e){return fP((bs+e)/2)}function Ret(e,t){var i=_r(e),r=e===t?Ji(e):yE(i/_r(t))/yE(LE(t)/LE(e)),o=i*cP(LE(e),r)/r;if(!r)return PE;function s(a,l){o>0?l<-bs+fr&&(l=-bs+fr):l>bs-fr&&(l=bs-fr);var u=o/cP(LE(l),r);return[u*Ji(r*a),o-u*_r(r*a)]}return s.invert=function(a,l){var u=o-l,c=jc(r)*mu(a*a+u*u),f=nh(a,uo(u))*jc(u);return u*r<0&&(f-=Mr*jc(a)*jc(u)),[f/r,2*z3(cP(o/c,1/r))-bs]},s}function BE(e,t){return[e,t]}function Pet(e,t){var i=_r(e),r=e===t?Ji(e):(i-_r(t))/(t-e),o=i/r+e;if(uo(r)<fr)return BE;function s(a,l){var u=o-l,c=r*a;return[u*Ji(c),o-u*_r(c)]}return s.invert=function(a,l){var u=o-l,c=nh(a,uo(u))*jc(u);return u*r<0&&(c-=Mr*jc(a)*jc(u)),[c/r,o-jc(r)*mu(a*a+u*u)]},s}Vfe.invert=gv(function(e){return e}),PE.invert=function(e,t){return[e,2*z3(Jce(t))-bs]},BE.invert=BE;var mv=1.340264,vv=-.081106,_v=893e-6,yv=.003796,$E=mu(3)/2;function zfe(e,t){var i=Gc($E*Ji(t)),r=i*i,o=r*r*r;return[e*_r(i)/($E*(mv+3*vv*r+o*(7*_v+9*yv*r))),i*(mv+vv*r+o*(_v+yv*r))]}function qfe(e,t){var i=_r(t),r=_r(e)*i;return[i*Ji(e)/r,Ji(t)/r]}function jfe(e,t){var i=t*t,r=i*i;return[e*(.8707-.131979*i+r*(r*(.003971*i-.001529*r)-.013791)),t*(1.007226+i*(.015085+r*(.028874*i-.044475-.005916*r)))]}function Gfe(e,t){return[_r(t)*Ji(e),Ji(t)]}function Wfe(e,t){var i=_r(t),r=1+_r(e)*i;return[i*Ji(e)/r,Ji(t)/r]}function Yfe(e,t){return[yE(fP((bs+t)/2)),-e]}function bv(){}function Kfe(){var t,e=[];return{point:function(i,r,o){t.push([i,r,o])},lineStart:function(){e.push(t=[])},lineEnd:bv,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}zfe.invert=function(e,t){for(var a,i=t,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=a=(i*(mv+vv*r+o*(_v+yv*r))-t)/(mv+3*vv*r+o*(7*_v+9*yv*r)))*i)*r*r,!(uo(a)<Zce));++s);return[$E*e*(mv+3*vv*r+o*(7*_v+9*yv*r))/_r(i),Gc(Ji(i)/$E)]},qfe.invert=gv(z3),jfe.invert=function(e,t){var o,i=t,r=25;do{var s=i*i,a=s*s;i-=o=(i*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-t)/(1.007226+s*(.045255+a*(.259866*s-.311325-.005916*11*a)))}while(uo(o)>fr&&--r>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]},Gfe.invert=gv(Gc),Wfe.invert=gv(function(e){return 2*z3(e)}),Yfe.invert=function(e,t){return[-t,2*z3(Jce(e))-bs]};var Oo=1e-6,Get=1e-12,Br=Math.PI,Yc=Br/2,Xfe=Br/4,Ff=2*Br,rh=180/Br,ec=Br/180,Ts=Math.abs,Wet=Math.atan,wv=Math.atan2,Ns=Math.cos,ws=(Math,Math,Math,Math,Math,Math,Math.sin),Yet=Math.sign||function(e){return e>0?1:e<0?-1:0},UE=Math.sqrt;function Ev(e){return e>1?Yc:e<-1?-Yc:Math.asin(e)}function VE(e,t){return Ts(e[0]-t[0])<Oo&&Ts(e[1]-t[1])<Oo}function HE(e,t,i,r){this.x=e,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function Zfe(e,t,i,r,o){var l,u,s=[],a=[];if(e.forEach(function(m){if(!((v=m.length-1)<=0)){var v,w,_=m[0],y=m[v];if(VE(_,y)){if(!_[2]&&!y[2]){for(o.lineStart(),l=0;l<v;++l)o.point((_=m[l])[0],_[1]);return void o.lineEnd()}y[0]+=2*Oo}s.push(w=new HE(_,m,null,!0)),a.push(w.o=new HE(_,null,w,!1)),s.push(w=new HE(y,m,null,!1)),a.push(w.o=new HE(y,null,w,!0))}}),s.length){for(a.sort(t),Qfe(s),Qfe(a),l=0,u=a.length;l<u;++l)a[l].e=i=!i;for(var f,d,c=s[0];;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=(f=h.p.z).length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else r(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Qfe(e){if(t=e.length){for(var t,o,i=0,r=e[0];++i<t;)r.n=o=e[i],o.p=r,r=o;r.n=o=e[0],o.p=r}}function kP(e){return[wv(e[1],e[0]),Ev(e[2])]}function W3(e){var t=e[0],i=e[1],r=Ns(i);return[r*Ns(t),r*ws(t),ws(i)]}function zE(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qE(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function FP(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function jE(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function PP(e){var t=UE(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function LP(e){return Ts(e[0])<=Br?e[0]:Yet(e[0])*((Ts(e[0])+Br)%Ff-Br)}function Jfe(e,t,i,r){return function(o){var c,f,d,s=t(o),a=Kfe(),l=t(a),u=!1,h={point:p,lineStart:v,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=w,h.lineEnd=S,f=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=_,f=OE(f);var M=function Xet(e,t){var i=LP(t),r=t[1],o=ws(r),s=[ws(i),-Ns(i),0],a=0,l=0,u=new Vd;1===o?r=Yc+Oo:-1===o&&(r=-Yc-Oo);for(var c=0,f=e.length;c<f;++c)if(h=(d=e[c]).length)for(var d,h,p=d[h-1],m=LP(p),v=p[1]/2+Xfe,_=ws(v),y=Ns(v),w=0;w<h;++w,m=M,_=F,y=N,p=S){var S=d[w],M=LP(S),A=S[1]/2+Xfe,F=ws(A),N=Ns(A),H=M-m,K=H>=0?1:-1,oe=K*H,ee=oe>Br,ve=_*F;if(u.add(wv(ve*K*ws(oe),y*N+ve*Ns(oe))),a+=ee?H+K*Ff:H,ee^m>=i^M>=i){var pe=qE(W3(p),W3(S));PP(pe);var R=qE(s,pe);PP(R);var P=(ee^H>=0?-1:1)*Ev(R[2]);(r>P||r===P&&(pe[0]||pe[1]))&&(l+=ee^H>=0?1:-1)}}return(a<-Oo||a<Oo&&u<-Get)^1&l}(c,r);f.length?(u||(o.polygonStart(),u=!0),Zfe(f,Qet,M,i,o)):M&&(u||(o.polygonStart(),u=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(M,A){e(M,A)&&o.point(M,A)}function m(M,A){s.point(M,A)}function v(){h.point=m,s.lineStart()}function _(){h.point=p,s.lineEnd()}function y(M,A){d.push([M,A]),l.point(M,A)}function w(){l.lineStart(),d=[]}function S(){y(d[0][0],d[0][1]),l.lineEnd();var F,H,K,oe,M=l.clean(),A=a.result(),N=A.length;if(d.pop(),c.push(d),d=null,N){if(1&M){if((H=(K=A[0]).length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),F=0;F<H;++F)o.point((oe=K[F])[0],oe[1]);o.lineEnd()}return}N>1&&2&M&&A.push(A.pop().concat(A.shift())),f.push(A.filter(Zet))}}return h}}function Zet(e){return e.length>1}function Qet(e,t){return((e=e.x)[0]<0?e[1]-Yc-Oo:Yc-e[1])-((t=t.x)[0]<0?t[1]-Yc-Oo:Yc-t[1])}Math;const ede=Jfe(function(){return!0},function Jet(e){var o,t=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),o=1},point:function(s,a){var l=s>0?Br:-Br,u=Ts(s-t);Ts(u-Br)<Oo?(e.point(t,i=(i+a)/2>0?Yc:-Yc),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),o=0):r!==l&&u>=Br&&(Ts(t-r)<Oo&&(t-=r*Oo),Ts(s-l)<Oo&&(s-=l*Oo),i=function ett(e,t,i,r){var o,s,a=ws(e-i);return Ts(a)>Oo?Wet((ws(t)*(s=Ns(r))*ws(i)-ws(r)*(o=Ns(t))*ws(e))/(o*s*a)):(t+r)/2}(t,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),o=0),e.point(t=s,i=a),r=l},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-o}}},function ttt(e,t,i,r){var o;if(null==e)r.point(-Br,o=i*Yc),r.point(0,o),r.point(Br,o),r.point(Br,0),r.point(Br,-o),r.point(0,-o),r.point(-Br,-o),r.point(-Br,0),r.point(-Br,o);else if(Ts(e[0]-t[0])>Oo){var s=e[0]<t[0]?Br:-Br;r.point(-s,o=i*s/2),r.point(0,o),r.point(s,o)}else r.point(t[0],t[1])},[-Br,-Yc]);function nde(e,t){(t=W3(t))[0]-=e,PP(t);var i=function Ket(e){return e>1?0:e<-1?Br:Math.acos(e)}(-t[1]);return((-t[2]<0?-i:i)+Ff-Oo)%Ff}var Sv=1e9,GE=-Sv;function BP(e,t){function i(r,o){return r=e(r,o),t(r[0],r[1])}return e.invert&&t.invert&&(i.invert=function(r,o){return(r=t.invert(r,o))&&e.invert(r[0],r[1])}),i}const ide=e=>e;function $P(e,t){return[Ts(e)>Br?e+Math.round(-e/Ff)*Ff:e,t]}function ode(e){return function(t,i){return[(t+=e)>Br?t-Ff:t<-Br?t+Ff:t,i]}}function sde(e){var t=ode(e);return t.invert=ode(-e),t}function ade(e,t){var i=Ns(e),r=ws(e),o=Ns(t),s=ws(t);function a(l,u){var c=Ns(u),f=Ns(l)*c,d=ws(l)*c,h=ws(u),p=h*i+f*r;return[wv(d*o-p*s,f*i-h*r),Ev(p*o+d*s)]}return a.invert=function(l,u){var c=Ns(u),f=Ns(l)*c,d=ws(l)*c,h=ws(u),p=h*o-d*s;return[wv(d*o+h*s,f*i+p*r),Ev(p*i-f*r)]},a}function WE(e){return function(t){var i=new UP;for(var r in e)i[r]=e[r];return i.stream=t,i}}function UP(){}function YE(e,t){e&&ude.hasOwnProperty(e.type)&&ude[e.type](e,t)}$P.invert=$P,UP.prototype={constructor:UP,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lde={Feature:function(e,t){YE(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)YE(i[r].geometry,t)}},ude={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){VP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)VP(i[r],t,0)},Polygon:function(e,t){cde(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)cde(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)YE(i[r],t)}};function VP(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function cde(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)VP(e[i],t,1);t.polygonEnd()}var Y3=1/0,KE=Y3,Cv=-Y3,XE=Cv,stt={point:function att(e,t){e<Y3&&(Y3=e),e>Cv&&(Cv=e),t<KE&&(KE=t),t>XE&&(XE=t)},lineStart:bv,lineEnd:bv,polygonStart:bv,polygonEnd:bv,result:function(){var e=[[Y3,KE],[Cv,XE]];return Cv=XE=-(KE=Y3=1/0),e}};const fde=stt;function HP(e,t,i){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),function ott(e,t){e&&lde.hasOwnProperty(e.type)?lde[e.type](e,t):YE(e,t)}(i,e.stream(fde)),t(fde.result()),null!=r&&e.clipExtent(r),e}function dde(e,t,i){return HP(e,function(r){var o=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+t[0][0]+(o-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([l,u])},i)}var hde=16,ftt=Ns(30*ec);function pde(e,t){return+t?function htt(e,t){function i(r,o,s,a,l,u,c,f,d,h,p,m,v,_){var y=c-r,w=f-o,S=y*y+w*w;if(S>4*t&&v--){var M=a+h,A=l+p,F=u+m,N=UE(M*M+A*A+F*F),H=Ev(F/=N),K=Ts(Ts(F)-1)<Oo||Ts(s-d)<Oo?(s+d)/2:wv(A,M),oe=e(K,H),ee=oe[0],ve=oe[1],pe=ee-r,R=ve-o,P=w*pe-y*R;(P*P/S>t||Ts((y*pe+w*R)/S-.5)>.3||a*h+l*p+u*m<ftt)&&(i(r,o,s,a,l,u,ee,ve,K,M/=N,A/=N,F,v,_),_.point(ee,ve),i(ee,ve,K,M,A,F,c,f,d,h,p,m,v,_))}}return function(r){var o,s,a,l,u,c,f,d,h,p,m,v,_={point:y,lineStart:w,lineEnd:M,polygonStart:function(){r.polygonStart(),_.lineStart=A},polygonEnd:function(){r.polygonEnd(),_.lineStart=w}};function y(H,K){H=e(H,K),r.point(H[0],H[1])}function w(){d=NaN,_.point=S,r.lineStart()}function S(H,K){var oe=W3([H,K]),ee=e(H,K);i(d,h,f,p,m,v,d=ee[0],h=ee[1],f=H,p=oe[0],m=oe[1],v=oe[2],hde,r),r.point(d,h)}function M(){_.point=y,r.lineEnd()}function A(){w(),_.point=F,_.lineEnd=N}function F(H,K){S(o=H,K),s=d,a=h,l=p,u=m,c=v,_.point=S}function N(){i(d,h,f,p,m,v,s,a,o,l,u,c,hde,r),_.lineEnd=M,M()}return _}}(e,t):function dtt(e){return WE({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}(e)}var ptt=WE({point:function(e,t){this.stream.point(e*ec,t*ec)}});function gde(e,t,i,r,o,s){if(!s)return function mtt(e,t,i,r,o){function s(a,l){return[t+e*(a*=r),i-e*(l*=o)]}return s.invert=function(a,l){return[(a-t)/e*r,(i-l)/e*o]},s}(e,t,i,r,o);var a=Ns(s),l=ws(s),u=a*e,c=l*e,f=a/e,d=l/e,h=(l*i-a*t)/e,p=(l*t+a*i)/e;function m(v,_){return[u*(v*=r)-c*(_*=o)+t,i-c*v-u*_]}return m.invert=function(v,_){return[r*(f*v-d*_+h),o*(p-d*v-f*_)]},m}function vtt(e){return function _tt(e){var t,f,y,w,S,F,N,H,K,oe,i=150,r=480,o=250,s=0,a=0,l=0,u=0,c=0,d=0,h=1,p=1,m=null,v=ede,_=null,M=ide,A=.5;function ee(P){return H(P[0]*ec,P[1]*ec)}function ve(P){return(P=H.invert(P[0],P[1]))&&[P[0]*rh,P[1]*rh]}function pe(){var P=gde(i,0,0,h,p,d).apply(null,t(s,a)),$=gde(i,r-P[0],o-P[1],h,p,d);return f=function rde(e,t,i){return(e%=Ff)?t||i?BP(sde(e),ade(t,i)):sde(e):t||i?ade(t,i):$P}(l,u,c),N=BP(t,$),H=BP(f,N),F=pde(N,A),R()}function R(){return K=oe=null,ee}return ee.stream=function(P){return K&&oe===P?K:K=ptt(function gtt(e){return WE({point:function(t,i){var r=e(t,i);return this.stream.point(r[0],r[1])}})}(f)(v(F(M(oe=P)))))},ee.preclip=function(P){return arguments.length?(v=P,m=void 0,R()):v},ee.postclip=function(P){return arguments.length?(M=P,_=y=w=S=null,R()):M},ee.clipAngle=function(P){return arguments.length?(v=+P?function ntt(e){var t=Ns(e),i=6*ec,r=t>0,o=Ts(t)>Oo;function a(f,d){return Ns(f)*Ns(d)>t}function u(f,d,h){var v=[1,0,0],_=qE(W3(f),W3(d)),y=zE(_,_),w=_[0],S=y-w*w;if(!S)return!h&&f;var M=t*y/S,A=-t*w/S,F=qE(v,_),N=jE(v,M);FP(N,jE(_,A));var K=F,oe=zE(N,K),ee=zE(K,K),ve=oe*oe-ee*(zE(N,N)-1);if(!(ve<0)){var pe=UE(ve),R=jE(K,(-oe-pe)/ee);if(FP(R,N),R=kP(R),!h)return R;var J,P=f[0],$=d[0],Q=f[1],j=d[1];$<P&&(J=P,P=$,$=J);var re=$-P,_e=Ts(re-Br)<Oo;if(!_e&&j<Q&&(J=Q,Q=j,j=J),_e||re<Oo?_e?Q+j>0^R[1]<(Ts(R[0]-P)<Oo?Q:j):Q<=R[1]&&R[1]<=j:re>Br^(P<=R[0]&&R[0]<=$)){var Be=jE(K,(-oe+pe)/ee);return FP(Be,N),[R,kP(Be)]}}}function c(f,d){var h=r?e:Br-e,p=0;return f<-h?p|=1:f>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return Jfe(a,function l(f){var d,h,p,m,v;return{lineStart:function(){m=p=!1,v=1},point:function(_,y){var S,w=[_,y],M=a(_,y),A=r?M?0:c(_,y):M?c(_+(_<0?Br:-Br),y):0;if(!d&&(m=p=M)&&f.lineStart(),M!==p&&(!(S=u(d,w))||VE(d,S)||VE(w,S))&&(w[2]=1),M!==p)v=0,M?(f.lineStart(),S=u(w,d),f.point(S[0],S[1])):(S=u(d,w),f.point(S[0],S[1],2),f.lineEnd()),d=S;else if(o&&d&&r^M){var F;!(A&h)&&(F=u(w,d,!0))&&(v=0,r?(f.lineStart(),f.point(F[0][0],F[0][1]),f.point(F[1][0],F[1][1]),f.lineEnd()):(f.point(F[1][0],F[1][1]),f.lineEnd(),f.lineStart(),f.point(F[0][0],F[0][1],3)))}M&&(!d||!VE(d,w))&&f.point(w[0],w[1]),d=w,p=M,h=A},lineEnd:function(){p&&f.lineEnd(),d=null},clean:function(){return v|(m&&p)<<1}}},function s(f,d,h,p){!function tde(e,t,i,r,o,s){if(i){var a=Ns(t),l=ws(t),u=r*i;null==o?(o=t+r*Ff,s=t-u/2):(o=nde(a,o),s=nde(a,s),(r>0?o<s:o>s)&&(o+=r*Ff));for(var c,f=o;r>0?f>s:f<s;f-=u)c=kP([a,-l*Ns(f),-l*ws(f)]),e.point(c[0],c[1])}}(p,e,i,h,f,d)},r?[0,-e]:[-Br,e-Br])}(m=P*ec):(m=null,ede),R()):m*rh},ee.clipExtent=function(P){return arguments.length?(M=null==P?(_=y=w=S=null,ide):function rtt(e,t,i,r){function o(c,f){return e<=c&&c<=i&&t<=f&&f<=r}function s(c,f,d,h){var p=0,m=0;if(null==c||(p=a(c,d))!==(m=a(f,d))||u(c,f)<0^d>0)do{h.point(0===p||3===p?e:i,p>1?r:t)}while((p=(p+d+4)%4)!==m);else h.point(f[0],f[1])}function a(c,f){return Ts(c[0]-e)<Oo?f>0?0:3:Ts(c[0]-i)<Oo?f>0?2:1:Ts(c[1]-t)<Oo?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=a(c,1),h=a(f,1);return d!==h?d-h:0===d?f[1]-c[1]:1===d?c[0]-f[0]:2===d?c[1]-f[1]:f[0]-c[0]}return function(c){var h,p,m,v,_,y,w,S,M,A,F,f=c,d=Kfe(),N={point:H,lineStart:function ve(){N.point=R,p&&p.push(m=[]),A=!0,M=!1,w=S=NaN},lineEnd:function pe(){h&&(R(v,_),y&&M&&d.rejoin(),h.push(d.result())),N.point=H,M&&f.lineEnd()},polygonStart:function oe(){f=d,h=[],p=[],F=!0},polygonEnd:function ee(){var P=function K(){for(var P=0,$=0,Q=p.length;$<Q;++$)for(var Se,Be,j=p[$],J=1,re=j.length,_e=j[0],Oe=_e[0],qe=_e[1];J<re;++J)Se=Oe,Be=qe,Oe=(_e=j[J])[0],qe=_e[1],Be<=r?qe>r&&(Oe-Se)*(r-Be)>(qe-Be)*(e-Se)&&++P:qe<=r&&(Oe-Se)*(r-Be)<(qe-Be)*(e-Se)&&--P;return P}(),$=F&&P,Q=(h=OE(h)).length;($||Q)&&(c.polygonStart(),$&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),Q&&Zfe(h,l,P,s,c),c.polygonEnd()),f=c,h=p=m=null}};function H(P,$){o(P,$)&&f.point(P,$)}function R(P,$){var Q=o(P,$);if(p&&m.push([P,$]),A)v=P,_=$,y=Q,A=!1,Q&&(f.lineStart(),f.point(P,$));else if(Q&&M)f.point(P,$);else{var j=[w=Math.max(GE,Math.min(Sv,w)),S=Math.max(GE,Math.min(Sv,S))],J=[P=Math.max(GE,Math.min(Sv,P)),$=Math.max(GE,Math.min(Sv,$))];!function itt(e,t,i,r,o,s){var m,a=e[0],l=e[1],f=0,d=1,h=t[0]-a,p=t[1]-l;if(m=i-a,h||!(m>0)){if(m/=h,h<0){if(m<f)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>f&&(f=m)}if(m=o-a,h||!(m<0)){if(m/=h,h<0){if(m>d)return;m>f&&(f=m)}else if(h>0){if(m<f)return;m<d&&(d=m)}if(m=r-l,p||!(m>0)){if(m/=p,p<0){if(m<f)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>f&&(f=m)}if(m=s-l,p||!(m<0)){if(m/=p,p<0){if(m>d)return;m>f&&(f=m)}else if(p>0){if(m<f)return;m<d&&(d=m)}return f>0&&(e[0]=a+f*h,e[1]=l+f*p),d<1&&(t[0]=a+d*h,t[1]=l+d*p),!0}}}}}(j,J,e,t,i,r)?Q&&(f.lineStart(),f.point(P,$),F=!1):(M||(f.lineStart(),f.point(j[0],j[1])),f.point(J[0],J[1]),Q||f.lineEnd(),F=!1)}w=P,S=$,M=Q}return N}}(_=+P[0][0],y=+P[0][1],w=+P[1][0],S=+P[1][1]),R()):null==_?null:[[_,y],[w,S]]},ee.scale=function(P){return arguments.length?(i=+P,pe()):i},ee.translate=function(P){return arguments.length?(r=+P[0],o=+P[1],pe()):[r,o]},ee.center=function(P){return arguments.length?(s=P[0]%360*ec,a=P[1]%360*ec,pe()):[s*rh,a*rh]},ee.rotate=function(P){return arguments.length?(l=P[0]%360*ec,u=P[1]%360*ec,c=P.length>2?P[2]%360*ec:0,pe()):[l*rh,u*rh,c*rh]},ee.angle=function(P){return arguments.length?(d=P%360*ec,pe()):d*rh},ee.reflectX=function(P){return arguments.length?(h=P?-1:1,pe()):h<0},ee.reflectY=function(P){return arguments.length?(p=P?-1:1,pe()):p<0},ee.precision=function(P){return arguments.length?(F=pde(N,A=P*P),R()):UE(A)},ee.fitExtent=function(P,$){return dde(ee,P,$)},ee.fitSize=function(P,$){return function ltt(e,t,i){return dde(e,[[0,0],t],i)}(ee,P,$)},ee.fitWidth=function(P,$){return function utt(e,t,i){return HP(e,function(r){var o=+t,s=o/(r[1][0]-r[0][0]),a=(o-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];e.scale(150*s).translate([a,l])},i)}(ee,P,$)},ee.fitHeight=function(P,$){return function ctt(e,t,i){return HP(e,function(r){var o=+t,s=o/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},i)}(ee,P,$)},function(){return t=e.apply(this,arguments),ee.invert=t.invert&&ve,pe()}}(function(){return e})()}var ytt=Math.abs,zP=(Math,Math,Math,Math.cos),ZE=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),btt=(Math,1e-6),kp=Math.PI,qP=kp/2,vde=(Math,QE(2));function _de(e){return e>1?qP:e<-1?-qP:Math.asin(e)}function QE(e){return e>0?Math.sqrt(e):0}function wtt(e,t){var o,i=e*ZE(t),r=30;do{t-=o=(t+ZE(t)-i)/(1+zP(t))}while(ytt(o)>btt&&--r>0);return t/2}QE(kp);var Stt=function Ett(e,t,i){function r(o,s){return[e*o*zP(s=wtt(i,s)),t*ZE(s)]}return r.invert=function(o,s){return s=_de(s/t),[o/(e*zP(s)),_de((2*s+ZE(2*s))/i)]},r}(vde/qP,vde,kp);const Dtt=wfe(),jP=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function GP(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(JE[e]=function xtt(e,t){return function i(){const r=t();return r.type=e,r.path=wfe().projection(r),r.copy=r.copy||function(){const o=i();return jP.forEach(s=>{r[s]&&o[s](r[s]())}),o.path.pointRadius(r.path.pointRadius()),o},nle(r)}}(e,t),this):JE[e]||null}function yde(e){return e&&e.path||Dtt}const JE={albers:Bfe,albersusa:function Tet(){var e,t,r,s,l,u,i=Bfe(),o=FE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=FE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(h,p){u=[h,p]}};function f(h){var p=h[0],m=h[1];return u=null,r.point(p,m),u||(s.point(p,m),u)||(l.point(p,m),u)}function d(){return e=t=null,f}return f.invert=function(h){var p=i.scale(),m=i.translate(),v=(h[0]-m[0])/p,_=(h[1]-m[1])/p;return(_>=.12&&_<.234&&v>=-.425&&v<-.214?o:_>=.166&&_<.234&&v>=-.214&&v<-.115?a:i).invert(h)},f.stream=function(h){return e&&t===h?e:e=function Aet(e){var t=e.length;return{point:function(i,r){for(var o=-1;++o<t;)e[o].point(i,r)},sphere:function(){for(var i=-1;++i<t;)e[i].sphere()},lineStart:function(){for(var i=-1;++i<t;)e[i].lineStart()},lineEnd:function(){for(var i=-1;++i<t;)e[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<t;)e[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<t;)e[i].polygonEnd()}}}([i.stream(t=h),o.stream(h),a.stream(h)])},f.precision=function(h){return arguments.length?(i.precision(h),o.precision(h),a.precision(h),d()):i.precision()},f.scale=function(h){return arguments.length?(i.scale(h),o.scale(.35*h),a.scale(h),f.translate(i.translate())):i.scale()},f.translate=function(h){if(!arguments.length)return i.translate();var p=i.scale(),m=+h[0],v=+h[1];return r=i.translate(h).clipExtent([[m-.455*p,v-.238*p],[m+.455*p,v+.238*p]]).stream(c),s=o.translate([m-.307*p,v+.201*p]).clipExtent([[m-.425*p+fr,v+.12*p+fr],[m-.214*p-fr,v+.234*p-fr]]).stream(c),l=a.translate([m-.205*p,v+.212*p]).clipExtent([[m-.214*p+fr,v+.166*p+fr],[m-.115*p-fr,v+.234*p-fr]]).stream(c),d()},f.fitExtent=function(h,p){return kE(f,h,p)},f.fitSize=function(h,p){return NP(f,h,p)},f.fitWidth=function(h,p){return IP(f,h,p)},f.fitHeight=function(h,p){return OP(f,h,p)},f.scale(1070)},azimuthalequalarea:function Net(){return ih(Ufe).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function Iet(){return ih(Vfe).scale(79.4188).clipAngle(179.999)},conicconformal:function ket(){return RP(Ret).scale(109.5).parallels([30,30])},conicequalarea:FE,conicequidistant:function Let(){return RP(Pet).scale(131.154).center([0,13.9389])},equalEarth:function $et(){return ih(zfe).scale(177.158)},equirectangular:function Fet(){return ih(BE).scale(152.63)},gnomonic:function Uet(){return ih(qfe).scale(144.049).clipAngle(60)},identity:function Vet(){var a,l,c,f,d,_,y,e=1,t=0,i=0,r=1,o=1,s=0,u=null,h=1,p=1,m=pv({point:function(M,A){var F=S([M,A]);this.stream.point(F[0],F[1])}}),v=av;function w(){return h=e*r,p=e*o,_=y=null,S}function S(M){var A=M[0]*h,F=M[1]*p;if(s){var N=F*a-A*l;A=A*a+F*l,F=N}return[A+t,F+i]}return S.invert=function(M){var A=M[0]-t,F=M[1]-i;if(s){var N=F*a+A*l;A=A*a-F*l,F=N}return[A/h,F/p]},S.stream=function(M){return _&&y===M?_:_=m(v(y=M))},S.postclip=function(M){return arguments.length?(v=M,u=c=f=d=null,w()):v},S.clipExtent=function(M){return arguments.length?(v=null==M?(u=c=f=d=null,av):Tfe(u=+M[0][0],c=+M[0][1],f=+M[1][0],d=+M[1][1]),w()):null==u?null:[[u,c],[f,d]]},S.scale=function(M){return arguments.length?(e=+M,w()):e},S.translate=function(M){return arguments.length?(t=+M[0],i=+M[1],w()):[t,i]},S.angle=function(M){return arguments.length?(l=Ji(s=M%360*ls),a=_r(s),w()):s*gl},S.reflectX=function(M){return arguments.length?(r=M?-1:1,w()):r<0},S.reflectY=function(M){return arguments.length?(o=M?-1:1,w()):o<0},S.fitExtent=function(M,A){return kE(S,M,A)},S.fitSize=function(M,A){return NP(S,M,A)},S.fitWidth=function(M,A){return IP(S,M,A)},S.fitHeight=function(M,A){return OP(S,M,A)},S},mercator:function Oet(){return Hfe(PE).scale(961/Ju)},mollweide:function Ctt(){return vtt(Stt).scale(169.529)},naturalEarth1:function Het(){return ih(jfe).scale(175.295)},orthographic:function zet(){return ih(Gfe).scale(249.5).clipAngle(90+fr)},stereographic:function qet(){return ih(Wfe).scale(250).clipAngle(142)},transversemercator:function jet(){var e=Hfe(Yfe),t=e.center,i=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):[(r=t())[1],-r[0]]},e.rotate=function(r){return arguments.length?i([r[0],r[1],r.length>2?r[2]+90:90]):[(r=i())[0],r[1],r[2]-90]},i([0,0,90]).scale(159.155)}};for(const e in JE)GP(e,JE[e]);var Fp=1e-6,wde=(Math,Math.abs),eS=(Math,Math,Math,Math.ceil);function Ede(e,t,i){var r=xg(e,t-Fp,i).concat(t);return function(o){return r.map(function(s){return[o,s]})}}function Sde(e,t,i){var r=xg(e,t-Fp,i).concat(t);return function(o){return r.map(function(s){return[s,o]})}}function WP(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Dde(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function xv(){}Math,Math,Math,Math,Math,Math,Math,Math,Math;var tS=1/.7,X3="\\s*([+-]?\\d+)\\s*",Av="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Att=/^#([0-9a-f]{3,8})$/,Ttt=new RegExp(`^rgb\\(${X3},${X3},${X3}\\)$`),Ntt=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),Itt=new RegExp(`^rgba\\(${X3},${X3},${X3},${Av}\\)$`),Ott=new RegExp(`^rgba\\(${qd},${qd},${qd},${Av}\\)$`),Rtt=new RegExp(`^hsl\\(${Av},${qd},${qd}\\)$`),ktt=new RegExp(`^hsla\\(${Av},${qd},${qd},${Av}\\)$`),xde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mde(){return this.rgb().formatHex()}function Ade(){return this.rgb().formatRgb()}function YP(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Att.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?Tde(t):3===i?new vu(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?nS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?nS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ttt.exec(e))?new vu(t[1],t[2],t[3],1):(t=Ntt.exec(e))?new vu(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Itt.exec(e))?nS(t[1],t[2],t[3],t[4]):(t=Ott.exec(e))?nS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rtt.exec(e))?Ode(t[1],t[2]/100,t[3]/100,1):(t=ktt.exec(e))?Ode(t[1],t[2]/100,t[3]/100,t[4]):xde.hasOwnProperty(e)?Tde(xde[e]):"transparent"===e?new vu(NaN,NaN,NaN,0):null}function Tde(e){return new vu(e>>16&255,e>>8&255,255&e,1)}function nS(e,t,i,r){return r<=0&&(e=t=i=NaN),new vu(e,t,i,r)}function KP(e,t,i,r){return 1===arguments.length?function Ltt(e){return e instanceof xv||(e=YP(e)),e?new vu((e=e.rgb()).r,e.g,e.b,e.opacity):new vu}(e):new vu(e,t,i,r??1)}function vu(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function Nde(){return`#${Tg(this.r)}${Tg(this.g)}${Tg(this.b)}`}function Ide(){const e=iS(this.opacity);return`${1===e?"rgb(":"rgba("}${Ag(this.r)}, ${Ag(this.g)}, ${Ag(this.b)}${1===e?")":`, ${e})`}`}function iS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ag(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tg(e){return((e=Ag(e))<16?"0":"")+e.toString(16)}function Ode(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Pf(e,t,i,r)}function Rde(e){if(e instanceof Pf)return new Pf(e.h,e.s,e.l,e.opacity);if(e instanceof xv||(e=YP(e)),!e)return new Pf;if(e instanceof Pf)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new Pf(a,l,u,e.opacity)}function Pf(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function kde(e){return(e=(e||0)%360)<0?e+360:e}function rS(e){return Math.max(0,Math.min(1,e||0))}function XP(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}function Utt(){}WP(xv,YP,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mde,formatHex:Mde,formatHex8:function Ftt(){return this.rgb().formatHex8()},formatHsl:function Ptt(){return Rde(this).formatHsl()},formatRgb:Ade,toString:Ade}),WP(vu,KP,Dde(xv,{brighter(e){return e=null==e?tS:Math.pow(tS,e),new vu(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new vu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vu(Ag(this.r),Ag(this.g),Ag(this.b),iS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nde,formatHex:Nde,formatHex8:function Btt(){return`#${Tg(this.r)}${Tg(this.g)}${Tg(this.b)}${Tg(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ide,toString:Ide})),WP(Pf,function $tt(e,t,i,r){return 1===arguments.length?Rde(e):new Pf(e,t,i,r??1)},Dde(xv,{brighter(e){return e=null==e?tS:Math.pow(tS,e),new Pf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Pf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new vu(XP(e>=240?e-240:e+120,o,r),XP(e,o,r),XP(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Pf(kde(this.h),rS(this.s),rS(this.l),iS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iS(this.opacity);return`${1===e?"hsl(":"hsla("}${kde(this.h)}, ${100*rS(this.s)}%, ${100*rS(this.l)}%${1===e?")":`, ${e})`}`}}));const oh=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Fde(){var e=1,t=1,i=l;function r(u,c){return c.map(f=>o(u,f))}function o(u,c){var f=[],d=[];return function s(u,c,f){var p,m,_,y,w,d=[],h=[];for(p=m=-1,oh[(_=u[0]>=c)<<1].forEach(S);++p<e-1;)oh[_|(_=u[p+1]>=c)<<1].forEach(S);for(oh[_<<0].forEach(S);++m<t-1;){for(p=-1,oh[(_=u[m*e+e]>=c)<<1|(y=u[m*e]>=c)<<2].forEach(S);++p<e-1;)w=y,oh[_|(_=u[m*e+e+p+1]>=c)<<1|(y=u[m*e+p+1]>=c)<<2|w<<3].forEach(S);oh[_|y<<3].forEach(S)}for(p=-1,oh[(y=u[m*e]>=c)<<2].forEach(S);++p<e-1;)w=y,oh[(y=u[m*e+p+1]>=c)<<2|w<<3].forEach(S);function S(M){var K,oe,A=[M[0][0]+p,M[0][1]+m],F=[M[1][0]+p,M[1][1]+m],N=a(A),H=a(F);(K=h[N])?(oe=d[H])?(delete h[K.end],delete d[oe.start],K===oe?(K.ring.push(F),f(K.ring)):d[K.start]=h[oe.end]={start:K.start,end:oe.end,ring:K.ring.concat(oe.ring)}):(delete h[K.end],K.ring.push(F),h[K.end=H]=K):(K=d[H])?(oe=h[N])?(delete d[K.start],delete h[oe.end],K===oe?(K.ring.push(F),f(K.ring)):d[oe.start]=h[K.end]={start:oe.start,end:K.end,ring:oe.ring.concat(K.ring)}):(delete d[K.start],K.ring.unshift(A),d[K.start=N]=K):d[N]=h[H]={start:N,end:H,ring:[A,F]}}oh[y<<3].forEach(S)}(u,c,h=>{i(h,u,c),function Vtt(e){for(var t=0,i=e.length,r=e[i-1][1]*e[0][0]-e[i-1][0]*e[0][1];++t<i;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(h)>0?f.push([h]):d.push(h)}),d.forEach(h=>{for(var v,p=0,m=f.length;p<m;++p)if(-1!==Htt((v=f[p])[0],h))return void v.push(h)}),{type:"MultiPolygon",value:c,coordinates:f}}function a(u){return 2*u[0]+u[1]*(e+1)*4}function l(u,c,f){u.forEach(d=>{var _,h=d[0],p=d[1],m=0|h,v=0|p,y=c[v*e+m];h>0&&h<e&&m===h&&(d[0]=h+(f-(_=c[v*e+m-1]))/(y-_)-.5),p>0&&p<t&&v===p&&(d[1]=p+(f-(_=c[(v-1)*e+m]))/(y-_)-.5)})}return r.contour=o,r.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);return c>=0&&f>=0||Rt("invalid size"),e=c,t=f,r},r.smooth=function(u){return arguments.length?(i=u?l:Utt,r):i===l},r}function Htt(e,t){for(var o,i=-1,r=t.length;++i<r;)if(o=ztt(e,t[i]))return o;return 0}function ztt(e,t){for(var i=t[0],r=t[1],o=-1,s=0,a=e.length,l=a-1;s<a;l=s++){var u=e[s],c=u[0],f=u[1],d=e[l],h=d[0],p=d[1];if(qtt(u,d,t))return 0;f>r!=p>r&&i<(h-c)*(r-f)/(p-f)+c&&(o=-o)}return o}function qtt(e,t,i){var r;return function jtt(e,t,i){return(t[0]-e[0])*(i[1]-e[1])==(i[0]-e[0])*(t[1]-e[1])}(e,t,i)&&function Gtt(e,t,i){return e<=t&&t<=i||i<=t&&t<=e}(e[r=+(e[0]===t[0])],i[r],t[r])}function Pde(e,t,i){return function(r){var o=Id(r),s=i?Math.min(o[0],0):o[0],a=o[1],l=a-s,u=t?function YJe(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?Wce(t,e,i):Wce(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(s,a,e):l/(e+1);return xg(s+u,a,u)}}function ZP(e){Et.call(this,null,e)}function Lde(e,t,i,r,o){const s=e.x1||0,a=e.y1||0,l=t*i<0;function u(d){d.forEach(c)}function c(d){l&&d.reverse(),d.forEach(f)}function f(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-a)*i+o}return function(d){return d.coordinates.forEach(u),d}}function Bde(e,t,i){const r=e>=0?e:aR(t,i);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function QP(e){return ur(e)?e:ll(+e)}function $de(){var e=u=>u[0],t=u=>u[1],i=a3,r=[-1,-1],o=960,s=500,a=2;function l(u,c){const f=Bde(r[0],u,e)>>a,d=Bde(r[1],u,t)>>a,h=f?f+2:0,p=d?d+2:0,m=2*h+(o>>a),v=2*p+(s>>a),_=new Float32Array(m*v),y=new Float32Array(m*v);let w=_;u.forEach(M=>{const A=h+(+e(M)>>a),F=p+(+t(M)>>a);A>=0&&A<m&&F>=0&&F<v&&(_[A+F*m]+=+i(M))}),f>0&&d>0?(Z3(m,v,_,y,f),Q3(m,v,y,_,d),Z3(m,v,_,y,f),Q3(m,v,y,_,d),Z3(m,v,_,y,f),Q3(m,v,y,_,d)):f>0?(Z3(m,v,_,y,f),Z3(m,v,y,_,f),Z3(m,v,_,y,f),w=y):d>0&&(Q3(m,v,_,y,d),Q3(m,v,y,_,d),Q3(m,v,_,y,d),w=y);const S=c?Math.pow(2,-2*a):1/function KJe(e,t){let i=0;if(void 0===t)for(let r of e)(r=+r)&&(i+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(i+=o)}return i}(w);for(let M=0,A=m*v;M<A;++M)w[M]*=S;return{values:w,scale:1<<a,width:m,height:v,x1:h,y1:p,x2:h+(o>>a),y2:p+(s>>a)}}return l.x=function(u){return arguments.length?(e=QP(u),l):e},l.y=function(u){return arguments.length?(t=QP(u),l):t},l.weight=function(u){return arguments.length?(i=QP(u),l):i},l.size=function(u){if(!arguments.length)return[o,s];var c=+u[0],f=+u[1];return c>=0&&f>=0||Rt("invalid size"),o=c,s=f,l},l.cellSize=function(u){return arguments.length?((u=+u)>=1||Rt("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),l):1<<a},l.bandwidth=function(u){return arguments.length?(1===(u=Un(u)).length&&(u=[+u[0],+u[0]]),2!==u.length&&Rt("invalid bandwidth"),r=u,l):r},l}function Z3(e,t,i,r,o){const s=1+(o<<1);for(let a=0;a<t;++a)for(let l=0,u=0;l<e+o;++l)l<e&&(u+=i[l+a*e]),l>=o&&(l>=s&&(u-=i[l-s+a*e]),r[l-o+a*e]=u/Math.min(l+1,e-1+s-l,s))}function Q3(e,t,i,r,o){const s=1+(o<<1);for(let a=0;a<e;++a)for(let l=0,u=0;l<t+o;++l)l<t&&(u+=i[a+l*e]),l>=o&&(l>=s&&(u-=i[a+(l-s)*e]),r[a+(l-o)*e]=u/Math.min(l+1,t-1+s-l,s))}function JP(e){Et.call(this,null,e)}ZP.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Dn(ZP,Et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,o=e.field||sl,s=Fde().smooth(!1!==e.smooth),a=e.thresholds||function Wtt(e,t,i){const r=Pde(i.levels||10,i.nice,!1!==i.zero);return"shared"!==i.resolve?r:r(e.map(o=>vE(t(o).values)))}(r,o,e),l=null===e.as?null:e.as||"contour",u=[];return r.forEach(c=>{const f=o(c),d=s.size([f.width,f.height])(f.values,Pt(a)?a:a(f.values));(function Ytt(e,t,i,r){let o=r.scale||t.scale,s=r.translate||t.translate;if(ur(o)&&(o=o(i,r)),ur(s)&&(s=s(i,r)),(1===o||null==o)&&!s)return;const a=(Kr(o)?o:o[0])||1,l=(Kr(o)?o:o[1])||1;e.forEach(Lde(t,a,l,s&&s[0]||0,s&&s[1]||0))})(d,f,c,e),d.forEach(h=>{u.push(Vb(c,oo(null!=l?{[l]:h}:h)))})}),this.value&&(i.rem=this.value),this.value=i.source=i.add=u,i}}),JP.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Ktt=["x","y","weight","size","cellSize","bandwidth"];function Ude(e,t){return Ktt.forEach(i=>null!=t[i]?e[i](t[i]):0),e}function eL(e){Et.call(this,null,e)}Dn(JP,Et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var u,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function Xtt(e,t){var o,s,a,l,u,c,i=[],r=f=>f(l);if(null==t)i.push(e);else for(o={},s=0,a=e.length;s<a;++s)l=e[s],(c=o[u=t.map(r)])||(o[u]=c=[],c.dims=u,i.push(c)),c.push(l);return i}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(ys),a=Ude($de(),e),l=e.as||"grid";return u=o.map(f=>oo(function c(f,d){for(let h=0;h<s.length;++h)f[s[h]]=d[h];return f}({[l]:a(f,e.counts)},f.dims))),this.value&&(i.rem=this.value),this.value=i.source=i.add=u,i}}),eL.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Dn(eL,Et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var l,u,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Fde().smooth(!1!==e.smooth),o=e.values,s=e.thresholds||Pde(e.count||10,e.nice,!!o),a=e.size;return o||(o=t.materialize(t.SOURCE).source,u=Lde(l=Ude($de(),e)(o,!0),l.scale||1,l.scale||1,0,0),a=[l.width,l.height],o=l.values),s=Pt(s)?s:s(o),o=r.size(a)(o,s),u&&o.forEach(u),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(oo),i}});const tL="Feature",nL="FeatureCollection";function iL(e){Et.call(this,null,e)}function rL(e){Et.call(this,null,e)}function oL(e){Et.call(this,null,e)}function sL(e){Et.call(this,null,e)}function aL(e){Et.call(this,[],e),this.generator=function Cde(){var e,t,i,r,o,s,a,l,h,p,m,v,u=10,c=u,f=90,d=360,_=2.5;function y(){return{type:"MultiLineString",coordinates:w()}}function w(){return xg(eS(r/f)*f,i,f).map(m).concat(xg(eS(l/d)*d,a,d).map(v)).concat(xg(eS(t/u)*u,e,u).filter(function(S){return wde(S%f)>Fp}).map(h)).concat(xg(eS(s/c)*c,o,c).filter(function(S){return wde(S%d)>Fp}).map(p))}return y.lines=function(){return w().map(function(S){return{type:"LineString",coordinates:S}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(v(a).slice(1),m(i).reverse().slice(1),v(l).reverse().slice(1))]}},y.extent=function(S){return arguments.length?y.extentMajor(S).extentMinor(S):y.extentMinor()},y.extentMajor=function(S){return arguments.length?(l=+S[0][1],a=+S[1][1],(r=+S[0][0])>(i=+S[1][0])&&(S=r,r=i,i=S),l>a&&(S=l,l=a,a=S),y.precision(_)):[[r,l],[i,a]]},y.extentMinor=function(S){return arguments.length?(s=+S[0][1],o=+S[1][1],(t=+S[0][0])>(e=+S[1][0])&&(S=t,t=e,e=S),s>o&&(S=s,s=o,o=S),y.precision(_)):[[t,s],[e,o]]},y.step=function(S){return arguments.length?y.stepMajor(S).stepMinor(S):y.stepMinor()},y.stepMajor=function(S){return arguments.length?(f=+S[0],d=+S[1],y):[f,d]},y.stepMinor=function(S){return arguments.length?(u=+S[0],c=+S[1],y):[u,c]},y.precision=function(S){return arguments.length?(_=+S,h=Ede(s,o,90),p=Sde(t,e,_),m=Ede(l,a,90),v=Sde(r,i,_),y):_},y.extentMajor([[-180,-90+Fp],[180,90-Fp]]).extentMinor([[-180,-80-Fp],[180,80+Fp]])}()}function lL(e){Et.call(this,null,e)}function Vde(e){if(!ur(e))return!1;const t=Sf(ol(e));return t.$x||t.$y||t.$value||t.$max}function Hde(e){Et.call(this,null,e),this.modified(!0)}function zde(e,t,i){ur(e[t])&&e[t](i)}function qde(e,t,i,r){if(isNaN(t)||isNaN(i))return e;var o,d,h,p,m,v,_,y,w,s=e._root,a={data:r},l=e._x0,u=e._y0,c=e._x1,f=e._y1;if(!s)return e._root=a,e;for(;s.length;)if((v=t>=(d=(l+c)/2))?l=d:c=d,(_=i>=(h=(u+f)/2))?u=h:f=h,o=s,!(s=s[y=_<<1|v]))return o[y]=a,e;if(p=+e._x.call(null,s.data),m=+e._y.call(null,s.data),t===p&&i===m)return a.next=s,o?o[y]=a:e._root=a,e;do{o=o?o[y]=new Array(4):e._root=new Array(4),(v=t>=(d=(l+c)/2))?l=d:c=d,(_=i>=(h=(u+f)/2))?u=h:f=h}while((y=_<<1|v)==(w=(m>=h)<<1|p>=d));return o[w]=s,o[y]=a,e}function Ul(e,t,i,r,o){this.node=e,this.x0=t,this.y0=i,this.x1=r,this.y1=o}function bnt(e){return e[0]}function Ent(e){return e[1]}function uL(e,t,i){var r=new cL(t??bnt,i??Ent,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function cL(e,t,i,r,o,s){this._x=e,this._y=t,this._x0=i,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function jde(e){for(var t={data:e.data},i=t;e=e.next;)i=i.next={data:e.data};return t}iL.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Dn(iL,Et,{transform(e,t){var c,i=this._features,r=this._points,o=e.fields,s=o&&o[0],a=o&&o[1],l=e.geojson||!o&&sl,u=t.ADD;c=e.modified()||t.changed(t.REM)||t.modified(ol(l))||s&&t.modified(ol(s))||a&&t.modified(ol(a)),(!this.value||c)&&(u=t.SOURCE,this._features=i=[],this._points=r=[]),l&&t.visit(u,f=>i.push(l(f))),s&&a&&(t.visit(u,f=>{var d=s(f),h=a(f);null!=d&&null!=h&&(d=+d)===d&&(h=+h)===h&&r.push([d,h])}),i=i.concat({type:tL,geometry:{type:"MultiPoint",coordinates:r}})),this.value={type:nL,features:i}}}),rL.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Dn(rL,Et,{transform(e,t){var i=t.fork(t.ALL),r=this.value,o=e.field||sl,s=e.as||"path",a=i.SOURCE;!r||e.modified()?(this.value=r=yde(e.projection),i.materialize().reflow()):a=o===sl||t.modified(o.fields)?i.ADD_MOD:i.ADD;const l=function Qtt(e,t){const i=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),i}(r,e.pointRadius);return i.visit(a,u=>u[s]=r(o(u))),r.pointRadius(l),i.modifies(s)}}),oL.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Dn(oL,Et,{transform(e,t){var u,i=e.projection,r=e.fields[0],o=e.fields[1],s=e.as||["x","y"],a=s[0],l=s[1];function c(f){const d=i([r(f),o(f)]);d?(f[a]=d[0],f[l]=d[1]):(f[a]=void 0,f[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(u=t.modified(r.fields)||t.modified(o.fields),t.visit(u?t.ADD_MOD:t.ADD,c)),t.modifies(s)}}),sL.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Dn(sL,Et,{transform(e,t){var i=t.fork(t.ALL),r=this.value,o=e.as||"shape",s=i.ADD;return(!r||e.modified())&&(this.value=r=function Jtt(e,t,i){const r=null==i?o=>e(t(o)):o=>{var s=e.pointRadius(),a=e.pointRadius(i)(t(o));return e.pointRadius(s),a};return r.context=o=>(e.context(o),r),r}(yde(e.projection),e.field||Rc("datum"),e.pointRadius),i.materialize().reflow(),s=i.SOURCE),i.visit(s,a=>a[o]=r),i.modifies(o)}}),aL.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Dn(aL,Et,{transform(e,t){var o,i=this.value,r=this.generator;if(!i.length||e.modified())for(const s in e)ur(r[s])&&r[s](e[s]);return o=r(),i.length?t.mod.push(Fre(i[0],o)):t.add.push(oo(o)),i[0]=o,t}}),lL.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Dn(lL,Et,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var i=t.materialize(t.SOURCE).source,r="shared"===e.resolve,o=e.field||sl,s=function tnt(e,t){let i;return ur(e)?(i=r=>e(r,t),i.dep=Vde(e)):e?i=ll(e):(i=r=>r.$value/r.$max||0,i.dep=!0),i}(e.opacity,e),a=function ent(e,t){let i;return ur(e)?(i=r=>KP(e(r,t)),i.dep=Vde(e)):i=ll(KP(e||"#888")),i}(e.color,e),l=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?vE(i.map(c=>vE(o(c).values))):0};return i.forEach(c=>{const f=o(c),d=cr({},c,u);r||(d.$max=vE(f.values||[])),c[l]=function nnt(e,t,i,r){const o=e.width,a=e.x1||0,l=e.y1||0,u=e.x2||o,c=e.y2||e.height,f=e.values,d=f?_=>f[_]:sp,h=_p(u-a,c-l),p=h.getContext("2d"),m=p.getImageData(0,0,u-a,c-l),v=m.data;for(let _=l,y=0;_<c;++_){t.$y=_-l;for(let w=a,S=_*o;w<u;++w,y+=4){t.$x=w-a,t.$value=d(w+S);const M=i(t);v[y+0]=M.r,v[y+1]=M.g,v[y+2]=M.b,v[y+3]=~~(255*r(t))}}return p.putImageData(m,0,0),h}(f,d,a.dep?a:ll(a(d)),s.dep?s:ll(s(d)))}),t.reflow(!0).modifies(l)}}),Dn(Hde,Et,{transform(e,t){let i=this.value;return!i||e.modified("type")?(this.value=i=function rnt(e){const t=GP((e||"mercator").toLowerCase());return t||Rt("Unrecognized projection type: "+e),t()}(e.type),jP.forEach(r=>{null!=e[r]&&zde(i,r,e[r])})):jP.forEach(r=>{e.modified(r)&&zde(i,r,e[r])}),null!=e.pointRadius&&i.path.pointRadius(e.pointRadius),e.fit&&function int(e,t){const i=function ont(e){return 1===(e=Un(e)).length?e[0]:{type:nL,features:e.reduce((t,i)=>t.concat(function snt(e){return e.type===nL?e.features:Un(e).filter(t=>null!=t).map(t=>t.type===tL?t:{type:tL,geometry:t})}(i)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,i):t.size&&e.fitSize(t.size,i)}(i,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var Vl=uL.prototype=cL.prototype;function Hl(e){return function(){return e}}function Pp(e){return 1e-6*(e()-.5)}function Cnt(e){return e.x+e.vx}function Dnt(e){return e.y+e.vy}Vl.copy=function(){var i,r,e=new cL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=jde(t),e;for(i=[{source:t,target:e._root=new Array(4)}];t=i.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?i.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=jde(r));return e},Vl.add=function lnt(e){const t=+this._x.call(null,e),i=+this._y.call(null,e);return qde(this.cover(t,i),t,i,e)},Vl.addAll=function unt(e){var t,i,o,s,r=e.length,a=new Array(r),l=new Array(r),u=1/0,c=1/0,f=-1/0,d=-1/0;for(i=0;i<r;++i)isNaN(o=+this._x.call(null,t=e[i]))||isNaN(s=+this._y.call(null,t))||(a[i]=o,l[i]=s,o<u&&(u=o),o>f&&(f=o),s<c&&(c=s),s>d&&(d=s));if(u>f||c>d)return this;for(this.cover(u,c).cover(f,d),i=0;i<r;++i)qde(this,a[i],l[i],e[i]);return this},Vl.cover=function cnt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(i))o=(i=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var u,c,a=o-i||1,l=this._root;i>e||e>=o||r>t||t>=s;)switch(c=(t<r)<<1|e<i,u=new Array(4),u[c]=l,l=u,a*=2,c){case 0:o=i+a,s=r+a;break;case 1:i=o-a,s=r+a;break;case 2:o=i+a,r=s-a;break;case 3:i=o-a,r=s-a}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=r,this._x1=o,this._y1=s,this},Vl.data=function fnt(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Vl.extent=function dnt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Vl.find=function hnt(e,t,i){var r,a,l,u,c,m,v,o=this._x0,s=this._y0,f=this._x1,d=this._y1,h=[],p=this._root;for(p&&h.push(new Ul(p,o,s,f,d)),null==i?i=1/0:(o=e-i,s=t-i,f=e+i,d=t+i,i*=i);m=h.pop();)if(!(!(p=m.node)||(a=m.x0)>f||(l=m.y0)>d||(u=m.x1)<o||(c=m.y1)<s))if(p.length){var _=(a+u)/2,y=(l+c)/2;h.push(new Ul(p[3],_,y,u,c),new Ul(p[2],a,y,_,c),new Ul(p[1],_,l,u,y),new Ul(p[0],a,l,_,y)),(v=(t>=y)<<1|e>=_)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=m)}else{var w=e-+this._x.call(null,p.data),S=t-+this._y.call(null,p.data),M=w*w+S*S;if(M<i){var A=Math.sqrt(i=M);o=e-A,s=t-A,f=e+A,d=t+A,r=p.data}}return r},Vl.remove=function pnt(e){if(isNaN(f=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r,o,s,f,d,h,p,m,v,_,y,i=this._root,a=this._x0,l=this._y0,u=this._x1,c=this._y1;if(!i)return this;if(i.length)for(;;){if((m=f>=(h=(a+u)/2))?a=h:u=h,(v=d>=(p=(l+c)/2))?l=p:c=p,t=i,!(i=i[_=v<<1|m]))return this;if(!i.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,y=_)}for(;i.data!==e;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):t?(s?t[_]=s:delete t[_],(i=t[0]||t[1]||t[2]||t[3])&&i===(t[3]||t[2]||t[1]||t[0])&&!i.length&&(r?r[y]=i:this._root=i),this):(this._root=s,this)},Vl.removeAll=function gnt(e){for(var t=0,i=e.length;t<i;++t)this.remove(e[t]);return this},Vl.root=function mnt(){return this._root},Vl.size=function vnt(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Vl.visit=function _nt(e){var i,o,s,a,l,u,t=[],r=this._root;for(r&&t.push(new Ul(r,this._x0,this._y0,this._x1,this._y1));i=t.pop();)if(!e(r=i.node,s=i.x0,a=i.y0,l=i.x1,u=i.y1)&&r.length){var c=(s+l)/2,f=(a+u)/2;(o=r[3])&&t.push(new Ul(o,c,f,l,u)),(o=r[2])&&t.push(new Ul(o,s,f,c,u)),(o=r[1])&&t.push(new Ul(o,c,a,l,f)),(o=r[0])&&t.push(new Ul(o,s,a,c,f))}return this},Vl.visitAfter=function ynt(e){var r,t=[],i=[];for(this._root&&t.push(new Ul(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.x1,c=r.y1,f=(a+u)/2,d=(l+c)/2;(s=o[0])&&t.push(new Ul(s,a,l,f,d)),(s=o[1])&&t.push(new Ul(s,f,l,u,d)),(s=o[2])&&t.push(new Ul(s,a,d,f,c)),(s=o[3])&&t.push(new Ul(s,f,d,u,c))}i.push(r)}for(;r=i.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this},Vl.x=function wnt(e){return arguments.length?(this._x=e,this):this._x},Vl.y=function Snt(e){return arguments.length?(this._y=e,this):this._y};const Mnt=1664525,Ant=1013904223,Gde=4294967296;function Nnt(e){return e.x}function Int(e){return e.y}var Ont=10,Rnt=Math.PI*(3-Math.sqrt(5));function Pnt(e){return e.index}function Wde(e,t){var i=e.get(t);if(!i)throw new Error("node not found: "+t);return i}const Yde={center:function ant(e,t){var i,r=1;function o(){var s,l,a=i.length,u=0,c=0;for(s=0;s<a;++s)u+=(l=i[s]).x,c+=l.y;for(u=(u/a-e)*r,c=(c/a-t)*r,s=0;s<a;++s)(l=i[s]).x-=u,l.y-=c}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(t=+s,o):t},o.strength=function(s){return arguments.length?(r=+s,o):r},o},collide:function xnt(e){var t,i,r,o=1,s=1;function a(){for(var c,d,h,p,m,v,_,f=t.length,y=0;y<s;++y)for(d=uL(t,Cnt,Dnt).visitAfter(l),c=0;c<f;++c)_=(v=i[(h=t[c]).index])*v,p=h.x+h.vx,m=h.y+h.vy,d.visit(w);function w(S,M,A,F,N){var H=S.data,K=S.r,oe=v+K;if(!H)return M>p+oe||F<p-oe||A>m+oe||N<m-oe;if(H.index>h.index){var ee=p-H.x-H.vx,ve=m-H.y-H.vy,pe=ee*ee+ve*ve;pe<oe*oe&&(0===ee&&(pe+=(ee=Pp(r))*ee),0===ve&&(pe+=(ve=Pp(r))*ve),pe=(oe-(pe=Math.sqrt(pe)))/pe*o,h.vx+=(ee*=pe)*(oe=(K*=K)/(_+K)),h.vy+=(ve*=pe)*oe,H.vx-=ee*(oe=1-oe),H.vy-=ve*oe)}}}function l(c){if(c.data)return c.r=i[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function u(){if(t){var c,d,f=t.length;for(i=new Array(f),c=0;c<f;++c)i[(d=t[c]).index]=+e(d,c,t)}}return"function"!=typeof e&&(e=Hl(null==e?1:+e)),a.initialize=function(c,f){t=c,r=f,u()},a.iterations=function(c){return arguments.length?(s=+c,a):s},a.strength=function(c){return arguments.length?(o=+c,a):o},a.radius=function(c){return arguments.length?(e="function"==typeof c?c:Hl(+c),u(),a):e},a},nbody:function Fnt(){var e,t,i,r,s,o=Hl(-30),a=1,l=1/0,u=.81;function c(p){var m,v=e.length,_=uL(e,Nnt,Int).visitAfter(d);for(r=p,m=0;m<v;++m)t=e[m],_.visit(h)}function f(){if(e){var p,v,m=e.length;for(s=new Array(m),p=0;p<m;++p)s[(v=e[p]).index]=+o(v,p,e)}}function d(p){var v,_,w,S,M,m=0,y=0;if(p.length){for(w=S=M=0;M<4;++M)(v=p[M])&&(_=Math.abs(v.value))&&(m+=v.value,y+=_,w+=_*v.x,S+=_*v.y);p.x=w/y,p.y=S/y}else{(v=p).x=v.data.x,v.y=v.data.y;do{m+=s[v.data.index]}while(v=v.next)}p.value=m}function h(p,m,v,_){if(!p.value)return!0;var y=p.x-t.x,w=p.y-t.y,S=_-m,M=y*y+w*w;if(S*S/u<M)return M<l&&(0===y&&(M+=(y=Pp(i))*y),0===w&&(M+=(w=Pp(i))*w),M<a&&(M=Math.sqrt(a*M)),t.vx+=y*p.value*r/M,t.vy+=w*p.value*r/M),!0;if(!(p.length||M>=l)){(p.data!==t||p.next)&&(0===y&&(M+=(y=Pp(i))*y),0===w&&(M+=(w=Pp(i))*w),M<a&&(M=Math.sqrt(a*M)));do{p.data!==t&&(t.vx+=y*(S=s[p.data.index]*r/M),t.vy+=w*S)}while(p=p.next)}}return c.initialize=function(p,m){e=p,i=m,f()},c.strength=function(p){return arguments.length?(o="function"==typeof p?p:Hl(+p),f(),c):o},c.distanceMin=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.distanceMax=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c.theta=function(p){return arguments.length?(u=p*p,c):Math.sqrt(u)},c},link:function Lnt(e){var r,s,a,l,u,c,t=Pnt,i=function d(_){return 1/Math.min(l[_.source.index],l[_.target.index])},o=Hl(30),f=1;function h(_){for(var y=0,w=e.length;y<f;++y)for(var M,A,F,N,H,K,oe,S=0;S<w;++S)N=(F=(M=e[S]).target).x+F.vx-(A=M.source).x-A.vx||Pp(c),H=F.y+F.vy-A.y-A.vy||Pp(c),H*=K=((K=Math.sqrt(N*N+H*H))-s[S])/K*_*r[S],F.vx-=(N*=K)*(oe=u[S]),F.vy-=H*oe,A.vx+=N*(oe=1-oe),A.vy+=H*oe}function p(){if(a){var _,M,y=a.length,w=e.length,S=new Map(a.map((A,F)=>[t(A,F,a),A]));for(_=0,l=new Array(y);_<w;++_)(M=e[_]).index=_,"object"!=typeof M.source&&(M.source=Wde(S,M.source)),"object"!=typeof M.target&&(M.target=Wde(S,M.target)),l[M.source.index]=(l[M.source.index]||0)+1,l[M.target.index]=(l[M.target.index]||0)+1;for(_=0,u=new Array(w);_<w;++_)u[_]=l[(M=e[_]).source.index]/(l[M.source.index]+l[M.target.index]);r=new Array(w),m(),s=new Array(w),v()}}function m(){if(a)for(var _=0,y=e.length;_<y;++_)r[_]=+i(e[_],_,e)}function v(){if(a)for(var _=0,y=e.length;_<y;++_)s[_]=+o(e[_],_,e)}return null==e&&(e=[]),h.initialize=function(_,y){a=_,c=y,p()},h.links=function(_){return arguments.length?(e=_,p(),h):e},h.id=function(_){return arguments.length?(t=_,h):t},h.iterations=function(_){return arguments.length?(f=+_,h):f},h.strength=function(_){return arguments.length?(i="function"==typeof _?_:Hl(+_),m(),h):i},h.distance=function(_){return arguments.length?(o="function"==typeof _?_:Hl(+_),v(),h):o},h},x:function Bnt(e){var i,r,o,t=Hl(.1);function s(l){for(var f,u=0,c=i.length;u<c;++u)(f=i[u]).vx+=(o[u]-f.x)*r[u]*l}function a(){if(i){var l,u=i.length;for(r=new Array(u),o=new Array(u),l=0;l<u;++l)r[l]=isNaN(o[l]=+e(i[l],l,i))?0:+t(i[l],l,i)}}return"function"!=typeof e&&(e=Hl(null==e?0:+e)),s.initialize=function(l){i=l,a()},s.strength=function(l){return arguments.length?(t="function"==typeof l?l:Hl(+l),a(),s):t},s.x=function(l){return arguments.length?(e="function"==typeof l?l:Hl(+l),a(),s):e},s},y:function $nt(e){var i,r,o,t=Hl(.1);function s(l){for(var f,u=0,c=i.length;u<c;++u)(f=i[u]).vy+=(o[u]-f.y)*r[u]*l}function a(){if(i){var l,u=i.length;for(r=new Array(u),o=new Array(u),l=0;l<u;++l)r[l]=isNaN(o[l]=+e(i[l],l,i))?0:+t(i[l],l,i)}}return"function"!=typeof e&&(e=Hl(null==e?0:+e)),s.initialize=function(l){i=l,a()},s.strength=function(l){return arguments.length?(t="function"==typeof l?l:Hl(+l),a(),s):t},s.y=function(l){return arguments.length?(e="function"==typeof l?l:Hl(+l),a(),s):e},s}},Tv="forces",fL=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Unt=["static","iterations"],Kde=["x","y","vx","vy"];function dL(e){Et.call(this,null,e)}function Xde(e,t,i,r){var s,a,l,u,o=Un(t.forces);for(s=0,a=fL.length;s<a;++s)(l=fL[s])!==Tv&&t.modified(l)&&e[l](t[l]);for(s=0,a=o.length;s<a;++s)u=Tv+s,(l=i||t.modified(Tv,s)?qnt(o[s]):r&&znt(o[s],r)?e.force(u):null)&&e.force(u,l);for(a=e.numForces||0;s<a;++s)e.force(Tv+s,null);return e.numForces=o.length,e}function znt(e,t){var i,r;for(i in e)if(ur(r=e[i])&&t.modified(ol(r)))return 1;return 0}function qnt(e){var t,i;for(i in Gn(Yde,e.force)||Rt("Unrecognized force: "+e.force),t=Yde[e.force](),e)ur(t[i])&&jnt(t[i],e[i],e);return t}function jnt(e,t,i){e(ur(t)?r=>t(r,i):t)}function Gnt(e){var t=0,i=e.children,r=i&&i.length;if(r)for(;--r>=0;)t+=i[r].value;else t=1;e.value=t}function hL(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=uit)):void 0===t&&(t=lit);for(var r,s,a,l,u,i=new J3(e),o=[i];r=o.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,l=u-1;l>=0;--l)o.push(s=a[l]=new J3(a[l])),s.parent=r,s.depth=r.depth+1;return i.eachBefore(Zde)}function lit(e){return e.children}function uit(e){return Array.isArray(e)?e[1]:null}function cit(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Zde(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function J3(e){this.data=e,this.depth=this.height=0,this.parent=null}function oS(e){return null==e?null:Qde(e)}function Qde(e){if("function"!=typeof e)throw new Error;return e}function Ng(){return 0}function e5(e){return function(){return e}}dL.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Kde}]},Dn(dL,Et,{transform(e,t){var i=this.value,r=t.changed(t.ADD_REM),o=e.modified(fL),s=e.iterations||300;if(i?(r&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&Xde(i,e,0,t)):(this.value=i=function Hnt(e,t){const i=function knt(e){var t,i=1,r=.001,o=1-Math.pow(r,1/300),s=0,a=.6,l=new Map,u=fI(d),c=jee("tick","end"),f=function Tnt(){let e=1;return()=>(e=(Mnt*e+Ant)%Gde)/Gde}();function d(){h(),c.call("tick",t),i<r&&(u.stop(),c.call("end",t))}function h(v){var _,w,y=e.length;void 0===v&&(v=1);for(var S=0;S<v;++S)for(i+=(s-i)*o,l.forEach(function(M){M(i)}),_=0;_<y;++_)null==(w=e[_]).fx?w.x+=w.vx*=a:(w.x=w.fx,w.vx=0),null==w.fy?w.y+=w.vy*=a:(w.y=w.fy,w.vy=0);return t}function p(){for(var y,v=0,_=e.length;v<_;++v){if((y=e[v]).index=v,null!=y.fx&&(y.x=y.fx),null!=y.fy&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var w=Ont*Math.sqrt(.5+v),S=v*Rnt;y.x=w*Math.cos(S),y.y=w*Math.sin(S)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(v){return v.initialize&&v.initialize(e,f),v}return null==e&&(e=[]),p(),t={tick:h,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(v){return arguments.length?(e=v,p(),l.forEach(m),t):e},alpha:function(v){return arguments.length?(i=+v,t):i},alphaMin:function(v){return arguments.length?(r=+v,t):r},alphaDecay:function(v){return arguments.length?(o=+v,t):+o},alphaTarget:function(v){return arguments.length?(s=+v,t):s},velocityDecay:function(v){return arguments.length?(a=1-v,t):1-a},randomSource:function(v){return arguments.length?(f=v,l.forEach(m),t):f},force:function(v,_){return arguments.length>1?(null==_?l.delete(v):l.set(v,m(_)),t):l.get(v)},find:function(v,_,y){var M,A,F,N,H,w=0,S=e.length;for(null==y?y=1/0:y*=y,w=0;w<S;++w)(F=(M=v-(N=e[w]).x)*M+(A=_-N.y)*A)<y&&(H=N,y=F);return H},on:function(v,_){return arguments.length>1?(c.on(v,_),t):c.on(v)}}}(e),r=i.stop,o=i.restart;let s=!1;return i.stopped=()=>s,i.restart=()=>(s=!1,o()),i.stop=()=>(s=!0,r()),Xde(i,t,!0).on("end",()=>s=!0)}(t.source,e),i.on("tick",function Vnt(e,t){return()=>e.touch(t).run()}(t.dataflow,this)),e.static||(r=!0,i.tick()),t.modifies("index")),o||r||e.modified(Unt)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!r)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const i=t.dataflow;for(let f,l=this._argops,u=0,c=l.length;u<c;++u)if(f=l[u],f.name===Tv&&"link"===f.op._argval.force)for(var a,r=f.op._argops,o=0,s=r.length;o<s;++o)if("links"===r[o].name&&(a=r[o].op.source)){i.pulse(a,i.changeset().reflow());break}return t.reflow(e.modified()).modifies(Kde)}}),J3.prototype=hL.prototype={constructor:J3,count:function Wnt(){return this.eachAfter(Gnt)},each:function Ynt(e,t){let i=-1;for(const r of this)e.call(t,r,++i,this);return this},eachAfter:function Xnt(e,t){for(var s,a,l,i=this,r=[i],o=[],u=-1;i=r.pop();)if(o.push(i),s=i.children)for(a=0,l=s.length;a<l;++a)r.push(s[a]);for(;i=o.pop();)e.call(t,i,++u,this);return this},eachBefore:function Knt(e,t){for(var o,s,i=this,r=[i],a=-1;i=r.pop();)if(e.call(t,i,++a,this),o=i.children)for(s=o.length-1;s>=0;--s)r.push(o[s]);return this},find:function Znt(e,t){let i=-1;for(const r of this)if(e.call(t,r,++i,this))return r},sum:function Qnt(e){return this.eachAfter(function(t){for(var i=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)i+=r[o].value;t.value=i})},sort:function Jnt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function eit(e){for(var t=this,i=function tit(e,t){if(e===t)return e;var i=e.ancestors(),r=t.ancestors(),o=null;for(e=i.pop(),t=r.pop();e===t;)o=e,e=i.pop(),t=r.pop();return o}(t,e),r=[t];t!==i;)r.push(t=t.parent);for(var o=r.length;e!==i;)r.splice(o,0,e),e=e.parent;return r},ancestors:function nit(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function iit(){return Array.from(this)},leaves:function rit(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function oit(){var e=this,t=[];return e.each(function(i){i!==e&&t.push({source:i.parent,target:i})}),t},copy:function ait(){return hL(this).eachBefore(cit)},[Symbol.iterator]:function*sit(){var t,r,o,s,e=this,i=[e];do{for(t=i.reverse(),i=[];e=t.pop();)if(yield e,r=e.children)for(o=0,s=r.length;o<s;++o)i.push(r[o])}while(i.length)}};const fit=1664525,dit=1013904223,Jde=4294967296;function mit(e,t){var i,r;if(pL(t,e))return[t];for(i=0;i<e.length;++i)if(sS(t,e[i])&&pL(Nv(e[i],t),e))return[e[i],t];for(i=0;i<e.length-1;++i)for(r=i+1;r<e.length;++r)if(sS(Nv(e[i],e[r]),t)&&sS(Nv(e[i],t),e[r])&&sS(Nv(e[r],t),e[i])&&pL(n0e(e[i],e[r],t),e))return[e[i],e[r],t];throw new Error}function sS(e,t){var i=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return i<0||i*i<r*r+o*o}function t0e(e,t){var i=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,o=t.y-e.y;return i>0&&i*i>r*r+o*o}function pL(e,t){for(var i=0;i<t.length;++i)if(!t0e(e,t[i]))return!1;return!0}function vit(e){switch(e.length){case 1:return function _it(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return Nv(e[0],e[1]);case 3:return n0e(e[0],e[1],e[2])}}function Nv(e,t){var i=e.x,r=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=s-i,c=a-r,f=l-o,d=Math.sqrt(u*u+c*c);return{x:(i+s+u/d*f)/2,y:(r+a+c/d*f)/2,r:(d+o+l)/2}}function n0e(e,t,i){var r=e.x,o=e.y,s=e.r,a=t.x,l=t.y,u=t.r,c=i.x,f=i.y,d=i.r,h=r-a,p=r-c,m=o-l,v=o-f,_=u-s,y=d-s,w=r*r+o*o-s*s,S=w-a*a-l*l+u*u,M=w-c*c-f*f+d*d,A=p*m-h*v,F=(m*M-v*S)/(2*A)-r,N=(v*_-m*y)/A,H=(p*S-h*M)/(2*A)-o,K=(h*y-p*_)/A,oe=N*N+K*K-1,ee=2*(s+F*N+H*K),ve=F*F+H*H-s*s,pe=-(Math.abs(oe)>1e-6?(ee+Math.sqrt(ee*ee-4*oe*ve))/(2*oe):ve/ee);return{x:r+F+N*pe,y:o+H+K*pe,r:pe}}function i0e(e,t,i){var o,s,l,u,r=e.x-t.x,a=e.y-t.y,c=r*r+a*a;c?(s=t.r+i.r,u=e.r+i.r,(s*=s)>(u*=u)?(o=(c+u-s)/(2*c),l=Math.sqrt(Math.max(0,u/c-o*o)),i.x=e.x-o*r-l*a,i.y=e.y-o*a+l*r):(o=(c+s-u)/(2*c),l=Math.sqrt(Math.max(0,s/c-o*o)),i.x=t.x+o*r-l*a,i.y=t.y+o*a+l*r)):(i.x=t.x+i.r,i.y=t.y)}function r0e(e,t){var i=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return i>0&&i*i>r*r+o*o}function o0e(e){var t=e._,i=e.next._,r=t.r+i.r,o=(t.x*i.r+i.x*t.r)/r,s=(t.y*i.r+i.y*t.r)/r;return o*o+s*s}function aS(e){this._=e,this.next=null,this.previous=null}function s0e(e,t){if(!(s=(e=function pit(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var i,r,o,s,a,l,u,c,f,d,h;if((i=e[0]).x=0,i.y=0,!(s>1))return i.r;if(i.x=-(r=e[1]).r,r.x=i.r,r.y=0,!(s>2))return i.r+r.r;i0e(r,i,o=e[2]),i=new aS(i),r=new aS(r),o=new aS(o),i.next=o.previous=r,r.next=i.previous=o,o.next=r.previous=i;e:for(u=3;u<s;++u){i0e(i._,r._,o=e[u]),o=new aS(o),c=r.next,f=i.previous,d=r._.r,h=i._.r;do{if(d<=h){if(r0e(c._,o._)){i.next=r=c,r.previous=i,--u;continue e}d+=c._.r,c=c.next}else{if(r0e(f._,o._)){(i=f).next=r,r.previous=i,--u;continue e}h+=f._.r,f=f.previous}}while(c!==f.next);for(o.previous=i,o.next=r,i.next=r.previous=r=o,a=o0e(i);(o=o.next)!==r;)(l=o0e(o))<a&&(i=o,a=l);r=i.next}for(i=[r._],o=r;(o=o.next)!==r;)i.push(o._);for(o=function e0e(e,t){for(var s,a,i=0,r=(e=function git(e,t){let r,o,i=e.length;for(;i;)o=t()*i--|0,r=e[i],e[i]=e[o],e[o]=r;return e}(Array.from(e),t)).length,o=[];i<r;)s=e[i],a&&t0e(a,s)?++i:(a=vit(o=mit(o,s)),i=0);return a}(i,t),u=0;u<s;++u)(i=e[u]).x-=o.x,i.y-=o.y;return o.r}function yit(e){return Math.sqrt(e.value)}function a0e(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function gL(e,t,i){return function(r){if(o=r.children){var o,s,u,a=o.length,l=e(r)*t||0;if(l)for(s=0;s<a;++s)o[s].r+=l;if(u=s0e(o,i),l)for(s=0;s<a;++s)o[s].r-=l;r.r=u+l}}}function l0e(e){return function(t){var i=t.parent;t.r*=e,i&&(t.x=i.x+e*t.x,t.y=i.y+e*t.y)}}function u0e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Iv(e,t,i,r,o){for(var a,s=e.children,l=-1,u=s.length,c=e.value&&(r-t)/e.value;++l<u;)(a=s[l]).y0=i,a.y1=o,a.x0=t,a.x1=t+=a.value*c}var Eit={depth:-1},c0e={},mL={};function Sit(e){return e.id}function Cit(e){return e.parentId}function f0e(){var i,e=Sit,t=Cit;function r(o){var u,c,f,d,h,p,m,v,s=Array.from(o),a=e,l=t,_=new Map;if(null!=i){const y=s.map((M,A)=>function Dit(e){let t=(e=`${e}`).length;return vL(e,t-1)&&!vL(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(i(M,A,o))),w=y.map(d0e),S=new Set(y).add("");for(const M of w)S.has(M)||(S.add(M),y.push(M),w.push(d0e(M)),s.push(mL));a=(M,A)=>y[A],l=(M,A)=>w[A]}for(f=0,u=s.length;f<u;++f)p=s[f]=new J3(c=s[f]),null!=(m=a(c,f,o))&&(m+="")&&(v=p.id=m,_.set(v,_.has(v)?c0e:p)),null!=(m=l(c,f,o))&&(m+="")&&(p.parent=m);for(f=0;f<u;++f)if(m=(p=s[f]).parent){if(!(h=_.get(m)))throw new Error("missing: "+m);if(h===c0e)throw new Error("ambiguous: "+m);h.children?h.children.push(p):h.children=[p],p.parent=h}else{if(d)throw new Error("multiple roots");d=p}if(!d)throw new Error("no root");if(null!=i){for(;d.data===mL&&1===d.children.length;)d=d.children[0],--u;for(let y=s.length-1;y>=0&&(p=s[y]).data===mL;--y)p.data=null}if(d.parent=Eit,d.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(Zde),d.parent=null,u>0)throw new Error("cycle");return d}return r.id=function(o){return arguments.length?(e=oS(o),r):e},r.parentId=function(o){return arguments.length?(t=oS(o),r):t},r.path=function(o){return arguments.length?(i=oS(o),r):i},r}function d0e(e){let t=e.length;if(t<2)return"";for(;--t>1&&!vL(e,t););return e.slice(0,t)}function vL(e,t){if("/"===e[t]){let i=0;for(;t>0&&"\\"===e[--t];)++i;if(!(1&i))return!0}return!1}function xit(e,t){return e.parent===t.parent?1:2}function _L(e){var t=e.children;return t?t[0]:e.t}function yL(e){var t=e.children;return t?t[t.length-1]:e.t}function Mit(e,t,i){var r=i/(t.i-e.i);t.c-=r,t.s+=i,e.c+=r,t.z+=i,t.m+=i}function Tit(e,t,i){return e.a.parent===t.parent?e.a:i}function lS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Oit(e,t){return e.parent===t.parent?1:2}function kit(e,t){return e+t.x}function Pit(e,t){return Math.max(e,t.y)}function uS(e,t,i,r,o){for(var a,s=e.children,l=-1,u=s.length,c=e.value&&(o-i)/e.value;++l<u;)(a=s[l]).x0=t,a.x1=r,a.y0=i,a.y1=i+=a.value*c}lS.prototype=Object.create(J3.prototype);var h0e=(1+Math.sqrt(5))/2;function p0e(e,t,i,r,o,s){for(var u,c,p,m,_,y,w,S,M,A,F,a=[],l=t.children,f=0,d=0,h=l.length,v=t.value;f<h;){p=o-i,m=s-r;do{_=l[d++].value}while(!_&&d<h);for(y=w=_,F=_*_*(A=Math.max(m/p,p/m)/(v*e)),M=Math.max(w/F,F/y);d<h;++d){if(_+=c=l[d].value,c<y&&(y=c),c>w&&(w=c),F=_*_*A,(S=Math.max(w/F,F/y))>M){_-=c;break}M=S}a.push(u={value:_,dice:p<m,children:l.slice(f,d)}),u.dice?Iv(u,i,r,o,v?r+=m*_/v:s):uS(u,i,r,v?i+=p*_/v:o,s),v-=_,f=d}return a}const g0e=function e(t){function i(r,o,s,a,l){p0e(t,r,o,s,a,l)}return i.ratio=function(r){return e((r=+r)>1?r:1)},i}(h0e),Hit=function e(t){function i(r,o,s,a,l){if((u=r._squarify)&&u.ratio===t)for(var u,c,f,d,p,h=-1,m=u.length,v=r.value;++h<m;){for(f=(c=u[h]).children,d=c.value=0,p=f.length;d<p;++d)c.value+=f[d].value;c.dice?Iv(c,o,s,a,v?s+=(l-s)*c.value/v:l):uS(c,o,s,v?o+=(a-o)*c.value/v:a,l),v-=c.value}else r._squarify=u=p0e(t,r,o,s,a,l),u.ratio=t}return i.ratio=function(r){return e((r=+r)>1?r:1)},i}(h0e);function bL(e,t,i){const r={};return e.each(o=>{const s=o.data;i(s)&&(r[t(s)]=o)}),e.lookup=r,e}function wL(e){Et.call(this,null,e)}wL.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const qit=e=>e.values;function jit(){const e=[],t={entries:o=>r(i(o,0),0),key:o=>(e.push(o),t)};function i(o,s){if(s>=e.length)return o;const a=o.length,l=e[s++],u={},c={};let d,h,p,f=-1;for(;++f<a;)d=l(h=o[f])+"",(p=u[d])?p.push(h):u[d]=[h];for(d in u)c[d]=i(u[d],s);return c}function r(o,s){if(++s>e.length)return o;const a=[];for(const l in o)a.push({key:l,values:r(o[l],s)});return a}return t}function sh(e){Et.call(this,null,e)}Dn(wL,Et,{transform(e,t){t.source||Rt("Nest transform requires an upstream data source.");var i=e.generate,r=e.modified(),o=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(a=>{a.children&&Ub(a.data)&&o.rem.push(a.data)}),this.value=s=hL({values:Un(e.keys).reduce((a,l)=>(a.key(l),a),jit()).entries(o.source)},qit),i&&s.each(a=>{a.children&&(a=oo(a.data),o.add.push(a),o.source.push(a))}),bL(s,yi,yi)),o.source.root=s,o}});const Git=(e,t)=>e.parent===t.parent?1:2;Dn(sh,Et,{transform(e,t){(!t.source||!t.source.root)&&Rt(this.constructor.name+" transform requires a backing tree data source.");const i=this.layout(e.method),r=this.fields,o=t.source.root,s=e.as||r;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(dg(e.sort,a=>a.data)),function Wit(e,t,i){for(let r,o=0,s=t.length;o<s;++o)r=t[o],r in i&&e[r](i[r])}(i,this.params,e),i.separation&&i.separation(!1!==e.separation?Git:a3);try{this.value=i(o)}catch(a){Rt(a)}return o.each(a=>function Yit(e,t,i){const r=e.data,o=t.length-1;for(let s=0;s<o;++s)r[i[s]]=e[t[s]];r[i[o]]=e.children?e.children.length:0}(a,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});const EL=["x","y","r","depth","children"];function SL(e){sh.call(this,e)}SL.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:EL.length,default:EL}]},Dn(SL,sh,{layout:function bit(){var e=null,t=1,i=1,r=Ng;function o(s){const a=function hit(){let e=1;return()=>(e=(fit*e+dit)%Jde)/Jde}();return s.x=t/2,s.y=i/2,e?s.eachBefore(a0e(e)).eachAfter(gL(r,.5,a)).eachBefore(l0e(1)):s.eachBefore(a0e(yit)).eachAfter(gL(Ng,1,a)).eachAfter(gL(r,s.r/Math.min(t,i),a)).eachBefore(l0e(Math.min(t,i)/(2*s.r))),s}return o.radius=function(s){return arguments.length?(e=oS(s),o):e},o.size=function(s){return arguments.length?(t=+s[0],i=+s[1],o):[t,i]},o.padding=function(s){return arguments.length?(r="function"==typeof s?s:e5(+s),o):r},o},params:["radius","size","padding"],fields:EL});const CL=["x0","y0","x1","y1","depth","children"];function DL(e){sh.call(this,e)}function xL(e){Et.call(this,null,e)}DL.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:CL.length,default:CL}]},Dn(DL,sh,{layout:function wit(){var e=1,t=1,i=0,r=!1;function o(a){var l=a.height+1;return a.x0=a.y0=i,a.x1=e,a.y1=t/l,a.eachBefore(function s(a,l){return function(u){u.children&&Iv(u,u.x0,a*(u.depth+1)/l,u.x1,a*(u.depth+2)/l);var c=u.x0,f=u.y0,d=u.x1-i,h=u.y1-i;d<c&&(c=d=(c+d)/2),h<f&&(f=h=(f+h)/2),u.x0=c,u.y0=f,u.x1=d,u.y1=h}}(t,l)),r&&a.eachBefore(u0e),a}return o.round=function(a){return arguments.length?(r=!!a,o):r},o.size=function(a){return arguments.length?(e=+a[0],t=+a[1],o):[e,t]},o.padding=function(a){return arguments.length?(i=+a,o):i},o},params:["size","round","padding"],fields:CL}),xL.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Dn(xL,Et,{transform(e,t){t.source||Rt("Stratify transform requires an upstream data source.");let i=this.value;const r=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),s=!i||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),s&&(i=o.source.length?bL(f0e().id(e.key).parentId(e.parentKey)(o.source),e.key,kc):bL(f0e()([{}]),e.key,e.key)),o.source.root=this.value=i,o}});const m0e={tidy:function Iit(){var e=xit,t=1,i=1,r=null;function o(c){var f=function Nit(e){for(var i,o,s,a,l,t=new lS(e,0),r=[t];i=r.pop();)if(s=i._.children)for(i.children=new Array(l=s.length),a=l-1;a>=0;--a)r.push(o=i.children[a]=new lS(s[a],a)),o.parent=i;return(t.parent=new lS(null,0)).children=[t],t}(c);if(f.eachAfter(s),f.parent.m=-f.z,f.eachBefore(a),r)c.eachBefore(u);else{var d=c,h=c,p=c;c.eachBefore(function(w){w.x<d.x&&(d=w),w.x>h.x&&(h=w),w.depth>p.depth&&(p=w)});var m=d===h?1:e(d,h)/2,v=m-d.x,_=t/(h.x+m+v),y=i/(p.depth||1);c.eachBefore(function(w){w.x=(w.x+v)*_,w.y=w.depth*y})}return c}function s(c){var f=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(f){!function Ait(e){for(var s,t=0,i=0,r=e.children,o=r.length;--o>=0;)(s=r[o]).z+=t,s.m+=t,t+=s.s+(i+=s.c)}(c);var p=(f[0].z+f[f.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-p):c.z=p}else h&&(c.z=h.z+e(c._,h._));c.parent.A=function l(c,f,d){if(f){for(var M,h=c,p=c,m=f,v=h.parent.children[0],_=h.m,y=p.m,w=m.m,S=v.m;m=yL(m),h=_L(h),m&&h;)v=_L(v),(p=yL(p)).a=c,(M=m.z+w-h.z-_+e(m._,h._))>0&&(Mit(Tit(m,c,d),c,M),_+=M,y+=M),w+=m.m,_+=h.m,S+=v.m,y+=p.m;m&&!yL(p)&&(p.t=m,p.m+=w-y),h&&!_L(v)&&(v.t=h,v.m+=_-S,d=c)}return d}(c,h,c.parent.A||d[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c){c.x*=t,c.y=c.depth*i}return o.separation=function(c){return arguments.length?(e=c,o):e},o.size=function(c){return arguments.length?(r=!1,t=+c[0],i=+c[1],o):r?null:[t,i]},o.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],i=+c[1],o):r?[t,i]:null},o},cluster:function $it(){var e=Oit,t=1,i=1,r=!1;function o(s){var a,l=0;s.eachAfter(function(h){var p=h.children;p?(h.x=function Rit(e){return e.reduce(kit,0)/e.length}(p),h.y=function Fit(e){return 1+e.reduce(Pit,0)}(p)):(h.x=a?l+=e(h,a):0,h.y=0,a=h)});var u=function Lit(e){for(var t;t=e.children;)e=t[0];return e}(s),c=function Bit(e){for(var t;t=e.children;)e=t[t.length-1];return e}(s),f=u.x-e(u,c)/2,d=c.x+e(c,u)/2;return s.eachAfter(r?function(h){h.x=(h.x-s.x)*t,h.y=(s.y-h.y)*i}:function(h){h.x=(h.x-f)/(d-f)*t,h.y=(1-(s.y?h.y/s.y:1))*i})}return o.separation=function(s){return arguments.length?(e=s,o):e},o.size=function(s){return arguments.length?(r=!1,t=+s[0],i=+s[1],o):r?null:[t,i]},o.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],i=+s[1],o):r?[t,i]:null},o}},ML=["x","y","depth","children"];function AL(e){sh.call(this,e)}function TL(e){Et.call(this,[],e)}AL.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:ML.length,default:ML}]},Dn(AL,sh,{layout(e){const t=e||"tidy";if(Gn(m0e,t))return m0e[t]();Rt("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:ML}),TL.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Dn(TL,Et,{transform(e,t){const i=this.value,r=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),s={};return r||Rt("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=i,t.visit(t.SOURCE,a=>s[yi(a)]=1),r.each(a=>{const l=a.data,u=a.parent&&a.parent.data;u&&s[yi(l)]&&s[yi(u)]&&o.add.push(oo({source:u,target:l}))}),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>s[yi(a)]=1),i.forEach(a=>{(s[yi(a.source)]||s[yi(a.target)])&&o.mod.push(a)})),o}});const v0e={binary:function Uit(e,t,i,r,o){var a,u,s=e.children,l=s.length,c=new Array(l+1);for(c[0]=u=a=0;a<l;++a)c[a+1]=u+=s[a].value;!function f(d,h,p,m,v,_,y){if(d>=h-1){var w=s[d];return w.x0=m,w.y0=v,w.x1=_,void(w.y1=y)}for(var S=c[d],M=p/2+S,A=d+1,F=h-1;A<F;){var N=A+F>>>1;c[N]<M?A=N+1:F=N}M-c[A-1]<c[A]-M&&d+1<A&&--A;var H=c[A]-S,K=p-H;if(_-m>y-v){var oe=p?(m*K+_*H)/p:_;f(d,A,H,m,v,oe,y),f(A,h,K,oe,v,_,y)}else{var ee=p?(v*K+y*H)/p:y;f(d,A,H,m,v,_,ee),f(A,h,K,m,ee,_,y)}}(0,l,e.value,t,i,r,o)},dice:Iv,slice:uS,slicedice:function Vit(e,t,i,r,o){(1&e.depth?uS:Iv)(e,t,i,r,o)},squarify:g0e,resquarify:Hit},NL=["x0","y0","x1","y1","depth","children"];function IL(e){sh.call(this,e)}IL.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:NL.length,default:NL}]},Dn(IL,sh,{layout(){const e=function zit(){var e=g0e,t=!1,i=1,r=1,o=[0],s=Ng,a=Ng,l=Ng,u=Ng,c=Ng;function f(h){return h.x0=h.y0=0,h.x1=i,h.y1=r,h.eachBefore(d),o=[0],t&&h.eachBefore(u0e),h}function d(h){var p=o[h.depth],m=h.x0+p,v=h.y0+p,_=h.x1-p,y=h.y1-p;_<m&&(m=_=(m+_)/2),y<v&&(v=y=(v+y)/2),h.x0=m,h.y0=v,h.x1=_,h.y1=y,h.children&&(p=o[h.depth+1]=s(h)/2,m+=c(h)-p,v+=a(h)-p,(_-=l(h)-p)<m&&(m=_=(m+_)/2),(y-=u(h)-p)<v&&(v=y=(v+y)/2),e(h,m,v,_,y))}return f.round=function(h){return arguments.length?(t=!!h,f):t},f.size=function(h){return arguments.length?(i=+h[0],r=+h[1],f):[i,r]},f.tile=function(h){return arguments.length?(e=Qde(h),f):e},f.padding=function(h){return arguments.length?f.paddingInner(h).paddingOuter(h):f.paddingInner()},f.paddingInner=function(h){return arguments.length?(s="function"==typeof h?h:e5(+h),f):s},f.paddingOuter=function(h){return arguments.length?f.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):f.paddingTop()},f.paddingTop=function(h){return arguments.length?(a="function"==typeof h?h:e5(+h),f):a},f.paddingRight=function(h){return arguments.length?(l="function"==typeof h?h:e5(+h),f):l},f.paddingBottom=function(h){return arguments.length?(u="function"==typeof h?h:e5(+h),f):u},f.paddingLeft=function(h){return arguments.length?(c="function"==typeof h?h:e5(+h),f):c},f}();return e.ratio=t=>{const i=e.tile();i.ratio&&e.tile(i.ratio(t))},e.method=t=>{Gn(v0e,t)?e.tile(v0e[t]):Rt("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:NL});const OL=4278190080;function RL(e,t,i){return new Uint32Array(e.getImageData(0,0,t,i).data.buffer)}function cS(e,t,i){if(!t.length)return;const r=t[0].mark.marktype;"group"===r?t.forEach(o=>{o.items.forEach(s=>cS(e,s.items,i))}):Qu[r].draw(e,{items:i?t.map(Zit):t})}function Zit(e){const t=Vb(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const ah=5,zl=31,Ov=32,Lp=new Uint32Array(Ov+1),Lf=new Uint32Array(Ov+1);Lf[0]=0,Lp[0]=~Lf[0];for(let e=1;e<=Ov;++e)Lf[e]=Lf[e-1]<<1|1,Lp[e]=~Lf[e];function fS(e,t,i,r,o,s){let a=i/2;return e-a<0||e+a>o||t-(a=r/2)<0||t+a>s}function Bp(e,t,i,r,o,s,a,l){const u=o*s/(2*r),c=e(t-u),f=e(t+u),d=e(i-(s/=2)),h=e(i+s);return a.outOfBounds(c,d,f,h)||a.getRange(c,d,f,h)||l&&l.getRange(c,d,f,h)}const nrt=[-1,-1,1,1],irt=[-1,1,-1,1],ort=["right","center","left"],srt=["bottom","middle","top"];function _0e(e,t,i,r,o,s,a,l,u,c,f,d){return!(o.outOfBounds(e,i,t,r)||(d&&s||o).getRange(e,i,t,r))}const lrt={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},urt={naive:function ert(e,t,i,r){const o=e.width,s=e.height;return function(a){const l=a.datum.datum.items[r].items,u=l.length,c=a.datum.fontSize,f=Zu.width(a.datum,a.datum.text);let h,p,m,v,_,y,w,d=0;for(let S=0;S<u;++S)h=l[S].x,m=l[S].y,p=void 0===l[S].x2?h:l[S].x2,v=void 0===l[S].y2?m:l[S].y2,_=(h+p)/2,y=(m+v)/2,w=Math.abs(p-h+v-m),w>=d&&(d=w,a.x=_,a.y=y);return _=f/2,y=c/2,h=a.x-_,p=a.x+_,m=a.y-y,v=a.y+y,a.align="center",h<0&&p<=o?a.align="left":0<=h&&o<p&&(a.align="right"),a.baseline="middle",m<0&&v<=s?a.baseline="top":0<=m&&s<v&&(a.baseline="bottom"),!0}},"reduced-search":function trt(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1];function u(c,f,d,h,p){const m=e.invert(c),v=e.invert(f);let w,_=d,y=s;if(!fS(m,v,h,p,o,s)&&!Bp(e,m,v,p,h,_,a,l)&&!Bp(e,m,v,p,h,p,a,null)){for(;y-_>=1;)w=(_+y)/2,Bp(e,m,v,p,h,w,a,l)?y=w:_=w;if(_>d)return[m,v,_,!0]}}return function(c){const f=c.datum.datum.items[r].items,d=f.length,h=c.datum.fontSize,p=Zu.width(c.datum,c.datum.text);let w,S,M,A,F,N,H,K,oe,ee,ve,pe,R,P,$,Q,j,m=i?h:0,v=!1,_=!1,y=0;for(let J=0;J<d;++J){for(w=f[J].x,M=f[J].y,S=void 0===f[J].x2?w:f[J].x2,A=void 0===f[J].y2?M:f[J].y2,w>S&&(j=w,w=S,S=j),M>A&&(j=M,M=A,A=j),oe=e(w),ve=e(S),ee=~~((oe+ve)/2),pe=e(M),P=e(A),R=~~((pe+P)/2),H=ee;H>=oe;--H)for(K=R;K>=pe;--K)Q=u(H,K,m,p,h),Q&&([c.x,c.y,m,v]=Q);for(H=ee;H<=ve;++H)for(K=R;K<=P;++K)Q=u(H,K,m,p,h),Q&&([c.x,c.y,m,v]=Q);!v&&!i&&($=Math.abs(S-w+A-M),F=(w+S)/2,N=(M+A)/2,$>=y&&!fS(F,N,p,h,o,s)&&!Bp(e,F,N,h,p,h,a,null)&&(y=$,c.x=F,c.y=N,_=!0))}return!(!v&&!_||(F=p/2,N=h/2,a.setRange(e(c.x-F),e(c.y-N),e(c.x+F),e(c.y+N)),c.align="center",c.baseline="middle",0))}},floodfill:function rrt(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1],u=e.bitmap();return function(c){const f=c.datum.datum.items[r].items,d=f.length,h=c.datum.fontSize,p=Zu.width(c.datum,c.datum.text),m=[];let S,M,A,F,N,H,K,oe,ee,ve,pe,R,v=i?h:0,_=!1,y=!1,w=0;for(let P=0;P<d;++P){for(S=f[P].x,A=f[P].y,M=void 0===f[P].x2?S:f[P].x2,F=void 0===f[P].y2?A:f[P].y2,m.push([e((S+M)/2),e((A+F)/2)]);m.length;)if([K,oe]=m.pop(),!(a.get(K,oe)||l.get(K,oe)||u.get(K,oe))){u.set(K,oe);for(let $=0;$<4;++$)N=K+nrt[$],H=oe+irt[$],u.outOfBounds(N,H,N,H)||m.push([N,H]);if(N=e.invert(K),H=e.invert(oe),ee=v,ve=s,!fS(N,H,p,h,o,s)&&!Bp(e,N,H,h,p,ee,a,l)&&!Bp(e,N,H,h,p,h,a,null)){for(;ve-ee>=1;)pe=(ee+ve)/2,Bp(e,N,H,h,p,pe,a,l)?ve=pe:ee=pe;ee>v&&(c.x=N,c.y=H,v=ee,_=!0)}}!_&&!i&&(R=Math.abs(M-S+F-A),N=(S+M)/2,H=(A+F)/2,R>=w&&!fS(N,H,p,h,o,s)&&!Bp(e,N,H,h,p,h,a,null)&&(w=R,c.x=N,c.y=H,y=!0))}return!(!_&&!y||(N=p/2,H=h/2,a.setRange(e(c.x-N),e(c.y-H),e(c.x+N),e(c.y+H)),c.align="center",c.baseline="middle",0))}}};function crt(e,t,i,r,o,s,a,l,u,c,f){if(!e.length)return e;const d=Math.max(r.length,o.length),h=function frt(e,t){const i=new Float64Array(t),r=e.length;for(let o=0;o<r;++o)i[o]=e[o]||0;for(let o=r;o<t;++o)i[o]=i[r-1];return i}(r,d),p=function drt(e,t){const i=new Int8Array(t),r=e.length;for(let o=0;o<r;++o)i[o]|=lrt[e[o]];for(let o=r;o<t;++o)i[o]=i[r-1];return i}(o,d),m=function hrt(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),v="group"===m&&e[0].datum.items[u].marktype,_="area"===v,y=function prt(e,t,i,r){const o=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?"line"===e||"area"===e?s=>o(s.datum):"line"===t?s=>{const a=s.datum.items[r].items;return o(a.length?a["start"===i?0:a.length-1]:{x:NaN,y:NaN})}:s=>{const a=s.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:o}(m,v,l,u),w=null===c||c===1/0,S=_&&"naive"===f;let M=-1,A=-1;const F=e.map(oe=>{const ee=w?Zu.width(oe,oe.text):void 0;return M=Math.max(M,ee),A=Math.max(A,oe.fontSize),{datum:oe,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(oe),textWidth:ee}});c=null===c||c===1/0?Math.max(M,A)+Math.max(...r):c;const N=function Jit(e,t,i){const r=Math.max(1,Math.sqrt(e*t/1e6)),o=~~((e+2*i+r)/r),s=~~((t+2*i+r)/r),a=l=>~~((l+i)/r);return a.invert=l=>l*r-i,a.bitmap=()=>function Qit(e,t){const i=new Uint32Array(~~((e*t+Ov)/Ov));function r(s,a){i[s]|=a}function o(s,a){i[s]&=a}return{array:i,get:(s,a)=>{const l=a*e+s;return i[l>>>ah]&1<<(l&zl)},set:(s,a)=>{const l=a*e+s;r(l>>>ah,1<<(l&zl))},clear:(s,a)=>{const l=a*e+s;o(l>>>ah,~(1<<(l&zl)))},getRange:(s,a,l,u)=>{let f,d,h,p,c=u;for(;c>=a;--c)if(f=c*e+s,d=c*e+l,h=f>>>ah,p=d>>>ah,h===p){if(i[h]&Lp[f&zl]&Lf[1+(d&zl)])return!0}else{if(i[h]&Lp[f&zl]||i[p]&Lf[1+(d&zl)])return!0;for(let m=h+1;m<p;++m)if(i[m])return!0}return!1},setRange:(s,a,l,u)=>{let c,f,d,h,p;for(;a<=u;++a)if(c=a*e+s,f=a*e+l,d=c>>>ah,h=f>>>ah,d===h)r(d,Lp[c&zl]&Lf[1+(f&zl)]);else for(r(d,Lp[c&zl]),r(h,Lf[1+(f&zl)]),p=d+1;p<h;++p)r(p,4294967295)},clearRange:(s,a,l,u)=>{let c,f,d,h,p;for(;a<=u;++a)if(c=a*e+s,f=a*e+l,d=c>>>ah,h=f>>>ah,d===h)o(d,Lf[c&zl]|Lp[1+(f&zl)]);else for(o(d,Lf[c&zl]),o(h,Lp[1+(f&zl)]),p=d+1;p<h;++p)o(p,0)},outOfBounds:(s,a,l,u)=>s<0||a<0||u>=t||l>=e}}(o,s),a.ratio=r,a.padding=i,a.width=e,a.height=t,a}(t[0],t[1],c);let H;if(!S){i&&F.sort((ve,pe)=>i(ve.datum,pe.datum));let oe=!1;for(let ve=0;ve<p.length&&!oe;++ve)oe=5===p[ve]||h[ve]<0;const ee=(m&&a||_)&&e.map(ve=>ve.datum);H=s.length||ee?function Xit(e,t,i,r,o){const s=e.width,a=e.height,l=r||o,u=_p(s,a).getContext("2d"),c=_p(s,a).getContext("2d"),f=l&&_p(s,a).getContext("2d");i.forEach(H=>cS(u,H,!1)),cS(c,t,!1),l&&cS(f,t,!0);const d=RL(u,s,a),h=RL(c,s,a),p=l&&RL(f,s,a),m=e.bitmap(),v=l&&e.bitmap();let _,y,w,S,M,A,F,N;for(y=0;y<a;++y)for(_=0;_<s;++_)M=y*s+_,A=d[M]&OL,N=h[M]&OL,F=l&&p[M]&OL,(A||F||N)&&(w=e(_),S=e(y),!o&&(A||N)&&m.set(w,S),l&&(A||F)&&v.set(w,S));return[m,v]}(N,ee||[],s,oe,_):function Kit(e,t){const i=e.bitmap();return(t||[]).forEach(r=>i.set(e(r.boundary[0]),e(r.boundary[3]))),[i,void 0]}(N,a&&F)}const K=_?urt[f](N,H,a,u):function art(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1],u=r.length;return function(c){const f=c.boundary,d=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>o||f[3]>s)return!1;let p,m,v,_,y,w,S,M,A,F,N,H,K,oe,ee,h=c.textWidth??0;for(let ve=0;ve<u;++ve){if(p=(3&i[ve])-1,m=(i[ve]>>>2&3)-1,v=0===p&&0===m||r[ve]<0,_=p&&m?Math.SQRT1_2:1,y=r[ve]<0?-1:1,w=f[1+p]+r[ve]*p*_,N=f[4+m]+y*d*m/2+r[ve]*m*_,M=N-d/2,A=N+d/2,H=e(w),oe=e(M),ee=e(A),!h){if(!_0e(H,H,oe,ee,a,l,0,0,0,0,0,v))continue;h=Zu.width(c.datum,c.datum.text)}if(F=w+y*h*p/2,w=F-h/2,S=F+h/2,H=e(w),K=e(S),_0e(H,K,oe,ee,a,l,0,0,0,0,0,v))return c.x=p?p*y<0?S:w:F,c.y=m?m*y<0?A:M:N,c.align=ort[p*y+1],c.baseline=srt[m*y+1],a.setRange(H,oe,K,ee),!0}return!1}}(N,H,p,h);return F.forEach(oe=>oe.opacity=+K(oe)),F}const UL=["x","y","opacity","align","baseline"],y0e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function VL(e){Et.call(this,null,e)}function b0e(e,t){var o,s,a,l,u,c,i=[],r=function(f){return f(l)};if(null==t)i.push(e);else for(o={},s=0,a=e.length;s<a;++s)l=e[s],(c=o[u=t.map(r)])||(o[u]=c=[],c.dims=u,i.push(c)),c.push(l);return i}function HL(e){Et.call(this,null,e)}VL.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:y0e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:UL.length,default:UL}]},Dn(VL,Et,{transform(e,t){const r=e.modified();if(!(r||t.changed(t.ADD_REM)||function i(s){const a=e[s];return ur(a)&&t.modified(a.fields)}("sort")))return;(!e.size||2!==e.size.length)&&Rt("Size parameter should be specified as a [width, height] array.");const o=e.as||UL;return crt(t.materialize(t.SOURCE).source||[],e.size,e.sort,Un(null==e.offset?1:e.offset),Un(e.anchor||y0e),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(s=>{const a=s.datum;a[o[0]]=s.x,a[o[1]]=s.y,a[o[2]]=s.opacity,a[o[3]]=s.align,a[o[4]]=s.baseline}),t.reflow(r).modifies(o)}}),HL.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Dn(HL,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=b0e(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(ys),a=s.length,l=e.as||[ys(e.x),ys(e.y)],u=[];o.forEach(c=>{foe(c,e.x,e.y,e.bandwidth||.3).forEach(f=>{const d={};for(let h=0;h<a;++h)d[s[h]]=c.dims[h];d[l[0]]=f[0],d[l[1]]=f[1],u.push(oo(d))})}),this.value&&(i.rem=this.value),this.value=i.add=i.source=u}return i}});const zL={constant:yR,linear:bR,log:ooe,exp:soe,pow:aoe,quad:wR,poly:loe};function qL(e){Et.call(this,null,e)}qL.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(zL)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Dn(qL,Et,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=b0e(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(ys),a=e.method||"linear",l=null==e.order?3:e.order,u=((e,t)=>"poly"===e?t:"quad"===e?2:1)(a,l),c=e.as||[ys(e.x),ys(e.y)],f=zL[a],d=[];let h=e.extent;Gn(zL,a)||Rt("Invalid regression method: "+a),null!=h&&"log"===a&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),o.forEach(p=>{if(p.length<=u)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const v=f(p,e.x,e.y,l);if(e.params)return void d.push(oo({keys:p.dims,coef:v.coef,rSquared:v.rSquared}));const _=h||Id(p,e.x),y=w=>{const S={};for(let M=0;M<s.length;++M)S[s[M]]=p.dims[M];S[c[0]]=w[0],S[c[1]]=w[1],d.push(oo(S))};"linear"===a||"constant"===a?_.forEach(w=>y([w,v.predict(w)])):Jb(v.predict,_,25,200).forEach(y)}),this.value&&(i.rem=this.value),this.value=i.add=i.source=d}return i}});const co=11102230246251565e-32,ta=134217729,mrt=(3+8*co)*co;function Rv(e,t,i,r,o){let s,a,l,u,c=t[0],f=r[0],d=0,h=0;f>c==f>-c?(s=c,c=t[++d]):(s=f,f=r[++h]);let p=0;if(d<e&&h<i)for(f>c==f>-c?(a=c+s,l=s-(a-c),c=t[++d]):(a=f+s,l=s-(a-f),f=r[++h]),s=a,0!==l&&(o[p++]=l);d<e&&h<i;)f>c==f>-c?(a=s+c,u=a-s,l=s-(a-u)+(c-u),c=t[++d]):(a=s+f,u=a-s,l=s-(a-u)+(f-u),f=r[++h]),s=a,0!==l&&(o[p++]=l);for(;d<e;)a=s+c,u=a-s,l=s-(a-u)+(c-u),c=t[++d],s=a,0!==l&&(o[p++]=l);for(;h<i;)a=s+f,u=a-s,l=s-(a-u)+(f-u),f=r[++h],s=a,0!==l&&(o[p++]=l);return(0!==s||0===p)&&(o[p++]=s),p}function nn(e){return new Float64Array(e)}const _rt=(3+16*co)*co,yrt=(2+12*co)*co,brt=(9+64*co)*co*co,t5=nn(4),w0e=nn(8),E0e=nn(12),S0e=nn(16),ql=nn(4);function dS(e,t,i,r,o,s){const a=(t-s)*(i-o),l=(e-o)*(r-s),u=a-l,c=Math.abs(a+l);return Math.abs(u)>=_rt*c?u:-function wrt(e,t,i,r,o,s,a){let l,u,c,f,d,h,p,m,v,_,y,w,S,M,A,F,N,H;const K=e-o,oe=i-o,ee=t-s,ve=r-s;M=K*ve,h=ta*K,p=h-(h-K),m=K-p,h=ta*ve,v=h-(h-ve),_=ve-v,A=m*_-(M-p*v-m*v-p*_),F=ee*oe,h=ta*ee,p=h-(h-ee),m=ee-p,h=ta*oe,v=h-(h-oe),_=oe-v,N=m*_-(F-p*v-m*v-p*_),y=A-N,d=A-y,t5[0]=A-(y+d)+(d-N),w=M+y,d=w-M,S=M-(w-d)+(y-d),y=S-F,d=S-y,t5[1]=S-(y+d)+(d-F),H=w+y,d=H-w,t5[2]=w-(H-d)+(y-d),t5[3]=H;let pe=function vrt(e,t){let i=t[0];for(let r=1;r<e;r++)i+=t[r];return i}(4,t5),R=yrt*a;if(pe>=R||-pe>=R||(d=e-K,l=e-(K+d)+(d-o),d=i-oe,c=i-(oe+d)+(d-o),d=t-ee,u=t-(ee+d)+(d-s),d=r-ve,f=r-(ve+d)+(d-s),0===l&&0===u&&0===c&&0===f)||(R=brt*a+mrt*Math.abs(pe),pe+=K*f+ve*l-(ee*c+oe*u),pe>=R||-pe>=R))return pe;M=l*ve,h=ta*l,p=h-(h-l),m=l-p,h=ta*ve,v=h-(h-ve),_=ve-v,A=m*_-(M-p*v-m*v-p*_),F=u*oe,h=ta*u,p=h-(h-u),m=u-p,h=ta*oe,v=h-(h-oe),_=oe-v,N=m*_-(F-p*v-m*v-p*_),y=A-N,d=A-y,ql[0]=A-(y+d)+(d-N),w=M+y,d=w-M,S=M-(w-d)+(y-d),y=S-F,d=S-y,ql[1]=S-(y+d)+(d-F),H=w+y,d=H-w,ql[2]=w-(H-d)+(y-d),ql[3]=H;const P=Rv(4,t5,4,ql,w0e);M=K*f,h=ta*K,p=h-(h-K),m=K-p,h=ta*f,v=h-(h-f),_=f-v,A=m*_-(M-p*v-m*v-p*_),F=ee*c,h=ta*ee,p=h-(h-ee),m=ee-p,h=ta*c,v=h-(h-c),_=c-v,N=m*_-(F-p*v-m*v-p*_),y=A-N,d=A-y,ql[0]=A-(y+d)+(d-N),w=M+y,d=w-M,S=M-(w-d)+(y-d),y=S-F,d=S-y,ql[1]=S-(y+d)+(d-F),H=w+y,d=H-w,ql[2]=w-(H-d)+(y-d),ql[3]=H;const $=Rv(P,w0e,4,ql,E0e);M=l*f,h=ta*l,p=h-(h-l),m=l-p,h=ta*f,v=h-(h-f),_=f-v,A=m*_-(M-p*v-m*v-p*_),F=u*c,h=ta*u,p=h-(h-u),m=u-p,h=ta*c,v=h-(h-c),_=c-v,N=m*_-(F-p*v-m*v-p*_),y=A-N,d=A-y,ql[0]=A-(y+d)+(d-N),w=M+y,d=w-M,S=M-(w-d)+(y-d),y=S-F,d=S-y,ql[1]=S-(y+d)+(d-F),H=w+y,d=H-w,ql[2]=w-(H-d)+(y-d),ql[3]=H;const Q=Rv($,E0e,4,ql,S0e);return S0e[Q-1]}(e,t,i,r,o,s,c)}nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(8),nn(8),nn(8),nn(4),nn(8),nn(8),nn(8),nn(12),nn(192),nn(192),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(8),nn(8),nn(8),nn(8),nn(8),nn(8),nn(8),nn(8),nn(8),nn(4),nn(4),nn(4),nn(8),nn(16),nn(16),nn(16),nn(32),nn(32),nn(48),nn(64),nn(1152),nn(1152),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(4),nn(24),nn(24),nn(24),nn(24),nn(24),nn(24),nn(24),nn(24),nn(24),nn(24),nn(1152),nn(1152),nn(1152),nn(1152),nn(1152),nn(2304),nn(2304),nn(3456),nn(5760),nn(8),nn(8),nn(8),nn(16),nn(24),nn(48),nn(48),nn(96),nn(192),nn(384),nn(384),nn(384),nn(768),nn(96),nn(96),nn(96),nn(1152);const q0e=Math.pow(2,-52),ES=new Uint32Array(512);class SS{static from(t,i=Vrt,r=Hrt){const o=t.length,s=new Float64Array(2*o);for(let a=0;a<o;a++){const l=t[a];s[2*a]=i(l),s[2*a+1]=r(l)}return new SS(s)}constructor(t){const i=t.length>>1;if(i>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:r,_hullTri:o,_hullHash:s}=this,a=t.length>>1;let l=1/0,u=1/0,c=-1/0,f=-1/0;for(let K=0;K<a;K++){const oe=t[2*K],ee=t[2*K+1];oe<l&&(l=oe),ee<u&&(u=ee),oe>c&&(c=oe),ee>f&&(f=ee),this._ids[K]=K}const d=(l+c)/2,h=(u+f)/2;let p,m,v;for(let K=0,oe=1/0;K<a;K++){const ee=mB(d,h,t[2*K],t[2*K+1]);ee<oe&&(p=K,oe=ee)}const _=t[2*p],y=t[2*p+1];for(let K=0,oe=1/0;K<a;K++){if(K===p)continue;const ee=mB(_,y,t[2*K],t[2*K+1]);ee<oe&&ee>0&&(m=K,oe=ee)}let w=t[2*m],S=t[2*m+1],M=1/0;for(let K=0;K<a;K++){if(K===p||K===m)continue;const oe=$rt(_,y,w,S,t[2*K],t[2*K+1]);oe<M&&(v=K,M=oe)}let A=t[2*v],F=t[2*v+1];if(M===1/0){for(let ee=0;ee<a;ee++)this._dists[ee]=t[2*ee]-t[0]||t[2*ee+1]-t[1];u5(this._ids,this._dists,0,a-1);const K=new Uint32Array(a);let oe=0;for(let ee=0,ve=-1/0;ee<a;ee++){const pe=this._ids[ee],R=this._dists[pe];R>ve&&(K[oe++]=pe,ve=R)}return this.hull=K.subarray(0,oe),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(dS(_,y,w,S,A,F)<0){const K=m,oe=w,ee=S;m=v,w=A,S=F,v=K,A=oe,F=ee}const N=function Urt(e,t,i,r,o,s){const a=i-e,l=r-t,u=o-e,c=s-t,f=a*a+l*l,d=u*u+c*c,h=.5/(a*c-l*u);return{x:e+(c*f-l*d)*h,y:t+(a*d-u*f)*h}}(_,y,w,S,A,F);this._cx=N.x,this._cy=N.y;for(let K=0;K<a;K++)this._dists[K]=mB(t[2*K],t[2*K+1],N.x,N.y);u5(this._ids,this._dists,0,a-1),this._hullStart=p;let H=3;r[p]=i[v]=m,r[m]=i[p]=v,r[v]=i[m]=p,o[p]=0,o[m]=1,o[v]=2,s.fill(-1),s[this._hashKey(_,y)]=p,s[this._hashKey(w,S)]=m,s[this._hashKey(A,F)]=v,this.trianglesLen=0,this._addTriangle(p,m,v,-1,-1,-1);for(let oe,ee,K=0;K<this._ids.length;K++){const ve=this._ids[K],pe=t[2*ve],R=t[2*ve+1];if(K>0&&Math.abs(pe-oe)<=q0e&&Math.abs(R-ee)<=q0e||(oe=pe,ee=R,ve===p||ve===m||ve===v))continue;let P=0;for(let re=0,_e=this._hashKey(pe,R);re<this._hashSize&&(P=s[(_e+re)%this._hashSize],-1===P||P===r[P]);re++);P=i[P];let Q,$=P;for(;Q=r[$],dS(pe,R,t[2*$],t[2*$+1],t[2*Q],t[2*Q+1])>=0;)if($=Q,$===P){$=-1;break}if(-1===$)continue;let j=this._addTriangle($,ve,r[$],-1,-1,o[$]);o[ve]=this._legalize(j+2),o[$]=j,H++;let J=r[$];for(;Q=r[J],dS(pe,R,t[2*J],t[2*J+1],t[2*Q],t[2*Q+1])<0;)j=this._addTriangle(J,ve,Q,o[ve],-1,o[J]),o[ve]=this._legalize(j+2),r[J]=J,H--,J=Q;if($===P)for(;Q=i[$],dS(pe,R,t[2*Q],t[2*Q+1],t[2*$],t[2*$+1])<0;)j=this._addTriangle(Q,ve,$,-1,o[$],o[Q]),this._legalize(j+2),o[Q]=j,r[$]=$,H--,$=Q;this._hullStart=i[ve]=$,r[$]=i[J]=ve,r[ve]=J,s[this._hashKey(pe,R)]=ve,s[this._hashKey(t[2*$],t[2*$+1])]=$}this.hull=new Uint32Array(H);for(let K=0,oe=this._hullStart;K<H;K++)this.hull[K]=oe,oe=r[oe];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function Lrt(e,t){const i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:r,coords:o}=this;let s=0,a=0;for(;;){const l=r[t],u=t-t%3;if(a=u+(t+2)%3,-1===l){if(0===s)break;t=ES[--s];continue}const c=l-l%3,d=c+(l+2)%3,h=i[a],p=i[t],m=i[u+(t+1)%3],v=i[d];if(Brt(o[2*h],o[2*h+1],o[2*p],o[2*p+1],o[2*m],o[2*m+1],o[2*v],o[2*v+1])){i[t]=v,i[l]=h;const y=r[d];if(-1===y){let S=this._hullStart;do{if(this._hullTri[S]===d){this._hullTri[S]=t;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(t,y),this._link(l,r[a]),this._link(a,d),s<ES.length&&(ES[s++]=c+(l+1)%3)}else{if(0===s)break;t=ES[--s]}}return a}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,r,o,s,a){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=i,this._triangles[l+2]=r,this._link(l,o),this._link(l+1,s),this._link(l+2,a),this.trianglesLen+=3,l}}function mB(e,t,i,r){const o=e-i,s=t-r;return o*o+s*s}function Brt(e,t,i,r,o,s,a,l){const u=e-a,c=t-l,f=i-a,d=r-l,h=o-a,p=s-l,v=f*f+d*d,_=h*h+p*p;return u*(d*_-v*p)-c*(f*_-v*h)+(u*u+c*c)*(f*p-d*h)<0}function $rt(e,t,i,r,o,s){const a=i-e,l=r-t,u=o-e,c=s-t,f=a*a+l*l,d=u*u+c*c,h=.5/(a*c-l*u),p=(c*f-l*d)*h,m=(a*d-u*f)*h;return p*p+m*m}function u5(e,t,i,r){if(r-i<=20)for(let o=i+1;o<=r;o++){const s=e[o],a=t[s];let l=o-1;for(;l>=i&&t[e[l]]>a;)e[l+1]=e[l--];e[l+1]=s}else{let s=i+1,a=r;Lv(e,i+r>>1,s),t[e[i]]>t[e[r]]&&Lv(e,i,r),t[e[s]]>t[e[r]]&&Lv(e,s,r),t[e[i]]>t[e[s]]&&Lv(e,i,s);const l=e[s],u=t[l];for(;;){do{s++}while(t[e[s]]<u);do{a--}while(t[e[a]]>u);if(a<s)break;Lv(e,s,a)}e[i+1]=e[a],e[a]=l,r-s+1>=a-i?(u5(e,t,s,r),u5(e,t,i,a-1)):(u5(e,t,i,a-1),u5(e,t,s,r))}}function Lv(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function Vrt(e){return e[0]}function Hrt(e){return e[1]}class $g{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,i){this._+=`L${this._x1=+t},${this._y1=+i}`}arc(t,i,r){const o=(t=+t)+(r=+r),s=i=+i;if(r<0)throw new Error("negative radius");null===this._x1?this._+=`M${o},${s}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+o+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${i}A${r},${r},0,1,1,${this._x1=o},${this._y1=s}`)}rect(t,i,r,o){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${+r}v${+o}h${-r}Z`}value(){return this._||null}}class vB{constructor(){this._=[]}moveTo(t,i){this._.push([t,i])}closePath(){this._.push(this._[0].slice())}lineTo(t,i){this._.push([t,i])}value(){return this._.length?this._:null}}class zrt{constructor(t,[i,r,o,s]=[0,0,960,500]){if(!((o=+o)>=(i=+i)&&(s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:i,triangles:r},vectors:o}=this;let s,a;const l=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let w,S,v=0,_=0,y=r.length;v<y;v+=3,_+=2){const M=2*r[v],A=2*r[v+1],F=2*r[v+2],N=t[M],H=t[M+1],ee=t[F],ve=t[F+1],pe=t[A]-N,R=t[A+1]-H,P=ee-N,$=ve-H,Q=2*(pe*$-R*P);if(Math.abs(Q)<1e-9){if(void 0===s){s=a=0;for(const J of i)s+=t[2*J],a+=t[2*J+1];s/=i.length,a/=i.length}const j=1e9*Math.sign((s-N)*$-(a-H)*P);w=(N+ee)/2-j*$,S=(H+ve)/2+j*P}else{const j=1/Q,J=pe*pe+R*R,re=P*P+$*$;w=N+($*J-R*re)*j,S=H+(pe*re-P*J)*j}l[_]=w,l[_+1]=S}let c,d,p,u=i[i.length-1],f=4*u,h=t[2*u],m=t[2*u+1];o.fill(0);for(let v=0;v<i.length;++v)u=i[v],c=f,d=h,p=m,f=4*u,h=t[2*u],m=t[2*u+1],o[c+2]=o[f]=p-m,o[c+3]=o[f+1]=h-d}render(t){const i=null==t?t=new $g:void 0,{delaunay:{halfedges:r,inedges:o,hull:s},circumcenters:a,vectors:l}=this;if(s.length<=1)return null;for(let f=0,d=r.length;f<d;++f){const h=r[f];if(h<f)continue;const p=2*Math.floor(f/3),m=2*Math.floor(h/3);this._renderSegment(a[p],a[p+1],a[m],a[m+1],t)}let u,c=s[s.length-1];for(let f=0;f<s.length;++f){u=c,c=s[f];const d=2*Math.floor(o[c]/3),h=a[d],p=a[d+1],m=4*u,v=this._project(h,p,l[m+2],l[m+3]);v&&this._renderSegment(h,p,v[0],v[1],t)}return i&&i.value()}renderBounds(t){const i=null==t?t=new $g:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(t,i){const r=null==i?i=new $g:void 0,o=this._clip(t);if(null===o||!o.length)return;i.moveTo(o[0],o[1]);let s=o.length;for(;o[0]===o[s-2]&&o[1]===o[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&i.lineTo(o[a],o[a+1]);return i.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let i=0,r=t.length/2;i<r;++i){const o=this.cellPolygon(i);o&&(o.index=i,yield o)}}cellPolygon(t){const i=new vB;return this.renderCell(t,i),i.value()}_renderSegment(t,i,r,o,s){let a;const l=this._regioncode(t,i),u=this._regioncode(r,o);0===l&&0===u?(s.moveTo(t,i),s.lineTo(r,o)):(a=this._clipSegment(t,i,r,o,l,u))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(t,i,r){return(i=+i)==i&&(r=+r)==r&&this.delaunay._step(t,i,r)===t}*neighbors(t){const i=this._clip(t);if(i)for(const r of this.delaunay.neighbors(t)){const o=this._clip(r);if(o)e:for(let s=0,a=i.length;s<a;s+=2)for(let l=0,u=o.length;l<u;l+=2)if(i[s]===o[l]&&i[s+1]===o[l+1]&&i[(s+2)%a]===o[(l+u-2)%u]&&i[(s+3)%a]===o[(l+u-1)%u]){yield r;break e}}}_cell(t){const{circumcenters:i,delaunay:{inedges:r,halfedges:o,triangles:s}}=this,a=r[t];if(-1===a)return null;const l=[];let u=a;do{const c=Math.floor(u/3);if(l.push(i[2*c],i[2*c+1]),u=u%3==2?u-2:u+1,s[u]!==t)break;u=o[u]}while(u!==a&&-1!==u);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(t);if(null===i)return null;const{vectors:r}=this,o=4*t;return this._simplify(r[o]||r[o+1]?this._clipInfinite(t,i,r[o],r[o+1],r[o+2],r[o+3]):this._clipFinite(t,i))}_clipFinite(t,i){const r=i.length;let s,a,c,d,o=null,l=i[r-2],u=i[r-1],f=this._regioncode(l,u),h=0;for(let p=0;p<r;p+=2)if(s=l,a=u,l=i[p],u=i[p+1],c=f,f=this._regioncode(l,u),0===c&&0===f)d=h,h=0,o?o.push(l,u):o=[l,u];else{let m,v,_,y,w;if(0===c){if(null===(m=this._clipSegment(s,a,l,u,c,f)))continue;[v,_,y,w]=m}else{if(null===(m=this._clipSegment(l,u,s,a,f,c)))continue;[y,w,v,_]=m,d=h,h=this._edgecode(v,_),d&&h&&this._edge(t,d,h,o,o.length),o?o.push(v,_):o=[v,_]}d=h,h=this._edgecode(y,w),d&&h&&this._edge(t,d,h,o,o.length),o?o.push(y,w):o=[y,w]}if(o)d=h,h=this._edgecode(o[0],o[1]),d&&h&&this._edge(t,d,h,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,i,r,o,s,a){const l=s<a;for(l&&([t,i,r,o,s,a]=[r,o,t,i,a,s]);;){if(0===s&&0===a)return l?[r,o,t,i]:[t,i,r,o];if(s&a)return null;let u,c,f=s||a;8&f?(u=t+(r-t)*(this.ymax-i)/(o-i),c=this.ymax):4&f?(u=t+(r-t)*(this.ymin-i)/(o-i),c=this.ymin):2&f?(c=i+(o-i)*(this.xmax-t)/(r-t),u=this.xmax):(c=i+(o-i)*(this.xmin-t)/(r-t),u=this.xmin),s?s=this._regioncode(t=u,i=c):a=this._regioncode(r=u,o=c)}}_clipInfinite(t,i,r,o,s,a){let u,l=Array.from(i);if((u=this._project(l[0],l[1],r,o))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],s,a))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let d,c=0,f=l.length,h=this._edgecode(l[f-2],l[f-1]);c<f;c+=2)d=h,h=this._edgecode(l[c],l[c+1]),d&&h&&(c=this._edge(t,d,h,l,c),f=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,i,r,o,s){for(;i!==r;){let a,l;switch(i){case 5:i=4;continue;case 4:i=6,a=this.xmax,l=this.ymin;break;case 6:i=2;continue;case 2:i=10,a=this.xmax,l=this.ymax;break;case 10:i=8;continue;case 8:i=9,a=this.xmin,l=this.ymax;break;case 9:i=1;continue;case 1:i=5,a=this.xmin,l=this.ymin}(o[s]!==a||o[s+1]!==l)&&this.contains(t,a,l)&&(o.splice(s,0,a,l),s+=2)}return s}_project(t,i,r,o){let a,l,u,s=1/0;if(o<0){if(i<=this.ymin)return null;(a=(this.ymin-i)/o)<s&&(u=this.ymin,l=t+(s=a)*r)}else if(o>0){if(i>=this.ymax)return null;(a=(this.ymax-i)/o)<s&&(u=this.ymax,l=t+(s=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<s&&(l=this.xmax,u=i+(s=a)*o)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<s&&(l=this.xmin,u=i+(s=a)*o)}return[l,u]}_edgecode(t,i){return(t===this.xmin?1:t===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(t,i){return(t<this.xmin?1:t>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let i=0;i<t.length;i+=2){const r=(i+2)%t.length,o=(i+4)%t.length;(t[i]===t[r]&&t[r]===t[o]||t[i+1]===t[r+1]&&t[r+1]===t[o+1])&&(t.splice(r,2),i-=2)}t.length||(t=null)}return t}}const qrt=2*Math.PI,c5=Math.pow;function jrt(e){return e[0]}function Grt(e){return e[1]}function Yrt(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}class _B{static from(t,i=jrt,r=Grt,o){return new _B("length"in t?function Krt(e,t,i,r){const o=e.length,s=new Float64Array(2*o);for(let a=0;a<o;++a){const l=e[a];s[2*a]=t.call(r,l,a,e),s[2*a+1]=i.call(r,l,a,e)}return s}(t,i,r,o):Float64Array.from(function*Xrt(e,t,i,r){let o=0;for(const s of e)yield t.call(r,s,o,e),yield i.call(r,s,o,e),++o}(t,i,r,o)))}constructor(t){this._delaunator=new SS(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,i=this.points;if(t.hull&&t.hull.length>2&&function Wrt(e){const{triangles:t,coords:i}=e;for(let r=0;r<t.length;r+=3){const o=2*t[r],s=2*t[r+1],a=2*t[r+2];if((i[a]-i[o])*(i[s+1]-i[o+1])-(i[s]-i[o])*(i[a+1]-i[o+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:i.length/2},(h,p)=>p).sort((h,p)=>i[2*h]-i[2*p]||i[2*h+1]-i[2*p+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[i[2*u],i[2*u+1],i[2*c],i[2*c+1]],d=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,p=i.length/2;h<p;++h){const m=Yrt(i[2*h],i[2*h+1],d);i[2*h]=m[0],i[2*h+1]=m[1]}this._delaunator=new SS(i)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,c=r.length;u<c;++u){const f=s[u%3==2?u-2:u+1];(-1===r[u]||-1===a[f])&&(a[f]=u)}for(let u=0,c=o.length;u<c;++u)l[o[u]]=u;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,2===o.length&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(t){return new zrt(this,t)}*neighbors(t){const{inedges:i,hull:r,_hullIndex:o,halfedges:s,triangles:a,collinear:l}=this;if(l){const d=l.indexOf(t);return d>0&&(yield l[d-1]),void(d<l.length-1&&(yield l[d+1]))}const u=i[t];if(-1===u)return;let c=u,f=-1;do{if(yield f=a[c],c=c%3==2?c-2:c+1,a[c]!==t)return;if(c=s[c],-1===c){const d=r[(o[t]+1)%r.length];return void(d!==f&&(yield d))}}while(c!==u)}find(t,i,r=0){if((t=+t)!=t||(i=+i)!=i)return-1;const o=r;let s;for(;(s=this._step(r,t,i))>=0&&s!==r&&s!==o;)r=s;return s}_step(t,i,r){const{inedges:o,hull:s,_hullIndex:a,halfedges:l,triangles:u,points:c}=this;if(-1===o[t]||!c.length)return(t+1)%(c.length>>1);let f=t,d=c5(i-c[2*t],2)+c5(r-c[2*t+1],2);const h=o[t];let p=h;do{let m=u[p];const v=c5(i-c[2*m],2)+c5(r-c[2*m+1],2);if(v<d&&(d=v,f=m),p=p%3==2?p-2:p+1,u[p]!==t)break;if(p=l[p],-1===p){if(p=s[(a[t]+1)%s.length],p!==m&&c5(i-c[2*p],2)+c5(r-c[2*p+1],2)<d)return p;break}}while(p!==h);return f}render(t){const i=null==t?t=new $g:void 0,{points:r,halfedges:o,triangles:s}=this;for(let a=0,l=o.length;a<l;++a){const u=o[a];if(u<a)continue;const c=2*s[a],f=2*s[u];t.moveTo(r[c],r[c+1]),t.lineTo(r[f],r[f+1])}return this.renderHull(t),i&&i.value()}renderPoints(t,i){void 0===i&&(!t||"function"!=typeof t.moveTo)&&(i=t,t=null),i=null==i?2:+i;const r=null==t?t=new $g:void 0,{points:o}=this;for(let s=0,a=o.length;s<a;s+=2){const l=o[s],u=o[s+1];t.moveTo(l+i,u),t.arc(l,u,i,0,qrt)}return r&&r.value()}renderHull(t){const i=null==t?t=new $g:void 0,{hull:r,points:o}=this,s=2*r[0],a=r.length;t.moveTo(o[s],o[s+1]);for(let l=1;l<a;++l){const u=2*r[l];t.lineTo(o[u],o[u+1])}return t.closePath(),i&&i.value()}hullPolygon(){const t=new vB;return this.renderHull(t),t.value()}renderTriangle(t,i){const r=null==i?i=new $g:void 0,{points:o,triangles:s}=this,a=2*s[t*=3],l=2*s[t+1],u=2*s[t+2];return i.moveTo(o[a],o[a+1]),i.lineTo(o[l],o[l+1]),i.lineTo(o[u],o[u+1]),i.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let i=0,r=t.length/3;i<r;++i)yield this.trianglePolygon(i)}trianglePolygon(t){const i=new vB;return this.renderTriangle(t,i),i.value()}}function yB(e){Et.call(this,null,e)}yB.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Zrt=[-1e5,-1e5,1e5,1e5];function Qrt(e){const t=e[0][0],i=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===i;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Jrt(e){return 2===e.length&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}Dn(yB,Et,{transform(e,t){const i=e.as||"path",r=t.source;if(!r||!r.length)return t;let o=e.size;o=o?[0,0,o[0],o[1]]:(o=e.extent)?[o[0][0],o[0][1],o[1][0],o[1][1]]:Zrt;const s=this.value=_B.from(r,e.x,e.y).voronoi(o);for(let a=0,l=r.length;a<l;++a){const u=s.cellPolygon(a);r[a][i]=u&&!Jrt(u)?Qrt(u):null}return t.reflow(e.modified()).modifies(i)}});var bB=Math.PI/180,Bv=64,CS=2048;function tot(e,t,i,r){if(!t.sprite){var o=e.context,s=e.ratio;o.clearRect(0,0,(Bv<<5)/s,CS/s);var f,d,h,p,m,a=0,l=0,u=0,c=i.length;for(--r;++r<c;){if(t=i[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,f=o.measureText(t.text+"m").width*s,h=t.size<<1,t.rotate){var v=Math.sin(t.rotate*bB),_=Math.cos(t.rotate*bB),y=f*_,w=f*v,S=h*_,M=h*v;f=Math.max(Math.abs(y+M),Math.abs(y-M))+31>>5<<5,h=~~Math.max(Math.abs(w+S),Math.abs(w-S))}else f=f+31>>5<<5;if(h>u&&(u=h),a+f>=Bv<<5&&(a=0,l+=u,u=0),l+h>=CS)break;o.translate((a+(f>>1))/s,(l+(h>>1))/s),t.rotate&&o.rotate(t.rotate*bB),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=h,t.xoff=a,t.yoff=l,t.x1=f>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=f}for(var A=o.getImageData(0,0,(Bv<<5)/s,CS/s).data,F=[];--r>=0;)if((t=i[r]).hasText){for(d=(f=t.width)>>5,h=t.y1-t.y0,p=0;p<h*d;p++)F[p]=0;if(null==(a=t.xoff))return;l=t.yoff;var N=0,H=-1;for(m=0;m<h;m++){for(p=0;p<f;p++){var oe=A[(l+m)*(Bv<<5)+(a+p)<<2]?1<<31-p%32:0;F[d*m+(p>>5)]|=oe,N|=oe}N?H=m:(t.y0++,h--,m--,l++)}t.y1=t.y0+H,t.sprite=F.slice(0,(t.y1-t.y0)*d)}}}function not(e,t,i){for(var f,r=e.sprite,o=e.width>>5,s=e.x-(o<<4),a=127&s,l=32-a,u=e.y1-e.y0,c=(e.y+e.y0)*(i>>=5)+(s>>5),d=0;d<u;d++){f=0;for(var h=0;h<=o;h++)if((f<<l|(h<o?(f=r[d*o+h])>>>a:0))&t[c+h])return!0;c+=i}return!1}function iot(e,t){var i=e[0],r=e[1];t.x+t.x0<i.x&&(i.x=t.x+t.x0),t.y+t.y0<i.y&&(i.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function rot(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function G0e(e){var t=e[0]/e[1];return function(i){return[t*(i*=.1)*Math.cos(i),i*Math.sin(i)]}}function Ug(e){return"function"==typeof e?e:function(){return e}}var aot={archimedean:G0e,rectangular:function oot(e){var i=4*e[0]/e[1],r=0,o=0;return function(s){var a=s<0?-1:1;switch(Math.sqrt(1+4*a*s)-a&3){case 0:r+=i;break;case 1:o+=4;break;case 2:r-=i;break;default:o-=4}return[r,o]}}};const W0e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],lot=["text","font","rotate","fontSize","fontStyle","fontWeight"];function wB(e){Et.call(this,function eot(){var t,i,r,o,s,a,l,e=[256,256],u=G0e,c=[],f=Math.random,d={};function p(m,v,_){for(var N,H,K,y=v.x,w=v.y,S=Math.hypot(e[0],e[1]),M=u(e),A=f()<.5?1:-1,F=-A;(N=M(F+=A))&&(H=~~N[0],K=~~N[1],!(Math.min(Math.abs(H),Math.abs(K))>=S));)if(v.x=y+H,v.y=w+K,!(v.x+v.x0<0||v.y+v.y0<0||v.x+v.x1>e[0]||v.y+v.y1>e[1])&&(!_||!not(v,m,e[0]))&&(!_||rot(v,_))){for(var j,oe=v.sprite,ee=v.width>>5,ve=e[0]>>5,pe=v.x-(ee<<4),R=127&pe,P=32-R,$=v.y1-v.y0,Q=(v.y+v.y0)*ve+(pe>>5),J=0;J<$;J++){j=0;for(var re=0;re<=ee;re++)m[Q+re]|=j<<P|(re<ee?(j=oe[J*ee+re])>>>R:0);Q+=ve}return v.sprite=null,!0}return!1}return d.layout=function(){for(var m=function h(m){m.width=m.height=1;var v=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(Bv<<5)/v,m.height=CS/v;var _=m.getContext("2d");return _.fillStyle=_.strokeStyle="red",_.textAlign="center",{context:_,ratio:v}}(_p()),v=function sot(e){for(var t=[],i=-1;++i<e;)t[i]=0;return t}((e[0]>>5)*e[1]),_=null,y=c.length,w=-1,S=[],M=c.map(F=>({text:t(F),font:i(F),style:o(F),weight:s(F),rotate:a(F),size:~~(r(F)+1e-14),padding:l(F),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:F})).sort((F,N)=>N.size-F.size);++w<y;){var A=M[w];A.x=e[0]*(f()+.5)>>1,A.y=e[1]*(f()+.5)>>1,tot(m,A,M,w),A.hasText&&p(v,A,_)&&(S.push(A),_?iot(_,A):_=[{x:A.x+A.x0,y:A.y+A.y0},{x:A.x+A.x1,y:A.y+A.y1}],A.x-=e[0]>>1,A.y-=e[1]>>1)}return S},d.words=function(m){return arguments.length?(c=m,d):c},d.size=function(m){return arguments.length?(e=[+m[0],+m[1]],d):e},d.font=function(m){return arguments.length?(i=Ug(m),d):i},d.fontStyle=function(m){return arguments.length?(o=Ug(m),d):o},d.fontWeight=function(m){return arguments.length?(s=Ug(m),d):s},d.rotate=function(m){return arguments.length?(a=Ug(m),d):a},d.text=function(m){return arguments.length?(t=Ug(m),d):t},d.spiral=function(m){return arguments.length?(u=aot[m]||m,d):u},d.fontSize=function(m){return arguments.length?(r=Ug(m),d):r},d.padding=function(m){return arguments.length?(l=Ug(m),d):l},d.random=function(m){return arguments.length?(f=m,d):f},d}(),e)}function DS(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uot(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y0e(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=DS,i=(l,u)=>DS(e(l),u),r=(l,u)=>e(l)-u):(t=e===DS||e===uot?e:cot,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}function cot(){return 0}wB.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:W0e}]},Dn(wB,Et,{transform(e,t){e.size&&(!e.size[0]||!e.size[1])&&Rt("Wordcloud size dimensions must be non-zero.");const r=e.modified();if(!(r||t.changed(t.ADD_REM)||lot.some(function i(m){const v=e[m];return ur(v)&&t.modified(v.fields)})))return;const o=t.materialize(t.SOURCE).source,s=this.value,a=e.as||W0e;let u,l=e.fontSize||14;if(ur(l)?u=e.fontSizeRange:l=ll(l),u){const m=l,v=Qr("sqrt")().domain(Id(o,m)).range(u);l=_=>v(m(_))}o.forEach(m=>{m[a[0]]=NaN,m[a[1]]=NaN,m[a[3]]=0});const c=s.words(o).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random($c).layout(),f=s.size(),d=f[0]>>1,h=f[1]>>1,p=c.length;for(let v,_,m=0;m<p;++m)v=c[m],_=v.datum,_[a[0]]=v.x+d,_[a[1]]=v.y+h,_[a[2]]=v.font,_[a[3]]=v.size,_[a[4]]=v.style,_[a[5]]=v.weight,_[a[6]]=v.rotate;return t.reflow(r).modifies(a)}});const K0e=Y0e(DS),dot=K0e.right,hot=K0e.left;Y0e(function fot(e){return null===e?NaN:+e});const got=e=>new Uint8Array(e),mot=e=>new Uint16Array(e),$v=e=>new Uint32Array(e);function xS(e,t,i){const r=(t<257?got:t<65537?mot:$v)(e);return i&&r.set(i),r}function X0e(e,t,i){const r=1<<t;return{one:r,zero:~r,range:i.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(o,s){const a=this,l=a.bisect(a.range,o.value),u=o.index,c=l[0],f=l[1],d=u.length;let h;for(h=0;h<c;++h)s[u[h]]|=r;for(h=f;h<d;++h)s[u[h]]|=r;return a}}}function Z0e(){let e=$v(0),t=[],i=0;return{insert:function r(l,u,c){if(!u.length)return[];const f=i,d=u.length,h=$v(d);let m,v,_,p=Array(d);for(_=0;_<d;++_)p[_]=l(u[_]),h[_]=_;if(p=function yot(e,t){return e.sort.call(t,(i,r)=>{const o=e[i],s=e[r];return o<s?-1:o>s?1:0}),function pot(e,t){return Array.from(t,i=>e[i])}(e,t)}(p,h),f)m=t,v=e,t=Array(f+d),e=$v(f+d),function bot(e,t,i,r,o,s,a,l,u){let d,c=0,f=0;for(d=0;c<r&&f<a;++d)t[c]<o[f]?(l[d]=t[c],u[d]=i[c++]):(l[d]=o[f],u[d]=s[f++]+e);for(;c<r;++c,++d)l[d]=t[c],u[d]=i[c];for(;f<a;++f,++d)l[d]=o[f],u[d]=s[f]+e}(c,m,v,f,p,h,d,t,e);else{if(c>0)for(_=0;_<d;++_)h[_]+=c;t=p,e=h}return i=f+d,{index:h,value:p}},remove:function o(l,u){const c=i;let f,d,h;for(d=0;!u[e[d]]&&d<c;++d);for(h=d;d<c;++d)u[f=e[d]]||(e[h]=f,t[h]=t[d],++h);i=c-l},bisect:function a(l,u){let c;return u?c=u.length:(u=t,c=i),[hot(u,l[0],0,c),dot(u,l[1],0,c)]},reindex:function s(l){for(let u=0,c=i;u<c;++u)e[u]=l[e[u]]},index:()=>e,size:()=>i}}function EB(e){Et.call(this,function vot(){let e=8,t=[],i=$v(0),r=xS(0,e),o=xS(0,e);return{data:()=>t,seen:()=>i=function _ot(e,t,i){return e.length>=t?e:((i=i||new e.constructor(t)).set(e),i)}(i,t.length),add(s){for(let c,a=0,l=t.length,u=s.length;a<u;++a)c=s[a],c._index=l++,t.push(c)},remove(s,a){const l=t.length,u=Array(l-s),c=t;let f,d,h;for(d=0;!a[d]&&d<l;++d)u[d]=t[d],c[d]=d;for(h=d;d<l;++d)f=t[d],a[d]?c[d]=-1:(c[d]=h,r[h]=r[d],o[h]=o[d],u[h]=f,f._index=h++),r[d]=0;return t=u,c},size:()=>t.length,curr:()=>r,prev:()=>o,reset:s=>o[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,a){r[s]|=a},clear(s,a){r[s]&=~a},resize(s,a){(s>r.length||a>e)&&(e=Math.max(a,e),r=xS(s,e,r),o=xS(s,e))}}}(),e),this._indices=null,this._dims=null}function SB(e){Et.call(this,null,e)}EB.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Dn(EB,Et,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(r=>t.modified(r.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const i=e.fields,r=e.query,o=this._indices={},s=this._dims=[],a=r.length;let u,c,l=0;for(;l<a;++l)u=i[l].fname,c=o[u]||(o[u]=Z0e()),s.push(X0e(c,l,r[l]));return this.eval(e,t)},reinit(e,t){const i=t.materialize().fork(),r=e.fields,o=e.query,s=this._indices,a=this._dims,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d=i.rem=i.add,h=i.mod,p=o.length,m={};let v,_,y,w,S,M,A,F,N;if(c.set(u),t.rem.length&&(S=this.remove(e,t,i)),t.add.length&&l.add(t.add),t.mod.length)for(M={},w=t.mod,A=0,F=w.length;A<F;++A)M[w[A]._index]=1;for(A=0;A<p;++A)N=r[A],(!a[A]||e.modified("fields",A)||t.modified(N.fields))&&(y=N.fname,(v=m[y])||(s[y]=_=Z0e(),m[y]=v=_.insert(N,t.source,0)),a[A]=X0e(_,A,o[A]).onAdd(v,u));for(A=0,F=l.data().length;A<F;++A)S[A]||(c[A]!==u[A]?d.push(A):M[A]&&u[A]!==f&&h.push(A));return l.mask=(1<<p)-1,i},eval(e,t){const i=t.materialize().fork(),r=this._dims.length;let o=0;return t.rem.length&&(this.remove(e,t,i),o|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(o|=this.update(e,t,i)),t.add.length&&(this.insert(e,t,i),o|=(1<<r)-1),t.mod.length&&(this.modify(t,i),o|=(1<<r)-1),this.value.mask=o,i},insert(e,t,i){const r=t.add,o=this.value,s=this._dims,a=this._indices,l=e.fields,u={},c=i.add,f=o.size()+r.length,d=s.length;let p,m,v,h=o.size();o.resize(f,d),o.add(r);const _=o.curr(),y=o.prev(),w=o.all();for(p=0;p<d;++p)m=l[p].fname,v=u[m]||(u[m]=a[m].insert(l[p],r,h)),s[p].onAdd(v,_);for(;h<f;++h)y[h]=w,_[h]!==w&&c.push(h)},modify(e,t){const i=t.mod,r=this.value,o=r.curr(),s=r.all(),a=e.mod;let l,u,c;for(l=0,u=a.length;l<u;++l)c=a[l]._index,o[c]!==s&&i.push(c)},remove(e,t,i){const r=this._indices,o=this.value,s=o.curr(),a=o.prev(),l=o.all(),u={},c=i.rem,f=t.rem;let d,h,p,m;for(d=0,h=f.length;d<h;++d)p=f[d]._index,u[p]=1,a[p]=m=s[p],s[p]=l,m!==l&&c.push(p);for(p in r)r[p].remove(h,u);return this.reindex(t,h,u),u},reindex(e,t,i){const r=this._indices,o=this.value;e.runAfter(()=>{const s=o.remove(t,i);for(const a in r)r[a].reindex(s)})},update(e,t,i){const r=this._dims,o=e.query,s=t.stamp,a=r.length;let u,c,l=0;for(i.filters=0,c=0;c<a;++c)e.modified("query",c)&&(u=c,++l);if(1===l)l=r[u].one,this.incrementOne(r[u],o[u],i.add,i.rem);else for(c=0,l=0;c<a;++c)e.modified("query",c)&&(l|=r[c].one,this.incrementAll(r[c],o[c],s,i.add),i.rem=i.add);return l},incrementAll(e,t,i,r){const o=this.value,s=o.seen(),a=o.curr(),l=o.prev(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],h=f[1],p=c[0],m=c[1],v=e.one;let _,y,w;if(d<p)for(_=d,y=Math.min(p,h);_<y;++_)w=u[_],s[w]!==i&&(l[w]=a[w],s[w]=i,r.push(w)),a[w]^=v;else if(d>p)for(_=p,y=Math.min(d,m);_<y;++_)w=u[_],s[w]!==i&&(l[w]=a[w],s[w]=i,r.push(w)),a[w]^=v;if(h>m)for(_=Math.max(d,m),y=h;_<y;++_)w=u[_],s[w]!==i&&(l[w]=a[w],s[w]=i,r.push(w)),a[w]^=v;else if(h<m)for(_=Math.max(p,h),y=m;_<y;++_)w=u[_],s[w]!==i&&(l[w]=a[w],s[w]=i,r.push(w)),a[w]^=v;e.range=t.slice()},incrementOne(e,t,i,r){const s=this.value.curr(),a=e.index(),l=e.bisect(e.range),u=e.bisect(t),c=u[0],f=u[1],d=l[0],h=l[1],p=e.one;let m,v,_;if(c<d)for(m=c,v=Math.min(d,f);m<v;++m)_=a[m],s[_]^=p,i.push(_);else if(c>d)for(m=d,v=Math.min(c,h);m<v;++m)_=a[m],s[_]^=p,r.push(_);if(f>h)for(m=Math.max(c,h),v=f;m<v;++m)_=a[m],s[_]^=p,i.push(_);else if(f<h)for(m=Math.max(d,f),v=h;m<v;++m)_=a[m],s[_]^=p,r.push(_);e.range=t.slice()}}),SB.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Dn(SB,Et,{transform(e,t){const i=~(e.ignore||0),r=e.filter,o=r.mask;if(!(o&i))return t.StopPropagation;const s=t.fork(t.ALL),a=r.data(),l=r.curr(),u=r.prev(),c=f=>l[f]&i?null:a[f];return s.filter(s.MOD,c),o&o-1?(s.filter(s.ADD,f=>{const d=l[f]&i;return!d&&d^u[f]&i?a[f]:null}),s.filter(s.REM,f=>{const d=l[f]&i;return!d||d^d^u[f]&i?null:a[f]})):(s.filter(s.ADD,c),s.filter(s.REM,f=>(l[f]&i)===o?a[f]:null)),s.filter(s.SOURCE,f=>c(f._index))}});const wot=Math.sqrt(50),Eot=Math.sqrt(10),Sot=Math.sqrt(2);function MS(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=wot?10:s>=Eot?5:s>=Sot?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?MS(e,t,2*i):[l,u,c]}function Q0e(e,t,i){return MS(e=+e,t=+t,i=+i)[2]}const Vg="Literal",J0e="CallExpression";function Uf(e){this.type=e}Uf.prototype.visit=function(e){let t,i,r;if(e(this))return 1;for(t=function Fot(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case J0e:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),i=0,r=t.length;i<r;++i)if(t[i].visit(e))return 1};var Kd,ai,Nt,ml,go,AS=1,Uv=2,Hg=3,qp=4,TS=5,zg=6,bu=7,Vv=8;(Kd={})[AS]="Boolean",Kd[Uv]="<end>",Kd[Hg]="Identifier",Kd[qp]="Keyword",Kd[TS]="Null",Kd[zg]="Numeric",Kd[bu]="Punctuator",Kd[Vv]="String",Kd[9]="RegularExpression";var Lot="ArrayExpression",Bot="BinaryExpression",$ot="CallExpression",Uot="ConditionalExpression",ehe="Identifier",Vot="Literal",Hot="LogicalExpression",zot="MemberExpression",qot="ObjectExpression",jot="Property",Got="UnaryExpression",va="Unexpected token %0",Wot="Unexpected number",Yot="Unexpected string",Kot="Unexpected identifier",Xot="Unexpected reserved word",Zot="Unexpected end of input",CB="Invalid regular expression",DB="Invalid regular expression: missing /",the="Octal literals are not allowed in strict mode.",Qot="Duplicate data property in object literal not allowed in strict mode",La="ILLEGAL",Hv="Disabled.",Jot=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),est=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function NS(e,t){if(!e)throw new Error("ASSERT: "+t)}function lh(e){return e>=48&&e<=57}function xB(e){return"0123456789abcdefABCDEF".includes(e)}function zv(e){return"01234567".includes(e)}function tst(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function qv(e){return 10===e||13===e||8232===e||8233===e}function jv(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Jot.test(String.fromCharCode(e))}function IS(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&est.test(String.fromCharCode(e))}const nst={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function nhe(){for(;Nt<ml;){const e=ai.charCodeAt(Nt);if(!tst(e)&&!qv(e))break;++Nt}}function MB(e){var t,i,r,o=0;for(i="u"===e?4:2,t=0;t<i;++t)Nt<ml&&xB(ai[Nt])?(r=ai[Nt++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):Jr({},va,La);return String.fromCharCode(o)}function ist(){var e,t;for(t=0,"}"===(e=ai[Nt])&&Jr({},va,La);Nt<ml&&xB(e=ai[Nt++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Jr({},va,La),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function ihe(){var e,t;for(e=ai.charCodeAt(Nt++),t=String.fromCharCode(e),92===e&&(117!==ai.charCodeAt(Nt)&&Jr({},va,La),++Nt,(!(e=MB("u"))||"\\"===e||!jv(e.charCodeAt(0)))&&Jr({},va,La),t=e);Nt<ml&&IS(e=ai.charCodeAt(Nt));)++Nt,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ai.charCodeAt(Nt)&&Jr({},va,La),++Nt,(!(e=MB("u"))||"\\"===e||!IS(e.charCodeAt(0)))&&Jr({},va,La),t+=e);return t}function AB(){var i,o,s,a,e=Nt,t=ai.charCodeAt(Nt),r=ai[Nt];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Nt,{type:bu,value:String.fromCharCode(t),start:e,end:Nt};default:if(61===(i=ai.charCodeAt(Nt+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Nt+=2,{type:bu,value:String.fromCharCode(t)+String.fromCharCode(i),start:e,end:Nt};case 33:case 61:return 61===ai.charCodeAt(Nt+=2)&&++Nt,{type:bu,value:ai.slice(e,Nt),start:e,end:Nt}}}return">>>="===(a=ai.substr(Nt,4))?{type:bu,value:a,start:e,end:Nt+=4}:">>>"===(s=a.substr(0,3))||"<<="===s||">>="===s?{type:bu,value:s,start:e,end:Nt+=3}:r===(o=s.substr(0,2))[1]&&"+-<>&|".includes(r)||"=>"===o?{type:bu,value:o,start:e,end:Nt+=2}:("//"===o&&Jr({},va,La),"<>=!+-*%&|^/".includes(r)?(++Nt,{type:bu,value:r,start:e,end:Nt}):void Jr({},va,La))}function rhe(){var e,t,i;if(NS(lh((i=ai[Nt]).charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),t=Nt,e="","."!==i){if(e=ai[Nt++],i=ai[Nt],"0"===e){if("x"===i||"X"===i)return++Nt,function sst(e){let t="";for(;Nt<ml&&xB(ai[Nt]);)t+=ai[Nt++];return 0===t.length&&Jr({},va,La),jv(ai.charCodeAt(Nt))&&Jr({},va,La),{type:zg,value:parseInt("0x"+t,16),start:e,end:Nt}}(t);if(zv(i))return function ast(e){let t="0"+ai[Nt++];for(;Nt<ml&&zv(ai[Nt]);)t+=ai[Nt++];return(jv(ai.charCodeAt(Nt))||lh(ai.charCodeAt(Nt)))&&Jr({},va,La),{type:zg,value:parseInt(t,8),octal:!0,start:e,end:Nt}}(t);i&&lh(i.charCodeAt(0))&&Jr({},va,La)}for(;lh(ai.charCodeAt(Nt));)e+=ai[Nt++];i=ai[Nt]}if("."===i){for(e+=ai[Nt++];lh(ai.charCodeAt(Nt));)e+=ai[Nt++];i=ai[Nt]}if("e"===i||"E"===i)if(e+=ai[Nt++],("+"===(i=ai[Nt])||"-"===i)&&(e+=ai[Nt++]),lh(ai.charCodeAt(Nt)))for(;lh(ai.charCodeAt(Nt));)e+=ai[Nt++];else Jr({},va,La);return jv(ai.charCodeAt(Nt))&&Jr({},va,La),{type:zg,value:parseFloat(e),start:t,end:Nt}}function ohe(){if(nhe(),Nt>=ml)return{type:Uv,start:Nt,end:Nt};const e=ai.charCodeAt(Nt);return jv(e)?function ost(){var e,t;return e=Nt,t=92===ai.charCodeAt(Nt)?ihe():function rst(){var e,t;for(e=Nt++;Nt<ml;){if(92===(t=ai.charCodeAt(Nt)))return Nt=e,ihe();if(!IS(t))break;++Nt}return ai.slice(e,Nt)}(),{type:1===t.length?Hg:nst.hasOwnProperty(t)?qp:"null"===t?TS:"true"===t||"false"===t?AS:Hg,value:t,start:e,end:Nt}}():40===e||41===e||59===e?AB():39===e||34===e?function lst(){var t,i,r,o,e="",s=!1;for(NS("'"===(t=ai[Nt])||'"'===t,"String literal must starts with a quote"),i=Nt,++Nt;Nt<ml;){if((r=ai[Nt++])===t){t="";break}if("\\"===r)if((r=ai[Nt++])&&qv(r.charCodeAt(0)))"\r"===r&&"\n"===ai[Nt]&&++Nt;else switch(r){case"u":case"x":"{"===ai[Nt]?(++Nt,e+=ist()):e+=MB(r);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:zv(r)?(0!==(o="01234567".indexOf(r))&&(s=!0),Nt<ml&&zv(ai[Nt])&&(s=!0,o=8*o+"01234567".indexOf(ai[Nt++]),"0123".includes(r)&&Nt<ml&&zv(ai[Nt])&&(o=8*o+"01234567".indexOf(ai[Nt++]))),e+=String.fromCharCode(o)):e+=r}else{if(qv(r.charCodeAt(0)))break;e+=r}}return""!==t&&Jr({},va,La),{type:Vv,value:e,octal:s,start:i,end:Nt}}():46===e?lh(ai.charCodeAt(Nt+1))?rhe():AB():lh(e)?rhe():AB()}function wu(){const e=go;return Nt=e.end,go=ohe(),Nt=e.end,e}function she(){const e=Nt;go=ohe(),Nt=e}function ahe(e,t,i){const r=new Uf("||"===e||"&&"===e?Hot:Bot);return r.operator=e,r.left=t,r.right=i,r}function gst(e,t){const i=new Uf($ot);return i.callee=e,i.arguments=t,i}function TB(e){const t=new Uf(ehe);return t.name=e,t}function Gv(e){const t=new Uf(Vot);return t.value=e.value,t.raw=ai.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function lhe(e,t,i){const r=new Uf(zot);return r.computed="["===e,r.object=t,r.property=i,r.computed||(i.member=!0),r}function uhe(e,t,i){const r=new Uf(jot);return r.key=t,r.value=i,r.kind=e,r}function Jr(e,t){var i,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(s,a)=>(NS(a<r.length,"Message reference must be in range"),r[a]));throw(i=new Error(o)).index=Nt,i.description=o,i}function OS(e){e.type===Uv&&Jr(e,Zot),e.type===zg&&Jr(e,Wot),e.type===Vv&&Jr(e,Yot),e.type===Hg&&Jr(e,Kot),e.type===qp&&Jr(e,Xot),Jr(e,va,e.value)}function vl(e){const t=wu();(t.type!==bu||t.value!==e)&&OS(t)}function $o(e){return go.type===bu&&go.value===e}function NB(e){return go.type===qp&&go.value===e}function che(){Nt=go.start;const e=wu();return e.type===Vv||e.type===zg?(e.octal&&Jr(e,the),Gv(e)):TB(e.value)}function bst(){var e,t,i;return Nt=go.start,(e=go).type===Hg?(i=che(),vl(":"),uhe("init",i,qg())):e.type!==Uv&&e.type!==bu?(t=che(),vl(":"),uhe("init",t,qg())):void OS(e)}const Sst={if:1};function Cst(){var e,t,i;if($o("("))return function Est(){vl("(");const e=IB();return vl(")"),e}();if($o("["))return function yst(){const e=[];for(Nt=go.start,vl("[");!$o("]");)$o(",")?(wu(),e.push(null)):(e.push(qg()),$o("]")||vl(","));return wu(),function pst(e){const t=new Uf(Lot);return t.elements=e,t}(e)}();if($o("{"))return function wst(){var t,r,e=[],o={},s=String;for(Nt=go.start,vl("{");!$o("}");)r="$"+((t=bst()).key.type===ehe?t.key.name:s(t.key.value)),Object.prototype.hasOwnProperty.call(o,r)?Jr({},Qot):o[r]=!0,e.push(t),$o("}")||vl(",");return vl("}"),function vst(e){const t=new Uf(qot);return t.properties=e,t}(e)}();if(Nt=go.start,(e=go.type)===Hg||Sst[go.value])i=TB(wu().value);else if(e===Vv||e===zg)go.octal&&Jr(go,the),i=Gv(wu());else{if(e===qp)throw new Error(Hv);e===AS?((t=wu()).value="true"===t.value,i=Gv(t)):e===TS?((t=wu()).value=null,i=Gv(t)):$o("/")||$o("/=")?(i=Gv(function dst(){var e,t,i,r;return go=null,nhe(),e=Nt,t=function cst(){var e,t,i,r;for(NS("/"===(e=ai[Nt]),"Regular expression literal must start with a slash"),t=ai[Nt++],i=!1,r=!1;Nt<ml;)if(t+=e=ai[Nt++],"\\"===e)qv((e=ai[Nt++]).charCodeAt(0))&&Jr({},DB),t+=e;else if(qv(e.charCodeAt(0)))Jr({},DB);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||Jr({},DB),{value:t.substr(1,t.length-2),literal:t}}(),i=function fst(){var e,t,i;for(t="",i="";Nt<ml&&IS((e=ai[Nt]).charCodeAt(0));)++Nt,"\\"===e&&Nt<ml?Jr({},va,La):(i+=e,t+=e);return i.search(/[^gimuy]/g)>=0&&Jr({},CB,i),{value:i,literal:t}}(),r=function ust(e,t){let i=e;t.includes("u")&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,o)=>{if(parseInt(o,16)<=1114111)return"x";Jr({},CB)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(i)}catch{Jr({},CB)}try{return new RegExp(e,t)}catch{return null}}(t.value,i.value),{literal:t.literal+i.literal,value:r,regex:{pattern:t.value,flags:i.value},start:e,end:Nt}}()),she()):OS(wu())}return i}function Dst(){const e=[];if(vl("("),!$o(")"))for(;Nt<ml&&(e.push(qg()),!$o(")"));)vl(",");return vl(")"),e}function xst(){Nt=go.start;const e=wu();return function hst(e){return e.type===Hg||e.type===qp||e.type===AS||e.type===TS}(e)||OS(e),TB(e.value)}function Ast(){vl("[");const e=IB();return vl("]"),e}function fhe(){const e=function Tst(){var e;for(e=Cst();;)if($o("."))vl("."),e=lhe(".",e,xst());else if($o("("))e=gst(e,Dst());else{if(!$o("["))break;e=lhe("[",e,Ast())}return e}();if(go.type===bu&&($o("++")||$o("--")))throw new Error(Hv);return e}function RS(){var e,t;if(go.type!==bu&&go.type!==qp)t=fhe();else{if($o("++")||$o("--"))throw new Error(Hv);if($o("+")||$o("-")||$o("~")||$o("!"))e=wu(),t=RS(),t=function _st(e,t){const i=new Uf(Got);return i.operator=e,i.argument=t,i.prefix=!0,i}(e.value,t);else{if(NB("delete")||NB("void")||NB("typeof"))throw new Error(Hv);t=fhe()}}return t}function dhe(e){let t=0;if(e.type!==bu&&e.type!==qp)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function qg(){var e,t;return e=function Nst(){var e,t,i,r,o,s,a,l,u,c;if(e=go,u=RS(),0===(o=dhe(r=go)))return u;for(r.prec=o,wu(),t=[e,go],s=[u,r,a=RS()];(o=dhe(go))>0;){for(;s.length>2&&o<=s[s.length-2].prec;)a=s.pop(),l=s.pop().value,u=s.pop(),t.pop(),i=ahe(l,u,a),s.push(i);(r=wu()).prec=o,s.push(r),t.push(go),i=RS(),s.push(i)}for(i=s[c=s.length-1],t.pop();c>1;)t.pop(),i=ahe(s[c-1].value,s[c-2],i),c-=2;return i}(),$o("?")&&(wu(),t=qg(),vl(":"),e=function mst(e,t,i){const r=new Uf(Uot);return r.test=e,r.consequent=t,r.alternate=i,r}(e,t,qg())),e}function IB(){const e=qg();if($o(","))throw new Error(Hv);return e}function hhe(e){Nt=0,ml=(ai=e).length,go=null,she();const t=IB();if(go.type!==Uv)throw new Error("Unexpect token after expression.");return t}var phe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function ghe(e){function i(a,l,u){return c=>function t(a,l,u,c){let f=e(l[0]);return u&&(f=u+"("+f+")",0===u.lastIndexOf("new ",0)&&(f="("+f+")")),f+"."+a+(c<0?"":0===c?"()":"("+l.slice(1).map(e).join(",")+")")}(a,c,l,u)}const r="new Date",o="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&Rt("Missing arguments to clamp function."),a.length>3&&Rt("Too many arguments to clamp function.");const l=a.map(e);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:i("getDate",r,0),day:i("getDay",r,0),year:i("getFullYear",r,0),month:i("getMonth",r,0),hours:i("getHours",r,0),minutes:i("getMinutes",r,0),seconds:i("getSeconds",r,0),milliseconds:i("getMilliseconds",r,0),time:i("getTime",r,0),timezoneoffset:i("getTimezoneOffset",r,0),utcdate:i("getUTCDate",r,0),utcday:i("getUTCDay",r,0),utcyear:i("getUTCFullYear",r,0),utcmonth:i("getUTCMonth",r,0),utchours:i("getUTCHours",r,0),utcminutes:i("getUTCMinutes",r,0),utcseconds:i("getUTCSeconds",r,0),utcmilliseconds:i("getUTCMilliseconds",r,0),length:i("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:i("toUpperCase",o,0),lower:i("toLowerCase",o,0),substring:i("substring",o),split:i("split",o),trim:i("trim",o,0),btoa:"btoa",atob:"atob",regexp:s,test:i("test",s),if:function(a){a.length<3&&Rt("Missing arguments to if function."),a.length>3&&Rt("Too many arguments to if function.");const l=a.map(e);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}function mhe(e){const t=(e=e||{}).allowed?Sf(e.allowed):{},i=e.forbidden?Sf(e.forbidden):{},r=e.constants||phe,o=(e.functions||ghe)(d),s=e.globalvar,a=e.fieldvar,l=ur(s)?s:m=>`${s}["${m}"]`;let u={},c={},f=0;function d(m){if(Bn(m))return m;const v=h[m.type];return null==v&&Rt("Unsupported type: "+m.type),v(m)}const h={Literal:m=>m.raw,Identifier:m=>{const v=m.name;return f>0?v:Gn(i,v)?Rt("Illegal identifier: "+v):Gn(r,v)?r[v]:Gn(t,v)?v:(u[v]=1,l(v))},MemberExpression:m=>{const v=!m.computed,_=d(m.object);v&&(f+=1);const y=d(m.property);return _===a&&(c[function Ist(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(y)]=1),v&&(f-=1),_+(v?"."+y:"["+y+"]")},CallExpression:m=>{"Identifier"!==m.callee.type&&Rt("Illegal callee type: "+m.callee.type);const v=m.callee.name,_=m.arguments,y=Gn(o,v)&&o[v];return y||Rt("Unrecognized function: "+v),ur(y)?y(_):y+"("+_.map(d).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(d).join(",")+"]",BinaryExpression:m=>"("+d(m.left)+" "+m.operator+" "+d(m.right)+")",UnaryExpression:m=>"("+m.operator+d(m.argument)+")",ConditionalExpression:m=>"("+d(m.test)+"?"+d(m.consequent)+":"+d(m.alternate)+")",LogicalExpression:m=>"("+d(m.left)+m.operator+d(m.right)+")",ObjectExpression:m=>"{"+m.properties.map(d).join(",")+"}",Property:m=>{f+=1;const v=d(m.key);return f-=1,v+":"+d(m.value)}};function p(m){const v={code:d(m),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},v}return p.functions=o,p.constants=r,p}class Xd{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const s=i[o],a=t+s,l=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);l&&(i[r++]=l),t=a}return i[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let r,o,s,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(r=a,o=t[--i],a=r+o,s=o-(a-r),!s););i>0&&(s<0&&t[i-1]<0||s>0&&t[i-1]>0)&&(o=2*s,r=a+o,o==r-a&&(a=r))}return a}}var kS=1e-6,f5=Math.PI,_he=f5/2,yhe=f5/4,bhe=2*f5,Wv=180/f5,_l=f5/180,OB=Math.abs,FS=(Math,Math.atan2),Wl=Math.cos,RB=(Math,Math,Math,Math.hypot),yl=(Math,Math,Math.sin),whe=(Math,Math.sqrt);function kB(e){return e>1?_he:e<-1?-_he:Math.asin(e)}function Yv(){}function PS(e,t){e&&She.hasOwnProperty(e.type)&&She[e.type](e,t)}Math;var Ehe={Feature:function(e,t){PS(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)PS(i[r].geometry,t)}},She={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){FB(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)FB(i[r],t,0)},Polygon:function(e,t){Che(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)Che(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)PS(i[r],t)}};function FB(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function Che(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)FB(e[i],t,1);t.polygonEnd()}function PB(e,t){e&&Ehe.hasOwnProperty(e.type)?Ehe[e.type](e,t):PS(e,t)}var Dhe,xhe,LB,BB,$B,LS=new Xd,BS=new Xd,Zd={point:Yv,lineStart:Yv,lineEnd:Yv,polygonStart:function(){LS=new Xd,Zd.lineStart=Ost,Zd.lineEnd=Rst},polygonEnd:function(){var e=+LS;BS.add(e<0?bhe+e:e),this.lineStart=this.lineEnd=this.point=Yv},sphere:function(){BS.add(bhe)}};function Ost(){Zd.point=kst}function Rst(){Mhe(Dhe,xhe)}function kst(e,t){Zd.point=Mhe,Dhe=e,xhe=t,LB=e*=_l,BB=Wl(t=(t*=_l)/2+yhe),$B=yl(t)}function Mhe(e,t){var i=(e*=_l)-LB,r=i>=0?1:-1,o=r*i,s=Wl(t=(t*=_l)/2+yhe),a=yl(t),l=$B*a,u=BB*s+l*Wl(o),c=l*r*yl(o);LS.add(FS(c,u)),LB=e,BB=s,$B=a}function Ahe(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}var us,Eu,Es,ac,jg,The,Nhe,d5,Kv,jp,uh,ch={point:UB,lineStart:Ohe,lineEnd:Rhe,polygonStart:function(){ch.point=khe,ch.lineStart=$st,ch.lineEnd=Ust,Kv=new Xd,Zd.polygonStart()},polygonEnd:function(){Zd.polygonEnd(),ch.point=UB,ch.lineStart=Ohe,ch.lineEnd=Rhe,LS<0?(us=-(Es=180),Eu=-(ac=90)):Kv>kS?ac=90:Kv<-kS&&(Eu=-90),uh[0]=us,uh[1]=Es},sphere:function(){us=-(Es=180),Eu=-(ac=90)}};function UB(e,t){jp.push(uh=[us=e,Es=e]),t<Eu&&(Eu=t),t>ac&&(ac=t)}function Ihe(e,t){var i=function Lst(e){var t=e[0],i=e[1],r=Wl(i);return[r*Wl(t),r*yl(t),yl(i)]}([e*_l,t*_l]);if(d5){var r=Ahe(d5,i),s=Ahe([r[1],-r[0],0],r);(function Bst(e){var t=whe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t})(s),s=function Pst(e){return[FS(e[1],e[0]),kB(e[2])]}(s);var c,a=e-jg,l=a>0?1:-1,u=s[0]*Wv*l,f=OB(a)>180;f^(l*jg<u&&u<l*e)?(c=s[1]*Wv)>ac&&(ac=c):f^(l*jg<(u=(u+360)%360-180)&&u<l*e)?(c=-s[1]*Wv)<Eu&&(Eu=c):(t<Eu&&(Eu=t),t>ac&&(ac=t)),f?e<jg?lc(us,e)>lc(us,Es)&&(Es=e):lc(e,Es)>lc(us,Es)&&(us=e):Es>=us?(e<us&&(us=e),e>Es&&(Es=e)):e>jg?lc(us,e)>lc(us,Es)&&(Es=e):lc(e,Es)>lc(us,Es)&&(us=e)}else jp.push(uh=[us=e,Es=e]);t<Eu&&(Eu=t),t>ac&&(ac=t),d5=i,jg=e}function Ohe(){ch.point=Ihe}function Rhe(){uh[0]=us,uh[1]=Es,ch.point=UB,d5=null}function khe(e,t){if(d5){var i=e-jg;Kv.add(OB(i)>180?i+(i>0?360:-360):i)}else The=e,Nhe=t;Zd.point(e,t),Ihe(e,t)}function $st(){Zd.lineStart()}function Ust(){khe(The,Nhe),Zd.lineEnd(),OB(Kv)>kS&&(us=-(Es=180)),uh[0]=us,uh[1]=Es,d5=null}function lc(e,t){return(t-=e)<0?t+360:t}function Vst(e,t){return e[0]-t[0]}function Fhe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Xv,$S,US,VS,HS,zS,qS,jS,VB,HB,zB,Phe,Lhe,Yl,Kl,Xl,Vf={sphere:Yv,point:qB,lineStart:Bhe,lineEnd:$he,polygonStart:function(){Vf.lineStart=jst,Vf.lineEnd=Gst},polygonEnd:function(){Vf.lineStart=Bhe,Vf.lineEnd=$he}};function qB(e,t){e*=_l;var i=Wl(t*=_l);Zv(i*Wl(e),i*yl(e),yl(t))}function Zv(e,t,i){++Xv,US+=(e-US)/Xv,VS+=(t-VS)/Xv,HS+=(i-HS)/Xv}function Bhe(){Vf.point=zst}function zst(e,t){e*=_l;var i=Wl(t*=_l);Yl=i*Wl(e),Kl=i*yl(e),Xl=yl(t),Vf.point=qst,Zv(Yl,Kl,Xl)}function qst(e,t){e*=_l;var i=Wl(t*=_l),r=i*Wl(e),o=i*yl(e),s=yl(t),a=FS(whe((a=Kl*s-Xl*o)*a+(a=Xl*r-Yl*s)*a+(a=Yl*o-Kl*r)*a),Yl*r+Kl*o+Xl*s);$S+=a,zS+=a*(Yl+(Yl=r)),qS+=a*(Kl+(Kl=o)),jS+=a*(Xl+(Xl=s)),Zv(Yl,Kl,Xl)}function $he(){Vf.point=qB}function jst(){Vf.point=Wst}function Gst(){Uhe(Phe,Lhe),Vf.point=qB}function Wst(e,t){Phe=e,Lhe=t,e*=_l,t*=_l,Vf.point=Uhe;var i=Wl(t);Yl=i*Wl(e),Kl=i*yl(e),Xl=yl(t),Zv(Yl,Kl,Xl)}function Uhe(e,t){e*=_l;var i=Wl(t*=_l),r=i*Wl(e),o=i*yl(e),s=yl(t),a=Kl*s-Xl*o,l=Xl*r-Yl*s,u=Yl*o-Kl*r,c=RB(a,l,u),f=kB(c),d=c&&-f/c;VB.add(d*a),HB.add(d*l),zB.add(d*u),$S+=f,zS+=f*(Yl+(Yl=r)),qS+=f*(Kl+(Kl=o)),jS+=f*(Xl+(Xl=s)),Zv(Yl,Kl,Xl)}function Qv(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function GS(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function Gg(){}var WS=1/.7,h5="\\s*([+-]?\\d+)\\s*",e9="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kst=/^#([0-9a-f]{3,8})$/,Xst=new RegExp(`^rgb\\(${h5},${h5},${h5}\\)$`),Zst=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),Qst=new RegExp(`^rgba\\(${h5},${h5},${h5},${e9}\\)$`),Jst=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${e9}\\)$`),eat=new RegExp(`^hsl\\(${e9},${Qd},${Qd}\\)$`),tat=new RegExp(`^hsla\\(${e9},${Qd},${Qd},${e9}\\)$`),Vhe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hhe(){return this.rgb().formatHex()}function zhe(){return this.rgb().formatRgb()}function jB(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Kst.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?qhe(t):3===i?new bl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?YS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?YS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Xst.exec(e))?new bl(t[1],t[2],t[3],1):(t=Zst.exec(e))?new bl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Qst.exec(e))?YS(t[1],t[2],t[3],t[4]):(t=Jst.exec(e))?YS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eat.exec(e))?Yhe(t[1],t[2]/100,t[3]/100,1):(t=tat.exec(e))?Yhe(t[1],t[2]/100,t[3]/100,t[4]):Vhe.hasOwnProperty(e)?qhe(Vhe[e]):"transparent"===e?new bl(NaN,NaN,NaN,0):null}function qhe(e){return new bl(e>>16&255,e>>8&255,255&e,1)}function YS(e,t,i,r){return r<=0&&(e=t=i=NaN),new bl(e,t,i,r)}function jhe(e){return e instanceof Gg||(e=jB(e)),e?new bl((e=e.rgb()).r,e.g,e.b,e.opacity):new bl}function GB(e,t,i,r){return 1===arguments.length?jhe(e):new bl(e,t,i,r??1)}function bl(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function Ghe(){return`#${Yg(this.r)}${Yg(this.g)}${Yg(this.b)}`}function Whe(){const e=KS(this.opacity);return`${1===e?"rgb(":"rgba("}${Wg(this.r)}, ${Wg(this.g)}, ${Wg(this.b)}${1===e?")":`, ${e})`}`}function KS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yg(e){return((e=Wg(e))<16?"0":"")+e.toString(16)}function Yhe(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Hf(e,t,i,r)}function Khe(e){if(e instanceof Hf)return new Hf(e.h,e.s,e.l,e.opacity);if(e instanceof Gg||(e=jB(e)),!e)return new Hf;if(e instanceof Hf)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new Hf(a,l,u,e.opacity)}function Xhe(e,t,i,r){return 1===arguments.length?Khe(e):new Hf(e,t,i,r??1)}function Hf(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function Zhe(e){return(e=(e||0)%360)<0?e+360:e}function XS(e){return Math.max(0,Math.min(1,e||0))}function WB(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}Qv(Gg,jB,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hhe,formatHex:Hhe,formatHex8:function nat(){return this.rgb().formatHex8()},formatHsl:function iat(){return Khe(this).formatHsl()},formatRgb:zhe,toString:zhe}),Qv(bl,GB,GS(Gg,{brighter(e){return e=null==e?WS:Math.pow(WS,e),new bl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new bl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bl(Wg(this.r),Wg(this.g),Wg(this.b),KS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ghe,formatHex:Ghe,formatHex8:function rat(){return`#${Yg(this.r)}${Yg(this.g)}${Yg(this.b)}${Yg(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Whe,toString:Whe})),Qv(Hf,Xhe,GS(Gg,{brighter(e){return e=null==e?WS:Math.pow(WS,e),new Hf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Hf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new bl(WB(e>=240?e-240:e+120,o,r),WB(e,o,r),WB(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Hf(Zhe(this.h),XS(this.s),XS(this.l),KS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KS(this.opacity);return`${1===e?"hsl(":"hsla("}${Zhe(this.h)}, ${100*XS(this.s)}%, ${100*XS(this.l)}%${1===e?")":`, ${e})`}`}}));const oat=Math.PI/180,sat=180/Math.PI,Qhe=.96422,Jhe=1,epe=.82521,tpe=4/29,p5=6/29,npe=3*p5*p5,aat=p5*p5*p5;function ipe(e){if(e instanceof zf)return new zf(e.l,e.a,e.b,e.opacity);if(e instanceof Jd)return ape(e);e instanceof bl||(e=jhe(e));var s,a,t=ZB(e.r),i=ZB(e.g),r=ZB(e.b),o=YB((.2225045*t+.7168786*i+.0606169*r)/Jhe);return t===i&&i===r?s=a=o:(s=YB((.4360747*t+.3850649*i+.1430804*r)/Qhe),a=YB((.0139322*t+.0971045*i+.7141733*r)/epe)),new zf(116*o-16,500*(s-o),200*(o-a),e.opacity)}function rpe(e,t,i,r){return 1===arguments.length?ipe(e):new zf(e,t,i,r??1)}function zf(e,t,i,r){this.l=+e,this.a=+t,this.b=+i,this.opacity=+r}function YB(e){return e>aat?Math.pow(e,1/3):e/npe+tpe}function KB(e){return e>p5?e*e*e:npe*(e-tpe)}function XB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ZB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function spe(e,t,i,r){return 1===arguments.length?function ope(e){if(e instanceof Jd)return new Jd(e.h,e.c,e.l,e.opacity);if(e instanceof zf||(e=ipe(e)),0===e.a&&0===e.b)return new Jd(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*sat;return new Jd(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Jd(e,t,i,r??1)}function Jd(e,t,i,r){this.h=+e,this.c=+t,this.l=+i,this.opacity=+r}function ape(e){if(isNaN(e.h))return new zf(e.l,0,0,e.opacity);var t=e.h*oat;return new zf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function QB(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lat(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cat(){return 0}function hat(e){return e instanceof Sw?e:new Sw(e)}Qv(zf,rpe,GS(Gg,{brighter(e){return new zf(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new zf(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return new bl(XB(3.1338561*(t=Qhe*KB(t))-1.6168667*(e=Jhe*KB(e))-.4906146*(i=epe*KB(i))),XB(-.9787684*t+1.9161415*e+.033454*i),XB(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}})),Qv(Jd,spe,GS(Gg,{brighter(e){return new Jd(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new Jd(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return ape(this).rgb()}}));const lpe=Symbol("vega_selection_getter");function upe(e){return(!e.getter||!e.getter[lpe])&&(e.getter=Rc(e.field),e.getter[lpe]=!0),e.getter}const JB="intersect",e0="_vgsid_",t9=Rc(e0),vat="E",_at="R",yat="R-E",bat="R-LE",wat="R-RE",Eat="E-LT",Sat="E-LTE",Cat="E-GT",Dat="E-GTE",xat="E-VALID",Mat="E-ONE",QS="index:unit";function dpe(e,t){for(var a,l,i=t.fields,r=t.values,o=i.length,s=0;s<o;++s)if(up(a=upe(l=i[s])(e))&&(a=al(a)),up(r[s])&&(r[s]=al(r[s])),Pt(r[s])&&up(r[s][0])&&(r[s]=r[s].map(al)),l.type===vat){if(Pt(r[s])?!r[s].includes(a):a!==r[s])return!1}else if(l.type===_at){if(!d3(a,r[s]))return!1}else if(l.type===wat){if(!d3(a,r[s],!0,!1))return!1}else if(l.type===yat){if(!d3(a,r[s],!1,!1))return!1}else if(l.type===bat){if(!d3(a,r[s],!1,!0))return!1}else if(l.type===Eat){if(a>=r[s])return!1}else if(l.type===Sat){if(a>r[s])return!1}else if(l.type===Cat){if(a<=r[s])return!1}else if(l.type===Dat){if(a<r[s])return!1}else if(l.type===xat){if(null===a||isNaN(a))return!1}else if(l.type===Mat&&-1===r[s].indexOf(a))return!1;return!0}const hpe=function uat(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=QB,i=(l,u)=>QB(e(l),u),r=(l,u)=>e(l)-u):(t=e===QB||e===lat?e:cat,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(t9),Tat=hpe.left,Nat=hpe.right;var e$={[`${e0}_union`]:function fat(...e){const t=new Sw;for(const i of e)for(const r of i)t.add(r);return t},[`${e0}_intersect`]:function dat(e,...t){e=new Sw(e),t=t.map(hat);e:for(const i of e)for(const r of t)if(!r.has(i)){e.delete(i);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var i=0,r=t.length;i<r;++i)e.includes(t[i])||e.push(t[i]);return e},E_intersect:function(e,t){return e.length?e.filter(i=>t.includes(i)):t},R_union:function(e,t){var i=al(t[0]),r=al(t[1]);return i>r&&(i=t[1],r=t[0]),e.length?(e[0]>i&&(e[0]=i),e[1]<r&&(e[1]=r),e):[i,r]},R_intersect:function(e,t){var i=al(t[0]),r=al(t[1]);return i>r&&(i=t[1],r=t[0]),e.length?r<e[0]||e[1]<i?[]:(e[0]<i&&(e[0]=i),e[1]>r&&(e[1]=r),e):[i,r]}};const kat=":",Fat="@";function t$(e,t,i,r){t[0].type!==Vg&&Rt("First argument to selection functions must be a string literal.");const o=t[0].value,s=t.length>=2&&Rr(t).value,a="unit",l=Fat+a,u=kat+o;s===JB&&!Gn(r,l)&&(r[l]=i.getData(o).indataRef(i,a)),Gn(r,u)||(r[u]=i.getData(o).tuplesRef())}function ppe(e){const t=this.context.data[e];return t?t.values.value:[]}const n9=e=>function(t,i){const r=this.context.dataflow.locale();return null===t?"null":r[e](i)(t)},Uat=n9("format"),gpe=n9("timeFormat"),Vat=n9("utcFormat"),Hat=n9("timeParse"),zat=n9("utcParse"),JS=new Date(2e3,0,1);function eC(e,t,i){return Number.isInteger(e)&&Number.isInteger(t)?(JS.setYear(2e3),JS.setMonth(e),JS.setDate(t),gpe.call(this,JS,i)):""}const Yat=":",n$="%",mpe="$";function i$(e,t,i,r){t[0].type!==Vg&&Rt("First argument to data functions must be a string literal.");const o=t[0].value,s=Yat+o;if(!Gn(s,r))try{r[s]=i.getData(o).tuplesRef()}catch{}}function Zl(e,t,i,r){if(t[0].type===Vg)vpe(i,r,t[0].value);else for(e in i.scales)vpe(i,r,e)}function vpe(e,t,i){const r=n$+i;if(!Gn(t,r))try{t[r]=e.scaleRef(i)}catch{}}function t0(e,t){if(Bn(e)){const i=t.scales[e];return i&&ile(i.value)?i.value:void 0}if(ur(e))return ile(e)?e:void 0}function r$(e,t){return function(i,r,o){if(i){const s=t0(i,(o||this).context);return s&&s.path[e](r)}return t(r)}}const Qat=r$("area",function Fst(e){return BS=new Xd,PB(e,Zd),2*BS}),Jat=r$("bounds",function Hst(e){var t,i,r,o,s,a,l;if(ac=Es=-(us=Eu=1/0),jp=[],PB(e,ch),i=jp.length){for(jp.sort(Vst),t=1,s=[r=jp[0]];t<i;++t)Fhe(r,(o=jp[t])[0])||Fhe(r,o[1])?(lc(r[0],o[1])>lc(r[0],r[1])&&(r[1]=o[1]),lc(o[0],r[1])>lc(r[0],r[1])&&(r[0]=o[0])):s.push(r=o);for(a=-1/0,t=0,r=s[i=s.length-1];t<=i;r=o,++t)(l=lc(r[1],(o=s[t])[0]))>a&&(a=l,us=o[0],Es=r[1])}return jp=uh=null,us===1/0||Eu===1/0?[[NaN,NaN],[NaN,NaN]]:[[us,Eu],[Es,ac]]}),elt=r$("centroid",function Yst(e){Xv=$S=US=VS=HS=zS=qS=jS=0,VB=new Xd,HB=new Xd,zB=new Xd,PB(e,Vf);var t=+VB,i=+HB,r=+zB,o=RB(t,i,r);return o<1e-12&&(t=zS,i=qS,r=jS,$S<kS&&(t=US,i=VS,r=HS),(o=RB(t,i,r))<1e-12)?[NaN,NaN]:[FS(i,t)*Wv,kB(r/o)*Wv]});function o$(e,t,i){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(i)))}catch(r){e.warn(r)}return i[i.length-1]}function s$(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a$(e){const t=GB(e);return.2126*s$(t.r)+.7152*s$(t.g)+.0722*s$(t.b)}function _pe(e,t){return e===t||e!=e&&t!=t||(Pt(e)?!(!Pt(t)||e.length!==t.length)&&function llt(e,t){for(let i=0,r=e.length;i<r;++i)if(!_pe(e[i],t[i]))return!1;return!0}(e,t):!(!Ln(e)||!Ln(t))&&ype(e,t))}function ype(e,t){for(const i in e)if(!_pe(e[i],t[i]))return!1;return!0}function bpe(e){return t=>ype(e,t)}const wpe={};function tC(e){return Pt(e)||ArrayBuffer.isView(e)?e:null}function l$(e){return tC(e)||(Bn(e)?e:null)}const Epe=e=>e.data;function Spe(e,t){const i=ppe.call(t,e);return i.root&&i.root.lookup||{}}const Cpe=()=>typeof window<"u"&&window||null;function Dpe(e,t,i){if(!e)return[];const[r,o]=e,s=(new zs).set(r[0],r[1],o[0],o[1]);return Gue(i||this.context.dataflow.scenegraph().root,s,function Flt(e){let t=null;if(e){const i=Un(e.marktype),r=Un(e.markname);t=o=>(!i.length||i.some(s=>o.marktype===s))&&(!r.length||r.some(s=>o.name===s))}return t}(t))}const i9={random:()=>$c(),cumulativeNormal:Xb,cumulativeLogNormal:hR,cumulativeUniform:vR,densityNormal:lR,densityLogNormal:dR,densityUniform:mR,quantileNormal:Zb,quantileLogNormal:pR,quantileUniform:_R,sampleNormal:Kb,sampleLogNormal:fR,sampleUniform:gR,isArray:Pt,isBoolean:lp,isDate:up,isDefined:e=>void 0!==e,isNumber:Kr,isObject:Ln,isRegExp:tO,isString:Bn,isTuple:Ub,isValid:e=>null!=e&&e==e,toBoolean:iO,toDate:e=>rO(e),toNumber:al,toString:oO,indexof:function plt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return l$(e).indexOf(...i)},join:function hlt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return tC(e).join(...i)},lastindexof:function glt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return l$(e).lastIndexOf(...i)},replace:function vlt(e,t,i){return ur(i)&&Rt("Function argument passed to replace."),!Bn(t)&&!tO(t)&&Rt("Please pass a string or RegExp argument to replace."),String(e).replace(t,i)},reverse:function _lt(e){return tC(e).slice().reverse()},sort:function ylt(e){return tC(e).slice().sort(c3)},slice:function mlt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return l$(e).slice(...i)},flush:tie,lerp:iie,merge:function alt(){const e=[].slice.call(arguments);return e.unshift({}),cr(...e)},pad:sie,peek:Rr,pluck:function dlt(e,t){const i=wpe[t]||(wpe[t]=Rc(t));return Pt(e)?e.map(i):i(e)},span:Z6,inrange:d3,truncate:aie,rgb:GB,lab:rpe,hcl:spe,hsl:Xhe,luminance:a$,contrast:function slt(e,t){const i=a$(e),r=a$(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)},sequence:function Pat(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s},format:Uat,utcFormat:Vat,utcParse:zat,utcOffset:Uie,utcSequence:zie,timeFormat:gpe,timeParse:Hat,timeOffset:$ie,timeSequence:Hie,timeUnitSpecifier:Aie,monthFormat:function qat(e){return eC.call(this,e,1,"%B")},monthAbbrevFormat:function jat(e){return eC.call(this,e,1,"%b")},dayFormat:function Gat(e){return eC.call(this,0,2+e,"%A")},dayAbbrevFormat:function Wat(e){return eC.call(this,0,2+e,"%a")},quarter:Zne,utcquarter:Qne,week:Nie,utcweek:Rie,dayofyear:Tie,utcdayofyear:Oie,warn:function ilt(){return o$(this.context.dataflow,"warn",arguments)},info:function rlt(){return o$(this.context.dataflow,"info",arguments)},debug:function olt(){return o$(this.context.dataflow,"debug",arguments)},extent:e=>Id(e),inScope:function nlt(e){const t=this.context.group;let i=!1;if(t)for(;e;){if(e===t){i=!0;break}e=e.mark.group}return i},intersect:Dpe,clampRange:Jne,pinchDistance:function clt(e){const t=e.touches;return Math.hypot(t[0].clientX-t[1].clientX,t[0].clientY-t[1].clientY)},pinchAngle:function flt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function Olt(){const e=Cpe();return e?e.screen:{}},containerSize:function klt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function Rlt(){const e=Cpe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function blt(e,t,i){return Vk(e||0,t||0,i||0)},setdata:function Bat(e,t){const i=this.context.dataflow;return i.pulse(this.context.data[e].input,i.changeset().remove(kc).insert(t)),1},pathShape:function Tlt(e){let t=null;return function(i){return i?H4(i,t=t||R3(e)):e}},panLinear:Wne,panLog:Yne,panPow:Kne,panSymlog:Xne,zoomLinear:XI,zoomLog:ZI,zoomPow:Mb,zoomSymlog:QI,encode:function $at(e,t,i){if(e){const r=this.context.dataflow;r.pulse(e.mark.source,r.changeset().encode(e,t))}return void 0!==i?i:e},modify:function ult(e,t,i,r,o,s){const a=this.context.dataflow,l=this.context.data[e],u=l.input,c=a.stamp();let d,h,f=l.changes;if(!1===a._trigger||!(u.value.length||t||r))return 0;if((!f||f.stamp<c)&&(l.changes=f=a.changeset(),f.stamp=c,a.runAfter(()=>{l.modified=!0,a.pulse(u,f).run()},!0,1)),i&&(d=!0===i?kc:Pt(i)||Ub(i)?i:bpe(i),f.remove(d)),t&&f.insert(t),r&&(d=bpe(r),u.value.some(d)?f.remove(d):f.insert(r)),o)for(h in s)f.modify(o,h,s[h]);return 1},lassoAppend:function Plt(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const o=(e=Un(e))[e.length-1];return void 0===o||Math.hypot(o[0]-t,o[1]-i)>r?[...e,[t,i]]:e},lassoPath:function Llt(e){return Un(e).reduce((t,i,r)=>{let[o,s]=i;return t+(0==r?`M ${o},${s} `:r===e.length-1?" Z":`L ${o},${s} `)},"")},intersectLasso:function Blt(e,t,i){const{x:r,y:o,mark:s}=i,a=(new zs).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,c]of t)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),c<a.y1&&(a.y1=c),c>a.y2&&(a.y2=c);return a.translate(r,o),Dpe([[a.x1,a.y1],[a.x2,a.y2]],e,s).filter(u=>function $lt(e,t,i){let r=0;for(let o=0,s=i.length-1;o<i.length;s=o++){const[a,l]=i[s],[u,c]=i[o];c>t!=l>t&&e<(a-u)*(t-c)/(l-c)+u&&r++}return 1&r}(u.x,u.y,t))}},Ult=["view","item","group","xy","x","y"],xpe="this.",u$={},Mpe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${yn(mpe+e)}]`,functions:function Hlt(e){const t=ghe(e);Ult.forEach(i=>t[i]="event.vega."+i);for(const i in i9)t[i]=xpe+i;return cr(t,function Zat(e,t,i){t.__bandwidth=o=>o&&o.bandwidth?o.bandwidth():0,i._bandwidth=Zl,i._range=Zl,i._scale=Zl;const r=o=>"_["+(o.type===Vg?yn(n$+o.value):yn(n$)+"+"+e(o))+"]";return{_bandwidth:o=>`this.__bandwidth(${r(o[0])})`,_range:o=>`${r(o[0])}.range()`,_scale:o=>`${r(o[0])}(${e(o[1])})`}}(e,i9,u$)),t},constants:phe,visitors:u$},c$=mhe(Mpe);function Is(e,t,i){return 1===arguments.length?i9[e]:(i9[e]=t,i&&(u$[e]=i),c$&&(c$.functions[e]=xpe+e),this)}function n0(e,t){const i={};let r;try{r=hhe(e=Bn(e)?e:yn(e)+"")}catch{Rt("Expression parse error: "+e)}r.visit(s=>{if(s.type!==J0e)return;const a=s.callee.name,l=Mpe.visitors[a];l&&l(a,s.arguments,t,i)});const o=c$(r);return o.globals.forEach(s=>{const a=mpe+s;!Gn(i,a)&&t.getSignal(s)&&(i[a]=t.signalRef(s))}),{$expr:cr({code:o.code},t.options.ast?{ast:r}:null),$fields:o.fields,$params:i}}Is("bandwidth",function wlt(e,t){const i=t0(e,(t||this).context);return i&&i.bandwidth?i.bandwidth():0},Zl),Is("copy",function Elt(e,t){const i=t0(e,(t||this).context);return i?i.copy():void 0},Zl),Is("domain",function Slt(e,t){const i=t0(e,(t||this).context);return i?i.domain():[]},Zl),Is("range",function Dlt(e,t){const i=t0(e,(t||this).context);return i&&i.range?i.range():[]},Zl),Is("invert",function Clt(e,t,i){const r=t0(e,(i||this).context);return r?Pt(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0},Zl),Is("scale",function xlt(e,t,i){const r=t0(e,(i||this).context);return r?r(t):void 0},Zl),Is("gradient",function Mlt(e,t,i,r,o){e=t0(e,(o||this).context);const s=Dle(t,i);let a=e.domain(),l=a[0],u=Rr(a),c=sl;return u-l?c=cle(e,l,u):e=(e.interpolator?Qr("sequential")().interpolator(e.interpolator()):Qr("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,u=1]),e.ticks&&(a=e.ticks(+r||15),l!==a[0]&&a.unshift(l),u!==Rr(a)&&a.push(u)),a.forEach(f=>s.stop(c(f),e(f))),s},Zl),Is("geoArea",Qat,Zl),Is("geoBounds",Jat,Zl),Is("geoCentroid",elt,Zl),Is("geoShape",function Alt(e,t,i){const r=t0(e,(i||this).context);return function(o){return r?r.path.context(o)(t):""}},Zl),Is("geoScale",function tlt(e,t){const i=t0(e,(t||this).context);return i&&i.scale()},Zl),Is("indata",function Lat(e,t,i){const r=this.context.data[e]["index:"+t],o=r?r.value.get(i):void 0;return o&&o.count},function Xat(e,t,i,r){t[0].type!==Vg&&Rt("First argument to indata must be a string literal."),t[1].type!==Vg&&Rt("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,a="@"+s;Gn(a,r)||(r[a]=i.getData(o).indataRef(i,s))}),Is("data",ppe,i$),Is("treePath",function Nlt(e,t,i){const r=Spe(e,this),o=r[t],s=r[i];return o&&s?o.path(s).map(Epe):void 0},i$),Is("treeAncestors",function Ilt(e,t){const i=Spe(e,this)[t];return i?i.ancestors().map(Epe):void 0},i$),Is("vlSelectionTest",function Aat(e,t,i){for(var c,f,d,h,p,r=this.context.data[e],o=r?r.values.value:[],s=r?r[QS]&&r[QS].value:void 0,a=i===JB,l=o.length,u=0;u<l;++u)if(c=o[u],s&&a){if(-1===(d=(f=f||{})[h=c.unit]||0))continue;if(p=dpe(t,c),f[h]=p?-1:++d,p&&1===s.size)return!0;if(!p&&d===s.get(h).count)return!1}else if(a^(p=dpe(t,c)))return p;return l&&a},t$),Is("vlSelectionIdTest",function Iat(e,t,i){const r=this.context.data[e],o=r?r.values.value:[],s=r?r[QS]&&r[QS].value:void 0,a=i===JB,l=t9(t),u=Tat(o,l);if(u===o.length||t9(o[u])!==l)return!1;if(s&&a){if(1===s.size)return!0;if(Nat(o,l)-u<s.size)return!1}return!0},t$),Is("vlSelectionResolve",function Rat(e,t,i,r){for(var c,f,d,h,p,m,v,_,y,A,F,o=this.context.data[e],s=o?o.values.value:[],a={},l={},u={},S=s.length,M=0;M<S;++M)if(h=(c=s[M]).unit,d=c.values,(f=c.fields)&&d){for(A=0,F=f.length;A<F;++A)_=(v=a[(p=f[A]).field]||(a[p.field]={}))[h]||(v[h]=[]),u[p.field]=y=p.type.charAt(0),v[h]=(0,e$[`${y}_union`])(_,Un(d[A]));i&&(_=l[h]||(l[h]=[])).push(Un(d).reduce((N,H,K)=>(N[f[K].field]=H,N),{}))}else p=e0,m=t9(c),(_=(v=a[p]||(a[p]={}))[h]||(v[h]=[])).push(m),i&&(_=l[h]||(l[h]=[])).push({[e0]:m});return t=t||"union",a[e0]?a[e0]=e$[`${e0}_${t}`](...Object.values(a[e0])):Object.keys(a).forEach(N=>{a[N]=Object.keys(a[N]).map(H=>a[N][H]).reduce((H,K)=>void 0===H?K:e$[`${u[N]}_${t}`](H,K))}),s=Object.keys(l),i&&s.length&&(a[r?"vlPoint":"vlMulti"]="union"===t?{or:s.reduce((H,K)=>(H.push(...l[K]),H),[])}:{and:s.map(H=>({or:l[H]}))}),a},t$),Is("vlSelectionTuples",function Oat(e,t){return e.map(i=>cr(t.fields?{values:t.fields.map(r=>upe(r)(i.datum))}:{[e0]:t9(i.datum)},t))});const qlt=Sf(["rule"]),Ape=Sf(["group","image","rect"]);function f$(e){return(e+"").toLowerCase()}function r9(e,t,i){i.endsWith(";")||(i="return("+i+");");const r=Function(...t.concat(i));return e&&e.functions?r.bind(e.functions):r}var Klt={operator:(e,t)=>r9(e,["_"],t.code),parameter:(e,t)=>r9(e,["datum","_"],t.code),event:(e,t)=>r9(e,["event"],t.code),handler:(e,t)=>r9(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:i,channels:r}=t;let o="var o=item,datum=o.datum,m=0,$;";for(const s in r){const a="o["+yn(s)+"]";o+=`$=${r[s].code};if(${a}!==$)${a}=$,m=1;`}return o+=function jlt(e,t){let i="";return qlt[t]||(e.x2&&(e.x?(Ape[t]&&(i+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),i+="o.width=o.x2-o.x;"):i+="o.x=o.x2-(o.width||0);"),e.xc&&(i+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Ape[t]&&(i+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),i+="o.height=o.y2-o.y;"):i+="o.y=o.y2-(o.height||0);"),e.yc&&(i+="o.y=o.yc-(o.height||0)/2;")),i}(r,i),o+="return m;",r9(e,["item","_"],o)},codegen:{get(e){const t=`[${e.map(yn).join("][")}]`,i=Function("_",`return _${t};`);return i.path=t,i},comparator(e,t){let i;const o=Function("a","b","var u, v; return "+e.map((s,a)=>{const l=t[a];let u,c;return s.path?(u=`a${s.path}`,c=`b${s.path}`):((i=i||{})["f"+a]=s,u=`this.f${a}(a)`,c=`this.f${a}(b)`),function Ylt(e,t,i,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${i}\n  : (u > v || v == null) && u != null ? ${r}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${i}\n  : v !== v && u === u ? ${r} : `}(u,c,-l,l)}).join("")+"0;");return i?o.bind(i):o}}};function Tpe(e,t,i){if(!e||!Ln(e))return e;for(let s,r=0,o=Npe.length;r<o;++r)if(s=Npe[r],Gn(e,s.key))return s.parse(e,t,i);return e}var Npe=[{key:"$ref",parse:function Jlt(e,t){return t.get(e.$ref)||Rt("Operator not defined: "+e.$ref)}},{key:"$key",parse:function tut(e,t){const i="k:"+e.$key+"_"+!!e.$flat;return t.fn[i]||(t.fn[i]=nO(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function eut(e,t,i){e.$params&&t.parseParameters(e.$params,i);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=cu(t.parameterExpression(e.$expr),e.$fields))}},{key:"$field",parse:function nut(e,t){if(!e.$field)return null;const i="f:"+e.$field+"_"+e.$name;return t.fn[i]||(t.fn[i]=Rc(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function rut(e,t){const i=e.$encode,r={};for(const o in i){const s=i[o];r[o]=cu(t.encodeExpression(s.$expr),s.$fields),r[o].output=s.$output}return r}},{key:"$compare",parse:function iut(e,t){const i="c:"+e.$compare+"_"+e.$order,r=Un(e.$compare).map(o=>o&&o.$tupleid?yi:o);return t.fn[i]||(t.fn[i]=JI(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function out(e,t){return t}},{key:"$subflow",parse:function sut(e,t){const i=e.$subflow;return function(r,o,s){const a=t.fork().parse(i),l=a.get(i.operators[0].id),u=a.signals.parent;return u&&u.set(s),l.detachSubflow=()=>t.detach(a),l}}},{key:"$tupleid",parse:function aut(){return yi}}];const cut={skip:!0};function Ipe(e,t,i,r){return new Ope(e,t,i,r)}function Ope(e,t,i,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Klt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},i&&(this.functions=Object.create(i),this.functions.context=this)}function Rpe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Ope.prototype=Rpe.prototype={fork(){const e=new Rpe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(i=>i!==e);const t=Object.keys(e.nodes);for(const i of t)e.nodes[i]._targets=null;for(const i of t)e.nodes[i].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const i=this,r=i.dataflow,o=e.value;if(i.set(e.id,t),function Wlt(e){return"collect"===f$(e)}(e.type)&&o&&(o.$ingest?r.ingest(t,o.$ingest,o.$format):o.$request?r.preload(t,o.$request,o.$format):r.pulse(t,r.changeset().insert(o))),e.root&&(i.root=t),e.parent){let s=i.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(i.unresolved=i.unresolved||[]).push(()=>{s=i.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(i.signals[e.signal]=t),e.scale&&(i.scales[e.scale]=t),e.data)for(const s in e.data){const a=i.data[s]||(i.data[s]={});e.data[s].forEach(l=>a[l]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[f$(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,i,r,o){this.dataflow.on(t,i,r,o,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function zlt(e){const t=this,i=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),i.forEach(r=>t.parseOperator(r)),i.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()},parseOperator:function Xlt(e){const t=this;!function Glt(e){return"operator"===f$(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function Zlt(e){const t=this;if(e.params){const i=t.get(e.id);i||Rt("Invalid operator id: "+e.id),t.dataflow.connect(i,i.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function Qlt(e,t){t=t||{};const i=this;for(const r in e){const o=e[r];t[r]=Pt(o)?o.map(s=>Tpe(s,i,t)):Tpe(o,i,t)}return t},parseStream:function lut(e){var o,t=this,i=null!=e.filter?t.eventExpression(e.filter):void 0,r=null!=e.stream?t.get(e.stream):void 0;e.source?r=t.events(e.source,e.type,i):e.merge&&(r=(o=e.merge.map(s=>t.get(s)))[0].merge.apply(o[0],o.slice(1))),e.between&&(o=e.between.map(s=>t.get(s)),r=r.between(o[0],o[1])),e.filter&&(r=r.filter(i)),null!=e.throttle&&(r=r.throttle(+e.throttle)),null!=e.debounce&&(r=r.debounce(+e.debounce)),null==r&&Rt("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)},parseUpdate:function uut(e){var o,t=this,i=Ln(i=e.source)?i.$ref:i,r=t.get(i),s=e.update,a=void 0;r||Rt("Source not defined: "+e.source),o=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(a=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,o,s,a)},getState:function fut(e){var t=this,i={};if(e.signals){var r=i.signals={};Object.keys(t.signals).forEach(s=>{const a=t.signals[s];e.signals(s,a)&&(r[s]=a.value)})}if(e.data){var o=i.data={};Object.keys(t.data).forEach(s=>{const a=t.data[s];e.data(s,a)&&(o[s]=a.input.value)})}return t.subcontext&&!1!==e.recurse&&(i.subcontext=t.subcontext.map(s=>s.getState(e))),i},setState:function dut(e){var t=this,i=t.dataflow,r=e.data,o=e.signals;Object.keys(o||{}).forEach(s=>{i.update(t.signals[s],o[s],cut)}),Object.keys(r||{}).forEach(s=>{i.pulse(t.data[s].input,i.changeset().remove(kc).insert(r[s]))}),(e.subcontext||[]).forEach((s,a)=>{const l=t.subcontext[a];l&&l.setState(s)})}};var nC,a9,g5=0,o9=0,s9=0,kpe=1e3,iC=0,Kg=0,rC=0,l9="object"==typeof performance&&performance.now?performance:Date,Fpe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d$(){return Kg||(Fpe(hut),Kg=l9.now()+rC)}function hut(){Kg=0}function oC(){this._call=this._time=this._next=null}function Ppe(){Kg=(iC=l9.now())+rC,g5=o9=0;try{!function gut(){d$(),++g5;for(var t,e=nC;e;)(t=Kg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--g5}()}finally{g5=0,function vut(){for(var e,i,t=nC,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:nC=i);a9=e,h$(r)}(),Kg=0}}function mut(){var e=l9.now(),t=e-iC;t>kpe&&(rC-=t,iC=e)}function h$(e){g5||(o9&&(o9=clearTimeout(o9)),e-Kg>24?(e<1/0&&(o9=setTimeout(Ppe,e-l9.now()-rC)),s9&&(s9=clearInterval(s9))):(s9||(iC=l9.now(),s9=setInterval(mut,kpe)),g5=1,Fpe(Ppe)))}function Lpe(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}oC.prototype=function put(e,t,i){var r=new oC;return r.restart(e,t,i),r}.prototype={constructor:oC,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?d$():+i)+(null==t?0:+t),!this._next&&a9!==this&&(a9?a9._next=this:nC=this,a9=this),this._call=e,this._time=i,h$()},stop:function(){this._call&&(this._call=null,this._time=1/0,h$())}};const p$="default";function g$(e,t){const i=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(i)return null==t?i.style.removeProperty("cursor"):i.style.cursor=t}function sC(e,t){var i=e._runtime.data;return Gn(i,t)||Rt("Unrecognized data set: "+t),i[t]}function aC(e,t){Pre(t)||Rt("Second argument to changes must be a changeset.");const i=sC(this,e);return i.modified=!0,this.pulse(i.input,t)}function Bpe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function $pe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function lC(e){var t=e.padding(),i=e._origin;return[t.left+i[0],t.top+i[1]]}const Nut={trap:!1};function Vpe(e,t,i,r){e._eventListeners.push({type:i,sources:Un(t),handler:r})}function uC(e,t,i){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Ln(r)&&!r[i])||(e.warn(`Blocked ${t} ${i} event listener.`),!1)}function Hpe(e){return e.item}function zpe(e){return e.item.mark.source}function qpe(e){return function(t,i){return i.vega.view().changeset().encode(i.item,e)}}function uc(e,t,i){const r=document.createElement(e);for(const o in t)r.setAttribute(o,t[o]);return null!=i&&(r.textContent=i),r}const Put="vega-bind",Lut="vega-bind-name",But="vega-bind-radio";function $ut(e,t,i){if(!t)return;const r=i.param;let o=i.state;return o||(o=i.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{o.source=!0,e.signal(r.signal,a)})}},r.debounce&&(o.update=eO(r.debounce,o.update))),(null==r.input&&r.element?Uut:Hut)(o,t,r,e),o.active||(e.on(e._signals[r.signal],null,()=>{o.source?o.source=!1:o.set(e.signal(r.signal))}),o.active=!0),o}function Uut(e,t,i,r){const o=i.event||"input",s=()=>e.update(t.value);r.signal(i.signal,t.value),t.addEventListener(o,s),Vpe(r,t,o,s),e.set=a=>{t.value=a,t.dispatchEvent(function Vut(e){return typeof Event<"u"?new Event(e):{type:e}}(o))}}function Hut(e,t,i,r){const o=r.signal(i.signal),s=uc("div",{class:Put}),a="radio"===i.input?s:s.appendChild(uc("label"));a.appendChild(uc("span",{class:Lut},i.name||i.signal)),t.appendChild(s);let l=zut;switch(i.input){case"checkbox":l=qut;break;case"select":l=jut;break;case"radio":l=Gut;break;case"range":l=Wut}l(e,a,i,o)}function zut(e,t,i,r){const o=uc("input");for(const s in i)"signal"!==s&&"element"!==s&&o.setAttribute("input"===s?"type":s,i[s]);o.setAttribute("name",i.signal),o.value=r,t.appendChild(o),o.addEventListener("input",()=>e.update(o.value)),e.elements=[o],e.set=s=>o.value=s}function qut(e,t,i,r){const o={type:"checkbox",name:i.signal};r&&(o.checked=!0);const s=uc("input",o);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=a=>s.checked=!!a||null}function jut(e,t,i,r){const o=uc("select",{name:i.signal}),s=i.labels||[];i.options.forEach((a,l)=>{const u={value:a};cC(a,r)&&(u.selected=!0),o.appendChild(uc("option",u,(s[l]||a)+""))}),t.appendChild(o),o.addEventListener("change",()=>{e.update(i.options[o.selectedIndex])}),e.elements=[o],e.set=a=>{for(let l=0,u=i.options.length;l<u;++l)if(cC(i.options[l],a))return void(o.selectedIndex=l)}}function Gut(e,t,i,r){const o=uc("span",{class:But}),s=i.labels||[];t.appendChild(o),e.elements=i.options.map((a,l)=>{const u={type:"radio",name:i.signal,value:a};cC(a,r)&&(u.checked=!0);const c=uc("input",u);c.addEventListener("change",()=>e.update(a));const f=uc("label",{},(s[l]||a)+"");return f.prepend(c),o.appendChild(f),c}),e.set=a=>{const l=e.elements,u=l.length;for(let c=0;c<u;++c)cC(l[c].value,a)&&(l[c].checked=!0)}}function Wut(e,t,i,r){r=void 0!==r?r:(+i.max+ +i.min)/2;const o=null!=i.max?i.max:Math.max(100,+r)||100,s=i.min||Math.min(0,o,+r)||0,a=i.step||function Cot(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?Q0e(t,e,i):Q0e(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(s,o,100),l=uc("input",{type:"range",name:i.signal,min:s,max:o,step:a});l.value=r;const u=uc("span",{},+r);t.appendChild(l),t.appendChild(u);const c=()=>{u.textContent=l.value,e.update(+l.value)};l.addEventListener("input",c),l.addEventListener("change",c),e.elements=[l],e.set=f=>{l.value=f,u.textContent=f}}function cC(e,t){return e===t||e+""==t+""}function jpe(e,t,i,r,o,s){return(t=t||new r(e.loader())).initialize(i,Bpe(e),$pe(e),lC(e),o,s).background(e.background())}function m$(e,t){return t?function(){try{t.apply(this,arguments)}catch(i){e.error(i)}}:null}function v$(e,t,i){if("string"==typeof t){if(!(typeof document<"u"))return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&i)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const u9=e=>+e||0,Xut=e=>({top:e,bottom:e,left:e,right:e});function Gpe(e){return Ln(e)?{top:u9(e.top),bottom:u9(e.bottom),left:u9(e.left),right:u9(e.right)}:Xut(u9(e))}function _$(e,t,i,r){return y$.apply(this,arguments)}function y$(){return y$=Ks(function*(e,t,i,r){const o=cE(t),s=o&&o.headless;return s||Rt("Unrecognized renderer type: "+t),yield e.runAsync(),jpe(e,null,null,s,i,r).renderAsync(e._scenegraph.root)}),y$.apply(this,arguments)}function b$(){return b$=Ks(function*(e,t){e!==Tp.Canvas&&e!==Tp.SVG&&e!==Tp.PNG&&Rt("Unrecognized image type: "+e);const i=yield _$(this,e,t);return e===Tp.SVG?function Qut(e,t){const i=new Blob([e],{type:t});return window.URL.createObjectURL(i)}(i.svg(),"image/svg+xml"):i.canvas().toDataURL("image/png")}),b$.apply(this,arguments)}function w$(){return w$=Ks(function*(e,t){return(yield _$(this,Tp.Canvas,e,t)).canvas()}),w$.apply(this,arguments)}function E$(){return E$=Ks(function*(e){return(yield _$(this,Tp.SVG,e)).svg()}),E$.apply(this,arguments)}var Wpe="width",Ype="height",S$="padding",Kpe={skip:!0};function Xpe(e,t){var i=e.autosize(),r=e.padding();return t-(i&&i.contains===S$?r.left+r.right:0)}function Zpe(e,t){var i=e.autosize(),r=e.padding();return t-(i&&i.contains===S$?r.top+r.bottom:0)}function sct(e,t){return t.modified&&Pt(t.input.value)&&!e.startsWith("_:vega:_")}function act(e,t){return!("parent"===e||t instanceof E3.proxy)}function cct(e,t,i,r){const o=e.element();o&&o.setAttribute("title",function fct(e){return null==e?"":Pt(e)?Qpe(e):Ln(e)&&!up(e)?function dct(e){return Object.keys(e).map(t=>{const i=e[t];return t+": "+(Pt(i)?Qpe(i):Jpe(i))}).join("\n")}(e):e+""}(r))}function Qpe(e){return"["+e.map(Jpe).join(", ")+"]"}function Jpe(e){return Pt(e)?"[\u2026]":Ln(e)&&!up(e)?"{\u2026}":e}function e1e(e,t){const i=this;if(t=t||{},w3.call(i),t.loader&&i.loader(t.loader),t.logger&&i.logger(t.logger),null!=t.logLevel&&i.logLevel(t.logLevel),t.locale||e.locale){const s=cr({},e.locale,t.locale);i.locale(Cre(s.number,s.time))}i._el=null,i._elBind=null,i._renderType=t.renderer||Tp.Canvas,i._scenegraph=new uue;const r=i._scenegraph.root;i._renderer=null,i._tooltip=t.tooltip||cct,i._redraw=!0,i._handler=(new nv).scene(r),i._globalCursor=!1,i._preventDefault=!1,i._timers=[],i._eventListeners=[],i._resizeListeners=[],i._eventConfig=function Iut(e){const t=cr({defaults:{}},e),i=(r,o)=>{o.forEach(s=>{Pt(r[s])&&(r[s]=Sf(r[s]))})};return i(t.defaults,["prevent","allow"]),i(t,["view","window","selector"]),t}(e.eventConfig),i.globalCursor(i._eventConfig.globalCursor);const o=function tct(e,t,i){return Ipe(e,E3,i9,i).parse(t)}(i,e,t.expr);i._runtime=o,i._signals=o.signals,i._bind=(e.bindings||[]).map(s=>({state:null,param:cr({},s)})),o.root&&o.root.set(r),r.source=o.data.root.input,i.pulse(o.data.root.input,i.changeset().insert(r.items)),i._width=i.width(),i._height=i.height(),i._viewWidth=Xpe(i,i._width),i._viewHeight=Zpe(i,i._height),i._origin=[0,0],i._resize=0,i._autosize=1,function ict(e){var t=e._signals,i=t[Wpe],r=t[Ype],o=t[S$];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,l=>{e._width=l.size,e._viewWidth=Xpe(e,l.size),s()},{size:i}),e._resizeHeight=e.add(null,l=>{e._height=l.size,e._viewHeight=Zpe(e,l.size),s()},{size:r});const a=e.add(null,s,{pad:o});e._resizeWidth.rank=i.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=o.rank+1}(i),function but(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(i),function wut(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:p$,item:null}));e.on(e.events("view","pointermove"),t,(i,r)=>{const o=t.value,s=o?Bn(o)?o:o.user:p$,a=r.item&&r.item.cursor||null;return o&&s===o.user&&a==o.item?o:{user:s,item:a}}),e.add(null,function(i){let r=i.cursor,o=this.value;return Bn(r)||(o=r.item,r=r.user),g$(e,r&&r!==p$?r:o||r),o},{cursor:t})}(i),i.description(e.description),t.hover&&i.hover(),t.container&&i.initialize(t.container,t.bind),t.watchPixelRatio&&i._watchPixelRatio()}function fC(e,t){return Gn(e._signals,t)?e._signals[t]:Rt("Unrecognized signal name: "+yn(t))}function t1e(e,t){const i=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return i.length?i[0]:null}function n1e(e,t,i,r){let o=t1e(i,r);return o||(o=m$(e,()=>r(t,i.value)),o.handler=r,e.on(i,null,o)),e}function i1e(e,t,i){const r=t1e(t,i);return r&&t._targets.remove(r),e}Dn(e1e,w3,{evaluate(e,t,i){var r=this;return Ks(function*(){if(yield w3.prototype.evaluate.call(r,e,t),r._redraw||r._resize)try{r._renderer&&(r._resize&&(r._resize=0,function Dut(e){var t=lC(e),i=Bpe(e),r=$pe(e);e._renderer.background(e.background()),e._renderer.resize(i,r,t),e._handler.origin(t),e._resizeListeners.forEach(o=>{try{o(i,r)}catch(s){e.error(s)}})}(r)),yield r._renderer.renderAsync(r._scenegraph.root)),r._redraw=!1}catch(o){r.error(o)}return i&&$b(r,i),r})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Lpe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,i){const r=fC(this,e);return 1===arguments.length?r.value:this.update(r,t,i)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Gpe(e)):Gpe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(cE(e)||Rt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(w3.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(fC(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function rct(e,t,i,r,o,s){this.runAfter(a=>{let l=0;a._autosize=0,a.width()!==i&&(l=1,a.signal(Wpe,i,Kpe),a._resizeWidth.skip(!0)),a.height()!==r&&(l=1,a.signal(Ype,r,Kpe),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==o[0]||a._origin[1]!==o[1])&&(a._resize=1,a._origin=o),l&&a.run("enter"),s&&a.runAfter(u=>u.resize())},!1,1)},addEventListener(e,t,i){let r=t;return i&&!1===i.trap||(r=m$(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var o,s,i=this._handler.handlers(e),r=i.length;--r>=0;)if(o=i[r].handler,e===(s=i[r].type)&&(t===o||t===o.raw)){this._handler.off(s,o);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,i=t.indexOf(e);return i>=0&&t.splice(i,1),this},addSignalListener(e,t){return n1e(this,e,fC(this,e),t)},removeSignalListener(e,t){return i1e(this,fC(this,e),t)},addDataListener(e,t){return n1e(this,e,sC(this,e).values,t)},removeDataListener(e,t){return i1e(this,sC(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=g$(this,null);this._globalCursor=!!e,t&&g$(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function uct(e,t){this._timers.push(function _ut(e,t,i){var r=new oC,o=t;return null==t?(r.restart(e,t,i),r):(r._restart=r.restart,r.restart=function(s,a,l){a=+a,l=null==l?d$():+l,r._restart(function u(c){c+=o,r._restart(u,o+=a,l),s(c)},a,l)},r.restart(e,t,i),r)}(function i(r){e({timestamp:Date.now(),elapsed:r})},t))},events:function Rut(e,t,i){var a,r=this,o=new qb(i),s=function(c,f){r.runAsync(null,()=>{"view"===e&&function Out(e,t){var i=e._eventConfig.defaults,r=i.prevent,o=i.allow;return!1!==r&&!0!==o&&(!0===r||!1===o||(r?r[t]:o?!o[t]:e.preventDefault()))}(r,t)&&c.preventDefault(),o.receive(function xut(e,t,i){var s,l,r=e._renderer,o=r&&r.canvas();return o&&(l=lC(e),(s=Zw(t.changedTouches?t.changedTouches[0]:t,o))[0]-=l[0],s[1]-=l[1]),t.dataflow=e,t.item=i,t.vega=function Mut(e,t,i){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function o(a){var u,l=r;if(a)for(u=t;u;u=u.mark.group)if(u.mark.name===a){l=u;break}return l&&l.mark&&l.mark.interactive?l:{}}function s(a){if(!a)return i;Bn(a)&&(a=o(a));const l=i.slice();for(;a;)l[0]-=a.x||0,l[1]-=a.y||0,a=a.mark&&a.mark.group;return l}return{view:ll(e),item:ll(t||{}),group:o,xy:s,x:a=>s(a)[0],y:a=>s(a)[1]}}(e,i,s),t}(r,c,f))})};if("timer"===e)uC(r,"timer",t)&&r.timer(s,t);else if("view"===e)uC(r,"view",t)&&r.addEventListener(t,s,Nut);else if("window"===e?uC(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&uC(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),a){for(var l=0,u=a.length;l<u;++l)a[l].addEventListener(t,s);Vpe(r,a,t,s)}else r.warn("Can not resolve event source: "+e);return o},finalize:function Fut(){var o,s,a,e=this._tooltip,t=this._timers,i=this._handler.handlers(),r=this._eventListeners;for(o=t.length;--o>=0;)t[o].stop();for(o=r.length;--o>=0;)for(s=(a=r[o]).sources.length;--s>=0;)a.sources[s].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),o=i.length;--o>=0;)this._handler.off(i[o].type,i[o].handler);return this},hover:function kut(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","pointerover",Hpe),zpe,qpe(e)),this.on(this.events("view","pointerout",Hpe),zpe,qpe(t)),this},data:function Eut(e,t){return arguments.length<2?sC(this,e).values.value:aC.call(this,e,hg().remove(kc).insert(t))},change:aC,insert:function Sut(e,t){return aC.call(this,e,hg().insert(t))},remove:function Cut(e,t){return aC.call(this,e,hg().remove(t))},scale:function nct(e){var t=this._runtime.scales;return Gn(t,e)||Rt("Unrecognized scale or projection: "+e),t[e].value},initialize:function Kut(e,t){const i=this,r=i._renderType,o=i._eventConfig.bind,s=cE(r);e=i._el=e?v$(i,e,!0):null,function yut(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Lpe(t,e.description()))}(i),s||i.error("Unrecognized renderer type: "+r);const a=s.handler||nv,l=e?s.renderer:s.headless;return i._renderer=l?jpe(i,i._renderer,e,l):null,i._handler=function Yut(e,t,i,r){const o=new r(e.loader(),m$(e,e.tooltip())).scene(e.scenegraph().root).initialize(i,lC(e),e);return t&&t.handlers().forEach(s=>{o.on(s.type,s.handler)}),o}(i,i._handler,e,a),i._redraw=!0,e&&"none"!==o&&(t=t?i._elBind=v$(i,t,!0):e.appendChild(uc("form",{class:"vega-bindings"})),i._bind.forEach(u=>{u.param.element&&"container"!==o&&(u.element=v$(i,u.param.element,!!u.param.input))}),i._bind.forEach(u=>{$ut(i,u.element||t,u)})),i},toImageURL:function Zut(e,t){return b$.apply(this,arguments)},toCanvas:function Jut(e,t){return w$.apply(this,arguments)},toSVG:function ect(e){return E$.apply(this,arguments)},getState:function oct(e){return this._runtime.getState(e||{data:sct,signals:act,recurse:!0})},setState:function lct(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this},_watchPixelRatio:function hct(){if("canvas"===this.renderer()&&this._renderer._canvas){let e=null;const t=()=>{e?.();const i=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);i.addEventListener("change",t),e=()=>{i.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}});const pct="view",dC="[",hC="]",r1e="{",o1e="}",gct=":",s1e=",",mct="@",vct=">",_ct=/[[\]{}]/,yct={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let a1e,l1e;function Gp(e,t,i){return a1e=t||pct,l1e=i||yct,u1e(e.trim()).map(C$)}function c9(e,t,i,r,o){const s=e.length;let l,a=0;for(;t<s;++t){if(l=e[t],!a&&l===i)return t;o&&o.indexOf(l)>=0?--a:r&&r.indexOf(l)>=0&&++a}return t}function u1e(e){const t=[],i=e.length;let r=0,o=0;for(;o<i;)o=c9(e,o,s1e,dC+r1e,hC+o1e),t.push(e.substring(r,o).trim()),r=++o;if(0===t.length)throw"Empty event selector: "+e;return t}function C$(e){return"["===e[0]?function wct(e){const t=e.length;let r,i=1;if(i=c9(e,i,hC,dC,hC),i===t)throw"Empty between selector: "+e;if(r=u1e(e.substring(1,i)),2!==r.length)throw"Between selector must have two elements: "+e;if((e=e.slice(i+1).trim())[0]!==vct)throw"Expected '>' after between selector: "+e;r=r.map(C$);const o=C$(e.slice(1).trim());return o.between?{between:r,stream:o}:(o.between=r,o)}(e):function Ect(e){const t={source:a1e},i=[];let u,c,r=[0,0],o=0,s=0,a=e.length,l=0;if(e[a-1]===o1e){if(l=e.lastIndexOf(r1e),!(l>=0))throw"Unmatched right brace: "+e;try{r=function Sct(e){const t=e.split(s1e);if(!e.length||t.length>2)throw e;return t.map(i=>{const r=+i;if(r!=r)throw e;return r})}(e.substring(l+1,a-1))}catch{throw"Invalid throttle specification: "+e}a=(e=e.slice(0,l).trim()).length,l=0}if(!a)throw e;if(e[0]===mct&&(o=++l),u=c9(e,l,gct),u<a&&(i.push(e.substring(s,u).trim()),s=l=++u),l=c9(e,l,dC),l===a)i.push(e.substring(s,a).trim());else if(i.push(e.substring(s,l).trim()),c=[],s=++l,s===a)throw"Unmatched left bracket: "+e;for(;l<a;){if(l=c9(e,l,hC),l===a)throw"Unmatched left bracket: "+e;if(c.push(e.substring(s,l).trim()),l<a-1&&e[++l]!==dC)throw"Expected left bracket: "+e;s=++l}if(!(a=i.length)||_ct.test(i[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=i[1],o?t.markname=i[0].slice(1):function bct(e){return l1e[e]}(i[0])?t.marktype=i[0]:t.source=i[0]):t.type=i[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=c&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}(e)}function Cct(e){return Ln(e)?e:{type:e||"pad"}}const f9=e=>+e||0,Dct=e=>({top:e,bottom:e,left:e,right:e});function xct(e){return Ln(e)?e.signal?e:{top:f9(e.top),bottom:f9(e.bottom),left:f9(e.left),right:f9(e.right)}:Dct(f9(e))}const _a=e=>Ln(e)&&!Pt(e)?cr({},e):{value:e};function c1e(e,t,i,r){return null!=i?(Ln(i)&&!Pt(i)||Pt(i)&&i.length&&Ln(i[0])?e.update[t]=i:e[r||"enter"][t]={value:i},1):0}function Ba(e,t,i){for(const r in t)c1e(e,r,t[r]);for(const r in i)c1e(e,r,i[r],"update")}function m5(e,t,i){for(const r in t)i&&Gn(i,r)||(e[r]=cr(e[r]||{},t[r]));return e}function v5(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const D$="mark",x$="frame",M$="scope",Mct="axis",Act="axis-domain",Tct="axis-grid",Nct="axis-label",Ict="axis-tick",Oct="axis-title",Rct="legend",kct="legend-band",Fct="legend-entry",Pct="legend-gradient",f1e="legend-label",Lct="legend-symbol",Bct="legend-title",$ct="title",Uct="title-text",Vct="title-subtitle";function A$(e,t,i){e[t]=i&&i.signal?{signal:i.signal}:{value:i}}const d1e=e=>Bn(e)?yn(e):e.signal?`(${e.signal})`:h1e(e);function pC(e){if(null!=e.gradient)return function qct(e){const t=[e.start,e.stop,e.count].map(i=>null==i?null:yn(i));for(;t.length&&null==Rr(t);)t.pop();return t.unshift(d1e(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function zct(e){return e.c?gC("hcl",e.h,e.c,e.l):e.h||e.s?gC("hsl",e.h,e.s,e.l):e.l||e.a?gC("lab",e.l,e.a,e.b):e.r||e.g||e.b?gC("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?h1e(e.field):void 0!==e.value?yn(e.value):void 0;return null!=e.scale&&(t=function jct(e,t){const i=d1e(e.scale);return null!=e.range?t=`lerp(_range(${i}), ${+e.range})`:(void 0!==t&&(t=`_scale(${i}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${i})`+(1==+e.band?"":"*"+mC(e.band)),e.extra&&(t=`(datum.extra ? _scale(${i}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${mC(e.exponent)})`),null!=e.mult&&(t+=`*${mC(e.mult)}`),null!=e.offset&&(t+=`+${mC(e.offset)}`),e.round&&(t=`round(${t})`),t}const gC=(e,t,i,r)=>`(${e}(${[t,i,r].map(pC).join(",")})+'')`;function mC(e){return Ln(e)?"("+pC(e)+")":e}function h1e(e){return p1e(Ln(e)?e:{datum:e})}function p1e(e){let t,i,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(i=Math.max(1,e.level||1),t="item";i-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Rt("Invalid field reference: "+yn(e));return e.signal||(r=Bn(r)?Nd(r).map(yn).join("]["):p1e(r)),t+"["+r+"]"}function g1e(e,t,i,r,o,s){const a={};(s=s||{}).encoders={$encode:a},e=function Hct(e,t,i,r,o){const s={},a={};let l,u,c,f;for(u in u="lineBreak","text"===t&&null!=o[u]&&!v5(u,e)&&A$(s,u,o[u]),("legend"==i||String(i).startsWith("axis"))&&(i=null),f=i===x$?o.group:i===D$?cr({},o.mark,o[t]):null,f)c=v5(u,e)||("fill"===u||"stroke"===u)&&(v5("fill",e)||v5("stroke",e)),c||A$(s,u,f[u]);for(u in Un(r).forEach(d=>{const h=o.style&&o.style[d];for(const p in h)v5(p,e)||A$(s,p,h[p])}),e=cr({},e),s)f=s[u],f.signal?(l=l||{})[u]=f:a[u]=f;return e.enter=cr(a,e.enter),l&&(e.update=cr(l,e.update)),e}(e,t,i,r,o.config);for(const l in e)a[l]=Wct(e[l],t,s,o);return s}function Wct(e,t,i,r){const o={},s={};for(const a in e)null!=e[a]&&(o[a]=Kct(Yct(e[a]),r,i,s));return{$expr:{marktype:t,channels:o},$fields:Object.keys(s),$output:Object.keys(e)}}function Yct(e){return Pt(e)?function Gct(e){let t="";return e.forEach(i=>{const r=pC(i);t+=i.test?`(${i.test})?${r}:`:r}),":"===Rr(t)&&(t+="null"),t}(e):pC(e)}function Kct(e,t,i,r){const o=n0(e,t);return o.$fields.forEach(s=>r[s]=1),cr(i,o.$params),o.$expr}const Xct="outer",Zct=["value","update","init","react","bind"];function m1e(e,t){Rt(e+' for "outer" push: '+yn(t))}function v1e(e,t){const i=e.name;if(e.push===Xct)t.signals[i]||m1e("No prior signal definition",i),Zct.forEach(r=>{void 0!==e[r]&&m1e("Invalid property ",r)});else{const r=t.addSignal(i,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(i,e.bind)}}function T$(e,t,i,r){this.id=-1,this.type=e,this.value=t,this.params=i,r&&(this.parent=r)}function vC(e,t,i,r){return new T$(e,t,i,r)}function _C(e,t){return vC("operator",e,t)}function bi(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function d9(e,t){return t?{$field:e,$name:t}:{$field:e}}const N$=d9("key");function _1e(e,t){return{$compare:e,$order:t}}const eft="descending";function yC(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const I$="scope",O$="view";function na(e){return e&&e.signal}function bC(e){if(na(e))return!0;if(Ln(e))for(const t in e)if(bC(e[t]))return!0;return!1}function qf(e,t){return e??t}function Xg(e){return e&&e.signal||e}const y1e="timer";function h9(e,t){return(e.merge?rft:e.stream?oft:e.type?sft:Rt("Invalid stream specification: "+yn(e)))(e,t)}function rft(e,t){const r=R$({merge:e.merge.map(o=>h9(o,t))},e,t);return t.addStream(r).id}function oft(e,t){const r=R$({stream:h9(e.stream,t)},e,t);return t.addStream(r).id}function sft(e,t){let i;e.type===y1e?(i=t.event(y1e,e.throttle),e={between:e.between,filter:e.filter}):i=t.event(function ift(e){return e===I$?O$:e||O$}(e.source),e.type);const r=R$({stream:i},e,t);return 1===Object.keys(r).length?i:t.addStream(r).id}function R$(e,t,i){let r=t.between;return r&&(2!==r.length&&Rt('Stream "between" parameter must have 2 entries: '+yn(t)),e.between=[h9(r[0],i),h9(r[1],i)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function aft(e,t,i){const r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(i?"&&"+r+".mark.role==='"+i+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===I$&&r.push("inScope(event.item)"),r.length&&(e.filter=n0("("+r.join(")&&(")+")",i).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}const lft={code:"_.$value",ast:{type:"Identifier",value:"value"}};function fft(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}const bo=e=>(t,i,r)=>vC(e,i,t||void 0,r),b1e=bo("aggregate"),hft=bo("axisticks"),w1e=bo("bound"),jf=bo("collect"),E1e=bo("compare"),pft=bo("datajoin"),S1e=bo("encode"),gft=bo("expression"),mft=bo("facet"),vft=bo("field"),_ft=bo("key"),yft=bo("legendentries"),bft=bo("load"),wft=bo("mark"),Eft=bo("multiextent"),Sft=bo("multivalues"),Cft=bo("overlap"),Dft=bo("params"),C1e=bo("prefacet"),xft=bo("projection"),Mft=bo("proxy"),Aft=bo("relay"),D1e=bo("render"),Tft=bo("scale"),Zg=bo("sieve"),Nft=bo("sortitems"),x1e=bo("viewlayout"),Ift=bo("values");let Oft=0;const M1e={min:"min",max:"max",count:"sum"};function kft(e,t){const i=t.getScale(e.name).params;let r;for(r in i.domain=A1e(e.domain,e,t),null!=e.range&&(i.range=N1e(e,t,i)),null!=e.interpolate&&function qft(e,t){t.interpolate=Kc(e.type||e),null!=e.gamma&&(t.interpolateGamma=Kc(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=function zft(e,t){return e.signal?t.signalRef(e.signal):Ln(e)?{interval:Kc(e.interval),step:Kc(e.step)}:Kc(e)}(e.nice,t)),null!=e.bins&&(i.bins=function Hft(e,t){return e.signal||Pt(e)?wC(e,t):t.objectProperty(e)}(e.bins,t)),e)Gn(i,r)||"name"===r||(i[r]=Kc(e[r],t))}function Kc(e,t){return Ln(e)?e.signal?t.signalRef(e.signal):Rt("Unsupported object: "+yn(e)):e}function wC(e,t){return e.signal?t.signalRef(e.signal):e.map(i=>Kc(i,t))}function EC(e){Rt("Can not find data set: "+yn(e))}function A1e(e,t,i){if(e)return e.signal?i.signalRef(e.signal):(Pt(e)?Fft:e.fields?Lft:Pft)(e,t,i);(null!=t.domainMin||null!=t.domainMax)&&Rt("No scale domain defined for domainMin/domainMax to override.")}function Fft(e,t,i){return e.map(r=>Kc(r,i))}function Pft(e,t,i){const r=i.getData(e.data);return r||EC(e.data),O3(t.type)?r.valuesRef(i,e.field,T1e(e.sort,!1)):ale(t.type)?r.domainRef(i,e.field):r.extentRef(i,e.field)}function Lft(e,t,i){const r=e.data,o=e.fields.reduce((s,a)=>(a=Bn(a)?{data:r,field:a}:Pt(a)||a.signal?function Bft(e,t){const i="_:vega:_"+Oft++,r=jf({});if(Pt(e))r.value={$ingest:e};else if(e.signal){const o="setdata("+yn(i)+","+e.signal+")";r.params.input=t.signalRef(o)}return t.addDataPipeline(i,[r,Zg({})]),{data:i,field:"data"}}(a,i):a,s.push(a),s),[]);return(O3(t.type)?$ft:ale(t.type)?Uft:Vft)(e,i,o)}function $ft(e,t,i){const r=T1e(e.sort,!0);let o,s;const a=i.map(c=>{const f=t.getData(c.data);return f||EC(c.data),f.countsRef(t,c.field,r)}),l={groupby:N$,pulse:a};r&&(o=r.op||"count",s=r.field?yC(o,r.field):"count",l.ops=[M1e[o]],l.fields=[t.fieldRef(s)],l.as=[s]),o=t.add(b1e(l));const u=t.add(jf({pulse:bi(o)}));return s=t.add(Ift({field:N$,sort:t.sortRef(r),pulse:bi(u)})),bi(s)}function T1e(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!M1e[e.op]&&Rt("Multiple domain scales can not be sorted using "+e.op):Rt("No field provided for sort aggregate op: "+e.op):Ln(e)?e.field="key":e={field:"key"}),e}function Uft(e,t,i){const r=i.map(o=>{const s=t.getData(o.data);return s||EC(o.data),s.domainRef(t,o.field)});return bi(t.add(Sft({values:r})))}function Vft(e,t,i){const r=i.map(o=>{const s=t.getData(o.data);return s||EC(o.data),s.extentRef(t,o.field)});return bi(t.add(Eft({extents:r})))}function N1e(e,t,i){const r=t.config.range;let o=e.range;if(o.signal)return t.signalRef(o.signal);if(Bn(o)){if(r&&Gn(r,o))return N1e(e=cr({},e,{range:r[o]}),t,i);"width"===o?o=[0,{signal:"width"}]:"height"===o?o=O3(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Rt("Unrecognized scale range value: "+yn(o))}else{if(o.scheme)return i.scheme=Pt(o.scheme)?wC(o.scheme,t):Kc(o.scheme,t),o.extent&&(i.schemeExtent=wC(o.extent,t)),void(o.count&&(i.schemeCount=Kc(o.count,t)));if(o.step)return void(i.rangeStep=Kc(o.step,t));if(O3(e.type)&&!Pt(o))return A1e(o,e,t);Pt(o)||Rt("Unsupported range type: "+yn(o))}return o.map(s=>(Pt(s)?wC:Kc)(s,t))}function k$(e,t,i){return Pt(e)?e.map(r=>k$(r,t,i)):Ln(e)?e.signal?i.signalRef(e.signal):"fit"===t?e:Rt("Unsupported parameter object: "+yn(e)):e}const Gf="top",_5="left",y5="right",Wp="bottom",Gft="vertical",Wft="start",Kft="end",F$="index",P$="label",Xft="offset",b5="perc",Zft="perc2",Xc="value",p9="guide-label",L$="guide-title",Qft="group-title",Jft="group-subtitle",O1e="symbol",SC="gradient",B$="discrete",$$="size",U$=[$$,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],g9={name:1,style:1,interactive:1},Ur={value:0},Zc={value:1},CC="group",R1e="rect",V$="rule",edt="symbol",Qg="text";function m9(e){return e.type=CC,e.interactive=e.interactive||!1,e}function Su(e,t){const i=(r,o)=>qf(e[r],qf(t[r],o));return i.isVertical=r=>Gft===qf(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),i.gradientLength=()=>qf(e.gradientLength,t.gradientLength||t.gradientWidth),i.gradientThickness=()=>qf(e.gradientThickness,t.gradientThickness||t.gradientHeight),i.entryColumns=()=>qf(e.columns,qf(t.columns,+i.isVertical(!0))),i}function k1e(e,t){const i=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return i&&i.signal?i:i?i.value:null}function DC(e,t,i){return`item.anchor === '${Wft}' ? ${e} : item.anchor === '${Kft}' ? ${t} : ${i}`}const H$=DC(yn(_5),yn(y5),yn("center"));function F1e(e,t){return t?e?Ln(e)?Object.assign({},e,{offset:F1e(e.offset,t)}):{value:e,offset:t}:t:e}function cc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=m5(e.encode,t,g9)):e.interactive=!1,e}function idt(e,t,i,r){const o=Su(e,i),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h;s?(c=[0,1],f=[0,0],d=a,h=l):(c=[0,0],f=[1,0],d=l,h=a);const p={enter:u={opacity:Ur,x:Ur,y:Ur,width:_a(d),height:_a(h)},update:cr({},u,{opacity:Zc,fill:{gradient:t,start:c,stop:f}}),exit:{opacity:Ur}};return Ba(p,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),cc({type:R1e,role:Pct,encode:p},r)}function rdt(e,t,i,r,o){const s=Su(e,i),a=s.isVertical(),l=s.gradientThickness(),u=s.gradientLength();let c,f,d,h,p="";a?(c="y",d="y2",f="x",h="width",p="1-"):(c="x",d="x2",f="y",h="height");const m={opacity:Ur,fill:{scale:t,field:Xc}};m[c]={signal:p+"datum."+b5,mult:u},m[f]=Ur,m[d]={signal:p+"datum."+Zft,mult:u},m[h]=_a(l);const v={enter:m,update:cr({},m,{opacity:Zc}),exit:{opacity:Ur}};return Ba(v,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),cc({type:R1e,role:kct,key:Xc,from:o,encode:v},r)}const odt=`datum.${b5}<=0?"${_5}":datum.${b5}>=1?"${y5}":"center"`,sdt=`datum.${b5}<=0?"${Wp}":datum.${b5}>=1?"${Gf}":"middle"`;function P1e(e,t,i,r){const o=Su(e,t),s=o.isVertical(),a=_a(o.gradientThickness()),l=o.gradientLength();let c,f,d,h,u=o("labelOverlap"),p="";const m={enter:c={opacity:Ur},update:f={opacity:Zc,text:{field:P$}},exit:{opacity:Ur}};return Ba(m,{fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:qf(e.labelLimit,t.gradientLabelLimit)}),s?(c.align={value:"left"},c.baseline=f.baseline={signal:sdt},d="y",h="x",p="1-"):(c.align=f.align={signal:odt},c.baseline={value:"top"},d="x",h="y"),c[d]=f[d]={signal:p+"datum."+b5,mult:l},c[h]=f[h]=a,a.offset=qf(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:o("labelSeparation"),method:u,order:"datum."+F$}:void 0,cc({type:Qg,role:f1e,style:p9,key:Xc,from:r,encode:m,overlap:u},i)}function adt(e,t,i,r,o){const s=Su(e,t),a=i.entries,l=!(!a||!a.interactive),u=a?a.name:void 0,c=s("clipHeight"),f=s("symbolOffset"),d={data:"value"},h=`(${o}) ? datum.${Xft} : datum.${$$}`,p=c?_a(c):{field:$$},m=`datum.${F$}`,v=`max(1, ${o})`;let _,y,w,S,M;p.mult=.5,_={enter:y={opacity:Ur,x:{signal:h,mult:.5,offset:f},y:p},update:w={opacity:Zc,x:y.x,y:y.y},exit:{opacity:Ur}};let A=null,F=null;e.fill||(A=t.symbolBaseFillColor,F=t.symbolBaseStrokeColor),Ba(_,{fill:s("symbolFillColor",A),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",F),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),U$.forEach(oe=>{e[oe]&&(w[oe]=y[oe]={scale:e[oe],field:Xc})});const N=cc({type:edt,role:Lct,key:Xc,from:d,clip:!!c||void 0,encode:_},i.symbols),H=_a(f);H.offset=s("labelOffset"),_={enter:y={opacity:Ur,x:{signal:h,offset:H},y:p},update:w={opacity:Zc,text:{field:P$},x:y.x,y:y.y},exit:{opacity:Ur}},Ba(_,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const K=cc({type:Qg,role:f1e,style:p9,key:Xc,from:d,encode:_},i.labels);return _={enter:{noBound:{value:!c},width:Ur,height:c?_a(c):Ur,opacity:Ur},exit:{opacity:Ur},update:w={opacity:Zc,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(S=`ceil(item.mark.items.length / ${v})`,w.row.signal=`${m}%${S}`,w.column.signal=`floor(${m} / ${S})`,M={field:["row",m]}):(w.row.signal=`floor(${m} / ${v})`,w.column.signal=`${m} % ${v}`,M={field:m}),w.column.signal=`(${o})?${w.column.signal}:${m}`,m9({role:M$,from:r={facet:{data:r,name:"value",groupby:F$}},encode:m5(_,a,g9),marks:[N,K],name:u,interactive:l,sort:M})}const z$='item.orient === "left"',q$='item.orient === "right"',xC=`(${z$} || ${q$})`,udt=`datum.vgrad && ${xC}`,cdt=DC('"top"','"bottom"','"middle"'),ddt=`datum.vgrad && ${q$} ? (${DC('"right"','"left"','"center"')}) : (${xC} && !(datum.vgrad && ${z$})) ? "left" : ${H$}`,hdt=`item._anchor || (${xC} ? "middle" : "start")`,pdt=`${udt} ? (${z$} ? -90 : 90) : 0`,gdt=`${xC} ? (datum.vgrad ? (${q$} ? "bottom" : "top") : ${cdt}) : "top"`;function vdt(e,t){let i;return Ln(e)&&(e.signal?i=e.signal:e.path?i="pathShape("+L1e(e.path)+")":e.sphere&&(i="geoShape("+L1e(e.sphere)+', {type: "Sphere"})')),i?t.signalRef(i):!!e}function L1e(e){return Ln(e)&&e.signal?e.signal:yn(e)}function B1e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===CC?M$:t||D$}function _dt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||B1e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function ydt(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function j$(e,t){const i=jre(e.type);i||Rt("Unrecognized transform type: "+yn(e.type));const r=vC(i.type.toLowerCase(),null,$1e(i,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=i.metadata||{},r}function $1e(e,t,i){const r={},o=e.params.length;for(let s=0;s<o;++s){const a=e.params[s];r[a.name]=bdt(a,t,i)}return r}function bdt(e,t,i){const r=e.type,o=t[e.name];return"index"===r?function wdt(e,t,i){return Bn(t.from)||Rt('Lookup "from" parameter must be a string literal.'),i.getData(t.from).lookupRef(i,t.key)}(0,t,i):void 0!==o?"param"===r?function Edt(e,t,i){const r=t[e.name];return e.array?(Pt(r)||Rt("Expected an array of sub-parameters. Instead: "+yn(r)),r.map(o=>V1e(e,o,i))):V1e(e,r,i)}(e,t,i):"projection"===r?i.projectionRef(t[e.name]):e.array&&!na(o)?o.map(s=>U1e(e,s,i)):U1e(e,o,i):void(e.required&&Rt("Missing required "+yn(t.type)+" parameter: "+yn(e.name)))}function U1e(e,t,i){const r=e.type;if(na(t))return H1e(r)?Rt("Expression references can not be signals."):G$(r)?i.fieldRef(t):z1e(r)?i.compareRef(t):i.signalRef(t.signal);{const o=e.expr||G$(r);return o&&Sdt(t)?i.exprRef(t.expr,t.as):o&&Cdt(t)?d9(t.field,t.as):H1e(r)?n0(t,i):Ddt(r)?bi(i.getData(t).values):G$(r)?d9(t):z1e(r)?i.compareRef(t):t}}function V1e(e,t,i){const r=e.params.length;let o;for(let a=0;a<r;++a){o=e.params[a];for(const l in o.key)if(o.key[l]!==t[l]){o=null;break}if(o)break}o||Rt("Unsupported parameter: "+yn(t));const s=cr($1e(o,t,i),o.key);return bi(i.add(Dft(s)))}const Sdt=e=>e&&e.expr,Cdt=e=>e&&e.field,Ddt=e=>"data"===e,H1e=e=>"expr"===e,G$=e=>"field"===e,z1e=e=>"compare"===e;function MC(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:bi(t.getData(e.data).output)}function Jg(e,t,i,r,o){this.scope=e,this.input=t,this.output=i,this.values=r,this.aggregate=o,this.index={}}function q1e(e){return Bn(e)?e:null}function j1e(e,t,i){const r=yC(i.op,i.field);let o;if(t.ops){for(let s=0,a=t.as.length;s<a;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];i.op&&(t.ops.push((o=i.op.signal)?e.signalRef(o):i.op),t.fields.push(e.fieldRef(i.field)),t.as.push(r))}function v9(e,t,i,r,o,s,a){const l=t[i]||(t[i]={}),u=function tft(e){return Ln(e)?(e.order===eft?"-":"+")+yC(e.op,e.field):""}(s);let f,d,c=q1e(o);if(null!=c&&(e=t.scope,c+=u?"|"+u:"",f=l[c]),!f){const h=s?{field:N$,pulse:t.countsRef(e,o,s)}:{field:e.fieldRef(o),pulse:bi(t.output)};u&&(h.sort=e.sortRef(s)),d=e.add(vC(r,void 0,h)),a&&(t.index[o]=d),f=bi(d),null!=c&&(l[c]=f)}return f}function G1e(e,t,i){const r=e.remove,o=e.insert,s=e.toggle,a=e.modify,l=e.values,u=t.add(_C()),f=n0("if("+e.trigger+',modify("'+i+'",'+[o,r,s,a,l].map(d=>d??"null").join(",")+"),0)",t);u.update=f.$expr,u.params=f.$params}function AC(e,t){const i=B1e(e),r=e.type===CC,o=e.from&&e.from.facet,s=e.overlap;let l,u,c,f,d,h,p,a=e.layout||i===M$||i===x$;const m=i===D$||a||o,v=function xdt(e,t,i){let r,o,s,a,l;return e?(r=e.facet)&&(t||Rt("Only group marks can be faceted."),null!=r.field?a=l=MC(r,i):(e.data?l=bi(i.getData(e.data).aggregate):(s=j$(cr({type:"aggregate",groupby:Un(r.groupby)},r.aggregate),i),s.params.key=i.keyRef(r.groupby),s.params.pulse=MC(r,i),a=l=bi(i.add(s))),o=i.keyRef(r.groupby,!0))):a=bi(i.add(jf(null,[{}]))),a||(a=MC(e,i)),{key:o,pulse:a,parent:l}}(e.from,r,t);u=t.add(pft({key:v.key||(e.key?d9(e.key):void 0),pulse:v.pulse,clean:!r}));const _=bi(u);u=c=t.add(jf({pulse:_})),u=t.add(wft({markdef:_dt(e),interactive:ydt(e.interactive,t),clip:vdt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:bi(u)}));const y=bi(u);u=f=t.add(S1e(g1e(e.encode,e.type,i,e.style,t,{mod:!1,pulse:y}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(F=>{const N=j$(F,t),H=N.metadata;(H.generates||H.changes)&&Rt("Mark transforms should not generate new data."),H.nomod||(f.params.mod=!0),N.params.pulse=bi(u),t.add(u=N)}),e.sort&&(u=t.add(Nft({sort:t.compareRef(e.sort),pulse:bi(u)})));const w=bi(u);(o||a)&&(a=t.add(x1e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:w})),h=bi(a));const S=t.add(w1e({mark:y,pulse:h||w}));p=bi(S),r&&(m&&(l=t.operators,l.pop(),a&&l.pop()),t.pushState(w,h||p,_),o?function Mdt(e,t,i){const r=e.from.facet,o=r.name,s=MC(r,t);let a;r.name||Rt("Facet must have a name: "+yn(r)),r.data||Rt("Facet must reference a data set: "+yn(r)),r.field?a=t.add(C1e({field:t.fieldRef(r.field),pulse:s})):r.groupby?a=t.add(mft({key:t.keyRef(r.groupby),group:bi(t.proxy(i.parent)),pulse:s})):Rt("Facet must specify groupby or field: "+yn(r));const l=t.fork(),u=l.add(jf()),c=l.add(Zg({pulse:bi(u)}));l.addData(o,new Jg(l,u,u,c)),l.addSignal("parent",null),a.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,t,v):m?function Adt(e,t,i){const r=t.add(C1e({pulse:i.pulse})),o=t.fork();o.add(Zg()),o.addSignal("parent",null),r.params.subflow={$subflow:o.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),m&&(a&&l.push(a),l.push(S))),s&&(p=function Tdt(e,t,i){const r=e.method,o=e.bound,s=e.separation,a={separation:na(s)?i.signalRef(s.signal):s,method:na(r)?i.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=i.compareRef({field:e.order})),o){const l=o.tolerance;a.boundTolerance=na(l)?i.signalRef(l.signal):+l,a.boundScale=i.scaleRef(o.scale),a.boundOrient=o.orient}return bi(i.add(Cft(a)))}(s,p,t));const M=t.add(D1e({pulse:p})),A=t.add(Zg({pulse:bi(M)},void 0,t.parent()));null!=e.name&&(d=e.name,t.addData(d,new Jg(t,c,M,A)),e.on&&e.on.forEach(F=>{(F.insert||F.remove||F.toggle)&&Rt("Marks only support modify triggers."),G1e(F,t,d)}))}function Rdt(e,t,i){const r={enter:{},update:{}};return Ba(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:i.strokeWidth,strokeDash:i.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function W1e(e,t,i){return t[e]?`scale("${t[e]}",datum)`:k1e(e,i[0].encode)}Jg.fromEntries=function(e,t){const i=t.length,r=t[i-1],o=t[i-2];let s=t[0],a=null,l=1;for(s&&"load"===s.type&&(s=t[1]),e.add(t[0]);l<i;++l)t[l].params.pulse=bi(t[l-1]),e.add(t[l]),"aggregate"===t[l].type&&(a=t[l]);return new Jg(e,s,o,r,a)},Jg.prototype={countsRef(e,t,i){const r=this,o=r.counts||(r.counts={}),s=q1e(t);let a,l,u;return null!=s&&(e=r.scope,a=o[s]),a?i&&i.field&&j1e(e,a.agg.params,i):(u={groupby:e.fieldRef(t,"key"),pulse:bi(r.output)},i&&i.field&&j1e(e,u,i),l=e.add(b1e(u)),a=e.add(jf({pulse:bi(l)})),a={agg:l,ref:bi(a)},null!=s&&(o[s]=a)),a.ref},tuplesRef(){return bi(this.values)},extentRef(e,t){return v9(e,this,"extent","extent",t,!1)},domainRef(e,t){return v9(e,this,"domain","values",t,!1)},valuesRef(e,t,i){return v9(e,this,"vals","values",t,i||!0)},lookupRef(e,t){return v9(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return v9(e,this,"indata","tupleindex",t,!0,!0)}};const Pdt=`item.orient==="${_5}"?-90:item.orient==="${y5}"?90:0`;function $dt(e,t){const i={enter:{},update:{}};return Ba(i,{orient:e("orient"),anchor:e("anchor"),align:{signal:H$},angle:{signal:Pdt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),m5(i,t,g9)}function em(e){const t=jf({},e);return t.metadata={source:!0},t}function Y1e(e,t){return bft({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const K1e=e=>e===Wp||e===Gf,TC=(e,t,i)=>na(e)?Wdt(e.signal,t,i):e===_5||e===Gf?t:i,ya=(e,t,i)=>na(e)?jdt(e.signal,t,i):K1e(e)?t:i,Wf=(e,t,i)=>na(e)?Gdt(e.signal,t,i):K1e(e)?i:t,X1e=(e,t,i)=>na(e)?Ydt(e.signal,t,i):e===Gf?{value:t}:{value:i},qdt=(e,t,i)=>na(e)?Kdt(e.signal,t,i):e===y5?{value:t}:{value:i},jdt=(e,t,i)=>Z1e(`${e} === '${Gf}' || ${e} === '${Wp}'`,t,i),Gdt=(e,t,i)=>Z1e(`${e} !== '${Gf}' && ${e} !== '${Wp}'`,t,i),Wdt=(e,t,i)=>W$(`${e} === '${_5}' || ${e} === '${Gf}'`,t,i),Ydt=(e,t,i)=>W$(`${e} === '${Gf}'`,t,i),Kdt=(e,t,i)=>W$(`${e} === '${y5}'`,t,i),Z1e=(e,t,i)=>(t=null!=t?_a(t):t,i=null!=i?_a(i):i,Q1e(t)&&Q1e(i)?{signal:`${e} ? (${t=t?t.signal||yn(t.value):null}) : (${i=i?i.signal||yn(i.value):null})`}:[cr({test:e},t)].concat(i||[])),Q1e=e=>null==e||1===Object.keys(e).length,W$=(e,t,i)=>({signal:`${e} ? (${w5(t)}) : (${w5(i)})`}),Xdt=(e,t,i,r,o)=>({signal:(null!=r?`${e} === '${_5}' ? (${w5(r)}) : `:"")+(null!=i?`${e} === '${Wp}' ? (${w5(i)}) : `:"")+(null!=o?`${e} === '${y5}' ? (${w5(o)}) : `:"")+(null!=t?`${e} === '${Gf}' ? (${w5(t)}) : `:"")+"(null)"}),w5=e=>na(e)?e.signal:null==e?null:yn(e),Zdt=(e,t)=>0===t?0:na(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},E5=(e,t)=>{const i=e.signal;return i&&i.endsWith("(null)")?{signal:i.slice(0,-6)+t.signal}:e};function S5(e,t,i,r){let o;if(t&&Gn(t,e))return t[e];if(Gn(i,e))return i[e];if(e.startsWith("title")){switch(e){case"titleColor":o="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":o=e[5].toLowerCase()+e.slice(6)}return r[L$][o]}if(e.startsWith("label")){switch(e){case"labelColor":o="fill";break;case"labelFont":case"labelFontSize":o=e[5].toLowerCase()+e.slice(6)}return r[p9][o]}return null}function J1e(e){const t={};for(const i of e)if(i)for(const r in i)t[r]=1;return Object.keys(t)}function ege(e,t){return{scale:e.scale,range:t}}function Y$(e,t,i,r,o){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+i+","+r+","+o+")"}}function s0t(e,t){const i=function Qdt(e,t){var l,u,c,i=t.config,r=i.style,o=i.axis,s="band"===t.scaleType(e.scale)&&i.axisBand,a=e.orient;if(na(a)){const d=J1e([i.axisX,i.axisY]),h=J1e([i.axisTop,i.axisBottom,i.axisLeft,i.axisRight]);for(c of(l={},d))l[c]=ya(a,S5(c,i.axisX,o,r),S5(c,i.axisY,o,r));for(c of(u={},h))u[c]=Xdt(a.signal,S5(c,i.axisTop,o,r),S5(c,i.axisBottom,o,r),S5(c,i.axisLeft,o,r),S5(c,i.axisRight,o,r))}else l=a===Gf||a===Wp?i.axisX:i.axisY,u=i["axis"+a[0].toUpperCase()+a.slice(1)];return l||u||s?cr({},o,l,u,s):o}(e,t),r=e.encode||{},o=r.axis||{},s=o.name||void 0,a=o.interactive,l=o.style,u=Su(e,i),c=function ndt(e){const t=e("tickBand");let r,o,i=e("tickOffset");return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},o={signal:`(${t.signal}) === 'extent'`},Ln(i)||(i={signal:`(${t.signal}) === 'extent' ? 0 : ${i}`})):"extent"===t?(r=1,o=!0,i=0):(r=.5,o=!1):(r=e("bandPosition"),o=e("tickExtra")),{extra:o,band:r,offset:i}}(u),f={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:null!=e.title},d=bi(t.add(jf({},[f]))),h=bi(t.add(hft({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let m;return f.grid&&p.push(function e0t(e,t,i,r,o){const s=Su(e,t),a=e.orient,l=e.gridScale,u=TC(a,1,-1),c=function t0t(e,t){if(1!==t)if(Ln(e)){let i=e=cr({},e);for(;null!=i.mult;){if(!Ln(i.mult))return i.mult=na(t)?{signal:`(${i.mult}) * (${t.signal})`}:i.mult*t,e;i=i.mult=cr({},i.mult)}i.mult=t}else e=na(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,u);let f,d,h;const p={enter:f={opacity:Ur},update:h={opacity:Zc},exit:d={opacity:Ur}};Ba(p,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const m={scale:e.scale,field:Xc,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")},v=ya(a,{signal:"height"},{signal:"width"}),_=l?{scale:l,range:0,mult:u,offset:c}:{value:0,offset:c},y=l?{scale:l,range:1,mult:u,offset:c}:cr(v,{mult:u,offset:c});return f.x=h.x=ya(a,m,_),f.y=h.y=Wf(a,m,_),f.x2=h.x2=Wf(a,y),f.y2=h.y2=ya(a,y),d.x=ya(a,m),d.y=Wf(a,m),cc({type:V$,role:Tct,key:Xc,from:r,encode:p},i)}(e,i,r.grid,h,c)),f.ticks&&(m=u("tickSize"),p.push(function n0t(e,t,i,r,o,s){const a=Su(e,t),l=e.orient,u=TC(l,-1,1);let c,f,d;const h={enter:c={opacity:Ur},update:d={opacity:Zc},exit:f={opacity:Ur}};Ba(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const p=_a(o);p.mult=u;const m={scale:e.scale,field:Xc,band:s.band,extra:s.extra,offset:s.offset,round:a("tickRound")};return d.y=c.y=ya(l,Ur,m),d.y2=c.y2=ya(l,p),f.x=ya(l,m),d.x=c.x=Wf(l,Ur,m),d.x2=c.x2=Wf(l,p),f.y=Wf(l,m),cc({type:V$,role:Ict,key:Xc,from:r,encode:h},i)}(e,i,r.ticks,h,m,c))),f.labels&&(m=f.ticks?m:0,p.push(function i0t(e,t,i,r,o,s){const a=Su(e,t),l=e.orient,u=e.scale,c=TC(l,-1,1),f=Xg(a("labelFlush")),d=Xg(a("labelFlushOffset")),h=a("labelAlign"),p=a("labelBaseline");let v,m=0===f||!!f;const _=_a(o);_.mult=c,_.offset=_a(a("labelPadding")||0),_.offset.mult=c;const y={scale:u,field:Xc,band:.5,offset:F1e(s.offset,a("labelOffset"))},w=ya(l,m?Y$(u,f,'"left"','"right"','"center"'):{value:"center"},qdt(l,"left","right")),S=ya(l,X1e(l,"bottom","top"),m?Y$(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),M=Y$(u,f,`-(${d})`,d,0);m=m&&d;const A={opacity:Ur,x:ya(l,y,_),y:Wf(l,y,_)},F={enter:A,update:v={opacity:Zc,text:{field:P$},x:A.x,y:A.y,align:w,baseline:S},exit:{opacity:Ur,x:A.x,y:A.y}};Ba(F,{dx:!h&&m?ya(l,M):null,dy:!p&&m?Wf(l,M):null}),Ba(F,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:p});const N=a("labelBound");let H=a("labelOverlap");return H=H||N?{separation:a("labelSeparation"),method:H,order:"datum.index",bound:N?{scale:u,orient:l,tolerance:N}:null}:void 0,v.align!==w&&(v.align=E5(v.align,w)),v.baseline!==S&&(v.baseline=E5(v.baseline,S)),cc({type:Qg,role:Nct,style:p9,key:Xc,from:r,encode:F,overlap:H},i)}(e,i,r.labels,h,m,c))),f.domain&&p.push(function Jdt(e,t,i,r){const o=Su(e,t),s=e.orient;let a,l;const u={enter:a={opacity:Ur},update:l={opacity:Zc},exit:{opacity:Ur}};Ba(u,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});const c=ege(e,0),f=ege(e,1);return a.x=l.x=ya(s,c,Ur),a.x2=l.x2=ya(s,f),a.y=l.y=Wf(s,c,Ur),a.y2=l.y2=Wf(s,f),cc({type:V$,role:Act,from:r,encode:u},i)}(e,i,r.domain,d)),f.title&&p.push(function r0t(e,t,i,r){const o=Su(e,t),s=e.orient,a=TC(s,-1,1);let l,u;const c={enter:l={opacity:Ur,anchor:_a(o("titleAnchor",null)),align:{signal:H$}},update:u=cr({},l,{opacity:Zc,text:_a(e.title)}),exit:{opacity:Ur}},f={signal:`lerp(range("${e.scale}"), ${DC(0,1,.5)})`};return u.x=ya(s,f),u.y=Wf(s,f),l.angle=ya(s,Ur,Zdt(a,90)),l.baseline=ya(s,X1e(s,Wp,Gf),{value:Wp}),u.angle=l.angle,u.baseline=l.baseline,Ba(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function o0t(e,t,i,r){const o=(l,u)=>null!=l?(i.update[u]=E5(_a(l),i.update[u]),!1):!v5(u,r),s=o(e("titleX"),"x"),a=o(e("titleY"),"y");i.enter.auto=a===s?_a(a):ya(t,_a(a),_a(s))}(o,s,c,i),c.update.align=E5(c.update.align,l.align),c.update.angle=E5(c.update.angle,l.angle),c.update.baseline=E5(c.update.baseline,l.baseline),cc({type:Qg,role:Oct,style:L$,from:r,encode:c},i)}(e,i,r.title,d)),AC(m9({role:Mct,from:d,encode:m5(a0t(u,e),o,g9),marks:p,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:s,interactive:a,style:l}),t)}function a0t(e,t){const i={enter:{},update:{}};return Ba(i,{orient:e("orient"),offset:e("offset")||0,position:qf(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),i}function tge(e,t,i){const r=Un(e.signals),o=Un(e.scales);return i||r.forEach(s=>v1e(s,t)),Un(e.projections).forEach(s=>function jft(e,t){const i=t.config.projection||{},r={};for(const o in e)"name"!==o&&(r[o]=k$(e[o],o,t));for(const o in i)null==r[o]&&(r[o]=k$(i[o],o,t));t.addProjection(e.name,r)}(s,t)),o.forEach(s=>function Rft(e,t){const i=e.type||"linear";rle(i)||Rt("Unrecognized scale type: "+yn(i)),t.addScale(e.name,{type:i,domain:void 0})}(s,t)),Un(e.data).forEach(s=>function Hdt(e,t){const i=[];e.transform&&e.transform.forEach(r=>{i.push(j$(r,t))}),e.on&&e.on.forEach(r=>{G1e(r,t,e.name)}),t.addDataPipeline(e.name,function zdt(e,t,i){const r=[];let l,u,c,f,d,o=null,s=!1,a=!1;for(e.values?na(e.values)||bC(e.format)?(r.push(Y1e(t,e)),r.push(o=em())):r.push(o=em({$ingest:e.values,$format:e.format})):e.url?bC(e.url)||bC(e.format)?(r.push(Y1e(t,e)),r.push(o=em())):r.push(o=em({$request:e.url,$format:e.format})):e.source&&(o=l=Un(e.source).map(h=>bi(t.getData(h).output)),r.push(null)),u=0,c=i.length;u<c;++u)f=i[u],d=f.metadata,!o&&!d.source&&r.push(o=em()),r.push(f),d.generates&&(a=!0),d.modifies&&!a&&(s=!0),d.source?o=f:d.changes&&(o=null);return l&&(c=l.length-1,r[0]=Aft({derive:s,pulse:c?l:l[0]}),(s||c)&&r.splice(1,0,em())),o||r.push(em()),r.push(Zg({})),r}(e,t,i))}(s,t)),o.forEach(s=>kft(s,t)),(i||r).forEach(s=>function dft(e,t){const i=t.getSignal(e.name);let r=e.update;e.init&&(r?Rt("Signals can not include both init and update expressions."):(r=e.init,i.initonly=!0)),r&&(r=n0(r,t),i.update=r.$expr,i.params=r.$params),e.on&&e.on.forEach(o=>function uft(e,t,i){const r=e.encode,o={target:i};let s=e.events,a=e.update,l=[];s||Rt("Signal update missing events specification."),Bn(s)&&(s=Gp(s,t.isSubscope()?I$:O$)),s=Un(s).filter(u=>u.signal||u.scale?(l.push(u),0):1),l.length>1&&(l=[fft(l)]),s.length&&l.push(s.length>1?{merge:s}:s[0]),null!=r&&(a&&Rt("Signal encode and update are mutually exclusive."),a="encode(item(),"+yn(r)+")"),o.update=Bn(a)?n0(a,t):null!=a.expr?n0(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:lft,$params:{$value:t.signalRef(a.signal)}}:Rt("Invalid signal update specification."),e.force&&(o.options={force:!0}),l.forEach(u=>t.addUpdate(cr(function cft(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):h9(e,t)}}(u,t),o)))}(o,t,i.id))}(s,t)),Un(e.axes).forEach(s=>s0t(s,t)),Un(e.marks).forEach(s=>AC(s,t)),Un(e.legends).forEach(s=>function Ndt(e,t){const i=t.config.legend,r=e.encode||{},o=Su(e,i),s=r.legend||{},a=s.name||void 0,l=s.interactive,u=s.style,c={};let d,h,p,f=0;U$.forEach(S=>e[S]?(c[S]=e[S],f=f||e[S]):0),f||Rt("Missing valid scale for legend.");const m=function Idt(e,t){let i=e.type||O1e;return!e.type&&1===function Odt(e){return U$.reduce((t,i)=>t+(e[i]?1:0),0)}(e)&&(e.fill||e.stroke)&&(i=Wk(t)?SC:Yk(t)?B$:O1e),i!==SC?i:Yk(t)?B$:SC}(e,t.scaleType(f)),v={title:null!=e.title,scales:c,type:m,vgrad:"symbol"!==m&&o.isVertical()},_=bi(t.add(jf(null,[v]))),w=bi(t.add(yft(h={type:m,scale:t.scaleRef(f),count:t.objectProperty(o("tickCount")),limit:t.property(o("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===SC?(p=[idt(e,f,i,r.gradient),P1e(e,i,r.labels,w)],h.count=h.count||t.signalRef(`max(2,2*floor((${Xg(o.gradientLength())})/100))`)):m===B$?p=[rdt(e,f,i,r.gradient,w),P1e(e,i,r.labels,w)]:(d=function ldt(e,t){const i=Su(e,t);return{align:i("gridAlign"),columns:i.entryColumns(),center:{row:!0,column:!1},padding:{row:i("rowPadding"),column:i("columnPadding")}}}(e,i),p=[adt(e,i,r,w,Xg(d.columns))],h.size=function kdt(e,t,i){const r=Xg(W1e("size",e,i)),o=Xg(W1e("strokeWidth",e,i)),s=Xg(function Fdt(e,t,i){return k1e("fontSize",e)||function tdt(e,t,i){const r=t.config.style[i];return r&&r[e]}("fontSize",t,i)}(i[1].encode,t,p9));return n0(`max(ceil(sqrt(${r})+${o}),${s})`,t)}(e,t,p[0].marks)),p=[m9({role:Fct,from:_,encode:{enter:{x:{value:0},y:{value:0}}},marks:p,layout:d,interactive:l})],v.title&&p.push(function mdt(e,t,i,r){const o=Su(e,t),s={enter:{opacity:Ur},update:{opacity:Zc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ur}};return Ba(s,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:hdt},angle:{signal:pdt},align:{signal:ddt},baseline:{signal:gdt},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),cc({type:Qg,role:Bct,style:L$,from:r,encode:s},i)}(e,i,r.title,_)),AC(m9({role:Rct,from:_,encode:m5(Rdt(o,e,i),s,g9),marks:p,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:a,interactive:l,style:u}),t)}(s,t)),e.title&&function Ldt(e,t){const i=Su(e=Bn(e)?{text:e}:e,t.config.title),r=e.encode||{},o=r.group||{},s=o.name||void 0,a=o.interactive,l=o.style,u=[],f=bi(t.add(jf(null,[{}])));return u.push(function Udt(e,t,i,r){const o={value:0},a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return Ba(a,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),cc({type:Qg,role:Uct,style:Qft,from:r,encode:a},i)}(e,i,function Bdt(e){const t=e.encode;return t&&t.title||cr({name:e.name,interactive:e.interactive,style:e.style},t)}(e),f)),e.subtitle&&u.push(function Vdt(e,t,i,r){const o={value:0},a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return Ba(a,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),cc({type:Qg,role:Vct,style:Jft,from:r,encode:a},i)}(e,i,r.subtitle,f)),AC(m9({role:$ct,from:f,encode:$dt(i,o),marks:u,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}(e.title,t),t.parseLambdas(),t}const l0t=e=>m5({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function _9(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function nge(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ige(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function K$(e){return(Pt(e)?f0t:d0t)(e)}function f0t(e){const t=e.length;let i="[";for(let r=0;r<t;++r){const o=e[r];i+=(r>0?",":"")+(Ln(o)?o.signal||K$(o):yn(o))}return i+"]"}function d0t(e){let r,o,t="{",i=0;for(r in e)o=e[r],t+=(++i>1?",":"")+yn(r)+":"+(Ln(o)?o.signal||K$(o):yn(o));return t+"}"}function p0t(e,t,i){return Ln(e)||Rt("Input Vega specification must be an object."),function u0t(e,t){const i=t.config,r=bi(t.root=t.add(_C())),o=function c0t(e,t){const i=a=>qf(e[a],t[a]),r=[_9("background",i("background")),_9("autosize",Cct(i("autosize"))),_9("padding",xct(i("padding"))),_9("width",i("width")||0),_9("height",i("height")||0)],o=r.reduce((a,l)=>(a[l.name]=l,a),{}),s={};return Un(e.signals).forEach(a=>{Gn(o,a.name)?a=cr(o[a.name],a):r.push(a),s[a.name]=a}),Un(t.signals).forEach(a=>{!Gn(s,a.name)&&!Gn(o,a.name)&&r.push(a)}),r}(e,i);o.forEach(c=>v1e(c,t)),t.description=e.description||i.description,t.eventConfig=i.events,t.legends=t.objectProperty(i.legend&&i.legend.layout),t.locale=i.locale;const s=t.add(jf()),a=t.add(S1e(g1e(l0t(e.encode),CC,x$,e.style,t,{pulse:bi(s)}))),l=t.add(x1e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:bi(a)}));t.operators.pop(),t.pushState(bi(a),bi(l),null),tge(e,t,o),t.operators.push(l);let u=t.add(w1e({mark:r,pulse:bi(l)}));return u=t.add(D1e({pulse:bi(u)})),u=t.add(Zg({pulse:bi(u)})),t.addData("root",new Jg(t,s,s,u)),t}(e,new nge(t=l3(function h0t(){const e="sans-serif",r="#4c78a8",o="#000",s="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:o},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:o,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:o,font:e,fontSize:10},"guide-title":{fill:o,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:o,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:o,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),i)).toRuntime()}nge.prototype=ige.prototype={parse(e){return tge(e,this)},fork(){return new ige(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof T$?bi(e):e;return this.add(Mft({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function i(r,o,s){let a,l;r&&(a=r.data||(r.data={}),l=a[o]||(a[o]=[]),l.push(s))}for(e in this.data){t=this.data[e],i(t.input,e,"input"),i(t.output,e,"output"),i(t.values,e,"values");for(const r in t.index)i(t.index[r],e,"index:"+r)}return this},pushState(e,t,i){this._encode.push(bi(this.add(Zg({pulse:e})))),this._parent.push(t),this._lookup.push(i?bi(this.proxy(i)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Rr(this._parent)},encode(){return Rr(this._encode)},lookup(){return Rr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Bn(e))return d9(e,t);e.signal||Rt("Unsupported field reference: "+yn(e));const i=e.signal;let r=this.field[i];if(!r){const o={name:this.signalRef(i)};t&&(o.as=t),this.field[i]=r=bi(this.add(vft(o)))}return r},compareRef(e){let t=!1;const i=s=>na(s)?(t=!0,this.signalRef(s.signal)):function nft(e){return e&&e.expr}(s)?(t=!0,this.exprRef(s.expr)):s,r=Un(e.field).map(i),o=Un(e.order).map(i);return t?bi(this.add(E1e({fields:r,orders:o}))):_1e(r,o)},keyRef(e,t){let i=!1;const o=this.signals;return e=Un(e).map(s=>na(s)?(i=!0,bi(o[s.signal])):s),i?bi(this.add(_ft({fields:e,flat:t}))):function Qct(e,t){const i={$key:e};return t&&(i.$flat=!0),i}(e,t)},sortRef(e){if(!e)return e;const t=yC(e.op,e.field),i=e.order||"ascending";return i.signal?bi(this.add(E1e({fields:t,orders:this.signalRef(i.signal)}))):_1e(t,i)},event(e,t){const i=e+":"+t;if(!this.events[i]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[i]=r}return this.events[i]},hasOwnSignal(e){return Gn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Rt("Duplicate signal name: "+yn(e));const i=t instanceof T$?t:this.add(_C(t));return this.signals[e]=i},getSignal(e){return this.signals[e]||Rt("Unrecognized signal name: "+yn(e)),this.signals[e]},signalRef(e){return this.signals[e]?bi(this.signals[e]):(Gn(this.lambdas,e)||(this.lambdas[e]=this.add(_C(null))),bi(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,i=e.length;t<i;++t){const r=e[t],o=n0(r,this),s=this.lambdas[r];s.params=o.$params,s.update=o.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Ln(e)?this.signalRef(e.signal||K$(e)):e},exprRef(e,t){const i={expr:n0(e,this)};return t&&(i.expr.$name=t),bi(this.add(gft(i)))},addBinding(e,t){this.bindings||Rt("Nested signals do not support binding: "+yn(e)),this.bindings.push(cr({signal:e},t))},addScaleProj(e,t){Gn(this.scales,e)&&Rt("Duplicate scale or projection name: "+yn(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Tft(t))},addProjection(e,t){this.addScaleProj(e,xft(t))},getScale(e){return this.scales[e]||Rt("Unrecognized scale name: "+yn(e)),this.scales[e]},scaleRef(e){return bi(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Gn(this.data,e)&&Rt("Duplicate data set name: "+yn(e)),this.data[e]=t},getData(e){return this.data[e]||Rt("Undefined data set name: "+yn(e)),this.data[e]},addDataPipeline(e,t){return Gn(this.data,e)&&Rt("Duplicate data set name: "+yn(e)),this.addData(e,Jg.fromEntries(this,t))}};var g0t="5.33.0";cr(E3,Ho,x,xi,Wi,we,Rn,_t,ni,Mi,St,fe);var v0t={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},_0t={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},y0t={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const b0t=Array.prototype.slice,tm=(e,t,i)=>{const r=i?i(t[0]):t[0];return r[e].apply(r,b0t.call(t,1))};var E0t={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,i)=>Math.max(t,Math.min(i,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,i,r,o,s,a)=>new Date(e,t||0,i??1,r||0,o||0,s||0,a||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return tm("join",arguments)},indexof:function(){return tm("indexOf",arguments)},lastindexof:function(){return tm("lastIndexOf",arguments)},slice:function(){return tm("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(c3),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return tm("substring",arguments,String)},split:function(){return tm("split",arguments,String)},replace:function(){return tm("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const S0t=["view","item","group","xy","x","y"],X$=new Set([Function,eval,setTimeout,setInterval]);"function"==typeof setImmediate&&X$.add(setImmediate);const C0t={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const i=t.name;return e.memberDepth>0?i:"datum"===i?e.datum:"event"===i?e.event:"item"===i?e.item:v0t[i]||e.params["$"+i]},MemberExpression:(e,t)=>{const i=!t.computed,r=e(t.object);i&&(e.memberDepth+=1);const o=e(t.property);if(i&&(e.memberDepth-=1),!X$.has(r[o]))return r[o];console.error(`Prevented interpretation of member "${o}" which could lead to insecure code execution`)},CallExpression:(e,t)=>{const i=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(i[0])?e(i[1]):e(i[2]):(e.fn[r]||E0t[r]).apply(e.fn,i.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>_0t[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>y0t[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((i,r)=>{e.memberDepth+=1;const o=e(r.key);return e.memberDepth-=1,X$.has(e(r.value))?console.error(`Prevented interpretation of property "${o}" which could lead to insecure code execution`):i[o]=e(r.value),i},{})};function y9(e,t,i,r,o,s){const a=l=>C0t[l.type](a,l);return a.memberDepth=0,a.fn=Object.create(t),a.params=i,a.datum=r,a.event=o,a.item=s,S0t.forEach(l=>a.fn[l]=function(){return o.vega[l](...arguments)}),a(e)}var D0t={operator(e,t){const i=t.ast,r=e.functions;return o=>y9(i,r,o)},parameter(e,t){const i=t.ast,r=e.functions;return(o,s)=>y9(i,r,s,o)},event(e,t){const i=t.ast,r=e.functions;return o=>y9(i,r,void 0,void 0,o)},handler(e,t){const i=t.ast,r=e.functions;return(o,s)=>y9(i,r,o,s.item&&s.item.datum,s)},encode(e,t){const{marktype:i,channels:r}=t,o=e.functions,s="group"===i||"image"===i||"rect"===i;return(a,l)=>{const u=a.datum;let f,c=0;for(const d in r)f=y9(r[d].ast,o,l,u,void 0,a),a[d]!==f&&(a[d]=f,c=1);return"rule"!==i&&function m0t(e,t,i){let r;t.x2&&(t.x?(i&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(i&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(a,r,s),c}}};function Z$(e){return sn(e,"or")}function Q$(e){return sn(e,"and")}function J$(e){return sn(e,"not")}function NC(e,t){if(J$(e))NC(e.not,t);else if(Q$(e))for(const i of e.and)NC(i,t);else if(Z$(e))for(const i of e.or)NC(i,t);else t(e)}function C5(e,t){return J$(e)?{not:C5(e.not,t)}:Q$(e)?{and:e.and.map(i=>C5(i,t))}:Z$(e)?{or:e.or.map(i=>C5(i,t))}:t(e)}const zi=structuredClone;function rge(e){throw new Error(e)}function D5(e,t){const i={};for(const r of t)Gn(e,r)&&(i[r]=e[r]);return i}function Cu(e,t){const i={...e};for(const r of t)delete i[r];return i}function Nr(e){if(Kr(e))return e;const t=Bn(e)?e:Eo(e);if(t.length<250)return t;let i=0;for(let r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r),i&=i;return i}function eU(e){return!1===e||null===e}function Ar(e,t){return e.includes(t)}function x5(e,t){let i=0;for(const[r,o]of e.entries())if(t(o,r,i++))return!0;return!1}function tU(e,t){let i=0;for(const[r,o]of e.entries())if(!t(o,r,i++))return!1;return!0}function oge(e,...t){for(const i of t)M0t(e,i??{});return e}function M0t(e,t){for(const i of Yt(t))u3(e,i,t[i],!0)}function r0(e,t){const i=[],r={};let o;for(const s of e)o=t(s),!(o in r)&&(r[o]=1,i.push(s));return i}function A0t(e,t){const i=Yt(e),r=Yt(t);if(i.length!==r.length)return!1;for(const o of i)if(e[o]!==t[o])return!1;return!0}function sge(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function nU(e,t){for(const i of e)if(t.has(i))return!0;return!1}function iU(e){const t=new Set;for(const i of e){const o=Nd(i).map((a,l)=>0===l?a:`[${a}]`),s=o.map((a,l)=>o.slice(0,l+1).join(""));for(const a of s)t.add(a)}return t}function rU(e,t){return void 0===e||void 0===t||nU(iU(e),iU(t))}function wo(e){return 0===Yt(e).length}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Eo(e)).join(",")})`};const Yt=Object.keys,$a=Object.values,Yp=Object.entries;function b9(e){return!0===e||!1===e}function Xo(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function w9(e,t){return J$(e)?`!(${w9(e.not,t)})`:Q$(e)?`(${e.and.map(i=>w9(i,t)).join(") && (")})`:Z$(e)?`(${e.or.map(i=>w9(i,t)).join(") || (")})`:t(e)}function IC(e,t){if(0===t.length)return!0;const i=t.shift();return i in e&&IC(e[i],t)&&delete e[i],wo(e)}function E9(e){return e.charAt(0).toUpperCase()+e.substr(1)}function oU(e,t="datum"){const i=Nd(e),r=[];for(let o=1;o<=i.length;o++){const s=`[${i.slice(0,o).map(yn).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function age(e,t="datum"){return`${t}[${yn(Nd(e).join("."))}]`}function mo(e){return`datum['${e.replaceAll("'","\\'")}']`}function T0t(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Qc(e){return`${Nd(e).map(T0t).join("\\.")}`}function nm(e,t,i){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),i)}function M5(e){return`${Nd(e).join(".")}`}function A5(e){return e?Nd(e).length:0}function Os(...e){return e.find(t=>void 0!==t)}let lge=42;function uge(e){const t=++lge;return e?String(e)+t:t}function N0t(){lge=42}function cge(e){return fge(e)?e:`__${e}`}function fge(e){return e.startsWith("__")}function S9(e){if(void 0!==e)return(e%360+360)%360}function OC(e){return!!Kr(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const dge=Object.getPrototypeOf(structuredClone({}));function fc(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor.name!==t.constructor.name)return!1;let i,r;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;0!=r--;)if(!fc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!fc(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(r=i;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==dge.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==dge.toString)return e.toString()===t.toString();const o=Object.keys(e);if(i=o.length,i!==Object.keys(t).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;0!=r--;){const s=o[r];if(!fc(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function Eo(e){const t=[];return function i(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0===r)return;if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);let o,s;if(Array.isArray(r)){for(s="[",o=0;o<r.length;o++)o&&(s+=","),s+=i(r[o])||"null";return s+"]"}if(null===r)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,l=Object.keys(r).sort();for(s="",o=0;o<l.length;o++){const u=l[o],c=i(r[u]);c&&(s&&(s+=","),s+=JSON.stringify(u)+":"+c)}return t.splice(a,1),`{${s}}`}(e)}function sn(e,t){return Ln(e)&&Gn(e,t)&&void 0!==e[t]}const fh="row",dh="column",RC="facet",Zo="x",ba="y",Yf="x2",o0="y2",Kp="xOffset",T5="yOffset",Kf="radius",hh="radius2",Jc="theta",ph="theta2",Xf="latitude",Zf="longitude",Qf="latitude2",ef="longitude2",Xp="time",Du="color",s0="fill",a0="stroke",xu="shape",gh="size",im="angle",mh="opacity",Zp="fillOpacity",Qp="strokeOpacity",Jp="strokeWidth",e1="strokeDash",C9="text",N5="order",D9="detail",kC="key",rm="tooltip",FC="href",PC="url",LC="description",hge={theta:1,theta2:1,radius:1,radius2:1};function pge(e){return Gn(hge,e)}const sU={longitude:1,longitude2:1,latitude:1,latitude2:1};function gge(e){switch(e){case Xf:return"y";case Qf:return"y2";case Zf:return"x";case ef:return"x2"}}function mge(e){return Gn(sU,e)}const O0t=Yt(sU),aU={x:1,y:1,x2:1,y2:1,...hge,...sU,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function I5(e){return e===Du||e===s0||e===a0}const vge={row:1,column:1,facet:1},tf=Yt(vge),lU={...aU,...vge},R0t=Yt(lU),{order:xTt,detail:MTt,tooltip:ATt,..._ge}=lU,{row:TTt,column:NTt,facet:ITt,...yge}=_ge;function k0t(e){return Gn(yge,e)}function bge(e){return Gn(lU,e)}Yt(_ge),Yt(yge);const F0t=[Yf,o0,Qf,ef,ph,hh];function wge(e){return om(e)!==e}function om(e){switch(e){case Yf:return Zo;case o0:return ba;case Qf:return Xf;case ef:return Zf;case ph:return Jc;case hh:return Kf}return e}function t1(e){if(pge(e))switch(e){case Jc:return"startAngle";case ph:return"endAngle";case Kf:return"outerRadius";case hh:return"innerRadius"}return e}function l0(e){switch(e){case Zo:return Yf;case ba:return o0;case Xf:return Qf;case Zf:return ef;case Jc:return ph;case Kf:return hh}}function Mu(e){switch(e){case Zo:case Yf:return"width";case ba:case o0:return"height"}}function Ege(e){switch(e){case Zo:return"xOffset";case ba:return"yOffset";case Yf:return"x2Offset";case o0:return"y2Offset";case Jc:return"thetaOffset";case Kf:return"radiusOffset";case ph:return"theta2Offset";case hh:return"radius2Offset"}}function uU(e){switch(e){case Zo:return"xOffset";case ba:return"yOffset"}}function P0t(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const L0t=Yt(aU),{x:kTt,y:FTt,x2:PTt,y2:LTt,xOffset:BTt,yOffset:$Tt,latitude:UTt,longitude:VTt,latitude2:HTt,longitude2:zTt,theta:qTt,theta2:jTt,radius:GTt,radius2:WTt,...cU}=aU,B0t=Yt(cU),fU={x:1,y:1},vh=Yt(fU);function Rs(e){return Gn(fU,e)}const dU={theta:1,radius:1},$0t=Yt(dU);function BC(e){return"width"===e?Zo:ba}const hU={xOffset:1,yOffset:1};function x9(e){return Gn(hU,e)}Yt(hU);const Sge={time:1};function pU(e){return e in Sge}Yt(Sge);const{text:XTt,tooltip:ZTt,href:QTt,url:JTt,description:eNt,detail:tNt,key:nNt,order:iNt,...Cge}=cU,U0t=Yt(Cge),Dge={...fU,...dU,...hU,...Cge},gU=Yt(Dge);function u0(e){return Gn(Dge,e)}const xge={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:rNt,...q0t}=xge;function mU(e){switch(e){case Zo:case ba:case Jc:case Kf:case Kp:case T5:case gh:case im:case Jp:case mh:case Zp:case Qp:case Xp:case Yf:case o0:case ph:case hh:return;case RC:case fh:case dh:case xu:case e1:case C9:case rm:case FC:case PC:case LC:return"discrete";case Du:case s0:case a0:return"flexible";case Xf:case Zf:case Qf:case ef:case D9:case kC:case N5:return}}const G0t={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},W0t={count:1,min:1,max:1};function _h(e){return sn(e,"argmin")}function n1(e){return sn(e,"argmax")}function vU(e){return Bn(e)&&Gn(G0t,e)}const Y0t=new Set(["count","valid","missing","distinct"]);function $C(e){return Bn(e)&&Y0t.has(e)}const X0t=new Set(["count","sum","distinct","valid","missing"]),Z0t=new Set(["mean","average","median","q1","q3","min","max"]);function Mge(e){return lp(e)&&(e=oD(e,void 0)),"bin"+Yt(e).map(t=>UC(e[t])?Xo(`_${t}_${Yp(e[t])}`):Xo(`_${t}_${e[t]}`)).join("")}function Ro(e){return!0===e||sm(e)&&!e.binned}function Ua(e){return"binned"===e||sm(e)&&!0===e.binned}function sm(e){return Ln(e)}function UC(e){return sn(e,"param")}function Age(e){switch(e){case fh:case dh:case gh:case Du:case s0:case a0:case Jp:case mh:case Zp:case Qp:case xu:return 6;case e1:return 4;default:return 10}}function M9(e){return sn(e,"expr")}function Va(e,{level:t}={level:0}){const i=Yt(e||{}),r={};for(const o of i)r[o]=0===t?dc(e[o]):Va(e[o],{level:t-1});return r}function Tge(e){const{anchor:t,frame:i,offset:r,orient:o,angle:s,limit:a,color:l,subtitleColor:u,subtitleFont:c,subtitleFontSize:f,subtitleFontStyle:d,subtitleFontWeight:h,subtitleLineHeight:p,subtitlePadding:m,...v}=e,y={...t?{anchor:t}:{},...i?{frame:i}:{},...r?{offset:r}:{},...o?{orient:o}:{},...void 0!==s?{angle:s}:{},...void 0!==a?{limit:a}:{}},w={...u?{subtitleColor:u}:{},...c?{subtitleFont:c}:{},...f?{subtitleFontSize:f}:{},...d?{subtitleFontStyle:d}:{},...h?{subtitleFontWeight:h}:{},...p?{subtitleLineHeight:p}:{},...m?{subtitlePadding:m}:{}};return{titleMarkConfig:{...v,...l?{fill:l}:{}},subtitleMarkConfig:D5(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:y,subtitle:w}}function i1(e){return Bn(e)||Pt(e)&&Bn(e[0])}function ci(e){return sn(e,"signal")}function am(e){return sn(e,"step")}function yh(e){return!Pt(e)&&sn(e,"field")&&sn(e,"data")}const eht=Yt({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),tht={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},_U=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Nge(e){const t=Pt(e.condition)?e.condition.map(Ige):Ige(e.condition);return{...dc(e),condition:t}}function dc(e){if(M9(e)){const{expr:t,...i}=e;return{signal:t,...i}}return e}function Ige(e){if(M9(e)){const{expr:t,...i}=e;return{signal:t,...i}}return e}function Uo(e){if(M9(e)){const{expr:t,...i}=e;return{signal:t,...i}}return ci(e)?e:void 0!==e?{value:e}:void 0}function nht(e){return ci(e)?e.signal:yn(e)}function Oge(e){return ci(e)?e.signal:yn(e.value)}function Jf(e){return ci(e)?e.signal:null==e?null:yn(e)}function iht(e,t,i){for(const r of i){const o=c0(r,t.markDef,t.config);void 0!==o&&(e[r]=Uo(o))}return e}function Rge(e){return[].concat(e.type,e.style??[])}function So(e,t,i,r={}){const{vgChannel:o,ignoreVgConfig:s}=r;return o&&sn(t,o)?t[o]:void 0!==t[e]?t[e]:!s||o&&o!==e?c0(e,t,i,r):void 0}function c0(e,t,i,{vgChannel:r}={}){const o=yU(e,t,i.style);return Os(r?o:void 0,o,r?i[t.type][r]:void 0,i[t.type][e],r?i.mark[r]:i.mark[e])}function yU(e,t,i){return kge(e,Rge(t),i)}function kge(e,t,i){let r;t=Un(t);for(const o of t){const s=i[o];sn(s,e)&&(r=s[e])}return r}function Fge(e,t){return Un(e).reduce((i,r)=>(i.field.push(Tn(r,t)),i.order.push(r.sort??"ascending"),i),{field:[],order:[]})}function Pge(e,t){const i=[...e];return t.forEach(r=>{for(const o of i)if(fc(o,r))return;i.push(r)}),i}function Lge(e,t){return fc(e,t)||!t?e:e?[...Un(e),...Un(t)].join(", "):t}function Bge(e,t){const i=e.value,r=t.value;if(null==i||null===r)return{explicit:e.explicit,value:null};if((i1(i)||ci(i))&&(i1(r)||ci(r)))return{explicit:e.explicit,value:Lge(i,r)};if(i1(i)||ci(i))return{explicit:e.explicit,value:i};if(i1(r)||ci(r))return{explicit:e.explicit,value:r};if(!(i1(i)||ci(i)||i1(r)||ci(r)))return{explicit:e.explicit,value:Pge(i,r)};throw new Error("It should never reach here")}function bU(e){return`Invalid specification ${Eo(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const rht='Autosize "fit" only works for single views and layered views.';function $ge(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function Uge(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function Vge(e){return e?`Dropping "fit-${e}" because spec has discrete ${Mu(e)}.`:'Dropping "fit" because spec has discrete size.'}function wU(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Hge(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function oht(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function zge(e){return`Selection not supported for ${e} yet.`}const hht="The same selection must be used to override scale domains in a layered view.";function qge(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const EU="Animation involving facet, layer, or concat is currently unsupported.";function jge(e,t,i){return`An ancestor parsed field "${e}" as ${i} but a child wants to parse the field as ${t}.`}function Eht(e){return`Ignoring an invalid transform: ${Eo(e)}.`}function Gge(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function xht(e){return`${e}Offset dropped because ${e} is continuous`}function Wge(e){return`Invalid field type "${e}".`}function Yge(e,t){const{fill:i,stroke:r}=t;return`Dropping color ${e} as the plot also has ${i&&r?"fill and stroke":i?"fill":"stroke"}.`}function SU(e,t){return`Dropping ${Eo(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function VC(e,t,i){return`${e} dropped as it is incompatible with "${t}"${i?` when ${i}`:""}.`}function Oht(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Rht(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function kht(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function CU(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function Vht(e){return`Using unaggregated domain with raw field has no effect (${Eo(e)}).`}function Hht(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function zht(e){return`Unaggregated domain is currently unsupported for log scale (${Eo(e)}).`}function Kge(e,t,i){return`${i}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Xge(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const Zge="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Zht="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Qht="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Jht="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function HC(e,t){return`Invalid ${e}: ${Eo(t)}.`}function Qge(e){return`1D error band does not support ${e}.`}function Jge(e){return`Channel ${e} is required for "binned" bin.`}const eme=KI(YI);let f0=eme;function DU(...e){f0.error(...e)}function cn(...e){f0.warn(...e)}function lm(e){if(e&&Ln(e))for(const t of MU)if(sn(e,t))return!0;return!1}const nme=["january","february","march","april","may","june","july","august","september","october","november","december"],hpt=nme.map(e=>e.substr(0,3)),ime=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ppt=ime.map(e=>e.substr(0,3));function xU(e,t){const i=[];if(t&&void 0!==e.day&&Yt(e).length>1&&(cn(function ipt(e){return`Dropping day from datetime ${Eo(e)} as day cannot be combined with other units.`}(e)),delete(e=zi(e)).day),i.push(void 0!==e.year?e.year:2012),void 0!==e.month){const r=t?function mpt(e){if(OC(e)&&(e=+e),Kr(e))return e-1;{const t=e.toLowerCase(),i=nme.indexOf(t);if(-1!==i)return i;const r=t.substr(0,3),o=hpt.indexOf(r);if(-1!==o)return o;throw new Error(HC("month",e))}}(e.month):e.month;i.push(r)}else if(void 0!==e.quarter){const r=t?function gpt(e){if(OC(e)&&(e=+e),Kr(e))return e>4&&cn(HC("quarter",e)),e-1;throw new Error(HC("quarter",e))}(e.quarter):e.quarter;i.push(Kr(r)?3*r:`${r}*3`)}else i.push(0);if(void 0!==e.date)i.push(e.date);else if(void 0!==e.day){const r=t?function vpt(e){if(OC(e)&&(e=+e),Kr(e))return e%7;{const t=e.toLowerCase(),i=ime.indexOf(t);if(-1!==i)return i;const r=t.substr(0,3),o=ppt.indexOf(r);if(-1!==o)return o;throw new Error(HC("day",e))}}(e.day):e.day;i.push(Kr(r)?r+1:`${r}+1`)}else i.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const o=e[r];i.push(typeof o>"u"?0:o)}return i}function um(e){const i=xU(e,!0).join(", ");return e.utc?`utc(${i})`:`datetime(${i})`}const rme={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},MU=Yt(rme);function cm(e){return Ln(e)?e.binned:ome(e)}function ome(e){return e&&e.startsWith("binned")}function AU(e){return e.startsWith("utc")}const Ept={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function zC(e){return MU.filter(t=>ame(e,t))}function sme(e){const t=zC(e);return t[t.length-1]}function ame(e,t){const i=e.indexOf(t);return!(i<0||i>0&&"seconds"===t&&"i"===e.charAt(i-1)||e.length>i+3&&"day"===t&&"o"===e.charAt(i+3)||i>0&&"year"===t&&"f"===e.charAt(i-1))}function lme(e){if(e)return`timeUnitSpecifier(${Eo(zC(e))}, ${Eo(Ept)})`}function wa(e){if(!e)return;let t;return Bn(e)?t=ome(e)?{unit:e.substring(6),binned:!0}:{unit:e}:Ln(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),AU(t.unit)&&(t.utc=!0,t.unit=function wpt(e){return e.substring(3)}(t.unit)),t}function ume(e,t=(i=>i)){const i=wa(e),r=sme(i.unit);if(r&&"day"!==r){const o={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:a}=cme(r,i.step);return`${t(um({...o,[a]:+o[a]+s}))} - ${t(um(o))}`}}const xpt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function cme(e,t=1){if(function Mpt(e){return Gn(xpt,e)}(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:3*t};case"week":return{part:"date",step:7*t}}}function TU(e){return!!e?.field&&void 0!==e.equal}function NU(e){return!!e?.field&&void 0!==e.lt}function IU(e){return!!e?.field&&void 0!==e.lte}function OU(e){return!!e?.field&&void 0!==e.gt}function RU(e){return!!e?.field&&void 0!==e.gte}function kU(e){if(e?.field){if(Pt(e.range)&&2===e.range.length)return!0;if(ci(e.range))return!0}return!1}function FU(e){return!!e?.field&&(Pt(e.oneOf)||Pt(e.in))}function fme(e){return FU(e)||TU(e)||kU(e)||NU(e)||OU(e)||IU(e)||RU(e)}function d0(e,t){return sD(e,{timeUnit:t,wrapTime:!0})}function dme(e,t=!0){const{field:i}=e,r=wa(e.timeUnit),{unit:o,binned:s}=r||{},a=Tn(e,{expr:"datum"}),l=o?`time(${s?a:function Spt(e,t,{end:i}={end:!1}){const r=oU(t),o=AU(e)?"utc":"";function s(u){return"quarter"===u?`(${o}quarter(${r})-1)`:`${o}${u}(${r})`}let a;const l={};for(const u of MU)ame(e,u)&&(l[u]=s(u),a=u);return i&&(l[a]+="+1"),function _pt(e){const i=xU(e,!1).join(", ");return e.utc?`utc(${i})`:`datetime(${i})`}(l)}(o,i)})`:a;if(TU(e))return`${l}===${d0(e.equal,o)}`;if(NU(e))return`${l}<${d0(e.lt,o)}`;if(OU(e))return`${l}>${d0(e.gt,o)}`;if(IU(e))return`${l}<=${d0(e.lte,o)}`;if(RU(e))return`${l}>=${d0(e.gte,o)}`;if(FU(e))return`indexof([${function Npt(e,t){return e.map(i=>d0(i,t))}(e.oneOf,o).join(",")}], ${l}) !== -1`;if(function Tpt(e){return!!e?.field&&void 0!==e.valid}(e))return qC(l,e.valid);if(kU(e)){const{range:u}=Va(e),c=ci(u)?{signal:`${u.signal}[0]`}:u[0],f=ci(u)?{signal:`${u.signal}[1]`}:u[1];if(null!==c&&null!==f&&t)return"inrange("+l+", ["+d0(c,o)+", "+d0(f,o)+"])";const d=[];return null!==c&&d.push(`${l} >= ${d0(c,o)}`),null!==f&&d.push(`${l} <= ${d0(f,o)}`),d.length>0?d.join(" && "):"true"}throw new Error(`Invalid field predicate: ${Eo(e)}`)}function qC(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Ipt(e){return fme(e)&&e.timeUnit?{...e,timeUnit:wa(e.timeUnit)}:e}const fm={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Opt(e){return"quantitative"===e||"temporal"===e}function hme(e){return"ordinal"===e||"nominal"===e}const dm=fm.quantitative,PU=fm.ordinal,O5=fm.temporal,LU=fm.nominal,R5=fm.geojson;Yt(fm);const Ha={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},jC={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function kpt(e,t){const i=jC[e],r=jC[t];return i===r||"ordinal-position"===i&&"time"===r||"ordinal-position"===r&&"time"===i}Yt(jC);const Fpt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function pme(e){return Fpt[e]}const gme=new Set(["linear","log","pow","sqrt","symlog"]),mme=new Set([...gme,"time","utc"]);function vme(e){return gme.has(e)}const _me=new Set(["quantile","quantize","threshold"]),Ppt=new Set([...mme,..._me,"sequential","identity"]),Lpt=new Set(["ordinal","bin-ordinal","point","band"]);function Ea(e){return Lpt.has(e)}function ed(e){return Ppt.has(e)}function h0(e){return mme.has(e)}function k5(e){return _me.has(e)}function yme(e){return sn(e,"param")}const bme={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:DNt,domain:xNt,range:MNt,rangeMax:ANt,rangeMin:TNt,scheme:NNt,...Hpt}=(Yt(bme),bme),zpt=Yt(Hpt);function BU(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return h0(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return h0(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return h0(e);case"nice":return h0(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return ed(e)&&!Ar(["log","time","utc","threshold","quantile"],e)}}function wme(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return I5(e)?void 0:function $ht(e){return`Cannot use the scale property "${e}" with non-color channel.`}(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const wl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Eme=wl.arc,GC=wl.area,WC=wl.bar,Wpt=wl.image,YC=wl.line,KC=wl.point,Ypt=wl.rect,XC=wl.rule,Sme=wl.text,$U=wl.tick,Kpt=wl.trail,UU=wl.circle,VU=wl.square,Cme=wl.geoshape;function o1(e){return["line","area","trail"].includes(e)}function T9(e){return["rect","bar","image","arc","tick"].includes(e)}const Dme=new Set(Yt(wl));function td(e){return sn(e,"type")}const Qpt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],xme=Yt({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),HU=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],Jpt={area:["line","point"],bar:HU,rect:HU,line:["point"],tick:["bandSize","thickness",...HU]},Mme=Yt({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function hm(e){return sn(e,"band")}const t1t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},zU={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},n1t={...zU,binSpacing:1},i1t={...zU,thickness:1};function Ame(e,{isPath:t}){return void 0===e||"break-paths-show-path-domains"===e?t?"break-paths-show-domains":"filter":null===e?"show":e}function qU({markDef:e,config:t,scaleChannel:i,scaleType:r,isCountAggregate:o}){if(!r||!ed(r)||o)return"always-valid";const s=Ame(So("invalid",e,t),{isPath:o1(e.type)});return void 0!==t.scale?.invalid?.[i]?"show":s}function Tme({scaleName:e,scale:t,mode:i}){const r=`domain('${e}')`;if(!t||!e)return;const o=`${r}[0]`,s=`peek(${r})`,a=t.domainHasZero();return"definitely"===a?{scale:e,value:0}:"maybe"===a?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${"zeroOrMin"===i?o:s})`}:{signal:`scale('${e}', ${"zeroOrMin"===i?o:s})`}}function Nme({scaleChannel:e,channelDef:t,scale:i,scaleName:r,markDef:o,config:s}){const a=i?.get("type"),l=rd(t),c=qU({scaleChannel:e,markDef:o,config:s,scaleType:a,isCountAggregate:$C(l?.aggregate)});if(l&&"show"===c){const f=s.scale.invalid?.[e]??"zero-or-min";return{test:qC(Tn(l,{expr:"datum"}),!1),...s1t(f,i,r)}}}function s1t(e,t,i){if(function Gpt(e){return Ln(e)&&"value"in e}(e)){const{value:r}=e;return ci(r)?{signal:r.signal}:{value:r}}return Tme({scale:t,scaleName:i,mode:"zeroOrMin"})}function jU(e){const{channel:t,channelDef:i,markDef:r,scale:o,scaleName:s,config:a}=e,l=om(t),u=GU(e),c=Nme({scaleChannel:l,channelDef:i,scale:o,scaleName:s,markDef:r,config:a});return void 0!==c?[c,u]:u}function pm(e,t,i,r){const o={};if(t&&(o.scale=t),p0(e)){const{datum:s}=e;lm(s)?o.signal=um(s):ci(s)?o.signal=s.signal:M9(s)?o.signal=s.expr:o.value=s}else o.field=Tn(e,i);if(r){const{offset:s,band:a}=r;s&&(o.offset=s),a&&(o.band=a)}return o}function ZC({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:i,offset:r,startSuffix:o,endSuffix:s="end",bandPosition:a=.5}){const l=!ci(a)&&0<a&&a<1?"datum":void 0,u=Tn(t,{expr:l,suffix:o}),c=void 0!==i?Tn(i,{expr:l}):Tn(t,{suffix:s,expr:l}),f={};if(0===a||1===a)f.scale=e,f.field=0===a?u:c;else{const d=ci(a)?`(1-${a.signal}) * ${u} + ${a.signal} * ${c}`:`${1-a} * ${u} + ${a} * ${c}`;f.signal=`scale("${e}", ${d})`}return r&&(f.offset=r),f}function GU({channel:e,channelDef:t,channel2Def:i,markDef:r,config:o,scaleName:s,scale:a,stack:l,offset:u,defaultRef:c,bandPosition:f}){if(t){if(Gi(t)){const d=a?.get("type");if(Ql(t)){f??(f=s1({fieldDef:t,fieldDef2:i,markDef:r,config:o}));const{bin:h,timeUnit:p,type:m}=t;if(Ro(h)||f&&p&&m===O5)return l?.impute?pm(t,s,{binSuffix:"mid"},{offset:u}):f&&!Ea(d)?ZC({scaleName:s,fieldOrDatumDef:t,bandPosition:f,offset:u}):pm(t,s,F9(t,e)?{binSuffix:"range"}:{},{offset:u});if(Ua(h)){if(gn(i))return ZC({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:i,bandPosition:f,offset:u});cn(Jge(e===Zo?Yf:o0))}}return pm(t,s,Ea(d)?{binSuffix:"range"}:{},{offset:u,band:"band"===d?f??t.bandPosition??.5:void 0})}if(id(t)){const h=u?{offset:u}:{};return{...N9(e,t.value),...h}}}return ur(c)&&(c=c()),c&&{...c,...u?{offset:u}:{}}}function N9(e,t){return Ar(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:Ar(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:Uo(t)}function gm(e){return e&&"number"!==e&&"time"!==e}function Ime(e,t,i){return`${e}(${t}${i?`, ${Eo(i)}`:""})`}const u1t=" \u2013 ";function WU({fieldOrDatumDef:e,format:t,formatType:i,expr:r,normalizeStack:o,config:s}){if(gm(i))return nd({fieldOrDatumDef:e,format:t,formatType:i,expr:r,config:s});const a=Ome(e,r,o),l=F5(e);if(void 0===t&&void 0===i&&s.customFormatTypes){if("quantitative"===l){if(o&&s.normalizedNumberFormatType)return nd({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return nd({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if("temporal"===l&&s.timeFormatType&&gn(e)&&void 0===e.timeUnit)return nd({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if($5(e)){const u=function f1t({field:e,timeUnit:t,format:i,formatType:r,rawTimeFormat:o,isUTCScale:s}){return!t||i?!t&&r?`${r}(${e}, '${i}')`:`${s?"utc":"time"}Format(${e}, '${i=Bn(i)?i:o}')`:function Cpt(e,t,i){if(!e)return;const r=lme(e);return`${i||AU(e)?"utc":"time"}Format(${t}, ${r})`}(t,e,s)}({field:a,timeUnit:gn(e)?wa(e.timeUnit)?.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:mm(e)&&e.scale?.type===Ha.UTC});return u?{signal:u}:void 0}return t=YU({type:l,specifiedFormat:t,config:s,normalizeStack:o}),gn(e)&&Ro(e.bin)?{signal:I9(a,Tn(e,{expr:r,binSuffix:"end"}),t,i,s)}:t||"quantitative"===F5(e)?{signal:`${Fme(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Ome(e,t,i){return gn(e)?i?`${Tn(e,{expr:t,suffix:"end"})}-${Tn(e,{expr:t,suffix:"start"})}`:Tn(e,{expr:t}):function a1t(e){const{datum:t}=e;return lm(t)?um(t):`${Eo(t)}`}(e)}function nd({fieldOrDatumDef:e,format:t,formatType:i,expr:r,normalizeStack:o,config:s,field:a}){return a??(a=Ome(e,r,o)),"datum.value"!==a&&gn(e)&&Ro(e.bin)?{signal:I9(a,Tn(e,{expr:r,binSuffix:"end"}),t,i,s)}:{signal:Ime(i,a,t)}}function Rme(e,t,i,r,o,s){if(!(Bn(r)&&gm(r)||void 0===i&&void 0===r&&o.customFormatTypes&&"quantitative"===F5(e)&&(o.normalizedNumberFormatType&&P5(e)&&"normalize"===e.stack||o.numberFormatType))){if(P5(e)&&"normalize"===e.stack&&o.normalizedNumberFormat)return YU({type:"quantitative",config:o,normalizeStack:!0});if($5(e)){const a=gn(e)?wa(e.timeUnit)?.unit:void 0;return void 0===a&&o.customFormatTypes&&o.timeFormatType?void 0:function c1t({specifiedFormat:e,timeUnit:t,config:i,omitTimeFormatConfig:r}){return e||(t?{signal:lme(t)}:r?void 0:i.timeFormat)}({specifiedFormat:i,timeUnit:a,config:o,omitTimeFormatConfig:s})}return YU({type:t,specifiedFormat:i,config:o})}}function kme(e,t,i){return e&&(ci(e)||"number"===e||"time"===e)?e:$5(t)&&"time"!==i&&"utc"!==i?gn(t)&&wa(t?.timeUnit)?.utc?"utc":"time":void 0}function YU({type:e,specifiedFormat:t,config:i,normalizeStack:r}){return Bn(t)?t:e===dm?r?i.normalizedNumberFormat:i.numberFormat:void 0}function Fme(e,t){return`format(${e}, "${t||""}")`}function Pme(e,t,i,r){return gm(i)?Ime(i,e,t):Fme(e,(Bn(t)?t:void 0)??r.numberFormat)}function I9(e,t,i,r,o){if(void 0===i&&void 0===r&&o.customFormatTypes&&o.numberFormatType)return I9(e,t,o.numberFormat,o.numberFormatType,o);const s=Pme(e,i,r,o),a=Pme(t,i,r,o);return`${qC(e,!1)} ? "null" : ${s} + "${u1t}" + ${a}`}const QC="min",d1t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Lme(e){return Gn(d1t,e)}function bh(e){return e&&("count"===e.op||sn(e,"field"))}function Bme(e){return e&&Pt(e)}function O9(e){return sn(e,"row")||sn(e,"column")}function KU(e){return sn(e,"header")}function JC(e){return sn(e,"facet")}function $me(e){const{field:t,timeUnit:i,bin:r,aggregate:o}=e;return{...i?{timeUnit:i}:{},...r?{bin:r}:{},...o?{aggregate:o}:{},field:t}}function XU(e){return sn(e,"sort")}function s1({fieldDef:e,fieldDef2:t,markDef:i,config:r}){if(Gi(e)&&void 0!==e.bandPosition)return e.bandPosition;if(gn(e)){const{timeUnit:o,bin:s}=e;if(o&&!t)return c0("timeUnitBandPosition",i,r);if(Ro(s))return.5}}function Ume({channel:e,fieldDef:t,fieldDef2:i,markDef:r,config:o,scaleType:s,useVlSizeChannel:a}){const l=Mu(e),u=So(a?"size":l,r,o,{vgChannel:l});if(void 0!==u)return u;if(gn(t)){const{timeUnit:c,bin:f}=t;if(c&&!i)return{band:c0("timeUnitBandSize",r,o)};if(Ro(f)&&!Ea(s))return{band:1}}return T9(r.type)?s?Ea(s)?o[r.type]?.discreteBandSize||{band:1}:o[r.type]?.continuousBandSize:o[r.type]?.discreteBandSize:void 0}function Vme(e,t,i,r){return!!(Ro(e.bin)||e.timeUnit&&Ql(e)&&"temporal"===e.type)&&void 0!==s1({fieldDef:e,fieldDef2:t,markDef:i,config:r})}function Hme(e){return sn(e,"sort")&&!sn(e,"field")}function R9(e){return sn(e,"condition")}function eD(e){const t=e?.condition;return!!t&&!Pt(t)&&gn(t)}function k9(e){const t=e?.condition;return!!t&&!Pt(t)&&Gi(t)}function gn(e){return sn(e,"field")||"count"===e?.aggregate}function F5(e){return e?.type}function p0(e){return sn(e,"datum")}function a1(e){return Ql(e)&&!nD(e)||tD(e)}function zme(e){return Ql(e)&&"quantitative"===e.type&&!e.bin||tD(e)}function tD(e){return p0(e)&&Kr(e.datum)}function Gi(e){return gn(e)||p0(e)}function Ql(e){return e&&(sn(e,"field")||"count"===e.aggregate)&&sn(e,"type")}function id(e){return sn(e,"value")}function mm(e){return sn(e,"scale")||sn(e,"sort")}function P5(e){return sn(e,"axis")||sn(e,"stack")||sn(e,"impute")}function qme(e){return sn(e,"legend")}function jme(e){return sn(e,"format")||sn(e,"formatType")}function v1t(e){return Cu(e,["legend","axis","header","scale"])}function Tn(e,t={}){let i=e.field;const r=t.prefix;let o=t.suffix,s="";if(function b1t(e){return"count"===e.aggregate}(e))i=cge("count");else{let a;if(!t.nofn)if(function _1t(e){return sn(e,"op")}(e))a=e.op;else{const{bin:l,aggregate:u,timeUnit:c}=e;Ro(l)?(a=Mge(l),o=(t.binSuffix??"")+(t.suffix??"")):u?n1(u)?(s=`["${i}"]`,i=`argmax_${u.argmax}`):_h(u)?(s=`["${i}"]`,i=`argmin_${u.argmin}`):a=String(u):c&&!cm(c)&&(a=function Dpt(e){const{utc:t,...i}=wa(e);return i.unit?(t?"utc":"")+Yt(i).map(r=>Xo(`${"unit"===r?"":`_${r}_`}${i[r]}`)).join(""):(t?"utc":"")+"timeunit"+Yt(i).map(r=>Xo(`_${r}_${i[r]}`)).join("")}(c),o=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(i=i?`${a}_${i}`:a)}return o&&(i=`${i}_${o}`),r&&(i=`${r}_${i}`),t.forAs?M5(i):t.expr?age(i,t.expr)+s:Qc(i)+s}function nD(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return gn(e)&&!!e.bin;case"temporal":return!1}throw new Error(Wge(e.type))}const Gme=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function E1t(e){const{aggregate:t,bin:i,timeUnit:r,field:o}=e;if(n1(t))return`${o} for argmax(${t.argmax})`;if(_h(t))return`${o} for argmin(${t.argmin})`;const s=r&&!cm(r)?wa(r):void 0,a=t||s?.unit||s?.maxbins&&"timeunit"||Ro(i)&&"bin";return a?`${a.toUpperCase()}(${o})`:o}(e);default:return function w1t(e,t){const{field:i,bin:r,timeUnit:o,aggregate:s}=e;if("count"===s)return t.countTitle;if(Ro(r))return`${i} (binned)`;if(o&&!cm(o)){const a=wa(o)?.unit;if(a)return`${i} (${zC(a).join("-")})`}else if(s)return n1(s)?`${i} for max ${s.argmax}`:_h(s)?`${i} for min ${s.argmin}`:`${E9(s)} of ${i}`;return i}(e,t)}};let Wme=Gme;function Yme(e){Wme=e}function L5(e,t,{allowDisabling:i,includeDefault:r=!0}){const o=ZU(e)?.title;if(!gn(e))return o??e.title;const s=e,a=r?QU(s,t):void 0;return i?Os(o,s.title,a):o??s.title??a}function ZU(e){return P5(e)&&e.axis?e.axis:qme(e)&&e.legend?e.legend:KU(e)&&e.header?e.header:void 0}function QU(e,t){return Wme(e,t)}function iD(e){if(jme(e)){const{format:t,formatType:i}=e;return{format:t,formatType:i}}{const t=ZU(e)??{},{format:i,formatType:r}=t;return{format:i,formatType:r}}}function rd(e){return gn(e)?e:eD(e)?e.condition:void 0}function ia(e){return Gi(e)?e:k9(e)?e.condition:void 0}function Kme(e,t,i,r={}){return Bn(e)||Kr(e)||lp(e)?(cn(function Mht(e,t,i){return`Channel ${e} is a ${t}. Converted to {value: ${Eo(i)}}.`}(t,Bn(e)?"string":Kr(e)?"number":"boolean",e)),{value:e}):Gi(e)?rD(e,t,i,r):k9(e)?{...e,condition:rD(e.condition,t,i,r)}:e}function rD(e,t,i,r){if(jme(e)){const{format:o,formatType:s,...a}=e;if(gm(s)&&!i.customFormatTypes)return cn(Gge(t)),rD(a,t,i,r)}else{const o=P5(e)?"axis":qme(e)?"legend":KU(e)?"header":null;if(o&&e[o]){const{format:s,formatType:a,...l}=e[o];if(gm(a)&&!i.customFormatTypes)return cn(Gge(t)),rD({...e,[o]:l},t,i,r)}}return gn(e)?JU(e,t,r):function D1t(e){let t=e.type;if(t)return e;const{datum:i}=e;return t=Kr(i)?"quantitative":Bn(i)?"nominal":lm(i)?"temporal":void 0,{...e,type:t}}(e)}function JU(e,t,{compositeMark:i=!1}={}){const{aggregate:r,timeUnit:o,bin:s,field:a}=e,l={...e};if(!i&&r&&!vU(r)&&!n1(r)&&!_h(r)&&(cn(function Tht(e){return`Invalid aggregation operator "${e}".`}(r)),delete l.aggregate),o&&(l.timeUnit=wa(o)),a&&(l.field=`${a}`),Ro(s)&&(l.bin=oD(s,t)),Ua(s)&&!Rs(t)&&cn(function apt(e){return`Channel ${e} should not be used with "binned" bin.`}(t)),Ql(l)){const{type:u}=l,c=function Rpt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case dm:return"quantitative";case"t":case O5:return"temporal";case"o":case PU:return"ordinal";case"n":case LU:return"nominal";case R5:return"geojson"}}(u);u!==c&&(l.type=c),"quantitative"!==u&&$C(r)&&(cn(function Aht(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}(u,r)),l.type="quantitative")}else if(!wge(t)){const u=function C1t(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(XU(e)&&Pt(e.sort))return"ordinal";const{aggregate:i,bin:r,timeUnit:o}=e;if(o)return"temporal";if(r||i&&!n1(i)&&!_h(i))return"quantitative";if(mm(e)&&e.scale?.type)switch(jC[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,t);l.type=u}if(Ql(l)){const{compatible:u,warning:c}=function x1t(e,t){const i=e.type;if("geojson"===i&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case fh:case dh:case RC:return nD(e)?B5:{compatible:!1,warning:Rht(t)};case Zo:case ba:case Kp:case T5:case Du:case s0:case a0:case C9:case D9:case kC:case rm:case FC:case PC:case im:case Jc:case Kf:case LC:return B5;case Zf:case ef:case Xf:case Qf:return i!==dm?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:B5;case mh:case Zp:case Qp:case Jp:case gh:case ph:case hh:case Yf:case o0:case Xp:return"nominal"!==i||e.sort?B5:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case xu:case e1:return nD(e)||function y1t(e){return mm(e)&&k5(e.scale?.type)}(e)?B5:{compatible:!1,warning:kht(t)};case N5:return"nominal"!==e.type||"sort"in e?B5:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,t)||{};!1===u&&cn(c)}if(XU(l)&&Bn(l.sort)){const{sort:u}=l;if(Lme(u))return{...l,sort:{encoding:u}};const c=u.substring(1);if("-"===u.charAt(0)&&Lme(c))return{...l,sort:{encoding:c,order:"descending"}}}if(KU(l)){const{header:u}=l;if(u){const{orient:c,...f}=u;if(c)return{...l,header:{...f,labelOrient:u.labelOrient||c,titleOrient:u.titleOrient||c}}}}return l}function oD(e,t){return lp(e)?{maxbins:Age(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:{...e,maxbins:Age(t)}}const B5={compatible:!0};function $5(e){const{formatType:t}=iD(e);return"time"===t||!t&&function M1t(e){return e&&("temporal"===e.type||gn(e)&&!!e.timeUnit)}(e)}function sD(e,{timeUnit:t,type:i,wrapTime:r,undefinedIfExprNotRequired:o}){const s=t&&wa(t)?.unit;let l,a=s||"temporal"===i;return M9(e)?l=e.expr:ci(e)?l=e.signal:lm(e)?(a=!0,l=um(e)):(Bn(e)||Kr(e))&&a&&(l=`datetime(${Eo(e)})`,function bpt(e){return Gn(rme,e)}(s)&&(Kr(e)&&e<1e4||Bn(e)&&isNaN(Date.parse(e)))&&(l=um({[s]:e}))),l?r&&a?`time(${l})`:l:o?void 0:Eo(e)}function Xme(e,t){const{type:i}=e;return t.map(r=>{const s=sD(r,{timeUnit:gn(e)&&!cm(e.timeUnit)?e.timeUnit:void 0,type:i,undefinedIfExprNotRequired:!0});return void 0!==s?{signal:s}:r})}function F9(e,t){return Ro(e.bin)?u0(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Zme={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function P9(e){return e?.condition}const Qme=["domain","grid","labels","ticks","title"],A1t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Jme={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},e2e={...Jme,style:1,labelExpr:1,encoding:1};function t2e(e){return Gn(e2e,e)}Yt(e2e);const n2e=Yt({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function wh(e){return sn(e,"mark")}class aD{constructor(t,i){this.name=t,this.run=i}hasMatchingType(t){return!!wh(t)&&function r1t(e){return td(e)?e.type:e}(t.mark)===this.name}}function vm(e,t){const i=e&&e[t];return!!i&&(Pt(i)?x5(i,r=>!!r.field):gn(i)||eD(i))}function i2e(e,t){const i=e&&e[t];return!!i&&(Pt(i)?x5(i,r=>!!r.field):gn(i)||p0(i)||k9(i))}function r2e(e,t){if(Rs(t)){const i=e[t];if((gn(i)||p0(i))&&(hme(i.type)||gn(i)&&i.timeUnit))return i2e(e,uU(t))}return!1}function o2e(e){return x5(R0t,t=>{if(vm(e,t)){const i=e[t];if(Pt(i))return x5(i,r=>!!r.aggregate);{const r=rd(i);return r&&!!r.aggregate}}return!1})}function s2e(e,t){const i=[],r=[],o=[],s=[],a={};return eV(e,(l,u)=>{if(gn(l)){const{field:c,aggregate:f,bin:d,timeUnit:h,...p}=l;if(f||h||d){const v=ZU(l)?.title;let _=Tn(l,{forAs:!0});const y={...v?[]:{title:L5(l,t,{allowDisabling:!0})},...p,field:_};if(f){let w;if(n1(f)?(w="argmax",_=Tn({op:"argmax",field:f.argmax},{forAs:!0}),y.field=`${_}.${c}`):_h(f)?(w="argmin",_=Tn({op:"argmin",field:f.argmin},{forAs:!0}),y.field=`${_}.${c}`):"boxplot"!==f&&"errorbar"!==f&&"errorband"!==f&&(w=f),w){const S={op:w,as:_};c&&(S.field=c),s.push(S)}}else if(i.push(_),Ql(l)&&Ro(d))r.push({bin:d,field:c,as:_}),i.push(Tn(l,{binSuffix:"end"})),F9(l,u)&&i.push(Tn(l,{binSuffix:"range"})),Rs(u)&&(a[`${u}2`]={field:`${_}_end`}),y.bin="binned",wge(u)||(y.type=dm);else if(h&&!cm(h)){o.push({timeUnit:h,field:c,as:_});const w=Ql(l)&&l.type!==O5&&"time";w&&(u===C9||u===rm?y.formatType=w:function V0t(e){return Gn(cU,e)}(u)?y.legend={formatType:w,...y.legend}:Rs(u)&&(y.axis={formatType:w,...y.axis}))}a[u]=y}else i.push(c),a[u]=e[u]}else a[u]=e[u]}),{bins:r,timeUnits:o,aggregate:s,groupby:i,encoding:a}}function T1t(e,t,i){const r=function z0t(e,t){return function j0t(e){switch(e){case Du:case s0:case a0:case LC:case D9:case kC:case rm:case FC:case N5:case mh:case Zp:case Qp:case Jp:case RC:case fh:case dh:return xge;case Zo:case ba:case Kp:case T5:case Xf:case Zf:case Xp:return q0t;case Yf:case o0:case Qf:case ef:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case gh:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case e1:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case xu:return{point:"always",geoshape:"always"};case C9:return{text:"always"};case im:return{point:"always",square:"always",text:"always"};case PC:return{image:"always"};case Jc:case Kf:return{text:"always",arc:"always"};case ph:case hh:return{arc:"always"}}}(e)[t]}(t,i);if(!r)return!1;if("binned"===r){const o=e[t===Yf?Zo:ba];return!!(gn(o)&&gn(e[t])&&Ua(o.bin))}return!0}function lD(e,t){const i={};for(const r of Yt(e)){const o=Kme(e[r],r,t,{compositeMark:!0});i[r]=o}return i}function eV(e,t,i){if(e)for(const r of Yt(e)){const o=e[r];if(Pt(o))for(const s of o)t.call(i,s,r);else t.call(i,o,r)}}function a2e(e,t){return Yt(t).reduce((i,r)=>{switch(r){case Zo:case ba:case FC:case LC:case PC:case Yf:case o0:case Kp:case T5:case Jc:case ph:case Kf:case hh:case Xp:case Xf:case Zf:case Qf:case ef:case C9:case xu:case im:case rm:return i;case N5:if("line"===e||"trail"===e)return i;case D9:case kC:{const o=t[r];if(Pt(o)||gn(o))for(const s of Un(o))s.aggregate||i.push(Tn(s,{}));return i}case gh:if("trail"===e)return i;case Du:case s0:case a0:case mh:case Zp:case Qp:case e1:case Jp:{const o=rd(t[r]);return o&&!o.aggregate&&i.push(Tn(o,{})),i}}},[])}function tV(e,t,i,r=!0){if("tooltip"in i)return{tooltip:i.tooltip};const o=e.map(({fieldPrefix:a,titlePrefix:l})=>{const u=r?` of ${nV(t)}`:"";return{field:a+t.field,type:t.type,title:ci(l)?{signal:`${l}"${escape(u)}"`}:l+u}}),s=function I1t(e){const t=[];for(const i of Yt(e))if(vm(e,i)){const o=Un(e[i]);for(const s of o)gn(s)?t.push(s):eD(s)&&t.push(s.condition)}return t}(i).map(v1t);return{tooltip:[...o,...r0(s,Nr)]}}function nV(e){const{title:t,field:i}=e;return Os(t,i)}function iV(e,t,i,r,o){const{scale:s,axis:a}=i;return({partName:l,mark:u,positionPrefix:c,endPositionPrefix:f,extraEncoding:d={}})=>{const h=nV(i);return l2e(e,l,o,{mark:u,encoding:{[t]:{field:`${c}_${i.field}`,type:i.type,...void 0!==h?{title:h}:{},...void 0!==s?{scale:s}:{},...void 0!==a?{axis:a}:{}},...Bn(f)?{[`${t}2`]:{field:`${f}_${i.field}`}}:{},...r,...d}})}}function l2e(e,t,i,r){const{clip:o,color:s,opacity:a}=e,l=e.type;return e[t]||void 0===e[t]&&i[t]?[{...r,mark:{...i[t],...o?{clip:o}:{},...s?{color:s}:{},...a?{opacity:a}:{},...td(r.mark)?r.mark:{type:r.mark},style:`${l}-${String(t)}`,...lp(e[t])?{}:e[t]}}]:[]}function u2e(e,t,i){const{encoding:r}=e,o="vertical"===t?"y":"x",a=r[`${o}2`],l=r[`${o}Error`],u=r[`${o}Error2`];return{continuousAxisChannelDef:uD(r[o],i),continuousAxisChannelDef2:uD(a,i),continuousAxisChannelDefError:uD(l,i),continuousAxisChannelDefError2:uD(u,i),continuousAxis:o}}function uD(e,t){if(e?.aggregate){const{aggregate:i,...r}=e;return i!==t&&cn(function spt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(i,t)),r}return e}function c2e(e,t){const{mark:i,encoding:r}=e,{x:o,y:s}=r;if(td(i)&&i.orient)return i.orient;if(a1(o)){if(a1(s)){const a=gn(o)&&o.aggregate,l=gn(s)&&s.aggregate;if(!a&&l===t)return"vertical";if(!l&&a===t)return"horizontal";if(a===t&&l===t)throw new Error("Both x and y cannot have aggregate");return $5(s)&&!$5(o)?"horizontal":"vertical"}return"horizontal"}if(a1(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}const cD="boxplot",F1t=new aD(cD,d2e);function f2e(e){return Kr(e)?"tukey":e}function d2e(e,{config:t}){e={...e,encoding:lD(e.encoding,t)};const{mark:i,encoding:r,params:o,projection:s,...a}=e,l=td(i)?i:{type:i};o&&cn(zge("boxplot"));const u=l.extent??t.boxplot.extent,c=So("size",l,t),f=l.invalid,d=f2e(u),{bins:h,timeUnits:p,transform:m,continuousAxisChannelDef:v,continuousAxis:_,groupby:y,aggregate:w,encodingWithoutContinuousAxis:S,ticksOrient:M,boxOrient:A,customTooltipWithoutAggregatedField:F}=function P1t(e,t,i){const r=c2e(e,cD),{continuousAxisChannelDef:o,continuousAxis:s}=u2e(e,r,cD),a=o.field,l=M5(a),u=f2e(t),c=[...h2e(a),{op:"median",field:a,as:`mid_box_${l}`},{op:"min",field:a,as:("min-max"===u?"lower_whisker_":"min_")+l},{op:"max",field:a,as:("min-max"===u?"upper_whisker_":"max_")+l}],f="min-max"===u||"tukey"===u?[]:[{calculate:`${mo(`upper_box_${l}`)} - ${mo(`lower_box_${l}`)}`,as:`iqr_${l}`},{calculate:`min(${mo(`upper_box_${l}`)} + ${mo(`iqr_${l}`)} * ${t}, ${mo(`max_${l}`)})`,as:`upper_whisker_${l}`},{calculate:`max(${mo(`lower_box_${l}`)} - ${mo(`iqr_${l}`)} * ${t}, ${mo(`min_${l}`)})`,as:`lower_whisker_${l}`}],{[s]:d,...h}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:m}=function R1t(e){const{tooltip:t,...i}=e;if(!t)return{filteredEncoding:i};let r,o;if(Pt(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(o||(o=[]),o.push(s));r&&(i.tooltip=r)}else t.aggregate?i.tooltip=t:o=t;return Pt(o)&&1===o.length&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:i}}(h),{bins:v,timeUnits:_,aggregate:y,groupby:w,encoding:S}=s2e(m,i),M="vertical"===r?"horizontal":"vertical",A=r;return{bins:v,timeUnits:_,transform:[...v,..._,{aggregate:[...y,...c],groupby:w},...f],groupby:w,aggregate:y,continuousAxisChannelDef:o,continuousAxis:s,encodingWithoutContinuousAxis:S,ticksOrient:M,boxOrient:A,customTooltipWithoutAggregatedField:p}}(e,u,t),N=M5(v.field),{color:H,size:K,...oe}=S,ee=vi=>iV(l,_,v,vi,t.boxplot),ve=ee(oe),pe=ee(S),R=(Ln(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",P=ee({...oe,...K?{size:K}:{},color:{condition:{test:`${mo(`lower_box_${v.field}`)} >= ${mo(`upper_box_${v.field}`)}`,...H||{value:R}}}}),$=tV([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],v,S),Q={type:"tick",color:"black",opacity:1,orient:M,invalid:f,aria:!1},j="min-max"===d?$:tV([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,S),J=[...ve({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:j}),...ve({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:j}),...ve({partName:"ticks",mark:Q,positionPrefix:"lower_whisker",extraEncoding:j}),...ve({partName:"ticks",mark:Q,positionPrefix:"upper_whisker",extraEncoding:j})],re=[..."tukey"!==d?J:[],...pe({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:A,invalid:f,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:$}),...P({partName:"median",mark:{type:"tick",invalid:f,...Ln(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:M,aria:!1},positionPrefix:"mid_box",extraEncoding:$})];if("min-max"===d)return{...a,transform:(a.transform??[]).concat(m),layer:re};const _e=mo(`lower_box_${v.field}`),Se=mo(`upper_box_${v.field}`),Be=`(${Se} - ${_e})`,Oe=`${_e} - ${u} * ${Be}`,qe=`${Se} + ${u} * ${Be}`,Dt=mo(v.field),et={joinaggregate:h2e(v.field),groupby:y},Vt={transform:[{filter:`(${Oe} <= ${Dt}) && (${Dt} <= ${qe})`},{aggregate:[{op:"min",field:v.field,as:`lower_whisker_${N}`},{op:"max",field:v.field,as:`upper_whisker_${N}`},{op:"min",field:`lower_box_${v.field}`,as:`lower_box_${N}`},{op:"max",field:`upper_box_${v.field}`,as:`upper_box_${N}`},...w],groupby:y}],layer:J},{tooltip:Re,...ct}=oe,{scale:gt,axis:Ce}=v,Zt=nV(v),rn=Cu(Ce,["title"]),Zn=l2e(l,"outliers",t.boxplot,{transform:[{filter:`(${Dt} < ${Oe}) || (${Dt} > ${qe})`}],mark:"point",encoding:{[_]:{field:v.field,type:v.type,...void 0!==Zt?{title:Zt}:{},...void 0!==gt?{scale:gt}:{},...wo(rn)?{}:{axis:rn}},...ct,...H?{color:H}:{},...F?{tooltip:F}:{}}})[0];let Mn;const Jt=[...h,...p,et];return Zn?Mn={transform:Jt,layer:[Zn,Vt]}:(Mn=Vt,Mn.transform.unshift(...Jt)),{...a,layer:[Mn,{transform:m,layer:re}]}}function h2e(e){const t=M5(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}const rV="errorbar",B1t=new aD(rV,p2e);function p2e(e,{config:t}){e={...e,encoding:lD(e.encoding,t)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:s,ticksOrient:a,markDef:l,outerSpec:u,tooltipEncoding:c}=g2e(e,rV,t);delete s.size;const f=iV(l,o,r,s,t.errorbar),d=l.thickness,h=l.size,p={type:"tick",orient:a,aria:!1,...void 0!==d?{thickness:d}:{},...void 0!==h?{size:h}:{}},m=[...f({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:c}),...f({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:c}),...f({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...void 0!==d?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...u,transform:i,...m.length>1?{layer:m}:{...m[0]}}}function g2e(e,t,i){const{mark:r,encoding:o,params:s,projection:a,...l}=e,u=td(r)?r:{type:r};s&&cn(zge(t));const{orient:c,inputType:f}=function $1t(e,t){const{encoding:i}=e;if(function U1t(e){return(Gi(e.x)||Gi(e.y))&&!Gi(e.x2)&&!Gi(e.y2)&&!Gi(e.xError)&&!Gi(e.xError2)&&!Gi(e.yError)&&!Gi(e.yError2)}(i))return{orient:c2e(e,t),inputType:"raw"};const r=function V1t(e){return Gi(e.x2)||Gi(e.y2)}(i),o=function H1t(e){return Gi(e.xError)||Gi(e.xError2)||Gi(e.yError)||Gi(e.yError2)}(i),s=i.x,a=i.y;if(r){if(o)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const l=i.x2,u=i.y2;if(Gi(l)&&Gi(u))throw new Error(`${t} cannot have both x2 and y2`);if(Gi(l)){if(a1(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(Gi(u)){if(a1(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const l=i.xError,c=i.yError,f=i.yError2;if(Gi(i.xError2)&&!Gi(l))throw new Error(`${t} cannot have xError2 without xError`);if(Gi(f)&&!Gi(c))throw new Error(`${t} cannot have yError2 without yError`);if(Gi(l)&&Gi(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Gi(l)){if(a1(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Gi(c)){if(a1(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:v}=u2e(e,c,t),{errorBarSpecificAggregate:_,postAggregateCalculates:y,tooltipSummary:w,tooltipTitleWithFieldName:S}=function z1t(e,t,i,r,o,s,a,l){let u=[],c=[];const f=t.field;let d,h=!1;if("raw"===s){const p=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":l.errorbar.center,m=e.extent?e.extent:"mean"===p?"stderr":"iqr";if("median"===p!=("iqr"===m)&&cn(function opt(e,t,i){return`${e} is not usually used with ${t} for ${i}.`}(p,m,a)),"stderr"===m||"stdev"===m)u=[{op:m,field:f,as:`extent_${f}`},{op:p,field:f,as:`center_${f}`}],c=[{calculate:`${mo(`center_${f}`)} + ${mo(`extent_${f}`)}`,as:`upper_${f}`},{calculate:`${mo(`center_${f}`)} - ${mo(`extent_${f}`)}`,as:`lower_${f}`}],d=[{fieldPrefix:"center_",titlePrefix:E9(p)},{fieldPrefix:"upper_",titlePrefix:m2e(p,m,"+")},{fieldPrefix:"lower_",titlePrefix:m2e(p,m,"-")}],h=!0;else{let v,_,y;"ci"===m?(v="mean",_="ci0",y="ci1"):(v="median",_="q1",y="q3"),u=[{op:_,field:f,as:`lower_${f}`},{op:y,field:f,as:`upper_${f}`},{op:v,field:f,as:`center_${f}`}],d=[{fieldPrefix:"upper_",titlePrefix:L5({field:f,aggregate:y,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:L5({field:f,aggregate:_,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:L5({field:f,aggregate:v,type:"quantitative"},l,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&cn(function rpt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===s?(d=[],c=[{calculate:mo(i.field),as:`upper_${f}`},{calculate:mo(f),as:`lower_${f}`}]):"aggregated-error"===s&&(d=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:`${mo(f)} + ${mo(r.field)}`,as:`upper_${f}`}],c.push(o?{calculate:`${mo(f)} + ${mo(o.field)}`,as:`lower_${f}`}:{calculate:`${mo(f)} - ${mo(r.field)}`,as:`lower_${f}`}));for(const p of c)d.push({fieldPrefix:p.as.substring(0,6),titlePrefix:nm(nm(p.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:d,tooltipTitleWithFieldName:h}}(u,d,h,p,m,f,t,i),{[v]:M,["x"===v?"x2":"y2"]:A,["x"===v?"xError":"yError"]:F,["x"===v?"xError2":"yError2"]:N,...H}=o,{bins:K,timeUnits:oe,aggregate:ee,groupby:ve,encoding:pe}=s2e(H,i),R=[...ee,..._],P="raw"!==f?[]:ve,$=tV(w,d,pe,S);return{transform:[...l.transform??[],...K,...oe,...0===R.length?[]:[{aggregate:R,groupby:P}],...y],groupby:P,continuousAxisChannelDef:d,continuousAxis:v,encodingWithoutContinuousAxis:pe,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:$}}function m2e(e,t,i){return`${E9(e)} ${i} ${t}`}const oV="errorband",j1t=new aD(oV,v2e);function v2e(e,{config:t}){e={...e,encoding:lD(e.encoding,t)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:s,markDef:a,outerSpec:l,tooltipEncoding:u}=g2e(e,oV,t),c=a,f=iV(c,o,r,s,t.errorband),d=void 0!==e.encoding.x&&void 0!==e.encoding.y;let h={type:d?"area":"rect"},p={type:d?"line":"rule"};const m={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return d?(h={...h,...m,ariaRoleDescription:"errorband"},p={...p,...m,aria:!1}):c.interpolate?cn(Qge("interpolate")):c.tension&&cn(Qge("tension")),{...l,transform:i,layer:[...f({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...f({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:u}),...f({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:u})]}}const sV={};function aV(e,t,i){const r=new aD(e,t);sV[e]={normalizer:r,parts:i}}aV(cD,d2e,["box","median","outliers","rule","ticks"]),aV(rV,p2e,["ticks","rule"]),aV(oV,v2e,["band","borders"]);const W1t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],_2e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},y2e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Y1t=Yt(_2e),K1t=Yt(y2e),b2e=Yt({header:1,headerRow:1,headerColumn:1,headerFacet:1}),w2e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],E2e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},od=(Yt(E2e),"_vgsid_"),Z1t={point:{on:"click",fields:[od],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function lV(e){return"legend"===e||!!e?.legend}function uV(e){return lV(e)&&Ln(e)}function cV(e){return!!e?.select}function S2e(e){const t=[];for(const i of e||[]){if(cV(i))continue;const{expr:r,bind:o,...s}=i;if(o&&r){const a={...s,bind:o,init:r};t.push(a)}else{const a={...s,...r?{update:r}:{},...o?{bind:o}:{}};t.push(a)}}return t}function fV(e){return sn(e,"concat")}function fD(e){return sn(e,"vconcat")}function dV(e){return sn(e,"hconcat")}function C2e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function g0(e){return sn(e,"step")}function D2e(e){return sn(e,"view")||sn(e,"width")||sn(e,"height")}const J1t=Yt({align:1,bounds:1,center:1,columns:1,spacing:1});function hV(e,t){return e[t]??e["width"===t?"continuousWidth":"continuousHeight"]}function pV(e,t){const i=dD(e,t);return g0(i)?i.step:M2e}function dD(e,t){return Os(e[t]??e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const M2e=20,ngt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:M2e},mark:{color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},arc:{},area:{},bar:n1t,circle:{},geoshape:{},image:{},line:{},point:{},rect:zU,rule:{color:"black"},square:{},text:{color:"black"},tick:i1t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Z1t,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Eh=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],A2e={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},T2e={blue:Eh[0],orange:Eh[1],red:Eh[2],teal:Eh[3],green:Eh[4],yellow:Eh[5],purple:Eh[6],pink:Eh[7],brown:Eh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function N2e(e){const t=Yt(e||{}),i={};for(const r of t){const o=e[r];i[r]=P9(o)?Nge(o):dc(o)}return i}const agt=[...Mme,...n2e,...b2e,"background","padding","legend","lineBreak","scale","style","title","view"];function I2e(e={}){const{color:t,font:i,fontSize:r,selection:o,...s}=e,a=l3({},zi(ngt),i?function ogt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(i):{},t?function igt(e={}){return{signals:[{name:"color",value:Ln(e)?{...T2e,...e}:T2e}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function rgt(e){return{signals:[{name:"fontSize",value:Ln(e)?{...A2e,...e}:A2e}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},s||{});o&&u3(a,"selection",o,!0);const l=Cu(a,agt);for(const u of["background","lineBreak","padding"])a[u]&&(l[u]=dc(a[u]));for(const u of Mme)a[u]&&(l[u]=Va(a[u]));for(const u of n2e)a[u]&&(l[u]=N2e(a[u]));for(const u of b2e)a[u]&&(l[u]=Va(a[u]));if(a.legend&&(l.legend=Va(a.legend)),a.scale){const{invalid:u,...c}=a.scale,f=Va(u,{level:1});l.scale={...Va(c),...Yt(f).length>0?{invalid:f}:{}}}return a.style&&(l.style=function sgt(e){const t=Yt(e),i={};for(const r of t)i[r]=N2e(e[r]);return i}(a.style)),a.title&&(l.title=Va(a.title)),a.view&&(l.view=Va(a.view)),l}const lgt=new Set(["view",...Dme]),ugt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],cgt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Jpt};function hgt(e,t,i,r){"view"===t&&(i="cell");const s={...r?e[t][r]:e[t],...e.style[i??t]};wo(s)||(e.style[i??t]=s),r||delete e[t]}function hD(e){return sn(e,"layer")}class gV{map(t,i){return JC(t)?this.mapFacet(t,i):function pgt(e){return sn(e,"repeat")}(t)?this.mapRepeat(t,i):dV(t)?this.mapHConcat(t,i):fD(t)?this.mapVConcat(t,i):fV(t)?this.mapConcat(t,i):this.mapLayerOrUnit(t,i)}mapLayerOrUnit(t,i){if(hD(t))return this.mapLayer(t,i);if(wh(t))return this.mapUnit(t,i);throw new Error(bU(t))}mapLayer(t,i){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,i))}}mapHConcat(t,i){return{...t,hconcat:t.hconcat.map(r=>this.map(r,i))}}mapVConcat(t,i){return{...t,vconcat:t.vconcat.map(r=>this.map(r,i))}}mapConcat(t,i){const{concat:r,...o}=t;return{...o,concat:r.map(s=>this.map(s,i))}}mapFacet(t,i){return{...t,spec:this.map(t.spec,i)}}mapRepeat(t,i){return{...t,spec:this.map(t.spec,i)}}}const mgt={zero:1,center:1,normalize:1},_gt=new Set([Eme,WC,GC,XC,KC,UU,VU,YC,Sme,$U]),ygt=new Set([WC,GC,Eme]);function U5(e){return gn(e)&&"quantitative"===F5(e)&&!e.bin}function O2e(e,t,{orient:i,type:r}){const o="x"===t?"y":"radius",s="x"===t&&["bar","area"].includes(r),a=e[t],l=e[o];if(gn(a)&&gn(l))if(U5(a)&&U5(l)){if(a.stack)return t;if(l.stack)return o;const u=gn(a)&&!!a.aggregate;if(u!==(gn(l)&&!!l.aggregate))return u?t:o;if(s){if("vertical"===i)return o;if("horizontal"===i)return t}}else{if(U5(a))return t;if(U5(l))return o}else{if(U5(a))return s&&"vertical"===i?void 0:t;if(U5(l))return s&&"horizontal"===i?void 0:o}}function R2e(e,t){const i=td(e)?e:{type:e},r=i.type;if(!_gt.has(r))return null;const o=O2e(t,"x",i)||O2e(t,"theta",i);if(!o)return null;const s=t[o],a=gn(s)?Tn(s,{}):void 0,l=function bgt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(o),u=[],c=new Set;if(t[l]){const v=t[l],_=gn(v)?Tn(v,{}):void 0;_&&_!==a&&(u.push(l),c.add(_))}const f="x"===l?"xOffset":"yOffset",d=t[f],h=gn(d)?Tn(d,{}):void 0;h&&h!==a&&(u.push(f),c.add(h));const p=B0t.reduce((v,_)=>{if("tooltip"!==_&&vm(t,_)){const y=t[_];for(const w of Un(y)){const S=rd(w);if(S.aggregate)continue;const M=Tn(S,{});(!M||!c.has(M))&&v.push({channel:_,fieldDef:S})}}return v},[]);let m;return void 0!==s.stack?m=lp(s.stack)?s.stack?"zero":null:s.stack:ygt.has(r)&&(m="zero"),!m||!function vgt(e){return Gn(mgt,e)}(m)||o2e(t)&&0===p.length?null:(s?.scale?.type&&s?.scale?.type!==Ha.LINEAR&&s?.stack&&cn(function tpt(e){return`Stack is applied to a non-linear scale (${e}).`}(s.scale.type)),Gi(t[l0(o)])?(void 0!==s.stack&&cn(function ept(e){return`Cannot stack "${e}" if there is already "${e}2".`}(o)),null):(gn(s)&&s.aggregate&&!X0t.has(s.aggregate)&&cn(function npt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}(s.aggregate)),{groupbyChannels:u,groupbyFields:c,fieldChannel:o,impute:null!==s.impute&&o1(r),stackBy:p,offset:m}))}function k2e(e,t,i){const r=Va(e),o=So("orient",r,i);if(r.orient=function Cgt(e,t,i){switch(e){case KC:case UU:case VU:case Sme:case Ypt:case Wpt:return}const{x:r,y:o,x2:s,y2:a}=t;switch(e){case WC:if(gn(r)&&(Ua(r.bin)||gn(o)&&o.aggregate&&!r.aggregate))return"vertical";if(gn(o)&&(Ua(o.bin)||gn(r)&&r.aggregate&&!o.aggregate))return"horizontal";if(a||s){if(i)return i;if(!s)return(gn(r)&&r.type===dm&&!Ro(r.bin)||tD(r))&&gn(o)&&Ua(o.bin)?"horizontal":"vertical";if(!a)return(gn(o)&&o.type===dm&&!Ro(o.bin)||tD(o))&&gn(r)&&Ua(r.bin)?"vertical":"horizontal"}case XC:if(s&&(!gn(r)||!Ua(r.bin))&&a&&(!gn(o)||!Ua(o.bin)))return;case GC:if(a)return gn(o)&&Ua(o.bin)?"horizontal":"vertical";if(s)return gn(r)&&Ua(r.bin)?"vertical":"horizontal";if(e===XC){if(r&&!o)return"vertical";if(o&&!r)return"horizontal"}case YC:case $U:{const l=zme(r),u=zme(o);if(i)return i;if(l&&!u)return"tick"!==e?"horizontal":"vertical";if(!l&&u)return"tick"!==e?"vertical":"horizontal";if(l&&u)return"vertical";{const c=Ql(r)&&r.type===O5,f=Ql(o)&&o.type===O5;if(c&&!f)return"vertical";if(!c&&f)return"horizontal"}return}}return"vertical"}(r.type,t,o),void 0!==o&&o!==r.orient&&cn(function Bht(e,t){return`Specified orient "${e}" overridden with "${t}".`}(r.orient,o)),"bar"===r.type&&r.orient){const u=So("cornerRadiusEnd",r,i);if(void 0!==u){const c="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:t1t[r.orient];for(const f of c)r[f]=u;void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}const s=So("opacity",r,i),a=So("fillOpacity",r,i);return void 0===s&&void 0===a&&(r.opacity=function Egt(e,t){if(Ar([KC,$U,UU,VU],e)&&!o2e(t))return.7}(r.type,t)),void 0===So("cursor",r,i)&&(r.cursor=function wgt(e,t,i){return t.href||e.href||So("href",e,i)?"pointer":e.cursor}(r,t,i)),r}function Dgt(e){const{point:t,line:i,...r}=e;return Yt(r).length>1?r:r.type}function xgt(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Cu(e[t],["point","line"])});return e}function mV(e,t={},i){return"transparent"===e.point?{opacity:0}:e.point?Ln(e.point)?e.point:{}:void 0!==e.point?null:t.point||i.shape?Ln(t.point)?t.point:{}:void 0}function F2e(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class Mgt{constructor(){this.name="path-overlay"}hasMatchingType(t,i){if(wh(t)){const{mark:r,encoding:o}=t,s=td(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!mV(s,i[s.type],o);case"area":return!!mV(s,i[s.type],o)||!!F2e(s,i[s.type])}}return!1}run(t,i,r){const{config:o}=i,{params:s,projection:a,mark:l,name:u,encoding:c,...f}=t,d=lD(c,o),h=td(l)?l:{type:l},p=mV(h,o[h.type],d),m="area"===h.type&&F2e(h,o[h.type]),v=[{name:u,...s?{params:s}:{},mark:Dgt({..."area"===h.type&&void 0===h.opacity&&void 0===h.fillOpacity?{opacity:.7}:{},...h}),encoding:Cu(d,["shape"])}],_=R2e(k2e(h,d,o),d);let y=d;if(_){const{fieldChannel:w,offset:S}=_;y={...d,[w]:{...d[w],...S?{stack:S}:{}}}}return y=Cu(y,["y2","x2"]),m&&v.push({...a?{projection:a}:{},mark:{type:"line",...D5(h,["clip","interpolate","tension","tooltip"]),...m},encoding:y}),p&&v.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...D5(h,["clip","tooltip"]),...p},encoding:y}),r({...f,layer:v},{...i,config:xgt(o)})}}function Agt(e,t){return t?O9(e)?$2e(e,t):P2e(e,t):e}function vV(e,t){return t?$2e(e,t):e}function _V(e,t,i){const r=t[e];return function g1t(e){return!Bn(e)&&sn(e,"repeat")}(r)?r.repeat in i?{...t,[e]:i[r.repeat]}:void cn(function ght(e){return`Unknown repeated value "${e}".`}(r.repeat)):t}function P2e(e,t){if(void 0!==(e=_V("field",e,t))){if(null===e)return null;if(XU(e)&&bh(e.sort)){const i=_V("field",e.sort,t);e={...e,...i?{sort:i}:{}}}return e}}function L2e(e,t){if(gn(e))return P2e(e,t);{const i=_V("datum",e,t);return i!==e&&!i.type&&(i.type="nominal"),i}}function B2e(e,t){if(!Gi(e)){if(k9(e)){const i=L2e(e.condition,t);if(i)return{...e,condition:i};{const{condition:r,...o}=e;return o}}return e}{const i=L2e(e,t);if(i)return i;if(R9(e))return{condition:e.condition}}}function $2e(e,t){const i={};for(const r in e)if(sn(e,r)){const o=e[r];if(Pt(o))i[r]=o.map(s=>B2e(s,t)).filter(s=>s);else{const s=B2e(o,t);void 0!==s&&(i[r]=s)}}return i}class Tgt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(wh(t)){const{encoding:i,mark:r}=t;if("line"===r||td(r)&&"line"===r.type)for(const o of F0t){const a=i[om(o)];if(i[o]&&(gn(a)&&!Ua(a.bin)||p0(a)))return!0}}return!1}run(t,i,r){const{encoding:o,mark:s}=t;return cn(function Lht(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}(!!o.x2,!!o.y2)),r({...t,mark:Ln(s)?{...s,type:"rule"}:"rule"},i)}}function U2e({parentEncoding:e,encoding:t={},layer:i}){let r={};if(e){const o=new Set([...Yt(e),...Yt(t)]);for(const s of o){const a=t[s],l=e[s];if(Gi(a)){const u={...l,...a};r[s]=u}else k9(a)?r[s]={...a,condition:{...l,...a.condition}}:a||null===a?r[s]=a:(i||id(l)||ci(l)||Gi(l)||Pt(l))&&(r[s]=l)}}else r=t;return!r||wo(r)?void 0:r}function V2e(e){const{parentProjection:t,projection:i}=e;return t&&i&&cn(function Cht(e){const{parentProjection:t,projection:i}=e;return`Layer's shared projection ${Eo(t)} is overridden by a child projection ${Eo(i)}.`}({parentProjection:t,projection:i})),i??t}function yV(e){return sn(e,"filter")}function Igt(e){return sn(e,"stop")}function H2e(e){return sn(e,"lookup")}function kgt(e){return sn(e,"pivot")}function Fgt(e){return sn(e,"density")}function Pgt(e){return sn(e,"quantile")}function Lgt(e){return sn(e,"regression")}function Bgt(e){return sn(e,"loess")}function $gt(e){return sn(e,"sample")}function Ugt(e){return sn(e,"window")}function Vgt(e){return sn(e,"joinaggregate")}function Hgt(e){return sn(e,"flatten")}function zgt(e){return sn(e,"calculate")}function z2e(e){return sn(e,"bin")}function qgt(e){return sn(e,"impute")}function jgt(e){return sn(e,"timeUnit")}function Ggt(e){return sn(e,"aggregate")}function Wgt(e){return sn(e,"stack")}function Ygt(e){return sn(e,"fold")}function Kgt(e){return sn(e,"extent")&&!sn(e,"density")&&!sn(e,"regression")}function q2e(e,t){const{transform:i,...r}=e;return i?{...r,transform:i.map(s=>{if(yV(s))return{filter:bV(s,t)};if(z2e(s)&&sm(s.bin))return{...s,bin:G2e(s.bin)};if(H2e(s)){const{selection:a,...l}=s.from;return a?{...s,from:{param:a,...l}}:s}return s})}:e}function j2e(e,t){const i=zi(e);if(gn(i)&&sm(i.bin)&&(i.bin=G2e(i.bin)),mm(i)&&i.scale?.domain?.selection){const{selection:r,...o}=i.scale.domain;i.scale.domain={...o,...r?{param:r}:{}}}if(R9(i))if(Pt(i.condition))i.condition=i.condition.map(r=>{const{selection:o,param:s,test:a,...l}=r;return s?r:{...l,test:bV(r,t)}});else{const{selection:r,param:o,test:s,...a}=j2e(i.condition,t);i.condition=o?i.condition:{...a,test:bV(i.condition,t)}}return i}function G2e(e){const t=e.extent;if(t?.selection){const{selection:i,...r}=t;return{...e,extent:{...r,param:i}}}return e}function bV(e,t){const i=r=>C5(r,o=>{var s;const l={param:o,empty:t.emptySelections[o]??!0};return(s=t.selectionPredicates)[o]??(s[o]=[]),t.selectionPredicates[o].push(l),l});return e.selection?i(e.selection):C5(e.test||e.filter,r=>r.selection?i(r.selection):r)}class wV extends gV{map(t,i){const r=i.selections??[];if(t.params&&!wh(t)){const o=[];for(const s of t.params)cV(s)?r.push(s):o.push(s);t.params=o}return i.selections=r,super.map(t,i)}mapUnit(t,i){const r=i.selections;if(!r||!r.length)return t;const o=(i.path??[]).concat(t.name),s=[];for(const a of r)if(a.views&&a.views.length)for(const l of a.views)(Bn(l)&&(l===t.name||o.includes(l))||Pt(l)&&l.map(u=>o.indexOf(u)).every((u,c,f)=>-1!==u&&(0===c||u>f[c-1])))&&s.push(a);else s.push(a);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=wV.prototype[e];wV.prototype[e]=function(i,r){return t.call(this,i,Qgt(i,r))}}function Qgt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function W2e(e,t){void 0===t&&(t=I2e(e.config));const i=function nmt(e,t={}){const i={config:t};return tmt.map(Jgt.map(emt.map(e,i),i),i)}(e,t),{width:r,height:o}=e,s=function imt(e,t,i){let{width:r,height:o}=t;const s=wh(e)||hD(e),a={};s?"container"==r&&"container"==o?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==o&&(a.type="fit-y",a.contains="padding"):("container"==r&&(cn($ge("width")),r=void 0),"container"==o&&(cn($ge("height")),o=void 0));const l={type:"pad",...a,...i?Y2e(i.autosize):{},...Y2e(e.autosize)};if("fit"===l.type&&!s&&(cn(rht),l.type="pad"),"container"==r&&!("fit"==l.type||"fit-x"==l.type)&&cn(Uge("width")),"container"==o&&!("fit"==l.type||"fit-y"==l.type)&&cn(Uge("height")),!fc(l,{type:"pad"}))return l}(i,{width:r,height:o,autosize:e.autosize},t);return{...i,...s?{autosize:s}:{}}}const Jgt=new class Ngt extends gV{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[F1t,B1t,j1t,new Mgt,new Tgt]}map(t,i){if(wh(t)){const r=vm(t.encoding,fh),o=vm(t.encoding,dh),s=vm(t.encoding,RC);if(r||o||s)return this.mapFacetedUnit(t,i)}return super.map(t,i)}mapUnit(t,i){const{parentEncoding:r,parentProjection:o}=i,s=vV(t.encoding,i.repeater),a={...t,...t.name?{name:[i.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(r||o)return this.mapUnitWithParentEncodingOrProjection(a,i);const l=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,i.config))return u.run(a,i,l);return a}mapRepeat(t,i){return function ggt(e){return!Pt(e.repeat)&&sn(e.repeat,"layer")}(t)?this.mapLayerRepeat(t,i):this.mapNonLayerRepeat(t,i)}mapLayerRepeat(t,i){const{repeat:r,spec:o,...s}=t,{row:a,column:l,layer:u}=r,{repeater:c={},repeaterPrefix:f=""}=i;return a||l?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...l?{column:l}:{}},spec:{repeat:{layer:u},spec:o}},i):{...s,layer:u.map(d=>{const h={...c,layer:d},p=`${(o.name?`${o.name}_`:"")+f}child__layer_${Xo(d)}`,m=this.mapLayerOrUnit(o,{...i,repeater:h,repeaterPrefix:p});return m.name=p,m})}}mapNonLayerRepeat(t,i){const{repeat:r,spec:o,data:s,...a}=t;!Pt(r)&&t.columns&&(t=Cu(t,["columns"]),cn(qge("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=i,f=!Pt(r)&&r.row||[u?u.row:null],d=!Pt(r)&&r.column||[u?u.column:null],h=Pt(r)&&r||[u?u.repeat:null];for(const m of h)for(const v of f)for(const _ of d){const y={repeat:m,row:v,column:_,layer:u.layer},w=(o.name?`${o.name}_`:"")+c+"child__"+(Pt(r)?`${Xo(m)}`:(r.row?`row_${Xo(v)}`:"")+(r.column?`column_${Xo(_)}`:"")),S=this.map(o,{...i,repeater:y,repeaterPrefix:w});S.name=w,l.push(Cu(S,["data"]))}const p=Pt(r)?t.columns:r.column?r.column.length:1;return{data:o.data??s,align:"all",...a,columns:p,concat:l}}mapFacet(t,i){const{facet:r}=t;return O9(r)&&t.columns&&(t=Cu(t,["columns"]),cn(qge("facet"))),super.mapFacet(t,i)}mapUnitWithParentEncodingOrProjection(t,i){const{encoding:r,projection:o}=t,{parentEncoding:s,parentProjection:a,config:l}=i,u=V2e({parentProjection:a,projection:o}),c=U2e({parentEncoding:s,encoding:vV(r,i.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:l})}mapFacetedUnit(t,i){const{row:r,column:o,facet:s,...a}=t.encoding,{mark:l,width:u,projection:c,height:f,view:d,params:h,encoding:p,...m}=t,{facetMapping:v,layout:_}=this.getFacetMappingAndLayout({row:r,column:o,facet:s},i),y=vV(a,i.repeater);return this.mapFacet({...m,..._,facet:v,spec:{...u?{width:u}:{},...f?{height:f}:{},...d?{view:d}:{},...c?{projection:c}:{},mark:l,encoding:y,...h?{params:h}:{}}},i)}getFacetMappingAndLayout(t,i){const{row:r,column:o,facet:s}=t;if(r||o){s&&cn(function Fht(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}([...r?[fh]:[],...o?[dh]:[]]));const a={},l={};for(const u of[fh,dh]){const c=t[u];if(c){const{align:f,center:d,spacing:h,columns:p,...m}=c;a[u]=m;for(const v of["align","center","spacing"])void 0!==c[v]&&(l[v]??(l[v]={}),l[v][u]=c[v])}}return{facetMapping:a,layout:l}}{const{align:a,center:l,spacing:u,columns:c,...f}=s;return{facetMapping:Agt(f,i.repeater),layout:{...a?{align:a}:{},...l?{center:l}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:i,parentProjection:r,...o}){const{encoding:s,projection:a,...l}=t,u={...o,parentEncoding:U2e({parentEncoding:i,encoding:s,layer:!0}),parentProjection:V2e({parentProjection:r,projection:a})};return super.mapLayer({...l,...t.name?{name:[u.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},u)}},emt=new class Zgt extends gV{map(t,i){return i.emptySelections??(i.emptySelections={}),i.selectionPredicates??(i.selectionPredicates={}),t=q2e(t,i),super.map(t,i)}mapLayerOrUnit(t,i){if((t=q2e(t,i)).encoding){const r={};for(const[o,s]of Yp(t.encoding))r[o]=j2e(s,i);t={...t,encoding:r}}return super.mapLayerOrUnit(t,i)}mapUnit(t,i){const{selection:r,...o}=t;return r?{...o,params:Yp(r).map(([s,a])=>{const{init:l,bind:u,empty:c,...f}=a;"single"===f.type?(f.type="point",f.toggle=!1):"multi"===f.type&&(f.type="point"),i.emptySelections[s]="none"!==c;for(const d of $a(i.selectionPredicates[s]??{}))d.empty="none"!==c;return{name:s,value:l,select:f,bind:u}})}:t}},tmt=new wV;function Y2e(e){return Bn(e)?{type:e}:e??{}}const smt=["background","padding"];function K2e(e,t){const i={};for(const r of smt)e&&void 0!==e[r]&&(i[r]=dc(e[r]));return t&&(i.params=e.params),i}class Sh{constructor(t={},i={}){this.explicit=t,this.implicit=i}clone(){return new Sh(zi(this.explicit),zi(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Os(this.explicit[t],this.implicit[t])}getWithExplicit(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:i,explicit:r}){void 0!==i&&this.set(t,i,r)}set(t,i,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=i,this}copyKeyFromSplit(t,{explicit:i,implicit:r}){void 0!==i[t]?this.set(t,i[t],!0):void 0!==r[t]&&this.set(t,r[t],!1)}copyKeyFromObject(t,i){void 0!==i[t]&&this.set(t,i[t],!0)}copyAll(t){for(const i of Yt(t.combine())){const r=t.getWithExplicit(i);this.setWithExplicit(i,r)}}}function m0(e){return{explicit:!0,value:e}}function hc(e){return{explicit:!1,value:e}}function X2e(e){return(t,i,r,o)=>{const s=e(t.value,i.value);return s>0?t:s<0?i:pD(t,i,r,o)}}function pD(e,t,i,r){return e.explicit&&t.explicit&&cn(function Wht(e,t,i,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Eo(i)} and ${Eo(r)}). Using ${Eo(i)}.`}(i,r,e.value,t.value)),e}function l1(e,t,i,r,o=pD){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:fc(e.value,t.value)?e:o(e,t,i,r)}class amt extends Sh{constructor(t={},i={},r=!1){super(t,i),this.explicit=t,this.implicit=i,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function V5(e){return sn(e,"url")}function L9(e){return sn(e,"values")}function Z2e(e){return sn(e,"name")&&!V5(e)&&!L9(e)&&!u1(e)}function u1(e){return e&&(Q2e(e)||J2e(e)||EV(e))}function Q2e(e){return sn(e,"sequence")}function J2e(e){return sn(e,"sphere")}function EV(e){return sn(e,"graticule")}var Qo=(()=>(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"}(Qo||(Qo={})),Qo))();function e3e({invalid:e,isPath:t}){switch(Ame(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}class vo{constructor(t,i){this.debugName=i,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,i){this._children.includes(t)?cn("Attempt to add the same child twice."):void 0!==i?this._children.splice(i,0,t):this._children.push(t)}removeChild(t){const i=this._children.indexOf(t);return this._children.splice(i,1),i}remove(){let t=this._parent.removeChild(this);for(const i of this._children)i._parent=this._parent,this._parent.addChild(i,t++)}insertAsParentOf(t){const i=t.parent;i.removeChild(this),this.parent=i,t.parent=this}swapWithParent(){const t=this._parent,i=t.parent;for(const o of this._children)o.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=i,i.addChild(this,r),t.parent=this}}class Au extends vo{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,i,r,o){super(t,i),this.type=r,this.refCounts=o,this._source=this._name=i,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${uge()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function SV(e){return void 0!==e.as}function t3e(e){return`${e}_end`}class v0 extends vo{clone(){return new v0(null,zi(this.timeUnits))}constructor(t,i){super(t),this.timeUnits=i}static makeFromEncoding(t,i){const r=i.reduceFieldDef((o,s,a)=>{const{field:l,timeUnit:u}=s;if(u){let c;if(cm(u)){if(cs(i)){const{mark:f,markDef:d,config:h}=i,p=s1({fieldDef:s,markDef:d,config:h});(T9(f)||p)&&(c={timeUnit:wa(u),field:l})}}else c={as:Tn(s,{forAs:!0}),field:l,timeUnit:u};if(cs(i)){const{mark:f,markDef:d,config:h}=i,p=s1({fieldDef:s,markDef:d,config:h});T9(f)&&Rs(a)&&.5!==p&&(c.rectBandPosition=p)}c&&(o[Nr(c)]=c)}return o},{});return wo(r)?null:new v0(t,r)}static makeFromTransform(t,i){const{timeUnit:r,...o}={...i},a={...o,timeUnit:wa(r)};return new v0(t,{[Nr(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const i in t.timeUnits)this.timeUnits[i]||(this.timeUnits[i]=t.timeUnits[i]);for(const i of t.children)t.removeChild(i),i.parent=this;t.remove()}removeFormulas(t){const i={};for(const[r,o]of Yp(this.timeUnits)){const s=SV(o)?o.as:`${o.field}_end`;t.has(s)||(i[r]=o)}this.timeUnits=i}producedFields(){return new Set($a(this.timeUnits).map(t=>SV(t)?t.as:t3e(t.field)))}dependentFields(){return new Set($a(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Nr(this.timeUnits)}`}assemble(){const t=[];for(const i of $a(this.timeUnits)){const{rectBandPosition:r}=i,o=wa(i.timeUnit);if(SV(i)){const{field:s,as:a}=i,{unit:l,utc:u,...c}=o,f=[a,`${a}_end`];t.push({field:Qc(s),type:"timeunit",...l?{units:zC(l)}:{},...u?{timezone:"utc"}:{},...c,as:f}),t.push(...i3e(f,r,o))}else if(i){const{field:s}=i,a=s.replaceAll("\\.","."),l=n3e({timeUnit:o,field:a}),u=t3e(a);t.push({type:"formula",expr:l,as:u}),t.push(...i3e([a,u],r,o))}}return t}}const gD="offsetted_rect_start",mD="offsetted_rect_end";function n3e({timeUnit:e,field:t,reverse:i}){const{unit:r,utc:o}=e,s=sme(r),{part:a,step:l}=cme(s,e.step);return`${o?"utcOffset":"timeOffset"}('${a}', ${mo(t)}, ${i?-l:l})`}function i3e([e,t],i,r){if(void 0!==i&&.5!==i){const o=mo(e),s=mo(t);return[{type:"formula",expr:r3e([n3e({timeUnit:r,field:e,reverse:!0}),o],i+.5),as:`${e}_${gD}`},{type:"formula",expr:r3e([o,s],i+.5),as:`${e}_${mD}`}]}return[]}function r3e([e,t],i){return`${1-i} * ${e} + ${i} * ${t}`}const B9="_tuple_fields";class umt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const cmt={defined:()=>!0,parse:(e,t,i)=>{const r=t.name,o=t.project??(t.project=new umt),s={},a={},l=new Set,u=(m,v)=>{const _="visual"===v?m.channel:m.field;let y=Xo(`${r}_${_}`);for(let w=1;l.has(y);w++)y=Xo(`${r}_${_}_${w}`);return l.add(y),{[v]:y}},c=t.type,f=e.config.selection[c],d=void 0!==i.value?Un(i.value):null;let{fields:h,encodings:p}=Ln(i.select)?i.select:{};if(!h&&!p&&d)for(const m of d)if(Ln(m))for(const v of Yt(m))k0t(v)?(p||(p=[])).push(v):"interval"===c?(cn('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),p=f.encodings):(h??(h=[])).push(v);!h&&!p&&(p=f.encodings,"fields"in f&&(h=f.fields));for(const m of p??[]){const v=e.fieldDef(m);if(v){let _=v.field;if(v.aggregate){cn(oht(m,v.aggregate));continue}if(!_){cn(Hge(m));continue}if(v.timeUnit&&!cm(v.timeUnit)){_=e.vgField(m);const y={timeUnit:v.timeUnit,as:_,field:v.field};a[Nr(y)]=y}if(!s[_]){const w={field:_,channel:m,type:"interval"===c&&u0(m)&&ed(e.getScaleComponent(m).get("type"))?"R":v.bin?"R-RE":"E",index:o.items.length};w.signals={...u(w,"data"),...u(w,"visual")},o.items.push(s[_]=w),o.hasField[_]=s[_],o.hasSelectionId=o.hasSelectionId||_===od,mge(m)?(w.geoChannel=m,w.channel=gge(m),o.hasChannel[w.channel]=s[_]):o.hasChannel[m]=s[_]}}else cn(Hge(m))}for(const m of h??[]){if(o.hasField[m])continue;const v={type:"E",field:m,index:o.items.length};v.signals={...u(v,"data")},o.items.push(v),o.hasField[m]=v,o.hasSelectionId=o.hasSelectionId||m===od}d&&(t.init=d.map(m=>o.items.map(v=>Ln(m)?void 0!==m[v.geoChannel||v.channel]?m[v.geoChannel||v.channel]:m[v.field]:m))),wo(a)||(o.timeUnit=new v0(null,a))},signals:(e,t,i)=>{const r=t.name+B9;return i.filter(s=>s.name===r).length>0||t.project.hasSelectionId?i:i.concat({name:r,value:t.project.items.map(l3e)})}},vD="anim_value",H5="anim_clock",CV="eased_anim_clock",s3e="min_extent",a3e="max_range_extent",DV="last_tick_at",xV="is_playing",hmt={defined:e=>"point"===e.type,topLevelSignals:(e,t,i)=>(_0(t)&&(i=i.concat([{name:H5,init:"0",on:[{events:{type:"timer",throttle:16.666666666666668},update:`${xV} ? (${H5} + (now() - ${DV}) > ${a3e} ? 0 : ${H5} + (now() - ${DV})) : ${H5}`}]},{name:DV,init:"now()",on:[{events:[{signal:H5},{signal:xV}],update:"now()"}]},{name:xV,init:"true"}])),i),signals:(e,t,i)=>{const r=t.name,o=r+B9,s=t.project,a="(item().isVoronoi ? datum.datum : datum)",l=$a(e.component.selection??{}).reduce((f,d)=>"interval"===d.type?f.concat(d.name+z5):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(l?` && ${l}`:"");let c=`unit: ${bm(e)}, `;if(t.project.hasSelectionId?c+=`${od}: ${a}[${yn(od)}]`:_0(t)?c+=`fields: ${o}, values: [${vD} ? ${vD} : ${s3e}]`:c+=`fields: ${o}, values: [${s.items.map(d=>e.fieldDef(d.channel)?.bin?`[${a}[${yn(e.vgField(d.channel,{}))}], ${a}[${yn(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${a}[${yn(d.field)}]`).join(", ")}]`,_0(t))return i.concat(((e,t)=>[{name:CV,update:H5},{name:`${e}_domain`,init:`domain('${t}')`},{name:s3e,init:`extent(${e}_domain)[0]`},{name:a3e,init:`extent(range('${t}'))[1]`},{name:vD,update:`invert('${t}', ${CV})`}])(t.name,e.scaleName(Xp)),[{name:r+xh,on:[{events:[{signal:CV},{signal:vD}],update:`{${c}}`,force:!0}]}]);{const f=t.events;return i.concat([{name:r+xh,on:f?[{events:f,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}}};function l3e(e){const{signals:t,hasLegend:i,index:r,...o}=e;return o.field=Qc(o.field),o}function _m(e,t=!0,i=sl){if(Pt(e)){const r=e.map(o=>_m(o,t,i));return t?`[${r.join(", ")}]`:r}return lm(e)?i(t?um(e):function ypt(e){const t=xU(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?i(Eo(e)):e}function pmt(e,t){for(const i of $a(e.component.selection??{})){const r=i.name;let o=`${r}${xh}, ${"global"===i.resolve?"true":`{unit: ${bm(e)}}`}`;for(const s of ED)s.defined(i)&&(s.signals&&(t=s.signals(e,i,t)),s.modifyExpr&&(o=s.modifyExpr(e,i,o)));t.push({name:r+Hmt,on:[{events:{signal:i.name+xh},update:`modify(${yn(i.name+ym)}, ${o})`}]})}return MV(t)}function gmt(e,t){if(e.component.selection&&Yt(e.component.selection).length){const i=yn(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Gp("pointermove","scope"),update:`isTuple(facet) ? facet : group(${i}).datum`}]})}return MV(t)}function u3e(e,t){for(const i of $a(e.component.selection??{}))for(const r of ED)r.defined(i)&&r.marks&&(t=r.marks(e,i,t));return t}function MV(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Ch={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const i=t.scales=[];for(const r of t.project.items){const o=r.channel;if(!u0(o))continue;const s=e.getScaleComponent(o),a=s?s.get("type"):void 0;"sequential"==a&&cn("Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc"),s&&ed(a)?(s.set("selectionExtent",{param:t.name,field:r.field},!0),i.push(r)):cn("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,i)=>{const r=t.scales.filter(a=>0===i.filter(l=>l.name===a.signals.data).length);if(!e.parent||TV(e)||0===r.length)return i;const o=i.find(a=>a.name===t.name);let s=o.update;if(s.includes(R3e))o.update=`{${r.map(a=>`${yn(Qc(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const l=`${yn(Qc(a.field))}: ${a.signals.data}`;s.includes(l)||(s=`${s.substring(0,s.length-1)}, ${l}}`)}o.update=s}return i.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,i)=>{if(e.parent&&!TV(e))for(const r of t.scales){const o=i.find(s=>s.name===r.signals.data);o.push="outer",delete o.value,delete o.update}return i}};function AV(e,t){return`domain(${yn(e.scaleName(t))})`}function TV(e){return e.parent&&J5(e.parent)&&(!e.parent.parent||TV(e.parent.parent))}const z5="_brush",c3e="_scale_trigger",$9="geo_interval_init_tick",wmt={defined:e=>"interval"===e.type,parse:(e,t,i)=>{var r;if(e.hasProjection){const o={...Ln(i.select)?i.select:{}};o.fields=[od],o.encodings||(o.encodings=i.value?Yt(i.value):[Zf,Xf]),i.select={type:"interval",...o}}if(t.translate&&!Ch.defined(t)){const o=`!event.item || event.item.mark.name !== ${yn(t.name+z5)}`;for(const s of t.events){if(!s.between){cn(`${s} is not an ordered event stream for interval selections.`);continue}const a=Un((r=s.between[0]).filter??(r.filter=[]));a.includes(o)||a.push(o)}}},signals:(e,t,i)=>{const r=t.name,o=r+xh,s=$a(t.project.hasChannel).filter(l=>l.channel===Zo||l.channel===ba),a=t.init?t.init[0]:null;if(i.push(...s.reduce((l,u)=>l.concat(function Emt(e,t,i,r){const o=!e.hasProjection,s=i.channel,a=i.signals.visual,l=yn(o?e.scaleName(s):e.projectionName()),u=h=>`scale(${l}, ${h})`,c=e.getSizeSignalRef(s===Zo?"width":"height").signal,f=`${s}(unit)`,d=t.events.reduce((h,p)=>[...h,{events:p.between[0],update:`[${f}, ${f}]`},{events:p,update:`[${a}[0], clamp(${f}, 0, ${c})]`}],[]);if(o){const h=i.signals.data,p=Ch.defined(t),m=e.getScaleComponent(s),v=m?m.get("type"):void 0,_=r?{init:_m(r,!0,u)}:{value:[]};return d.push({events:{signal:t.name+c3e},update:ed(v)?`[${u(`${h}[0]`)}, ${u(`${h}[1]`)}]`:"[0, 0]"}),p?[{name:h,on:[]}]:[{name:a,..._,on:d},{name:h,...r?{init:_m(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${l}, ${a})`}]}]}{const h=s===Zo?0:1,p=t.name+"_init";return[{name:a,...r?{init:`[${p}[0][${h}], ${p}[1][${h}]]`}:{value:[]},on:d}]}}(e,t,u,a&&a[u.index])),[])),e.hasProjection){const l=yn(e.projectionName()),u=e.projectionName()+"_center",{x:c,y:f}=t.project.hasChannel,d=c&&c.signals.visual,h=f&&f.signals.visual,p=c?a&&a[c.index]:`${u}[0]`,m=f?a&&a[f.index]:`${u}[1]`,v=A=>e.getSizeSignalRef(A).signal,_=`[[${d?d+"[0]":"0"}, ${h?h+"[0]":"0"}],[${d?d+"[1]":v("width")}, ${h?h+"[1]":v("height")}]]`;a&&(i.unshift({name:r+"_init",init:`[scale(${l}, [${c?p[0]:p}, ${f?m[0]:m}]), scale(${l}, [${c?p[1]:p}, ${f?m[1]:m}])]`}),(!c||!f)&&(i.find(F=>F.name===u)||i.unshift({name:u,update:`invert(${l}, [${v("width")}/2, ${v("height")}/2])`})));const S=`vlSelectionTuples(intersect(${_}, {markname: ${yn(e.getName("marks"))}}, unit.mark), {unit: ${bm(e)}})`,M=s.map(A=>A.signals.visual);return i.concat({name:o,on:[{events:[...M.length?[{signal:M.join(" || ")}]:[],...a?[{signal:$9}]:[]],update:S}]})}{if(!Ch.defined(t)){const c=r+c3e,f=s.map(d=>{const h=d.channel,{data:p,visual:m}=d.signals,v=yn(e.scaleName(h)),y=ed(e.getScaleComponent(h).get("type"))?"+":"";return`(!isArray(${p}) || (${y}invert(${v}, ${m})[0] === ${y}${p}[0] && ${y}invert(${v}, ${m})[1] === ${y}${p}[1]))`});f.length&&i.push({name:c,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:f.join(" && ")+` ? ${c} : {}`}]})}const l=s.map(c=>c.signals.data),u=`unit: ${bm(e)}, fields: ${r+B9}, values`;return i.concat({name:o,...a?{init:`{${u}: ${_m(a)}}`}:{},...l.length?{on:[{events:[{signal:l.join(" || ")}],update:`${l.join(" && ")} ? {${u}: [${l}]} : null`}]}:{}})}},topLevelSignals:(e,t,i)=>(cs(e)&&e.hasProjection&&t.init&&(i.filter(o=>o.name===$9).length||i.unshift({name:$9,value:null,on:[{events:"timer{1}",update:`${$9} === null ? {} : ${$9}`}]})),i),marks:(e,t,i)=>{const r=t.name,{x:o,y:s}=t.project.hasChannel,a=o?.signals.visual,l=s?.signals.visual,u=`data(${yn(t.name+ym)})`;if(Ch.defined(t)||!o&&!s)return i;const c={x:void 0!==o?{signal:`${a}[0]`}:{value:0},y:void 0!==s?{signal:`${l}[0]`}:{value:0},x2:void 0!==o?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==s?{signal:`${l}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const _ of Yt(c))c[_]=[{test:`${u}.length && ${u}[0].unit === ${bm(e)}`,...c[_]},{value:0}];const{fill:f,fillOpacity:d,cursor:h,...p}=t.mark,m=Yt(p).reduce((_,y)=>(_[y]=[{test:[void 0!==o&&`${a}[0] !== ${a}[1]`,void 0!==s&&`${l}[0] !== ${l}[1]`].filter(w=>w).join(" && "),value:p[y]},{value:null}],_),{}),v=h??(t.translate?"move":null);return[{name:`${r+z5}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:c}},...i,{name:r+z5,type:"rect",clip:!0,encode:{enter:{...v?{cursor:{value:v}}:{},fill:{value:"transparent"}},update:{...c,...m}}}]}};function q5({model:e,channelDef:t,vgChannel:i,invalidValueRef:r,mainRefFn:o}){const s=R9(t)&&t.condition;let a=[];s&&(a=Un(s).map(c=>{const f=o(c);if(function p1t(e){return sn(e,"param")}(c)){const{param:d,empty:h}=c;return{test:X3e(e,{param:d,empty:h}),...f}}return{test:TD(e,c.test),...f}})),void 0!==r&&a.push(r);const l=o(t);return void 0!==l&&a.push(l),a.length>1||1===a.length&&Boolean(a[0].test)?{[i]:a}:1===a.length?{[i]:a[0]}:{}}function NV(e,t="text"){return q5({model:e,channelDef:e.encoding[t],vgChannel:t,mainRefFn:r=>_D(r,e.config),invalidValueRef:void 0})}function _D(e,t,i="datum"){if(e){if(id(e))return Uo(e.value);if(Gi(e)){const{format:r,formatType:o}=iD(e);return WU({fieldOrDatumDef:e,format:r,formatType:o,expr:i,config:t})}}}function d3e(e,t={}){const{encoding:i,markDef:r,config:o,stack:s}=e,a=i.tooltip;if(Pt(a))return{tooltip:p3e({tooltip:a},s,o,t)};{const l=t.reactiveGeom?"datum.datum":"datum";return q5({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:c=>{const f=_D(c,o,l);if(f)return f;if(null===c)return;let d=So("tooltip",r,o);return!0===d&&(d={content:"encoding"}),Bn(d)?{value:d}:Ln(d)?ci(d)?d:"encoding"===d.content?p3e(i,s,o,t):{signal:l}:void 0},invalidValueRef:void 0})}}function h3e(e,t,i,{reactiveGeom:r}={}){const o={...i,...i.tooltipFormat},s=new Set,a=r?"datum.datum":"datum",l=[];function u(f,d){const h=om(d),p=Ql(f)?f:{...f,type:e[h].type},v=Un(p.title||QU(p,o)).join(", ").replaceAll(/"/g,'\\"');let _;if(Rs(d)){const y="x"===d?"x2":"y2",w=rd(e[y]);if(Ua(p.bin)&&w){const S=Tn(p,{expr:a}),M=Tn(w,{expr:a}),{format:A,formatType:F}=iD(p);_=I9(S,M,A,F,o),s.add(y)}}if((Rs(d)||d===Jc||d===Kf)&&t&&t.fieldChannel===d&&"normalize"===t.offset){const{format:y,formatType:w}=iD(p);_=WU({fieldOrDatumDef:p,format:y,formatType:w,expr:a,config:o,normalizeStack:!0}).signal}_??(_=_D(p,o,a).signal),l.push({channel:d,key:v,value:_})}eV(e,(f,d)=>{gn(f)?u(f,d):eD(f)&&u(f.condition,d)});const c={};for(const{channel:f,key:d,value:h}of l)!s.has(f)&&!c[d]&&(c[d]=h);return c}function p3e(e,t,i,{reactiveGeom:r}={}){const o=h3e(e,t,i,{reactiveGeom:r}),s=Yp(o).map(([a,l])=>`"${a}": ${l}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function Smt(e){const{markDef:t,config:i}=e,r=So("aria",t,i);return!1===r?{}:{...r?{aria:r}:{},...Cmt(e),...Dmt(e)}}function Cmt(e){const{mark:t,markDef:i,config:r}=e;if(!1===r.aria)return{};const o=So("ariaRoleDescription",i,r);return null!=o?{ariaRoleDescription:{value:o}}:Gn(tht,t)?{}:{ariaRoleDescription:{value:t}}}function Dmt(e){const{encoding:t,markDef:i,config:r,stack:o}=e,s=t.description;if(s)return q5({model:e,channelDef:s,vgChannel:"description",mainRefFn:u=>_D(u,e.config),invalidValueRef:void 0});const a=So("description",i,r);if(null!=a)return{description:Uo(a)};if(!1===r.aria)return{};const l=h3e(t,o,r);return wo(l)?void 0:{description:{signal:Yp(l).map(([u,c],f)=>`"${f>0?"; ":""}${u}: " + (${c})`).join(" + ")}}}function za(e,t,i={}){const{markDef:r,encoding:o,config:s}=t,{vgChannel:a}=i;let{defaultRef:l,defaultValue:u}=i;const c=o[e];void 0===l&&(u??(u=So(e,r,s,{vgChannel:a,ignoreVgConfig:!R9(c)})),void 0!==u&&(l=Uo(u)));const f={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=Nme({...f,scaleChannel:e,channelDef:c});return q5({model:t,channelDef:c,vgChannel:a??e,invalidValueRef:d,mainRefFn:p=>GU({...f,channel:e,channelDef:p,stack:null,defaultRef:l})})}function g3e(e,t={filled:void 0}){const{markDef:i,encoding:r,config:o}=e,{type:s}=i,a=t.filled??So("filled",i,o),l=Ar(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,u=So(!0===a?"color":void 0,i,o,{vgChannel:"fill"})??o.mark[!0===a&&"color"]??l,c=So(!1===a?"color":void 0,i,o,{vgChannel:"stroke"})??o.mark[!1===a&&"color"],f=a?"fill":"stroke",d={...u?{fill:Uo(u)}:{},...c?{stroke:Uo(c)}:{}};return i.color&&(a?i.fill:i.stroke)&&cn(Yge("property",{fill:"fill"in i,stroke:"stroke"in i})),{...d,...za("color",e,{vgChannel:f,defaultValue:a?u:c}),...za("fill",e,{defaultValue:r.fill?u:void 0}),...za("stroke",e,{defaultValue:r.stroke?c:void 0})}}function xmt(e){const{encoding:t,mark:i}=e,r=t.order;return!o1(i)&&id(r)?q5({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:o=>Uo(o.value),invalidValueRef:void 0}):{}}function j5({channel:e,markDef:t,encoding:i={},model:r,bandPosition:o}){const s=`${e}Offset`,a=t[s],l=i[s];if(("xOffset"===s||"yOffset"===s)&&l)return{offsetType:"encoding",offset:GU({channel:s,channelDef:l,markDef:t,config:r?.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:Uo(a),bandPosition:o})};const u=t[s];return u?{offsetType:"visual",offset:u}:{}}function Jl(e,t,{defaultPos:i,vgChannel:r}){const{encoding:o,markDef:s,config:a,stack:l}=t,u=o[e],c=o[l0(e)],f=t.scaleName(e),d=t.getScaleComponent(e),{offset:h,offsetType:p}=j5({channel:e,markDef:s,encoding:o,model:t,bandPosition:.5}),m=IV({model:t,defaultPos:i,channel:e,scaleName:f,scale:d}),v=!u&&Rs(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function Mmt(e){const{channel:t,channelDef:i,scaleName:r,stack:o,offset:s,markDef:a}=e;if(Gi(i)&&o&&t===o.fieldChannel){if(gn(i)){let l=i.bandPosition;if(void 0===l&&"text"===a.type&&("radius"===t||"theta"===t)&&(l=.5),void 0!==l)return ZC({scaleName:r,fieldOrDatumDef:i,startSuffix:"start",bandPosition:l,offset:s})}return pm(i,r,{suffix:"end"},{offset:s})}return jU(e)}({channel:e,channelDef:u,channel2Def:c,markDef:s,config:a,scaleName:f,scale:d,stack:l,offset:h,defaultRef:m,bandPosition:"encoding"===p?0:void 0});return v?{[r||e]:v}:void 0}function IV({model:e,defaultPos:t,channel:i,scaleName:r,scale:o}){const{markDef:s,config:a}=e;return()=>{const l=om(i),u=t1(i),c=So(i,s,a,{vgChannel:u});if(void 0!==c)return N9(i,c);switch(t){case"zeroOrMin":return m3e({scaleName:r,scale:o,mode:"zeroOrMin",mainChannel:l,config:a});case"zeroOrMax":return m3e({scaleName:r,scale:o,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:l,config:a});case"mid":return{...e[Mu(i)],mult:.5}}}}function m3e({mainChannel:e,config:t,...i}){const r=Tme(i),{mode:o}=i;if(r)return r;switch(e){case"radius":{if("zeroOrMin"===o)return{value:0};const{widthSignal:s,heightSignal:a}=o.zeroOrMax;return{signal:`min(${s},${a})/2`}}case"theta":return"zeroOrMin"===o?{value:0}:{signal:"2*PI"};case"x":return"zeroOrMin"===o?{value:0}:{field:{group:"width"}};case"y":return"zeroOrMin"===o?{field:{group:"height"}}:{value:0}}}const Amt={left:"x",center:"xc",right:"x2"},Tmt={top:"y",middle:"yc",bottom:"y2"};function v3e(e,t,i,r="middle"){if("radius"===e||"theta"===e)return t1(e);const o="x"===e?"align":"baseline",s=So(o,t,i);let a;return ci(s)?(cn(function Pht(e){return`The ${e} for range marks cannot be an expression`}(o)),a=void 0):a=s,"x"===e?Amt[a||("top"===r?"left":"center")]:Tmt[a||r]}function yD(e,t,{defaultPos:i,defaultPos2:r,range:o}){return o?_3e(e,t,{defaultPos:i,defaultPos2:r}):Jl(e,t,{defaultPos:i})}function _3e(e,t,{defaultPos:i,defaultPos2:r}){const{markDef:o,config:s}=t,a=l0(e),l=Mu(e),u=function Nmt(e,t,i){const{encoding:r,mark:o,markDef:s,stack:a,config:l}=e,u=om(i),c=Mu(i),f=t1(i),d=r[u],h=e.scaleName(u),p=e.getScaleComponent(u),{offset:m}=j5(i in r||i in s?{channel:i,markDef:s,encoding:r,model:e}:{channel:u,markDef:s,encoding:r,model:e});if(!d&&("x2"===i||"y2"===i)&&(r.latitude||r.longitude)){const _=Mu(i),y=e.markDef[_];return null!=y?{[_]:{value:y}}:{[f]:{field:e.getName(i)}}}const v=function Imt({channel:e,channelDef:t,channel2Def:i,markDef:r,config:o,scaleName:s,scale:a,stack:l,offset:u,defaultRef:c}){return Gi(t)&&l&&e.charAt(0)===l.fieldChannel.charAt(0)?pm(t,s,{suffix:"start"},{offset:u}):jU({channel:e,channelDef:i,scaleName:s,scale:a,stack:l,markDef:r,config:o,offset:u,defaultRef:c})}({channel:i,channelDef:d,channel2Def:r[i],markDef:s,config:l,scaleName:h,scale:p,stack:a,offset:m,defaultRef:void 0});return void 0!==v?{[f]:v}:bD(i,s)||bD(i,{[i]:yU(i,s,l.style),[c]:yU(c,s,l.style)})||bD(i,l[o])||bD(i,l.mark)||{[f]:IV({model:e,defaultPos:t,channel:i,scaleName:h,scale:p})()}}(t,r,a);return{...Jl(e,t,{defaultPos:i,vgChannel:u[l]?v3e(e,o,s):t1(e)}),...u}}function bD(e,t){const i=Mu(e),r=t1(e);if(void 0!==t[r])return{[r]:N9(e,t[r])};if(void 0!==t[e])return{[r]:N9(e,t[e])};if(t[i]){const o=t[i];if(!hm(o))return{[i]:N9(e,o)};cn(function Nht(e){return`Position range does not support relative band size for ${e}.`}(i))}}function Dh(e,t){const{config:i,encoding:r,markDef:o}=e,s=o.type,a=l0(t),l=Mu(t),u=r[t],c=r[a],f=e.getScaleComponent(t),d=f?f.get("type"):void 0,h=o.orient,p=r[l]??r.size??So("size",o,i,{vgChannel:l}),m=Ege(t),v="bar"===s&&("x"===t?"vertical"===h:"horizontal"===h)||"tick"===s&&("y"===t?"vertical"===h:"horizontal"===h);return!gn(u)||!(Ro(u.bin)||Ua(u.bin)||u.timeUnit&&!c)||p&&!hm(p)||r[m]||Ea(d)?(Gi(u)&&Ea(d)||v)&&!c?function Rmt(e,t,i){const{markDef:r,encoding:o,config:s,stack:a}=i,l=r.orient,u=i.scaleName(t),c=i.getScaleComponent(t),f=Mu(t),d=l0(t),h=Ege(t),p=i.scaleName(h),m=i.getScaleComponent(uU(t)),v="tick"===r.type||"horizontal"===l&&"y"===t||"vertical"===l&&"x"===t;let _;(o.size||r.size)&&(v?_=za("size",i,{vgChannel:f,defaultRef:Uo(r.size)}):cn(function qht(e){return`Cannot apply size to non-oriented mark "${e}".`}(r.type)));const y=!!_,w=Ume({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(c||m)?.get("type"),useVlSizeChannel:v});_=_||{[f]:Omt(f,p||u,m||c,s,w,!!e,r.type)};const M=v3e(t,r,s,"band"===(c||m)?.get("type")&&hm(w)&&!y?"top":"middle"),A="xc"===M||"yc"===M,{offset:F,offsetType:N}=j5({channel:t,markDef:r,encoding:o,model:i,bandPosition:A?.5:0}),H=jU({channel:t,channelDef:e,markDef:r,config:s,scaleName:u,scale:c,stack:a,offset:F,defaultRef:IV({model:i,defaultPos:"mid",channel:t,scaleName:u,scale:c}),bandPosition:A?"encoding"===N?0:.5:ci(w)?{signal:`(1-${w})/2`}:hm(w)?(1-w.band)/2:0});if(f)return{[M]:H,..._};{const K=t1(d),oe=_[f],ee=F?{...oe,offset:F}:oe;return{[M]:H,[K]:Pt(H)?[H[0],{...H[1],offset:ee}]:{...H,offset:ee}}}}(u,t,e):_3e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function kmt({fieldDef:e,fieldDef2:t,channel:i,model:r}){const{config:o,markDef:s,encoding:a}=r,l=r.getScaleComponent(i),u=r.scaleName(i),c=l?l.get("type"):void 0,f=l.get("reverse"),d=Ume({channel:i,fieldDef:e,markDef:s,config:o,scaleType:c}),p=r.component.axes[i]?.[0]?.get("translate")??.5,m=Rs(i)?So("binSpacing",s,o)??0:0,v=l0(i),_=t1(i),y=t1(v),w=c0("minBandSize",s,o),{offset:S}=j5({channel:i,markDef:s,encoding:a,model:r,bandPosition:0}),{offset:M}=j5({channel:v,markDef:s,encoding:a,model:r,bandPosition:0}),A=function l1t({scaleName:e,fieldDef:t}){const i=Tn(t,{expr:"datum"});return`abs(scale("${e}", ${Tn(t,{expr:"datum",suffix:"end"})}) - scale("${e}", ${i}))`}({fieldDef:e,scaleName:u}),F=y3e(i,m,f,p,S,w,A),N=y3e(v,m,f,p,M??S,w,A),H=ci(d)?{signal:`(1-${d.signal})/2`}:hm(d)?(1-d.band)/2:.5,K=s1({fieldDef:e,fieldDef2:t,markDef:s,config:o});if(Ro(e.bin)||e.timeUnit){const oe=e.timeUnit&&.5!==K;return{[y]:b3e({fieldDef:e,scaleName:u,bandPosition:H,offset:N,useRectOffsetField:oe}),[_]:b3e({fieldDef:e,scaleName:u,bandPosition:ci(H)?{signal:`1-${H.signal}`}:1-H,offset:F,useRectOffsetField:oe})}}if(Ua(e.bin)){const oe=pm(e,u,{},{offset:N});if(gn(t))return{[y]:oe,[_]:pm(t,u,{},{offset:F})};if(sm(e.bin)&&e.bin.step)return{[y]:oe,[_]:{signal:`scale("${u}", ${Tn(e,{expr:"datum"})} + ${e.bin.step})`,offset:F}}}cn(Jge(v))}({fieldDef:u,fieldDef2:c,channel:t,model:e})}function Omt(e,t,i,r,o,s,a){if(hm(o)){if(!i)return{mult:o.band,field:{group:e}};{const u=i.get("type");if("band"===u){let c=`bandwidth('${t}')`;1!==o.band&&(c=`${o.band} * ${c}`);const f=c0("minBandSize",{type:a},r);return{signal:f?`max(${Jf(f)}, ${c})`:c}}1!==o.band&&(cn(function Uht(e){return`Cannot use the relative band size with ${e} scale.`}(u)),o=void 0)}}else{if(ci(o))return o;if(o)return{value:o}}if(i){const u=i.get("range");if(am(u)&&Kr(u.step))return{value:u.step-2}}if(!s){const{bandPaddingInner:u,barBandPaddingInner:c,rectBandPaddingInner:f,tickBandPaddingInner:d}=r.scale,h=Os(u,"tick"===a?d:"bar"===a?c:f);if(ci(h))return{signal:`(1 - (${h.signal})) * ${e}`};if(Kr(h))return{signal:`${1-h} * ${e}`}}return{value:pV(r.view,e)-2}}function y3e(e,t,i,r,o,s,a){if(pge(e))return 0;const l="x"===e||"y2"===e,u=l?-t/2:t/2;if(ci(i)||ci(o)||ci(r)||s){const c=Jf(i),f=Jf(o),d=Jf(r),h=Jf(s),m=s?`(${a} < ${h} ? ${l?"":"-"}0.5 * (${h} - (${a})) : ${u})`:u;return{signal:(d?`${d} + `:"")+(c?`(${c} ? -1 : 1) * `:"")+(f?`(${f} + ${m})`:m)}}return o=o||0,r+(i?-o-u:+o+u)}function b3e({fieldDef:e,scaleName:t,bandPosition:i,offset:r,useRectOffsetField:o}){return ZC({scaleName:t,fieldOrDatumDef:e,bandPosition:i,offset:r,...o?{startSuffix:gD,endSuffix:mD}:{}})}const Fmt=new Set(["aria","width","height"]);function nf(e,t){const{fill:i,stroke:r}="include"===t.color?g3e(e):{};return{...Pmt(e.markDef,t),...w3e("fill",i),...w3e("stroke",r),...za("opacity",e),...za("fillOpacity",e),...za("strokeOpacity",e),...za("strokeWidth",e),...za("strokeDash",e),...xmt(e),...d3e(e),...NV(e,"href"),...Smt(e)}}function w3e(e,t){return t?{[e]:t}:{}}function Pmt(e,t){return eht.reduce((i,r)=>(!Fmt.has(r)&&sn(e,r)&&"ignore"!==t[r]&&(i[r]=Uo(e[r])),i),{})}function OV(e){const{config:t,markDef:i}=e,r=new Set;if(e.forEachFieldDef((o,s)=>{let a;if(!u0(s)||!(a=e.getScaleType(s)))return;const l=$C(o.aggregate);if(function o1t(e){return"break-paths-filter-domains"===e||"break-paths-show-domains"===e}(qU({scaleChannel:s,markDef:i,config:t,scaleType:a,isCountAggregate:l}))){const c=e.vgField(s,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>qC(s,!0)).join(" && ")}}}function E3e(e,t){if(void 0!==t)return{[e]:Uo(t)}}const RV="voronoi",S3e={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const i of t.events)i.markname=e.getName(RV)},marks:(e,t,i)=>{const{x:r,y:o}=t.project.hasChannel,s=e.mark;if(o1(s))return cn(function sht(e){return`The "nearest" transform is not supported for ${e} marks.`}(s)),i;const a={name:e.getName(RV),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...d3e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!o?"datum.datum.x || 0":"0"},y:{expr:o||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let l=0,u=!1;return i.forEach((c,f)=>{const d=c.name??"";d===e.component.mark[0].name?l=f:d.includes(RV)&&(u=!0)}),u||i.splice(l+1,0,a),i}},C3e={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!lV(e.bind),parse:(e,t,i)=>k3e(t,i),topLevelSignals:(e,t,i)=>{const r=t.name,o=t.project,s=t.bind,a=t.init&&t.init[0],l=S3e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach((u,c)=>{const f=Xo(`${r}_${u.field}`);i.filter(h=>h.name===f).length||i.unshift({name:f,...a?{init:_m(a[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${l}[${yn(u.field)}] : null`}]:[],bind:s[u.field]??s[u.channel]??s})}),i},signals:(e,t,i)=>{const r=t.name,o=t.project,s=i.find(c=>c.name===r+xh),a=r+B9,l=o.items.map(c=>Xo(`${r}_${c.field}`)),u=l.map(c=>`${c} !== null`).join(" && ");return l.length&&(s.update=`${u} ? {fields: ${a}, values: [${l.join(", ")}]} : null`),delete s.value,delete s.on,i}},wD="_toggle",D3e={defined:e=>"point"===e.type&&!_0(e)&&!!e.toggle,signals:(e,t,i)=>i.concat({name:t.name+wD,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const i=t.name+xh,r=t.name+wD;return`${r} ? null : ${i}, `+("global"===t.resolve?`${r} ? null : true, `:`${r} ? null : {unit: ${bm(e)}}, `)+`${r} ? ${i} : null`}},Lmt={defined:e=>void 0!==e.clear&&!1!==e.clear&&!_0(e),parse:(e,t)=>{t.clear&&(t.clear=Bn(t.clear)?Gp(t.clear,"view"):t.clear)},topLevelSignals:(e,t,i)=>{if(C3e.defined(t))for(const r of t.project.items){const o=i.findIndex(s=>s.name===Xo(`${t.name}_${r.field}`));-1!==o&&i[o].on.push({events:t.clear,update:"null"})}return i},signals:(e,t,i)=>{function r(o,s){-1!==o&&i[o].on&&i[o].on.push({events:t.clear,update:s})}if("interval"===t.type)for(const o of t.project.items){const s=i.findIndex(a=>a.name===o.signals.visual);r(s,"[0, 0]"),-1===s&&r(i.findIndex(l=>l.name===o.signals.data),"null")}else{let o=i.findIndex(s=>s.name===t.name+xh);r(o,"null"),D3e.defined(t)&&(o=i.findIndex(s=>s.name===t.name+wD),r(o,"false"))}return i}},x3e={defined:e=>{const t="global"===e.resolve&&e.bind&&lV(e.bind),i=1===e.project.items.length&&e.project.items[0].field!==od;return t&&!i&&cn("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&i},parse:(e,t,i)=>{const r=zi(i);if(r.select=Bn(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},k3e(t,r),Ln(i.select)&&(i.select.on||i.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Un(l.filter??[]),l.filter.includes(a)||l.filter.push(a)}const o=uV(t.bind)?t.bind.legend:"click",s=Bn(o)?Gp(o,"view"):Un(o);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,i)=>{const r=t.name,o=uV(t.bind)&&t.bind.legend,s=a=>l=>{const u=zi(l);return u.markname=a,u};for(const a of t.project.items){if(!a.hasLegend)continue;const l=`${Xo(a.field)}_legend`,u=`${r}_${l}`;if(0===i.filter(f=>f.name===u).length){const f=o.merge.map(s(`${l}_symbols`)).concat(o.merge.map(s(`${l}_labels`))).concat(o.merge.map(s(`${l}_entries`)));i.unshift({name:u,...t.init?{}:{value:null},on:[{events:f,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return i},signals:(e,t,i)=>{const r=t.name,o=t.project,s=i.find(h=>h.name===r+xh),a=r+B9,l=o.items.filter(h=>h.hasLegend).map(h=>Xo(`${r}_${Xo(h.field)}_legend`)),c=`${l.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${a}, values: [${l.join(", ")}]} : null`;t.events&&l.length>0?s.on.push({events:l.map(h=>({signal:h})),update:c}):l.length>0&&(s.update=c,delete s.value,delete s.on);const f=i.find(h=>h.name===r+wD),d=uV(t.bind)&&t.bind.legend;return f&&(t.events?f.on.push({...f.on[0],events:d}):f.on[0].events=d),i}},M3e="_translate_anchor",A3e="_translate_delta",Umt={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,i)=>{const r=t.name,o=Ch.defined(t),s=r+M3e,{x:a,y:l}=t.project.hasChannel;let u=Gp(t.translate,"scope");return o||(u=u.map(c=>(c.between[0].markname=r+z5,c))),i.push({name:s,value:{},on:[{events:u.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?`, extent_x: ${o?AV(e,Zo):`slice(${a.signals.visual})`}`:"")+(void 0!==l?`, extent_y: ${o?AV(e,ba):`slice(${l.signals.visual})`}`:"")+"}"}]},{name:r+A3e,value:{},on:[{events:u,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),void 0!==a&&T3e(e,t,a,"width",i),void 0!==l&&T3e(e,t,l,"height",i),i}};function T3e(e,t,i,r,o){const s=t.name,a=s+M3e,l=s+A3e,u=i.channel,c=Ch.defined(t),f=o.find(A=>A.name===i.signals[c?"data":"visual"]),d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),p=h&&h.get("type"),m=h&&h.get("reverse"),_=`${a}.extent_${u}`,M=`${c&&h?"log"===p?"panLog":"symlog"===p?"panSymlog":"pow"===p?"panPow":"panLinear":"panLinear"}(${_}, ${c?u===Zo?m?"":"-":m?"-":"":""}${l}.${u} / ${c?`${d}`:`span(${_})`}${c?"pow"===p?`, ${h.get("exponent")??1}`:"symlog"===p?`, ${h.get("constant")??1}`:"":""})`;f.on.push({events:{signal:l},update:c?M:`clampRange(${M}, 0, ${d})`})}const N3e="_zoom_anchor",I3e="_zoom_delta",Vmt={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,i)=>{const r=t.name,o=Ch.defined(t),s=r+I3e,{x:a,y:l}=t.project.hasChannel,u=yn(e.scaleName(Zo)),c=yn(e.scaleName(ba));let f=Gp(t.zoom,"scope");return o||(f=f.map(d=>(d.markname=r+z5,d))),i.push({name:r+N3e,on:[{events:f,update:o?"{"+[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&O3e(e,t,a,"width",i),void 0!==l&&O3e(e,t,l,"height",i),i}};function O3e(e,t,i,r,o){const s=t.name,a=i.channel,l=Ch.defined(t),u=o.find(w=>w.name===i.signals[l?"data":"visual"]),c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(a),d=f&&f.get("type"),h=l?AV(e,a):u.name,p=s+I3e,y=`${l&&f?"log"===d?"zoomLog":"symlog"===d?"zoomSymlog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${s}${N3e}.${a}, ${p}${l?"pow"===d?`, ${f.get("exponent")??1}`:"symlog"===d?`, ${f.get("constant")??1}`:"":""})`;u.on.push({events:{signal:p},update:l?y:`clampRange(${y}, 0, ${c})`})}const ym="_store",xh="_tuple",Hmt="_modify",R3e="vlSelectionResolve",ED=[hmt,wmt,cmt,D3e,C3e,Ch,x3e,Lmt,Umt,Vmt,S3e];function bm(e,{escape:t}={escape:!0}){let i=t?yn(e.name):e.name;const r=function zmt(e){let t=e.parent;for(;t&&!pc(t);)t=t.parent;return t}(e);if(r){const{facet:o}=r;for(const s of tf)o[s]&&(i+=` + '__facet_${s}_' + (facet[${yn(r.vgField(s))}])`)}return i}function kV(e){return $a(e.component.selection??{}).reduce((t,i)=>t||i.project.hasSelectionId,!1)}function k3e(e,t){(Bn(t.select)||!t.select.on)&&delete e.events,(Bn(t.select)||!t.select.clear)&&delete e.clear,(Bn(t.select)||!t.select.toggle)&&delete e.toggle}function _0(e){return e.events?.find(t=>"type"in t&&"timer"===t.type)}function sd(e){this.type=e}sd.prototype.visit=function(e){let t,i,r;if(e(this))return 1;for(t=function n2t(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),i=0,r=t.length;i<r;++i)if(t[i].visit(e))return 1};var y0,li,It,El,_o,SD=1,U9=2,wm=3,c1=4,CD=5,Em=6,Tu=7,V9=8;(y0={})[SD]="Boolean",y0[U9]="<end>",y0[wm]="Identifier",y0[c1]="Keyword",y0[CD]="Null",y0[Em]="Numeric",y0[Tu]="Punctuator",y0[V9]="String",y0[9]="RegularExpression";var r2t="ArrayExpression",o2t="BinaryExpression",s2t="CallExpression",a2t="ConditionalExpression",F3e="Identifier",l2t="Literal",u2t="LogicalExpression",c2t="MemberExpression",f2t="ObjectExpression",d2t="Property",h2t="UnaryExpression",Sa="Unexpected token %0",p2t="Unexpected number",g2t="Unexpected string",m2t="Unexpected identifier",v2t="Unexpected reserved word",_2t="Unexpected end of input",FV="Invalid regular expression",PV="Invalid regular expression: missing /",P3e="Octal literals are not allowed in strict mode.",y2t="Duplicate data property in object literal not allowed in strict mode",qa="ILLEGAL",H9="Disabled.",b2t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),w2t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function DD(e,t){if(!e)throw new Error("ASSERT: "+t)}function Mh(e){return e>=48&&e<=57}function LV(e){return"0123456789abcdefABCDEF".includes(e)}function z9(e){return"01234567".includes(e)}function E2t(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function q9(e){return 10===e||13===e||8232===e||8233===e}function j9(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&b2t.test(String.fromCharCode(e))}function xD(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&w2t.test(String.fromCharCode(e))}const S2t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function L3e(){for(;It<El;){const e=li.charCodeAt(It);if(!E2t(e)&&!q9(e))break;++It}}function BV(e){var t,i,r,o=0;for(i="u"===e?4:2,t=0;t<i;++t)It<El&&LV(li[It])?(r=li[It++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):eo({},Sa,qa);return String.fromCharCode(o)}function C2t(){var e,t;for(t=0,"}"===(e=li[It])&&eo({},Sa,qa);It<El&&LV(e=li[It++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&eo({},Sa,qa),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function B3e(){var e,t;for(e=li.charCodeAt(It++),t=String.fromCharCode(e),92===e&&(117!==li.charCodeAt(It)&&eo({},Sa,qa),++It,(!(e=BV("u"))||"\\"===e||!j9(e.charCodeAt(0)))&&eo({},Sa,qa),t=e);It<El&&xD(e=li.charCodeAt(It));)++It,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==li.charCodeAt(It)&&eo({},Sa,qa),++It,(!(e=BV("u"))||"\\"===e||!xD(e.charCodeAt(0)))&&eo({},Sa,qa),t+=e);return t}function $V(){var i,o,s,a,e=It,t=li.charCodeAt(It),r=li[It];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++It,{type:Tu,value:String.fromCharCode(t),start:e,end:It};default:if(61===(i=li.charCodeAt(It+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return It+=2,{type:Tu,value:String.fromCharCode(t)+String.fromCharCode(i),start:e,end:It};case 33:case 61:return 61===li.charCodeAt(It+=2)&&++It,{type:Tu,value:li.slice(e,It),start:e,end:It}}}return">>>="===(a=li.substr(It,4))?{type:Tu,value:a,start:e,end:It+=4}:">>>"===(s=a.substr(0,3))||"<<="===s||">>="===s?{type:Tu,value:s,start:e,end:It+=3}:r===(o=s.substr(0,2))[1]&&"+-<>&|".includes(r)||"=>"===o?{type:Tu,value:o,start:e,end:It+=2}:("//"===o&&eo({},Sa,qa),"<>=!+-*%&|^/".includes(r)?(++It,{type:Tu,value:r,start:e,end:It}):void eo({},Sa,qa))}function $3e(){var e,t,i;if(DD(Mh((i=li[It]).charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),t=It,e="","."!==i){if(e=li[It++],i=li[It],"0"===e){if("x"===i||"X"===i)return++It,function M2t(e){let t="";for(;It<El&&LV(li[It]);)t+=li[It++];return 0===t.length&&eo({},Sa,qa),j9(li.charCodeAt(It))&&eo({},Sa,qa),{type:Em,value:parseInt("0x"+t,16),start:e,end:It}}(t);if(z9(i))return function A2t(e){let t="0"+li[It++];for(;It<El&&z9(li[It]);)t+=li[It++];return(j9(li.charCodeAt(It))||Mh(li.charCodeAt(It)))&&eo({},Sa,qa),{type:Em,value:parseInt(t,8),octal:!0,start:e,end:It}}(t);i&&Mh(i.charCodeAt(0))&&eo({},Sa,qa)}for(;Mh(li.charCodeAt(It));)e+=li[It++];i=li[It]}if("."===i){for(e+=li[It++];Mh(li.charCodeAt(It));)e+=li[It++];i=li[It]}if("e"===i||"E"===i)if(e+=li[It++],("+"===(i=li[It])||"-"===i)&&(e+=li[It++]),Mh(li.charCodeAt(It)))for(;Mh(li.charCodeAt(It));)e+=li[It++];else eo({},Sa,qa);return j9(li.charCodeAt(It))&&eo({},Sa,qa),{type:Em,value:parseFloat(e),start:t,end:It}}function U3e(){if(L3e(),It>=El)return{type:U9,start:It,end:It};const e=li.charCodeAt(It);return j9(e)?function x2t(){var e,t;return e=It,t=92===li.charCodeAt(It)?B3e():function D2t(){var e,t;for(e=It++;It<El;){if(92===(t=li.charCodeAt(It)))return It=e,B3e();if(!xD(t))break;++It}return li.slice(e,It)}(),{type:1===t.length?wm:S2t.hasOwnProperty(t)?c1:"null"===t?CD:"true"===t||"false"===t?SD:wm,value:t,start:e,end:It}}():40===e||41===e||59===e?$V():39===e||34===e?function T2t(){var t,i,r,o,e="",s=!1;for(DD("'"===(t=li[It])||'"'===t,"String literal must starts with a quote"),i=It,++It;It<El;){if((r=li[It++])===t){t="";break}if("\\"===r)if((r=li[It++])&&q9(r.charCodeAt(0)))"\r"===r&&"\n"===li[It]&&++It;else switch(r){case"u":case"x":"{"===li[It]?(++It,e+=C2t()):e+=BV(r);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:z9(r)?(0!==(o="01234567".indexOf(r))&&(s=!0),It<El&&z9(li[It])&&(s=!0,o=8*o+"01234567".indexOf(li[It++]),"0123".includes(r)&&It<El&&z9(li[It])&&(o=8*o+"01234567".indexOf(li[It++]))),e+=String.fromCharCode(o)):e+=r}else{if(q9(r.charCodeAt(0)))break;e+=r}}return""!==t&&eo({},Sa,qa),{type:V9,value:e,octal:s,start:i,end:It}}():46===e?Mh(li.charCodeAt(It+1))?$3e():$V():Mh(e)?$3e():$V()}function Nu(){const e=_o;return It=e.end,_o=U3e(),It=e.end,e}function V3e(){const e=It;_o=U3e(),It=e}function H3e(e,t,i){const r=new sd("||"===e||"&&"===e?u2t:o2t);return r.operator=e,r.left=t,r.right=i,r}function P2t(e,t){const i=new sd(s2t);return i.callee=e,i.arguments=t,i}function UV(e){const t=new sd(F3e);return t.name=e,t}function G9(e){const t=new sd(l2t);return t.value=e.value,t.raw=li.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function z3e(e,t,i){const r=new sd(c2t);return r.computed="["===e,r.object=t,r.property=i,r.computed||(i.member=!0),r}function q3e(e,t,i){const r=new sd(d2t);return r.key=t,r.value=i,r.kind=e,r}function eo(e,t){var i,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(s,a)=>(DD(a<r.length,"Message reference must be in range"),r[a]));throw(i=new Error(o)).index=It,i.description=o,i}function MD(e){e.type===U9&&eo(e,_2t),e.type===Em&&eo(e,p2t),e.type===V9&&eo(e,g2t),e.type===wm&&eo(e,m2t),e.type===c1&&eo(e,v2t),eo(e,Sa,e.value)}function Sl(e){const t=Nu();(t.type!==Tu||t.value!==e)&&MD(t)}function Vo(e){return _o.type===Tu&&_o.value===e}function VV(e){return _o.type===c1&&_o.value===e}function j3e(){It=_o.start;const e=Nu();return e.type===V9||e.type===Em?(e.octal&&eo(e,P3e),G9(e)):UV(e.value)}function V2t(){var e,t,i;return It=_o.start,(e=_o).type===wm?(i=j3e(),Sl(":"),q3e("init",i,Sm())):e.type!==U9&&e.type!==Tu?(t=j3e(),Sl(":"),q3e("init",t,Sm())):void MD(e)}const q2t={if:1};function j2t(){var e,t,i;if(Vo("("))return function z2t(){Sl("(");const e=HV();return Sl(")"),e}();if(Vo("["))return function U2t(){const e=[];for(It=_o.start,Sl("[");!Vo("]");)Vo(",")?(Nu(),e.push(null)):(e.push(Sm()),Vo("]")||Sl(","));return Nu(),function F2t(e){const t=new sd(r2t);return t.elements=e,t}(e)}();if(Vo("{"))return function H2t(){var t,r,e=[],o={},s=String;for(It=_o.start,Sl("{");!Vo("}");)r="$"+((t=V2t()).key.type===F3e?t.key.name:s(t.key.value)),Object.prototype.hasOwnProperty.call(o,r)?eo({},y2t):o[r]=!0,e.push(t),Vo("}")||Sl(",");return Sl("}"),function B2t(e){const t=new sd(f2t);return t.properties=e,t}(e)}();if(It=_o.start,(e=_o.type)===wm||q2t[_o.value])i=UV(Nu().value);else if(e===V9||e===Em)_o.octal&&eo(_o,P3e),i=G9(Nu());else{if(e===c1)throw new Error(H9);e===SD?((t=Nu()).value="true"===t.value,i=G9(t)):e===CD?((t=Nu()).value=null,i=G9(t)):Vo("/")||Vo("/=")?(i=G9(function R2t(){var e,t,i,r;return _o=null,L3e(),e=It,t=function I2t(){var e,t,i,r;for(DD("/"===(e=li[It]),"Regular expression literal must start with a slash"),t=li[It++],i=!1,r=!1;It<El;)if(t+=e=li[It++],"\\"===e)q9((e=li[It++]).charCodeAt(0))&&eo({},PV),t+=e;else if(q9(e.charCodeAt(0)))eo({},PV);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||eo({},PV),{value:t.substr(1,t.length-2),literal:t}}(),i=function O2t(){var e,t,i;for(t="",i="";It<El&&xD((e=li[It]).charCodeAt(0));)++It,"\\"===e&&It<El?eo({},Sa,qa):(i+=e,t+=e);return i.search(/[^gimuy]/g)>=0&&eo({},FV,i),{value:i,literal:t}}(),r=function N2t(e,t){let i=e;t.includes("u")&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,o)=>{if(parseInt(o,16)<=1114111)return"x";eo({},FV)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(i)}catch{eo({},FV)}try{return new RegExp(e,t)}catch{return null}}(t.value,i.value),{literal:t.literal+i.literal,value:r,regex:{pattern:t.value,flags:i.value},start:e,end:It}}()),V3e()):MD(Nu())}return i}function G2t(){const e=[];if(Sl("("),!Vo(")"))for(;It<El&&(e.push(Sm()),!Vo(")"));)Sl(",");return Sl(")"),e}function W2t(){It=_o.start;const e=Nu();return function k2t(e){return e.type===wm||e.type===c1||e.type===SD||e.type===CD}(e)||MD(e),UV(e.value)}function K2t(){Sl("[");const e=HV();return Sl("]"),e}function G3e(){const e=function X2t(){var e;for(e=j2t();;)if(Vo("."))Sl("."),e=z3e(".",e,W2t());else if(Vo("("))e=P2t(e,G2t());else{if(!Vo("["))break;e=z3e("[",e,K2t())}return e}();if(_o.type===Tu&&(Vo("++")||Vo("--")))throw new Error(H9);return e}function AD(){var e,t;if(_o.type!==Tu&&_o.type!==c1)t=G3e();else{if(Vo("++")||Vo("--"))throw new Error(H9);if(Vo("+")||Vo("-")||Vo("~")||Vo("!"))e=Nu(),t=AD(),t=function $2t(e,t){const i=new sd(h2t);return i.operator=e,i.argument=t,i.prefix=!0,i}(e.value,t);else{if(VV("delete")||VV("void")||VV("typeof"))throw new Error(H9);t=G3e()}}return t}function W3e(e){let t=0;if(e.type!==Tu&&e.type!==c1)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Sm(){var e,t;return e=function Z2t(){var e,t,i,r,o,s,a,l,u,c;if(e=_o,u=AD(),0===(o=W3e(r=_o)))return u;for(r.prec=o,Nu(),t=[e,_o],s=[u,r,a=AD()];(o=W3e(_o))>0;){for(;s.length>2&&o<=s[s.length-2].prec;)a=s.pop(),l=s.pop().value,u=s.pop(),t.pop(),i=H3e(l,u,a),s.push(i);(r=Nu()).prec=o,s.push(r),t.push(_o),i=AD(),s.push(i)}for(i=s[c=s.length-1],t.pop();c>1;)t.pop(),i=H3e(s[c-1].value,s[c-2],i),c-=2;return i}(),Vo("?")&&(Nu(),t=Sm(),Sl(":"),e=function L2t(e,t,i){const r=new sd(a2t);return r.test=e,r.consequent=t,r.alternate=i,r}(e,t,Sm())),e}function HV(){const e=Sm();if(Vo(","))throw new Error(H9);return e}function zV(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...zV(e.object)),t.push(...zV(e.property))),t)}function Y3e(e){return"MemberExpression"===e.object.type?Y3e(e.object):"datum"===e.object.name}function K3e(e){const t=function Q2t(e){It=0,El=(li=e).length,_o=null,V3e();const t=HV();if(_o.type!==U9)throw new Error("Unexpect token after expression.");return t}(e),i=new Set;return t.visit(r=>{"MemberExpression"===r.type&&Y3e(r)&&i.add(zV(r).slice(1).join("."))}),i}class G5 extends vo{clone(){return new G5(null,this.model,zi(this.filter))}constructor(t,i,r){super(t),this.model=i,this.filter=r,this.expr=TD(this.model,this.filter,this),this._dependentFields=K3e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function X3e(e,t,i,r="datum"){const o=Bn(t)?t:t.param,s=Xo(o),a=yn(s+ym);let l;try{l=e.getSelectionComponent(s,o)}catch{return`!!${s}`}if(l.project.timeUnit){const h=i??e.component.data.raw,p=l.project.timeUnit.clone();h.parent?p.insertAsParentOf(h):h.parent=p}const f=`${l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest("}${a}, ${r}${"global"===l.resolve?")":`, ${yn(l.resolve)})`}`,d=`length(data(${a}))`;return!1===t.empty?`${d} && ${f}`:`!${d} || ${f}`}function Z3e(e,t,i){const r=Xo(t),o=i.encoding;let a,s=i.field;try{a=e.getSelectionComponent(r,t)}catch{return r}if(o||s){if(o&&!s){const l=a.project.items.filter(u=>u.channel===o);!l.length||l.length>1?(s=a.project.items[0].field,cn(function _ht(e,t,i,r){return(e.length?"Multiple ":"No ")+`matching ${yn(t)} encoding found for selection ${yn(i.param)}. Using "field": ${yn(r)}.`}(l,o,i,s))):s=l[0].field}}else s=a.project.items[0].field,a.project.items.length>1&&cn(function vht(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${yn(e)}.`}(s));return`${a.name}[${yn(Qc(s))}]`}function TD(e,t,i){return w9(t,r=>Bn(r)?r:function Apt(e){return sn(e,"param")}(r)?X3e(e,r,i):dme(r))}function qV(e,t,i,r){var o,s;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[i]=r}function W9(e,t,i,r={header:!1}){const{disable:o,orient:s,scale:a,labelExpr:l,title:u,zindex:c,...f}=e.combine();if(!o){for(const d in f){const h=d,p=A1t[h],m=f[h];if(p&&p!==t&&"both"!==p)delete f[h];else if(P9(m)){const{condition:v,..._}=m,y=Un(v),w=Zme[h];if(w){const{vgProp:S,part:M}=w;qV(f,M,S,[...y.map(F=>{const{test:N,...H}=F;return{test:TD(null,N),...H}}),_]),delete f[h]}else if(null===w){const S={signal:y.map(M=>{const{test:A,...F}=M;return`${TD(null,A)} ? ${Oge(F)} : `}).join("")+Oge(_)};f[h]=S}}else if(ci(m)){const v=Zme[h];if(v){const{vgProp:_,part:y}=v;qV(f,y,_,m),delete f[h]}}Ar(["labelAlign","labelBaseline"],h)&&null===f[h]&&delete f[h]}if("grid"===t){if(!f.grid)return;if(f.encode){const{grid:d}=f.encode;f.encode={...d?{grid:d}:{}},wo(f.encode)&&delete f.encode}return{scale:a,orient:s,...f,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Os(c,0)}}{if(!r.header&&e.mainExtracted)return;if(void 0!==l){let h=l;f.encode?.labels?.update&&ci(f.encode.labels.update.text)&&(h=nm(l,"datum.label",f.encode.labels.update.text.signal)),qV(f,"labels","text",{signal:h})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const h of Qme)e.hasAxisPart(h)||delete f.encode[h];wo(f.encode)&&delete f.encode}const d=function r3t(e,t){if(e)return Pt(e)&&!i1(e)?e.map(i=>QU(i,t)).join(", "):e}(u,i);return{scale:a,orient:s,grid:!1,...d?{title:d}:{},...f,...!1===i.aria?{aria:!1}:{},zindex:Os(c,0)}}}}function Q3e(e){const{axes:t}=e.component,i=[];for(const r of vh)if(t[r])for(const o of t[r])if(!o.get("disable")&&!o.get("gridScale")){const s="x"===r?"height":"width",a=e.getSizeSignalRef(s).signal;s!==a&&i.push({name:s,update:a})}return i}function J3e(e,t,i,r){return Object.assign.apply(null,[{},...e.map(o=>{if("axisOrient"===o){const s="x"===i?"bottom":"left",a=t["x"===i?"axisBottom":"axisLeft"]||{},l=t["x"===i?"axisTop":"axisRight"]||{},u=new Set([...Yt(a),...Yt(l)]),c={};for(const f of u.values())c[f]={signal:`${r.signal} === "${s}" ? ${Jf(a[f])} : ${Jf(l[f])}`};return c}return t[o]})])}function a3t(e,t){const i=[{}];for(const r of e){let o=t[r]?.style;if(o){o=Un(o);for(const s of o)i.push(t.style[s])}}return Object.assign.apply(null,i)}function jV(e,t,i,r={}){const o=kge(e,i,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==r[s]?.[e])return{configFrom:s,configValue:r[s][e]};return{}}const e5e={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:i})=>t.grid??function l3t(e,t){return!Ea(e)&&gn(t)&&!Ro(t?.bin)&&!Ua(t?.bin)}(i,e),gridScale:({model:e,channel:t})=>function u3t(e,t){const i="x"===t?"y":"x";if(e.getScaleComponent(i))return e.scaleName(i)}(e,t),labelAlign:({axis:e,labelAngle:t,orient:i,channel:r})=>e.labelAlign||n5e(t,i,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:i,channel:r})=>e.labelBaseline||t5e(t,i,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:i})=>e.labelFlush??function f3t(e,t){if("x"===t&&Ar(["quantitative","temporal"],e))return!0}(t.type,i),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:i})=>e.labelOverlap??function d3t(e,t,i,r){if(i&&!Ln(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(t.type,i,gn(t)&&!!t.timeUnit,gn(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:i,fieldOrDatumDef:r,scaleType:o})=>{const s="x"===e?"width":"y"===e?"height":void 0,a=s?t.getSizeSignalRef(s):void 0;return i.tickCount??function p3t({fieldOrDatumDef:e,scaleType:t,size:i,values:r}){if(!r&&!Ea(t)&&"log"!==t){if(gn(e)){if(Ro(e.bin))return{signal:`ceil(${i.signal}/10)`};if(e.timeUnit&&Ar(["month","hours","day","quarter"],wa(e.timeUnit)?.unit))return}return{signal:`ceil(${i.signal}/40)`}}}({fieldOrDatumDef:r,scaleType:o,size:a,values:i.values})},tickMinStep:function g3t({format:e,fieldOrDatumDef:t}){if("d"===e)return 1;if(gn(t)){const{timeUnit:i}=t;if(i){const r=ume(i);if(r)return{signal:r}}}},title:({axis:e,model:t,channel:i})=>{if(void 0!==e.title)return e.title;const r=i5e(t,i);if(void 0!==r)return r;const o=t.typedFieldDef(i),a=t.fieldDef("x"===i?"x2":"y2");return Pge(o?[$me(o)]:[],gn(a)?[$me(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function m3t(e,t){const i=e.values;return Pt(i)?Xme(t,i):ci(i)?i:void 0}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:i})=>e.zindex??function v3t(e,t){return"rect"===e&&nD(t)?1:0}(i,t)};function GV(e){return`(((${e.signal} % 360) + 360) % 360)`}function t5e(e,t,i,r){if(void 0!==e){if("x"===i){if(ci(e)){const o=GV(e);return{signal:`(45 < ${o} && ${o} < 135) || (225 < ${o} && ${o} < 315) ? "middle" :(${o} <= 45 || 315 <= ${o}) === ${ci(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}return 45<e&&e<135||225<e&&e<315?"middle":ci(t)?{signal:`${t.signal} ${e<=45||315<=e?"===":"!=="} "top" ? "bottom" : "top"`}:(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(ci(e)){const o=GV(e);return{signal:`${o} <= 45 || 315 <= ${o} || (135 <= ${o} && ${o} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${o} && ${o} <= 135) === ${ci(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}return e<=45||315<=e||135<=e&&e<=225?r?"middle":null:ci(t)?{signal:`${t.signal} ${45<=e&&e<=135?"===":"!=="} "left" ? "top" : "bottom"`}:(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function n5e(e,t,i){if(void 0===e)return;const r="x"===i,o=r?0:90,s=r?"bottom":"left";if(ci(e)){const a=GV(e);return{signal:`(${o?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${o} < ${a} && ${a} < ${180+o}) === ${ci(t)?`(${t.signal} === "${s}")`:t===s} ? "left" : "right"`}}return(e+o)%180==0?r?null:"center":ci(t)?{signal:`${t.signal} ${o<e&&e<180+o?"===":"!=="} "${s}" ? "left" : "right"`}:(o<e&&e<180+o)==(t===s)?"left":"right"}function i5e(e,t){const i="x"===t?"x2":"y2",r=e.fieldDef(t),o=e.fieldDef(i),s=r?r.title:void 0,a=o?o.title:void 0;return s&&a?Lge(s,a):s||a||(void 0!==s?s:void 0!==a?a:void 0)}class W5 extends vo{clone(){return new W5(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this._dependentFields=K3e(this.transform.calculate)}static parseAllForSortIndex(t,i){return i.forEachFieldDef((r,o)=>{if(mm(r)&&Bme(r.sort)){const{field:s,timeUnit:a}=r,l=r.sort,u=l.map((c,f)=>`${dme({field:s,timeUnit:a,equal:c})} ? ${f} : `).join("")+l.length;t=new W5(t,{calculate:u,as:Y5(r,o,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Nr(this.transform)}`}}function Y5(e,t,i){return Tn(e,{prefix:t,suffix:"sort_index",...i})}function ND(e,t){return Ar(["top","bottom"],t)?"column":Ar(["left","right"],t)||"row"===e?"row":"column"}function K5(e,t,i,r){return Os((t||{})[e],("row"===r?i.headerRow:"column"===r?i.headerColumn:i.headerFacet)[e],i.header[e])}function ID(e,t,i,r){const o={};for(const s of e){const a=K5(s,t||{},i,r);void 0!==a&&(o[s]=a)}return o}const WV=["row","column"],YV=["header","footer"];function _3t(e,t){const i=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,o=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:a,titleOrient:l}=ID(["titleAnchor","titleAngle","titleOrient"],o.header,r,t),u=ND(t,l),c=S9(a);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:i,..."row"===t?{orient:"left"}:{},style:"guide-title",...o5e(c,u),...r5e(u,c,s),...s5e(r,o,t,Y1t,_2e)}}}function r5e(e,t,i="middle"){switch(i){case"start":return{align:"left"};case"end":return{align:"right"}}const r=n5e(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function o5e(e,t){const i=t5e(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return i?{baseline:i}:{}}function y3t(e,t){const i=e.component.layoutHeaders[t],r=[];for(const o of YV)if(i[o])for(const s of i[o]){const a=w3t(e,t,o,i,s);null!=a&&r.push(a)}return r}function b3t(e,t){const{sort:i}=e;return bh(i)?{field:Tn(i,{expr:"datum"}),order:i.order??"ascending"}:Pt(i)?{field:Y5(e,t,{expr:"datum"}),order:"ascending"}:{field:Tn(e,{expr:"datum"}),order:i??"ascending"}}function KV(e,t,i){const{format:r,formatType:o,labelAngle:s,labelAnchor:a,labelOrient:l,labelExpr:u}=ID(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,i,t),c=WU({fieldOrDatumDef:e,format:r,formatType:o,expr:"parent",config:i}).signal,f=ND(t,l);return{text:{signal:u?nm(nm(u,"datum.label",c),"datum.value",Tn(e,{expr:"parent"})):c},..."row"===t?{orient:"left"}:{},style:"guide-label",frame:"group",...o5e(s,f),...r5e(f,s,a),...s5e(i,e,t,K1t,y2e)}}function w3t(e,t,i,r,o){if(o){let s=null;const{facetFieldDef:a}=r,l=e.config?e.config:void 0;if(a&&o.labels){const{labelOrient:d}=ID(["labelOrient"],a.header,l,t);("row"===t&&!Ar(["top","bottom"],d)||"column"===t&&!Ar(["left","right"],d))&&(s=KV(a,t,l))}const u=pc(e)&&!O9(e.facet),c=o.axes,f=c?.length>0;if(s||f){const d="row"===t?"height":"width";return{name:e.getName(`${t}_${i}`),type:"group",role:`${t}-${i}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:b3t(a,t)}:{},...f&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...o.sizeSignal?{encode:{update:{[d]:o.sizeSignal}}}:{},...f?{axes:c}:{}}}}return null}const E3t={column:{start:0,end:1},row:{start:1,end:0}};function S3t(e,t){return E3t[t][e]}function s5e(e,t,i,r,o){const s={};for(const a of r){if(!o[a])continue;const l=K5(a,t?.header,e,i);void 0!==l&&(s[o[a]]=l)}return s}function XV(e){return[...OD(e,"width"),...OD(e,"height"),...OD(e,"childWidth"),...OD(e,"childHeight")]}function OD(e,t){const i="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const o=e.getSizeSignalRef(t).signal;if("step"===r){const s=e.getScaleComponent(i);if(s){const a=s.get("type"),l=s.get("range");if(Ea(a)&&am(l)){const u=e.scaleName(i);return pc(e.parent)&&"independent"===e.parent.component.resolve.scale[i]?[a5e(u,l)]:[a5e(u,l),{name:o,update:l5e(u,s,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const s=o.endsWith("width"),a=s?"containerSize()[0]":"containerSize()[1]",u=`isFinite(${a}) ? ${a} : ${hV(e.config.view,s?"width":"height")}`;return[{name:o,init:u,on:[{update:u,events:"window:resize"}]}]}return[{name:o,value:r}]}function a5e(e,t){const i=`${e}_step`;return ci(t.step)?{name:i,update:t.step.signal}:{name:i,value:t.step}}function l5e(e,t,i){const r=t.get("type"),o=t.get("padding"),s=Os(t.get("paddingOuter"),o);let a=t.get("paddingInner");return a="band"===r?void 0!==a?a:o:1,`bandspace(${i}, ${Jf(a)}, ${Jf(s)}) * ${e}_step`}function u5e(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function c5e(e,t){return Yt(e).reduce((i,r)=>({...i,...q5({model:t,channelDef:e[r],vgChannel:r,mainRefFn:o=>Uo(o.value),invalidValueRef:void 0})}),{})}function f5e(e,t){if(pc(t))return"theta"===e?"independent":"shared";if(J5(t))return"shared";if(dH(t))return Rs(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function ZV(e,t){const i=e.scale[t],r=Rs(t)?"axis":"legend";return"independent"===i?("shared"===e[r][t]&&cn(function Kht(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[r][t]||"shared"}const D3t={...E2e,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},d5e=Yt(D3t);class x3t extends Sh{}const h5e={symbols:function M3t(e,{fieldOrDatumDef:t,model:i,channel:r,legendCmpt:o,legendType:s}){if("symbol"!==s)return;const{markDef:a,encoding:l,config:u,mark:c}=i,f=a.filled&&"trail"!==c;let d={...iht({},i,Qpt),...g3e(i,{filled:f})};const h=o.get("symbolOpacity")??u.legend.symbolOpacity,p=o.get("symbolFillColor")??u.legend.symbolFillColor,m=o.get("symbolStrokeColor")??u.legend.symbolStrokeColor,v=void 0===h?p5e(l.opacity)??a.opacity:void 0;if(d.fill)if("fill"===r||f&&r===Du)delete d.fill;else if(sn(d.fill,"field"))p?delete d.fill:(d.fill=Uo(u.legend.symbolBaseFillColor??"black"),d.fillOpacity=Uo(v??1));else if(Pt(d.fill)){const _=QV(l.fill??l.color)??a.fill??(f&&a.color);_&&(d.fill=Uo(_))}if(d.stroke)if("stroke"===r||!f&&r===Du)delete d.stroke;else if(sn(d.stroke,"field")||m)delete d.stroke;else if(Pt(d.stroke)){const _=Os(QV(l.stroke||l.color),a.stroke,f?a.color:void 0);_&&(d.stroke={value:_})}if(r!==mh){const _=gn(t)&&m5e(0,o,t);_?d.opacity=[{test:_,...Uo(v??1)},Uo(u.legend.unselectedOpacity)]:v&&(d.opacity=Uo(v))}return d={...d,...e},wo(d)?void 0:d},gradient:function A3t(e,{model:t,legendType:i,legendCmpt:r}){if("gradient"!==i)return;const{config:o,markDef:s,encoding:a}=t;let l={};const c=void 0===(r.get("gradientOpacity")??o.legend.gradientOpacity)?p5e(a.opacity)||s.opacity:void 0;return c&&(l.opacity=Uo(c)),l={...l,...e},wo(l)?void 0:l},labels:function T3t(e,{fieldOrDatumDef:t,model:i,channel:r,legendCmpt:o}){const s=i.legend(r)||{},a=i.config,l=gn(t)?m5e(0,o,t):void 0,u=l?[{test:l,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:c,formatType:f}=s;let d;gm(f)?d=nd({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:f,config:a}):void 0===c&&void 0===f&&a.customFormatTypes&&("quantitative"===t.type&&a.numberFormatType?d=nd({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):"temporal"===t.type&&a.timeFormatType&&gn(t)&&void 0===t.timeUnit&&(d=nd({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const h={...u?{opacity:u}:{},...d?{text:d}:{},...e};return wo(h)?void 0:h},entries:function N3t(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}};function p5e(e){return g5e(e,(t,i)=>Math.max(t,i.value))}function QV(e){return g5e(e,(t,i)=>Os(t,i.value))}function g5e(e,t){return function m1t(e){const t=e?.condition;return!!t&&(Pt(t)||id(t))}(e)?Un(e.condition).reduce(t,e.value):id(e)?e.value:void 0}function m5e(e,t,i){const r=t.get("selections");if(!r?.length)return;const o=yn(i.field);return r.map(s=>`(!length(data(${yn(Xo(s)+ym)})) || (${s}[${o}] && indexof(${s}[${o}], datum.value) >= 0))`).join(" || ")}const v5e={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:i})=>{const{format:r,formatType:o}=t;return Rme(e,e.type,r,o,i,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:i})=>{const{formatType:r}=e;return kme(r,t,i)},gradientLength:e=>{const{legend:t,legendConfig:i}=e;return t.gradientLength??i.gradientLength??function L3t({legendConfig:e,model:t,direction:i,orient:r,scaleType:o}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:a,gradientVerticalMaxLength:l,gradientVerticalMinLength:u}=e;if(h0(o))return"horizontal"===i?"top"===r||"bottom"===r?_5e(t,"width",a,s):a:_5e(t,"height",u,l)}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:i})=>e.labelOverlap??t.labelOverlap??function B3t(e){if(Ar(["quantile","threshold","log","symlog"],e))return"greedy"}(i),symbolType:({legend:e,markDef:t,channel:i,encoding:r})=>e.symbolType??function O3t(e,t,i,r){if("shape"!==t){const o=QV(i)??r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,i,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>L5(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:i})=>{if(I5(i)&&h0(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function I3t(e,t){const i=e.values;return Pt(i)?Xme(t,i):ci(i)?i:void 0}(t,e)};function _5e(e,t,i,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${i}, ${r})`}}function y5e(e){const t=cs(e)?function $3t(e){const{encoding:t}=e,i={};for(const r of[Du,...w2e]){const o=ia(t[r]);!o||!e.getScaleComponent(r)||r===xu&&gn(o)&&o.type===R5||(i[r]=H3t(e,r))}return i}(e):function z3t(e){const{legends:t,resolve:i}=e.component;for(const r of e.children){y5e(r);for(const o of Yt(r.component.legends))i.legend[o]=ZV(e.component.resolve,o),"shared"===i.legend[o]&&(t[o]=b5e(t[o],r.component.legends[o]),t[o]||(i.legend[o]="independent",delete t[o]))}for(const r of Yt(t))for(const o of e.children)o.component.legends[r]&&"shared"===i.legend[r]&&delete o.component.legends[r];return t}(e);return e.component.legends=t,t}function V3t(e,t,i,r){switch(t){case"disable":return void 0!==i;case"values":return!!i?.values;case"title":if("title"===t&&e===r?.title)return!0}return e===(i||{})[t]}function H3t(e,t){let i=e.legend(t);const{markDef:r,encoding:o,config:s}=e,a=s.legend,l=new x3t({},function U3t(e,t){const i=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:i};if("size"===t)return{strokeWidth:i}}return"color"===t?e.markDef.filled?{fill:i}:{stroke:i}:{[t]:i}}(e,t));!function $mt(e,t,i){const r=e.fieldDef(t)?.field;for(const o of $a(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&x3e.defined(o)){const a=i.get("selections")??[];a.push(o.name),i.set("selections",a,!1),s.hasLegend=!0}}}(e,t,l);const u=void 0!==i?!i:a.disable;if(l.set("disable",u,void 0!==i),u)return l;i=i||{};const c=e.getScaleComponent(t).get("type"),f=ia(o[t]),d=gn(f)?wa(f.timeUnit)?.unit:void 0,h=i.orient||s.legend.orient||"right",p=function R3t(e){const{legend:t}=e;return Os(t.type,function k3t({channel:e,timeUnit:t,scaleType:i}){if(I5(e)){if(Ar(["quarter","month","day"],t))return"symbol";if(h0(i))return"gradient"}return"symbol"}(e))}({legend:i,channel:t,timeUnit:d,scaleType:c}),m=function F3t({legendConfig:e,legendType:t,orient:i,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??function P3t(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(i,t)}({legend:i,legendType:p,orient:h,legendConfig:a}),v={legend:i,channel:t,model:e,markDef:r,encoding:o,fieldOrDatumDef:f,legendConfig:a,config:s,scaleType:c,orient:h,legendType:p,direction:m};for(const M of d5e){if("gradient"===p&&M.startsWith("symbol")||"symbol"===p&&M.startsWith("gradient"))continue;const A=M in v5e?v5e[M](v):i[M];if(void 0!==A){const F=V3t(A,M,i,e.fieldDef(t));(F||void 0===s.legend[M])&&l.set(M,A,F)}}const _=i?.encoding??{},y=l.get("selections"),w={},S={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:l,legendType:p};for(const M of["labels","legend","title","symbols","gradient","entries"]){const A=c5e(_[M]??{},e),F=M in h5e?h5e[M](A,S):A;void 0!==F&&!wo(F)&&(w[M]={...y?.length&&gn(f)?{name:`${Xo(f.field)}_legend_${M}`}:{},...y?.length?{interactive:!!y}:{},update:F})}return wo(w)||l.set("encode",w,!!i?.encoding),l}function b5e(e,t){if(!e)return t.clone();const i=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(i.explicit&&r.explicit&&i.value!==r.value)return;let o=!1;for(const s of d5e){const a=l1(e.getWithExplicit(s),t.getWithExplicit(s),s,"legend",(l,u)=>{switch(s){case"symbolType":return q3t(l,u);case"title":return Bge(l,u);case"type":return o=!0,hc("symbol")}return pD(l,u,s,"legend")});e.setWithExplicit(s,a)}return o&&(e.implicit?.encode?.gradient&&IC(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&IC(e.explicit,["encode","gradient"])),e}function q3t(e,t){return"circle"===t.value?t:e}function w5e(e){const t=e.component.legends,i={};for(const o of Yt(t)){const a=Eo(e.getScaleComponent(o).get("domains"));if(i[a])for(const l of i[a])b5e(l,t[o])||i[a].push(t[o]);else i[a]=[t[o].clone()]}return $a(i).flat().map(o=>function G3t(e,t){const{disable:i,labelExpr:r,selections:o,...s}=e.combine();if(!i){if(!1===t.aria&&null==s.aria&&(s.aria=!1),s.encode?.symbols){const a=s.encode.symbols.update;a.fill&&"transparent"!==a.fill.value&&!a.stroke&&!s.stroke&&(a.stroke={value:"transparent"});for(const l of w2e)s[l]&&delete a[l]}if(s.title||delete s.title,void 0!==r){let a=r;s.encode?.labels?.update&&ci(s.encode.labels.update.text)&&(a=nm(r,"datum.label",s.encode.labels.update.text.signal)),function j3t(e,t,i,r){var o,s;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[i]=r}(s,"labels","text",{signal:a})}return s}}(o,e.config)).filter(o=>void 0!==o)}function E5e(e){const t=e.component.projection;if(!t||t.merged)return[];const i=t.combine(),{name:r}=i;if(t.data){const o={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},s=t.data.reduce((a,l)=>{const u=ci(l)?l.signal:`data('${e.lookupDataSource(l)}')`;return Ar(a,u)||a.push(u),a},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:o,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...i}]}return[{name:r,translate:{signal:"[width / 2, height / 2]"},...i}]}const K3t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class S5e extends Sh{constructor(t,i,r,o){super({...i},{name:t}),this.specifiedProjection=i,this.size=r,this.data=o,this.merged=!1}get isFit(){return!!this.data}}function C5e(e){e.component.projection=cs(e)?function X3t(e){if(e.hasProjection){const t=Va(e.specifiedProjection),i=!(t&&(null!=t.scale||null!=t.translate)),r=i?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=i?function Z3t(e){const t=[],{encoding:i}=e;for(const r of[[Zf,Xf],[ef,Qf]])(ia(i[r[0]])||ia(i[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(xu)&&e.typedFieldDef(xu).type===R5&&t.push({signal:e.getName(`geojson_${t.length}`)}),0===t.length&&t.push(e.requestDataName(Qo.Main)),t}(e):void 0,s=new S5e(e.projectionName(!0),{...Va(e.config.projection),...t},r,o);return s.get("type")||s.set("type","equalEarth",!1),s}}(e):function J3t(e){if(0===e.children.length)return;let t;for(const r of e.children)C5e(r);const i=tU(e.children,r=>{const o=r.component.projection;if(o){if(t){const s=function Q3t(e,t){const i=tU(K3t,o=>!!(!Gn(e.explicit,o)&&!Gn(t.explicit,o)||Gn(e.explicit,o)&&Gn(t.explicit,o)&&fc(e.get(o),t.get(o))));if(fc(e.size,t.size)){if(i)return e;if(fc(e.explicit,{}))return t;if(fc(t.explicit,{}))return e}return null}(t,o);return s&&(t=s),!!s}return t=o,!0}return!0});if(t&&i){const r=e.projectionName(!0),o=new S5e(r,t.specifiedProjection,t.size,zi(t.data));for(const s of e.children){const a=s.component.projection;a&&(a.isFit&&o.data.push(...s.component.projection.data),s.renameProjection(a.get("name"),r),a.merged=!0)}return o}}(e)}function e5t(e,t,i,r){if(F9(t,i)){const o=cs(e)?e.axis(i)??e.legend(i)??{}:{},s=Tn(t,{expr:"datum"}),a=Tn(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Tn(t,{binSuffix:"range",forAs:!0}),formula:I9(s,a,o.format,o.formatType,r)}}return{}}function D5e(e,t){return`${Mge(e)}_${t}`}function JV(e,t,i){const o=D5e(oD(i,void 0)??{},t);return e.getName(`${o}_bins`)}function x5e(e,t,i){let r,o;r=function n5t(e){return"as"in e}(e)?Bn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[Tn(e,{forAs:!0}),Tn(e,{binSuffix:"end",forAs:!0})];const s={...oD(t,void 0)},a=D5e(s,e.field),{signal:l,extentSignal:u}=function t5t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(i,a);if(UC(s.extent)){const f=s.extent;o=Z3e(i,f.param,f),delete s.extent}return{key:a,binComponent:{bin:s,field:e.field,as:[r],...l?{signal:l}:{},...u?{extentSignal:u}:{},...o?{span:o}:{}}}}class b0 extends vo{clone(){return new b0(null,zi(this.bins))}constructor(t,i){super(t),this.bins=i}static makeFromEncoding(t,i){const r=i.reduceFieldDef((o,s,a)=>{if(Ql(s)&&Ro(s.bin)){const{key:l,binComponent:u}=x5e(s,s.bin,i);o[l]={...u,...o[l],...e5t(i,s,a,i.config)}}return o},{});return wo(r)?null:new b0(t,r)}static makeFromTransform(t,i,r){const{key:o,binComponent:s}=x5e(i,i.bin,r);return new b0(t,{[o]:s})}merge(t,i){for(const r of Yt(t.bins))r in this.bins?(i(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=r0([...this.bins[r].as,...t.bins[r].as],Nr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set($a(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set($a(this.bins).map(t=>t.field))}hash(){return`Bin ${Nr(this.bins)}`}assemble(){return $a(this.bins).flatMap(t=>{const i=[],[r,...o]=t.as,{extent:s,...a}=t.bin,l={type:"bin",field:Qc(t.field),as:r,signal:t.signal,...UC(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!s&&t.extentSignal&&(i.push({type:"extent",field:Qc(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),i.push(l);for(const u of o)for(let c=0;c<2;c++)i.push({type:"formula",expr:Tn({field:r[c]},{expr:"datum"}),as:u[c]});return t.formula&&i.push({type:"formula",expr:t.formula,as:t.formulaAs}),i})}}class ad extends vo{clone(){return new ad(null,new Set(this.dimensions),zi(this.measures))}constructor(t,i,r){super(t),this.dimensions=i,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,i){let r=!1;i.forEachFieldDef(a=>{a.aggregate&&(r=!0)});const o={},s=new Set;return r&&(i.forEachFieldDef((a,l)=>{const{aggregate:u,field:c}=a;if(u)if("count"===u)o["*"]??(o["*"]={}),o["*"].count=new Set([Tn(a,{forAs:!0})]);else{if(_h(u)||n1(u)){const f=_h(u)?"argmin":"argmax",d=u[f];o[d]??(o[d]={}),o[d][f]=new Set([Tn({op:f,field:d},{forAs:!0})])}else o[c]??(o[c]={}),o[c][u]=new Set([Tn(a,{forAs:!0})]);u0(l)&&"unaggregated"===i.scaleDomain(l)&&(o[c]??(o[c]={}),o[c].min=new Set([Tn({field:c,aggregate:"min"},{forAs:!0})]),o[c].max=new Set([Tn({field:c,aggregate:"max"},{forAs:!0})]))}else!function i5t(e,t,i,r){const o=cs(r)?r.encoding[l0(t)]:void 0;if(Ql(i)&&cs(r)&&Vme(i,o,r.markDef,r.config)){e.add(Tn(i,{})),e.add(Tn(i,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=s1({fieldDef:i,markDef:a,config:l});T9(s)&&.5!==u&&Rs(t)&&(e.add(Tn(i,{suffix:gD})),e.add(Tn(i,{suffix:mD}))),i.bin&&F9(i,t)&&e.add(Tn(i,{binSuffix:"range"}))}else if(mge(t)){const s=gge(t);e.add(r.getName(s))}else e.add(Tn(i));return mm(i)&&function Vpt(e){return Ln(e)&&"field"in e}(i.scale?.range)&&e.add(i.scale.range.field),e}(s,l,a,i)}),s.size+Yt(o).length!==0)?new ad(t,s,o):null}static makeFromTransform(t,i){var r;const o=new Set,s={};for(const a of i.aggregate){const{op:l,field:u,as:c}=a;l&&("count"===l?(s["*"]??(s["*"]={}),s["*"].count=new Set([c||Tn(a,{forAs:!0})])):(s[u]??(s[u]={}),(r=s[u])[l]??(r[l]=new Set),s[u][l].add(c||Tn(a,{forAs:!0}))))}for(const a of i.groupby??[])o.add(a);return o.size+Yt(s).length===0?null:new ad(t,o,s)}merge(t){return sge(this.dimensions,t.dimensions)?(function r5t(e,t){for(const i of Yt(t)){const r=t[i];for(const o of Yt(r))i in e?e[i][o]=new Set([...e[i][o]??[],...r[o]]):e[i]={[o]:r[o]}}}(this.measures,t.measures),!0):(function dpt(...e){f0.debug(...e)}("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Yt(this.measures)])}producedFields(){const t=new Set;for(const i of Yt(this.measures))for(const r of Yt(this.measures[i])){const o=this.measures[i][r];0===o.size?t.add(`${r}_${i}`):o.forEach(t.add,t)}return t}hash(){return`Aggregate ${Nr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],i=[],r=[];for(const s of Yt(this.measures))for(const a of Yt(this.measures[s]))for(const l of this.measures[s][a])r.push(l),t.push(a),i.push("*"===s?null:Qc(s));return{type:"aggregate",groupby:[...this.dimensions].map(Qc),ops:t,fields:i,as:r}}}class X5 extends vo{constructor(t,i,r,o){super(t),this.model=i,this.name=r,this.data=o;for(const s of tf){const a=i.facet[s];if(a){const{bin:l,sort:u}=a;this[s]={name:i.getName(`${s}_domain`),fields:[Tn(a),...Ro(l)?[Tn(a,{binSuffix:"end"})]:[]],...bh(u)?{sortField:u}:Pt(u)?{sortIndexField:Y5(a,s)}:{}}}}this.childModel=i.child}hash(){let t="Facet";for(const i of tf)this[i]&&(t+=` ${i.charAt(0)}:${Nr(this[i])}`);return t}get fields(){const t=[];for(const i of tf)this[i]?.fields&&t.push(...this[i].fields);return t}dependentFields(){const t=new Set(this.fields);for(const i of tf)this[i]&&(this[i].sortField&&t.add(this[i].sortField.field),this[i].sortIndexField&&t.add(this[i].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const i of vh){const r=this.childModel.component.scales[i];if(r&&!r.merged){const o=r.get("type"),s=r.get("range");if(Ea(o)&&am(s)){const l=cH(kD(this.childModel,i));l?t[i]=l:cn(wU(i))}}}return t}assembleRowColumnHeaderData(t,i,r){const o={row:"y",column:"x",facet:void 0}[t],s=[],a=[],l=[];o&&r&&r[o]&&(i?(s.push(`distinct_${r[o]}`),a.push("max")):(s.push(r[o]),a.push("distinct")),l.push(`distinct_${r[o]}`));const{sortField:u,sortIndexField:c}=this[t];if(u){const{op:f=QC,field:d}=u;s.push(d),a.push(f),l.push(Tn(u,{forAs:!0}))}else c&&(s.push(c),a.push("max"),l.push(c));return{name:this[t].name,source:i??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:a,as:l}:{}}]}}assembleFacetHeaderData(t){const{columns:i}=this.model.layout,{layoutHeaders:r}=this.model.component,o=[],s={};for(const u of WV){for(const c of YV){const f=(r[u]&&r[u][c])??[];for(const d of f)if(d.axes?.length>0){s[u]=!0;break}}if(s[u]){const c=`length(data("${this.facet.name}"))`;o.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:"row"===u?i?{signal:`ceil(${c} / ${i})`}:1:i?{signal:`min(${c}, ${i})`}:{signal:c}}]})}}const{row:a,column:l}=s;return(a||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){const t=[];let i=null;const r=this.getChildIndependentFieldsWithStep(),{column:o,row:s,facet:a}=this;if(o&&s&&(r.x||r.y)){i=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(r.x??[],r.y??[]),u=l.map(()=>"distinct");t.push({name:i,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const l of[dh,fh])this[l]&&t.push(this.assembleRowColumnHeaderData(l,i,r));if(a){const l=this.assembleFacetHeaderData(r);l&&t.push(...l)}return t}}function M5e(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function s5t(e){const t={};return NC(e.filter,i=>{if(fme(i)){let r=null;TU(i)?r=dc(i.equal):IU(i)?r=dc(i.lte):NU(i)?r=dc(i.lt):OU(i)?r=dc(i.gt):RU(i)?r=dc(i.gte):kU(i)?r=i.range[0]:FU(i)&&(r=(i.oneOf??i.in)[0]),r&&(lm(r)?t[i.field]="date":Kr(r)?t[i.field]="number":Bn(r)&&(t[i.field]="string")),i.timeUnit&&(t[i.field]="date")}}),t}class Cl extends vo{clone(){return new Cl(null,zi(this._parse))}constructor(t,i){super(t),this._parse=i}hash(){return`Parse ${Nr(this._parse)}`}static makeExplicit(t,i,r){let o={};const s=i.data;return!u1(s)&&s?.format?.parse&&(o=s.format.parse),this.makeWithAncestors(t,o,{},r)}static makeWithAncestors(t,i,r,o){for(const l of Yt(r)){const u=o.getWithExplicit(l);void 0!==u.value&&(u.explicit||u.value===r[l]||"derived"===u.value||"flatten"===r[l]?delete r[l]:cn(jge(l,r[l],u.value)))}for(const l of Yt(i)){const u=o.get(l);void 0!==u&&(u===i[l]?delete i[l]:cn(jge(l,i[l],u)))}const s=new Sh(i,r);o.copyAll(s);const a={};for(const l of Yt(s.combine())){const u=s.get(l);null!==u&&(a[l]=u)}return 0===Yt(a).length||o.parseNothing?null:new Cl(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const i of Yt(this._parse)){const r=this._parse[i];1===A5(i)&&(t[i]=r)}return t}producedFields(){return new Set(Yt(this._parse))}dependentFields(){return new Set(Yt(this._parse))}assembleTransforms(t=!1){return Yt(this._parse).filter(i=>!t||A5(i)>1).map(i=>{const r=function o5t(e,t){const i=oU(e);return"number"===t?`toNumber(${i})`:"boolean"===t?`toBoolean(${i})`:"string"===t?`toString(${i})`:"date"===t?`toDate(${i})`:"flatten"===t?i:t.startsWith("date:")?`timeParse(${i},'${M5e(t.slice(5,t.length))}')`:t.startsWith("utc:")?`utcParse(${i},'${M5e(t.slice(4,t.length))}')`:(cn(function bht(e){return`Unrecognized parse "${e}".`}(t)),null)}(i,this._parse[i]);return r?{type:"formula",expr:r,as:M5(i)}:null}).filter(i=>null!==i)}}class f1 extends vo{clone(){return new f1(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([od])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:od}}}class Y9 extends vo{clone(){return new Y9(null,this.params)}constructor(t,i){super(t),this.params=i}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Nr(this.params)}`}assemble(){return{type:"graticule",...!0===this.params?{}:this.params}}}class K9 extends vo{clone(){return new K9(null,this.params)}constructor(t,i){super(t),this.params=i}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Nr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Cm extends vo{constructor(t){let i;if(super(null),t??(t={name:"source"}),u1(t)||(i=t.format?{...Cu(t.format,["parse"])}:{}),L9(t))this._data={values:t.values};else if(V5(t)){if(this._data={url:t.url},!i.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Ar(["json","csv","tsv","dsv","topojson"],r)||(r="json"),i.type=r}}else J2e(t)?this._data={values:[{type:"Sphere"}]}:(Z2e(t)||u1(t))&&(this._data={});this._generator=u1(t),t.name&&(this._name=t.name),i&&!wo(i)&&(this._data.format=i)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var X9,A5e=function(e,t,i,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,i):o?o.value=i:t.set(e,i),i};function eH(e){return e instanceof Cm||e instanceof Y9||e instanceof K9}class tH{constructor(){X9.set(this,void 0),A5e(this,X9,!1,"f")}setModified(){A5e(this,X9,!0,"f")}get modifiedFlag(){return function(e,t,i,r){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}(this,X9)}}X9=new WeakMap;class Dm extends tH{getNodeDepths(t,i,r){r.set(t,i);for(const o of t.children)this.getNodeDepths(o,i+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((o,s)=>s[1]-o[1]);for(const o of r)this.run(o[0]);return this.modifiedFlag}}class nH extends tH{optimize(t){this.run(t);for(const i of t.children)this.optimize(i);return this.modifiedFlag}}class c5t extends nH{mergeNodes(t,i){const r=i.shift();for(const o of i)t.removeChild(o),o.parent=r,o.remove()}run(t){const i=t.children.map(o=>o.hash()),r={};for(let o=0;o<i.length;o++)void 0===r[i[o]]?r[i[o]]=[t.children[o]]:r[i[o]].push(t.children[o]);for(const o of Yt(r))r[o].length>1&&(this.setModified(),this.mergeNodes(t,r[o]))}}class f5t extends nH{constructor(t){super(),this.requiresSelectionId=t&&kV(t)}run(t){t instanceof f1&&(this.requiresSelectionId&&(eH(t.parent)||t.parent instanceof ad||t.parent instanceof Cl)||(this.setModified(),t.remove()))}}class d5t extends tH{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,i){let r=new Set;t instanceof v0&&(r=t.producedFields(),nU(r,i)&&(this.setModified(),t.removeFormulas(i),0===t.producedFields.length&&t.remove()));for(const o of t.children)this.run(o,new Set([...i,...r]))}}class h5t extends nH{constructor(){super()}run(t){t instanceof Au&&!t.isRequired()&&(this.setModified(),t.remove())}}class p5t extends Dm{run(t){if(!(eH(t)||t.numChildren()>1))for(const i of t.children)if(i instanceof Cl)if(t instanceof Cl)this.setModified(),t.merge(i);else{if(rU(t.producedFields(),i.dependentFields()))continue;this.setModified(),i.swapWithParent()}}}class g5t extends Dm{run(t){const i=[...t.children],r=t.children.filter(o=>o instanceof Cl);if(t.numChildren()>1&&r.length>=1){const o={},s=new Set;for(const a of r){const l=a.parse;for(const u of Yt(l))u in o?o[u]!==l[u]&&s.add(u):o[u]=l[u]}for(const a of s)delete o[a];if(!wo(o)){this.setModified();const a=new Cl(t,o);for(const l of i){if(l instanceof Cl)for(const u of Yt(o))delete l.parse[u];t.removeChild(l),l.parent=a,l instanceof Cl&&0===Yt(l.parse).length&&l.remove()}}}}}class m5t extends Dm{run(t){t instanceof Au||t.numChildren()>0||t instanceof X5||t instanceof Cm||(this.setModified(),t.remove())}}class v5t extends Dm{run(t){const i=t.children.filter(o=>o instanceof v0),r=i.pop();for(const o of i)this.setModified(),r.merge(o)}}class _5t extends Dm{run(t){const i=t.children.filter(o=>o instanceof ad),r={};for(const o of i){const s=Nr(o.groupBy);s in r||(r[s]=[]),r[s].push(o)}for(const o of Yt(r)){const s=r[o];if(s.length>1){const a=s.pop();for(const l of s)a.merge(l)&&(t.removeChild(l),l.parent=a,l.remove(),this.setModified())}}}}class y5t extends Dm{constructor(t){super(),this.model=t}run(t){const i=!(eH(t)||t instanceof G5||t instanceof Cl||t instanceof f1),r=[],o=[];for(const s of t.children)s instanceof b0&&(i&&!rU(t.producedFields(),s.dependentFields())?r.push(s):o.push(s));if(r.length>0){const s=r.pop();for(const a of r)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof b0?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(o.length>1){const s=o.pop();for(const a of o)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class b5t extends Dm{run(t){const i=[...t.children];if(!x5(i,a=>a instanceof Au)||t.numChildren()<=1)return;const o=[];let s;for(const a of i)if(a instanceof Au){let l=a;for(;1===l.numChildren();){const[u]=l.children;if(!(u instanceof Au))break;l=u}o.push(...l.children),s?(t.removeChild(a),a.parent=s.parent,s.parent.removeChild(s),s.parent=l,this.setModified()):s=l}else o.push(a);if(o.length){this.setModified();for(const a of o)a.parent.removeChild(a),a.parent=s}}}class xm extends vo{clone(){return new xm(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=r0(this.transform.groupby.concat(t),i=>i)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(i=>i.field).filter(i=>void 0!==i).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Tn(t)}hash(){return`JoinAggregateTransform ${Nr(this.transform)}`}assemble(){const t=[],i=[],r=[];for(const s of this.transform.joinaggregate)i.push(s.op),r.push(this.getDefaultName(s)),t.push(void 0===s.field?null:s.field);const o=this.transform.groupby;return{type:"joinaggregate",as:r,ops:i,fields:t,...void 0!==o?{groupby:o}:{}}}}class Z5 extends vo{clone(){return new Z5(null,{...this.filter})}constructor(t,i){super(t),this.filter=i}static make(t,i,r){const{config:o,markDef:s}=i,{marks:a,scales:l}=r;if("include-invalid-values"===a&&"include-invalid-values"===l)return null;const u=i.reduceFieldDef((c,f,d)=>{const h=u0(d)&&i.getScaleComponent(d);if(h){const p=h.get("type"),{aggregate:m}=f,v=qU({scaleChannel:d,markDef:s,config:o,scaleType:p,isCountAggregate:$C(m)});"show"!==v&&"always-valid"!==v&&(c[f.field]=f)}return c},{});return Yt(u).length?new Z5(t,u):null}dependentFields(){return new Set(Yt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Nr(this.filter)}`}assemble(){const t=Yt(this.filter).reduce((i,r)=>{const o=this.filter[r],s=Tn(o,{expr:"datum"});return null!==o&&("temporal"===o.type?i.push(`(isDate(${s}) || (${iH(s)}))`):"quantitative"===o.type&&i.push(iH(s))),i},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function iH(e){return`isValid(${e}) && isFinite(+${e})`}class Ah extends vo{clone(){return new Ah(null,zi(this._stack))}constructor(t,i){super(t),this._stack=i}static makeFromTransform(t,i){const{stack:r,groupby:o,as:s,offset:a="zero"}=i,l=[],u=[];if(void 0!==i.sort)for(const d of i.sort)l.push(d.field),u.push(Os(d.order,"ascending"));const c={field:l,order:u};let f;return f=function E5t(e){return Pt(e)&&e.every(t=>Bn(t))&&e.length>1}(s)?s:Bn(s)?[s,`${s}_end`]:[`${i.stack}_start`,`${i.stack}_end`],new Ah(t,{dimensionFieldDefs:[],stackField:r,groupby:o,offset:a,sort:c,facetby:[],as:f})}static makeFromEncoding(t,i){const r=i.stack,{encoding:o}=i;if(!r)return null;const{groupbyChannels:s,fieldChannel:a,offset:l,impute:u}=r,c=s.map(p=>rd(o[p])).filter(p=>!!p),f=function w5t(e){return e.stack.stackBy.reduce((t,i)=>{const o=Tn(i.fieldDef);return o&&t.push(o),t},[])}(i),d=i.encoding.order;let h;if(Pt(d)||gn(d))h=Fge(d);else{const p=Hme(d)?d.sort:"y"===a?"descending":"ascending";h=f.reduce((m,v)=>(m.field.includes(v)||(m.field.push(v),m.order.push(p)),m),{field:[],order:[]})}return new Ah(t,{dimensionFieldDefs:c,stackField:i.vgField(a),facetby:[],stackby:f,sort:h,offset:l,impute:u,as:[i.vgField(a,{suffix:"start",forAs:!0}),i.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Nr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:i,groupby:r}=this._stack;return t.length>0?t.map(o=>o.bin?i?[Tn(o,{binSuffix:"mid"})]:[Tn(o,{}),Tn(o,{binSuffix:"end"})]:[Tn(o)]).flat():r??[]}assemble(){const t=[],{facetby:i,dimensionFieldDefs:r,stackField:o,stackby:s,sort:a,offset:l,impute:u,as:c}=this._stack;if(u)for(const f of r){const{bandPosition:d=.5,bin:h}=f;if(h){const p=Tn(f,{expr:"datum"}),m=Tn(f,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${iH(p)} ? ${d}*${p}+${1-d}*${m} : ${p}`,as:Tn(f,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:o,groupby:[...s,...i],key:Tn(f,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...i],field:o,sort:a,as:c,offset:l}),t}}class Q5 extends vo{clone(){return new Q5(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=r0(this.transform.groupby.concat(t),i=>i)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(i=>t.add(i.field)),this.transform.window.map(i=>i.field).filter(i=>void 0!==i).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Tn(t)}hash(){return`WindowTransform ${Nr(this.transform)}`}assemble(){const t=[],i=[],r=[],o=[];for(const d of this.transform.window)i.push(d.op),r.push(this.getDefaultName(d)),o.push(void 0===d.param?null:d.param),t.push(void 0===d.field?null:d.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&i.every(d=>vU(d)))return{type:"joinaggregate",as:r,ops:i,fields:t,...void 0!==a?{groupby:a}:{}};const l=[],u=[];if(void 0!==this.transform.sort)for(const d of this.transform.sort)l.push(d.field),u.push(d.order??"ascending");const f=this.transform.ignorePeers;return{type:"window",params:o,as:r,ops:i,fields:t,sort:{field:l,order:u},...void 0!==f?{ignorePeers:f}:{},...void 0!==a?{groupby:a}:{},...void 0!==s?{frame:s}:{}}}}function rH(e){if(e instanceof X5)if(1!==e.numChildren()||e.children[0]instanceof Au){const t=e.model.component.data.main;T5e(t);const i=function S5t(e){return function t(i){if(!(i instanceof X5)){const r=i.clone();if(r instanceof Au){const o=oH+r.getSource();r.setSource(o),e.model.component.data.outputNodes[o]=r}else(r instanceof ad||r instanceof Ah||r instanceof Q5||r instanceof xm)&&r.addDimensions(e.fields);for(const o of i.children.flatMap(t))o.parent=r;return[r]}return i.children.flatMap(t)}}(e),r=e.children.map(i).flat();for(const o of r)o.parent=t}else{const t=e.children[0];(t instanceof ad||t instanceof Ah||t instanceof Q5||t instanceof xm)&&t.addDimensions(e.fields),t.swapWithParent(),rH(e)}else e.children.map(rH)}function T5e(e){if(e instanceof Au&&e.type===Qo.Main&&1===e.numChildren()){const t=e.children[0];t instanceof X5||(t.swapWithParent(),T5e(e))}}const oH="scale_",RD=5;function sH(e){for(const t of e){for(const i of t.children)if(i.parent!==t)return!1;if(!sH(t.children))return!1}return!0}function ld(e,t){let i=!1;for(const r of t)i=e.optimize(r)||i;return i}function N5e(e,t,i){let r=e.sources,o=!1;return o=ld(new h5t,r)||o,o=ld(new f5t(t),r)||o,r=r.filter(s=>s.numChildren()>0),o=ld(new m5t,r)||o,r=r.filter(s=>s.numChildren()>0),i||(o=ld(new p5t,r)||o,o=ld(new y5t(t),r)||o,o=ld(new d5t,r)||o,o=ld(new g5t,r)||o,o=ld(new _5t,r)||o,o=ld(new v5t,r)||o,o=ld(new c5t,r)||o,o=ld(new b5t,r)||o),e.sources=r,o}class Ca{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,i){return new Ca(()=>t(i))}}function I5e(e){cs(e)?function D5t(e){const t=e.component.scales;for(const i of Yt(t)){const r=A5t(e,i);if(t[i].setWithExplicit("domains",r),N5t(e,i),e.component.data.isFaceted){let s=e;for(;!pc(s)&&s.parent;)s=s.parent;if("shared"===s.component.resolve.scale[i])for(const l of r.value)yh(l)&&(l.data=oH+l.data.replace(oH,""))}}}(e):function x5t(e){for(const i of e.children)I5e(i);const t=e.component.scales;for(const i of Yt(t)){let r,o=null;for(const s of e.children){const a=s.component.scales[i];if(a){r=void 0===r?a.getWithExplicit("domains"):l1(r,a.getWithExplicit("domains"),"domains","scale",uH);const l=a.get("selectionExtent");o&&l&&o.param!==l.param&&cn(hht),o=l}}t[i].setWithExplicit("domains",r),o&&t[i].set("selectionExtent",o,!0)}}(e)}function A5t(e,t){const i=e.getScaleComponent(t).get("type"),{encoding:r}=e,o=function M5t(e,t,i,r){if("unaggregated"===e){const{valid:o,reason:s}=O5e(t,i);if(!o)return void cn(s)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:o}=O5e(t,i);if(o)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),i,e.config.scale);return o!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:o}),"x"===t&&ia(r.x2)?ia(r.x)?l1(d1(i,o,e,"x"),d1(i,o,e,"x2"),"domain","scale",uH):d1(i,o,e,"x2"):"y"===t&&ia(r.y2)?ia(r.y)?l1(d1(i,o,e,"y"),d1(i,o,e,"y2"),"domain","scale",uH):d1(i,o,e,"y2"):d1(i,o,e,t)}function aH(e,t,i){const r=wa(i)?.unit;return"temporal"===t||r?function T5t(e,t,i){return e.map(r=>({signal:`{data: ${sD(r,{timeUnit:i,type:t})}}`}))}(e,t,r):[e]}function d1(e,t,i,r){const{encoding:o,markDef:s,mark:a,config:l,stack:u}=i,c=ia(o[r]),{type:f}=c,d=c.timeUnit,h=function lmt(e){const{marks:t,scales:i}=e3e(e);return t===i?Qo.Main:"include-invalid-values"===i?Qo.PreFilterInvalid:Qo.PostFilterInvalid}({invalid:c0("invalid",s,l),isPath:o1(a)});if(function Upt(e){return sn(e,"unionWith")}(t)){const v=d1(e,void 0,i,r);return m0([...aH(t.unionWith,f,d),...v.value])}if(ci(t))return m0([t]);if(t&&"unaggregated"!==t&&!yme(t))return m0(aH(t,f,d));if(u&&r===u.fieldChannel){if("normalize"===u.offset)return hc([[0,1]]);const v=i.requestDataName(h);return hc([{data:v,field:i.vgField(r,{suffix:"start"})},{data:v,field:i.vgField(r,{suffix:"end"})}])}const p=u0(r)&&gn(c)?function I5t(e,t,i){if(!Ea(i))return;const r=e.fieldDef(t),o=r.sort;if(Bme(o))return{op:"min",field:Y5(r,t),order:"ascending"};const{stack:s}=e,a=s?new Set([...s.groupbyFields,...s.stackBy.map(l=>l.fieldDef.field)]):void 0;if(bh(o))return lH(o,s&&!a.has(o.field));if(function h1t(e){return sn(e,"encoding")}(o)){const{encoding:l,order:u}=o,c=e.fieldDef(l),{aggregate:f,field:d}=c,h=s&&!a.has(d);if(_h(f)||n1(f))return lH({field:Tn(c),order:u},h);if(vU(f)||!f)return lH({op:f,field:d,order:u},h)}else{if("descending"===o)return{op:"min",field:e.vgField(t),order:"descending"};if(Ar(["ascending",void 0],o))return!0}}(i,r,e):void 0;if(p0(c))return hc(aH([c.datum],f,d));const m=c;if("unaggregated"===t){const{field:v}=c;return hc([{data:i.requestDataName(h),field:Tn({field:v,aggregate:"min"})},{data:i.requestDataName(h),field:Tn({field:v,aggregate:"max"})}])}if(Ro(m.bin)){if(Ea(e))return hc("bin-ordinal"===e?[]:[{data:b9(p)?i.requestDataName(h):i.requestDataName(Qo.Raw),field:i.vgField(r,F9(m,r)?{binSuffix:"range"}:{}),sort:!0!==p&&Ln(p)?p:{field:i.vgField(r,{}),op:"min"}}]);{const{bin:v}=m;if(Ro(v)){const _=JV(i,m.field,v);return hc([new Ca(()=>{const y=i.getSignalName(_);return`[${y}.start, ${y}.stop]`})])}return hc([{data:i.requestDataName(h),field:i.vgField(r,{})}])}}if(m.timeUnit&&Ar(["time","utc"],e)){const v=o[l0(r)];if(Vme(m,v,s,l)){const _=i.requestDataName(h),y=s1({fieldDef:m,fieldDef2:v,markDef:s,config:l}),w=T9(a)&&.5!==y&&Rs(r);return hc([{data:_,field:i.vgField(r,w?{suffix:gD}:{})},{data:_,field:i.vgField(r,{suffix:w?mD:"end"})}])}}return hc(p?[{data:b9(p)?i.requestDataName(h):i.requestDataName(Qo.Raw),field:i.vgField(r),sort:p}]:[{data:i.requestDataName(h),field:i.vgField(r)}])}function lH(e,t){const{op:i,field:r,order:o}=e;return{op:i??(t?"sum":QC),...r?{field:Qc(r)}:{},...o?{order:o}:{}}}function N5t(e,t){const i=e.component.scales[t],r=e.specifiedScales[t].domain,o=e.fieldDef(t)?.bin,s=yme(r)?r:void 0,a=sm(o)&&UC(o.extent)?o.extent:void 0;(s||a)&&i.set("selectionExtent",s??a,!0)}function O5e(e,t){const{aggregate:i,type:r}=e;return i?Bn(i)&&!Z0t.has(i)?{valid:!1,reason:Hht(i)}:"quantitative"===r&&"log"===t?{valid:!1,reason:zht(e)}:{valid:!0}:{valid:!1,reason:Vht(e)}}function uH(e,t,i,r){return e.explicit&&t.explicit&&cn(function Yht(e,t,i,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Eo(i)} and ${Eo(r)}). Using the union of the two domains.`}(i,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function cH(e){if(yh(e)&&Bn(e.field))return e.field;if(function Q0t(e){return!Pt(e)&&sn(e,"fields")&&!sn(e,"data")}(e)){let t;for(const i of e.fields)if(yh(i)&&Bn(i.field))if(t){if(t!==i.field)return cn(Zht),t}else t=i.field;return cn(Qht),t}if(function J0t(e){return!Pt(e)&&sn(e,"fields")&&sn(e,"data")}(e)){cn(Jht);const t=e.fields[0];return Bn(t)?t:void 0}}function kD(e,t){return function O5t(e){const t=r0(e.map(a=>{if(yh(a)){const{sort:l,...u}=a;return u}return a}),Nr),i=r0(e.map(a=>{if(yh(a)){const l=a.sort;return void 0!==l&&!b9(l)&&("op"in l&&"count"===l.op&&delete l.field,"ascending"===l.order&&delete l.order),l}}).filter(a=>void 0!==a),Nr);if(0===t.length)return;if(1===t.length){const a=e[0];if(yh(a)&&i.length>0){let l=i[0];if(i.length>1){cn(Zge);const u=i.filter(c=>Ln(c)&&"op"in c&&"min"!==c.op);l=!i.every(c=>Ln(c)&&"op"in c)||1!==u.length||u[0]}else Ln(l)&&"field"in l&&a.field===l.field&&(l=!l.order||{order:l.order});return{...a,sort:l}}return a}const r=r0(i.map(a=>b9(a)||!("op"in a)||Bn(a.op)&&Gn(W0t,a.op)?a:(cn(function Xht(e){return`Dropping sort property ${Eo(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(a)),!0)),Nr);let o;1===r.length?o=r[0]:r.length>1&&(cn(Zge),o=!0);const s=r0(e.map(a=>yh(a)?a.data:null),a=>a);return 1===s.length&&null!==s[0]?{data:s[0],fields:t.map(l=>l.field),...o?{sort:o}:{}}:{fields:t,...o?{sort:o}:{}}}(e.component.scales[t].get("domains").map(o=>(yh(o)&&(o.data=e.lookupDataSource(o.data)),o)))}function R5e(e){return J5(e)||dH(e)?e.children.reduce((t,i)=>t.concat(R5e(i)),k5e(e)):k5e(e)}function k5e(e){return Yt(e.component.scales).reduce((t,i)=>{const r=e.component.scales[i];if(r.merged)return t;const o=r.combine(),{name:s,type:a,selectionExtent:l,domains:u,range:c,reverse:f,...d}=o,h=function R5t(e,t,i,r){if(Rs(i)){if(am(e))return{step:{signal:`${t}_step`}}}else if(Ln(e)&&yh(e))return{...e,data:r.lookupDataSource(e.data)};return e}(o.range,s,i,e),p=kD(e,i),m=l?function ymt(e,t,i,r){const o=Z3e(e,t.param,t);return{signal:ed(i.get("type"))&&Pt(r)&&r[0]>r[1]?`isValid(${o}) && reverse(${o})`:o}}(e,l,r,p):null;return t.push({name:s,type:a,...p?{domain:p}:{},...m?{domainRaw:m}:{},range:h,...void 0!==f?{reverse:f}:{},...d}),t},[])}class F5e extends Sh{constructor(t,i){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",i)}domainHasZero(){const t=this.get("type");if(Ar([Ha.LOG,Ha.TIME,Ha.UTC],t))return"definitely-not";const i=this.get("zero");if(!0===i||void 0===i&&Ar([Ha.LINEAR,Ha.SQRT,Ha.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let o=!1,s=!1,a=!1;for(const l of r){if(Pt(l)){const u=l[0],c=l[l.length-1];if(Kr(u)&&Kr(c)){if(u<=0&&c>=0){o=!0;continue}s=!0;continue}}a=!0}if(o)return"definitely";if(s&&!a)return"definitely-not"}return"maybe"}}const k5t=["range","scheme"];function P5e(e,t){const i=e.fieldDef(t);if(i?.bin){const{bin:r,field:o}=i,s=Mu(t),a=e.getName(s);if(Ln(r)&&r.binned&&void 0!==r.step)return new Ca(()=>{const l=e.scaleName(t),u=`(domain("${l}")[1] - domain("${l}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${u})`});if(Ro(r)){const l=JV(e,o,r);return new Ca(()=>{const u=e.getSignalName(l),c=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(a)} / (${c})`})}}}function P5t(e,t){const i=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of k5t)if(void 0!==i[d]){const h=BU(s,d),p=wme(e,d);if(h)if(p)cn(p);else switch(d){case"range":{const m=i.range;if(Pt(m)){if(Rs(e))return m0(m.map(v=>{if("width"===v||"height"===v){const _=t.getName(v),y=t.getSignalName.bind(t);return Ca.fromName(y,_)}return v}))}else if(Ln(m))return m0({data:t.requestDataName(Qo.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return m0(m)}case"scheme":return m0(L5t(i[d]))}else cn(Kge(s,d,e))}const a=e===Zo||"xOffset"===e?"width":"height",l=r[a];if(g0(l))if(Rs(e))if(Ea(s)){const d=B5e(l,t,e);if(d)return m0({step:d})}else cn(Xge(a));else if(x9(e)&&"band"===t.getScaleComponent(e===Kp?"x":"y").get("type")){const m=$5e(l,s);if(m)return m0(m)}const{rangeMin:u,rangeMax:c}=i,f=function B5t(e,t){const{size:i,config:r,mark:o,encoding:s}=t,{type:a}=ia(s[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Zo:case ba:if(Ar(["point","band"],u)){const d=U5e(e,i,r.view);if(g0(d))return{step:B5e(d,t,e)}}return L5e(e,t,u);case Kp:case T5:return function $5t(e,t,i){const r=e===Kp?"x":"y",o=t.getScaleComponent(r);if(!o)return L5e(r,t,i,{center:!0});const s=o.get("type"),a=t.scaleName(r),{markDef:l,config:u}=t;if("band"===s){const c=U5e(r,t.size,t.config.view);if(g0(c)){const f=$5e(c,i);if(f)return f}return[0,{signal:`bandwidth('${a}')`}]}{const c=t.encoding[r];if(gn(c)&&c.timeUnit){const f=ume(c.timeUnit,m=>`scale('${a}', ${m})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,h=s1({fieldDef:c,markDef:l,config:u})-.5,p=0!==h?` + ${h}`:"";return d?[{signal:`${ci(d)?`${d.signal}/2`+p:`${d/2+h}`} * (${f})`},{signal:`${ci(d)?`(1 - ${d.signal}/2)`+p:`${1-d/2+h}`} * (${f})`}]:[0,{signal:f}]}return rge(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}(e,t,u);case gh:{const d=function H5t(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(VC("size",e))}(o,r),h=function z5t(e,t,i,r){const o={x:P5e(i,"x"),y:P5e(i,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const s=H5e(t,o,r.view);return Kr(s)?s-1:new Ca(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=H5e(t,o,r.view);return Kr(s)?Math.pow(V5e*s,2):new Ca(()=>`pow(${V5e} * ${s.signal}, 2)`)}}throw new Error(VC("size",e))}(o,i,t,r);return k5(u)?function V5t(e,t,i){const r=()=>{const o=Jf(t),s=Jf(e),a=`(${o} - ${s}) / (${i} - 1)`;return`sequence(${s}, ${o} + ${a}, ${a})`};return ci(t)?new Ca(r):{signal:r()}}(d,h,function U5t(e,t,i,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==i&&Pt(i)?i.length+1:(cn(function lpt(e){return`Domain for ${e} is required for threshold scale.`}(r)),3)}}(u,r,c,e)):[d,h]}case Jc:return[0,2*Math.PI];case im:return[0,360];case Kf:return[0,new Ca(()=>`min(${t.getSignalName(pc(t.parent)?"child_width":"width")},${t.getSignalName(pc(t.parent)?"child_height":"height")})/2`)];case Xp:return{step:1e3/r.scale.framesPerSecond};case Jp:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case e1:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case xu:return"symbol";case Du:case s0:case a0:return"ordinal"===u?"nominal"===a?"category":"ordinal":void 0!==f?"diverging":"rect"===o||"geoshape"===o?"heatmap":"ramp";case mh:case Zp:case Qp:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==u||void 0!==c)&&BU(s,"rangeMin")&&Pt(f)&&2===f.length?m0([u??f[0],c??f[1]]):hc(f)}function L5t(e){return function $pt(e){return!Bn(e)&&sn(e,"name")}(e)?{scheme:e.name,...Cu(e,["name"])}:{scheme:e}}function L5e(e,t,i,{center:r}={}){const o=Mu(e),s=t.getName(o),a=t.getSignalName.bind(t);return e===ba&&ed(i)?r?[Ca.fromName(l=>`${a(l)}/2`,s),Ca.fromName(l=>`-${a(l)}/2`,s)]:[Ca.fromName(a,s),0]:r?[Ca.fromName(l=>`-${a(l)}/2`,s),Ca.fromName(l=>`${a(l)}/2`,s)]:[0,Ca.fromName(a,s)]}function B5e(e,t,i){const{encoding:r}=t,o=t.getScaleComponent(i),s=uU(i),a=r[s];if("offset"===C2e({step:e,offsetIsDiscrete:Gi(a)&&hme(a.type)})&&i2e(r,s)){const u=t.getScaleComponent(s);let f=`domain('${t.scaleName(s)}').length`;"band"===u.get("type")&&(f=`bandspace(${f}, ${u.get("paddingInner")??u.get("padding")??0}, ${u.get("paddingOuter")??u.get("padding")??0})`);const d=o.get("paddingInner")??o.get("padding");return{signal:`${e.step} * ${f} / (1-${nht(d)})`}}return e.step}function $5e(e,t){if("offset"===C2e({step:e,offsetIsDiscrete:Ea(t)}))return{step:e.step}}function U5e(e,t,i){const r=e===Zo?"width":"height";return t[r]||dD(i,r)}const V5e=.95;function H5e(e,t,i){const r=g0(e.width)?e.width.step:pV(i,"width"),o=g0(e.height)?e.height.step:pV(i,"height");return t.x||t.y?new Ca(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:o].join(", ")})`):Math.min(r,o)}function z5e(e,t){cs(e)?function q5t(e,t){const i=e.component.scales,{config:r,encoding:o,markDef:s,specifiedScales:a}=e;for(const l of Yt(i)){const u=a[l],c=i[l],f=e.getScaleComponent(l),d=ia(o[l]),h=u[t],p=f.get("type"),m=f.get("padding"),v=f.get("paddingInner"),_=BU(p,t),y=wme(l,t);if(void 0!==h&&(_?y&&cn(y):cn(Kge(p,t,l))),_&&void 0===y)if(void 0!==h){const w=d.timeUnit,S=d.type;switch(t){case"domainMax":case"domainMin":lm(u[t])||"temporal"===S||w?c.set(t,{signal:sD(u[t],{type:S,timeUnit:w})},!0):c.set(t,u[t],!0);break;default:c.copyKeyFromObject(t,u)}}else{const w=sn(q5e,t)?q5e[t]({model:e,channel:l,fieldOrDatumDef:d,scaleType:p,scalePadding:m,scalePaddingInner:v,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:s,config:r,hasNestedOffsetScale:r2e(o,l),hasSecondaryRangeChannel:!!o[l0(l)]}):r.scale[t];void 0!==w&&c.set(t,w,!1)}}}(e,t):G5e(e,t)}const q5e={bins:({model:e,fieldOrDatumDef:t})=>gn(t)?function j5t(e,t){const i=t.bin;if(Ro(i)){const r=JV(e,t.field,i);return new Ca(()=>e.getSignalName(r))}if(Ua(i)&&sm(i)&&void 0!==i.step)return{step:i.step}}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function G5t(e,t){if(Ar([Du,s0,a0],e)&&"nominal"!==t)return"hcl"}(e,t.type),nice:({scaleType:e,channel:t,domain:i,domainMin:r,domainMax:o,fieldOrDatumDef:s})=>function W5t(e,t,i,r,o,s){if(!(rd(s)?.bin||Pt(i)||null!=o||null!=r||Ar([Ha.TIME,Ha.UTC],e)))return!!Rs(t)||void 0}(e,t,i,r,o,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:i,markDef:r,config:o})=>function Y5t(e,t,i,r,o,s){if(Rs(e)){if(h0(t)){if(void 0!==i.continuousPadding)return i.continuousPadding;const{type:a,orient:l}=o;if("bar"===a&&(!gn(r)||!r.bin&&!r.timeUnit)&&("vertical"===l&&"x"===e||"horizontal"===l&&"y"===e))return s.continuousBandSize}if(t===Ha.POINT)return i.pointPadding}}(e,t,o.scale,i,r,o.bar),paddingInner:({scalePadding:e,channel:t,markDef:i,scaleType:r,config:o,hasNestedOffsetScale:s})=>function K5t(e,t,i,r,o,s=!1){if(void 0===e){if(Rs(t)){const{bandPaddingInner:a,barBandPaddingInner:l,rectBandPaddingInner:u,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:f}=o;return s?f:Os(a,"bar"===i?l:"tick"===i?c:u)}if(x9(t)&&r===Ha.BAND)return o.offsetBandPaddingInner}}(e,t,i.type,r,o.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:i,scalePaddingInner:r,config:o,hasNestedOffsetScale:s})=>function X5t(e,t,i,r,o,s=!1){if(void 0===e)if(Rs(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:l}=o;if(s)return l;if(i===Ha.BAND)return Os(a,ci(r)?{signal:`${r.signal}/2`}:r/2)}else if(x9(t)){if(i===Ha.POINT)return.5;if(i===Ha.BAND)return o.offsetBandPaddingOuter}}(e,t,i,r,o.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:i,config:r})=>function Z5t(e,t,i,r){return"x"===i&&void 0!==r.xReverse?ed(e)&&"descending"===t?ci(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse:!(!ed(e)||"descending"!==t)||void 0}(t,gn(e)?e.sort:void 0,i,r.scale),zero:({channel:e,fieldOrDatumDef:t,domain:i,markDef:r,scaleType:o,config:s,hasSecondaryRangeChannel:a})=>function Q5t(e,t,i,r,o,s,a){if(i&&"unaggregated"!==i&&ed(o)){if(Pt(i)){const u=i[0],c=i[i.length-1];if(Kr(u)&&u<=0&&Kr(c)&&c>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!k5(o))return!0;if((!gn(t)||!t.bin)&&Ar([...vh,...$0t],e)){const{orient:u,type:c}=r;return(!Ar(["bar","area","line","trail"],c)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e))&&(!(!Ar(["bar","area"],c)||a)||s?.zero)}return!1}(e,t,i,r,o,s.scale,a)};function j5e(e){cs(e)?function F5t(e){const t=e.component.scales;for(const i of gU){const r=t[i];if(!r)continue;const o=P5t(i,e);r.setWithExplicit("range",o)}}(e):G5e(e,"range")}function G5e(e,t){const i=e.component.scales;for(const r of e.children)"range"===t?j5e(r):z5e(r,t);for(const r of Yt(i)){let o;for(const s of e.children){const a=s.component.scales[r];a&&(o=l1(o,a.getWithExplicit(t),t,"scale",X2e((u,c)=>"range"===t&&u.step&&c.step?u.step-c.step:0)))}i[r].setWithExplicit(t,o)}}function J5t(e,t,i,r,o=!1){const s=function e8t(e,t,i,r){switch(t.type){case"nominal":case"ordinal":if(I5(e)||"discrete"===mU(e))return"shape"===e&&"ordinal"===t.type&&cn(CU(e,"ordinal")),"ordinal";if(pU(e))return"band";if(Rs(e)||x9(e)){if(Ar(["rect","bar","image","rule","tick"],i.type)||r)return"band"}else if("arc"===i.type&&e in dU)return"band";return hm(i[Mu(e)])||P5(t)&&t.axis?.tickBand?"band":"point";case"temporal":return I5(e)?"time":"discrete"===mU(e)?(cn(CU(e,"temporal")),"ordinal"):gn(t)&&t.timeUnit&&wa(t.timeUnit).utc?"utc":pU(e)?"band":"time";case"quantitative":return I5(e)?gn(t)&&Ro(t.bin)?"bin-ordinal":"linear":"discrete"===mU(e)?(cn(CU(e,"quantitative")),"ordinal"):pU(e)?"band":"linear";case"geojson":return}throw new Error(Wge(t.type))}(t,i,r,o),{type:a}=e;return u0(t)?void 0!==a?function jpt(e,t,i=!1){if(!u0(e))return!1;switch(e){case Zo:case ba:case Kp:case T5:case Jc:case Kf:return!(!h0(t)&&"band"!==t)||"point"===t&&!i;case Xp:return Ar(["linear","band"],t);case gh:case Jp:case mh:case Zp:case Qp:case im:return h0(t)||k5(t)||Ar(["band","point","ordinal"],t);case Du:case s0:case a0:return"band"!==t;case e1:case xu:return"ordinal"===t||k5(t)}}(t,a)?gn(i)&&!function qpt(e,t){return Ar([PU,LU],t)?void 0===e||Ea(e):t===O5?Ar([Ha.TIME,Ha.UTC,void 0],e):t!==dm||vme(e)||k5(e)||void 0===e}(a,i.type)?(cn(function Ght(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}(a,s)),s):a:(cn(function jht(e,t,i){return`Channel "${e}" does not work with "${t}" scale. We are using "${i}" scale instead.`}(t,a,s)),s):s:null}function W5e(e){e.component.scales=cs(e)?function n8t(e){const{encoding:t,mark:i,markDef:r}=e,o={};for(const s of gU){const a=ia(t[s]);if(a&&i===Cme&&s===xu&&a.type===R5)continue;let l=a&&a.scale;if(a&&null!==l&&!1!==l){l??(l={});const c=J5t(l,s,a,r,r2e(t,s));o[s]=new F5e(e.scaleName(`${s}`,!0),{value:c,explicit:l.type===c})}}return o}(e):function r8t(e){var t;const i=e.component.scales={},r={},o=e.component.resolve;for(const s of e.children){W5e(s);for(const a of Yt(s.component.scales))if((t=o.scale)[a]??(t[a]=f5e(a,e)),"shared"===o.scale[a]){const l=r[a],u=s.component.scales[a].getWithExplicit("type");l?kpt(l.value,u.value)?r[a]=l1(l,u,"type","scale",i8t):(o.scale[a]="independent",delete r[a]):r[a]=u}}for(const s of Yt(r)){const a=e.scaleName(s,!0);i[s]=new F5e(a,r[s]);for(const u of e.children){const c=u.component.scales[s];c&&(u.renameScale(c.get("name"),a),c.merged=!0)}}return i}(e)}const i8t=X2e((e,t)=>pme(e)-pme(t));class fH{constructor(){this.nameMap={}}rename(t,i){this.nameMap[t]=i}has(t){return void 0!==this.nameMap[t]}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function cs(e){return"unit"===e?.type}function pc(e){return"facet"===e?.type}function dH(e){return"concat"===e?.type}function J5(e){return"layer"===e?.type}class hH{constructor(t,i,r,o,s,a,l){this.type=i,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=Va(l),this.name=t.name??o,this.title=i1(t.title)?{text:t.title}:t.title?Va(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new fH,this.projectionNameMap=r?r.projectionNameMap:new fH,this.signalNameMap=r?r.signalNameMap:new fH,this.data=t.data,this.description=t.description,this.transforms=function Xgt(e){return e.map(t=>yV(t)?{filter:C5(t.filter,Ipt)}:t)}(t.transform??[]),this.layout="layer"===i||"unit"===i?{}:function egt(e,t,i){const r=i[t],o={},{spacing:s,columns:a}=r;void 0!==s&&(o.spacing=s),void 0!==a&&(JC(e)&&!O9(e.facet)||fV(e))&&(o.columns=a),fD(e)&&(o.columns=1);for(const l of J1t)if(void 0!==e[l])if("spacing"===l){const u=e[l];o[l]=Kr(u)?u:{row:u.row??s,column:u.column??s}}else o[l]=e[l];return o}(t,i,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:JC(t)||r?.component.data.isFaceted&&void 0===t.data},layoutSize:new Sh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?zi(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function t8t(e,{ignoreRange:t}={}){W5e(e),I5e(e);for(const i of zpt)z5e(e,i);t||j5e(e)}(this)}parseProjection(){C5e(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){y5e(this)}assembleEncodeFromView(t){const{style:i,...r}=t,o={};for(const s of Yt(r)){const a=r[s];void 0!==a&&(o[s]=Uo(a))}return o}assembleGroupEncodeEntry(t){let i={};return this.view&&(i=this.assembleEncodeFromView(this.view)),t||(this.description&&(i.description=Uo(this.description)),"unit"!==this.type&&"layer"!==this.type)?wo(i)?void 0:i:{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...i}}assembleLayout(){if(!this.layout)return;const{spacing:t,...i}=this.layout,{component:r,config:o}=this,s=function C3t(e,t){const i={};for(const r of tf){const o=e[r];if(o?.facetFieldDef){const{titleAnchor:s,titleOrient:a}=ID(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,r),l=ND(r,a),u=S3t(s,l);void 0!==u&&(i[l]=u)}}return wo(i)?void 0:i}(r.layoutHeaders,o);return{padding:t,...this.assembleDefaultLayout(),...i,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let i=[];for(const r of tf)t[r].title&&i.push(_3t(this,r));for(const r of WV)i=i.concat(y3t(this,r));return i}assembleAxes(){return function o3t(e,t){const{x:i=[],y:r=[]}=e;return[...i.map(o=>W9(o,"grid",t)),...r.map(o=>W9(o,"grid",t)),...i.map(o=>W9(o,"main",t)),...r.map(o=>W9(o,"main",t))].filter(o=>o)}(this.component.axes,this.config)}assembleLegends(){return w5e(this)}assembleProjections(){return function W3t(e){return J5(e)||dH(e)?function Y3t(e){return e.children.reduce((t,i)=>t.concat(i.assembleProjections()),E5e(e))}(e):E5e(e)}(this)}assembleTitle(){const{encoding:t,...i}=this.title??{},r={...Tge(this.config.title).nonMarkTitleProperties,...i,...t?{encode:{update:t}}:{}};if(r.text)return Ar(["unit","layer"],this.type)?Ar(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),wo(r)?void 0:r}assembleGroup(t=[]){const i={};(t=t.concat(this.assembleSignals())).length>0&&(i.signals=t);const r=this.assembleLayout();r&&(i.layout=r),i.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const o=!this.parent||pc(this.parent)?R5e(this):[];o.length>0&&(i.scales=o);const s=this.assembleAxes();s.length>0&&(i.axes=s);const a=this.assembleLegends();return a.length>0&&(i.legends=a),i}getName(t){return Xo((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Qo[t].toLowerCase())}requestDataName(t){const i=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[i]=(r[i]||0)+1,i}getSizeSignalRef(t){if(pc(this.parent)){const r=BC(u5e(t)),o=this.component.scales[r];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Ea(s)&&am(a)){const l=o.get("name"),c=cH(kD(this,r));return c?{signal:l5e(l,o,Tn({aggregate:"distinct",field:c},{expr:"datum"}))}:(cn(wU(r)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const i=this.component.data.outputNodes[t];return i?i.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,i){this.signalNameMap.rename(t,i)}renameScale(t,i){this.scaleNameMap.rename(t,i)}renameProjection(t,i){this.projectionNameMap.rename(t,i)}scaleName(t,i){return i?this.getName(t):bge(t)&&u0(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}projectionName(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const i=this.component.scales[t];return i&&!i.merged?i:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const i=this.getScaleComponent(t);return i?i.get("type"):void 0}getSelectionComponent(t,i){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,i)),!r)throw new Error(function aht(e){return`Cannot find a selection named "${e}".`}(i));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class Y5e extends hH{vgField(t,i={}){const r=this.fieldDef(t);if(r)return Tn(r,i)}reduceFieldDef(t,i){return function O1t(e,t,i,r){return e?Yt(e).reduce((o,s)=>{const a=e[s];return Pt(a)?a.reduce((l,u)=>t.call(r,l,u,s),o):t.call(r,o,a,s)},i):i}(this.getMapping(),(r,o,s)=>{const a=rd(o);return a?t(r,a,s):r},i)}forEachFieldDef(t,i){eV(this.getMapping(),(r,o)=>{const s=rd(r);s&&t(s,o)},i)}}class FD extends vo{clone(){return new FD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"],this.transform.resolve=this.transform.resolve??"shared"}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Nr(this.transform)}`}assemble(){const{density:t,...i}=this.transform,r={type:"kde",field:t,...i};return r.resolve=this.transform.resolve,r}}class PD extends vo{clone(){return new PD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Nr(this.transform)}`}assemble(){const{extent:t,param:i}=this.transform;return{type:"extent",field:t,signal:i}}}class LD extends vo{clone(){return new LD(this.parent,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const{flatten:r,as:o=[]}=this.transform;this.transform.as=r.map((s,a)=>o[a]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Nr(this.transform)}`}assemble(){const{flatten:t,as:i}=this.transform;return{type:"flatten",fields:t,as:i}}}class BD extends vo{clone(){return new BD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Nr(this.transform)}`}assemble(){const{fold:t,as:i}=this.transform;return{type:"fold",fields:t,as:i}}}class e8 extends vo{clone(){return new e8(null,zi(this.fields),this.geojson,this.signal)}static parseAll(t,i){if(i.component.projection&&!i.component.projection.isFit)return t;let r=0;for(const o of[[Zf,Xf],[ef,Qf]]){const s=o.map(a=>{const l=ia(i.encoding[a]);return gn(l)?l.field:p0(l)?{expr:`${l.datum}`}:id(l)?{expr:`${l.value}`}:void 0});(s[0]||s[1])&&(t=new e8(t,s,null,i.getName("geojson_"+r++)))}if(i.channelHasField(xu)){const o=i.typedFieldDef(xu);o.type===R5&&(t=new e8(t,null,o.field,i.getName("geojson_"+r++)))}return t}constructor(t,i,r,o){super(t),this.fields=i,this.geojson=r,this.signal=o}dependentFields(){const t=(this.fields??[]).filter(Bn);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Nr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Z9 extends vo{clone(){return new Z9(null,this.projection,zi(this.fields),zi(this.as))}constructor(t,i,r,o){super(t),this.projection=i,this.fields=r,this.as=o}static parseAll(t,i){if(!i.projectionName())return t;for(const r of[[Zf,Xf],[ef,Qf]]){const o=r.map(a=>{const l=ia(i.encoding[a]);return gn(l)?l.field:p0(l)?{expr:`${l.datum}`}:id(l)?{expr:`${l.value}`}:void 0}),s=r[0]===ef?"2":"";(o[0]||o[1])&&(t=new Z9(t,i.projectionName(),o,[i.getName(`x${s}`),i.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Bn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Nr(this.fields)} ${Nr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Mm extends vo{clone(){return new Mm(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:i=0,stop:r,step:o}=t;return{signal:`sequence(${[i,r,...o?[o]:[]].join(",")})`}}static makeFromTransform(t,i){return new Mm(t,i)}static makeFromEncoding(t,i){const r=i.encoding,o=r.x,s=r.y;if(gn(o)&&gn(s)){const a=o.impute?o:s.impute?s:void 0;if(void 0===a)return;const l=o.impute?s:s.impute?o:void 0,{method:u,value:c,frame:f,keyvals:d}=a.impute,h=a2e(i.mark,r);return new Mm(t,{impute:a.field,key:l.field,...u?{method:u}:{},...void 0!==c?{value:c}:{},...f?{frame:f}:{},...void 0!==d?{keyvals:d}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${Nr(this.transform)}`}assemble(){const{impute:t,key:i,keyvals:r,method:o,groupby:s,value:a,frame:l=[null,null]}=this.transform,u={type:"impute",field:t,key:i,...r?{keyvals:Igt(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:o&&"value"!==o?null:a};return o&&"value"!==o?[u,{type:"window",as:[`imputed_${t}_value`],ops:[o],fields:[t],frame:l,ignorePeers:!1,...s?{groupby:s}:{}},{type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t}]:[u]}}class $D extends vo{clone(){return new $D(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??i.on,r[1]??i.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Nr(this.transform)}`}assemble(){const{loess:t,on:i,...r}=this.transform;return{type:"loess",x:i,y:t,...r}}}class Q9 extends vo{clone(){return new Q9(null,zi(this.transform),this.secondary)}constructor(t,i,r){super(t),this.transform=i,this.secondary=r}static make(t,i,r,o){const s=i.component.data.sources,{from:a}=r;let l=null;if(function Ogt(e){return sn(e,"data")}(a)){let u=Q5e(a.data,s);u||(u=new Cm(a.data),s.push(u));const c=i.getName(`lookup_${o}`);l=new Au(u,c,Qo.Lookup,i.component.data.outputNodeRefCounts),i.component.data.outputNodes[c]=l}else if(function Rgt(e){return sn(e,"param")}(a)){const u=a.param;let c;r={as:u,...r};try{c=i.getSelectionComponent(Xo(u),u)}catch{throw new Error(function fht(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}(u))}if(l=c.materialized,!l)throw new Error(function dht(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(u))}return new Q9(t,r,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Un(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Nr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Un(this.transform.as)}:{}};else{let i=this.transform.as;Bn(i)||(cn('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),i="_lookup"),t={as:[i]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class UD extends vo{clone(){return new UD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Nr(this.transform)}`}assemble(){const{quantile:t,...i}=this.transform;return{type:"quantile",field:t,...i}}}class VD extends vo{clone(){return new VD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=zi(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??i.on,r[1]??i.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Nr(this.transform)}`}assemble(){const{regression:t,on:i,...r}=this.transform;return{type:"regression",x:i,y:t,...r}}}class HD extends vo{clone(){return new HD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=r0((this.transform.groupby??[]).concat(t),i=>i)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Nr(this.transform)}`}assemble(){const{pivot:t,value:i,groupby:r,limit:o,op:s}=this.transform;return{type:"pivot",field:t,value:i,...void 0!==o?{limit:o}:{},...void 0!==s?{op:s}:{},...void 0!==r?{groupby:r}:{}}}}class zD extends vo{clone(){return new zD(null,zi(this.transform))}constructor(t,i){super(t),this.transform=i}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Nr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function K5e(e){let t=0;return function i(r,o){if(r instanceof Cm&&!r.isGenerator&&!V5(r.data)&&(e.push(o),o={name:null,source:o.name,transform:[]}),r instanceof Cl&&(r.parent instanceof Cm&&!o.source?(o.format={...o.format,parse:r.assembleFormatParse()},o.transform.push(...r.assembleTransforms(!0))):o.transform.push(...r.assembleTransforms())),r instanceof X5)return o.name||(o.name="data_"+t++),!o.source||o.transform.length>0?(e.push(o),r.data=o.name):r.data=o.source,void e.push(...r.assemble());switch((r instanceof Y9||r instanceof K9||r instanceof Z5||r instanceof G5||r instanceof W5||r instanceof Z9||r instanceof ad||r instanceof Q9||r instanceof Q5||r instanceof xm||r instanceof BD||r instanceof LD||r instanceof FD||r instanceof $D||r instanceof UD||r instanceof VD||r instanceof f1||r instanceof zD||r instanceof HD||r instanceof PD)&&o.transform.push(r.assemble()),(r instanceof b0||r instanceof v0||r instanceof Mm||r instanceof Ah||r instanceof e8)&&o.transform.push(...r.assemble()),r instanceof Au&&(o.source&&0===o.transform.length?r.setSource(o.source):r.parent instanceof Au?r.setSource(o.name):(o.name||(o.name="data_"+t++),r.setSource(o.name),1===r.numChildren()&&(e.push(o),o={name:null,source:o.name,transform:[]}))),r.numChildren()){case 0:r instanceof Au&&(!o.source||o.transform.length>0)&&e.push(o);break;case 1:i(r.children[0],o);break;default:{o.name||(o.name="data_"+t++);let s=o.name;!o.source||o.transform.length>0?e.push(o):s=o.source;for(const a of r.children)i(a,{name:null,source:s,transform:[]});break}}}}function a8t(e){return"top"===e||"left"===e||ci(e)?"header":"footer"}function u8t(e,t){const{facet:i,config:r,child:o,component:s}=e;if(e.channelHasField(t)){const a=i[t],l=K5("title",null,r,t);let u=L5(a,r,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=Pt(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[t].title}`,o.component.layoutHeaders[t].title=null);const c=K5("labelOrient",a.header,r,t),f=null!==a.header&&Os(a.header?.labels,r.header.labels,!0),d=Ar(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:null!==a.header?u:null,facetFieldDef:a,[d]:"facet"===t?[]:[X5e(e,t,f)]}}}function X5e(e,t,i){const r="row"===t?"height":"width";return{labels:i,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Z5e(e,t){const{child:i}=e;if(i.component.axes[t]){const{layoutHeaders:r,resolve:o}=e.component;if(o.axis[t]=ZV(o,t),"shared"===o.axis[t]){const s="x"===t?"column":"row",a=r[s];for(const l of i.component.axes[t]){const u=a8t(l.get("orient"));a[u]??(a[u]=[X5e(e,s,!1)]);const c=W9(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function pH(e){for(const t of e.children)t.parseLayoutSize()}function qD(e,t){const i=u5e(t),r=BC(i),o=e.component.resolve,s=e.component.layoutSize;let a;for(const l of e.children){const u=l.component.layoutSize.getWithExplicit(i),c=o.scale[r]??f5e(r,e);if("independent"===c&&"step"===u.value){a=void 0;break}if(a){if("independent"===c&&a.value!==u.value){a=void 0;break}a=l1(a,u,i,"")}else a=u}if(a){for(const l of e.children)e.renameSignal(l.getName(i),e.getName(t)),l.component.layoutSize.set(i,"merged",!1);s.setWithExplicit(t,a)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function h8t(e,t){const r=e.config,o=e.getScaleComponent("width"===t?"x":"y");if(o){const s=o.get("type"),a=o.get("range");if(Ea(s)){const l=dD(r.view,t);return am(a)||g0(l)?"step":l}return hV(r.view,t)}if(e.hasProjection||"arc"===e.mark)return hV(r.view,t);{const s=dD(r.view,t);return g0(s)?s.step:s}}function gH(e,t,i){return Tn(t,{suffix:`by_${Tn(e)}`,...i})}class J9 extends Y5e{constructor(t,i,r,o){super(t,"facet",i,r,o,t.resolve),this.child=bH(t.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!O9(t))return{facet:this.initFacetFieldDef(t,"facet")};const i=Yt(t),r={};for(const o of i){if(![fh,dh].includes(o)){cn(VC(o,"facet"));break}const s=t[o];if(void 0===s.field){cn(SU(s,o));break}r[o]=this.initFacetFieldDef(s,o)}return r}initFacetFieldDef(t,i){const r=JU(t,i);return r.header?r.header=Va(r.header):null===r.header&&(r.header=null),r}channelHasField(t){return sn(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=jD(this),this.child.parseData()}parseLayoutSize(){pH(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>_0(t))&&DU(EU)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function l8t(e){for(const t of tf)u8t(e,t);Z5e(e,"x"),Z5e(e,"y")}(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const i of tf)for(const r of YV){const o=this.component.layoutHeaders[i],s=o[r],{facetFieldDef:a}=o;if(a){const l=K5("titleOrient",a.header,this.config,i);if(["right","bottom"].includes(l)){const u=ND(i,l);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(s?.[0]){const u="header"===r?"headerBand":"footerBand";"facet"!==i&&!this.child.component.layoutSize.get("row"===i?"height":"width")&&(t[u]??(t[u]={}),t[u][i]=.5),o.title&&(t.offset??(t.offset={}),t.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:i}=this.facet,r=t?this.columnDistinctSignal():i?1:void 0;let o="all";return(!i&&"independent"===this.component.resolve.scale.x||!t&&"independent"===this.component.resolve.scale.y)&&(o="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:o}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof J9))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof J9?{...this.channelHasField("column")?{encode:{update:{columns:{field:Tn(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],i=[],r=[];if(this.child instanceof J9){if(this.child.channelHasField("column")){const o=Tn(this.child.facet.column);t.push(o),i.push("distinct"),r.push(`distinct_${o}`)}}else for(const o of vh){const s=this.child.component.scales[o];if(s&&!s.merged){const a=s.get("type"),l=s.get("range");if(Ea(a)&&am(l)){const c=cH(kD(this.child,o));c?(t.push(c),i.push("distinct"),r.push(`distinct_${c}`)):cn(wU(o))}}}return{fields:t,ops:i,as:r}}assembleFacet(){const{name:t,data:i}=this.component.data.facetRoot,{row:r,column:o}=this.facet,{fields:s,ops:a,as:l}=this.getCardinalityAggregateForChild(),u=[];for(const f of tf){const d=this.facet[f];if(d){u.push(Tn(d));const{bin:h,sort:p}=d;if(Ro(h)&&u.push(Tn(d,{binSuffix:"end"})),bh(p)){const{field:m,op:v=QC}=p,_=gH(d,p);r&&o?(s.push(_),a.push("max"),l.push(_)):(s.push(m),a.push(v),l.push(_))}else if(Pt(p)){const m=Y5(d,f);s.push(m),a.push("max"),l.push(m)}}}const c=!!r&&!!o;return{name:t,data:i,groupby:u,...c||s.length>0?{aggregate:{...c?{cross:c}:{},...s.length?{fields:s,ops:a,as:l}:{}}}:{}}}facetSortFields(t){const{facet:i}=this,r=i[t];return r?bh(r.sort)?[gH(r,r.sort,{expr:"datum"})]:Pt(r.sort)?[Y5(r,t,{expr:"datum"})]:[Tn(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:i}=this,r=i[t];if(r){const{sort:o}=r;return[(bh(o)?o.order:!Pt(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:i}=this;if(t.facet)return KV(t.facet,"facet",i);const r={row:["top","bottom"],column:["left","right"]};for(const o of WV)if(t[o]){const s=K5("labelOrient",t[o]?.header,i,o);if(r[o].includes(s))return KV(t[o],o,i)}}assembleMarks(){const{child:t}=this,r=function o8t(e){const t=[],i=K5e(t);for(const r of e.children)i(r,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),o=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:tf.map(u=>this.facetSortFields(u)).flat(),order:tf.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...o?{encode:{update:o}}:{},...t.assembleGroup(gmt(this,[]))}]}getMapping(){return this.facet}}function Q5e(e,t){for(const i of t){const r=i.data;if(e.name&&i.hasName()&&e.name!==i.dataName)continue;const o=e.format?.mesh,s=r.format?.feature;if(o&&s)continue;const a=e.format?.feature;if((a||s)&&a!==s)continue;const l=r.format?.mesh;if(!o&&!l||o===l)if(L9(e)&&L9(r)){if(fc(e.values,r.values))return i}else if(V5(e)&&V5(r)){if(e.url===r.url)return i}else if(Z2e(e)&&e.name===i.dataName)return i}return null}function jD(e){let t=function g8t(e,t){if(e.data||!e.parent){if(null===e.data){const r=new Cm({values:[]});return t.push(r),r}const i=Q5e(e.data,t);if(i)return u1(e.data)||(i.data.format=oge({},e.data.format,i.data.format)),!i.hasName()&&e.data.name&&(i.dataName=e.data.name),i;{const r=new Cm(e.data);return t.push(r),r}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:i,outputNodeRefCounts:r}=e.component.data,o=e.data,a=o&&(u1(o)||V5(o)||L9(o))||!e.parent?new amt:e.parent.component.data.ancestorParse.clone();u1(o)?(Q2e(o)?t=new K9(t,o.sequence):EV(o)&&(t=new Y9(t,o.graticule)),a.parseNothing=!0):null===o?.format?.parse&&(a.parseNothing=!0),t=Cl.makeExplicit(t,e,a)??t,t=new f1(t);const l=e.parent&&J5(e.parent);(cs(e)||pc(e))&&l&&(t=b0.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=function m8t(e,t,i){let r=0;for(const o of t.transforms){let s,a;if(zgt(o))a=e=new W5(e,o),s="derived";else if(yV(o)){const l=s5t(o);a=e=Cl.makeWithAncestors(e,{},l,i)??e,e=new G5(e,t,o.filter)}else if(z2e(o))a=e=b0.makeFromTransform(e,o,t),s="number";else if(jgt(o))s="date",void 0===i.getWithExplicit(o.field).value&&(e=new Cl(e,{[o.field]:s}),i.set(o.field,s,!1)),a=e=v0.makeFromTransform(e,o);else if(Ggt(o))a=e=ad.makeFromTransform(e,o),s="number",kV(t)&&(e=new f1(e));else if(H2e(o))a=e=Q9.make(e,t,o,r++),s="derived";else if(Ugt(o))a=e=new Q5(e,o),s="number";else if(Vgt(o))a=e=new xm(e,o),s="number";else if(Wgt(o))a=e=Ah.makeFromTransform(e,o),s="derived";else if(Ygt(o))a=e=new BD(e,o),s="derived";else if(Kgt(o))a=e=new PD(e,o),s="derived";else if(Hgt(o))a=e=new LD(e,o),s="derived";else if(kgt(o))a=e=new HD(e,o),s="derived";else if($gt(o))e=new zD(e,o);else if(qgt(o))a=e=Mm.makeFromTransform(e,o),s="derived";else if(Fgt(o))a=e=new FD(e,o),s="derived";else if(Pgt(o))a=e=new UD(e,o),s="derived";else if(Lgt(o))a=e=new VD(e,o),s="derived";else{if(!Bgt(o)){cn(Eht(o));continue}a=e=new $D(e,o),s="derived"}if(a&&void 0!==s)for(const l of a.producedFields()??[])i.set(l,s,!1)}return e}(t,e,a));const u=function l5t(e){const t={};if(cs(e)&&e.component.selection)for(const i of Yt(e.component.selection)){const r=e.component.selection[i];for(const o of r.project.items)!o.channel&&A5(o.field)>1&&(t[o.field]="flatten")}return t}(e),c=function a5t(e){const t={};function i(r){$5(r)?t[r.field]="date":"quantitative"===r.type&&function K0t(e){return Bn(e)&&Ar(["min","max"],e)}(r.aggregate)?t[r.field]="number":A5(r.field)>1?r.field in t||(t[r.field]="flatten"):mm(r)&&bh(r.sort)&&A5(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((cs(e)||pc(e))&&e.forEachFieldDef((r,o)=>{if(Ql(r))i(r);else{const s=om(o),a=e.fieldDef(s);i({...r,type:a.type})}}),cs(e)){const{mark:r,markDef:o,encoding:s}=e;if(o1(r)&&!e.encoding.order){const l=s["horizontal"===o.orient?"y":"x"];gn(l)&&"quantitative"===l.type&&!(l.field in t)&&(t[l.field]="number")}}return t}(e);t=Cl.makeWithAncestors(t,{},{...u,...c},a)??t,cs(e)&&(t=e8.parseAll(t,e),t=Z9.parseAll(t,e)),(cs(e)||pc(e))&&(l||(t=b0.makeFromEncoding(t,e)??t),t=v0.makeFromEncoding(t,e)??t,t=W5.parseAllForSortIndex(t,e));const f=t=GD(Qo.Raw,e,t);if(cs(e)){const _=ad.makeFromEncoding(t,e);_&&(t=_,kV(e)&&(t=new f1(t))),t=Mm.makeFromEncoding(t,e)??t,t=Ah.makeFromEncoding(t,e)??t}let d,h;if(cs(e)){const{markDef:_,mark:y,config:w}=e,S=So("invalid",_,w),{marks:M,scales:A}=h=e3e({invalid:S,isPath:o1(y)});M!==A&&"include-invalid-values"===A&&(d=t=GD(Qo.PreFilterInvalid,e,t)),"exclude-invalid-values"===M&&(t=Z5.make(t,e,h)??t)}const p=t=GD(Qo.Main,e,t);let m;if(cs(e)&&h){const{marks:_,scales:y}=h;"include-invalid-values"===_&&"exclude-invalid-values"===y&&(t=Z5.make(t,e,h)??t,m=t=GD(Qo.PostFilterInvalid,e,t))}cs(e)&&function i3t(e,t){for(const[i,r]of Yp(e.component.selection??{})){const o=e.getName(`lookup_${i}`);e.component.data.outputNodes[o]=r.materialized=new Au(new G5(t,e,{param:i}),o,Qo.Lookup,e.component.data.outputNodeRefCounts)}}(e,p);let v=null;if(pc(e)){const _=e.getName("facet");t=function p8t(e,t){const{row:i,column:r}=t;if(i&&r){let o=null;for(const s of[i,r])if(bh(s.sort)){const{field:a,op:l=QC}=s.sort;e=o=new xm(e,{joinaggregate:[{op:l,field:a,as:gH(s,s.sort,{forAs:!0})}],groupby:[Tn(s)]})}return o}return null}(t,e.facet)??t,v=new X5(t,e,_,p.getSource()),i[_]=v}return{...e.component.data,outputNodes:i,outputNodeRefCounts:r,raw:f,main:p,facetRoot:v,ancestorParse:a,preFilterInvalid:d,postFilterInvalid:m}}function GD(e,t,i){const{outputNodes:r,outputNodeRefCounts:o}=t.component.data,s=t.getDataName(e),a=new Au(i,s,e,o);return r[s]=a,a}class v8t extends hH{constructor(t,i,r,o){super(t,"concat",i,r,o,t.resolve),("shared"===t.resolve?.axis?.x||"shared"===t.resolve?.axis?.y)&&cn("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(t).map((s,a)=>bH(s,this,this.getName(`concat_${a}`),void 0,o))}parseData(){this.component.data=jD(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const i of Yt(t.component.selection))this.component.selection[i]=t.component.selection[i]}Object.values(this.component.selection).some(t=>_0(t))&&DU(EU)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return fD(t)?t.vconcat:dV(t)?t.hconcat:t.concat}parseLayoutSize(){!function f8t(e){pH(e);const i=void 0===e.layout.columns?"height":"childHeight";qD(e,1===e.layout.columns?"width":"childWidth"),qD(e,i)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((i,r)=>r.assembleSelectionTopLevelSignals(i),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=XV(this);for(const i of this.children)t.push(...i.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((i,r)=>r.assembleSelectionData(i),t)}assembleMarks(){return this.children.map(t=>{const i=t.assembleTitle(),r=t.assembleGroupStyle(),o=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...i?{title:i}:{},...r?{style:r}:{},...o?{encode:{update:o}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...null!=t?{columns:t}:{},bounds:"full",align:"each"}}}const y8t={disable:1,gridScale:1,scale:1,...Jme,labelExpr:1,encode:1},J5e=Yt(y8t);class mH extends Sh{constructor(t={},i={},r=!1){super(),this.explicit=t,this.implicit=i,this.mainExtracted=r}clone(){return new mH(zi(this.explicit),zi(this.implicit),this.mainExtracted)}hasAxisPart(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function _8t(e){return!1===e||null===e}(this.get(t)))}hasOrientSignalRef(){return ci(this.explicit.orient)}}const E8t={bottom:"top",top:"bottom",left:"right",right:"left"};function C8t(e,t){if(!e)return t.map(i=>i.clone());{if(e.length!==t.length)return;const i=e.length;for(let r=0;r<i;r++){const o=e[r],s=t[r];if(!!o!=!!s)return;if(o&&s){const a=o.getWithExplicit("orient"),l=s.getWithExplicit("orient");if(a.explicit&&l.explicit&&a.value!==l.value)return;e[r]=D8t(o,s)}}}return e}function D8t(e,t){for(const i of J5e){const r=l1(e.getWithExplicit(i),t.getWithExplicit(i),i,"axis",(o,s)=>{switch(i){case"title":return Bge(o,s);case"gridScale":return{explicit:o.explicit,value:Os(o.value,s.value)}}return pD(o,s,i,"axis")});e.setWithExplicit(i,r)}return e}function x8t(e,t,i,r,o){if("disable"===t)return void 0!==i;switch(i=i||{},t){case"titleAngle":case"labelAngle":return e===(ci(i.labelAngle)?i.labelAngle:S9(i.labelAngle));case"values":return!!i.values;case"encode":return!!i.encoding||!!i.labelAngle;case"title":if(e===i5e(r,o))return!0}return e===i[t]}const M8t=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function A8t(e,t){let i=t.axis(e);const r=new mH,o=ia(t.encoding[e]),{mark:s,config:a}=t,l=i?.orient||a["x"===e?"axisX":"axisY"]?.orient||a.axis?.orient||function h3t(e){return"x"===e?"bottom":"left"}(e),u=t.getScaleComponent(e).get("type"),c=function s3t(e,t,i,r){const o="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:vme(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],s="x"===e?"axisX":"axisY",a=ci(i)?"axisOrient":`axis${E9(i)}`,l=[...o,...o.map(c=>s+c.substr(4))],u=["axis",a,s];return{vlOnlyAxisConfig:J3e(l,r,e,i),vgAxisConfig:J3e(u,r,e,i),axisConfigStyle:a3t([...u,...l],r)}}(e,u,l,t.config),f=void 0!==i?!i:jV("disable",a.style,i?.style,c).configValue;if(r.set("disable",f,void 0!==i),f)return r;i=i||{};const d=function c3t(e,t,i,r,o){const s=t?.labelAngle;if(void 0!==s)return ci(s)?s:S9(s);{const{configValue:a}=jV("labelAngle",r,t?.style,o);return void 0!==a?S9(a):i!==Zo||!Ar([LU,PU],e.type)||gn(e)&&e.timeUnit?void 0:270}}(o,i,e,a.style,c),h=kme(i.formatType,o,u),p=Rme(o,o.type,i.format,i.formatType,a,!0),m={fieldOrDatumDef:o,axis:i,channel:e,model:t,scaleType:u,orient:l,labelAngle:d,format:p,formatType:h,mark:s,config:a};for(const y of J5e){const w=y in e5e?e5e[y](m):t2e(y)?i[y]:void 0,S=void 0!==w,M=x8t(w,y,i,t,e);if(S&&M)r.set(y,w,M);else{const{configValue:A,configFrom:F}=t2e(y)&&"values"!==y?jV(y,a.style,i.style,c):{},N=void 0!==A;S&&!N?r.set(y,w,M):("vgAxisConfig"!==F||M8t.has(y)&&N||P9(A)||ci(A))&&r.set(y,A,!1)}}const v=i.encoding??{},_=Qme.reduce((y,w)=>{if(!r.hasAxisPart(w))return y;const S=c5e(v[w]??{},t),M="labels"===w?function b8t(e,t,i){const{encoding:r,config:o}=e,s=ia(r[t])??ia(r[l0(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;if(gm(u))return{text:nd({fieldOrDatumDef:s,field:"datum.value",format:l,formatType:u,config:o}),...i};if(void 0===l&&void 0===u&&o.customFormatTypes){if("quantitative"===F5(s)){if(P5(s)&&"normalize"===s.stack&&o.normalizedNumberFormatType)return{text:nd({fieldOrDatumDef:s,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o}),...i};if(o.numberFormatType)return{text:nd({fieldOrDatumDef:s,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}),...i}}if("temporal"===F5(s)&&o.timeFormatType&&gn(s)&&!s.timeUnit)return{text:nd({fieldOrDatumDef:s,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o}),...i}}return i}(t,e,S):S;return void 0!==M&&!wo(M)&&(y[w]={update:M}),y},{});return wo(_)||r.set("encode",_,!!i.encoding||void 0!==i.labelAngle),r}const N8t={vgMark:"arc",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Jl("x",e,{defaultPos:"mid"}),...Jl("y",e,{defaultPos:"mid"}),...Dh(e,"radius"),...Dh(e,"theta")})},I8t={vgMark:"area",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...yD("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient}),...yD("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient}),...OV(e)})},O8t={vgMark:"rect",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Dh(e,"x"),...Dh(e,"y")})},R8t={vgMark:"shape",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,i=t.shape;return[{type:"geoshape",projection:e.projectionName(),...i&&gn(i)&&i.type===R5?{field:Tn(i,{expr:"datum"})}:{}}]}},k8t={vgMark:"image",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Dh(e,"x"),...Dh(e,"y"),...NV(e,"url")})},F8t={vgMark:"line",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Jl("x",e,{defaultPos:"mid"}),...Jl("y",e,{defaultPos:"mid"}),...za("size",e,{vgChannel:"strokeWidth"}),...OV(e)})},P8t={vgMark:"trail",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Jl("x",e,{defaultPos:"mid"}),...Jl("y",e,{defaultPos:"mid"}),...za("size",e),...OV(e)})};function vH(e,t){const{config:i}=e;return{...nf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Jl("x",e,{defaultPos:"mid"}),...Jl("y",e,{defaultPos:"mid"}),...za("size",e),...za("angle",e),...L8t(e,0,t)}}function L8t(e,t,i){return i?{shape:{value:i}}:za("shape",e)}const B8t={vgMark:"symbol",encodeEntry:e=>vH(e)},$8t={vgMark:"symbol",encodeEntry:e=>vH(e,"circle")},U8t={vgMark:"symbol",encodeEntry:e=>vH(e,"square")},V8t={vgMark:"rect",encodeEntry:e=>({...nf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Dh(e,"x"),...Dh(e,"y")})},H8t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,i=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?{...nf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...yD("x",e,{defaultPos:"horizontal"===i?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==i}),...yD("y",e,{defaultPos:"vertical"===i?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==i}),...za("size",e,{vgChannel:"strokeWidth"})}:{}}},z8t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:i}=e;return{...nf(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Jl("x",e,{defaultPos:"mid"}),...Jl("y",e,{defaultPos:"mid"}),...NV(e),...za("size",e,{vgChannel:"fontSize"}),...za("angle",e),...E3e("align",q8t(e.markDef,0,t)),...E3e("baseline",j8t(e.markDef,0,t)),...Jl("radius",e,{defaultPos:null}),...Jl("theta",e,{defaultPos:null})}}};function q8t(e,t,i){if(void 0===So("align",e,i))return"center"}function j8t(e,t,i){if(void 0===So("baseline",e,i))return"middle"}const WD={arc:N8t,area:I8t,bar:O8t,circle:$8t,geoshape:R8t,image:k8t,line:F8t,point:B8t,rect:V8t,rule:H8t,square:U8t,text:z8t,tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:i}=e,r=i.orient,o="horizontal"===r?"x":"y",s="horizontal"===r?"y":"x",a="horizontal"===r?"height":"width";return{...nf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Dh(e,o),...Jl(s,e,{defaultPos:"mid",vgChannel:"y"===s?"yc":"xc"}),[a]:Uo(So("thickness",i,t))}}},trail:P8t};const e8e="faceted_path_",t8e="stack_group_";function _H(e,t={fromPrefix:""}){const{mark:i,markDef:r,encoding:o,config:s}=e,a=Os(r.clip,function X8t(e){const t=e.getScaleComponent("x"),i=e.getScaleComponent("y");return!(!t?.get("selectionExtent")&&!i?.get("selectionExtent"))||void 0}(e),function Z8t(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),l=Rge(r),u=o.key,c=function K8t(e){const{encoding:t,stack:i,mark:r,markDef:o,config:s}=e,a=t.order;if(!(!Pt(a)&&id(a)&&eU(a.value)||!a&&eU(So("order",o,s)))){if((Pt(a)||gn(a))&&!i)return Fge(a,{expr:"datum"});if(o1(r)){const l="horizontal"===o.orient?"y":"x";if(gn(t[l]))return{field:l}}}}(e),f=function Q8t(e){if(!e.component.selection)return null;const t=Yt(e.component.selection).length;let i=t,r=e.parent;for(;r&&0===i;)i=Yt(r.component.selection).length,r=r.parent;return i?{interactive:t>0||"geoshape"===e.mark||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}(e),d=So("aria",r,s),h=WD[i].postEncodingTransform?WD[i].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:WD[i].vgMark,...a?{clip:a}:{},...l?{style:l}:{},...u?{key:u.field}:{},...c?{sort:c}:{},...f||{},...!1===d?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Qo.Main)},encode:{update:WD[i].encodeEntry(e)},...h?{transform:h}:{}}]}class n8e extends Y5e{constructor(t,i,r,o={},s){super(t,"unit",i,r,s,void 0,D2e(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=c=>(c.from?.data&&(c.from.data=this.lookupDataSource(c.from.data),"time"in this.encoding&&(c.from.data=c.from.data+"_curr")),c.from?.facet?.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c);const a=td(t.mark)?{...t.mark}:{type:t.mark},l=a.type;void 0===a.filled&&(a.filled=function Sgt(e,t,{graticule:i}){if(i)return!1;const r=c0("filled",e,t),o=e.type;return Os(r,o!==KC&&o!==YC&&o!==XC)}(a,s,{graticule:t.data&&EV(t.data)}));const u=this.encoding=function N1t(e,t,i,r){const o={};for(const s of Yt(e))bge(s)||cn(Oht(s));for(let s of L0t){if(!e[s])continue;const a=e[s];if(x9(s)){const l=P0t(s),u=o[l];if(gn(u)&&Opt(u.type)&&gn(a)&&!u.timeUnit){cn(xht(l));continue}}if("angle"===s&&"arc"===t&&!e.theta&&(cn("Arc marks uses theta channel rather than angle, replacing angle with theta."),s=Jc),T1t(e,s,t))if(s===gh&&"line"===t&&rd(e[s])?.aggregate)cn("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");else if(s===Du&&(i?"fill"in e:"stroke"in e))cn(Yge("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(s===D9||s===N5&&!Pt(a)&&!id(a)||s===rm&&Pt(a)){if(a){if(s===N5){const l=e[s];if(Hme(l)){o[s]=l;continue}}o[s]=Un(a).reduce((l,u)=>(gn(u)?l.push(JU(u,s)):cn(SU(u,s)),l),[])}}else{if(s===rm&&null===a)o[s]=null;else if(!(gn(a)||p0(a)||id(a)||R9(a)||ci(a))){cn(SU(a,s));continue}o[s]=Kme(a,s,r)}else cn(VC(s,t))}return o}(t.encoding||{},l,a.filled,s);this.markDef=k2e(a,u,s),this.size=function T8t({encoding:e,size:t}){for(const i of vh){const r=Mu(i);g0(t[r])&&a1(e[i])&&(delete t[r],cn(Xge(r)))}return t}({encoding:u,size:D2e(t)?{...o,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:o}),this.stack=R2e(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>cV(c))}get hasProjection(){const{encoding:t}=this,i=this.mark===Cme,r=t&&O0t.some(o=>Gi(t[o]));return i||r}scaleDomain(t){const i=this.specifiedScales[t];return i?i.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,i){return gU.reduce((r,o)=>{const s=ia(i[o]);return s&&(r[o]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:i,range:r}=t,o=Va(t);return Pt(i)&&(o.domain=i.map(dc)),Pt(r)&&(o.range=r.map(dc)),o}initAxes(t){return vh.reduce((i,r)=>{const o=t[r];if(Gi(o)||r===Zo&&Gi(t.x2)||r===ba&&Gi(t.y2)){const s=Gi(o)?o.axis:void 0;i[r]=s&&this.initAxis({...s})}return i},{})}initAxis(t){const i=Yt(t),r={};for(const o of i){const s=t[o];r[o]=P9(s)?Nge(s):dc(s)}return r}initLegends(t){return U0t.reduce((i,r)=>{const o=ia(t[r]);if(o&&function H0t(e){switch(e){case Du:case s0:case a0:case gh:case xu:case mh:case Jp:case e1:return!0;case Zp:case Qp:case im:case Xp:return!1}}(r)){const s=o.legend;i[r]=s&&Va(s)}return i},{})}parseData(){this.component.data=jD(this)}parseLayoutSize(){!function d8t(e){const{size:t,component:i}=e;for(const r of vh){const o=Mu(r);if(t[o]){const s=t[o];i.layoutSize.set(o,g0(s)?"step":s,!0)}else{const s=h8t(e,o);i.layoutSize.set(o,s,!1)}}}(this)}parseSelections(){this.component.selection=function n3t(e,t){const i={},r=e.config.selection;if(!t||!t.length)return i;let o=0;for(const s of t){const a=Xo(s.name),l=s.select,u=Bn(l)?l:l.type,c=Ln(l)?zi(l):{type:u},f=r[u];for(const p in f)"fields"===p||"encodings"===p||("mark"===p&&(c.mark={...f.mark,...c.mark}),(void 0===c[p]||!0===c[p])&&(c[p]=zi(f[p]??c[p])));const d=i[a]={...c,name:a,type:u,init:s.value,bind:s.bind,events:Bn(c.on)?Gp(c.on,"scope"):Un(zi(c.on))};if(_0(d)&&(o++,o>1)){delete i[a];continue}const h=zi(s);for(const p of ED)p.defined(d)&&p.parse&&p.parse(e,d,h)}return o>1&&cn("Multiple timer selections in one unit spec are not supported. Ignoring all but the first."),i}(this,this.selection)}parseMarkGroup(){this.component.mark=function G8t(e){if(Ar([YC,GC,Kpt],e.mark)){const t=a2e(e.mark,e.encoding);if(t.length>0)return function W8t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:e8e+e.requestDataName(Qo.Main),data:e.requestDataName(Qo.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:_H(e,{fromPrefix:e8e})}]}(e,t)}else if(e.mark===WC){const t=_U.some(i=>So(i,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return function Y8t(e){const[t]=_H(e,{fromPrefix:t8e}),i=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),o=(c,f)=>`${c}(${[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})].map(h=>`scale('${i}',${h})`).join(",")})`;let s,a;"x"===e.stack.fieldChannel?(s={...D5(t.encode.update,["y","yc","y2","height",..._U]),x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Cu(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...D5(t.encode.update,["x","xc","x2","width"]),y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Cu(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of _U){const f=c0(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):f&&(s[c]=Uo(f)),f&&(t.encode.update[c]={value:0})}const l=[];if(e.stack.groupbyChannels?.length>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=Tn(f);d&&l.push(d),(f?.bin||f?.timeUnit)&&l.push(Tn(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=c0(f,e.markDef,e.config);return void 0!==d?{...c,[f]:Uo(d)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Qo.Main),name:t8e+e.requestDataName(Qo.Main),groupby:l,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}(e)}return _H(e)}(this)}parseAxesAndHeaders(){this.component.axes=function w8t(e){return vh.reduce((t,i)=>(e.component.scales[i]&&(t[i]=[A8t(i,e)]),t),{})}(this)}assembleSelectionTopLevelSignals(t){return function mmt(e,t){let i=!1;for(const r of $a(e.component.selection??{})){const o=r.name,s=yn(o+ym);if(0===t.filter(l=>l.name===o).length){const u="point"===r.type?", true, true)":")";t.push({name:r.name,update:`${R3e}(${s}, ${yn("global"===r.resolve?"union":r.resolve)}${u}`})}i=!0;for(const l of ED)l.defined(r)&&l.topLevelSignals&&(t=l.topLevelSignals(e,r,t))}return i&&0===t.filter(o=>"unit"===o.name).length&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),MV(t)}(this,t)}assembleSignals(){return[...Q3e(this),...pmt(this,[])]}assembleSelectionData(t){return function vmt(e,t){const i=[],r=[],o=bm(e,{escape:!1});for(const s of $a(e.component.selection??{})){const a={name:s.name+ym};if(s.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:od}}]),s.init){const u=s.project.items.map(l3e);a.values=s.init.map(s.project.hasSelectionId?c=>({unit:o,[od]:_m(c,!1)[0]}):c=>({unit:o,fields:u,values:_m(c,!1)}))}if([...i,...t].filter(u=>u.name===s.name+ym).length||i.push(a),_0(s)&&t.length){const u=e.lookupDataSource(e.getDataName(Qo.Main)),c=t.find(d=>d.name===u),f=c.transform.find(d=>"filter"===d.type&&d.expr.includes("vlSelectionTest"));f&&(c.transform=c.transform.filter(h=>h!==f),r.push({name:c.name+"_curr",source:c.name,transform:[f]}))}}return i.concat(t,r)}(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return XV(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!J5(this.parent))&&(t=u3e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return vm(this.encoding,t)}fieldDef(t){return rd(this.encoding[t])}typedFieldDef(t){const i=this.fieldDef(t);return Ql(i)?i:null}}class yH extends hH{constructor(t,i,r,o,s){super(t,"layer",i,r,s,t.resolve,t.view);const a={...o,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((l,u)=>{if(hD(l))return new yH(l,this,this.getName(`layer_${u}`),a,s);if(wh(l))return new n8e(l,this,this.getName(`layer_${u}`),a,s);throw new Error(bU(l))})}parseData(){this.component.data=jD(this);for(const t of this.children)t.parseData()}parseLayoutSize(){!function c8t(e){pH(e),qD(e,"width"),qD(e,"height")}(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const i of Yt(t.component.selection))this.component.selection[i]=t.component.selection[i]}Object.values(this.component.selection).some(t=>_0(t))&&DU(EU)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){!function S8t(e){const{axes:t,resolve:i}=e.component,r={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const s of Yt(o.component.axes))i.axis[s]=ZV(e.component.resolve,s),"shared"===i.axis[s]&&(t[s]=C8t(t[s],o.component.axes[s]),t[s]||(i.axis[s]="independent",delete t[s]))}for(const o of vh){for(const s of e.children)if(s.component.axes[o]){if("independent"===i.axis[o]){t[o]=(t[o]??[]).concat(s.component.axes[o]);for(const a of s.component.axes[o]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!ci(l)){if(r[l]>0&&!u){const c=E8t[l];r[l]>r[c]&&a.set("orient",c,!1)}r[l]++}}}delete s.component.axes[o]}if("independent"===i.axis[o]&&t[o]&&t[o].length>1)for(const[s,a]of(t[o]||[]).entries())s>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((i,r)=>r.assembleSelectionTopLevelSignals(i),t)}assembleSignals(){return this.children.reduce((t,i)=>t.concat(i.assembleSignals()),Q3e(this))}assembleLayoutSignals(){return this.children.reduce((t,i)=>t.concat(i.assembleLayoutSignals()),XV(this))}assembleSelectionData(t){return this.children.reduce((i,r)=>r.assembleSelectionData(i),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const o of Un(r.assembleGroupStyle()))t.add(o);const i=Array.from(t);return i.length>1?i:1===i.length?i[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const i of this.children)if(t=i.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return function _mt(e,t){for(const i of e.children)cs(i)&&(t=u3e(i,t));return t}(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,i)=>t.concat(i.assembleLegends()),w5e(this))}}function bH(e,t,i,r,o){if(JC(e))return new J9(e,t,i,o);if(hD(e))return new yH(e,t,i,r,o);if(wh(e))return new n8e(e,t,i,r,o);if(function Q1t(e){return fD(e)||dV(e)||fV(e)}(e))return new v8t(e,t,i,o);throw new Error(bU(e))}function J8t(e,t={}){t.logger&&function fpt(e){f0=e}(t.logger),t.fieldTitle&&Yme(t.fieldTitle);try{const i=I2e(l3(t.config,e.config)),r=W2e(e,i),o=bH(r,null,"",void 0,i);return o.parse(),function C5t(e,t){sH(e.sources);let i=0,r=0;for(let o=0;o<RD&&N5e(e,t,!0);o++)i++;e.sources.map(rH);for(let o=0;o<RD&&N5e(e,t,!1);o++)r++;sH(e.sources),Math.max(i,r)===RD&&cn(`Maximum optimization runs(${RD}) reached.`)}(o.component.data,o),{spec:t6t(o,e6t(e,r.autosize,i,o),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&function tme(){return f0=eme,f0}(),t.fieldTitle&&function S1t(){Yme(Gme)}()}}function e6t(e,t,i,r){const o=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Bn(t)&&(t={type:t}),o&&s&&function rmt(e){return["fit","fit-x","fit-y"].includes(e)}(t.type))if("step"===o&&"step"===s)cn(Vge()),t.type="pad";else if("step"===o||"step"===s){const a="step"===o?"width":"height";cn(Vge(BC(a))),t.type=function omt(e){return e?`fit-${BC(e)}`:"fit"}("width"===a?"height":"width")}return{...1===Yt(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t},...K2e(i,!1),...K2e(e,!0)}}function t6t(e,t,i={},r){const o=e.config?function fgt(e){e=zi(e);for(const t of ugt)delete e[t];if(e.axis)for(const t in e.axis)P9(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of W1t)delete e.legend[t];if(e.mark){for(const t of xme)delete e.mark[t];e.mark.tooltip&&Ln(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(S2e(e.params)),delete e.params);for(const t of lgt){for(const r of xme)delete e[t][r];const i=cgt[t];if(i)for(const r of i)delete e[t][r];hgt(e,t)}for(const t of function G1t(){return Yt(sV)}())delete e[t];!function dgt(e){const{titleMarkConfig:t,subtitleMarkConfig:i,subtitle:r}=Tge(e.title);wo(t)||(e.style["group-title"]={...e.style["group-title"],...t}),wo(i)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...i}),wo(r)?delete e.title:e.title=r}(e);for(const t in e)Ln(e[t])&&wo(e[t])&&delete e[t];return wo(e)?void 0:e}(e.config):void 0,s=function s8t(e,t){const i=[],r=K5e(i);let o=0;for(const a of e.sources){a.hasName()||(a.dataName="source_"+o++);const l=a.assemble();r(a,l)}for(const a of i)0===a.transform.length&&delete a.transform;let s=0;for(const[a,l]of i.entries())0===(l.transform??[]).length&&!l.source&&i.splice(s++,0,i.splice(a,1)[0]);for(const a of i)for(const l of a.transform??[])"lookup"===l.type&&(l.from=e.outputNodes[l.from].getSource());for(const a of i)a.name in t&&(a.values=t[a.name]);return i}(e.component.data,i),a=e.assembleSelectionData(s),l=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),f=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(m=>"width"!==m.name&&"height"!==m.name||void 0===m.value||(t[m.name]=+m.value,!1));const{params:h,...p}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...p,...u?{title:u}:{},...c?{style:c}:{},...f?{encode:{update:f}}:{},data:a,...l.length>0?{projections:l}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...S2e(h)]),...o?{config:o}:{},...r?{usermeta:r}:{}}}const n6t="5.23.0",i8e=function i6t(e){const[t,i]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:i}};const t8="#fff",S6t={background:"#333",view:{stroke:"#888"},title:{color:t8,subtitleColor:t8},style:{"guide-label":{fill:t8},"guide-title":{fill:t8}},axis:{domainColor:t8,gridColor:"#888",tickColor:t8}},Am="#4572a7",C6t={background:"#fff",arc:{fill:Am},area:{fill:Am},line:{stroke:Am,strokeWidth:2},path:{stroke:Am},rect:{fill:Am},shape:{stroke:Am},symbol:{fill:Am,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Tm="#30a2da",wH="#cbcbcb",M6t={arc:{fill:Tm},area:{fill:Tm},axis:{domainColor:wH,grid:!0,gridColor:wH,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:wH,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:Tm,strokeWidth:2},path:{stroke:Tm,strokeWidth:.5},rect:{fill:Tm},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Tm},bar:{binSpacing:2,fill:Tm,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Nm="#000",A6t={group:{fill:"#e5e5e5"},arc:{fill:Nm},area:{fill:Nm},line:{stroke:Nm},path:{stroke:Nm},rect:{fill:Nm},shape:{stroke:Nm},symbol:{fill:Nm,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},a8e="Benton Gothic, sans-serif",Im="#82c6df",EH="Benton Gothic Bold, sans-serif",e7={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},O6t={background:"#ffffff",title:{anchor:"start",color:"#000000",font:EH,fontSize:22,fontWeight:"normal"},arc:{fill:Im},area:{fill:Im},line:{stroke:Im,strokeWidth:2},path:{stroke:Im},rect:{fill:Im},shape:{stroke:Im},symbol:{fill:Im,size:30},axis:{labelFont:a8e,labelFontSize:11.5,labelFontWeight:"normal",titleFont:EH,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:a8e,labelFontSize:11.5,symbolType:"square",titleFont:EH,titleFontSize:13,titleFontWeight:"normal"},range:{category:e7["category-6"],diverging:e7["fireandice-6"],heatmap:e7["fire-7"],ordinal:e7["fire-7"],ramp:e7["fire-7"]}},Om="#ab5787",YD="#979797",R6t={background:"#f9f9f9",arc:{fill:Om},area:{fill:Om},line:{stroke:Om},path:{stroke:Om},rect:{fill:Om},shape:{stroke:Om},symbol:{fill:Om,size:30},axis:{domainColor:YD,domainWidth:.5,gridWidth:.2,labelColor:YD,tickColor:YD,tickWidth:.2,titleColor:YD},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Rm="#3e5c69",k6t={background:"#fff",arc:{fill:Rm},area:{fill:Rm},line:{stroke:Rm},path:{stroke:Rm},rect:{fill:Rm},shape:{stroke:Rm},symbol:{fill:Rm},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},rf="#1696d2",KD="Lato",SH="Lato",t7={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},$6t={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:KD},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:SH,labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:KD},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:SH,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:KD,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:SH,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:KD,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:t7["six-groups-cat-1"],diverging:t7["diverging-colors"],heatmap:t7["diverging-colors"],ordinal:t7["six-groups-seq"],ramp:t7["shades-blue"]},area:{fill:rf},rect:{fill:rf},line:{color:rf,stroke:rf,strokeWidth:5},trail:{color:rf,stroke:rf,strokeWidth:0,size:1},path:{stroke:rf,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:rf,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:rf,stroke:null}},arc:{fill:rf},shape:{stroke:rf},symbol:{fill:rf,size:30}},km="#3366CC",XD="Arial, sans-serif",U6t={arc:{fill:km},area:{fill:km},path:{stroke:km},rect:{fill:km},shape:{stroke:km},symbol:{stroke:km},circle:{fill:km},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:XD,fontSize:12},"guide-title":{font:XD,fontSize:12},"group-title":{font:XD,fontSize:12}},title:{font:XD,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},CH=e=>e*(1/3+1),h8e=CH(9),p8e=CH(10),g8e=CH(12),n7="Segoe UI",m8e="wf_standard-font, helvetica, arial, sans-serif",i7="#605E5C",_8e="transparent",ud="#118DFF",w8e=["#DEEFFF",ud],K6t={view:{stroke:_8e},background:_8e,font:n7,header:{titleFont:m8e,titleFontSize:g8e,titleColor:"#252423",labelFont:n7,labelFontSize:p8e,labelColor:i7},axis:{ticks:!1,grid:!1,domain:!1,labelColor:i7,labelFontSize:h8e,titleFont:m8e,titleColor:"#252423",titleFontSize:g8e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:ud},line:{stroke:ud,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:n7,fontSize:h8e,fill:i7},arc:{fill:ud},area:{fill:ud,line:!0,opacity:.6},path:{stroke:ud},rect:{fill:ud},point:{fill:ud,filled:!0,size:75},shape:{stroke:ud},symbol:{fill:ud,strokeWidth:1.5,size:50},legend:{titleFont:n7,titleFontWeight:"bold",titleColor:i7,labelFont:n7,labelFontSize:p8e,labelColor:i7,symbolType:"circle",symbolSize:75},range:{category:[ud,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:w8e,heatmap:w8e,ordinal:["#DEEFFF","#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",ud]}},DH='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',X6t='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',xH=400,ZD={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Z6t=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Q6t=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function QD({theme:e,background:t}){const i=["white","g10"].includes(e)?"light":"dark",r=ZD.gridBg[e],o=ZD.textPrimary[e],s=ZD.textSecondary[e],l="dark"===i?"#d4bbff":"#6929c4";return{background:t,arc:{fill:l},area:{fill:l},path:{stroke:l},rect:{fill:l},shape:{stroke:l},symbol:{stroke:l},circle:{fill:l},view:{fill:r,stroke:r},group:{fill:r},title:{color:o,anchor:"start",dy:-15,fontSize:16,font:DH,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:X6t,labelFontWeight:xH,titleColor:o,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:ZD.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:DH,fill:s,fontWeight:xH},"guide-title":{font:DH,fill:s,fontWeight:xH}},range:{category:"dark"===i?Z6t:Q6t,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const J6t=QD({theme:"white",background:"#ffffff"}),e4t=QD({theme:"g10",background:"#f4f4f4"}),t4t=QD({theme:"g90",background:"#262626"}),n4t=QD({theme:"g100",background:"#161616"}),i4t="2.15.0";function E8e(e,t){return JSON.stringify(e,function x4t(e){const t=[];return function(i,r){if("object"!=typeof r||null===r)return r;const o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}const S8e="vg-tooltip-element",A4t={offsetX:10,offsetY:10,id:S8e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function T4t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function D4t(e,t,i,r){if(Pt(e))return`[${e.map(o=>t(Bn(o)?o:E8e(o,i))).join(", ")}]`;if(Ln(e)){let o="";const{title:s,image:a,...l}=e;s&&(o+=`<h2>${t(s)}</h2>`),a&&(o+=`<img src="${new URL(t(a),r||location.href).href}">`);const u=Object.keys(l);if(u.length>0){o+="<table>";for(const c of u){let f=l[c];void 0!==f&&(Ln(f)&&(f=E8e(f,i)),o+=`<tr><td class="key">${t(c)}</td><td class="value">${t(f)}</td></tr>`)}o+="</table>"}return o||"{}"}return t(e)},baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function C8e(e,t,{offsetX:i,offsetY:r}){const o=D8e({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,i,r),s=["bottom-right","bottom-left","top-right","top-left"];for(const a of s)if(x8e(o[a],t))return o[a];return o["top-left"]}function D8e(e,t,i,r){const a=e.x1-t.width-i,l=(e.x1+e.x2)/2-t.width/2,u=e.x2+i,c=e.y1-t.height-r,f=(e.y1+e.y2)/2-t.height/2,d=e.y2+r;return{top:{x:l,y:c},bottom:{x:l,y:d},left:{x:a,y:f},right:{x:u,y:f},"top-left":{x:a,y:c},"top-right":{x:u,y:c},"bottom-left":{x:a,y:d},"bottom-right":{x:u,y:d}}}function x8e(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function R4t(e,t,i){return e.clientX>=t.x&&e.clientX<=t.x+i.width&&e.clientY>=t.y&&e.clientY<=t.y+i.height}class M8e{constructor(t){this.options={...A4t,...t};const i=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function N4t(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(S8e,e)}(i);const o=document.head;o.childNodes.length>0?o.insertBefore(r,o.childNodes[0]):o.appendChild(r)}}tooltipHandler(t,i,r,o){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),null==o||""===o)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:a}="mark"===this.options.anchor?function I4t(e,t,i,r,o){const{position:s,offsetX:a,offsetY:l}=o,f=function O4t(e,t,i){const r=i.isVoronoi?i.datum.bounds:i.bounds;let o=e.left+t[0]+r.x1,s=e.top+t[1]+r.y1,a=i;for(;a.mark.group;)a=a.mark.group,o+=a.x??0,s+=a.y??0;return{x1:o,x2:o+(r.x2-r.x1),y1:s,y2:s+(r.y2-r.y1)}}(e._el.getBoundingClientRect(),e._origin,i),d=D8e(f,r,a,l),h=Array.isArray(s)?s:[s];for(const p of h)if(x8e(d[p],r)&&!R4t(t,d[p],r))return d[p];return C8e(t,r,o)}(t,i,r,this.el.getBoundingClientRect(),this.options):C8e(i,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${a}px`,this.el.style.left=`${s}px`}}var k4t=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F4t=Object.prototype.hasOwnProperty;function MH(e,t){return F4t.call(e,t)}function AH(e){if(Array.isArray(e)){for(var t=new Array(e.length),i=0;i<t.length;i++)t[i]=""+i;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)MH(e,o)&&r.push(o);return r}function gc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function TH(e){for(var r,t=0,i=e.length;t<i;){if(!((r=e.charCodeAt(t))>=48&&r<=57))return!1;t++}return!0}function Fm(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function A8e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function NH(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,i=e.length;t<i;t++)if(NH(e[t]))return!0}else if("object"==typeof e)for(var r=AH(e),o=r.length,s=0;s<o;s++)if(NH(e[r[s]]))return!0;return!1}function T8e(e,t){var i=[e];for(var r in t){var o="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];typeof o<"u"&&i.push(r+": "+o)}return i.join("\n")}var N8e=function(e){function t(i,r,o,s,a){var l=this.constructor,u=e.call(this,T8e(i,{name:r,index:o,operation:s,tree:a}))||this;return u.name=r,u.index=o,u.operation=s,u.tree=a,Object.setPrototypeOf(u,l.prototype),u.message=T8e(i,{name:r,index:o,operation:s,tree:a}),u}return k4t(t,e),t}(Error),Ss=N8e,n8={add:function(e,t,i){return e[t]=this.value,{newDocument:i}},remove:function(e,t,i){var r=e[t];return delete e[t],{newDocument:i,removed:r}},replace:function(e,t,i){var r=e[t];return e[t]=this.value,{newDocument:i,removed:r}},move:function(e,t,i){var r=JD(i,this.path);r&&(r=gc(r));var o=Pm(i,{op:"remove",path:this.from}).removed;return Pm(i,{op:"add",path:this.path,value:o}),{newDocument:i,removed:r}},copy:function(e,t,i){var r=JD(i,this.from);return Pm(i,{op:"add",path:this.path,value:gc(r)}),{newDocument:i}},test:function(e,t,i){return{newDocument:i,test:r7(e[t],this.value)}},_get:function(e,t,i){return this.value=e[t],{newDocument:i}}},L4t={add:function(e,t,i){return TH(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:i,index:t}},remove:function(e,t,i){return{newDocument:i,removed:e.splice(t,1)[0]}},replace:function(e,t,i){var r=e[t];return e[t]=this.value,{newDocument:i,removed:r}},move:n8.move,copy:n8.copy,test:n8.test,_get:n8._get};function JD(e,t){if(""==t)return e;var i={op:"_get",path:t};return Pm(e,i),i.value}function Pm(e,t,i,r,o,s){if(void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=0),i&&("function"==typeof i?i(t,0,e,t.path):tx(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=JD(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=r7(e,t.value),!1===a.test)throw new Ss("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(i)throw new Ss("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return a}r||(e=gc(e));var u=(t.path||"").split("/"),c=e,f=1,d=u.length,h=void 0,p=void 0,m=void 0;for(m="function"==typeof i?i:tx;;){if((p=u[f])&&-1!=p.indexOf("~")&&(p=A8e(p)),o&&("__proto__"==p||"prototype"==p&&f>0&&"constructor"==u[f-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(i&&void 0===h&&(void 0===c[p]?h=u.slice(0,f).join("/"):f==d-1&&(h=t.path),void 0!==h&&m(t,0,e,h)),f++,Array.isArray(c)){if("-"===p)p=c.length;else{if(i&&!TH(p))throw new Ss("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);TH(p)&&(p=~~p)}if(f>=d){if(i&&"add"===t.op&&p>c.length)throw new Ss("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(a=L4t[t.op].call(t,c,p,e)).test)throw new Ss("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}}else if(f>=d){if(!1===(a=n8[t.op].call(t,c,p,e)).test)throw new Ss("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}if(c=c[p],i&&f<d&&(!c||"object"!=typeof c))throw new Ss("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}function ex(e,t,i,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),i&&!Array.isArray(t))throw new Ss("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=gc(e));for(var s=new Array(t.length),a=0,l=t.length;a<l;a++)s[a]=Pm(e,t[a],i,!0,o,a),e=s[a].newDocument;return s.newDocument=e,s}function tx(e,t,i,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new Ss("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,i);if(!n8[e.op])throw new Ss("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,i);if("string"!=typeof e.path)throw new Ss("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,i);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Ss('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Ss("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Ss("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&NH(e.value))throw new Ss("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,s=r.split("/").length;if(o!==s+1&&o!==s)throw new Ss("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new Ss("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,i)}else if("move"===e.op||"copy"===e.op){var l=I8e([{op:"_get",path:e.from,value:void 0}],i);if(l&&"OPERATION_PATH_UNRESOLVABLE"===l.name)throw new Ss("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,i)}}function I8e(e,t,i){try{if(!Array.isArray(e))throw new Ss("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ex(gc(t),gc(e),i||!0);else{i=i||tx;for(var r=0;r<e.length;r++)i(e[r],r,t,void 0)}}catch(o){if(o instanceof Ss)return o;throw o}}function r7(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var o,s,a,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((s=e.length)!=t.length)return!1;for(o=s;0!=o--;)if(!r7(e[o],t[o]))return!1;return!0}if(i!=r)return!1;var l=Object.keys(e);if((s=l.length)!==Object.keys(t).length)return!1;for(o=s;0!=o--;)if(!t.hasOwnProperty(l[o]))return!1;for(o=s;0!=o--;)if(!r7(e[a=l[o]],t[a]))return!1;return!0}return e!=e&&t!=t}var $4t=Object.freeze({__proto__:null,JsonPatchError:Ss,_areEquals:r7,applyOperation:Pm,applyPatch:ex,applyReducer:function B4t(e,t,i){var r=Pm(e,t);if(!1===r.test)throw new Ss("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return r.newDocument},deepClone:gc,getValueByPointer:JD,validate:I8e,validator:tx}),IH=new WeakMap,U4t=function e(t){this.observers=new Map,this.obj=t},V4t=function e(t,i){this.callback=t,this.observer=i};function OH(e,t){void 0===t&&(t=!1);var i=IH.get(e.object);RH(i.value,e.object,e.patches,"",t),e.patches.length&&ex(i.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function RH(e,t,i,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=AH(t),a=AH(e),l=!1,u=a.length-1;u>=0;u--){var f=e[c=a[u]];if(!MH(t,c)||void 0===t[c]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&i.push({op:"test",path:r+"/"+Fm(c),value:gc(f)}),i.push({op:"remove",path:r+"/"+Fm(c)}),l=!0):(o&&i.push({op:"test",path:r,value:e}),i.push({op:"replace",path:r,value:t}));else{var d=t[c];"object"==typeof f&&null!=f&&"object"==typeof d&&null!=d&&Array.isArray(f)===Array.isArray(d)?RH(f,d,i,r+"/"+Fm(c),o):f!==d&&(o&&i.push({op:"test",path:r+"/"+Fm(c),value:gc(f)}),i.push({op:"replace",path:r+"/"+Fm(c),value:gc(d)}))}}if(l||s.length!=a.length)for(u=0;u<s.length;u++){var c;!MH(e,c=s[u])&&void 0!==t[c]&&i.push({op:"add",path:r+"/"+Fm(c),value:gc(t[c])})}}}var kH,O8e,FH,R8e,Y4t=Object.freeze({__proto__:null,compare:function W4t(e,t,i){void 0===i&&(i=!1);var r=[];return RH(e,t,r,"",i),r},generate:OH,observe:function G4t(e,t){var r,o=function H4t(e){return IH.get(e)}(e);if(o){var s=function z4t(e,t){return e.observers.get(t)}(o,t);r=s&&s.observer}else o=new U4t(e),IH.set(e,o);if(r)return r;if(r={},o.value=gc(e),t){r.callback=t,r.next=null;var a=function(){OH(r)},l=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return r.patches=[],r.object=e,r.unobserve=function(){OH(r),clearTimeout(r.next),function q4t(e,t){e.observers.delete(t.callback)}(o,r),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new V4t(t,r)),r},unobserve:function j4t(e,t){t.unobserve()}});function K4t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PH(){if(R8e)return FH;R8e=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return FH=r=>r?"object"!=typeof r?e:r:t}Object.assign({},$4t,Y4t,{JsonPatchError:N8e,deepClone:gc,escapePathComponent:Fm,unescapePathComponent:A8e});var LH,k8e,$H,F8e,P8e,VH,L8e,HH,B8e,qH,$8e,jH,U8e,GH,V8e,WH,H8e,YH,z8e,KH,q8e,XH,j8e,ZH,G8e,QH,W8e,JH,Y8e,ez,X8e,nx={exports:{}};function BH(){return k8e?LH:(k8e=1,LH={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2})}function ix(){return F8e||(F8e=1,$H="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),$H}function UH(){return P8e||(P8e=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=BH(),s=ix(),a=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[d,r]],m=(v,_,y)=>{const w=(v=>{for(const[_,y]of h)v=v.split(`${_}*`).join(`${_}{0,${y}}`).split(`${_}+`).join(`${_}{1,${y}}`);return v})(_),S=f++;s(v,S,_),c[v]=S,u[S]=_,a[S]=new RegExp(_,y?"g":void 0),l[S]=new RegExp(w,y?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),m("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${d}+`),m("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),m("FULL",`^${u[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),m("LOOSE",`^${u[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),m("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),m("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?(?:${u[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",u[c.COERCE],!0),m("COERCERTLFULL",u[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(nx,nx.exports)),nx.exports}function zH(){if(B8e)return HH;B8e=1;const e=ix(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:i}=BH(),{safeRe:r,t:o}=UH(),s=PH(),{compareIdentifiers:a}=function Z4t(){if(L8e)return VH;L8e=1;const e=/^[0-9]+$/,t=(r,o)=>{const s=e.test(r),a=e.test(o);return s&&a&&(r=+r,o=+o),r===o?0:s&&!a?-1:a&&!s?1:r<o?-1:1};return VH={compareIdentifiers:t,rcompareIdentifiers:(r,o)=>t(o,r)}}();class l{constructor(c,f){if(f=s(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if("string"!=typeof c)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const d=c.trim().match(f.loose?r[o.LOOSE]:r[o.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=d[4]?d[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const p=+h;if(p>=0&&p<i)return p}return h}):[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if("string"==typeof c&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),a(this.major,c.major)||a(this.minor,c.minor)||a(this.patch,c.patch)}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{const d=this.prerelease[f],h=c.prerelease[f];if(e("prerelease compare",f,d,h),void 0===d&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===d)return-1;if(d!==h)return a(d,h)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{const d=this.build[f],h=c.build[f];if(e("build compare",f,d,h),void 0===d&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===d)return-1;if(d!==h)return a(d,h)}while(++f)}inc(c,f,d){switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,d),this.inc("pre",f,d);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",f,d),this.inc("pre",f,d);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(d)?1:0;if(!f&&!1===d)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[h];else{let p=this.prerelease.length;for(;--p>=0;)"number"==typeof this.prerelease[p]&&(this.prerelease[p]++,p=-2);if(-1===p){if(f===this.prerelease.join(".")&&!1===d)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(f){let p=[f,h];!1===d&&(p=[f]),0===a(this.prerelease[0],f)?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return HH=l}function i8(){if($8e)return qH;$8e=1;const e=zH();return qH=(i,r,o)=>new e(i,o).compare(new e(r,o))}function K8e(){if(Y8e)return JH;Y8e=1;const e=/\s+/g;class t{constructor(P,$){if($=o($),P instanceof t)return P.loose===!!$.loose&&P.includePrerelease===!!$.includePrerelease?P:new t(P.raw,$);if(P instanceof s)return this.raw=P.value,this.set=[[P]],this.formatted=void 0,this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=P.trim().replace(e," "),this.set=this.raw.split("||").map(Q=>this.parseRange(Q.trim())).filter(Q=>Q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Q=this.set[0];if(this.set=this.set.filter(j=>!v(j[0])),0===this.set.length)this.set=[Q];else if(this.set.length>1)for(const j of this.set)if(1===j.length&&_(j[0])){this.set=[j];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let P=0;P<this.set.length;P++){P>0&&(this.formatted+="||");const $=this.set[P];for(let Q=0;Q<$.length;Q++)Q>0&&(this.formatted+=" "),this.formatted+=$[Q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(P){const Q=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+P,j=r.get(Q);if(j)return j;const J=this.options.loose;P=P.replace(J?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE],ve(this.options.includePrerelease)),a("hyphen replace",P),P=P.replace(u[c.COMPARATORTRIM],f),a("comparator trim",P),P=P.replace(u[c.TILDETRIM],d),a("tilde trim",P),P=P.replace(u[c.CARETTRIM],h),a("caret trim",P);let _e=P.split(" ").map(qe=>w(qe,this.options)).join(" ").split(/\s+/).map(qe=>ee(qe,this.options));J&&(_e=_e.filter(qe=>(a("loose invalid filter",qe,this.options),!!qe.match(u[c.COMPARATORLOOSE])))),a("range list",_e);const Se=new Map,Be=_e.map(qe=>new s(qe,this.options));for(const qe of Be){if(v(qe))return[qe];Se.set(qe.value,qe)}Se.size>1&&Se.has("")&&Se.delete("");const Oe=[...Se.values()];return r.set(Q,Oe),Oe}intersects(P,$){if(!(P instanceof t))throw new TypeError("a Range is required");return this.set.some(Q=>y(Q,$)&&P.set.some(j=>y(j,$)&&Q.every(J=>j.every(re=>J.intersects(re,$)))))}test(P){if(!P)return!1;if("string"==typeof P)try{P=new l(P,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(pe(this.set[$],P,this.options))return!0;return!1}}JH=t;const i=function X4t(){return O8e?kH:(O8e=1,kH=class e{constructor(){this.max=1e3,this.map=new Map}get(i){const r=this.map.get(i);if(void 0!==r)return this.map.delete(i),this.map.set(i,r),r}delete(i){return this.map.delete(i)}set(i,r){if(!this.delete(i)&&void 0!==r){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(i,r)}return this}})}(),r=new i,o=PH(),s=function ovt(){if(W8e)return QH;W8e=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,d){if(d=i(d),f instanceof t){if(f.loose===!!d.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),a("comparator",f,d),this.options=d,this.loose=!!d.loose,this.parse(f),this.value=this.semver===e?"":this.operator+this.semver.version,a("comp",this)}parse(f){const h=f.match(this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR]);if(!h)throw new TypeError(`Invalid comparator: ${f}`);this.operator=void 0!==h[1]?h[1]:"","="===this.operator&&(this.operator=""),this.semver=h[2]?new l(h[2],this.options.loose):e}toString(){return this.value}test(f){if(a("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if("string"==typeof f)try{f=new l(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,d){if(!(f instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(f.value,d).test(this.value):""===f.operator?""===f.value||new u(this.value,d).test(f.semver):!((d=i(d)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===f.value)||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,d)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,d)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}QH=t;const i=PH(),{safeRe:r,t:o}=UH(),s=function rvt(){if(G8e)return ZH;G8e=1;const e=function Q4t(){if(U8e)return jH;U8e=1;const e=i8();return jH=(i,r,o)=>0===e(i,r,o)}(),t=function J4t(){if(V8e)return GH;V8e=1;const e=i8();return GH=(i,r,o)=>0!==e(i,r,o)}(),i=function evt(){if(H8e)return WH;H8e=1;const e=i8();return WH=(i,r,o)=>e(i,r,o)>0}(),r=function tvt(){if(z8e)return YH;z8e=1;const e=i8();return YH=(i,r,o)=>e(i,r,o)>=0}(),o=function nvt(){if(q8e)return KH;q8e=1;const e=i8();return KH=(i,r,o)=>e(i,r,o)<0}(),s=function ivt(){if(j8e)return XH;j8e=1;const e=i8();return XH=(i,r,o)=>e(i,r,o)<=0}();return ZH=(l,u,c,f)=>{switch(u){case"===":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l===c;case"!==":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,f);case"!=":return t(l,c,f);case">":return i(l,c,f);case">=":return r(l,c,f);case"<":return o(l,c,f);case"<=":return s(l,c,f);default:throw new TypeError(`Invalid operator: ${u}`)}}}(),a=ix(),l=zH(),u=K8e();return QH}(),a=ix(),l=zH(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:h}=UH(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=BH(),v=R=>"<0.0.0-0"===R.value,_=R=>""===R.value,y=(R,P)=>{let $=!0;const Q=R.slice();let j=Q.pop();for(;$&&Q.length;)$=Q.every(J=>j.intersects(J,P)),j=Q.pop();return $},w=(R,P)=>(a("comp",R,P),R=F(R,P),a("caret",R),R=M(R,P),a("tildes",R),R=H(R,P),a("xrange",R),R=oe(R,P),a("stars",R),R),S=R=>!R||"x"===R.toLowerCase()||"*"===R,M=(R,P)=>R.trim().split(/\s+/).map($=>A($,P)).join(" "),A=(R,P)=>R.replace(P.loose?u[c.TILDELOOSE]:u[c.TILDE],(Q,j,J,re,_e)=>{let Se;return a("tilde",R,Q,j,J,re,_e),S(j)?Se="":S(J)?Se=`>=${j}.0.0 <${+j+1}.0.0-0`:S(re)?Se=`>=${j}.${J}.0 <${j}.${+J+1}.0-0`:_e?(a("replaceTilde pr",_e),Se=`>=${j}.${J}.${re}-${_e} <${j}.${+J+1}.0-0`):Se=`>=${j}.${J}.${re} <${j}.${+J+1}.0-0`,a("tilde return",Se),Se}),F=(R,P)=>R.trim().split(/\s+/).map($=>N($,P)).join(" "),N=(R,P)=>{a("caret",R,P);const Q=P.includePrerelease?"-0":"";return R.replace(P.loose?u[c.CARETLOOSE]:u[c.CARET],(j,J,re,_e,Se)=>{let Be;return a("caret",R,j,J,re,_e,Se),S(J)?Be="":S(re)?Be=`>=${J}.0.0${Q} <${+J+1}.0.0-0`:S(_e)?Be="0"===J?`>=${J}.${re}.0${Q} <${J}.${+re+1}.0-0`:`>=${J}.${re}.0${Q} <${+J+1}.0.0-0`:Se?(a("replaceCaret pr",Se),Be="0"===J?"0"===re?`>=${J}.${re}.${_e}-${Se} <${J}.${re}.${+_e+1}-0`:`>=${J}.${re}.${_e}-${Se} <${J}.${+re+1}.0-0`:`>=${J}.${re}.${_e}-${Se} <${+J+1}.0.0-0`):(a("no pr"),Be="0"===J?"0"===re?`>=${J}.${re}.${_e}${Q} <${J}.${re}.${+_e+1}-0`:`>=${J}.${re}.${_e}${Q} <${J}.${+re+1}.0-0`:`>=${J}.${re}.${_e} <${+J+1}.0.0-0`),a("caret return",Be),Be})},H=(R,P)=>(a("replaceXRanges",R,P),R.split(/\s+/).map($=>K($,P)).join(" ")),K=(R,P)=>(R=R.trim()).replace(P.loose?u[c.XRANGELOOSE]:u[c.XRANGE],(Q,j,J,re,_e,Se)=>{a("xRange",R,Q,j,J,re,_e,Se);const Be=S(J),Oe=Be||S(re),qe=Oe||S(_e);return"="===j&&qe&&(j=""),Se=P.includePrerelease?"-0":"",Be?Q=">"===j||"<"===j?"<0.0.0-0":"*":j&&qe?(Oe&&(re=0),_e=0,">"===j?(j=">=",Oe?(J=+J+1,re=0,_e=0):(re=+re+1,_e=0)):"<="===j&&(j="<",Oe?J=+J+1:re=+re+1),"<"===j&&(Se="-0"),Q=`${j+J}.${re}.${_e}${Se}`):Oe?Q=`>=${J}.0.0${Se} <${+J+1}.0.0-0`:qe&&(Q=`>=${J}.${re}.0${Se} <${J}.${+re+1}.0-0`),a("xRange return",Q),Q}),oe=(R,P)=>(a("replaceStars",R,P),R.trim().replace(u[c.STAR],"")),ee=(R,P)=>(a("replaceGTE0",R,P),R.trim().replace(u[P.includePrerelease?c.GTE0PRE:c.GTE0],"")),ve=R=>(P,$,Q,j,J,re,_e,Se,Be,Oe,qe,Dt)=>`${$=S(Q)?"":S(j)?`>=${Q}.0.0${R?"-0":""}`:S(J)?`>=${Q}.${j}.0${R?"-0":""}`:re?`>=${$}`:`>=${$}${R?"-0":""}`} ${Se=S(Be)?"":S(Oe)?`<${+Be+1}.0.0-0`:S(qe)?`<${Be}.${+Oe+1}.0-0`:Dt?`<=${Be}.${Oe}.${qe}-${Dt}`:R?`<${Be}.${Oe}.${+qe+1}-0`:`<=${Se}`}`.trim(),pe=(R,P,$)=>{for(let Q=0;Q<R.length;Q++)if(!R[Q].test(P))return!1;if(P.prerelease.length&&!$.includePrerelease){for(let Q=0;Q<R.length;Q++)if(a(R[Q].semver),R[Q].semver!==s.ANY&&R[Q].semver.prerelease.length>0){const j=R[Q].semver;if(j.major===P.major&&j.minor===P.minor&&j.patch===P.patch)return!0}return!1}return!0};return JH}var avt=function svt(){if(X8e)return ez;X8e=1;const e=K8e();return ez=(i,r,o)=>{try{r=new e(r,o)}catch{return!1}return r.test(i)}}(),Z8e=K4t(avt),uvt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Q8e(e,...t){for(const i of t)cvt(e,i);return e}function cvt(e,t){for(const i of Object.keys(t))u3(e,i,t[i],!0)}const w0=lt;let o7=zn;const J8e=typeof window<"u"?window:void 0;void 0===o7&&J8e?.vl?.compile&&(o7=J8e.vl);const Rvt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},kvt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},s7={vega:"Vega","vega-lite":"Vega-Lite"},rx={vega:w0.version,"vega-lite":o7?o7.version:"not available"},Fvt={vega:e=>e,"vega-lite":(e,t)=>o7.compile(e,{config:t}).spec},Pvt='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Lvt="chart-wrapper";function e6e(e,t,i,r){const o=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${i}</body></html>`,a=window.open("");a.document.write(o+e+s),a.document.title=`${s7[r]} JSON Source`}function t6e(e){return!(!e||!("load"in e))}function n6e(e){return t6e(e)?e:w0.loader(e)}function tz(e,t){return nz.apply(this,arguments)}function nz(){return nz=Ks(function*(e,t,i={}){let r,o;Bn(t)?(o=n6e(i.loader),r=JSON.parse(yield o.load(t))):r=t;const s=function Uvt(e){const t=e.usermeta?.embedOptions??{};return Bn(t.defaultStyle)&&(t.defaultStyle=!1),t}(r),a=s.loader;(!o||a)&&(o=n6e(i.loader??a));const l=yield i6e(s,o),u=yield i6e(i,o),c={...Q8e(u,l),config:l3(u.config??{},l.config??{})};return yield function Hvt(e,t){return rz.apply(this,arguments)}(e,r,c,o)}),nz.apply(this,arguments)}function i6e(e,t){return iz.apply(this,arguments)}function iz(){return iz=Ks(function*(e,t){const i=Bn(e.config)?JSON.parse(yield t.load(e.config)):e.config??{},r=Bn(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...i?{config:i}:{}}}),iz.apply(this,arguments)}function rz(){return rz=Ks(function*(e,t,i={},r){const o=i.theme?l3(At[i.theme],i.config??{}):i.config,s=lp(i.actions)?i.actions:Q8e({},Rvt,i.actions??{}),a={...kvt,...i.i18n},l=i.renderer??"canvas",u=i.logLevel??w0.Warn,c=i.downloadFileName??"visualization",f="string"==typeof e?document.querySelector(e):e;if(!f)throw new Error(`${e} does not exist`);if(!1!==i.defaultStyle){const A="vega-embed-style",{root:F,rootContainer:N}=function Vvt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}(f);if(!F.getElementById(A)){const H=document.createElement("style");H.id=A,H.innerHTML=void 0===i.defaultStyle||!0===i.defaultStyle?uvt.toString():i.defaultStyle,N.appendChild(H)}}const d=function $vt(e,t){if(e.$schema){const i=i8e(e.$schema);t&&t!==i.library&&console.warn(`The given visualization spec is written in ${s7[i.library]}, but mode argument sets ${s7[t]??t}.`);const r=i.library;return Z8e(rx[r],`^${i.version.slice(1)}`)||console.warn(`The input spec uses ${s7[r]} ${i.version}, but the current version of ${s7[r]} is v${rx[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}(t,i.mode);let h=Fvt[d](t,o);if("vega-lite"===d&&h.$schema){const A=i8e(h.$schema);Z8e(rx.vega,`^${A.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${A.version}, but current version is v${rx.vega}.`)}f.classList.add("vega-embed"),s&&f.classList.add("has-actions"),f.innerHTML="";let p=f;if(s){const A=document.createElement("div");A.classList.add(Lvt),f.appendChild(A),p=A}const m=i.patch;if(m&&(h=m instanceof Function?m(h):ex(h,m,!0,!1).newDocument),i.formatLocale&&w0.formatLocale(i.formatLocale),i.timeFormatLocale&&w0.timeFormatLocale(i.timeFormatLocale),i.expressionFunctions)for(const A in i.expressionFunctions){const F=i.expressionFunctions[A];"fn"in F?w0.expressionFunction(A,F.fn,F.visitor):F instanceof Function&&w0.expressionFunction(A,F)}const{ast:v}=i,_=w0.parse(h,"vega-lite"===d?{}:o,{ast:v}),y=new(i.viewClass||w0.View)(_,{loader:r,logLevel:u,renderer:l,...v?{expr:w0.expressionInterpreter??i.expr??D0t}:{}});if(y.addSignalListener("autosize",(A,F)=>{const{type:N}=F;"fit-x"==N?(p.classList.add("fit-x"),p.classList.remove("fit-y")):"fit-y"==N?(p.classList.remove("fit-x"),p.classList.add("fit-y")):"fit"==N?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),!1!==i.tooltip){const{loader:A,tooltip:F}=i,N=A&&!t6e(A)?A?.baseURL:void 0,H=function Bvt(e){return"function"==typeof e}(F)?F:new M8e({baseURL:N,...!0===F?{}:F}).call;y.tooltip(H)}let S,{hover:w}=i;if(void 0===w&&(w="vega"===d),w){const{hoverSet:A,updateSet:F}="boolean"==typeof w?{}:w;y.hover(A,F)}if(i&&(null!=i.width&&y.width(i.width),null!=i.height&&y.height(i.height),null!=i.padding&&y.padding(i.padding)),yield y.initialize(p,i.bind).runAsync(),!1!==s){let A=f;if(!1!==i.defaultStyle||i.forceActionsMenu){const N=document.createElement("details");N.title=a.CLICK_TO_VIEW_ACTIONS,f.append(N),A=N;const H=document.createElement("summary");H.innerHTML=Pvt,N.append(H),S=K=>{N.contains(K.target)||N.removeAttribute("open")},document.addEventListener("click",S)}const F=document.createElement("div");if(A.append(F),F.classList.add("vega-actions"),!0===s||!1!==s.export)for(const N of["svg","png"])if(!0===s||!0===s.export||s.export[N]){const H=a[`${N.toUpperCase()}_ACTION`],K=document.createElement("a"),oe=Ln(i.scaleFactor)?i.scaleFactor[N]:i.scaleFactor;K.text=H,K.href="#",K.target="_blank",K.download=`${c}.${N}`,K.addEventListener("mousedown",function(){var ee=Ks(function*(ve){ve.preventDefault();const pe=yield y.toImageURL(N,oe);this.href=pe});return function(ve){return ee.apply(this,arguments)}}()),F.append(K)}if(!0===s||!1!==s.source){const N=document.createElement("a");N.text=a.SOURCE_ACTION,N.href="#",N.addEventListener("click",function(H){e6e(GI(t),i.sourceHeader??"",i.sourceFooter??"",d),H.preventDefault()}),F.append(N)}if("vega-lite"===d&&(!0===s||!1!==s.compiled)){const N=document.createElement("a");N.text=a.COMPILED_ACTION,N.href="#",N.addEventListener("click",function(H){e6e(GI(h),i.sourceHeader??"",i.sourceFooter??"","vega"),H.preventDefault()}),F.append(N)}if(!0===s||!1!==s.editor){const N=i.editorUrl??"https://vega.github.io/editor/",H=document.createElement("a");H.text=a.EDITOR_ACTION,H.href="#",H.addEventListener("click",function(K){(function lvt(e,t,i){const r=e.open(t),{origin:a}=new URL(t);let l=40;e.addEventListener("message",function u(f){f.source===r&&(l=0,e.removeEventListener("message",u,!1))},!1),setTimeout(function c(){l<=0||(r.postMessage(i,a),setTimeout(c,250),l-=1)},250)})(window,N,{config:o,mode:m?"vega":d,renderer:l,spec:GI(m?h:t)}),K.preventDefault()}),F.append(H)}}return{view:y,spec:t,vgSpec:h,finalize:function M(){S&&document.removeEventListener("click",S),y.finalize()},embedOptions:i}}),rz.apply(this,arguments)}const zvt=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","config":{"concat":{"spacing":30},"background":null},"resolve":{"scale":{"color":"independent","opacity":"independent"},"legend":{"color":"independent","opacity":"independent"}},"data":{"url":"","format":{"type":"topojson","feature":""}},"transform":[{"lookup":"","from":{"data":{"url":""},"key":"","fields":[]}}],"columns":1,"concat":[]}'),ox=Object.freeze({dataPath:"assets/data/",vegaLiteOptions:Object.freeze({renderer:"canvas",actions:!1,hover:!0,tooltip:!0})}),r6e=[{name:"Categorical",examples:[{sname:"Accent",file:"Accent",code:"accent",function:sUe},{sname:"Category 10",file:"Category10",code:"category10",function:oUe},{sname:"Dark 2",file:"Dark2",code:"dark2",function:aUe},{sname:"Paired",file:"Paired",code:"paired",function:lUe},{sname:"Pastel 1",file:"Pastel1",code:"pastel1",function:uUe},{sname:"Pastel 2",file:"Pastel2",code:"pastel2",function:cUe},{sname:"Set 1",file:"Set1",code:"set1",function:fUe},{sname:"Set 2",file:"Set2",code:"set2",function:dUe},{sname:"Set 3",file:"Set3",code:"set3",function:hUe},{sname:"Tableau 10",file:"Tableau10",code:"tableau10",function:pUe}]},{name:"Sequential Single-Hue",examples:[{sname:"Blues",file:"Blues",code:"blues",function:Wte},{sname:"Greens",file:"Greens",code:"greens",function:Yte},{sname:"Oranges",file:"Oranges",code:"oranges",function:Qte},{sname:"Reds",file:"Reds",code:"reds",function:Zte},{sname:"Purples",file:"Purples",code:"purples",function:Xte},{sname:"Greys",file:"Greys",code:"greys",function:Kte}]},{name:"Sequential Multi-Hue",examples:[{sname:"Turbo",file:"Turbo",code:"turbo",function:function wUe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}},{sname:"Magma",file:"Magma",code:"magma",function:SUe},{sname:"Viridis",file:"Viridis",code:"viridis",function:EUe},{sname:"Inferno",file:"Inferno",code:"inferno",function:CUe},{sname:"Cividis",file:"Cividis",code:"cividis",function:function gUe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}},{sname:"Blue-Green",file:"BuGn",code:"bluegreen",function:Fte},{sname:"Blue-Purple",file:"BuPu",code:"bluepurple",function:Pte},{sname:"Green-Blue",file:"GnBu",code:"greenblue",function:Lte},{sname:"Orange-Red",file:"OrRd",code:"orangered",function:Bte},{sname:"Purple-Blue-Green",file:"PuBuGn",code:"purplebluegreen",function:$te},{sname:"Purple-Blue",file:"PuBu",code:"purpleblue",function:Ute},{sname:"Purple-Red",file:"PuRd",code:"purplered",function:Vte},{sname:"Red-Purple",file:"RdPu",code:"redpurple",function:Hte},{sname:"Yellow-Green-Blue",file:"YlGnBu",code:"yellowgreenblue",function:zte},{sname:"Yellow-Green",file:"YlGn",code:"yellowgreen",function:qte},{sname:"Yellow-Orange-Brown",file:"YlOrBr",code:"yelloworangebrown",function:jte},{sname:"Yellow-Orange-Red",file:"YlOrRd",code:"yelloworangered",function:Gte}]},{name:"Diverging",examples:[{sname:"Brown-Blue-Green",file:"BrBG",code:"brownbluegreen",function:Mte},{sname:"Pink-Yellow-Green",file:"PiYG",code:"pinkyellowgreen",function:Ate},{sname:"Purple-Orange",file:"PuOr",code:"purpleorange",function:Tte},{sname:"Red-Blue",file:"RdBu",code:"redblue",function:Nte},{sname:"Red-Grey",file:"RdGy",code:"redgrey",function:Ite},{sname:"Red-Yellow-Blue",file:"RdYlBu",code:"redyellowblue",function:Ote},{sname:"Red-Yellow-Green",file:"RdYlGn",code:"redyellowgreen",function:Rte},{sname:"Spectral",file:"Spectral",code:"spectral",function:kte}]},{name:"Cyclical",examples:[{sname:"Rainbow",file:"Rainbow",code:"rainbow",function:function vUe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return vb.h=360*e-100,vb.s=1.5-1.5*t,vb.l=.8-.9*t,vb+""}},{sname:"Sinebow",file:"Sinebow",code:"sinebow",function:function bUe(e){var t;return e=(.5-e)*Math.PI,_b.r=255*(t=Math.sin(e))*t,_b.g=255*(t=Math.sin(e+_Ue))*t,_b.b=255*(t=Math.sin(e+yUe))*t,_b+""}}]}];let a7={usa:{featureFile:"us-county-indicators.csv",features:["Life Expectancy (2021)","Life Expectancy (2020)","Adult Obesity Percentage","Infant Mortality Rate","Incarceration Rate","Incarceration_Rate_1k","HIV_Prevalence","Motor Vehicle Death Rate","Secondary Educational Attainment","GINI Index (Income Inequality)","Population Density","Domestic In-Migrants 2010s","Domestic In-Migrants 2010s (norm)","Domestic Net Migrants 2010s","Domestic Net Migrants 2010s (norm)"],labelFeatures:["State","County"],primaryKey:"FIPS_Code"},india:{featureFile:"india-states-uts-indicators.csv",features:["Infant Mortality Rate","Total Fertility Rate (Children per women)","Population Density","Death Rate","Birth Rate","Elementary School Gross Enrolment Ratio (%) - Boys","Elementary School Gross Enrolment Ratio (%) - Girls","Elementary School Gross Enrolment Ratio (%) - Overall","Secondary School Gross Enrolment Ratio (%) - Boys","Secondary School Gross Enrolment Ratio (%) - Girls","Secondary School Gross Enrolment Ratio (%) - Overall","Senior Secondary School Gross Enrolment Ratio (%) - Boys","Senior Secondary School Gross Enrolment Ratio (%) - Girls","Senior Secondary School Gross Enrolment Ratio (%) - Overall","Higher Education Gross Enrolment Ratio (%) - Boys","Higher Education Gross Enrolment Ratio (%) - Girls","Higher Education Gross Enrolment Ratio (%) - Overall"],labelFeatures:["Category"],primaryKey:"State/UT"}},qvt={usa:{county:{geoFile:"us-counties.json",mapProjection:"albersUsa",mapCenter:[98.5795,39.8283],topoPrimaryKey:"id",topoFeatureRootKey:"counties"}},india:{state:{geoFile:"india-states-uts.json",mapProjection:"mercator",mapCenter:[78.9629,20.5937],topoFeatureRootKey:"india-states-uts",topoPrimaryKey:"id"}}},o6e=[{name:"India",code:"india",geographies:[{name:"State",code:"state",features:[]}]},{name:"United States",code:"usa",geographies:[{name:"County",code:"county",features:[]}]}];o6e.forEach(function(e){e.geographies.forEach(function(t){let r=qvt[e.code][t.code];r.featureFile=a7[e.code].featureFile,r.features=a7[e.code].features,r.labelFeatures=a7[e.code].labelFeatures,r.primaryKey=a7[e.code].primaryKey,a7[e.code].features.forEach(function(o){r.feature=o,t.features.push(JSON.parse(JSON.stringify(r)))})})});let s6e=o6e;const a6e="equalInterval",oz="percentile",sz="boxPlot",u6e="standardDeviation",c6e="maximumBreaks",f6e="fisherJenks",d6e="geometricInterval",h6e="specialFrequencyMostFrequentClass";let t9t={unclassed:{name:"Unclassed",description:["No discrete bins; a continuous color ramp spans the range of data values."],longDescription:["This method divides data into a continuous range of values, rather than into a set number of discrete bins; it uses a color ramp, typically progressing from low to high values, to represent the data, with each color in the ramp representing a different range of values."]},definedInterval:{name:"Defined Interval",description:["Number of bins are determined by manually specifying a desired bin interval."],longDescription:["This method defines a series of bins with the same value range. By specifying the interval size and maximum sample size, the number of bins is determined automatically. For example, if the interval size is 75, each bin will span 75 units."]},[a6e]:{name:"Equal Interval",description:["Each bin has the same interval size based on the manually specified number of bins."],longDescription:["This method divides the range of attribute values into equal-sized subranges (intervals). By specifying the number of bins (or intervals), the bin breaks are automatically determined based on the value range. For example, if we specify three bins for an attribute whose values range from 0 to 300, three bins with ranges of 0-100, 101-200, and 201-300 are created. Equal interval is best applied to familiar data ranges, such as percentages and temperature."]},prettyBreaks:{name:"Pretty Breaks",description:["Each bin break is rounded to pretty values (e.g., to two signficant digits) by the user."],longDescription:["This method rounds each bin break up or down into pretty values that are easier to read, understand, and explain, e.g., [0-10] instead of [0-9.364]. These bin intervals are defined based on the data values, user preferences, desired number of bins, and rounding factor."]},[d6e]:{name:"Geometric",description:["Bin intervals follow a geometric progression: a + ar + ar^2 + ... a = constant, r = coefficient."],longDescription:["Originally called 'Smart Quantiles', this method defines bin breaks based on bin intervals that have a geometric series (a + ar + ar^2 + ar^3 + ...) where a is a constant and r is the geometric coefficient. This r can change once (to its inverse) to optimize the bin ranges. This technique is useful for visualizing continuous data that is not distributed normally, or when the distribution is extremely skewed, creating a balance between highlighting changes in the middle values and the extreme values, thereby producing a result that is visually appealing and cartographically comprehensive."]},exponentialClassSize:{name:"Exponential",description:["Number of data records in each successive bin increase (or decrease) exponentially."],longDescription:["This method utilizes an exponential series (a^n) for classification. There are two commonly used variants of this strategy: (1) bin intervals are defined such that the number of observations in each successive interval increases (or decreases) exponentially; (2) bin intervals are defined such that the size of the intervals increases by an exponential factor between each successive interval, e.g., 1-2, 2-4, 4-8, 8-16, 16-32."]},manualInterval:{name:"Manual Interval",description:["Number of bins and corresponding bin breaks are manually specified as per user needs."],longDescription:["This method organizes data into bins based on predetermined criteria or when automated methods are inappropriate or unavailable. Note that this strategy is less explainable and can be time-consuming and error-prone to execute, especially when the dataset is large or complex."]},quantile:{name:"Quantile",description:["Each bin consists of approximately the same number of data observations."],longDescription:["This method defines bin intervals such that the number of observations in each interval is (approximately) the same. For example, if there are 100 data points and one needs 5 equal-sized bins (or quantiles), each bin would then contain 100/5=20 data points. The term quartiles is used when the attribute values are divided into four bins, quintiles for five, sextiles for six, etc. With this strategy, bins are not left empty nor do they have limited or excessive number of values. However, because of the way the bins are grouped, the maps can sometimes be confusing or misleading because the values that are put into the bins can be similar to or very different from one another."]},[oz]:{name:"Percentile",description:["6 Bins: [0,1)%, [1-10)%, [10-50)%, [50%-90)%, [90%-99)%, [99,100]%."],longDescription:["This method, a custom variant of the quantile strategy, defines six unequal bin intervals based on percentiles (%): [0,1), [1,10), [10,50), [50,90), [90,99), [99,100]."]},[sz]:{name:"Box Plot",description:["6 bins: [UQ+1.5*IQR, UQ, M, LQ, LQ-1.5*IQR]. M=median, Q=quartile, IQR=inter-Q range."],longDescription:["This method typically defines six bins: four quartiles plus two classifications for data items that are more than 1.5 times the inter-quartile range (IQR) from the median, enabling quick visualization of the distribution of the data across the region being mapped, as well as identifying any outliers or areas with unusual values."]},[u6e]:{name:"Standard Deviation",description:["2n Bins: [\u03bc - n * \u03c3, ..., \u03bc - \u03c3, \u03bc, \u03bc + \u03c3, ..., \u03bc + n * \u03c3]. \u03bc = mean, \u03c3 = standard deviation."],longDescription:["This method is a way to measure how spread out a dataset is compared to its mean divides. It divides the data into a set of bins such that each bin contains data points that are within a certain number of standard deviations (\u03c3) from the mean (\u03bc) of the data, usually at intervals of 1.0\u03c3 or 0.5\u03c3. There are two commonly used variants of this strategy: (1) bins are defined on either side of the mean and hence there is no central bin and the number of bins is even; (2) one central bin (\u03bc+-0.5\u03c3) and additional bins at \u03bc+-1.0\u03c3 intervals beyond this central bin, for a total odd number of bins."]},[c6e]:{name:"Maximum Breaks",description:["Bins are placed where differences between sorted, successive values are the largest."],longDescription:["Based on the manually specified number of bins, this method defines bin breaks based on the maximum gradients of sorted data values, where a gradient is the difference between successive data values. For each desired bin, this strategy looks at how apart each data value is from the next one in the sorted sequence and accordingly places a break point in between the pairs of values that are most stretched apart from each other."]},[f6e]:{name:"Natural Breaks",description:["Sum of the absolute deviations around the medians of the resultant bins is minimum."],longDescription:["This method defines bins such that they are as homogenous as possible within themselves and as heterogeneous as possible between themselves, by minimizing the within-bin variance and maximizing the between-bin variance, thereby creating bins that are more meaningful and interpretable. There are two commonly used variants of this strategy: (1) Jenks-Caspall minimizes the sum of absolute deviations around bin means; (2) Fisher-Jenks minimizes the sum of the absolute deviations around bin medians. Note that (2) uses a dynamic programming approach as opposed to (1)'s heuristic approach and is hence guaranteed to produce an optimal classification for a prespecified number of bins."]},ckMeans:{name:"CK-Means",description:["Standard deviation (sum of squared Euclidean distances to) of each bin is minimized."],longDescription:["This method heuristically partitions data into k bins such that the sum of squared Euclidean distances to each bin mean is minimized, computing new bin centers until local convergence is achieved. It is slow, not repeatable, and unoptimal; CK-Means is one dynamic programming algorithm for optimal one-dimensional classification."]},headTailBreaks:{name:"Head Tail Breaks",description:["Recursive binning to balance the number of smaller and larger values in each bin."],longDescription:["This method defines bins by recursively splitting data around the iterative means until the distributions within each of the bins no longer displays a heavy-tailed distribution, i.e., there is a balance between the number of smaller and larger values assigned to each bin. This method is particularly effective for data with a heavy-tailed distribution, such as power law and log normal distributions, as it recognizes that there may be far more objects of smaller (than larger) magnitudes."]},resiliency:{name:"Resiliency",description:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],longDescription:["This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning strategies. By adjusting the number of bins as well as bin intervals, this scheme strives to force-fit maximum geographic entities fall in the bin that is most frequently assigned to it; in this way, this scheme rewards consistency and is called resiliency."]}};const n9t=["compareBinFrequencyVisContainer"],i9t=["resiliencyVisContainer"],r9t=["attrDistributionVisContainer"],o9t=["downloadImageCanvas"],s9t=["downloadLink"],r8=function(){return{standalone:!0}};function a9t(e,t){if(1&e){const i=Lr();wt(0,"div",44)(1,"input",45),qn("ngModelChange",function(o){const a=hi(i).$implicit;return pi(Ct().visModel.validBinningMethodsForResiliency[a].selected=o)})("ngModelChange",function(){return hi(i),pi(Ct().updateAllVis())}),Tt(),wt(2,"label",46),ji(3),Tt()()}if(2&e){const i=t.$implicit,r=Ct();yt(1),m2("name","'special-comparison-checkbox-' + ",i,"")("id","'special-comparison-checkbox-' + ",i,""),ht("disabled",r.isCompatibleBinningMethod(i))("ngModel",r.visModel.validBinningMethodsForResiliency[i].selected)("ngModelOptions",I0(7,r8)),yt(1),m2("for","'special-comparison-checkbox-' + ",i,""),yt(1),$s(r.visModel.binningMethods[i].name)}}function l9t(e,t){1&e&&Er(0,"img",48),2&e&&ht("src","assets/colorSchemes/"+Ct().$implicit.file+".png",E8)}function u9t(e,t){if(1&e&&(wt(0,"table")(1,"tr")(2,"td",3),Ut(3,l9t,1,1,"img",47),Tt(),wt(4,"td",3)(5,"span"),ji(6),Tt()()()()),2&e){const i=t.$implicit;yt(3),ht("ngIf",i.sname),yt(3),$s(i.sname||i.name)}}function c9t(e,t){if(1&e&&(wt(0,"div"),Er(1,"img",50),ji(2,"\xa0\xa0 "),wt(3,"span"),ji(4),Tt()()),2&e){const i=Ct().$implicit;yt(1),ht("src","assets/colorSchemes/"+i.file+".png",E8),yt(3),$s(i.sname)}}function f9t(e,t){1&e&&Ut(0,c9t,5,2,"div",49),2&e&&ht("ngIf",t.$implicit)}const d9t=function(){return["geographies","features"]},h9t=function(){return["examples"]};let p6e=(()=>{class e{constructor(){this.objectKeys=Object.keys,this.objectValues=Object.values,this.appConfig=ox,this.visModel={datasets:s6e,dataset:s6e[1].geographies[0].features[0],baseDataFeatureCollection:[],featureData:{},featureDataNaNs:{},featureRawDataWithNaNs:{},featureRawDataWithNaNsJSON:[],histogramBins:[],binMaxCount:0,showInvalidValues:"on",invalidValuesColor:"#555555",binCount:6,frequencyOfBins:{},frequentBins:{},resiliency:{},validBinningMethodsForResiliency:{[a6e]:{selected:!0},[oz]:{selected:!0},quantile:{selected:!0},[d6e]:{selected:!0},[sz]:{selected:!0},[u6e]:{selected:!0},[c6e]:{selected:!0},[f6e]:{selected:!0}},binningMethodsForResiliency:[],specialDataClassificationTypes:{[h6e]:{name:"Frequency of Most Consistent Bin"},specialCombinedMostFrequentClass:{name:"Most Consistent Bin and its Frequency"}},minFrequencyOfMostConsistentBin:null,maxFrequencyOfMostConsistentBin:null,averageFrequencyOfMostConsistentBin:null,binGuruObj:null,colorSchemes:r6e,colorScheme:r6e[3].examples[2],binningMethods:t9t,dataMap:new Map,colorScale:null,primaryKeys:[]}}getColorScheme(){return this.visModel.colorScheme.code}getDataShape(i="total"){let o,r=this;try{const s=r.visModel.featureData[r.visModel.dataset.feature].length,a=r.visModel.featureDataNaNs[r.visModel.dataset.feature];let l=s+a;switch(i){case"total":o=l;break;case"valid":o=s;break;case"invalid":o=a;break;case"invalidpct":o=(100*a/l).toPrecision(3)}}catch{o=-1}return o}getValidBinningMethodForResiliency(){let i=this,r=[];return Object.keys(i.visModel.validBinningMethodsForResiliency).forEach(function(o){i.visModel.validBinningMethodsForResiliency[o].selected&&!i.isCompatibleBinningMethod(o)&&r.push(o)}),r}isCompatibleBinningMethod(i){return 6!=this.visModel.binCount&&-1!==[oz,sz].indexOf(i)}prepareSpecialVIS(){let i=this,r=[],o=[];const s=Array.from(Object.values(i.visModel.frequencyOfBins)).filter(Boolean),a=s.reduce((f,d)=>f+d);i.visModel.minFrequencyOfMostConsistentBin=Math.min(...s),i.visModel.maxFrequencyOfMostConsistentBin=Math.max(...s),i.visModel.averageFrequencyOfMostConsistentBin=(a/s.length).toFixed(2),Object.keys(i.visModel.frequencyOfBins).forEach(function(f,d){let h={Frequency_of_Most_Frequent_Bin:i.visModel.frequencyOfBins[f],Most_Frequent_Bin:i.visModel.frequentBins[f]};h[i.visModel.dataset.primaryKey]=f,i.visModel.binningMethodsForResiliency.forEach(function(p){h[p]=i.visModel.resiliency.binObjs[p].dataBinAssignments[d],o.push({field:p,type:"ordinal",title:"BinID("+i.visModel.binningMethods[p].name+")"})}),r.push(h)}),i.baseGeoVisSpec.columns=1,i.baseGeoVisSpec.transform.push({lookup:i.visModel.dataset.topoPrimaryKey,from:{data:{values:r},key:i.visModel.dataset.primaryKey,fields:["Frequency_of_Most_Frequent_Bin","Most_Frequent_Bin",i.visModel.dataset.primaryKey,...i.visModel.binningMethodsForResiliency]}});let u=i.compareBinFrequencyVisContainer.nativeElement.parentNode.offsetWidth/1-10-30-60,c=.66*u;Object.keys(i.visModel.specialDataClassificationTypes).forEach(function(f){let d={width:u,height:c,layer:[{title:{text:i.visModel.specialDataClassificationTypes[f].name,subtitle:"across multiple binning methods.",fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:i.visModel.dataset.mapProjection,fit:i.visModel.baseDataFeatureCollection,center:i.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:"on"==i.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['Frequency_of_Most_Frequent_Bin'])",value:i.visModel.invalidValuesColor},field:"Most_Frequent_Bin",type:"ordinal",legend:{title:"Bin",titleFontSize:16,labelFontSize:18},scale:{domain:[...Array(i.visModel.binCount).keys()].map(h=>h+1),type:"ordinal",scheme:i.getColorScheme()}},opacity:{field:"Frequency_of_Most_Frequent_Bin",type:"quantitative",legend:{title:"Freq",values:new Array(i.visModel.binningMethodsForResiliency.length).fill(null).map((h,p)=>p+1),titleFontSize:16,labelFontSize:18},scale:{domain:[1,i.visModel.binningMethodsForResiliency.length],range:[.1,1],type:"pow"}},tooltip:[...i.getMapTooltip(),{field:"Most_Frequent_Bin",type:"ordinal",title:"Most Frequent Bin"},{field:"Frequency_of_Most_Frequent_Bin",type:"ordinal",title:"Frequency of Most Frequent Bin"},...o]}}]};"off"==i.visModel.showInvalidValues&&delete d.layer[0].encoding.color.condition,"specialMostFrequentClass"==f&&delete d.layer[0].encoding.opacity,f==h6e&&(d.layer[0].mark.fill="black",delete d.layer[0].encoding.color),i.baseGeoVisSpec.concat.push(d)})}getMapTooltip(){let i=this,r=[];return r.push({field:i.visModel.dataset.feature,type:"quantitative",title:i.visModel.dataset.feature,format:".2f"}),r.push({field:i.visModel.dataset.primaryKey,type:"nominal",title:i.visModel.dataset.primaryKey}),i.visModel.dataset.labelFeatures.forEach(function(o){r.push({field:o,type:"nominal",title:o})}),r}prepareResiliencyVIS(i){let r=this,o=r.resiliencyVisContainer.nativeElement.parentNode.offsetWidth-10-30-60,a={width:o,height:.66*o,layer:[{title:{text:"Resiliency",subtitle:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],limit:o-20,fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:r.visModel.dataset.mapProjection,fit:r.visModel.baseDataFeatureCollection,center:r.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:"on"==r.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['"+r.visModel.dataset.feature+"'])",value:r.visModel.invalidValuesColor},field:r.visModel.dataset.feature,type:"quantitative",legend:{title:null,format:".3f",labelFontSize:16},scale:i},tooltip:r.getMapTooltip()}}]};r.baseGeoVisSpec.concat.push(a)}renderAttrDistributionVisSpec(){let i=this,r=null,s=i.attrDistributionVisContainer.nativeElement.offsetWidth-60;s="off"==i.visModel.showInvalidValues?s:s-80;let a=.4*s,l=i.getDataShape("invalid"),u=[0,i.visModel.binMaxCount>l?i.visModel.binMaxCount:l];r={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:i.visModel.histogramBins},config:{concat:{spacing:0}},concat:[{width:s,height:a,mark:{type:"bar",tooltip:{content:"data"}},encoding:{x:{field:"bin_start",bin:{binned:!0},title:null,type:"quantitative",axis:{labelFontSize:12,titleFontSize:14}},x2:{field:"bin_end",axis:{labelFontSize:12,titleFontSize:14}},y:{field:"count",title:"count",type:"quantitative",scale:{domain:u},axis:{formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}},tooltip:[{field:"bin_start",type:"quantitative",format:".2f"},{field:"bin_end",type:"quantitative",format:".2f"},{field:"count",type:"quantitative"}]}}]},"on"==i.visModel.showInvalidValues&&r.concat.push({width:20,height:a,data:{values:[{field:"NaN/nulls",invalidCount:l}]},mark:{type:"bar",tooltip:{content:"invalidCount"}},encoding:{x:{field:"field",type:"nominal",title:null,axis:{labelAngle:"0",labelFontSize:12,titleFontSize:14}},y:{field:"invalidCount",type:"quantitative",title:"count",scale:{domain:u},axis:{orient:"right",formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}}}}),tz("#attrDistributionVisContainer",r,i.appConfig.vegaLiteOptions).then(c=>{}).catch(console.warn)}prepareBaseVISSpec(){let i=this;i.baseGeoVisSpec=JSON.parse(JSON.stringify(zvt)),i.baseGeoVisSpec.columns=1,i.baseGeoVisSpec.data.url=ox.dataPath+i.visModel.dataset.geoFile,delete i.baseGeoVisSpec.transform[0].from.data.url,i.baseGeoVisSpec.transform[0].from.data.values=i.visModel.featureRawDataWithNaNsJSON,i.baseGeoVisSpec.transform[0].from.key=i.visModel.dataset.primaryKey,i.baseGeoVisSpec.transform[0].lookup=i.visModel.dataset.topoPrimaryKey,i.baseGeoVisSpec.data.format.feature=i.visModel.dataset.topoFeatureRootKey,i.baseGeoVisSpec.transform[0].from.fields=[i.visModel.dataset.primaryKey,...i.visModel.dataset.labelFeatures,...i.visModel.dataset.features]}renderVIS(){let i=this;i.visModel.binningMethodsForResiliency=i.getValidBinningMethodForResiliency(),i.visModel.resiliency=i.visModel.binGuruObj.resiliency(i.visModel.binningMethodsForResiliency,{});let r={};r.domain=i.visModel.resiliency.binBreaks,r.type="threshold",r.scheme=i.getColorScheme(),i.visModel.frequentBins={},Object.values(i.visModel.resiliency.mostFrequentBins).forEach(function(o,s){i.visModel.frequentBins[i.visModel.primaryKeys[s]]=o}),i.visModel.frequencyOfBins={},Object.values(i.visModel.resiliency.frequencyOfMostFrequentBins).forEach(function(o,s){i.visModel.frequencyOfBins[i.visModel.primaryKeys[s]]=o}),i.prepareBaseVISSpec(),i.prepareSpecialVIS(),tz("#compareBinFrequencyVisContainer",i.baseGeoVisSpec,i.appConfig.vegaLiteOptions).then(o=>{}).catch(console.warn),i.prepareBaseVISSpec(),i.prepareResiliencyVIS(r),tz("#resiliencyVisContainer",i.baseGeoVisSpec,i.appConfig.vegaLiteOptions).then(o=>{}).catch(console.warn)}updateDataset(){let i=this;Promise.all([rUe(ox.dataPath+i.visModel.dataset.geoFile),nUe(ox.dataPath+i.visModel.dataset.featureFile,function(r){return i.visModel.dataMap.set(r[i.visModel.dataset.primaryKey],r),r})]).then(function(r){let o=r[0],s=r[1];i.visModel.primaryKeys=[],i.visModel.featureData={},i.visModel.featureDataNaNs={},i.visModel.featureRawDataWithNaNs={},i.visModel.featureRawDataWithNaNsJSON=[],i.visModel.baseDataFeatureCollection=lne(o,o.objects[i.visModel.dataset.topoFeatureRootKey]).features,s.forEach(function(a){let l={};i.visModel.primaryKeys.push(a[i.visModel.dataset.primaryKey]),Object.keys(a).forEach(function(u){u in i.visModel.featureData||(i.visModel.featureData[u]=[]),u in i.visModel.featureDataNaNs||(i.visModel.featureDataNaNs[u]=0),u in i.visModel.featureRawDataWithNaNs||(i.visModel.featureRawDataWithNaNs[u]=[]);let c=parseFloat(a[u]);Number.isNaN(c)?(i.visModel.featureDataNaNs[u]++,i.visModel.featureRawDataWithNaNs[u].push(a[u])):(i.visModel.featureData[u].push(c),i.visModel.featureRawDataWithNaNs[u].push(c)),l[u]=-1!==i.visModel.dataset.features.indexOf(u)?Number.isNaN(c)||null==c?NaN:c:a[u]}),i.visModel.featureRawDataWithNaNsJSON.push(l)}),i.updateAllVis()})}updateAllVis(){let i=this,o=i.visModel.binCount;i.visModel.binGuruObj=new wVe(i.visModel.featureRawDataWithNaNs[i.visModel.dataset.feature],o);let s=i.visModel.binGuruObj.min,l=i.visModel.binGuruObj.minSortedData,u=[];const c=(i.visModel.binGuruObj.max-s)/o;[...Array(o).keys()].forEach(function(p){u.push(s+c*(p+1))});var f=function xPe(){var e=wPe,t=nI,i=DPe;function r(o){Array.isArray(o)||(o=Array.from(o));var s,l,a=o.length,u=new Array(a);for(s=0;s<a;++s)u[s]=e(o[s],s,o);var c=t(u),f=c[0],d=c[1],h=i(u,f,d);if(!Array.isArray(h)){const _=d,y=+h;if(t===nI&&([f,d]=function SPe(e,t,i){let r;for(;;){const o=sI(e,t,i);if(o===r||0===o||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}(f,d,y)),h=function EPe(e,t,i){var r,s,a,l,o=-1;if(i=+i,(e=+e)==(t=+t)&&i>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),0===(l=sI(e,t,i))||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),c=Math.round(t/l);for(u*l<e&&++u,c*l>t&&--c,a=new Array(s=c-u+1);++o<s;)a[o]=(u+o)*l}else{l=-l;let u=Math.round(e*l),c=Math.round(t*l);for(u/l<e&&++u,c/l>t&&--c,a=new Array(s=c-u+1);++o<s;)a[o]=(u+o)/l}return r&&a.reverse(),a}(f,d,y),h[h.length-1]>=d)if(_>=d&&t===nI){const w=sI(f,d,y);isFinite(w)&&(w>0?d=(Math.floor(d/w)+1)*w:w<0&&(d=(Math.ceil(d*-w)+1)/-w))}else h.pop()}for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>d;)h.pop(),--p;var v,m=new Array(p+1);for(s=0;s<=p;++s)(v=m[s]=[]).x0=s>0?h[s-1]:f,v.x1=s<p?h[s]:d;for(s=0;s<a;++s)f<=(l=u[s])&&l<=d&&m[bPe(h,l,0,p)].push(o[s]);return m}return r.value=function(o){return arguments.length?(e="function"==typeof o?o:tb(o),r):e},r.domain=function(o){return arguments.length?(t="function"==typeof o?o:tb([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(i="function"==typeof o?o:Array.isArray(o)?tb(mPe.call(o)):tb(o),r):i},r}().value(p=>p).thresholds(u);let d=[],h=0;f(l).forEach(function(p){h<p.length&&(h=p.length),d.push({bin_start:p.x0,bin_end:p.x1,count:p.length})}),i.visModel.binMaxCount=h,i.visModel.histogramBins=d,i.renderAttrDistributionVisSpec(),i.renderVIS()}ngOnInit(){}ngAfterViewInit(){this.updateDataset()}ngOnDestroy(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sr({type:e,selectors:[["resiliency-app"]],viewQuery:function(i,r){if(1&i&&(jo(n9t,5,lr),jo(i9t,5,lr),jo(r9t,5,lr),jo(o9t,5),jo(s9t,5)),2&i){let o;Ni(o=Ii())&&(r.compareBinFrequencyVisContainer=o.first),Ni(o=Ii())&&(r.resiliencyVisContainer=o.first),Ni(o=Ii())&&(r.attrDistributionVisContainer=o.first),Ni(o=Ii())&&(r.downloadImageCanvas=o.first),Ni(o=Ii())&&(r.downloadLink=o.first)}},features:[qr([])],decls:102,vars:42,consts:[[1,"h-full","w-100","container-fluid"],[1,"row"],[1,"col-3"],[1,"p-xs"],["pTooltip","This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning methods.","showDelay","0",1,"mb-0",3,"escape"],["target","_blank","href","https://github.com/arpitnarechania/binguru"],[1,"form-group"],["pTooltip","Configure datasets by selecting an existing one or uploading your own. Hover on the configuration name to know more","showDelay","0",1,"fa","fa-database",3,"escape"],["appendTo","body","optionLabel","feature","optionGroupLabel","name",3,"ngModelOptions","ngModel","options","optionGroupChildren","ngModelChange","onChange"],[1,"mt-sm","text-center"],[1,"text-muted"],[1,"form-check","form-check-inline","mr-0"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOn","value","on",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","showInvalidValuesOn",1,"form-check-label"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOff","value","off",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","showInvalidValuesOff",1,"form-check-label"],["id","attrDistributionVisContainer",1,"w-100","mt-sm"],["attrDistributionVisContainer",""],["pTooltip","Pick one or more of these binning methods to compare by overlaying their bin sizes and bin breaks; note that these methods all have a fixed number of bins to be comparable.","showDelay","0","width","16",2,"margin-top","-4px",3,"escape","src"],[1,"float-right"],["pTooltip","Only applicable for <b>Equal Interval</b>, <b>Quantile</b>, <b>Maximum Breaks</b>, <b>Natural Breaks</b>, <b>CK-Means</b>, and <b>Geometric Interval</b>","showDelay","0",2,"cursor","help",3,"escape"],["type","number","step","1","min","1","max","12","name","binCount","id","binCount",3,"ngModel","change","ngModelChange"],[2,"clear","both"],[1,"mt-sm"],["class","form-check",4,"ngFor","ngForOf"],["pTooltip","Options to configure the color scheme for the choropleth maps. Hover on the configuration name to know more.","showDelay","0",1,"fa","fa-palette",3,"escape"],[1,"table-sm","w-100"],[2,"width","35%"],["pTooltip","The base color scheme for valid (non NaN/null) values; optionally, reverse the scheme as per needs.","showDelay","0",2,"cursor","help",3,"escape"],["appendTo","body","optionLabel","sname","optionGroupLabel","name",3,"ngModelOptions","ngModel","options","optionGroupChildren","onChange","ngModelChange"],["pTemplate","option"],["pTemplate","value"],["pTooltip","The color to be used for invalid (NaN/null) values","showDelay","0",2,"cursor","help",3,"escape"],[3,"ngModelOptions","ngModel","disabled","ngModelChange"],["pTooltip","Indicators that are relevant to Resiliency will be listed here.","showDelay","0",1,"fa","fa-magic",3,"escape"],["pTooltip","This indicator, currently in beta, could potentially indicate how bouncy/stable a map is when we compute the Average Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],["pTooltip","This indicator, currently in beta, shows the Max Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],["pTooltip","This indicator, currently in beta, shows the Min Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],[1,"col-9"],[1,"h-full2",2,"width","100%"],["id","resiliencyVisContainer",1,"text-center"],["resiliencyVisContainer",""],["id","compareBinFrequencyVisContainer",1,"text-center"],["compareBinFrequencyVisContainer",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"name","disabled","ngModel","ngModelOptions","id","ngModelChange"],[1,"form-check-label",3,"for"],["height","20","width","150",3,"src",4,"ngIf"],["height","20","width","150",3,"src"],[4,"ngIf"],["height","15","width","40",3,"src"]],template:function(i,r){1&i&&(wt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),ji(5,"Resiliency App"),Tt(),wt(6,"div")(7,"small")(8,"a",5),ji(9,"Powered by BinGuru"),Tt()()()(),Er(10,"hr"),wt(11,"form")(12,"div",6)(13,"strong"),Er(14,"i",7),ji(15,"\xa0Dataset\xa0 "),Tt(),wt(16,"p-cascadeSelect",8),qn("ngModelChange",function(s){return r.visModel.dataset=s})("onChange",function(){return r.updateDataset()}),Tt(),wt(17,"div",9)(18,"small",10),ji(19),wt(20,"div",11)(21,"input",12),qn("ngModelChange",function(s){return r.visModel.showInvalidValues=s})("ngModelChange",function(){return r.updateAllVis()}),Tt(),wt(22,"label",13),ji(23," on "),Tt()(),ji(24," \xa0 "),wt(25,"div",11)(26,"input",14),qn("ngModelChange",function(s){return r.visModel.showInvalidValues=s})("ngModelChange",function(){return r.updateAllVis()}),Tt(),wt(27,"label",15),ji(28," off "),Tt()(),ji(29,") "),Tt()(),Er(30,"div",16,17),Tt(),Er(32,"hr"),wt(33,"div",6)(34,"strong"),Er(35,"img",18),ji(36,"\xa0Data Binning "),Tt(),wt(37,"div",19)(38,"span",20),ji(39," Bin Count "),Tt(),wt(40,"input",21),qn("change",function(){return r.updateAllVis()})("ngModelChange",function(s){return r.visModel.binCount=s}),Tt()(),Er(41,"div",22),wt(42,"div",23),Ut(43,a9t,4,8,"div",24),Tt()(),Er(44,"hr"),wt(45,"div",6)(46,"strong"),Er(47,"i",25),ji(48,"\xa0Color Scheme "),Tt(),wt(49,"div",23)(50,"table",26)(51,"tbody")(52,"tr")(53,"td",27)(54,"span",28),ji(55," Primary "),Tt()(),wt(56,"td")(57,"p-cascadeSelect",29),qn("onChange",function(){return r.updateAllVis()})("ngModelChange",function(s){return r.visModel.colorScheme=s}),Ut(58,u9t,7,2,"ng-template",30),Ut(59,f9t,1,1,"ng-template",31),Tt()()(),wt(60,"tr")(61,"td",27)(62,"span",32),ji(63," NaN/nulls "),Tt()(),wt(64,"td")(65,"p-colorPicker",33),qn("ngModelChange",function(s){return r.visModel.invalidValuesColor=s,r.updateAllVis()}),Tt()()()()()()(),Er(66,"hr"),wt(67,"div",6)(68,"strong"),Er(69,"i",34),ji(70,"\xa0Indicators "),Tt(),wt(71,"div",23)(72,"table",26)(73,"tbody")(74,"tr")(75,"td")(76,"span",35),ji(77," Average Frequency of the Most Consistent Bin "),Tt()(),wt(78,"td")(79,"h5"),ji(80),Tt()()(),wt(81,"tr")(82,"td")(83,"span",36),ji(84," Maximum Frequency of the Most Consistent Bin "),Tt()(),wt(85,"td")(86,"h5"),ji(87),Tt()()(),wt(88,"tr")(89,"td")(90,"span",37),ji(91," Minimum Frequency of the Most Consistent Bin "),Tt()(),wt(92,"td")(93,"h5"),ji(94),Tt()()()()()()()()(),wt(95,"div",38)(96,"div",39),Er(97,"div",40,41)(99,"hr")(100,"div",42,43),Tt()()()()),2&i&&(yt(4),ht("escape",!1),yt(10),ht("escape",!1),yt(2),ht("ngModelOptions",I0(35,r8))("ngModel",r.visModel.dataset)("options",r.visModel.datasets)("optionGroupChildren",I0(36,d9t)),yt(3),RM(" ",r.getDataShape("total")," values; ",r.getDataShape("invalid")," (",r.getDataShape("invalidpct"),"%) NaN/nulls ( "),yt(2),ht("ngModel",r.visModel.showInvalidValues)("ngModelOptions",I0(37,r8)),yt(5),ht("ngModel",r.visModel.showInvalidValues)("ngModelOptions",I0(38,r8)),yt(9),ht("escape",!1)("src","assets/tasks-alt.svg",E8),yt(3),ht("escape",!1),yt(2),ht("ngModel",r.visModel.binCount),yt(3),ht("ngForOf",r.objectKeys(r.visModel.validBinningMethodsForResiliency)),yt(4),ht("escape",!1),yt(7),ht("escape",!1),yt(3),ht("ngModelOptions",I0(39,r8))("ngModel",r.visModel.colorScheme)("options",r.visModel.colorSchemes)("optionGroupChildren",I0(40,h9t)),yt(5),ht("escape",!1),yt(3),ht("ngModelOptions",I0(41,r8))("ngModel",r.visModel.invalidValuesColor)("disabled","off"===r.visModel.showInvalidValues),yt(4),ht("escape",!1),yt(7),ht("escape",!1),yt(4),$s(r.visModel.averageFrequencyOfMostConsistentBin),yt(3),ht("escape",!1),yt(4),$s(r.visModel.maxFrequencyOfMostConsistentBin),yt(3),ht("escape",!1),yt(4),$s(r.visModel.minFrequencyOfMostConsistentBin))},dependencies:[Uu,la,lZ,X_,FT,bT,PT,WX,YX,zT,HT,kT,ay,CN,Iy,pRe,gJ],styles:["#visContainer{width:100%}  .hovered{stroke-width:2px!important;stroke:#000!important}  hr{margin-top:8px;margin-bottom:12px}  div.tooltip{position:absolute;max-width:250px;padding:8px;font:14px sans-serif;background:white;border:1.5px solid #ccc;border-radius:8px;pointer-events:none}  .colorSwatch{width:20px;height:20px;display:inline-block;margin-right:4px;border:1px solid black}  .selectedColorSwatch{border:3px solid black}"]}),e})();const p9t=[{path:"",redirectTo:"/app",pathMatch:"full"},{path:"app",component:p6e},{path:"**",redirectTo:"/app",pathMatch:"full"}];let g9t=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=vn({imports:[See.forRoot(p9t,{scrollPositionRestoration:"enabled",useHash:!0}),See]}),e})(),m9t=(()=>{class e{constructor(){}ngAfterViewInit(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Er(0,"router-outlet")},dependencies:[VN],styles:[".h-full{height:100vh!important}  .display-inline-block{display:inline-block!important}  .display-inline{display:inline!important}  .overflow{overflow:auto!important}  .overflow-x{overflow-x:auto!important}  .overflow-y{overflow-y:auto!important}  .nowrap{white-space:nowrap!important}  .float-left{float:left!important}  .float-right{float:right!important}  .cursor-pointer{cursor:pointer}  .cursor-move{cursor:move}  .vspace-lg{margin-top:24px}  .vspace-md{margin-top:16px}  .vspace-sm{margin-top:8x}  .mb-xs{margin-bottom:4px}  .mt-xs{margin-top:4px}  .ml-xs{margin-left:4px}  .mr-xs{margin-right:4px}  .mb-sm{margin-bottom:8px}  .mt-sm{margin-top:8px}  .ml-sm{margin-left:8px}  .mr-sm{margin-right:8px}  .mb-md{margin-bottom:16px!important}  .mt-md{margin-top:16px}  .ml-md{margin-left:16px}  .mr-md{margin-right:16px}  .mw-md{margin-left:16px;margin-right:16px}  .mw-sm{margin-left:8px;margin-right:8px}  .mw-xs{margin-left:4px;margin-right:4px}  .mw-lg{margin-left:24px;margin-right:24px}  .m-none{margin:0}  .p-xs{padding:4px}  .p-sm{padding:8px}  .pb-sm{padding-bottom:8px}  .pt-sm{padding-top:8px}  .pl-sm{padding-left:8px}  .pr-sm{padding-right:8px}  .pb-xs{padding-bottom:4px}  .pt-xs{padding-top:4px}  .pl-xs{padding-left:4px}  .pr-xs{padding-right:4px}  .p-md{padding:16px}  .pb-md{padding-bottom:16px}  .pt-md{padding-top:16px}  .pl-md{padding-left:16px}  .pr-md{padding-right:16px}  .pw-md{padding-left:16px;padding-right:16px}  .pw-sm{padding-left:8px;padding-right:8px}  .pw-xs{padding-left:4px;padding-right:4px}  .pw-lg{padding-left:24px;padding-right:24px}  .p-none{padding:0}  .pt-0{padding-top:0}  .center-all{display:flex;align-items:center;justify-content:center}  #vg-tooltip-element{z-index:2000}"]}),e})(),v9t=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e,bootstrap:[m9t]}),e.\u0275inj=vn({providers:[BDe,p6e],imports:[mK,cDe,$xe,PDe,g9t,vOe,hRe,gRe,NRe]}),e})();iSe().bootstrapModule(v9t).catch(e=>console.error(e))},512:(xl,E0,Pi)=>{var Ho=Pi(270);Pi(374),function(){"use strict";var te=Ho.getCore(),x=te.PARSER,xi=te.groups.N,Wi=te.groups.P,we=te.groups.S,_t=te.groups.EX,Rn=te.groups.FN,ni=te.groups.PL,Mi=te.groups.CP,St=te.groups.CB,fe=te.Utils.keys,lt=te.Utils.even,zn=te.Utils.variables,At=te.Utils.format,an=te.Utils.round,jt=te.Frac,un=te.Utils.isInt,Je=te.Symbol,xn=te.Settings.CONST_HASH,Ri=te.Utils.importFunctions();function Wn(D,I,O){if(te.Utils.isSymbol(D))this.parse(D),this.variable=this.variable||I;else if(isNaN(D))"string"==typeof D&&this.parse(x.parse(D));else{if(O=O||0,void 0===I)throw new te.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[O]=D,this.fill(D)}}function hr(){this.factors={},this.length=0}function Fn(D,I,O){this.terms=I||[],this.coeff=D,this.map=O,this.sum=new te.Frac(0),this.image=void 0}Wn.fromArray=function(D,I){if(typeof I>"u")throw new te.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var O=new Wn;return O.coeffs=D,O.variable=I,O},Wn.fit=function(D,I,O,U,Z,ie){var de=new Array(Z+1),Ee=O-I;de[0]=I,de[Z]=D,Ee-=D*Math.pow(U,Z);for(var ye=Z-1;ye>0;ye--){var Me=Math.pow(U,ye),$e=Ee/Me,ut=Math.sign($e)*Math.floor(Math.abs($e));Ee-=ut*Me,de[ye]=ut}if(0!==Ee)return null;for(ye=0;ye<de.length;ye++)de[ye]=new jt(de[ye]);return Wn.fromArray(de,ie)},Wn.prototype={parse:function(D,I){if(this.variable=zn(D)[0],!D.isPoly())throw te.exceptions.NerdamerTypeError("Polynomial Expected! Received "+te.Utils.text(D));if(I=I||[],D.power.absEquals(1)||(D=x.expand(D)),D.group===te.groups.N)I[0]=D.multiplier;else if(D.group===te.groups.S)I[D.power.toDecimal()]=D.multiplier;else for(var O in D.symbols){var U=D.symbols[O],Z=U.power;if(te.Utils.isSymbol(Z))throw new te.exceptions.NerdamerTypeError("power cannot be a Symbol");Z=U.group===xi?0:Z.toDecimal(),U.symbols?this.parse(U,I):I[Z]=U.multiplier}this.coeffs=I,this.fill()},fill:function(D){D=Number(D)||0;for(var I=this.coeffs.length,O=0;O<I;O++)void 0===this.coeffs[O]&&(this.coeffs[O]=new jt(D));return this},trim:function(){for(var D=this.coeffs.length;D--;){var I=this.coeffs[D],O=I.equals(0);if(!I||!O)break;if(0===D)break;this.coeffs.pop()}return this},modP:function(D){for(var I=this.coeffs.length,O=0;O<I;O++){var U=this.coeffs[O];if(U<0){for(var Z,ie=O;ie<I;ie++)if(this.coeffs[ie]>0){Z=this.coeffs[ie];break}if(Z){for(;ie>O;ie--)this.coeffs[ie]=this.coeffs[ie].subtract(new jt(1)),this.coeffs[ie-1]=this.coeffs[ie-1].add(new jt(D));U=this.coeffs[O]}}var de=U.mod(D),Ee=U.subtract(de).divide(D);if(!Ee.equals(0)){var ye=O+1,Me=this.coeffs[ye]||new jt(0);Me=Me.add(Ee),this.coeffs[ye]=new jt(Me),this.coeffs[O]=new jt(de)}}return this},add:function(D){for(var I=Math.max(this.coeffs.length,D.coeffs.length),O=0;O<I;O++){var U=this.coeffs[O]||new jt(0),Z=D.coeffs[O]||new jt(0);this.coeffs[O]=U.add(Z)}return this},subtract:function(D){for(var I=Math.max(this.coeffs.length,D.coeffs.length),O=0;O<I;O++){var U=this.coeffs[O]||new jt(0),Z=D.coeffs[O]||new jt(0);this.coeffs[O]=U.subtract(Z)}return this},divide:function(D){for(var I=this.variable,O=te.Utils.arrayClone(this.coeffs),U=te.Utils.arrayClone(D.coeffs),Z=O.length,ie=U.length-1,de=[],Ee=0;Ee<Z;Ee++){var ye=Z-(Ee+1),Me=ye-ie,$e=O[ye].divide(U[ie]);if(Me<0)break;de[Me]=$e;for(var dt=0;dt<=ie;dt++)O[dt+Me]=O[dt+Me].subtract(U[dt].multiply($e))}var ut=Wn.fromArray(O,I||"x").trim();return[Wn.fromArray(de,I||"x"),ut]},multiply:function(D){for(var I=this.coeffs.length,O=D.coeffs.length,U=[],Z=0;Z<I;Z++)for(var ie=this.coeffs[Z],de=0;de<O;de++){var Ee=Z+de,ye=D.coeffs[de],Me=U[Ee]||new jt(0);U[Ee]=Me.add(ie.multiply(ye))}return this.coeffs=U,this},isZero:function(){for(var D=this.coeffs.length,I=0;I<D;I++)if(!this.coeffs[I].equals(0))return!1;return!0},sub:function(D){for(var I=new jt(0),O=this.coeffs.length,U=0;U<O;U++){var Z=this.coeffs[U];Z.equals(0)||(I=I.add(Z.multiply(new jt(Math.pow(D,U)))))}return I},clone:function(){var D=new Wn;return D.coeffs=this.coeffs,D.variable=this.variable,D},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var D=this.lc(),I=this.coeffs.length,O=0;O<I;O++)this.coeffs[O]=this.coeffs[O].divide(D);return this},gcd:function(D){if(this.coeffs.length-1<D.coeffs.length-1)return D.gcd(this);for(var Z=this;!D.isZero();){var ie=D.clone();D=(Z=Z.clone()).divide(ie)[1],Z=ie}var de=te.Math2.QGCD.apply(null,Z.coeffs);if(!de.equals(1))for(var Ee=Z.coeffs.length,ye=0;ye<Ee;ye++)Z.coeffs[ye]=Z.coeffs[ye].divide(de);return Z},diff:function(){for(var D=[],I=this.coeffs.length,O=1;O<I;O++)D.push(this.coeffs[O].multiply(new jt(O)));return this.coeffs=D,this},integrate:function(){for(var D=[0],I=this.coeffs.length,O=0;O<I;O++){var U=new jt(O+1);D[U]=this.coeffs[O].divide(U)}return this.coeffs=D,this},gcf:function(D){for(var O=[],U=0;U<this.coeffs.length;U++){var Z=this.coeffs[U];!Z.equals(0)&&-1===O.indexOf(Z)&&O.push(Z)}var ie=[te.Math2.QGCD.apply(void 0,O),function(Ee){for(var ye=0;ye<Ee.length;ye++)if(!Ee[ye].equals(0))return ye}(this.coeffs)].toDecimal();if(D){var de=[];de[ie[1]-1]=ie[0],ie=Wn.fromArray(de,this.variable).fill()}return ie},quad:function(D){var I=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(0===this.coeffs.length)throw new Error("Polynomial array has no terms");var O=this.coeffs[2]||0,U=this.coeffs[1]||0,ie=U*U-4*O*this.coeffs[0];return ie<0&&!D||(I[0]=(-U+Math.sqrt(ie))/(2*O),I[1]=(-U-Math.sqrt(ie))/(2*O)),I},squareFree:function(){for(var D=this.clone(),I=1,O=D.clone().diff(),U=D.clone().gcd(O),Z=D.divide(U)[0],ie=Wn.fromArray([new jt(1)],D.variable);!U.equalsNumber(1);){var de=Z.gcd(U),Ee=Z.divide(de)[0];if(!Ee.equalsNumber(1)&&I>1){for(var ye=Ee.clone(),Me=1;Me<I;Me++)ye.multiply(Ee.clone());Ee=ye}ie=ie.multiply(Ee),I++,Z=de,U=U.divide(de)[0]}return[ie,Z,I]},toSymbol:function(){var D=this.coeffs.length,I=this.variable;if(0===D)return new te.Symbol(0);for(var O=D-1,U="",Z=0;Z<D;Z++){var ie=Z===O?"":"+",de=this.coeffs[Z];de.equals(0)||(U+=de+"*"+I+"^"+Z+ie)}return x.parse(U)},equalsNumber:function(D){return this.trim(),1===this.coeffs.length&&this.coeffs[0].toDecimal()===String(D)},toString:function(){return this.toSymbol().toString()}},Je.prototype.coeffs=function(D,I){I&&!this.isPoly(!0)&&x.error("Polynomial expected when requesting coefficients with order"),D=D||[];var O=this.clone().distributeMultiplier();if(O.isComposite())for(var U in O.symbols){var Z=O.symbols[U];Z.isComposite()?Z.clone().distributeMultiplier().coeffs(D,I):I?D[Z.isConstant()?0:Z.power.toDecimal()]=Z.multiplier:D.push(Z.multiplier)}else if(I)D[O.isConstant(!0)?0:O.power.toDecimal()]=O.multiplier;else if(O.group===St&&O.isImaginary()){var ie=new Je(O.multiplier);O.each(function(Ee){(Ee.isConstant(!0)||Ee.imaginary)&&(ie=x.multiply(ie,Ee))}),D.push(ie)}else D.push(O.multiplier);if(I)for(var de=0;de<D.length;de++)void 0===D[de]&&(D[de]=new Je(0));return D},Je.prototype.tBase=function(D){if(typeof D>"u")throw new Error("Symbol.tBase requires a map object!");for(var I=[],O=this.collectSymbols(null,null,null,!0),U=O.length,Z=0;Z<U;Z++){var ie=O[Z],de=ie.group,Ee=new Fn(ie.multiplier,[],D);if(de===St)for(var ye in ie.symbols)Ee.terms[D[ye]]=ie.symbols[ye].power;else Ee.terms[D[ie.value]]=ie.power;I.push(Ee.fill()),Ee.updateCount()}return I},Je.prototype.altVar=function(D){var I=this.multiplier.toString(),O=this.power.toString();return("1"===I?"":I+"*")+D+("1"===O?"":"^"+O)},Je.prototype.sameVars=function(D){if(!this.symbols&&this.group!==D.group)return!1;for(var I in this.symbols){var U=D.symbols[I];if(!U||this.symbols[I].value!==U.value)return!1}return!0},Je.prototype.groupTerms=function(D){D=String(D);var I,O,U,Z=[];return this.each(function(ie){if(ie.group===ni){U=ie.groupTerms(D);for(var de=0;de<U.length;de++){var Ee=U[de];Ee&&(Z[de]=Ee)}}else I=te.Utils.decompose_fn(ie,D,!0),O=I.x.value===D?Number(I.x.power):0,Z[O]=x.add(Z[O]||new Je(0),I.a)}),Z},Je.prototype.collectFactors=function(){var D=[];return this.group===St?this.each(function(I){D.push(I.clone())}):D.push(this.clone()),D},hr.prototype.getNumberSymbolics=function(){var D=0;return this.each(function(I){I.isConstant(!0)||D++}),D},hr.prototype.add=function(D){if(D.equals(0))return this;if(D.equals(-1)&&this.length>0){var I=te.Utils.firstObject(this.factors,null,!0);return this.add(x.symfunction(te.Settings.PARENTHESIS,[I.obj]).negate()),delete this.factors[I.key],this.length--,this}if(D.group===St){var O=this;D.multiplier.equals(1)||O.add(new Je(D.multiplier)),D.each(function(ie){O.add(ie)})}else{this.preAdd&&(D=this.preAdd(D)),this.pFactor&&(D=x.pow(D,new Je(this.pFactor)));var U=D.isConstant();if(U&&D.equals(1))return this;var Z=U?D.value:D.text();Z in this.factors?(this.factors[Z]=x.multiply(this.factors[Z],D),this.factors[Z].equals(1)&&(delete this.factors[Z],this.length--)):(this.factors[Z]=D,this.length++)}return this},hr.prototype.toSymbol=function(){for(var D=new Je(1),I=Object.values(this.factors).sort(function(de,Ee){return de.group>Ee.group}),O=0,U=I.length;O<U;O++){var Z=I[O],ie=Z.power.equals(1)&&""!==Z.fname?x.symfunction(te.PARENTHESIS,[Z]):Z;D=x.multiply(D,ie)}return""===D.fname&&(D=Je.unwrapPARENS(D)),D},hr.prototype.merge=function(D){for(var I in D)this.factors[I]=I in this.factors?x.multiply(this.factors[I],D[I]):D[I];return this},hr.prototype.each=function(D){for(var I in this.factors){var O=this.factors[I];O.fname===te.PARENTHESIS&&O.isLinear()&&(O=O.args[0]),D.call(this,O,I)}return this},hr.prototype.count=function(){return fe(this.factors).length},hr.prototype.clean=function(){try{var D=te.Settings.CONST_HASH;this.factors[D].lessThan(0)&&(this.factors[D].equals(-1)?delete this.factors[D]:this.factors[D].negate(),this.each(function(I){I.negate()}))}catch{}},hr.prototype.toString=function(){return this.toSymbol().toString()},Fn.prototype.updateCount=function(){this.count=this.count||0;for(var D=0;D<this.terms.length;D++)this.terms[D].equals(0)||this.count++;return this},Fn.prototype.getVars=function(){for(var D=[],I=0;I<this.terms.length;I++){var O=this.terms[I];this.getRevMap(),O.equals(0)||D.push(this.rev_map[I])}return D.join(" ")},Fn.prototype.len=function(){return typeof this.count>"u"&&this.updateCount(),this.count},Fn.prototype.toSymbol=function(D){D=D||this.getRevMap();for(var I=new Je(this.coeff),O=0;O<this.terms.length;O++){var U=D[O],Z=this.terms[O];if(!Z.equals(0)&&U!==xn){var ie=new Je(U);ie.power=Z,I=x.multiply(I,ie)}}return I},Fn.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var D={};for(var I in this.map)D[this.map[I]]=I;return this.rev_map=D,D},Fn.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},Fn.prototype.getImg=function(){return this.image||this.generateImage(),this.image},Fn.prototype.fill=function(){for(var D=this.map.length,I=0;I<D;I++)typeof this.terms[I]>"u"?this.terms[I]=new te.Frac(0):this.sum=this.sum.add(this.terms[I]);return this},Fn.prototype.divide=function(D){for(var I=this.coeff.divide(D.coeff),O=this.terms.length,U=new Fn(I,[],this.map),Z=0;Z<O;Z++)U.terms[Z]=this.terms[Z].subtract(D.terms[Z]),U.sum=U.sum.add(U.terms[Z]);return U},Fn.prototype.multiply=function(D){for(var I=this.coeff.multiply(D.coeff),O=this.terms.length,U=new Fn(I,[],this.map),Z=0;Z<O;Z++)U.terms[Z]=this.terms[Z].add(D.terms[Z]),U.sum=U.sum.add(U.terms[Z]);return U},Fn.prototype.isZero=function(){return this.coeff.equals(0)},Fn.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},te.Utils.toMapObj=function(D){for(var I=0,O={},U=0;U<D.length;U++){var Z=D[U];typeof O[Z]>"u"&&(O[Z]=I,I++)}return O.length=I,O},te.Utils.filledArray=function(D,I,O){for(var U=[];I--;)U[I]=O?new O(D):D;return U},te.Utils.arrSum=function(D){for(var I=0,O=D.length,U=0;U<O;U++)I+=D[U];return I},te.Utils.haveIntersection=function(D,I){var O;return I.length>D.length&&(O=I,I=D,D=O),D.some(function(U){return I.indexOf(U)>-1})},te.Utils.subFunctions=function(D,I){I=I||{};var O=[];return D.each(function(U){if(U.group===Rn||U.previousGroup===Rn){var Z=te.Utils.text(U,"hash"),ie=I[Z];if(ie)O.push(U.altVar(ie));else{var de=U.fname+fe(I).length;I[Z]=de,O.push(U.altVar(de))}}else O.push(U.group===St||U.group===ni||U.group===Mi?te.Utils.subFunctions(U,I):U.text())}),D.group===Mi||D.group===ni?D.altVar(te.Utils.inBrackets(O.join("+"))):D.group===St?D.altVar(te.Utils.inBrackets(O.join("*"))):D.text()},te.Utils.getFunctionsSubs=function(D){var I={};for(var O in D)I[D[O]]=x.parse(O);return I};var ze=te.Algebra={version:"1.4.6",proots:function(D,I){I=I||7;var U=[],Z=function(mn,Hi,Ei){for(var xe=function Qt(mn,Hi,Ei){var be=mn.slice(0);if(mn.unshift(Ei),Ei>100)throw new te.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var Le=[],Ne={};for(Ne.Degree=Ei,tn=0;tn<Ei;tn++)Le.push(0);var nt=Le.slice(0);function ft(Ze,it,bt,at,We,Ye){We[0]=Ye.b=at[0],We[1]=Ye.a=-it*Ye.b+at[1];for(var Ft=2;Ft<Ze;Ft++)We[Ft]=-(it*Ye.a+bt*Ye.b)+at[Ft],Ye.b=Ye.a,Ye.a=We[Ft]}function xt(Ze,it,bt,at,We,Ye,Ft,Bt,Wt){var Pn=new Object,fn=3;return Pn.b=Pn.a=0,ft(it,Ft,Bt,Ye,Wt,Pn),We.c=Pn.a,We.d=Pn.b,Math.abs(We.c)<=100*Ze*Math.abs(Ye[it-1])&&Math.abs(We.d)<=100*Ze*Math.abs(Ye[it-2])||(We.h=Bt*at,Math.abs(We.d)>=Math.abs(We.c)?(fn=2,We.e=bt/We.d,We.f=We.c/We.d,We.g=Ft*at,We.a3=We.e*(We.g+bt)+We.h*(at/We.d),We.a1=We.f*at-bt,We.a7=We.h+(We.f+Ft)*bt):(fn=1,We.e=bt/We.c,We.f=We.d/We.c,We.g=We.e*Ft,We.a3=We.e*bt+(We.g+We.h/We.c)*at,We.a1=We.d/We.c*-bt+at,We.a7=We.g*We.d+We.h*We.f+bt)),fn}function ke(Ze,it,bt,at,We,Ye,Ft,Bt,Wt){var Pn;if(3!=bt)if(Pn=1==bt?We:at,Math.abs(Ye.a1)>10*Ze*Math.abs(Pn))for(Ye.a7/=Ye.a1,Ye.a3/=Ye.a1,Ft[0]=Wt[0],Ft[1]=-Wt[0]*Ye.a7+Wt[1],fn=2;fn<it;fn++)Ft[fn]=-Wt[fn-1]*Ye.a7+Bt[fn-2]*Ye.a3+Wt[fn];else for(Ft[0]=0,Ft[1]=-Wt[0]*Ye.a7,fn=2;fn<it;fn++)Ft[fn]=-Wt[fn-1]*Ye.a7+Bt[fn-2]*Ye.a3;else{Ft[1]=Ft[0]=0;for(var fn=2;fn<it;fn++)Ft[fn]=Bt[fn-2]}}function Te(Ze,it,bt,at,We,Ye,Ft,Bt,Wt,Pn,fn,Li,kn,An,Si,oi,Ai){var Ti,En,zt,Ci,B,G,z,q;it.b=it.a=0,3!=Ze&&(2!=Ze?(Ti=bt+kn*Ft+Li*Pn,En=Bt+(kn+An*Pn)*Wt):(Ti=(bt+fn)*Pn+Li,En=(Pn+kn)*Bt+An*Wt),0!=(q=-(z=-((B=(zt=-Si[oi-1]/Ai[oi])*Ye)+(G=zt*zt*We))+An*(Ci=-(Si[oi-2]+zt*Ai[oi-1])/Ai[oi])*at)+En+zt*Ti)&&(it.a=-(kn*(G+B)+An*(zt*at+Ci*Ye))/q+kn,it.b=An*(1+z/q)))}function Gt(Ze,it,bt,at){var We,Ye,Ft;at.sr=at.si=at.lr=at.li=0,0!=Ze?0!=bt?(We=it/2,Math.abs(We)<Math.abs(bt)?(Ft=-(Ft=bt>=0?Ze:-Ze)+We*(We/Math.abs(bt)),Ye=Math.sqrt(Math.abs(Ft))*Math.sqrt(Math.abs(bt))):(Ft=-Ze/We*(bt/We)+1,Ye=Math.sqrt(Math.abs(Ft))*Math.abs(We)),Ft>=0?(at.lr=(-We+(Ye=We>=0?-Ye:Ye))/Ze,at.sr=0!=at.lr?bt/at.lr/Ze:at.sr):(at.lr=at.sr=-We/Ze,at.si=Math.abs(Ye/Ze),at.li=-at.si)):at.lr=-it/Ze:at.sr=0!=it?-bt/it:at.sr}function k(Ze,it,bt,at,We,Ye,Ft,Bt,Wt,Pn,fn,Li){var An,Si,oi,Ai,Ti,En,zt,Ci,di,B,G,kn=new Object,z=0,ue=0;bt.NZ=0,En=at,Ci=We;do{if(kn.li=kn.lr=kn.si=kn.sr=0,Gt(1,En,Ci,kn),bt.szr=kn.sr,bt.szi=kn.si,bt.lzr=kn.lr,bt.lzi=kn.li,Math.abs(Math.abs(bt.szr)-Math.abs(bt.lzr))>.01*Math.abs(bt.lzr))break;for(ft(Ft,En,Ci,Wt,Ye,Bt),Si=Math.abs(-bt.szr*Bt.b+Bt.a)+Math.abs(bt.szi*Bt.b),B=Math.sqrt(Math.abs(Ci)),An=2*Math.abs(Ye[0]),Ti=-bt.szr*Bt.b,G=1;G<it;G++)An=An*B+Math.abs(Ye[G]);if(Si<=20*(An=(9*(An=An*B+Math.abs(Ti+Bt.a))+2*Math.abs(Ti)-7*(Math.abs(Bt.a+Ti)+B*Math.abs(Bt.b)))*Ze)){bt.NZ=2;break}if(++z>20)break;if(z>=2&&Ai<=.01&&Si>=oi&&!ue){for(ft(Ft,En-=En*(Ai=Ai<Ze?Math.sqrt(Ze):Math.sqrt(Ai)),Ci+=Ci*Ai,Wt,Ye,Bt),G=0;G<5;G++)ke(Ze,it,xt(Ze,it,Bt.a,Bt.b,fn,Li,En,Ci,Pn),Bt.a,Bt.b,fn,Li,Pn,Ye);ue=1,z=0}oi=Si,ke(Ze,it,xt(Ze,it,Bt.a,Bt.b,fn,Li,En,Ci,Pn),Bt.a,Bt.b,fn,Li,Pn,Ye),Te(xt(Ze,it,Bt.a,Bt.b,fn,Li,En,Ci,Pn),Bt,Bt.a,fn.a1,fn.a3,fn.a7,Bt.b,fn.c,fn.d,fn.f,fn.g,fn.h,En,Ci,Li,it,Wt),zt=Bt.a,0!=(di=Bt.b)&&(Ai=Math.abs((-Ci+di)/di),En=zt,Ci=di)}while(0!=di)}function ne(Ze,it,bt,at,We,Ye,Ft,Bt,Wt){var Pn,fn,Li,kn,An,Si,oi,Ai,Ti,En,zt,Ci=at-1;for(it.NZ=zt=Ti=0,oi=bt.a;;){for(Ft[0]=Si=We[0],En=1;En<Ye;En++)Ft[En]=Si=Si*oi+We[En];for(Li=Math.abs(Si),kn=Math.abs(oi),Pn=.5*Math.abs(Ft[0]),En=1;En<Ye;En++)Pn=Pn*kn+Math.abs(Ft[En]);if(Li<=20*Ze*(2*Pn-Li)){it.NZ=1,it.szr=oi,it.szi=0;break}if(++zt>10)break;if(zt>=2&&Math.abs(Ai)<=.001*Math.abs(-Ai+oi)&&Li>An){Ti=1,it.a=oi;break}for(An=Li,Wt[0]=fn=Bt[0],En=1;En<at;En++)Wt[En]=fn=fn*oi+Bt[En];if(Math.abs(fn)>10*Math.abs(Bt[Ci])*Ze)for(Ai=-Si/fn,Bt[0]=Ft[0],En=1;En<at;En++)Bt[En]=Ai*Wt[En-1]+Ft[En];else for(Bt[0]=0,En=1;En<at;En++)Bt[En]=Wt[En-1];for(fn=Bt[0],En=1;En<at;En++)fn=fn*oi+Bt[En];oi+=Ai=Math.abs(fn)>10*Math.abs(Bt[Ci])*Ze?-Si/fn:0}return Ti}function he(Ze,it,bt,at,We,Ye,Ft,Bt,Wt,Pn,fn,Li){var Ai,Ti,En,zt,Ci,di,B,G,z,q,ue,Y,me,Pe,ce,Ke,De,rt,Mt,ln,wi,Yi,Vr,jr,Ir,kn=new Object,An=new Object,Si=new Array(it),oi=new Array(it),Ht=1;for(Li.NZ=0,zt=En=.25,Ci=at,G=We,kn.b=kn.a=0,ft(Wt,fn,We,Bt,Pn,kn),Ai=kn.a,Ti=kn.b,An.h=An.g=An.f=An.e=An.d=An.c=An.a7=An.a3=An.a1=0,Vr=xt(Ze,Ft,Ai,Ti,An,Ye,fn,We,Si),ln=0;ln<bt;ln++){if(rt=1,ke(Ze,Ft,Vr,Ai,Ti,An,Ye,Si,Pn),Te(Vr=xt(Ze,Ft,Ai,Ti,An,Ye,fn,We,Si),kn,Ai,An.a1,An.a3,An.a7,Ti,An.c,An.d,An.f,An.g,An.h,fn,We,Ye,Ft,Bt),ce=kn.a,De=Ke=kn.b,q=0!=Ye[Ft-1]?-Bt[Ft]/Ye[Ft-1]:0,ue=me=1,0!=ln&&3!=Vr&&(jr=(Pe=(me=0!=De?Math.abs((De-G)/De):me)<B?me*B:1)<zt?1:0,(wi=(Y=(ue=0!=q?Math.abs((q-Ci)/q):ue)<di?ue*di:1)<En?1:0)||jr)){for(Mt=0;Mt<Ft;Mt++)oi[Mt]=Ye[Mt];for(z=q,Yi=Ir=0;;){if(!rt||0!=(rt=0)||!wi||jr&&!(Y<Pe)){if(k(Ze,Ft,Li,ce,Ke,Pn,Wt,kn,Bt,Si,An,Ye),Ai=kn.a,Ti=kn.b,Li.NZ>0)return;if(Ht=Ir=1,zt*=.25,Yi||!wi)Ht=0;else for(Mt=0;Mt<Ft;Mt++)Ye[Mt]=oi[Mt]}if(0!=Ht){if(kn.a=z,Ht=ne(Ze,Li,kn,Ft,Bt,Wt,Pn,Ye,Si),z=kn.a,Li.NZ>0)return;if(Yi=1,En*=.25,0!=Ht){ce=-(z+z),Ke=z*z;continue}}for(Mt=0;Mt<Ft;Mt++)Ye[Mt]=oi[Mt];if(!jr||Ir)break}ft(Wt,fn,We,Bt,Pn,kn),Vr=xt(Ze,Ft,Ai=kn.a,Ti=kn.b,An,Ye,fn,We,Si)}G=De,Ci=q,B=me,di=ue}}!function Fe(Ze,it,bt,at){var Si,oi,Ai,Ti,En,zt,Ci,di,B,G,z,q,ue,Y,me,Pe,Ke,De,rt,Mt,Ht,ln,wi,We=Ze.Degree,Ye=.017453292519943295,Ft=Math.LN2,Bt=Ze.Degree+1,Wt=new Array(Bt),Pn=new Array(Bt),fn=new Array(Bt),Li=new Array(Bt),kn=new Object,An=new Object;q=1;do{oi=q,ue=1+(q/=2)}while(ue>1);var Yi=Number.MIN_VALUE/oi,Vr=Math.cos(94*Ye),jr=Math.sin(94*Ye),Ir=Math.sqrt(.5),Cn=-Ir;for(An.NZ=De=0,An.szr=An.szi=An.lzr=An.lzi=0;0==it[We];)bt[De]=at[De]=0,We--,De++;for(ln=We+1;We>=1;){if(We<=2){We<2?(bt[Ze.Degree-1]=-it[1]/it[0],at[Ze.Degree-1]=0):(kn.li=kn.lr=kn.si=kn.sr=0,Gt(it[0],it[1],it[2],kn),bt[Ze.Degree-2]=kn.sr,at[Ze.Degree-2]=kn.si,bt[Ze.Degree-1]=kn.lr,at[Ze.Degree-1]=kn.li);break}for(Ci=0,di=Number.MAX_VALUE,_n=0;_n<ln;_n++)(G=Math.abs(it[_n]))>Ci&&(Ci=G),0!=G&&G<di&&(di=G);if(((B=Yi/di)<=1&&Ci>=10||B>1&&Number.MAX_VALUE/B>=Ci)&&(B=0==B?Number.MIN_VALUE:B,Mt=Math.floor(Math.log(B)/Ft+.5),1!=(En=Math.pow(2,Mt))))for(_n=0;_n<ln;_n++)it[_n]*=En;for(var _n=0;_n<ln;_n++)Pn[_n]=Math.abs(it[_n]);Pn[We]=-Pn[We],Ht=We-1,G=Math.exp((Math.log(-Pn[We])-Math.log(Pn[0]))/We),0!=Pn[Ht]&&(G=(z=-Pn[We]/Pn[Ht])<G?z:G),z=G;do{for(z=.1*(G=z),zt=Pn[0],_n=1;_n<ln;_n++)zt=zt*z+Pn[_n]}while(zt>0);Ti=G;do{for(Ai=zt=Pn[0],_n=1;_n<We;_n++)Ai=G*Ai+(zt=G*zt+Pn[_n]);G-=Ti=(zt=G*zt+Pn[We])/Ai}while(Math.abs(Ti/G)>.005);for(Si=G,_n=1;_n<We;_n++)Wt[_n]=(We-_n)*it[_n]/We;for(Wt[0]=it[0],q=it[We],ue=it[Ht],wi=0==Wt[Ht]?1:0,rt=0;rt<5;rt++)if(Y=Wt[Ht],wi){for(_n=0;_n<Ht;_n++)Wt[De=Ht-_n]=Wt[De-1];Wt[0]=0,wi=0==Wt[Ht]?1:0}else{for(Pe=-q/Y,_n=0;_n<Ht;_n++)Wt[De=Ht-_n]=Pe*Wt[De-1]+it[De];Wt[0]=it[0],wi=Math.abs(Wt[Ht])<=Math.abs(ue)*oi*10?1:0}for(_n=0;_n<We;_n++)Li[_n]=Wt[_n];for(rt=1;rt<=20;rt++){if(Ke=-jr*Cn+Vr*Ir,Cn=jr*Ir+Vr*Cn,he(oi,Bt,20*rt,me=Si*(Ir=Ke),Si,Wt,We,it,ln,fn,-2*me,An),0!=An.NZ){for(bt[De=Ze.Degree-We]=An.szr,at[De]=An.szi,We=(ln-=An.NZ)-1,_n=0;_n<ln;_n++)it[_n]=fn[_n];1!=An.NZ&&(bt[De+1]=An.lzr,at[De+1]=An.lzi);break}for(_n=0;_n<We;_n++)Wt[_n]=Li[_n]}if(rt>20){Ze.Degree-=We;break}}}(Ne,be,nt,Le);var Ve=Le.length;for(tn=0;tn<Ve;tn++){var se=an(Le[tn],I+8),Ge=an(nt[tn],I+8),st=se<0?"-":"";0===(Ge=I-String(Ge).length>2?Ge:nt[tn])&&(Ge=""),0===se&&(se=""),se=1===Math.abs(se)?st+"i":se?se+"*i":"",nt[tn]=(Ge&&se?Ge+"+"+se:Ge+se).replace(/\+\-/g,"-")}return nt}(mn,0,Ei).concat(U),be=0;be<0;be++)xe.unshift(0);return xe};if(D instanceof Je&&D.isPoly()){if(D.distributeMultiplier(),D.group===ni){var ie=te.Utils.arrayMin(fe(D.symbols)),de=D.symbols[ie].clone().toUnitMultiplier();D=x.expand(x.divide(D,de)),U.push(0)}if(D.group===te.groups.S)return[0];if(D.group===te.groups.PL){var dt=fe(D.symbols),Ee=te.Utils.arrayMin(dt);D=te.PARSER.divide(D,te.PARSER.parse(D.value+"^"+Ee))}for(var ye=fe(D.symbols).sort().pop(),Me=D.group===te.groups.PL?D.symbols:D.symbols[ye],$e=Me.group,ut=(dt=$e===we?[Me.power.toDecimal()]:fe(Me.symbols),[]),kt=te.Utils.arrayMax(dt),tn=1;tn<=kt;tn++){var hn=0;-1!==dt.indexOf(tn+"")&&(hn=$e===we?Me.multiplier:Me.symbols[tn].multiplier),ut.unshift(hn)}return ut.push(D.symbols[xn].multiplier),Me.group===we&&(ut[0]=Me.multiplier),Z(ut,0,kt)}if(te.Utils.isArray(D)){var Xe=D,Vn=(ut=[],dt=[],0);for(tn=0;tn<Xe.length;tn++){for(var In=Xe[tn][0],en=Xe[tn][1],_i=en-Vn-1,Vi=0;Vi<_i;Vi++)ut.unshift(0);ut.unshift(In),0!==en&&dt.push(en),Vn=en}return Z(ut,0,kt=Math.max.apply(void 0,dt))}throw new te.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!")},roots:function(D){if(D.isConstant(!0,!0))return te.Utils.nroots(D);var I=ze.proots(D).map(function(O){return x.parse(O)});return te.Vector.fromArray(I)},froot:function(D,I,O){return function(Z){for(var de=O||te.Utils.build(te.Calculus.diff(D.clone())),Ee=D instanceof Function?D:te.Utils.build(D),Me=!1,$e=0;!Me;){var dt=Z-Ee(Z)/de(Z),ut=Math.abs(dt)-Math.abs(Z);Z=dt,Math.abs(ut)<1e-12?Me=!0:$e>1e4&&(Z=null,Me=!0),$e++}return Z}(Number(I))},quad:function(D,I,O){var U=function(Z,ie,de,Ee){return x.parse("-("+ie+"+"+Ee+"*sqrt(("+ie+")^2-4*("+Z+")*("+de+")))/(2*"+Z+")")};return[U(D,I,O,1),U(D,I,O,-1)]},sumProd:function(D,I){return ze.quad(-I,D,-1).map(function(O){return O.invert()})},coeffs:function(D,I,O){I=String(I),D=x.expand(D),O=O||[new Je(0)],D.group===_t&&D.contains(I,!0)&&x.error("Unable to get coefficients using expression "+D.toString());var U=zn(D);if(1!==U.length||U[0]!==I||D.isImaginary())if(I||x.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),-1===U.indexOf(I))O[0]=x.add(D,O[0]);else if(O=O||[new Je(0)],D.group===St){var Me=D.symbols[I];Me||x.error("Expression is not a polynomial!");var $e=Number(Me.power);((Ee=x.divide(D.clone(),Me.clone())).contains(I,!0)||$e<0||!un($e))&&x.error("Expression is not a polynomial!"),(ye=O[$e])&&(Ee=x.add(ye,Ee)),O[$e]=Ee}else D.group===Mi&&D.each(function(dt){ze.coeffs(dt.clone(),I,O)},!0);else for(var Z=new Wn(D).coeffs.map(function(dt){return new Je(dt)}),ie=0,de=Z.length;ie<de;ie++){var ye,Ee=Z[ie];(ye=O[ie])&&(Ee=x.add(ye,Ee)),O[ie]=Ee}for(ie=0,de=O.length;ie<de;ie++)typeof O[ie]>"u"&&(O[ie]=new Je(0));return O},polyPowers:function(D,I,O){if(O=O||[],(U=U=D.group)===ni&&I===D.value)O=O.concat(fe(D.symbols));else if(U===Mi)for(var Z in D.symbols){var U,ie=D.symbols[Z],de=ie.value;if((U=ie.group)===we&&I===de)O.push(ie.power);else if(U===ni||U===Mi)O=ze.polyPowers(ie,I,O);else if(U===St&&ie.contains(I)){var Ee=ie.symbols[I];Ee&&O.push(Ee.power)}else(U===xi||I!==de)&&O.push(0)}else U===St&&D.contains(I)&&O.push(te.Utils.decompose_fn(D,I,!0).x.power);return te.Utils.arrayUnique(O).sort()},Factor:{split:function(D){var I=new Je(1),O=new Je(1);return ze.Factor.factor(D,new hr).each(function(U){var Z=x.parse(U);U.isConstant(!0)?I=x.multiply(I,Z):O=x.multiply(O,Z)}),[I,O]},mix:function(D,I){for(var O=fe(D),U=O.length,Z=[],ie=0;ie<U;ie++){for(var de=O[ie],Ee=D[de],ye=Z.length,Me=0;Me<ye;Me++){var $e=Z[Me]*de;Z.push($e),I&&Z.push(-$e)}for(Me=1;Me<=Ee;Me++)Z.push(Math.pow(de,Me))}return Z},common:function(D,I){try{if(D.group===Mi){for(var O=x.expand(D.clone(),!0).collectSymbols(null,null,function($e,dt){return(dt.length||1)-($e.length||1)}),U={},Z=[],ie=0;ie<O.length;ie++){var de=O[ie];Z.push(de.multiplier.clone()),de.each(function($e){var dt=Number($e.power);if(isNaN(dt))throw new Error("exiting");$e.value in U?(dt<U[$e.value][0]&&(U[$e.value][0]=dt),U[$e.value][1].push($e)):U[$e.value]=[dt,[$e]]})}var Ee=new Je(1);for(var ye in U)U[ye][1].length===O.length&&(Ee=x.multiply(Ee,x.pow(new Je(ye),new Je(U[ye][0]))));var Me=te.Math2.QGCD.apply(null,Z);if(!Me.equals(1))for(I.add(new Je(Me)),ie=0;ie<O.length;ie++)O[ie].multiplier=O[ie].multiplier.divide(Me);if(!Ee.equals(1))for(I.add(Ee),D=new Je(0),ie=0;ie<O.length;ie++)D=x.add(D,x.divide(O[ie],Ee.clone()))}}catch{}return D},zeroes:function(D,I){var O=function(){throw new te.exceptions.ValueLimitExceededError("Exiting")};try{var U,Z,ie,de,Ee;Ee=(D=x.expand(D.clone())).toString(),U=zn(D),ie=new Je(0);for(var ye=[],Me=[],$e=0,dt=U.length;$e<U.length;$e++){for(var ut={},kt=0;kt<dt;kt++)$e!==kt&&(ut[U[kt]]=0);Z=x.parse(Ee,ut),un(Z.power)||O(),ye.push(Z),Me.push(Z.power)}if(te.Utils.allSame(Me)){var hn=D.length,Xe=ye.length;2===Xe&&(de=new jt(Me[0]/(hn-1))),3===Xe&&(de=new jt(Me[0]/Math.round((Math.sqrt(8*hn-1)-3)/2)))}else de=te.Math2.QGCD.apply(null,Me);for(un(de)||O(),$e=0;$e<ye.length;$e++){var Vn=ye[$e],In=Vn.power.clone().divide(de);Vn.multiplier=new jt(Math.pow(Vn.multiplier,1/In)),Vn.power=de.clone(),ie=x.add(ie,Vn)}if(ie.group!==Mi)return D;for(;;){var en=ze.div(D.clone(),ie.clone());if(!en[1].equals(0))break;if(D=en[0],I.add(ie.clone()),D.equals(1))break}}catch{}return D},factor:function(D,I){if(D.isConstant())return te.Math2.factor(D);var O=x.parse(D),U=ze.Factor._factor(O,I);if(U.equals(D))return U;if(U.group===St){var Z=new Je(1),ie=x.parse(U.power),de=x.parse(U.multiplier);U.toUnitMultiplier(),U.multiplier.lessThan(0)&&(Z.negate(),U.negate()),U.each(function(Ee){var ye=x.parse(ze.Factor._factor(Ee));ye.group===St?(de=x.multiply(de,Je.create(ye.multiplier)),ye.each(function(Me){var $e=x.parse(ze.Factor._factor(Me));Z=x.multiply(Z,$e),$e.group===St&&(de=x.multiply(de,Je.create($e.multiplier)))})):Z=x.multiply(Z,ye)}),U=x.pow(x.multiply(de,Z),ie)}return U},quadFactor:function(D,I){if(D.isPoly()&&ze.degree(D.equals(2))){var O=te.Utils.variables(D)[0],U=ze.coeffs(D,O),Z=ze.Factor._factor(U[2].clone());if(Z.group===St){var ie=Z.collectSymbols();if(ie.length>2)return D;var de=x.multiply(x.parse(U[0]),x.parse(ie[0])),Ee=x.parse(U[1]).negate(),ye=x.parse(ie[1]),Me=ze.quad(ye,Ee,de).filter(function(ut){if(te.Utils.isInt(ut))return ut});if(1===Me.length){var $e=Me[0],dt=x.divide(U[0],x.parse($e));te.Utils.isInt(dt)&&(I.add(x.parse(At("({0})*({1})+({2})",ie[1],O,dt))),I.add(x.parse(At("({0})*({1})+({2})",ie[0],O,$e))),D=new Je(1))}}}return D},cubeFactor:function(D,I){if(D.isComposite()){var O=D.collectSymbols();if(2===O.length){var U=O[0].sign(),Z=O[0].clone().abs(),ie=O[1].sign(),de=O[1].clone().abs();if(Z.isCube()&&de.isCube()){U<ie&&([U,ie]=[ie,U],[Z,de]=[de,Z]);var Ee=x.parse(Z.getNth(3)),ye=x.parse(de.getNth(3)),Me=x.multiply(x.expand(x.pow(Z.clone().toUnitMultiplier(),x.parse("1/3"))),Ee),$e=x.multiply(x.expand(x.pow(de.clone().toUnitMultiplier(),x.parse("1/3"))),ye);1===U&&-1===ie?(I.add(x.parse(At("(({0})-({1}))",Me,$e))),I.add(x.parse(At("(({0})^2+({0})*({1})+({1})^2)",Me,$e))),D=Je(1)):1===U&&1===ie&&(I.add(x.parse(At("(({0})+({1}))",Me,$e))),I.add(x.parse(At("(({0})^2-({0})*({1})+({1})^2)",Me,$e))),D=Je(1))}}}return D},_factor:function(D,I){if(D.group===Rn){var U=D.args[0];if(U.group===we&&U.isSimple())return D}else if(D.group===we&&D.isSimple())return D;if(D.group===Mi){D.distributeMultiplier(!0);var Z=new Je(0);D.each(function(ft){(ft.group===Mi&&ft.power.greaterThan(1)||ft.group===St)&&(ft=x.expand(ft)),Z=x.add(Z,ft)}),Z.power=D.power,D=Z}D.group===Rn&&"sqrt"!==D.fname&&(D=te.Utils.evaluate(D));var ie=D.clone();try{if(D.group===St){var de,Ee,ye,Me,$e,dt,Xe=x.parse(D.power);if(de=ze.Simplify.strip(D.getDenom()),Ee=ze.Simplify.strip(D.getNum()),ye=de.pop(),(Me=Ee.pop()).equals(D))return D;dt=ze.Factor.factor(Me),$e=ze.Factor.factor(ye);var ut=ze.Simplify.unstrip(Ee,dt),kt=ze.Simplify.unstrip(de,$e);return x.divide(ut,kt)}if(D.group===we)return D;if(D.isConstant())return D.equals(1)?D.clone():te.Math2.factor(D);if(Xe=D.power.clone(),un(Xe)&&(!Xe.lessThan(0)||D.group!==Rn)){var Vn=Xe.sign();D.toLinear(),I=I||new hr;var In={};D=x.parse(te.Utils.subFunctions(D,In)),fe(In).length>0&&(I.preAdd=function(xt){return x.parse(xt,te.Utils.getFunctionsSubs(In))}),D.isLinear()||(I.pFactor=D.power.toString(),D.toLinear());var en=zn(D);D.isImaginary()&&en.push(te.Settings.IMAGINARY);var _i=en.length>1;if(_i){var Vi=!0,Qt=!0;if(D.each(function(xt){xt.group!==we&&(Vi=!1),xt.multiplier.equals(1)||(Qt=!1)}),Vi&&Qt)return x.pow(x.parse(D,te.Utils.getFunctionsSubs(In)),x.parse(Xe))}var mn=new hr;D=ze.Factor.coeffFactor(D,mn),mn.each(function(xt){lt(Xe)&&xt.lessThan(0)&&xt.negate(),Vn<0&&xt.invert(),I.add(xt)});var Hi=new hr;if(D=ze.Factor.powerFactor(D,Hi),Hi.each(function(xt){Vn<0&&xt.invert(),I.add(xt)}),_i)D=ze.Factor.cubeFactor(D,I),D=ze.Factor.mfactor(D,I),I.each(function(xt){Vn<0&&xt.power.negate()});else{var Ei=en[0];D=ze.Factor.squareFree(D,I,Ei);var xe=new hr;D=ze.Factor.trialAndError(D,xe,Ei);var be=xe.toSymbol();if(be.equals(ie))return be;for(var Le in xe.factors)I.add(x.pow(xe.factors[Le],x.parse(Xe)));D.equals(ie)&&(D=ze.Factor.quadFactor(D,I))}D=x.parse(D,te.Utils.getFunctionsSubs(In));var nt=1===I.length;I.add(x.pow(D,x.parse(Xe)));var tn=I.toSymbol();return nt&&D.equals(1)&&tn.isLinear()&&(tn=x.pow(tn,x.parse(Xe))),tn}return D}catch{return ie}},reduce:function(D,I){if(D.group===Mi&&2===D.length){var O=D.collectSymbols().sort(function(dt,ut){return ut.multiplier-dt.multiplier});if(O[0].power.equals(O[1].power)){var U=x.parse(O[0].power),Z=O[0].clone().toLinear(),ie=O[1].clone().toLinear();I.add(x.add(Z.clone(),ie.clone())),ie.negate();for(var de=Number(U),Ee=new Je(0),ye=1;ye<=de;ye++){var Me=x.pow(Z.clone(),x.subtract(U.clone(),new Je(ye))),$e=x.pow(ie.clone(),x.subtract(new Je(ye),new Je(1)));Ee=x.add(Ee,x.multiply(Me,$e))}return Ee}}return D},squareFree:function(D,I,O){if(D.isConstant()||D.group===we)return D;var Z=new Wn(D,O).squareFree(),ie=Z[2];if(1!==ie){var de=Z[1].toSymbol();return de.power=de.power.multiply(new jt(ie)),I.add(ze.Factor.factor(de)),ze.Factor.squareFree(Z[0].toSymbol(),I)}return D},powerFactor:function(D,I){if(D.group!==ni||D.previousGroup===_t)return D;var O=fe(D.symbols);if(!te.Utils.allNumeric(O))return D;var U=te.Utils.arrayMin(O),Z=new Je(0),ie=x.parse(D.value+"^"+U);return D.each(function(de){de=x.divide(de,ie.clone()),Z=x.add(Z,de)}),I.add(ie),Z},coeffFactor:function(D,I){if(D.isComposite()){var O=te.Math2.QGCD.apply(null,D.coeffs());if(O.equals(1)){var U=function(de){var Ee;return de.group===St?(Ee=0,de.each(function(ye){Ee+=ye.power})):Ee=Number(de.power),Ee},Z=D.collectSymbols(null,null,null,!0).sort(function(de,Ee){return de.isConstant(!0)?1:Ee.power-de.power}),ie=Z[0];(U(ie)>U(Z[1])||Z[1].isConstant(!0))&&ie.multiplier.lessThan(0)&&(I.add(new Je(-1)),D.each(function(de){de.negate()},!0))}else D.each(function(de){de.isComposite()?de.each(function(Ee){Ee.multiplier=Ee.multiplier.divide(O)}):de.multiplier=de.multiplier.divide(O)}),D.updateHash();I&&I.add(new Je(O))}return D},trialAndError:function(D,I,O){var U=D.clone();try{var Z=[];if(D.isConstant()||D.group===we)return D;for(var ie=new Wn(D,O),Ee=te.Math2.ifactor(ie.coeffs[0]),ye=ze.proots(D),Me=0;Me<ye.length;Me++){var $e=ye[Me],dt=1;if(!isNaN($e)){for(var ut in Ee){var kt=te.Utils.round(Math.log(ut)/Math.log(Math.abs($e)),8);if(un(kt)){$e=ut,dt=kt;break}}var tn=new jt($e),hn=[new jt(tn.num).negate()];hn[dt]=new jt(tn.den);var Xe=Wn.fromArray(hn,ie.variable).fill(),Vn=ie.divide(Xe);Vn[1].equalsNumber(0)&&(ie=Vn[0],Z.push(Xe.toSymbol()))}}return ie.equalsNumber(1)||(ie=ze.Factor.search(ie,I)),Z.forEach(function(In){I.add(In)}),ie.toSymbol()}catch{return U}},search:function(D,I,O){O=O||10;var U=D.variable,Z=function(en,_i,Vi,Qt){var mn=Wn.fit(en,_i,Vi,O,Qt,U);if(mn&&mn.coeffs.length>1){var Hi=D.divide(mn);if(Hi[1].equalsNumber(0))return I.add(mn.toSymbol()),[Hi[0],mn]}return null},ie=D.coeffs[0],de=te.Math2.ifactor(ie),Ee=D.lc(),ye=te.Math2.ifactor(Ee),Me=D.sub(O),$e=te.Math2.ifactor(Me),dt=ze.Factor.mix($e,Me<0),ut=Math.ceil(D.coeffs.length/2),kt=Ee.lessThan(0),tn=ie.lessThan(0);for(ye[1]=1,de[1]=1;ut--;)for(var hn in ye)for(var Xe in de)for(var Vn=0;Vn<dt.length;Vn++){var In=Z(hn,Xe,dt[Vn],ut);if(In)return te.Utils.isPrime((D=In[0]).sub(O))||(D=ze.Factor.search(D,I)),D;In||(kt&&tn?In=Z(-hn,-Xe,dt[Vn],ut):kt?In=Z(-hn,Xe,dt[Vn],ut):tn&&(In=Z(hn,-Xe,dt[Vn],ut)))}return D},mSqfrFactor:function(D,I){if(D.group!==Rn)for(var O=zn(D).reverse(),U=0;U<O.length;U++)do{if(O[U]!==D.value){var Z=te.Calculus.diff(D,O[U]),ie=ze.Factor.coeffFactor(Z);if(ie.equals(0))break;var de=!0;if(ie.isConstant()&&D.isComposite()&&D.each(function(Me){Me.multiplier%ie!=0&&(de=!1)},!0),de){var Ee=ze.div(D,ie.clone()),ye=Ee[1].equals(0);if(D.equals(Ee[0])&&Ee[1].equals(0))break;if(Ee[0].isConstant()){I.add(Ee[0]);break}}else ye=!1;ye&&(I.add(Ee[0]),D=ie)}else I.add(D),D=new Je(1)}while(ye);return D},sqdiff:function(D,I){if(D.isConstant("all"))return D;try{var O=function($e){return te.Utils.block("POSITIVE_MULTIPLIERS",function(){return Je.unwrapPARENS(Ri.sqrt(Ri.abs($e)))},!0)},U=te.Utils.separate(D.clone()),Z=[];for(var ie in U)"constants"!==ie&&Z.push(U[ie]);if(Z.sort(function($e,dt){return dt.power-$e.power}),2===Z.length){var de,Ee;if(de=Z.pop(),Ee=Z.pop(),lt(de.power)&&lt(Ee.power)&&de.sign()===Ee.sign()&&de.group===we&&Ee.group===we)throw new Error("Unable to factor");if(de.isComposite()&&Ee.power.equals(2)){Ee=O(Ee);var ye=ze.Factor.factor(x.add(de,U.constants));ye.power.equals(2)&&(ye.toLinear(),I.add(x.subtract(ye.clone(),Ee.clone())),I.add(x.add(ye,Ee)),D=new Je(1))}else if(de=de.powSimp(),Ee=Ee.powSimp(),(de.group===we||""===de.fname)&&de.power.equals(2)&&(Ee.group===we||""===Ee.fname)&&Ee.power.equals(2)&&!U.constants){if(de.multiplier.lessThan(0)){var Me=Ee;Ee=de,de=Me}de.multiplier.greaterThan(0)&&(de=O(de),Ee=O(Ee)),I.add(x.subtract(de.clone(),Ee.clone())),I.add(x.add(de,Ee)),D=new Je(1)}}}catch{}return D},mfactor:function(D,I){if(D.group===Rn)if("sqrt"===D.fname){var O=new hr,U=ze.Factor.common(D.args[0].clone(),O);U=ze.Factor.coeffFactor(U,O),D=x.multiply(x.symfunction("sqrt",[U]),x.parse(D.multiplier)),O.each(function(Ei){D=x.multiply(D,x.parse(te.Utils.format("sqrt({0})",Ei)))})}else I.add(D);else{D=ze.Factor.mSqfrFactor(D,I);for(var Z=zn(D),ie=D.collectSymbols().map(function(Ei){return Je.unwrapSQRT(Ei)}),de={},Ee={},ye=Z.length,Me=ie.length,$e=0;$e<ye;$e++){var dt=Z[$e];de[dt]=new Je(0);for(var ut=0;ut<Me;ut++){var kt=ie[ut];if(kt.contains(dt)){var tn=kt.value===dt?kt.power.toDecimal():kt.symbols[dt].power.toDecimal();(!Ee[dt]||tn<Ee[dt])&&(Ee[dt]=tn),de[dt]=x.add(de[dt],kt.clone())}}}for(var hn in de){var Xe=x.parse(hn+"^"+Ee[hn]),Vn=x.divide(de[hn],Xe),In=x.expand(Vn);if(In.equals(1))break;var en=ze.div(D.clone(),In);if(en[0].equals(0))break;if(en[1].equals(0)){var _i=!1;if(en[0].each(function(Ei){un(Ei.multiplier)||(_i=!0)}),_i){en[1]=x.expand(x.multiply(en[1],In));break}}var Vi=un(In)&&In.lessThan(0);if(en[1].equals(0)&&!Vi){var Qt=ze.div(D.clone(),en[0].clone());if((Xe=Qt[0]).equals(0)||(D=Qt[1],Xe.equals(-1)&&!D.equals(0)))return D;var mn=en[0];if(D.equals(mn)){var Hi=ze.Factor.reduce(mn,I);return D.equals(Hi)?Hi:ze.Factor.mfactor(Hi,I)}return I.add(mn),D.equals(0)?Xe:Xe.isConstant("all")?(I.add(Xe),Xe):ze.Factor.mfactor(Xe,I)}}}return D=ze.Factor.sqdiff(D,I),D=ze.Factor.zeroes(D,I)}},allLinear:function(D){for(var I=D.length,O=0;O<I;O++)if(!ze.isLinear(D[O]))return!1;return!0},isLinear:function(D){var I=!1,O=D.group;if(O===ni||O===Mi)for(var U in I=!0,D.symbols){var Z=D.symbols[U],ie=Z.group;if((ie===Rn||ie===_t)&&(I=!1),ie===St)I=1===zn(Z).length;else if(ie===ni||ie===Mi)I=ze.isLinear(Z);else if(Z.group!==xi&&"1"!==Z.power.toString()){I=!1;break}}else O===we&&1===D.power&&(I=!0);return I},gcd:function(){var D;if(0===(D=1===arguments.length&&arguments[0]instanceof te.Vector?arguments[0].elements:te.Utils.arguments2Array(arguments)).length)return new Je(1);if(1===D.length)return D[0];for(var I=[],O=!1,U=0;U<D.length;U++)if(D[U].group===Rn&&"gcd"===D[U].fname)(D=D.concat(arguments[U].args)).splice(U,1);else{var Z=zn(D[U]);if(te.Utils.haveIntersection(Z,I)){O=!0;break}I=I.concat(Z)}if(O||0===I.length){if(D.every(function(de){return de.getDenom().equals(1)})){var ie=D[0];for(U=1;U<D.length;U++)ie=ze.gcd_(D[U],ie);return ie}return x.divide(ze.gcd.apply(null,D.map(function(de){return de.getNum()})),ze.lcm.apply(null,D.map(function(de){return de.getDenom()})))}return x.symfunction("gcd",D)},gcd_:function(D,I){if((D.group===Rn||D.group===Wi)&&(D=te.Utils.block("PARSE2NUMBER",function(){return x.parse(D)})),I.group===Rn&&(I=te.Utils.block("PARSE2NUMBER",function(){return x.parse(I)})),D.isConstant()&&I.isConstant())return new Je(te.Math2.QGCD(new jt(+D),new jt(+I)));var O=x.multiply(D.getDenom()||new Je(1),I.getDenom()||new Je(1)).invert();if(D=x.multiply(D.clone(),O.clone()),I=x.multiply(I.clone(),O.clone()),D=x.expand(D),I=x.expand(I),D.group===St||I.group===St){var U=x.divide(D.clone(),I.clone());if(!(Z=x.multiply(I.clone(),U.getDenom().invert())).equals(1))return Z}if(D.group===_t||I.group===_t){var ie=new Je(te.Math2.GCD(D.multiplier,I.multiplier)),de=ze.gcd_(D.value===xn?new Je(1):x.parse(D.value),I.value===xn?new Je(1):x.parse(I.value)),Ee=ze.gcd_(x.parse(D.power),x.parse(I.power));return x.multiply(ie,x.pow(de,Ee))}if(D.length<I.length){var Z=D;D=I,I=Z}var ye=zn(D),Me=zn(I);if(ye.length===Me.length&&1===ye.length&&ye[0]===Me[0]||1===ye.length&&0===Me.length||0===ye.length&&1===Me.length)return D=new Wn(D),I=new Wn(I),x.divide(D.gcd(I).toSymbol(),O);var dt,$e=[];for(D.each(function(kt){$e.push(kt.multiplier)}),I.each(function(kt){$e.push(kt.multiplier)});!I.equals(0);){if(Z=I.clone(),D=D.clone(),dt=ze.div(D,Z),I=dt[1],dt[0].equals(0))return x.divide(new Je(te.Math2.QGCD(D.multiplier,I.multiplier)),O);D=Z}var ut=te.Math2.QGCD.apply(void 0,$e);return ut.equals(1)||D.each(function(kt){kt.multiplier=kt.multiplier.divide(ut)}),!D.equals(1)||D.isConstant()||I.isConstant()?x.divide(D,O):x.divide(x.symfunction("gcd",arguments),O)},lcm:function(){var D;1===arguments.length?arguments[0]instanceof te.Vector?D=arguments[0].elements:x.error("lcm expects either 1 vector or 2 or more arguments"):D=te.Utils.arguments2Array(arguments);var U,I=D.reduce(function(ie,de){return x.multiply(ie,de.clone())},new Je(1)),O=function(ie,de){de=Number(de);var ye,Me,$e,Ee=[],dt=Math.pow(2,ie.length);for(Me=de;Me<dt;Me++){ye=[],$e=ie.length-1;do{Me&1<<$e&&ye.push(ie[$e])}while($e--);ye.length===de&&Ee.push(ye)}return Ee}(arguments,arguments.length-1).map(function(ie){return ie.reduce(function(de,Ee){return x.multiply(de,Ee.clone())},new Je(1))});return U=D.every(function(ie){return te.Utils.isVariableSymbol(ie)})?x.symfunction("gcd",te.Utils.arrayUnique(O)):ze.gcd.apply(null,O),x.divide(I,U)},divide:function(D,I){var O,U,Z,ie;return(ie=(Z=te.Algebra.Factor.factor(D.clone())).getDenom()).isConstant("all")?ie=new Je(1):D=x.expand(Je.unwrapPARENS(x.multiply(Z,ie.clone()))),O=ze.div(D,I),U=x.divide(O[1],I),x.divide(x.add(O[0],U),ie)},div:function(D,I){var tt,Ze,O=[new Je(0),D.clone()];try{if(I.isConstant("all"))return D.each(function(tt){tt.multiplier=tt.multiplier.divide(I.multiplier)}),[D,new Je(0)];if(D=x.expand(D),I=x.expand(I),D.group===we&&I.group===Mi){var U=D.value,Z=te.Utils.decompose_fn(I.clone(),U,!0);if(D.isLinear()&&Z.x&&Z.x.isLinear()&&I.isLinear()){var ie=Je.create(D.multiplier);return[x.divide(ie.clone(),Z.a.clone()),x.divide(x.multiply(ie,Z.b),Z.a).negate()]}}if(D.group===we&&I.group===we){var de=x.divide(D.clone(),I.clone());return de.isConstant()?[de,new Je(0)]:[new Je(0),D.clone()]}var Ee=D.hasFunc(),ye=I.hasFunc(),Me=!1;if(Ee||ye){Me=!0;var $e={},dt=(D=x.parse(te.Utils.subFunctions(D,$e)),I=x.parse(te.Utils.subFunctions(I,$e)),te.Utils.getFunctionsSubs($e))}var kt,tn,ut=te.Utils.arrayUnique(zn(D).concat(zn(I)));if((D.isImaginary()||I.isImaginary())&&ut.push(te.Settings.IMAGINARY),1===ut.length)kt=(hn=new Wn(D).divide(new Wn(I)))[0].toSymbol(),tn=hn[1].toSymbol();else{ut.push(xn);var Xe=function(tt){for(var Ze=new Je(0),it=0;it<tt.length;it++){var bt=tt[it].toSymbol();Ze=x.add(Ze,bt)}return Ze},Vn=function(tt,Ze){var at,it=Math.max.apply(null,tt.terms),bt=0;if(!Ze)for(var We=0;We<tt.terms.length;We++)if(tt.terms[We].equals(it)&&(at=We,bt++),bt>1)return;if(Ze)for(We=0;We<tt.terms.length;We++)if(tt.terms[We].equals(it)){at=We;break}return[it,at,tt]},In=function(tt,Ze){var it=tt[Ze=Ze||0],bt=tt.length;if(it){for(var at=Vn(it),We=Ze+1;We<bt;We++){var Ye=tt[We],Ft=it.sum.equals(Ye.sum);if(!Ft&&at)break;if(Ft){for(var Bt,Wt,Pn,fn,Li=it.terms.length,kn=0;kn<Li;kn++){var An=it.terms[kn],Si=Ye.terms[kn];(typeof Bt>"u"||An.greaterThan(Bt))&&(Bt=An,Pn=kn),(typeof Wt>"u"||Si.greaterThan(Wt))&&(Wt=Si,fn=kn)}var oi=Bt.subtract(Ye.terms[Pn]),Ai=Wt.subtract(it.terms[fn]);if(Ai>oi){at=[Wt,fn,Ye];break}if(oi>Ai){at=[Bt,Pn,it];break}}else if(at=Vn(Ye))break;at=Vn(Ye)}if(!at)return Vn(tt[0],!0);var Ti,En;for(We=0;We<mn.length;We++){var zt=mn[We].terms;if((En=at[1])===zt.length-1)return;if(!(Ti=zt[En]).equals(0))break}return Ti.equals(0)?In(tt,++Ze):at}},en=te.Utils.toMapObj(ut),_i=function(tt,Ze){return Ze.sum.subtract(tt.sum)},Vi=function(tt,Ze){if(!tt||!Ze)return!1;for(var it=0;it<tt.terms.length;it++)if(tt.terms[it].lessThan(Ze.terms[it]))return!1;return!0},Qt=D.tBase(en).sort(_i),mn=I.tBase(en).sort(_i),Hi=Vi(Qt[0],mn[0])&&Qt[0].count>mn[0].count?mn:Qt,Ei=In(Hi),xe=[];if(Ei){var be=Ei[1],nt=function(tt,Ze){var it=tt.len(),bt=Ze.len(),at=Ze.terms[be],We=tt.terms[be];return bt>it&&at.greaterThan(We)?bt-it:at.subtract(We)};be=function(tt,Ze,it){for(var bt=[],at=0;at<tt.length;at++)for(var We=tt[at],Ye=0;Ye<We.terms.length;Ye++){var Ft=bt[Ye],Bt=We.terms[Ye];0===at?bt[Ye]=Bt:Ft&&!Ft.equals(Bt)&&(bt[Ye]=void 0)}for(at=0;at<bt.length;at++)if((We=bt[at])&&!We.equals(0))return at;return it}(Qt,0,be),Qt.sort(nt),mn.sort(nt);var ft=mn[0],xt=Qt[0],ke=new Fn(new jt(1),[],xt.map);if(ft.sum.greaterThan(xt.sum)&&xt.len()>1)for(var Te=0;Te<xt.terms.length;Te++){var Gt=ft.terms[Te].subtract(xt.terms[Te]);if(Gt.equals(0))ke.terms[Te]=new jt(0);else{var k=Gt.add(new jt(1));ke.terms[Te]=Gt;for(var ne=0;ne<Qt.length;ne++)Qt[ne].terms[Te]=Qt[ne].terms[Te].add(k)}}for(var he=Vi(Qt[0],mn[0]),Fe=0;he&&(!(tt=Qt)[0].sum.equals((Ze=mn)[0].sum)||tt.length>=Ze.length);){if(Fe++>200)throw new te.exceptions.InfiniteLoopError("Unable to compute!");var hn=Qt[0].divide(mn[0]);for(xe.push(hn),Qt.shift(),Te=1;Te<mn.length;Te++){var se=mn[Te].multiply(hn).generateImage(),Ge=Qt.length;for(0===Ge&&(se.coeff=se.coeff.neg(),Qt.push(se),Qt.sort(nt)),ne=0;ne<Ge;ne++){var st=Qt[ne];if(st.getImg()===se.getImg()){st.coeff=st.coeff.subtract(se.coeff),st.coeff.equals(0)&&(te.Utils.remove(Qt,ne),ne--);break}ne===Ge-1&&(se.coeff=se.coeff.neg(),Qt.push(se),Qt.sort(nt))}}if(!(he=Vi(Qt[0],mn[0]))&&Qt.length>=mn.length)for(Te=1;Te<Qt.length;Te++)if(he=Vi(Qt[Te],mn[0])){Qt.unshift(te.Utils.remove(Qt,Te));break}}}kt=Xe(xe),tn=Xe(Qt),typeof ke<"u"&&(ke=ke.toSymbol(),kt=x.divide(kt,ke.clone()),tn=x.divide(tn,ke))}return Me&&(kt=x.parse(kt.text(),dt),tn=x.parse(tn.text(),dt)),[kt,tn]}catch{return O}},line:function(D,I,O){te.Utils.isArray(D)&&(D=te.Utils.convertToVector(D)),te.Utils.isArray(I)&&(I=te.Utils.convertToVector(I)),O=x.parse(O||"x"),(!te.Utils.isVector(D)||!te.Utils.isVector(I))&&x.error('Line expects a vector! Received "'+D+'" & "'+I+'"');var U=x.subtract(I.e(1).clone(),D.e(1).clone()),Z=x.subtract(I.e(2).clone(),D.e(2).clone()),ie=x.divide(Z,U),de=x.multiply(O,ie.clone()),Ee=x.multiply(D.e(1).clone(),ie);return x.add(x.subtract(de,Ee),D.e(2).clone())},PartFrac:{createTemplate:function(D,I,O,U){var Z,ie,de,Ee,ye,Me,$e;(D=ze.Factor.factor(D)).each(function(Xe,Vn){if(Xe.group===Rn&&""===Xe.fname&&Xe.args[0].group===we){var In=Xe.args[0];this.symbols?(delete this.symbols[Vn],this.symbols[In.value]=In):D=Xe.args[0]}}),Z=I.collectFactors(),ie=[],Me=[],$e=new Je(1);for(var dt=0;dt<Z.length;dt++){var ut=Je.unwrapPARENS(Z[dt]);if(ut.power.greaterThan(1)){Ee=Number(ut.power),de=ut.clone().toLinear(),ye=Number(ze.degree(de,U));for(var kt=0;kt<Ee;kt++){var tn=x.pow(de.clone(),new Je(kt+1));O.push(tn.clone());var hn=x.divide(D.clone(),tn.clone());Me.push(ye),ie.push(hn)}}else ye=Number(ze.degree(ut,U)),O.push(ut),hn=x.divide(D.clone(),ut.clone()),hn=x.expand(Je.unwrapPARENS(hn)),Me.push(ye),ie.push(hn)}return[O=O.map(function(Xe){return x.multiply(Xe,$e.clone())}),ie,Me]},partfrac:function(D,I,O){var U=zn(D);I=I||x.parse(U[0]);try{var Z,ie,de,Ee,ye,Me,$e,dt,ut,kt,tn,hn,Xe,In,en,_i,Qt,mn;if(Z=x.expand(D.getNum()),ie=x.expand(D.getDenom().toUnitMultiplier()),Z.multiplier=D.multiplier,ye=Z.groupTerms(I),Number(ze.degree(Z,I))>=Number(ze.degree(ie,I))?(Xe=(hn=ze.div(Z.clone(),x.expand(ie.clone())))[0],ye=(Z=hn[1]).groupTerms(I)):Xe=new Je(0),1===Number(ze.degree(ie,I))){var Vi=x.divide(Z,ie);return O?[Xe,Vi]:x.add(Xe,Vi)}Ee=ze.Factor.factor(ie),en=ze.PartFrac.createTemplate(ie.clone(),Ee,[],I),_i=en[0],Me=en[2],tn=[ye.length],$e=[],de=[],In=[],en[1].map(function(nt,ft){Qt=_i[ft],mn=Me[ft];for(var xt=0;xt<mn;xt++){de.push(Qt.clone());var ke=Je.create(I,xt),Te=x.expand(x.multiply(nt,ke.clone())).groupTerms(I);tn.push(Te.length),$e.push(Te),In.push(ke.clone())}}),dt=te.Utils.arrayMax(tn),kt=new te.Matrix(te.Utils.fillHoles(ye,dt)).transpose(),ut=new te.Matrix;for(var Hi=0;Hi<$e.length;Hi++)ut.elements.push(te.Utils.fillHoles($e[Hi],dt));var Ei=x.multiply(ut.transpose().invert(),kt),xe=O?[Xe]:Xe;return Ei.each(function(nt,ft){var xt=x.multiply(In[ft],x.divide(nt,de[ft]));O?xe.push(xt):xe=x.add(xe,xt)}),xe}catch{try{if(D.isComposite()){var be={};D.each(function(ft){var xt=ft.getDenom(),ke=ft.getNum(),Te=be[xt];be[xt]=Te?x.add(Te,ke):ke});var Le=new Je(0);for(var Ne in be)Le=x.add(Le,x.divide(be[Ne],x.parse(Ne)));D=Le}}catch{}}return D}},degree:function(D,I,O){if(O=O||{nd:[],sd:[],depth:0},!I){var U=zn(D);if(U.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(0===U.length)return new Je(0);I=x.parse(U[0])}var Z=D.group;D.isComposite()?((D=D.clone()).distributeExponent(),D.each(function(de){O.depth++,ze.degree(de,I,O),O.depth--})):D.group===St?D.each(function(de){O.depth++,ze.degree(de,I,O),O.depth++}):Z===_t&&D.value===I.value?O.sd.push(D.power.clone()):O.nd.push(Z===we&&D.value===I.value?x.parse(D.power):new Je(0));var ie=O.nd.length>0?te.Utils.arrayMax(O.nd):void 0;return 0===O.depth&&O.sd.length>0?(void 0!==ie&&O.sd.unshift(ie),x.symfunction("max",O.sd)):(te.Utils.isSymbol(ie)||(ie=x.parse(ie)),ie)},sqComplete:function(D,I,O){te.Utils.isSymbol(I)||(I=x.parse(I));var Z,ie,de,Ee,ye,Me,$e,dt,ut,kt,tn,U=function(hn){throw new te.exceptions.ValueLimitExceededError(hn=hn||"Stopping")};return D.isPoly(!0)||U("Must be a polynomial!"),ut=te.Utils.inBrackets,D=D.clone(),(Z=te.Algebra.degree(D,I)).equals(2)||U("Cannot complete square for degree "+Z),ie=($e=te.Algebra.coeffs(D,I))[2],dt=$e[1].sign(),de=x.divide($e[1],new Je(2)),Ee=x.pow(de.clone(),new Je(2)),O?[ie,de,ye]:(tn=Ri.sqrt(ie),Me=x.divide(Ri.sqrt(Ee),tn.clone()),ye=x.subtract($e[0],x.pow(Me.clone(),new Je(2))),{a:kt=x.parse(ut(tn.clone()+"*"+I+(dt<0?"-":"+")+Me)),c:ye,f:x.add(x.pow(kt.clone(),new Je(2)),ye.clone())})},Simplify:{strip:function(D){var I=x.parse(D.multiplier);D.toUnitMultiplier();var O=x.parse(D.power);return D.toLinear(),[I,O,D]},unstrip:function(D,I){return x.multiply(D[0],x.pow(I,D[1]))},complexSimp:function(D,I){var O,U,Z,ie,de,Ee,ye,Me,$e;return Ee=D.realpart(),Me=D.imagpart(),ye=I.realpart(),$e=I.imagpart(),O=x.multiply(Ee.clone(),ye.clone()),U=x.multiply(Me.clone(),$e.clone()),Z=x.multiply(ye.clone(),Me),ie=x.multiply(Ee,$e.clone()),de=x.add(x.pow(ye,new Je(2)),x.pow($e,new Je(2))),x.divide(x.add(x.add(O,U),x.multiply(x.subtract(Z,ie),Je.imaginary())),de)},trigSimp:function(D){if(D.containsFunction(["cos","sin","tan"])){D=D.clone();var I=ze.Simplify.strip(D),O=(D=I.pop()).clone();if(D.group===Mi){var U=new Je(0);D.each(function(Ee){var ye=ze.Simplify.trigSimp(Ee.fnTransform());U=x.add(U,ye)},!0),O=x.pow(x.multiply(new Je(D.multiplier),U),new Je(D.power))}else if(D.group===St){var Z=D.getNum(),ie=D.getDenom();if("sin"===Z.fname&&"cos"===ie.fname&&Z.args[0].equals(ie.args[0])&&Z.power.equals(ie.power)&&(O=x.parse(te.Utils.format("({0})*({1})*tan({2})^({3})",ie.multiplier,Z.multiplier,Z.args[0],Z.power))),O.group===St){var de=new Je(1);O.each(function(Ee){"tan"===Ee.fname&&(Ee=x.parse(te.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",Ee.multiplier,ze.Simplify.simplify(Ee.args[0]),Ee.power))),de=x.multiply(de,Ee)}),O=de}}D=O=ze.Simplify.unstrip(I,O).distributeMultiplier()}return D},fracSimp:function(D){var I=D.getDenom();if((O=D.getNum()).isImaginary()&&I.isImaginary()&&(D=ze.Simplify.complexSimp(O,I)),D.isComposite()){D.power>1&&(D=x.expand(D));var Z,ie,de,Ee,ye,Me,$e,dt,ut,kt,tn,O,U=D.collectSymbols();for(ie=U.pop();U.length;)de=U.pop(),Ee=x.parse(ie.getDenom()),ye=x.parse(de.getDenom()),Me=ie.getNum(),$e=de.getNum(),tn=x.multiply(Ee.clone(),ye.clone()),ut=x.multiply(Me,ye),kt=x.multiply($e,Ee),dt=x.add(ut,kt),ie=x.divide(dt,tn);return I=x.expand(ie.getDenom()),(Z=(O=x.expand(ie.getNum())).isImaginary()&&I.isImaginary()?ze.Simplify.complexSimp(O,I):x.divide(O,I)).equals(D)?D:ze.Simplify.simplify(Z)}return D},ratSimp:function(D){if(D.group===St){var I=D.getDenom(),O=D.getNum().distributeMultiplier(),U=ze.Simplify.fracSimp(I),Z=ze.Simplify.fracSimp(O);D=x.divide(Z,U)}return D},sqrtSimp:function(D,I){if(D.isSQRT()){var de,U=ze.Factor.factor(D.args[0].clone()),Z=x.parse(U.multiplier),ie=Z.sign(),O=x.sqrt(Z.abs());if(un(O)){if(U.group===St){var Ee=new Je(1);U.each(function($e){if($e.group===xi){var dt=x.sqrt($e.clone());un(dt)?O=x.multiply(O,dt):Ee=x.multiply(Ee,$e)}else Ee=x.multiply(Ee,$e)});var ye=x.multiply(Ee,x.parse(ie));(de=x.sqrt(ye.clone())).isImaginary&&(de=x.sqrt(x.expand(ye.clone())))}else de=x.sqrt(U.clone().toUnitMultiplier());return x.multiply(O,de)}}else D.isComposite()&&D.isLinear()?(O=new Je(0),D.each(function(Me){O=x.add(O,ze.Simplify.sqrtSimp(Me))},!0),O=x.multiply(O,x.parse(D.multiplier))):D.group===St&&(O=x.parse(D.multiplier),D.each(function(Me){var $e=ze.Simplify.sqrtSimp(Me);O=x.multiply(O,$e)},!0),O=x.pow(O,x.parse(D.power)));return O||x.parse(D)},patternSub:function(D){var I={},O=function(Z){var ie=!1;return Z.each(function(de){de.group===Mi?ie=!0:de.symbols&&(ie=O(de))}),ie},U=function(Z){Z.each(function(ie){if(ie.symbols||ie.group===Rn)if(O(ie))U(ie);else if(!I[ie.value]){var de=te.Utils.getU(D);I[ie.value]=de,D=D.sub(ie.value,de)}},!0)};return U(D),[D,I]},simplify:function(D){var I=ze.Simplify.strip(D);if(D=I.pop(),(D=ze.Simplify.fracSimp(D)).isConstant()||D.group===te.groups.S)return I.push(D),ze.Simplify.unstrip(I,D);var U=D.clone();if(U=ze.Simplify.trigSimp(U),U=ze.Simplify.ratSimp(U),(U=ze.Factor.factor(U)).group===te.groups.CP&&U.isLinear()){var Z=U.multiplier.clone();U.toUnitMultiplier();var ie=new Je(0);U.each(function(Ee){var ye=ze.Simplify.simplify(Ee);ie=x.add(ie,ye)}),U=ie,ie.multiplier=ie.multiplier.multiply(Z)}return ze.Simplify.unstrip(I,U)}},Classes:{Polynomial:Wn,Factors:hr,MVTerm:Fn}};te.Expression.prototype.simplify=function(){return ze.Simplify.simplify(this.symbol)},Ho.useAlgebraDiv=function(){var D=ze.divideFn=x.divide,I=0;x.divide=function(O,U){var Z;return Z=1==++I?te.Algebra.divide(O,U):D(O,U),I=0,Z}},Ho.useParserDiv=function(){ze.divideFn&&(x.divide=ze.divideFn),delete ze.divideFn},Ho.register([{name:"factor",visible:!0,numargs:1,build:function(){return ze.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return ze.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return ze.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return ze.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return ze.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return ze.divide}},{name:"div",visible:!0,numargs:2,build:function(){return ze.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return ze.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return ze.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var I=ze.coeffs.apply(ze,arguments);return new te.Vector(I)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return ze.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(I,O){try{return O=O||zn(I)[0],ze.sqComplete(I.clone(),O).f}catch{return I}}}}]),Ho.updateAPI()}()},374:(xl,E0,Pi)=>{if(typeof Ho>"u"){var Ho=Pi(270);Pi(512)}!function(){"use strict";var te=Ho.getCore(),x=te.PARSER,xi=te.Frac,Wi=te.Settings,we=te.Utils.isSymbol,an=te.groups.FN,_t=te.Symbol,Rn=te.Utils.text,ni=te.Utils.inBrackets,Mi=te.Utils.isInt,St=te.Utils.format,fe=te.Utils.even,lt=te.Utils.evaluate,zn=te.groups.N,At=te.groups.S,jt=(an=te.groups.FN,te.groups.PL),un=te.groups.CP,Je=te.groups.CB,xn=te.groups.EX,Ri=te.groups.P,dr=Wi.LOG,hr="abs",Fn="sqrt",ze="sin",D="cos",I="tan",O="sec",U="csc",Z="cot",ie="asin",de="acos",Ee="atan",ye="asec",Me="acsc",$e="acot",dt="sinh",ut="cosh",kt="tanh",tn="csch",hn="sech",Xe="coth",Vn="asech",In="acsch",en="acoth";function _i(be){this.message=be||""}_i.prototype=new Error,_t.prototype.hasIntegral=function(){return this.containsFunction("integrate")},_t.prototype.fnTransform=function(){if(this.group!==an)return this;var be,Le=this.args[0],Ne=new _t(this.multiplier),nt=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case dt:be=x.parse(St("(e^({0})-e^(-({0})))/2",Le));break;case ut:be=x.parse(St("(e^({0})+e^(-({0})))/2",Le));break;case kt:be=x.parse(St("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",Le));break;case I:be=x.parse(St("sin({0})/cos({0})",Le));break;case U:be=x.parse(St("1/sin({0})",Le));break;case O:be=x.parse(St("1/cos({0})",Le));break;default:be=nt}else if(this.power.equals(2))switch(this.fname){case ze:be=x.parse(St("1/2-cos(2*({0}))/2",Le));break;case D:be=x.parse(St("1/2+cos(2*({0}))/2",Le));break;case I:be=x.parse(St("sin({0})^2/cos({0})^2",Le));break;case ut:be=x.parse(St("1/2+cosh(2*({0}))/2",Le));break;case dt:be=x.parse(St("-1/2+cosh(2*({0}))/2",Le));break;case kt:be=x.parse(St("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",Le));break;case O:be=x.parse(St("(1-cos(2*({0})))/(1+cos(2*({0})))+1",Le));break;default:be=nt}else if(this.fname===O)be=x.parse(St("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===U)be=x.parse(St("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===I)be=this.power.lessThan(0)?x.parse(St("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):x.parse(St("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===ze&&this.power.lessThan(0))be=x.parse(St("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===D&&this.power.lessThan(0))be=x.parse(St("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===ze&&this.power.equals(3))be=x.parse(St("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===D&&this.power.equals(3))be=x.parse(St("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if(this.fname!==D&&this.fname!==ze||!fe(this.power))be=nt;else{var ft=this.power/2,xt=x.pow(this.clone().toLinear(),x.parse(2)).fnTransform(),ke=x.expand(x.pow(xt,x.parse(ft)));be=new _t(0),ke.each(function(Te){var Gt=Te.fnTransform();be=x.add(be,Gt)},!0)}return x.multiply(be,Ne)},_t.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===At)return!1;if(this.fname&&(te.Utils.in_trig(this.fname)||te.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols)for(var be in this.symbols)if(this.symbols[be].hasTrig())return!0;return!1},te.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},te.Utils.toCommonDenominator=function(be){if(be.isComposite()&&be.isLinear()){var Le=new _t(be.multiplier),Ne=new _t(1),nt=new _t(0);return be.each(function(xt){Ne=x.multiply(Ne,xt.getDenom())},!0),be.each(function(xt){var ke=xt.getNum(),Te=xt.getDenom(),Gt=x.multiply(ke,x.divide(Ne.clone(),Te));nt=x.add(nt,Gt)}),x.multiply(Le,te.Algebra.divide(x.expand(nt),x.expand(Ne)))}return be},te.Utils.in_inverse_trig=function(be){return-1!==[ie,de,Ee,Me,ye,$e].indexOf(be)},te.Utils.in_trig=function(be){return-1!==[D,ze,I,O,U,Z].indexOf(be)},te.Utils.in_htrig=function(be){return-1!==[dt,ut,kt,In,Vn,en].indexOf(be)},te.Matrix.jacobian=function(be,Le){var Ne=new te.Matrix;return Le||(Le=te.Utils.arrayGetVariables(be)),Le.forEach(function(nt,ft){be.forEach(function(xt,ke){var Te=te.Calculus.diff(xt.clone(),nt);Ne.set(ke,ft,Te)})}),Ne},te.Matrix.prototype.max=function(){var be=new _t(0);return this.each(function(Le){var Ne=Le.abs();Ne.gt(be)&&(be=Ne)}),be},te.Matrix.cMatrix=function(be,Le){var Ne=new te.Matrix;return Le.forEach(function(nt,ft){Ne.set(ft,0,x.parse(be))}),Ne};var Vi=te.Utils.all_functions=function(be){for(var Le=0,Ne=be.length;Le<Ne;Le++)if(be[Le].group!==an)return!1;return!0},Qt=te.Utils.cosAsinBtranform=function(be,Le){return x.parse(St("(sin(({0})+({1}))-sin(({0})-({1})))/2",be.args[0],Le.args[0]))},mn=te.Utils.cosAsinAtranform=function(be,Le){return 1!==Number(Le.power)?x.multiply(be,Le):x.parse(St("(sin(2*({0})))/2",be.args[0]))},Hi=te.Utils.cosAsinBtranform=function(be,Le){return x.parse(St("(cos(({0})+({1}))-cos(({0})-({1})))/2",be.args[0],Le.args[0]))},Ei=te.Utils.trigTransform=function(be){for(var Ne,nt,Le={},ft=new _t(1),xt=0,ke=be.length;xt<ke;xt++)if((Ne=be[xt]).group===an){var Te=Ne.fname;Te===D&&Le[ze]?(nt=Le[ze].args[0].toString()!==Ne.args[0].toString()?Qt(Ne,Le[ze]):mn(Ne,Le[ze]),delete Le[ze],ft=x.multiply(ft,nt)):Te===ze&&Le[D]?(nt=Le[D].args[0].toString()!==Ne.args[0].toString()?Qt(Ne,Le[D]):mn(Ne,Le[D]),delete Le[D],ft=x.multiply(ft,nt)):Te===ze&&Le[ze]?(Le[ze].args[0].toString()!==Ne.args[0].toString()?(nt=Hi(Ne,Le[ze]),delete Le[ze]):(nt=x.multiply(Ne,Le[ze]),delete Le[ze]),ft=nt):Le[Te]=Ne}else ft=x.multiply(ft,Ne);for(var Gt in Le)ft=x.multiply(ft,Le[Gt]);return ft};te.Settings.integration_depth=10,te.Settings.max_lim_depth=10;var xe=te.Calculus={version:"1.4.6",sum:function(be,Le,Ne,nt){if(Le.group!==te.groups.S)throw new te.exceptions.NerdamerTypeError("Index must be symbol. "+Rn(Le)+" provided");var ft;if(Le=Le.value,te.Utils.isNumericSymbol(Ne)&&te.Utils.isNumericSymbol(nt)){var xt=nt-Ne<200?"":"PARSE2NUMBER";Ne=Number(Ne),nt=Number(nt),ft=te.Utils.block(xt,function(){for(var ke=be.text(),Te={"~":!0},Gt=new te.Symbol(0),k=Ne;k<=nt;k++){Te[Le]=new _t(k);var ne=x.parse(ke,Te);Gt=x.add(Gt,ne)}return Gt})}else ft=x.symfunction("sum",arguments);return ft},product:function(be,Le,Ne,nt){if(Le.group!==te.groups.S)throw new te.exceptions.NerdamerTypeError("Index must be symbol. "+Rn(Le)+" provided");return Le=Le.value,te.Utils.isNumericSymbol(Ne)&&te.Utils.isNumericSymbol(nt)?te.Utils.block(nt-Ne<200?"":"PARSE2NUMBER",function(){Ne=Number(Ne),nt=Number(nt.multiplier);for(var ke=be.text(),Te={},Gt=new te.Symbol(1),k=Ne;k<=nt;k++)Te[Le]=new _t(k),Gt=x.multiply(Gt,x.parse(ke,Te));return Gt}):x.symfunction("product",arguments)},diff:function(be,Le,Ne){if(te.Utils.isVector(be)){var nt=new te.Vector([]);return be.each(function(se){nt.elements.push(xe.diff(se,Le,Ne))}),nt}if(te.Utils.isMatrix(be)){var ft=new te.Matrix;return be.each(function(se,Ge,st){ft.set(Ge,st,xe.diff(se,Le,Ne))}),ft}var xt=we(Le)?Le.text():Le;if(Ne=we(Ne)?Ne.multiplier:Ne||1,void 0===xt&&(xt=te.Utils.variables(be)[0]),be.group===an&&be.fname===Fn){var ke=be.args[0],Te=be.power.clone();(ke.group!==zn||ke.group!==Ri)&&(ke.power=we(ke.power)?x.multiply(ke.power,x.multiply(new _t(.5)),Te):ke.power.multiply(new xi(.5)).multiply(Te),ke.multiplier=ke.multiplier.multiply(be.multiplier)),be=ke}if(be.group!==an||we(be.power))be=he(be);else{var Gt=he(x.parse(be)),k=xe.diff(be.args[0].clone(),xt);be=x.multiply(Gt,k)}return Ne>1&&(Ne--,be=xe.diff(be,Le,Ne)),be;function ne(se){return(se.value===xt||se.contains(xt,!0))&&(se.multiplier=se.multiplier.multiply(se.power),se.power=se.power.subtract(new xi(1)),se.power.equals(0)&&(se=_t(se.multiplier))),se}function he(se){var tt,Ze,Ge=se.group;if(Ge===zn||Ge===At&&se.value!==xt||Ge===Ri)se=_t(0);else if(Ge===At)se=ne(se);else{if(Ge===Je){var it=se.multiplier.clone();se.toUnitMultiplier();var bt=x.multiply(function Ve(se){for(var Ge=se.collectSymbols(),st=new _t(0),tt=Ge.length,Ze=0;Ze<tt;Ze++){for(var it=xe.diff(Ge[Ze].clone(),xt),bt=0;bt<tt;bt++)Ze!==bt&&(it=x.multiply(it,Ge[bt].clone()));st=x.add(st,it)}return st}(se),ne(se));return bt.multiplier=bt.multiplier.multiply(it),bt}if(Ge===an&&se.power.equals(1))switch(se.fname){case dr:Ze=se.clone(),(se=se.args[0].clone()).power=se.power.negate(),se.multiplier=Ze.multiplier.divide(se.multiplier);break;case D:se.fname=ze,se.multiplier.negate();break;case ze:se.fname=D;break;case I:se.fname=O,se.power=new xi(2);break;case O:se=Fe(se,I);break;case U:se=Fe(se,"-cot");break;case Z:se.fname=U,se.multiplier.negate(),se.power=new xi(2);break;case ie:se=x.parse("(sqrt(1-("+Rn(se.args[0])+")^2))^(-1)");break;case de:se=x.parse("-(sqrt(1-("+Rn(se.args[0])+")^2))^(-1)");break;case Ee:se=x.parse("(1+("+Rn(se.args[0])+")^2)^(-1)");break;case hr:it=se.multiplier.clone(),se.toUnitMultiplier(),(tt=se.args[0].clone()).toUnitMultiplier(),(se=x.parse(ni(Rn(se.args[0]))+"/abs"+ni(Rn(tt)))).multiplier=it;break;case"parens":se=_t(1);break;case"cosh":se.fname="sinh";break;case"sinh":se.fname="cosh";break;case kt:se.fname=hn,se.power=new xi(2);break;case hn:se=Fe(se,"-tanh");break;case tn:var at=String(se.args[0]);return x.parse("-coth("+at+")*csch("+at+")");case Xe:return at=String(se.args[0]),x.parse("-csch("+at+")^2");case"asinh":se=x.parse("(sqrt(1+("+Rn(se.args[0])+")^2))^(-1)");break;case"acosh":se=x.parse("(sqrt(-1+("+Rn(se.args[0])+")^2))^(-1)");break;case"atanh":se=x.parse("(1-("+Rn(se.args[0])+")^2)^(-1)");break;case Vn:at=String(se.args[0]),se=x.parse("-1/(sqrt(1/("+at+")^2-1)*("+at+")^2)");break;case en:se=x.parse("-1/(("+se.args[0]+")^2-1)");break;case In:at=String(se.args[0]),se=x.parse("-1/(sqrt(1/("+at+")^2+1)*("+at+")^2)");break;case ye:at=String(se.args[0]),se=x.parse("1/(sqrt(1-1/("+at+")^2)*("+at+")^2)");break;case Me:at=String(se.args[0]),se=x.parse("-1/(sqrt(1-1/("+at+")^2)*("+at+")^2)");break;case $e:se=x.parse("-1/(("+se.args[0]+")^2+1)");break;case"S":at=String(se.args[0]),se=x.parse("sin((pi*("+at+")^2)/2)");break;case"C":at=String(se.args[0]),se=x.parse("cos((pi*("+at+")^2)/2)");break;case"Si":se=x.parse("sin("+(at=se.args[0])+")/("+at+")");break;case"Shi":se=x.parse("sinh("+(at=se.args[0])+")/("+at+")");break;case"Ci":se=x.parse("cos("+(at=se.args[0])+")/("+at+")");break;case"Chi":se=x.parse("cosh("+(at=se.args[0])+")/("+at+")");break;case"Ei":se=x.parse("e^("+(at=se.args[0])+")/("+at+")");break;case"Li":se=x.parse("1/"+Wi.LOG+"("+(at=se.args[0])+")");break;case"erf":se=x.parse("(2*e^(-("+se.args[0]+")^2))/sqrt(pi)");break;case"atan2":var We=String(se.args[0]),Ye=String(se.args[1]);se=x.parse("("+Ye+")/(("+Ye+")^2+("+We+")^2)");break;case"sign":se=new _t(0);break;case"sinc":se=x.parse(St("(({0})*cos({0})-sin({0}))*({0})^(-2)",se.args[0]));break;case Wi.LOG10:se=x.parse("1/(("+se.args[0]+")*"+Wi.LOG+"(10))");break;default:se=x.symfunction("diff",[se,Le])}else if(Ge===xn||Ge===an&&we(se.power)){var Ft;Ft=Ge===xn?se.value:Ge===an&&se.contains(xt)?se.fname+ni(Rn(se.args[0])):se.value+ni(Rn(se.args[0])),x.multiply(x.parse(dr+ni(Ft)),se.power.clone()),tt=xe.diff(x.multiply(x.parse(dr+ni(Ft)),se.power.clone()),xt),se=x.multiply(se,tt)}else if(Ge!==an||se.power.equals(1)){if(Ge===un||Ge===jt){var Bt=se.clone(),Wt=new _t(0);for(var Pn in se.symbols)Wt=x.add(Wt,xe.diff(se.symbols[Pn].clone(),xt));se=x.multiply(ne(Bt),Wt)}}else(tt=se.clone()).toLinear(),tt.toUnitMultiplier(),se=x.multiply(ne(se.clone()),he(tt))}return se.updateHash(),se}function Fe(se,Ge,st){return x.multiply(se,x.parse(Ge+ni(st||Rn(se.args[0]))))}},integration:{u_substitution:function(be,Le){function Ne(We,Ye,Ft){var Bt=xe.diff(Ye,Le),Wt=Ft?Ft(We,Ye):x.divide(We.clone(),Bt);return Wt.contains(Le,!0)?null:Wt}function nt(We,Ye){var Ft=xe.integrate(x.symfunction(We,[new _t(Gt)]),Gt,0);return(Ft=Ft.sub(new _t(Gt),Ye)).updateHash(),Ft}var k,ft=be[0].clone(),xt=be[1].clone(),ke=ft.group,Te=xt.group,Gt="__u__";if(ke===an&&Te!==an){if(k=Ne(xt,(ne=ft.args[0]).clone()))return x.multiply(k,nt(ft.fname,ne));if(k=Ne(xt,ft))return xe.integration.poly_integrate(ft)}else if(Te===an&&ke!==an){var ne;if(k=Ne(ft,(ne=xt.args[0]).clone()))return x.multiply(k,nt(xt.fname,ne))}else if(ke===an&&Te===an){if((k=Ne(ft.clone(),xt.clone()))||(k=Ne(xt.clone(),ft.clone())))return x.multiply(xe.integration.poly_integrate(xt),k)}else{if(ke===xn&&Te!==xn){if(!(k=Ne(xt,(he=ft.power).clone()))){var Fe=xe.integration.decompose_arg(he.clone(),Le),Ve=xe.diff(Fe[2].clone(),Le),se=xe.integration.decompose_arg(Ve.clone(),Le);if(x.multiply(Fe[1],se[1]).power.equals(xt.power)){var Ge=x.divide(Fe[0].clone(),se[0].clone()),st=x.multiply(Ge.clone(),x.pow(new _t(ft.value),x.multiply(Fe[0],new _t(Gt))));return st=x.multiply(st,new _t(Gt)),xe.integration.by_parts(st,Gt,0,{}).sub(Gt,Fe[1].clone())}}var tt=xe.integrate(ft.sub(he.clone(),new _t(Gt)),Gt,0);return x.multiply(tt.sub(new _t(Gt),he),k)}var he;if(Te===xn&&ke!==xn)return k=Ne(ft,(he=xt.power).clone()),tt=xe.integrate(xt.sub(he,new _t(Gt)),Gt,0),x.multiply(tt.sub(new _t(Gt),he),k);if(ft.isComposite()||xt.isComposite()){var it=function(We,Ye){var Ft=xe.diff(Ye,Le),Bt=te.Algebra.Factor.factor(We),Wt=te.Algebra.Factor.factor(Ft);return x.divide(Bt,Wt)},bt=ft.isComposite()?ft.clone().toLinear():ft.clone(),at=xt.isComposite()?xt.clone().toLinear():xt.clone();if(k=Ne(bt.clone(),at.clone(),it))return x.multiply(xe.integration.poly_integrate(xt),k);if(k=Ne(at.clone(),bt.clone(),it))return x.multiply(xe.integration.poly_integrate(ft),k)}}},poly_integrate:function(be){var Le=be.power.toString(),Ne=be.multiplier.toDecimal(),nt=be.toUnitMultiplier().toLinear();return-1===Number(Le)?x.multiply(new _t(Ne),x.symfunction(dr,[nt])):x.parse(St("({0})*({1})^(({2})+1)/(({2})+1)",Ne,nt,Le))},stop:function(be){throw te.Utils.warn(be=be||"Unable to compute integral!"),new _i(be)},partial_fraction:function(be,Le,Ne,nt){var ft,xt;return we(Le)||(Le=x.parse(Le)),ft=new _t(0),(xt=te.Algebra.PartFrac.partfrac(be,Le)).group===Je&&xt.isLinear()?(xt.each(function(ke){ke.isLinear()||xe.integration.stop()}),xt.each(function(ke){ft=x.add(ft,xe.integrate(ke,Le,Ne,nt))})):ft=x.add(ft,xe.integrate(xt,Le,Ne,nt)),ft},get_udv:function(be){var Le=[[],[],[],[],[]],Ne=function(ne){var he=ne.group;if(he===an){var Fe=ne.fname;te.Utils.in_trig(Fe)||te.Utils.in_htrig(Fe)?Le[3].push(ne):te.Utils.in_inverse_trig(Fe)?Le[1].push(ne):Fe===dr?Le[0].push(ne):xe.integration.stop()}else he===At||ne.isComposite()&&ne.isLinear()||he===Je&&ne.isLinear()?Le[2].push(ne):he===xn||ne.isComposite()&&!ne.isLinear()?Le[4].push(ne):xe.integration.stop()};be.group===Je?be.each(function(ne){Ne(_t.unwrapSQRT(ne,!0))}):Ne(be);for(var nt,ft=new _t(1),xt=0;xt<5;xt++){var Te,ke=Le[xt],Gt=ke.length;if(Gt>0){if(Gt>1){Te=new _t(1);for(var k=0;k<Gt;k++)Te=x.multiply(Te,ke[k].clone())}else Te=ke[0].clone();nt?ft=x.multiply(ft,Te):(nt=Te).multiplier=nt.multiplier.multiply(be.multiplier)}}return[nt,ft]},trig_sub:function(be,Le,Ne,nt,ft,xt){var Gt=(ft=ft||xe.integration.decompose_arg(be.clone().toLinear(),Le))[0],k=ft[1];if(k.power.equals(2)&&Gt.greaterThan(0)){var ne=te.Utils.getU(be),he=x.parse(I+ni(ne)),Fe=x.parse(O+ni(ne)+"^2"),Ve=x.multiply(be.sub(k,he),Fe),se=xe.integrate(Ve,ne,Ne,nt).sub(he,k);return te.Utils.clearU(he),se}},by_parts:function(be,Le,Ne,nt){var ft,xt,ke,Te,Gt,k,ne,he,Fe,Ve,se,Ge;if(nt.previous=nt.previous||[],ke=(ft=xe.integration.get_udv(be))[1],se=(Te=_t.unwrapSQRT(x.expand(xe.diff((xt=ft[0]).clone(),Le)),!0)).clone().stripVar(Le),Te=x.divide(Te,se.clone()),Gt=xe.integrate(ke.clone(),Le,Ne||0),Ge=(k=x.multiply(Gt.clone(),Te)).toString(),-1!==nt.previous.indexOf(Ge)&&te.Utils.in_trig(xt.fname)&&ke.isE())return nt.is_cyclic=!0,new _t(1);if(nt.previous.push(Ge),ne=x.multiply(xt,Gt),Ve=k.multiplier.clone(),k.toUnitMultiplier(),(Fe=x.multiply(xe.integrate(k.clone(),Le,Ne,nt),se)).multiplier=Fe.multiplier.multiply(Ve),he=x.subtract(ne,Fe),nt.is_cyclic&&(nt.previous.pop(),0===nt.previous.length)){he=x.expand(he);var st=new _t(0);he.each(function(tt){tt.contains(Le)||(st=x.add(st,tt.clone()))}),he=x.divide(x.subtract(he,st.clone()),x.subtract(new _t(1),st))}return he},decompose_arg:te.Utils.decompose_fn},integrate:function(be,Le,Ne,nt){if(!Le){var ft=te.Utils.variables(be);1===ft.length&&(Le=ft[0]),Le=Le||"x"}if(te.Utils.isVector(be)){var xt=new te.Vector([]);return be.each(function(ke){xt.elements.push(xe.integrate(ke,Le))}),xt}return isNaN(Le)||x.error("variable expected but received "+Le),be.isConstant(!0)?x.multiply(be.clone(),x.parse(Le)):(nt=nt||{},te.Utils.block("PARSE2NUMBER",function(){Ne=Ne||0;var k,ke=we(Le)?Le.toString():Le,Te=_t.unwrapSQRT(be.clone(),!0),Gt=Te.group;try{if(++Ne>te.Settings.integration_depth&&xe.integration.stop("Maximum depth reached. Exiting!"),Te.contains(ke,!0)){if(Gt===At)k=xe.integration.poly_integrate(Te,ke,Ne);else if(Gt===xn)if(Te.previousGroup===an&&!("sqrt"===Te.fname||Te.fname===Wi.PARENTHESIS)&&xe.integration.stop(),Te.contains(ke)&&Te.previousGroup!==an)Te.power.contains(ke)?xe.integration.stop():((ne=xe.diff(Te.clone().toLinear(),ke)).contains(ke)&&xe.integration.stop(),k=xe.integration.poly_integrate(Te,ke,Ne));else{if((he=xe.diff(Te.power.clone(),ke)).contains(ke)){var Fe=he.stripVar(ke);if((Ve=x.divide(he.clone(),Fe.clone())).group===At&&Ve.isLinear())return Fe.multiplier=Fe.multiplier.divide(new xi(2)),x.parse(St("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",Fe,ke,Te.multiplier));xe.integration.stop()}if(Te.isE())he.isLinear()?k=Te:he.isE()&&he.power.group===At&&he.power.power.equals(1)?k=x.multiply(x.symfunction("Ei",[Te.power.clone()]),Te.power):xe.integration.stop();else{var se=x.symfunction(dr,[x.parse(Te.value)]);k=x.divide(Te,se)}k=x.divide(k,he)}else if(Te.isComposite()&&Te.isLinear()){var Ge=x.parse(Te.multiplier);Te.toUnitMultiplier(),k=new _t(0),Te.each(function(Dr){k=x.add(k,xe.integrate(Dr,ke,Ne))}),k=x.multiply(Ge,k)}else if(Gt===un)if(Te.power.greaterThan(1)&&(Te=x.expand(Te)),Te.power.equals(1))k=new _t(0),Te.each(function(Dr){k=x.add(k,xe.integrate(Dr,ke,Ne))},!0);else{var st=Number(Te.power);Ge=Te.multiplier.clone(),Te.toUnitMultiplier();var tt=Te.clone().toLinear(),it=(Ze=xe.integration.decompose_arg(tt,ke))[3],bt=Ze[2],he=Ze[0],Ve=Ze[1];if(-1===st&&Ve.group!==jt&&Ve.power.equals(2)){var at=!Mi(it)||it>0;if(Ve.group===At&&Ve.power.equals(2)&&at){var We=function(sf){var Ds=new _t(1);return sf.each(function(Tl){Ds=x.multiply(Ds,"abs"===Tl.fname?Tl.args[0]:Tl)}),Ds},Ye=he.clone(),Ft=it.clone();Ye=x.pow(Ye,new _t(.5)),Ft=x.pow(Ft,new _t(.5)),se=x.multiply(We(Ft),We(Ye));var Bt=x.symfunction(Ee,[x.divide(x.multiply(he,Ve.toLinear()),se.clone())]);k=x.divide(Bt,se)}else if(Ve.group===At&&Ve.isLinear())k=x.divide(xe.integration.poly_integrate(Te),he);else if(Ve.power.equals(4)){var Wt,Pn,fn,Li,Ai,Ti,En=ni;Ye=x.parse(Fn+En(he)+"*"+ke+"^2"),Ft=x.parse(Fn+En(2)+"*"+En(he)+"^"+En("1/4")+"*"+En(it)+"^"+En("1/4")+"*"+ke),Wt=x.parse(Fn+En(it)),kn=x.add(x.add(Ye.clone(),Ft.clone()),Wt.clone()),An=x.add(x.subtract(Ye,Ft),Wt),Pn=x.parse(Fn+En(2)+"*"+En(it)+"^"+En("3/4")),fn=x.parse(Fn+En(it)+"*"+En(it)+"^"+En("1/4")+"*"+ke),Li=x.parse("2*"+En(it)+"*"+Fn+En(2)+"*"+En(it)+"^"+En("1/4")),Ai=x.divide(x.subtract(Pn.clone(),fn.clone()),x.multiply(Li.clone(),An)),Ti=x.divide(x.add(Pn,fn),x.multiply(Li,kn.clone())),k=x.add(xe.integrate(Ai,ke,Ne,nt),xe.integrate(Ti,ke,Ne,nt))}else k=xe.integration.partial_fraction(Te,ke,Ne)}else if(-.5===st)if(Ve.group===At&&Ve.power.equals(2))if(bt.multiplier.lessThan(0)&&!it.multiplier.lessThan(0))if(he.negate(),it.isConstant()&&he.isConstant()){se=x.symfunction(Fn,[he.clone()]);var zt=x.symfunction(Fn,[x.multiply(he.clone(),it)]);k=x.divide(x.symfunction(ie,[x.divide(bt.toLinear(),zt)]),se)}else{var Ci=x.symfunction(Fn,[he]),di=x.multiply(Ci.clone(),Ve.clone().toLinear());k=x.divide(x.symfunction(Ee,[x.divide(di,x.symfunction(Fn,[tt.clone()]))]),Ci)}else xe.integration.stop();else xe.integration.stop();else if(.5===st&&Ve.power.equals(2)&&he.greaterThan(0))xe.integration.stop();else if(Ve.isLinear()&&Ve.group!==jt)k=x.divide(xe.integration.poly_integrate(Te),he);else{if(Ve.power.equals(2)&&he.greaterThan(0)){var B,G,z,q,Y,me;B=x.parse(Fn+ni(he)),G=x.parse(Fn+ni(it)),z=x.multiply(B.clone(),G.clone()).invert(),q=x.pow(it,new _t(Te.power)),me=te.Utils.getU(Te),ue=x.multiply(z,Ve.clone().toLinear()),Y=x.parse(Ee+ni(ue));var Pe=2*(Math.abs(Te.power)-1),ce=xe.integrate(x.parse(D+ni(me)+"^"+Pe));return te.Utils.clearU(me),x.multiply(ce.sub(me,Y),q)}if(Te.group===Je||Te.power.lessThan(0)){Bt=Te.clone().toLinear();var De=te.Algebra.Factor.factor(Bt).toString()!==Bt.toString();if(te.Algebra.degree(Bt,x.parse(ke)).equals(2)&&!De)try{var kn,rt,Mt;Mt=te.Algebra.sqComplete(Bt,ke),ue=te.Utils.getU(Bt),kn=Mt.f.sub(Mt.a,ue),rt=x.pow(kn,x.parse(Te.power)),k=xe.integrate(rt,ue).sub(ue,Mt.a)}catch{xe.integration.stop()}else k=xe.integration.partial_fraction(Te,ke,Ne,nt)}else k=xe.integration.by_parts(Te,ke,Ne,nt)}k.multiplier=k.multiplier.multiply(Ge)}else if(Gt===an){var Ht=Te.args[0];Ge=Te.multiplier.clone(),Te.toUnitMultiplier(),he=(Ze=xe.integration.decompose_arg(Ht,ke))[0],Ve=Ze[1];var ln=Te.fname;if(ln===dr||ln===ie||ln===de||ln===Ee&&Ve.isLinear())if(st=Te.power.toString(),Mi(st)&&(Ne-=st),Ht.isComposite()){var ue=te.Utils.getU(Te),wi=(Bt=x.pow(x.parse(dr+ni(ue)),new _t(st)),xe.diff(Ht,ke)),Yi=x.multiply(Bt,wi);ce=xe.integrate(Yi,ue,Ne,nt),k=x.multiply(x.parse(Ge),ce.sub(ue,Ht))}else k=x.multiply(x.parse(Ge),xe.integration.by_parts(Te,ke,Ne,nt));else{if(ln===I&&Te.power.lessThan(0))return(Vr=Te.clone()).power.negate(),Vr.fname=Z,x.multiply(x.parse(Ge),xe.integrate(Vr,ke,Ne));if(!he.contains(ke,!0)&&Te.isLinear())if(ln===hr)if((Ve=x.divide(Ht.clone(),he.clone())).group!==At||Ve.power.lessThan(0))xe.integration.stop();else if(te.Utils.even(Ve.power))k=xe.integrate(Ht,ke,Ne);else{var jr=xe.integrate(Ve,ke,Ne);jr.power=jr.power.subtract(new xi(1)),k=x.multiply(x.multiply(x.symfunction(hr,[Ve.toLinear()]),jr),he)}else{var Ir=Te.args[0].group,Cn=xe.integration.decompose_arg(Ht,ke);switch((!(Ir===un||Ir===At||Ir===Je)||!Cn[1].power.equals(1)||Ht.hasFunc())&&xe.integration.stop(),ln){case D:k=x.symfunction(ze,[Ht]);break;case ze:(k=x.symfunction(D,[Ht])).negate();break;case I:k=x.parse(St(Wi.LOG+"(sec({0}))",Ht));break;case O:k=x.parse(St(Wi.LOG+"(tan({0})+sec({0}))",Ht));break;case U:k=x.parse(St("-"+Wi.LOG+"(csc({0})+cot({0}))",Ht));break;case Z:k=x.parse(St(Wi.LOG+"(sin({0}))",Ht));break;case dt:k=x.symfunction(ut,[Ht]);break;case ut:k=x.symfunction(dt,[Ht]);break;case kt:k=x.parse(St(Wi.LOG+"(cosh({0}))",Ht));break;case ye:case Me:case $e:case Vn:case In:case en:k=xe.integration.by_parts(Te,ke,Ne,nt);break;case hn:k=x.parse(St("atan(sinh({0}))",Ht));break;case tn:k=x.parse(St(Wi.LOG+"(tanh(({0})/2))",Ht));break;case Xe:k=x.parse(St(Wi.LOG+"(sinh({0}))",Ht));break;case"exp":k=xe.integrate(x.parse(St("e^({0})",Ht)),ke,Ne);break;case"S":Ht=Te.args[0].clone();var Gr=(to=xe.integration.decompose_arg(Ht,ke))[1];k=x.parse(St("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",Wr=to[0],to[3],Ve));break;case"C":Ht=Te.args[0].clone();var to=xe.integration.decompose_arg(Ht,ke);k=x.parse(St("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",Wr=to[0],to[3],Gr=to[1]));break;case"erf":Ht=Te.args[0].clone(),to=xe.integration.decompose_arg(Ht,ke),k=x.parse(St("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",Wr=to[0],Gr=to[1],Ht));break;case"sign":k=x.multiply(Te.clone(),Ht.clone());break;default:xe.integration.stop()}k=x.divide(k,he)}else if(Ve.isLinear())if(ln===D||ln===ze)if((st=Number(Te.power))<0)Te.fname=ln===ze?U:O,Te.invert().updateHash(),k=xe.integrate(Te,ke,Ne);else{Ht=Te.args[0];var Kt=Te.clone(),ae=Te.clone(),Jo=new _t((st-1)/st),fd=x.multiply(he.clone(),new _t(st)).invert();Kt.power=Kt.power.subtract(new xi(1)),ae.power=ae.power.subtract(new xi(2));var ne=x.symfunction(ln===D?ze:D,[Ht.clone()]);ln===ze&&ne.negate(),k=x.add(x.multiply(x.multiply(fd,Kt),ne),x.multiply(Jo,xe.integrate(x.parse(ae),ke,Ne)))}else if(ln===I||ln===Z){if(Te.args[0].isLinear(ke)){Pe=Te.power.subtract(new xi(1)).toString();var Hn=Te.clone().toUnitMultiplier(),Yn=x.parse(St((ln===Z?"-":"")+"1/({2}*{0})*{3}({1})^({0})",Pe,Ht,he,ln));Hn.power=Hn.power.subtract(new xi(2)),Hn.power.equals(0)&&(Hn=x.parse(Hn)),k=x.subtract(Yn,xe.integrate(Hn,ke,Ne))}}else if(ln===O||ln===U){var fi=Te.power.subtract(new xi(1)).toString(),rr=Te.power.subtract(new xi(2)).toString(),An=ln===O?I:Z,Ml=(Hn=Te.clone().toUnitMultiplier(),St((ln===U?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",he,fi,rr,Ht,ln,An));Yn=x.parse(Ml),Hn.power=Hn.power.subtract(new xi(2)),Hn.power.equals(0)&&(Hn=x.parse(Hn)),k=x.add(Yn,x.multiply(new _t(rr/fi),xe.integrate(Hn,ke,Ne)))}else ln!==ut&&ln!==dt||!Te.power.equals(2)?xe.integration.stop():k=xe.integrate(Te.fnTransform(),ke,Ne);else xe.integration.stop();k.multiplier=k.multiplier.multiply(Ge)}}else if(Gt===jt)k=xe.integration.partial_fraction(Te,ke,Ne);else if(Gt===Je){Te.getDenom().group===At&&(Te=x.expand(Te));var Iu=Te.stripVar(ke),vn=x.divide(Te.clone(),Iu.clone());if(Iu.contains(ke)&&(vn=x.multiply(vn,Iu),Iu=new _t(1)),vn.group!==Je){if(vn.equals(1))return xe.integrate(x.expand(Te),ke,Ne);vn.clone().toLinear().isPoly(!0)&&te.Utils.variables(vn).length>1&&(vn=te.Algebra.Factor.factor(vn)),k=xe.integrate(vn,ke,Ne)}else{var g=vn.collectSymbols().sort(function(Dr,qi){return Dr.group===qi.group?Number(Dr.power)===Number(qi.power)?Dr<qi?1:-1:qi.power-Dr.power:qi.group-Dr.group}).map(function(Dr){var qi=_t.unwrapSQRT(Dr,!0);return"exp"===qi.fname?x.parse(St("({1})*e^({0})",qi.args[0],qi.multiplier)):qi}),E=g.length;if(Te.power<0){if(2===E)return xe.integrate(x.expand(Te),ke,Ne,nt)}else if(2===E){try{k=xe.integration.u_substitution(g,ke)}catch{}if(!k){var T=g[0].group,L=g[1].group,V=g[0],W=g[1],ge=V.fname,He=W.fname;if(Te=x.multiply(V.clone(),W.clone()),T===an&&L===an)if(ge===dr||He===dr)k=xe.integration.by_parts(Te.clone(),ke,Ne,nt);else{g.sort(function(qi,_c){return _c.fname>qi.fname});var mt=V.args[0];if((!mt.isLinear()||mt.group!==un&&mt.group!==Je&&mt.group!==At)&&xe.integration.stop(),he=(Ze=xe.integration.decompose_arg(mt,ke))[0],(Ve=Ze[1]).isLinear()||xe.integration.stop(),mt.equals(W.args[0]))if(ge===ze&&He===D||ge===D&&He===ze)if(V.power.lessThan(0)&&xe.integration.stop(),ge===ze&&V.power.add(W.power).equals(0))V.fname=I,V.updateHash(),k=xe.integrate(V,ke,Ne);else if(fe(V.power)&&He===D&&W.power.lessThan(0)){Pe=Number(V.power)/2;var vt=x.parse(St("(1-cos({0})^2)^({1})",V.args[0],Pe));k=xe.integrate(x.expand(x.multiply(vt,W.clone())),ke,Ne,nt)}else if(fe(V.power)&&He===ze&&W.power.lessThan(0))Pe=Number(V.power)/2,vt=x.parse(St("(1-sin({0})^2)^({1})",V.args[0],Pe)),k=xe.integrate(x.expand(x.multiply(vt,W.clone())),ke,Ne,nt);else{var Nn=te.Utils.even(V.power),Ot=te.Utils.even(W.power);if(k=new _t(0),Nn&&Ot){var Bi=function(Ds){var mi=Ds.power/2;return x.parse(Ds.fname===D?"((1/2)+(cos(2*("+Ds.args[0]+"))/2))^"+mi:"((1/2)-(cos(2*("+Ds.args[0]+"))/2))^"+mi)};return he=Bi(V),it=Bi(W),ne=x.multiply(he,it),(Vr=x.expand(ne)).each(function(Ds){k=x.add(k,xe.integrate(Ds,ke,Ne))}),x.multiply(k,Iu)}Nn?(ue=V,Hn=W):(ue=W,Hn=V);var pn=ue.fname===D?-1:1,ii=((Pe=Hn.power)-1)/2,bn=x.parse("(1-"+ue.fname+te.Utils.inBrackets(mt)+"^2)^"+ii);(Vr=x.expand(x.multiply(new _t(pn),x.multiply(ue.clone(),bn)))).each(function(Ds){k=x.add(k,xe.integration.poly_integrate(Ds.clone()))})}else if(ge===O&&He===I&&Ve.isLinear()&&W.isLinear())k=x.parse(St("sec({0})^({1})/({1})",V.args[0],V.power));else if(ge===I&&He===O&&Ve.isLinear())V.isLinear()&&W.isLinear()?k=x.divide(x.symfunction(O,[mt.clone()]),he):fe(V.power)?(st=Number(V.power)/2,ne=x.parse(St("(sec({0})^2-1)^({1})",V.args[0],st)),k=xe.integrate(x.expand(x.multiply(ne,W)),ke,Ne)):xe.integration.stop();else if(ge===O&&He===D)V.fname=D,V.invert().updateHash(),k=xe.integrate(x.multiply(V,W),ke,Ne);else if(ge===ze&&He===U)W.fname=ze,W.invert().updateHash(),k=xe.integrate(x.multiply(V,W),ke,Ne);else if(ge!==I||He!==D&&He!==ze||!W.power.lessThan(0))ne=x.multiply(V.fnTransform(),W.fnTransform()),k=xe.integrate(x.expand(ne),ke,Ne);else{ne=x.multiply(V.fnTransform(),W);k=xe.integrate(x.expand(ne),ke,Ne)}else if(ge!==ze&&ge!==D||He!==ze&&He!==D)xe.integration.stop();else if(V.isLinear()&&W.isLinear())if(V.args[0].isLinear()&&W.args[0].isLinear())He===ze?(bt=V.args[0],or=W.args[0]):(or=V.args[0],bt=W.args[0]),Bt=x.parse(St("(sin(({1})+({0}))+sin(({1})-({0})))/2",bt.toString(),or.toString())),k=xe.integrate(Bt,ke,Ne);else{var $i=Ei(g);k=xe.integrate(x.expand($i),ke,Ne)}else $i=new _t(1),g.map(function(sr){var sf=sr.fnTransform();$i=x.multiply($i,sf)}),ne=x.expand($i),(k=xe.integrate(ne,ke,Ne)).hasIntegral()&&(k=xe.integrate(Ei($i.collectSymbols()),ke,Ne))}else if(T===an&&L===At){var yr=V.isLinear();if(V.fname===D&&yr&&W.power.equals(-1))k=x.symfunction("Ci",[V.args[0]]);else if(V.fname===D&&W.power.equals(-1))k=xe.integrate(x.multiply(V.fnTransform(),W.clone()),ke,Ne);else if(V.fname===ut&&yr&&W.power.equals(-1))k=x.symfunction("Chi",[V.args[0]]);else if(V.fname===ut&&W.power.equals(-1))k=xe.integrate(x.multiply(V.fnTransform(),W.clone()),ke,Ne);else if(V.fname===ze&&yr&&W.power.equals(-1))k=x.symfunction("Si",[V.args[0]]);else if(V.fname===ze&&W.power.equals(-1))k=xe.integrate(x.multiply(V.fnTransform(),W.clone()),ke,Ne);else if(V.fname===dt&&yr&&W.power.equals(-1))k=x.symfunction("Shi",[V.args[0]]);else if(V.fname===dt&&W.power.equals(-1))k=xe.integrate(x.multiply(V.fnTransform(),W.clone()),ke,Ne);else if(V.fname===dr&&W.power.equals(-1))k=xe.integration.poly_integrate(V,ke,Ne);else if("erf"===V.fname){if(W.power.equals(1)){var Wr=(to=xe.integration.decompose_arg(V.args[0],ke))[0];Gr=to[1],Ht=V.args[0].toString(),k=x.parse(St("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",Wr,Gr,Ht))}}else k=xe.integration.by_parts(Te,ke,Ne,nt)}else if(T===xn&&L===At)Ve=ge===dr?xe.integration.decompose_arg(V.args[0],ke)[1]:null,k=V.isE()&&(V.power.group===At||V.power.group===Je)&&W.power.equals(-1)?x.symfunction("Ei",[V.power.clone()]):ge===dr&&Ve.value===W.value?xe.integration.poly_integrate(V,ke,Ne):xe.integration.by_parts(Te,ke,Ne,nt);else if(T===jt&&L===At){if(W.value===V.value&&V.power.equals(-1)){var no=Math.min.apply(null,te.Utils.keys(V.symbols)),Ui=Math.min(no,W.power),Fo=W.clone();Fo.power=new xi(Ui),W=x.divide(W,Fo.clone()),ne=new _t(0),V.each(function(qi){ne=x.add(ne,x.divide(qi.clone(),Fo.clone()))}),ne.multiplier=V.multiplier,Te=x.divide(W,ne)}else Te=x.expand(Te);k=xe.integration.partial_fraction(Te,ke,Ne)}else if(T===un&&L===At){Bt=V.clone().toLinear();var Fs=te.Algebra.degree(Bt,x.parse(ke)).equals(1);if(V.power.equals(-.5)){he=(Ze=xe.integration.decompose_arg(V.clone().toLinear(),ke))[0].negate(),Ve=Ze[1],it=Ze[3];var zo=Number(V.power),er=Number(W.power);if(Mi(er)&&te.Utils.even(er)&&Ve.power.equals(2)){var Cr=x.divide(x.multiply(x.pow(it.clone(),new _t(2)),x.symfunction(Fn,[x.divide(it.clone(),he.clone())])),x.pow(he.clone(),new _t(2)));Cr=x.multiply(Cr,x.symfunction(Fn,[it]).invert());var io=x.parse("sin(u)");io.power=io.power.multiply(W.power),ce=xe.integrate(io,"u",Ne);var Cs=x.parse(ie+"("+Fn+"("+he+"/"+it+")*"+ke+")");k=x.multiply(Cr,ce.sub(new _t("u"),Cs))}else if(-.5===zo){var qt=function(Ds,Tl){var mi=x.parse(xe.integrate(Ds,ke,Ne,nt).sub(ke,St(Tl,ke)));if(!mi.hasIntegral())return mi};-1===er?k=qt(x.expand(x.expand(x.pow(x.multiply(V.invert(),W.invert()),new _t(2)))).invert(),"sqrt(1-1/({0})^2)"):-2===er&&(k=qt(x.sqrt(x.expand(x.divide(x.pow(Te,new _t(2)).invert(),x.pow(new _t(ke),new _t(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(V.power.equals(-1)&&W.isLinear()&&Fs)k=xe.integration.partial_fraction(Te,ke,Ne);else if(!V.power.lessThan(0)&&Mi(V.power)){var mc=x.expand(V);k=new _t(0),mc.each(function(qi){qi.group===jt?qi.each(function(_c){k=x.add(k,xe.integrate(x.multiply(W.clone(),_c),ke,Ne))}):k=x.add(k,xe.integrate(x.multiply(W.clone(),qi),ke,Ne))})}else if(V.power.lessThan(-2))k=xe.integration.by_parts(Te,ke,Ne,nt);else if(V.power.lessThan(0)&&W.power.greaterThan(1)){var Ze;if(he=(Ze=xe.integration.decompose_arg(V.clone().toLinear(),ke))[0].negate(),Ve=Ze[1],it=Ze[3],tt=V.clone().toLinear(),Ve.group!==jt&&Ve.isLinear()){st=Number(W.power),ue=new _t(wi="_u_");var Qn=x.expand(x.divide(x.pow(x.subtract(ue.clone(),it.clone()),new _t(st)),ue.clone())),br={};br[wi]=tt;var Co=x.parse(Qn,br);k=xe.integrate(Co,ke,0)}else if(W.power.greaterThan(Ve.power)||W.power.equals(Ve.power)){var ja=new te.Algebra.Classes.Factors;V=te.Algebra.Factor.coeffFactor(V.invert(),ja);var Ga=te.Algebra.divide(W,V);Ga.group!==Je?(k=new _t(0),Ga.each(function(Tl){k=x.add(k,xe.integrate(Tl,ke,Ne))}),ja.each(function(Tl){k=x.divide(k,Tl)}),k=x.expand(k)):k=xe.integration.by_parts(Te,ke,Ne,nt)}else k=xe.integration.partial_fraction(Te,ke,Ne)}else if(V.power.den.equals(2)){he=(to=xe.integration.decompose_arg(V.clone().toLinear(),ke))[3],it=to[0];var or=to[2];if((Ve=to[1]).power.equals(2)&&it.lessThan(0)){he.equals(1)||(Iu=x.multiply(Iu,x.pow(he,new _t(2)))),ue=ke,Cr=x.divide(x.pow(it.clone().negate(),new _t(.5)),x.pow(he,new _t(.5))),wi=x.symfunction(D,[new _t(ue)]);var eu=x.pow(x.symfunction(D,[new _t(ue)]),new _t(V.power.num)),vc=x.pow(x.symfunction(ze,[new _t(ue)]),new _t(W.power)),Ps=x.multiply(x.multiply(eu,wi),vc);ce=xe.integrate(Ps,ue,Ne),k=ce.sub(ue,x.symfunction(ie,[x.multiply(new _t(ke),Cr)]))}else k=xe.integration.partial_fraction(Te,ke,Ne,nt)}else Fs&&(k=xe.integration.partial_fraction(Te,ke,Ne))}else if(V.isComposite()&&W.isComposite())if(k=new _t(0),V.power.greaterThan(0)&&W.power.greaterThan(0)){var Vr;(Vr=x.expand(Te)).each(function(qi){k=x.add(k,xe.integrate(qi,ke,Ne))},!0)}else zo=Number(V.power),er=Number(W.power),zo<0&&er>0&&(ne=V,V=W,W=ne),-1===zo&&-1===er?k=xe.integration.partial_fraction(Te,ke):V.each(function(_c){var sr=x.multiply(_c,W.clone()),sf=xe.integrate(sr,ke,Ne);k=x.add(k,sf)});else if(T===un&&g[0].power.greaterThan(0))V=x.expand(V),k=new _t(0),V.each(function(Dr){k=x.add(k,xe.integrate(x.multiply(Dr,W.clone()),ke,Ne))},!0);else if(T===an&&L===xn&&te.Utils.in_htrig(V.fname))V=V.fnTransform(),k=xe.integrate(x.expand(x.multiply(V,W)),ke,Ne);else if(T===an&&L===un||L===an&&T===un){var ds,Do,Wa;if(L===an&&T===un&&(ne=V,V=W,W=ne),wi=_t.unwrapSQRT(xe.diff(V.clone(),ke),!0),ds=_t.unwrapSQRT(W,!0),wi.power.equals(ds.power)){if(st=new _t(W.power),Do=wi.clone().toLinear(),Wa=W.clone().toLinear(),(Jo=te.Algebra.divide(Do.toLinear(),Wa)).isConstant()){var wr=x.pow(Jo,st.negate());k=x.multiply(wr,xe.integration.poly_integrate(V.clone()))}}else k=xe.integration.by_parts(Te,ke,Ne,nt)}else{var Ou=V.clone().toLinear(),ra=W.clone().toLinear();k=T===xn&&L===xn&&V.power.contains(ke)&&W.power.contains(ke)&&!Ou.contains(ke)&&!ra.contains(ke)?x.parse(St("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",Ou.toString(),ra.toString(),V.power.multiplier.toString(),W.power.multiplier.toString(),ke)):xe.integration.by_parts(Te,ke,Ne,nt)}}}else if(3===E&&(g[2].group===At&&g[2].power.lessThan(2)||g[0].group===un)){var Al=g[0];Al.group===un?(Al.power.greaterThan(1)&&(Al=x.expand(Al)),Hn=x.multiply(g[1],g[2]),k=new _t(0),Al.each(function(qi){var _c=x.multiply(qi,Hn.clone()),sr=xe.integrate(_c,ke,Ne);k=x.add(k,sr)},!0)):k=xe.integration.by_parts(Te,ke,Ne,nt)}else if(Vi(g)){ne=new _t(1);var dd=0;for(E=g.length;dd<E;dd++)ne=x.multiply(ne,g[dd].fnTransform());ne=x.expand(ne),k=xe.integrate(ne,ke,Ne)}else $i=Ei(g),k=xe.integrate(x.expand($i),ke,Ne)}k=x.multiply(k,Iu)}}else k=x.multiply(Te.clone(),x.parse(ke));if(k)return k}catch(Dr){if(!(Dr instanceof _i||Dr instanceof te.exceptions.DivisionByZero))throw Dr}return x.symfunction("integrate",[be,Le])},!1))},defint:function(be,Le,Ne,nt){nt=nt||"x";var Te,Gt,ft=function(se,Ge,st){try{return x.parse(se,Ge)}catch{return xe.Limit.limit(se,nt,st)}},xt=te.Utils.variables(be),ke=be.hasTrig();if(1===xt.length&&!nt&&(nt=xt[0]),ke||(Gt=xe.integrate(be,nt)),ke||Gt.hasIntegral())if(1===xt.length&&Le.isConstant()&&Ne.isConstant()){var Ve=te.Utils.build(be);Te=new _t(te.Math2.num_integrate(Ve,Number(Le),Number(Ne)))}else Te=x.symfunction("defint",[be,Le,Ne,nt]);else{var he,Fe,k={},ne={};k[nt]=Ne,ne[nt]=Le,he=ft(Gt,k,Ne),Fe=ft(Gt,ne,Le),Te=x.subtract(he,Fe)}return Te},Limit:{interval:function(be,Le){return x.parse(St("[{0}, {1}]",be,Le))},diverges:function(){return xe.Limit.interval("-Infinity","Infinity")},divide:function(be,Le,Ne,nt,ft){if(!(ft++>Wi.max_lim_depth)){be.clone();var ke=Le.clone();if(Le.fname===hr){var Te=be.sign(),Gt=nt.sign();if(nt.isInfinity)return x.multiply(new _t(Te),new _t(Gt));if(nt.equals(0)){var k=x.parse(be.multiplier),ne=x.parse(Le.multiplier);return x.divide(x.multiply(k,xe.Limit.interval("-1","1")),ne)}xe.Limit.diverges()}var he=function(We){if(te.Utils.isVector(We)){for(var Ye=0;Ye<We.elements.length;Ye++)if(!We.elements[Ye].isInfinity)return!1;return!0}return We.isInfinity},Fe=function(We,Ye){return!te.Utils.isVector(We)&&We.equals(Ye)};do{var se=lt(xe.Limit.limit(be.clone(),Ne,nt,ft)),Ge=lt(xe.Limit.limit(Le.clone(),Ne,nt,ft)),st=he(se)&&he(Ge)||Fe(se,0)&&Fe(Ge,0);if(st){var tt=xe.diff(be.clone(),Ne),Ze=xe.diff(Le.clone(),Ne),it=x.expand(x.divide(tt,Ze));be=it.getNum(),Le=it.getDenom()}}while(st);var bt=Ge.equals(0),at=Number(ke.power);return nt.isConstant(!0)&&bt?_t.infinity(te.Utils.even(at)&&se.lessThan(0)?-1:void 0):bt?xe.Limit.diverges():x.divide(se,Ge)}},rewriteToLog:function(be){var Le=be.power.clone();return be.toLinear(),x.pow(new _t("e"),x.multiply(Le,x.symfunction(Wi.LOG+"",[be])))},getSubbed:function(be,Le,Ne){var nt;be.group===xn&&(be=xe.rewriteToLog(be));try{nt=be.sub(Le,Ne)}catch{nt=be}return nt},isInterval:function(be){return te.Utils.isVector(be)},isConvergent:function(be){return!(xe.Limit.isInterval(be)&&be.elements[0].isInfinity&&be.elements[1].isInfinity||be.containsFunction("limit"))},limit:function(be,Le,Ne,nt){if(be.isLinear()&&be.isComposite()){var ft=new _t(0);return be.each(function(Ci){ft=x.add(ft,xe.Limit.limit(Ci,Le,Ne,nt))},!0),ft}if(be=te.Algebra.Simplify.simplify(be),nt=nt||1,!(nt++>Wi.max_lim_depth)){var xt=x.parse(be.multiplier);be.toUnitMultiplier();try{var ke;if(be.isConstant(!0))ke=be;else{var Te={};Te[Le]=Ne;try{var Gt=x.parse(be.sub(Le,Ne),Te);(Gt.isConstant(!0)||Gt.isInfinity)&&(ke=Gt)}catch{}if(!ke){var k=be.getNum(),ne=be.getDenom();if(ne.isConstant(!0)){if(be.group===xn){var he=be.clone().toLinear(),Ve=(be.power.clone(),he.getNum()),se=he.getDenom(),Ge=te.Utils.decompose_fn(se,Le,!0);if(Ve.group===At&&Ve.multiplier.isOne()&&Ge.ax.group===At&&Ge.b.isConstant(!0)&&Ge.a.isOne()&&Ge.b.isConstant(!0))ke=x.parse(St("(1/e^({0}))",Ge.b));else{var st=xe.Limit.rewriteToLog(be.clone()),tt=st.power.clone(),Ze=st.clone().toLinear(),it=xe.Limit.limit(Ze,Le,Ne,nt),bt=xe.Limit.limit(tt,Le,Ne,nt);ke=x.pow(it,bt)}}else if(be.group===an&&1===be.args.length){var at,We=xe.Limit.limit(be.args[0],Le,Ne,nt);if(te.Utils.isVector(We))return ke=We.map(function(Ci){return be.clone().args[0]=Ci,xe.Limit.limit(x.symfunction(be.fname,[Ci]),Le,Ne,nt)}),x.multiply(xt,ke);if(We.isConstant(!0)){var Ye=x.symfunction(be.fname,[We]);try{lt(Ye),at=!0}catch{at=!1}}if(at)ke=Ye;else if(xe.Limit.isConvergent(We))if(be.fname===dr)switch(We.toString()){case"0":ke=_t.infinity().negate();break;case"Infinity":case"-Infinity":ke=_t.infinity()}else if(be.fname!==D&&be.fname!==ze||!Ne.isInfinity){if(be.fname===I){var Ft=be.args[0],Bt=Ft.getNum(),Wt=Ft.getDenom(),Pn=Bt.toUnitMultiplier();(Ne.isInfinity||Pn.equals("pi")&&Wt.equals(2))&&(ke=divergent())}else if(be.fname===Wi.FACTORIAL&&We.isInfinity)return _t.infinity()}else ke=xe.Limit.interval(-1,1)}else if(be.group===At){if(be.power>0)return x.parse(be,Te);ke=te.Utils.even(be.power)?_t.infinity():xe.Limit.diverges()}else if(be.group===Je){var fn,Li;for(he=(kn=be.collectSymbols().sort(function(di,B){return di.group-B.group})).pop(),fn=lt(xe.Limit.limit(he,Le,Ne,nt));kn.length;){var An=kn.pop();Li=lt(xe.Limit.limit(An,Le,Ne,nt)),fn.isInfinity||!xe.Limit.isConvergent(fn)&&Li.equals(0)||fn.equals(0)&&xe.Limit.isConvergent(Li)?(An.containsFunction(dr)&&(An=[he,he=An][0]),An.invert(),fn=fn.isInfinity&&Li.isInfinity?_t.infinity():xe.Limit.divide(he,An,Le,Ne,nt)):(fn=x.multiply(fn,Li),he=x.multiply(he,An))}ke=fn}else if(be.isComposite()){var Si;be.isLinear()||(be=x.expand(be)),ke=new _t(0);for(var kn=be.collectSymbols().sort(function(di,B){return B.group-di.group}),oi=[],Ai=new _t(0),Ti=0,En=kn.length;Ti<En;Ti++)(zt=kn[Ti].clone()).group===an||zt.group===Je&&zt.hasFunc()?Ai=x.add(Ai,zt):oi.push(zt);for(oi.unshift(Ai),1!==oi.length&&(kn=oi),Ti=0,En=kn.length;Ti<En;Ti++){var zt=kn[Ti];try{Si=xe.Limit.limit(zt,Le,Ne,nt)}catch{Si=xe.Limit.diverges()}try{ke=x.add(ke,Si)}catch{if(nt++>Wi.max_lim_depth)return;ke=xe.Limit.limit(xe.diff(be,Le),Le,Ne,nt)}}}}else ke=xe.Limit.divide(k,ne,Le,Ne,nt)}}ke||(ke=x.symfunction("limit",[be,Le,Ne]))}catch{ke=x.symfunction("limit",[be,Le,Ne])}return x.multiply(xt,ke)}}},Fresnel:{S:function(be){return be.isConstant(!0)?xe.defint(x.parse("sin(pi*x^2/2)"),_t(0),be,"x"):x.symfunction("S",arguments)},C:function(be){return be.isConstant(!0)?xe.defint(x.parse("cos(pi*x^2/2)"),_t(0),be,"x"):x.symfunction("C",arguments)}}};Ho.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return xe.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return xe.sum}},{name:"product",visible:!0,numargs:4,build:function(){return xe.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return xe.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return xe.defint}},{name:"S",visible:!0,numargs:1,build:function(){return xe.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return xe.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return xe.Limit.limit}}]),Ho.updateAPI()}()},312:(xl,E0,Pi)=>{var Ho=Pi(270);Pi(374),Pi(512),function(){var I,te=Ho.getCore(),x=te.PARSER,xi=te.Algebra,Wi=te.Calculus,we=Wi.integration.decompose_arg,_t=te.Utils.evaluate,Rn=te.Utils.remove,ni=te.Utils.format,Mi=te.Utils.build,St=te.Utils.knownVariable,fe=te.Symbol,lt=te.Utils.isSymbol,zn=te.Utils.variables,At=te.groups.S,an=te.groups.PL,jt=te.groups.CB,un=te.groups.CP,Je=te.groups.FN,xn=te.Settings,Ri=te.Utils.range,dr=te.Utils.isArray;function Wn(I,O){if(O.isConstant()&&I.isConstant()&&!I.equals(O)||I.equals(te.Settings.IMAGINARY)&&O.isConstant(!0)||O.equals(te.Settings.IMAGINARY)&&I.isConstant(!0))throw new te.exceptions.NerdamerValueError(I.toString()+" does not equal "+O.toString());this.LHS=I,this.RHS=O}te.Settings.SOLVE_RADIUS=1e3,te.Settings.ROOTS_PER_SIDE=10,te.Settings.make_pi_conversions=!1,te.Settings.STEP_SIZE=.1,te.Settings.EPSILON=1e-13,te.Settings.MAX_NEWTON_ITERATIONS=200,te.Settings.MAX_NON_LINEAR_TRIES=12,te.Settings.NON_LINEAR_JUMP_AT=50,te.Settings.NON_LINEAR_JUMP_SIZE=100,te.Settings.NON_LINEAR_START=.01,te.Settings.NEWTON_SLICES=200,te.Settings.NEWTON_EPSILON=2*Number.EPSILON,te.Settings.SOLUTION_PROXIMITY=1e-14,te.Settings.FILTER_SOLUTIONS=!0,te.Settings.MAX_SOLVE_DEPTH=10,te.Settings.ZERO_EPSILON=1e-9,te.Settings.MAX_BISECTION_ITER=2e3,te.Settings.BI_SECTION_EPSILON=1e-12,te.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},te.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var I in this.symbols){var O=this.symbols[I];if(O.group===an&&O.hasNegativeTerms()||this.symbols[I].power.lessThan(0))return!0}return!1},Wn.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(I){return this.LHS.text(I)+"="+this.RHS.text(I)},toLHS:function(I){var O,U=(O=(I=typeof I>"u")?this.removeDenom():this.clone()).LHS,Z=O.RHS;U.isConstant(!0)&&!Z.isConstant(!0)&&([U,Z]=[Z,U]);var ie=x.subtract(U,Z),de=I?x.expand(ie):ie;return new Wn(de,new fe(0)).removeDenom().LHS},removeDenom:function(){var I=this.LHS.clone(),O=this.RHS.clone(),U=x.multiply(I.getDenom(),O.getDenom());if(I=x.expand(x.multiply(I,U.clone())),(O=x.expand(x.multiply(O,U))).group===un&&O.group!==un){var Z=I;I=O,O=Z}if(I.group===jt){Z=new fe(I.multiplier);var ie=O.clone();I.each(function(dt){dt.power.lessThan(0)?ie=x.divide(ie,dt):Z=x.multiply(Z,dt)}),I=Z,O=ie}else if(I.group===un)for(var de in I.symbols){var Ee=I.symbols[de];if(Ee.group===jt)for(var ye in Ee.symbols){var Me=Ee.symbols[ye];if(Me.power.lessThan(0))return new Wn(x.expand(x.multiply(Me.clone().toLinear(),I)),x.expand(x.multiply(Me.clone().toLinear(),O)))}}return new Wn(I,O)},clone:function(){return new Wn(this.LHS.clone(),this.RHS.clone())},sub:function(I,O){var U=this.clone();return U.LHS=U.LHS.sub(I.clone(),O.clone()),U.RHS=U.RHS.sub(I.clone(),O.clone()),U},isZero:function(){return te.Utils.evaluate(this.toLHS()).equals(0)},latex:function(I){return[this.LHS.latex(I),this.RHS.latex(I)].join("=")}},x.equals=function(I,O){return new Wn(I,O)},I=x.functions.simplify[0],x.functions.simplify[0]=function(O){return O instanceof Wn?(O.LHS=I(O.LHS),O.RHS=I(O.RHS),O):I(O)},te.Expression.prototype.equals=function(I){return I instanceof te.Expression&&(I=I.symbol),new Wn(this.symbol,I)},te.Expression.prototype.solveFor=function(I){var O;if(this.symbol instanceof Wn){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(I))return new te.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(I))return new te.Expression(this.symbol.RHS);O=this.symbol.toLHS()}else O=this.symbol;return D(O,I).map(function(U){return new te.Expression(U)})},te.Expression.prototype.expand=function(){if(this.symbol instanceof Wn){var I=this.symbol.clone();return I.RHS=x.expand(I.RHS),I.LHS=x.expand(I.LHS),new te.Expression(I)}return new te.Expression(x.expand(this.symbol))},te.Expression.prototype.variables=function(){return this.symbol instanceof Wn?te.Utils.arrayUnique(zn(this.symbol.LHS).concat(zn(this.symbol.RHS))):zn(this.symbol)};var hr=function(I,O){return x.equals(I,O)};te.Equation=Wn;var Fn=te.Utils.checkAll=function(I,O){for(var U=0;U<I.length;U++)if(O(I[U]))return!1;return!0},ze=te.Solve={version:"2.0.3",solutions:[],solve:function(I,O){var U=D(I,String(O));return new te.Vector(U)},toLHS:function(I,O){if(lt(I))return I;if(!(I instanceof Wn)){var U=I.split("=");U[1]=U[1]||"0",I=new Wn(x.parse(U[0]),x.parse(U[1]))}return I.toLHS(O)},solveCircle:function(I,O){for(var U=O.map(function(hn){return x.parse(hn)}),Z=[],ie=[],de=0;de<I.length;de++){for(var Ee=[],ye=0;ye<U.length;ye++)Ee.push(Number(te.Algebra.degree(I[de],U[ye])));Ee.push(te.Utils.arraySum(Ee,!0)),Z.push(Ee)}var Me=I[0],$e=I[1];if(Z[0][2]>Z[1][2]&&([$e,Me]=[Me,$e],[Z[1],Z[0]]=[Z[0],Z[1]]),1===Z[0][0]&&2===Z[0][2]&&2===Z[1][0]&&4===Z[1][2]){var dt=O[0],ut=O[1],kt=D(x.parse($e,St(dt,D(x.parse(Me),dt)[0])),ut).map(function(hn){return hn.toString()}),tn=[D(x.parse(Me,St(ut,kt[0])))[0].toString()];kt[1]&&tn.push(D(x.parse(Me,St(ut,kt[1])))[0].toString()),xn.SOLUTIONS_AS_OBJECT?((ie={})[dt]=tn,ie[ut]=kt):(kt.unshift(ut),tn.unshift(dt),ie=[tn,kt])}return ie},solveNonLinearSystem:function(I,O,U){if(O<0)return[];U=typeof U>"u"?te.Settings.NON_LINEAR_START:U;var Z=te.Settings.MAX_NON_LINEAR_TRIES,ie=Math.floor(Z/2);O=typeof O>"u"?Z:O;var kt,tn,hn,Xe,Vn,In,en,_i,de=te.Settings.NON_LINEAR_JUMP_AT,Ee=te.Settings.NON_LINEAR_JUMP_SIZE,Me=function(xe,be){return xe.map(function(Le,Ne){return Number(be.get(Ne,0))})},$e=te.Utils.arrayGetVariables(I),dt=te.Matrix.jacobian(I,$e,function(xe){return Mi(xe,$e)},!0),ut=te.Settings.MAX_NEWTON_ITERATIONS,Vi=I.map(function(xe){return Mi(xe,$e)}),Qt=dt.map(function(xe){return Mi(xe,$e)},!0);Xe=te.Matrix.cMatrix(0,$e);var mn=te.Matrix.cMatrix(U,$e);hn=0;do{if(hn>ut)break;kt=Me($e,mn),en=mn.clone(),Vi.forEach(function(xe,be){mn.set(be,0,xe.apply(null,kt))});var Hi=new te.Matrix;if(Qt.each(function(xe,be,Le){var Ne=xe.apply(null,kt);Hi.set(be,Le,Ne)}),Hi=Hi.invert(),_i=(tn=x.multiply(Hi,mn).negate()).subtract(Xe,function(xe){return x.parse(Number(xe))}),Xe=en.add(tn,function(xe){return x.parse(Number(xe))}),mn=Xe,hn>=de&&Vn>1){O===ie&&(U=0);var Ei=O>ie?1:-1;return n=O%Math.floor(ie)+1,U+=Ei*n*Ee,ze.solveNonLinearSystem(I,--O,U)}if(In=Vn,hn++,Vn=_i.max(),Number(Vn)===Number(In))break}while(Number(Vn)>=Number.EPSILON);return ze.systemSolutions(mn,$e,!0,function(xe){return te.Utils.round(Number(xe),14)})},systemSolutions:function(I,O,U,Z){var ie=te.Settings.SOLUTIONS_AS_OBJECT?{}:[];return I.each(function(de,Ee){var ye=(U?x.expand(de):de).valueOf();Z&&(ye=Z.call(de,ye));var Me=O[Ee];te.Settings.SOLUTIONS_AS_OBJECT?ie[Me]=ye:ie.push([Me,ye])}),ie},solveSystemBySubstitution:function(I){var O=zn(I[0]),U=zn(I[1]);return 2===I.length&&2===O.length&&te.Utils.arrayEqual(O,U)?ze.solveCircle(I,O):[]},solveSystem:function(I,O){for(var U=0;U<I.length;U++)I[U]=ze.toLHS(I[U]);var ye,Z=I.length,ie=new te.Matrix,de=new te.Matrix,Ee=!1;if(typeof O>"u"){if(!xi.allLinear(I))try{return ze.solveNonLinearSystem(I)}catch(be){if(be instanceof te.exceptions.DivisionByZero)return ze.solveSystemBySubstitution(I)}if(1===(ye=te.Utils.arrayGetVariables(I)).length){var $e,Me=0;do{var dt=I[Me].clone();Me>0&&(dt=dt.sub(ye[0],$e[0])),$e=D(dt,ye[0])}while(++Me<I.length);return xn.SOLUTIONS_AS_OBJECT?(ut={})[ye[0]]=$e:ut=0===$e.length?$e:[ye[0],$e],ut}if(ye.length<I.length){var kt=[];for(Me=I.length,U=0;U<Me-1;U++)kt.push(x.parse(I[U]));var tn={},ut=ze.solveSystem(kt,ye);Array.isArray(ut)?ut.forEach(function(Ne){tn[Ne[0]]=Ne[1]}):tn=ut;var hn=!0;for(U=Me-1;U<Me;U++)x.parse(I[U],tn).equals(0)||(hn=!1);if(hn)return ut}for(U=0;U<ye.length;U++)Ho.setVar(ye[U],"delete");for(U=0;U<Z;U++){dt=I[U];for(var Xe=0;Xe<ye.length;Xe++){var Vn=ye[Xe],In=[];dt.each(function(Ne){Ne.contains(Vn)&&(In=In.concat(Ne.coeffs()))});var en=te.Utils.arraySum(In);ie.set(U,Xe,en)}var _i=dt.clone();ye.map(function(Ne){_i=_i.stripVar(Ne,!0)}),de.set(U,0,_i.negate())}}else for(ye=O,Ee=!0,U=0;U<Z;U++){for(de.set(U,0,new fe(0)),dt=x.expand(I[U]).collectSymbols(),Xe=0;Xe<O.length;Xe++){ie.set(U,Xe,new fe(0)),Vn=O[Xe];for(var Vi=0;Vi<dt.length;Vi++){for(var Qt=dt[Vi],mn=!1,Hi=0;Hi<O.length;Hi++)Qt.contains(O[Hi])&&(mn&&te.err("Multiple variables found for term "+Qt),mn=!0);if(Qt.contains(Vn)){var Ei=we(Rn(dt,Vi),Vn);ie.set(U,Xe,x.add(ie.get(U,Xe),Ei[0]))}}}for(Vi=0;Vi<dt.length;Vi++)de.set(U,0,x.add(de.get(U,0),dt[Vi]))}if(ye.length!==I.length||ie.determinant().equals(0))throw new te.exceptions.SolveError("System does not have a distinct solution");var xe=(ie=ie.invert()).multiply(de);return te.Utils.isArray(O)&&xe.each(function(be){return be.negate()}),ze.systemSolutions(xe,ye,Ee)},quad:function(I,O,U){var Z=x.subtract(x.pow(O.clone(),fe(2)),x.multiply(x.multiply(U.clone(),I.clone()),fe(4)));Z=x.expand(Z);var ie=x.pow(Z,fe(.5)),de=x.parse(x.multiply(new fe(2),U.clone()));return[x.parse(ni("(-({0})+({1}))/({2})",O,ie,de)),x.parse(ni("(-({0})-({1}))/({2})",O,ie,de))]},cubic:function(I,O,U,Z){var ie=Z.text(),de=U.text(),Ee=O.text(),Me=`(-(${de})^3/(27*(${ie})^3)+(${de})*(${Ee})/(6*(${ie})^2)-(${I.text()})/(2*(${ie})))`,$e=`((${Ee})/(3*(${ie}))-(${de})^2/(9*(${ie})^2))`,ut=`((${Me})+sqrt((${Me})^2+(${$e})^3))^(1/3)+((${Me})-sqrt((${Me})^2+(${$e})^3))^(1/3)-((${de})/(3*(${ie})))`,kt="1/2+sqrt(3)/2*i";return[x.parse(ut),x.parse(`(${ut})(${kt})`),x.parse(`(${ut})(${kt})^2`)]},quartic:function(I,O,U,Z,ie){var Ee,ye,$e,dt,ut,de={};return te.Utils.arrayUnique(zn(ie).concat(zn(Z)).concat(zn(U)).concat(zn(O)).concat(zn(I))).map(function(Vn){de[Vn]=1}),ie=ie.toString(),Z=Z.toString(),U=U.toString(),O=O.toString(),I=I.toString(),Ee=x.parse(ni("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",ie,Z,U)).toString(),ye=x.parse(ni("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",ie,Z,U,O)).toString(),$e=x.parse(ni("12*({0})*({4})-3*({1})*({3})+({2})^2",ie,Z,U,O,I)).toString(),dt=x.parse(ni("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",ie,Z,U,O,I)).toString(),ut=x.parse(ni("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",$e,dt)).toString(),At=x.parse(ni("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",ie,Ee,ut,$e)).toString(),[x.parse(ni("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",ie,Z,Ee,ye,At)),x.parse(ni("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",ie,Z,Ee,ye,At)),x.parse(ni("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",ie,Z,Ee,ye,At)),x.parse(ni("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",ie,Z,Ee,ye,At))]},divideAndConquer:function(I,O){var U=[],Z=te.Algebra.Factor.factor(I);return Z.group===jt&&Z.each(function(ie){ie=fe.unwrapPARENS(ie),U=U.concat(D(ie,O))}),U},csolve:function(I,O){return te.Utils.block("IGNORE_E",function(){var U,Z,ie,de,$e,ut;if(ut=[],(U=te.Utils.decompose_fn(I,O,!0)).x.group===At){Z=x.parse(U.x.power),ie=Number(Z),de=x.pow(x.divide(U.b.negate(),U.a),Z.invert()),$e=fe.toPolarFormArray(de)[0].toString(),Z.toString();for(var tn,hn,Xe=0;Xe<ie;Xe++)hn=ni("({0})*e^(2*{1}*pi*{2}*{3})",$e,Xe,Z,te.Settings.IMAGINARY),tn=x.parse(hn),ut.push(tn)}return ut},!0)},getPoints:function(I,O,U){O=O||.01,U=U||[];var Z=Mi(I),de=Math.round(0),Ee=Z(de),ye=Ee/Math.abs(Ee),Me=te.Settings.ROOTS_PER_SIDE,$e=Me;U.push(Math.floor(de/2)),U.push(Math.abs(de)),U.push(de),I.each(function(tn){tn.containsFunction(te.Settings.LOG)&&U.push(.1)});var dt=Ri(-te.Settings.SOLVE_RADIUS,de,O),ut=Ri(de,te.Settings.SOLVE_RADIUS,O),kt=function(tn,hn){for(var Xe,Vn,In,en=[],_i=0,Vi=tn.length;_i<Vi;_i++)In=(Vn=Z(Xe=tn[_i]))/Math.abs(Vn),!(isNaN(Vn)||!isFinite(Vn)||en.length>hn)&&(In!==ye&&en.push(Xe),ye=In);U=U.concat(en)};return kt(dt,$e),kt(ut,Me),U},bisection:function(I,O){var U=I-1,Z=I+1;if(Math.sign(O(U))!==Math.sign(O(Z))){var de,Ee,ie=0;do{if(de=Math.abs(Z-U),ie++>te.Settings.MAX_BISECTION_ITER||isNaN(de))return;Ee=(U+Z)/2,O(U)*O(Ee)>0?U=Ee:Z=Ee}while(de>=xn.EPSILON);var ye=(U+Z)/2,Me=O(ye);if(!isNaN(Me)&&Math.abs(Me)<=te.Settings.BI_SECTION_EPSILON)return te.Utils.round(ye,13)}},Newton:function(I,O,U){var Ee,Z=te.Settings.MAX_NEWTON_ITERATIONS,ie=0,de=I;do{var ye=O(de);if(0===de&&0===ye){Ee=0;break}if(++ie>Z)return;Ee=de-ye/U(de);var Me=Math.abs(Ee-de);de=Ee}while(Me>xn.NEWTON_EPSILON);if(Math.abs(O(Ee))<=xn.EPSILON)return Ee},rewrite:function(I,O,U){if(O=O||new fe(0),I.isComposite()&&I.isLinear()){var Z=[],ie=[];I.each(function($e){"sqrt"===($e=$e.clone()).fname&&$e.contains(U)?Z.push($e):ie.push($e)},!0),1===Z.length&&(O=x.expand(x.pow(x.subtract(O,te.Utils.arraySum(ie)),new fe(2))),I=x.expand(x.pow(fe.unwrapSQRT(Z[0]),new fe(2))))}else I=fe.unwrapSQRT(x.expand(I));var de=0,Ee=I.length;if(I.group===un&&I.contains(U)&&I.isLinear()){I.distributeMultiplier();var ye=new fe(0);return I.each(function($e){$e.contains(U)?(de++,ye=x.add(ye,$e.clone())):O=x.subtract(O,$e.clone())}),I=ye,de!==Ee?ze.rewrite(I,O,U):[I,O]}if(I.group===jt&&I.contains(U)&&I.isLinear())return I.multiplier.lessThan(0)&&(I.multiplier=I.multiplier.multiply(new te.Frac(-1)),O.multiplier=O.multiplier.multiply(new te.Frac(-1))),O.equals(0)?new fe(0):(ye=new fe(1),I.each(function(dt){dt.contains(U)?ye=x.multiply(ye,dt.clone()):O=x.divide(O,dt.clone())}),ze.rewrite(I=ye,O,U));if(!I.isLinear()&&I.contains(U)){var Me=x.parse(I.power.clone().invert());return I=x.pow(I,Me.clone()),O=x.pow(x.expand(O),Me.clone()),ze.rewrite(I,O,U)}return I.group===Je||I.group===At||I.group===an?[I,O]:void 0},sqrtSolve:function(I,O){var U=new fe(0),Z=new fe(0);if(I.isComposite()&&(I.each(function(Ee){"sqrt"===Ee.fname&&Ee.contains(O)?U=x.add(U,Ee.clone()):Z=x.add(Z,Ee.clone())}),!U.equals(0))){var ie=x.expand(x.multiply(x.parse(I.multiplier),x.subtract(x.pow(Z,new fe(2)),x.pow(U,new fe(2))))),de=D(ie,O);return de.filter(function(Ee){if(Ee.isImaginary())return Ee;var ye={};return ye[O]=Ee,_t(I,ye).equals(0)?Ee:void 0})}}},D=function(I,O,U,Z,ie){if(Z=Z||0,Z++>xn.MAX_SOLVE_DEPTH)return U;if(I instanceof Wn){if(I.isZero())return[new fe(0)];if(I.LHS.equals(O)&&!I.RHS.contains(O))return[I.RHS];if(I.RHS.equals(O)&&!I.LHS.contains(O))return[I.LHS]}if(I instanceof te.Vector&&(I=I.elements),O=O||"x",dr(I))return ze.solveSystem.apply(void 0,arguments);U=U||[];var de={},Ee={};if(Ee[O]=0,lt(I)&&!0===_t(I.getDenom(),Ee).equals(0))return U;var ye=function(Ye,Ft){var Bt=lt(Ye);if(!(void 0===Ye||"number"==typeof Ye&&isNaN(Ye)))if(dr(Ye))Ye.forEach(function(An){ye(An)});else if("null"!==Ye.valueOf()){if("function"==typeof te.Settings.PRE_ADD_SOLUTION&&(Ye=te.Settings.PRE_ADD_SOLUTION(Ye)),Bt||(Ye=x.parse(Ye)),te.Settings.make_pi_conversions&&Ft){var Wt=x.divide(Ye.clone(),new fe(Math.PI)),Pn=Wt.multiplier,fn=Math.abs(Pn.num),Li=Math.abs(Pn.den);fn<10&&Li<10&&(Ye=x.multiply(Wt,new fe("pi")))}var kn=Ye.toString();de[kn]||U.push(Ye),de[kn]=!0}};if(I.group===At&&I.contains(O)){try{var Me={};Me[O]=0,_t(ie,Me,"numer"),ye(new fe(0))}catch{}return U}if(I.group===jt){var $e=I.getNum();if($e.group===jt){var dt=String(O);return $e.each(function(Ye){Ye.contains(dt)&&D(Ye,O,U,Z,I)}),U}return D($e,O,U,Z,ie)}I.group===Je&&"sqrt"===I.fname&&(I=x.pow(fe.unwrapSQRT(I),new fe(2)));var ut=(te.Utils.isSymbol(I)?I:ze.toLHS(I,!1)).getNum(),kt=te.Utils.variables(ut),tn=kt.length;if(te.Utils.isInt(ut.power)&&ut.power>0&&(ut=x.parse(ut).toLinear()),ut.group===At||ut.group===jt&&ut.contains(O))return[new fe(0)];var Xe,hn={},Vn=function(Ye){var Ft=(Ye=x.expand(Ye,{expand_denominator:!0,expand_functions:!0})).clone();if(Ye.symbols)for(var Bt in Ye.symbols){var Wt=Ye.symbols[Bt],Pn=Wt.getDenom();if(!Pn.isConstant(!0)&&Ye.isComposite()){var fn=new fe(0);return Ye.each(function(zt){fn=x.add(fn,x.multiply(zt,Pn.clone()))}),Vn(x.multiply(x.parse(Ye.multiplier),fn))}var Li=we(Wt,O),kn=Li[1].fname===te.Settings.SQRT,An=fe.unwrapSQRT(Li[1]),Si=An.power.clone();if(!lt(Si)&&!Si.equals(.5))if(Si.den.gt(1)){if(kn)return Ye=x.subtract(Ye,Wt.clone()),Ye=x.add(Ye,x.multiply(Li[0].clone(),An)),Vn(Ye);var oi=hn[Si.den];hn[Si.den]=oi?oi++:1}else{if(-1===Si.sign()){var Ai=x.parse(O+"^"+Math.abs(Si));return Ye.each(function(zt,Ci){zt.contains(O)&&(Ye.symbols[Ci]=x.multiply(zt,Ai.clone()))}),hn={},Vn(x.parse(Ye))}if(Wt.group===an){var Ti=te.Utils.arrayMin(te.Utils.keys(Wt.symbols));if(Ti<0){Ai=x.parse(O+"^"+Math.abs(Ti));var En=new fe(0);return Ft.each(function(Ci){En=x.add(En,x.multiply(Ci.clone(),Ai.clone()))},!0),En}}}}return Ye},In=function(Ye){var Ft=new fe(0),Bt=new fe(0);return Ye.each(function(Wt){Wt.contains(O,!0)?Ft=x.add(Ft,Wt.clone()):Bt=x.subtract(Bt,Wt.clone())}),[Ft,Bt]};if(ze.inverseFunctionSolve=function(Ye,Ft,Bt){var Wt=we(Ft.args[0],O);if(Wt[1].group===At)return x.divide(x.symfunction(Ye,[x.divide(Bt,x.parse(Ft.multiplier))]),Wt[0])},(ut=Vn(ut)).equals(0))return[ut];var en=te.Utils.keys(hn);if(1===en.length&&(Xe=en[0],ut.each(function(Ye,Ft){if(Ye.contains(O)){var Bt=we(Ye,O),Wt=Bt[1],Pn=Wt.power;Pn.den.gt(1)&&(Wt.power=Pn.multiply(new te.Frac(Xe)),ut.symbols[Ft]=x.multiply(Wt,Bt[0]))}}),ut=x.parse(ut)),ye(ze.sqrtSolve(ut,O)),1===tn)if(ut.isPoly(!0)){var _i=new te.Algebra.Classes.Factors;if(te.Algebra.Factor.factor(ut,_i),_i.getNumberSymbolics()>1)for(var Vi in _i.factors)ye(D(_i.factors[Vi],O));else{var mn=(Qt=te.Utils.getCoeffs(ut,O)).length-1,Hi=!1;if(kt[0]===O){if(Fn(Qt,function(Ye){return Ye.group!==te.groups.N})){var Ei=te.Algebra.proots(ut);Fn(Ei,function(Ye){return!te.Utils.isInt(Ye)})&&(Hi=!0,Ei.map(function(Ye){ye(new fe(Ye))}))}if(!Hi)if((I=x.parse(I))instanceof te.Equation&&(I=I.toLHS()),1===mn)ye(x.divide(Qt[0],Qt[1].negate()));else if(2===mn)ye(x.expand(ze.quad.apply(void 0,Qt)));else if(3===mn){U=[];var xe=te.Algebra.Factor.factor(I);ye((U=[]).length>0?U:ze.cubic.apply(void 0,Qt))}else xi.proots(ut).map(ye)}}}else try{var xt,ke,Te,be=ut.hasTrig(),Le=ze.getPoints(ut,.1),Ne=ze.getPoints(ut,.05),nt=ze.getPoints(ut,.01),ft=te.Utils.arrayUnique(Le.concat(Ne).concat(nt)).sort(function(Ye,Ft){return Ye-Ft}),Gt=Mi(ut.clone()),k=[];for(xt=0;xt<ft.length;xt++)typeof(Te=ze.bisection(ke=ft[xt],Gt))>"u"?k.push(ke):ye(Te,be);ft=k;var ne=Wi.diff(ut.clone()),he=Mi(ne);for(xt=0;xt<ft.length;xt++)ye(ze.Newton(ke=ft[xt],Gt,he),be);U.sort()}catch(Ye){console.log(Ye)}else if(!ut.hasFunc(O)&&ut.isComposite())try{if((xe=te.Algebra.Factor.factor(ut.clone())).group===jt)xe.each(function(Ft){ye(D(Ft,O))});else{var Qt;switch(mn=(Qt=te.Utils.getCoeffs(ut,O)).length-1){case 0:var Ge=(Ve=In(ut))[1];if((se=Ve[0]).group===te.groups.EX){var st=te.Settings.LOG;ye(x.parse(`${st}((${Ge})/(${se.multiplier}))/${st}(${se.value})/${se.power.multiplier}`))}break;case 1:ye(x.divide(Qt[0],Qt[1].negate()));break;case 2:ye(ze.quad.apply(void 0,Qt));break;case 3:ye(ze.cubic.apply(void 0,Qt));break;case 4:ye(ze.quartic.apply(void 0,Qt));break;default:ye(ze.csolve(ut,O)),0===U.length&&ye(ze.divideAndConquer(ut,O))}0===U.length&&ye(D(xe,O,U,Z))}}catch{}else try{var Ze=ze.rewrite(ut,null,O);if(Ge=Ze[1],(se=Ze[0]).group===Je)if("abs"===se.fname)ye([Ge.clone(),Ge.negate()]);else if("sin"===se.fname)ye(ze.inverseFunctionSolve("asin",se,Ge));else if("cos"===se.fname)ye(ze.inverseFunctionSolve("acos",se,Ge));else if("tan"===se.fname)ye(ze.inverseFunctionSolve("atan",se,Ge));else if(se.fname===te.Settings.LOG){var it=we(se.args[0],O);(Vi=it[1]).group===At&&(ut=new Wn(Vi,Ge=x.divide(x.subtract(x.pow(se.args.length>1?se.args[1]:new fe("e"),x.divide(Ge,x.parse(se.multiplier))),it[3]),it[0])).toLHS(),ye(D(ut,O)))}else ye(x.subtract(se,Ge));else{var bt=new Wn(se,Ge).toLHS();if(bt.equals(ut))throw new Error("Stopping. No stop condition exists");ye(D(bt,O))}}catch{try{if(ut.group===jt)ye(0);else if(ut.group===un){var Ve,se;if(Ge=(Ve=In(ut))[1],(se=Ve[0]).group===te.groups.EX&&se.value===O){var at=se.power.clone().invert();ye(x.pow(Ge,at))}}}catch{}}if(Xe&&(U=U.map(function(Ye){return x.pow(Ye,new fe(Xe))})),lt(I)){var We={};U=U.filter(function(Ye){try{We[O]=Ye;var Ft=Number(_t(I,We));return isNaN(Ft),!0}catch{return!1}})}return U};Ho.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return D}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return te.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return hr}}]),Ho.updateAPI()}()},270:function(xl,E0,Pi){xl=Pi.nmd(xl);var te,xi,x=function(xi){"use strict";var we=new Jo,_t=xi.bigInt,Rn=xi.bigDec;Rn.set({precision:250});var ni={},Mi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],St={},fe={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:["\u03c0"],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9\u221e][0-9a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]+[\+\-\/\*]*)/gi,ALIASES:{\u03c0:"pi","\u221e":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};!function(){fe.CACHE.roots={};for(var T=2;T<=40;T++)for(var L=2;L<=40;L++){var V=_t(T).pow(L);fe.CACHE.roots[V+"-"+L]=T}}();var lt=ni.N=1,zn=ni.P=2,At=ni.S=3,an=ni.EX=4,jt=ni.FN=5,un=ni.PL=6,Je=ni.CB=7,xn=ni.CP=8,Ri=fe.CONST_HASH="#",dr=fe.PARENTHESIS,Wn=fe.SQRT,hr=fe.ABS,Fn=fe.FACTORIAL,ze=fe.DOUBLEFACTORIAL,D=[],I={},O=[],U=[],Z=function(g,E){if(!fe.suppress_errors)throw E?new E(g):new Error(g)},ie=function(g){var E=function(T){this.name=g,this.message=void 0!==T?T:"";var L=new Error(this.message);L.name=this.name,this.stack=L.stack};return E.prototype=Object.create(Error.prototype),E},de=function(g){return-1!==O.indexOf(g)},Ee=function(g){for(var E=g[0],T=1,L=g.length;T<L;T++)if(!g[T].equals(E))return!1;return!0},ye=function(g){U.push(g),fe.SHOW_WARNINGS&&console&&console.warn&&console.warn(g)},Me=function(g,E){if(E=E||"variable",-1===fe.ALLOW_CHARS.indexOf(g)&&!fe.VALIDATION_REGEX.test(g))throw new Ht(g+" is not a valid "+E+" name")},$e=function(g){var E=Math.sign(g);if(g=Math.abs(g),/\d+\.?\d*e[\+\-]*\d+/i.test(g)){var L=String(g).toLowerCase().split("e"),V=L.pop(),W=Math.abs(V),ge=V/W,He=L[0].split(".");if(-1===ge)g=(W-=He[0].length)<0?He[0].slice(0,W)+"."+He[0].slice(W)+(2===He.length?He[1]:""):"0."+new Array(W+1).join("0")+He.join("");else{var mt=He[1];mt&&(W-=mt.length),g=W<0?He[0]+mt.slice(0,W)+"."+mt.slice(W):He.join("")+new Array(W+1).join("0")}}return E<0?"-"+g:g},dt=function(g){for(var E=Math.floor(Math.sqrt(g)),T=2;T<=E;T++)if(g%T==0)return!1;return!0},kt=function(g){return/^\d+\.?\d*$/.test(g)},hn=function(g){return Xe(g)?hn(g.multiplier.toDecimal()):g%1!=0},Xe=function(g){return g instanceof ae},Vn=function(g){return g instanceof Gr},In=function(g,E,T){if(T=T||{c:[],add:function(He){-1===this.c.indexOf(He)&&isNaN(He)&&this.c.push(He)}},Xe(g)){var L=g.group,V=g.previousGroup;if(L===an&&In(g.power,E,T),L===xn||L===Je||V===xn||V===Je)for(var W in g.symbols)In(g.symbols[W],E,T);else if(L===At||V===At)"e"===g.value||"pi"===g.value||g.value===fe.IMAGINARY||T.add(g.value);else if(L===un||V===un)In(he(g.symbols),E,T);else if(L===an)isNaN(g.value)||T.add(g.value),In(g.power,E,T);else if(L===jt&&!E)for(var ge=0;ge<g.args.length;ge++)In(g.args[ge],E,T)}return T.c.sort()},_i=function(g,E){g=we.expand(g),E=E||{};var T=function(L,V){E[L]||(E[L]=new ae(0)),E[L]=we.add(E[L],V.clone())};return g.each(function(L){if(L.isConstant("all"))T("constants",L);else if(L.group===At)T(L.value,L);else if(L.group!==jt||L.fname!==hr&&""!==L.fname){if(L.group===an||L.group===jt)throw new Error("Unable to separate. Term cannot be a function!");T(In(L).join(" "),L)}else _i(L.args[0])}),E},Qt=function(g){return g instanceof Yn},mn=function(g){return g instanceof fi},Hi=function(g){return g instanceof rr},Ei=function(g){return g.group===lt||g.group===zn},be=function(g){return Array.isArray(g)},Le=function(g){return/^[-+]?\d+e?\+?\d*$/gim.test(g.toString())},Ne=function(g){return Xe(g)&&(g=g.multiplier),g.lessThan(0)},nt=function(g){return g&&String(g)},ft=function(g){return"("+g+")"},Gt=function(){var g=[].slice.call(arguments);return g.shift().replace(/{(\d+)}/g,function(L,V){var W=g[V];return"function"==typeof W?W():W})},ne=Object.keys,he=function(g,E,T){for(var L in g)break;return E?L:T?{key:L,obj:g[L]}:g[L]},Ve=function(g,E,T){return Me(g),de(g)?null:(E=E||In(we.parse(T)),we.functions[g]=[we.mapped_function,E.length,{name:g,params:E,body:T}],T)},Ge=function(g){return Math.min.apply(void 0,g)},at=function(g,E,T){var L,V,W,ge;if(E=String(E),g.group===xn){var He=we.expand(g.clone()).stripVar(E);L=we.subtract(g.clone(),He.clone()),ge=He}else L=g.clone();return V=L.stripVar(E),W=we.divide(L.clone(),V.clone()),ge=ge||new ae(0),T?{a:V,x:W,ax:L,b:ge}:[V,W,L,ge]},We=function(g,E){return Le(g)?g>=Number.MAX_VALUE?g.toString():Number(g):(E=typeof E>"u"?14:E,Math.round(g*Math.pow(10,E))/Math.pow(10,E))},Bt=function(g,E){if(be(g))for(var T=g.length,L=0;L<T;L++)E.call(g,L);else for(var V in g)g.hasOwnProperty(V)&&E.call(g,V)},Wt=function(g){return g%2==0},Pn=function(g){return 1/(g%1)%2==0},fn=function(g){for(var E=g.length,T=[],L=0;L<E;L++){var V=g[L];-1===T.indexOf(V)&&T.push(V)}return T},kn=function(g,E){var T=typeof E;("function"!==T||"undefined"===T)&&(E=function(mt,je){return mt===je});for(var L=[];g.length;){var V=g[0];if(1===g.length){L.push(V);break}var W=[];L.push(V);for(var ge=1;ge<g.length;ge++){var He=g[ge];E(V,He)||W.push(He)}g=W}return L},An=function(g){var E=function(T){-1===O.indexOf(T)&&O.push(T)};"string"==typeof g?E(g):Bt(g,function(T){E(T)})},Si=function(g,E){var T;return be(g)?T=g.splice(E,1)[0]:(T=g[E],delete g[E]),T},oi=function(g,E,T,L){var V=fe[g];fe[g]=void 0===T||!!T;var W=E.call(L);return fe[g]=V,W},Ti=function(g){return[].slice.call(g)},zt=function(g,E){return oi("PARSE2NUMBER",function(){return we.parse(g,E)},!0)},Ci=function(g){if(be(g)){for(var E=new Yn([]),T=0;T<g.length;T++)E.elements.push(Ci(g[T]));return E}return Xe(g)?g:we.parse(g)},di=function(g){for(var T=Mi[Mi.length-1]||2;T<g;T++)dt(T)&&Mi.push(T)},B=function(g){for(var E=0;E<g.length;E++)if(g[E].group!==lt)return!1;return!0},G=function(g){for(var E=0;E<g.length;E++)if(!g[E].isPi()&&!g[E].isE()&&!g[E].isConstant(!0))return!1;return!0},z=function(g,E,T){(E.isComposite()&&!g.isComposite()||E.isLinear()&&!g.isLinear())&&([g,E]=[E,g]);var L=new ae(0);return g.isLinear()?g.each(function(V){if(E.isComposite())E.isLinear()?E.each(function(ge){var He=we.multiply(we.parse(V),we.parse(ge)),mt=we.expand(we.parse(He),T);L=we.add(L,mt)},!0):L=we.add(L,we.multiply(V,we.parse(E)));else{var W=we.multiply(we.parse(V),we.parse(E));L=we.add(L,we.expand(W,T))}},!0):L=we.multiply(g,E),L},q=ie("DivisionByZero"),ue=ie("ParseError"),Y=ie("UndefinedError"),me=ie("OutOfFunctionDomainError"),Pe=ie("MaximumIterationsReached"),ce=ie("NerdamerTypeError"),Ke=ie("ParityError"),De=ie("OperatorError"),rt=ie("OutOfRangeError"),Mt=ie("DimensionError"),Ht=ie("InvalidVariableNameError"),ln=ie("ValueLimitExceededError"),wi=ie("NerdamerValueError"),Yi=ie("SolveError"),Vr=ie("InfiniteLoopError"),jr=ie("UnexpectedTokenError"),Ir={DivisionByZero:q,ParseError:ue,OutOfFunctionDomainError:me,UndefinedError:Y,MaximumIterationsReached:Pe,NerdamerTypeError:ce,ParityError:Ke,OperatorError:De,OutOfRangeError:rt,DimensionError:Mt,InvalidVariableNameError:Ht,ValueLimitExceededError:ln,NerdamerValueError:wi,SolveError:Yi,InfiniteLoopError:Vr,UnexpectedTokenError:jr},Cn={csc:function(g){return 1/Math.sin(g)},sec:function(g){return 1/Math.cos(g)},cot:function(g){return 1/Math.tan(g)},acsc:function(g){return Math.asin(1/g)},asec:function(g){return Math.acos(1/g)},acot:function(g){return Math.PI/2-Math.atan(g)},erf:function(g){var E=1/(1+.5*Math.abs(g)),T=1-E*Math.exp(-g*g-1.26551223+E*(1.00002368+E*(.37409196+E*(.09678418+E*(E*(.27886807+E*(E*(1.48851587+E*(.17087277*E-.82215223))-1.13520398))-.18628806)))));return g>=0?T:-T},diff:function(g){var E=.001;return function(L){return(g(L+E)-g(L-E))/(2*E)}},median:function(...g){g.sort(function(T,L){return T-L});var E=Math.floor(g.length/2);return g.length%2?g[E]:(g[E-1]+g[E])/2},fromContinued:function(g){for(var E=g.fractions.slice(),T=1/E.pop(),L=0,V=E.length;L<V;L++)T=1/(E.pop()+T);return g.sign*(g.whole+T)},continuedFraction:function(g,E){E=E||20;for(var vt,Nn,T=Math.sign(g),L=Math.abs(g),V=Math.floor(L),W=L-V,ge=0,He=!1,Ot={whole:V,sign:T,fractions:[]};!He&&0!==W&&(vt=1/W,!((Nn=Math.floor(vt))>1e7&&Cn.fromContinued(Ot)-g<=Number.EPSILON));)Ot.fractions.push(Nn),((W=vt-Nn)<=1e-14||ge>=E-1)&&(He=!0),ge++;var ii=Ot.fractions.length-1;return 1===Ot.fractions[ii]&&(Ot.fractions.pop(),Ot.fractions[--ii]++),Ot},bigpow:function(g,E){g instanceof Kt||(g=Kt.create(g)),E instanceof Kt||(E=Kt.create(E));var T=new Kt(0);if(E.isInteger())T.num=g.num.pow(E.toString()),T.den=g.den.pow(E.toString());else{var L=Kt.create(Math.pow(g.num,E.num)),V=Kt.create(Math.pow(g.den,E.num));T.num=Cn.nthroot(L,E.den.toString()),T.den=Cn.nthroot(V,E.den)}return T},gamma:function(g){var T=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];if(g<.5)return Math.PI/(Math.sin(Math.PI*g)*Cn.gamma(1-g));g-=1;for(var L=T[0],V=1;V<9;V++)L+=T[V]/(g+V);var W=g+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(W,g+.5)*Math.exp(-W)*L},bigfactorial:function(g){for(var E=new _t(1),T=2;T<=g;T++)E=E.times(T);return new Kt(E)},bigLog:function(g){var E=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(E[g])return Kt.quick.apply(null,E[g].split("/"));g=new Kt(g);for(var L=new Kt(0),V=g.subtract(new Kt(1)),W=g.add(new Kt(1)),ge=0;ge<80;ge++){var He=new Kt(2*ge+1),mt=Cn.bigpow(V.divide(W),He),je=He.clone().invert().multiply(mt);L=L.add(je)}return L.multiply(new Kt(2))},factorial:function(g){var E=g%1==0;if(E&&g<0)return NaN;if(!E)return Cn.gamma(g+1);for(var T=1,L=2;L<=g;L++)T*=L;return T},dfactorial:function(g){if(Le(g)){var E=g%2==0,T=E?g/2:(g+1)/2,L=new Kt(1);if(E)for(var V=1;V<=T;V++)L=L.multiply(new Kt(2).multiply(new Kt(V)));else for(V=1;V<=T;V++)L=L.multiply(new Kt(2).multiply(new Kt(V)).subtract(new Kt(1)))}else L=Math.pow(2,(1+2*g-Math.cos(Math.PI*g))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*g)-1)/4)*Cn.gamma(1+g/2);return L},GCD:function(){for(var g=fn([].slice.call(arguments).map(function(V){return Math.abs(V)})).sort(),E=Math.abs(g.shift()),T=g.length;T-- >0;)for(var L=Math.abs(g.shift());;){if(0==(E%=L)){E=L;break}if(0==(L%=E))break}return E},QGCD:function(){for(var g=[].slice.call(arguments),E=g[0],T=1;T<g.length;T++){var L=g[T],V=E.isNegative()&&L.isNegative()?-1:1;E=L.gcd(E),V<0&&E.negate()}return E},LCM:function(g,E){return g*E/Cn.GCD(g,E)},pow:function(g,E){return g<0&&Math.abs(E)<1?1/E%2==0?NaN:-Math.pow(Math.abs(g),E):Math.pow(g,E)},factor:function(g){g=Number(g);var E=Math.sign(g);g=Math.abs(g);var T=Cn.ifactor(g),L=new ae;for(var V in L.symbols={},L.group=Je,T){var W=new ae(1);W.group=zn,W.value=V,W.power=new ae(T[V]),L.symbols[V]=W}return L.updateHash(),1===g&&(L=new ae(g)),E<0&&L.negate(),L},sfactor:function(g,E){E=E||{};var T=Math.floor(Math.sqrt(g));T>Mi[Mi.length-1]&&g<1e6&&di(T);for(var V=Mi.length,W=0;W<V;W++)for(var ge=Mi[W];g%ge==0;)g/=ge,E[ge]=(E[ge]||0)+1;return g>1&&(E[g]=1),E},ifactor:function(g){var E=new _t(g);if("0"===(g=String(g)))return{0:1};var T=(g=new _t(g)).sign?-1:1;g=g.abs();var L={};if(g.lt("65536"))L=Cn.sfactor(g,L);else{var V=function(je){je.isPrime()?L[je]=(L[je]||0)+1:L=Cn.sfactor(je,L)};try{for(var ge=0;!g.abs().equals(1);){if(g.isPrime()){V(g);break}{let je=function(vt){for(var Nn=new _t(vt),Ot=2,pn=new _t(vt),ii=new _t(1);ii.equals(1);){for(var bn=0;bn<=Ot&&ii.equals(1);bn++){if(ge++>1e3)throw new Error("stopping");pn=pn.pow(2).add(1).mod(g),ii=_t.gcd(pn.minus(Nn).abs(),g)}Ot*=2,Nn=pn}return ii.equals(g)?je(vt+1):ii};var He=je(2);V(He),g=g.divide(He)}}}catch{L={},V(E)}}if(-1===T){var mt=Ge(ne(L));L["-"+mt]=L[mt],delete L[mt]}return L},boxfactor:function(g,E){E=E||200;for(var T,L,V=Math.floor(5/12*g),W=0,ge=!1;T=Math.floor(g/V),0!=(L=g%V);){if(ge)return[g,1];V=Math.max(L,V-L),ge=++W>E}return[T,V,W]},fib:function(g){var E=Math.sign(g);g=Math.abs(g),E=Wt(g)?E:Math.abs(E);for(var T=0,L=1,V=1,W=2;W<=g;W++)V=T+L,T=L,L=V;return V*E},mod:function(g,E){return g%E},integer_part:function(g){return Math.sign(g)*Math.floor(Math.abs(g))},simpson:function(g,E,T,L){var V=function(pn,ii,bn){var Bi=pn(ii);return isNaN(Bi)&&(Bi=pn(1===bn?ii+1e-12:ii-1e-12)),Bi};L=L||1e-4;var W=Math.abs(Math.floor((T-E)/L));W%2!=0&&W++;for(var ge=(T-E)/W,He=V(g,E,1),mt=!1,je=E+ge,Ot=1;Ot<W;Ot++)He+=(mt?2:4)*V(g,je,1),mt=!mt,je+=ge;return(He+V(g,je,2))*(ge/3)},num_integrate:function(g,E,T,L,V){if(V<0)throw new Error("max depth cannot be negative");function W(mt,je,vt,Nn,Ot,pn,ii,bn,Bi,or,$i){if($i.nanEncountered)return NaN;var yr,no,Ui,Fo,Fs,zo,er,Cr,io,Cs;if(no=mt(je+.25*(yr=vt-je)),Ui=mt(vt-.25*yr),isNaN(no))$i.nanEncountered=!0;else{if(!isNaN(Ui))return Cs=((zo=(Fo=yr*(Nn+4*no+Ot)/12)+(Fs=yr*(Ot+4*Ui+pn)/12))-ii)/15,$i.maxDepthCount>1e3*Bi?void 0:or>Bi?($i.maxDepthCount++,zo+Cs):Math.abs(Cs)<bn?zo+Cs:(Cr=W(mt,je,er=je+.5*yr,Nn,no,Ot,Fo,.5*bn,Bi,or+1,$i),isNaN(Cr)?($i.nanEncountered=!0,NaN):(io=W(mt,er,vt,Ot,Ui,pn,Fs,.5*bn,Bi,or+1,$i),isNaN(io)?($i.nanEncountered=!0,NaN):Cr+io));$i.nanEncountered=!0}}var He;try{He=function ge(mt,je,vt,Nn,Ot){var pn={maxDepthCount:0,nanEncountered:!1};void 0===Nn&&(Nn=1e-9),void 0===Ot&&(Ot=45);var ii=mt(je),bn=mt(.5*(je+vt)),Bi=mt(vt),$i=W(mt,je,vt,ii,bn,Bi,(ii+4*bn+Bi)*(vt-je)/6,Nn,Ot,1,pn);if(pn.maxDepthCount>0&&ye("integrate-adaptive-simpson: Warning: maximum recursion depth ("+Ot+") reached "+pn.maxDepthCount+" times"),pn.nanEncountered)throw new Error("Function does not converge over interval!");return $i}(g,E,T,L,V)}catch{return Cn.simpson(g,E,T)}return We(He,12)},Ci:function(g){for(var L=0,V=1;V<20;V++){var W=2*V;L+=Math.pow(-1,V)*Math.pow(g,W)/(W*Cn.factorial(W))}return Math.log(g)+.5772156649015329+L},Si:function(g){for(var T=0,L=0;L<20;L++){var V=2*L;T+=Math.pow(-1,L)*Math.pow(g,V+1)/((V+1)*Cn.factorial(V+1))}return T},Ei:function(g){if(0===Number(g))return-1/0;for(var L=0,V=1;V<30;V++)L+=Math.pow(g,V)/(V*Cn.factorial(V));return.5772156649015329+Math.abs(Math.log(g))+L},Shi:function(g){for(var L,V,T=0,W=0;W<30;W++)V=1+(L=2*W),T+=Math.pow(g,V)/(V*V*Cn.factorial(L));return T},Chi:function(g){var L;return L=function(V){return(Math.cosh(V)-1)/V},Math.log(g)+.5772156649015329+Cn.num_integrate(L,.002,g,.001)},Li:function(g){return Cn.Ei(Cn.bigLog(g))},gamma_incomplete:function(g,V){for(var T=g-1,L=0,W=(V=V||0,0);W<T;W++)L+=Math.pow(V,W)/Cn.factorial(W);return Cn.factorial(T)*Math.exp(-V)*L},step:function(g){return g>0?1:g<0?0:.5},rect:function(E){return.5===(E=Math.abs(E))?E:E>.5?0:1},sinc:function(g){return g.equals(0)?1:Math.sin(g)/g},tri:function(g){return(g=Math.abs(g))>=1?0:1-g},nthroot:function(g,E){if(g instanceof Kt||(g=new Kt(g.toString())),E instanceof Kt||(E=new Kt(E.toString())),E.equals(1))return g;var V,W,ge,T=g.divide(new Kt(2)),L=new Kt(1e-15),He=E.clone().invert(),mt=E.subtract(new Kt(1));do{var je=Cn.bigpow(T,mt),vt=He.multiply(g.divide(je).subtract(T)).toDecimal(25);if(V=Kt.create(vt),ge)break;T=T.add(V),vt=V.toDecimal(),ge=!!W&&W===vt,W=vt}while(V.abs().gte(L));return T},sqrt:function(g){g instanceof Kt||(g=new Kt(g));var E,T,L,V,W=0,ge=!1,He=new Kt(1e-20);E=g.divide(new Kt(2));do{if(W>1e3)throw new Error("Unable to calculate square root for "+g);E=E.add(g.divide(E)).divide(new Kt(2)),E=new Kt(E.decimal(30)),T=g.subtract(E.multiply(E)),V=!!L&&L.equals(T),(T.clone().abs().lessThan(He)||V)&&(ge=!0),L=T,W++}while(!ge);return E}};function _n(g,E,T,L){var V="hash"===E,W=void 0,ge=V?void 0:E,He="decimal"===ge||"decimals"===ge;function mt(er){switch(E){case"decimals":case"decimal":return W=W||function(Dr){return!1},er.valueOf();case"recurring":W=W||function(Dr){return-1!==Dr.indexOf("'")};var Ps=er.toString();if(0===(ds=/^-?\d+(?:\/\d+)?$/.exec(Ps)).length)return Ps;var Do=ds[0].split("/"),Cr=!1,io=Number(Do[0]);io<0&&(io=-io,Cr=!0);var Cs=Number(Do[1]);Cs||(Cs=1);var qt=10*(io-(ra=Math.floor(io/Cs))*Cs);for(ra=ra.toString()+".";qt&&qt<Cs;)qt*=10,ra+="0";for(var mc="",Qn=[],br=0;;){if(typeof Qn[qt]<"u")return(Cr?"-":"")+(ra+mc.slice(0,Qn[qt])+"'"+mc.slice(Qn[qt])+"'").replace("'0'","").replace(/\.$/,"");var eu=Math.floor(qt/Cs),vc=qt-eu*Cs;Qn[qt]=br,mc+=eu.toString(),br+=1,qt=10*vc}case"mixed":var ds;if(W=W||function(Dr){return-1!==Dr.indexOf("/")},Ps=er.toString(),0===(ds=/^-?\d+(?:\/\d+)?$/.exec(Ps)).length)return Ps;Do=ds[0].split("/");var Wa=new _t(Do[0]),wr=new _t(Do[1]);wr.equals(0)&&(wr=new _t(1));var Ou=Wa.divmod(wr),ra=Ou.quotient,Al=Ou.remainder,dd="-"===Do[0][0]||ra.equals(0)||Al.equals(0)?"":"+";return(ra.equals(0)?"":ra.toString())+dd+(Al.equals(0)?"":Al.toString()+"/"+Do[1]);case"scientific":return W=W||function(Dr){return!1},new Wr(er.valueOf()).toString(fe.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return W=W||function(Dr){return-1!==Dr.indexOf("/")},er.toString()}}if(He&&typeof L>"u"&&(L=fe.DEFAULT_DECP),Xe(g)){var je="",vt="",Nn="",Ot=g.group||T,pn=g.value;if(!V){var ii=mt(g.multiplier);"-1"==ii&&"-1"===String(g.multiplier)&&(Nn="-",ii="1"),"1"!=ii&&(je=ii);var bn=g.power?mt(g.power):"";"1"!=bn&&(vt=Xe(bn)?_n(bn,ge):bn)}switch(Ot){case lt:je="";var Bi=L&&He?g.multiplier.toDecimal(L):mt(g.multiplier);pn="-1"==String(g.multiplier)?"1":Bi,vt="";break;case un:pn=g.collectSymbols().map(function(er){var Cr=_n(er,ge,T,L);return"0"==Cr&&(Cr=""),Cr}).sort().join("+").replace(/\+\-/g,"-");break;case xn:pn=g.collectSymbols().map(function(er){var Cr=_n(er,ge,T,L);return"0"==Cr&&(Cr=""),Cr}).sort().join("+").replace(/\+\-/g,"-");break;case Je:pn=g.collectSymbols(function(er){var Cr=er.group;return(Cr===un||Cr===xn)&&er.power.equals(1)&&er.multiplier.equals(1)?ft(_n(er,ge)):_n(er,ge)}).join("*");break;case an:var or=g.previousGroup,$i=g.power.group;or===un&&(pn=g.collectSymbols(_n,ge).join("+").replace("+-","-")),!(or===lt||or===At||or===jt)&&!V&&(pn=ft(pn)),($i===xn||$i===Je||$i===un||"1"!=g.power.multiplier.toString())&&vt&&(vt=ft(vt))}if(Ot===jt&&(pn=g.fname+ft(g.args.map(function(er){return _n(er,ge)}).join(","))),Ot===jt&&g.fname in St){var yr=_n(g.args[0]),no=_n(g.args[1]);g.args[0].isComposite()&&(yr=ft(yr)),g.args[1].isComposite()&&(no=ft(no)),pn=yr+St[g.fname]+no}vt&&Ot!==an&&W(vt)&&(vt=ft(vt)),((Ot===xn||Ot===un)&&(je&&"1"!=je||"-"===Nn)||(Ot===Je||Ot===xn||Ot===un)&&vt&&"1"!=vt||!V&&Ot===zn&&-1==pn||g.fname===dr)&&(pn=ft(pn)),L&&("decimal"===E||"decimals"===E&&je)&&(je=We(je,L));var Ui=Nn+je;if(je&&W(je)&&(Ui=ft(Ui)),vt<0&&(vt=ft(vt)),je&&(Ui+="*"),vt){if("e"===pn&&fe.E_TO_EXP)return Ui+"exp"+ft(vt);vt=fe.POWER_OPERATOR+vt}Ot===an&&"-"===pn.charAt(0)&&(pn=ft(pn));var Fo=Ui+pn;return g.parens&&(Fo=ft(Fo)),Fo+vt}if(Qt(g)){for(var Fs=g.elements.length,zo=(Ui=[],0);zo<Fs;zo++)Ui.push(g.elements[zo].text(E));return"["+Ui.join(",")+"]"}try{return g.toString()}catch{return""}}function to(g){if(dt(g))return[g];for(var E=g,T=1,L=[];T<E;){var W=g/T,ge=Math.floor(W);if(W-ge<=2220446049250313e-31&&T>1){if(dt(T)&&(-1===Mi.indexOf(T)&&Mi.push(T),L.push(T)),dt(ge)){L.push(ge);break}E=ge}T++}return L.sort(function(mt,je){return mt-je})}function Gr(g){this.symbol=g}function Wr(g){return this instanceof Wr?((g=String(typeof g>"u"?0:g)).startsWith("-")?(this.sign=-1,g=g.substr(1,g.length)):this.sign=1,Wr.isScientific(g)?this.fromScientific(g):this.convert(g),this):new Wr(g)}function Kt(g){if(g instanceof Kt)return g;if(void 0===g)return this;try{if(Le(g))try{this.num=_t(g),this.den=_t(1)}catch{return Kt.simple(g)}else{var E=g instanceof Rn?fd.quickConversion(g):fd.convert(g);this.num=new _t(E[0]),this.den=new _t(E[1])}}catch{return Kt.simple(g)}}function ae(g){var E="Infinity"===g;return this instanceof ae?(g instanceof Rn&&(g=g.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(g)||g instanceof Rn?(this.group=lt,this.value=Ri,this.multiplier=new Kt(g)):(this.group=At,Me(g),this.value=g,this.multiplier=new Kt(1),this.imaginary=g===fe.IMAGINARY,this.isInfinity=E),this.power=new Kt(1),this):new ae(g)}function Jo(){var g=this,E={},T={names:[],actions:[]};function L(b,C){this.start=b,this.end=C}function V(){this.elements=[]}function W(b,C,X){if(this.type=C,this.value=b,void 0!==X&&(this.column=X+1),C===W.OPERATOR){var le=je[b];for(var Ie in le)this[Ie]=le[Ie]}else C===W.FUNCTION&&(this.precedence=W.MAX_PRECEDENCE,this.leftAssoc=!1)}L.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},L.prototype.text=function(){return _n(this.start)+":"+_n(this.end)},V.prototype.append=function(b){this.elements.push(b)},V.prototype.getItems=function(){return this.elements},V.prototype.toString=function(){return g.pretty_print(this.elements)},V.create=function(b){var C=new V;return b&&C.append(b),C},W.prototype.toString=function(){return this.value},W.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},W.OPERATOR="OPERATOR",W.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",W.FUNCTION="FUNCTION",W.UNIT="UNIT",W.KEYWORD="KEYWORD",W.MAX_PRECEDENCE=999,this.classes={Collection:V,Slice:L,Token:W};var ge={prec:void 0,cos:function(b,C){var X,le;return X=g.parse(Math.cos(b)*Math.cosh(C)),le=g.parse(Math.sin(b)*Math.sinh(C)),g.subtract(X,g.multiply(le,ae.imaginary()))},sin:function(b,C){var X,le;return X=g.parse(Math.sin(b)*Math.cosh(C)),le=g.parse(Math.cos(b)*Math.sinh(C)),g.subtract(X,g.multiply(le,ae.imaginary()))},tan:function(b,C){var X,le;return X=g.parse(Math.sin(2*b)/(Math.cos(2*b)+Math.cosh(2*C))),le=g.parse(Math.sinh(2*C)/(Math.cos(2*b)+Math.cosh(2*C))),g.add(X,g.multiply(le,ae.imaginary()))},sec:function(b,C){var X=this.removeDen(this.cos(b,C));return g.subtract(X[0],g.multiply(X[1],ae.imaginary()))},csc:function(b,C){var X=this.removeDen(this.sin(b,C));return g.add(X[0],g.multiply(X[1],ae.imaginary()))},cot:function(b,C){var X=this.removeDen(this.tan(b,C));return g.subtract(X[0],g.multiply(X[1],ae.imaginary()))},acos:function(b,C){var X,le,Ie,Qe,ot;return X=this.fromArray([b,C]),ot=g.pow(X.clone(),new ae(2)),le=g.expand(ot),Ie=g.multiply(br(g.subtract(new ae(1),le)),ae.imaginary()),Qe=qi(g.expand(g.add(X.clone(),Ie))),g.expand(g.multiply(ae.imaginary().negate(),Qe))},asin:function(b,C){return g.subtract(g.parse("pi/2"),this.acos(b,C))},atan:function(b,C){return b.equals(0)&&(C.equals(1)||C.equals(-1))?g.parse(`${ae.infinity()}*${fe.IMAGINARY}*${C}`):(Ue=ge.fromArray([b,C]),X=g.expand(g.multiply(ae.imaginary(),Ue.clone())),le=qi(g.expand(g.subtract(new ae(1),X.clone()))),Ie=qi(g.expand(g.add(new ae(1),X.clone()))),g.expand(g.multiply(g.divide(ae.imaginary(),new ae(2)),g.subtract(le,Ie))));var X,le,Ie,Ue},asec:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.acos.apply(this,X)},acsc:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.asin.apply(this,X)},acot:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.atan.apply(this,X)},cosh:function(b,C){var X,le;return X=g.parse(Math.cosh(b)*Math.cos(C)),le=g.parse(Math.sinh(b)*Math.sin(C)),g.add(X,g.multiply(le,ae.imaginary()))},sinh:function(b,C){var X,le;return X=g.parse(Math.sinh(b)*Math.cos(C)),le=g.parse(Math.cosh(b)*Math.sin(C)),g.add(X,g.multiply(le,ae.imaginary()))},tanh:function(b,C){var X,le;return X=g.parse(Math.sinh(2*b)/(Math.cos(2*C)+Math.cosh(2*b))),le=g.parse(Math.sin(2*C)/(Math.cos(2*C)+Math.cosh(2*b))),g.subtract(X,g.multiply(le,ae.imaginary()))},sech:function(b,C){var X=this.removeDen(this.cosh(b,C));return g.subtract(X[0],g.multiply(X[1],ae.imaginary()))},csch:function(b,C){var X=this.removeDen(this.sinh(b,C));return g.subtract(X[0],g.multiply(X[1],ae.imaginary()))},coth:function(b,C){var X=this.removeDen(this.tanh(b,C));return g.add(X[0],g.multiply(X[1],ae.imaginary()))},acosh:function(b,C){var X,le,Ie;return Ie=this.fromArray([b,C]),X=br(g.add(Ie.clone(),new ae(1))),le=br(g.subtract(Ie.clone(),new ae(1))),g.expand(qi(g.add(Ie,g.expand(g.multiply(X,le)))))},asinh:function(b,C){var X,le;return le=this.fromArray([b,C]),X=br(g.add(new ae(1),g.expand(g.pow(le.clone(),new ae(2))))),g.expand(qi(g.add(le,X)))},atanh:function(b,C){var X,le,Ie;return Ie=this.fromArray([b,C]),X=qi(g.add(Ie.clone(),new ae(1))),le=qi(g.subtract(new ae(1),Ie)),g.expand(g.divide(g.subtract(X,le),new ae(2)))},asech:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.acosh.apply(this,X)},acsch:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.asinh.apply(this,X)},acoth:function(b,C){var X=this.removeDen([b,C]);return X[1].negate(),this.atanh.apply(this,X)},sqrt:function(b){var C,X,le,Ie,Ue;return C=b.realpart(),X=b.imagpart(),le=ae.hyp(C,X),Ie=g.add(C.clone(),le),Ue=br(g.multiply(new ae(2),Ie.clone())),g.add(g.divide(Ie.clone(),Ue.clone()),g.multiply(g.divide(X,Ue),ae.imaginary()))},log:function(b,C){var X,le,Ie;return X=qi(ae.hyp(b,C)),Ie=fe.USE_BIG?ae(Rn.atan2(C.multiplier.toDecimal(),b.multiplier.toDecimal())):Math.atan2(C,b),le=g.parse(Ie),g.add(X,g.multiply(ae.imaginary(),le))},erf:(b,C)=>g.symfunction("erf",[b]),removeDen:function(b){var C,X,le;return be(b)?(X=b[0],le=b[1]):(X=b.realpart(),le=b.imagpart()),C=Math.pow(X,2)+Math.pow(le,2),[g.parse(X/C),g.parse(le/C)]},fromArray:function(b){return g.add(b[0],g.multiply(ae.imaginary(),b[1]))},evaluate:function(b,C){var X,le,Ie;if(Ie=b.power.sign(),b.power=b.power.abs(),b.power.greaterThan(1)&&(b=g.expand(b)),Ie<0){var Ue=this.removeDen(b);X=Ue[0],le=Ue[1]}else X=b.realpart(),le=b.imagpart();return X.isConstant("all")&&le.isConstant("all")?this[C].call(this,X,le):g.symfunction(C,[b])}},He=this.trig={cos:function(b){if(b.equals("pi")&&b.multiplier.den.equals(2))return new ae(0);if(fe.PARSE2NUMBER){if(b.equals(new ae(fe.PI/2)))return new ae(0);if(b.isConstant())return new ae(fe.USE_BIG?Rn.cos(b.multiplier.toDecimal()):Math.cos(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"cos")}if(b.equals(0))return new ae(1);var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier.abs();if(b.multiplier=Ie,b.isPi()&&b.isLinear())if(Le(Ie))C=new ae(Wt(Ie)?1:-1);else{Number(Ie.num);var Qe=Number(Ie.den);2===Qe?C=new ae(0):3===Qe?(C=g.parse("1/2"),X=!0):4===Qe?(C=g.parse("1/sqrt(2)"),X=!0):6===Qe?(C=g.parse("sqrt(3)/2"),X=!0):C=g.symfunction("cos",[b])}return X&&(2===le||3===le)&&C.negate(),C||(C=g.symfunction("cos",[b])),C},sin:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return b%Math.PI==0?new ae(0):new ae(fe.USE_BIG?Rn.sin(b.multiplier.toDecimal()):Math.sin(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"sin")}if(b.equals(0))return new ae(0);var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier.sign(),Ue=b.multiplier.abs();if(b.multiplier=Ue,b.equals("pi"))C=new ae(0);else if(b.isPi()&&b.isLinear())if(Le(Ue))C=new ae(0);else{var ot=Ue.den;2==ot?(C=new ae(1),X=!0):3==ot?(C=g.parse("sqrt(3)/2"),X=!0):4==ot?(C=g.parse("1/sqrt(2)"),X=!0):6==ot?(C=g.parse("1/2"),X=!0):C=g.multiply(new ae(Ie),g.symfunction("sin",[b]))}return C||(C=g.multiply(new ae(Ie),g.symfunction("sin",[b]))),X&&(3===le||4===le)&&C.negate(),C},tan:function(b){if(fe.PARSE2NUMBER){if(b%Math.PI==0&&b.isLinear())return new ae(0);if(b.isConstant())return new ae(fe.USE_BIG?Rn.tan(b.multiplier.toDecimal()):Math.tan(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"tan")}var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier;if(b.multiplier=Ie,b.isPi()&&b.isLinear())if(Le(Ie))C=new ae(0);else{var Qe=Ie.den;if(2==Qe)throw new Y("tan is undefined for "+b.toString());3==Qe?(C=g.parse("sqrt(3)"),X=!0):4==Qe?(C=new ae(1),X=!0):6==Qe?(C=g.parse("1/sqrt(3)"),X=!0):C=g.symfunction("tan",[b])}return C||(C=g.symfunction("tan",[b])),X&&(2===le||4===le)&&C.negate(),C},sec:function(b){if(fe.PARSE2NUMBER)return b.isConstant()?new ae(fe.USE_BIG?new Rn(1).dividedBy(Rn.cos(b.multiplier.toDecimal())):Cn.sec(b.valueOf())):b.isImaginary()?ge.evaluate(b,"sec"):g.parse(Gt("1/cos({0})",b));var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier.abs();if(b.multiplier=Ie,b.isPi()&&b.isLinear())if(Le(Ie))C=new ae(Wt(Ie)?1:-1);else{var Qe=Ie.den;if(2==Qe)throw new Y("sec is undefined for "+b.toString());3==Qe?(C=new ae(2),X=!0):4==Qe?(C=g.parse("sqrt(2)"),X=!0):6==Qe?(C=g.parse("2/sqrt(3)"),X=!0):C=g.symfunction("sec",[b])}return X&&(2===le||3===le)&&C.negate(),C||(C=g.symfunction("sec",[b])),C},csc:function(b){if(fe.PARSE2NUMBER)return b.isConstant()?new ae(fe.USE_BIG?new Rn(1).dividedBy(Rn.sin(b.multiplier.toDecimal())):Cn.csc(b.valueOf())):b.isImaginary()?ge.evaluate(b,"csc"):g.parse(Gt("1/sin({0})",b));var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier.sign(),Ue=b.multiplier.abs();if(b.multiplier=Ue,b.isPi()&&b.isLinear()){if(Le(Ue))throw new Y("csc is undefined for "+b.toString());var ot=Ue.den;2==ot?(C=new ae(1),X=!0):3==ot?(C=g.parse("2/sqrt(3)"),X=!0):4==ot?(C=g.parse("sqrt(2)"),X=!0):6==ot?(C=new ae(2),X=!0):C=g.multiply(new ae(Ie),g.symfunction("csc",[b]))}return C||(C=g.multiply(new ae(Ie),g.symfunction("csc",[b]))),X&&(3===le||4===le)&&C.negate(),C},cot:function(b){if(fe.PARSE2NUMBER)return b%(Math.PI/2)==0?new ae(0):b.isConstant()?new ae(fe.USE_BIG?new Rn(1).dividedBy(Rn.tan(b.multiplier.toDecimal())):Cn.cot(b.valueOf())):b.isImaginary()?ge.evaluate(b,"cot"):g.parse(Gt("1/tan({0})",b));var C,X=!1,le=sr(b.multiplier.toDecimal()),Ie=b.multiplier;if(b.multiplier=Ie,b.isPi()&&b.isLinear()){if(Le(Ie))throw new Y("cot is undefined for "+b.toString());var Qe=Ie.den;2==Qe?C=new ae(0):3==Qe?(C=g.parse("1/sqrt(3)"),X=!0):4==Qe?(C=new ae(1),X=!0):6==Qe?(C=g.parse("sqrt(3)"),X=!0):C=g.symfunction("cot",[b])}return C||(C=g.symfunction("cot",[b])),X&&(2===le||4===le)&&C.negate(),C},acos:function(b){if(fe.PARSE2NUMBER){if(b.isConstant()){if(b.gt(1)||b.lt(-1)){var C=b.toString();return mi(zt(`pi/2-asin(${C})`))}return new ae(fe.USE_BIG?Rn.acos(b.multiplier.toDecimal()):Math.acos(b.valueOf()))}if(b.isImaginary())return ge.evaluate(b,"acos")}return g.symfunction("acos",arguments)},asin:function(b){if(fe.PARSE2NUMBER){if(b.isConstant()){if(b.gt(1)||b.lt(-1)){var C=fe.IMAGINARY,X=b.multiplier.toDecimal();return mi(zt(`${C}*log(sqrt(1-${X}^2)-${C}*${X})`))}return new ae(fe.USE_BIG?Rn.asin(b.multiplier.toDecimal()):Math.asin(b.valueOf()))}if(b.isImaginary())return ge.evaluate(b,"asin")}return g.symfunction("asin",arguments)},atan:function(b){var C;if(b.equals(0))C=new ae(0);else{if(fe.PARSE2NUMBER)return b.isConstant()?new ae(fe.USE_BIG?Rn.atan(b.multiplier.toDecimal()):Math.atan(b.valueOf())):b.isImaginary()?ge.evaluate(b,"atan"):g.symfunction("atan",arguments);C=b.equals(-1)?g.parse("-pi/4"):g.symfunction("atan",arguments)}return C},asec:function(b){if(fe.PARSE2NUMBER){if(b.equals(0))throw new me("Input is out of the domain of sec!");if(b.isConstant())return He.acos(b.invert());if(b.isImaginary())return ge.evaluate(b,"asec")}return g.symfunction("asec",arguments)},acsc:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return He.asin(b.invert());if(b.isImaginary())return ge.evaluate(b,"acsc")}return g.symfunction("acsc",arguments)},acot:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return new g.add(g.parse("pi/2"),He.atan(b).negate());if(b.isImaginary())return ge.evaluate(b,"acot")}return g.symfunction("acot",arguments)},atan2:function(b,C){if(b.equals(0)&&C.equals(0))throw new Y("atan2 is undefined for 0, 0");return fe.PARSE2NUMBER&&b.isConstant()&&C.isConstant()?new ae(Math.atan2(b,C)):g.symfunction("atan2",arguments)}},mt=this.trigh={cosh:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return new ae(Math.cosh(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"cosh")}return g.symfunction("cosh",arguments)},sinh:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return new ae(Math.sinh(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"sinh")}return g.symfunction("sinh",arguments)},tanh:function(b){if(fe.PARSE2NUMBER){if(b.isConstant())return new ae(Math.tanh(b.valueOf()));if(b.isImaginary())return ge.evaluate(b,"tanh")}return g.symfunction("tanh",arguments)},sech:function(b){return fe.PARSE2NUMBER?b.isConstant()?new ae(Math.sech(b.valueOf())):b.isImaginary()?ge.evaluate(b,"sech"):g.parse(Gt("1/cosh({0})",b)):g.symfunction("sech",arguments)},csch:function(b){return fe.PARSE2NUMBER?b.isConstant()?new ae(Math.csch(b.valueOf())):b.isImaginary()?ge.evaluate(b,"csch"):g.parse(Gt("1/sinh({0})",b)):g.symfunction("csch",arguments)},coth:function(b){return fe.PARSE2NUMBER?b.isConstant()?new ae(Math.coth(b.valueOf())):b.isImaginary()?ge.evaluate(b,"coth"):g.parse(Gt("1/tanh({0})",b)):g.symfunction("coth",arguments)},acosh:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"acosh"):fe.PARSE2NUMBER?zt(g.parse(Gt(fe.LOG+"(({0})+sqrt(({0})^2-1))",b.toString()))):g.symfunction("acosh",arguments)},asinh:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"asinh"):fe.PARSE2NUMBER?zt(g.parse(Gt(fe.LOG+"(({0})+sqrt(({0})^2+1))",b.toString()))):g.symfunction("asinh",arguments)},atanh:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"atanh"):fe.PARSE2NUMBER?zt(g.parse(Gt("(1/2)*"+fe.LOG+"((1+({0}))/(1-({0})))",b.toString()))):g.symfunction("atanh",arguments)},asech:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"asech"):fe.PARSE2NUMBER?zt(qi(g.add(b.clone().invert(),br(g.subtract(g.pow(b,new ae(-2)),new ae(1)))))):g.symfunction("asech",arguments)},acsch:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"acsch"):fe.PARSE2NUMBER?zt(g.parse(Gt(fe.LOG+"((1+sqrt(1+({0})^2))/({0}))",b.toString()))):g.symfunction("acsch",arguments)},acoth:function(b){return fe.PARSE2NUMBER&&b.isImaginary()?ge.evaluate(b,"acoth"):fe.PARSE2NUMBER?b.equals(1)?ae.infinity():zt(g.divide(qi(g.divide(g.add(b.clone(),new ae(1)),g.subtract(b.clone(),new ae(1)))),new ae(2))):g.symfunction("acoth",arguments)}};this.units={};var b,je={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(b){return b}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(b){return g.symfunction(fe.DOUBLEFACTORIAL,[b])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(b){return no(b)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(b){return g.divide(b,new ae(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(b){return b}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(b){return b}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(b){return b.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},vt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},Nn=this.functions={cos:[He.cos,1],sin:[He.sin,1],tan:[He.tan,1],sec:[He.sec,1],csc:[He.csc,1],cot:[He.cot,1],acos:[He.acos,1],asin:[He.asin,1],atan:[He.atan,1],arccos:[He.acos,1],arcsin:[He.asin,1],arctan:[He.atan,1],asec:[He.asec,1],acsc:[He.acsc,1],acot:[He.acot,1],atan2:[He.atan2,2],acoth:[mt.acoth,1],asech:[mt.asech,1],acsch:[mt.acsch,1],sinh:[mt.sinh,1],cosh:[mt.cosh,1],tanh:[mt.tanh,1],asinh:[mt.asinh,1],sech:[mt.sech,1],csch:[mt.csch,1],coth:[mt.coth,1],acosh:[mt.acosh,1],atanh:[mt.atanh,1],log10:[,1],exp:[function io(b){return b.fname===fe.LOG&&b.isLinear()?g.pow(b.args[0],ae.create(b.multiplier)):g.parse(Gt("e^({0})",b))},1],radians:[function Cs(b){return g.parse(Gt("({0})*pi/180",b))},1],degrees:[function qt(b){return g.parse(Gt("({0})*180/pi",b))},1],min:[function Al(){var b=[].slice.call(arguments);return Ee(b)?b[0]:B(b)?new ae(Math.min.apply(null,b)):fe.SYMBOLIC_MIN_MAX&&G(b)?Ou("min",b):g.symfunction("min",b)},-1],max:[function ra(){var b=[].slice.call(arguments);return Ee(b)?b[0]:B(b)?new ae(Math.max.apply(null,b)):fe.SYMBOLIC_MIN_MAX&&G(b)?Ou("max",b):g.symfunction("max",b)},-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[function Cr(b){return fe.PARSE2NUMBER?b.isConstant()?new ae(Cn.sinc(b)):g.parse(Gt("sin({0})/({0})",b)):g.symfunction("sinc",[b])},1],tri:[,1],sign:[function dd(b){return b.isConstant(!0)?new ae(Math.sign(zt(b))):g.symfunction("sign",arguments)},1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[no,1],factorial:[no,1],continued_fraction:[function Ui(b,C){var X=zt(b);if(X.isConstant()){var le=Cn.continuedFraction(X,C),Ie=Yn.fromArray(le.fractions.map(function(Ue){return new ae(Ue)}));return Yn.fromArray([new ae(le.sign),new ae(le.whole),Ie])}return g.symfunction("continued_fraction",arguments)},[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[_c,[1,2]],scientific:[function ja(b,C){return b.scientific=C||10,b},[1,2]],mod:[Fs,2],pfactor:[eu,1],vector:[function h7(){return new Yn([].slice.call(arguments))},-1],matrix:[function Bm(){return fi.fromArray(arguments)},-1],Set:[function af(){return rr.fromArray(arguments)},-1],imatrix:[function h1(b){return fi.identity(b)},-1],parens:[function $i(b){return fe.PARSE2NUMBER?b:g.symfunction("parens",[b])},-1],sqrt:[br,1],cbrt:[Co,1],nthroot:[Ga,2],log:[qi,[1,2]],expand:[function Tl(b,C){return mi(b,C=C||{expand_denominator:!0,expand_functions:!0})},1],abs:[yr,1],invert:[function sa(b){if(mn(b))return b.invert();Z("invert expects a matrix")},1],determinant:[function Kn(b){return mn(b)?b.determinant():b},1],size:[function tr(b){var C;return mn(b)?C=[new ae(b.cols()),new ae(b.rows())]:Qt(b)||Hi(b)?C=new ae(b.elements.length):Z("size expects a matrix or a vector"),C},1],transpose:[function S0(b){if(mn(b))return b.transpose();Z("function transpose expects a matrix")},1],dot:[function qo(b,C){if(Qt(b)&&Qt(C))return b.dot(C);Z("function dot expects 2 vectors")},2],cross:[function Ru(b,C){if(Qt(b)&&Qt(C))return b.cross(C);Z("function cross expects 2 vectors")},2],vecget:[function f7(b,C){return C.isConstant()&&Le(C)?b.elements[C]:g.symfunction("vecget",arguments)},2],vecset:[function Ya(b,C,X){return C.isConstant?(b.elements[C]=X,b):g.symfunction("vecset",arguments)},3],vectrim:[function wn(b,C){return C=typeof C>"u"?1e-14:C,b=b.clone(),C=Number(C),b.elements.sort(function(X,le){return le.group-X.group}),b.elements=kn(b.elements,function(X,le){return Number(g.subtract(zt(X),zt(le)).abs())<=C}),b},[1,2]],matget:[function Yr(b,C,X){return C.isConstant()&&X.isConstant()?b.elements[C][X]:g.symfunction("matget",arguments)},3],matset:[function d7(b,C,X,le){return b.elements[C][X]=le,b},4],matgetrow:[function oa(b,C){return C.isConstant()?new fi(b.elements[C]):g.symfunction("matgetrow",arguments)},2],matsetrow:[function Ka(b,C,X){if(!C.isConstant())return g.symfunction("matsetrow",arguments);if(b.elements[C].length!==X.elements.length)throw new Mt("Matrix row must match row dimensions!");var le=b.clone();return le.elements[C]=X.clone().elements,le},3],matgetcol:[function Th(b,C){if(!C.isConstant())return g.symfunction("matgetcol",arguments);C=Number(C);var X=fi.fromArray([]);return b.each(function(le,Ie,Ue){Ue===C&&X.elements.push([le.clone()])}),X},2],matsetcol:[function Nl(b,C,X){if(!C.isConstant())return g.symfunction("matsetcol",arguments);if(C=Number(C),b.rows()!==X.elements.length)throw new Mt("Matrix columns must match number of columns!");return X.each(function(le,Ie){b.set(Ie-1,C,le.elements[0].clone())}),b},3],rationalize:[Qn,1],IF:[function zo(b,C,X){return"boolean"!=typeof b&&Ei(b)&&(b=!!Number(b)),b?C:X},3],is_in:[function er(b,C){if(mn(b)){for(var X=0,le=b.rows();X<le;X++)for(var Ie=0,Ue=b.cols();Ie<Ue;Ie++)if(b.elements[X][Ie].equals(C))return new ae(1)}else if(b.elements)for(X=0,le=b.elements.length;X<le;X++)if(b.elements[X].equals(C))return new ae(1);return new ae(0)},2],realpart:[vc,1],imagpart:[Ps,1],conjugate:[ds,1],arg:[Do,1],polarform:[function Wa(b){var C,X,le;return X=(C=ae.toPolarFormArray(b))[0],le=g.parse(Gt("e^({0}*({1}))",fe.IMAGINARY,C[1])),g.multiply(X,le)},1],rectform:[function wr(b){var C=b.clone();try{var X,le,Ie,ot,$t;return X=at(b,"e",!0),le=g.divide(X.x.power,ae.imaginary()),Ie=zt(He.tan(le)),g.pow(X.a,new ae(2)),ot=Ie.getDenom(!0),$t=Ie.getNum(),ae.hyp($t,ot).equals(X.a)?g.add(ot,g.multiply(ae.imaginary(),$t)):C}catch{return C}},1],sort:[function Dr(b,C){C=C?C.toString():"asc";var X=function(Ie){return Ie.group===lt?Ie.multiplier:Ie.group===jt?""===Ie.fname?X(Ie.args[0]):Ie.fname:Ie.group===At?Ie.power:Ie.value};return new Yn((Qt(b)?b.elements:b.collectSymbols()).sort(function(Ie,Ue){var Qe=X(Ie),ot=X(Ue);return"desc"===C?ot-Qe:Qe-ot}))},[1,2]],integer_part:[,1],union:[function Nh(b,C){return b.union(C)},2],contains:[function $m(b,C){return b.contains(C)},2],intersection:[function es(b,C){return b.intersection(C)},2],difference:[function Um(b,C){return b.difference(C)},2],intersects:[function ar(b,C){return new ae(Number(b.intersects(C)))},2],is_subset:[function o8(b,C){return new ae(Number(b.is_subset(C)))},2],print:[function p1(){Ti(arguments).map(function(b){console.log(b.toString())})},-1]};function ii(b){this.type=b.type,this.value=b.value,this.left=b.left,this.right=b.right}this.error=Z,this.override=function(b,C){E[b]||(E[b]=[]),E[b].push(this[b]),this[b]=C},this.restore=function(b){this[b]&&(this[b]=E[b].pop())},this.extend=function(b,C,X){var le=this;if("function"==typeof this[b]&&"function"==typeof C){var Ue=this[b];this[b]=function(Qe,ot){return Xe(Qe)&&Xe(ot)&&!X?Ue.call(le,Qe,ot):C.call(le,Qe,ot,Ue)}}},this.symfunction=function(b,C){var X=new ae(b);return X.group=jt,"object"==typeof C&&(C=[].slice.call(C)),X.args=C,X.fname=b===dr?"":b,X.updateHash(),X},this.callfunction=function(b,C,X){var le=Nn[b];le||Z("Nerdamer currently does not support the function "+b);var Qe,Ie=le[1]||X,Ue=le[0];if(C instanceof Array||(C=void 0!==C?[C]:[]),-1!==Ie){var ot=be(Ie),$t=ot?Ie[0]:Ie,Lt=ot?Ie[1]:Ie,dn=C.length,pt=b+" requires a {0} of {1} arguments. {2} provided!";dn<$t&&Z(Gt(pt,"minimum",$t,dn)),dn>Lt&&Z(Gt(pt,"maximum",Lt,dn))}var $n=B(C);return Ue?Qe=Ue.apply(le[2],C):(Ue=function(b){for(var C=fe.FUNCTION_MODULES,X=C.length,le=0;le<X;le++){var Ie=C[le];if(b in Ie)return Ie[b]}Z("The function "+b+" is undefined!")}(b),Qe=fe.PARSE2NUMBER&&$n?sf(Ue.apply(Ue,C)):g.symfunction(b,C)),Qe},this.operator_filter_regex=(b="^\\"+Object.keys(je).filter(function(C){if(1===C.length)return C}).join("\\"),new RegExp("(["+b+"])\\s+(["+b+"])")),this.setOperator=function(b,C,X){var le=b.operator;if(je[le]=b,C&&(this[b.action]=C),g[le]=b.operation,!b.action&&!(b.prefix||b.postif)&&(b.action=le),"over"===X||"under"===X){var Ie=b.precedence;for(var Ue in je){var Qe=je[Ue];("over"===X?Qe.precedence>=Ie:Qe.precedence>Ie)&&Qe.precedence++}}},this.getOperator=function(b){return je[b]},this.aliasOperator=function(b,C){var X={},le=je[b];for(var Ie in le)X[Ie]=le[Ie];X.operator=C,this.setOperator(X)},this.getOperators=function(){return je},this.getBrackets=function(){return vt},this.initConstants=function(){this.CONSTANTS={E:new ae(fe.E),PI:new ae(fe.PI)}},this.pretty_print=function(b){if(Array.isArray(b)){var C=b.map(X=>g.pretty_print(X)).join(", ");return"vector"===b.type?"vector<"+C+">":"("+C+")"}return b.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(b){if(fe.callPeekers)for(var C=this.peekers[b],X=Ti(arguments).slice(1).map(nt),le=0;le<C.length;le++)C[le].apply(null,X)},this.tokenize=function(b){for(var C in b=(b=String(b)).trim().replace(/\s+/g," "),vt){var X=new RegExp(vt[C].is_close?"\\s+\\"+C:"\\"+C+"\\s+","g");b=b.replace(X,C)}for(var le=0,Ie=b.length,Ue=0,Qe=[],ot=[Qe],$t=ot[0],Lt=0,dn=[],pt=!1,pr=function(po,gs){var is=[];void 0!==po&&(is.type=po),is.column=gs,ot.push(is),$t.push(is),$t=is,Lt++},Sn=function(){ot.pop(),$t=ot[--Lt]},ri=function(po){for(var gs=(po=void 0!==po?po:le)+1;b.charAt(gs++)in je;);return b.substring(po,gs-1)},Tr=function(po){for(var gs=le-po.length,is=[],yc=po.charAt(0),hd=1,nu=po.length;hd<nu;hd++){var Oh=po.charAt(hd),Fr=yc+Oh;Fr in je?yc=Fr:(is.push(new W(yc,W.OPERATOR,gs+hd)),yc=Oh)}return is.push(new W(yc,W.OPERATOR,gs+hd)),is},nr=function(po,gs){void 0===gs&&(gs=b.substring(Ue,po)),gs in g.units?$t.push(new W(gs,W.UNIT,Ue)):""!==gs&&$t.push(new W(gs,W.VARIABLE_OR_LITERAL,Ue))},Hr=function(po){$t.push(new W(po,W.FUNCTION,Ue))},so=function(po){Ue=po+1};le<Ie;le++){var ao=b.charAt(le);if(ao in je){nr(le);var To=$t[0]&&kt($t[0]);pt&&Ue<le&&!(","===ao||To&&"*"===ao)&&(pt=!1,Sn()),so(le+1);var ts=ri(le);le=(Ue=Ue+ts.length-2)-1,$t.push.apply($t,Tr(ts))}else if(ao in vt){var ps=vt[ao];if(ps.is_open)dn.push([ps,Ue]),(Ls=b.substring(Ue,le))in Nn?Hr(Ls):""!==Ls&&$t.push(new W(Ls,W.VARIABLE_OR_LITERAL,Ue)),pr(ps.maps_to,le);else if(ps.is_close){var lf=dn.pop();if(!lf)throw new Ke("Missing open bracket for bracket at: "+(le+1));if(lf[0].id!==ps.id-1)throw new Ke("Parity error");nr(le),Sn()}so(le)}else if(" "===ao){var ns=b.substring(Ue,le),tu=b.charAt(le+1);if(pt){if(ns in je)$t.push(new W(ns,W.OPERATOR,le));else{nr(void 0,ns),Sn();var uf=tu in je;(uf&&"-"===je[tu].value||!uf)&&$t.push(new W("*",W.OPERATOR,le))}pt=!1}else{var Ls;(Ls=b.substring(Ue,le))in Nn?(pt=!0,Hr(Ls),pr()):Ls in je?$t.push(new W(Ls,W.OPERATOR,le)):(nr(void 0,Ls),tu=b.charAt(le+1),""!==ns&&""!==tu&&!(ns in je)&&!(tu in je)&&$t.push(new W("*",W.OPERATOR,le)))}so(le)}}if(dn.length){var ku=dn.pop();throw new Ke("Missing closed bracket for bracket at "+(ku[1]+1))}return nr(le),Qe},this.toRPN=function(b){var le,C=b.type,X=b.length,Ie=[],Ue=[],Qe=[],ot=function(Ki,pr){for(;Ki.length;)pr.push(Ki.pop())};for(le=0;le<X;le++){var $t=b[le];if($t.type!==W.OPERATOR)break;if(!$t.prefix)throw new De("Not a prefix operator");$t.is_prefix=!0,Ue.push($t)}for(;le<X;le++){var Lt=b[le];if(Lt.type===W.OPERATOR){var dn=Lt;for(dn.overloaded&&(pt=b[le+1])&&pt.type===W.VARIABLE_OR_LITERAL&&(dn.postfix=!1,dn.action=dn.overloadAction,dn.leftAssoc=dn.overloadLeftAssoc);Ue.length;){var $n=Ue[Ue.length-1];if(!($n.precedence>dn.precedence||!dn.leftAssoc&&$n.precedence===dn.precedence))break;Ie.push(Ue.pop())}if(("vector"===C||"set"===C)&&"vectorFn"in dn&&(dn.action=dn.vectorFn),dn.postfix){var ei=b[le-1];if(!ei)throw new De("Unexpected prefix operator '"+Lt.value+"'! at "+Lt.column);if(ei.type===W.OPERATOR&&!ei.postfix)throw new De("Unexpected prefix operator '"+ei.value+"'! at "+ei.column)}else do{var pt,Xn=!!(pt=b[le+1])&&pt.type===W.OPERATOR;if(Xn){if(!pt.prefix)throw new De("A prefix operator was expected at "+pt.column);pt.is_prefix=!0,Qe.push(pt),le++}}while(Xn);for(dn.is_prefix?Qe.push(dn):Ue.push(dn);Qe.length&&(dn.leftAssoc||!dn.leftAssoc&&Qe[Qe.length-1].precedence>=dn.precedence);)Ue.push(Qe.pop())}else if(Lt.type===W.VARIABLE_OR_LITERAL){0===Ie.length&&ot(Qe,Ue),Ie.push(Lt);var ui=Ue[Ue.length-1];(!ui||!ui.leftAssoc)&&ot(Qe,Ie)}else Lt.type===W.FUNCTION?Ue.push(Lt):Lt.type===W.UNIT&&Ie.push(Lt);Array.isArray(Lt)&&(Ie.push(this.toRPN(Lt)),Lt.type&&Ie.push(new W(Lt.type,W.FUNCTION,Lt.column)))}return ot(Ue,Ie),ot(Qe,Ie),Ie},this.parseRPN=function(b,C){try{for(var X in C=C||{})C[X]=g.parse(C[X],{});fe.PARSE2NUMBER&&("e"in C||(C.e=new ae(fe.E)),"pi"in C||(C.pi=new ae(fe.PI)));for(var le=[],Ie=0,Ue=b.length;Ie<Ue;Ie++){var Qe=b[Ie];if(Array.isArray(Qe)&&(Qe=this.parseRPN(Qe,C)),Qe)if(Qe.type===W.OPERATOR)if(Qe.is_prefix||Qe.postfix)le.push(Qe.operation(le.pop()));else{var ot=le.pop(),$t=le.pop();if(typeof $t>"u")throw new De(Qe+" is not a valid postfix operator at "+Qe.column);var Lt="comma"===Qe.action;$t instanceof rr&&!Lt&&($t=Yn.fromSet($t)),ot instanceof rr&&!Lt&&(ot=Yn.fromSet(ot)),this.callPeekers("pre_operator",$t,ot,Qe);var dn=g[Qe.action]($t,ot);this.callPeekers("post_operator",dn,$t,ot,Qe),le.push(dn)}else if(Qe.type===W.FUNCTION){var pt=le.pop(),$n=pt.parent;pt instanceof V||(pt=V.create(pt));var ei=Qe.value,Xn=pt.getItems();this.callPeekers("pre_function",ei,Xn);var ui=g.callfunction(ei,Xn);this.callPeekers("post_function",ui,ei,Xn);var Ki=le[le.length-1],pr=b[Ie+1];if(pr&&pr.type===W.OPERATOR&&","===pr.value||!(ui instanceof Yn)||!Ki||!Ki.elements||Ki instanceof V)$n&&(ui.parent=$n),le.push(ui);else{var ri=le.pop(),Tr=ui.elements[0];if(Tr.isConstant())if(Tr instanceof L)le.push(Yn.fromArray(ri.elements.slice(Tr.start,Tr.end)));else{var nr=Number(Tr),Hr=ri.elements.length;if(nr<0&&(nr=Hr+nr),nr<0||nr>=Hr)throw new rt("Index out of range "+(Qe.column+1));var so=ri.elements[nr];ri.getter=nr,so.parent=ri,le.push(so)}else ri.getter=Tr,le.push(ri),le.push(ui)}}else{var ro,ao=Qe.value;ao in fe.ALIASES?Qe=g.parse(fe.ALIASES[Qe]):Qe.type===W.VARIABLE_OR_LITERAL?Qe=new ae(ao):Qe.type===W.UNIT&&((Qe=new ae(ao)).isUnit=!0),ao in g.CONSTANTS?(ro=Qe,Qe=new ae(g.CONSTANTS[ao])):ao in C&&ao!==C[ao].toString()?(ro=Qe,Qe=C[ao].clone()):ao in I&&(ro=Qe,Qe=I[ao].clone()),ro&&(Qe.subbed=ro),le.push(Qe)}}var To=le[0];if(-1!==["undefined","string","number"].indexOf(typeof To))throw new jr("Unexpected token!");return To}catch(ts){throw[me].forEach(function(ps){if(ts instanceof ps)throw new ps(ts.message+": "+Qe.column)}),new ue(ts.message+": "+Qe.column)}},ii.prototype.toString=function(){var b=this.left?this.left.toString()+"---":"",C=this.right?"---"+this.right.toString():"";return b+"("+this.value+")"+C},ii.prototype.toHTML=function(b,C){b=b||0,C=typeof C>"u"?4:C;var X=function(Qe){return" ".repeat(C*Qe)},Ue="",le=this.left?X(b+1)+"<li>\n"+this.left.toHTML(b+2,C)+X(b+1)+"</li> \n":"",Ie=this.right?X(b+1)+"<li>\n"+this.right.toHTML(b+2,C)+X(b+1)+"</li>\n":"";return Ue=X(b)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+X(b)+"\n",(le||Ie)&&(Ue+=X(b)+"<ul>\n"+le+Ie+X(b)+"</ul>\n"),Ue+""},this.tree=function(b){for(var C=[],X=0;X<b.length;X++){var le=b[X];if(Array.isArray(le))le=this.tree(le),C.push(le);else if(le.type===W.OPERATOR)if(le.is_prefix||le.postfix){var Ie=le.is_prefix?"left":"right",Ue=C.pop();(le=new ii(le))[Ie]=Ue,C.push(le)}else(le=new ii(le)).right=C.pop(),le.left=C.pop(),C.push(le);else if(le.type===W.FUNCTION){le=new ii(le);var Qe=C.pop();if(le.right=Qe,"object"===le.value&&(Ue=C[C.length-1])){for(;Ue.right;)Ue=Ue.right;Ue.right=le;continue}C.push(le)}else C.push(new ii(le))}return C[0]},this.parse=function(b,C){b=function(b){b=String(b);for(var C=0;C<T.actions.length;C++)b=T.actions[C].call(this,b);for(b=b.replace(/\s+/g," "),/e/gi.test(b)&&(b=b.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(le){return $e(le)})),b=b.replace(fe.IMPLIED_MULTIPLICATION_REGEX,function(){var le=arguments[4],Ie=arguments[1],Ue=arguments[2],Qe=arguments[3],$t="",Lt="*";return le.charAt(Qe).match(/[\+\-\/\*]/)||($t=le.charAt(Qe-1)),$t.match(/[a-z]/i)&&(Lt=""),Ie+Lt+Ue}).replace(/([a-z0-9_]+)/gi,function(le,Ie){return!1===fe.USE_MULTICHARACTER_VARS&&!(Ie in Nn)&&isNaN(Ie)?Ie.split("").join("*"):Ie}).replace(/\)\(/g,")*(")||"0";b!==(b=b.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(le,Ie,Ue,Qe,ot){var $t=Ie||Qe,Lt=Ue||ot;return $t in Nn?$t+Lt:$t+"*"+Lt})););return b}(b),C=C||{};var X=this.tokenize(b),le=this.toRPN(X);return this.parseRPN(le,C)},this.toObject=function(b){var C=function(X){for(var le=[],Ie=0,Ue=X.length;Ie<Ue;Ie++){var Qe=X[Ie],ot=Qe.value;if(Qe.type===W.VARIABLE_OR_LITERAL)le.push(new ae(ot));else if(Qe.type===W.FUNCTION){Ie++;var $t=g.symfunction(ot,C(X[Ie]));$t.isConversion=!0,le.push($t)}else le.push(Qe.type===W.OPERATOR?ot:C(Qe))}return le};return C(g.tokenize(b))};var bn=function(b){for(var X=0,le=[[]],C=0,Ie=b.length;C<Ie;C++)","===b[C]?le[++X]=[]:le[X].push(b[C]);return le},Bi=function(b){return b.replace(/^\\left\((.+)\\right\)$/g,function(C,X){return X||C})};function yr(b){if(b.isInfinity)return ae.infinity();if(b.multiplier.lessThan(0)&&b.multiplier.negate(),b.isImaginary()){var C=b.realpart(),X=b.imagpart();if(C.isConstant()&&X.isConstant())return br(g.add(g.pow(C,new ae(2)),g.pow(X,new ae(2))))}else if(Ei(b)||Wt(b.power))return b;if(b.isComposite()){var le=[];b.each(function(Qe){le.push(Qe.multiplier)}),Cn.QGCD.apply(null,le).lessThan(0)&&(b.multiplier=b.multiplier.multiply(new Kt(-1)),b.distributeMultiplier())}var Ue=g.parse(b.multiplier);return b.toUnitMultiplier(),g.multiply(Ue,g.symfunction(hr,[b]))}function no(b){if(Qt(b)){var X=new Yn;return b.each(function(dn,pt){X.set(pt-1,no(dn))}),X}if(mn(b)){var le=new fi;return b.each(function(dn,pt,$n){le.set(pt,$n,no(dn))}),le}if(fe.PARSE2NUMBER&&b.isConstant())return sf(Le(b)?Cn.bigfactorial(b):Cn.gamma(b.multiplier.add(new Kt(1)).toDecimal()));if(b.isConstant()&&b.getDenom().equals(2)){var Qe,ot,$t,Lt,Ue=b.getNum();return b.multiplier.isNegative()?(Lt=g.subtract(Ue.negate(),new ae(1)).multiplier.divide(new Kt(2)),Qe=g.pow(new ae(-4),new ae(Lt)).multiplier.multiply(Cn.bigfactorial(Lt)),ot=Cn.bigfactorial(new Kt(2).multiply(Lt))):(Lt=g.add(Ue,new ae(1)).multiplier.divide(new Kt(2)),Qe=Cn.bigfactorial(new Kt(2).multiply(Lt)),ot=g.pow(new ae(4),new ae(Lt)).multiplier.multiply(Cn.bigfactorial(Lt))),$t=Qe.divide(ot),g.multiply(g.parse("sqrt(pi)"),new ae($t))}return g.symfunction(Fn,[b])}function Fs(b,C){if(b.isConstant()&&C.isConstant()){var X=new ae(1);return X.multiplier=X.multiplier.multiply(b.multiplier.mod(C.multiplier)),X}var le=g.divide(b.clone(),C.clone());return Le(le)?new ae(0):g.symfunction("mod",[b,C])}function Qn(b){if(b.isComposite()){var X,le,Ie,Ue,Qe,ot,$t,Lt,C=new ae(0);return b.each(function(dn){X=dn.getNum(),le=dn.getDenom(),Ie=C.getNum(),Ue=C.getDenom(),Qe=g.multiply(le,Ie),ot=g.multiply(X,Ue),$t=g.expand(g.add(Qe,ot)),Lt=g.multiply(Ue,le),C=g.divide($t,Lt)},!0),C}return b}function br(b){if(Xe(b)||(b=g.parse(b)),b.group===an)return g.symfunction(Wn,[b]);""===b.fname&&b.power.equals(1)&&(b=b.args[0]);var C=b.multiplier.sign()<0;if(fe.PARSE2NUMBER){if(b.isConstant()&&!C)return new ae(Rn.sqrt(b.multiplier.toDecimal()));if(b.isImaginary())return ge.sqrt(b);if(b.group===At)return g.symfunction("sqrt",[b])}var X,le,Ie=b.isConstant();if(b.group===Je&&b.isLinear()){var Ue=br(ae(b.multiplier));for(var Qe in b.symbols)Ue=g.multiply(Ue,br(ot=b.symbols[Qe]));le=Ue}else if(b.fname===Wn){var $t=b.multiplier;(Qe=b.args[0]).setPower(b.power.multiply(new Kt(.25))),le=Qe,$t.equals(1)||(le=g.multiply(br(g.parse($t)),le))}else if(b.power.isInteger())if(b.multiplier<0&&b.group===At){var Lt=g.parse(b.multiplier).negate(),dn=g.parse(b).toUnitMultiplier().negate();le=g.multiply(g.symfunction(fe.SQRT,[dn]),br(Lt))}else{var pt=b.power.sign();b.power=b.power.abs(),Ie&&b.multiplier.lessThan(0)&&(X=ae.imaginary(),b.multiplier=b.multiplier.abs());var $n=b.multiplier.toDecimal(),ei=Math.abs($n),Xn=Math.sqrt(ei);if(Le(Xn))Ue=new ae(Xn);else if(Le($n)){var ui=Cn.ifactor($n),Ki=1;for(var ot in ui){var Sn=(pr=ui[ot])-pr%2;if(Sn){var ri=Math.pow(ot,Sn);Ki*=Math.pow(ot,Sn/2),$n/=ri}}Ue=g.multiply(g.symfunction(Wn,[new ae($n)]),new ae(Ki))}else{for(var Tr=[new ae(b.multiplier.num),new ae(b.multiplier.den)],nr=[new ae(1),new ae(1)],Hr=[new ae(1),new ae(1)],so=0;so<2;so++){var pr;eu(pr=Tr[so]).each(function(To){var xs=(To=ae.unwrapPARENS(To)).clone().toLinear(),ts=Number(To.power),ps=ts%2;nr[so]=g.multiply(nr[so],g.pow(xs,new ae((ts-ps)/2))),Hr[so]=g.multiply(Hr[so],br(g.pow(xs,new ae(ps))))})}Ue=g.divide(g.multiply(nr[0],Hr[0]),g.multiply(nr[1],Hr[1]))}le=(b=b.toUnitMultiplier(!0)).isOne()?b:Wt(b.power.toString())?g.pow(b.clone(),new ae(.5)):g.symfunction(Wn,[b]),pt<0&&le.power.negate(),Ue&&(le=g.multiply(Ue,le)),X&&(le=g.multiply(X,le))}else b.setPower(b.power.multiply(new Kt(.5))),le=b;return C&&fe.PARSE2NUMBER?g.parse(le):le}function Co(b){if(!b.isConstant(!0)){var C,X=b.power/3,le=g.pow(g.parse(b.multiplier),new ae(1/3)),Ie=b.toUnitMultiplier();return Le(X)?C=g.pow(Ie.toLinear(),g.parse(X)):Ie.group===Je?(C=new ae(1),Ie.each(function(Ue){C=g.multiply(C,Co(Ue))})):C=g.symfunction("cbrt",[Ie]),g.multiply(le,C)}return Ga(b,new ae(3))}function Ga(b,C,X,le){if((C=zt(g.parse(C))).equals(0))throw new Y("Unable to calculate nthroots of zero");if(b<0&&Wt(C))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!b.isConstant(!0))return g.symfunction("nthroot",arguments);b.group!==lt&&(b=zt(b)),typeof le>"u"&&(le=!0),X=X||25;var Qe,Ue,Ie=b.sign();return Ie<0&&(b=yr(b)),Le(b)&&C.isConstant()?(Qe=b<0x10000000000000000?Kt.create(Math.pow(b,1/C)):Cn.nthroot(b,C),le&&(Ue=new ae(Qe)),Ue=new ae(Qe.toDecimal(X)),g.multiply(new ae(Ie),Ue)):void 0}function eu(b){if(b.greaterThan(9999999999998891e26)||b.equals(-1))return b;if(b.equals(Math.PI))return new ae(Math.PI);if((b=zt(b.clone())).isConstant()){var C=new ae(1),X=b.toString();if(Le(X)){var le=Cn.ifactor(X);for(var Ie in le){var Ue=le[Ie];C=g.multiply(C,g.symfunction("parens",[new ae(Ie).setPower(new Kt(Ue))]))}}else{var Qe=eu(new ae(b.multiplier.num)),ot=eu(new ae(b.multiplier.den));C=g.multiply(g.symfunction("parens",[Qe]),g.symfunction("parens",[ot]).invert())}}else C=g.symfunction("pfactor",arguments);return C}function vc(b){return b.realpart()}function Ps(b){return b.imagpart()}function ds(b){var C=b.realpart(),X=b.imagpart();return g.add(C,g.multiply(X.negate(),ae.imaginary()))}function Do(b){var C=b.realpart(),X=b.imagpart();return C.isConstant()&&X.isConstant()?X.equals(0)&&C.equals(-1)?g.parse("pi"):X.equals(1)&&C.equals(0)?g.parse("pi/2"):X.equals(1)&&C.equals(1)?g.parse("pi/4"):new ae(Math.atan2(X,C)):g.symfunction("atan2",[X,C])}function Ou(b,C){C.map(function(ot){ot.numVal=zt(ot).multiplier});for(var X,le,Ie;;){if((X=C.length)<2)return C[0];le=C.pop(),Ie=C[X-2],("min"===b?le.numVal<Ie.numVal:le.numVal>Ie.numVal)&&(C.pop(),C.push(le))}}function qi(b,C){if(b.equals(1))return new ae(0);var X;if(b.fname===Wn&&b.multiplier.equals(1))return X=g.divide(qi(b.args[0]),new ae(2)),b.power.sign()<0&&X.negate(),X;if(b.equals(0))throw new Y(fe.LOG+"(0) is undefined!");if(b.isImaginary())return ge.evaluate(b,fe.LOG);if(b.isConstant()&&typeof C<"u"&&C.isConstant())X=new ae(Math.log(b)/Math.log(C));else if(b.group===an&&b.power.multiplier.lessThan(0)||"-1"===b.power.toString())b.power.negate(),X=qi(b).negate();else if("e"===b.value&&b.multiplier.equals(1)){var Ue=b.power;X=Xe(Ue)?Ue:new ae(Ue)}else if(b.group===jt&&"exp"===b.fname){var Qe=b.args[0];X=b.multiplier.equals(1)?g.multiply(Qe,new ae(b.power)):g.symfunction(fe.LOG,[b])}else if(fe.PARSE2NUMBER&&Ei(b)){var ot;(b=g.parse(b)).multiplier.lessThan(0)&&(b.negate(),ot=g.multiply(new ae(Math.PI),new ae("i"))),X=new ae(Math.log(b.multiplier.toDecimal())),ot&&(X=g.add(X,ot))}else!b.power.equals(1)&&!b.contains("e")&&(Qe=b.group===an?b.power:new ae(b.power),b.toLinear()),X=arguments.length>1&&Ee(arguments)?new ae(1):g.symfunction(fe.LOG,arguments),Qe&&(X=g.multiply(Qe,X));return X}function _c(b,C){var le,Ie,Ue,Qe,X=C&&C.isConstant()||typeof C>"u";return b.isConstant()&&X?(le=b,C&&C.lessThan(0)&&(C=yr(C),le=(Ie=Number(b).toExponential().toString().split("e"))[0],Ue=Ie[1]),Qe=new ae(We(le,Number(C||0))),g.multiply(Qe,g.pow(new ae(10),new ae(Ue||0)))):g.symfunction("round",arguments)}function sr(b){var C=b%2;return C<0&&(C=2+C),C>=0&&C<=.5?1:C>.5&&C<=1?2:C>1&&C<=1.5?3:4}function sf(b){if(!isFinite(b)){var C=Math.sign(b),X=new ae(String(Math.abs(b)));return X.multiplier=X.multiplier.multiply(new Kt(C)),X}if(Xe(b))return b;if("number"==typeof b)try{b=Kt.simple(b)}catch{b=new Kt(b)}var le=new ae(0);return le.multiplier=b,le}function mi(b,C){if(Array.isArray(b))return b.map(function(Xn){return mi(Xn,C)});if(C=C||{},b.group===jt&&""===b.fname){var X=mi(b.args[0],C),le=mi(g.pow(X,g.parse(b.power)),C);return g.multiply(g.parse(b.multiplier),le).distributeMultiplier()}if(-1!==[lt,zn,At].indexOf(b.group))return b;var Ie=b.clone();try{var Ue=b.multiplier.toString(),Qe=Number(b.power),ot=b;if(b.isComposite()&&Le(b.power)&&b.power>0){var $t=Qe-1;X=new ae(0),b.each(function(ui){X=g.add(X,mi(g.parse(ui),C))});for(var Lt=g.parse(X),dn=0;dn<$t;dn++)Lt=z(Lt,X,C);ot=g.multiply(g.parse(Ue),Lt).distributeMultiplier()}else if(b.group===jt&&!0===C.expand_functions){var pt=[];b.args.forEach(function(Xn){pt.push(mi(Xn,C))}),ot=g.pow(g.symfunction(b.fname,pt),g.parse(b.power)),ot=g.multiply(ot,g.parse(b.multiplier))}else if(b.isComposite()&&Le(b.power)&&b.power<0&&!0===C.expand_denominator)b=b.invert(),(ot=mi(b,C)).invert();else if(b.group===Je){var $n=function(ui){switch(ui.group){case xn:return 0;case un:return 1;case Je:return 2;case jt:return 3;default:return 4}},ei=b.collectSymbols().sort(function(ui,Ki){return $n(Ki)-$n(ui)}).map(function(ui){return mi(g.pow(ui,g.parse(Qe)),C)});(X=ei.pop()).isComposite()&&X.isLinear()?(ei.forEach(function(ui){X=z(X,ui,C)}),X.isComposite()?(X.power>1&&(X=mi(g.pow(X,g.parse(X.power)),C)),ot=g.multiply(g.parse(Ue),X).distributeMultiplier()):ot=X):(ot=X,ei.forEach(function(ui){ot=g.multiply(ot,ui)}),ot=g.multiply(ot,g.parse(Ue)).distributeMultiplier()),ot.group===Je&&(ot=g.parse(ot))}else ot=b;return ot}catch{return Ie}return Ie}function Vm(b){if(!Xe(b.power)&&b.power.absEquals(.5)){var C=b.power.sign(),X=br(b.group===zn?new ae(b.value):b.toLinear());return C<0&&X.invert(),X}return b}this.toTeX=function(b,C){var X=!0===(C=C||{}).decimals?"decimals":void 0,le="string"==typeof b?this.toObject(b):b,Ie=[],Ue=typeof C.cdot>"u"?"\\cdot":C.cdot;if(le=function(b){for(var C=[];b.length;){var X=b.shift(),le=b[0],Ie=be(le),Ue="-"===le;if("^"===X&&("+"===le?b.shift():Ie&&"+"===le[0]&&le.shift(),Ie&&1===le.length&&b.unshift(b.shift()[0])),"^"===X&&(Ie&&"-"===le[0]||Ue)){var Qe=C.pop(),ot=C[C.length-1],$t="1";"*"===ot?(C.pop(),$t=C.pop()):be(ot)&&($t=C.pop()),C.push($t,"/",Qe,X),Ie?le.shift():b.shift(),Ie&&1===le.length&&C.push(b.shift()[0])}else C.push(X)}return C}(le),be(le)){for(var ot,$t,Qe=[],Lt=0;Lt<le.length;Lt++)ot=le[Lt],"^"===le[Lt+1]?($t=le[Lt+2],Qe.push(Hn.braces(this.toTeX([ot]))+"^"+Hn.braces(this.toTeX([$t]))),Lt+=2):Qe.push(ot);le=Qe}Lt=0;for(var dn=le.length;Lt<dn;Lt++){var pt=le[Lt];if("*"===pt&&(pt=Ue),Xe(pt))if(pt.group===jt){var ei,$n=pt.fname;if($n===Wn)ei="\\sqrt"+Hn.braces(this.toTeX(pt.args));else if($n===hr)ei=Hn.brackets(this.toTeX(pt.args),"abs");else if($n===dr)ei=Hn.brackets(this.toTeX(pt.args),"parens");else if($n===fe.LOG10)ei="\\"+fe.LOG10_LATEX+"\\left( "+this.toTeX(pt.args)+"\\right)";else if("integrate"===$n){var Xn=bn(pt.args);ei="\\int "+(ui=Hn.braces(this.toTeX(Xn[0])))+"\\, d"+(Ki=this.toTeX(Xn[1]))}else if("defint"===$n){Xn=bn(pt.args);var ui=Hn.braces(this.toTeX(Xn[0])),Ki=this.toTeX(Xn[3]);ei="\\int\\limits_{"+this.toTeX(Xn[1])+"}^{"+this.toTeX(Xn[2])+"} "+ui+"\\, d"+Ki}else if("diff"===$n){if(Xn=bn(pt.args),Ki="",ui=Hn.braces(this.toTeX(Xn[0])),1===Xn.length){var ri=[];for(nr=0;nr<Xn[0].length;nr++)3===Xn[0][nr].group&&ri.push(Xn[0][nr].value);ri.sort(),Ki=ri.length>0?"\\frac{d}{d "+ri[0]+"}":"\\frac{d}{d x}"}else Ki=2===Xn.length?"\\frac{d}{d "+Xn[1]+"}":"\\frac{d^{"+Xn[2]+"}}{d "+this.toTeX(Xn[1])+"^{"+Xn[2]+"}}";ei=Ki+"\\left("+ui+"\\right)"}else if("sum"===$n||"product"===$n){var Tr=[[],[],[],[]],nr=0;for(Lt=0;Lt<pt.args.length;Lt++)","!==pt.args[Lt]?Tr[nr].push(pt.args[Lt]):nr++;ei=("sum"===$n?"\\sum_":"\\prod_")+Hn.braces(this.toTeX(Tr[1])+" = "+this.toTeX(Tr[2])),ei+="^"+Hn.braces(this.toTeX(Tr[3]))+Hn.braces(this.toTeX(Tr[0]))}else if("limit"===$n){var Hr=bn(pt.args).map(function(ro){return Array.isArray(ro)?g.toTeX(ro.join("")):g.toTeX(String(ro))});ei="\\lim_"+Hn.braces(Hr[1]+"\\to "+Hr[2])+" "+Hn.braces(Hr[0])}else ei=$n===Fn||$n===ze?this.toTeX(pt.args)+($n===Fn?"!":"!!"):Hn.latex(pt,X);Ie.push(ei)}else Ie.push(Hn.latex(pt,X));else be(pt)?Ie.push(Hn.brackets(this.toTeX(pt))):Ie.push("/"===pt?Hn.frac(Bi(Ie.pop()),Bi(this.toTeX([le[++Lt]]))):pt)}return Ie.join(" ")},this.expand=mi,this.round=_c,this.clean=function Ds(b){var X,C=b.group;if(C===xn){var le=b.getNum(),Ie=b.getDenom()||new ae(1),Ue=Number(b.power),Qe=new ae(1);if(1===Math.abs(Ue)){Ie.each(function(Lt){Lt.group===Je?Qe=g.multiply(Qe,Ds(Lt.getDenom())):Lt.power.lessThan(0)&&(Qe=g.multiply(Qe,Ds(Lt.clone().toUnitMultiplier())))});var $t,ot=new ae(0);Ie.each(function(Lt){ot=g.add(g.divide(Lt,Qe.clone()),ot)}),Qe.invert(),le.isComposite()?($t=new ae(0),le.each(function(Lt){$t=g.add(g.multiply(Ds(Lt),Qe.clone()),$t)})):$t=g.multiply(Qe,le),X=g.divide($t,ot)}}else C===Je?(X=new ae(1),b.each(function(Lt){X=g.multiply(X,g.clean(Lt))})):C===jt&&1===b.args.length&&b.args[0].isConstant()&&(X=oi("PARSE2NUMBER",function(){return g.parse(b)},!0));return X||(X=b),X},this.sqrt=br,this.cbrt=Co,this.abs=yr,this.log=qi,this.rationalize=Qn,this.nthroot=Ga,this.arg=Do,this.conjugate=ds,this.imagpart=Ps,this.realpart=vc,this.getFunction=function(b){return Nn[b][0]},this.addPreprocessor=function(b,C,X,le){var Ie=T.names,Ue=T.actions;if("function"!=typeof C)throw new PreprocessorError("Incorrect parameters. Function expected!");X?le?(Ie.splice(X,0,b),Ue.splice(X,0,C)):(Ie[X]=b,Ue[X]=C):(Ie.push(b),Ue.push(C))},this.getPreprocessors=function(){for(var b={},C=0,X=b.names.length;C<X;C++)b[b.names[C]]={order:C,action:b.actions[C]};return b},this.removePreprocessor=function(b,C){var X=T.names.indexOf(b);C?(Si(T.names,X),Si(T.actions,X)):(T.names[X]=void 0,T.actions[X]=void 0)},this.mapped_function=function(){for(var b={},C=this.params,X=0;X<C.length;X++)b[C[X]]=String(arguments[X]);return g.parse(this.body,b)},this.add=function(b,C){var X=Xe(b),le=Xe(C);if(X&&le){if(b.unit||C.unit)return g.Unit.add(b,C);if(b.isInfinity||C.isInfinity){var Ie=b.multiplier.lessThan(0),Ue=C.multiplier.lessThan(0);if(b.isInfinity&&C.isInfinity&&Ie!==Ue)throw new Y("("+b+")+("+C+") is not defined!");var Qe=ae.infinity();return Ue&&Qe.negate(),Qe}if(b.isComposite()&&b.isLinear()&&C.isComposite()&&C.isLinear()&&(b.distributeMultiplier(),C.distributeMultiplier(),C.length>b.length&&b.group===C.group&&([b,C]=[C,b])),b.multiplier.equals(0))return C;if(C.multiplier.equals(0))return b;if(b.isConstant()&&C.isConstant()&&fe.PARSE2NUMBER)return new ae(b.multiplier.add(C.multiplier).toDecimal(fe.PRECISION));var ot=b.group,$t=C.group,Lt=b.power.toString(),dn=C.power.toString();if(ot<$t||ot===$t&&Lt>dn&&dn>0)return this.add(C,b);if(ot===Je&&$t===un&&b.value===C.value){var pt=b;ot=(b=C).group,$t=(C=pt).group,Lt=b.power.toString(),dn=C.power.toString()}var pr,Sn,ri,$n=Lt===dn,ei=b.value,Xn=C.value,ui=b.isComposite(),Ki=C.isComposite();if(ui&&(pr=_n(b,"hash")),Ki&&(Sn=_n(C,"hash")),ot===xn&&$t===xn&&C.isLinear()&&!b.isLinear()&&pr!==Sn)return this.add(C,b);ot===un&&$t===un&&(ei=pr,Xn=Sn);var Tr=ot===zn&&$t===lt,nr=b.value===C.multiplier.toString(),Hr=ei===Xn||pr===Sn&&void 0!==pr||Tr&&nr;if(Hr&&$n&&ot===$t)if(Tr&&(C=C.convert(zn)),ot!==un||$t!==At&&$t!==zn)if(ri=b,b.multiplier.isOne()&&C.multiplier.isOne()&&ot===xn&&b.isLinear()&&C.isLinear())for(var so in C.symbols)ri.attach(C.symbols[so]);else ri.multiplier=ri.multiplier.add(C.multiplier);else b.distributeMultiplier(),ri=b.attach(C);else if(Hr&&ot!==un)ot===xn&&$t===un?(C.insert(b,"add"),ri=C):(ri=ae.shell(un).attach([b,C])).value=ot===un?pr:ei;else if(ui&&b.isLinear()){var ao=ot===$t,To=ot===un&&$t===un;if(To&&(ao=b.value===C.value),b.distributeMultiplier(),C.isComposite()&&C.isLinear()&&ao){for(var so in C.distributeMultiplier(),C.symbols)b.attach(C.symbols[so]);ri=b}else To&&b.value!==Sn||ot===un&&!Hr?(ri=ae.shell(xn).attach([b,C])).updateHash():ri=b.attach(C)}else{if(ot===jt&&b.fname===Wn&&$t!==an&&C.power.equals(.5)){var xs=C.multiplier.clone();(C=br(C.toUnitMultiplier().toLinear())).multiplier=xs}2===b.length&&2===C.length&&Wt(b.power)&&Wt(C.power)?ri=g.add(mi(b),mi(C)):(ri=ae.shell(xn).attach([b,C])).updateHash()}return ri.multiplier.equals(0)&&(ri=new ae(0)),1===ri.length&&(xs=ri.multiplier,(ri=he(ri.symbols)).multiplier=ri.multiplier.multiply(xs)),ri}le&&!X&&(pt=b,b=C,C=pt,pt=le,le=X,X=pt);var ts=mn(C);if(X&&ts){var ps=new fi;C.eachElement(function(lf,ns,tu){ps.set(ns,tu,g.add(b.clone(),lf))}),C=ps}else if(mn(b)&&ts)C=b.add(C);else if(X&&Qt(C))C.each(function(lf,ns){ns--,C.elements[ns]=g.add(b.clone(),C.elements[ns])});else if(Qt(b)&&Qt(C))C.each(function(lf,ns){ns--,C.elements[ns]=g.add(b.elements[ns],C.elements[ns])});else{if(Qt(b)&&mn(C))return g.add(C,b);if(mn(b)&&Qt(C)){if(C.elements.length===b.rows()){ps=new fi;var Ls=b.cols();return C.each(function(ns,tu){for(var uf=[],ku=0;ku<Ls;ku++)uf.push(g.add(b.elements[tu-1][ku].clone(),ns.clone()));ps.elements.push(uf)}),ps}Z("Dimensions must match!")}}return C},this.subtract=function(b,C){var X=X=Xe(b),le=Xe(C);if(X&&le)return b.unit||C.unit?g.Unit.subtract(b,C):this.add(b,C.negate());if(le&&Qt(b))C=b.map(function(ot){return g.subtract(ot,C.clone())});else if(X&&Qt(C))C=C.map(function(ot){return g.subtract(b.clone(),ot)});else if(Qt(b)&&Qt(C))b.dimensions()===C.dimensions()?C=b.subtract(C):g.error("Unable to subtract vectors. Dimensions do not match.");else if(mn(b)&&Qt(C)){if(C.elements.length===b.rows()){var Ue=new fi,Qe=b.cols();return C.each(function(ot,$t){for(var Lt=[],dn=0;dn<Qe;dn++)Lt.push(g.subtract(b.elements[$t-1][dn].clone(),ot.clone()));Ue.elements.push(Lt)}),Ue}Z("Dimensions must match!")}else{if(Qt(b)&&mn(C))return Ue=C.clone().negate(),g.add(Ue,b);mn(b)&&mn(C)?C=b.subtract(C):mn(b)&&le?(Ue=new fi,b.each(function($t,Lt,dn){Ue.set(Lt,dn,g.subtract($t,C.clone()))}),C=Ue):X&&mn(C)&&(Ue=new fi,C.each(function($t,Lt,dn){Ue.set(Lt,dn,g.subtract(b.clone(),$t))}),C=Ue)}return C},this.multiply=function(b,C){var X=Xe(b),le=Xe(C);if(X&&C instanceof V)return C.elements.push(b),C;if(X&&le){if(C.isUnit){var Sn=b.clone();return b.unit=C,Sn}if(b.unit||C.unit)return g.Unit.multiply(b,C);if(b.isInfinity||C.isInfinity){if(b.equals(0)||C.equals(0))throw new Y(b+"*"+C+" is undefined!");if(C.power.lessThan(0)){if(b.isInfinity)throw new Y("Infinity/Infinity is not defined!");return new ae(0)}var ui=b.multiplier.multiply(C.multiplier).sign(),Ie=ae.infinity();if(b.isConstant()||C.isConstant()||b.isInfinity&&C.isInfinity)return ui<0&&Ie.negate(),Ie}if(b.isConstant()&&C.isConstant()&&fe.PARSE2NUMBER)return new ae(Ue=new Rn(b.multiplier.toDecimal()).times(new Rn(C.multiplier.toDecimal())).toFixed());if(b.isOne())return C.clone();if(C.isOne())return b.clone();if(b.multiplier.equals(0)||C.multiplier.equals(0))return new ae(0);if(C.group>b.group&&C.group!==xn)return this.multiply(C,b);if(b.group===Je&&C.group===un&&b.value===C.value){var Ue=b;b=C,C=Ue}var ot=b.group,$t=C.group,Lt=C.multiplier.num,dn=C.multiplier.den;if(ot!==jt||b.fname!==Wn||C.isConstant()||b.args[0].value!==C.value||b.args[0].multiplier.lessThan(0))ot===jt&&b.fname===Wn&&b.multiplier.equals(1)&&b.power.equals(-1)&&C.isConstant()&&b.args[0].equals(C)&&(b=g.symfunction(Wn,[C.clone()]),C=new ae(1));else{var pt=b.power,$n=g.parse(b.multiplier);(b=g.multiply($n,b.args[0].clone())).setPower(new Kt(.5).multiply(pt)),ot=b.group}var ei=b.value,Xn=C.value,Ki=(ui=new Kt(b.sign()),ot===zn&&$t===lt&&C.multiplier.equals(b.value)),pr=Ki?new Kt(1).multiply(b.multiplier).abs():b.multiplier.multiply(C.multiplier).abs();if(Sn=b.clone().toUnitMultiplier(),C=C.clone().toUnitMultiplier(!0),ot===jt&&$t===jt){var ri=b.args[0].clone(),Tr=C.args[0].clone();if(b.fname===Wn&&C.fname===Wn&&b.isLinear()&&C.isLinear()){var nr=g.divide(ri,Tr).invert();nr.gt(1)&&Le(nr)&&(Sn=g.multiply(b.args[0].clone(),br(nr.clone())),C=new ae(1))}else if(b.fname===Fn&&C.fname===Fn&&!ri.isConstant()&&!Tr.isConstant()&&C.power<0){var Hr=g.subtract(ri.clone(),Tr.clone());if(Hr.isConstant())if(Ue=new ae(1),Hr<0){for(var so=0,ro=Math.abs(Hr);so<=ro;so++){var ao=g.add(ri.clone(),new ae(so));Ue=g.multiply(Ue,ao)}Sn=g.multiply(g.pow(ri,new ae(b.power)),g.pow(Ue,new ae(C.power))),C=new ae(1)}else{for(so=0,ro=Math.abs(Hr);so<=ro;so++)ao=g.add(Tr.clone(),new ae(so)),Ue=g.multiply(Ue,ao);Sn=g.multiply(g.pow(Ue,new ae(b.power)),g.pow(Tr,new ae(C.power))),C=new ae(1)}}}if(ei===Xn&&ot===un&&ot===$t&&(ei=b.text("hash"),Xn=C.text("hash")),$t===an&&C.previousGroup===un&&ot===un&&(ei=_n(b,"hash",an)),ei!==Xn&&!Ki||ot===un&&($t===At||$t===zn||$t===jt)||ot===un&&$t===Je)if(ot===Je&&b.isLinear())if($t===Je&&C.distributeExponent(),$t===Je&&C.isLinear()){for(var ao in C.symbols)Sn=Sn.combine(C.symbols[ao]);Sn.multiplier=Sn.multiplier.multiply(C.multiplier)}else Sn.combine(C);else if(ot!==lt){if(ot===Je)Sn.distributeExponent(),Sn.combine(C);else if(!C.isOne()){var tu=C.multiplier.clone();C.toUnitMultiplier(),(Sn=ae.shell(Je).combine([Sn,C])).multiplier=Sn.multiplier.multiply(tu)}}else Sn=C.clone().toUnitMultiplier();else{var To=b.power,xs=C.power,ts=Xe(To),ps=Xe(xs),Ls=ts||ps;ot===un&&$t!==un&&C.previousGroup!==un&&To.equals(1)?(Sn=new ae(0),b.each(function(pd){Sn=g.add(Sn,g.multiply(pd,C.clone()))},!0)):(Sn.power=Ls?g.add(Xe(To)?To:new ae(To),Xe(xs)?xs:new ae(xs)):ot===lt?To:To.add(xs),Sn.power.equals(0)&&(Sn=Sn.convert(lt)),Ls&&Sn.convert(an),b.imaginary&&C.imaginary&&Wt(Sn.power%2)&&(Sn=new ae(1),pr.negate()),Sn.group!==an&&Sn.previousGroup&&(Sn.previousGroup=void 0),Sn.multiplier=Sn.multiplier.multiply(C.multiplier))}if(Sn.group===zn){var uf=Math.log(Sn.value),ku=Math.log(Lt)/uf,po=Math.log(dn)/uf,gs=pr.num/Lt,is=pr.den/dn;0!==ku&&Le(ku)&&Le(gs)&&(Sn.power=Sn.power.add(new Kt(ku)),pr.num/=Lt),0!==po&&Le(po)&&Le(is)&&(Sn.power=Sn.power.subtract(new Kt(po)),pr.den/=dn)}1===Sn.length&&(Ue=Sn.multiplier,(Sn=he(Sn.symbols)).multiplier=Sn.multiplier.multiply(Ue));var yc=Sn.power.toString();if(Wt(yc)&&Sn.fname===Wn){ui*=Sn.sign();var hd=Sn.power;Sn=Sn.args[0],Sn=g.multiply(new ae(pr),g.pow(Sn,new ae(hd.divide(new Kt(2))))),ui<0&&Sn.negate()}else Sn.multiplier=Sn.multiplier.multiply(pr).multiply(ui),Sn.group===xn&&Sn.isImaginary()&&Sn.distributeMultiplier();return Sn.group===zn&&Le(Sn.power.toDecimal())&&(Sn=Sn.convert(lt)),Sn}le&&!X&&(Ue=b,b=C,C=Ue,Ue=le,le=X,X=Ue);var nu=mn(C),Oh=mn(b);if(X&&nu){var Fr=new fi;C.eachElement(function(pd,Xa,kh){Fr.set(Xa,kh,g.multiply(b.clone(),pd))}),C=Fr}else if(Oh&&nu)C=b.multiply(C);else if(X&&Qt(C))C.each(function(pd,Xa){Xa--,C.elements[Xa]=g.multiply(b.clone(),C.elements[Xa])});else if(Qt(b)&&Qt(C))C.each(function(pd,Xa){Xa--,C.elements[Xa]=g.multiply(b.elements[Xa],C.elements[Xa])});else{if(Qt(b)&&mn(C))return this.multiply(C,b);if(mn(b)&&Qt(C)){if(C.elements.length===b.rows()){Fr=new fi;var Rh=b.cols();return C.each(function(Xa,kh){for(var cf=[],C0=0;C0<Rh;C0++)cf.push(g.multiply(b.elements[kh-1][C0].clone(),Xa.clone()));Fr.elements.push(cf)}),Fr}Z("Dimensions must match!")}}return C},this.divide=function(b,C){var X=Xe(b),le=Xe(C);if(X&&le){if(b.unit||C.unit)return g.Unit.divide(b,C);var Ie;if(C.equals(0))throw new q("Division by zero not allowed!");return b.isConstant()&&C.isConstant()?(Ie=b.clone()).multiplier=Ie.multiplier.divide(C.multiplier):(C.invert(),Ie=g.multiply(b,C)),Ie}var Ue=Qt(b),Qe=Qt(C);if(X&&Qe)C=C.map(function(dn){return g.divide(b.clone(),dn)});else if(Ue&&le)C=b.map(function(dn){return g.divide(dn,C.clone())});else if(Ue&&Qe)b.dimensions()===C.dimensions()?C=C.map(function(dn,pt){return g.divide(b.elements[--pt],dn)}):g.error("Cannot divide vectors. Dimensions do not match!");else{var ot=mn(b),$t=mn(C);if(ot&&le){var Lt=new fi;b.eachElement(function(dn,pt,$n){Lt.set(pt,$n,g.divide(dn,C.clone()))}),C=Lt}else X&&$t?(Lt=new fi,C.eachElement(function(pt,$n,ei){Lt.set($n,ei,g.divide(b.clone(),pt))}),C=Lt):ot&&$t?(Lt=new fi,b.rows()===C.rows()&&b.cols()===C.cols()?(b.eachElement(function(pt,$n,ei){Lt.set($n,ei,g.divide(pt,C.elements[$n][ei]))}),C=Lt):g.error("Dimensions do not match!")):ot&&Qe&&(b.cols()===C.dimensions()?(Lt=new fi,b.eachElement(function(pt,$n,ei){Lt.set($n,ei,g.divide(pt,C.elements[$n].clone()))}),C=Lt):g.error("Unable to divide matrix by vector."))}return C},this.pow=function(b,C){var X=Xe(b),le=Xe(C);if(X&&le){if(b.unit||C.unit)return g.Unit.pow(b,C);if(b.group===jt&&b.fname===hr&&Wt(C)){var dn=b.multiplier.clone(),Ie=g.pow(b.args[0],C);return Ie.multiplier=dn,Ie}if(b.isInfinity||C.isInfinity){if(b.isInfinity&&C.isInfinity)throw new Y("("+b+")^("+C+") is undefined!");if(b.isConstant()&&C.isInfinity){if(b.equals(0)){if(C.lessThan(0))throw new Y("0^Infinity is undefined!");return new ae(0)}if(b.equals(1))throw new Y("1^"+C.toString()+" is undefined!");if(C.lessThan(0))return new ae(0);if(!b.lessThan(0))return ae.infinity()}if(b.isInfinity&&C.isConstant()){if(C.equals(0))throw new Y(b+"^0 is undefined!");return C.lessThan(0)?new ae(0):g.multiply(ae.infinity(),g.pow(new ae(b.sign()),C.clone()))}}var Ue=b.equals(0),Qe=C.equals(0);if(Ue&&Qe)throw new Y("0^0 is undefined!");if(Ue&&C.isConstant()&&C.multiplier.greaterThan(0))return new ae(0);if(Qe)return new ae(1);var $n,pr,Sn,ri,Hr,ot=C.isConstant(),$t=b.isConstant(),Lt=C.isInteger(),pt=(dn=b.multiplier,b.clone());if($t&&ot&&b.equals(0)&&C.lessThan(0))throw new Y("Division by zero is not allowed!");if(fe.PARSE2NUMBER&&$t&&ot&&b.sign()<0&&Pn(C))return $n=Math.PI*C,ei=new ae(Math.cos($n)),Xn=g.multiply(ae.imaginary(),new ae(Math.sin($n))),g.add(ei,Xn);if(fe.PARSE2NUMBER&&b.isImaginary()&&ot&&Le(C)&&!C.lessThan(0)&&(ei=b.realpart(),Xn=b.imagpart(),ei.isConstant("all")&&Xn.isConstant("all")))return ri=fe.USE_BIG?ae(Rn.atan2(xs.multiplier.toDecimal(),ui.multiplier.toDecimal()).times(C.toString())):Math.atan2(Xn,ei)*C,Ki=new ae(ri),ui=g.pow(ae.hyp(ei,Xn),C),pr=g.multiply(ui.clone(),g.trig.cos(Ki.clone())),Sn=g.multiply(ui,g.trig.sin(Ki)),g.add(pr,g.multiply(ae.imaginary(),Sn));if(pt.toUnitMultiplier(),pt.group!==jt||pt.fname!==Wn||ot){var nr=dn.sign();Pn(C)&&nr<0&&(pt.negate(),(pt=g.symfunction(dr,[pt])).negate()),pt.multiplyPower(C)}else(Tr=pt.args[0]).multiplyPower(new ae(.5)),Tr.multiplier.multiply(pt.multiplier),Tr.multiplyPower(C),pt=Tr;if($t&&ot&&fe.PARSE2NUMBER)nr<0&&(b.negate(),Hr=C.multiplier.den.equals(2)?new ae(fe.IMAGINARY):Le(C.multiplier)?Wt(C.multiplier)?new ae(1):new ae(-1):Wt(C.multiplier.den)?g.pow(g.symfunction(dr,[new ae(nr)]),C.clone()):new ae(Math.pow(nr,C.multiplier.num))),pt=new ae(Math.pow(b.multiplier.toDecimal(),C.multiplier.toDecimal())),Hr&&(pt=g.multiply(pt,Hr));else if(Lt&&!dn.equals(1)){if(C.abs().gt(fe.MAX_EXP))return C.sign()<0?new ae(0):ae.infinity();var ro=C.multiplier.toDecimal(),ao=Math.sign(ro);ro=Math.abs(ro);var To=new Kt(1);To.num=dn.num.pow(ro),To.den=dn.den.pow(ro),ao<0&&To.invert(),pt.multiplier=pt.multiplier.multiply(To)}else if(nr=b.sign(),C.isConstant()&&b.isConstant()&&!C.multiplier.den.equals(1)&&nr<0)if(C.multiplier.den.equals(2)){var xs=new ae(fe.IMAGINARY);b.negate(),C.lessThan(0)&&(xs.negate(),C.negate()),pt=g.multiply(g.pow(b,C),xs)}else{(ts=b.clone()).multiplier.negate(),pt=g.pow(g.symfunction(dr,[new ae(nr)]),C.clone());var ps=g.pow(new ae(ts.multiplier.num),C.clone()),Ls=g.pow(new ae(ts.multiplier.den),C.clone()),ui=g.divide(ps,Ls);pt=g.multiply(pt,ui)}else if(fe.PARSE2NUMBER&&C.isImaginary()){var ei=C.realpart(),Xn=C.imagpart(),ts=b.clone().toLinear(),lf=g.pow(ts.clone(),ei),ns=qi(ts.clone()),tu=He.cos(g.multiply(Xn.clone(),ns)),uf=g.multiply(He.sin(g.multiply(Xn,qi(ts))),ae.imaginary());pt=g.multiply(lf,g.add(tu,uf)),pt=g.expand(g.parse(pt))}else{var ku=b.group===lt&&nr<0,po=Vm(new ae(ku?dn.num:Math.abs(dn.num)).setPower(C.clone())),gs=Vm(new ae(dn.den).setPower(C.clone()).invert());if(b.imaginary)if(Lt){var Tr;Tr=Math.sign(C),ro=yr(C),pt=new ae(Wt(is=ro%4)?-1:fe.IMAGINARY),(0===is||Tr<0&&1===is||Tr>0&&3===is)&&pt.negate()}else{var yc=C.multiplier.multiply(Kt.quick(1,2)),hd=Math.pow(-1,yc.num);pt=Wt(yc.den)?new ae(-1).setPower(yc,!0):new ae(hd)}if(nr<0&&!ku&&pt.negate(),ot&&b.group!==an){var nu=Wt(C.multiplier.den),Oh=Wt(b.power),is=pt.power.toDecimal(),Fr=Wt(is);nu&&Oh&&!Fr&&(1===is?pt=g.symfunction(hr,[pt]):Le(is)?pt=g.multiply(g.symfunction(hr,[pt.clone().toLinear()]),pt.clone().setPower(new Kt(is-1))):(ro=pt.power,pt=g.symfunction(hr,[pt.toLinear()]).setPower(ro)),fe.POSITIVE_MULTIPLIERS&&pt.fname===hr&&(pt=pt.args[0]))}if(C.equals(2)&&pt.group===Je){var Rh=new ae(1);pt.each(function(D0){Rh=g.multiply(Rh,g.pow(D0,C))}),pt=Rh}}if(pt=Vm(pt),po&&gs&&(pt=g.multiply(pt,function Ih(b){if(b.group===zn){var C=b.value,X=to(C)[0];if(!X)return ye("Unable to compute prime factors. This should not happen. Please review and report."),b;var Ie=new Kt(Math.log(C)/Math.log(X)).multiply(b.power);if(Ie.den>b.power.den)return b;b=Le(Ie)?ae(Math.pow(X,Ie)):new ae(X).setPower(Ie)}return b}(g.multiply(po,gs)))),pt.fname===Wn){var pd=pt.group===an,Xa=pd?pt.power.multiplier.toString():pt.power.toString();if(Wt(Xa)){var kh=pd?g.divide(pt.power,new ae(2)):new ae(pt.power.divide(new Kt(2)));dn=pt.multiplier,(pt=g.pow(pt.args[0],kh)).multiplier=pt.multiplier.multiply(dn)}}else if(!fe.IGNORE_E&&pt.isE()&&pt.group===an&&pt.power.contains("pi")&&pt.power.contains(fe.IMAGINARY)&&C.group===Je){var Ki=C.stripVar(fe.IMAGINARY);pt=g.add(He.cos(Ki),g.multiply(ae.imaginary(),He.sin(Ki)))}return pt}if(Qt(b)&&le)b=b.map(function(C0){return g.pow(C0,C.clone())});else if(mn(b)&&le){var cf=new fi;b.eachElement(function(C0,D0,s8){cf.set(D0,s8,g.pow(C0,C.clone()))}),b=cf}else X&&mn(C)&&(cf=new fi,C.eachElement(function(D0,s8,iu){cf.set(s8,iu,g.pow(b.clone(),D0))}),b=cf);return b},this.comma=function(b,C){return b instanceof V||(b=V.create(b)),b.append(C),b},this.mod=function(b,C){return Fs(b,C)},this.slice=function(b,C){return new L(b,C)},this.equals=function(b,C){return b.group!==At&&!b.isLinear()&&Z("Cannot set equality for "+b.toString()),I[b.value]=C.clone(),C},this.percent=function(b){return g.divide(b,new ae(100))},this.assign=function(b,C){if(b instanceof V&&C instanceof V)return b.elements.map(function(le,Ie){return g.assign(le,C.elements[Ie])}),Yn.fromArray(C.elements);if(b.parent){var X=b.parent;return X.elements[X.getter]=C,delete X.getter,X}if(b.group!==At)throw new wi("Cannot complete operation. Incorrect LH value for "+b);return I[b.value]=C,C},this.function_assign=function(b,C){var X=b.elements.pop();return Ve(X,b.elements,C)};var hs=function(b){return new ae(!0===b?1:0)};this.eq=function(b,C){return hs(b.equals(C))},this.gt=function(b,C){return hs(b.gt(C))},this.gte=function(b,C){return hs(b.gte(C))},this.lt=function(b,C){return hs(b.lt(C))},this.lte=function(b,C){return hs(b.lte(C))},this.factorial=function(b){return this.symfunction(Fn,[b])},this.dfactorial=function(b){return this.symfunction(ze,[b])}}fe.FUNCTION_MODULES.push(Cn),An(Cn),Math.sign=Math.sign||function(g){return 0==(g=+g)||isNaN(g)?g:g>0?1:-1},Math.cosh=Math.cosh||function(g){var E=Math.exp(g);return(E+1/E)/2},Math.sech=Math.sech||function(g){return 1/Math.cosh(g)},Math.csch=Math.csch||function(g){return 1/Math.sinh(g)},Math.coth=Math.coth||function(g){return 1/Math.tanh(g)},Math.sinh=Math.sinh||function(g){var E=Math.exp(g);return(E-1/E)/2},Math.tanh=Math.tanh||function(g){if(g===1/0)return 1;if(g===-1/0)return-1;var E=Math.exp(2*g);return(E-1)/(E+1)},Math.asinh=Math.asinh||function(g){return g===-1/0?g:Math.log(g+Math.sqrt(g*g+1))},Math.acosh=Math.acosh||function(g){return Math.log(g+Math.sqrt(g*g-1))},Math.atanh=Math.atanh||function(g){return Math.log((1+g)/(1-g))/2},Math.log10=Math.log10||function(g){return Math.log(g)*Math.LOG10E},Math.trunc=Math.trunc||function(g){return isNaN(g)?NaN:g>0?Math.floor(g):Math.ceil(g)},to(314146179365),Gr.getExpression=function(g,E){("last"===g||!g)&&(g=D.length),"first"===g&&(g=1);var L=D[g-1];return L&&new Gr(L)},Gr.prototype={text:function(g,E){return E=E||fe.EXPRESSION_DECP,g=g||"decimals",this.symbol.text_?this.symbol.text_(g):_n(this.symbol,g,void 0,E)},latex:function(g){return this.symbol.latex?this.symbol.latex(g):Hn.latex(this.symbol,g)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(Qt(this.symbol)&&0===this.symbol.dimensions())return this;var E,g=arguments[0],T=1;"string"==typeof g?E="%"===g.charAt(0)?Gr.getExpression(g.substr(1)).text():g:g instanceof Gr||Xe(g)?E=g.text():(E=this.symbol.text(),T--);var L=arguments[T]||{};return new Gr(oi("PARSE2NUMBER",function(){return we.parse(E,L)},!0))},buildFunction:function(g){return Ml.build(this.symbol,g)},isNumber:function(){return Ei(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return zt(we.parse(this.symbol)).isImaginary()},variables:function(){return In(this.symbol)},toString:function(){try{return be(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(g){fe.precision=g;var E=_n(this.symbol,"decimals");return fe.precision=void 0,E},isFraction:function(){return hn(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(g,E){return new Gr(this.symbol.sub(we.parse(g),we.parse(E)))},operation:function(g,E){return Vn(E)?E=E.symbol:Xe(E)||(E=we.parse(E)),new Gr(we[g](this.symbol.clone(),E.clone()))},add:function(g){return this.operation("add",g)},subtract:function(g){return this.operation("subtract",g)},multiply:function(g){return this.operation("multiply",g)},divide:function(g){return this.operation("divide",g)},pow:function(g){return this.operation("pow",g)},expand:function(){return new Gr(we.expand(this.symbol))},each:function(g,E){if(this.symbol.each)this.symbol.each(g,E);else if(be(this.symbol))for(E=0;E<this.symbol.length;E++)g.call(this.symbol,this.symbol[E],E);else g.call(this.symbol)},eq:function(g){Xe(g)||(g=we.parse(g));try{return we.subtract(this.symbol.clone(),g).equals(0)}catch{return!1}},lt:function(g){Xe(g)||(g=we.parse(g));try{return zt(we.subtract(this.symbol.clone(),g)).lessThan(0)}catch{return!1}},gt:function(g){Xe(g)||(g=we.parse(g));try{return zt(we.subtract(this.symbol.clone(),g)).greaterThan(0)}catch{return!1}},gte:function(g){return this.gt(g)||this.eq(g)},lte:function(g){return this.lt(g)||this.eq(g)},numerator:function(){return new Gr(this.symbol.getNum())},denominator:function(){return new Gr(this.symbol.getDenom())},hasFunction:function(g){return this.symbol.containsFunction(g)},contains:function(g){return this.symbol.contains(g)}},Gr.prototype.toTeX=Gr.prototype.latex,Wr.prototype={fromScientific:function(g){var E=String(g).toLowerCase().split("e");return this.coeff=E[0],this.exponent=E[1],this},convert:function(g){var E=g.split("."),T=E[0]||"",L=E[1]||"";T=Wr.removeLeadingZeroes(T),L=Wr.removeTrailingZeroes(L);var V=T.length,W=T+L,ge=Wr.leadingZeroes(W).length;this.exponent=V-(ge+1);var He=Wr.removeLeadingZeroes(W);this.coeff=He.charAt(0)+"."+(He.substr(1,He.length)||"0");var mt=this.coeff.split(".")[1]||"";return this.decp="0"===mt?0:mt.length,this.dec=L,this.wholes=T,this},round:function(g){var E=this.copy();if(0===(g=Number(g)))E.coeff=E.coeff.charAt(0);else{var T=this.coeff.substring(0,g+1),L=this.coeff.substring(g+1,g+3),V=L.charAt(0);L.charAt(1)>4&&V++,E.coeff=T+V}return E},copy:function(){var g=new Wr(0);return g.coeff=this.coeff,g.exponent=this.exponent,g.sign=this.sign,g},toString:function(g){var E;if(fe.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&0===this.exponent&&this.decp<g)E=0===this.decp?this.wholes:this.coeff;else{var T=typeof g>"u"?this.coeff:Wr.round(this.coeff,Math.min(g,this.decp||1));E=0===this.exponent?T:T+"e"+this.exponent}return(-1===this.sign?"-":"")+E}},Wr.isScientific=function(g){return/\d+\.?\d*e[\+\-]*\d+/i.test(g)},Wr.leadingZeroes=function(g){var E=g.match(/^(0*).*$/);return E?E[1]:""},Wr.removeLeadingZeroes=function(g){var E=g.match(/^0*(.*)$/);return E?E[1]:""},Wr.removeTrailingZeroes=function(g){var E=g.match(/0*$/);return E?g.substring(0,g.length-E[0].length):""},Wr.round=function(g,E){var T=We(g,E),V=E-String(T).split(".").pop().length;return V>0&&(T+=new Array(V+1).join(0)),T},Kt.create=function(g){if(g instanceof Kt)return g;var E="-"===(g=g.toString()).charAt(0);E&&(g=g.substr(1,g.length-1));var T=new Kt(g);return E&&T.negate(),T},Kt.isFrac=function(g){return g instanceof Kt},Kt.quick=function(g,E){var T=new Kt;return T.num=new _t(g),T.den=new _t(E),T},Kt.simple=function(g){for(var T=String($e(g)).split("."),L=T.join(""),V=1,W=(T[1]||"").length,ge=0;ge<W;ge++)V+="0";return Kt.quick(L,V).simplify()},Kt.prototype={multiply:function(g){if(this.isOne())return g.clone();if(g.isOne())return this.clone();var E=this.clone();return E.num=E.num.multiply(g.num),E.den=E.den.multiply(g.den),E.simplify()},divide:function(g){if(g.equals(0))throw new q("Division by zero not allowed!");return this.clone().multiply(g.clone().invert()).simplify()},subtract:function(g){return this.clone().add(g.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(g){var E=this.den,T=g.den,L=this.clone(),V=L.num,W=g.num;return E.equals(T)?L.num=V.add(W):(L.num=V.multiply(T).add(W.multiply(E)),L.den=E.multiply(T)),L.simplify()},mod:function(g){var E=this.clone(),T=g.clone();return E.num=E.num.multiply(T.den),E.den=E.den.multiply(T.den),T.num=T.num.multiply(this.den),T.den=T.den.multiply(this.den),E.num=E.num.mod(T.num),E.simplify()},simplify:function(){var g=_t.gcd(this.num,this.den);return this.num=this.num.divide(g),this.den=this.den.divide(g),this},clone:function(){var g=new Kt;return g.num=new _t(this.num),g.den=new _t(this.den),g},decimal:function(g){var E=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";g=g||fe.PRECISION,g++;for(var T=[],L=this.num.abs(),V=this.den,W=0;W<g;W++){var ge=L.divide(V),He=L.subtract(ge.multiply(V));if(T.push(ge),He.equals(0))break;L=He.times(10)}var mt=T.shift();if(0===T.length)return E+mt.toString();if(W===g){var je=[];for(W=0;W<2;W++)je.unshift(T.pop());T.push(Math.round(je.join(".")))}return E+(mt.toString()+".")+T.join("")},toDecimal:function(g){return(g=g||fe.PRECISION)?this.decimal(g):this.num/this.den},qcompare:function(g){return[this.num.multiply(g.den),g.num.multiply(this.den)]},equals:function(g){isNaN(g)||(g=new Kt(g));var E=this.qcompare(g);return E[0].equals(E[1])},absEquals:function(g){isNaN(g)||(g=new Kt(g));var E=this.qcompare(g);return E[0].abs().equals(E[1])},greaterThan:function(g){isNaN(g)||(g=new Kt(g));var E=this.qcompare(g);return E[0].gt(E[1])},gte:function(g){return this.greaterThan(g)||this.equals(g)},lte:function(g){return this.lessThan(g)||this.equals(g)},lessThan:function(g){isNaN(g)||(g=new Kt(g));var E=this.qcompare(g);return E[0].lt(E[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var g=this.den;if(!this.num.equals(0)){var E=this.num.isNegative();this.den=this.num.abs(),this.num=g,E&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(g){return Kt.quick(_t.gcd(g.num,this.num),_t.lcm(g.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){return fe.USE_BIG?new Rn(this.num.toString()).div(new Rn(this.den.toString())):this.num/this.den},isNegative:function(){return this.toDecimal()<0}},ae.imaginary=function(){var g=new ae(fe.IMAGINARY);return g.imaginary=!0,g},ae.infinity=function(g){var E=new ae("Infinity");return-1===g&&E.negate(),E},ae.shell=function(g,E){var T=new ae(E);return T.group=g,T.symbols={},T.length=0,T},ae.unwrapSQRT=function(g,E){var T=g.power;if(g.fname===Wn&&(g.isLinear()||E)){var L=g.args[0].clone();L.power=L.power.multiply(new Kt(.5)),L.multiplier=L.multiplier.multiply(g.multiplier),g=L,E&&(g.power=T.multiply(new Kt(.5)))}return g},ae.hyp=function(g,E){return g=g||new ae(0),E=E||new ae(0),we.sqrt(we.add(we.pow(g.clone(),new ae(2)),we.pow(E.clone(),new ae(2))))},ae.toPolarFormArray=function(g){var E,T;return E=g.realpart(),T=g.imagpart(),[ae.hyp(E,T),E.equals(0)?we.parse("pi/2"):we.trig.atan(we.divide(T,E))]},ae.unwrapPARENS=function(g){if(""===g.fname){var E=g.args[0];return E.power=E.power.multiply(g.power),E.multiplier=E.multiplier.multiply(g.multiplier),""===g.fname?ae.unwrapPARENS(E):E}return g},ae.create=function(g,E){return we.parse("("+g+")^("+(E=void 0===E?1:E)+")")},ae.prototype={getNth:function(g){var E=zt(we.pow(we.parse(this.multiplier),we.parse(g).invert())),T=we.parse(We(E));return zt(we.pow(T,we.parse(g))).equals(we.parse(this.multiplier))?T:E},isToNth:function(g){var L,E=this.getNth(g),T=Le(E);return this.group===Je?(L=!0,this.each(function(V){V.isToNth(g)||(L=!1)})):L=this.group===lt||Le(we.divide(we.parse(this.power),we.parse(g))),T&&L},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===Je){var g=[],T=this.multiplier.sign();this.each(function(Nn){var Ot=Nn.power;if(Xe(Ot)||Ot.equals(1))return this.clone();g.push(Ot)});var E=new Kt(Ge(g)),L=(T=this.multiplier.sign(),this.multiplier.clone().abs()),V=Cn.ifactor(L),W=new Kt(1),ge=new Kt(1);for(var He in V){var mt=new Kt(V[He]);mt.lessThan(E)||(mt=mt.divide(E).subtract(new Kt(1)),ge=ge.multiply(new Kt(He))),W=W.multiply(we.parse(ft(He)+"^"+ft(mt)).multiplier)}var je=new ae(ge);this.each(function(Nn){(Nn=Nn.clone()).power=Nn.power.divide(E),je=we.multiply(je,Nn)});var vt=we.symfunction(dr,[je]);return vt.power=E,vt.multiplier=T<0?W.negate():W,vt}return this.clone()},equals:function(g){return Xe(g)||(g=new ae(g)),this.value===g.value&&this.power.equals(g.power)&&this.multiplier.equals(g.multiplier)&&this.group===g.group},abs:function(){var g=this.clone();return g.multiplier.abs(),g},gt:function(g){return Xe(g)||(g=new ae(g)),this.isConstant()&&g.isConstant()&&this.multiplier.greaterThan(g.multiplier)},gte:function(g){return Xe(g)||(g=new ae(g)),this.equals(g)||this.isConstant()&&g.isConstant()&&this.multiplier.greaterThan(g.multiplier)},lt:function(g){return Xe(g)||(g=new ae(g)),this.isConstant()&&g.isConstant()&&this.multiplier.lessThan(g.multiplier)},lte:function(g){return Xe(g)||(g=new ae(g)),this.equals(g)||this.isConstant()&&g.isConstant()&&this.multiplier.lessThan(g.multiplier)},isPoly:function(g){var E=this.group,T=this.power;if(!Le(T)||T<0)return!1;if(E===lt||E===At||this.isConstant(!0))return!0;var L=In(this);if(E===Je&&1===L.length){var V=L[0];if(!V)return!0;for(var W in this.symbols){var ge=this.symbols[W];if(ge.group===jt&&!ge.args[0].isConstant()||!ge.contains(V)&&!ge.isConstant(!0))return!1}return!0}if(this.isComposite()||E===Je&&g){if(!g&&L.length>1)return!1;for(var W in this.symbols)if(!this.symbols[W].isPoly(g))return!1;return!0}return!1},stripVar:function(g,E){var T;return this.group!==un&&this.group!==At||this.value!==g?this.group===Je&&this.isLinear()?(T=new ae(1),this.each(function(L){L.contains(g,!0)||(T=we.multiply(T,L.clone()))}),T.multiplier=T.multiplier.multiply(this.multiplier)):this.group!==xn||this.isLinear()?this.group===xn&&this.isLinear()?(T=new ae(0),this.each(function(L){if(!L.contains(g)){var V=L.clone();V.multiplier=V.multiplier.multiply(this.multiplier),T=we.add(T,V)}}),T.equals(0)&&(T=new ae(this.multiplier))):T=this.group===an&&this.power.contains(g,!0)||this.group===jt&&this.contains(g)?new ae(this.multiplier):this.clone():T=new ae(this.multiplier):T=new ae(E?0:this.multiplier),T},toArray:function(g,E){E=E||{arr:[],add:function(He,mt){var je=this.arr[mt];this.arr[mt]=je?we.add(je,He):He}};var T=this.group;if(T===At&&this.contains(g))E.add(new ae(this.multiplier),this.power);else if(T===Je){var L=this.stripVar(g),V=we.divide(this.clone(),L.clone()),W=V.isConstant()?0:V.power;E.add(L,W)}else if(T===un&&this.value===g)this.each(function(He,mt){E.add(He.stripVar(g),mt)});else if(T===xn)this.each(function(He){He.toArray(g,E)});else{if(this.contains(g))throw new ce("Cannot convert to array! Exiting");E.add(this.clone(),0)}E=E.arr;for(var ge=0;ge<E.length;ge++)E[ge]||(E[ge]=new ae(0));return E},hasFunc:function(g){var E=this.group===jt||this.group===an;if(E&&!g||E&&this.contains(g))return!0;if(this.symbols)for(var T in this.symbols)if(this.symbols[T].hasFunc(g))return!0;return!1},sub:function(g,E){g=Xe(g)?g.clone():we.parse(g),E=Xe(E)?E.clone():we.parse(E),(g.group===lt||g.group===zn)&&Z("Cannot substitute a number. Must be a variable");var W,T=!1,L=g.multiplier.equals(1),V=this.multiplier.clone();if(this.value===g.value&&(this.group!==un&&g.group!==un||this.group===un&&g.group===un))(L||g.multiplier.equals(this.multiplier))&&(g.isLinear()?W=E:g.power.equals(this.power)&&(W=E,T=!0),g.multiplier.equals(this.multiplier)&&(V=new Kt(1)));else if(this.group===Je||this.previousGroup===Je)W=new ae(1),this.each(function(pn){var ii=we.parse(pn.sub(g,E));W=we.multiply(W,ii)});else if(this.isComposite()){var ge=this.clone();if(g.isComposite()&&ge.isComposite()&&ge.isLinear()&&g.isLinear()){var He=function(pn,ii){for(var bn in pn.symbols){var Bi=pn.symbols[bn];if(Bi.isComposite()&&He(Bi,ii)||Bi.equals(ii))return!0}return!1};for(var mt in g.symbols)if(!He(ge,g.symbols[mt]))return ge.clone();W=we.add(we.subtract(ge.clone(),g),E)}else W=new ae(0),ge.each(function(pn){W=we.add(W,pn.sub(g,E))})}else if(this.group===an)W=we.parse(this.value).sub(g,E);else if(this.group===jt){for(var je=[],vt=0;vt<this.args.length;vt++){var Nn=this.args[vt];Xe(Nn)||(Nn=we.parse(Nn)),je.push(Nn.sub(g,E))}W=we.symfunction(this.fname,je)}if(W){if(!T){var Ot=this.group===an?this.power.sub(g,E):we.parse(this.power);W=we.pow(W,Ot)}return W.multiplier=W.multiplier.multiply(V),W}return this.clone()},isMonomial:function(){if(this.group===At)return!0;if(this.group!==Je)return!1;for(var g in this.symbols)if(this.symbols[g].group!==At)return!1;return!0},isPi:function(){return this.group===At&&"pi"===this.value},sign:function(){return this.multiplier.sign()},isE:function(){return"e"===this.value},isSQRT:function(){return this.fname===Wn},isConstant:function(g,E){if(E&&this.group===Je)for(var T in this.symbols)if(this.symbols[T].isConstant(!0))return!0;if("functions"===g&&this.isComposite()){var L=!0;return this.each(function(W){W.isConstant(g,E)||(L=!1)},!0),L}if("all"===g&&(this.isPi()||this.isE()))return!0;if(g&&this.group===jt){for(var V=0;V<this.args.length;V++)if(!this.args[V].isConstant(g))return!1;return!0}return g?Ei(this):this.value===Ri},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols)for(var g in this.symbols)if(this.symbols[g].isImaginary())return!0;return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new ae(0);if(this.isComposite()){var g=new ae(0);return this.each(function(E){g=we.add(g,E.realpart())}),g}return this.isImaginary()?new ae(0):this.clone()},imagpart:function(){if(this.group===At&&this.isImaginary())return new ae(this.multiplier);if(this.isComposite()){var g=new ae(0);return this.each(function(E){g=we.add(g,E.imagpart())}),g}return this.group===Je?this.stripVar(fe.IMAGINARY):new ae(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(g){if(g){if(this.isConstant())return!0;if(this.group===At)return this.value!==g||this.power.equals(1);if(this.isComposite()&&this.power.equals(1)){for(var E in this.symbols)if(!this.symbols[E].isLinear(g))return!1;return!0}return!(this.group!==Je||!this.symbols[g])&&this.symbols[g].isLinear(g)}return this.power.equals(1)},containsFunction:function(g){if("string"==typeof g&&(g=[g]),this.group===jt&&-1!==g.indexOf(this.fname))return!0;if(this.symbols)for(var E in this.symbols)if(this.symbols[E].containsFunction(g))return!0;return!1},multiplyPower:function(g){if(this.group===lt&&this.multiplier.equals(1))return this;var E=this.power;if(this.group!==an&&g.group===lt){var T=g.multiplier;this.group===lt&&!T.isInteger()&&this.convert(zn),this.power=E.equals(1)?T.clone():E.multiply(T),this.group===zn&&Le(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(lt))}else this.group!==an&&(E=new ae(E),this.convert(an)),this.power=we.multiply(E,g);return this},setPower:function(g,E){if(this.group===lt&&this.multiplier.equals(1))return this;if(this.group!==an||Xe(g)){var T=!1;Xe(g)&&(g.group===lt?g=g.multiplier:T=!0);var L=T?an:zn;this.power=g,this.group===lt&&L&&this.convert(L,E)}else this.group=this.previousGroup,delete this.previousGroup,this.group===lt?(this.multiplier=new Kt(this.value),this.value=Ri):this.power=g;return this},isInverse:function(){return this.group===an?this.power.multiplier.lessThan(0):this.power<0},clone:function(g){var V,E=g||new ae(0),T=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],L=T.length;if(this.symbols)for(var W in E.symbols={},this.symbols)E.symbols[W]=this.symbols[W].clone();for(V=0;V<L;V++)void 0!==this[T[V]]&&(E[T[V]]=this[T[V]]);return E.power=this.power.clone(),E.multiplier=this.multiplier.clone(),this.isConversion&&(E.isConversion=this.isConversion),this.isUnit&&(E.isUnit=this.isUnit),E},toUnitMultiplier:function(g){return this.multiplier.num=new _t(this.multiplier.num.isNegative()&&g?-1:1),this.multiplier.den=new _t(1),this},toLinear:function(){return this.power.equals(1)||this.setPower(new Kt(1)),this},each:function(g,E){if(this.symbols)for(var T in this.symbols){var L=this.symbols[T];if(L.group===un&&E)for(var V in L.symbols)g.call(T,L.symbols[V],V);else g.call(this,L,T)}else g.call(this,this,this.value)},valueOf:function(){return this.group===lt?this.multiplier.valueOf():0===this.power?1:0===this.multiplier?0:_n(this,"decimals")},contains:function(g,E){g=String(g);var T=this.group;if(this.value===g)return!0;if(this.symbols)for(var L in this.symbols)if(this.symbols[L].contains(g,E))return!0;if(T===jt||this.previousGroup===jt)for(var V=0;V<this.args.length;V++)if(this.args[V].contains(g,E))return!0;return!(T!==an||!(E&&this.power.contains(g,E)||this.value===g))||this.value===g},negate:function(){return this.multiplier.negate(),(this.group===xn||this.group===un)&&this.distributeMultiplier(),this},invert:function(g,E){return g||(this.multiplier=this.multiplier.invert()),Xe(this.power)?this.power.negate():this.group===Je&&E?this.each(function(T){return T.invert()}):this.power&&this.group!==lt&&this.power.negate(),this},distributeMultiplier:function(g){var E=g?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&E&&this.group!==Je&&!this.multiplier.equals(1)){for(var T in this.symbols){var L=this.symbols[T];L.multiplier=L.multiplier.multiply(this.multiplier),L.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var g=this.power;for(var E in this.symbols){var T=this.symbols[E];T.group===an?T.power=we.multiply(T.power,new ae(g)):this.symbols[E].power=this.symbols[E].power.multiply(g)}this.toLinear()}return this},convert:function(g,E){if(g>jt){var T=this.clone();this.symbols={},g===Je?T.toUnitMultiplier():this.toUnitMultiplier(),this.group===jt&&(T.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[T.keyForGroup(g)]=T,this.group=g,this.length=1}else if(g===an)this.group===lt&&this.multiplier.equals(1)||(this.group!==an&&(this.previousGroup=this.group),this.group===lt?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=_n(this,"hash"),this.group=an);else if(g===lt){var L=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new ae(this.group===zn?L*Math.pow(this.value,this.power):L).clone(this)}else g===zn&&this.group===lt&&(this.value=E?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!E),this.group=zn);return this},insert:function(g,E){if(Xe(g)||Z("Object "+g+" is not of type Symbol!"),this.symbols){var T=this.group;if(T>jt){var L=g.keyForGroup(T),V=L in this.symbols&&this.symbols[L];if("add"===E){var W=L;V?(this.symbols[W]=we.add(V,g),this.symbols[W].multiplier.equals(0)&&(delete this.symbols[W],this.length--,0===this.length&&(this.convert(lt),this.multiplier=new Kt(0)))):(this.symbols[L]=g,this.length++)}else g.group===zn&&Le(g.power)&&g.convert(lt),g.group!==an?(this.multiplier=this.multiplier.multiply(g.multiplier),g.toUnitMultiplier()):(g.parens=g.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(g.multiplier.clone().abs()),g.toUnitMultiplier(!0)),V&&((g=we.multiply(Si(this.symbols,L),g)).isConstant()&&(this.multiplier=this.multiplier.multiply(g.multiplier),g=new ae(1)),this.length--),g.isOne(!0)?g.multiplier.lessThan(0)&&this.negate():(this.symbols[L]=g,this.length++);0===this.length&&this.convert(lt),(this.group===xn||this.group===Je)&&this.updateHash()}}return this},attach:function(g){if(be(g)){for(var E=0;E<g.length;E++)this.insert(g[E],"add");return this}return this.insert(g,"add")},combine:function(g){if(be(g)){for(var E=0;E<g.length;E++)this.insert(g[E],"multiply");return this}return this.insert(g,"multiply")},updateHash:function(){if(this.group!==lt)if(this.group===jt){for(var g="",E=this.args,T=this.fname===dr,L=0;L<E.length;L++)g+=(0===L?"":",")+_n(E[L]);this.value=(T?"":this.fname)+(T?g:ft(g))}else this.group===At||this.group===un||(this.value=_n(this,"hash"))},keyForGroup:function(g){var T,E=this.group;if(E===lt)T=this.value;else if(E===At||E===zn)T=g===un?this.power.toDecimal():this.value;else if(E===jt)T=g===un?this.power.toDecimal():_n(this,"hash");else{if(E===un)return g===Je?_n(this,"hash"):g===xn?this.power.equals(1)?this.value:ft(_n(this,"hash"))+fe.POWER_OPERATOR+this.power.toDecimal():g===un?this.power.toString():this.value;E===xn?(g===xn&&(T=_n(this,"hash")),T=g===un?this.power.toDecimal():this.value):E===Je?T=g===un?this.power.toDecimal():_n(this,"hash"):E===an&&(T=g===un?_n(this.power):_n(this,"hash"))}return T},collectSymbols:function(g,E,T,L){var V=[];if(this.symbols)for(var W in this.symbols){var ge=this.symbols[W];!L||ge.group!==un&&ge.group!==xn?V.push(g?g(ge,E):ge):V=V.concat(ge.collectSymbols())}else V.push(this);return null===T&&(T=void 0),V.sort(T)},latex:function(g){return Hn.latex(this,g)},text:function(g){return _n(this,g)},isOne:function(g){return this.group===lt?this.multiplier[g?"absEquals":"equals"](1):this.power.equals(0)},isComposite:function(){var g=this.group,E=this.previousGroup;return g===xn||g===un||E===un||E===xn},isCombination:function(){return this.group===Je||this.previousGroup===Je},lessThan:function(g){return this.multiplier.lessThan(g)},greaterThan:function(g){return Xe(g)||(g=new ae(g)),!(!this.isConstant(!0)||!g.isConstant(!0))&&this.multiplier.greaterThan(g.multiplier)},getDenom:function(){var g,E;if(E=this.clone(),this.group===Je&&this.power.lessThan(0)&&(E=we.expand(E)),E.power.lessThan(0)||E.group===an&&E.power.multiplier.lessThan(0)){var T=we.parse(E.multiplier.den);(g=E.toUnitMultiplier()).power.negate(),g=we.multiply(T,g)}else if(E.group===Je)for(var L in g=we.parse(E.multiplier.den),E.symbols){var V=E.symbols[L];(V.power<0||V.group===an&&V.power.multiplier.lessThan(0))&&(g=we.multiply(g,E.symbols[L].clone().invert()))}else g=we.parse(E.multiplier.den);return g},getNum:function(){var g,E;return(E=this.clone()).group===Je&&E.power.lessThan(0)&&(E=we.expand(E)),E.power.greaterThan(0)&&E.group!==Je||E.group===an&&E.power.multiplier.greaterThan(0)?g=we.multiply(we.parse(E.multiplier.num),E.toUnitMultiplier()):E.group===Je?(g=we.parse(E.multiplier.num),E.each(function(T){(T.power>0||T.group===an&&T.power.multiplier>0)&&(g=we.multiply(g,T.clone()))})):g=we.parse(E.multiplier.num),g},toString:function(){return this.text()}};var fd={convert:function(g,E){var T;if(0===g)T=[0,1];else if(g<1e-6||g>1e20){var L=this.quickConversion(Number(g));if(L[1]<=1e20){var V=Math.abs(g),W=g/V;(T=this.fullConversion(V.toFixed((L[1]+"").length-1)))[0]=T[0]*W}else T=L}else T=this.fullConversion(g);return T},quickConversion:function(g){return function T(L){Wr.isScientific(L)&&(L=$e(L));var ge,V=function(L){"string"!=typeof L&&(L=L.toString());var V="",W=L.charAt(0);return"-"===W?(L=L.substr(1,L.length),V="-"):"+"===W&&(L=L.substr(1,L.length)),{sign:V,value:L}}(L),W=V.value.split(".");ge=1===W.length?W[0]:W[0]+W[1];var mt=`1${"0".repeat(W[1]?W[1].length:0)}`;return"0"!==ge&&(ge=ge.replace(/^0+/,"")),[V.sign+ge,mt]}(g)},fullConversion:function(g){for(var E=!1,T=0,L=1,V=1,W=0,ge=0,He=g;!E;){++ge>1e4&&(E=!0);var je=Math.floor(He),vt=T+je*V,Nn=L+je*W,Ot=He-je;Ot<1e-16&&(E=!0),He=1/Ot,T=V,L=W,V=vt,W=Nn,(Math.abs(vt/Nn-g)<1e-16||ge>30)&&(E=!0)}return[vt,Nn]}},Hn={parser:function(){var g=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],E=new Jo;for(var T in E)-1===g.indexOf(T)&&delete E[T];return E.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(V){return V}}),E.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(V){return V}}),E.getBrackets()["{"].maps_to=void 0,E}(),space:"~",dot:" \\cdot ",latex:function(g,E){if(g.clone&&(g=g.clone()),g instanceof we.classes.Collection&&(g=g.elements),be(g)){for(var T=[],L=0;L<g.length;L++){var V=g[L];Xe(V)||(V=we.parse(V)),T.push(this.latex(V,E))}return this.brackets(T.join(", "),"square")}if(mn(g)){var W="\\begin{pmatrix}\n";for(L=0;L<g.elements.length;L++){for(var ge=[],He=g.elements[L],mt=0;mt<He.length;mt++)ge.push(this.latex(He[mt],E));W+=ge.join(" & "),L<g.elements.length-1&&(W+="\\\\\n")}return W+"\\end{pmatrix}"}if(Qt(g)){for(W="\\left[",L=0;L<g.elements.length;L++)W+=this.latex(g.elements[L],E)+" "+(L!==g.elements.length-1?",\\,":"");return W+"\\right]"}if(Hi(g)){for(W="\\{",L=0;L<g.elements.length;L++)W+=this.latex(g.elements[L],E)+" "+(L!==g.elements.length-1?",\\,":"");return W+"\\}"}var pn,je="decimal"===E||"decimals"===E,vt=(g=g.clone()).power,Nn=Ne(vt),Ot=g.multiplier.lessThan(0);if(g.group===zn&&je)return String(g.multiplier.toDecimal()*Math.pow(g.value,g.power.toDecimal()));g.multiplier=g.multiplier.abs(),pn=je?[String(g.multiplier.toDecimal()),""]:[g.multiplier.num,g.multiplier.den];var Bi,bn=this.value(g,Nn,E,Ot);Nn&&vt.negate(),je?(Bi=Xe(vt)?Hn.latex(vt,E):String(vt.toDecimal()),"1"===String(Bi)&&(Bi="")):Bi=Xe(vt)?this.latex(vt,E):this.formatFrac(vt,!0);var or=["",""];return or[Nn?1:0]=Bi,((Ot?"-":"")+this.set(pn,bn,or,g.group===Je)).replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(g,E,T,L){var V=g.group,W=g.previousGroup,ge=["",""],He=E?1:0;if(g.isInfinity)ge[He]="\\infty";else if(V===At||V===zn||W===At||W===zn||W===lt){(mt=this.formatSubscripts(g.value)).replace&&(mt=mt.replace(/(.+)_$/,"$1\\_"));var je=String(mt).split("_"),vt=this.greek[je[0]];vt&&(je[0]=vt,mt=je.join("_")),(g=this.symbols[je[0]])&&(je[0]=g,mt=je.join("_")),ge[He]=mt}else if(V===jt||W===jt){for(var Ot=[],pn=g.fname,ii=0;ii<g.args.length;ii++){var Bi;Bi="string"==typeof(bn=g.args[ii])?bn:this.latex(bn,T),Ot.push(Bi)}if(pn===Wn)ge[He]="\\sqrt"+this.braces(Ot.join(","));else if(pn===hr)ge[He]=this.brackets(Ot.join(","),"abs");else if(pn===dr)ge[He]=this.brackets(Ot.join(","),"parens");else if("limit"===pn)ge[He]=" \\lim\\limits_{"+Ot[1]+" \\to "+Ot[2]+"} "+Ot[0];else if("integrate"===pn)ge[He]="\\int"+this.braces(Ot[0])+this.braces("d"+Ot[1]);else if("defint"===pn)ge[He]="\\int\\limits_"+this.braces(Ot[1])+"^"+this.braces(Ot[2])+" "+Ot[0]+" d"+Ot[3];else if(pn===Fn||pn===ze){var bn;(bn=g.args[0]).power.equals(1)&&(bn.isComposite()||bn.isCombination())&&(Ot[0]=this.brackets(Ot[0])),ge[He]=Ot[0]+(pn===Fn?"!":"!!")}else if("floor"===pn)ge[He]="\\left \\lfloor"+this.braces(Ot[0])+"\\right \\rfloor";else if("ceil"===pn)ge[He]="\\left \\lceil"+this.braces(Ot[0])+"\\right \\rceil";else if(pn===fe.LOG&&Ot.length>1)ge[He]="\\mathrm"+this.braces(fe.LOG)+"_"+this.braces(Ot[1])+this.brackets(Ot[0]);else if(pn===fe.LOG10)ge[He]="\\mathrm"+this.braces(fe.LOG)+"_"+this.braces(10)+this.brackets(Ot[0]);else if("sum"===pn){var or=Ot[0],yr=Ot[2],no=Ot[3];ge[He]="\\sum\\limits_{"+this.braces(Ot[1])+"="+this.braces(yr)+"}^"+this.braces(no)+" "+this.braces(or)}else if("product"===pn)or=Ot[0],yr=Ot[2],no=Ot[3],ge[He]="\\prod\\limits_{"+this.braces(Ot[1])+"="+this.braces(yr)+"}^"+this.braces(no)+" "+this.braces(or);else if("nthroot"===pn)ge[He]="\\sqrt["+Ot[1]+"]"+this.braces(Ot[0]);else if("mod"===pn)ge[He]=Ot[0]+" \\bmod "+Ot[1];else if("realpart"===pn)ge[He]="\\operatorname{Re}"+this.brackets(Ot[0]);else if("imagpart"===pn)ge[He]="\\operatorname{Im}"+this.brackets(Ot[0]);else{var Nn=""!==pn?"\\mathrm"+this.braces(pn.replace(/_/g,"\\_")):"";ge[He]=g.isConversion?Nn+this.brackets(Ot.join(""),"parens"):Nn+this.brackets(Ot.join(","),"parens")}}else if(g.isComposite()){var Ui=g.collectSymbols().sort(V===xn||W===xn?function(br,Co){return Co.group-br.group}:function(br,Co){var ja=Xe(br.power)?-1:br.power;return(Xe(Co.power)?-1:Co.power)-ja}),Fo=[],Fs=Ui.length;for(ii=0;ii<Fs;ii++)Fo.push(Hn.latex(Ui[ii],T));var mt=Fo.join("+");ge[He]=g.isLinear()&&g.multiplier.equals(1)&&!L?mt:this.brackets(mt,"parens")}else if(V===Je||W===an||W===Je){V===Je&&g.distributeExponent();var zo=[],er=[],Cr=[],io=[],Cs=0,qt=0,mc=function(Qn,br,Co){if(Co>1&&br.length>0)for(var ja=br.length,Ga=0;Ga<ja;Ga++){var eu=br[Ga],vc=Qn[eu];/^\\left\(.+\\right\)\^\{.+\}$/g.test(vc)||/^\\left\(.+\\right\)$/g.test(vc)||(Qn[eu]=Hn.brackets(vc,"parens"))}return Qn};g.each(function(Qn){var Co;Ne(Qn.power)?(Co=Hn.latex(Qn.invert(),T),qt++,Qn.isComposite()&&(1!=g.multiplier.den&&1==Math.abs(Qn.power)&&(Co=Hn.brackets(Co,"parens")),Cr.push(zo.length)),zo.push(Co)):(Co=Hn.latex(Qn,T),Cs++,Qn.isComposite()&&(1!=g.multiplier.num&&1==Math.abs(Qn.power)&&(Co=Hn.brackets(Co,"parens")),io.push(er.length)),er.push(Co))}),mc(er,io,Cs),ge[0]=er.join(this.dot),mc(zo,Cr,qt),ge[1]=zo.join(this.dot)}return ge},set:function(g,E,T,L){var V=function(pn){return/^\\left\(.+\\right\)$/.test(pn)};if(T&&(T=this.formatP(T)),L){var W=T[0];T[0]=""}E=this.merge(E,T);var ge=g[0],He=g[1],mt=E[0],je=E[1];mt&&1===Number(ge)&&(ge=""),1===Number(He)&&(He="");var vt=this.join(ge,mt,V(mt)?"":this.dot),Nn=this.join(He,je,V(je)?"":this.dot);if(vt&&Nn){var Ot=this.frac(vt,Nn);return L&&W&&(Ot=this.brackets(Ot)+W),Ot}return vt},merge:function(g,E){for(var T=[],L=0;L<2;L++)T[L]=g[L]+E[L];return T},join:function(g,E,T){return g||E?g&&!E?g:E&&!g?E:g+T+E:""},formatSubscripts:function(g){for(var E=g.toString().split("_"),T="";E.length>1;)E.length>0&&(T="_"+this.braces(E.pop()+T));return E[0]+T},formatP:function(g){for(var E=0;E<2;E++){var T=g[E];T&&(g[E]="^"+this.braces(T))}return g},formatFrac:function(g,E){var T=g.num.toString(),L=g.den.toString();return E&&"1"===T&&"1"===L?"":"1"===L?T:this.frac(T,L)},frac:function(g,E){return"\\frac"+this.braces(g)+this.braces(E)},braces:function(g){return"{"+g+"}"},brackets:function(g,E){var L={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]}[E=E||"parens"];return"\\left"+L[0]+g+"\\right"+L[1]},filterTokens:function(g){var E=[];be(g)&&(E.type=g.type);for(var T=["\\","left","right","big","Big","large","Large"],L=0,V=g.length;L<V;L++){var W=g[L];"\\"===W.value&&"\\"===g[L+1].value?E.push(W):be(W)?E.push(Hn.filterTokens(W)):-1===T.indexOf(W.value)&&E.push(W)}return E},parse:function(g){var E,L="",V=this.filterTokens(g),W={cdot:"",times:"",infty:"Infinity"},ge=function(Ui){return V[typeof Ui>"u"?++E:E+=Ui]},He=function(){return Hn.parse(ge())},mt=function(Ui){return Ui in W?W[Ui]:"*"===Ui&&"&"===V[E+1].value?(ge(2),","):"&"===Ui?(ge(),","):"\\"===Ui?"],[":Ui};for(E=0,T=V.length;E<T;E++){var je=V[E];if("frac"===je.value)L+=He()+"/"+He();else if(je.value in Hn.symbols)if(je.value===Wn&&"vector"===V[E+1].type&&"Set"===V[E+2].type){var Ot=He();L+=He()+"^"+ft("1/"+Ot)}else L+=je.value+He();else if("int"===je.value){var ii=He();E++,bn=mt((bn=ge().value).substring(1,bn.length)),L+="integrate"+ft(ii+","+bn)}else if("int_"===je.value){var T=He();if(E++,void 0===(Bi=ge().value)){E--;var Bi=He()}if(ii=He(),","===(bn=ge().value))var bn=ge().value;"differentialD"===bn&&(E++,bn=ge().value),"mathrm"===bn&&(E++,bn=ge().value),L+="defint"+ft(ii+","+T+","+Bi+","+bn)}else if(je.value&&je.value.startsWith("int_"))T=je.value.replace("int_",""),console.log("uppernow"),E++,void 0===(Bi=ge().value)&&(E--,Bi=He()),ii=He(),","===(bn=ge().value)&&(bn=ge().value),"differentialD"===bn&&(E++,bn=ge().value),"mathrm"===bn&&(E++,bn=ge().value),L+="defint"+ft(ii+","+T+","+Bi+","+bn);else if("mathrm"===je.value)L+=(ii=V[++E][0].value)+He();else if("sum_"===je.value||"prod_"===je.value){var or="sum_"===je.value?"sum":"product",$i=ge();E++;var yr=He();ii=He(),L+=or+ft([ii,mt($i[0]),mt($i[2]),mt(yr)].join(","))}else"lim_"===je.value?($i=ge(),L+="limit"+ft([He(),mt($i[0]),mt($i[2])].join(","))):"begin"===je.value?($i=ge(),Array.isArray($i)&&"matrix"===$i[0].value&&(L+="matrix([")):"end"===je.value?($i=ge(),Array.isArray($i)&&"matrix"===$i[0].value&&(L+="])")):Array.isArray(je)?L+=mt(Hn.parse(je)):L+=mt(je.value.toString())}return ft(L)}};function Yn(g){this.elements=Qt(g)?g.items.slice(0):be(g)?g.slice(0):[].slice.call(arguments)}function fi(){var T,V,W,ge,g=arguments,E=g.length,L=[];if(mn(g))for(T=0;T<E;T++)L.push(g[T].slice(0));else for(T=0;T<E;T++)Qt(V=g[T])&&(V=V.elements),be(V)||(V=[V]),ge=V.length,W&&W!==ge&&Z("Unable to create Matrix. Row dimensions do not match!"),L.push(V),W=ge;this.elements=L}function rr(g){if(this.elements=[],Qt(g)||(g=Yn.fromArray(arguments)),g)for(var E=g.elements,T=0,L=E.length;T<L;T++)this.add(E[T])}Yn.arrayPrefill=function(g,E){var T=[];E=E||0;for(var L=0;L<g;L++)T[L]=E;return T},Yn.fromArray=function(g){var E=new Yn;return E.elements=g,E},Yn.fromSet=function(g){return Yn.fromArray(g.elements)},Yn.prototype={custom:!0,e:function(g){return g<1||g>this.elements.length?null:this.elements[g-1]},set:function(g,E){Xe(E)||(E=new ae(E)),this.elements[g]=E},dimensions:function(){return this.elements.length},modulus:function(){return oi("SAFE",function(){return we.pow(this.dot(this.clone()),new ae(.5))},void 0,this)},eql:function(g){var E=this.elements.length,T=g.elements||g;if(E!==T.length)return!1;do{if(Math.abs(we.subtract(this.elements[E-1],T[E-1]).valueOf())>PRECISION)return!1}while(--E);return!0},clone:function(){for(var g=new Yn,E=this.elements.length,T=0;T<E;T++)g.elements.push(this.elements[T].clone());return this.getter&&(g.getter=this.getter.clone()),g},map:function(g){var E=[];return this.each(function(T,L){E.push(g(T,L))}),new Yn(E)},each:function(g){var L,E=this.elements.length,T=E;do{g(this.elements[L=T-E],L+1)}while(--E)},toUnitVector:function(){return oi("SAFE",function(){var g=this.modulus();return 0===g.valueOf()?this.clone():this.map(function(E){return we.divide(E,g)})},void 0,this)},angleFrom:function(g){return oi("SAFE",function(){var E=g.elements||g;if(this.elements.length!==E.length)return null;var L=new ae(0),V=new ae(0),W=new ae(0);this.each(function(je,vt){L=we.add(L,we.multiply(je,E[vt-1])),V=we.add(V,we.multiply(je,je)),W=we.add(W,we.multiply(E[vt-1],E[vt-1]))}),V=we.pow(V,new ae(.5)),W=we.pow(W,new ae(.5));var ge=we.multiply(V,W);if(0===ge.valueOf())return null;var He=we.divide(L,ge),mt=He.valueOf();return mt<-1&&(He=-1),mt>1&&(He=1),new ae(Math.acos(He))},void 0,this)},isParallelTo:function(g){var E=this.angleFrom(g).valueOf();return null===E?null:E<=PRECISION},isAntiparallelTo:function(g){var E=this.angleFrom(g).valueOf();return null===E?null:Math.abs(E-Math.PI)<=PRECISION},isPerpendicularTo:function(g){var E=this.dot(g);return null===E?null:Math.abs(E)<=PRECISION},add:function(g){return oi("SAFE",function(){var E=g.elements||g;return this.elements.length!==E.length?null:this.map(function(T,L){return we.add(T,E[L-1])})},void 0,this)},subtract:function(g){return oi("SAFE",function(){var E=g.elements||g;return this.elements.length!==E.length?null:this.map(function(T,L){return we.subtract(T,E[L-1])})},void 0,this)},multiply:function(g){return this.map(function(E){return E.clone()*g.clone()})},x:function(g){return this.multiply(g)},dot:function(g){return oi("SAFE",function(){var E=g.elements||g,T=new ae(0),L=this.elements.length;if(L!==E.length)return null;do{T=we.add(T,we.multiply(this.elements[L-1],E[L-1]))}while(--L);return T},void 0,this)},cross:function(g){var E=g.elements||g;if(3!==this.elements.length||3!==E.length)return null;var T=this.elements;return oi("SAFE",function(){return new Yn([we.subtract(we.multiply(T[1],E[2]),we.multiply(T[2],E[1])),we.subtract(we.multiply(T[2],E[0]),we.multiply(T[0],E[2])),we.subtract(we.multiply(T[0],E[1]),we.multiply(T[1],E[0]))])},void 0,this)},max:function(){var L,g=0,E=this.elements.length,T=E;do{L=T-E,Math.abs(this.elements[L].valueOf())>Math.abs(g.valueOf())&&(g=this.elements[L])}while(--E);return g},magnitude:function(){var g=new ae(0);return this.each(function(E){g=we.add(g,we.pow(E,new ae(2)))}),we.sqrt(g)},indexOf:function(g){var V,E=null,T=this.elements.length,L=T;do{V=L-T,null===E&&this.elements[V].valueOf()===g.valueOf()&&(E=V+1)}while(--T);return E},text:function(g){return _n(this)},toString:function(){return this.text()},latex:function(g){for(var E=[],T=0;T<this.elements.length;T++)E.push(Hn.latex.call(Hn,this.elements[T],g));return"["+E.join(", ")+"]"}},fi.identity=function(g){for(var E=new fi,T=0;T<g;T++){E.elements.push([]);for(var L=0;L<g;L++)E.set(T,L,new ae(T===L?1:0))}return E},fi.fromArray=function(g){function E(T){return fi.apply(this,T)}return E.prototype=fi.prototype,new E(g)},fi.zeroMatrix=function(g,E){for(var T=new fi,L=0;L<g;L++)T.elements.push(Yn.arrayPrefill(E,new ae(0)));return T},(fi.prototype={custom:!0,get:function(g,E){if(this.elements[g])return this.elements[g][E]},map:function(g,E){var T=new fi;return this.each(function(L,V,W){T.set(V,W,g.call(T,L),E)}),T},set:function(g,E,T,L){this.elements[g]||(this.elements[g]=[]),this.elements[g][E]=L||Xe(T)?T:new ae(T)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(g){return!g||g>this.cols()?[]:this.elements[g-1]},col:function(g){var E=this.rows(),T=[];if(g>this.cols()||!g)return T;for(var L=0;L<E;L++)T.push(this.elements[L][g-1]);return T},eachElement:function(g){var L,V,E=this.rows(),T=this.cols();for(L=0;L<E;L++)for(V=0;V<T;V++)g.call(this,this.elements[L][V],L,V)},determinant:function(){if(!this.isSquare())return null;var V,g=this.toRightTriangular(),E=g.elements[0][0],T=g.elements.length-1,L=T;do{E=we.multiply(E,g.elements[V=L-T+1][V])}while(--T);return E},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(g){var E=this.rows();E!==g.rows()&&Z("Cannot augment matrix. Rows don't match.");for(var L=0;L<E;L++)this.elements[L]=this.elements[L].concat(g.elements[L]);return this},clone:function(){for(var g=this.rows(),E=this.cols(),T=new fi,L=0;L<g;L++){T.elements[L]=[];for(var V=0;V<E;V++){var W=this.elements[L][V];T.elements[L][V]=Xe(W)?W.clone():W}}return T},invert:function(){return this.isSquare()||Z("Matrix is not square!"),oi("SAFE",function(){var T,L,ge,mt,je,vt,Ot,g=this.elements.length,E=g,V=fi.identity(g),W=this.augment(V).toRightTriangular(),He=W.elements[0].length,Nn=[];do{je=[],ge=He,Nn[T=g-1]=[],vt=W.elements[T][T];do{Ot=we.divide(W.elements[T][mt=He-ge],vt.clone()),je.push(Ot),mt>=E&&Nn[T].push(Ot)}while(--ge);for(W.elements[T]=je,L=0;L<T;L++){je=[],ge=He;do{je.push(we.subtract(W.elements[L][mt=He-ge].clone(),we.multiply(W.elements[T][mt].clone(),W.elements[L][T].clone())))}while(--ge);W.elements[L]=je}}while(--g);return fi.fromArray(Nn)},void 0,this)},toRightTriangular:function(){return oi("SAFE",function(){var E,L,ge,He,je,g=this.clone(),V=this.elements.length,W=V,mt=this.elements[0].length;do{if(0===g.elements[ge=W-V][ge].valueOf())for(var vt=ge+1;vt<W;vt++)if((L=g.elements[vt][ge])&&0!==L.valueOf()){E=[],He=mt;do{E.push(we.add(g.elements[ge][je=mt-He].clone(),g.elements[vt][je].clone()))}while(--He);g.elements[ge]=E;break}if(0!==g.elements[ge][ge].valueOf())for(vt=ge+1;vt<W;vt++){var Nn=we.divide(g.elements[vt][ge].clone(),g.elements[ge][ge].clone());E=[],He=mt;do{E.push((je=mt-He)<=ge?new ae(0):we.subtract(g.elements[vt][je].clone(),we.multiply(g.elements[ge][je].clone(),Nn.clone())))}while(--He);g.elements[vt]=E}}while(--V);return g},void 0,this)},transpose:function(){var V,W,ge,g=this.elements.length,E=this.elements[0].length,T=new fi,L=E;do{T.elements[V=E-L]=[],W=g;do{T.elements[V][ge=g-W]=this.elements[ge][V].clone()}while(--W)}while(--L);return T},canMultiplyFromLeft:function(g){var E=mn(g)?g.elements.length:g.length;return this.elements[0].length===E},sameSize:function(g){return this.rows()===g.rows()&&this.cols()===g.cols()},multiply:function(g){return oi("SAFE",function(){var E=g.elements||g;if(!this.canMultiplyFromLeft(E)){if(this.sameSize(g)){for(var T=new fi,L=this.rows(),He=0;He<L;He++){var V=we.multiply(new Yn(this.elements[He]),new Yn(g.elements[He]));T.elements[He]=V.elements}return T}return null}var mt,vt,pn,ii,bn,W=this.elements.length,ge=W,je=E[0].length,Nn=this.elements[0].length,Ot=[];do{Ot[He=ge-W]=[],mt=je;do{vt=je-mt,pn=new ae(0),ii=Nn;do{pn=we.add(pn,we.multiply(this.elements[He][bn=Nn-ii],E[bn][vt]))}while(--ii);Ot[He][vt]=pn}while(--mt)}while(--W);return fi.fromArray(Ot)},void 0,this)},add:function(g,E){var T=new fi;return this.sameSize(g)&&this.eachElement(function(L,V,W){var ge=we.add(L.clone(),g.elements[V][W].clone());E&&(ge=E.call(T,ge,L,g.elements[V][W])),T.set(V,W,ge)}),T},subtract:function(g,E){var T=new fi;return this.sameSize(g)&&this.eachElement(function(L,V,W){var ge=we.subtract(L.clone(),g.elements[V][W].clone());E&&(ge=E.call(T,ge,L,g.elements[V][W])),T.set(V,W,ge)}),T},negate:function(){return this.each(function(g){return g.negate()}),this},toVector:function(){if(1===this.rows()||1===this.cols()){var g=new Yn;return g.elements=this.elements,g}return this},toString:function(g,E){var T=this.rows(),L=[];g=void 0===g?"\n":g;for(var V=0;V<T;V++)L.push("["+this.elements[V].map(function(W){var ge=E?W.multiplier.toDecimal():W.toString();return void 0!==W?ge:""}).join(",")+"]");return"matrix"+ft(L.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(g){var E=this.cols(),T=this.elements;return Gt("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var L=[];for(var V in T){for(var W=[],ge=0;ge<E;ge++)W.push(Hn.latex.call(Hn,T[V][ge],g));L.push(W.join(" & "))}return L.join(" \\cr ")})}}).each=fi.prototype.eachElement,rr.fromArray=function(g){function E(T){return rr.apply(this,T)}return E.prototype=rr.prototype,new E(g)},rr.prototype={add:function(g){this.contains(g)||this.elements.push(g.clone())},contains:function(g){for(var E=0;E<this.elements.length;E++)if(g.equals(this.elements[E]))return!0;return!1},each:function(g){for(var E=this.elements,T=new rr,L=0,V=E.length;L<V;L++)g.call(this,E[L],T,L);return T},clone:function(){var g=new rr;return this.each(function(E){g.add(E.clone())}),g},union:function(g){var E=this.clone();return g.each(function(T){E.add(T)}),E},difference:function(g){var E=this.clone();return g.each(function(T){E.remove(T)}),E},remove:function(g){for(var E=0,T=this.elements.length;E<T;E++)if(this.elements[E].equals(g))return Si(this.elements,E),!0;return!1},intersection:function(g){var E=new rr,T=this;return g.each(function(L){T.contains(L)&&E.add(L)}),E},intersects:function(g){return this.intersection(g).elements.length>0},is_subset:function(g){for(var E=g.elements,T=0,L=E.length;T<L;T++)if(!this.contains(E[T]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var Ml={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":Cn.gamma},gamma_incomplete:{"Math2.factorial":Cn.factorial},Li:{"Math2.Ei":Cn.Ei,"Math2.bigLog":Cn.bigLog,Frac:Kt},Ci:{"Math2.factorial":Cn.factorial},Ei:{"Math2.factorial":Cn.factorial},Si:{"Math2.factorial":Cn.factorial},Shi:{"Math2.factorial":Cn.factorial},Chi:{isInt:Le,nround:We,"Math2.num_integrate":Cn.num_integrate},factor:{"Math2.ifactor":Cn.ifactor,Symbol:ae},num_integrate:{"Math2.simpson":Cn.simpson,nround:We},fib:{even:Wt}},reformat:{diff:function(g,E){var T=g.args[1].toString(),L="var f = "+Ml.build(g.args[0].toString(),[T])+";";return E[1]+="var diff = "+Cn.diff.toString()+";",E[1]+=L,["diff(f)("+T+")",E]}},getProperName:function(g){return{continued_fraction:"continuedFraction"}[g]||g},compileDependencies:function(g,E){var T=Ml.dependencies[g],L=E&&E[1]?E[1]:"",V=E&&E[0]?E[0]:{};for(var W in T)if("object"!=typeof T[W]){var ge=W.split(".");L+="var "+(ge.length>1?ge[1]:ge[0])+"="+T[W]+";",V[W]=ge.pop()}return[V,L]},getArgsDeps:function(g,E){for(var T=g.args,L=0;L<T.length;L++)g.args[L].each(function(V){V.group===jt&&(E=Ml.compileDependencies(V.fname,E))});return E},build:function(g,E){g=oi("PARSE2NUMBER",function(){return we.parse(g)},!0);var T=In(g),L=[],V=[],W=function(vt,Nn){""===vt.fname&&(vt=ae.unwrapPARENS(vt)),Nn=Nn||[];var or,Ot=[],pn=vt.group,ii="",bn=function(Ui){var Fo=Ui===Je?"*":"+",Fs=[];for(var zo in vt.symbols){var er=vt.symbols[zo],Cr=W(er,Nn)[0];er.isComposite()&&(Cr=ft(Cr)),Fs.push(Cr)}var io=Fs.join(Fo);return io&&!vt.multiplier.equals(1)?ft(io):io},Bi=function(Ui){var Fo;return Ui in Math?Fo="Math."+Ui:(Ui=Ml.getProperName(Ui),-1===L.indexOf(Ui)&&(Nn.push("var "+Ui+" = "+Cn[Ui].toString()+"; "),L.push(Ui)),Fo=Ui),Fo+ft(vt.args.map(function(Fs){return W(Fs,Nn)[0]}).join(","))};if(pn===lt?Ot.push(vt.multiplier.toDecimal()):vt.multiplier.equals(-1)?ii="-":vt.multiplier.equals(1)||Ot.push(vt.multiplier.toDecimal()),pn===At||pn===zn)or=vt.value;else if(pn===jt)if(V=Ml.compileDependencies(vt.fname,V),V=Ml.getArgsDeps(vt,V),Ml.reformat[vt.fname]){var $i=Ml.reformat[vt.fname](vt,V);V=$i[1],or=$i[0]}else or=Bi(vt.fname);else if(pn===an){var yr=vt.previousGroup;yr===lt||yr===At?or=vt.value:yr===jt?(or=Bi(vt.fname),V=Ml.compileDependencies(vt.fname,V),V=Ml.getArgsDeps(vt,V)):or=bn(vt.previousGroup)}else or=bn(vt.group);if(vt.group!==lt&&!vt.power.equals(1)){var no=W(we.parse(vt.power));Nn.push(no[1]),or="Math.pow"+ft(or+","+no[0])}return or&&Ot.push(ii+or),[Ot.join("*"),Nn.join("").replace(/\n+\s+/g," ")]};E&&(T=E);var ge=W(g);for(var He in V[0]){var mt=V[0][He];ge[1]=ge[1].replace(He,mt),V[1]=V[1].replace(He,mt)}return new Function(T,(V[1]||"")+ge[1]+" return "+ge[0]+";")}};An(we.CONSTANTS),An(we.functions),we.initConstants(),we.error||(we.error=Z),fe.LOG_FNS={log:we.functions.log,log10:we.functions.log10};var on={allSame:Ee,allNumeric:function(g){for(var E=0;E<g.length;E++)if(!kt(g[E]))return!1;return!0},arguments2Array:Ti,arrayAddSlices:function(g,E){E=E||20;var L,W,T=[];T.push(g[0]);for(var ge=0;ge<g.length-1;ge++){W=(g[ge+1]-(L=g[ge]))/E;for(var He=0;He<E;He++)T.push(L+=W)}return T},arrayClone:function(g){for(var E=[],T=g.length,L=0;L<T;L++)E[L]=g[L].clone();return E},arrayMax:function(g){return Math.max.apply(void 0,g)},arrayMin:Ge,arrayEqual:function(g,E){if(g.sort(),E.sort(),g.length===E.length){for(var T=0;T<g.length;T++)if(g[T]!==E[T])return!1;return!0}return!1},arrayUnique:fn,arrayGetVariables:function(g){for(var E=In(g[0],null,null,!0),T=1,L=g.length;T<L;T++)E=E.concat(In(g[T]));return fn(E).sort()},arraySum:function(g,E){for(var T=new ae(0),L=0;L<g.length;L++){var V=g[L];T=we.add(T,Xe(V)?V:we.parse(V))}return E?Number(T):T},block:oi,build:Ml.build,clearU:function(g){var E=O.indexOf(g);-1!==E&&(O[E]=void 0)},comboSort:function(g,E){for(var T=g.length,L=[],V=0;V<g.length;V++)L.push([g[V],E[V]]);L.sort(function(He,mt){return He[0]-mt[0]});var W=[],ge=[];for(V=0;V<T;V++)W.push(L[V][0]),ge.push(L[V][1]);return[W,ge]},compare:function(g,E,T){for(var W,V={},ge=0;ge<T.length;ge++)V[T[ge]]=new ae(Math.floor(5*Math.random())+1);return oi("PARSE2NUMBER",function(){W=we.parse(g,V).equals(we.parse(E,V))}),W},convertToVector:Ci,customError:ie,customType:function(g){return void 0!==g&&g.custom},decompose_fn:at,each:Bt,evaluate:zt,even:Wt,evenFraction:Pn,fillHoles:function(g,E){E=E||g.length;for(var T=0;T<E;T++)g[T]||(g[T]=new ae(0));return g},firstObject:he,format:Gt,generatePrimes:di,getCoeffs:function(g,E,T){var L=[];g.each(function(W){if(W.contains(E))var ge=W.stripVar(E),mt=we.divide(W.clone(),ge.clone()).power.toDecimal();else ge=W,mt=0;var je=L[mt];L[mt]=je?we.add(je,ge):ge},!0);for(var V=0;V<L.length;V++)L[V]||(L[V]=new ae(0));return L},getU:function(g){for(var T="u",L=0,V=In(g);-1!==O.indexOf(T)||-1!==V.indexOf(T);)T="u"+L++;for(var W=0,ge=O.length;W<=ge;W++)if(!O[W]){O[W]=T;break}return T},importFunctions:function(){var g={};for(var E in we.functions)g[E]=we.functions[E][0];return g},inBrackets:ft,isArray:be,isExpression:Vn,isFraction:hn,isInt:Le,isMatrix:mn,isNegative:Ne,isNumericSymbol:Ei,isPrime:dt,isReserved:de,isSymbol:Xe,isVariableSymbol:function(g){return g.group===At&&g.multiplier.equals(1)&&g.power.equals(1)},isVector:Qt,keys:ne,knownVariable:function(g,E){var T={};return T[g]=E,T},nroots:function(g){var E,T;if(g.group===jt&&""===g.fname?(E=ae.unwrapPARENS(we.parse(g).toLinear()),T=we.parse(g.power)):g.group===zn&&(E=we.parse(g.value),T=we.parse(g.power)),E&&T&&E.group===lt&&T.group===lt&&E.multiplier.isNegative()){for(var L=[],W=ae.toPolarFormArray(zt(g))[0],ge=we.arg(E),He=T.multiplier.den.toString(),mt=T.multiplier.num.toString(),vt=0;vt<He;vt++){var Nn=zt(we.parse(Gt("(({0})+2*pi*({1}))/({2})",ge,vt,He))).multiplier.toDecimal();L.push(zt(we.parse(Gt("(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",W,He,fe.IMAGINARY,Nn,mt))))}return Yn.fromArray(L)}if(g.isConstant(!0,!0)){var Ot=g.sign(),pn=(ge=zt(g.abs()),we.sqrt(ge));L=[pn.clone(),pn.negate()],Ot<0&&(L=L.map(function(Bi){return we.multiply(Bi,ae.imaginary())}))}else L=[we.parse(g)];return Yn.fromArray(L)},remove:Si,reserveNames:An,range:function(g,E,T){var L=[];T=T||1;for(var V=g;V<=E;V++)L.push(V*T);return L},round:We,sameSign:function(g,E){return g<0==E<0},scientificToDecimal:$e,separate:_i,stringReplace:function(g,E,T,L){return g.substr(0,E)+L+g.substr(T,g.length)},text:_n,validateName:Me,variables:In,warn:ye},Iu={groups:ni,Symbol:ae,Expression:Gr,Frac:Kt,Vector:Yn,Matrix:fi,Parser:Jo,Scientific:Wr,Fraction:fd,Math2:Cn,LaTeX:Hn,Utils:on,PARSER:we,PARENTHESIS:dr,Settings:fe,err:Z,bigInt:_t,bigDec:Rn,exceptions:Ir},vn=function(g,E,T,L){var V=!1,W=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(g);if(W)return x.setFunction(W[1],W[2].split(","),W[3]);g instanceof Gr&&(g=g.toString()),be(T)||(T=typeof T>"u"?[]:[T]),T.forEach(function(He){if("numer"!==He){var mt=we.functions[T];mt&&1===mt[1]&&(g=`${He}(${g})`)}else V=!0});var ge=oi("PARSE2NUMBER",function(){return we.parse(g,E)},V||fe.PARSE2NUMBER);return L?D[L-1]=ge:D.push(ge),new Gr(ge)};return vn.rpn=function(g){return we.tokenize(we.toRPN(g))},vn.convertToLaTeX=function(g,E){return we.toTeX(g,E)},vn.convertFromLaTeX=function(g){var E=Hn.parse(we.tokenize(g));return new Gr(we.parse(E))},vn.version=function(g){if(g)try{return Iu[g].version}catch{return"No module named "+g+" found!"}return"1.1.13"},vn.getWarnings=function(){return U},vn.setConstant=function(g,E){if(Me(g),!de(g))if("delete"===E||""===E)delete we.CONSTANTS[g];else{if(isNaN(E))throw new ce("Constant must be a number!");we.CONSTANTS[g]=E}return this},vn.getConstant=function(g){return String(we.constant[g])},vn.setFunction=Ve,vn.getCore=function(){return Iu},vn.getExpression=vn.getEquation=Gr.getExpression,vn.reserved=function(g){return g?O:O.join(", ")},vn.clear=function(g,E){if("all"===g)D=[];else if("last"===g)D.pop();else if("first"===g)D.shift();else{var T=g?g-1:D.length;!0===E?D[T]=void 0:Si(D,T)}return this},vn.flush=function(){return this.clear("all"),this},vn.expressions=function(g,E,T){for(var L=g?{}:[],V=0;V<D.length;V++){var W=E?Hn.latex(D[V],T):_n(D[V],T);g?L[V+1]=W:L.push(W)}return L},vn.register=function(g){var E=this.getCore();if(be(g))for(var T=0;T<g.length;T++)g&&this.register(g[T]);else if(g&&-1===fe.exclude.indexOf(g.name)){if(g.dependencies)for(T=0;T<g.dependencies.length;T++)if(!E[g.dependencies[T]])throw new Error(Gt("{0} requires {1} to be loaded!",g.name,g.dependencies[T]));var L=g.parent,V=g.build.call(E);L&&(E[L]||(E[g.parent]={}),("nerdamer"===L?this:E[L])[g.name]=V),g.visible&&(we.functions[g.name]=[V,g.numargs])}},vn.validateName=Me,vn.validVarName=function(g){try{return Me(g),-1===O.indexOf(g)}catch{return!1}},vn.supported=function(){return ne(we.functions)},vn.numEquations=vn.numExpressions=function(){return D.length},vn.setVar=function(g,E){return Me(g),g in we.CONSTANTS&&Z("Cannot set value for constant "+g),"delete"===E||""===E?delete I[g]:I[g]=Xe(E)?E:we.parse(E),this},vn.getVar=function(g){return I[g]},vn.clearVars=function(){return I={},this},vn.load=function(g){return g.call(this),this},vn.getVars=function(g,E){var T={};if("object"===(g=g||"text"))T=I;else for(var L in I)"latex"===g?T[L]=I[L].latex(E):"text"===g&&(T[L]=I[L].text(E));return T},vn.set=function(g,E){if("object"==typeof g)for(var T in g)vn.set(T,g[T]);-1!==["SAFE"].indexOf(g)&&Z("Cannot modify setting: "+g),"PRECISION"===g?(Rn.set({precision:E}),fe.PRECISION=E,E>21&&this.set("USE_BIG",!0)):"USE_LN"===g&&!0===E?(fe.LOG="LN",fe.LOG10="log",we.functions.log=fe.LOG_FNS.log10,we.functions.log[0]=function(V){return V.isConstant()?new ae(Math.log10(V)):we.symfunction(fe.LOG10,[V])},we.functions.LN=fe.LOG_FNS.log,delete we.functions.log10):fe[g]=E},vn.get=function(g){return fe[g]},vn.updateAPI=function(g){var E=function(L){return function(){for(var V=[].slice.call(arguments),W=0;W<V.length;W++)V[W]=we.parse(V[W]);return new Gr(oi("PARSE2NUMBER",function(){return we.callfunction(L,V)}))}};for(var T in we.functions)(!(T in vn)||g)&&(vn[T]=E(T))},vn.replaceFunction=function(g,E,T){var L=we.functions[g],V=typeof T>"u"?L[1]:T;we.functions[g]=[E.call(void 0,L[0],Iu),V]},vn.setOperator=function(g,E){we.setOperator(g,E)},vn.getOperator=function(g){return we.getOperator(g)},vn.aliasOperator=function(g,E){we.aliasOperator(g,E)},vn.tree=function(g){return we.tree(we.toRPN(we.tokenize(g)))},vn.htmlTree=function(g,E){return'<div class="tree">\n    <ul>\n        <li>\n'+this.tree(g).toHTML(3,E)+"\n        </li>\n    </ul>\n</div>"},vn.addPeeker=function(g,E){we.peekers[g]&&we.peekers[g].push(E)},vn.removePeeker=function(g,E){Si(we.peekers[g],E)},vn.parse=function(g){return String(g).split(";").map(function(E){return we.parse(E)})},vn.updateAPI(),vn}({bigInt:(xi=function(Wi){"use strict";var we=1e7,_t=7,Rn=9007199254740992,ni=At(Rn),Mi=Math.log(Rn);function St(k,ne){return typeof k>"u"?St[0]:typeof ne<"u"?10==+ne?Te(k):be(k,ne):Te(k)}function fe(k,ne){this.value=k,this.sign=ne,this.isSmall=!1}function lt(k){this.value=k,this.sign=k<0,this.isSmall=!0}function zn(k){return-Rn<k&&k<Rn}function At(k){return k<1e7?[k]:k<1e14?[k%1e7,Math.floor(k/1e7)]:[k%1e7,Math.floor(k/1e7)%1e7,Math.floor(k/1e14)]}function an(k){jt(k);var ne=k.length;if(ne<4&&$e(k,ni)<0)switch(ne){case 0:return 0;case 1:return k[0];case 2:return k[0]+k[1]*we;default:return k[0]+(k[1]+k[2]*we)*we}return k}function jt(k){for(var ne=k.length;0===k[--ne];);k.length=ne+1}function un(k){for(var ne=new Array(k),he=-1;++he<k;)ne[he]=0;return ne}function Je(k){return k>0?Math.floor(k):Math.ceil(k)}function xn(k,ne){var st,tt,he=k.length,Fe=ne.length,Ve=new Array(he),se=0,Ge=we;for(tt=0;tt<Fe;tt++)Ve[tt]=(st=k[tt]+ne[tt]+se)-(se=st>=Ge?1:0)*Ge;for(;tt<he;)st=k[tt]+se,Ve[tt++]=st-(se=st===Ge?1:0)*Ge;return se>0&&Ve.push(se),Ve}function Ri(k,ne){return k.length>=ne.length?xn(k,ne):xn(ne,k)}function dr(k,ne){var se,Ge,he=k.length,Fe=new Array(he),Ve=we;for(Ge=0;Ge<he;Ge++)se=k[Ge]-Ve+ne,ne=Math.floor(se/Ve),Fe[Ge]=se-ne*Ve,ne+=1;for(;ne>0;)Fe[Ge++]=ne%Ve,ne=Math.floor(ne/Ve);return Fe}function Wn(k,ne){var st,tt,he=k.length,Fe=ne.length,Ve=new Array(he),se=0,Ge=we;for(st=0;st<Fe;st++)(tt=k[st]-se-ne[st])<0?(tt+=Ge,se=1):se=0,Ve[st]=tt;for(st=Fe;st<he;st++){if(!((tt=k[st]-se)<0)){Ve[st++]=tt;break}Ve[st]=tt+=Ge}for(;st<he;st++)Ve[st]=k[st];return jt(Ve),Ve}function Fn(k,ne,he){var st,tt,Fe=k.length,Ve=new Array(Fe),se=-ne,Ge=we;for(st=0;st<Fe;st++)tt=k[st]+se,se=Math.floor(tt/Ge),Ve[st]=(tt%=Ge)<0?tt+Ge:tt;return"number"==typeof(Ve=an(Ve))?(he&&(Ve=-Ve),new lt(Ve)):new fe(Ve,he)}function ze(k,ne){var st,tt,Ze,it,he=k.length,Fe=ne.length,se=un(he+Fe),Ge=we;for(Ze=0;Ze<he;++Ze){it=k[Ze];for(var at=0;at<Fe;++at)st=it*ne[at]+se[Ze+at],tt=Math.floor(st/Ge),se[Ze+at]=st-tt*Ge,se[Ze+at+1]+=tt}return jt(se),se}function D(k,ne){var Ge,st,he=k.length,Fe=new Array(he),Ve=we,se=0;for(st=0;st<he;st++)Ge=k[st]*ne+se,se=Math.floor(Ge/Ve),Fe[st]=Ge-se*Ve;for(;se>0;)Fe[st++]=se%Ve,se=Math.floor(se/Ve);return Fe}function I(k,ne){for(var he=[];ne-- >0;)he.push(0);return he.concat(k)}function O(k,ne){var he=Math.max(k.length,ne.length);if(he<=30)return ze(k,ne);he=Math.ceil(he/2);var Fe=k.slice(he),Ve=k.slice(0,he),se=ne.slice(he),Ge=ne.slice(0,he),st=O(Ve,Ge),tt=O(Fe,se),Ze=O(Ri(Ve,Fe),Ri(Ge,se)),it=Ri(Ri(st,I(Wn(Wn(Ze,st),tt),he)),I(tt,2*he));return jt(it),it}function Z(k,ne,he){return new fe(k<we?D(ne,k):ze(ne,At(k)),he)}function ie(k){var Ve,se,Ge,st,ne=k.length,he=un(ne+ne),Fe=we;for(Ge=0;Ge<ne;Ge++){se=0-(st=k[Ge])*st;for(var Ze=Ge;Ze<ne;Ze++)Ve=st*k[Ze]*2+he[Ge+Ze]+se,se=Math.floor(Ve/Fe),he[Ge+Ze]=Ve-se*Fe;he[Ge+ne]=se}return jt(he),he}function ye(k,ne){var se,Ge,st,tt,he=k.length,Fe=un(he),Ve=we;for(st=0,se=he-1;se>=0;--se)st=(tt=st*Ve+k[se])-(Ge=Je(tt/ne))*ne,Fe[se]=0|Ge;return[Fe,0|st]}function Me(k,ne){var he,Ge,Fe=Te(ne),Ve=k.value,se=Fe.value;if(0===se)throw new Error("Cannot divide by zero");if(k.isSmall)return Fe.isSmall?[new lt(Je(Ve/se)),new lt(Ve%se)]:[St[0],k];if(Fe.isSmall){if(1===se)return[k,St[0]];if(-1==se)return[k.negate(),St[0]];var st=Math.abs(se);if(st<we){Ge=an((he=ye(Ve,st))[0]);var tt=he[1];return k.sign&&(tt=-tt),"number"==typeof Ge?(k.sign!==Fe.sign&&(Ge=-Ge),[new lt(Ge),new lt(tt)]):[new fe(Ge,k.sign!==Fe.sign),new lt(tt)]}se=At(st)}var Ze=$e(Ve,se);if(-1===Ze)return[St[0],k];if(0===Ze)return[St[k.sign===Fe.sign?1:-1],St[0]];he=Ve.length+se.length<=200?function de(k,ne){var it,bt,at,We,Ye,Ft,Bt,he=k.length,Fe=ne.length,Ve=we,se=un(ne.length),Ge=ne[Fe-1],st=Math.ceil(Ve/(2*Ge)),tt=D(k,st),Ze=D(ne,st);for(tt.length<=he&&tt.push(0),Ze.push(0),Ge=Ze[Fe-1],bt=he-Fe;bt>=0;bt--){for(it=Ve-1,tt[bt+Fe]!==Ge&&(it=Math.floor((tt[bt+Fe]*Ve+tt[bt+Fe-1])/Ge)),at=0,We=0,Ft=Ze.length,Ye=0;Ye<Ft;Ye++)at+=it*Ze[Ye],Bt=Math.floor(at/Ve),We+=tt[bt+Ye]-(at-Bt*Ve),at=Bt,We<0?(tt[bt+Ye]=We+Ve,We=-1):(tt[bt+Ye]=We,We=0);for(;0!==We;){for(it-=1,at=0,Ye=0;Ye<Ft;Ye++)(at+=tt[bt+Ye]-Ve+Ze[Ye])<0?(tt[bt+Ye]=at+Ve,at=0):(tt[bt+Ye]=at,at=1);We+=at}se[bt]=it}return tt=ye(tt,st)[0],[an(se),an(tt)]}(Ve,se):function Ee(k,ne){for(var st,tt,Ze,bt,he=k.length,Fe=ne.length,Ve=[],se=[],Ge=we;he;)if(se.unshift(k[--he]),jt(se),$e(se,ne)<0)Ve.push(0);else{Ze=se[(tt=se.length)-1]*Ge+se[tt-2],tt>Fe&&(Ze=(Ze+1)*Ge),st=Math.ceil(Ze/(ne[Fe-1]*Ge+ne[Fe-2]));do{if($e(bt=D(ne,st),se)<=0)break;st--}while(st);Ve.push(st),se=Wn(se,bt)}return Ve.reverse(),[an(Ve),an(se)]}(Ve,se);var it=k.sign!==Fe.sign,bt=he[1],at=k.sign;return"number"==typeof(Ge=he[0])?(it&&(Ge=-Ge),Ge=new lt(Ge)):Ge=new fe(Ge,it),"number"==typeof bt?(at&&(bt=-bt),bt=new lt(bt)):bt=new fe(bt,at),[Ge,bt]}function $e(k,ne){if(k.length!==ne.length)return k.length>ne.length?1:-1;for(var he=k.length-1;he>=0;he--)if(k[he]!==ne[he])return k[he]>ne[he]?1:-1;return 0}function dt(k){var ne=k.abs();return!ne.isUnit()&&(!!(ne.equals(2)||ne.equals(3)||ne.equals(5))||!(ne.isEven()||ne.isDivisibleBy(3)||ne.isDivisibleBy(5))&&(!!ne.lesser(49)||void 0))}function ut(k,ne){for(var se,st,tt,he=k.prev(),Fe=he,Ve=0;Fe.isEven();)Fe=Fe.divide(2),Ve++;e:for(st=0;st<ne.length;st++)if(!k.lesser(ne[st])&&(tt=xi(ne[st]).modPow(Fe,k),!tt.equals(St[1])&&!tt.equals(he))){for(se=Ve-1;0!=se;se--){if((tt=tt.square().mod(k)).isUnit())return!1;if(tt.equals(he))continue e}return!1}return!0}fe.prototype=Object.create(St.prototype),lt.prototype=Object.create(St.prototype),fe.prototype.add=function(k){var ne=Te(k);if(this.sign!==ne.sign)return this.subtract(ne.negate());var he=this.value,Fe=ne.value;return new fe(ne.isSmall?dr(he,Math.abs(Fe)):Ri(he,Fe),this.sign)},fe.prototype.plus=fe.prototype.add,lt.prototype.add=function(k){var ne=Te(k),he=this.value;if(he<0!==ne.sign)return this.subtract(ne.negate());var Fe=ne.value;if(ne.isSmall){if(zn(he+Fe))return new lt(he+Fe);Fe=At(Math.abs(Fe))}return new fe(dr(Fe,Math.abs(he)),he<0)},lt.prototype.plus=lt.prototype.add,fe.prototype.subtract=function(k){var ne=Te(k);if(this.sign!==ne.sign)return this.add(ne.negate());var he=this.value,Fe=ne.value;return ne.isSmall?Fn(he,Math.abs(Fe),this.sign):function hr(k,ne,he){var Fe;return $e(k,ne)>=0?Fe=Wn(k,ne):(Fe=Wn(ne,k),he=!he),"number"==typeof(Fe=an(Fe))?(he&&(Fe=-Fe),new lt(Fe)):new fe(Fe,he)}(he,Fe,this.sign)},fe.prototype.minus=fe.prototype.subtract,lt.prototype.subtract=function(k){var ne=Te(k),he=this.value;if(he<0!==ne.sign)return this.add(ne.negate());var Fe=ne.value;return ne.isSmall?new lt(he-Fe):Fn(Fe,Math.abs(he),he>=0)},lt.prototype.minus=lt.prototype.subtract,fe.prototype.negate=function(){return new fe(this.value,!this.sign)},lt.prototype.negate=function(){var k=this.sign,ne=new lt(-this.value);return ne.sign=!k,ne},fe.prototype.abs=function(){return new fe(this.value,!1)},lt.prototype.abs=function(){return new lt(Math.abs(this.value))},fe.prototype.multiply=function(k){var se,ne=Te(k),he=this.value,Fe=ne.value,Ve=this.sign!==ne.sign;if(ne.isSmall){if(0===Fe)return St[0];if(1===Fe)return this;if(-1===Fe)return this.negate();if((se=Math.abs(Fe))<we)return new fe(D(he,se),Ve);Fe=At(se)}return function U(k,ne){return-.012*k-.012*ne+15e-6*k*ne>0}(he.length,Fe.length)?new fe(O(he,Fe),Ve):new fe(ze(he,Fe),Ve)},fe.prototype.times=fe.prototype.multiply,lt.prototype._multiplyBySmall=function(k){return zn(k.value*this.value)?new lt(k.value*this.value):Z(Math.abs(k.value),At(Math.abs(this.value)),this.sign!==k.sign)},fe.prototype._multiplyBySmall=function(k){return 0===k.value?St[0]:1===k.value?this:-1===k.value?this.negate():Z(Math.abs(k.value),this.value,this.sign!==k.sign)},lt.prototype.times=lt.prototype.multiply=function(k){return Te(k)._multiplyBySmall(this)},fe.prototype.square=function(){return new fe(ie(this.value),!1)},lt.prototype.square=function(){var k=this.value*this.value;return zn(k)?new lt(k):new fe(ie(At(Math.abs(this.value))),!1)},lt.prototype.divmod=fe.prototype.divmod=function(k){var ne=Me(this,k);return{quotient:ne[0],remainder:ne[1]}},lt.prototype.over=lt.prototype.divide=fe.prototype.over=fe.prototype.divide=function(k){return Me(this,k)[0]},lt.prototype.remainder=lt.prototype.mod=fe.prototype.remainder=fe.prototype.mod=function(k){return Me(this,k)[1]},fe.prototype.pow=function(k){var Ve,se,Ge,ne=Te(k),he=this.value,Fe=ne.value;if(0===Fe)return St[1];if(0===he)return St[0];if(1===he)return St[1];if(-1===he)return ne.isEven()?St[1]:St[-1];if(ne.sign)return St[0];if(!ne.isSmall)throw new Error("The exponent "+ne.toString()+" is too large.");if(this.isSmall&&zn(Ve=Math.pow(he,Fe)))return new lt(Je(Ve));for(se=this,Ge=St[1];!0&Fe&&(Ge=Ge.times(se),--Fe),0!==Fe;)Fe/=2,se=se.square();return Ge},lt.prototype.pow=fe.prototype.pow,lt.prototype.modPow=fe.prototype.modPow=function(k,ne){if(k=Te(k),(ne=Te(ne)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var he=St[1],Fe=this.mod(ne);k.isPositive();){if(Fe.isZero())return St[0];k.isOdd()&&(he=he.multiply(Fe).mod(ne)),k=k.divide(2),Fe=Fe.square().mod(ne)}return he},fe.prototype.compareAbs=function(k){var ne=Te(k);return ne.isSmall?1:$e(this.value,ne.value)},lt.prototype.compareAbs=function(k){var ne=Te(k),he=Math.abs(this.value),Fe=ne.value;return ne.isSmall?he===(Fe=Math.abs(Fe))?0:he>Fe?1:-1:-1},fe.prototype.compareTo=fe.prototype.compare=function(k){if(k===1/0)return-1;if(k===-1/0)return 1;var ne=Te(k);return this.sign!==ne.sign?ne.sign?1:-1:ne.isSmall?this.sign?-1:1:$e(this.value,ne.value)*(this.sign?-1:1)},lt.prototype.compareTo=lt.prototype.compare=function(k){if(k===1/0)return-1;if(k===-1/0)return 1;var ne=Te(k),he=this.value,Fe=ne.value;return ne.isSmall?he==Fe?0:he>Fe?1:-1:he<0!==ne.sign?he<0?-1:1:he<0?1:-1},lt.prototype.eq=lt.prototype.equals=fe.prototype.eq=fe.prototype.equals=function(k){return 0===this.compare(k)},lt.prototype.neq=lt.prototype.notEquals=fe.prototype.neq=fe.prototype.notEquals=function(k){return 0!==this.compare(k)},lt.prototype.gt=lt.prototype.greater=fe.prototype.gt=fe.prototype.greater=function(k){return this.compare(k)>0},lt.prototype.lt=lt.prototype.lesser=fe.prototype.lt=fe.prototype.lesser=function(k){return this.compare(k)<0},lt.prototype.geq=lt.prototype.greaterOrEquals=fe.prototype.geq=fe.prototype.greaterOrEquals=function(k){return this.compare(k)>=0},lt.prototype.leq=lt.prototype.lesserOrEquals=fe.prototype.leq=fe.prototype.lesserOrEquals=function(k){return this.compare(k)<=0},fe.prototype.isEven=function(){return 0==(1&this.value[0])},lt.prototype.isEven=function(){return 0==(1&this.value)},fe.prototype.isOdd=function(){return 1==(1&this.value[0])},lt.prototype.isOdd=function(){return 1==(1&this.value)},fe.prototype.isPositive=function(){return!this.sign},lt.prototype.isPositive=function(){return this.value>0},fe.prototype.isNegative=function(){return this.sign},lt.prototype.isNegative=function(){return this.value<0},fe.prototype.isUnit=function(){return!1},lt.prototype.isUnit=function(){return 1===Math.abs(this.value)},fe.prototype.isZero=function(){return!1},lt.prototype.isZero=function(){return 0===this.value},lt.prototype.isDivisibleBy=fe.prototype.isDivisibleBy=function(k){var ne=Te(k),he=ne.value;return 0!==he&&(1===he||(2===he?this.isEven():this.mod(ne).equals(St[0])))},lt.prototype.isPrime=fe.prototype.isPrime=function(k){var ne=dt(this);if(ne!==Wi)return ne;var he=this.abs(),Fe=he.bitLength();if(Fe<=64)return ut(he,[2,325,9375,28178,450775,9780504,1795265022]);for(var Ve=Math.log(2)*Fe,se=Math.ceil(!0===k?2*Math.pow(Ve,2):Ve),Ge=[],st=0;st<se;st++)Ge.push(xi(st+2));return ut(he,Ge)},lt.prototype.isProbablePrime=fe.prototype.isProbablePrime=function(k){var ne=dt(this);if(ne!==Wi)return ne;for(var he=this.abs(),Fe=k===Wi?5:k,Ve=[],se=0;se<Fe;se++)Ve.push(xi.randBetween(2,he.minus(2)));return ut(he,Ve)},lt.prototype.modInv=fe.prototype.modInv=function(k){for(var se,Ge,st,ne=xi.zero,he=xi.one,Fe=Te(k),Ve=this.abs();!Ve.equals(xi.zero);)se=Fe.divide(Ve),Ge=ne,st=Fe,ne=he,Fe=Ve,he=Ge.subtract(se.multiply(he)),Ve=st.subtract(se.multiply(Ve));if(!Fe.equals(1))throw new Error(this.toString()+" and "+k.toString()+" are not co-prime");return-1===ne.compare(0)&&(ne=ne.add(k)),this.isNegative()?ne.negate():ne},fe.prototype.next=function(){var k=this.value;return this.sign?Fn(k,1,this.sign):new fe(dr(k,1),this.sign)},lt.prototype.next=function(){var k=this.value;return k+1<Rn?new lt(k+1):new fe(ni,!1)},fe.prototype.prev=function(){var k=this.value;return this.sign?new fe(dr(k,1),!0):Fn(k,1,this.sign)},lt.prototype.prev=function(){var k=this.value;return k-1>-Rn?new lt(k-1):new fe(ni,!0)};for(var kt=[1];2*kt[kt.length-1]<=we;)kt.push(2*kt[kt.length-1]);var tn=kt.length,hn=kt[tn-1];function Xe(k){return("number"==typeof k||"string"==typeof k)&&+Math.abs(k)<=we||k instanceof fe&&k.value.length<=1}function Vn(k,ne,he){ne=Te(ne);for(var Fe=k.isNegative(),Ve=ne.isNegative(),se=Fe?k.not():k,Ge=Ve?ne.not():ne,st=0,tt=0,Ze=null,it=null,bt=[];!se.isZero()||!Ge.isZero();)st=(Ze=Me(se,hn))[1].toJSNumber(),Fe&&(st=hn-1-st),tt=(it=Me(Ge,hn))[1].toJSNumber(),Ve&&(tt=hn-1-tt),se=Ze[0],Ge=it[0],bt.push(he(st,tt));for(var at=0!==he(Fe?1:0,Ve?1:0)?xi(-1):xi(0),We=bt.length-1;We>=0;We-=1)at=at.multiply(hn).add(xi(bt[We]));return at}lt.prototype.shiftLeft=fe.prototype.shiftLeft=function(k){if(!Xe(k))throw new Error(String(k)+" is too large for shifting.");if((k=+k)<0)return this.shiftRight(-k);var ne=this;if(ne.isZero())return ne;for(;k>=tn;)ne=ne.multiply(hn),k-=tn-1;return ne.multiply(kt[k])},lt.prototype.shiftRight=fe.prototype.shiftRight=function(k){var ne;if(!Xe(k))throw new Error(String(k)+" is too large for shifting.");if((k=+k)<0)return this.shiftLeft(-k);for(var he=this;k>=tn;){if(he.isZero()||he.isNegative()&&he.isUnit())return he;he=(ne=Me(he,hn))[1].isNegative()?ne[0].prev():ne[0],k-=tn-1}return(ne=Me(he,kt[k]))[1].isNegative()?ne[0].prev():ne[0]},lt.prototype.not=fe.prototype.not=function(){return this.negate().prev()},lt.prototype.and=fe.prototype.and=function(k){return Vn(this,k,function(ne,he){return ne&he})},lt.prototype.or=fe.prototype.or=function(k){return Vn(this,k,function(ne,he){return ne|he})},lt.prototype.xor=fe.prototype.xor=function(k){return Vn(this,k,function(ne,he){return ne^he})};var In=1<<30,en=(we&-we)*(we&-we)|In;function _i(k){var ne=k.value,he="number"==typeof ne?ne|In:ne[0]+ne[1]*we|en;return he&-he}function Vi(k,ne){if(ne.compareTo(k)<=0){var he=Vi(k,ne.square(ne)),Fe=he.p,Ve=he.e,se=Fe.multiply(ne);return se.compareTo(k)<=0?{p:se,e:2*Ve+1}:{p:Fe,e:2*Ve}}return{p:xi(1),e:0}}function Qt(k,ne){return k=Te(k),ne=Te(ne),k.greater(ne)?k:ne}function mn(k,ne){return k=Te(k),ne=Te(ne),k.lesser(ne)?k:ne}function Hi(k,ne){if(k=Te(k).abs(),ne=Te(ne).abs(),k.equals(ne))return k;if(k.isZero())return ne;if(ne.isZero())return k;for(var Fe,Ve,he=St[1];k.isEven()&&ne.isEven();)Fe=Math.min(_i(k),_i(ne)),k=k.divide(Fe),ne=ne.divide(Fe),he=he.multiply(Fe);for(;k.isEven();)k=k.divide(_i(k));do{for(;ne.isEven();)ne=ne.divide(_i(ne));k.greater(ne)&&(Ve=ne,ne=k,k=Ve),ne=ne.subtract(k)}while(!ne.isZero());return he.isUnit()?k:k.multiply(he)}lt.prototype.bitLength=fe.prototype.bitLength=function(){var k=this;return k.compareTo(xi(0))<0&&(k=k.negate().subtract(xi(1))),0===k.compareTo(xi(0))?xi(0):xi(Vi(k,xi(2)).e).add(xi(1))};var be=function(k,ne){for(var he=k.length,Ve=Math.abs(ne),Fe=0;Fe<he;Fe++)if("-"!==(se=k[Fe].toLowerCase())&&/[a-z0-9]/.test(se)){if(/[0-9]/.test(se)&&+se>=Ve){if("1"===se&&1===Ve)continue;throw new Error(se+" is not a valid digit in base "+ne+".")}if(se.charCodeAt(0)-87>=Ve)throw new Error(se+" is not a valid digit in base "+ne+".")}if(2<=ne&&ne<=36&&he<=Mi/Math.log(ne)){var Ge=parseInt(k,ne);if(isNaN(Ge))throw new Error(se+" is not a valid digit in base "+ne+".");return new lt(parseInt(k,ne))}ne=Te(ne);var st=[],tt="-"===k[0];for(Fe=tt?1:0;Fe<k.length;Fe++){var se,Ze=(se=k[Fe].toLowerCase()).charCodeAt(0);if(48<=Ze&&Ze<=57)st.push(Te(se));else if(97<=Ze&&Ze<=122)st.push(Te(se.charCodeAt(0)-87));else{if("<"!==se)throw new Error(se+" is not a valid character");var it=Fe;do{Fe++}while(">"!==k[Fe]);st.push(Te(k.slice(it+1,Fe)))}}return Le(st,ne,tt)};function Le(k,ne,he){var se,Fe=St[0],Ve=St[1];for(se=k.length-1;se>=0;se--)Fe=Fe.add(k[se].times(Ve)),Ve=Ve.times(ne);return he?Fe.negate():Fe}function Ne(k){return k<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(k):"<"+k+">"}function nt(k,ne){if((ne=xi(ne)).isZero()){if(k.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ne.equals(-1)){if(k.isZero())return{value:[0],isNegative:!1};if(k.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-k)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var he=Array.apply(null,Array(+k-1)).map(Array.prototype.valueOf,[0,1]);return he.unshift([1]),{value:[].concat.apply([],he),isNegative:!1}}var Fe=!1;if(k.isNegative()&&ne.isPositive()&&(Fe=!0,k=k.abs()),ne.equals(1))return k.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+k)).map(Number.prototype.valueOf,1),isNegative:Fe};for(var Ge,Ve=[],se=k;se.isNegative()||se.compareAbs(ne)>=0;){Ge=se.divmod(ne),se=Ge.quotient;var st=Ge.remainder;st.isNegative()&&(st=ne.minus(st).abs(),se=se.next()),Ve.push(st.toJSNumber())}return Ve.push(se.toJSNumber()),{value:Ve.reverse(),isNegative:Fe}}function ft(k,ne){var he=nt(k,ne);return(he.isNegative?"-":"")+he.value.map(Ne).join("")}function xt(k){if(zn(+k)){var ne=+k;if(ne===Je(ne))return new lt(ne);throw new Error("Invalid integer: "+k)}var he="-"===k[0];he&&(k=k.slice(1));var Fe=k.split(/e/i);if(Fe.length>2)throw new Error("Invalid integer: "+Fe.join("e"));if(2===Fe.length){var Ve=Fe[1];if("+"===Ve[0]&&(Ve=Ve.slice(1)),(Ve=+Ve)!==Je(Ve)||!zn(Ve))throw new Error("Invalid integer: "+Ve+" is not a valid exponent.");var se=Fe[0],Ge=se.indexOf(".");if(Ge>=0&&(Ve-=se.length-Ge-1,se=se.slice(0,Ge)+se.slice(Ge+1)),Ve<0)throw new Error("Cannot include negative exponent part for integers");k=se+=new Array(Ve+1).join("0")}if(!/^([0-9][0-9]*)$/.test(k))throw new Error("Invalid integer: "+k);for(var tt=[],Ze=k.length,it=_t,bt=Ze-it;Ze>0;)tt.push(+k.slice(bt,Ze)),(bt-=it)<0&&(bt=0),Ze-=it;return jt(tt),new fe(tt,he)}function Te(k){return"number"==typeof k?function ke(k){if(zn(k)){if(k!==Je(k))throw new Error(k+" is not an integer.");return new lt(k)}return xt(k.toString())}(k):"string"==typeof k?xt(k):k}fe.prototype.toArray=function(k){return nt(this,k)},lt.prototype.toArray=function(k){return nt(this,k)},fe.prototype.toString=function(k){if(k===Wi&&(k=10),10!==k)return ft(this,k);for(var se,ne=this.value,he=ne.length,Fe=String(ne[--he]);--he>=0;)se=String(ne[he]),Fe+="0000000".slice(se.length)+se;return(this.sign?"-":"")+Fe},lt.prototype.toString=function(k){return k===Wi&&(k=10),10!=k?ft(this,k):String(this.value)},fe.prototype.toJSON=lt.prototype.toJSON=function(){return this.toString()},fe.prototype.toJSNumber=fe.prototype.valueOf=function(){return parseInt(this.toString(),10)},lt.prototype.toJSNumber=lt.prototype.valueOf=function(){return this.value};for(var Gt=0;Gt<1e3;Gt++)St[Gt]=new lt(Gt),Gt>0&&(St[-Gt]=new lt(-Gt));return St.one=St[1],St.zero=St[0],St.minusOne=St[-1],St.max=Qt,St.min=mn,St.gcd=Hi,St.lcm=function Ei(k,ne){return k=Te(k).abs(),ne=Te(ne).abs(),k.divide(Hi(k,ne)).multiply(ne)},St.isInstance=function(k){return k instanceof fe||k instanceof lt},St.randBetween=function xe(k,ne){var he=mn(k=Te(k),ne=Te(ne)),Ve=Qt(k,ne).subtract(he).add(1);if(Ve.isSmall)return he.add(Math.floor(Math.random()*Ve));for(var Ge=[],st=!0,tt=Ve.value.length-1;tt>=0;tt--){var Ze=st?Ve.value[tt]:we,it=Je(Math.random()*Ze);Ge.unshift(it),it<Ze&&(st=!1)}return Ge=an(Ge),he.add("number"==typeof Ge?new lt(Ge):new fe(Ge,!1))},St.fromArray=function(k,ne,he){return Le(k.map(Te),Te(ne||10),he)},St}(),xl.hasOwnProperty("exports")&&(xl.exports=xi),void 0!==(te=function(){return xi}.apply(E0,[]))&&(xl.exports=te),xi),bigDec:function(xi){"use strict";var Wi,we,Rn,ni=9e15,Mi=1e9,St="0123456789abcdef",fe="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",lt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ni,maxE:ni,crypto:!1},At=!0,an="[DecimalError] ",jt=an+"Invalid argument: ",un=an+"Precision limit exceeded",Je=an+"crypto unavailable",xn=Math.floor,Ri=Math.pow,dr=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Wn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,hr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ze=1e7,D=7,I=fe.length-1,O=lt.length-1,U={name:"[object Decimal]"};function Z(B){var G,z,q,ue=B.length-1,Y="",me=B[0];if(ue>0){for(Y+=me,G=1;G<ue;G++)(z=D-(q=B[G]+"").length)&&(Y+=hn(z)),Y+=q;(z=D-(q=(me=B[G])+"").length)&&(Y+=hn(z))}else if(0===me)return"0";for(;me%10==0;)me/=10;return Y+me}function ie(B,G,z){if(B!==~~B||B<G||B>z)throw Error(jt+B)}function de(B,G,z,q){var ue,Y,me,Pe;for(Y=B[0];Y>=10;Y/=10)--G;return--G<0?(G+=D,ue=0):(ue=Math.ceil((G+1)/D),G%=D),Y=Ri(10,D-G),Pe=B[ue]%Y|0,null==q?G<3?(0==G?Pe=Pe/100|0:1==G&&(Pe=Pe/10|0),me=z<4&&99999==Pe||z>3&&49999==Pe||5e4==Pe||0==Pe):me=(z<4&&Pe+1==Y||z>3&&Pe+1==Y/2)&&(B[ue+1]/Y/100|0)==Ri(10,G-2)-1||(Pe==Y/2||0==Pe)&&0==(B[ue+1]/Y/100|0):G<4?(0==G?Pe=Pe/1e3|0:1==G?Pe=Pe/100|0:2==G&&(Pe=Pe/10|0),me=(q||z<4)&&9999==Pe||!q&&z>3&&4999==Pe):me=((q||z<4)&&Pe+1==Y||!q&&z>3&&Pe+1==Y/2)&&(B[ue+1]/Y/1e3|0)==Ri(10,G-3)-1,me}function Ee(B,G,z){for(var q,ue,Y=[0],me=0,Pe=B.length;me<Pe;){for(ue=Y.length;ue--;)Y[ue]*=G;for(Y[0]+=St.indexOf(B.charAt(me++)),q=0;q<Y.length;q++)Y[q]>z-1&&(void 0===Y[q+1]&&(Y[q+1]=0),Y[q+1]+=Y[q]/z|0,Y[q]%=z)}return Y.reverse()}U.absoluteValue=U.abs=function(){var B=new this.constructor(this);return B.s<0&&(B.s=1),Me(B)},U.ceil=function(){return Me(new this.constructor(this),this.e+1,2)},U.comparedTo=U.cmp=function(B){var G,z,q,ue,Y=this,me=Y.d,Pe=(B=new Y.constructor(B)).d,ce=Y.s,Ke=B.s;if(!me||!Pe)return ce&&Ke?ce!==Ke?ce:me===Pe?0:!me^ce<0?1:-1:NaN;if(!me[0]||!Pe[0])return me[0]?ce:Pe[0]?-Ke:0;if(ce!==Ke)return ce;if(Y.e!==B.e)return Y.e>B.e^ce<0?1:-1;for(G=0,z=(q=me.length)<(ue=Pe.length)?q:ue;G<z;++G)if(me[G]!==Pe[G])return me[G]>Pe[G]^ce<0?1:-1;return q===ue?0:q>ue^ce<0?1:-1},U.cosine=U.cos=function(){var B,G,z=this,q=z.constructor;return z.d?z.d[0]?(G=q.rounding,q.precision=(B=q.precision)+Math.max(z.e,z.sd())+D,q.rounding=1,z=function(ue,Y){var me,Pe,ce=Y.d.length;ce<32?Pe=(1/Ei(4,me=Math.ceil(ce/3))).toString():(me=16,Pe="2.3283064365386962890625e-10"),ue.precision+=me,Y=Hi(ue,1,Y.times(Pe),new ue(1));for(var Ke=me;Ke--;){var De=Y.times(Y);Y=De.times(De).minus(De).times(8).plus(1)}return ue.precision-=me,Y}(q,xe(q,z)),q.precision=B,q.rounding=G,Me(2==Rn||3==Rn?z.neg():z,B,G,!0)):new q(1):new q(NaN)},U.cubeRoot=U.cbrt=function(){var B,G,z,q,ue,Y,me,Pe,ce,Ke,De=this,rt=De.constructor;if(!De.isFinite()||De.isZero())return new rt(De);for(At=!1,(Y=De.s*Ri(De.s*De,1/3))&&Math.abs(Y)!=1/0?q=new rt(Y.toString()):(z=Z(De.d),(Y=((B=De.e)-z.length+1)%3)&&(z+=1==Y||-2==Y?"0":"00"),Y=Ri(z,1/3),B=xn((B+1)/3)-(B%3==(B<0?-1:2)),(q=new rt(z=Y==1/0?"5e"+B:(z=Y.toExponential()).slice(0,z.indexOf("e")+1)+B)).s=De.s),me=(B=rt.precision)+3;;)if(Ke=(ce=(Pe=q).times(Pe).times(Pe)).plus(De),q=ye(Ke.plus(De).times(Pe),Ke.plus(ce),me+2,1),Z(Pe.d).slice(0,me)===(z=Z(q.d)).slice(0,me)){if("9999"!=(z=z.slice(me-3,me+1))&&(ue||"4999"!=z)){+z&&(+z.slice(1)||"5"!=z.charAt(0))||(Me(q,B+1,1),G=!q.times(q).times(q).eq(De));break}if(!ue&&(Me(Pe,B+1,0),Pe.times(Pe).times(Pe).eq(De))){q=Pe;break}me+=4,ue=1}return At=!0,Me(q,B,rt.rounding,G)},U.decimalPlaces=U.dp=function(){var B,G=this.d,z=NaN;if(G){if(z=((B=G.length-1)-xn(this.e/D))*D,B=G[B])for(;B%10==0;B/=10)z--;z<0&&(z=0)}return z},U.dividedBy=U.div=function(B){return ye(this,new this.constructor(B))},U.dividedToIntegerBy=U.divToInt=function(B){var G=this.constructor;return Me(ye(this,new G(B),0,1,1),G.precision,G.rounding)},U.equals=U.eq=function(B){return 0===this.cmp(B)},U.floor=function(){return Me(new this.constructor(this),this.e+1,3)},U.greaterThan=U.gt=function(B){return this.cmp(B)>0},U.greaterThanOrEqualTo=U.gte=function(B){var G=this.cmp(B);return 1==G||0===G},U.hyperbolicCosine=U.cosh=function(){var B,G,z,q,ue,Y=this,me=Y.constructor,Pe=new me(1);if(!Y.isFinite())return new me(Y.s?1/0:NaN);if(Y.isZero())return Pe;q=me.rounding,me.precision=(z=me.precision)+Math.max(Y.e,Y.sd())+4,me.rounding=1,(ue=Y.d.length)<32?G=(1/Ei(4,B=Math.ceil(ue/3))).toString():(B=16,G="2.3283064365386962890625e-10"),Y=Hi(me,1,Y.times(G),new me(1),!0);for(var ce,Ke=B,De=new me(8);Ke--;)ce=Y.times(Y),Y=Pe.minus(ce.times(De.minus(ce.times(De))));return Me(Y,me.precision=z,me.rounding=q,!0)},U.hyperbolicSine=U.sinh=function(){var B,G,z,q,ue=this,Y=ue.constructor;if(!ue.isFinite()||ue.isZero())return new Y(ue);if(z=Y.rounding,Y.precision=(G=Y.precision)+Math.max(ue.e,ue.sd())+4,Y.rounding=1,(q=ue.d.length)<3)ue=Hi(Y,2,ue,ue,!0);else{B=(B=1.4*Math.sqrt(q))>16?16:0|B,ue=Hi(Y,2,ue=ue.times(1/Ei(5,B)),ue,!0);for(var me,Pe=new Y(5),ce=new Y(16),Ke=new Y(20);B--;)me=ue.times(ue),ue=ue.times(Pe.plus(me.times(ce.times(me).plus(Ke))))}return Y.precision=G,Y.rounding=z,Me(ue,G,z,!0)},U.hyperbolicTangent=U.tanh=function(){var B,G,z=this,q=z.constructor;return z.isFinite()?z.isZero()?new q(z):(G=q.rounding,q.precision=(B=q.precision)+7,q.rounding=1,ye(z.sinh(),z.cosh(),q.precision=B,q.rounding=G)):new q(z.s)},U.inverseCosine=U.acos=function(){var B,G=this,z=G.constructor,q=G.abs().cmp(1),ue=z.precision,Y=z.rounding;return-1!==q?0===q?G.isNeg()?kt(z,ue,Y):new z(0):new z(NaN):G.isZero()?kt(z,ue+4,Y).times(.5):(z.precision=ue+6,z.rounding=1,G=G.asin(),B=kt(z,ue+4,Y).times(.5),z.precision=ue,z.rounding=Y,B.minus(G))},U.inverseHyperbolicCosine=U.acosh=function(){var B,G,z=this,q=z.constructor;return z.lte(1)?new q(z.eq(1)?0:NaN):z.isFinite()?(G=q.rounding,q.precision=(B=q.precision)+Math.max(Math.abs(z.e),z.sd())+4,q.rounding=1,At=!1,z=z.times(z).minus(1).sqrt().plus(z),At=!0,q.precision=B,q.rounding=G,z.ln()):new q(z)},U.inverseHyperbolicSine=U.asinh=function(){var B,G,z=this,q=z.constructor;return!z.isFinite()||z.isZero()?new q(z):(G=q.rounding,q.precision=(B=q.precision)+2*Math.max(Math.abs(z.e),z.sd())+6,q.rounding=1,At=!1,z=z.times(z).plus(1).sqrt().plus(z),At=!0,q.precision=B,q.rounding=G,z.ln())},U.inverseHyperbolicTangent=U.atanh=function(){var B,G,z,q,ue=this,Y=ue.constructor;return ue.isFinite()?ue.e>=0?new Y(ue.abs().eq(1)?ue.s/0:ue.isZero()?ue:NaN):(B=Y.precision,G=Y.rounding,q=ue.sd(),Math.max(q,B)<2*-ue.e-1?Me(new Y(ue),B,G,!0):(Y.precision=z=q-ue.e,ue=ye(ue.plus(1),new Y(1).minus(ue),z+B,1),Y.precision=B+4,Y.rounding=1,ue=ue.ln(),Y.precision=B,Y.rounding=G,ue.times(.5))):new Y(NaN)},U.inverseSine=U.asin=function(){var B,G,z,q,ue=this,Y=ue.constructor;return ue.isZero()?new Y(ue):(G=ue.abs().cmp(1),z=Y.precision,q=Y.rounding,-1!==G?0===G?((B=kt(Y,z+4,q).times(.5)).s=ue.s,B):new Y(NaN):(Y.precision=z+6,Y.rounding=1,ue=ue.div(new Y(1).minus(ue.times(ue)).sqrt().plus(1)).atan(),Y.precision=z,Y.rounding=q,ue.times(2)))},U.inverseTangent=U.atan=function(){var B,G,z,q,ue,Y,me,Pe,ce,Ke=this,De=Ke.constructor,rt=De.precision,Mt=De.rounding;if(Ke.isFinite()){if(Ke.isZero())return new De(Ke);if(Ke.abs().eq(1)&&rt+4<=O)return(me=kt(De,rt+4,Mt).times(.25)).s=Ke.s,me}else{if(!Ke.s)return new De(NaN);if(rt+4<=O)return(me=kt(De,rt+4,Mt).times(.5)).s=Ke.s,me}for(De.precision=Pe=rt+10,De.rounding=1,B=z=Math.min(28,Pe/D+2|0);B;--B)Ke=Ke.div(Ke.times(Ke).plus(1).sqrt().plus(1));for(At=!1,G=Math.ceil(Pe/D),q=1,ce=Ke.times(Ke),me=new De(Ke),ue=Ke;-1!==B;)if(ue=ue.times(ce),Y=me.minus(ue.div(q+=2)),ue=ue.times(ce),void 0!==(me=Y.plus(ue.div(q+=2))).d[G])for(B=G;me.d[B]===Y.d[B]&&B--;);return z&&(me=me.times(2<<z-1)),At=!0,Me(me,De.precision=rt,De.rounding=Mt,!0)},U.isFinite=function(){return!!this.d},U.isInteger=U.isInt=function(){return!!this.d&&xn(this.e/D)>this.d.length-2},U.isNaN=function(){return!this.s},U.isNegative=U.isNeg=function(){return this.s<0},U.isPositive=U.isPos=function(){return this.s>0},U.isZero=function(){return!!this.d&&0===this.d[0]},U.lessThan=U.lt=function(B){return this.cmp(B)<0},U.lessThanOrEqualTo=U.lte=function(B){return this.cmp(B)<1},U.logarithm=U.log=function(B){var G,z,q,ue,Y,me,Pe,ce,Ke=this.constructor,De=Ke.precision,rt=Ke.rounding;if(null==B)B=new Ke(10),G=!0;else{if(z=(B=new Ke(B)).d,B.s<0||!z||!z[0]||B.eq(1))return new Ke(NaN);G=B.eq(10)}if(z=this.d,this.s<0||!z||!z[0]||this.eq(1))return new Ke(z&&!z[0]?-1/0:1!=this.s?NaN:z?0:1/0);if(G)if(z.length>1)Y=!0;else{for(ue=z[0];ue%10==0;)ue/=10;Y=1!==ue}if(At=!1,me=_i(this,Pe=De+5),q=G?ut(Ke,Pe+10):_i(B,Pe),de((ce=ye(me,q,Pe,1)).d,ue=De,rt))do{if(me=_i(this,Pe+=10),q=G?ut(Ke,Pe+10):_i(B,Pe),ce=ye(me,q,Pe,1),!Y){+Z(ce.d).slice(ue+1,ue+15)+1==1e14&&(ce=Me(ce,De+1,0));break}}while(de(ce.d,ue+=10,rt));return At=!0,Me(ce,De,rt)},U.minus=U.sub=function(B){var G,z,q,ue,Y,me,Pe,ce,Ke,De,rt,Mt,Ht=this,ln=Ht.constructor;if(B=new ln(B),!Ht.d||!B.d)return Ht.s&&B.s?Ht.d?B.s=-B.s:B=new ln(B.d||Ht.s!==B.s?Ht:NaN):B=new ln(NaN),B;if(Ht.s!=B.s)return B.s=-B.s,Ht.plus(B);if(Mt=B.d,Pe=ln.precision,ce=ln.rounding,!(Ke=Ht.d)[0]||!Mt[0]){if(Mt[0])B.s=-B.s;else{if(!Ke[0])return new ln(3===ce?-0:0);B=new ln(Ht)}return At?Me(B,Pe,ce):B}if(z=xn(B.e/D),De=xn(Ht.e/D),Ke=Ke.slice(),Y=De-z){for((rt=Y<0)?(G=Ke,Y=-Y,me=Mt.length):(G=Mt,z=De,me=Ke.length),Y>(q=Math.max(Math.ceil(Pe/D),me)+2)&&(Y=q,G.length=1),G.reverse(),q=Y;q--;)G.push(0);G.reverse()}else{for((rt=(q=Ke.length)<(me=Mt.length))&&(me=q),q=0;q<me;q++)if(Ke[q]!=Mt[q]){rt=Ke[q]<Mt[q];break}Y=0}for(rt&&(G=Ke,Ke=Mt,Mt=G,B.s=-B.s),q=Mt.length-(me=Ke.length);q>0;--q)Ke[me++]=0;for(q=Mt.length;q>Y;){if(Ke[--q]<Mt[q]){for(ue=q;ue&&0===Ke[--ue];)Ke[ue]=ze-1;--Ke[ue],Ke[q]+=ze}Ke[q]-=Mt[q]}for(;0===Ke[--me];)Ke.pop();for(;0===Ke[0];Ke.shift())--z;return Ke[0]?(B.d=Ke,B.e=dt(Ke,z),At?Me(B,Pe,ce):B):new ln(3===ce?-0:0)},U.modulo=U.mod=function(B){var G,z=this,q=z.constructor;return B=new q(B),!z.d||!B.s||B.d&&!B.d[0]?new q(NaN):!B.d||z.d&&!z.d[0]?Me(new q(z),q.precision,q.rounding):(At=!1,9==q.modulo?(G=ye(z,B.abs(),0,3,1)).s*=B.s:G=ye(z,B,0,q.modulo,1),G=G.times(B),At=!0,z.minus(G))},U.naturalExponential=U.exp=function(){return en(this)},U.naturalLogarithm=U.ln=function(){return _i(this)},U.negated=U.neg=function(){var B=new this.constructor(this);return B.s=-B.s,Me(B)},U.plus=U.add=function(B){var G,z,q,ue,Y,me,Pe,ce,Ke,De,rt=this,Mt=rt.constructor;if(B=new Mt(B),!rt.d||!B.d)return rt.s&&B.s?rt.d||(B=new Mt(B.d||rt.s===B.s?rt:NaN)):B=new Mt(NaN),B;if(rt.s!=B.s)return B.s=-B.s,rt.minus(B);if(De=B.d,Pe=Mt.precision,ce=Mt.rounding,!(Ke=rt.d)[0]||!De[0])return De[0]||(B=new Mt(rt)),At?Me(B,Pe,ce):B;if(Y=xn(rt.e/D),q=xn(B.e/D),Ke=Ke.slice(),ue=Y-q){for(ue<0?(z=Ke,ue=-ue,me=De.length):(z=De,q=Y,me=Ke.length),ue>(me=(Y=Math.ceil(Pe/D))>me?Y+1:me+1)&&(ue=me,z.length=1),z.reverse();ue--;)z.push(0);z.reverse()}for((me=Ke.length)-(ue=De.length)<0&&(ue=me,z=De,De=Ke,Ke=z),G=0;ue;)G=(Ke[--ue]=Ke[ue]+De[ue]+G)/ze|0,Ke[ue]%=ze;for(G&&(Ke.unshift(G),++q),me=Ke.length;0==Ke[--me];)Ke.pop();return B.d=Ke,B.e=dt(Ke,q),At?Me(B,Pe,ce):B},U.precision=U.sd=function(B){var G,z=this;if(void 0!==B&&B!==!!B&&1!==B&&0!==B)throw Error(jt+B);return z.d?(G=tn(z.d),B&&z.e+1>G&&(G=z.e+1)):G=NaN,G},U.round=function(){var B=this,G=B.constructor;return Me(new G(B),B.e+1,G.rounding)},U.sine=U.sin=function(){var B,G,z=this,q=z.constructor;return z.isFinite()?z.isZero()?new q(z):(G=q.rounding,q.precision=(B=q.precision)+Math.max(z.e,z.sd())+D,q.rounding=1,z=function(ue,Y){var me,Pe=Y.d.length;if(Pe<3)return Hi(ue,2,Y,Y);me=(me=1.4*Math.sqrt(Pe))>16?16:0|me,Y=Hi(ue,2,Y=Y.times(1/Ei(5,me)),Y);for(var ce,Ke=new ue(5),De=new ue(16),rt=new ue(20);me--;)ce=Y.times(Y),Y=Y.times(Ke.plus(ce.times(De.times(ce).minus(rt))));return Y}(q,xe(q,z)),q.precision=B,q.rounding=G,Me(Rn>2?z.neg():z,B,G,!0)):new q(NaN)},U.squareRoot=U.sqrt=function(){var B,G,z,q,ue,Y,me=this,Pe=me.d,ce=me.e,Ke=me.s,De=me.constructor;if(1!==Ke||!Pe||!Pe[0])return new De(!Ke||Ke<0&&(!Pe||Pe[0])?NaN:Pe?me:1/0);for(At=!1,0==(Ke=Math.sqrt(+me))||Ke==1/0?(((G=Z(Pe)).length+ce)%2==0&&(G+="0"),Ke=Math.sqrt(G),ce=xn((ce+1)/2)-(ce<0||ce%2),q=new De(G=Ke==1/0?"5e"+ce:(G=Ke.toExponential()).slice(0,G.indexOf("e")+1)+ce)):q=new De(Ke.toString()),z=(ce=De.precision)+3;;)if(q=(Y=q).plus(ye(me,Y,z+2,1)).times(.5),Z(Y.d).slice(0,z)===(G=Z(q.d)).slice(0,z)){if("9999"!=(G=G.slice(z-3,z+1))&&(ue||"4999"!=G)){+G&&(+G.slice(1)||"5"!=G.charAt(0))||(Me(q,ce+1,1),B=!q.times(q).eq(me));break}if(!ue&&(Me(Y,ce+1,0),Y.times(Y).eq(me))){q=Y;break}z+=4,ue=1}return At=!0,Me(q,ce,De.rounding,B)},U.tangent=U.tan=function(){var B,G,z=this,q=z.constructor;return z.isFinite()?z.isZero()?new q(z):(G=q.rounding,q.precision=(B=q.precision)+10,q.rounding=1,(z=z.sin()).s=1,z=ye(z,new q(1).minus(z.times(z)).sqrt(),B+10,0),q.precision=B,q.rounding=G,Me(2==Rn||4==Rn?z.neg():z,B,G,!0)):new q(NaN)},U.times=U.mul=function(B){var G,z,q,ue,Y,me,Pe,ce,Ke,rt=this.constructor,Mt=this.d,Ht=(B=new rt(B)).d;if(B.s*=this.s,!(Mt&&Mt[0]&&Ht&&Ht[0]))return new rt(!B.s||Mt&&!Mt[0]&&!Ht||Ht&&!Ht[0]&&!Mt?NaN:Mt&&Ht?0*B.s:B.s/0);for(z=xn(this.e/D)+xn(B.e/D),(ce=Mt.length)<(Ke=Ht.length)&&(Y=Mt,Mt=Ht,Ht=Y,me=ce,ce=Ke,Ke=me),Y=[],q=me=ce+Ke;q--;)Y.push(0);for(q=Ke;--q>=0;){for(G=0,ue=ce+q;ue>q;)Pe=Y[ue]+Ht[q]*Mt[ue-q-1]+G,Y[ue--]=Pe%ze|0,G=Pe/ze|0;Y[ue]=(Y[ue]+G)%ze|0}for(;!Y[--me];)Y.pop();return G?++z:Y.shift(),B.d=Y,B.e=dt(Y,z),At?Me(B,rt.precision,rt.rounding):B},U.toBinary=function(B,G){return be(this,2,B,G)},U.toDecimalPlaces=U.toDP=function(B,G){var z=this,q=z.constructor;return z=new q(z),void 0===B?z:(ie(B,0,Mi),void 0===G?G=q.rounding:ie(G,0,8),Me(z,B+z.e+1,G))},U.toExponential=function(B,G){var z,q=this,ue=q.constructor;return void 0===B?z=$e(q,!0):(ie(B,0,Mi),void 0===G?G=ue.rounding:ie(G,0,8),z=$e(q=Me(new ue(q),B+1,G),!0,B+1)),q.isNeg()&&!q.isZero()?"-"+z:z},U.toFixed=function(B,G){var z,q,ue=this,Y=ue.constructor;return void 0===B?z=$e(ue):(ie(B,0,Mi),void 0===G?G=Y.rounding:ie(G,0,8),z=$e(q=Me(new Y(ue),B+ue.e+1,G),!1,B+q.e+1)),ue.isNeg()&&!ue.isZero()?"-"+z:z},U.toFraction=function(B){var G,z,q,ue,Y,me,Pe,ce,Ke,De,rt,Mt,Ht=this,ln=Ht.d,wi=Ht.constructor;if(!ln)return new wi(Ht);if(Ke=z=new wi(1),q=ce=new wi(0),me=(Y=(G=new wi(q)).e=tn(ln)-Ht.e-1)%D,G.d[0]=Ri(10,me<0?D+me:me),null==B)B=Y>0?G:Ke;else{if(!(Pe=new wi(B)).isInt()||Pe.lt(Ke))throw Error(jt+Pe);B=Pe.gt(G)?Y>0?G:Ke:Pe}for(At=!1,Pe=new wi(Z(ln)),De=wi.precision,wi.precision=Y=ln.length*D*2;rt=ye(Pe,G,0,1,1),1!=(ue=z.plus(rt.times(q))).cmp(B);)z=q,q=ue,Ke=ce.plus(rt.times(ue=Ke)),ce=ue,G=Pe.minus(rt.times(ue=G)),Pe=ue;return ue=ye(B.minus(z),q,0,1,1),ce=ce.plus(ue.times(Ke)),z=z.plus(ue.times(q)),ce.s=Ke.s=Ht.s,Mt=ye(Ke,q,Y,1).minus(Ht).abs().cmp(ye(ce,z,Y,1).minus(Ht).abs())<1?[Ke,q]:[ce,z],wi.precision=De,At=!0,Mt},U.toHexadecimal=U.toHex=function(B,G){return be(this,16,B,G)},U.toNearest=function(B,G){var z=this,q=z.constructor;if(z=new q(z),null==B){if(!z.d)return z;B=new q(1),G=q.rounding}else{if(B=new q(B),void 0===G?G=q.rounding:ie(G,0,8),!z.d)return B.s?z:B;if(!B.d)return B.s&&(B.s=z.s),B}return B.d[0]?(At=!1,z=ye(z,B,0,G,1).times(B),At=!0,Me(z)):(B.s=z.s,z=B),z},U.toNumber=function(){return+this},U.toOctal=function(B,G){return be(this,8,B,G)},U.toPower=U.pow=function(B){var G,z,q,ue,Y,me,Pe=this,ce=Pe.constructor,Ke=+(B=new ce(B));if(!(Pe.d&&B.d&&Pe.d[0]&&B.d[0]))return new ce(Ri(+Pe,Ke));if((Pe=new ce(Pe)).eq(1))return Pe;if(q=ce.precision,Y=ce.rounding,B.eq(1))return Me(Pe,q,Y);if((G=xn(B.e/D))>=B.d.length-1&&(z=Ke<0?-Ke:Ke)<=9007199254740991)return ue=Xe(ce,Pe,z,q),B.s<0?new ce(1).div(ue):Me(ue,q,Y);if((me=Pe.s)<0){if(G<B.d.length-1)return new ce(NaN);if(!(1&B.d[G])&&(me=1),0==Pe.e&&1==Pe.d[0]&&1==Pe.d.length)return Pe.s=me,Pe}return(G=0!=(z=Ri(+Pe,Ke))&&isFinite(z)?new ce(z+"").e:xn(Ke*(Math.log("0."+Z(Pe.d))/Math.LN10+Pe.e+1)))>ce.maxE+1||G<ce.minE-1?new ce(G>0?me/0:0):(At=!1,ce.rounding=Pe.s=1,z=Math.min(12,(G+"").length),(ue=en(B.times(_i(Pe,q+z)),q)).d&&de((ue=Me(ue,q+5,1)).d,q,Y)&&+Z((ue=Me(en(B.times(_i(Pe,(G=q+10)+z)),G),G+5,1)).d).slice(q+1,q+15)+1==1e14&&(ue=Me(ue,q+1,0)),ue.s=me,At=!0,ce.rounding=Y,Me(ue,q,Y))},U.toPrecision=function(B,G){var z,q=this,ue=q.constructor;return void 0===B?z=$e(q,q.e<=ue.toExpNeg||q.e>=ue.toExpPos):(ie(B,1,Mi),void 0===G?G=ue.rounding:ie(G,0,8),z=$e(q=Me(new ue(q),B,G),B<=q.e||q.e<=ue.toExpNeg,B)),q.isNeg()&&!q.isZero()?"-"+z:z},U.toSignificantDigits=U.toSD=function(B,G){var z=this.constructor;return void 0===B?(B=z.precision,G=z.rounding):(ie(B,1,Mi),void 0===G?G=z.rounding:ie(G,0,8)),Me(new z(this),B,G)},U.toString=function(){var B=this,G=B.constructor,z=$e(B,B.e<=G.toExpNeg||B.e>=G.toExpPos);return B.isNeg()&&!B.isZero()?"-"+z:z},U.truncated=U.trunc=function(){return Me(new this.constructor(this),this.e+1,1)},U.valueOf=U.toJSON=function(){var B=this,G=B.constructor,z=$e(B,B.e<=G.toExpNeg||B.e>=G.toExpPos);return B.isNeg()?"-"+z:z};var ye=function(){function B(q,ue,Y){var me,Pe=0,ce=q.length;for(q=q.slice();ce--;)q[ce]=(me=q[ce]*ue+Pe)%Y|0,Pe=me/Y|0;return Pe&&q.unshift(Pe),q}function G(q,ue,Y,me){var Pe,ce;if(Y!=me)ce=Y>me?1:-1;else for(Pe=ce=0;Pe<Y;Pe++)if(q[Pe]!=ue[Pe]){ce=q[Pe]>ue[Pe]?1:-1;break}return ce}function z(q,ue,Y,me){for(var Pe=0;Y--;)q[Y]-=Pe,q[Y]=(Pe=q[Y]<ue[Y]?1:0)*me+q[Y]-ue[Y];for(;!q[0]&&q.length>1;)q.shift()}return function(q,ue,Y,me,Pe,ce){var Ke,De,rt,Mt,Ht,ln,wi,Yi,Vr,jr,Ir,Cn,_n,to,Gr,Wr,Kt,ae,Jo,fd,Hn=q.constructor,Yn=q.s==ue.s?1:-1,fi=q.d,rr=ue.d;if(!(fi&&fi[0]&&rr&&rr[0]))return new Hn(q.s&&ue.s&&(fi?!rr||fi[0]!=rr[0]:rr)?fi&&0==fi[0]||!rr?0*Yn:Yn/0:NaN);for(ce?(Ht=1,De=q.e-ue.e):(ce=ze,De=xn(q.e/(Ht=D))-xn(ue.e/Ht)),Jo=rr.length,Kt=fi.length,jr=(Vr=new Hn(Yn)).d=[],rt=0;rr[rt]==(fi[rt]||0);rt++);if(rr[rt]>(fi[rt]||0)&&De--,null==Y?(to=Y=Hn.precision,me=Hn.rounding):to=Pe?Y+(q.e-ue.e)+1:Y,to<0)jr.push(1),ln=!0;else{if(to=to/Ht+2|0,rt=0,1==Jo){for(Mt=0,rr=rr[0],to++;(rt<Kt||Mt)&&to--;rt++)jr[rt]=(Gr=Mt*ce+(fi[rt]||0))/rr|0,Mt=Gr%rr|0;ln=Mt||rt<Kt}else{for((Mt=ce/(rr[0]+1)|0)>1&&(rr=B(rr,Mt,ce),fi=B(fi,Mt,ce),Jo=rr.length,Kt=fi.length),Wr=Jo,Cn=(Ir=fi.slice(0,Jo)).length;Cn<Jo;)Ir[Cn++]=0;(fd=rr.slice()).unshift(0),ae=rr[0],rr[1]>=ce/2&&++ae;do{Mt=0,(Ke=G(rr,Ir,Jo,Cn))<0?(_n=Ir[0],Jo!=Cn&&(_n=_n*ce+(Ir[1]||0)),(Mt=_n/ae|0)>1?(Mt>=ce&&(Mt=ce-1),1==(Ke=G(wi=B(rr,Mt,ce),Ir,Yi=wi.length,Cn=Ir.length))&&(Mt--,z(wi,Jo<Yi?fd:rr,Yi,ce))):(0==Mt&&(Ke=Mt=1),wi=rr.slice()),(Yi=wi.length)<Cn&&wi.unshift(0),z(Ir,wi,Cn,ce),-1==Ke&&(Ke=G(rr,Ir,Jo,Cn=Ir.length))<1&&(Mt++,z(Ir,Jo<Cn?fd:rr,Cn,ce)),Cn=Ir.length):0===Ke&&(Mt++,Ir=[0]),jr[rt++]=Mt,Ke&&Ir[0]?Ir[Cn++]=fi[Wr]||0:(Ir=[fi[Wr]],Cn=1)}while((Wr++<Kt||void 0!==Ir[0])&&to--);ln=void 0!==Ir[0]}jr[0]||jr.shift()}if(1==Ht)Vr.e=De,we=ln;else{for(rt=1,Mt=jr[0];Mt>=10;Mt/=10)rt++;Vr.e=rt+De*Ht-1,Me(Vr,Pe?Y+Vr.e+1:Y,me,ln)}return Vr}}();function Me(B,G,z,q){var ue,Y,me,Pe,ce,Ke,De,rt,Mt,Ht=B.constructor;e:if(null!=G){if(!(rt=B.d))return B;for(ue=1,Pe=rt[0];Pe>=10;Pe/=10)ue++;if((Y=G-ue)<0)Y+=D,ce=(De=rt[Mt=0])/Ri(10,ue-(me=G)-1)%10|0;else if((Mt=Math.ceil((Y+1)/D))>=(Pe=rt.length)){if(!q)break e;for(;Pe++<=Mt;)rt.push(0);De=ce=0,ue=1,me=(Y%=D)-D+1}else{for(De=Pe=rt[Mt],ue=1;Pe>=10;Pe/=10)ue++;ce=(me=(Y%=D)-D+ue)<0?0:De/Ri(10,ue-me-1)%10|0}if(q=q||G<0||void 0!==rt[Mt+1]||(me<0?De:De%Ri(10,ue-me-1)),Ke=z<4?(ce||q)&&(0==z||z==(B.s<0?3:2)):ce>5||5==ce&&(4==z||q||6==z&&(Y>0?me>0?De/Ri(10,ue-me):0:rt[Mt-1])%10&1||z==(B.s<0?8:7)),G<1||!rt[0])return rt.length=0,Ke?(rt[0]=Ri(10,(D-(G-=B.e+1)%D)%D),B.e=-G||0):rt[0]=B.e=0,B;if(0==Y?(rt.length=Mt,Pe=1,Mt--):(rt.length=Mt+1,Pe=Ri(10,D-Y),rt[Mt]=me>0?(De/Ri(10,ue-me)%Ri(10,me)|0)*Pe:0),Ke)for(;;){if(0==Mt){for(Y=1,me=rt[0];me>=10;me/=10)Y++;for(me=rt[0]+=Pe,Pe=1;me>=10;me/=10)Pe++;Y!=Pe&&(B.e++,rt[0]==ze&&(rt[0]=1));break}if(rt[Mt]+=Pe,rt[Mt]!=ze)break;rt[Mt--]=0,Pe=1}for(Y=rt.length;0===rt[--Y];)rt.pop()}return At&&(B.e>Ht.maxE?(B.d=null,B.e=NaN):B.e<Ht.minE&&(B.e=0,B.d=[0])),B}function $e(B,G,z){if(!B.isFinite())return Vi(B);var q,ue=B.e,Y=Z(B.d),me=Y.length;return G?(z&&(q=z-me)>0?Y=Y.charAt(0)+"."+Y.slice(1)+hn(q):me>1&&(Y=Y.charAt(0)+"."+Y.slice(1)),Y=Y+(B.e<0?"e":"e+")+B.e):ue<0?(Y="0."+hn(-ue-1)+Y,z&&(q=z-me)>0&&(Y+=hn(q))):ue>=me?(Y+=hn(ue+1-me),z&&(q=z-ue-1)>0&&(Y=Y+"."+hn(q))):((q=ue+1)<me&&(Y=Y.slice(0,q)+"."+Y.slice(q)),z&&(q=z-me)>0&&(ue+1===me&&(Y+="."),Y+=hn(q))),Y}function dt(B,G){var z=B[0];for(G*=D;z>=10;z/=10)G++;return G}function ut(B,G,z){if(G>I)throw At=!0,z&&(B.precision=z),Error(un);return Me(new B(fe),G,1,!0)}function kt(B,G,z){if(G>O)throw Error(un);return Me(new B(lt),G,z,!0)}function tn(B){var G=B.length-1,z=G*D+1;if(G=B[G]){for(;G%10==0;G/=10)z--;for(G=B[0];G>=10;G/=10)z++}return z}function hn(B){for(var G="";B--;)G+="0";return G}function Xe(B,G,z,q){var ue,Y=new B(1),me=Math.ceil(q/D+4);for(At=!1;;){if(z%2&&Le((Y=Y.times(G)).d,me)&&(ue=!0),0===(z=xn(z/2))){z=Y.d.length-1,ue&&0===Y.d[z]&&++Y.d[z];break}Le((G=G.times(G)).d,me)}return At=!0,Y}function Vn(B){return 1&B.d[B.d.length-1]}function In(B,G,z){for(var q,ue=new B(G[0]),Y=0;++Y<G.length;){if(!(q=new B(G[Y])).s){ue=q;break}ue[z](q)&&(ue=q)}return ue}function en(B,G){var z,q,ue,Y,me,Pe,ce,Ke=0,De=0,rt=0,Mt=B.constructor,Ht=Mt.rounding,ln=Mt.precision;if(!B.d||!B.d[0]||B.e>17)return new Mt(B.d?B.d[0]?B.s<0?0:1/0:1:B.s?B.s<0?0:B:NaN);for(null==G?(At=!1,ce=ln):ce=G,Pe=new Mt(.03125);B.e>-2;)B=B.times(Pe),rt+=5;for(ce+=q=Math.log(Ri(2,rt))/Math.LN10*2+5|0,z=Y=me=new Mt(1),Mt.precision=ce;;){if(Y=Me(Y.times(B),ce,1),z=z.times(++De),Z((Pe=me.plus(ye(Y,z,ce,1))).d).slice(0,ce)===Z(me.d).slice(0,ce)){for(ue=rt;ue--;)me=Me(me.times(me),ce,1);if(null!=G)return Mt.precision=ln,me;if(!(Ke<3&&de(me.d,ce-q,Ht,Ke)))return Me(me,Mt.precision=ln,Ht,At=!0);Mt.precision=ce+=10,z=Y=Pe=new Mt(1),De=0,Ke++}me=Pe}}function _i(B,G){var z,q,ue,Y,me,Pe,ce,Ke,De,rt,Mt,Ht=1,ln=B,wi=ln.d,Yi=ln.constructor,Vr=Yi.rounding,jr=Yi.precision;if(ln.s<0||!wi||!wi[0]||!ln.e&&1==wi[0]&&1==wi.length)return new Yi(wi&&!wi[0]?-1/0:1!=ln.s?NaN:wi?0:ln);if(null==G?(At=!1,De=jr):De=G,Yi.precision=De+=10,q=(z=Z(wi)).charAt(0),!(Math.abs(Y=ln.e)<15e14))return Ke=ut(Yi,De+2,jr).times(Y+""),ln=_i(new Yi(q+"."+z.slice(1)),De-10).plus(Ke),Yi.precision=jr,null==G?Me(ln,jr,Vr,At=!0):ln;for(;q<7&&1!=q||1==q&&z.charAt(1)>3;)q=(z=Z((ln=ln.times(B)).d)).charAt(0),Ht++;for(Y=ln.e,q>1?(ln=new Yi("0."+z),Y++):ln=new Yi(q+"."+z.slice(1)),rt=ln,ce=me=ln=ye(ln.minus(1),ln.plus(1),De,1),Mt=Me(ln.times(ln),De,1),ue=3;;){if(me=Me(me.times(Mt),De,1),Z((Ke=ce.plus(ye(me,new Yi(ue),De,1))).d).slice(0,De)===Z(ce.d).slice(0,De)){if(ce=ce.times(2),0!==Y&&(ce=ce.plus(ut(Yi,De+2,jr).times(Y+""))),ce=ye(ce,new Yi(Ht),De,1),null!=G)return Yi.precision=jr,ce;if(!de(ce.d,De-10,Vr,Pe))return Me(ce,Yi.precision=jr,Vr,At=!0);Yi.precision=De+=10,Ke=me=ln=ye(rt.minus(1),rt.plus(1),De,1),Mt=Me(ln.times(ln),De,1),ue=Pe=1}ce=Ke,ue+=2}}function Vi(B){return String(B.s*B.s/0)}function Qt(B,G){var z,q,ue;for((z=G.indexOf("."))>-1&&(G=G.replace(".","")),(q=G.search(/e/i))>0?(z<0&&(z=q),z+=+G.slice(q+1),G=G.substring(0,q)):z<0&&(z=G.length),q=0;48===G.charCodeAt(q);q++);for(ue=G.length;48===G.charCodeAt(ue-1);--ue);if(G=G.slice(q,ue)){if(ue-=q,B.e=z=z-q-1,B.d=[],q=(z+1)%D,z<0&&(q+=D),q<ue){for(q&&B.d.push(+G.slice(0,q)),ue-=D;q<ue;)B.d.push(+G.slice(q,q+=D));G=G.slice(q),q=D-G.length}else q-=ue;for(;q--;)G+="0";B.d.push(+G),At&&(B.e>B.constructor.maxE?(B.d=null,B.e=NaN):B.e<B.constructor.minE&&(B.e=0,B.d=[0]))}else B.e=0,B.d=[0];return B}function Hi(B,G,z,q,ue){var Y,me,Pe,ce,Ke=B.precision,De=Math.ceil(Ke/D);for(At=!1,ce=z.times(z),Pe=new B(q);;){if(me=ye(Pe.times(ce),new B(G++*G++),Ke,1),Pe=ue?q.plus(me):q.minus(me),q=ye(me.times(ce),new B(G++*G++),Ke,1),void 0!==(me=Pe.plus(q)).d[De]){for(Y=De;me.d[Y]===Pe.d[Y]&&Y--;);if(-1==Y)break}Y=Pe,Pe=q,q=me,me=Y}return At=!0,me.d.length=De+1,me}function Ei(B,G){for(var z=B;--G;)z*=B;return z}function xe(B,G){var z,q=G.s<0,ue=kt(B,B.precision,1),Y=ue.times(.5);if((G=G.abs()).lte(Y))return Rn=q?4:1,G;if((z=G.divToInt(ue)).isZero())Rn=q?3:2;else{if((G=G.minus(z.times(ue))).lte(Y))return Rn=Vn(z)?q?2:3:q?4:1,G;Rn=Vn(z)?q?1:4:q?3:2}return G.minus(ue).abs()}function be(B,G,z,q){var ue,Y,me,Pe,ce,Ke,De,rt,Mt,Ht=B.constructor,ln=void 0!==z;if(ln?(ie(z,1,Mi),void 0===q?q=Ht.rounding:ie(q,0,8)):(z=Ht.precision,q=Ht.rounding),B.isFinite()){for(ln?(ue=2,16==G?z=4*z-3:8==G&&(z=3*z-2)):ue=G,(me=(De=$e(B)).indexOf("."))>=0&&(De=De.replace(".",""),(Mt=new Ht(1)).e=De.length-me,Mt.d=Ee($e(Mt),10,ue),Mt.e=Mt.d.length),Y=ce=(rt=Ee(De,10,ue)).length;0==rt[--ce];)rt.pop();if(rt[0]){if(me<0?Y--:((B=new Ht(B)).d=rt,B.e=Y,rt=(B=ye(B,Mt,z,q,0,ue)).d,Y=B.e,Ke=we),me=rt[z],Pe=ue/2,Ke=Ke||void 0!==rt[z+1],Ke=q<4?(void 0!==me||Ke)&&(0===q||q===(B.s<0?3:2)):me>Pe||me===Pe&&(4===q||Ke||6===q&&1&rt[z-1]||q===(B.s<0?8:7)),rt.length=z,Ke)for(;++rt[--z]>ue-1;)rt[z]=0,z||(++Y,rt.unshift(1));for(ce=rt.length;!rt[ce-1];--ce);for(me=0,De="";me<ce;me++)De+=St.charAt(rt[me]);if(ln){if(ce>1)if(16==G||8==G){for(me=16==G?4:3,--ce;ce%me;ce++)De+="0";for(ce=(rt=Ee(De,ue,G)).length;!rt[ce-1];--ce);for(me=1,De="1.";me<ce;me++)De+=St.charAt(rt[me])}else De=De.charAt(0)+"."+De.slice(1);De=De+(Y<0?"p":"p+")+Y}else if(Y<0){for(;++Y;)De="0"+De;De="0."+De}else if(++Y>ce)for(Y-=ce;Y--;)De+="0";else Y<ce&&(De=De.slice(0,Y)+"."+De.slice(Y))}else De=ln?"0p+0":"0";De=(16==G?"0x":2==G?"0b":8==G?"0o":"")+De}else De=Vi(B);return B.s<0?"-"+De:De}function Le(B,G){if(B.length>G)return B.length=G,!0}function Ne(B){return new this(B).abs()}function nt(B){return new this(B).acos()}function ft(B){return new this(B).acosh()}function xt(B,G){return new this(B).plus(G)}function ke(B){return new this(B).asin()}function Te(B){return new this(B).asinh()}function Gt(B){return new this(B).atan()}function k(B){return new this(B).atanh()}function ne(B,G){B=new this(B),G=new this(G);var z,q=this.precision,ue=this.rounding,Y=q+4;return B.s&&G.s?B.d||G.d?!G.d||B.isZero()?(z=G.s<0?kt(this,q,ue):new this(0)).s=B.s:!B.d||G.isZero()?(z=kt(this,Y,1).times(.5)).s=B.s:G.s<0?(this.precision=Y,this.rounding=1,z=this.atan(ye(B,G,Y,1)),G=kt(this,Y,1),this.precision=q,this.rounding=ue,z=B.s<0?z.minus(G):z.plus(G)):z=this.atan(ye(B,G,Y,1)):(z=kt(this,Y,1).times(G.s>0?.25:.75)).s=B.s:z=new this(NaN),z}function he(B){return new this(B).cbrt()}function Fe(B){return Me(B=new this(B),B.e+1,2)}function Ve(B){if(!B||"object"!=typeof B)throw Error(an+"Object expected");var G,z,q,ue=!0===B.defaults,Y=["precision",1,Mi,"rounding",0,8,"toExpNeg",-ni,0,"toExpPos",0,ni,"maxE",0,ni,"minE",-ni,0,"modulo",0,9];for(G=0;G<Y.length;G+=3)if(z=Y[G],ue&&(this[z]=zn[z]),void 0!==(q=B[z])){if(!(xn(q)===q&&q>=Y[G+1]&&q<=Y[G+2]))throw Error(jt+z+": "+q);this[z]=q}if(z="crypto",ue&&(this[z]=zn[z]),void 0!==(q=B[z])){if(!0!==q&&!1!==q&&0!==q&&1!==q)throw Error(jt+z+": "+q);if(q){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Je);this[z]=!0}else this[z]=!1}return this}function se(B){return new this(B).cos()}function Ge(B){return new this(B).cosh()}function st(B,G){return new this(B).div(G)}function tt(B){return new this(B).exp()}function Ze(B){return Me(B=new this(B),B.e+1,3)}function it(){var B,G,z=new this(0);for(At=!1,B=0;B<arguments.length;)if((G=new this(arguments[B++])).d)z.d&&(z=z.plus(G.times(G)));else{if(G.s)return At=!0,new this(1/0);z=G}return At=!0,z.sqrt()}function bt(B){return B instanceof Wi||B&&"[object Decimal]"===B.name||!1}function at(B){return new this(B).ln()}function We(B,G){return new this(B).log(G)}function Ye(B){return new this(B).log(2)}function Ft(B){return new this(B).log(10)}function Bt(){return In(this,arguments,"lt")}function Wt(){return In(this,arguments,"gt")}function Pn(B,G){return new this(B).mod(G)}function fn(B,G){return new this(B).mul(G)}function Li(B,G){return new this(B).pow(G)}function kn(B){var G,z,q,ue,Y=0,me=new this(1),Pe=[];if(void 0===B?B=this.precision:ie(B,1,Mi),q=Math.ceil(B/D),this.crypto)if(crypto.getRandomValues)for(G=crypto.getRandomValues(new Uint32Array(q));Y<q;)(ue=G[Y])>=429e7?G[Y]=crypto.getRandomValues(new Uint32Array(1))[0]:Pe[Y++]=ue%1e7;else{if(!crypto.randomBytes)throw Error(Je);for(G=crypto.randomBytes(q*=4);Y<q;)(ue=G[Y]+(G[Y+1]<<8)+(G[Y+2]<<16)+((127&G[Y+3])<<24))>=214e7?crypto.randomBytes(4).copy(G,Y):(Pe.push(ue%1e7),Y+=4);Y=q/4}else for(;Y<q;)Pe[Y++]=1e7*Math.random()|0;for(q=Pe[--Y],B%=D,q&&B&&(ue=Ri(10,D-B),Pe[Y]=(q/ue|0)*ue);0===Pe[Y];Y--)Pe.pop();if(Y<0)z=0,Pe=[0];else{for(z=-1;0===Pe[0];z-=D)Pe.shift();for(q=1,ue=Pe[0];ue>=10;ue/=10)q++;q<D&&(z-=D-q)}return me.e=z,me.d=Pe,me}function An(B){return Me(B=new this(B),B.e+1,this.rounding)}function Si(B){return(B=new this(B)).d?B.d[0]?B.s:0*B.s:B.s||NaN}function oi(B){return new this(B).sin()}function Ai(B){return new this(B).sinh()}function Ti(B){return new this(B).sqrt()}function En(B,G){return new this(B).sub(G)}function zt(B){return new this(B).tan()}function Ci(B){return new this(B).tanh()}function di(B){return Me(B=new this(B),B.e+1,1)}return(Wi=function B(G){var z,q,ue;function Y(me){var Pe,ce,Ke,De=this;if(!(De instanceof Y))return new Y(me);if(De.constructor=Y,me instanceof Y)return De.s=me.s,void(At?!me.d||me.e>Y.maxE?(De.e=NaN,De.d=null):me.e<Y.minE?(De.e=0,De.d=[0]):(De.e=me.e,De.d=me.d.slice()):(De.e=me.e,De.d=me.d?me.d.slice():me.d));if("number"==(Ke=typeof me)){if(0===me)return De.s=1/me<0?-1:1,De.e=0,void(De.d=[0]);if(me<0?(me=-me,De.s=-1):De.s=1,me===~~me&&me<1e7){for(Pe=0,ce=me;ce>=10;ce/=10)Pe++;return void(At?Pe>Y.maxE?(De.e=NaN,De.d=null):Pe<Y.minE?(De.e=0,De.d=[0]):(De.e=Pe,De.d=[me]):(De.e=Pe,De.d=[me]))}return 0*me!=0?(me||(De.s=NaN),De.e=NaN,void(De.d=null)):Qt(De,me.toString())}if("string"!==Ke)throw Error(jt+me);return 45===(ce=me.charCodeAt(0))?(me=me.slice(1),De.s=-1):(43===ce&&(me=me.slice(1)),De.s=1),Fn.test(me)?Qt(De,me):function mn(B,G){var z,q,ue,Y,me,Pe,ce,Ke,De;if("Infinity"===G||"NaN"===G)return+G||(B.s=NaN),B.e=NaN,B.d=null,B;if(Wn.test(G))z=16,G=G.toLowerCase();else if(dr.test(G))z=2;else{if(!hr.test(G))throw Error(jt+G);z=8}for((Y=G.search(/p/i))>0?(ce=+G.slice(Y+1),G=G.substring(2,Y)):G=G.slice(2),me=(Y=G.indexOf("."))>=0,q=B.constructor,me&&(Y=(Pe=(G=G.replace(".","")).length)-Y,ue=Xe(q,new q(z),Y,2*Y)),Y=De=(Ke=Ee(G,z,ze)).length-1;0===Ke[Y];--Y)Ke.pop();return Y<0?new q(0*B.s):(B.e=dt(Ke,De),B.d=Ke,At=!1,me&&(B=ye(B,ue,4*Pe)),ce&&(B=B.times(Math.abs(ce)<54?Ri(2,ce):Wi.pow(2,ce))),At=!0,B)}(De,me)}if(Y.prototype=U,Y.ROUND_UP=0,Y.ROUND_DOWN=1,Y.ROUND_CEIL=2,Y.ROUND_FLOOR=3,Y.ROUND_HALF_UP=4,Y.ROUND_HALF_DOWN=5,Y.ROUND_HALF_EVEN=6,Y.ROUND_HALF_CEIL=7,Y.ROUND_HALF_FLOOR=8,Y.EUCLID=9,Y.config=Y.set=Ve,Y.clone=B,Y.isDecimal=bt,Y.abs=Ne,Y.acos=nt,Y.acosh=ft,Y.add=xt,Y.asin=ke,Y.asinh=Te,Y.atan=Gt,Y.atanh=k,Y.atan2=ne,Y.cbrt=he,Y.ceil=Fe,Y.cos=se,Y.cosh=Ge,Y.div=st,Y.exp=tt,Y.floor=Ze,Y.hypot=it,Y.ln=at,Y.log=We,Y.log10=Ft,Y.log2=Ye,Y.max=Bt,Y.min=Wt,Y.mod=Pn,Y.mul=fn,Y.pow=Li,Y.random=kn,Y.round=An,Y.sign=Si,Y.sin=oi,Y.sinh=Ai,Y.sqrt=Ti,Y.sub=En,Y.tan=zt,Y.tanh=Ci,Y.trunc=di,void 0===G&&(G={}),G&&!0!==G.defaults)for(ue=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],z=0;z<ue.length;)G.hasOwnProperty(q=ue[z++])||(G[q]=this[q]);return Y.config(G),Y}(zn)).default=Wi.Decimal=Wi,fe=new Wi(fe),lt=new Wi(lt),void 0!==(te=function(){return Wi}.call(E0,Pi,E0,xl))&&(xl.exports=te),Wi}()});xl.exports=x}},xl=>{xl(xl.s=145)}]);