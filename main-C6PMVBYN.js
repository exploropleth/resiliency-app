import{$ as Nn,$a as ny,$b as Ts,A as Qq,Aa as uH,Ab as dr,B as BM,Ba as $l,Bb as pr,C as Zq,Ca as cH,Cb as vH,D as wd,Da as jM,Db as yH,E as Es,Ea as fH,Eb as q3,F as Jq,Fa as B3,Fb as sr,G as eH,Ga as $3,Gb as ff,H as Kv,Ha as U3,Hb as H3,I as Ph,Ia as Zv,Ib as bH,J as _d,Ja as It,Jb as Td,K as $M,Ka as Bh,Kb as Rd,L as Sd,La as Cd,Lb as kd,M as tH,Ma as Jv,Mb as mi,N as Z0,Na as Yu,Nb as Xu,O as J0,Oa as Pn,Ob as Ul,P as UM,Pa as ey,Pb as $h,Q as nH,Qa as Ed,Qb as XM,R as rH,Ra as dH,Rb as xH,S as zM,Sa as pH,Sb as Od,T as Ds,Ta as ty,Tb as wH,U as As,Ua as hi,Ub as _H,V as Jo,Va as In,Vb as Ku,W as VM,Wa as Mr,Wb as SH,X as hr,Xa as br,Xb as CH,Y as ep,Ya as tr,Yb as EH,Z as Qa,Za as hH,Zb as DH,_ as qt,_a as mH,_b as ai,a as A,aa as iH,ab as ry,ac as Qu,b as _e,ba as Ln,bb as WM,bc as df,c as Fh,ca as qM,cb as z3,cc as Uh,d as Ct,da as Bn,db as V3,dc as sy,e as Wv,ea as ot,eb as gH,ec as AH,f as Ka,fa as Lh,fb as iy,g as Yv,ga as oH,gb as nr,h as Oi,ha as Wu,hb as Ut,hc as G3,i as jq,ia as du,ib as YM,ic as zh,j as Wq,ja as Ms,jb as tp,k as Yq,ka as an,kb as oy,kc as Vh,l as Xv,la as sn,lb as eo,lc as qh,m as Ci,ma as ag,mb as Ht,mc as ly,n as FM,na as fr,nb as en,nc as uy,o as PM,oa as Aa,ob as Vr,p as Bl,pa as Qv,pb as np,q as ju,qa as aH,qb as rp,r as Cn,ra as L3,rb as Dd,s as F3,sa as er,sb as Bo,t as Xq,ta as Hi,tb as _r,u as Kq,ua as HM,ub as Ft,v as wr,va as sH,vb as Ad,w as P3,wa as _o,wb as Md,x as Zo,xa as ea,xb as ay,y as Cs,ya as lH,yb as ta,z as LM,za as GM,zb as Ni}from"./chunk-M73ZD3UU.js";var w4=Wv((FJ,Wd)=>{var IJ=function(e){"use strict";var t="1.1.13",r=new Io,i=e.bigInt,o=e.bigDec;o.set({precision:250});var a={},s=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],l={},u={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:["\u03C0"],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ∞][0-9a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_αAβBγΓδΔϵEζZηHθΘιIκKλΛμMνNξΞoOπΠρPσΣτTυϒϕΦχXψΨωΩ]+[\+\-\/\*]*)/gi,ALIASES:{\u03C0:"pi","\u221E":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){u.CACHE.roots={};for(var h=40,S=40,M=2;M<=h;M++)for(var P=2;P<=S;P++){var W=i(M).pow(P);u.CACHE.roots[W+"-"+P]=M}})();var c=a.N=1,f=a.P=2,d=a.S=3,p=a.EX=4,m=a.FN=5,g=a.PL=6,v=a.CB=7,b=a.CP=8,_=u.CONST_HASH="#",D=u.PARENTHESIS,T=u.SQRT,N=u.ABS,z=u.FACTORIAL,j=u.DOUBLEFACTORIAL,B=[],U={},x=[],w=[],C=function(h,S){if(!u.suppress_errors)throw S?new S(h):new Error(h)},k=function(h){var S=function(M){this.name=h,this.message=M!==void 0?M:"";var P=new Error(this.message);P.name=this.name,this.stack=P.stack};return S.prototype=Object.create(Error.prototype),S},F=function(h){return x.indexOf(h)!==-1},I=function(h){for(var S=h[0],M=1,P=h.length;M<P;M++)if(!h[M].equals(S))return!1;return!0},R=function(h){w.push(h),u.SHOW_WARNINGS&&console&&console.warn&&console.warn(h)},$=function(h,S){if(S=S||"variable",u.ALLOW_CHARS.indexOf(h)===-1){var M=u.VALIDATION_REGEX;if(!M.test(h))throw new tn(h+" is not a valid "+S+" name")}},Y=function(h){var S=Math.sign(h);if(h=Math.abs(h),/\d+\.?\d*e[\+\-]*\d+/i.test(h)){var M="0",P=String(h).toLowerCase().split("e"),W=P.pop(),Z=Math.abs(W),Q=W/Z,ce=P[0].split(".");if(Q===-1)Z=Z-ce[0].length,Z<0?h=ce[0].slice(0,Z)+"."+ce[0].slice(Z)+(ce.length===2?ce[1]:""):h=M+"."+new Array(Z+1).join(M)+ce.join("");else{var He=ce[1];He&&(Z=Z-He.length),Z<0?h=ce[0]+He.slice(0,Z)+"."+He.slice(Z):h=ce.join("")+new Array(Z+1).join(M)}}return S<0?"-"+h:h},re=function(h){for(var S=Math.floor(Math.sqrt(h)),M=2;M<=S;M++)if(h%M===0)return!1;return!0},ne=function(h,S){var M={};return M[h]=S,M},he=function(h){return/^\d+\.?\d*$/.test(h)},ge=function(h){for(var S=0;S<h.length;S++)if(!he(h[S]))return!1;return!0},Me=function(h){return be(h)?Me(h.multiplier.toDecimal()):h%1!==0},be=function(h){return h instanceof ee},ut=function(h){return h instanceof Yt},Pe=function(h,S,M){if(M=M||{c:[],add:function(ce){this.c.indexOf(ce)===-1&&isNaN(ce)&&this.c.push(ce)}},be(h)){var P=h.group,W=h.previousGroup;if(P===p&&Pe(h.power,S,M),P===b||P===v||W===b||W===v)for(var Z in h.symbols)Pe(h.symbols[Z],S,M);else if(P===d||W===d)h.value==="e"||h.value==="pi"||h.value===u.IMAGINARY||M.add(h.value);else if(P===g||W===g)Pe(X(h.symbols),S,M);else if(P===p)isNaN(h.value)||M.add(h.value),Pe(h.power,S,M);else if(P===m&&!S)for(var Q=0;Q<h.args.length;Q++)Pe(h.args[Q],S,M)}return M.c.sort()},Mt=function(h,S){for(var M=new ee(0),P=0;P<h.length;P++){var W=h[P];M=r.add(M,be(W)?W:r.parse(W))}return S?Number(M):M},Vt=function(h,S){h=r.expand(h),S=S||{};var M=function(P,W){S[P]||(S[P]=new ee(0)),S[P]=r.add(S[P],W.clone())};return h.each(function(P){if(P.isConstant("all"))M("constants",P);else if(P.group===d)M(P.value,P);else if(P.group===m&&(P.fname===N||P.fname===""))Vt(P.args[0]);else{if(P.group===p||P.group===m)throw new Error("Unable to separate. Term cannot be a function!");M(Pe(P).join(" "),P)}}),S},nn=function(h,S){S=S||h.length;for(var M=0;M<S;M++){var P=h[M];P||(h[M]=new ee(0))}return h},xe=function(h){return h instanceof yr},qe=function(h){return h instanceof Qt},Ge=function(h){return h instanceof Zn},pe=function(h){return h.group===c||h.group===f},Zt=function(h){return h.group===d&&h.multiplier.equals(1)&&h.power.equals(1)},lt=function(h){return Array.isArray(h)},oe=function(h){return/^[-+]?\d+e?\+?\d*$/gim.test(h.toString())},le=function(h){return be(h)&&(h=h.multiplier),h.lessThan(0)},we=function(h){return h&&String(h)},ue=function(h){return"("+h+")"},Ne=function(h,S,M,P){return h.substr(0,S)+P+h.substr(M,h.length)},et=function(h){return h!==void 0&&h.custom},Fe=function(h,S){return h<0==S<0},fe=function(){var h=[].slice.call(arguments),S=h.shift(),M=S.replace(/{(\d+)}/g,function(P,W){var Z=h[W];return typeof Z=="function"?Z():Z});return M},L=function(h,S,M){var P=[];M=M||1;for(var W=h;W<=S;W++)P.push(W*M);return P},J=Object.keys,X=function(h,S,M){for(var P in h)break;return S?P:M?{key:P,obj:h[P]}:h[P]},de=function(h,S,M){for(var P=5,W={},Z,Q=0;Q<M.length;Q++)W[M[Q]]=new ee(Math.floor(Math.random()*P)+1);return At("PARSE2NUMBER",function(){Z=r.parse(h,W).equals(r.parse(S,W))}),Z},me=function(h,S,M){return $(h),F(h)?null:(S=S||Pe(r.parse(M)),r.functions[h]=[r.mapped_function,S.length,{name:h,params:S,body:M}],M)},Ee=function(h){return Math.max.apply(void 0,h)},Te=function(h){return Math.min.apply(void 0,h)},ae=function(h,S){if(h.sort(),S.sort(),h.length===S.length){for(var M=0;M<h.length;M++)if(h[M]!==S[M])return!1;return!0}return!1},Oe=function(h){for(var S=[],M=h.length,P=0;P<M;P++)S[P]=h[P].clone();return S},xt=function(h,S){S=S||20;var M=[],P,W,Z;M.push(h[0]);for(var Q=0;Q<h.length-1;Q++){P=h[Q],W=h[Q+1]-P,Z=W/S;for(var ce=0;ce<S;ce++)P+=Z,M.push(P)}return M},wt=function(h){var S,M;if(h.group===m&&h.fname===""?(S=ee.unwrapPARENS(r.parse(h).toLinear()),M=r.parse(h.power)):h.group===f&&(S=r.parse(h.value),M=r.parse(h.power)),S&&M&&S.group===c&&M.group===c&&S.multiplier.isNegative()){for(var P=[],W=ee.toPolarFormArray(Wt(h)),Z=W[0],Q=r.arg(S),ce=M.multiplier.den.toString(),He=M.multiplier.num.toString(),Ue="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",We=0;We<ce;We++){var jt=Wt(r.parse(fe("(({0})+2*pi*({1}))/({2})",Q,We,ce))).multiplier.toDecimal();P.push(Wt(r.parse(fe(Ue,Z,ce,u.IMAGINARY,jt,He))))}return yr.fromArray(P)}else if(h.isConstant(!0,!0)){var ft=h.sign(),Q=Wt(h.abs()),Tt=r.sqrt(Q),P=[Tt.clone(),Tt.negate()];ft<0&&(P=P.map(function(zn){return r.multiply(zn,ee.imaginary())}))}else P=[r.parse(h)];return yr.fromArray(P)},ze=function(h,S){for(var M=h.length,P=[],W=0;W<h.length;W++)P.push([h[W],S[W]]);P.sort(function(ce,He){return ce[0]-He[0]});var Z=[],Q=[];for(W=0;W<M;W++)Z.push(P[W][0]),Q.push(P[W][1]);return[Z,Q]},Be=function(h,S,M){S=String(S);var P,W,Z,Q;if(h.group===b){var ce=r.expand(h.clone()).stripVar(S);P=r.subtract(h.clone(),ce.clone()),Q=ce}else P=h.clone();return W=P.stripVar(S),Z=r.divide(P.clone(),W.clone()),Q=Q||new ee(0),M?{a:W,x:Z,ax:P,b:Q}:[W,Z,P,Q]},ct=function(h,S){return oe(h)?h>=Number.MAX_VALUE?h.toString():Number(h):(S=typeof S>"u"?14:S,Math.round(h*Math.pow(10,S))/Math.pow(10,S))},Xe=function(h){for(var S="u",M=S,P=0,W=Pe(h);!(x.indexOf(M)===-1&&W.indexOf(M)===-1);)M=S+P++;for(var Z=0,Q=x.length;Z<=Q;Z++)if(!x[Z]){x[Z]=M;break}return M},Ie=function(h){var S=x.indexOf(h);S!==-1&&(x[S]=void 0)},ke=function(h,S){if(lt(h))for(var M=h.length,P=0;P<M;P++)S.call(h,P);else for(var W in h)h.hasOwnProperty(W)&&S.call(h,W)},Je=function(h){return h%2===0},mt=function(h){return 1/(h%1)%2===0},Rt=function(h){for(var S=h.length,M=[],P=0;P<S;P++){var W=h[P];M.indexOf(W)===-1&&M.push(W)}return M},Jt=function(h){for(var S=Pe(h[0],null,null,!0),M=1,P=h.length;M<P;M++)S=S.concat(Pe(h[M]));return S=Rt(S).sort(),S},Ot=function(h,S){var M=typeof S;(M!=="function"||M==="undefined")&&(S=function(He,Ue){return He===Ue});for(var P=[];h.length;){var W=h[0];if(h.length===1){P.push(W);break}var Z=[];P.push(W);for(var Q=1;Q<h.length;Q++){var ce=h[Q];S(W,ce)||Z.push(ce)}h=Z}return P},kn=function(h){var S=function(M){x.indexOf(M)===-1&&x.push(M)};typeof h=="string"?S(h):ke(h,function(M){S(M)})},Lt=function(h,S){var M;return lt(h)?M=h.splice(S,1)[0]:(M=h[S],delete h[S]),M},At=function(h,S,M,P){var W=u[h];u[h]=M===void 0?!0:!!M;var Z=S.call(P);return u[h]=W,Z},Un=function(){var h={};for(var S in r.functions)h[S]=r.functions[S][0];return h},Hn=function(h){return[].slice.call(h)},Tn=function(h,S,M){var P=[];h.each(function(Z){if(Z.contains(S))var Q=Z.stripVar(S),ce=r.divide(Z.clone(),Q.clone()),He=ce.power.toDecimal();else Q=Z,He=0;var Ue=P[He];P[He]=Ue?r.add(Ue,Q):Q},!0);for(var W=0;W<P.length;W++)P[W]||(P[W]=new ee(0));return P},Wt=function(h,S){return At("PARSE2NUMBER",function(){return r.parse(h,S)},!0)},Nt=function(h){if(lt(h)){for(var S=new yr([]),M=0;M<h.length;M++)S.elements.push(Nt(h[M]));return S}return be(h)?h:r.parse(h)},Sn=function(h){for(var S=s[s.length-1]||2,M=S;M<h;M++)re(M)&&s.push(M)},O=function(h){for(var S=0;S<h.length;S++)if(h[S].group!==c)return!1;return!0},q=function(h){for(var S=0;S<h.length;S++)if(!(h[S].isPi()||h[S].isE())&&!h[S].isConstant(!0))return!1;return!0},G=function(h,S,M){(S.isComposite()&&!h.isComposite()||S.isLinear()&&!h.isLinear())&&([h,S]=[S,h]);var P=new ee(0);return h.isLinear()?h.each(function(W){if(S.isComposite())S.isLinear()?S.each(function(Q){var ce=r.multiply(r.parse(W),r.parse(Q)),He=r.expand(r.parse(ce),M);P=r.add(P,He)},!0):P=r.add(P,r.multiply(W,r.parse(S)));else{var Z=r.multiply(r.parse(W),r.parse(S));P=r.add(P,r.expand(Z,M))}},!0):P=r.multiply(h,S),P},H=k("DivisionByZero"),ie=k("ParseError"),V=k("UndefinedError"),se=k("OutOfFunctionDomainError"),ye=k("MaximumIterationsReached"),Se=k("NerdamerTypeError"),Ae=k("ParityError"),Ce=k("OperatorError"),tt=k("OutOfRangeError"),nt=k("DimensionError"),tn=k("InvalidVariableNameError"),Gt=k("ValueLimitExceededError"),Bt=k("NerdamerValueError"),cn=k("SolveError"),$r=k("InfiniteLoopError"),_i=k("UnexpectedTokenError"),or={DivisionByZero:H,ParseError:ie,OutOfFunctionDomainError:se,UndefinedError:V,MaximumIterationsReached:ye,NerdamerTypeError:Se,ParityError:Ae,OperatorError:Ce,OutOfRangeError:tt,DimensionError:nt,InvalidVariableNameError:tn,ValueLimitExceededError:Gt,NerdamerValueError:Bt,SolveError:cn,InfiniteLoopError:$r,UnexpectedTokenError:_i},zt={csc:function(h){return 1/Math.sin(h)},sec:function(h){return 1/Math.cos(h)},cot:function(h){return 1/Math.tan(h)},acsc:function(h){return Math.asin(1/h)},asec:function(h){return Math.acos(1/h)},acot:function(h){return Math.PI/2-Math.atan(h)},erf:function(h){var S=1/(1+.5*Math.abs(h)),M=1-S*Math.exp(-h*h-1.26551223+S*(1.00002368+S*(.37409196+S*(.09678418+S*(-.18628806+S*(.27886807+S*(-1.13520398+S*(1.48851587+S*(-.82215223+S*.17087277)))))))));return h>=0?M:-M},diff:function(h){var S=.001,M=function(P){return(h(P+S)-h(P-S))/(2*S)};return M},median:function(...h){h.sort(function(M,P){return M-P});var S=Math.floor(h.length/2);return h.length%2?h[S]:(h[S-1]+h[S])/2},fromContinued:function(h){for(var S=h.fractions.slice(),M=1/S.pop(),P=0,W=S.length;P<W;P++)M=1/(S.pop()+M);return h.sign*(h.whole+M)},continuedFraction:function(h,S){S=S||20;for(var M=Math.sign(h),P=Math.abs(h),W=Math.floor(P),Z=P-W,Q=0,ce=!1,He=1e-14,Ue=1e7,We,jt,ft={whole:W,sign:M,fractions:[]};!ce&&Z!==0;){if(We=1/Z,jt=Math.floor(We),jt>Ue){var Tt=zt.fromContinued(ft)-h;if(Tt<=Number.EPSILON)break}ft.fractions.push(jt),Z=We-jt,(Z<=He||Q>=S-1)&&(ce=!0),Q++}var ln=ft.fractions.length-1;return ft.fractions[ln]===1&&(ft.fractions.pop(),ft.fractions[--ln]++),ft},bigpow:function(h,S){h instanceof vt||(h=vt.create(h)),S instanceof vt||(S=vt.create(S));var M=new vt(0);if(S.isInteger())M.num=h.num.pow(S.toString()),M.den=h.den.pow(S.toString());else{var P=vt.create(Math.pow(h.num,S.num)),W=vt.create(Math.pow(h.den,S.num));M.num=zt.nthroot(P,S.den.toString()),M.den=zt.nthroot(W,S.den)}return M},gamma:function(h){var S=7,M=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(h<.5)return Math.PI/(Math.sin(Math.PI*h)*zt.gamma(1-h));h-=1;for(var P=M[0],W=1;W<S+2;W++)P+=M[W]/(h+W);var Z=h+S+.5;return Math.sqrt(2*Math.PI)*Math.pow(Z,h+.5)*Math.exp(-Z)*P},bigfactorial:function(h){for(var S=new i(1),M=2;M<=h;M++)S=S.times(M);return new vt(S)},bigLog:function(h){var S=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(S[h])return vt.quick.apply(null,S[h].split("/"));h=new vt(h);for(var M=80,P=new vt(0),W=h.subtract(new vt(1)),Z=h.add(new vt(1)),Q=0;Q<M;Q++){var ce=new vt(2*Q+1),He=zt.bigpow(W.divide(Z),ce),Ue=ce.clone().invert().multiply(He);P=P.add(Ue)}return P.multiply(new vt(2))},factorial:function(h){var S=h%1===0;if(S&&h<0)return NaN;if(!S)return zt.gamma(h+1);for(var M=1,P=2;P<=h;P++)M=M*P;return M},dfactorial:function(h){if(oe(h)){var S=h%2===0,M=S?h/2:(h+1)/2,P=new vt(1);if(S)for(var W=1;W<=M;W++)P=P.multiply(new vt(2).multiply(new vt(W)));else for(var W=1;W<=M;W++)P=P.multiply(new vt(2).multiply(new vt(W)).subtract(new vt(1)))}else P=Math.pow(2,(1+2*h-Math.cos(Math.PI*h))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*h)-1)/4)*zt.gamma(1+h/2);return P},GCD:function(){for(var h=Rt([].slice.call(arguments).map(function(W){return Math.abs(W)})).sort(),S=Math.abs(h.shift()),M=h.length;M-- >0;)for(var P=Math.abs(h.shift());;){if(S%=P,S===0){S=P;break}if(P%=S,P===0)break}return S},QGCD:function(){for(var h=[].slice.call(arguments),S=h[0],M=1;M<h.length;M++){var P=h[M],W=S.isNegative()&&P.isNegative()?-1:1;S=P.gcd(S),W<0&&S.negate()}return S},LCM:function(h,S){return h*S/zt.GCD(h,S)},pow:function(h,S){return h<0&&Math.abs(S)<1?1/S%2===0?NaN:-Math.pow(Math.abs(h),S):Math.pow(h,S)},factor:function(h){h=Number(h);var S=Math.sign(h);h=Math.abs(h);var M=zt.ifactor(h),P=new ee;P.symbols={},P.group=v;for(var W in M){var Z=new ee(1);Z.group=f,Z.value=W,Z.power=new ee(M[W]),P.symbols[W]=Z}return P.updateHash(),h===1&&(P=new ee(h)),S<0&&P.negate(),P},sfactor:function(h,S){S=S||{};var M=Math.floor(Math.sqrt(h)),P=s[s.length-1];M>P&&h<1e6&&Sn(M);for(var W=s.length,Z=0;Z<W;Z++)for(var Q=s[Z];h%Q===0;)h=h/Q,S[Q]=(S[Q]||0)+1;return h>1&&(S[h]=1),S},ifactor:function(h){var S=new i(h);if(h=String(h),h==="0")return{0:1};h=new i(h);var M=h.sign?-1:1;h=h.abs();var P={};if(h.lt("65536"))P=zt.sfactor(h,P);else{var W=function(Ue){Ue.isPrime()?P[Ue]=(P[Ue]||0)+1:P=zt.sfactor(Ue,P)};try{for(var Z=1e3,Q=0;!h.abs().equals(1);)if(h.isPrime()){W(h);break}else{let Ue=function(We){for(var jt=new i(We),ft=2,Tt=new i(We),ln=new i(1);ln.equals(1);){for(var un=0;un<=ft&&ln.equals(1);un++){if(Q++>Z)throw new Error("stopping");Tt=Tt.pow(2).add(1).mod(h),ln=i.gcd(Tt.minus(jt).abs(),h)}ft=ft*2,jt=Tt}return ln.equals(h)?Ue(We+1):ln};var ce=Ue(2);W(ce),h=h.divide(ce)}}catch{P={},W(S)}}if(M===-1){var He=Te(J(P));P["-"+He]=P[He],delete P[He]}return P},boxfactor:function(h,S){S=S||200;for(var M,P,W=Math.floor(5/12*h),Z=0,Q=!1;M=Math.floor(h/W),P=h%W,P!==0;){if(Q)return[h,1];W=Math.max(P,W-P),Z++,Q=Z>S}return[M,W,Z]},fib:function(h){var S=Math.sign(h);h=Math.abs(h),S=Je(h)?S:Math.abs(S);for(var M=0,P=1,W=1,Z=2;Z<=h;Z++)W=M+P,M=P,P=W;return W*S},mod:function(h,S){return h%S},integer_part:function(h){var S=Math.sign(h);return S*Math.floor(Math.abs(h))},simpson:function(h,S,M,P){var W=function(Tt,ln,un){var zn=Tt(ln),cr=1e-12;return isNaN(zn)&&(zn=Tt(un===1?ln+cr:ln-cr)),zn};P=P||1e-4;var Z=Math.abs(Math.floor((M-S)/P));Z%2!==0&&Z++;for(var Q=(M-S)/Z,ce=W(h,S,1),He=!1,Ue=S+Q,We,jt,ft=1;ft<Z;ft++)We=He?2:4,jt=We*W(h,Ue,1),ce+=jt,He=!He,Ue+=Q;return(ce+W(h,Ue,2))*(Q/3)},num_integrate:function(h,S,M,P,W){if(W<0)throw new Error("max depth cannot be negative");function Z(He,Ue,We,jt,ft,Tt,ln,un,zn,cr,ir){if(ir.nanEncountered)return NaN;var Ur,kr,Vn,co,Da,fo,Dr,Qr,di,Vi;if(Ur=We-Ue,kr=He(Ue+Ur*.25),Vn=He(We-Ur*.25),isNaN(kr)){ir.nanEncountered=!0;return}if(isNaN(Vn)){ir.nanEncountered=!0;return}if(co=Ur*(jt+4*kr+ft)/12,Da=Ur*(ft+4*Vn+Tt)/12,fo=co+Da,Vi=(fo-ln)/15,!(ir.maxDepthCount>1e3*zn))return cr>zn?(ir.maxDepthCount++,fo+Vi):Math.abs(Vi)<un?fo+Vi:(Dr=Ue+Ur*.5,Qr=Z(He,Ue,Dr,jt,kr,ft,co,un*.5,zn,cr+1,ir),isNaN(Qr)?(ir.nanEncountered=!0,NaN):(di=Z(He,Dr,We,ft,Vn,Tt,Da,un*.5,zn,cr+1,ir),isNaN(di)?(ir.nanEncountered=!0,NaN):Qr+di))}function Q(He,Ue,We,jt,ft){var Tt={maxDepthCount:0,nanEncountered:!1};jt===void 0&&(jt=1e-9),ft===void 0&&(ft=45);var ln=He(Ue),un=He(.5*(Ue+We)),zn=He(We),cr=(ln+4*un+zn)*(We-Ue)/6,ir=Z(He,Ue,We,ln,un,zn,cr,jt,ft,1,Tt);if(Tt.maxDepthCount>0&&R("integrate-adaptive-simpson: Warning: maximum recursion depth ("+ft+") reached "+Tt.maxDepthCount+" times"),Tt.nanEncountered)throw new Error("Function does not converge over interval!");return ir}var ce;try{ce=Q(h,S,M,P,W)}catch{return zt.simpson(h,S,M)}return ct(ce,12)},Ci:function(h){for(var S=20,M=.5772156649015329,P=0,W=1;W<S;W++){var Z=2*W;P+=Math.pow(-1,W)*Math.pow(h,Z)/(Z*zt.factorial(Z))}return Math.log(h)+M+P},Si:function(h){for(var S=20,M=0,P=0;P<S;P++){var W=2*P;M+=Math.pow(-1,P)*Math.pow(h,W+1)/((W+1)*zt.factorial(W+1))}return M},Ei:function(h){if(Number(h)===0)return-1/0;for(var S=30,M=.5772156649015329,P=0,W=1;W<S;W++)P+=Math.pow(h,W)/(W*zt.factorial(W));return M+Math.abs(Math.log(h))+P},Shi:function(h){for(var S=30,M=0,P,W,Z=0;Z<S;Z++)P=2*Z,W=P+1,M+=Math.pow(h,W)/(W*W*zt.factorial(P));return M},Chi:function(h){var S,M,P;return S=.001,M=.5772156649015329,P=function(W){return(Math.cosh(W)-1)/W},Math.log(h)+M+zt.num_integrate(P,.002,h,S)},Li:function(h){return zt.Ei(zt.bigLog(h))},gamma_incomplete:function(h,W){for(var M=h-1,P=0,W=W||0,Z=0;Z<M;Z++)P+=Math.pow(W,Z)/zt.factorial(Z);return zt.factorial(M)*Math.exp(-W)*P},step:function(h){return h>0?1:h<0?0:.5},rect:function(S){var S=Math.abs(S);return S===.5?S:S>.5?0:1},sinc:function(h){return h.equals(0)?1:Math.sin(h)/h},tri:function(h){return h=Math.abs(h),h>=1?0:1-h},nthroot:function(h,S){if(h instanceof vt||(h=new vt(h.toString())),S instanceof vt||(S=new vt(S.toString())),S.equals(1))return h;var M=h.divide(new vt(2)),P=new vt(1e-15),W,Z,Q,ce=S.clone().invert(),He=S.subtract(new vt(1));do{var Ue=zt.bigpow(M,He),We=ce.multiply(h.divide(Ue).subtract(M)).toDecimal(25);if(W=vt.create(We),Q)break;M=M.add(W);var We=W.toDecimal();Q=Z?Z===We:!1,Z=We}while(W.abs().gte(P));return M},sqrt:function(h){h instanceof vt||(h=new vt(h));var S,M,P,W,Z=0,Q=!1,ce=new vt(1e-20);S=h.divide(new vt(2));var He=1e3;do{if(Z>He)throw new Error("Unable to calculate square root for "+h);S=S.add(h.divide(S)).divide(new vt(2)),S=new vt(S.decimal(30)),M=h.subtract(S.multiply(S)),W=P?P.equals(M):!1,(M.clone().abs().lessThan(ce)||W)&&(Q=!0),P=M,Z++}while(!Q);return S}};u.FUNCTION_MODULES.push(zt),kn(zt),Math.sign=Math.sign||function(h){return h=+h,h===0||isNaN(h)?h:h>0?1:-1},Math.cosh=Math.cosh||function(h){var S=Math.exp(h);return(S+1/S)/2},Math.sech=Math.sech||function(h){return 1/Math.cosh(h)},Math.csch=Math.csch||function(h){return 1/Math.sinh(h)},Math.coth=Math.coth||function(h){return 1/Math.tanh(h)},Math.sinh=Math.sinh||function(h){var S=Math.exp(h);return(S-1/S)/2},Math.tanh=Math.tanh||function(h){if(h===1/0)return 1;if(h===-1/0)return-1;var S=Math.exp(2*h);return(S-1)/(S+1)},Math.asinh=Math.asinh||function(h){return h===-1/0?h:Math.log(h+Math.sqrt(h*h+1))},Math.acosh=Math.acosh||function(h){return Math.log(h+Math.sqrt(h*h-1))},Math.atanh=Math.atanh||function(h){return Math.log((1+h)/(1-h))/2},Math.log10=Math.log10||function(h){return Math.log(h)*Math.LOG10E},Math.trunc=Math.trunc||function(h){return isNaN(h)?NaN:h>0?Math.floor(h):Math.ceil(h)};function Rn(h,S,M,P){var W=S==="hash",Z=void 0,Q=W?void 0:S,ce=Q==="decimal"||Q==="decimals";ce&&typeof P>"u"&&(P=u.DEFAULT_DECP);function He(Dr){switch(S){case"decimals":case"decimal":return Z=Z||function(Ss){return!1},Dr.valueOf();case"recurring":Z=Z||function(Ss){return Ss.indexOf("'")!==-1};var rf=Dr.toString(),of=/^-?\d+(?:\/\d+)?$/.exec(rf);if(of.length===0)return rf;var tl=of[0].split("/"),Qr=!1,di=Number(tl[0]);di<0&&(di=-di,Qr=!0);var Vi=Number(tl[1]);Vi||(Vi=1);var Fl=Math.floor(di/Vi),Fo=10*(di-Fl*Vi);for(Fl=Fl.toString()+".";Fo&&Fo<Vi;)Fo*=10,Fl+="0";for(var bd="",Ki=[],zr=0;;){if(typeof Ki[Fo]<"u"){var qi=bd.slice(0,Ki[Fo]),nf=bd.slice(Ki[Fo]),Nl=Fl+qi+"'"+nf+"'";return(Qr?"-":"")+Nl.replace("'0'","").replace(/\.$/,"")}var Il=Math.floor(Fo/Vi),Hu=Fo-Il*Vi;Ki[Fo]=zr,bd+=Il.toString(),zr+=1,Fo=10*Hu}case"mixed":Z=Z||function(Ss){return Ss.indexOf("/")!==-1};var rf=Dr.toString(),of=/^-?\d+(?:\/\d+)?$/.exec(rf);if(of.length===0)return rf;var tl=of[0].split("/"),ng=new i(tl[0]),j0=new i(tl[1]);j0.equals(0)&&(j0=new i(1));var W0=ng.divmod(j0),Fl=W0.quotient,Y0=W0.remainder,rg=tl[0][0]==="-"||Fl.equals(0)||Y0.equals(0)?"":"+";return(Fl.equals(0)?"":Fl.toString())+rg+(Y0.equals(0)?"":Y0.toString()+"/"+tl[1]);case"scientific":return Z=Z||function(Ss){return!1},new Qn(Dr.valueOf()).toString(u.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return Z=Z||function(Ss){return Ss.indexOf("/")!==-1},Dr.toString()}}if(be(h)){var Ue="",We="",jt="",ft=h.group||M,Tt=h.value;if(!W){var ln=He(h.multiplier);ln=="-1"&&String(h.multiplier)==="-1"&&(jt="-",ln="1"),ln!="1"&&(Ue=ln);var un=h.power?He(h.power):"";un!="1"&&(be(un)?We=Rn(un,Q):We=un)}switch(ft){case c:Ue="";var zn=P&&ce?h.multiplier.toDecimal(P):He(h.multiplier);Tt=String(h.multiplier)=="-1"?"1":zn,We="";break;case g:Tt=h.collectSymbols().map(function(Dr){var Qr=Rn(Dr,Q,M,P);return Qr=="0"&&(Qr=""),Qr}).sort().join("+").replace(/\+\-/g,"-");break;case b:Tt=h.collectSymbols().map(function(Dr){var Qr=Rn(Dr,Q,M,P);return Qr=="0"&&(Qr=""),Qr}).sort().join("+").replace(/\+\-/g,"-");break;case v:Tt=h.collectSymbols(function(Dr){var Qr=Dr.group;return(Qr===g||Qr===b)&&Dr.power.equals(1)&&Dr.multiplier.equals(1)?ue(Rn(Dr,Q)):Rn(Dr,Q)}).join("*");break;case p:var cr=h.previousGroup,ir=h.power.group;cr===g&&(Tt=h.collectSymbols(Rn,Q).join("+").replace("+-","-")),!(cr===c||cr===d||cr===m)&&!W&&(Tt=ue(Tt)),(ir===b||ir===v||ir===g||h.power.multiplier.toString()!="1")&&We&&(We=ue(We));break}if(ft===m&&(Tt=h.fname+ue(h.args.map(function(Dr){return Rn(Dr,Q)}).join(","))),ft===m&&h.fname in l){var Ur=Rn(h.args[0]),kr=Rn(h.args[1]);h.args[0].isComposite()&&(Ur=ue(Ur)),h.args[1].isComposite()&&(kr=ue(kr)),Tt=Ur+l[h.fname]+kr}We&&ft!==p&&Z(We)&&(We=ue(We)),((ft===b||ft===g)&&(Ue&&Ue!="1"||jt==="-")||(ft===v||ft===b||ft===g)&&We&&We!="1"||!W&&ft===f&&Tt==-1||h.fname===D)&&(Tt=ue(Tt)),P&&(S==="decimal"||S==="decimals"&&Ue)&&(Ue=ct(Ue,P));var Vn=jt+Ue;if(Ue&&Z(Ue)&&(Vn=ue(Vn)),We<0&&(We=ue(We)),Ue&&(Vn=Vn+"*"),We){if(Tt==="e"&&u.E_TO_EXP)return Vn+"exp"+ue(We);We=u.POWER_OPERATOR+We}ft===p&&Tt.charAt(0)==="-"&&(Tt=ue(Tt));var co=Vn+Tt;return h.parens&&(co=ue(co)),co+We}else if(xe(h)){for(var Da=h.elements.length,Vn=[],fo=0;fo<Da;fo++)Vn.push(h.elements[fo].text(S));return"["+Vn.join(",")+"]"}else try{return h.toString()}catch{return""}}function Ea(h){if(re(h))return[h];for(var S=h,M=1,P=[],W=2220446049250313e-31;M<S;){var Z=h/M,Q=Math.floor(Z),ce=Z-Q;if(ce<=W&&M>1){if(re(M)&&(s.indexOf(M)===-1&&s.push(M),P.push(M)),re(Q)){P.push(Q);break}S=Q}M++}return P.sort(function(He,Ue){return He-Ue})}Ea(314146179365);function Yt(h){this.symbol=h}Yt.getExpression=function(h,S){(h==="last"||!h)&&(h=B.length),h==="first"&&(h=1);var M=h-1,P=B[M],W=P&&new Yt(P);return W},Yt.prototype={text:function(h,S){return S=S||u.EXPRESSION_DECP,h=h||"decimals",this.symbol.text_?this.symbol.text_(h):Rn(this.symbol,h,void 0,S)},latex:function(h){return this.symbol.latex?this.symbol.latex(h):Fn.latex(this.symbol,h)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(xe(this.symbol)&&this.symbol.dimensions()===0)return this;var h=arguments[0],S,M=1;typeof h=="string"?S=h.charAt(0)==="%"?Yt.getExpression(h.substr(1)).text():h:h instanceof Yt||be(h)?S=h.text():(S=this.symbol.text(),M--);var P=arguments[M]||{},W=new Yt(At("PARSE2NUMBER",function(){return r.parse(S,P)},!0));return W},buildFunction:function(h){return _s.build(this.symbol,h)},isNumber:function(){return pe(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return Wt(r.parse(this.symbol)).isImaginary()},variables:function(){return Pe(this.symbol)},toString:function(){try{return lt(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(h){u.precision=h;var S=Rn(this.symbol,"decimals");return u.precision=void 0,S},isFraction:function(){return Me(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(h,S){return new Yt(this.symbol.sub(r.parse(h),r.parse(S)))},operation:function(h,S){return ut(S)?S=S.symbol:be(S)||(S=r.parse(S)),new Yt(r[h](this.symbol.clone(),S.clone()))},add:function(h){return this.operation("add",h)},subtract:function(h){return this.operation("subtract",h)},multiply:function(h){return this.operation("multiply",h)},divide:function(h){return this.operation("divide",h)},pow:function(h){return this.operation("pow",h)},expand:function(){return new Yt(r.expand(this.symbol))},each:function(h,S){if(this.symbol.each)this.symbol.each(h,S);else if(lt(this.symbol))for(var S=0;S<this.symbol.length;S++)h.call(this.symbol,this.symbol[S],S);else h.call(this.symbol)},eq:function(h){be(h)||(h=r.parse(h));try{var S=r.subtract(this.symbol.clone(),h);return S.equals(0)}catch{return!1}},lt:function(h){be(h)||(h=r.parse(h));try{var S=Wt(r.subtract(this.symbol.clone(),h));return S.lessThan(0)}catch{return!1}},gt:function(h){be(h)||(h=r.parse(h));try{var S=Wt(r.subtract(this.symbol.clone(),h));return S.greaterThan(0)}catch{return!1}},gte:function(h){return this.gt(h)||this.eq(h)},lte:function(h){return this.lt(h)||this.eq(h)},numerator:function(){return new Yt(this.symbol.getNum())},denominator:function(){return new Yt(this.symbol.getDenom())},hasFunction:function(h){return this.symbol.containsFunction(h)},contains:function(h){return this.symbol.contains(h)}},Yt.prototype.toTeX=Yt.prototype.latex;function Qn(h){return this instanceof Qn?(h=String(typeof h>"u"?0:h),h.startsWith("-")?(this.sign=-1,h=h.substr(1,h.length)):this.sign=1,Qn.isScientific(h)?this.fromScientific(h):this.convert(h),this):new Qn(h)}Qn.prototype={fromScientific:function(h){var S=String(h).toLowerCase().split("e");return this.coeff=S[0],this.exponent=S[1],this},convert:function(h){var S=h.split("."),M=S[0]||"",P=S[1]||"";M=Qn.removeLeadingZeroes(M),P=Qn.removeTrailingZeroes(P);var W=M.length,Z=M+P,Q=Qn.leadingZeroes(Z).length;this.exponent=W-(Q+1);var ce=Qn.removeLeadingZeroes(Z);this.coeff=ce.charAt(0)+"."+(ce.substr(1,ce.length)||"0");var He=this.coeff.split(".")[1]||"";return this.decp=He==="0"?0:He.length,this.dec=P,this.wholes=M,this},round:function(h){var S=this.copy();if(h=Number(h),h===0)S.coeff=S.coeff.charAt(0);else{var M=this.coeff.substring(0,h+1),P=this.coeff.substring(h+1,h+3),W=P.charAt(0);P.charAt(1)>4&&W++,S.coeff=M+W}return S},copy:function(){var h=new Qn(0);return h.coeff=this.coeff,h.exponent=this.exponent,h.sign=this.sign,h},toString:function(h){var S;if(u.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<h)this.decp===0?S=this.wholes:S=this.coeff;else{var M=typeof h>"u"?this.coeff:Qn.round(this.coeff,Math.min(h,this.decp||1));S=this.exponent===0?M:M+"e"+this.exponent}return(this.sign===-1?"-":"")+S}},Qn.isScientific=function(h){return/\d+\.?\d*e[\+\-]*\d+/i.test(h)},Qn.leadingZeroes=function(h){var S=h.match(/^(0*).*$/);return S?S[1]:""},Qn.removeLeadingZeroes=function(h){var S=h.match(/^0*(.*)$/);return S?S[1]:""},Qn.removeTrailingZeroes=function(h){var S=h.match(/0*$/);return S?h.substring(0,h.length-S[0].length):""},Qn.round=function(h,S){var M=ct(h,S),P=String(M).split(".").pop(),W=S-P.length;return W>0&&(M=M+new Array(W+1).join(0)),M};function vt(h){if(h instanceof vt)return h;if(h===void 0)return this;try{if(oe(h))try{this.num=i(h),this.den=i(1)}catch{return vt.simple(h)}else{var S=h instanceof o?qu.quickConversion(h):qu.convert(h);this.num=new i(S[0]),this.den=new i(S[1])}}catch{return vt.simple(h)}}vt.create=function(h){if(h instanceof vt)return h;h=h.toString();var S=h.charAt(0)==="-";S&&(h=h.substr(1,h.length-1));var M=new vt(h);return S&&M.negate(),M},vt.isFrac=function(h){return h instanceof vt},vt.quick=function(h,S){var M=new vt;return M.num=new i(h),M.den=new i(S),M},vt.simple=function(h){for(var S=String(Y(h)),M=S.split("."),P=M.join(""),W=1,Z=(M[1]||"").length,Q=0;Q<Z;Q++)W+="0";var ce=vt.quick(P,W);return ce.simplify()},vt.prototype={multiply:function(h){if(this.isOne())return h.clone();if(h.isOne())return this.clone();var S=this.clone();return S.num=S.num.multiply(h.num),S.den=S.den.multiply(h.den),S.simplify()},divide:function(h){if(h.equals(0))throw new H("Division by zero not allowed!");return this.clone().multiply(h.clone().invert()).simplify()},subtract:function(h){return this.clone().add(h.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(h){var S=this.den,M=h.den,P=this.clone(),W=P.num,Z=h.num;return S.equals(M)?P.num=W.add(Z):(P.num=W.multiply(M).add(Z.multiply(S)),P.den=S.multiply(M)),P.simplify()},mod:function(h){var S=this.clone(),M=h.clone();return S.num=S.num.multiply(M.den),S.den=S.den.multiply(M.den),M.num=M.num.multiply(this.den),M.den=M.den.multiply(this.den),S.num=S.num.mod(M.num),S.simplify()},simplify:function(){var h=i.gcd(this.num,this.den);return this.num=this.num.divide(h),this.den=this.den.divide(h),this},clone:function(){var h=new vt;return h.num=new i(this.num),h.den=new i(this.den),h},decimal:function(h){var S=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";h=h||u.PRECISION,h++;for(var M=[],P=this.num.abs(),W=this.den,Z=0;Z<h;Z++){var Q=P.divide(W),ce=P.subtract(Q.multiply(W));if(M.push(Q),ce.equals(0))break;P=ce.times(10)}var He=M.shift();if(M.length===0)return S+He.toString();if(Z===h){for(var Ue=[],Z=0;Z<2;Z++)Ue.unshift(M.pop());M.push(Math.round(Ue.join(".")))}var We=He.toString()+"."+M.join("");return S+We},toDecimal:function(h){return h=h||u.PRECISION,h?this.decimal(h):this.num/this.den},qcompare:function(h){return[this.num.multiply(h.den),h.num.multiply(this.den)]},equals:function(h){isNaN(h)||(h=new vt(h));var S=this.qcompare(h);return S[0].equals(S[1])},absEquals:function(h){isNaN(h)||(h=new vt(h));var S=this.qcompare(h);return S[0].abs().equals(S[1])},greaterThan:function(h){isNaN(h)||(h=new vt(h));var S=this.qcompare(h);return S[0].gt(S[1])},gte:function(h){return this.greaterThan(h)||this.equals(h)},lte:function(h){return this.lessThan(h)||this.equals(h)},lessThan:function(h){isNaN(h)||(h=new vt(h));var S=this.qcompare(h);return S[0].lt(S[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var h=this.den;if(!this.num.equals(0)){var S=this.num.isNegative();this.den=this.num.abs(),this.num=h,S&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(h){return vt.quick(i.gcd(h.num,this.num),i.lcm(h.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(u.USE_BIG)return new o(this.num.toString()).div(new o(this.den.toString()));var h=this.num/this.den;return h},isNegative:function(){return this.toDecimal()<0}};function ee(h){var S=h==="Infinity";return this instanceof ee?(h instanceof o&&(h=h.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(h)||h instanceof o?(this.group=c,this.value=_,this.multiplier=new vt(h)):(this.group=d,$(h),this.value=h,this.multiplier=new vt(1),this.imaginary=h===u.IMAGINARY,this.isInfinity=S),this.power=new vt(1),this):new ee(h)}ee.imaginary=function(){var h=new ee(u.IMAGINARY);return h.imaginary=!0,h},ee.infinity=function(h){var S=new ee("Infinity");return h===-1&&S.negate(),S},ee.shell=function(h,S){var M=new ee(S);return M.group=h,M.symbols={},M.length=0,M},ee.unwrapSQRT=function(h,S){var M=h.power;if(h.fname===T&&(h.isLinear()||S)){var P=h.args[0].clone();P.power=P.power.multiply(new vt(.5)),P.multiplier=P.multiplier.multiply(h.multiplier),h=P,S&&(h.power=M.multiply(new vt(.5)))}return h},ee.hyp=function(h,S){return h=h||new ee(0),S=S||new ee(0),r.sqrt(r.add(r.pow(h.clone(),new ee(2)),r.pow(S.clone(),new ee(2))))},ee.toPolarFormArray=function(h){var S,M,P,W;return S=h.realpart(),M=h.imagpart(),P=ee.hyp(S,M),W=S.equals(0)?r.parse("pi/2"):r.trig.atan(r.divide(M,S)),[P,W]},ee.unwrapPARENS=function(h){if(h.fname===""){var S=h.args[0];return S.power=S.power.multiply(h.power),S.multiplier=S.multiplier.multiply(h.multiplier),h.fname===""?ee.unwrapPARENS(S):S}return h},ee.create=function(h,S){return S=S===void 0?1:S,r.parse("("+h+")^("+S+")")},ee.prototype={getNth:function(h){var S=Wt(r.pow(r.parse(this.multiplier),r.parse(h).invert())),M=r.parse(ct(S)),P=Wt(r.pow(M,r.parse(h)));return P.equals(r.parse(this.multiplier))?M:S},isToNth:function(h){var S=this.getNth(h),M=oe(S),P;return this.group===v?(P=!0,this.each(function(W){var Z=W.isToNth(h);Z||(P=!1)})):P=this.group===c?!0:oe(r.divide(r.parse(this.power),r.parse(h))),M&&P},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===v){var h=[],M=this.multiplier.sign();this.each(function(jt){var ft=jt.power;if(be(ft)||ft.equals(1))return this.clone();h.push(ft)});var S=new vt(Te(h)),M=this.multiplier.sign(),P=this.multiplier.clone().abs(),W=zt.ifactor(P),Z=new vt(1),Q=new vt(1);for(var ce in W){var He=new vt(W[ce]);He.lessThan(S)||(He=He.divide(S).subtract(new vt(1)),Q=Q.multiply(new vt(ce))),Z=Z.multiply(r.parse(ue(ce)+"^"+ue(He)).multiplier)}var Ue=new ee(Q);this.each(function(jt){jt=jt.clone(),jt.power=jt.power.divide(S),Ue=r.multiply(Ue,jt)});var We=r.symfunction(D,[Ue]);return We.power=S,We.multiplier=M<0?Z.negate():Z,We}return this.clone()},equals:function(h){return be(h)||(h=new ee(h)),this.value===h.value&&this.power.equals(h.power)&&this.multiplier.equals(h.multiplier)&&this.group===h.group},abs:function(){var h=this.clone();return h.multiplier.abs(),h},gt:function(h){return be(h)||(h=new ee(h)),this.isConstant()&&h.isConstant()&&this.multiplier.greaterThan(h.multiplier)},gte:function(h){return be(h)||(h=new ee(h)),this.equals(h)||this.isConstant()&&h.isConstant()&&this.multiplier.greaterThan(h.multiplier)},lt:function(h){return be(h)||(h=new ee(h)),this.isConstant()&&h.isConstant()&&this.multiplier.lessThan(h.multiplier)},lte:function(h){return be(h)||(h=new ee(h)),this.equals(h)||this.isConstant()&&h.isConstant()&&this.multiplier.lessThan(h.multiplier)},isPoly:function(h){var S=this.group,M=this.power;if(!oe(M)||M<0)return!1;if(S===c||S===d||this.isConstant(!0))return!0;var P=Pe(this);if(S===v&&P.length===1){var W=P[0];if(!W)return!0;for(var Z in this.symbols){var Q=this.symbols[Z];if(Q.group===m&&!Q.args[0].isConstant()||!Q.contains(W)&&!Q.isConstant(!0))return!1}return!0}if(this.isComposite()||S===v&&h){if(!h&&P.length>1)return!1;for(var Z in this.symbols)if(!this.symbols[Z].isPoly(h))return!1;return!0}else return!1},stripVar:function(h,S){var M;return(this.group===g||this.group===d)&&this.value===h?M=new ee(S?0:this.multiplier):this.group===v&&this.isLinear()?(M=new ee(1),this.each(function(P){P.contains(h,!0)||(M=r.multiply(M,P.clone()))}),M.multiplier=M.multiplier.multiply(this.multiplier)):this.group===b&&!this.isLinear()?M=new ee(this.multiplier):this.group===b&&this.isLinear()?(M=new ee(0),this.each(function(P){if(!P.contains(h)){var W=P.clone();W.multiplier=W.multiplier.multiply(this.multiplier),M=r.add(M,W)}}),M.equals(0)&&(M=new ee(this.multiplier))):this.group===p&&this.power.contains(h,!0)?M=new ee(this.multiplier):this.group===m&&this.contains(h)?M=new ee(this.multiplier):M=this.clone(),M},toArray:function(h,S){S=S||{arr:[],add:function(ce,He){var Ue=this.arr[He];this.arr[He]=Ue?r.add(Ue,ce):ce}};var M=this.group;if(M===d&&this.contains(h))S.add(new ee(this.multiplier),this.power);else if(M===v){var P=this.stripVar(h),W=r.divide(this.clone(),P.clone()),Z=W.isConstant()?0:W.power;S.add(P,Z)}else if(M===g&&this.value===h)this.each(function(ce,He){S.add(ce.stripVar(h),He)});else if(M===b)this.each(function(ce){ce.toArray(h,S)});else{if(this.contains(h))throw new Se("Cannot convert to array! Exiting");S.add(this.clone(),0)}S=S.arr;for(var Q=0;Q<S.length;Q++)S[Q]||(S[Q]=new ee(0));return S},hasFunc:function(h){var S=this.group===m||this.group===p;if(S&&!h||S&&this.contains(h))return!0;if(this.symbols){for(var M in this.symbols)if(this.symbols[M].hasFunc(h))return!0}return!1},sub:function(h,S){h=be(h)?h.clone():r.parse(h),S=be(S)?S.clone():r.parse(S),(h.group===c||h.group===f)&&C("Cannot substitute a number. Must be a variable");var M=!1,P=h.multiplier.equals(1),W=this.multiplier.clone(),Z;if(this.value===h.value&&(this.group!==g&&h.group!==g||this.group===g&&h.group===g))(P||h.multiplier.equals(this.multiplier))&&(h.isLinear()?Z=S:h.power.equals(this.power)&&(Z=S,M=!0),h.multiplier.equals(this.multiplier)&&(W=new vt(1)));else if(this.group===v||this.previousGroup===v)Z=new ee(1),this.each(function(Tt){var ln=r.parse(Tt.sub(h,S));Z=r.multiply(Z,ln)});else if(this.isComposite()){var Q=this.clone();if(h.isComposite()&&Q.isComposite()&&Q.isLinear()&&h.isLinear()){var ce=function(Tt,ln){for(var un in Tt.symbols){var zn=Tt.symbols[un];if(zn.isComposite()&&ce(zn,ln)||zn.equals(ln))return!0}return!1};for(var He in h.symbols)if(!ce(Q,h.symbols[He]))return Q.clone();Z=r.add(r.subtract(Q.clone(),h),S)}else Z=new ee(0),Q.each(function(Tt){Z=r.add(Z,Tt.sub(h,S))})}else if(this.group===p)Z=r.parse(this.value).sub(h,S);else if(this.group===m){for(var Ue=[],We=0;We<this.args.length;We++){var jt=this.args[We];be(jt)||(jt=r.parse(jt)),Ue.push(jt.sub(h,S))}Z=r.symfunction(this.fname,Ue)}if(Z){if(!M){var ft=this.group===p?this.power.sub(h,S):r.parse(this.power);Z=r.pow(Z,ft)}return Z.multiplier=Z.multiplier.multiply(W),Z}return this.clone()},isMonomial:function(){if(this.group===d)return!0;if(this.group===v){for(var h in this.symbols)if(this.symbols[h].group!==d)return!1}else return!1;return!0},isPi:function(){return this.group===d&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===T},isConstant:function(h,S){if(S&&this.group===v){for(var M in this.symbols)if(this.symbols[M].isConstant(!0))return!0}if(h==="functions"&&this.isComposite()){var P=!0;return this.each(function(Z){Z.isConstant(h,S)||(P=!1)},!0),P}if(h==="all"&&(this.isPi()||this.isE()))return!0;if(h&&this.group===m){for(var W=0;W<this.args.length;W++)if(!this.args[W].isConstant(h))return!1;return!0}return h?pe(this):this.value===_},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var h in this.symbols)if(this.symbols[h].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new ee(0);if(this.isComposite()){var h=new ee(0);return this.each(function(S){h=r.add(h,S.realpart())}),h}else if(this.isImaginary())return new ee(0);return this.clone()},imagpart:function(){if(this.group===d&&this.isImaginary())return new ee(this.multiplier);if(this.isComposite()){var h=new ee(0);return this.each(function(S){h=r.add(h,S.imagpart())}),h}return this.group===v?this.stripVar(u.IMAGINARY):new ee(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(h){if(h){if(this.isConstant())return!0;if(this.group===d)return this.value===h?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var S in this.symbols)if(!this.symbols[S].isLinear(h))return!1;return!0}return this.group===v&&this.symbols[h]?this.symbols[h].isLinear(h):!1}else return this.power.equals(1)},containsFunction:function(h){if(typeof h=="string"&&(h=[h]),this.group===m&&h.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var S in this.symbols)if(this.symbols[S].containsFunction(h))return!0}return!1},multiplyPower:function(h){if(this.group===c&&this.multiplier.equals(1))return this;var S=this.power;if(this.group!==p&&h.group===c){var M=h.multiplier;this.group===c&&!M.isInteger()&&this.convert(f),this.power=S.equals(1)?M.clone():S.multiply(M),this.group===f&&oe(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(c))}else this.group!==p&&(S=new ee(S),this.convert(p)),this.power=r.multiply(S,h);return this},setPower:function(h,S){if(this.group===c&&this.multiplier.equals(1))return this;if(this.group===p&&!be(h))this.group=this.previousGroup,delete this.previousGroup,this.group===c?(this.multiplier=new vt(this.value),this.value=_):this.power=h;else{var M=!1;be(h)&&(h.group===c?h=h.multiplier:M=!0);var P=M?p:f;this.power=h,this.group===c&&P&&this.convert(P,S)}return this},isInverse:function(){return this.group===p?this.power.multiplier.lessThan(0):this.power<0},clone:function(h){var S=h||new ee(0),M=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],P=M.length,W;if(this.symbols){S.symbols={};for(var Z in this.symbols)S.symbols[Z]=this.symbols[Z].clone()}for(W=0;W<P;W++)this[M[W]]!==void 0&&(S[M[W]]=this[M[W]]);return S.power=this.power.clone(),S.multiplier=this.multiplier.clone(),this.isConversion&&(S.isConversion=this.isConversion),this.isUnit&&(S.isUnit=this.isUnit),S},toUnitMultiplier:function(h){return this.multiplier.num=new i(this.multiplier.num.isNegative()&&h?-1:1),this.multiplier.den=new i(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new vt(1)),this)},each:function(h,S){if(!this.symbols)h.call(this,this,this.value);else for(var M in this.symbols){var P=this.symbols[M];if(P.group===g&&S)for(var W in P.symbols)h.call(M,P.symbols[W],W);else h.call(this,P,M)}},valueOf:function(){return this.group===c?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:Rn(this,"decimals")},contains:function(h,S){h=String(h);var M=this.group;if(this.value===h)return!0;if(this.symbols){for(var P in this.symbols)if(this.symbols[P].contains(h,S))return!0}if(M===m||this.previousGroup===m){for(var W=0;W<this.args.length;W++)if(this.args[W].contains(h,S))return!0}return M===p&&(S&&this.power.contains(h,S)||this.value===h)?!0:this.value===h},negate:function(){return this.multiplier.negate(),(this.group===b||this.group===g)&&this.distributeMultiplier(),this},invert:function(h,S){return h||(this.multiplier=this.multiplier.invert()),be(this.power)?this.power.negate():this.group===v&&S?this.each(function(M){return M.invert()}):this.power&&this.group!==c&&this.power.negate(),this},distributeMultiplier:function(h){var S=h?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&S&&this.group!==v&&!this.multiplier.equals(1)){for(var M in this.symbols){var P=this.symbols[M];P.multiplier=P.multiplier.multiply(this.multiplier),P.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var h=this.power;for(var S in this.symbols){var M=this.symbols[S];M.group===p?M.power=r.multiply(M.power,new ee(h)):this.symbols[S].power=this.symbols[S].power.multiply(h)}this.toLinear()}return this},convert:function(h,S){if(h>m){var M=this.clone();this.symbols={},h===v?M.toUnitMultiplier():this.toUnitMultiplier(),this.group===m&&(M.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[M.keyForGroup(h)]=M,this.group=h,this.length=1}else if(h===p)this.group===c&&this.multiplier.equals(1)||(this.group!==p&&(this.previousGroup=this.group),this.group===c?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=Rn(this,"hash"),this.group=p);else if(h===c){var P=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new ee(this.group===f?P*Math.pow(this.value,this.power):P).clone(this)}else h===f&&this.group===c&&(this.value=S?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!S),this.group=f);return this},insert:function(h,S){if(be(h)||C("Object "+h+" is not of type Symbol!"),this.symbols){var M=this.group;if(M>m){var P=h.keyForGroup(M),W=P in this.symbols?this.symbols[P]:!1;if(S==="add"){var Z=P;W?(this.symbols[Z]=r.add(W,h),this.symbols[Z].multiplier.equals(0)&&(delete this.symbols[Z],this.length--,this.length===0&&(this.convert(c),this.multiplier=new vt(0)))):(this.symbols[P]=h,this.length++)}else h.group===f&&oe(h.power)&&h.convert(c),h.group!==p?(this.multiplier=this.multiplier.multiply(h.multiplier),h.toUnitMultiplier()):(h.parens=h.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(h.multiplier.clone().abs()),h.toUnitMultiplier(!0)),W&&(h=r.multiply(Lt(this.symbols,P),h),h.isConstant()&&(this.multiplier=this.multiplier.multiply(h.multiplier),h=new ee(1)),this.length--),h.isOne(!0)?h.multiplier.lessThan(0)&&this.negate():(this.symbols[P]=h,this.length++);this.length===0&&this.convert(c),(this.group===b||this.group===v)&&this.updateHash()}}return this},attach:function(h){if(lt(h)){for(var S=0;S<h.length;S++)this.insert(h[S],"add");return this}return this.insert(h,"add")},combine:function(h){if(lt(h)){for(var S=0;S<h.length;S++)this.insert(h[S],"multiply");return this}return this.insert(h,"multiply")},updateHash:function(){if(this.group!==c)if(this.group===m){for(var h="",S=this.args,M=this.fname===D,P=0;P<S.length;P++)h+=(P===0?"":",")+Rn(S[P]);var W=M?"":this.fname;this.value=W+(M?h:ue(h))}else this.group===d||this.group===g||(this.value=Rn(this,"hash"))},keyForGroup:function(h){var S=this.group,M;if(S===c)M=this.value;else if(S===d||S===f)h===g?M=this.power.toDecimal():M=this.value;else if(S===m)h===g?M=this.power.toDecimal():M=Rn(this,"hash");else{if(S===g)return h===v?M=Rn(this,"hash"):h===b?this.power.equals(1)?M=this.value:M=ue(Rn(this,"hash"))+u.POWER_OPERATOR+this.power.toDecimal():h===g?M=this.power.toString():M=this.value,M;S===b?(h===b&&(M=Rn(this,"hash")),h===g?M=this.power.toDecimal():M=this.value):S===v?h===g?M=this.power.toDecimal():M=Rn(this,"hash"):S===p&&(h===g?M=Rn(this.power):M=Rn(this,"hash"))}return M},collectSymbols:function(h,S,M,P){var W=[];if(!this.symbols)W.push(this);else for(var Z in this.symbols){var Q=this.symbols[Z];P&&(Q.group===g||Q.group===b)?W=W.concat(Q.collectSymbols()):W.push(h?h(Q,S):Q)}return M===null&&(M=void 0),W.sort(M)},latex:function(h){return Fn.latex(this,h)},text:function(h){return Rn(this,h)},isOne:function(h){var S=h?"absEquals":"equals";return this.group===c?this.multiplier[S](1):this.power.equals(0)},isComposite:function(){var h=this.group,S=this.previousGroup;return h===b||h===g||S===g||S===b},isCombination:function(){var h=this.group,S=this.previousGroup;return h===v||S===v},lessThan:function(h){return this.multiplier.lessThan(h)},greaterThan:function(h){return be(h)||(h=new ee(h)),!this.isConstant(!0)||!h.isConstant(!0)?!1:this.multiplier.greaterThan(h.multiplier)},getDenom:function(){var h,S;if(S=this.clone(),this.group===v&&this.power.lessThan(0)&&(S=r.expand(S)),S.power.lessThan(0)||S.group===p&&S.power.multiplier.lessThan(0)){var M=r.parse(S.multiplier.den);h=S.toUnitMultiplier(),h.power.negate(),h=r.multiply(M,h)}else if(S.group===v){h=r.parse(S.multiplier.den);for(var P in S.symbols){var W=S.symbols[P];(W.power<0||W.group===p&&W.power.multiplier.lessThan(0))&&(h=r.multiply(h,S.symbols[P].clone().invert()))}}else h=r.parse(S.multiplier.den);return h},getNum:function(){var h,S;return S=this.clone(),S.group===v&&S.power.lessThan(0)&&(S=r.expand(S)),S.power.greaterThan(0)&&S.group!==v||S.group===p&&S.power.multiplier.greaterThan(0)?h=r.multiply(r.parse(S.multiplier.num),S.toUnitMultiplier()):S.group===v?(h=r.parse(S.multiplier.num),S.each(function(M){(M.power>0||M.group===p&&M.power.multiplier>0)&&(h=r.multiply(h,M.clone()))})):h=r.parse(S.multiplier.num),h},toString:function(){return this.text()}};function Io(){var h=this,S={},M={names:[],actions:[]};function P(y,E){this.start=y,this.end=E}P.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},P.prototype.text=function(){return Rn(this.start)+":"+Rn(this.end)};function W(){this.elements=[]}W.prototype.append=function(y){this.elements.push(y)},W.prototype.getItems=function(){return this.elements},W.prototype.toString=function(){return h.pretty_print(this.elements)},W.create=function(y){var E=new W;return y&&E.append(y),E};function Z(y,E,K){if(this.type=E,this.value=y,K!==void 0&&(this.column=K+1),E===Z.OPERATOR){var te=Ue[y];for(var ve in te)this[ve]=te[ve]}else E===Z.FUNCTION&&(this.precedence=Z.MAX_PRECEDENCE,this.leftAssoc=!1)}Z.prototype.toString=function(){return this.value},Z.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},Z.OPERATOR="OPERATOR",Z.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",Z.FUNCTION="FUNCTION",Z.UNIT="UNIT",Z.KEYWORD="KEYWORD",Z.MAX_PRECEDENCE=999,this.classes={Collection:W,Slice:P,Token:Z};var Q={prec:void 0,cos:function(y,E){var K,te;return K=h.parse(Math.cos(y)*Math.cosh(E)),te=h.parse(Math.sin(y)*Math.sinh(E)),h.subtract(K,h.multiply(te,ee.imaginary()))},sin:function(y,E){var K,te;return K=h.parse(Math.sin(y)*Math.cosh(E)),te=h.parse(Math.cos(y)*Math.sinh(E)),h.subtract(K,h.multiply(te,ee.imaginary()))},tan:function(y,E){var K,te;return K=h.parse(Math.sin(2*y)/(Math.cos(2*y)+Math.cosh(2*E))),te=h.parse(Math.sinh(2*E)/(Math.cos(2*y)+Math.cosh(2*E))),h.add(K,h.multiply(te,ee.imaginary()))},sec:function(y,E){var K=this.removeDen(this.cos(y,E));return h.subtract(K[0],h.multiply(K[1],ee.imaginary()))},csc:function(y,E){var K=this.removeDen(this.sin(y,E));return h.add(K[0],h.multiply(K[1],ee.imaginary()))},cot:function(y,E){var K=this.removeDen(this.tan(y,E));return h.subtract(K[0],h.multiply(K[1],ee.imaginary()))},acos:function(y,E){var K,te,ve,De,Re,$e;return K=this.fromArray([y,E]),$e=h.pow(K.clone(),new ee(2)),te=h.expand($e),ve=h.multiply(zr(h.subtract(new ee(1),te)),ee.imaginary()),De=h.expand(h.add(K.clone(),ve)),Re=xo(De),h.expand(h.multiply(ee.imaginary().negate(),Re))},asin:function(y,E){return h.subtract(h.parse("pi/2"),this.acos(y,E))},atan:function(y,E){if(y.equals(0)&&(E.equals(1)||E.equals(-1)))return h.parse(`${ee.infinity()}*${u.IMAGINARY}*${E}`);var K,te,ve,De;return De=Q.fromArray([y,E]),K=h.expand(h.multiply(ee.imaginary(),De.clone())),te=xo(h.expand(h.subtract(new ee(1),K.clone()))),ve=xo(h.expand(h.add(new ee(1),K.clone()))),h.expand(h.multiply(h.divide(ee.imaginary(),new ee(2)),h.subtract(te,ve)))},asec:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.acos.apply(this,K)},acsc:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.asin.apply(this,K)},acot:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.atan.apply(this,K)},cosh:function(y,E){var K,te;return K=h.parse(Math.cosh(y)*Math.cos(E)),te=h.parse(Math.sinh(y)*Math.sin(E)),h.add(K,h.multiply(te,ee.imaginary()))},sinh:function(y,E){var K,te;return K=h.parse(Math.sinh(y)*Math.cos(E)),te=h.parse(Math.cosh(y)*Math.sin(E)),h.add(K,h.multiply(te,ee.imaginary()))},tanh:function(y,E){var K,te;return K=h.parse(Math.sinh(2*y)/(Math.cos(2*E)+Math.cosh(2*y))),te=h.parse(Math.sin(2*E)/(Math.cos(2*E)+Math.cosh(2*y))),h.subtract(K,h.multiply(te,ee.imaginary()))},sech:function(y,E){var K=this.removeDen(this.cosh(y,E));return h.subtract(K[0],h.multiply(K[1],ee.imaginary()))},csch:function(y,E){var K=this.removeDen(this.sinh(y,E));return h.subtract(K[0],h.multiply(K[1],ee.imaginary()))},coth:function(y,E){var K=this.removeDen(this.tanh(y,E));return h.add(K[0],h.multiply(K[1],ee.imaginary()))},acosh:function(y,E){var K,te,ve;return ve=this.fromArray([y,E]),K=zr(h.add(ve.clone(),new ee(1))),te=zr(h.subtract(ve.clone(),new ee(1))),h.expand(xo(h.add(ve,h.expand(h.multiply(K,te)))))},asinh:function(y,E){var K,te;return te=this.fromArray([y,E]),K=zr(h.add(new ee(1),h.expand(h.pow(te.clone(),new ee(2))))),h.expand(xo(h.add(te,K)))},atanh:function(y,E){var K,te,ve;return ve=this.fromArray([y,E]),K=xo(h.add(ve.clone(),new ee(1))),te=xo(h.subtract(new ee(1),ve)),h.expand(h.divide(h.subtract(K,te),new ee(2)))},asech:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.acosh.apply(this,K)},acsch:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.asinh.apply(this,K)},acoth:function(y,E){var K=this.removeDen([y,E]);return K[1].negate(),this.atanh.apply(this,K)},sqrt:function(y){var E,K,te,ve,De;return E=y.realpart(),K=y.imagpart(),te=ee.hyp(E,K),ve=h.add(E.clone(),te),De=zr(h.multiply(new ee(2),ve.clone())),h.add(h.divide(ve.clone(),De.clone()),h.multiply(h.divide(K,De),ee.imaginary()))},log:function(y,E){var K,te,ve;return K=xo(ee.hyp(y,E)),ve=u.USE_BIG?ee(o.atan2(E.multiplier.toDecimal(),y.multiplier.toDecimal())):Math.atan2(E,y),te=h.parse(ve),h.add(K,h.multiply(ee.imaginary(),te))},erf(y,E){return h.symfunction("erf",[y]);var K,te,ve,De,Re,$e,dt},removeDen:function(y){var E,K,te,ve,De;return lt(y)?(K=y[0],te=y[1]):(K=y.realpart(),te=y.imagpart()),E=Math.pow(K,2)+Math.pow(te,2),ve=h.parse(K/E),De=h.parse(te/E),[ve,De]},fromArray:function(y){return h.add(y[0],h.multiply(ee.imaginary(),y[1]))},evaluate:function(y,E){var K,te,ve;if(ve=y.power.sign(),y.power=y.power.abs(),y.power.greaterThan(1)&&(y=h.expand(y)),ve<0){var De=this.removeDen(y);K=De[0],te=De[1]}else K=y.realpart(),te=y.imagpart();return K.isConstant("all")&&te.isConstant("all")?this[E].call(this,K,te):h.symfunction(E,[y])}},ce=this.trig={cos:function(y){if(y.equals("pi")&&y.multiplier.den.equals(2))return new ee(0);if(u.PARSE2NUMBER){if(y.equals(new ee(u.PI/2)))return new ee(0);if(y.isConstant())return u.USE_BIG?new ee(o.cos(y.multiplier.toDecimal())):new ee(Math.cos(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"cos")}if(y.equals(0))return new ee(1);var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier.abs();if(y.multiplier=ve,y.isPi()&&y.isLinear())if(oe(ve))E=new ee(Je(ve)?1:-1);else{var De=Number(ve.num),Re=Number(ve.den);Re===2?E=new ee(0):Re===3?(E=h.parse("1/2"),K=!0):Re===4?(E=h.parse("1/sqrt(2)"),K=!0):Re===6?(E=h.parse("sqrt(3)/2"),K=!0):E=h.symfunction("cos",[y])}return K&&(te===2||te===3)&&E.negate(),E||(E=h.symfunction("cos",[y])),E},sin:function(y){if(u.PARSE2NUMBER){if(y.isConstant())return y%Math.PI===0?new ee(0):u.USE_BIG?new ee(o.sin(y.multiplier.toDecimal())):new ee(Math.sin(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"sin")}if(y.equals(0))return new ee(0);var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier.sign(),De=y.multiplier.abs();if(y.multiplier=De,y.equals("pi"))E=new ee(0);else if(y.isPi()&&y.isLinear())if(oe(De))E=new ee(0);else{var Re=De.num,$e=De.den;$e==2?(E=new ee(1),K=!0):$e==3?(E=h.parse("sqrt(3)/2"),K=!0):$e==4?(E=h.parse("1/sqrt(2)"),K=!0):$e==6?(E=h.parse("1/2"),K=!0):E=h.multiply(new ee(ve),h.symfunction("sin",[y]))}return E||(E=h.multiply(new ee(ve),h.symfunction("sin",[y]))),K&&(te===3||te===4)&&E.negate(),E},tan:function(y){if(u.PARSE2NUMBER){if(y%Math.PI===0&&y.isLinear())return new ee(0);if(y.isConstant())return u.USE_BIG?new ee(o.tan(y.multiplier.toDecimal())):new ee(Math.tan(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"tan")}var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier;if(y.multiplier=ve,y.isPi()&&y.isLinear())if(oe(ve))E=new ee(0);else{var De=ve.num,Re=ve.den;if(Re==2)throw new V("tan is undefined for "+y.toString());Re==3?(E=h.parse("sqrt(3)"),K=!0):Re==4?(E=new ee(1),K=!0):Re==6?(E=h.parse("1/sqrt(3)"),K=!0):E=h.symfunction("tan",[y])}return E||(E=h.symfunction("tan",[y])),K&&(te===2||te===4)&&E.negate(),E},sec:function(y){if(u.PARSE2NUMBER)return y.isConstant()?u.USE_BIG?new ee(new o(1).dividedBy(o.cos(y.multiplier.toDecimal()))):new ee(zt.sec(y.valueOf())):y.isImaginary()?Q.evaluate(y,"sec"):h.parse(fe("1/cos({0})",y));var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier.abs();if(y.multiplier=ve,y.isPi()&&y.isLinear())if(oe(ve))E=new ee(Je(ve)?1:-1);else{var De=ve.num,Re=ve.den;if(Re==2)throw new V("sec is undefined for "+y.toString());Re==3?(E=new ee(2),K=!0):Re==4?(E=h.parse("sqrt(2)"),K=!0):Re==6?(E=h.parse("2/sqrt(3)"),K=!0):E=h.symfunction("sec",[y])}return K&&(te===2||te===3)&&E.negate(),E||(E=h.symfunction("sec",[y])),E},csc:function(y){if(u.PARSE2NUMBER)return y.isConstant()?u.USE_BIG?new ee(new o(1).dividedBy(o.sin(y.multiplier.toDecimal()))):new ee(zt.csc(y.valueOf())):y.isImaginary()?Q.evaluate(y,"csc"):h.parse(fe("1/sin({0})",y));var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier.sign(),De=y.multiplier.abs();if(y.multiplier=De,y.isPi()&&y.isLinear()){if(oe(De))throw new V("csc is undefined for "+y.toString());var Re=De.num,$e=De.den;$e==2?(E=new ee(1),K=!0):$e==3?(E=h.parse("2/sqrt(3)"),K=!0):$e==4?(E=h.parse("sqrt(2)"),K=!0):$e==6?(E=new ee(2),K=!0):E=h.multiply(new ee(ve),h.symfunction("csc",[y]))}return E||(E=h.multiply(new ee(ve),h.symfunction("csc",[y]))),K&&(te===3||te===4)&&E.negate(),E},cot:function(y){if(u.PARSE2NUMBER)return y%(Math.PI/2)===0?new ee(0):y.isConstant()?u.USE_BIG?new ee(new o(1).dividedBy(o.tan(y.multiplier.toDecimal()))):new ee(zt.cot(y.valueOf())):y.isImaginary()?Q.evaluate(y,"cot"):h.parse(fe("1/tan({0})",y));var E,K=!1,te=ri(y.multiplier.toDecimal()),ve=y.multiplier;if(y.multiplier=ve,y.isPi()&&y.isLinear()){if(oe(ve))throw new V("cot is undefined for "+y.toString());var De=ve.num,Re=ve.den;Re==2?E=new ee(0):Re==3?(E=h.parse("1/sqrt(3)"),K=!0):Re==4?(E=new ee(1),K=!0):Re==6?(E=h.parse("sqrt(3)"),K=!0):E=h.symfunction("cot",[y])}return E||(E=h.symfunction("cot",[y])),K&&(te===2||te===4)&&E.negate(),E},acos:function(y){if(u.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var E=y.toString();return ii(Wt(`pi/2-asin(${E})`))}return u.USE_BIG?new ee(o.acos(y.multiplier.toDecimal())):new ee(Math.acos(y.valueOf()))}if(y.isImaginary())return Q.evaluate(y,"acos")}return h.symfunction("acos",arguments)},asin:function(y){if(u.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var E=u.IMAGINARY,K=y.multiplier.toDecimal();return ii(Wt(`${E}*log(sqrt(1-${K}^2)-${E}*${K})`))}return u.USE_BIG?new ee(o.asin(y.multiplier.toDecimal())):new ee(Math.asin(y.valueOf()))}if(y.isImaginary())return Q.evaluate(y,"asin")}return h.symfunction("asin",arguments)},atan:function(y){var E;if(y.equals(0))E=new ee(0);else{if(u.PARSE2NUMBER)return y.isConstant()?u.USE_BIG?new ee(o.atan(y.multiplier.toDecimal())):new ee(Math.atan(y.valueOf())):y.isImaginary()?Q.evaluate(y,"atan"):h.symfunction("atan",arguments);y.equals(-1)?E=h.parse("-pi/4"):E=h.symfunction("atan",arguments)}return E},asec:function(y){if(u.PARSE2NUMBER){if(y.equals(0))throw new se("Input is out of the domain of sec!");if(y.isConstant())return ce.acos(y.invert());if(y.isImaginary())return Q.evaluate(y,"asec")}return h.symfunction("asec",arguments)},acsc:function(y){if(u.PARSE2NUMBER){if(y.isConstant())return ce.asin(y.invert());if(y.isImaginary())return Q.evaluate(y,"acsc")}return h.symfunction("acsc",arguments)},acot:function(y){if(u.PARSE2NUMBER){if(y.isConstant())return new h.add(h.parse("pi/2"),ce.atan(y).negate());if(y.isImaginary())return Q.evaluate(y,"acot")}return h.symfunction("acot",arguments)},atan2:function(y,E){if(y.equals(0)&&E.equals(0))throw new V("atan2 is undefined for 0, 0");return u.PARSE2NUMBER&&y.isConstant()&&E.isConstant()?new ee(Math.atan2(y,E)):h.symfunction("atan2",arguments)}},He=this.trigh={cosh:function(y){var E;if(u.PARSE2NUMBER){if(y.isConstant())return new ee(Math.cosh(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"cosh")}return E=h.symfunction("cosh",arguments)},sinh:function(y){var E;if(u.PARSE2NUMBER){if(y.isConstant())return new ee(Math.sinh(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"sinh")}return E=h.symfunction("sinh",arguments)},tanh:function(y){var E;if(u.PARSE2NUMBER){if(y.isConstant())return new ee(Math.tanh(y.valueOf()));if(y.isImaginary())return Q.evaluate(y,"tanh")}return E=h.symfunction("tanh",arguments)},sech:function(y){var E;return u.PARSE2NUMBER?y.isConstant()?new ee(Math.sech(y.valueOf())):y.isImaginary()?Q.evaluate(y,"sech"):h.parse(fe("1/cosh({0})",y)):E=h.symfunction("sech",arguments)},csch:function(y){var E;return u.PARSE2NUMBER?y.isConstant()?new ee(Math.csch(y.valueOf())):y.isImaginary()?Q.evaluate(y,"csch"):h.parse(fe("1/sinh({0})",y)):E=h.symfunction("csch",arguments)},coth:function(y){var E;return u.PARSE2NUMBER?y.isConstant()?new ee(Math.coth(y.valueOf())):y.isImaginary()?Q.evaluate(y,"coth"):h.parse(fe("1/tanh({0})",y)):E=h.symfunction("coth",arguments)},acosh:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"acosh"):u.PARSE2NUMBER?E=Wt(h.parse(fe(u.LOG+"(({0})+sqrt(({0})^2-1))",y.toString()))):E=h.symfunction("acosh",arguments),E},asinh:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"asinh"):u.PARSE2NUMBER?E=Wt(h.parse(fe(u.LOG+"(({0})+sqrt(({0})^2+1))",y.toString()))):E=h.symfunction("asinh",arguments),E},atanh:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"atanh"):u.PARSE2NUMBER?E=Wt(h.parse(fe("(1/2)*"+u.LOG+"((1+({0}))/(1-({0})))",y.toString()))):E=h.symfunction("atanh",arguments),E},asech:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"asech"):u.PARSE2NUMBER?E=Wt(xo(h.add(y.clone().invert(),zr(h.subtract(h.pow(y,new ee(-2)),new ee(1)))))):E=h.symfunction("asech",arguments),E},acsch:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"acsch"):u.PARSE2NUMBER?E=Wt(h.parse(fe(u.LOG+"((1+sqrt(1+({0})^2))/({0}))",y.toString()))):E=h.symfunction("acsch",arguments),E},acoth:function(y){var E;return u.PARSE2NUMBER&&y.isImaginary()?E=Q.evaluate(y,"acoth"):u.PARSE2NUMBER?y.equals(1)?E=ee.infinity():E=Wt(h.divide(xo(h.divide(h.add(y.clone(),new ee(1)),h.subtract(y.clone(),new ee(1)))),new ee(2))):E=h.symfunction("acoth",arguments),E}};this.units={};var Ue={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(y){return y}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return h.symfunction(u.DOUBLEFACTORIAL,[y])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return kr(y)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(y){return h.divide(y,new ee(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},We={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},jt=this.functions={cos:[ce.cos,1],sin:[ce.sin,1],tan:[ce.tan,1],sec:[ce.sec,1],csc:[ce.csc,1],cot:[ce.cot,1],acos:[ce.acos,1],asin:[ce.asin,1],atan:[ce.atan,1],arccos:[ce.acos,1],arcsin:[ce.asin,1],arctan:[ce.atan,1],asec:[ce.asec,1],acsc:[ce.acsc,1],acot:[ce.acot,1],atan2:[ce.atan2,2],acoth:[He.acoth,1],asech:[He.asech,1],acsch:[He.acsch,1],sinh:[He.sinh,1],cosh:[He.cosh,1],tanh:[He.tanh,1],asinh:[He.asinh,1],sech:[He.sech,1],csch:[He.csch,1],coth:[He.coth,1],acosh:[He.acosh,1],atanh:[He.atanh,1],log10:[,1],exp:[di,1],radians:[Vi,1],degrees:[Fo,1],min:[Y0,-1],max:[Fl,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[Qr,1],tri:[,1],sign:[rg,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[kr,1],factorial:[kr,1],continued_fraction:[Vn,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[po,[1,2]],scientific:[nf,[1,2]],mod:[Da,2],pfactor:[Il,1],vector:[Ome,-1],matrix:[Nme,-1],Set:[Ime,-1],imatrix:[Pl,-1],parens:[ir,-1],sqrt:[zr,1],cbrt:[qi,1],nthroot:[Nl,2],log:[xo,[1,2]],expand:[X0,1],abs:[Ur,1],invert:[Ume,1],determinant:[Fme,1],size:[Pme,1],transpose:[$me,1],dot:[Lme,2],cross:[Bme,2],vecget:[Nh,2],vecset:[Eme,3],vectrim:[R3,[1,2]],matget:[Dme,3],matset:[kme,4],matgetrow:[Ame,2],matsetrow:[Mme,3],matgetcol:[Tme,2],matsetcol:[Rme,3],rationalize:[Ki,1],IF:[fo,3],is_in:[Dr,2],realpart:[Hu,1],imagpart:[rf,1],conjugate:[of,1],arg:[tl,1],polarform:[ng,1],rectform:[j0,1],sort:[Ss,[1,2]],integer_part:[,1],union:[zme,2],contains:[qme,2],intersection:[Vme,2],difference:[Hme,2],intersects:[Gme,2],is_subset:[jme,2],print:[Wme,-1]};this.error=C;var ft=function(y){for(var E=u.FUNCTION_MODULES,K=E.length,te=0;te<K;te++){var ve=E[te];if(y in ve)return ve[y]}C("The function "+y+" is undefined!")};this.override=function(y,E){S[y]||(S[y]=[]),S[y].push(this[y]),this[y]=E},this.restore=function(y){this[y]&&(this[y]=S[y].pop())},this.extend=function(y,E,K){var te=this,ve=this[y];if(typeof ve=="function"&&typeof E=="function"){var De=this[y];this[y]=function(Re,$e){return be(Re)&&be($e)&&!K?De.call(te,Re,$e):E.call(te,Re,$e,De)}}},this.symfunction=function(y,E){var K=new ee(y);return K.group=m,typeof E=="object"&&(E=[].slice.call(E)),K.args=E,K.fname=y===D?"":y,K.updateHash(),K},this.callfunction=function(y,E,K){var te=jt[y];te||C("Nerdamer currently does not support the function "+y);var ve=te[1]||K,De=te[0],Re;if(E instanceof Array||(E=E!==void 0?[E]:[]),ve!==-1){var $e=lt(ve),dt=$e?ve[0]:ve,pt=$e?ve[1]:ve,kt=E.length,Qe=y+" requires a {0} of {1} arguments. {2} provided!";kt<dt&&C(fe(Qe,"minimum",dt,kt)),kt>pt&&C(fe(Qe,"maximum",pt,kt))}var hn=O(E);return De?Re=De.apply(te[2],E):(De=ft(y),u.PARSE2NUMBER&&hn?Re=af(De.apply(De,E)):Re=h.symfunction(y,E)),Re},this.operator_filter_regex=function(){var y="^\\"+Object.keys(Ue).filter(function(E){if(E.length===1)return E}).join("\\");return new RegExp("(["+y+"])\\s+(["+y+"])")}(),this.setOperator=function(y,E,K){var te=y.operator;if(Ue[te]=y,E&&(this[y.action]=E),h[te]=y.operation,!y.action&&!(y.prefix||y.postif)&&(y.action=te),K==="over"||K==="under"){var ve=y.precedence;for(var De in Ue){var Re=Ue[De],$e=K==="over"?Re.precedence>=ve:Re.precedence>ve;$e&&Re.precedence++}}},this.getOperator=function(y){return Ue[y]},this.aliasOperator=function(y,E){var K={},te=Ue[y];for(var ve in te)K[ve]=te[ve];K.operator=E,this.setOperator(K)},this.getOperators=function(){return Ue},this.getBrackets=function(){return We};var Tt=function(y){y=String(y);for(var E=0;E<M.actions.length;E++)y=M.actions[E].call(this,y);for(y=y.replace(/\s+/g," "),/e/gi.test(y)&&(y=y.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(te){return Y(te)})),y=y.replace(u.IMPLIED_MULTIPLICATION_REGEX,function(){var te=arguments[4],ve=arguments[1],De=arguments[2],Re=arguments[3],$e=te.charAt(Re),dt="",pt="*";return $e.match(/[\+\-\/\*]/)||(dt=te.charAt(Re-1)),dt.match(/[a-z]/i)&&(pt=""),ve+pt+De}).replace(/([a-z0-9_]+)/gi,function(te,ve){return u.USE_MULTICHARACTER_VARS===!1&&!(ve in jt)&&isNaN(ve)?ve.split("").join("*"):ve}).replace(/\)\(/g,")*(")||"0";;){var K=y;if(y=y.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(te,ve,De,Re,$e){var dt=ve||Re,pt=De||$e;return dt in jt?dt+pt:dt+"*"+pt}),K===y)break}return y};this.initConstants=function(){this.CONSTANTS={E:new ee(u.E),PI:new ee(u.PI)}},this.pretty_print=function(y){if(Array.isArray(y)){var E=y.map(K=>h.pretty_print(K)).join(", ");return y.type==="vector"?"vector<"+E+">":"("+E+")"}return y.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(y){if(u.callPeekers)for(var E=this.peekers[y],K=Hn(arguments).slice(1).map(we),te=0;te<E.length;te++)E[te].apply(null,K)},this.tokenize=function(y){y=String(y),y=y.trim().replace(/\s+/g," ");for(var E in We){var K=new RegExp(We[E].is_close?"\\s+\\"+E:"\\"+E+"\\s+","g");y=y.replace(K,E)}for(var te=0,ve=y.length,De=0,Re=[],$e=[Re],dt=$e[0],pt=0,kt=[],Qe=!1,hn=" ",on="",xn=",",On="-",ar="*",Ar=function(Si,Lo){var Ji=[];Si!==void 0&&(Ji.type=Si),Ji.column=Lo,$e.push(Ji),dt.push(Ji),dt=Ji,pt++},$t=function(){$e.pop(),dt=$e[--pt]},An=function(Si){Si=Si!==void 0?Si:te;for(var Lo=Si+1;y.charAt(Lo++)in Ue;);return y.substring(Si,Lo-1)},Or=function(Si){for(var Lo=te-Si.length,Ji=[],Gu=Si.charAt(0),xd=1,ig=Si.length;xd<ig;xd++){var og=Si.charAt(xd),cf=Gu+og;cf in Ue?Gu=cf:(Ji.push(new Z(Gu,Z.OPERATOR,Lo+xd)),Gu=og)}return Ji.push(new Z(Gu,Z.OPERATOR,Lo+xd)),Ji},Jn=function(Si,Lo){Lo===void 0&&(Lo=y.substring(De,Si)),Lo in h.units?dt.push(new Z(Lo,Z.UNIT,De)):Lo!==""&&dt.push(new Z(Lo,Z.VARIABLE_OR_LITERAL,De))},Zr=function(Si){dt.push(new Z(Si,Z.FUNCTION,De))},pi=function(Si){De=Si+1},ei=function(){De=De+Qi.length-2,te=De-1};te<ve;te++){var oi=y.charAt(te);if(oi in Ue){Jn(te);var ki=dt[0]&&he(dt[0]),wo=ki&&oi===ar;Qe&&De<te&&!(oi===xn||wo)&&(Qe=!1,$t()),pi(te+1);var Qi=An(te);ei(),dt.push.apply(dt,Or(Qi))}else if(oi in We){var ho=We[oi];if(ho.is_open){kt.push([ho,De]);var Po=y.substring(De,te);Po in jt?Zr(Po):Po!==""&&dt.push(new Z(Po,Z.VARIABLE_OR_LITERAL,De)),Ar(ho.maps_to,te)}else if(ho.is_close){var lf=kt.pop();if(lf){if(lf[0].id!==ho.id-1)throw new Ae("Parity error")}else throw new Ae("Missing open bracket for bracket at: "+(te+1));Jn(te),$t()}pi(te)}else if(oi===hn){var Zi=y.substring(De,te),Ll=y.charAt(te+1);if(Qe){if(Zi in Ue)dt.push(new Z(Zi,Z.OPERATOR,te));else{Jn(void 0,Zi),$t();var uf=Ll in Ue;(uf&&Ue[Ll].value===On||!uf)&&dt.push(new Z(ar,Z.OPERATOR,te))}Qe=!1}else{var Po=y.substring(De,te);if(Po in jt)Qe=!0,Zr(Po),Ar();else if(Po in Ue)dt.push(new Z(Po,Z.OPERATOR,te));else{Jn(void 0,Po);var Ll=y.charAt(te+1);Zi!==on&&Ll!==on&&!(Zi in Ue)&&!(Ll in Ue)&&dt.push(new Z(ar,Z.OPERATOR,te))}}pi(te)}}if(kt.length){var fu=kt.pop();throw new Ae("Missing closed bracket for bracket at "+(fu[1]+1))}return Jn(te),Re},this.toRPN=function(y){var E=y.type,K=y.length,te,ve=[],De=[],Re=[],$e=function(ar,Ar){for(;ar.length;)Ar.push(ar.pop())};for(te=0;te<K;te++){var dt=y[te];if(dt.type!==Z.OPERATOR)break;if(!dt.prefix)throw new Ce("Not a prefix operator");dt.is_prefix=!0,De.push(dt)}for(;te<K;te++){var pt=y[te];if(pt.type===Z.OPERATOR){var kt=pt;if(kt.overloaded){var Qe=y[te+1];Qe&&Qe.type===Z.VARIABLE_OR_LITERAL&&(kt.postfix=!1,kt.action=kt.overloadAction,kt.leftAssoc=kt.overloadLeftAssoc)}for(;De.length;){var hn=De[De.length-1];if(!(hn.precedence>kt.precedence||!kt.leftAssoc&&hn.precedence===kt.precedence))break;ve.push(De.pop())}if((E==="vector"||E==="set")&&"vectorFn"in kt&&(kt.action=kt.vectorFn),kt.postfix){var on=y[te-1];if(on){if(on.type===Z.OPERATOR&&!on.postfix)throw new Ce("Unexpected prefix operator '"+on.value+"'! at "+on.column)}else throw new Ce("Unexpected prefix operator '"+pt.value+"'! at "+pt.column)}else do{var Qe=y[te+1],xn=Qe?Qe.type===Z.OPERATOR:!1;if(xn){if(!Qe.prefix)throw new Ce("A prefix operator was expected at "+Qe.column);Qe.is_prefix=!0,Re.push(Qe),te++}}while(xn);for(kt.is_prefix?Re.push(kt):De.push(kt);Re.length&&(kt.leftAssoc||!kt.leftAssoc&&Re[Re.length-1].precedence>=kt.precedence);)De.push(Re.pop())}else if(pt.type===Z.VARIABLE_OR_LITERAL){ve.length===0&&$e(Re,De),ve.push(pt);var On=De[De.length-1];(!On||!On.leftAssoc)&&$e(Re,ve)}else pt.type===Z.FUNCTION?De.push(pt):pt.type===Z.UNIT&&ve.push(pt);Array.isArray(pt)&&(ve.push(this.toRPN(pt)),pt.type&&ve.push(new Z(pt.type,Z.FUNCTION,pt.column)))}return $e(De,ve),$e(Re,ve),ve},this.parseRPN=function(y,E){try{E=E||{};for(var K in E)E[K]=h.parse(E[K],{});u.PARSE2NUMBER&&("e"in E||(E.e=new ee(u.E)),"pi"in E||(E.pi=new ee(u.PI)));for(var te=[],ve=0,De=y.length;ve<De;ve++){var Re=y[ve];if(Array.isArray(Re)&&(Re=this.parseRPN(Re,E)),Re)if(Re.type===Z.OPERATOR)if(Re.is_prefix||Re.postfix)te.push(Re.operation(te.pop()));else{var $e=te.pop(),dt=te.pop();if(typeof dt>"u")throw new Ce(Re+" is not a valid postfix operator at "+Re.column);var pt=Re.action==="comma";dt instanceof Zn&&!pt&&(dt=yr.fromSet(dt)),$e instanceof Zn&&!pt&&($e=yr.fromSet($e)),this.callPeekers("pre_operator",dt,$e,Re);var kt=h[Re.action](dt,$e);this.callPeekers("post_operator",kt,dt,$e,Re),te.push(kt)}else if(Re.type===Z.FUNCTION){var Qe=te.pop(),hn=Qe.parent;Qe instanceof W||(Qe=W.create(Qe));var on=Re.value,xn=Qe.getItems();this.callPeekers("pre_function",on,xn);var On=h.callfunction(on,xn);this.callPeekers("post_function",On,on,xn);var ar=te[te.length-1],Ar=y[ve+1],$t=Ar&&Ar.type===Z.OPERATOR&&Ar.value===",";if(!$t&&On instanceof yr&&ar&&ar.elements&&!(ar instanceof W)){var An=te.pop(),Or=On.elements[0];if(!Or.isConstant())An.getter=Or,te.push(An),te.push(On);else if(Or instanceof P)te.push(yr.fromArray(An.elements.slice(Or.start,Or.end)));else{var Jn=Number(Or),Zr=An.elements.length;if(Jn<0&&(Jn=Zr+Jn),Jn<0||Jn>=Zr)throw new tt("Index out of range "+(Re.column+1));var pi=An.elements[Jn];An.getter=Jn,pi.parent=An,te.push(pi)}}else hn&&(On.parent=hn),te.push(On)}else{var ei,oi=Re.value;oi in u.ALIASES?Re=h.parse(u.ALIASES[Re]):Re.type===Z.VARIABLE_OR_LITERAL?Re=new ee(oi):Re.type===Z.UNIT&&(Re=new ee(oi),Re.isUnit=!0),oi in h.CONSTANTS?(ei=Re,Re=new ee(h.CONSTANTS[oi])):oi in E&&oi!==E[oi].toString()?(ei=Re,Re=E[oi].clone()):oi in U&&(ei=Re,Re=U[oi].clone()),ei&&(Re.subbed=ei),te.push(Re)}}var ki=te[0];if(["undefined","string","number"].indexOf(typeof ki)!==-1)throw new _i("Unexpected token!");return ki}catch(Qi){var wo=[se];throw wo.forEach(function(ho){if(Qi instanceof ho)throw new ho(Qi.message+": "+Re.column)}),new ie(Qi.message+": "+Re.column)}};function ln(y){this.type=y.type,this.value=y.value,this.left=y.left,this.right=y.right}ln.prototype.toString=function(){var y=this.left?this.left.toString()+"---":"",E=this.right?"---"+this.right.toString():"";return y+"("+this.value+")"+E},ln.prototype.toHTML=function(y,E){y=y||0,E=typeof E>"u"?4:E;var K=function(Re){return" ".repeat(E*Re)},De="",te=this.left?K(y+1)+`<li>
`+this.left.toHTML(y+2,E)+K(y+1)+`</li> 
`:"",ve=this.right?K(y+1)+`<li>
`+this.right.toHTML(y+2,E)+K(y+1)+`</li>
`:"",De=K(y)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+K(y)+`
`;return(te||ve)&&(De+=K(y)+`<ul>
`+te+ve+K(y)+`</ul>
`),De+="",De},this.tree=function(y){for(var E=[],K=0;K<y.length;K++){var te=y[K];if(Array.isArray(te)){te=this.tree(te),E.push(te);continue}if(te.type===Z.OPERATOR)if(te.is_prefix||te.postfix){var ve=te.is_prefix?"left":"right",De=E.pop();te=new ln(te),te[ve]=De,E.push(te)}else te=new ln(te),te.right=E.pop(),te.left=E.pop(),E.push(te);else if(te.type===Z.FUNCTION){te=new ln(te);var Re=E.pop();if(te.right=Re,te.value==="object"){var De=E[E.length-1];if(De){for(;De.right;)De=De.right;De.right=te;continue}}E.push(te)}else E.push(new ln(te))}return E[0]},this.parse=function(y,E){y=Tt(y),E=E||{};var K=this.tokenize(y),te=this.toRPN(K);return this.parseRPN(te,E)},this.toObject=function(y){var E=function(K){for(var te=[],ve=0,De=K.length;ve<De;ve++){var Re=K[ve],$e=Re.value;if(Re.type===Z.VARIABLE_OR_LITERAL)te.push(new ee($e));else if(Re.type===Z.FUNCTION){ve++;var dt=h.symfunction($e,E(K[ve]));dt.isConversion=!0,te.push(dt)}else Re.type===Z.OPERATOR?te.push($e):te.push(E(Re))}return te};return E(h.tokenize(y))};var un=function(y){for(var E,K=0,te=[[]],E=0,ve=y.length;E<ve;E++)y[E]===","?(K++,te[K]=[]):te[K].push(y[E]);return te},zn=function(y){return y.replace(/^\\left\((.+)\\right\)$/g,function(E,K){return K||E})},cr=function(y){for(var E=[];y.length;){var K=y.shift(),te=y[0],ve=lt(te),De=te==="-";if(K==="^"&&(te==="+"?y.shift():ve&&te[0]==="+"&&te.shift(),ve&&te.length===1&&y.unshift(y.shift()[0])),K==="^"&&(ve&&te[0]==="-"||De)){var Re=E.pop(),$e=E[E.length-1],dt="1";$e==="*"?(E.pop(),dt=E.pop()):lt($e)&&(dt=E.pop()),E.push(dt,"/",Re,K),ve?te.shift():y.shift(),ve&&te.length===1&&E.push(y.shift()[0])}else E.push(K)}return E};this.toTeX=function(y,E){E=E||{};var K=E.decimals===!0?"decimals":void 0,te=typeof y=="string"?this.toObject(y):y,ve=[],De=typeof E.cdot>"u"?"\\cdot":E.cdot;if(te=cr(te),lt(te)){for(var Re=[],$e,dt,pt=0;pt<te.length;pt++)$e=te[pt],te[pt+1]==="^"?(dt=te[pt+2],Re.push(Fn.braces(this.toTeX([$e]))+"^"+Fn.braces(this.toTeX([dt]))),pt+=2):Re.push($e);te=Re}for(var pt=0,kt=te.length;pt<kt;pt++){var Qe=te[pt];if(Qe==="*"&&(Qe=De),be(Qe))if(Qe.group===m){var hn=Qe.fname,on;if(hn===T)on="\\sqrt"+Fn.braces(this.toTeX(Qe.args));else if(hn===N)on=Fn.brackets(this.toTeX(Qe.args),"abs");else if(hn===D)on=Fn.brackets(this.toTeX(Qe.args),"parens");else if(hn===u.LOG10)on="\\"+u.LOG10_LATEX+"\\left( "+this.toTeX(Qe.args)+"\\right)";else if(hn==="integrate"){var xn=un(Qe.args),On=Fn.braces(this.toTeX(xn[0])),ar=this.toTeX(xn[1]);on="\\int "+On+"\\, d"+ar}else if(hn==="defint"){var xn=un(Qe.args),On=Fn.braces(this.toTeX(xn[0])),ar=this.toTeX(xn[3]),Ar=this.toTeX(xn[1]),$t=this.toTeX(xn[2]);on="\\int\\limits_{"+Ar+"}^{"+$t+"} "+On+"\\, d"+ar}else if(hn==="diff"){var xn=un(Qe.args),ar="",On=Fn.braces(this.toTeX(xn[0]));if(xn.length===1){var An=[];for(Jn=0;Jn<xn[0].length;Jn++)xn[0][Jn].group===3&&An.push(xn[0][Jn].value);An.sort(),ar=An.length>0?"\\frac{d}{d "+An[0]+"}":"\\frac{d}{d x}"}else xn.length===2?ar="\\frac{d}{d "+xn[1]+"}":ar="\\frac{d^{"+xn[2]+"}}{d "+this.toTeX(xn[1])+"^{"+xn[2]+"}}";on=ar+"\\left("+On+"\\right)"}else if(hn==="sum"||hn==="product"){var Or=[[],[],[],[]],Jn=0,pt;for(pt=0;pt<Qe.args.length;pt++){if(Qe.args[pt]===","){Jn++;continue}Or[Jn].push(Qe.args[pt])}on=(hn==="sum"?"\\sum_":"\\prod_")+Fn.braces(this.toTeX(Or[1])+" = "+this.toTeX(Or[2])),on+="^"+Fn.braces(this.toTeX(Or[3]))+Fn.braces(this.toTeX(Or[0]))}else if(hn==="limit"){var Zr=un(Qe.args).map(function(ei){return Array.isArray(ei)?h.toTeX(ei.join("")):h.toTeX(String(ei))});on="\\lim_"+Fn.braces(Zr[1]+"\\to "+Zr[2])+" "+Fn.braces(Zr[0])}else hn===z||hn===j?on=this.toTeX(Qe.args)+(hn===z?"!":"!!"):on=Fn.latex(Qe,K);ve.push(on)}else ve.push(Fn.latex(Qe,K));else lt(Qe)?ve.push(Fn.brackets(this.toTeX(Qe))):Qe==="/"?ve.push(Fn.frac(zn(ve.pop()),zn(this.toTeX([te[++pt]])))):ve.push(Qe)}return ve.join(" ")};function ir(y){return u.PARSE2NUMBER?y:h.symfunction("parens",[y])}function Ur(y){if(y.isInfinity)return ee.infinity();if(y.multiplier.lessThan(0)&&y.multiplier.negate(),y.isImaginary()){var E=y.realpart(),K=y.imagpart();if(E.isConstant()&&K.isConstant())return zr(h.add(h.pow(E,new ee(2)),h.pow(K,new ee(2))))}else if(pe(y)||Je(y.power))return y;if(y.isComposite()){var te=[];y.each(function(Re){te.push(Re.multiplier)});var ve=zt.QGCD.apply(null,te);ve.lessThan(0)&&(y.multiplier=y.multiplier.multiply(new vt(-1)),y.distributeMultiplier())}var De=h.parse(y.multiplier);return y.toUnitMultiplier(),h.multiply(De,h.symfunction(N,[y]))}function kr(y){var E;if(xe(y)){var K=new yr;return y.each(function(kt,Qe){K.set(Qe-1,kr(kt))}),K}if(qe(y)){var te=new Qt;return y.each(function(kt,Qe,hn){te.set(Qe,hn,kr(kt))}),te}if(u.PARSE2NUMBER&&y.isConstant())return oe(y)?E=zt.bigfactorial(y):E=zt.gamma(y.multiplier.add(new vt(1)).toDecimal()),E=af(E),E;if(y.isConstant()){var ve=y.getDenom();if(ve.equals(2)){var De=y.getNum(),Re,$e,dt,pt;return y.multiplier.isNegative()?(pt=h.subtract(De.negate(),new ee(1)).multiplier.divide(new vt(2)),Re=h.pow(new ee(-4),new ee(pt)).multiplier.multiply(zt.bigfactorial(pt)),$e=zt.bigfactorial(new vt(2).multiply(pt))):(pt=h.add(De,new ee(1)).multiplier.divide(new vt(2)),Re=zt.bigfactorial(new vt(2).multiply(pt)),$e=h.pow(new ee(4),new ee(pt)).multiplier.multiply(zt.bigfactorial(pt))),dt=Re.divide($e),h.multiply(h.parse("sqrt(pi)"),new ee(dt))}}return h.symfunction(z,[y])}function Vn(y,E){var K=Wt(y);if(K.isConstant()){var te=zt.continuedFraction(K,E),ve=yr.fromArray(te.fractions.map(function(De){return new ee(De)}));return yr.fromArray([new ee(te.sign),new ee(te.whole),ve])}return h.symfunction("continued_fraction",arguments)}function co(y){var E=Wt(y);return E.isConstant()?zt.erf(E):E.isImaginary()?Q.erf(y):h.symfunction("erf",arguments)}function Da(y,E){if(y.isConstant()&&E.isConstant()){var K=new ee(1);return K.multiplier=K.multiplier.multiply(y.multiplier.mod(E.multiplier)),K}var te=h.divide(y.clone(),E.clone());return oe(te)?new ee(0):h.symfunction("mod",[y,E])}function fo(y,E,K){return typeof y!="boolean"&&pe(y)&&(y=!!Number(y)),y?E:K}function Dr(y,E){if(qe(y))for(var K=0,te=y.rows();K<te;K++)for(var ve=0,De=y.cols();ve<De;ve++){var Re=y.elements[K][ve];if(Re.equals(E))return new ee(1)}else if(y.elements){for(var K=0,te=y.elements.length;K<te;K++)if(y.elements[K].equals(E))return new ee(1)}return new ee(0)}function Qr(y){return u.PARSE2NUMBER?y.isConstant()?new ee(zt.sinc(y)):h.parse(fe("sin({0})/({0})",y)):h.symfunction("sinc",[y])}function di(y){return y.fname===u.LOG&&y.isLinear()?h.pow(y.args[0],ee.create(y.multiplier)):h.parse(fe("e^({0})",y))}function Vi(y){return h.parse(fe("({0})*pi/180",y))}function Fo(y){return h.parse(fe("({0})*180/pi",y))}function bd(y){var E,K;if(y.group===m&&y.fname===""?(E=ee.unwrapPARENS(h.parse(y).toLinear()),K=h.parse(y.power)):y.group===f&&(E=h.parse(y.value),K=h.parse(y.power)),E&&K&&E.group===c&&K.group===c){for(var te=[],ve=ee.toPolarFormArray(y),De=h.parse(E).abs().toString(),Re=tl(E).toString(),$e=K.multiplier.den.toString(),dt=K.multiplier.num.toString(),pt="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",kt=0;kt<$e;kt++){var Qe=Wt(h.parse(fe("(({0})+2*pi*({1}))/({2})",Re,kt,$e))).multiplier.toDecimal();te.push(Wt(h.parse(fe(pt,De,$e,u.IMAGINARY,Qe,dt))))}return yr.fromArray(te)}else if(y.isConstant(!0)){var hn=y.sign(),Re=Wt(y.abs()),on=h.sqrt(Re),te=[on.clone(),on.negate()];hn<0&&(te=te.map(function(ar){return h.multiply(ar,ee.imaginary())}))}else te=[h.parse(y)];return yr.fromArray(te)}function Ki(y){if(y.isComposite()){var E=new ee(0),K,te,ve,De,Re,$e,dt,pt;return y.each(function(kt){K=kt.getNum(),te=kt.getDenom(),ve=E.getNum(),De=E.getDenom(),Re=h.multiply(te,ve),$e=h.multiply(K,De),dt=h.expand(h.add(Re,$e)),pt=h.multiply(De,te),E=h.divide(dt,pt)},!0),E}return y}function zr(y){if(be(y)||(y=h.parse(y)),y.group===p)return h.symfunction(T,[y]);y.fname===""&&y.power.equals(1)&&(y=y.args[0]);var E=y.multiplier.sign()<0;if(u.PARSE2NUMBER){if(y.isConstant()&&!E)return new ee(o.sqrt(y.multiplier.toDecimal()));if(y.isImaginary())return Q.sqrt(y);if(y.group===d)return h.symfunction("sqrt",[y])}var K,te,ve=y.isConstant();if(y.group===v&&y.isLinear()){var De=zr(ee(y.multiplier));for(var Re in y.symbols){var $e=y.symbols[Re];De=h.multiply(De,zr($e))}te=De}else if(y.fname===T){var Re=y.args[0],dt=y.multiplier;Re.setPower(y.power.multiply(new vt(.25))),te=Re,dt.equals(1)||(te=h.multiply(zr(h.parse(dt)),te))}else if(!y.power.isInteger())y.setPower(y.power.multiply(new vt(.5))),te=y;else if(y.multiplier<0&&y.group===d){var pt=h.parse(y.multiplier).negate(),kt=h.parse(y).toUnitMultiplier().negate();te=h.multiply(h.symfunction(u.SQRT,[kt]),zr(pt))}else{var Qe=y.power.sign();y.power=y.power.abs(),ve&&y.multiplier.lessThan(0)&&(K=ee.imaginary(),y.multiplier=y.multiplier.abs());var hn=y.multiplier.toDecimal(),on=Math.abs(hn),xn=Math.sqrt(on),De;if(oe(xn))De=new ee(xn);else if(oe(hn)){var On=zt.ifactor(hn),ar=1;for(var $e in On){var Ar=On[$e],$t=Ar-Ar%2;if($t){var An=Math.pow($e,$t);ar*=Math.pow($e,$t/2),hn/=An}}De=h.multiply(h.symfunction(T,[new ee(hn)]),new ee(ar))}else{for(var Or=[new ee(y.multiplier.num),new ee(y.multiplier.den)],Jn=[new ee(1),new ee(1)],Zr=[new ee(1),new ee(1)],pi=0;pi<2;pi++){var Ar=Or[pi];Il(Ar).each(function(ki){ki=ee.unwrapPARENS(ki);var wo=ki.clone().toLinear(),Qi=Number(ki.power),ho=Qi%2,Po=(Qi-ho)/2;Jn[pi]=h.multiply(Jn[pi],h.pow(wo,new ee(Po))),Zr[pi]=h.multiply(Zr[pi],zr(h.pow(wo,new ee(ho))))})}De=h.divide(h.multiply(Jn[0],Zr[0]),h.multiply(Jn[1],Zr[1]))}y=y.toUnitMultiplier(!0),y.isOne()?te=y:Je(y.power.toString())?te=h.pow(y.clone(),new ee(.5)):te=h.symfunction(T,[y]),Qe<0&&te.power.negate(),De&&(te=h.multiply(De,te)),K&&(te=h.multiply(K,te))}return E&&u.PARSE2NUMBER?h.parse(te):te}function qi(y){if(!y.isConstant(!0)){var E,K=y.power/3,te=h.pow(h.parse(y.multiplier),new ee(1/3)),ve=y.toUnitMultiplier();return oe(K)?E=h.pow(ve.toLinear(),h.parse(K)):ve.group===v?(E=new ee(1),ve.each(function(De){E=h.multiply(E,qi(De))})):E=h.symfunction("cbrt",[ve]),h.multiply(te,E)}return Nl(y,new ee(3))}function nf(y,E){return y.scientific=E||10,y}function Nl(y,E,K,te){if(E=Wt(h.parse(E)),E.equals(0))throw new V("Unable to calculate nthroots of zero");if(y<0&&Je(E))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!y.isConstant(!0))return h.symfunction("nthroot",arguments);y.group!==c&&(y=Wt(y)),typeof te>"u"&&(te=!0),K=K||25;var ve=y.sign(),De,Re;if(ve<0&&(y=Ur(y)),oe(y)&&E.isConstant()){y<18446744073709552e3?Re=vt.create(Math.pow(y,1/E)):Re=zt.nthroot(y,E);var De;return te&&(De=new ee(Re)),De=new ee(Re.toDecimal(K)),h.multiply(new ee(ve),De)}}function Il(y){if(y.greaterThan(9999999999998891e26)||y.equals(-1))return y;if(y.equals(Math.PI))return new ee(Math.PI);if(y=Wt(y.clone()),y.isConstant()){var E=new ee(1),K=y.toString();if(oe(K)){var te=zt.ifactor(K);for(var ve in te){var De=te[ve];E=h.multiply(E,h.symfunction("parens",[new ee(ve).setPower(new vt(De))]))}}else{var Re=Il(new ee(y.multiplier.num)),$e=Il(new ee(y.multiplier.den));E=h.multiply(h.symfunction("parens",[Re]),h.symfunction("parens",[$e]).invert())}}else E=h.symfunction("pfactor",arguments);return E}function Hu(y){return y.realpart()}function rf(y){return y.imagpart()}function of(y){var E=y.realpart(),K=y.imagpart();return h.add(E,h.multiply(K.negate(),ee.imaginary()))}function tl(y){var E=y.realpart(),K=y.imagpart();return E.isConstant()&&K.isConstant()?K.equals(0)&&E.equals(-1)?h.parse("pi"):K.equals(1)&&E.equals(0)?h.parse("pi/2"):K.equals(1)&&E.equals(1)?h.parse("pi/4"):new ee(Math.atan2(K,E)):h.symfunction("atan2",[K,E])}function ng(y){var E,K,te,ve;return E=ee.toPolarFormArray(y),ve=E[1],K=E[0],te=h.parse(fe("e^({0}*({1}))",u.IMAGINARY,ve)),h.multiply(K,te)}function j0(y){var E=y.clone();try{var K,te,ve,De,Re,$e,dt;return K=Be(y,"e",!0),te=h.divide(K.x.power,ee.imaginary()),ve=Wt(ce.tan(te)),De=h.pow(K.a,new ee(2)),$e=ve.getDenom(!0),dt=ve.getNum(),Re=ee.hyp(dt,$e),Re.equals(K.a)?h.add($e,h.multiply(ee.imaginary(),dt)):E}catch{return E}}function W0(y,E){E.map(function($e){$e.numVal=Wt($e).multiplier});for(var K,te,ve,De,Re;;){if(K=E.length,K<2)return E[0];te=E.pop(),ve=E[K-2],(y==="min"?te.numVal<ve.numVal:te.numVal>ve.numVal)&&(E.pop(),E.push(te))}}function Fl(){var y=[].slice.call(arguments);return I(y)?y[0]:O(y)?new ee(Math.max.apply(null,y)):u.SYMBOLIC_MIN_MAX&&q(y)?W0("max",y):h.symfunction("max",y)}function Y0(){var y=[].slice.call(arguments);return I(y)?y[0]:O(y)?new ee(Math.min.apply(null,y)):u.SYMBOLIC_MIN_MAX&&q(y)?W0("min",y):h.symfunction("min",y)}function rg(y){return y.isConstant(!0)?new ee(Math.sign(Wt(y))):h.symfunction("sign",arguments)}function Ss(y,E){E=E?E.toString():"asc";var K=function(ve){return ve.group===c?ve.multiplier:ve.group===m?ve.fname===""?K(ve.args[0]):ve.fname:ve.group===d?ve.power:ve.value},te=xe(y)?y.elements:y.collectSymbols();return new yr(te.sort(function(ve,De){var Re=K(ve),$e=K(De);return E==="desc"?$e-Re:Re-$e}))}function xo(y,E){if(y.equals(1))return new ee(0);var K;if(y.fname===T&&y.multiplier.equals(1))return K=h.divide(xo(y.args[0]),new ee(2)),y.power.sign()<0&&K.negate(),K;if(y.equals(0))throw new V(u.LOG+"(0) is undefined!");if(y.isImaginary())return Q.evaluate(y,u.LOG);if(y.isConstant()&&typeof E<"u"&&E.isConstant()){var te=Math.log(y),ve=Math.log(E);K=new ee(te/ve)}else if(y.group===p&&y.power.multiplier.lessThan(0)||y.power.toString()==="-1")y.power.negate(),K=xo(y).negate();else if(y.value==="e"&&y.multiplier.equals(1)){var De=y.power;K=be(De)?De:new ee(De)}else if(y.group===m&&y.fname==="exp"){var Re=y.args[0];y.multiplier.equals(1)?K=h.multiply(Re,new ee(y.power)):K=h.symfunction(u.LOG,[y])}else if(u.PARSE2NUMBER&&pe(y)){y=h.parse(y);var $e;y.multiplier.lessThan(0)&&(y.negate(),$e=h.multiply(new ee(Math.PI),new ee("i"))),K=new ee(Math.log(y.multiplier.toDecimal())),$e&&(K=h.add(K,$e))}else{var Re;!y.power.equals(1)&&!y.contains("e")&&(Re=y.group===p?y.power:new ee(y.power),y.toLinear()),arguments.length>1&&I(arguments)?K=new ee(1):K=h.symfunction(u.LOG,arguments),Re&&(K=h.multiply(Re,K))}return K}function po(y,E){var K=E&&E.isConstant()||typeof E>"u";if(y.isConstant()&&K){var te,ve,De,Re;return te=y,E&&E.lessThan(0)&&(E=Ur(E),ve=Number(y).toExponential().toString().split("e"),te=ve[0],De=ve[1]),Re=new ee(ct(te,Number(E||0))),h.multiply(Re,h.pow(new ee(10),new ee(De||0)))}return h.symfunction("round",arguments)}function ri(y){var E=y%2,K;return E<0&&(E=2+E),E>=0&&E<=.5?K=1:E>.5&&E<=1?K=2:E>1&&E<=1.5?K=3:K=4,K}function af(y){if(!isFinite(y)){var E=Math.sign(y),K=new ee(String(Math.abs(y)));return K.multiplier=K.multiplier.multiply(new vt(E)),K}if(be(y))return y;if(typeof y=="number")try{y=vt.simple(y)}catch{y=new vt(y)}var te=new ee(0);return te.multiplier=y,te}function sf(y){var E=y.group,K;if(E===b){var te=y.getNum(),ve=y.getDenom()||new ee(1),De=Number(y.power),Re=new ee(1);if(Math.abs(De)===1){ve.each(function(pt){pt.group===v?Re=h.multiply(Re,sf(pt.getDenom())):pt.power.lessThan(0)&&(Re=h.multiply(Re,sf(pt.clone().toUnitMultiplier())))});var $e=new ee(0);ve.each(function(pt){$e=h.add(h.divide(pt,Re.clone()),$e)}),Re.invert();var dt;te.isComposite()?(dt=new ee(0),te.each(function(pt){dt=h.add(h.multiply(sf(pt),Re.clone()),dt)})):dt=h.multiply(Re,te),K=h.divide(dt,$e)}}else E===v?(K=new ee(1),y.each(function(pt){K=h.multiply(K,h.clean(pt))})):E===m&&y.args.length===1&&y.args[0].isConstant()&&(K=At("PARSE2NUMBER",function(){return h.parse(y)},!0));return K||(K=y),K}function X0(y,E){return E=E||{expand_denominator:!0,expand_functions:!0},ii(y,E)}function ii(y,E){if(Array.isArray(y))return y.map(function(xn){return ii(xn,E)});if(E=E||{},y.group===m&&y.fname===""){var K=ii(y.args[0],E),te=ii(h.pow(K,h.parse(y.power)),E);return h.multiply(h.parse(y.multiplier),te).distributeMultiplier()}if([c,f,d].indexOf(y.group)!==-1)return y;var ve=y.clone();try{var De=y.multiplier.toString(),Re=Number(y.power),$e=y;if(y.isComposite()&&oe(y.power)&&y.power>0){var dt=Re-1,K=new ee(0);y.each(function(On){K=h.add(K,ii(h.parse(On),E))});for(var pt=h.parse(K),kt=0;kt<dt;kt++)pt=G(pt,K,E);$e=h.multiply(h.parse(De),pt).distributeMultiplier()}else if(y.group===m&&E.expand_functions===!0){var Qe=[];y.args.forEach(function(xn){Qe.push(ii(xn,E))}),$e=h.pow(h.symfunction(y.fname,Qe),h.parse(y.power)),$e=h.multiply($e,h.parse(y.multiplier))}else if(y.isComposite()&&oe(y.power)&&y.power<0&&E.expand_denominator===!0)y=y.invert(),$e=ii(y,E),$e.invert();else if(y.group===v){var hn=function(On){switch(On.group){case b:return 0;case g:return 1;case v:return 2;case m:return 3;default:return 4}},on=y.collectSymbols().sort(function(On,ar){return hn(ar)-hn(On)}).map(function(On){var ar=h.pow(On,h.parse(Re)),Ar=ii(ar,E);return Ar}),K=on.pop();K.isComposite()&&K.isLinear()?(on.forEach(function(On){K=G(K,On,E)}),K.isComposite()?(K.power>1&&(K=ii(h.pow(K,h.parse(K.power)),E)),$e=h.multiply(h.parse(De),K).distributeMultiplier()):$e=K):($e=K,on.forEach(function(On){$e=h.multiply($e,On)}),$e=h.multiply($e,h.parse(De)).distributeMultiplier()),$e.group===v&&($e=h.parse($e))}else $e=y;return $e}catch{return ve}return ve}function Pl(y){return Qt.identity(y)}function Nh(y,E){return E.isConstant()&&oe(E)?y.elements[E]:h.symfunction("vecget",arguments)}function R3(y,E){return E=typeof E>"u"?1e-14:E,y=y.clone(),E=Number(E),y.elements.sort(function(K,te){return te.group-K.group}),y.elements=Ot(y.elements,function(K,te){var ve=Number(h.subtract(Wt(K),Wt(te)).abs());return ve<=E}),y}function Eme(y,E,K){return E.isConstant?(y.elements[E]=K,y):h.symfunction("vecset",arguments)}function Dme(y,E,K){return E.isConstant()&&K.isConstant()?y.elements[E][K]:h.symfunction("matget",arguments)}function Ame(y,E){return E.isConstant()?new Qt(y.elements[E]):h.symfunction("matgetrow",arguments)}function Mme(y,E,K){if(!E.isConstant())return h.symfunction("matsetrow",arguments);if(y.elements[E].length!==K.elements.length)throw new nt("Matrix row must match row dimensions!");var te=y.clone();return te.elements[E]=K.clone().elements,te}function Tme(y,E){if(!E.isConstant())return h.symfunction("matgetcol",arguments);E=Number(E);var K=Qt.fromArray([]);return y.each(function(te,ve,De){De===E&&K.elements.push([te.clone()])}),K}function Rme(y,E,K){if(!E.isConstant())return h.symfunction("matsetcol",arguments);if(E=Number(E),y.rows()!==K.elements.length)throw new nt("Matrix columns must match number of columns!");return K.each(function(te,ve){y.set(ve-1,E,te.elements[0].clone())}),y}function kme(y,E,K,te){return y.elements[E][K]=te,y}function Ome(){return new yr([].slice.call(arguments))}function Nme(){return Qt.fromArray(arguments)}function Ime(){return Zn.fromArray(arguments)}function Fme(y){return qe(y)?y.determinant():y}function Pme(y){var E;return qe(y)?E=[new ee(y.cols()),new ee(y.rows())]:xe(y)||Ge(y)?E=new ee(y.elements.length):C("size expects a matrix or a vector"),E}function Lme(y,E){if(xe(y)&&xe(E))return y.dot(E);C("function dot expects 2 vectors")}function Bme(y,E){if(xe(y)&&xe(E))return y.cross(E);C("function cross expects 2 vectors")}function $me(y){if(qe(y))return y.transpose();C("function transpose expects a matrix")}function Ume(y){if(qe(y))return y.invert();C("invert expects a matrix")}function zme(y,E){return y.union(E)}function Vme(y,E){return y.intersection(E)}function qme(y,E){return y.contains(E)}function Hme(y,E){return y.difference(E)}function Gme(y,E){return new ee(Number(y.intersects(E)))}function jme(y,E){return new ee(Number(y.is_subset(E)))}function Wme(){Hn(arguments).map(function(y){console.log(y.toString())})}function NM(y){if(!be(y.power)&&y.power.absEquals(.5)){var E=y.power.sign(),K=zr(y.group===f?new ee(y.value):y.toLinear());return E<0&&K.invert(),K}return y}function Yme(y){if(y.group===f){var E=y.value,K=Ea(E)[0];if(!K)return R("Unable to compute prime factors. This should not happen. Please review and report."),y;var te=new vt(Math.log(E)/Math.log(K)),ve=te.multiply(y.power);if(ve.den>y.power.den)return y;oe(ve)?y=ee(Math.pow(K,ve)):y=new ee(K).setPower(ve)}return y}this.expand=ii,this.round=po,this.clean=sf,this.sqrt=zr,this.cbrt=qi,this.abs=Ur,this.log=xo,this.rationalize=Ki,this.nthroot=Nl,this.arg=tl,this.conjugate=of,this.imagpart=rf,this.realpart=Hu,this.getFunction=function(y){return jt[y][0]},this.addPreprocessor=function(y,E,K,te){var ve=M.names,De=M.actions;if(typeof E!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");K?te?(ve.splice(K,0,y),De.splice(K,0,E)):(ve[K]=y,De[K]=E):(ve.push(y),De.push(E))},this.getPreprocessors=function(){for(var y={},E=0,K=y.names.length;E<K;E++){var te=y.names[E];y[te]={order:E,action:y.actions[E]}}return y},this.removePreprocessor=function(y,E){var K=M.names.indexOf(y);E?(Lt(M.names,K),Lt(M.actions,K)):(M.names[K]=void 0,M.actions[K]=void 0)},this.mapped_function=function(){for(var y={},E=this.params,K=0;K<E.length;K++)y[E[K]]=String(arguments[K]);return h.parse(this.body,y)},this.add=function(y,E){var K=be(y),te=be(E);if(K&&te){if(y.unit||E.unit)return h.Unit.add(y,E);if(y.isInfinity||E.isInfinity){var ve=y.multiplier.lessThan(0),De=E.multiplier.lessThan(0);if(y.isInfinity&&E.isInfinity&&ve!==De)throw new V("("+y+")+("+E+") is not defined!");var Re=ee.infinity();return De&&Re.negate(),Re}if(y.isComposite()&&y.isLinear()&&E.isComposite()&&E.isLinear()&&(y.distributeMultiplier(),E.distributeMultiplier(),E.length>y.length&&y.group===E.group&&([y,E]=[E,y])),y.multiplier.equals(0))return E;if(E.multiplier.equals(0))return y;if(y.isConstant()&&E.isConstant()&&u.PARSE2NUMBER){var An=new ee(y.multiplier.add(E.multiplier).toDecimal(u.PRECISION));return An}var $e=y.group,dt=E.group,pt=y.power.toString(),kt=E.power.toString();if($e<dt||$e===dt&&pt>kt&&kt>0)return this.add(E,y);if($e===v&&dt===g&&y.value===E.value){var Qe=y;y=E,E=Qe,$e=y.group,dt=E.group,pt=y.power.toString(),kt=E.power.toString()}var hn=pt===kt,on=y.value,xn=E.value,On=y.isComposite(),ar=E.isComposite(),Ar,$t,An;if(On&&(Ar=Rn(y,"hash")),ar&&($t=Rn(E,"hash")),$e===b&&dt===b&&E.isLinear()&&!y.isLinear()&&Ar!==$t)return this.add(E,y);$e===g&&dt===g&&(on=Ar,xn=$t);var Or=$e===f&&dt===c,Jn=y.value===E.multiplier.toString(),Zr=on===xn||Ar===$t&&Ar!==void 0||Or&&Jn;if(Zr&&hn&&$e===dt)if(Or&&(E=E.convert(f)),$e===g&&(dt===d||dt===f))y.distributeMultiplier(),An=y.attach(E);else if(An=y,y.multiplier.isOne()&&E.multiplier.isOne()&&$e===b&&y.isLinear()&&E.isLinear())for(var pi in E.symbols){var ei=E.symbols[pi];An.attach(ei)}else An.multiplier=An.multiplier.add(E.multiplier);else if(Zr&&$e!==g)$e===b&&dt===g?(E.insert(y,"add"),An=E):(An=ee.shell(g).attach([y,E]),An.value=$e===g?Ar:on);else if(On&&y.isLinear()){var oi=$e===dt,ki=$e===g&&dt===g;if(ki&&(oi=y.value===E.value),y.distributeMultiplier(),E.isComposite()&&E.isLinear()&&oi){E.distributeMultiplier();for(var pi in E.symbols){var ei=E.symbols[pi];y.attach(ei)}An=y}else ki&&y.value!==$t||$e===g&&!Zr?(An=ee.shell(b).attach([y,E]),An.updateHash()):An=y.attach(E)}else{if($e===m&&y.fname===T&&dt!==p&&E.power.equals(.5)){var wo=E.multiplier.clone();E=zr(E.toUnitMultiplier().toLinear()),E.multiplier=wo}y.length===2&&E.length===2&&Je(y.power)&&Je(E.power)?An=h.add(ii(y),ii(E)):(An=ee.shell(b).attach([y,E]),An.updateHash())}if(An.multiplier.equals(0)&&(An=new ee(0)),An.length===1){var wo=An.multiplier;An=X(An.symbols),An.multiplier=An.multiplier.multiply(wo)}return An}else{if(te&&!K){var Qe=y;y=E,E=Qe,Qe=te,te=K,K=Qe}var Qi=qe(E);if(K&&Qi){var ho=new Qt;E.eachElement(function(lf,Zi,Ll){ho.set(Zi,Ll,h.add(y.clone(),lf))}),E=ho}else if(qe(y)&&Qi)E=y.add(E);else if(K&&xe(E))E.each(function(lf,Zi){Zi--,E.elements[Zi]=h.add(y.clone(),E.elements[Zi])});else if(xe(y)&&xe(E))E.each(function(lf,Zi){Zi--,E.elements[Zi]=h.add(y.elements[Zi],E.elements[Zi])});else{if(xe(y)&&qe(E))return h.add(E,y);if(qe(y)&&xe(E))if(E.elements.length===y.rows()){var ho=new Qt,Po=y.cols();return E.each(function(Zi,Ll){for(var uf=[],fu=0;fu<Po;fu++)uf.push(h.add(y.elements[Ll-1][fu].clone(),Zi.clone()));ho.elements.push(uf)}),ho}else C("Dimensions must match!")}return E}},this.subtract=function(y,E){var K=K=be(y),te=be(E),ve;if(K&&te)return y.unit||E.unit?h.Unit.subtract(y,E):this.add(y,E.negate());if(te&&xe(y))E=y.map(function($e){return h.subtract($e,E.clone())});else if(K&&xe(E))E=E.map(function($e){return h.subtract(y.clone(),$e)});else if(xe(y)&&xe(E))y.dimensions()===E.dimensions()?E=y.subtract(E):h.error("Unable to subtract vectors. Dimensions do not match.");else if(qe(y)&&xe(E))if(E.elements.length===y.rows()){var De=new Qt,Re=y.cols();return E.each(function($e,dt){for(var pt=[],kt=0;kt<Re;kt++)pt.push(h.subtract(y.elements[dt-1][kt].clone(),$e.clone()));De.elements.push(pt)}),De}else C("Dimensions must match!");else if(xe(y)&&qe(E)){var De=E.clone().negate();return h.add(De,y)}else if(qe(y)&&qe(E))E=y.subtract(E);else if(qe(y)&&te){var De=new Qt;y.each(function(dt,pt,kt){De.set(pt,kt,h.subtract(dt,E.clone()))}),E=De}else if(K&&qe(E)){var De=new Qt;E.each(function(dt,pt,kt){De.set(pt,kt,h.subtract(y.clone(),dt))}),E=De}return E},this.multiply=function(y,E){var K=be(y),te=be(E);if(K&&E instanceof W)return E.elements.push(y),E;if(K&&te){if(E.isUnit){var $t=y.clone();return y.unit=E,$t}if(y.unit||E.unit)return h.Unit.multiply(y,E);if(y.isInfinity||E.isInfinity){if(y.equals(0)||E.equals(0))throw new V(y+"*"+E+" is undefined!");if(E.power.lessThan(0)){if(y.isInfinity)throw new V("Infinity/Infinity is not defined!");return new ee(0)}var On=y.multiplier.multiply(E.multiplier).sign(),ve=ee.infinity();if(y.isConstant()||E.isConstant()||y.isInfinity&&E.isInfinity)return On<0&&ve.negate(),ve}if(y.isConstant()&&E.isConstant()&&u.PARSE2NUMBER){var De=new o(y.multiplier.toDecimal()).times(new o(E.multiplier.toDecimal())).toFixed(),Re=new ee(De);return Re}if(y.isOne())return E.clone();if(E.isOne())return y.clone();if(y.multiplier.equals(0)||E.multiplier.equals(0))return new ee(0);if(E.group>y.group&&E.group!==b)return this.multiply(E,y);if(y.group===v&&E.group===g&&y.value===E.value){var De=y;y=E,E=De}var $e=y.group,dt=E.group,pt=E.multiplier.num,kt=E.multiplier.den;if($e===m&&y.fname===T&&!E.isConstant()&&y.args[0].value===E.value&&!y.args[0].multiplier.lessThan(0)){var Qe=y.power,hn=h.parse(y.multiplier);y=h.multiply(hn,y.args[0].clone()),y.setPower(new vt(.5).multiply(Qe)),$e=y.group}else $e===m&&y.fname===T&&y.multiplier.equals(1)&&y.power.equals(-1)&&E.isConstant()&&y.args[0].equals(E)&&(y=h.symfunction(T,[E.clone()]),E=new ee(1));var on=y.value,xn=E.value,On=new vt(y.sign()),ar=$e===f&&dt===c&&E.multiplier.equals(y.value),Ar=ar?new vt(1).multiply(y.multiplier).abs():y.multiplier.multiply(E.multiplier).abs(),$t=y.clone().toUnitMultiplier();if(E=E.clone().toUnitMultiplier(!0),$e===m&&dt===m){var An=y.args[0].clone(),Or=E.args[0].clone();if(y.fname===T&&E.fname===T&&y.isLinear()&&E.isLinear()){var Jn=h.divide(An,Or).invert();Jn.gt(1)&&oe(Jn)&&($t=h.multiply(y.args[0].clone(),zr(Jn.clone())),E=new ee(1))}else if(y.fname===z&&E.fname===z&&!An.isConstant()&&!Or.isConstant()&&E.power<0){var Zr=h.subtract(An.clone(),Or.clone());if(Zr.isConstant())if(De=new ee(1),Zr<0){for(var pi=0,ei=Math.abs(Zr);pi<=ei;pi++){var oi=h.add(An.clone(),new ee(pi));De=h.multiply(De,oi)}$t=h.multiply(h.pow(An,new ee(y.power)),h.pow(De,new ee(E.power))),E=new ee(1)}else{for(var pi=0,ei=Math.abs(Zr);pi<=ei;pi++){var oi=h.add(Or.clone(),new ee(pi));De=h.multiply(De,oi)}$t=h.multiply(h.pow(De,new ee(y.power)),h.pow(Or,new ee(E.power))),E=new ee(1)}}}if(on===xn&&$e===g&&$e===dt&&(on=y.text("hash"),xn=E.text("hash")),dt===p&&E.previousGroup===g&&$e===g&&(on=Rn(y,"hash",p)),(on===xn||ar)&&!($e===g&&(dt===d||dt===f||dt===m))&&!($e===g&&dt===v)){var ki=y.power,wo=E.power,Qi=be(ki),ho=be(wo),Po=Qi||ho;if($e===g&&dt!==g&&E.previousGroup!==g&&ki.equals(1))$t=new ee(0),y.each(function(K0){$t=h.add($t,h.multiply(K0,E.clone()))},!0);else{if($t.power=Po?h.add(be(ki)?ki:new ee(ki),be(wo)?wo:new ee(wo)):$e===c?ki:ki.add(wo),$t.power.equals(0)&&($t=$t.convert(c)),Po&&$t.convert(p),y.imaginary&&E.imaginary){var lf=Je($t.power%2);lf&&($t=new ee(1),Ar.negate())}$t.group!==p&&$t.previousGroup&&($t.previousGroup=void 0),$t.multiplier=$t.multiplier.multiply(E.multiplier)}}else if($e===v&&y.isLinear())if(dt===v&&E.distributeExponent(),dt===v&&E.isLinear()){for(var oi in E.symbols){var Zi=E.symbols[oi];$t=$t.combine(Zi)}$t.multiplier=$t.multiplier.multiply(E.multiplier)}else $t.combine(E);else if($e!==c){if($e===v)$t.distributeExponent(),$t.combine(E);else if(!E.isOne()){var Ll=E.multiplier.clone();E.toUnitMultiplier(),$t=ee.shell(v).combine([$t,E]),$t.multiplier=$t.multiplier.multiply(Ll)}}else $t=E.clone().toUnitMultiplier();if($t.group===f){var uf=Math.log($t.value),fu=Math.log(pt)/uf,Si=Math.log(kt)/uf,Lo=Ar.num/pt,Ji=Ar.den/kt;fu!==0&&oe(fu)&&oe(Lo)&&($t.power=$t.power.add(new vt(fu)),Ar.num/=pt),Si!==0&&oe(Si)&&oe(Ji)&&($t.power=$t.power.subtract(new vt(Si)),Ar.den/=kt)}if($t.length===1){var De=$t.multiplier;$t=X($t.symbols),$t.multiplier=$t.multiplier.multiply(De)}var Gu=$t.power.toString();if(Je(Gu)&&$t.fname===T){On=On*$t.sign();var xd=$t.power;$t=$t.args[0],$t=h.multiply(new ee(Ar),h.pow($t,new ee(xd.divide(new vt(2))))),On<0&&$t.negate()}else $t.multiplier=$t.multiplier.multiply(Ar).multiply(On),$t.group===b&&$t.isImaginary()&&$t.distributeMultiplier();return $t.group===f&&oe($t.power.toDecimal())&&($t=$t.convert(c)),$t}else{te&&!K&&(De=y,y=E,E=De,De=te,te=K,K=De);var ig=qe(E),og=qe(y);if(K&&ig){var cf=new Qt;E.eachElement(function(K0,nl,N3){cf.set(nl,N3,h.multiply(y.clone(),K0))}),E=cf}else if(og&&ig)E=y.multiply(E);else if(K&&xe(E))E.each(function(K0,nl){nl--,E.elements[nl]=h.multiply(y.clone(),E.elements[nl])});else if(xe(y)&&xe(E))E.each(function(K0,nl){nl--,E.elements[nl]=h.multiply(y.elements[nl],E.elements[nl])});else{if(xe(y)&&qe(E))return this.multiply(E,y);if(qe(y)&&xe(E))if(E.elements.length===y.rows()){var cf=new Qt,O3=y.cols();return E.each(function(nl,N3){for(var Q0=[],Ih=0;Ih<O3;Ih++)Q0.push(h.multiply(y.elements[N3-1][Ih].clone(),nl.clone()));cf.elements.push(Q0)}),cf}else C("Dimensions must match!")}return E}},this.divide=function(y,E){var K=be(y),te=be(E);if(K&&te){if(y.unit||E.unit)return h.Unit.divide(y,E);var ve;if(E.equals(0))throw new H("Division by zero not allowed!");return y.isConstant()&&E.isConstant()?(ve=y.clone(),ve.multiplier=ve.multiplier.divide(E.multiplier)):(E.invert(),ve=h.multiply(y,E)),ve}else{var De=xe(y),Re=xe(E);if(K&&Re)E=E.map(function(kt){return h.divide(y.clone(),kt)});else if(De&&te)E=y.map(function(kt){return h.divide(kt,E.clone())});else if(De&&Re)y.dimensions()===E.dimensions()?E=E.map(function(kt,Qe){return h.divide(y.elements[--Qe],kt)}):h.error("Cannot divide vectors. Dimensions do not match!");else{var $e=qe(y),dt=qe(E);if($e&&te){var pt=new Qt;y.eachElement(function(kt,Qe,hn){pt.set(Qe,hn,h.divide(kt,E.clone()))}),E=pt}else if(K&&dt){var pt=new Qt;E.eachElement(function(Qe,hn,on){pt.set(hn,on,h.divide(y.clone(),Qe))}),E=pt}else if($e&&dt){var pt=new Qt;y.rows()===E.rows()&&y.cols()===E.cols()?(y.eachElement(function(Qe,hn,on){pt.set(hn,on,h.divide(Qe,E.elements[hn][on]))}),E=pt):h.error("Dimensions do not match!")}else if($e&&Re)if(y.cols()===E.dimensions()){var pt=new Qt;y.eachElement(function(Qe,hn,on){pt.set(hn,on,h.divide(Qe,E.elements[hn].clone()))}),E=pt}else h.error("Unable to divide matrix by vector.")}return E}},this.pow=function(y,E){var K=be(y),te=be(E);if(K&&te){if(y.unit||E.unit)return h.Unit.pow(y,E);if(y.group===m&&y.fname===N&&Je(E)){var kt=y.multiplier.clone(),ve=h.pow(y.args[0],E);return ve.multiplier=kt,ve}if(y.isInfinity||E.isInfinity){if(y.isInfinity&&E.isInfinity)throw new V("("+y+")^("+E+") is undefined!");if(y.isConstant()&&E.isInfinity){if(y.equals(0)){if(E.lessThan(0))throw new V("0^Infinity is undefined!");return new ee(0)}if(y.equals(1))throw new V("1^"+E.toString()+" is undefined!");if(E.lessThan(0))return new ee(0);if(!y.lessThan(0))return ee.infinity()}if(y.isInfinity&&E.isConstant()){if(E.equals(0))throw new V(y+"^0 is undefined!");return E.lessThan(0)?new ee(0):h.multiply(ee.infinity(),h.pow(new ee(y.sign()),E.clone()))}}var De=y.equals(0),Re=E.equals(0);if(De&&Re)throw new V("0^0 is undefined!");if(De&&E.isConstant()&&E.multiplier.greaterThan(0))return new ee(0);if(Re)return new ee(1);var $e=E.isConstant(),dt=y.isConstant(),pt=E.isInteger(),kt=y.multiplier,Qe=y.clone();if(dt&&$e&&y.equals(0)&&E.lessThan(0))throw new V("Division by zero is not allowed!");if(u.PARSE2NUMBER&&dt&&$e&&y.sign()<0&&mt(E)){var hn,on,xn;return hn=Math.PI*E,on=new ee(Math.cos(hn)),xn=h.multiply(ee.imaginary(),new ee(Math.sin(hn))),h.add(on,xn)}if(u.PARSE2NUMBER&&y.isImaginary()&&$e&&oe(E)&&!E.lessThan(0)){var on,xn,On,ar,Ar,$t,An;if(on=y.realpart(),xn=y.imagpart(),on.isConstant("all")&&xn.isConstant("all"))return An=u.USE_BIG?ee(o.atan2(wo.multiplier.toDecimal(),On.multiplier.toDecimal()).times(E.toString())):Math.atan2(xn,on)*E,ar=new ee(An),On=h.pow(ee.hyp(on,xn),E),Ar=h.multiply(On.clone(),h.trig.cos(ar.clone())),$t=h.multiply(On,h.trig.sin(ar)),h.add(Ar,h.multiply(ee.imaginary(),$t))}if(Qe.toUnitMultiplier(),Qe.group===m&&Qe.fname===T&&!$e){var Or=Qe.args[0];Or.multiplyPower(new ee(.5)),Or.multiplier.multiply(Qe.multiplier),Or.multiplyPower(E),Qe=Or}else{var Jn=kt.sign();mt(E)&&Jn<0&&(Qe.negate(),Qe=h.symfunction(D,[Qe]),Qe.negate()),Qe.multiplyPower(E)}if(dt&&$e&&u.PARSE2NUMBER){var Zr;Jn<0&&(y.negate(),E.multiplier.den.equals(2)?Zr=new ee(u.IMAGINARY):oe(E.multiplier)?Je(E.multiplier)?Zr=new ee(1):Zr=new ee(-1):Je(E.multiplier.den)?Zr=h.pow(h.symfunction(D,[new ee(Jn)]),E.clone()):Zr=new ee(Math.pow(Jn,E.multiplier.num))),Qe=new ee(Math.pow(y.multiplier.toDecimal(),E.multiplier.toDecimal())),Zr&&(Qe=h.multiply(Qe,Zr))}else if(pt&&!kt.equals(1)){var pi=E.abs();if(pi.gt(u.MAX_EXP))return E.sign()<0?new ee(0):ee.infinity();var ei=E.multiplier.toDecimal(),oi=Math.sign(ei);ei=Math.abs(ei);var ki=new vt(1);ki.num=kt.num.pow(ei),ki.den=kt.den.pow(ei),oi<0&&ki.invert(),Qe.multiplier=Qe.multiplier.multiply(ki)}else{var Jn=y.sign();if(E.isConstant()&&y.isConstant()&&!E.multiplier.den.equals(1)&&Jn<0)if(E.multiplier.den.equals(2)){var wo=new ee(u.IMAGINARY);y.negate(),E.lessThan(0)&&(wo.negate(),E.negate()),Qe=h.multiply(h.pow(y,E),wo)}else{var Qi=y.clone();Qi.multiplier.negate(),Qe=h.pow(h.symfunction(D,[new ee(Jn)]),E.clone());var ho=h.pow(new ee(Qi.multiplier.num),E.clone()),Po=h.pow(new ee(Qi.multiplier.den),E.clone()),On=h.divide(ho,Po);Qe=h.multiply(Qe,On)}else if(u.PARSE2NUMBER&&E.isImaginary()){var on=E.realpart(),xn=E.imagpart(),Qi=y.clone().toLinear(),lf=h.pow(Qi.clone(),on),Zi=xo(Qi.clone()),Ll=ce.cos(h.multiply(xn.clone(),Zi)),uf=h.multiply(ce.sin(h.multiply(xn,xo(Qi))),ee.imaginary());Qe=h.multiply(lf,h.add(Ll,uf)),Qe=h.expand(h.parse(Qe))}else{var fu=y.group===c&&Jn<0,Si=NM(new ee(fu?kt.num:Math.abs(kt.num)).setPower(E.clone())),Lo=NM(new ee(kt.den).setPower(E.clone()).invert());if(y.imaginary)if(pt){var Or,ei,Ji;Or=Math.sign(E),ei=Ur(E),Ji=ei%4,Qe=new ee(Je(Ji)?-1:u.IMAGINARY),(Ji===0||Or<0&&Ji===1||Or>0&&Ji===3)&&Qe.negate()}else{var Gu=E.multiplier.multiply(vt.quick(1,2)),xd=Math.pow(-1,Gu.num);Qe=Je(Gu.den)?new ee(-1).setPower(Gu,!0):new ee(xd)}if(Jn<0&&!fu&&Qe.negate(),$e&&y.group!==p){var ig=Je(E.multiplier.den),og=Je(y.power),Ji=Qe.power.toDecimal(),cf=Je(Ji);if(ig&&og&&!cf){if(Ji===1)Qe=h.symfunction(N,[Qe]);else if(oe(Ji))Qe=h.multiply(h.symfunction(N,[Qe.clone().toLinear()]),Qe.clone().setPower(new vt(Ji-1)));else{var ei=Qe.power;Qe=h.symfunction(N,[Qe.toLinear()]).setPower(ei)}u.POSITIVE_MULTIPLIERS&&Qe.fname===N&&(Qe=Qe.args[0])}}if(E.equals(2)&&Qe.group===v){var O3=new ee(1);Qe.each(function(I3){O3=h.multiply(O3,h.pow(I3,E))}),Qe=O3}}}if(Qe=NM(Qe),Si&&Lo&&(Qe=h.multiply(Qe,Yme(h.multiply(Si,Lo)))),Qe.fname===T){var K0=Qe.group===p,nl=K0?Qe.power.multiplier.toString():Qe.power.toString();if(Je(nl)){var N3=K0?h.divide(Qe.power,new ee(2)):new ee(Qe.power.divide(new vt(2))),kt=Qe.multiplier;Qe=h.pow(Qe.args[0],N3),Qe.multiplier=Qe.multiplier.multiply(kt)}}else if(!u.IGNORE_E&&Qe.isE()&&Qe.group===p&&Qe.power.contains("pi")&&Qe.power.contains(u.IMAGINARY)&&E.group===v){var ar=E.stripVar(u.IMAGINARY);Qe=h.add(ce.cos(ar),h.multiply(ee.imaginary(),ce.sin(ar)))}return Qe}else{if(xe(y)&&te)y=y.map(function(Ih){return h.pow(Ih,E.clone())});else if(qe(y)&&te){var Q0=new Qt;y.eachElement(function(Ih,I3,IM){Q0.set(I3,IM,h.pow(Ih,E.clone()))}),y=Q0}else if(K&&qe(E)){var Q0=new Qt;E.eachElement(function(I3,IM,Xme){Q0.set(IM,Xme,h.pow(y.clone(),I3))}),y=Q0}return y}},this.comma=function(y,E){return y instanceof W||(y=W.create(y)),y.append(E),y},this.mod=function(y,E){return Da(y,E)},this.slice=function(y,E){return new P(y,E)},this.equals=function(y,E){return y.group!==d&&!y.isLinear()&&C("Cannot set equality for "+y.toString()),U[y.value]=E.clone(),E},this.percent=function(y){return h.divide(y,new ee(100))},this.assign=function(y,E){if(y instanceof W&&E instanceof W)return y.elements.map(function(te,ve){return h.assign(te,E.elements[ve])}),yr.fromArray(E.elements);if(y.parent){var K=y.parent;return K.elements[K.getter]=E,delete K.getter,K}if(y.group!==d)throw new Bt("Cannot complete operation. Incorrect LH value for "+y);return U[y.value]=E,E},this.function_assign=function(y,E){var K=y.elements.pop();return me(K,y.elements,E)};var k3=function(y){return new ee(y===!0?1:0)};this.eq=function(y,E){return k3(y.equals(E))},this.gt=function(y,E){return k3(y.gt(E))},this.gte=function(y,E){return k3(y.gte(E))},this.lt=function(y,E){return k3(y.lt(E))},this.lte=function(y,E){return k3(y.lte(E))},this.factorial=function(y){return this.symfunction(z,[y])},this.dfactorial=function(y){return this.symfunction(j,[y])}}var qu={convert:function(h,S){var M;if(h===0)M=[0,1];else if(h<1e-6||h>1e20){var P=this.quickConversion(Number(h));if(P[1]<=1e20){var W=Math.abs(h),Z=h/W;M=this.fullConversion(W.toFixed((P[1]+"").length-1)),M[0]=M[0]*Z}else M=P}else M=this.fullConversion(h);return M},quickConversion:function(h){var S=function(P){typeof P!="string"&&(P=P.toString());var W="",Z=P.charAt(0);return Z==="-"?(P=P.substr(1,P.length),W="-"):Z==="+"&&(P=P.substr(1,P.length)),{sign:W,value:P}};function M(P){Qn.isScientific(P)&&(P=Y(P));var W=S(P),Z=W.value.split("."),Q;Z.length===1?Q=Z[0]:Q=Z[0]+Z[1];var ce=Z[1]?Z[1].length:0,He=`1${"0".repeat(ce)}`;return Q!=="0"&&(Q=Q.replace(/^0+/,"")),[W.sign+Q,He]}return M(h)},fullConversion:function(h){for(var S=!1,M=0,P=1,W=1,Z=0,Q=0,ce=h,He=1e-16;!S;){Q++,Q>1e4&&(S=!0);var Ue=Math.floor(ce),We=M+Ue*W,jt=P+Ue*Z,ft=ce-Ue;ft<He&&(S=!0),ce=1/ft,M=W,P=Z,W=We,Z=jt,(Math.abs(We/jt-h)<He||Q>30)&&(S=!0)}return[We,jt]}},Fn={parser:function(){var h=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],S=new Io;for(var M in S)h.indexOf(M)===-1&&delete S[M];S.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(W){return W}}),S.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(W){return W}});var P=S.getBrackets();return P["{"].maps_to=void 0,S}(),space:"~",dot:" \\cdot ",latex:function(h,S){if(h.clone&&(h=h.clone()),h instanceof r.classes.Collection&&(h=h.elements),lt(h)){for(var M=[],P=0;P<h.length;P++){var W=h[P];be(W)||(W=r.parse(W)),M.push(this.latex(W,S))}return this.brackets(M.join(", "),"square")}else if(qe(h)){for(var Z=`\\begin{pmatrix}
`,P=0;P<h.elements.length;P++){for(var Q=[],ce=h.elements[P],He=0;He<ce.length;He++)Q.push(this.latex(ce[He],S));Z+=Q.join(" & "),P<h.elements.length-1&&(Z+=`\\\\
`)}return Z+="\\end{pmatrix}",Z}else if(xe(h)){for(var Z="\\left[",P=0;P<h.elements.length;P++)Z+=this.latex(h.elements[P],S)+" "+(P!==h.elements.length-1?",\\,":"");return Z+="\\right]",Z}else if(Ge(h)){for(var Z="\\{",P=0;P<h.elements.length;P++)Z+=this.latex(h.elements[P],S)+" "+(P!==h.elements.length-1?",\\,":"");return Z+="\\}",Z}h=h.clone();var Ue=S==="decimal"||S==="decimals",We=h.power,jt=le(We),ft=h.multiplier.lessThan(0);if(h.group===f&&Ue)return String(h.multiplier.toDecimal()*Math.pow(h.value,h.power.toDecimal()));h.multiplier=h.multiplier.abs();var Tt;if(Ue){var ln=String(h.multiplier.toDecimal());Tt=[ln,""]}else Tt=[h.multiplier.num,h.multiplier.den];var un=this.value(h,jt,S,ft),zn;jt&&We.negate(),Ue?(zn=be(We)?Fn.latex(We,S):String(We.toDecimal()),String(zn)==="1"&&(zn="")):be(We)?zn=this.latex(We,S):zn=this.formatFrac(We,!0);var cr=["",""],ir=jt?1:0;cr[ir]=zn;var Ur=(ft?"-":"")+this.set(Tt,un,cr,h.group===v);return Ur.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(h,S,M,P){var W=h.group,Z=h.previousGroup,Q=["",""],ce=S?1:0;if(h.isInfinity)Q[ce]="\\infty";else if(W===d||W===f||Z===d||Z===f||Z===c){var He=this.formatSubscripts(h.value);He.replace&&(He=He.replace(/(.+)_$/,"$1\\_"));var Ue=String(He).split("_"),We=this.greek[Ue[0]];We&&(Ue[0]=We,He=Ue.join("_"));var h=this.symbols[Ue[0]];h&&(Ue[0]=h,He=Ue.join("_")),Q[ce]=He}else if(W===m||Z===m){for(var jt,ft=[],Tt=h.fname,ln=0;ln<h.args.length;ln++){var un=h.args[ln],zn;typeof un=="string"?zn=un:zn=this.latex(un,M),ft.push(zn)}if(Tt===T)Q[ce]="\\sqrt"+this.braces(ft.join(","));else if(Tt===N)Q[ce]=this.brackets(ft.join(","),"abs");else if(Tt===D)Q[ce]=this.brackets(ft.join(","),"parens");else if(Tt==="limit")Q[ce]=" \\lim\\limits_{"+ft[1]+" \\to "+ft[2]+"} "+ft[0];else if(Tt==="integrate")Q[ce]="\\int"+this.braces(ft[0])+this.braces("d"+ft[1]);else if(Tt==="defint")Q[ce]="\\int\\limits_"+this.braces(ft[1])+"^"+this.braces(ft[2])+" "+ft[0]+" d"+ft[3];else if(Tt===z||Tt===j){var un=h.args[0];un.power.equals(1)&&(un.isComposite()||un.isCombination())&&(ft[0]=this.brackets(ft[0])),Q[ce]=ft[0]+(Tt===z?"!":"!!")}else if(Tt==="floor")Q[ce]="\\left \\lfloor"+this.braces(ft[0])+"\\right \\rfloor";else if(Tt==="ceil")Q[ce]="\\left \\lceil"+this.braces(ft[0])+"\\right \\rceil";else if(Tt===u.LOG&&ft.length>1)Q[ce]="\\mathrm"+this.braces(u.LOG)+"_"+this.braces(ft[1])+this.brackets(ft[0]);else if(Tt===u.LOG10)Q[ce]="\\mathrm"+this.braces(u.LOG)+"_"+this.braces(10)+this.brackets(ft[0]);else if(Tt==="sum"){var cr=ft[0],ir=ft[1],Ur=ft[2],kr=ft[3];Q[ce]="\\sum\\limits_{"+this.braces(ir)+"="+this.braces(Ur)+"}^"+this.braces(kr)+" "+this.braces(cr)}else if(Tt==="product"){var cr=ft[0],ir=ft[1],Ur=ft[2],kr=ft[3];Q[ce]="\\prod\\limits_{"+this.braces(ir)+"="+this.braces(Ur)+"}^"+this.braces(kr)+" "+this.braces(cr)}else if(Tt==="nthroot")Q[ce]="\\sqrt["+ft[1]+"]"+this.braces(ft[0]);else if(Tt==="mod")Q[ce]=ft[0]+" \\bmod "+ft[1];else if(Tt==="realpart")Q[ce]="\\operatorname{Re}"+this.brackets(ft[0]);else if(Tt==="imagpart")Q[ce]="\\operatorname{Im}"+this.brackets(ft[0]);else{var jt=Tt!==""?"\\mathrm"+this.braces(Tt.replace(/_/g,"\\_")):"";h.isConversion?Q[ce]=jt+this.brackets(ft.join(""),"parens"):Q[ce]=jt+this.brackets(ft.join(","),"parens")}}else if(h.isComposite()){for(var Vn=h.collectSymbols().sort(W===b||Z===b?function(zr,qi){return qi.group-zr.group}:function(zr,qi){var nf=be(zr.power)?-1:zr.power,Nl=be(qi.power)?-1:qi.power;return Nl-nf}),co=[],Da=Vn.length,ln=0;ln<Da;ln++)co.push(Fn.latex(Vn[ln],M));var He=co.join("+");Q[ce]=!(h.isLinear()&&h.multiplier.equals(1))||P?this.brackets(He,"parens"):He}else if(W===v||Z===p||Z===v){W===v&&h.distributeExponent();var fo=[],Dr=[],Qr=[],di=[],Vi=0,Fo=0,bd=function(Ki,zr,qi){if(qi>1&&zr.length>0)for(var nf=zr.length,Nl=0;Nl<nf;Nl++){var Il=zr[Nl],Hu=Ki[Il];/^\\left\(.+\\right\)\^\{.+\}$/g.test(Hu)||/^\\left\(.+\\right\)$/g.test(Hu)||(Ki[Il]=Fn.brackets(Hu,"parens"))}return Ki};h.each(function(Ki){var zr=le(Ki.power),qi;zr?(qi=Fn.latex(Ki.invert(),M),Fo++,Ki.isComposite()&&(h.multiplier.den!=1&&Math.abs(Ki.power)==1&&(qi=Fn.brackets(qi,"parens")),Qr.push(fo.length)),fo.push(qi)):(qi=Fn.latex(Ki,M),Vi++,Ki.isComposite()&&(h.multiplier.num!=1&&Math.abs(Ki.power)==1&&(qi=Fn.brackets(qi,"parens")),di.push(Dr.length)),Dr.push(qi))}),bd(Dr,di,Vi),Q[0]=Dr.join(this.dot),bd(fo,Qr,Fo),Q[1]=fo.join(this.dot)}return Q},set:function(h,S,M,P){var W=function(Tt){return/^\\left\(.+\\right\)$/.test(Tt)};if(M&&(M=this.formatP(M)),P){var Z=M[0];M[0]=""}S=this.merge(S,M);var Q=h[0],ce=h[1],He=S[0],Ue=S[1];He&&Number(Q)===1&&(Q=""),Number(ce)===1&&(ce="");var We=this.join(Q,He,W(He)?"":this.dot),jt=this.join(ce,Ue,W(Ue)?"":this.dot);if(We&&jt){var ft=this.frac(We,jt);return P&&Z&&(ft=this.brackets(ft)+Z),ft}else return We},merge:function(h,S){for(var M=[],P=0;P<2;P++)M[P]=h[P]+S[P];return M},join:function(h,S,M){return!h&&!S?"":h&&!S?h:S&&!h?S:h+M+S},formatSubscripts:function(h){for(var S=h.toString().split("_"),M="";S.length>1;)S.length>0&&(M="_"+this.braces(S.pop()+M));return S[0]+M},formatP:function(h){for(var S=0;S<2;S++){var M=h[S];M&&(h[S]="^"+this.braces(M))}return h},formatFrac:function(h,S){var M=h.num.toString(),P=h.den.toString();return S&&M==="1"&&P==="1"?"":P==="1"?M:this.frac(M,P)},frac:function(h,S){return"\\frac"+this.braces(h)+this.braces(S)},braces:function(h){return"{"+h+"}"},brackets:function(h,S){S=S||"parens";var M={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},P=M[S];return"\\left"+P[0]+h+"\\right"+P[1]},filterTokens:function(h){var S=[];lt(h)&&(S.type=h.type);for(var M=["\\","left","right","big","Big","large","Large"],P=0,W=h.length;P<W;P++){var Z=h[P],Q=h[P+1];Z.value==="\\"&&Q.value==="\\"?S.push(Z):lt(Z)?S.push(Fn.filterTokens(Z)):M.indexOf(Z.value)===-1&&S.push(Z)}return S},parse:function(h){var S,M,P="",W=this.filterTokens(h),Z={cdot:"",times:"",infty:"Infinity"},Q=function(Vn){return W[typeof Vn>"u"?++S:S+=Vn]},ce=function(){return Fn.parse(Q())},He=function(Vn){return Vn in Z?Z[Vn]:Vn==="*"&&W[S+1].value==="&"?(Q(2),","):Vn==="&"?(Q(),","):Vn==="\\"?"],[":Vn};for(S=0,M=W.length;S<M;S++){var Ue=W[S];if(Ue.value==="frac"){var We=ce(),jt=ce();P+=We+"/"+jt}else if(Ue.value in Fn.symbols)if(Ue.value===T&&W[S+1].type==="vector"&&W[S+2].type==="Set"){var ft=ce(),Tt=ce();P+=Tt+"^"+ue("1/"+ft)}else P+=Ue.value+ce();else if(Ue.value==="int"){var ln=ce();S++;var un=Q().value;un=He(un.substring(1,un.length)),P+="integrate"+ue(ln+","+un)}else if(Ue.value==="int_"){var M=ce();S++;var zn=Q().value;if(zn===void 0){S--;var zn=ce()}var ln=ce(),un=Q().value;if(un===",")var un=Q().value;if(un==="differentialD"){S++;var un=Q().value}if(un==="mathrm"){S++;var un=Q().value}P+="defint"+ue(ln+","+M+","+zn+","+un)}else if(Ue.value&&Ue.value.startsWith("int_")){var M=Ue.value.replace("int_","");console.log("uppernow"),S++;var zn=Q().value;if(zn===void 0){S--;var zn=ce()}var ln=ce(),un=Q().value;if(un===",")var un=Q().value;if(un==="differentialD"){S++;var un=Q().value}if(un==="mathrm"){S++;var un=Q().value}P+="defint"+ue(ln+","+M+","+zn+","+un)}else if(Ue.value==="mathrm"){var ln=W[++S][0].value;P+=ln+ce()}else if(Ue.value==="sum_"||Ue.value==="prod_"){var cr=Ue.value==="sum_"?"sum":"product",ir=Q();S++;var Ur=ce(),ln=ce();P+=cr+ue([ln,He(ir[0]),He(ir[2]),He(Ur)].join(","))}else if(Ue.value==="lim_"){var ir=Q();P+="limit"+ue([ce(),He(ir[0]),He(ir[2])].join(","))}else if(Ue.value==="begin"){var ir=Q();if(Array.isArray(ir)){var kr=ir[0].value;kr==="matrix"&&(P+="matrix([")}}else if(Ue.value==="end"){var ir=Q();if(Array.isArray(ir)){var kr=ir[0].value;kr==="matrix"&&(P+="])")}}else Array.isArray(Ue)?P+=He(Fn.parse(Ue)):P+=He(Ue.value.toString())}return ue(P)}};function yr(h){xe(h)?this.elements=h.items.slice(0):lt(h)?this.elements=h.slice(0):this.elements=[].slice.call(arguments)}yr.arrayPrefill=function(h,S){var M=[];S=S||0;for(var P=0;P<h;P++)M[P]=S;return M},yr.fromArray=function(h){var S=new yr;return S.elements=h,S},yr.fromSet=function(h){return yr.fromArray(h.elements)},yr.prototype={custom:!0,e:function(h){return h<1||h>this.elements.length?null:this.elements[h-1]},set:function(h,S){be(S)||(S=new ee(S)),this.elements[h]=S},dimensions:function(){return this.elements.length},modulus:function(){return At("SAFE",function(){return r.pow(this.dot(this.clone()),new ee(.5))},void 0,this)},eql:function(h){var S=this.elements.length,M=h.elements||h;if(S!==M.length)return!1;do if(Math.abs(r.subtract(this.elements[S-1],M[S-1]).valueOf())>PRECISION)return!1;while(--S);return!0},clone:function(){for(var h=new yr,S=this.elements.length,M=0;M<S;M++)h.elements.push(this.elements[M].clone());return this.getter&&(h.getter=this.getter.clone()),h},map:function(h){var S=[];return this.each(function(M,P){S.push(h(M,P))}),new yr(S)},each:function(h){var S=this.elements.length,M=S,P;do P=M-S,h(this.elements[P],P+1);while(--S)},toUnitVector:function(){return At("SAFE",function(){var h=this.modulus();return h.valueOf()===0?this.clone():this.map(function(S){return r.divide(S,h)})},void 0,this)},angleFrom:function(h){return At("SAFE",function(){var S=h.elements||h,M=this.elements.length;if(M!==S.length)return null;var P=new ee(0),W=new ee(0),Z=new ee(0);this.each(function(Ue,We){P=r.add(P,r.multiply(Ue,S[We-1])),W=r.add(W,r.multiply(Ue,Ue)),Z=r.add(Z,r.multiply(S[We-1],S[We-1]))}),W=r.pow(W,new ee(.5)),Z=r.pow(Z,new ee(.5));var Q=r.multiply(W,Z);if(Q.valueOf()===0)return null;var ce=r.divide(P,Q),He=ce.valueOf();return He<-1&&(ce=-1),He>1&&(ce=1),new ee(Math.acos(ce))},void 0,this)},isParallelTo:function(h){var S=this.angleFrom(h).valueOf();return S===null?null:S<=PRECISION},isAntiparallelTo:function(h){var S=this.angleFrom(h).valueOf();return S===null?null:Math.abs(S-Math.PI)<=PRECISION},isPerpendicularTo:function(h){var S=this.dot(h);return S===null?null:Math.abs(S)<=PRECISION},add:function(h){return At("SAFE",function(){var S=h.elements||h;return this.elements.length!==S.length?null:this.map(function(M,P){return r.add(M,S[P-1])})},void 0,this)},subtract:function(h){return At("SAFE",function(){var S=h.elements||h;return this.elements.length!==S.length?null:this.map(function(M,P){return r.subtract(M,S[P-1])})},void 0,this)},multiply:function(h){return this.map(function(S){return S.clone()*h.clone()})},x:function(h){return this.multiply(h)},dot:function(h){return At("SAFE",function(){var S=h.elements||h,M=new ee(0),P=this.elements.length;if(P!==S.length)return null;do M=r.add(M,r.multiply(this.elements[P-1],S[P-1]));while(--P);return M},void 0,this)},cross:function(h){var S=h.elements||h;if(this.elements.length!==3||S.length!==3)return null;var M=this.elements;return At("SAFE",function(){return new yr([r.subtract(r.multiply(M[1],S[2]),r.multiply(M[2],S[1])),r.subtract(r.multiply(M[2],S[0]),r.multiply(M[0],S[2])),r.subtract(r.multiply(M[0],S[1]),r.multiply(M[1],S[0]))])},void 0,this)},max:function(){var h=0,S=this.elements.length,M=S,P;do P=M-S,Math.abs(this.elements[P].valueOf())>Math.abs(h.valueOf())&&(h=this.elements[P]);while(--S);return h},magnitude:function(){var h=new ee(0);return this.each(function(S){h=r.add(h,r.pow(S,new ee(2)))}),r.sqrt(h)},indexOf:function(h){var S=null,M=this.elements.length,P=M,W;do W=P-M,S===null&&this.elements[W].valueOf()===h.valueOf()&&(S=W+1);while(--M);return S},text:function(h){return Rn(this)},toString:function(){return this.text()},latex:function(h){for(var S=[],M=0;M<this.elements.length;M++)S.push(Fn.latex.call(Fn,this.elements[M],h));return"["+S.join(", ")+"]"}};function Qt(){var h=arguments,S=h.length,M,P=[];if(qe(h))for(M=0;M<S;M++)P.push(h[M].slice(0));else{var W,Z,Q;for(M=0;M<S;M++)W=h[M],xe(W)&&(W=W.elements),lt(W)||(W=[W]),Q=W.length,Z&&Z!==Q&&C("Unable to create Matrix. Row dimensions do not match!"),P.push(W),Z=Q}this.elements=P}Qt.identity=function(h){for(var S=new Qt,M=0;M<h;M++){S.elements.push([]);for(var P=0;P<h;P++)S.set(M,P,M===P?new ee(1):new ee(0))}return S},Qt.fromArray=function(h){function S(M){return Qt.apply(this,M)}return S.prototype=Qt.prototype,new S(h)},Qt.zeroMatrix=function(h,S){for(var M=new Qt,P=0;P<h;P++)M.elements.push(yr.arrayPrefill(S,new ee(0)));return M},Qt.prototype={custom:!0,get:function(h,S){if(this.elements[h])return this.elements[h][S]},map:function(h,S){var M=new Qt;return this.each(function(P,W,Z){M.set(W,Z,h.call(M,P),S)}),M},set:function(h,S,M,P){this.elements[h]||(this.elements[h]=[]),this.elements[h][S]=P||be(M)?M:new ee(M)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(h){return!h||h>this.cols()?[]:this.elements[h-1]},col:function(h){var S=this.rows(),M=[];if(h>this.cols()||!h)return M;for(var P=0;P<S;P++)M.push(this.elements[P][h-1]);return M},eachElement:function(h){var S=this.rows(),M=this.cols(),P,W;for(P=0;P<S;P++)for(W=0;W<M;W++)h.call(this,this.elements[P][W],P,W)},determinant:function(){if(!this.isSquare())return null;var h=this.toRightTriangular(),S=h.elements[0][0],M=h.elements.length-1,P=M,W;do W=P-M+1,S=r.multiply(S,h.elements[W][W]);while(--M);return S},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(h){var S=this.rows(),M=h.rows();S!==M&&C("Cannot augment matrix. Rows don't match.");for(var P=0;P<S;P++)this.elements[P]=this.elements[P].concat(h.elements[P]);return this},clone:function(){for(var h=this.rows(),S=this.cols(),M=new Qt,P=0;P<h;P++){M.elements[P]=[];for(var W=0;W<S;W++){var Z=this.elements[P][W];M.elements[P][W]=be(Z)?Z.clone():Z}}return M},invert:function(){return this.isSquare()||C("Matrix is not square!"),At("SAFE",function(){var h=this.elements.length,S=h,M,P,W=Qt.identity(h),Z=this.augment(W).toRightTriangular(),Q,ce=Z.elements[0].length,He,Ue,We,jt=[],ft;do{M=h-1,Ue=[],Q=ce,jt[M]=[],We=Z.elements[M][M];do He=ce-Q,ft=r.divide(Z.elements[M][He],We.clone()),Ue.push(ft),He>=S&&jt[M].push(ft);while(--Q);for(Z.elements[M]=Ue,P=0;P<M;P++){Ue=[],Q=ce;do He=ce-Q,Ue.push(r.subtract(Z.elements[P][He].clone(),r.multiply(Z.elements[M][He].clone(),Z.elements[P][M].clone())));while(--Q);Z.elements[P]=Ue}}while(--h);return Qt.fromArray(jt)},void 0,this)},toRightTriangular:function(){return At("SAFE",function(){var h=this.clone(),S,M,P,W=this.elements.length,Z=W,Q,ce,He=this.elements[0].length,Ue;do{if(Q=Z-W,M=h.elements[Q][Q],M.valueOf()===0){for(var We=Q+1;We<Z;We++)if(P=h.elements[We][Q],P&&P.valueOf()!==0){S=[],ce=He;do Ue=He-ce,S.push(r.add(h.elements[Q][Ue].clone(),h.elements[We][Ue].clone()));while(--ce);h.elements[Q]=S;break}}var M=h.elements[Q][Q];if(M.valueOf()!==0)for(We=Q+1;We<Z;We++){var jt=r.divide(h.elements[We][Q].clone(),h.elements[Q][Q].clone());S=[],ce=He;do Ue=He-ce,S.push(Ue<=Q?new ee(0):r.subtract(h.elements[We][Ue].clone(),r.multiply(h.elements[Q][Ue].clone(),jt.clone())));while(--ce);h.elements[We]=S}}while(--W);return h},void 0,this)},transpose:function(){var h=this.elements.length,S=this.elements[0].length,M=new Qt,P=S,W,Z,Q;do{W=S-P,M.elements[W]=[],Z=h;do Q=h-Z,M.elements[W][Q]=this.elements[Q][W].clone();while(--Z)}while(--P);return M},canMultiplyFromLeft:function(h){var S=qe(h)?h.elements.length:h.length;return this.elements[0].length===S},sameSize:function(h){return this.rows()===h.rows()&&this.cols()===h.cols()},multiply:function(h){return At("SAFE",function(){var S=h.elements||h;if(!this.canMultiplyFromLeft(S)){if(this.sameSize(h)){for(var M=new Qt,P=this.rows(),ce=0;ce<P;ce++){var W=r.multiply(new yr(this.elements[ce]),new yr(h.elements[ce]));M.elements[ce]=W.elements}return M}return null}var Z=this.elements.length,Q=Z,ce,He,Ue=S[0].length,We,jt=this.elements[0].length,ft=[],Tt,ln,un;do{ce=Q-Z,ft[ce]=[],He=Ue;do{We=Ue-He,Tt=new ee(0),ln=jt;do un=jt-ln,Tt=r.add(Tt,r.multiply(this.elements[ce][un],S[un][We]));while(--ln);ft[ce][We]=Tt}while(--He)}while(--Z);return Qt.fromArray(ft)},void 0,this)},add:function(h,S){var M=new Qt;return this.sameSize(h)&&this.eachElement(function(P,W,Z){var Q=r.add(P.clone(),h.elements[W][Z].clone());S&&(Q=S.call(M,Q,P,h.elements[W][Z])),M.set(W,Z,Q)}),M},subtract:function(h,S){var M=new Qt;return this.sameSize(h)&&this.eachElement(function(P,W,Z){var Q=r.subtract(P.clone(),h.elements[W][Z].clone());S&&(Q=S.call(M,Q,P,h.elements[W][Z])),M.set(W,Z,Q)}),M},negate:function(){return this.each(function(h){return h.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var h=new yr;return h.elements=this.elements,h}return this},toString:function(h,S){var M=this.rows(),P=[];h=h===void 0?`
`:h;for(var W=0;W<M;W++)P.push("["+this.elements[W].map(function(Z){var Q=S?Z.multiplier.toDecimal():Z.toString();return Z!==void 0?Q:""}).join(",")+"]");return"matrix"+ue(P.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(h){var S=this.cols(),M=this.elements;return fe("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var P=[];for(var W in M){for(var Z=[],Q=0;Q<S;Q++)Z.push(Fn.latex.call(Fn,M[W][Q],h));P.push(Z.join(" & "))}return P.join(" \\cr ")})}},Qt.prototype.each=Qt.prototype.eachElement;function Zn(h){if(this.elements=[],xe(h)||(h=yr.fromArray(arguments)),h)for(var S=h.elements,M=0,P=S.length;M<P;M++)this.add(S[M])}Zn.fromArray=function(h){function S(M){return Zn.apply(this,M)}return S.prototype=Zn.prototype,new S(h)},Zn.prototype={add:function(h){this.contains(h)||this.elements.push(h.clone())},contains:function(h){for(var S=0;S<this.elements.length;S++){var M=this.elements[S];if(h.equals(M))return!0}return!1},each:function(h){for(var S=this.elements,M=new Zn,P=0,W=S.length;P<W;P++){var Z=S[P];h.call(this,Z,M,P)}return M},clone:function(){var h=new Zn;return this.each(function(S){h.add(S.clone())}),h},union:function(h){var S=this.clone();return h.each(function(M){S.add(M)}),S},difference:function(h){var S=this.clone();return h.each(function(M){S.remove(M)}),S},remove:function(h){for(var S=0,M=this.elements.length;S<M;S++){var P=this.elements[S];if(P.equals(h))return Lt(this.elements,S),!0}return!1},intersection:function(h){var S=new Zn,M=this;return h.each(function(P){M.contains(P)&&S.add(P)}),S},intersects:function(h){return this.intersection(h).elements.length>0},is_subset:function(h){for(var S=h.elements,M=0,P=S.length;M<P;M++)if(!this.contains(S[M]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var _s={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":zt.gamma},gamma_incomplete:{"Math2.factorial":zt.factorial},Li:{"Math2.Ei":zt.Ei,"Math2.bigLog":zt.bigLog,Frac:vt},Ci:{"Math2.factorial":zt.factorial},Ei:{"Math2.factorial":zt.factorial},Si:{"Math2.factorial":zt.factorial},Shi:{"Math2.factorial":zt.factorial},Chi:{isInt:oe,nround:ct,"Math2.num_integrate":zt.num_integrate},factor:{"Math2.ifactor":zt.ifactor,Symbol:ee},num_integrate:{"Math2.simpson":zt.simpson,nround:ct},fib:{even:Je}},reformat:{diff:function(h,S){var M=h.args[1].toString(),P="var f = "+_s.build(h.args[0].toString(),[M])+";";return S[1]+="var diff = "+zt.diff.toString()+";",S[1]+=P,["diff(f)("+M+")",S]}},getProperName:function(h){var S={continued_fraction:"continuedFraction"};return S[h]||h},compileDependencies:function(h,S){var M=_s.dependencies[h],P=S&&S[1]?S[1]:"",W=S&&S[0]?S[0]:{};for(var Z in M)if(typeof M[Z]!="object"){var Q=Z.split(".");P+="var "+(Q.length>1?Q[1]:Q[0])+"="+M[Z]+";",W[Z]=Q.pop()}return[W,P]},getArgsDeps:function(h,S){for(var M=h.args,P=0;P<M.length;P++)h.args[P].each(function(W){W.group===m&&(S=_s.compileDependencies(W.fname,S))});return S},build:function(h,S){h=At("PARSE2NUMBER",function(){return r.parse(h)},!0);var M=Pe(h),P=[],W=[],Z=function(We,jt){We.fname===""&&(We=ee.unwrapPARENS(We)),jt=jt||[];var ft=[],Tt=We.group,ln="",un=function(Vn){var co=Vn===v?"*":"+",Da=[];for(var fo in We.symbols){var Dr=We.symbols[fo],Qr=Z(Dr,jt)[0];Dr.isComposite()&&(Qr=ue(Qr)),Da.push(Qr)}var di=Da.join(co);return di=di&&!We.multiplier.equals(1)?ue(di):di,di},zn=function(Vn){var co;return Vn in Math?co="Math."+Vn:(Vn=_s.getProperName(Vn),P.indexOf(Vn)===-1&&(jt.push("var "+Vn+" = "+zt[Vn].toString()+"; "),P.push(Vn)),co=Vn),co=co+ue(We.args.map(function(Da){return Z(Da,jt)[0]}).join(",")),co};Tt===c?ft.push(We.multiplier.toDecimal()):We.multiplier.equals(-1)?ln="-":We.multiplier.equals(1)||ft.push(We.multiplier.toDecimal());var cr;if(Tt===d||Tt===f)cr=We.value;else if(Tt===m)if(W=_s.compileDependencies(We.fname,W),W=_s.getArgsDeps(We,W),_s.reformat[We.fname]){var ir=_s.reformat[We.fname](We,W);W=ir[1],cr=ir[0]}else cr=zn(We.fname);else if(Tt===p){var Ur=We.previousGroup;Ur===c||Ur===d?cr=We.value:Ur===m?(cr=zn(We.fname),W=_s.compileDependencies(We.fname,W),W=_s.getArgsDeps(We,W)):cr=un(We.previousGroup)}else cr=un(We.group);if(We.group!==c&&!We.power.equals(1)){var kr=Z(r.parse(We.power));jt.push(kr[1]),cr="Math.pow"+ue(cr+","+kr[0])}return cr&&ft.push(ln+cr),[ft.join("*"),jt.join("").replace(/\n+\s+/g," ")]};S&&(M=S);var Q=Z(h);for(var ce in W[0]){var He=W[0][ce];Q[1]=Q[1].replace(ce,He),W[1]=W[1].replace(ce,He)}var Ue=new Function(M,(W[1]||"")+Q[1]+" return "+Q[0]+";");return Ue}};(function(){kn(r.CONSTANTS),kn(r.functions),r.initConstants(),r.error||(r.error=C),u.LOG_FNS={log:r.functions.log,log10:r.functions.log10}})();var jv={allSame:I,allNumeric:ge,arguments2Array:Hn,arrayAddSlices:xt,arrayClone:Oe,arrayMax:Ee,arrayMin:Te,arrayEqual:ae,arrayUnique:Rt,arrayGetVariables:Jt,arraySum:Mt,block:At,build:_s.build,clearU:Ie,comboSort:ze,compare:de,convertToVector:Nt,customError:k,customType:et,decompose_fn:Be,each:ke,evaluate:Wt,even:Je,evenFraction:mt,fillHoles:nn,firstObject:X,format:fe,generatePrimes:Sn,getCoeffs:Tn,getU:Xe,importFunctions:Un,inBrackets:ue,isArray:lt,isExpression:ut,isFraction:Me,isInt:oe,isMatrix:qe,isNegative:le,isNumericSymbol:pe,isPrime:re,isReserved:F,isSymbol:be,isVariableSymbol:Zt,isVector:xe,keys:J,knownVariable:ne,nroots:wt,remove:Lt,reserveNames:kn,range:L,round:ct,sameSign:Fe,scientificToDecimal:Y,separate:Vt,stringReplace:Ne,text:Rn,validateName:$,variables:Pe,warn:R},T3={groups:a,Symbol:ee,Expression:Yt,Frac:vt,Vector:yr,Matrix:Qt,Parser:Io,Scientific:Qn,Fraction:qu,Math2:zt,LaTeX:Fn,Utils:jv,PARSER:r,PARENTHESIS:D,Settings:u,err:C,bigInt:i,bigDec:o,exceptions:or},Gn=function(h,S,M,P){var W=!1,Z=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(h);if(Z)return IJ.setFunction(Z[1],Z[2].split(","),Z[3]);h instanceof Yt&&(h=h.toString()),lt(M)||(M=typeof M>"u"?[]:[M]),M.forEach(function(ce){if(ce==="numer"){W=!0;return}var He=r.functions[M];He&&He[1]===1&&(h=`${ce}(${h})`)});var Q=At("PARSE2NUMBER",function(){return r.parse(h,S)},W||u.PARSE2NUMBER);return P?B[P-1]=Q:B.push(Q),new Yt(Q)};return Gn.rpn=function(h){return r.tokenize(r.toRPN(h))},Gn.convertToLaTeX=function(h,S){return r.toTeX(h,S)},Gn.convertFromLaTeX=function(h){var S=Fn.parse(r.tokenize(h));return new Yt(r.parse(S))},Gn.version=function(h){if(h)try{return T3[h].version}catch{return"No module named "+h+" found!"}return t},Gn.getWarnings=function(){return w},Gn.setConstant=function(h,S){if($(h),!F(h))if(S==="delete"||S==="")delete r.CONSTANTS[h];else{if(isNaN(S))throw new Se("Constant must be a number!");r.CONSTANTS[h]=S}return this},Gn.getConstant=function(h){return String(r.constant[h])},Gn.setFunction=me,Gn.getCore=function(){return T3},Gn.getExpression=Gn.getEquation=Yt.getExpression,Gn.reserved=function(h){return h?x:x.join(", ")},Gn.clear=function(h,S){if(h==="all")B=[];else if(h==="last")B.pop();else if(h==="first")B.shift();else{var M=h?h-1:B.length;S===!0?B[M]=void 0:Lt(B,M)}return this},Gn.flush=function(){return this.clear("all"),this},Gn.expressions=function(h,S,M){for(var P=h?{}:[],W=0;W<B.length;W++){var Z=S?Fn.latex(B[W],M):Rn(B[W],M);h?P[W+1]=Z:P.push(Z)}return P},Gn.register=function(h){var S=this.getCore();if(lt(h))for(var M=0;M<h.length;M++)h&&this.register(h[M]);else if(h&&u.exclude.indexOf(h.name)===-1){if(h.dependencies){for(var M=0;M<h.dependencies.length;M++)if(!S[h.dependencies[M]])throw new Error(fe("{0} requires {1} to be loaded!",h.name,h.dependencies[M]))}var P=h.parent,W=h.build.call(S);if(P){S[P]||(S[h.parent]={});var Z=P==="nerdamer"?this:S[P];Z[h.name]=W}h.visible&&(r.functions[h.name]=[W,h.numargs])}},Gn.validateName=$,Gn.validVarName=function(h){try{return $(h),x.indexOf(h)===-1}catch{return!1}},Gn.supported=function(){return J(r.functions)},Gn.numEquations=Gn.numExpressions=function(){return B.length},Gn.setVar=function(h,S){return $(h),h in r.CONSTANTS&&C("Cannot set value for constant "+h),S==="delete"||S===""?delete U[h]:U[h]=be(S)?S:r.parse(S),this},Gn.getVar=function(h){return U[h]},Gn.clearVars=function(){return U={},this},Gn.load=function(h){return h.call(this),this},Gn.getVars=function(h,S){h=h||"text";var M={};if(h==="object")M=U;else for(var P in U)h==="latex"?M[P]=U[P].latex(S):h==="text"&&(M[P]=U[P].text(S));return M},Gn.set=function(h,S){if(typeof h=="object")for(var M in h)Gn.set(M,h[M]);var P=["SAFE"];P.indexOf(h)!==-1&&C("Cannot modify setting: "+h),h==="PRECISION"?(o.set({precision:S}),u.PRECISION=S,S>21&&this.set("USE_BIG",!0)):h==="USE_LN"&&S===!0?(u.LOG="LN",u.LOG10="log",r.functions.log=u.LOG_FNS.log10,r.functions.log[0]=function(W){return W.isConstant()?new ee(Math.log10(W)):r.symfunction(u.LOG10,[W])},r.functions.LN=u.LOG_FNS.log,delete r.functions.log10):u[h]=S},Gn.get=function(h){return u[h]},Gn.updateAPI=function(h){var S=function(P){return function(){for(var W=[].slice.call(arguments),Z=0;Z<W.length;Z++)W[Z]=r.parse(W[Z]);return new Yt(At("PARSE2NUMBER",function(){return r.callfunction(P,W)}))}};for(var M in r.functions)(!(M in Gn)||h)&&(Gn[M]=S(M))},Gn.replaceFunction=function(h,S,M){var P=r.functions[h],W=typeof M>"u"?P[1]:M;r.functions[h]=[S.call(void 0,P[0],T3),W]},Gn.setOperator=function(h,S){r.setOperator(h,S)},Gn.getOperator=function(h){return r.getOperator(h)},Gn.aliasOperator=function(h,S){r.aliasOperator(h,S)},Gn.tree=function(h){return r.tree(r.toRPN(r.tokenize(h)))},Gn.htmlTree=function(h,S){var M=this.tree(h);return`<div class="tree">
    <ul>
        <li>
`+M.toHTML(3,S)+`
        </li>
    </ul>
</div>`},Gn.addPeeker=function(h,S){r.peekers[h]&&r.peekers[h].push(S)},Gn.removePeeker=function(h,S){Lt(r.peekers[h],S)},Gn.parse=function(h){return String(h).split(";").map(function(S){return r.parse(S)})},Gn.updateAPI(),Gn}({bigInt:function(){var e=function(t){"use strict";var r=1e7,i=7,o=9007199254740992,a=d(o),s=Math.log(o);function l(L,J){return typeof L>"u"?l[0]:typeof J<"u"?+J==10?Fe(L):lt(L,J):Fe(L)}function u(L,J){this.value=L,this.sign=J,this.isSmall=!1}u.prototype=Object.create(l.prototype);function c(L){this.value=L,this.sign=L<0,this.isSmall=!0}c.prototype=Object.create(l.prototype);function f(L){return-o<L&&L<o}function d(L){return L<1e7?[L]:L<1e14?[L%1e7,Math.floor(L/1e7)]:[L%1e7,Math.floor(L/1e7)%1e7,Math.floor(L/1e14)]}function p(L){m(L);var J=L.length;if(J<4&&Y(L,a)<0)switch(J){case 0:return 0;case 1:return L[0];case 2:return L[0]+L[1]*r;default:return L[0]+(L[1]+L[2]*r)*r}return L}function m(L){for(var J=L.length;L[--J]===0;);L.length=J+1}function g(L){for(var J=new Array(L),X=-1;++X<L;)J[X]=0;return J}function v(L){return L>0?Math.floor(L):Math.ceil(L)}function b(L,J){var X=L.length,de=J.length,me=new Array(X),Ee=0,Te=r,ae,Oe;for(Oe=0;Oe<de;Oe++)ae=L[Oe]+J[Oe]+Ee,Ee=ae>=Te?1:0,me[Oe]=ae-Ee*Te;for(;Oe<X;)ae=L[Oe]+Ee,Ee=ae===Te?1:0,me[Oe++]=ae-Ee*Te;return Ee>0&&me.push(Ee),me}function _(L,J){return L.length>=J.length?b(L,J):b(J,L)}function D(L,J){var X=L.length,de=new Array(X),me=r,Ee,Te;for(Te=0;Te<X;Te++)Ee=L[Te]-me+J,J=Math.floor(Ee/me),de[Te]=Ee-J*me,J+=1;for(;J>0;)de[Te++]=J%me,J=Math.floor(J/me);return de}u.prototype.add=function(L){var J=Fe(L);if(this.sign!==J.sign)return this.subtract(J.negate());var X=this.value,de=J.value;return J.isSmall?new u(D(X,Math.abs(de)),this.sign):new u(_(X,de),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(L){var J=Fe(L),X=this.value;if(X<0!==J.sign)return this.subtract(J.negate());var de=J.value;if(J.isSmall){if(f(X+de))return new c(X+de);de=d(Math.abs(de))}return new u(D(de,Math.abs(X)),X<0)},c.prototype.plus=c.prototype.add;function T(L,J){var X=L.length,de=J.length,me=new Array(X),Ee=0,Te=r,ae,Oe;for(ae=0;ae<de;ae++)Oe=L[ae]-Ee-J[ae],Oe<0?(Oe+=Te,Ee=1):Ee=0,me[ae]=Oe;for(ae=de;ae<X;ae++){if(Oe=L[ae]-Ee,Oe<0)Oe+=Te;else{me[ae++]=Oe;break}me[ae]=Oe}for(;ae<X;ae++)me[ae]=L[ae];return m(me),me}function N(L,J,X){var de;return Y(L,J)>=0?de=T(L,J):(de=T(J,L),X=!X),de=p(de),typeof de=="number"?(X&&(de=-de),new c(de)):new u(de,X)}function z(L,J,X){var de=L.length,me=new Array(de),Ee=-J,Te=r,ae,Oe;for(ae=0;ae<de;ae++)Oe=L[ae]+Ee,Ee=Math.floor(Oe/Te),Oe%=Te,me[ae]=Oe<0?Oe+Te:Oe;return me=p(me),typeof me=="number"?(X&&(me=-me),new c(me)):new u(me,X)}u.prototype.subtract=function(L){var J=Fe(L);if(this.sign!==J.sign)return this.add(J.negate());var X=this.value,de=J.value;return J.isSmall?z(X,Math.abs(de),this.sign):N(X,de,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(L){var J=Fe(L),X=this.value;if(X<0!==J.sign)return this.add(J.negate());var de=J.value;return J.isSmall?new c(X-de):z(de,Math.abs(X),X>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var L=this.sign,J=new c(-this.value);return J.sign=!L,J},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))};function j(L,J){var X=L.length,de=J.length,me=X+de,Ee=g(me),Te=r,ae,Oe,xt,wt,ze;for(xt=0;xt<X;++xt){wt=L[xt];for(var Be=0;Be<de;++Be)ze=J[Be],ae=wt*ze+Ee[xt+Be],Oe=Math.floor(ae/Te),Ee[xt+Be]=ae-Oe*Te,Ee[xt+Be+1]+=Oe}return m(Ee),Ee}function B(L,J){var X=L.length,de=new Array(X),me=r,Ee=0,Te,ae;for(ae=0;ae<X;ae++)Te=L[ae]*J+Ee,Ee=Math.floor(Te/me),de[ae]=Te-Ee*me;for(;Ee>0;)de[ae++]=Ee%me,Ee=Math.floor(Ee/me);return de}function U(L,J){for(var X=[];J-- >0;)X.push(0);return X.concat(L)}function x(L,J){var X=Math.max(L.length,J.length);if(X<=30)return j(L,J);X=Math.ceil(X/2);var de=L.slice(X),me=L.slice(0,X),Ee=J.slice(X),Te=J.slice(0,X),ae=x(me,Te),Oe=x(de,Ee),xt=x(_(me,de),_(Te,Ee)),wt=_(_(ae,U(T(T(xt,ae),Oe),X)),U(Oe,2*X));return m(wt),wt}function w(L,J){return-.012*L-.012*J+15e-6*L*J>0}u.prototype.multiply=function(L){var J=Fe(L),X=this.value,de=J.value,me=this.sign!==J.sign,Ee;if(J.isSmall){if(de===0)return l[0];if(de===1)return this;if(de===-1)return this.negate();if(Ee=Math.abs(de),Ee<r)return new u(B(X,Ee),me);de=d(Ee)}return w(X.length,de.length)?new u(x(X,de),me):new u(j(X,de),me)},u.prototype.times=u.prototype.multiply;function C(L,J,X){return L<r?new u(B(J,L),X):new u(j(J,d(L)),X)}c.prototype._multiplyBySmall=function(L){return f(L.value*this.value)?new c(L.value*this.value):C(Math.abs(L.value),d(Math.abs(this.value)),this.sign!==L.sign)},u.prototype._multiplyBySmall=function(L){return L.value===0?l[0]:L.value===1?this:L.value===-1?this.negate():C(Math.abs(L.value),this.value,this.sign!==L.sign)},c.prototype.multiply=function(L){return Fe(L)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply;function k(L){var J=L.length,X=g(J+J),de=r,me,Ee,Te,ae,Oe;for(Te=0;Te<J;Te++){ae=L[Te],Ee=0-ae*ae;for(var xt=Te;xt<J;xt++)Oe=L[xt],me=2*(ae*Oe)+X[Te+xt]+Ee,Ee=Math.floor(me/de),X[Te+xt]=me-Ee*de;X[Te+J]=Ee}return m(X),X}u.prototype.square=function(){return new u(k(this.value),!1)},c.prototype.square=function(){var L=this.value*this.value;return f(L)?new c(L):new u(k(d(Math.abs(this.value))),!1)};function F(L,J){var X=L.length,de=J.length,me=r,Ee=g(J.length),Te=J[de-1],ae=Math.ceil(me/(2*Te)),Oe=B(L,ae),xt=B(J,ae),wt,ze,Be,ct,Xe,Ie,ke;for(Oe.length<=X&&Oe.push(0),xt.push(0),Te=xt[de-1],ze=X-de;ze>=0;ze--){for(wt=me-1,Oe[ze+de]!==Te&&(wt=Math.floor((Oe[ze+de]*me+Oe[ze+de-1])/Te)),Be=0,ct=0,Ie=xt.length,Xe=0;Xe<Ie;Xe++)Be+=wt*xt[Xe],ke=Math.floor(Be/me),ct+=Oe[ze+Xe]-(Be-ke*me),Be=ke,ct<0?(Oe[ze+Xe]=ct+me,ct=-1):(Oe[ze+Xe]=ct,ct=0);for(;ct!==0;){for(wt-=1,Be=0,Xe=0;Xe<Ie;Xe++)Be+=Oe[ze+Xe]-me+xt[Xe],Be<0?(Oe[ze+Xe]=Be+me,Be=0):(Oe[ze+Xe]=Be,Be=1);ct+=Be}Ee[ze]=wt}return Oe=R(Oe,ae)[0],[p(Ee),p(Oe)]}function I(L,J){for(var X=L.length,de=J.length,me=[],Ee=[],Te=r,ae,Oe,xt,wt,ze;X;){if(Ee.unshift(L[--X]),m(Ee),Y(Ee,J)<0){me.push(0);continue}Oe=Ee.length,xt=Ee[Oe-1]*Te+Ee[Oe-2],wt=J[de-1]*Te+J[de-2],Oe>de&&(xt=(xt+1)*Te),ae=Math.ceil(xt/wt);do{if(ze=B(J,ae),Y(ze,Ee)<=0)break;ae--}while(ae);me.push(ae),Ee=T(Ee,ze)}return me.reverse(),[p(me),p(Ee)]}function R(L,J){var X=L.length,de=g(X),me=r,Ee,Te,ae,Oe;for(ae=0,Ee=X-1;Ee>=0;--Ee)Oe=ae*me+L[Ee],Te=v(Oe/J),ae=Oe-Te*J,de[Ee]=Te|0;return[de,ae|0]}function $(L,J){var X,de=Fe(J),me=L.value,Ee=de.value,Te;if(Ee===0)throw new Error("Cannot divide by zero");if(L.isSmall)return de.isSmall?[new c(v(me/Ee)),new c(me%Ee)]:[l[0],L];if(de.isSmall){if(Ee===1)return[L,l[0]];if(Ee==-1)return[L.negate(),l[0]];var ae=Math.abs(Ee);if(ae<r){X=R(me,ae),Te=p(X[0]);var Oe=X[1];return L.sign&&(Oe=-Oe),typeof Te=="number"?(L.sign!==de.sign&&(Te=-Te),[new c(Te),new c(Oe)]):[new u(Te,L.sign!==de.sign),new c(Oe)]}Ee=d(ae)}var xt=Y(me,Ee);if(xt===-1)return[l[0],L];if(xt===0)return[l[L.sign===de.sign?1:-1],l[0]];me.length+Ee.length<=200?X=F(me,Ee):X=I(me,Ee),Te=X[0];var wt=L.sign!==de.sign,ze=X[1],Be=L.sign;return typeof Te=="number"?(wt&&(Te=-Te),Te=new c(Te)):Te=new u(Te,wt),typeof ze=="number"?(Be&&(ze=-ze),ze=new c(ze)):ze=new u(ze,Be),[Te,ze]}u.prototype.divmod=function(L){var J=$(this,L);return{quotient:J[0],remainder:J[1]}},c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(L){return $(this,L)[0]},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(L){return $(this,L)[1]},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(L){var J=Fe(L),X=this.value,de=J.value,me,Ee,Te;if(de===0)return l[1];if(X===0)return l[0];if(X===1)return l[1];if(X===-1)return J.isEven()?l[1]:l[-1];if(J.sign)return l[0];if(!J.isSmall)throw new Error("The exponent "+J.toString()+" is too large.");if(this.isSmall&&f(me=Math.pow(X,de)))return new c(v(me));for(Ee=this,Te=l[1];de&!0&&(Te=Te.times(Ee),--de),de!==0;)de/=2,Ee=Ee.square();return Te},c.prototype.pow=u.prototype.pow,u.prototype.modPow=function(L,J){if(L=Fe(L),J=Fe(J),J.isZero())throw new Error("Cannot take modPow with modulus 0");for(var X=l[1],de=this.mod(J);L.isPositive();){if(de.isZero())return l[0];L.isOdd()&&(X=X.multiply(de).mod(J)),L=L.divide(2),de=de.square().mod(J)}return X},c.prototype.modPow=u.prototype.modPow;function Y(L,J){if(L.length!==J.length)return L.length>J.length?1:-1;for(var X=L.length-1;X>=0;X--)if(L[X]!==J[X])return L[X]>J[X]?1:-1;return 0}u.prototype.compareAbs=function(L){var J=Fe(L),X=this.value,de=J.value;return J.isSmall?1:Y(X,de)},c.prototype.compareAbs=function(L){var J=Fe(L),X=Math.abs(this.value),de=J.value;return J.isSmall?(de=Math.abs(de),X===de?0:X>de?1:-1):-1},u.prototype.compare=function(L){if(L===1/0)return-1;if(L===-1/0)return 1;var J=Fe(L),X=this.value,de=J.value;return this.sign!==J.sign?J.sign?1:-1:J.isSmall?this.sign?-1:1:Y(X,de)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(L){if(L===1/0)return-1;if(L===-1/0)return 1;var J=Fe(L),X=this.value,de=J.value;return J.isSmall?X==de?0:X>de?1:-1:X<0!==J.sign?X<0?-1:1:X<0?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(L){return this.compare(L)===0},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(L){return this.compare(L)!==0},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(L){return this.compare(L)>0},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(L){return this.compare(L)<0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(L){return this.compare(L)>=0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(L){return this.compare(L)<=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},u.prototype.isDivisibleBy=function(L){var J=Fe(L),X=J.value;return X===0?!1:X===1?!0:X===2?this.isEven():this.mod(J).equals(l[0])},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function re(L){var J=L.abs();if(J.isUnit())return!1;if(J.equals(2)||J.equals(3)||J.equals(5))return!0;if(J.isEven()||J.isDivisibleBy(3)||J.isDivisibleBy(5))return!1;if(J.lesser(49))return!0}function ne(L,J){for(var X=L.prev(),de=X,me=0,Ee,Te,ae,Oe;de.isEven();)de=de.divide(2),me++;e:for(ae=0;ae<J.length;ae++)if(!L.lesser(J[ae])&&(Oe=e(J[ae]).modPow(de,L),!(Oe.equals(l[1])||Oe.equals(X)))){for(Ee=me-1;Ee!=0;Ee--){if(Oe=Oe.square().mod(L),Oe.isUnit())return!1;if(Oe.equals(X))continue e}return!1}return!0}u.prototype.isPrime=function(L){var J=re(this);if(J!==t)return J;var X=this.abs(),de=X.bitLength();if(de<=64)return ne(X,[2,325,9375,28178,450775,9780504,1795265022]);for(var me=Math.log(2)*de,Ee=Math.ceil(L===!0?2*Math.pow(me,2):me),Te=[],ae=0;ae<Ee;ae++)Te.push(e(ae+2));return ne(X,Te)},c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(L){var J=re(this);if(J!==t)return J;for(var X=this.abs(),de=L===t?5:L,me=[],Ee=0;Ee<de;Ee++)me.push(e.randBetween(2,X.minus(2)));return ne(X,me)},c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(L){for(var J=e.zero,X=e.one,de=Fe(L),me=this.abs(),Ee,Te,ae;!me.equals(e.zero);)Ee=de.divide(me),Te=J,ae=de,J=X,de=me,X=Te.subtract(Ee.multiply(X)),me=ae.subtract(Ee.multiply(me));if(!de.equals(1))throw new Error(this.toString()+" and "+L.toString()+" are not co-prime");return J.compare(0)===-1&&(J=J.add(L)),this.isNegative()?J.negate():J},c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var L=this.value;return this.sign?z(L,1,this.sign):new u(D(L,1),this.sign)},c.prototype.next=function(){var L=this.value;return L+1<o?new c(L+1):new u(a,!1)},u.prototype.prev=function(){var L=this.value;return this.sign?new u(D(L,1),!0):z(L,1,this.sign)},c.prototype.prev=function(){var L=this.value;return L-1>-o?new c(L-1):new u(a,!0)};for(var he=[1];2*he[he.length-1]<=r;)he.push(2*he[he.length-1]);var ge=he.length,Me=he[ge-1];function be(L){return(typeof L=="number"||typeof L=="string")&&+Math.abs(L)<=r||L instanceof u&&L.value.length<=1}u.prototype.shiftLeft=function(L){if(!be(L))throw new Error(String(L)+" is too large for shifting.");if(L=+L,L<0)return this.shiftRight(-L);var J=this;if(J.isZero())return J;for(;L>=ge;)J=J.multiply(Me),L-=ge-1;return J.multiply(he[L])},c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(L){var J;if(!be(L))throw new Error(String(L)+" is too large for shifting.");if(L=+L,L<0)return this.shiftLeft(-L);for(var X=this;L>=ge;){if(X.isZero()||X.isNegative()&&X.isUnit())return X;J=$(X,Me),X=J[1].isNegative()?J[0].prev():J[0],L-=ge-1}return J=$(X,he[L]),J[1].isNegative()?J[0].prev():J[0]},c.prototype.shiftRight=u.prototype.shiftRight;function ut(L,J,X){J=Fe(J);for(var de=L.isNegative(),me=J.isNegative(),Ee=de?L.not():L,Te=me?J.not():J,ae=0,Oe=0,xt=null,wt=null,ze=[];!Ee.isZero()||!Te.isZero();)xt=$(Ee,Me),ae=xt[1].toJSNumber(),de&&(ae=Me-1-ae),wt=$(Te,Me),Oe=wt[1].toJSNumber(),me&&(Oe=Me-1-Oe),Ee=xt[0],Te=wt[0],ze.push(X(ae,Oe));for(var Be=X(de?1:0,me?1:0)!==0?e(-1):e(0),ct=ze.length-1;ct>=0;ct-=1)Be=Be.multiply(Me).add(e(ze[ct]));return Be}u.prototype.not=function(){return this.negate().prev()},c.prototype.not=u.prototype.not,u.prototype.and=function(L){return ut(this,L,function(J,X){return J&X})},c.prototype.and=u.prototype.and,u.prototype.or=function(L){return ut(this,L,function(J,X){return J|X})},c.prototype.or=u.prototype.or,u.prototype.xor=function(L){return ut(this,L,function(J,X){return J^X})},c.prototype.xor=u.prototype.xor;var Pe=1<<30,Mt=(r&-r)*(r&-r)|Pe;function Vt(L){var J=L.value,X=typeof J=="number"?J|Pe:J[0]+J[1]*r|Mt;return X&-X}function nn(L,J){if(J.compareTo(L)<=0){var X=nn(L,J.square(J)),de=X.p,me=X.e,Ee=de.multiply(J);return Ee.compareTo(L)<=0?{p:Ee,e:me*2+1}:{p:de,e:me*2}}return{p:e(1),e:0}}u.prototype.bitLength=function(){var L=this;return L.compareTo(e(0))<0&&(L=L.negate().subtract(e(1))),L.compareTo(e(0))===0?e(0):e(nn(L,e(2)).e).add(e(1))},c.prototype.bitLength=u.prototype.bitLength;function xe(L,J){return L=Fe(L),J=Fe(J),L.greater(J)?L:J}function qe(L,J){return L=Fe(L),J=Fe(J),L.lesser(J)?L:J}function Ge(L,J){if(L=Fe(L).abs(),J=Fe(J).abs(),L.equals(J))return L;if(L.isZero())return J;if(J.isZero())return L;for(var X=l[1],de,me;L.isEven()&&J.isEven();)de=Math.min(Vt(L),Vt(J)),L=L.divide(de),J=J.divide(de),X=X.multiply(de);for(;L.isEven();)L=L.divide(Vt(L));do{for(;J.isEven();)J=J.divide(Vt(J));L.greater(J)&&(me=J,J=L,L=me),J=J.subtract(L)}while(!J.isZero());return X.isUnit()?L:L.multiply(X)}function pe(L,J){return L=Fe(L).abs(),J=Fe(J).abs(),L.divide(Ge(L,J)).multiply(J)}function Zt(L,J){L=Fe(L),J=Fe(J);var X=qe(L,J),de=xe(L,J),me=de.subtract(X).add(1);if(me.isSmall)return X.add(Math.floor(Math.random()*me));for(var Ee=me.value.length-1,Te=[],ae=!0,Oe=Ee;Oe>=0;Oe--){var xt=ae?me.value[Oe]:r,wt=v(Math.random()*xt);Te.unshift(wt),wt<xt&&(ae=!1)}return Te=p(Te),X.add(typeof Te=="number"?new c(Te):new u(Te,!1))}var lt=function(L,J){for(var X=L.length,de,me=Math.abs(J),de=0;de<X;de++){var Ee=L[de].toLowerCase();if(Ee!=="-"&&/[a-z0-9]/.test(Ee)){if(/[0-9]/.test(Ee)&&+Ee>=me){if(Ee==="1"&&me===1)continue;throw new Error(Ee+" is not a valid digit in base "+J+".")}else if(Ee.charCodeAt(0)-87>=me)throw new Error(Ee+" is not a valid digit in base "+J+".")}}if(2<=J&&J<=36&&X<=s/Math.log(J)){var Te=parseInt(L,J);if(isNaN(Te))throw new Error(Ee+" is not a valid digit in base "+J+".");return new c(parseInt(L,J))}J=Fe(J);var ae=[],Oe=L[0]==="-";for(de=Oe?1:0;de<L.length;de++){var Ee=L[de].toLowerCase(),xt=Ee.charCodeAt(0);if(48<=xt&&xt<=57)ae.push(Fe(Ee));else if(97<=xt&&xt<=122)ae.push(Fe(Ee.charCodeAt(0)-87));else if(Ee==="<"){var wt=de;do de++;while(L[de]!==">");ae.push(Fe(L.slice(wt+1,de)))}else throw new Error(Ee+" is not a valid character")}return oe(ae,J,Oe)};function oe(L,J,X){var de=l[0],me=l[1],Ee;for(Ee=L.length-1;Ee>=0;Ee--)de=de.add(L[Ee].times(me)),me=me.times(J);return X?de.negate():de}function le(L){return L<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(L):"<"+L+">"}function we(L,J){if(J=e(J),J.isZero()){if(L.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(J.equals(-1)){if(L.isZero())return{value:[0],isNegative:!1};if(L.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-L)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var X=Array.apply(null,Array(+L-1)).map(Array.prototype.valueOf,[0,1]);return X.unshift([1]),{value:[].concat.apply([],X),isNegative:!1}}var de=!1;if(L.isNegative()&&J.isPositive()&&(de=!0,L=L.abs()),J.equals(1))return L.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+L)).map(Number.prototype.valueOf,1),isNegative:de};for(var me=[],Ee=L,Te;Ee.isNegative()||Ee.compareAbs(J)>=0;){Te=Ee.divmod(J),Ee=Te.quotient;var ae=Te.remainder;ae.isNegative()&&(ae=J.minus(ae).abs(),Ee=Ee.next()),me.push(ae.toJSNumber())}return me.push(Ee.toJSNumber()),{value:me.reverse(),isNegative:de}}function ue(L,J){var X=we(L,J);return(X.isNegative?"-":"")+X.value.map(le).join("")}u.prototype.toArray=function(L){return we(this,L)},c.prototype.toArray=function(L){return we(this,L)},u.prototype.toString=function(L){if(L===t&&(L=10),L!==10)return ue(this,L);for(var J=this.value,X=J.length,de=String(J[--X]),me="0000000",Ee;--X>=0;)Ee=String(J[X]),de+=me.slice(Ee.length)+Ee;var Te=this.sign?"-":"";return Te+de},c.prototype.toString=function(L){return L===t&&(L=10),L!=10?ue(this,L):String(this.value)},u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf;function Ne(L){if(f(+L)){var J=+L;if(J===v(J))return new c(J);throw new Error("Invalid integer: "+L)}var X=L[0]==="-";X&&(L=L.slice(1));var de=L.split(/e/i);if(de.length>2)throw new Error("Invalid integer: "+de.join("e"));if(de.length===2){var me=de[1];if(me[0]==="+"&&(me=me.slice(1)),me=+me,me!==v(me)||!f(me))throw new Error("Invalid integer: "+me+" is not a valid exponent.");var Ee=de[0],Te=Ee.indexOf(".");if(Te>=0&&(me-=Ee.length-Te-1,Ee=Ee.slice(0,Te)+Ee.slice(Te+1)),me<0)throw new Error("Cannot include negative exponent part for integers");Ee+=new Array(me+1).join("0"),L=Ee}var ae=/^([0-9][0-9]*)$/.test(L);if(!ae)throw new Error("Invalid integer: "+L);for(var Oe=[],xt=L.length,wt=i,ze=xt-wt;xt>0;)Oe.push(+L.slice(ze,xt)),ze-=wt,ze<0&&(ze=0),xt-=wt;return m(Oe),new u(Oe,X)}function et(L){if(f(L)){if(L!==v(L))throw new Error(L+" is not an integer.");return new c(L)}return Ne(L.toString())}function Fe(L){return typeof L=="number"?et(L):typeof L=="string"?Ne(L):L}for(var fe=0;fe<1e3;fe++)l[fe]=new c(fe),fe>0&&(l[-fe]=new c(-fe));return l.one=l[1],l.zero=l[0],l.minusOne=l[-1],l.max=xe,l.min=qe,l.gcd=Ge,l.lcm=pe,l.isInstance=function(L){return L instanceof u||L instanceof c},l.randBetween=Zt,l.fromArray=function(L,J,X){return oe(L.map(Fe),Fe(J||10),X)},l}();return typeof Wd<"u"&&Wd.hasOwnProperty("exports")&&(Wd.exports=e),typeof define=="function"&&define.amd&&define("big-integer",[],function(){return e}),e}(),bigDec:function(e){"use strict";var t,r,i,o,a=9e15,s=1e9,l="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},d=!0,p="[DecimalError] ",m=p+"Invalid argument: ",g=p+"Precision limit exceeded",v=p+"crypto unavailable",b=Math.floor,_=Math.pow,D=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,T=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,N=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,j=1e7,B=7,U=u.length-1,x=c.length-1,w={name:"[object Decimal]"};function C(O){var q,G,H,ie=O.length-1,V="",se=O[0];if(ie>0){for(V+=se,q=1;q<ie;q++)H=O[q]+"",(G=B-H.length)&&(V+=Me(G)),V+=H;se=O[q],(G=B-(H=se+"").length)&&(V+=Me(G))}else if(se===0)return"0";for(;se%10==0;)se/=10;return V+se}function k(O,q,G){if(O!==~~O||O<q||O>G)throw Error(m+O)}function F(O,q,G,H){var ie,V,se,ye;for(V=O[0];V>=10;V/=10)--q;return--q<0?(q+=B,ie=0):(ie=Math.ceil((q+1)/B),q%=B),V=_(10,B-q),ye=O[ie]%V|0,H==null?q<3?(q==0?ye=ye/100|0:q==1&&(ye=ye/10|0),se=G<4&&ye==99999||G>3&&ye==49999||ye==5e4||ye==0):se=(G<4&&ye+1==V||G>3&&ye+1==V/2)&&(O[ie+1]/V/100|0)==_(10,q-2)-1||(ye==V/2||ye==0)&&(O[ie+1]/V/100|0)==0:q<4?(q==0?ye=ye/1e3|0:q==1?ye=ye/100|0:q==2&&(ye=ye/10|0),se=(H||G<4)&&ye==9999||!H&&G>3&&ye==4999):se=((H||G<4)&&ye+1==V||!H&&G>3&&ye+1==V/2)&&(O[ie+1]/V/1e3|0)==_(10,q-3)-1,se}function I(O,q,G){for(var H,ie,V=[0],se=0,ye=O.length;se<ye;){for(ie=V.length;ie--;)V[ie]*=q;for(V[0]+=l.indexOf(O.charAt(se++)),H=0;H<V.length;H++)V[H]>G-1&&(V[H+1]===void 0&&(V[H+1]=0),V[H+1]+=V[H]/G|0,V[H]%=G)}return V.reverse()}w.absoluteValue=w.abs=function(){var O=new this.constructor(this);return O.s<0&&(O.s=1),$(O)},w.ceil=function(){return $(new this.constructor(this),this.e+1,2)},w.comparedTo=w.cmp=function(O){var q,G,H,ie,V=this,se=V.d,ye=(O=new V.constructor(O)).d,Se=V.s,Ae=O.s;if(!se||!ye)return Se&&Ae?Se!==Ae?Se:se===ye?0:!se^Se<0?1:-1:NaN;if(!se[0]||!ye[0])return se[0]?Se:ye[0]?-Ae:0;if(Se!==Ae)return Se;if(V.e!==O.e)return V.e>O.e^Se<0?1:-1;for(q=0,G=(H=se.length)<(ie=ye.length)?H:ie;q<G;++q)if(se[q]!==ye[q])return se[q]>ye[q]^Se<0?1:-1;return H===ie?0:H>ie^Se<0?1:-1},w.cosine=w.cos=function(){var O,q,G=this,H=G.constructor;return G.d?G.d[0]?(O=H.precision,q=H.rounding,H.precision=O+Math.max(G.e,G.sd())+B,H.rounding=1,G=function(ie,V){var se,ye,Se=V.d.length;Se<32?(se=Math.ceil(Se/3),ye=(1/pe(4,se)).toString()):(se=16,ye="2.3283064365386962890625e-10"),ie.precision+=se,V=Ge(ie,1,V.times(ye),new ie(1));for(var Ae=se;Ae--;){var Ce=V.times(V);V=Ce.times(Ce).minus(Ce).times(8).plus(1)}return ie.precision-=se,V}(H,Zt(H,G)),H.precision=O,H.rounding=q,$(o==2||o==3?G.neg():G,O,q,!0)):new H(1):new H(NaN)},w.cubeRoot=w.cbrt=function(){var O,q,G,H,ie,V,se,ye,Se,Ae,Ce=this,tt=Ce.constructor;if(!Ce.isFinite()||Ce.isZero())return new tt(Ce);for(d=!1,(V=Ce.s*_(Ce.s*Ce,.3333333333333333))&&Math.abs(V)!=1/0?H=new tt(V.toString()):(G=C(Ce.d),(V=((O=Ce.e)-G.length+1)%3)&&(G+=V==1||V==-2?"0":"00"),V=_(G,.3333333333333333),O=b((O+1)/3)-(O%3==(O<0?-1:2)),(H=new tt(G=V==1/0?"5e"+O:(G=V.toExponential()).slice(0,G.indexOf("e")+1)+O)).s=Ce.s),se=(O=tt.precision)+3;;)if(Ae=(Se=(ye=H).times(ye).times(ye)).plus(Ce),H=R(Ae.plus(Ce).times(ye),Ae.plus(Se),se+2,1),C(ye.d).slice(0,se)===(G=C(H.d)).slice(0,se)){if((G=G.slice(se-3,se+1))!="9999"&&(ie||G!="4999")){+G&&(+G.slice(1)||G.charAt(0)!="5")||($(H,O+1,1),q=!H.times(H).times(H).eq(Ce));break}if(!ie&&($(ye,O+1,0),ye.times(ye).times(ye).eq(Ce))){H=ye;break}se+=4,ie=1}return d=!0,$(H,O,tt.rounding,q)},w.decimalPlaces=w.dp=function(){var O,q=this.d,G=NaN;if(q){if(G=((O=q.length-1)-b(this.e/B))*B,O=q[O])for(;O%10==0;O/=10)G--;G<0&&(G=0)}return G},w.dividedBy=w.div=function(O){return R(this,new this.constructor(O))},w.dividedToIntegerBy=w.divToInt=function(O){var q=this.constructor;return $(R(this,new q(O),0,1,1),q.precision,q.rounding)},w.equals=w.eq=function(O){return this.cmp(O)===0},w.floor=function(){return $(new this.constructor(this),this.e+1,3)},w.greaterThan=w.gt=function(O){return this.cmp(O)>0},w.greaterThanOrEqualTo=w.gte=function(O){var q=this.cmp(O);return q==1||q===0},w.hyperbolicCosine=w.cosh=function(){var O,q,G,H,ie,V=this,se=V.constructor,ye=new se(1);if(!V.isFinite())return new se(V.s?1/0:NaN);if(V.isZero())return ye;G=se.precision,H=se.rounding,se.precision=G+Math.max(V.e,V.sd())+4,se.rounding=1,(ie=V.d.length)<32?q=(1/pe(4,O=Math.ceil(ie/3))).toString():(O=16,q="2.3283064365386962890625e-10"),V=Ge(se,1,V.times(q),new se(1),!0);for(var Se,Ae=O,Ce=new se(8);Ae--;)Se=V.times(V),V=ye.minus(Se.times(Ce.minus(Se.times(Ce))));return $(V,se.precision=G,se.rounding=H,!0)},w.hyperbolicSine=w.sinh=function(){var O,q,G,H,ie=this,V=ie.constructor;if(!ie.isFinite()||ie.isZero())return new V(ie);if(q=V.precision,G=V.rounding,V.precision=q+Math.max(ie.e,ie.sd())+4,V.rounding=1,(H=ie.d.length)<3)ie=Ge(V,2,ie,ie,!0);else{O=(O=1.4*Math.sqrt(H))>16?16:0|O,ie=Ge(V,2,ie=ie.times(1/pe(5,O)),ie,!0);for(var se,ye=new V(5),Se=new V(16),Ae=new V(20);O--;)se=ie.times(ie),ie=ie.times(ye.plus(se.times(Se.times(se).plus(Ae))))}return V.precision=q,V.rounding=G,$(ie,q,G,!0)},w.hyperbolicTangent=w.tanh=function(){var O,q,G=this,H=G.constructor;return G.isFinite()?G.isZero()?new H(G):(O=H.precision,q=H.rounding,H.precision=O+7,H.rounding=1,R(G.sinh(),G.cosh(),H.precision=O,H.rounding=q)):new H(G.s)},w.inverseCosine=w.acos=function(){var O,q=this,G=q.constructor,H=q.abs().cmp(1),ie=G.precision,V=G.rounding;return H!==-1?H===0?q.isNeg()?he(G,ie,V):new G(0):new G(NaN):q.isZero()?he(G,ie+4,V).times(.5):(G.precision=ie+6,G.rounding=1,q=q.asin(),O=he(G,ie+4,V).times(.5),G.precision=ie,G.rounding=V,O.minus(q))},w.inverseHyperbolicCosine=w.acosh=function(){var O,q,G=this,H=G.constructor;return G.lte(1)?new H(G.eq(1)?0:NaN):G.isFinite()?(O=H.precision,q=H.rounding,H.precision=O+Math.max(Math.abs(G.e),G.sd())+4,H.rounding=1,d=!1,G=G.times(G).minus(1).sqrt().plus(G),d=!0,H.precision=O,H.rounding=q,G.ln()):new H(G)},w.inverseHyperbolicSine=w.asinh=function(){var O,q,G=this,H=G.constructor;return!G.isFinite()||G.isZero()?new H(G):(O=H.precision,q=H.rounding,H.precision=O+2*Math.max(Math.abs(G.e),G.sd())+6,H.rounding=1,d=!1,G=G.times(G).plus(1).sqrt().plus(G),d=!0,H.precision=O,H.rounding=q,G.ln())},w.inverseHyperbolicTangent=w.atanh=function(){var O,q,G,H,ie=this,V=ie.constructor;return ie.isFinite()?ie.e>=0?new V(ie.abs().eq(1)?ie.s/0:ie.isZero()?ie:NaN):(O=V.precision,q=V.rounding,H=ie.sd(),Math.max(H,O)<2*-ie.e-1?$(new V(ie),O,q,!0):(V.precision=G=H-ie.e,ie=R(ie.plus(1),new V(1).minus(ie),G+O,1),V.precision=O+4,V.rounding=1,ie=ie.ln(),V.precision=O,V.rounding=q,ie.times(.5))):new V(NaN)},w.inverseSine=w.asin=function(){var O,q,G,H,ie=this,V=ie.constructor;return ie.isZero()?new V(ie):(q=ie.abs().cmp(1),G=V.precision,H=V.rounding,q!==-1?q===0?((O=he(V,G+4,H).times(.5)).s=ie.s,O):new V(NaN):(V.precision=G+6,V.rounding=1,ie=ie.div(new V(1).minus(ie.times(ie)).sqrt().plus(1)).atan(),V.precision=G,V.rounding=H,ie.times(2)))},w.inverseTangent=w.atan=function(){var O,q,G,H,ie,V,se,ye,Se,Ae=this,Ce=Ae.constructor,tt=Ce.precision,nt=Ce.rounding;if(Ae.isFinite()){if(Ae.isZero())return new Ce(Ae);if(Ae.abs().eq(1)&&tt+4<=x)return(se=he(Ce,tt+4,nt).times(.25)).s=Ae.s,se}else{if(!Ae.s)return new Ce(NaN);if(tt+4<=x)return(se=he(Ce,tt+4,nt).times(.5)).s=Ae.s,se}for(Ce.precision=ye=tt+10,Ce.rounding=1,O=G=Math.min(28,ye/B+2|0);O;--O)Ae=Ae.div(Ae.times(Ae).plus(1).sqrt().plus(1));for(d=!1,q=Math.ceil(ye/B),H=1,Se=Ae.times(Ae),se=new Ce(Ae),ie=Ae;O!==-1;)if(ie=ie.times(Se),V=se.minus(ie.div(H+=2)),ie=ie.times(Se),(se=V.plus(ie.div(H+=2))).d[q]!==void 0)for(O=q;se.d[O]===V.d[O]&&O--;);return G&&(se=se.times(2<<G-1)),d=!0,$(se,Ce.precision=tt,Ce.rounding=nt,!0)},w.isFinite=function(){return!!this.d},w.isInteger=w.isInt=function(){return!!this.d&&b(this.e/B)>this.d.length-2},w.isNaN=function(){return!this.s},w.isNegative=w.isNeg=function(){return this.s<0},w.isPositive=w.isPos=function(){return this.s>0},w.isZero=function(){return!!this.d&&this.d[0]===0},w.lessThan=w.lt=function(O){return this.cmp(O)<0},w.lessThanOrEqualTo=w.lte=function(O){return this.cmp(O)<1},w.logarithm=w.log=function(O){var q,G,H,ie,V,se,ye,Se,Ae=this.constructor,Ce=Ae.precision,tt=Ae.rounding;if(O==null)O=new Ae(10),q=!0;else{if(G=(O=new Ae(O)).d,O.s<0||!G||!G[0]||O.eq(1))return new Ae(NaN);q=O.eq(10)}if(G=this.d,this.s<0||!G||!G[0]||this.eq(1))return new Ae(G&&!G[0]?-1/0:this.s!=1?NaN:G?0:1/0);if(q)if(G.length>1)V=!0;else{for(ie=G[0];ie%10==0;)ie/=10;V=ie!==1}if(d=!1,se=Vt(this,ye=Ce+5),H=q?ne(Ae,ye+10):Vt(O,ye),F((Se=R(se,H,ye,1)).d,ie=Ce,tt))do if(se=Vt(this,ye+=10),H=q?ne(Ae,ye+10):Vt(O,ye),Se=R(se,H,ye,1),!V){+C(Se.d).slice(ie+1,ie+15)+1==1e14&&(Se=$(Se,Ce+1,0));break}while(F(Se.d,ie+=10,tt));return d=!0,$(Se,Ce,tt)},w.minus=w.sub=function(O){var q,G,H,ie,V,se,ye,Se,Ae,Ce,tt,nt,tn=this,Gt=tn.constructor;if(O=new Gt(O),!tn.d||!O.d)return tn.s&&O.s?tn.d?O.s=-O.s:O=new Gt(O.d||tn.s!==O.s?tn:NaN):O=new Gt(NaN),O;if(tn.s!=O.s)return O.s=-O.s,tn.plus(O);if(Ae=tn.d,nt=O.d,ye=Gt.precision,Se=Gt.rounding,!Ae[0]||!nt[0]){if(nt[0])O.s=-O.s;else{if(!Ae[0])return new Gt(Se===3?-0:0);O=new Gt(tn)}return d?$(O,ye,Se):O}if(G=b(O.e/B),Ce=b(tn.e/B),Ae=Ae.slice(),V=Ce-G){for((tt=V<0)?(q=Ae,V=-V,se=nt.length):(q=nt,G=Ce,se=Ae.length),V>(H=Math.max(Math.ceil(ye/B),se)+2)&&(V=H,q.length=1),q.reverse(),H=V;H--;)q.push(0);q.reverse()}else{for((tt=(H=Ae.length)<(se=nt.length))&&(se=H),H=0;H<se;H++)if(Ae[H]!=nt[H]){tt=Ae[H]<nt[H];break}V=0}for(tt&&(q=Ae,Ae=nt,nt=q,O.s=-O.s),se=Ae.length,H=nt.length-se;H>0;--H)Ae[se++]=0;for(H=nt.length;H>V;){if(Ae[--H]<nt[H]){for(ie=H;ie&&Ae[--ie]===0;)Ae[ie]=j-1;--Ae[ie],Ae[H]+=j}Ae[H]-=nt[H]}for(;Ae[--se]===0;)Ae.pop();for(;Ae[0]===0;Ae.shift())--G;return Ae[0]?(O.d=Ae,O.e=re(Ae,G),d?$(O,ye,Se):O):new Gt(Se===3?-0:0)},w.modulo=w.mod=function(O){var q,G=this,H=G.constructor;return O=new H(O),!G.d||!O.s||O.d&&!O.d[0]?new H(NaN):!O.d||G.d&&!G.d[0]?$(new H(G),H.precision,H.rounding):(d=!1,H.modulo==9?(q=R(G,O.abs(),0,3,1)).s*=O.s:q=R(G,O,0,H.modulo,1),q=q.times(O),d=!0,G.minus(q))},w.naturalExponential=w.exp=function(){return Mt(this)},w.naturalLogarithm=w.ln=function(){return Vt(this)},w.negated=w.neg=function(){var O=new this.constructor(this);return O.s=-O.s,$(O)},w.plus=w.add=function(O){var q,G,H,ie,V,se,ye,Se,Ae,Ce,tt=this,nt=tt.constructor;if(O=new nt(O),!tt.d||!O.d)return tt.s&&O.s?tt.d||(O=new nt(O.d||tt.s===O.s?tt:NaN)):O=new nt(NaN),O;if(tt.s!=O.s)return O.s=-O.s,tt.minus(O);if(Ae=tt.d,Ce=O.d,ye=nt.precision,Se=nt.rounding,!Ae[0]||!Ce[0])return Ce[0]||(O=new nt(tt)),d?$(O,ye,Se):O;if(V=b(tt.e/B),H=b(O.e/B),Ae=Ae.slice(),ie=V-H){for(ie<0?(G=Ae,ie=-ie,se=Ce.length):(G=Ce,H=V,se=Ae.length),ie>(se=(V=Math.ceil(ye/B))>se?V+1:se+1)&&(ie=se,G.length=1),G.reverse();ie--;)G.push(0);G.reverse()}for((se=Ae.length)-(ie=Ce.length)<0&&(ie=se,G=Ce,Ce=Ae,Ae=G),q=0;ie;)q=(Ae[--ie]=Ae[ie]+Ce[ie]+q)/j|0,Ae[ie]%=j;for(q&&(Ae.unshift(q),++H),se=Ae.length;Ae[--se]==0;)Ae.pop();return O.d=Ae,O.e=re(Ae,H),d?$(O,ye,Se):O},w.precision=w.sd=function(O){var q,G=this;if(O!==void 0&&O!==!!O&&O!==1&&O!==0)throw Error(m+O);return G.d?(q=ge(G.d),O&&G.e+1>q&&(q=G.e+1)):q=NaN,q},w.round=function(){var O=this,q=O.constructor;return $(new q(O),O.e+1,q.rounding)},w.sine=w.sin=function(){var O,q,G=this,H=G.constructor;return G.isFinite()?G.isZero()?new H(G):(O=H.precision,q=H.rounding,H.precision=O+Math.max(G.e,G.sd())+B,H.rounding=1,G=function(ie,V){var se,ye=V.d.length;if(ye<3)return Ge(ie,2,V,V);se=(se=1.4*Math.sqrt(ye))>16?16:0|se,V=V.times(1/pe(5,se)),V=Ge(ie,2,V,V);for(var Se,Ae=new ie(5),Ce=new ie(16),tt=new ie(20);se--;)Se=V.times(V),V=V.times(Ae.plus(Se.times(Ce.times(Se).minus(tt))));return V}(H,Zt(H,G)),H.precision=O,H.rounding=q,$(o>2?G.neg():G,O,q,!0)):new H(NaN)},w.squareRoot=w.sqrt=function(){var O,q,G,H,ie,V,se=this,ye=se.d,Se=se.e,Ae=se.s,Ce=se.constructor;if(Ae!==1||!ye||!ye[0])return new Ce(!Ae||Ae<0&&(!ye||ye[0])?NaN:ye?se:1/0);for(d=!1,(Ae=Math.sqrt(+se))==0||Ae==1/0?(((q=C(ye)).length+Se)%2==0&&(q+="0"),Ae=Math.sqrt(q),Se=b((Se+1)/2)-(Se<0||Se%2),H=new Ce(q=Ae==1/0?"5e"+Se:(q=Ae.toExponential()).slice(0,q.indexOf("e")+1)+Se)):H=new Ce(Ae.toString()),G=(Se=Ce.precision)+3;;)if(H=(V=H).plus(R(se,V,G+2,1)).times(.5),C(V.d).slice(0,G)===(q=C(H.d)).slice(0,G)){if((q=q.slice(G-3,G+1))!="9999"&&(ie||q!="4999")){+q&&(+q.slice(1)||q.charAt(0)!="5")||($(H,Se+1,1),O=!H.times(H).eq(se));break}if(!ie&&($(V,Se+1,0),V.times(V).eq(se))){H=V;break}G+=4,ie=1}return d=!0,$(H,Se,Ce.rounding,O)},w.tangent=w.tan=function(){var O,q,G=this,H=G.constructor;return G.isFinite()?G.isZero()?new H(G):(O=H.precision,q=H.rounding,H.precision=O+10,H.rounding=1,(G=G.sin()).s=1,G=R(G,new H(1).minus(G.times(G)).sqrt(),O+10,0),H.precision=O,H.rounding=q,$(o==2||o==4?G.neg():G,O,q,!0)):new H(NaN)},w.times=w.mul=function(O){var q,G,H,ie,V,se,ye,Se,Ae,Ce=this,tt=Ce.constructor,nt=Ce.d,tn=(O=new tt(O)).d;if(O.s*=Ce.s,!(nt&&nt[0]&&tn&&tn[0]))return new tt(!O.s||nt&&!nt[0]&&!tn||tn&&!tn[0]&&!nt?NaN:nt&&tn?0*O.s:O.s/0);for(G=b(Ce.e/B)+b(O.e/B),(Se=nt.length)<(Ae=tn.length)&&(V=nt,nt=tn,tn=V,se=Se,Se=Ae,Ae=se),V=[],H=se=Se+Ae;H--;)V.push(0);for(H=Ae;--H>=0;){for(q=0,ie=Se+H;ie>H;)ye=V[ie]+tn[H]*nt[ie-H-1]+q,V[ie--]=ye%j|0,q=ye/j|0;V[ie]=(V[ie]+q)%j|0}for(;!V[--se];)V.pop();return q?++G:V.shift(),O.d=V,O.e=re(V,G),d?$(O,tt.precision,tt.rounding):O},w.toBinary=function(O,q){return lt(this,2,O,q)},w.toDecimalPlaces=w.toDP=function(O,q){var G=this,H=G.constructor;return G=new H(G),O===void 0?G:(k(O,0,s),q===void 0?q=H.rounding:k(q,0,8),$(G,O+G.e+1,q))},w.toExponential=function(O,q){var G,H=this,ie=H.constructor;return O===void 0?G=Y(H,!0):(k(O,0,s),q===void 0?q=ie.rounding:k(q,0,8),G=Y(H=$(new ie(H),O+1,q),!0,O+1)),H.isNeg()&&!H.isZero()?"-"+G:G},w.toFixed=function(O,q){var G,H,ie=this,V=ie.constructor;return O===void 0?G=Y(ie):(k(O,0,s),q===void 0?q=V.rounding:k(q,0,8),G=Y(H=$(new V(ie),O+ie.e+1,q),!1,O+H.e+1)),ie.isNeg()&&!ie.isZero()?"-"+G:G},w.toFraction=function(O){var q,G,H,ie,V,se,ye,Se,Ae,Ce,tt,nt,tn=this,Gt=tn.d,Bt=tn.constructor;if(!Gt)return new Bt(tn);if(Ae=G=new Bt(1),H=Se=new Bt(0),se=(V=(q=new Bt(H)).e=ge(Gt)-tn.e-1)%B,q.d[0]=_(10,se<0?B+se:se),O==null)O=V>0?q:Ae;else{if(!(ye=new Bt(O)).isInt()||ye.lt(Ae))throw Error(m+ye);O=ye.gt(q)?V>0?q:Ae:ye}for(d=!1,ye=new Bt(C(Gt)),Ce=Bt.precision,Bt.precision=V=Gt.length*B*2;tt=R(ye,q,0,1,1),(ie=G.plus(tt.times(H))).cmp(O)!=1;)G=H,H=ie,ie=Ae,Ae=Se.plus(tt.times(ie)),Se=ie,ie=q,q=ye.minus(tt.times(ie)),ye=ie;return ie=R(O.minus(G),H,0,1,1),Se=Se.plus(ie.times(Ae)),G=G.plus(ie.times(H)),Se.s=Ae.s=tn.s,nt=R(Ae,H,V,1).minus(tn).abs().cmp(R(Se,G,V,1).minus(tn).abs())<1?[Ae,H]:[Se,G],Bt.precision=Ce,d=!0,nt},w.toHexadecimal=w.toHex=function(O,q){return lt(this,16,O,q)},w.toNearest=function(O,q){var G=this,H=G.constructor;if(G=new H(G),O==null){if(!G.d)return G;O=new H(1),q=H.rounding}else{if(O=new H(O),q===void 0?q=H.rounding:k(q,0,8),!G.d)return O.s?G:O;if(!O.d)return O.s&&(O.s=G.s),O}return O.d[0]?(d=!1,G=R(G,O,0,q,1).times(O),d=!0,$(G)):(O.s=G.s,G=O),G},w.toNumber=function(){return+this},w.toOctal=function(O,q){return lt(this,8,O,q)},w.toPower=w.pow=function(O){var q,G,H,ie,V,se,ye=this,Se=ye.constructor,Ae=+(O=new Se(O));if(!(ye.d&&O.d&&ye.d[0]&&O.d[0]))return new Se(_(+ye,Ae));if((ye=new Se(ye)).eq(1))return ye;if(H=Se.precision,V=Se.rounding,O.eq(1))return $(ye,H,V);if((q=b(O.e/B))>=O.d.length-1&&(G=Ae<0?-Ae:Ae)<=9007199254740991)return ie=be(Se,ye,G,H),O.s<0?new Se(1).div(ie):$(ie,H,V);if((se=ye.s)<0){if(q<O.d.length-1)return new Se(NaN);if((1&O.d[q])==0&&(se=1),ye.e==0&&ye.d[0]==1&&ye.d.length==1)return ye.s=se,ye}return(q=(G=_(+ye,Ae))!=0&&isFinite(G)?new Se(G+"").e:b(Ae*(Math.log("0."+C(ye.d))/Math.LN10+ye.e+1)))>Se.maxE+1||q<Se.minE-1?new Se(q>0?se/0:0):(d=!1,Se.rounding=ye.s=1,G=Math.min(12,(q+"").length),(ie=Mt(O.times(Vt(ye,H+G)),H)).d&&F((ie=$(ie,H+5,1)).d,H,V)&&(q=H+10,+C((ie=$(Mt(O.times(Vt(ye,q+G)),q),q+5,1)).d).slice(H+1,H+15)+1==1e14&&(ie=$(ie,H+1,0))),ie.s=se,d=!0,Se.rounding=V,$(ie,H,V))},w.toPrecision=function(O,q){var G,H=this,ie=H.constructor;return O===void 0?G=Y(H,H.e<=ie.toExpNeg||H.e>=ie.toExpPos):(k(O,1,s),q===void 0?q=ie.rounding:k(q,0,8),G=Y(H=$(new ie(H),O,q),O<=H.e||H.e<=ie.toExpNeg,O)),H.isNeg()&&!H.isZero()?"-"+G:G},w.toSignificantDigits=w.toSD=function(O,q){var G=this.constructor;return O===void 0?(O=G.precision,q=G.rounding):(k(O,1,s),q===void 0?q=G.rounding:k(q,0,8)),$(new G(this),O,q)},w.toString=function(){var O=this,q=O.constructor,G=Y(O,O.e<=q.toExpNeg||O.e>=q.toExpPos);return O.isNeg()&&!O.isZero()?"-"+G:G},w.truncated=w.trunc=function(){return $(new this.constructor(this),this.e+1,1)},w.valueOf=w.toJSON=function(){var O=this,q=O.constructor,G=Y(O,O.e<=q.toExpNeg||O.e>=q.toExpPos);return O.isNeg()?"-"+G:G};var R=function(){function O(H,ie,V){var se,ye=0,Se=H.length;for(H=H.slice();Se--;)se=H[Se]*ie+ye,H[Se]=se%V|0,ye=se/V|0;return ye&&H.unshift(ye),H}function q(H,ie,V,se){var ye,Se;if(V!=se)Se=V>se?1:-1;else for(ye=Se=0;ye<V;ye++)if(H[ye]!=ie[ye]){Se=H[ye]>ie[ye]?1:-1;break}return Se}function G(H,ie,V,se){for(var ye=0;V--;)H[V]-=ye,ye=H[V]<ie[V]?1:0,H[V]=ye*se+H[V]-ie[V];for(;!H[0]&&H.length>1;)H.shift()}return function(H,ie,V,se,ye,Se){var Ae,Ce,tt,nt,tn,Gt,Bt,cn,$r,_i,or,zt,Rn,Ea,Yt,Qn,vt,ee,Io,qu,Fn=H.constructor,yr=H.s==ie.s?1:-1,Qt=H.d,Zn=ie.d;if(!(Qt&&Qt[0]&&Zn&&Zn[0]))return new Fn(H.s&&ie.s&&(Qt?!Zn||Qt[0]!=Zn[0]:Zn)?Qt&&Qt[0]==0||!Zn?0*yr:yr/0:NaN);for(Se?(tn=1,Ce=H.e-ie.e):(Se=j,tn=B,Ce=b(H.e/tn)-b(ie.e/tn)),Io=Zn.length,vt=Qt.length,_i=($r=new Fn(yr)).d=[],tt=0;Zn[tt]==(Qt[tt]||0);tt++);if(Zn[tt]>(Qt[tt]||0)&&Ce--,V==null?(Ea=V=Fn.precision,se=Fn.rounding):Ea=ye?V+(H.e-ie.e)+1:V,Ea<0)_i.push(1),Gt=!0;else{if(Ea=Ea/tn+2|0,tt=0,Io==1){for(nt=0,Zn=Zn[0],Ea++;(tt<vt||nt)&&Ea--;tt++)Yt=nt*Se+(Qt[tt]||0),_i[tt]=Yt/Zn|0,nt=Yt%Zn|0;Gt=nt||tt<vt}else{for((nt=Se/(Zn[0]+1)|0)>1&&(Zn=O(Zn,nt,Se),Qt=O(Qt,nt,Se),Io=Zn.length,vt=Qt.length),Qn=Io,zt=(or=Qt.slice(0,Io)).length;zt<Io;)or[zt++]=0;(qu=Zn.slice()).unshift(0),ee=Zn[0],Zn[1]>=Se/2&&++ee;do nt=0,(Ae=q(Zn,or,Io,zt))<0?(Rn=or[0],Io!=zt&&(Rn=Rn*Se+(or[1]||0)),(nt=Rn/ee|0)>1?(nt>=Se&&(nt=Se-1),(Ae=q(Bt=O(Zn,nt,Se),or,cn=Bt.length,zt=or.length))==1&&(nt--,G(Bt,Io<cn?qu:Zn,cn,Se))):(nt==0&&(Ae=nt=1),Bt=Zn.slice()),(cn=Bt.length)<zt&&Bt.unshift(0),G(or,Bt,zt,Se),Ae==-1&&(Ae=q(Zn,or,Io,zt=or.length))<1&&(nt++,G(or,Io<zt?qu:Zn,zt,Se)),zt=or.length):Ae===0&&(nt++,or=[0]),_i[tt++]=nt,Ae&&or[0]?or[zt++]=Qt[Qn]||0:(or=[Qt[Qn]],zt=1);while((Qn++<vt||or[0]!==void 0)&&Ea--);Gt=or[0]!==void 0}_i[0]||_i.shift()}if(tn==1)$r.e=Ce,r=Gt;else{for(tt=1,nt=_i[0];nt>=10;nt/=10)tt++;$r.e=tt+Ce*tn-1,$($r,ye?V+$r.e+1:V,se,Gt)}return $r}}();function $(O,q,G,H){var ie,V,se,ye,Se,Ae,Ce,tt,nt,tn=O.constructor;e:if(q!=null){if(!(tt=O.d))return O;for(ie=1,ye=tt[0];ye>=10;ye/=10)ie++;if((V=q-ie)<0)V+=B,se=q,Se=(Ce=tt[nt=0])/_(10,ie-se-1)%10|0;else if((nt=Math.ceil((V+1)/B))>=(ye=tt.length)){if(!H)break e;for(;ye++<=nt;)tt.push(0);Ce=Se=0,ie=1,se=(V%=B)-B+1}else{for(Ce=ye=tt[nt],ie=1;ye>=10;ye/=10)ie++;Se=(se=(V%=B)-B+ie)<0?0:Ce/_(10,ie-se-1)%10|0}if(H=H||q<0||tt[nt+1]!==void 0||(se<0?Ce:Ce%_(10,ie-se-1)),Ae=G<4?(Se||H)&&(G==0||G==(O.s<0?3:2)):Se>5||Se==5&&(G==4||H||G==6&&(V>0?se>0?Ce/_(10,ie-se):0:tt[nt-1])%10&1||G==(O.s<0?8:7)),q<1||!tt[0])return tt.length=0,Ae?(q-=O.e+1,tt[0]=_(10,(B-q%B)%B),O.e=-q||0):tt[0]=O.e=0,O;if(V==0?(tt.length=nt,ye=1,nt--):(tt.length=nt+1,ye=_(10,B-V),tt[nt]=se>0?(Ce/_(10,ie-se)%_(10,se)|0)*ye:0),Ae)for(;;){if(nt==0){for(V=1,se=tt[0];se>=10;se/=10)V++;for(se=tt[0]+=ye,ye=1;se>=10;se/=10)ye++;V!=ye&&(O.e++,tt[0]==j&&(tt[0]=1));break}if(tt[nt]+=ye,tt[nt]!=j)break;tt[nt--]=0,ye=1}for(V=tt.length;tt[--V]===0;)tt.pop()}return d&&(O.e>tn.maxE?(O.d=null,O.e=NaN):O.e<tn.minE&&(O.e=0,O.d=[0])),O}function Y(O,q,G){if(!O.isFinite())return nn(O);var H,ie=O.e,V=C(O.d),se=V.length;return q?(G&&(H=G-se)>0?V=V.charAt(0)+"."+V.slice(1)+Me(H):se>1&&(V=V.charAt(0)+"."+V.slice(1)),V=V+(O.e<0?"e":"e+")+O.e):ie<0?(V="0."+Me(-ie-1)+V,G&&(H=G-se)>0&&(V+=Me(H))):ie>=se?(V+=Me(ie+1-se),G&&(H=G-ie-1)>0&&(V=V+"."+Me(H))):((H=ie+1)<se&&(V=V.slice(0,H)+"."+V.slice(H)),G&&(H=G-se)>0&&(ie+1===se&&(V+="."),V+=Me(H))),V}function re(O,q){var G=O[0];for(q*=B;G>=10;G/=10)q++;return q}function ne(O,q,G){if(q>U)throw d=!0,G&&(O.precision=G),Error(g);return $(new O(u),q,1,!0)}function he(O,q,G){if(q>x)throw Error(g);return $(new O(c),q,G,!0)}function ge(O){var q=O.length-1,G=q*B+1;if(q=O[q]){for(;q%10==0;q/=10)G--;for(q=O[0];q>=10;q/=10)G++}return G}function Me(O){for(var q="";O--;)q+="0";return q}function be(O,q,G,H){var ie,V=new O(1),se=Math.ceil(H/B+4);for(d=!1;;){if(G%2&&oe((V=V.times(q)).d,se)&&(ie=!0),(G=b(G/2))===0){G=V.d.length-1,ie&&V.d[G]===0&&++V.d[G];break}oe((q=q.times(q)).d,se)}return d=!0,V}function ut(O){return 1&O.d[O.d.length-1]}function Pe(O,q,G){for(var H,ie=new O(q[0]),V=0;++V<q.length;){if(!(H=new O(q[V])).s){ie=H;break}ie[G](H)&&(ie=H)}return ie}function Mt(O,q){var G,H,ie,V,se,ye,Se,Ae=0,Ce=0,tt=0,nt=O.constructor,tn=nt.rounding,Gt=nt.precision;if(!O.d||!O.d[0]||O.e>17)return new nt(O.d?O.d[0]?O.s<0?0:1/0:1:O.s?O.s<0?0:O:NaN);for(q==null?(d=!1,Se=Gt):Se=q,ye=new nt(.03125);O.e>-2;)O=O.times(ye),tt+=5;for(Se+=H=Math.log(_(2,tt))/Math.LN10*2+5|0,G=V=se=new nt(1),nt.precision=Se;;){if(V=$(V.times(O),Se,1),G=G.times(++Ce),C((ye=se.plus(R(V,G,Se,1))).d).slice(0,Se)===C(se.d).slice(0,Se)){for(ie=tt;ie--;)se=$(se.times(se),Se,1);if(q!=null)return nt.precision=Gt,se;if(!(Ae<3&&F(se.d,Se-H,tn,Ae)))return $(se,nt.precision=Gt,tn,d=!0);nt.precision=Se+=10,G=V=ye=new nt(1),Ce=0,Ae++}se=ye}}function Vt(O,q){var G,H,ie,V,se,ye,Se,Ae,Ce,tt,nt,tn=1,Gt=O,Bt=Gt.d,cn=Gt.constructor,$r=cn.rounding,_i=cn.precision;if(Gt.s<0||!Bt||!Bt[0]||!Gt.e&&Bt[0]==1&&Bt.length==1)return new cn(Bt&&!Bt[0]?-1/0:Gt.s!=1?NaN:Bt?0:Gt);if(q==null?(d=!1,Ce=_i):Ce=q,cn.precision=Ce+=10,H=(G=C(Bt)).charAt(0),!(Math.abs(V=Gt.e)<15e14))return Ae=ne(cn,Ce+2,_i).times(V+""),Gt=Vt(new cn(H+"."+G.slice(1)),Ce-10).plus(Ae),cn.precision=_i,q==null?$(Gt,_i,$r,d=!0):Gt;for(;H<7&&H!=1||H==1&&G.charAt(1)>3;)H=(G=C((Gt=Gt.times(O)).d)).charAt(0),tn++;for(V=Gt.e,H>1?(Gt=new cn("0."+G),V++):Gt=new cn(H+"."+G.slice(1)),tt=Gt,Se=se=Gt=R(Gt.minus(1),Gt.plus(1),Ce,1),nt=$(Gt.times(Gt),Ce,1),ie=3;;){if(se=$(se.times(nt),Ce,1),C((Ae=Se.plus(R(se,new cn(ie),Ce,1))).d).slice(0,Ce)===C(Se.d).slice(0,Ce)){if(Se=Se.times(2),V!==0&&(Se=Se.plus(ne(cn,Ce+2,_i).times(V+""))),Se=R(Se,new cn(tn),Ce,1),q!=null)return cn.precision=_i,Se;if(!F(Se.d,Ce-10,$r,ye))return $(Se,cn.precision=_i,$r,d=!0);cn.precision=Ce+=10,Ae=se=Gt=R(tt.minus(1),tt.plus(1),Ce,1),nt=$(Gt.times(Gt),Ce,1),ie=ye=1}Se=Ae,ie+=2}}function nn(O){return String(O.s*O.s/0)}function xe(O,q){var G,H,ie;for((G=q.indexOf("."))>-1&&(q=q.replace(".","")),(H=q.search(/e/i))>0?(G<0&&(G=H),G+=+q.slice(H+1),q=q.substring(0,H)):G<0&&(G=q.length),H=0;q.charCodeAt(H)===48;H++);for(ie=q.length;q.charCodeAt(ie-1)===48;--ie);if(q=q.slice(H,ie)){if(ie-=H,O.e=G=G-H-1,O.d=[],H=(G+1)%B,G<0&&(H+=B),H<ie){for(H&&O.d.push(+q.slice(0,H)),ie-=B;H<ie;)O.d.push(+q.slice(H,H+=B));q=q.slice(H),H=B-q.length}else H-=ie;for(;H--;)q+="0";O.d.push(+q),d&&(O.e>O.constructor.maxE?(O.d=null,O.e=NaN):O.e<O.constructor.minE&&(O.e=0,O.d=[0]))}else O.e=0,O.d=[0];return O}function qe(O,q){var G,H,ie,V,se,ye,Se,Ae,Ce;if(q==="Infinity"||q==="NaN")return+q||(O.s=NaN),O.e=NaN,O.d=null,O;if(T.test(q))G=16,q=q.toLowerCase();else if(D.test(q))G=2;else{if(!N.test(q))throw Error(m+q);G=8}for((V=q.search(/p/i))>0?(Se=+q.slice(V+1),q=q.substring(2,V)):q=q.slice(2),se=(V=q.indexOf("."))>=0,H=O.constructor,se&&(V=(ye=(q=q.replace(".","")).length)-V,ie=be(H,new H(G),V,2*V)),V=Ce=(Ae=I(q,G,j)).length-1;Ae[V]===0;--V)Ae.pop();return V<0?new H(0*O.s):(O.e=re(Ae,Ce),O.d=Ae,d=!1,se&&(O=R(O,ie,4*ye)),Se&&(O=O.times(Math.abs(Se)<54?_(2,Se):t.pow(2,Se))),d=!0,O)}function Ge(O,q,G,H,ie){var V,se,ye,Se,Ae=O.precision,Ce=Math.ceil(Ae/B);for(d=!1,Se=G.times(G),ye=new O(H);;){if(se=R(ye.times(Se),new O(q++*q++),Ae,1),ye=ie?H.plus(se):H.minus(se),H=R(se.times(Se),new O(q++*q++),Ae,1),(se=ye.plus(H)).d[Ce]!==void 0){for(V=Ce;se.d[V]===ye.d[V]&&V--;);if(V==-1)break}V=ye,ye=H,H=se,se=V}return d=!0,se.d.length=Ce+1,se}function pe(O,q){for(var G=O;--q;)G*=O;return G}function Zt(O,q){var G,H=q.s<0,ie=he(O,O.precision,1),V=ie.times(.5);if((q=q.abs()).lte(V))return o=H?4:1,q;if((G=q.divToInt(ie)).isZero())o=H?3:2;else{if((q=q.minus(G.times(ie))).lte(V))return o=ut(G)?H?2:3:H?4:1,q;o=ut(G)?H?1:4:H?3:2}return q.minus(ie).abs()}function lt(O,q,G,H){var ie,V,se,ye,Se,Ae,Ce,tt,nt,tn=O.constructor,Gt=G!==void 0;if(Gt?(k(G,1,s),H===void 0?H=tn.rounding:k(H,0,8)):(G=tn.precision,H=tn.rounding),O.isFinite()){for(Gt?(ie=2,q==16?G=4*G-3:q==8&&(G=3*G-2)):ie=q,(se=(Ce=Y(O)).indexOf("."))>=0&&(Ce=Ce.replace(".",""),(nt=new tn(1)).e=Ce.length-se,nt.d=I(Y(nt),10,ie),nt.e=nt.d.length),V=Se=(tt=I(Ce,10,ie)).length;tt[--Se]==0;)tt.pop();if(tt[0]){if(se<0?V--:((O=new tn(O)).d=tt,O.e=V,tt=(O=R(O,nt,G,H,0,ie)).d,V=O.e,Ae=r),se=tt[G],ye=ie/2,Ae=Ae||tt[G+1]!==void 0,Ae=H<4?(se!==void 0||Ae)&&(H===0||H===(O.s<0?3:2)):se>ye||se===ye&&(H===4||Ae||H===6&&1&tt[G-1]||H===(O.s<0?8:7)),tt.length=G,Ae)for(;++tt[--G]>ie-1;)tt[G]=0,G||(++V,tt.unshift(1));for(Se=tt.length;!tt[Se-1];--Se);for(se=0,Ce="";se<Se;se++)Ce+=l.charAt(tt[se]);if(Gt){if(Se>1)if(q==16||q==8){for(se=q==16?4:3,--Se;Se%se;Se++)Ce+="0";for(Se=(tt=I(Ce,ie,q)).length;!tt[Se-1];--Se);for(se=1,Ce="1.";se<Se;se++)Ce+=l.charAt(tt[se])}else Ce=Ce.charAt(0)+"."+Ce.slice(1);Ce=Ce+(V<0?"p":"p+")+V}else if(V<0){for(;++V;)Ce="0"+Ce;Ce="0."+Ce}else if(++V>Se)for(V-=Se;V--;)Ce+="0";else V<Se&&(Ce=Ce.slice(0,V)+"."+Ce.slice(V))}else Ce=Gt?"0p+0":"0";Ce=(q==16?"0x":q==2?"0b":q==8?"0o":"")+Ce}else Ce=nn(O);return O.s<0?"-"+Ce:Ce}function oe(O,q){if(O.length>q)return O.length=q,!0}function le(O){return new this(O).abs()}function we(O){return new this(O).acos()}function ue(O){return new this(O).acosh()}function Ne(O,q){return new this(O).plus(q)}function et(O){return new this(O).asin()}function Fe(O){return new this(O).asinh()}function fe(O){return new this(O).atan()}function L(O){return new this(O).atanh()}function J(O,q){O=new this(O),q=new this(q);var G,H=this.precision,ie=this.rounding,V=H+4;return O.s&&q.s?O.d||q.d?!q.d||O.isZero()?(G=q.s<0?he(this,H,ie):new this(0)).s=O.s:!O.d||q.isZero()?(G=he(this,V,1).times(.5)).s=O.s:q.s<0?(this.precision=V,this.rounding=1,G=this.atan(R(O,q,V,1)),q=he(this,V,1),this.precision=H,this.rounding=ie,G=O.s<0?G.minus(q):G.plus(q)):G=this.atan(R(O,q,V,1)):(G=he(this,V,1).times(q.s>0?.25:.75)).s=O.s:G=new this(NaN),G}function X(O){return new this(O).cbrt()}function de(O){return $(O=new this(O),O.e+1,2)}function me(O){if(!O||typeof O!="object")throw Error(p+"Object expected");var q,G,H,ie=O.defaults===!0,V=["precision",1,s,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9];for(q=0;q<V.length;q+=3)if(G=V[q],ie&&(this[G]=f[G]),(H=O[G])!==void 0){if(!(b(H)===H&&H>=V[q+1]&&H<=V[q+2]))throw Error(m+G+": "+H);this[G]=H}if(G="crypto",ie&&(this[G]=f[G]),(H=O[G])!==void 0){if(H!==!0&&H!==!1&&H!==0&&H!==1)throw Error(m+G+": "+H);if(H){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[G]=!0}else this[G]=!1}return this}function Ee(O){return new this(O).cos()}function Te(O){return new this(O).cosh()}function ae(O,q){return new this(O).div(q)}function Oe(O){return new this(O).exp()}function xt(O){return $(O=new this(O),O.e+1,3)}function wt(){var O,q,G=new this(0);for(d=!1,O=0;O<arguments.length;)if((q=new this(arguments[O++])).d)G.d&&(G=G.plus(q.times(q)));else{if(q.s)return d=!0,new this(1/0);G=q}return d=!0,G.sqrt()}function ze(O){return O instanceof t||O&&O.name==="[object Decimal]"||!1}function Be(O){return new this(O).ln()}function ct(O,q){return new this(O).log(q)}function Xe(O){return new this(O).log(2)}function Ie(O){return new this(O).log(10)}function ke(){return Pe(this,arguments,"lt")}function Je(){return Pe(this,arguments,"gt")}function mt(O,q){return new this(O).mod(q)}function Rt(O,q){return new this(O).mul(q)}function Jt(O,q){return new this(O).pow(q)}function Ot(O){var q,G,H,ie,V=0,se=new this(1),ye=[];if(O===void 0?O=this.precision:k(O,1,s),H=Math.ceil(O/B),this.crypto)if(crypto.getRandomValues)for(q=crypto.getRandomValues(new Uint32Array(H));V<H;)(ie=q[V])>=429e7?q[V]=crypto.getRandomValues(new Uint32Array(1))[0]:ye[V++]=ie%1e7;else{if(!crypto.randomBytes)throw Error(v);for(q=crypto.randomBytes(H*=4);V<H;)(ie=q[V]+(q[V+1]<<8)+(q[V+2]<<16)+((127&q[V+3])<<24))>=214e7?crypto.randomBytes(4).copy(q,V):(ye.push(ie%1e7),V+=4);V=H/4}else for(;V<H;)ye[V++]=1e7*Math.random()|0;for(H=ye[--V],O%=B,H&&O&&(ie=_(10,B-O),ye[V]=(H/ie|0)*ie);ye[V]===0;V--)ye.pop();if(V<0)G=0,ye=[0];else{for(G=-1;ye[0]===0;G-=B)ye.shift();for(H=1,ie=ye[0];ie>=10;ie/=10)H++;H<B&&(G-=B-H)}return se.e=G,se.d=ye,se}function kn(O){return $(O=new this(O),O.e+1,this.rounding)}function Lt(O){return(O=new this(O)).d?O.d[0]?O.s:0*O.s:O.s||NaN}function At(O){return new this(O).sin()}function Un(O){return new this(O).sinh()}function Hn(O){return new this(O).sqrt()}function Tn(O,q){return new this(O).sub(q)}function Wt(O){return new this(O).tan()}function Nt(O){return new this(O).tanh()}function Sn(O){return $(O=new this(O),O.e+1,1)}return(t=function O(q){var G,H,ie;function V(se){var ye,Se,Ae,Ce=this;if(!(Ce instanceof V))return new V(se);if(Ce.constructor=V,se instanceof V)return Ce.s=se.s,void(d?!se.d||se.e>V.maxE?(Ce.e=NaN,Ce.d=null):se.e<V.minE?(Ce.e=0,Ce.d=[0]):(Ce.e=se.e,Ce.d=se.d.slice()):(Ce.e=se.e,Ce.d=se.d?se.d.slice():se.d));if((Ae=typeof se)=="number"){if(se===0)return Ce.s=1/se<0?-1:1,Ce.e=0,void(Ce.d=[0]);if(se<0?(se=-se,Ce.s=-1):Ce.s=1,se===~~se&&se<1e7){for(ye=0,Se=se;Se>=10;Se/=10)ye++;return void(d?ye>V.maxE?(Ce.e=NaN,Ce.d=null):ye<V.minE?(Ce.e=0,Ce.d=[0]):(Ce.e=ye,Ce.d=[se]):(Ce.e=ye,Ce.d=[se]))}return 0*se!=0?(se||(Ce.s=NaN),Ce.e=NaN,void(Ce.d=null)):xe(Ce,se.toString())}if(Ae!=="string")throw Error(m+se);return(Se=se.charCodeAt(0))===45?(se=se.slice(1),Ce.s=-1):(Se===43&&(se=se.slice(1)),Ce.s=1),z.test(se)?xe(Ce,se):qe(Ce,se)}if(V.prototype=w,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=me,V.clone=O,V.isDecimal=ze,V.abs=le,V.acos=we,V.acosh=ue,V.add=Ne,V.asin=et,V.asinh=Fe,V.atan=fe,V.atanh=L,V.atan2=J,V.cbrt=X,V.ceil=de,V.cos=Ee,V.cosh=Te,V.div=ae,V.exp=Oe,V.floor=xt,V.hypot=wt,V.ln=Be,V.log=ct,V.log10=Ie,V.log2=Xe,V.max=ke,V.min=Je,V.mod=mt,V.mul=Rt,V.pow=Jt,V.random=Ot,V.round=kn,V.sign=Lt,V.sin=At,V.sinh=Un,V.sqrt=Hn,V.sub=Tn,V.tan=Wt,V.tanh=Nt,V.trunc=Sn,q===void 0&&(q={}),q&&q.defaults!==!0)for(ie=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],G=0;G<ie.length;)q.hasOwnProperty(H=ie[G++])||(q[H]=this[H]);return V.config(q),V}(f)).default=t.Decimal=t,u=new t(u),c=new t(c),typeof define=="function"&&define.amd?define(function(){return t}):typeof Wd<"u"&&Wd.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(w[Symbol.for("nodejs.util.inspect.custom")]=w.toString,w[Symbol.toStringTag]="Decimal"),Wd.exports=t):(e||(e=typeof self<"u"&&self&&self.self==self?self:window),i=e.Decimal,t.noConflict=function(){return e.Decimal=i,t},e.Decimal=t),t}(FJ)});typeof Wd<"u"&&(Wd.exports=IJ)});var rw=Wv((o6t,PJ)=>{typeof PJ<"u"&&typeof _4>"u"&&(_4=w4(),iw());var _4;(function(){"use strict";var e=_4.getCore(),t=e.PARSER,r=e.Frac,i=e.Settings,o=e.Utils.isSymbol,g=e.groups.FN,a=e.Symbol,s=e.Utils.text,l=e.Utils.inBrackets,u=e.Utils.isInt,c=e.Utils.format,f=e.Utils.even,d=e.Utils.evaluate,p=e.groups.N,m=e.groups.S,g=e.groups.FN,v=e.groups.PL,b=e.groups.CP,_=e.groups.CB,D=e.groups.EX,T=e.groups.P,N=i.LOG,z="exp",j="abs",B="sqrt",U="sin",x="cos",w="tan",C="sec",k="csc",F="cot",I="asin",R="acos",$="atan",Y="asec",re="acsc",ne="acot",he="sinh",ge="cosh",Me="tanh",be="csch",ut="sech",Pe="coth",Mt="asech",Vt="acsch",nn="acoth";function xe(le){this.message=le||""}xe.prototype=new Error,a.prototype.hasIntegral=function(){return this.containsFunction("integrate")},a.prototype.fnTransform=function(){if(this.group!==g)return this;var le,we=this.args[0],ue=new a(this.multiplier),Ne=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case he:le=t.parse(c("(e^({0})-e^(-({0})))/2",we));break;case ge:le=t.parse(c("(e^({0})+e^(-({0})))/2",we));break;case Me:le=t.parse(c("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",we));break;case w:le=t.parse(c("sin({0})/cos({0})",we));break;case k:le=t.parse(c("1/sin({0})",we));break;case C:le=t.parse(c("1/cos({0})",we));break;default:le=Ne}else if(this.power.equals(2))switch(this.fname){case U:le=t.parse(c("1/2-cos(2*({0}))/2",we));break;case x:le=t.parse(c("1/2+cos(2*({0}))/2",we));break;case w:le=t.parse(c("sin({0})^2/cos({0})^2",we));break;case ge:le=t.parse(c("1/2+cosh(2*({0}))/2",we));break;case he:le=t.parse(c("-1/2+cosh(2*({0}))/2",we));break;case Me:le=t.parse(c("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",we));break;case C:le=t.parse(c("(1-cos(2*({0})))/(1+cos(2*({0})))+1",we));break;default:le=Ne}else if(this.fname===C)le=t.parse(c("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===k)le=t.parse(c("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===w)this.power.lessThan(0)?le=t.parse(c("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):le=t.parse(c("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===U&&this.power.lessThan(0))le=t.parse(c("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===x&&this.power.lessThan(0))le=t.parse(c("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===U&&this.power.equals(3))le=t.parse(c("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===x&&this.power.equals(3))le=t.parse(c("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if((this.fname===x||this.fname===U)&&f(this.power)){var et=this.power/2,Fe=t.pow(this.clone().toLinear(),t.parse(2)).fnTransform(),fe=t.expand(t.pow(Fe,t.parse(et)));le=new a(0),fe.each(function(L){var J=L.fnTransform();le=t.add(le,J)},!0)}else le=Ne;return t.multiply(le,ue)},a.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===m)return!1;if(this.fname&&(e.Utils.in_trig(this.fname)||e.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols){for(var le in this.symbols)if(this.symbols[le].hasTrig())return!0}return!1},e.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},e.Utils.toCommonDenominator=function(le){if(le.isComposite()&&le.isLinear()){var we=new a(le.multiplier),ue=new a(1),Ne=new a(0);le.each(function(Fe){ue=t.multiply(ue,Fe.getDenom())},!0),le.each(function(Fe){var fe=Fe.getNum(),L=Fe.getDenom(),J=t.multiply(fe,t.divide(ue.clone(),L));Ne=t.add(Ne,J)});var et=t.multiply(we,e.Algebra.divide(t.expand(Ne),t.expand(ue)));return et}return le},e.Utils.in_inverse_trig=function(le){var we=[I,R,$,re,Y,ne];return we.indexOf(le)!==-1},e.Utils.in_trig=function(le){var we=[x,U,w,C,k,F];return we.indexOf(le)!==-1},e.Utils.in_htrig=function(le){var we=[he,ge,Me,Vt,Mt,nn];return we.indexOf(le)!==-1},e.Matrix.jacobian=function(le,we){var ue=new e.Matrix;return we||(we=e.Utils.arrayGetVariables(le)),we.forEach(function(Ne,et){le.forEach(function(Fe,fe){var L=e.Calculus.diff(Fe.clone(),Ne);ue.set(fe,et,L)})}),ue},e.Matrix.prototype.max=function(){var le=new a(0);return this.each(function(we){var ue=we.abs();ue.gt(le)&&(le=ue)}),le},e.Matrix.cMatrix=function(le,we){var ue=new e.Matrix;return we.forEach(function(Ne,et){ue.set(et,0,t.parse(le))}),ue};var qe=e.Utils.all_functions=function(le){for(var we=0,ue=le.length;we<ue;we++)if(le[we].group!==g)return!1;return!0},Ge=e.Utils.cosAsinBtranform=function(le,we){var ue,Ne;return ue=le.args[0],Ne=we.args[0],t.parse(c("(sin(({0})+({1}))-sin(({0})-({1})))/2",ue,Ne))},pe=e.Utils.cosAsinAtranform=function(le,we){if(Number(we.power)!==1)return t.multiply(le,we);var ue;return ue=le.args[0],t.parse(c("(sin(2*({0})))/2",ue))},Zt=e.Utils.cosAsinBtranform=function(le,we){var ue,Ne;return ue=le.args[0],Ne=we.args[0],t.parse(c("(cos(({0})+({1}))-cos(({0})-({1})))/2",ue,Ne))},lt=e.Utils.trigTransform=function(le){for(var we={},ue,Ne,et=new a(1),Fe=0,fe=le.length;Fe<fe;Fe++)if(ue=le[Fe],ue.group===g){var L=ue.fname;L===x&&we[U]?(we[U].args[0].toString()!==ue.args[0].toString()?Ne=Ge(ue,we[U]):Ne=pe(ue,we[U]),delete we[U],et=t.multiply(et,Ne)):L===U&&we[x]?(we[x].args[0].toString()!==ue.args[0].toString()?Ne=Ge(ue,we[x]):Ne=pe(ue,we[x]),delete we[x],et=t.multiply(et,Ne)):L===U&&we[U]?(we[U].args[0].toString()!==ue.args[0].toString()?(Ne=Zt(ue,we[U]),delete we[U]):(Ne=t.multiply(ue,we[U]),delete we[U]),et=Ne):we[L]=ue}else et=t.multiply(et,ue);for(var J in we)et=t.multiply(et,we[J]);return et};e.Settings.integration_depth=10,e.Settings.max_lim_depth=10;var oe=e.Calculus={version:"1.4.6",sum:function(le,we,ue,Ne){if(we.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+s(we)+" provided");we=we.value;var et;if(e.Utils.isNumericSymbol(ue)&&e.Utils.isNumericSymbol(Ne)){var Fe=Ne-ue<200?"":"PARSE2NUMBER";ue=Number(ue),Ne=Number(Ne),et=e.Utils.block(Fe,function(){for(var fe=le.text(),L={"~":!0},J=new e.Symbol(0),X=ue;X<=Ne;X++){L[we]=new a(X);var de=t.parse(fe,L);J=t.add(J,de)}return J})}else et=t.symfunction("sum",arguments);return et},product:function(le,we,ue,Ne){if(we.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+s(we)+" provided");we=we.value;var et;if(e.Utils.isNumericSymbol(ue)&&e.Utils.isNumericSymbol(Ne)){var Fe=Ne-ue<200?"":"PARSE2NUMBER";et=e.Utils.block(Fe,function(){ue=Number(ue),Ne=Number(Ne.multiplier);for(var fe=le.text(),L={},J=new e.Symbol(1),X=ue;X<=Ne;X++)L[we]=new a(X),J=t.multiply(J,t.parse(fe,L));return J})}else et=t.symfunction("product",arguments);return et},diff:function(le,we,ue){if(e.Utils.isVector(le)){var Ne=new e.Vector([]);return le.each(function(ae){Ne.elements.push(oe.diff(ae,we,ue))}),Ne}else if(e.Utils.isMatrix(le)){var et=new e.Matrix;return le.each(function(ae,Oe,xt){et.set(Oe,xt,oe.diff(ae,we,ue))}),et}var Fe=o(we)?we.text():we;if(ue=o(ue)?ue.multiplier:ue||1,Fe===void 0&&(Fe=e.Utils.variables(le)[0]),le.group===g&&le.fname===B){var fe=le.args[0],L=le.power.clone();(fe.group!==p||fe.group!==T)&&(fe.power=o(fe.power)?t.multiply(fe.power,t.multiply(new a(1/2)),L):fe.power.multiply(new r(.5)).multiply(L),fe.multiplier=fe.multiplier.multiply(le.multiplier)),le=fe}if(le.group===g&&!o(le.power)){var J=me(t.parse(le)),X=oe.diff(le.args[0].clone(),Fe);le=t.multiply(J,X)}else le=me(le);return ue>1&&(ue--,le=oe.diff(le,we,ue)),le;function de(ae){return(ae.value===Fe||ae.contains(Fe,!0))&&(ae.multiplier=ae.multiplier.multiply(ae.power),ae.power=ae.power.subtract(new r(1)),ae.power.equals(0)&&(ae=a(ae.multiplier))),ae}function me(ae){var Oe=ae.group,xt,wt,ze;if(Oe===p||Oe===m&&ae.value!==Fe||Oe===T)ae=a(0);else if(Oe===m)ae=de(ae);else if(Oe===_){var Be=ae.multiplier.clone();ae.toUnitMultiplier();var ct=t.multiply(Te(ae),de(ae));return ct.multiplier=ct.multiplier.multiply(Be),ct}else if(Oe===g&&ae.power.equals(1))switch(ae.fname){case N:ze=ae.clone(),ae=ae.args[0].clone(),ae.power=ae.power.negate(),ae.multiplier=ze.multiplier.divide(ae.multiplier);break;case x:ae.fname=U,ae.multiplier.negate();break;case U:ae.fname=x;break;case w:ae.fname=C,ae.power=new r(2);break;case C:ae=Ee(ae,w);break;case k:ae=Ee(ae,"-cot");break;case F:ae.fname=k,ae.multiplier.negate(),ae.power=new r(2);break;case I:ae=t.parse("(sqrt(1-("+s(ae.args[0])+")^2))^(-1)");break;case R:ae=t.parse("-(sqrt(1-("+s(ae.args[0])+")^2))^(-1)");break;case $:ae=t.parse("(1+("+s(ae.args[0])+")^2)^(-1)");break;case j:Be=ae.multiplier.clone(),ae.toUnitMultiplier(),wt=ae.args[0].clone(),wt.toUnitMultiplier(),ae=t.parse(l(s(ae.args[0]))+"/abs"+l(s(wt))),ae.multiplier=Be;break;case"parens":ae=a(1);break;case"cosh":ae.fname="sinh";break;case"sinh":ae.fname="cosh";break;case Me:ae.fname=ut,ae.power=new r(2);break;case ut:ae=Ee(ae,"-tanh");break;case be:var Xe=String(ae.args[0]);return t.parse("-coth("+Xe+")*csch("+Xe+")");case Pe:var Xe=String(ae.args[0]);return t.parse("-csch("+Xe+")^2");case"asinh":ae=t.parse("(sqrt(1+("+s(ae.args[0])+")^2))^(-1)");break;case"acosh":ae=t.parse("(sqrt(-1+("+s(ae.args[0])+")^2))^(-1)");break;case"atanh":ae=t.parse("(1-("+s(ae.args[0])+")^2)^(-1)");break;case Mt:var Xe=String(ae.args[0]);ae=t.parse("-1/(sqrt(1/("+Xe+")^2-1)*("+Xe+")^2)");break;case nn:ae=t.parse("-1/(("+ae.args[0]+")^2-1)");break;case Vt:var Xe=String(ae.args[0]);ae=t.parse("-1/(sqrt(1/("+Xe+")^2+1)*("+Xe+")^2)");break;case Y:var Xe=String(ae.args[0]);ae=t.parse("1/(sqrt(1-1/("+Xe+")^2)*("+Xe+")^2)");break;case re:var Xe=String(ae.args[0]);ae=t.parse("-1/(sqrt(1-1/("+Xe+")^2)*("+Xe+")^2)");break;case ne:ae=t.parse("-1/(("+ae.args[0]+")^2+1)");break;case"S":var Xe=String(ae.args[0]);ae=t.parse("sin((pi*("+Xe+")^2)/2)");break;case"C":var Xe=String(ae.args[0]);ae=t.parse("cos((pi*("+Xe+")^2)/2)");break;case"Si":var Xe=ae.args[0];ae=t.parse("sin("+Xe+")/("+Xe+")");break;case"Shi":var Xe=ae.args[0];ae=t.parse("sinh("+Xe+")/("+Xe+")");break;case"Ci":var Xe=ae.args[0];ae=t.parse("cos("+Xe+")/("+Xe+")");break;case"Chi":var Xe=ae.args[0];ae=t.parse("cosh("+Xe+")/("+Xe+")");break;case"Ei":var Xe=ae.args[0];ae=t.parse("e^("+Xe+")/("+Xe+")");break;case"Li":var Xe=ae.args[0];ae=t.parse("1/"+i.LOG+"("+Xe+")");break;case"erf":ae=t.parse("(2*e^(-("+ae.args[0]+")^2))/sqrt(pi)");break;case"atan2":var Ie=String(ae.args[0]),ke=String(ae.args[1]);ae=t.parse("("+ke+")/(("+ke+")^2+("+Ie+")^2)");break;case"sign":ae=new a(0);break;case"sinc":ae=t.parse(c("(({0})*cos({0})-sin({0}))*({0})^(-2)",ae.args[0]));break;case i.LOG10:ae=t.parse("1/(("+ae.args[0]+")*"+i.LOG+"(10))");break;default:ae=t.symfunction("diff",[ae,we])}else if(Oe===D||Oe===g&&o(ae.power)){var Je;Oe===D?Je=ae.value:Oe===g&&ae.contains(Fe)?Je=ae.fname+l(s(ae.args[0])):Je=ae.value+l(s(ae.args[0])),xt=t.multiply(t.parse(N+l(Je)),ae.power.clone()),wt=oe.diff(t.multiply(t.parse(N+l(Je)),ae.power.clone()),Fe),ae=t.multiply(ae,wt)}else if(Oe===g&&!ae.power.equals(1))wt=ae.clone(),wt.toLinear(),wt.toUnitMultiplier(),ae=t.multiply(de(ae.clone()),me(wt));else if(Oe===b||Oe===v){var mt=ae.clone(),Rt=new a(0);for(var Jt in ae.symbols)Rt=t.add(Rt,oe.diff(ae.symbols[Jt].clone(),Fe));ae=t.multiply(de(mt),Rt)}return ae.updateHash(),ae}function Ee(ae,Oe,xt){return t.multiply(ae,t.parse(Oe+l(xt||s(ae.args[0]))))}function Te(ae){for(var Oe=ae.collectSymbols(),xt=new a(0),wt=Oe.length,ze=0;ze<wt;ze++){for(var Be=oe.diff(Oe[ze].clone(),Fe),ct=0;ct<wt;ct++)ze!==ct&&(Be=t.multiply(Be,Oe[ct].clone()));xt=t.add(xt,Be)}return xt}},integration:{u_substitution:function(le,we){function ue(Ie,ke,Je){var mt=oe.diff(ke,we),Rt=Je?Je(Ie,ke):t.divide(Ie.clone(),mt);return Rt.contains(we,!0)?null:Rt}function Ne(Ie,ke){var Je=oe.integrate(t.symfunction(Ie,[new a(J)]),J,0);return Je=Je.sub(new a(J),ke),Je.updateHash(),Je}var et=le[0].clone(),Fe=le[1].clone(),fe=et.group,L=Fe.group,J="__u__",X;if(fe===g&&L!==g){var de=et.args[0];if(X=ue(Fe,de.clone()),X)return t.multiply(X,Ne(et.fname,de));if(X=ue(Fe,et),X)return oe.integration.poly_integrate(et)}else if(L===g&&fe!==g){var de=Fe.args[0];if(X=ue(et,de.clone()),X)return t.multiply(X,Ne(Fe.fname,de))}else if(fe===g&&L===g){if(X=ue(et.clone(),Fe.clone()),X||(X=ue(Fe.clone(),et.clone()),X))return t.multiply(oe.integration.poly_integrate(Fe),X)}else if(fe===D&&L!==D){var me=et.power;if(X=ue(Fe,me.clone()),!X){var Ee=oe.integration.decompose_arg(me.clone(),we),Te=oe.diff(Ee[2].clone(),we),ae=oe.integration.decompose_arg(Te.clone(),we);if(t.multiply(Ee[1],ae[1]).power.equals(Fe.power)){var Oe=t.divide(Ee[0].clone(),ae[0].clone()),xt=t.multiply(Oe.clone(),t.pow(new a(et.value),t.multiply(Ee[0],new a(J))));return xt=t.multiply(xt,new a(J)),oe.integration.by_parts(xt,J,0,{}).sub(J,Ee[1].clone())}}var wt=oe.integrate(et.sub(me.clone(),new a(J)),J,0),ze=t.multiply(wt.sub(new a(J),me),X);return ze}else if(L===D&&fe!==D){var me=Fe.power;X=ue(et,me.clone());var wt=oe.integrate(Fe.sub(me,new a(J)),J,0);return t.multiply(wt.sub(new a(J),me),X)}else if(et.isComposite()||Fe.isComposite()){var Be=function(Ie,ke){var Je=oe.diff(ke,we),mt=e.Algebra.Factor.factor(Ie),Rt=e.Algebra.Factor.factor(Je),Jt=t.divide(mt,Rt);return Jt},ct=et.isComposite()?et.clone().toLinear():et.clone(),Xe=Fe.isComposite()?Fe.clone().toLinear():Fe.clone();if(X=ue(ct.clone(),Xe.clone(),Be),X)return t.multiply(oe.integration.poly_integrate(Fe),X);if(X=ue(Xe.clone(),ct.clone(),Be),X)return t.multiply(oe.integration.poly_integrate(et),X)}},poly_integrate:function(le){var we=le.power.toString(),ue=le.multiplier.toDecimal(),Ne=le.toUnitMultiplier().toLinear();return Number(we)===-1?t.multiply(new a(ue),t.symfunction(N,[Ne])):t.parse(c("({0})*({1})^(({2})+1)/(({2})+1)",ue,Ne,we))},stop:function(le){throw le=le||"Unable to compute integral!",e.Utils.warn(le),new xe(le)},partial_fraction:function(le,we,ue,Ne){o(we)||(we=t.parse(we));var et,Fe;return et=new a(0),Fe=e.Algebra.PartFrac.partfrac(le,we),Fe.group===_&&Fe.isLinear()?(Fe.each(function(fe){fe.isLinear()||oe.integration.stop()}),Fe.each(function(fe){et=t.add(et,oe.integrate(fe,we,ue,Ne))})):et=t.add(et,oe.integrate(Fe,we,ue,Ne)),et},get_udv:function(le){var we=[[],[],[],[],[]],ue=function(de){var me=de.group;if(me===g){var Ee=de.fname;e.Utils.in_trig(Ee)||e.Utils.in_htrig(Ee)?we[3].push(de):e.Utils.in_inverse_trig(Ee)?we[1].push(de):Ee===N?we[0].push(de):oe.integration.stop()}else me===m||de.isComposite()&&de.isLinear()||me===_&&de.isLinear()?we[2].push(de):me===D||de.isComposite()&&!de.isLinear()?we[4].push(de):oe.integration.stop()};le.group===_?le.each(function(de){ue(a.unwrapSQRT(de,!0))}):ue(le);for(var Ne,et=new a(1),Fe=0;Fe<5;Fe++){var fe=we[Fe],L,J=fe.length;if(J>0){if(J>1){L=new a(1);for(var X=0;X<J;X++)L=t.multiply(L,fe[X].clone())}else L=fe[0].clone();Ne?et=t.multiply(et,L):(Ne=L,Ne.multiplier=Ne.multiplier.multiply(le.multiplier))}}return[Ne,et]},trig_sub:function(le,we,ue,Ne,et,Fe){et=et||oe.integration.decompose_arg(le.clone().toLinear(),we);var fe=et[3],L=et[2],J=et[0],X=et[1];if(X.power.equals(2)&&J.greaterThan(0)){var de=e.Utils.getU(le),me=t.parse(w+l(de)),Ee=t.parse(C+l(de)+"^2"),Te=t.multiply(le.sub(X,me),Ee),ae=oe.integrate(Te,de,ue,Ne).sub(me,X);return e.Utils.clearU(me),ae}},by_parts:function(le,we,ue,Ne){Ne.previous=Ne.previous||[];var et,Fe,fe,L,J,X,de,me,Ee,Te,ae,Oe;if(et=oe.integration.get_udv(le),Fe=et[0],fe=et[1],L=a.unwrapSQRT(t.expand(oe.diff(Fe.clone(),we)),!0),ae=L.clone().stripVar(we),L=t.divide(L,ae.clone()),J=oe.integrate(fe.clone(),we,ue||0),X=t.multiply(J.clone(),L),Oe=X.toString(),Ne.previous.indexOf(Oe)!==-1&&e.Utils.in_trig(Fe.fname)&&fe.isE())return Ne.is_cyclic=!0,new a(1);if(Ne.previous.push(Oe),de=t.multiply(Fe,J),Te=X.multiplier.clone(),X.toUnitMultiplier(),Ee=t.multiply(oe.integrate(X.clone(),we,ue,Ne),ae),Ee.multiplier=Ee.multiplier.multiply(Te),me=t.subtract(de,Ee),Ne.is_cyclic&&(Ne.previous.pop(),Ne.previous.length===0)){me=t.expand(me);var xt=new a(0);me.each(function(wt){wt.contains(we)||(xt=t.add(xt,wt.clone()))}),me=t.divide(t.subtract(me,xt.clone()),t.subtract(new a(1),xt))}return me},decompose_arg:e.Utils.decompose_fn},integrate:function(le,we,ue,Ne){if(!we){var et=e.Utils.variables(le);et.length===1&&(we=et[0]),we=we||"x"}if(e.Utils.isVector(le)){var Fe=new e.Vector([]);return le.each(function(fe){Fe.elements.push(oe.integrate(fe,we))}),Fe}return isNaN(we)||t.error("variable expected but received "+we),le.isConstant(!0)?t.multiply(le.clone(),t.parse(we)):(Ne=Ne||{},e.Utils.block("PARSE2NUMBER",function(){ue=ue||0;var fe=o(we)?we.toString():we,L=a.unwrapSQRT(le.clone(),!0),J=L.group,X;try{if(++ue>e.Settings.integration_depth&&oe.integration.stop("Maximum depth reached. Exiting!"),!L.contains(fe,!0))X=t.multiply(L.clone(),t.parse(fe));else if(J===m)X=oe.integration.poly_integrate(L,fe,ue);else if(J===D)if(L.previousGroup===g&&!(L.fname==="sqrt"||L.fname===i.PARENTHESIS)&&oe.integration.stop(),L.contains(fe)&&L.previousGroup!==g)if(L.power.contains(fe))oe.integration.stop();else{var de=oe.diff(L.clone().toLinear(),fe);de.contains(fe)&&oe.integration.stop(),X=oe.integration.poly_integrate(L,fe,ue)}else{var me=oe.diff(L.power.clone(),fe);if(me.contains(fe)){var Ee=me.stripVar(fe),Te=t.divide(me.clone(),Ee.clone());if(Te.group===m&&Te.isLinear())return Ee.multiplier=Ee.multiplier.divide(new r(2)),t.parse(c("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",Ee,fe,L.multiplier));oe.integration.stop()}if(L.isE())me.isLinear()?X=L:me.isE()&&me.power.group===m&&me.power.power.equals(1)?X=t.multiply(t.symfunction("Ei",[L.power.clone()]),L.power):oe.integration.stop();else{var ae=t.symfunction(N,[t.parse(L.value)]);X=t.divide(L,ae)}X=t.divide(X,me)}else if(L.isComposite()&&L.isLinear()){var Oe=t.parse(L.multiplier);L.toUnitMultiplier(),X=new a(0),L.each(function(po){X=t.add(X,oe.integrate(po,fe,ue))}),X=t.multiply(Oe,X)}else if(J===b)if(L.power.greaterThan(1)&&(L=t.expand(L)),L.power.equals(1))X=new a(0),L.each(function(po){X=t.add(X,oe.integrate(po,fe,ue))},!0);else{var xt=Number(L.power),Oe=L.multiplier.clone();L.toUnitMultiplier();var wt=L.clone().toLinear(),ze=oe.integration.decompose_arg(wt,fe),Be=ze[3],ct=ze[2],me=ze[0],Te=ze[1];if(xt===-1&&Te.group!==v&&Te.power.equals(2)){var Xe=u(Be)?Be>0:!0;if(Te.group===m&&Te.power.equals(2)&&Xe){var Ie=function(X0){var ii=new a(1);return X0.each(function(Pl){ii=t.multiply(ii,Pl.fname==="abs"?Pl.args[0]:Pl)}),ii},ke=me.clone(),Je=Be.clone();ke=t.pow(ke,new a(1/2)),Je=t.pow(Je,new a(1/2));var ae=t.multiply(Ie(Je),Ie(ke)),mt=t.symfunction($,[t.divide(t.multiply(me,Te.toLinear()),ae.clone())]);X=t.divide(mt,ae)}else if(Te.group===m&&Te.isLinear())X=t.divide(oe.integration.poly_integrate(L),me);else if(Te.power.equals(4)){var ke,Je,Rt,Jt,Ot,kn,Lt,At,Un,Hn,Tn,Wt,Nt=l;ke=t.parse(B+Nt(me)+"*"+fe+"^2"),Je=t.parse(B+Nt(2)+"*"+Nt(me)+"^"+Nt("1/4")+"*"+Nt(Be)+"^"+Nt("1/4")+"*"+fe),Rt=t.parse(B+Nt(Be)),Lt=t.add(t.add(ke.clone(),Je.clone()),Rt.clone()),At=t.add(t.subtract(ke,Je),Rt),Jt=t.parse(B+Nt(2)+"*"+Nt(Be)+"^"+Nt("3/4")),Ot=t.parse(B+Nt(Be)+"*"+Nt(Be)+"^"+Nt("1/4")+"*"+fe),kn=t.parse("2*"+Nt(Be)+"*"+B+Nt(2)+"*"+Nt(Be)+"^"+Nt("1/4")),Tn=t.divide(t.subtract(Jt.clone(),Ot.clone()),t.multiply(kn.clone(),At)),Wt=t.divide(t.add(Jt,Ot),t.multiply(kn,Lt.clone())),X=t.add(oe.integrate(Tn,fe,ue,Ne),oe.integrate(Wt,fe,ue,Ne))}else X=oe.integration.partial_fraction(L,fe,ue)}else if(xt===-1/2)if(Te.group===m&&Te.power.equals(2))if(ct.multiplier.lessThan(0)&&!Be.multiplier.lessThan(0))if(me.negate(),Be.isConstant()&&me.isConstant()){var ae=t.symfunction(B,[me.clone()]),Sn=t.symfunction(B,[t.multiply(me.clone(),Be)]);X=t.divide(t.symfunction(I,[t.divide(ct.toLinear(),Sn)]),ae)}else{var O=t.symfunction(B,[me]),q=t.multiply(O.clone(),Te.clone().toLinear());X=t.divide(t.symfunction($,[t.divide(q,t.symfunction(B,[wt.clone()]))]),O)}else oe.integration.stop();else oe.integration.stop();else if(xt===1/2&&Te.power.equals(2)&&me.greaterThan(0))oe.integration.stop();else if(Te.isLinear()&&Te.group!==v)X=t.divide(oe.integration.poly_integrate(L),me);else if(Te.power.equals(2)&&me.greaterThan(0)){var G,H,ie,V,Ae,Ce,se,ye,Se;G=t.parse(B+l(me)),H=t.parse(B+l(Be)),ie=t.multiply(G.clone(),H.clone()).invert(),V=t.pow(Be,new a(L.power)),Se=e.Utils.getU(L),se=t.multiply(ie,Te.clone().toLinear()),ye=t.parse($+l(se));var Ae=(Math.abs(L.power)-1)*2,Ce=oe.integrate(t.parse(x+l(Se)+"^"+Ae));return e.Utils.clearU(Se),t.multiply(Ce.sub(Se,ye),V)}else if(L.group!==_&&!L.power.lessThan(0))X=oe.integration.by_parts(L,fe,ue,Ne);else{var mt=L.clone().toLinear(),tt=e.Algebra.Factor.factor(mt),nt=tt.toString()!==mt.toString();if(e.Algebra.degree(mt,t.parse(fe)).equals(2)&&!nt)try{var Lt,tn,se,Gt;Gt=e.Algebra.sqComplete(mt,fe),se=e.Utils.getU(mt),Lt=Gt.f.sub(Gt.a,se),tn=t.pow(Lt,t.parse(L.power)),X=oe.integrate(tn,se).sub(se,Gt.a)}catch{oe.integration.stop()}else X=oe.integration.partial_fraction(L,fe,ue,Ne)}X.multiplier=X.multiplier.multiply(Oe)}else if(J===g){var Bt=L.args[0],Oe=L.multiplier.clone();L.toUnitMultiplier();var ze=oe.integration.decompose_arg(Bt,fe),me=ze[0],Te=ze[1],cn=L.fname;if(cn===N||cn===I||cn===R||cn===$&&Te.isLinear()){var xt=L.power.toString();if(u(xt)&&(ue=ue-xt),!Bt.isComposite())X=t.multiply(t.parse(Oe),oe.integration.by_parts(L,fe,ue,Ne));else{var se=e.Utils.getU(L),mt=t.pow(t.parse(N+l(se)),new a(xt)),$r=oe.diff(Bt,fe),_i=t.multiply(mt,$r),Ce=oe.integrate(_i,se,ue,Ne);X=t.multiply(t.parse(Oe),Ce.sub(se,Bt))}}else if(cn===w&&L.power.lessThan(0)){var or=L.clone();return or.power.negate(),or.fname=F,t.multiply(t.parse(Oe),oe.integrate(or,fe,ue))}else{if(!me.contains(fe,!0)&&L.isLinear())if(cn===j){var Te=t.divide(Bt.clone(),me.clone());if(Te.group===m&&!Te.power.lessThan(0))if(e.Utils.even(Te.power))X=oe.integrate(Bt,fe,ue);else{var zt=oe.integrate(Te,fe,ue);zt.power=zt.power.subtract(new r(1)),X=t.multiply(t.multiply(t.symfunction(j,[Te.toLinear()]),zt),me)}else oe.integration.stop()}else{var Rn=L.args[0].group,Ea=oe.integration.decompose_arg(Bt,fe);switch((!(Rn===b||Rn===m||Rn===_)||!Ea[1].power.equals(1)||Bt.hasFunc())&&oe.integration.stop(),cn){case x:X=t.symfunction(U,[Bt]);break;case U:X=t.symfunction(x,[Bt]),X.negate();break;case w:X=t.parse(c(i.LOG+"(sec({0}))",Bt));break;case C:X=t.parse(c(i.LOG+"(tan({0})+sec({0}))",Bt));break;case k:X=t.parse(c("-"+i.LOG+"(csc({0})+cot({0}))",Bt));break;case F:X=t.parse(c(i.LOG+"(sin({0}))",Bt));break;case he:X=t.symfunction(ge,[Bt]);break;case ge:X=t.symfunction(he,[Bt]);break;case Me:X=t.parse(c(i.LOG+"(cosh({0}))",Bt));break;case Y:X=oe.integration.by_parts(L,fe,ue,Ne);break;case re:X=oe.integration.by_parts(L,fe,ue,Ne);break;case ne:X=oe.integration.by_parts(L,fe,ue,Ne);break;case Mt:X=oe.integration.by_parts(L,fe,ue,Ne);break;case Vt:X=oe.integration.by_parts(L,fe,ue,Ne);break;case nn:X=oe.integration.by_parts(L,fe,ue,Ne);break;case ut:X=t.parse(c("atan(sinh({0}))",Bt));break;case be:X=t.parse(c(i.LOG+"(tanh(({0})/2))",Bt));break;case Pe:X=t.parse(c(i.LOG+"(sinh({0}))",Bt));break;case z:X=oe.integrate(t.parse(c("e^({0})",Bt)),fe,ue);break;case"S":var Bt=L.args[0].clone(),Qn=oe.integration.decompose_arg(Bt,fe),vt=Qn[1],ee=Qn[0],Yt=Qn[3];X=t.parse(c("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",ee,Yt,Te));break;case"C":var Bt=L.args[0].clone(),Qn=oe.integration.decompose_arg(Bt,fe),vt=Qn[1],ee=Qn[0],Yt=Qn[3];X=t.parse(c("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",ee,Yt,vt));break;case"erf":var Bt=L.args[0].clone(),Qn=oe.integration.decompose_arg(Bt,fe),vt=Qn[1],ee=Qn[0];X=t.parse(c("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",ee,vt,Bt));break;case"sign":X=t.multiply(L.clone(),Bt.clone());break;default:oe.integration.stop()}X=t.divide(X,me)}else if(Te.isLinear())if(cn===x||cn===U){var xt=Number(L.power);if(xt<0)L.fname=cn===U?k:C,L.invert().updateHash(),X=oe.integrate(L,fe,ue);else{var Bt=L.args[0],Io=L.clone(),qu=L.clone(),Fn=new a((xt-1)/xt),yr=t.multiply(me.clone(),new a(xt)).invert();Io.power=Io.power.subtract(new r(1)),qu.power=qu.power.subtract(new r(2));var de=t.symfunction(cn===x?U:x,[Bt.clone()]);cn===U&&de.negate(),X=t.add(t.multiply(t.multiply(yr,Io),de),t.multiply(Fn,oe.integrate(t.parse(qu),fe,ue)))}}else if(cn===w||cn===F){if(L.args[0].isLinear(fe)){var Ae=L.power.subtract(new r(1)).toString(),Qt=L.clone().toUnitMultiplier(),Zn=t.parse(c((cn===F?"-":"")+"1/({2}*{0})*{3}({1})^({0})",Ae,Bt,me,cn));Qt.power=Qt.power.subtract(new r(2)),Qt.power.equals(0)&&(Qt=t.parse(Qt)),X=t.subtract(Zn,oe.integrate(Qt,fe,ue))}}else if(cn===C||cn===k){var _s=L.power.subtract(new r(1)).toString(),jv=L.power.subtract(new r(2)).toString(),At=cn===C?w:F,Qt=L.clone().toUnitMultiplier(),T3=c((cn===k?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",me,_s,jv,Bt,cn,At),Zn=t.parse(T3);Qt.power=Qt.power.subtract(new r(2)),Qt.power.equals(0)&&(Qt=t.parse(Qt)),X=t.add(Zn,t.multiply(new a(jv/_s),oe.integrate(Qt,fe,ue)))}else(cn===ge||cn===he)&&L.power.equals(2)?X=oe.integrate(L.fnTransform(),fe,ue):oe.integration.stop();else oe.integration.stop();X.multiplier=X.multiplier.multiply(Oe)}}else if(J===v)X=oe.integration.partial_fraction(L,fe,ue);else if(J===_){var Gn=L.getDenom();Gn.group===m&&(L=t.expand(L));var h=L.stripVar(fe),S=t.divide(L.clone(),h.clone());if(h.contains(fe)&&(S=t.multiply(S,h),h=new a(1)),S.group!==_){if(S.equals(1))return oe.integrate(t.expand(L),fe,ue);S.clone().toLinear().isPoly(!0)&&e.Utils.variables(S).length>1&&(S=e.Algebra.Factor.factor(S)),X=oe.integrate(S,fe,ue)}else{var M=S.collectSymbols().sort(function(po,ri){return po.group===ri.group?Number(po.power)===Number(ri.power)?po<ri?1:-1:ri.power-po.power:ri.group-po.group}).map(function(po){var ri=a.unwrapSQRT(po,!0);return ri.fname===z?t.parse(c("({1})*e^({0})",ri.args[0],ri.multiplier)):ri}),P=M.length;if(L.power<0){if(P===2)return oe.integrate(t.expand(L),fe,ue,Ne)}else if(P===2){try{X=oe.integration.u_substitution(M,fe)}catch{}if(!X){var W=M[0].group,Z=M[1].group,Q=M[0],ce=M[1],He=Q.fname,Ue=ce.fname;if(L=t.multiply(Q.clone(),ce.clone()),W===g&&Z===g)if(He===N||Ue===N)X=oe.integration.by_parts(L.clone(),fe,ue,Ne);else{M.sort(function(ri,af){return af.fname>ri.fname});var We=Q.args[0];(!We.isLinear()||!(We.group===b||We.group===_||We.group===m))&&oe.integration.stop();var ze=oe.integration.decompose_arg(We,fe);Te=ze[1],me=ze[0],Te.isLinear()||oe.integration.stop();var jt=ce.args[0];if(We.equals(jt))if(He===U&&Ue===x||He===x&&Ue===U)if(Q.power.lessThan(0)&&oe.integration.stop(),He===U&&Q.power.add(ce.power).equals(0))Q.fname=w,Q.updateHash(),X=oe.integrate(Q,fe,ue);else if(f(Q.power)&&Ue===x&&ce.power.lessThan(0)){var Ae=Number(Q.power)/2,ft=t.parse(c("(1-cos({0})^2)^({1})",Q.args[0],Ae));X=oe.integrate(t.expand(t.multiply(ft,ce.clone())),fe,ue,Ne)}else if(f(Q.power)&&Ue===U&&ce.power.lessThan(0)){var Ae=Number(Q.power)/2,ft=t.parse(c("(1-sin({0})^2)^({1})",Q.args[0],Ae));X=oe.integrate(t.expand(t.multiply(ft,ce.clone())),fe,ue,Ne)}else{var Tt=e.Utils.even(Q.power),ln=e.Utils.even(ce.power);if(X=new a(0),!Tt||!ln){var se,Qt,cr;Tt?(se=Q,Qt=ce):(se=ce,Qt=Q);var un=se.fname===x?-1:1,Ae=Qt.power,zn=(Ae-1)/2,cr=t.parse("(1-"+se.fname+e.Utils.inBrackets(We)+"^2)^"+zn),or=t.expand(t.multiply(new a(un),t.multiply(se.clone(),cr)));or.each(function(ii){X=t.add(X,oe.integration.poly_integrate(ii.clone()))})}else{var ir=function(ii){var Pl=ii.power,Nh=Pl/2,R3;return ii.fname===x?R3="((1/2)+(cos(2*("+ii.args[0]+"))/2))^"+Nh:R3="((1/2)-(cos(2*("+ii.args[0]+"))/2))^"+Nh,t.parse(R3)},me=ir(Q),Be=ir(ce),de=t.multiply(me,Be),or=t.expand(de);return or.each(function(ii){X=t.add(X,oe.integrate(ii,fe,ue))}),t.multiply(X,h)}}else if(He===C&&Ue===w&&Te.isLinear()&&ce.isLinear())X=t.parse(c("sec({0})^({1})/({1})",Q.args[0],Q.power));else if(He===w&&Ue===C&&Te.isLinear())if(Q.isLinear()&&ce.isLinear())X=t.divide(t.symfunction(C,[We.clone()]),me);else if(f(Q.power)){var xt=Number(Q.power)/2,de=t.parse(c("(sec({0})^2-1)^({1})",Q.args[0],xt));X=oe.integrate(t.expand(t.multiply(de,ce)),fe,ue)}else oe.integration.stop();else if(He===C&&Ue===x)Q.fname=x,Q.invert().updateHash(),X=oe.integrate(t.multiply(Q,ce),fe,ue);else if(He===U&&Ue===k)ce.fname=U,ce.invert().updateHash(),X=oe.integrate(t.multiply(Q,ce),fe,ue);else if(He===w&&(Ue===x||Ue===U)&&ce.power.lessThan(0)){var de=t.multiply(Q.fnTransform(),ce);X=oe.integrate(t.expand(de),fe,ue)}else{var de=t.multiply(Q.fnTransform(),ce.fnTransform());X=oe.integrate(t.expand(de),fe,ue)}else if((He===U||He===x)&&(Ue===U||Ue===x))if(Q.isLinear()&&ce.isLinear())if(Q.args[0].isLinear()&&ce.args[0].isLinear()){var ct,Ur;Ue===U?(ct=Q.args[0],Ur=ce.args[0]):(Ur=Q.args[0],ct=ce.args[0]),mt=t.parse(c("(sin(({1})+({0}))+sin(({1})-({0})))/2",ct.toString(),Ur.toString())),X=oe.integrate(mt,fe,ue)}else{var kr=lt(M);X=oe.integrate(t.expand(kr),fe,ue)}else{var kr=new a(1);M.map(function(sf){var X0=sf.fnTransform();kr=t.multiply(kr,X0)});var de=t.expand(kr);X=oe.integrate(de,fe,ue),X.hasIntegral()&&(X=oe.integrate(lt(kr.collectSymbols()),fe,ue))}else oe.integration.stop()}else if(W===g&&Z===m){var Vn=Q.isLinear();if(Q.fname===x&&Vn&&ce.power.equals(-1))X=t.symfunction("Ci",[Q.args[0]]);else if(Q.fname===x&&ce.power.equals(-1))X=oe.integrate(t.multiply(Q.fnTransform(),ce.clone()),fe,ue);else if(Q.fname===ge&&Vn&&ce.power.equals(-1))X=t.symfunction("Chi",[Q.args[0]]);else if(Q.fname===ge&&ce.power.equals(-1))X=oe.integrate(t.multiply(Q.fnTransform(),ce.clone()),fe,ue);else if(Q.fname===U&&Vn&&ce.power.equals(-1))X=t.symfunction("Si",[Q.args[0]]);else if(Q.fname===U&&ce.power.equals(-1))X=oe.integrate(t.multiply(Q.fnTransform(),ce.clone()),fe,ue);else if(Q.fname===he&&Vn&&ce.power.equals(-1))X=t.symfunction("Shi",[Q.args[0]]);else if(Q.fname===he&&ce.power.equals(-1))X=oe.integrate(t.multiply(Q.fnTransform(),ce.clone()),fe,ue);else if(Q.fname===N&&ce.power.equals(-1))X=oe.integration.poly_integrate(Q,fe,ue);else if(Q.fname==="erf"){if(ce.power.equals(1)){var Qn=oe.integration.decompose_arg(Q.args[0],fe),ee=Qn[0],vt=Qn[1],Bt=Q.args[0].toString();X=t.parse(c("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",ee,vt,Bt))}}else X=oe.integration.by_parts(L,fe,ue,Ne)}else if(W===D&&Z===m){var Te=He===N?oe.integration.decompose_arg(Q.args[0],fe)[1]:null;Q.isE()&&(Q.power.group===m||Q.power.group===_)&&ce.power.equals(-1)?X=t.symfunction("Ei",[Q.power.clone()]):He===N&&Te.value===ce.value?X=oe.integration.poly_integrate(Q,fe,ue):X=oe.integration.by_parts(L,fe,ue,Ne)}else if(W===v&&Z===m){if(ce.value===Q.value&&Q.power.equals(-1)){var co=Math.min.apply(null,e.Utils.keys(Q.symbols)),Da=Math.min(co,ce.power),fo=ce.clone();fo.power=new r(Da),ce=t.divide(ce,fo.clone());var de=new a(0);Q.each(function(ri){de=t.add(de,t.divide(ri.clone(),fo.clone()))}),de.multiplier=Q.multiplier,L=t.divide(ce,de)}else L=t.expand(L);X=oe.integration.partial_fraction(L,fe,ue)}else if(W===b&&Z===m){var mt=Q.clone().toLinear(),Dr=e.Algebra.degree(mt,t.parse(fe)).equals(1);if(Q.power.equals(-1/2)){var ze=oe.integration.decompose_arg(Q.clone().toLinear(),fe),me=ze[0].negate(),Te=ze[1],Be=ze[3],Qr=Number(Q.power),di=Number(ce.power);if(u(di)&&e.Utils.even(di)&&Te.power.equals(2)){var Vi=t.divide(t.multiply(t.pow(Be.clone(),new a(2)),t.symfunction(B,[t.divide(Be.clone(),me.clone())])),t.pow(me.clone(),new a(2)));Vi=t.multiply(Vi,t.symfunction(B,[Be]).invert());var Fo=t.parse("sin(u)");Fo.power=Fo.power.multiply(ce.power);var Ce=oe.integrate(Fo,"u",ue),bd=t.parse(I+"("+B+"("+me+"/"+Be+")*"+fe+")");X=t.multiply(Vi,Ce.sub(new a("u"),bd))}else if(Qr===-1/2){var Ki=function(ii,Pl){var Nh=t.parse(oe.integrate(ii,fe,ue,Ne).sub(fe,c(Pl,fe)));if(!Nh.hasIntegral())return Nh};di===-1?X=Ki(t.expand(t.expand(t.pow(t.multiply(Q.invert(),ce.invert()),new a(2)))).invert(),"sqrt(1-1/({0})^2)"):di===-2&&(X=Ki(t.sqrt(t.expand(t.divide(t.pow(L,new a(2)).invert(),t.pow(new a(fe),new a(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(Q.power.equals(-1)&&ce.isLinear()&&Dr)X=oe.integration.partial_fraction(L,fe,ue);else if(!Q.power.lessThan(0)&&u(Q.power)){var zr=t.expand(Q);X=new a(0),zr.each(function(ri){ri.group===v?ri.each(function(af){X=t.add(X,oe.integrate(t.multiply(ce.clone(),af),fe,ue))}):X=t.add(X,oe.integrate(t.multiply(ce.clone(),ri),fe,ue))})}else if(Q.power.lessThan(-2))X=oe.integration.by_parts(L,fe,ue,Ne);else if(Q.power.lessThan(0)&&ce.power.greaterThan(1)){var ze=oe.integration.decompose_arg(Q.clone().toLinear(),fe),me=ze[0].negate(),Te=ze[1],Be=ze[3],wt=Q.clone().toLinear();if(Te.group!==v&&Te.isLinear()){var xt=Number(ce.power),$r="_u_",se=new a($r),qi=t.expand(t.divide(t.pow(t.subtract(se.clone(),Be.clone()),new a(xt)),se.clone())),nf={};nf[$r]=wt;var Nl=t.parse(qi,nf);X=oe.integrate(Nl,fe,0)}else if(ce.power.greaterThan(Te.power)||ce.power.equals(Te.power)){var Il=new e.Algebra.Classes.Factors;Q=e.Algebra.Factor.coeffFactor(Q.invert(),Il);var Hu=e.Algebra.divide(ce,Q);Hu.group!==_?(X=new a(0),Hu.each(function(Pl){X=t.add(X,oe.integrate(Pl,fe,ue))}),Il.each(function(Pl){X=t.divide(X,Pl)}),X=t.expand(X)):X=oe.integration.by_parts(L,fe,ue,Ne)}else X=oe.integration.partial_fraction(L,fe,ue)}else if(Q.power.den.equals(2)){var Qn=oe.integration.decompose_arg(Q.clone().toLinear(),fe),me=Qn[3],Te=Qn[1],Be=Qn[0],Ur=Qn[2];if(Te.power.equals(2)&&Be.lessThan(0)){me.equals(1)||(h=t.multiply(h,t.pow(me,new a(2))));var se=fe,Vi=t.divide(t.pow(Be.clone().negate(),new a(1/2)),t.pow(me,new a(1/2))),$r=t.symfunction(x,[new a(se)]),rf=t.pow(t.symfunction(x,[new a(se)]),new a(Q.power.num)),of=t.pow(t.symfunction(U,[new a(se)]),new a(ce.power)),tl=t.multiply(t.multiply(rf,$r),of),Ce=oe.integrate(tl,se,ue);X=Ce.sub(se,t.symfunction(I,[t.multiply(new a(fe),Vi)]))}else X=oe.integration.partial_fraction(L,fe,ue,Ne)}else Dr&&(X=oe.integration.partial_fraction(L,fe,ue))}else if(Q.isComposite()&&ce.isComposite())if(X=new a(0),Q.power.greaterThan(0)&&ce.power.greaterThan(0)){var or=t.expand(L);or.each(function(ri){X=t.add(X,oe.integrate(ri,fe,ue))},!0)}else{var Qr=Number(Q.power),di=Number(ce.power);if(Qr<0&&di>0){var de=Q;Q=ce,ce=de}Qr===-1&&di===-1?X=oe.integration.partial_fraction(L,fe):Q.each(function(af){var sf=t.multiply(af,ce.clone()),X0=oe.integrate(sf,fe,ue);X=t.add(X,X0)})}else if(W===b&&M[0].power.greaterThan(0))Q=t.expand(Q),X=new a(0),Q.each(function(po){X=t.add(X,oe.integrate(t.multiply(po,ce.clone()),fe,ue))},!0);else if(W===g&&Z===D&&e.Utils.in_htrig(Q.fname))Q=Q.fnTransform(),X=oe.integrate(t.expand(t.multiply(Q,ce)),fe,ue);else if(W===g&&Z===b||Z===g&&W===b){if(Z===g&&W===b){var de=Q;Q=ce,ce=de}var $r,ng,xt,Fn,j0,W0;if($r=a.unwrapSQRT(oe.diff(Q.clone(),fe),!0),ng=a.unwrapSQRT(ce,!0),$r.power.equals(ng.power)){if(xt=new a(ce.power),j0=$r.clone().toLinear(),W0=ce.clone().toLinear(),Fn=e.Algebra.divide(j0.toLinear(),W0),Fn.isConstant()){var Fl=t.pow(Fn,xt.negate());X=t.multiply(Fl,oe.integration.poly_integrate(Q.clone()))}}else X=oe.integration.by_parts(L,fe,ue,Ne)}else{var Y0=Q.clone().toLinear(),rg=ce.clone().toLinear();W===D&&Z===D&&Q.power.contains(fe)&&ce.power.contains(fe)&&!Y0.contains(fe)&&!rg.contains(fe)?X=t.parse(c("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",Y0.toString(),rg.toString(),Q.power.multiplier.toString(),ce.power.multiplier.toString(),fe)):X=oe.integration.by_parts(L,fe,ue,Ne)}}}else if(P===3&&(M[2].group===m&&M[2].power.lessThan(2)||M[0].group===b)){var Ss=M[0];if(Ss.group===b){Ss.power.greaterThan(1)&&(Ss=t.expand(Ss));var Qt=t.multiply(M[1],M[2]);X=new a(0),Ss.each(function(ri){var af=t.multiply(ri,Qt.clone()),sf=oe.integrate(af,fe,ue);X=t.add(X,sf)},!0)}else X=oe.integration.by_parts(L,fe,ue,Ne)}else if(qe(M)){for(var de=new a(1),xo=0,P=M.length;xo<P;xo++)de=t.multiply(de,M[xo].fnTransform());de=t.expand(de),X=oe.integrate(de,fe,ue)}else{var kr=lt(M);X=oe.integrate(t.expand(kr),fe,ue)}}X=t.multiply(X,h)}if(X)return X}catch(po){if(!(po instanceof xe||po instanceof e.exceptions.DivisionByZero))throw po}return t.symfunction("integrate",[le,we])},!1))},defint:function(le,we,ue,Ne){Ne=Ne||"x";var et=function(ae,Oe,xt){try{return t.parse(ae,Oe)}catch{var wt=oe.Limit.limit(ae,Ne,xt);return wt}},Fe=e.Utils.variables(le),fe=le.hasTrig(),L,J;if(Fe.length===1&&!Ne&&(Ne=Fe[0]),fe||(J=oe.integrate(le,Ne)),!fe&&!J.hasIntegral()){var X={},de={},me,Ee;X[Ne]=ue,de[Ne]=we,me=et(J,X,ue,Ne),Ee=et(J,de,we,Ne),L=t.subtract(me,Ee)}else if(Fe.length===1&&we.isConstant()&&ue.isConstant()){var Te=e.Utils.build(le);L=new a(e.Math2.num_integrate(Te,Number(we),Number(ue)))}else L=t.symfunction("defint",[le,we,ue,Ne]);return L},Limit:{interval:function(le,we){return t.parse(c("[{0}, {1}]",le,we))},diverges:function(){return oe.Limit.interval("-Infinity","Infinity")},divide:function(le,we,ue,Ne,et){if(!(et++>i.max_lim_depth)){var Fe=le.clone(),fe=we.clone();if(we.fname===j){var L=le.sign(),J=Ne.sign();if(Ne.isInfinity)return t.multiply(new a(L),new a(J));if(Ne.equals(0)){var X=t.parse(le.multiplier),de=t.parse(we.multiplier);return t.divide(t.multiply(X,oe.Limit.interval("-1","1")),de)}else oe.Limit.diverges()}var me=function(Ie){if(e.Utils.isVector(Ie)){for(var ke=0;ke<Ie.elements.length;ke++)if(!Ie.elements[ke].isInfinity)return!1;return!0}return Ie.isInfinity},Ee=function(Ie,ke){return e.Utils.isVector(Ie)?!1:Ie.equals(ke)},Te;do{var ae=d(oe.Limit.limit(le.clone(),ue,Ne,et)),Oe=d(oe.Limit.limit(we.clone(),ue,Ne,et)),xt=me(ae)&&me(Oe)||Ee(ae,0)&&Ee(Oe,0);if(xt){var wt=oe.diff(le.clone(),ue),ze=oe.diff(we.clone(),ue),Be=t.expand(t.divide(wt,ze));le=Be.getNum(),we=Be.getDenom()}}while(xt);var ct=Oe.equals(0),Xe=Number(fe.power);return Ne.isConstant(!0)&&ct?Te=a.infinity(e.Utils.even(Xe)&&ae.lessThan(0)?-1:void 0):ct?Te=oe.Limit.diverges():Te=t.divide(ae,Oe),Te}},rewriteToLog:function(le){var we=le.power.clone();return le.toLinear(),t.pow(new a("e"),t.multiply(we,t.symfunction(i.LOG+"",[le])))},getSubbed:function(le,we,ue){var Ne;le.group===D&&(le=oe.rewriteToLog(le));try{Ne=le.sub(we,ue)}catch{Ne=le}return Ne},isInterval:function(le){return e.Utils.isVector(le)},isConvergent:function(le){return!(oe.Limit.isInterval(le)&&le.elements[0].isInfinity&&le.elements[1].isInfinity||le.containsFunction("limit"))},limit:function(le,we,ue,Ne){if(le.isLinear()&&le.isComposite()){var et=new a(0);return le.each(function(O){et=t.add(et,oe.Limit.limit(O,we,ue,Ne))},!0),et}if(le=e.Algebra.Simplify.simplify(le),Ne=Ne||1,!(Ne++>i.max_lim_depth)){var Fe=t.parse(le.multiplier);le.toUnitMultiplier();try{var fe;if(le.isConstant(!0))fe=le;else{var L={};L[we]=ue;try{var J=t.parse(le.sub(we,ue),L);(J.isConstant(!0)||J.isInfinity)&&(fe=J)}catch{}if(!fe){var X=le.getNum(),de=le.getDenom();if(de.isConstant(!0)){if(le.group===D){var me=le.clone().toLinear(),Ee=le.power.clone(),Te=me.getNum(),ae=me.getDenom(),Oe=e.Utils.decompose_fn(ae,we,!0);if(Te.group===m&&Te.multiplier.isOne()&&Oe.ax.group===m&&Oe.b.isConstant(!0)&&Oe.a.isOne()&&Oe.b.isConstant(!0))fe=t.parse(c("(1/e^({0}))",Oe.b));else{var xt=oe.Limit.rewriteToLog(le.clone()),wt=xt.power.clone(),ze=xt.clone().toLinear(),Be=oe.Limit.limit(ze,we,ue,Ne),ct=oe.Limit.limit(wt,we,ue,Ne);fe=t.pow(Be,ct)}}else if(le.group===g&&le.args.length===1){var Xe,Ie=oe.Limit.limit(le.args[0],we,ue,Ne);if(e.Utils.isVector(Ie))return fe=Ie.map(function(O){var q=le.clone();return q.args[0]=O,oe.Limit.limit(t.symfunction(le.fname,[O]),we,ue,Ne)}),t.multiply(Fe,fe);if(Ie.isConstant(!0)){var ke=t.symfunction(le.fname,[Ie]);try{d(ke),Xe=!0}catch{Xe=!1}}if(Xe)fe=ke;else if(oe.Limit.isConvergent(Ie)){if(le.fname===N)switch(Ie.toString()){case"0":fe=a.infinity().negate();break;case"Infinity":fe=a.infinity();break;case"-Infinity":fe=a.infinity();break}else if((le.fname===x||le.fname===U)&&ue.isInfinity)fe=oe.Limit.interval(-1,1);else if(le.fname===w){var Je=le.args[0],mt=Je.getNum(),Rt=Je.getDenom(),Jt=mt.toUnitMultiplier();(ue.isInfinity||Jt.equals("pi")&&Rt.equals(2))&&(fe=divergent())}else if(le.fname===i.FACTORIAL&&Ie.isInfinity)return a.infinity()}}else if(le.group===m){if(le.power>0)return t.parse(le,L);e.Utils.even(le.power)?fe=a.infinity():fe=oe.Limit.diverges()}else if(le.group===_){var Ot,kn,Lt=le.collectSymbols().sort(function(q,G){return q.group-G.group}),me=Lt.pop();for(Ot=d(oe.Limit.limit(me,we,ue,Ne));Lt.length;){var At=Lt.pop();kn=d(oe.Limit.limit(At,we,ue,Ne)),Ot.isInfinity||!oe.Limit.isConvergent(Ot)&&kn.equals(0)||Ot.equals(0)&&oe.Limit.isConvergent(kn)?(At.containsFunction(N)&&(At=[me,me=At][0]),At.invert(),Ot.isInfinity&&kn.isInfinity?Ot=a.infinity():Ot=oe.Limit.divide(me,At,we,ue,Ne)):(Ot=t.multiply(Ot,kn),me=t.multiply(me,At))}fe=Ot}else if(le.isComposite()){var Un;le.isLinear()||(le=t.expand(le)),fe=new a(0);for(var Lt=le.collectSymbols().sort(function(q,G){return G.group-q.group}),Hn=[],Tn=new a(0),Wt=0,Nt=Lt.length;Wt<Nt;Wt++){var Sn=Lt[Wt].clone();Sn.group===g||Sn.group===_&&Sn.hasFunc()?Tn=t.add(Tn,Sn):Hn.push(Sn)}Hn.unshift(Tn),Hn.length!==1&&(Lt=Hn);for(var Wt=0,Nt=Lt.length;Wt<Nt;Wt++){var Sn=Lt[Wt];try{Un=oe.Limit.limit(Sn,we,ue,Ne)}catch{Un=oe.Limit.diverges()}try{fe=t.add(fe,Un)}catch{if(Ne++>i.max_lim_depth)return;fe=oe.Limit.limit(oe.diff(le,we),we,ue,Ne)}}}}else fe=oe.Limit.divide(X,de,we,ue,Ne)}}fe||(fe=t.symfunction("limit",[le,we,ue]))}catch{fe=t.symfunction("limit",[le,we,ue])}return t.multiply(Fe,fe)}}},Fresnel:{S:function(le){return le.isConstant(!0)?oe.defint(t.parse("sin(pi*x^2/2)"),a(0),le,"x"):t.symfunction("S",arguments)},C:function(le){return le.isConstant(!0)?oe.defint(t.parse("cos(pi*x^2/2)"),a(0),le,"x"):t.symfunction("C",arguments)}}};_4.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return oe.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return oe.sum}},{name:"product",visible:!0,numargs:4,build:function(){return oe.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return oe.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return oe.defint}},{name:"S",visible:!0,numargs:1,build:function(){return oe.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return oe.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return oe.Limit.limit}}]),_4.updateAPI()})()});var iw=Wv((a6t,LJ)=>{typeof LJ<"u"&&(Kg=w4(),rw());var Kg;(function(){"use strict";var e=Kg.getCore(),t=e.PARSER,r=e.groups.N,i=e.groups.P,o=e.groups.S,a=e.groups.EX,s=e.groups.FN,l=e.groups.PL,u=e.groups.CP,c=e.groups.CB,f=e.Utils.keys,d=e.Utils.even,p=e.Utils.variables,m=e.Utils.format,g=e.Utils.round,v=e.Frac,b=e.Utils.isInt,_=e.Symbol,D=e.Settings.CONST_HASH,T=e.Utils.importFunctions(),N=e.Utils.evaluate;function z(x,w,C){if(e.Utils.isSymbol(x))this.parse(x),this.variable=this.variable||w;else if(isNaN(x))typeof x=="string"&&this.parse(t.parse(x));else{if(C=C||0,w===void 0)throw new e.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[C]=x,this.fill(x)}}z.fromArray=function(x,w){if(typeof w>"u")throw new e.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var C=new z;return C.coeffs=x,C.variable=w,C},z.fit=function(x,w,C,k,F,I){var R=new Array(F+1),$=C-w;R[0]=w,R[F]=x,$-=x*Math.pow(k,F);for(var Y=F-1;Y>0;Y--){var re=Math.pow(k,Y),ne=$/re,he=Math.sign(ne),ge=he*Math.floor(Math.abs(ne));$-=ge*re,R[Y]=ge}if($!==0)return null;for(var Y=0;Y<R.length;Y++)R[Y]=new v(R[Y]);return z.fromArray(R,I)},z.prototype={parse:function(x,w){if(this.variable=p(x)[0],!x.isPoly())throw e.exceptions.NerdamerTypeError("Polynomial Expected! Received "+e.Utils.text(x));if(w=w||[],x.power.absEquals(1)||(x=t.expand(x)),x.group===e.groups.N)w[0]=x.multiplier;else if(x.group===e.groups.S)w[x.power.toDecimal()]=x.multiplier;else for(var C in x.symbols){var k=x.symbols[C],F=k.power;if(e.Utils.isSymbol(F))throw new e.exceptions.NerdamerTypeError("power cannot be a Symbol");F=k.group===r?0:F.toDecimal(),k.symbols?this.parse(k,w):w[F]=k.multiplier}this.coeffs=w,this.fill()},fill:function(x){x=Number(x)||0;for(var w=this.coeffs.length,C=0;C<w;C++)this.coeffs[C]===void 0&&(this.coeffs[C]=new v(x));return this},trim:function(){for(var x=this.coeffs.length;x--;){var w=this.coeffs[x],C=w.equals(0);if(w&&C){if(x===0)break;this.coeffs.pop()}else break}return this},modP:function(x){for(var w=this.coeffs.length,C=0;C<w;C++){var k=this.coeffs[C];if(k<0){for(var F,I=C;I<w;I++)if(this.coeffs[I]>0){F=this.coeffs[I];break}if(F){for(I;I>C;I--)this.coeffs[I]=this.coeffs[I].subtract(new v(1)),this.coeffs[I-1]=this.coeffs[I-1].add(new v(x));k=this.coeffs[C]}}var R=k.mod(x),$=k.subtract(R).divide(x);if(!$.equals(0)){var Y=C+1,re=this.coeffs[Y]||new v(0);re=re.add($),this.coeffs[Y]=new v(re),this.coeffs[C]=new v(R)}}return this},add:function(x){for(var w=Math.max(this.coeffs.length,x.coeffs.length),C=0;C<w;C++){var k=this.coeffs[C]||new v(0),F=x.coeffs[C]||new v(0);this.coeffs[C]=k.add(F)}return this},subtract:function(x){for(var w=Math.max(this.coeffs.length,x.coeffs.length),C=0;C<w;C++){var k=this.coeffs[C]||new v(0),F=x.coeffs[C]||new v(0);this.coeffs[C]=k.subtract(F)}return this},divide:function(x){for(var w=this.variable,C=e.Utils.arrayClone(this.coeffs),k=e.Utils.arrayClone(x.coeffs),F=C.length,I=k.length-1,R=[],$=0;$<F;$++){var Y=F-($+1),re=Y-I,ne=C[Y].divide(k[I]);if(re<0)break;R[re]=ne;for(var he=0;he<=I;he++)C[he+re]=C[he+re].subtract(k[he].multiply(ne))}var ge=z.fromArray(C,w||"x").trim(),Me=z.fromArray(R,w||"x");return[Me,ge]},multiply:function(x){for(var w=this.coeffs.length,C=x.coeffs.length,k=[],F=0;F<w;F++)for(var I=this.coeffs[F],R=0;R<C;R++){var $=F+R,Y=x.coeffs[R],re=k[$]||new v(0);k[$]=re.add(I.multiply(Y))}return this.coeffs=k,this},isZero:function(){for(var x=this.coeffs.length,w=0;w<x;w++){var C=this.coeffs[w];if(!C.equals(0))return!1}return!0},sub:function(x){for(var w=new v(0),C=this.coeffs.length,k=0;k<C;k++){var F=this.coeffs[k];F.equals(0)||(w=w.add(F.multiply(new v(Math.pow(x,k)))))}return w},clone:function(){var x=new z;return x.coeffs=this.coeffs,x.variable=this.variable,x},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var x=this.lc(),w=this.coeffs.length,C=0;C<w;C++)this.coeffs[C]=this.coeffs[C].divide(x);return this},gcd:function(x){var w=this.coeffs.length-1,C=x.coeffs.length-1,k;if(w<C)return x.gcd(this);for(var F=this;!x.isZero();){var I=x.clone();F=F.clone(),k=F.divide(I),x=k[1],F=I}var R=e.Math2.QGCD.apply(null,F.coeffs);if(!R.equals(1))for(var $=F.coeffs.length,Y=0;Y<$;Y++)F.coeffs[Y]=F.coeffs[Y].divide(R);return F},diff:function(){for(var x=[],w=this.coeffs.length,C=1;C<w;C++)x.push(this.coeffs[C].multiply(new v(C)));return this.coeffs=x,this},integrate:function(){for(var x=[0],w=this.coeffs.length,C=0;C<w;C++){var k=new v(C+1);x[k]=this.coeffs[C].divide(k)}return this.coeffs=x,this},gcf:function(x){for(var w=function($){for(var Y=0;Y<$.length;Y++)if(!$[Y].equals(0))return Y},C=[],k=0;k<this.coeffs.length;k++){var F=this.coeffs[k];!F.equals(0)&&C.indexOf(F)===-1&&C.push(F)}var I=[e.Math2.QGCD.apply(void 0,C),w(this.coeffs)].toDecimal();if(x){var R=[];R[I[1]-1]=I[0],I=z.fromArray(R,this.variable).fill()}return I},quad:function(x){var w=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(this.coeffs.length===0)throw new Error("Polynomial array has no terms");var C=this.coeffs[2]||0,k=this.coeffs[1]||0,F=this.coeffs[0],I=k*k-4*C*F;return I<0&&!x||(w[0]=(-k+Math.sqrt(I))/(2*C),w[1]=(-k-Math.sqrt(I))/(2*C)),w},squareFree:function(){for(var x=this.clone(),w=1,C=x.clone().diff(),k=x.clone().gcd(C),F=x.divide(k)[0],I=z.fromArray([new v(1)],x.variable);!k.equalsNumber(1);){var R=F.gcd(k),$=F.divide(R)[0];if(!$.equalsNumber(1)&&w>1){for(var Y=$.clone(),re=1;re<w;re++)Y.multiply($.clone());$=Y}I=I.multiply($),w++,F=R,k=k.divide(R)[0]}return[I,F,w]},toSymbol:function(){var x=this.coeffs.length,w=this.variable;if(x===0)return new e.Symbol(0);for(var C=x-1,k="",F=0;F<x;F++){var I=F===C?"":"+",R=this.coeffs[F];R.equals(0)||(k+=R+"*"+w+"^"+F+I)}return t.parse(k)},equalsNumber:function(x){return this.trim(),this.coeffs.length===1&&this.coeffs[0].toDecimal()===String(x)},toString:function(){return this.toSymbol().toString()}},_.prototype.coeffs=function(x,w){w&&!this.isPoly(!0)&&t.error("Polynomial expected when requesting coefficients with order"),x=x||[];var C=this.clone().distributeMultiplier();if(C.isComposite())for(var k in C.symbols){var F=C.symbols[k];F.isComposite()?F.clone().distributeMultiplier().coeffs(x,w):w?x[F.isConstant()?0:F.power.toDecimal()]=F.multiplier:x.push(F.multiplier)}else if(w)x[C.isConstant(!0)?0:C.power.toDecimal()]=C.multiplier;else if(C.group===c&&C.isImaginary()){var I=new _(C.multiplier);C.each(function($){($.isConstant(!0)||$.imaginary)&&(I=t.multiply(I,$))}),x.push(I)}else x.push(C.multiplier);if(w)for(var R=0;R<x.length;R++)x[R]===void 0&&(x[R]=new _(0));return x},_.prototype.tBase=function(x){if(typeof x>"u")throw new Error("Symbol.tBase requires a map object!");for(var w=[],C=this.collectSymbols(null,null,null,!0),k=C.length,F=0;F<k;F++){var I=C[F],R=I.group,$=new B(I.multiplier,[],x);if(R===c)for(var Y in I.symbols){var re=I.symbols[Y];$.terms[x[Y]]=re.power}else $.terms[x[I.value]]=I.power;w.push($.fill()),$.updateCount()}return w},_.prototype.altVar=function(x){var w=this.multiplier.toString(),C=this.power.toString();return(w==="1"?"":w+"*")+x+(C==="1"?"":"^"+C)},_.prototype.sameVars=function(x){if(!(this.symbols||this.group===x.group))return!1;for(var w in this.symbols){var C=this.symbols[w],k=x.symbols[w];if(!k||C.value!==k.value)return!1}return!0},_.prototype.groupTerms=function(x){x=String(x);var w,C,k,F=[];return this.each(function(I){if(I.group===l){k=I.groupTerms(x);for(var R=0;R<k.length;R++){var $=k[R];$&&(F[R]=$)}}else w=e.Utils.decompose_fn(I,x,!0),C=w.x.value===x?Number(w.x.power):0,F[C]=t.add(F[C]||new _(0),w.a)}),F},_.prototype.collectFactors=function(){var x=[];return this.group===c?this.each(function(w){x.push(w.clone())}):x.push(this.clone()),x};function j(){this.factors={},this.length=0}j.prototype.getNumberSymbolics=function(){var x=0;return this.each(function(w){w.isConstant(!0)||x++}),x},j.prototype.add=function(x){if(x.equals(0))return this;if(x.equals(-1)&&this.length>0){var w=e.Utils.firstObject(this.factors,null,!0);return this.add(t.symfunction(e.Settings.PARENTHESIS,[w.obj]).negate()),delete this.factors[w.key],this.length--,this}if(x.group===c){var C=this;x.multiplier.equals(1)||C.add(new _(x.multiplier)),x.each(function(I){C.add(I)})}else{this.preAdd&&(x=this.preAdd(x)),this.pFactor&&(x=t.pow(x,new _(this.pFactor)));var k=x.isConstant();if(k&&x.equals(1))return this;var F=k?x.value:x.text();F in this.factors?(this.factors[F]=t.multiply(this.factors[F],x),this.factors[F].equals(1)&&(delete this.factors[F],this.length--)):(this.factors[F]=x,this.length++)}return this},j.prototype.toSymbol=function(){for(var x=new _(1),w=Object.values(this.factors).sort(function(R,$){return R.group>$.group}),C=0,k=w.length;C<k;C++){var F=w[C],I=F.power.equals(1)&&F.fname!==""?t.symfunction(e.PARENTHESIS,[F]):F;x=t.multiply(x,I)}return x.fname===""&&(x=_.unwrapPARENS(x)),x},j.prototype.merge=function(x){for(var w in x)w in this.factors?this.factors[w]=t.multiply(this.factors[w],x[w]):this.factors[w]=x[w];return this},j.prototype.each=function(x){for(var w in this.factors){var C=this.factors[w];C.fname===e.PARENTHESIS&&C.isLinear()&&(C=C.args[0]),x.call(this,C,w)}return this},j.prototype.count=function(){return f(this.factors).length},j.prototype.clean=function(){try{var x=e.Settings.CONST_HASH;this.factors[x].lessThan(0)&&(this.factors[x].equals(-1)?delete this.factors[x]:this.factors[x].negate(),this.each(function(w){w.negate()}))}catch{}},j.prototype.toString=function(){return this.toSymbol().toString()};function B(x,w,C){this.terms=w||[],this.coeff=x,this.map=C,this.sum=new e.Frac(0),this.image=void 0}B.prototype.updateCount=function(){this.count=this.count||0;for(var x=0;x<this.terms.length;x++)this.terms[x].equals(0)||this.count++;return this},B.prototype.getVars=function(){for(var x=[],w=0;w<this.terms.length;w++){var C=this.terms[w],k=this.getRevMap();C.equals(0)||x.push(this.rev_map[w])}return x.join(" ")},B.prototype.len=function(){return typeof this.count>"u"&&this.updateCount(),this.count},B.prototype.toSymbol=function(x){x=x||this.getRevMap();for(var w=new _(this.coeff),C=0;C<this.terms.length;C++){var k=x[C],F=this.terms[C];if(!(F.equals(0)||k===D)){var I=new _(k);I.power=F,w=t.multiply(w,I)}}return w},B.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var x={};for(var w in this.map)x[this.map[w]]=w;return this.rev_map=x,x},B.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},B.prototype.getImg=function(){return this.image||this.generateImage(),this.image},B.prototype.fill=function(){for(var x=this.map.length,w=0;w<x;w++)typeof this.terms[w]>"u"?this.terms[w]=new e.Frac(0):this.sum=this.sum.add(this.terms[w]);return this},B.prototype.divide=function(x){for(var w=this.coeff.divide(x.coeff),C=this.terms.length,k=new B(w,[],this.map),F=0;F<C;F++)k.terms[F]=this.terms[F].subtract(x.terms[F]),k.sum=k.sum.add(k.terms[F]);return k},B.prototype.multiply=function(x){for(var w=this.coeff.multiply(x.coeff),C=this.terms.length,k=new B(w,[],this.map),F=0;F<C;F++)k.terms[F]=this.terms[F].add(x.terms[F]),k.sum=k.sum.add(k.terms[F]);return k},B.prototype.isZero=function(){return this.coeff.equals(0)},B.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},e.Utils.toMapObj=function(x){for(var w=0,C={},k=0;k<x.length;k++){var F=x[k];typeof C[F]>"u"&&(C[F]=w,w++)}return C.length=w,C},e.Utils.filledArray=function(x,w,C){for(var k=[];w--;)k[w]=C?new C(x):x;return k},e.Utils.arrSum=function(x){for(var w=0,C=x.length,k=0;k<C;k++)w+=x[k];return w},e.Utils.haveIntersection=function(x,w){var C;return w.length>x.length&&(C=w,w=x,x=C),x.some(function(k){return w.indexOf(k)>-1})},e.Utils.subFunctions=function(x,w){w=w||{};var C=[];return x.each(function(k){if(k.group===s||k.previousGroup===s){var F=e.Utils.text(k,"hash"),I=w[F];if(I)C.push(k.altVar(I));else{var R=k.fname+f(w).length;w[F]=R,C.push(k.altVar(R))}}else k.group===c||k.group===l||k.group===u?C.push(e.Utils.subFunctions(k,w)):C.push(k.text())}),x.group===u||x.group===l?x.altVar(e.Utils.inBrackets(C.join("+"))):x.group===c?x.altVar(e.Utils.inBrackets(C.join("*"))):x.text()},e.Utils.getFunctionsSubs=function(x){var w={};for(var C in x)w[x[C]]=t.parse(C);return w};var U=e.Algebra={version:"1.4.6",proots:function(x,w){w=w||7;var C=0,k=[],F=function(pe,Zt,lt){for(var oe=Ge(pe,Zt,lt).concat(k),le=0;le<C;le++)oe.unshift(0);return oe};if(x instanceof _&&x.isPoly()){if(x.distributeMultiplier(),x.group===l){var I=e.Utils.arrayMin(f(x.symbols)),R=x.symbols[I].clone().toUnitMultiplier();x=t.expand(t.divide(x,R)),k.push(0)}if(x.group===e.groups.S)return[0];if(x.group===e.groups.PL)var he=f(x.symbols),$=e.Utils.arrayMin(he),x=e.PARSER.divide(x,e.PARSER.parse(x.value+"^"+$));for(var Y=f(x.symbols).sort().pop(),re=x.group===e.groups.PL?x.symbols:x.symbols[Y],ne=re.group,he=ne===o?[re.power.toDecimal()]:f(re.symbols),ge=[],Me=e.Utils.arrayMax(he),be=1;be<=Me;be++){var ut=0;he.indexOf(be+"")!==-1&&(ne===o?ut=re.multiplier:ut=re.symbols[be].multiplier),ge.unshift(ut)}return ge.push(x.symbols[D].multiplier),re.group===o&&(ge[0]=re.multiplier),F(ge,he,Me)}else if(e.Utils.isArray(x)){for(var Pe=x,ge=[],he=[],Mt=0,be=0;be<Pe.length;be++){for(var Vt=Pe[be][0],nn=Pe[be][1],xe=nn-Mt-1,qe=0;qe<xe;qe++)ge.unshift(0);ge.unshift(Vt),nn!==0&&he.push(nn),Mt=nn}var Me=Math.max.apply(void 0,he);return F(ge,he,Me)}else throw new e.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!");function Ge(pe,Zt,lt){var oe=100,le=pe.slice(0);if(pe.unshift(lt),lt>oe)throw new e.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to "+oe+". ");var we=[],ue={};for(ue.Degree=lt,be=0;be<lt;be++)we.push(0);var Ne=we.slice(0);function et(ze,Be,ct,Xe,Ie,ke){Ie[0]=ke.b=Xe[0],Ie[1]=ke.a=-(Be*ke.b)+Xe[1];for(var Je=2;Je<ze;Je++)Ie[Je]=-(Be*ke.a+ct*ke.b)+Xe[Je],ke.b=ke.a,ke.a=Ie[Je]}function Fe(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt){var Jt=new Object,Ot=3;return Jt.b=Jt.a=0,et(Be,Je,mt,ke,Rt,Jt),Ie.c=Jt.a,Ie.d=Jt.b,Math.abs(Ie.c)<=100*ze*Math.abs(ke[Be-1])&&Math.abs(Ie.d)<=100*ze*Math.abs(ke[Be-2])||(Ie.h=mt*Xe,Math.abs(Ie.d)>=Math.abs(Ie.c)?(Ot=2,Ie.e=ct/Ie.d,Ie.f=Ie.c/Ie.d,Ie.g=Je*Xe,Ie.a3=Ie.e*(Ie.g+ct)+Ie.h*(Xe/Ie.d),Ie.a1=-ct+Ie.f*Xe,Ie.a7=Ie.h+(Ie.f+Je)*ct):(Ot=1,Ie.e=ct/Ie.c,Ie.f=Ie.d/Ie.c,Ie.g=Ie.e*Je,Ie.a3=Ie.e*ct+(Ie.g+Ie.h/Ie.c)*Xe,Ie.a1=-(ct*(Ie.d/Ie.c))+Xe,Ie.a7=Ie.g*Ie.d+Ie.h*Ie.f+ct)),Ot}function fe(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt){var Jt;if(ct==3){Je[1]=Je[0]=0;for(var Ot=2;Ot<Be;Ot++)Je[Ot]=mt[Ot-2];return}if(Jt=ct==1?Ie:Xe,Math.abs(ke.a1)>10*ze*Math.abs(Jt)){ke.a7/=ke.a1,ke.a3/=ke.a1,Je[0]=Rt[0],Je[1]=-(Rt[0]*ke.a7)+Rt[1];for(var Ot=2;Ot<Be;Ot++)Je[Ot]=-(Rt[Ot-1]*ke.a7)+mt[Ot-2]*ke.a3+Rt[Ot]}else{Je[0]=0,Je[1]=-(Rt[0]*ke.a7);for(var Ot=2;Ot<Be;Ot++)Je[Ot]=-(Rt[Ot-1]*ke.a7)+mt[Ot-2]*ke.a3}}function L(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt,Jt,Ot,kn,Lt,At,Un,Hn,Tn){var Wt,Nt,Sn,O,q,G,H,ie,V;Be.b=Be.a=0,ze!=3&&(ze!=2?(Wt=ct+Lt*Je+kn*Jt,Nt=mt+(Lt+At*Jt)*Rt):(Wt=(ct+Ot)*Jt+kn,Nt=(Jt+Lt)*mt+At*Rt),Sn=-(Un[Hn-1]/Tn[Hn]),O=-(Un[Hn-2]+Sn*Tn[Hn-1])/Tn[Hn],q=At*O*Xe,G=Sn*ke,H=Sn*Sn*Ie,ie=-(G+H)+q,V=-ie+Nt+Sn*Wt,V!=0&&(Be.a=-((Lt*(H+G)+At*(Sn*Xe+O*ke))/V)+Lt,Be.b=At*(1+ie/V)))}function J(ze,Be,ct,Xe){var Ie,ke,Je;if(Xe.sr=Xe.si=Xe.lr=Xe.li=0,ze==0){Xe.sr=Be!=0?-(ct/Be):Xe.sr;return}if(ct==0){Xe.lr=-(Be/ze);return}Ie=Be/2,Math.abs(Ie)<Math.abs(ct)?(Je=ct>=0?ze:-ze,Je=-Je+Ie*(Ie/Math.abs(ct)),ke=Math.sqrt(Math.abs(Je))*Math.sqrt(Math.abs(ct))):(Je=-(ze/Ie*(ct/Ie))+1,ke=Math.sqrt(Math.abs(Je))*Math.abs(Ie)),Je>=0?(ke=Ie>=0?-ke:ke,Xe.lr=(-Ie+ke)/ze,Xe.sr=Xe.lr!=0?ct/Xe.lr/ze:Xe.sr):(Xe.lr=Xe.sr=-(Ie/ze),Xe.si=Math.abs(ke/ze),Xe.li=-Xe.si)}function X(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt,Jt,Ot,kn){var Lt=new Object,At,Un,Hn,Tn,Wt,Nt,Sn,O,q,G,H,ie=0,V,se=0;ct.NZ=0,Nt=Xe,O=Ie;do{if(Lt.li=Lt.lr=Lt.si=Lt.sr=0,J(1,Nt,O,Lt),ct.szr=Lt.sr,ct.szi=Lt.si,ct.lzr=Lt.lr,ct.lzi=Lt.li,Math.abs(Math.abs(ct.szr)-Math.abs(ct.lzr))>.01*Math.abs(ct.lzr))break;for(et(Je,Nt,O,Rt,ke,mt),Un=Math.abs(-(ct.szr*mt.b)+mt.a)+Math.abs(ct.szi*mt.b),G=Math.sqrt(Math.abs(O)),At=2*Math.abs(ke[0]),Wt=-(ct.szr*mt.b),H=1;H<Be;H++)At=At*G+Math.abs(ke[H]);if(At=At*G+Math.abs(Wt+mt.a),At=(9*At+2*Math.abs(Wt)-7*(Math.abs(mt.a+Wt)+G*Math.abs(mt.b)))*ze,Un<=20*At){ct.NZ=2;break}if(ie++,ie>20)break;if(ie>=2&&Tn<=.01&&Un>=Hn&&!se){for(Tn=Tn<ze?Math.sqrt(ze):Math.sqrt(Tn),Nt-=Nt*Tn,O+=O*Tn,et(Je,Nt,O,Rt,ke,mt),H=0;H<5;H++)V=Fe(ze,Be,mt.a,mt.b,Ot,kn,Nt,O,Jt),fe(ze,Be,V,mt.a,mt.b,Ot,kn,Jt,ke);se=1,ie=0}Hn=Un,V=Fe(ze,Be,mt.a,mt.b,Ot,kn,Nt,O,Jt),fe(ze,Be,V,mt.a,mt.b,Ot,kn,Jt,ke),V=Fe(ze,Be,mt.a,mt.b,Ot,kn,Nt,O,Jt),L(V,mt,mt.a,Ot.a1,Ot.a3,Ot.a7,mt.b,Ot.c,Ot.d,Ot.f,Ot.g,Ot.h,Nt,O,kn,Be,Rt),Sn=mt.a,q=mt.b,q!=0&&(Tn=Math.abs((-O+q)/q),Nt=Sn,O=q)}while(q!=0)}function de(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt){var Jt,Ot,kn,Lt,At,Un,Hn,Tn,Wt,Nt,Sn,O=Xe-1;for(Be.NZ=Sn=Wt=0,Hn=ct.a;;){for(Un=Ie[0],Je[0]=Un,Nt=1;Nt<ke;Nt++)Je[Nt]=Un=Un*Hn+Ie[Nt];for(kn=Math.abs(Un),Lt=Math.abs(Hn),Jt=.5*Math.abs(Je[0]),Nt=1;Nt<ke;Nt++)Jt=Jt*Lt+Math.abs(Je[Nt]);if(kn<=20*ze*(2*Jt-kn)){Be.NZ=1,Be.szr=Hn,Be.szi=0;break}if(Sn++,Sn>10)break;if(Sn>=2&&Math.abs(Tn)<=.001*Math.abs(-Tn+Hn)&&kn>At){Wt=1,Be.a=Hn;break}for(At=kn,Rt[0]=Ot=mt[0],Nt=1;Nt<Xe;Nt++)Rt[Nt]=Ot=Ot*Hn+mt[Nt];if(Math.abs(Ot)>Math.abs(mt[O])*10*ze)for(Tn=-(Un/Ot),mt[0]=Je[0],Nt=1;Nt<Xe;Nt++)mt[Nt]=Tn*Rt[Nt-1]+Je[Nt];else for(mt[0]=0,Nt=1;Nt<Xe;Nt++)mt[Nt]=Rt[Nt-1];for(Ot=mt[0],Nt=1;Nt<Xe;Nt++)Ot=Ot*Hn+mt[Nt];Tn=Math.abs(Ot)>Math.abs(mt[O])*10*ze?-(Un/Ot):0,Hn+=Tn}return Wt}function me(ze,Be,ct,Xe,Ie,ke,Je,mt,Rt,Jt,Ot,kn){var Lt=new Object,At=new Object,Un=new Array(Be),Hn=new Array(Be),Tn,Wt,Nt,Sn,O,q,G,H,ie,V,se,ye,Se,Ae,Ce,tt,nt,tn,Gt,Bt=1,cn,$r,_i,or,zt,Rn;for(kn.NZ=0,Sn=Nt=.25,O=Xe,H=Ie,Lt.b=Lt.a=0,et(Rt,Ot,Ie,mt,Jt,Lt),Tn=Lt.a,Wt=Lt.b,At.h=At.g=At.f=At.e=At.d=At.c=At.a7=At.a3=At.a1=0,or=Fe(ze,Je,Tn,Wt,At,ke,Ot,Ie,Un),cn=0;cn<ct;cn++){if(tn=1,fe(ze,Je,or,Tn,Wt,At,ke,Un,Jt),or=Fe(ze,Je,Tn,Wt,At,ke,Ot,Ie,Un),L(or,Lt,Tn,At.a1,At.a3,At.a7,Wt,At.c,At.d,At.f,At.g,At.h,Ot,Ie,ke,Je,mt),Ce=Lt.a,nt=tt=Lt.b,V=ke[Je-1]!=0?-(mt[Je]/ke[Je-1]):0,se=Se=1,cn!=0&&or!=3&&(Se=nt!=0?Math.abs((nt-H)/nt):Se,se=V!=0?Math.abs((V-O)/V):se,Ae=Se<G?Se*G:1,ye=se<q?se*q:1,zt=Ae<Sn?1:0,$r=ye<Nt?1:0,$r||zt)){for(Gt=0;Gt<Je;Gt++)Hn[Gt]=ke[Gt];for(ie=V,_i=Rn=0;;){if(!(tn&&(tn=0)==0&&$r&&(!zt||ye<Ae))){if(X(ze,Je,kn,Ce,tt,Jt,Rt,Lt,mt,Un,At,ke),Tn=Lt.a,Wt=Lt.b,kn.NZ>0)return;if(Bt=Rn=1,Sn*=.25,_i||!$r)Bt=0;else for(Gt=0;Gt<Je;Gt++)ke[Gt]=Hn[Gt]}if(Bt!=0){if(Lt.a=ie,Bt=de(ze,kn,Lt,Je,mt,Rt,Jt,ke,Un),ie=Lt.a,kn.NZ>0)return;if(_i=1,Nt*=.25,Bt!=0){Ce=-(ie+ie),tt=ie*ie;continue}}for(Gt=0;Gt<Je;Gt++)ke[Gt]=Hn[Gt];if(!zt||Rn)break}et(Rt,Ot,Ie,mt,Jt,Lt),Tn=Lt.a,Wt=Lt.b,or=Fe(ze,Je,Tn,Wt,At,ke,Ot,Ie,Un)}H=nt,O=V,G=Se,q=se}}function Ee(ze,Be,ct,Xe){var Ie=ze.Degree,ke=3.141592653589793/180,Je=Math.LN2,mt=ze.Degree+1,Rt=new Array(mt),Jt=new Array(mt),Ot=new Array(mt),kn=new Array(mt),Lt=new Object,At=new Object,Un,Hn,Tn,Wt,Nt,Sn,O,q,G,H,ie,V,se,ye,Se,Ae,Ce,tt,nt,tn,Gt,Bt,cn,$r;V=1;do Hn=V,V/=2,se=1+V;while(se>1);var _i=Number.MIN_VALUE/Hn,or=Math.cos(94*ke),zt=Math.sin(94*ke),Rn=Math.sqrt(.5),Ea=-Rn;for(At.NZ=nt=0,At.szr=At.szi=At.lzr=At.lzi=0;Be[Ie]==0;)ct[nt]=Xe[nt]=0,Ie--,nt++;for(cn=Ie+1;Ie>=1;){if(Ie<=2){Ie<2?(ct[ze.Degree-1]=-(Be[1]/Be[0]),Xe[ze.Degree-1]=0):(Lt.li=Lt.lr=Lt.si=Lt.sr=0,J(Be[0],Be[1],Be[2],Lt),ct[ze.Degree-2]=Lt.sr,Xe[ze.Degree-2]=Lt.si,ct[ze.Degree-1]=Lt.lr,Xe[ze.Degree-1]=Lt.li);break}for(O=0,q=Number.MAX_VALUE,Yt=0;Yt<cn;Yt++)H=Math.abs(Be[Yt]),H>O&&(O=H),H!=0&&H<q&&(q=H);if(G=_i/q,(G<=1&&O>=10||G>1&&Number.MAX_VALUE/G>=O)&&(G=G==0?Number.MIN_VALUE:G,Gt=Math.floor(Math.log(G)/Je+.5),Nt=Math.pow(2,Gt),Nt!=1))for(Yt=0;Yt<cn;Yt++)Be[Yt]*=Nt;for(var Yt=0;Yt<cn;Yt++)Jt[Yt]=Math.abs(Be[Yt]);Jt[Ie]=-Jt[Ie],Bt=Ie-1,H=Math.exp((Math.log(-Jt[Ie])-Math.log(Jt[0]))/Ie),Jt[Bt]!=0&&(ie=-Jt[Ie]/Jt[Bt],H=ie<H?ie:H),ie=H;do{H=ie,ie=.1*H,Sn=Jt[0];for(var Yt=1;Yt<cn;Yt++)Sn=Sn*ie+Jt[Yt]}while(Sn>0);Wt=H;do{Tn=Sn=Jt[0];for(var Yt=1;Yt<Ie;Yt++)Sn=H*Sn+Jt[Yt],Tn=H*Tn+Sn;Sn=H*Sn+Jt[Ie],Wt=Sn/Tn,H-=Wt}while(Math.abs(Wt/H)>.005);Un=H;for(var Yt=1;Yt<Ie;Yt++)Rt[Yt]=(Ie-Yt)*Be[Yt]/Ie;for(Rt[0]=Be[0],V=Be[Ie],se=Be[Bt],$r=Rt[Bt]==0?1:0,tn=0;tn<5;tn++)if(ye=Rt[Bt],$r){for(var Yt=0;Yt<Bt;Yt++)nt=Bt-Yt,Rt[nt]=Rt[nt-1];Rt[0]=0,$r=Rt[Bt]==0?1:0}else{Ae=-V/ye;for(var Yt=0;Yt<Bt;Yt++)nt=Bt-Yt,Rt[nt]=Ae*Rt[nt-1]+Be[nt];Rt[0]=Be[0],$r=Math.abs(Rt[Bt])<=Math.abs(se)*Hn*10?1:0}for(var Yt=0;Yt<Ie;Yt++)kn[Yt]=Rt[Yt];for(tn=1;tn<=20;tn++)if(tt=-(zt*Ea)+or*Rn,Ea=zt*Rn+or*Ea,Rn=tt,Se=Un*Rn,Ce=-(2*Se),me(Hn,mt,20*tn,Se,Un,Rt,Ie,Be,cn,Ot,Ce,At),At.NZ!=0){nt=ze.Degree-Ie,ct[nt]=At.szr,Xe[nt]=At.szi,cn=cn-At.NZ,Ie=cn-1;for(var Yt=0;Yt<cn;Yt++)Be[Yt]=Ot[Yt];At.NZ!=1&&(ct[nt+1]=At.lzr,Xe[nt+1]=At.lzi);break}else for(var Yt=0;Yt<Ie;Yt++)Rt[Yt]=kn[Yt];if(tn>20){ze.Degree-=Ie;break}}}Ee(ue,le,Ne,we);var Te=we.length;for(be=0;be<Te;be++){var ae=g(we[be],w+8),Oe=g(Ne[be],w+8);Oe=w-String(Oe).length>2?Oe:Ne[be];var xt=ae<0?"-":"";Oe===0&&(Oe=""),ae===0&&(ae=""),ae=Math.abs(ae)===1?xt+"i":ae?ae+"*i":"";var wt=Oe&&ae?Oe+"+"+ae:Oe+ae;Ne[be]=wt.replace(/\+\-/g,"-")}return Ne}},roots:function(x){if(x.isConstant(!0,!0))return e.Utils.nroots(x);var w=U.proots(x).map(function(C){return t.parse(C)});return e.Vector.fromArray(w)},froot:function(x,w,C){var k=function(F){for(var I=1e-12,R=C||e.Utils.build(e.Calculus.diff(x.clone())),$=x instanceof Function?x:e.Utils.build(x),Y=1e4,re=!1,ne=0;!re;){var he=F-$(F)/R(F),ge=Math.abs(he)-Math.abs(F),Me=Math.abs(ge);F=he,Me<I?re=!0:ne>Y&&(F=null,re=!0),ne++}return F};return k(Number(w))},quad:function(x,w,C){var k=function(F,I,R,$){return t.parse("-("+I+"+"+$+"*sqrt(("+I+")^2-4*("+F+")*("+R+")))/(2*"+F+")")};return[k(x,w,C,1),k(x,w,C,-1)]},sumProd:function(x,w){return U.quad(-w,x,-1).map(function(C){return C.invert()})},coeffs:function(x,w,C){w=String(w),x=t.expand(x),C=C||[new _(0)],x.group===a&&x.contains(w,!0)&&t.error("Unable to get coefficients using expression "+x.toString());var k=p(x);if(k.length===1&&k[0]===w&&!x.isImaginary())for(var F=new z(x).coeffs.map(function(he){return new _(he)}),I=0,R=F.length;I<R;I++){var $=F[I],Y=C[I];Y&&($=t.add(Y,$)),C[I]=$}else if(w||t.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),k.indexOf(w)===-1)C[0]=t.add(x,C[0]);else if(C=C||[new _(0)],x.group===c){var re=x.symbols[w];re||t.error("Expression is not a polynomial!");var ne=Number(re.power);$=t.divide(x.clone(),re.clone()),($.contains(w,!0)||ne<0||!b(ne))&&t.error("Expression is not a polynomial!");var Y=C[ne];Y&&($=t.add(Y,$)),C[ne]=$}else x.group===u&&x.each(function(he){U.coeffs(he.clone(),w,C)},!0);for(var I=0,R=C.length;I<R;I++)typeof C[I]>"u"&&(C[I]=new _(0));return C},polyPowers:function(x,w,C){C=C||[];var k=k=x.group;if(k===l&&w===x.value)C=C.concat(f(x.symbols));else if(k===u)for(var F in x.symbols){var I=x.symbols[F],k=I.group,R=I.value;if(k===o&&w===R)C.push(I.power);else if(k===l||k===u)C=U.polyPowers(I,w,C);else if(k===c&&I.contains(w)){var $=I.symbols[w];$&&C.push($.power)}else(k===r||w!==R)&&C.push(0)}else k===c&&x.contains(w)&&C.push(e.Utils.decompose_fn(x,w,!0).x.power);return e.Utils.arrayUnique(C).sort()},Factor:{split:function(x){var w=new _(1),C=new _(1);return U.Factor.factor(x,new j).each(function(k){var F=t.parse(k);k.isConstant(!0)?w=t.multiply(w,F):C=t.multiply(C,F)}),[w,C]},mix:function(x,w){for(var C=f(x),k=C.length,F=[],I=0;I<k;I++){for(var R=C[I],$=x[R],Y=F.length,re=0;re<Y;re++){var ne=F[re]*R;F.push(ne),w&&F.push(-ne)}for(var re=1;re<=$;re++)F.push(Math.pow(R,re))}return F},common:function(x,w){try{if(x.group===u){for(var C=t.expand(x.clone(),!0).collectSymbols(null,null,function(ne,he){return(he.length||1)-(ne.length||1)}),k={},F=[],I=0;I<C.length;I++){var R=C[I];F.push(R.multiplier.clone()),R.each(function(ne){var he=Number(ne.power);if(isNaN(he))throw new Error("exiting");ne.value in k?(he<k[ne.value][0]&&(k[ne.value][0]=he),k[ne.value][1].push(ne)):k[ne.value]=[he,[ne]]})}var $=new _(1);for(var Y in k)k[Y][1].length===C.length&&($=t.multiply($,t.pow(new _(Y),new _(k[Y][0]))));var re=e.Math2.QGCD.apply(null,F);if(!re.equals(1)){w.add(new _(re));for(var I=0;I<C.length;I++)C[I].multiplier=C[I].multiplier.divide(re)}if(!$.equals(1)){w.add($),x=new _(0);for(var I=0;I<C.length;I++)x=t.add(x,t.divide(C[I],$.clone()))}}}catch{}return x},zeroes:function(x,w){var C=function(){throw new e.exceptions.ValueLimitExceededError("Exiting")};try{var k,F,I,R,$;x=t.expand(x.clone()),$=x.toString(),k=p(x),I=new _(0);for(var Y=[],re=[],ne=0,he=k.length;ne<k.length;ne++){for(var ge={},Me=0;Me<he;Me++)ne!==Me&&(ge[k[Me]]=0);F=t.parse($,ge);var be=F.power;b(be)||C(),Y.push(F),re.push(F.power)}if(e.Utils.allSame(re)){var ut=x.length,Pe=Y.length;Pe===2&&(R=new v(re[0]/(ut-1))),Pe===3&&(R=new v(re[0]/Math.round((Math.sqrt(8*ut-1)-3)/2)))}else R=e.Math2.QGCD.apply(null,re);b(R)||C();for(var ne=0;ne<Y.length;ne++){var Mt=Y[ne],Vt=Mt.power.clone().divide(R);Mt.multiplier=new v(Math.pow(Mt.multiplier,1/Vt)),Mt.power=R.clone(),I=t.add(I,Mt)}if(I.group!==u)return x;for(;;){var nn=U.div(x.clone(),I.clone());if(nn[1].equals(0)){if(x=nn[0],w.add(I.clone()),x.equals(1))break}else break}}catch{}return x},factor:function(x,w){if(x.isConstant())return e.Math2.factor(x);var C=t.parse(x),k=U.Factor._factor(C,w);if(k.equals(x))return k;if(k.group===c){var F=new _(1),I=t.parse(k.power),R=t.parse(k.multiplier);k.toUnitMultiplier(),k.multiplier.lessThan(0)&&(F.negate(),k.negate()),k.each(function($){var Y=t.parse(U.Factor._factor($));Y.group===c?(R=t.multiply(R,_.create(Y.multiplier)),Y.each(function(re){var ne=t.parse(U.Factor._factor(re));F=t.multiply(F,ne),ne.group===c&&(R=t.multiply(R,_.create(ne.multiplier)))})):F=t.multiply(F,Y)}),k=t.pow(t.multiply(R,F),I)}return k},quadFactor:function(x,w){if(x.isPoly()&&U.degree(x.equals(2))){var C=e.Utils.variables(x)[0],k=U.coeffs(x,C),F=U.Factor._factor(k[2].clone());if(F.group===c){var I=F.collectSymbols();if(I.length>2)return x;var R=t.multiply(t.parse(k[0]),t.parse(I[0])),$=t.parse(k[1]).negate(),Y=t.parse(I[1]),re=U.quad(Y,$,R).filter(function(ge){if(e.Utils.isInt(ge))return ge});if(re.length===1){var ne=re[0],he=t.divide(k[0],t.parse(ne));e.Utils.isInt(he)&&(w.add(t.parse(m("({0})*({1})+({2})",I[1],C,he))),w.add(t.parse(m("({0})*({1})+({2})",I[0],C,ne))),x=new _(1))}}}return x},cubeFactor:function(x,w){if(x.isComposite()){var C=x.collectSymbols();if(C.length===2){var k=C[0].sign(),F=C[0].clone().abs(),I=C[1].sign(),R=C[1].clone().abs();if(F.isCube()&&R.isCube()){k<I&&([k,I]=[I,k],[F,R]=[R,F]);var $=t.parse(F.getNth(3)),Y=t.parse(R.getNth(3)),re=t.multiply(t.expand(t.pow(F.clone().toUnitMultiplier(),t.parse("1/3"))),$),ne=t.multiply(t.expand(t.pow(R.clone().toUnitMultiplier(),t.parse("1/3"))),Y);k===1&&I===-1?(w.add(t.parse(m("(({0})-({1}))",re,ne))),w.add(t.parse(m("(({0})^2+({0})*({1})+({1})^2)",re,ne))),x=_(1)):k===1&&I===1&&(w.add(t.parse(m("(({0})+({1}))",re,ne))),w.add(t.parse(m("(({0})^2-({0})*({1})+({1})^2)",re,ne))),x=_(1))}}}return x},_factor:function(x,w){var C=x.group;if(x.group===s){var k=x.args[0];if(k.group===o&&k.isSimple())return x}else if(x.group===o&&x.isSimple())return x;if(x.group===u){x.distributeMultiplier(!0);var F=new _(0);x.each(function(et){(et.group===u&&et.power.greaterThan(1)||et.group===c)&&(et=t.expand(et)),F=t.add(F,et)}),F.power=x.power,x=F}x.group===s&&x.fname!=="sqrt"&&(x=e.Utils.evaluate(x));var I=x.clone();try{if(x.group===c){var Pe=t.parse(x.power),R,$,Y,re,ne,he;if(R=U.Simplify.strip(x.getDenom()),$=U.Simplify.strip(x.getNum()),Y=R.pop(),re=$.pop(),re.equals(x))return x;he=U.Factor.factor(re),ne=U.Factor.factor(Y);var ge=U.Simplify.unstrip($,he),Me=U.Simplify.unstrip(R,ne),be=t.divide(ge,Me);return be}if(x.group===o)return x;if(x.isConstant()){if(x.equals(1))return x.clone();var ut=e.Math2.factor(x);return ut}var Pe=x.power.clone();if(b(Pe)&&!(Pe.lessThan(0)&&x.group===s)){var Mt=Pe.sign();x.toLinear(),w=w||new j;var Vt={};x=t.parse(e.Utils.subFunctions(x,Vt)),f(Vt).length>0&&(w.preAdd=function(Fe){var fe=t.parse(Fe,e.Utils.getFunctionsSubs(Vt));return fe}),x.isLinear()||(w.pFactor=x.power.toString(),x.toLinear());var nn=p(x);x.isImaginary()&&nn.push(e.Settings.IMAGINARY);var xe=nn.length>1;if(xe){var qe=!0,Ge=!0;if(x.each(function(Fe){Fe.group!==o&&(qe=!1),Fe.multiplier.equals(1)||(Ge=!1)}),qe&&Ge)return t.pow(t.parse(x,e.Utils.getFunctionsSubs(Vt)),t.parse(Pe))}var pe=new j;x=U.Factor.coeffFactor(x,pe),pe.each(function(Fe){d(Pe)&&Fe.lessThan(0)&&Fe.negate(),Mt<0&&Fe.invert(),w.add(Fe)});var Zt=new j;if(x=U.Factor.powerFactor(x,Zt),Zt.each(function(Fe){Mt<0&&Fe.invert(),w.add(Fe)}),xe)x=U.Factor.cubeFactor(x,w),x=U.Factor.mfactor(x,w),w.each(function(Fe){Mt<0&&Fe.power.negate()});else{var lt=nn[0];x=U.Factor.squareFree(x,w,lt);var oe=new j;x=U.Factor.trialAndError(x,oe,lt);var le=oe.toSymbol();if(le.equals(I))return le;for(var we in oe.factors){var ue=oe.factors[we];w.add(t.pow(ue,t.parse(Pe)))}x.equals(I)&&(x=U.Factor.quadFactor(x,w))}x=t.parse(x,e.Utils.getFunctionsSubs(Vt));var Ne=w.length===1;w.add(t.pow(x,t.parse(Pe)));var be=w.toSymbol();return Ne&&x.equals(1)&&be.isLinear()&&(be=t.pow(be,t.parse(Pe))),be}return x}catch{return I}},reduce:function(x,w){if(x.group===u&&x.length===2){var C=x.collectSymbols().sort(function(he,ge){return ge.multiplier-he.multiplier});if(C[0].power.equals(C[1].power)){var k=t.parse(C[0].power),F=C[0].clone().toLinear(),I=C[1].clone().toLinear();w.add(t.add(F.clone(),I.clone())),I.negate();for(var R=Number(k),$=new _(0),Y=1;Y<=R;Y++){var re=t.pow(F.clone(),t.subtract(k.clone(),new _(Y))),ne=t.pow(I.clone(),t.subtract(new _(Y),new _(1)));$=t.add($,t.multiply(re,ne))}return $}}return x},squareFree:function(x,w,C){if(x.isConstant()||x.group===o)return x;var k=new z(x,C),F=k.squareFree(),I=F[2];if(I!==1){var R=F[1].toSymbol();R.power=R.power.multiply(new v(I)),w.add(U.Factor.factor(R));var $=U.Factor.squareFree(F[0].toSymbol(),w);return $}return x},powerFactor:function(x,w){if(x.group!==l||x.previousGroup===a)return x;var C=f(x.symbols);if(!e.Utils.allNumeric(C))return x;var k=e.Utils.arrayMin(C),F=new _(0),I=t.parse(x.value+"^"+k);return x.each(function(R){R=t.divide(R,I.clone()),F=t.add(F,R)}),w.add(I),F},coeffFactor:function(x,w){if(x.isComposite()){var C=e.Math2.QGCD.apply(null,x.coeffs());if(!C.equals(1))x.each(function(R){R.isComposite()?R.each(function($){$.multiplier=$.multiplier.divide(C)}):R.multiplier=R.multiplier.divide(C)}),x.updateHash();else{var k=function(R){var $;return R.group===c?($=0,R.each(function(Y){$+=Y.power})):$=Number(R.power),$},F=x.collectSymbols(null,null,null,!0).sort(function(R,$){return R.isConstant(!0)?1:$.power-R.power}),I=F[0];(k(I)>k(F[1])||F[1].isConstant(!0))&&I.multiplier.lessThan(0)&&(w.add(new _(-1)),x.each(function(R){R.negate()},!0))}w&&w.add(new _(C))}return x},trialAndError:function(x,w,C){var k=x.clone();try{var F=[];if(x.isConstant()||x.group===o)return x;for(var I=new z(x,C),R=I.coeffs[0],$=e.Math2.ifactor(R),Y=U.proots(x),re=0;re<Y.length;re++){var ne=Y[re],he=1;if(!isNaN(ne)){for(var ge in $){var Me=e.Utils.round(Math.log(ge)/Math.log(Math.abs(ne)),8);if(b(Me)){ne=ge,he=Me;break}}var be=new v(ne),ut=[new v(be.num).negate()];ut[he]=new v(be.den);var Pe=z.fromArray(ut,I.variable).fill(),Mt=I.divide(Pe);Mt[1].equalsNumber(0)&&(I=Mt[0],F.push(Pe.toSymbol()))}}return I.equalsNumber(1)||(I=U.Factor.search(I,w)),F.forEach(function(Vt){w.add(Vt)}),I.toSymbol()}catch{return k}},search:function(x,w,C){C=C||10;var k=x.variable,F=function(nn,xe,qe,Ge){var pe=z.fit(nn,xe,qe,C,Ge,k);if(pe&&pe.coeffs.length>1){var Zt=x.divide(pe);if(Zt[1].equalsNumber(0))return w.add(pe.toSymbol()),[Zt[0],pe]}return null},I=x.coeffs[0],R=e.Math2.ifactor(I),$=x.lc(),Y=e.Math2.ifactor($),re=x.sub(C),ne=e.Math2.ifactor(re),he=U.Factor.mix(ne,re<0),ge=Math.ceil(x.coeffs.length/2),Me=$.lessThan(0),be=I.lessThan(0);for(Y[1]=1,R[1]=1;ge--;)for(var ut in Y)for(var Pe in R)for(var Mt=0;Mt<he.length;Mt++){var Vt=F(ut,Pe,he[Mt],ge);if(Vt)return x=Vt[0],e.Utils.isPrime(x.sub(C))||(x=U.Factor.search(x,w)),x;Vt||(Me&&be?Vt=F(-ut,-Pe,he[Mt],ge):Me?Vt=F(-ut,Pe,he[Mt],ge):be&&(Vt=F(ut,-Pe,he[Mt],ge)))}return x},mSqfrFactor:function(x,w){if(x.group!==s)for(var C=p(x).reverse(),k=0;k<C.length;k++)do{if(C[k]===x.value){w.add(x),x=new _(1);continue}var F=e.Calculus.diff(x,C[k]),I=U.Factor.coeffFactor(F);if(I.equals(0))break;var R=!0;if(I.isConstant()&&x.isComposite()&&x.each(function(re){re.multiplier%I!==0&&(R=!1)},!0),R){var $=U.div(x,I.clone()),Y=$[1].equals(0);if(x.equals($[0])&&$[1].equals(0))break;if($[0].isConstant()){w.add($[0]);break}}else Y=!1;Y&&(w.add($[0]),x=I)}while(Y);return x},sqdiff:function(x,w){if(x.isConstant("all"))return x;try{var C=function(ne){return e.Utils.block("POSITIVE_MULTIPLIERS",function(){return _.unwrapPARENS(T.sqrt(T.abs(ne)))},!0)},k=e.Utils.separate(x.clone()),F=[];for(var I in k)I!=="constants"&&F.push(k[I]);if(F.sort(function(ne,he){return he.power-ne.power}),F.length===2){var R,$;if(R=F.pop(),$=F.pop(),d(R.power)&&d($.power)&&R.sign()===$.sign()&&R.group===o&&$.group===o)throw new Error("Unable to factor");if(R.isComposite()&&$.power.equals(2)){$=C($);var Y=U.Factor.factor(t.add(R,k.constants));Y.power.equals(2)&&(Y.toLinear(),w.add(t.subtract(Y.clone(),$.clone())),w.add(t.add(Y,$)),x=new _(1))}else if(R=R.powSimp(),$=$.powSimp(),(R.group===o||R.fname==="")&&R.power.equals(2)&&($.group===o||$.fname==="")&&$.power.equals(2)&&!k.constants){if(R.multiplier.lessThan(0)){var re=$;$=R,R=re}R.multiplier.greaterThan(0)&&(R=C(R),$=C($)),w.add(t.subtract(R.clone(),$.clone())),w.add(t.add(R,$)),x=new _(1)}}}catch{}return x},mfactor:function(x,w){if(x.group===s)if(x.fname==="sqrt"){var C=new j,k=U.Factor.common(x.args[0].clone(),C);k=U.Factor.coeffFactor(k,C),x=t.multiply(t.symfunction("sqrt",[k]),t.parse(x.multiplier)),C.each(function(lt){x=t.multiply(x,t.parse(e.Utils.format("sqrt({0})",lt)))})}else w.add(x);else{x=U.Factor.mSqfrFactor(x,w);for(var F=p(x),I=x.collectSymbols().map(function(lt){return _.unwrapSQRT(lt)}),R={},$={},Y=F.length,re=I.length,ne=0;ne<Y;ne++){var he=F[ne];R[he]=new _(0);for(var ge=0;ge<re;ge++){var Me=I[ge];if(Me.contains(he)){var be=Me.value===he?Me.power.toDecimal():Me.symbols[he].power.toDecimal();(!$[he]||be<$[he])&&($[he]=be),R[he]=t.add(R[he],Me.clone())}}}for(var ut in R){var Pe=t.parse(ut+"^"+$[ut]),Mt=t.divide(R[ut],Pe),Vt=t.expand(Mt);if(Vt.equals(1))break;var nn=U.div(x.clone(),Vt);if(nn[0].equals(0))break;if(nn[1].equals(0)){var xe=!1;if(nn[0].each(function(lt){b(lt.multiplier)||(xe=!0)}),xe){nn[1]=t.expand(t.multiply(nn[1],Vt));break}}var qe=b(Vt)&&Vt.lessThan(0);if(nn[1].equals(0)&&!qe){var Ge=U.div(x.clone(),nn[0].clone()),Pe=Ge[0];if(Pe.equals(0)||(x=Ge[1],Pe.equals(-1)&&!x.equals(0)))return x;var pe=nn[0];if(x.equals(pe)){var Zt=U.Factor.reduce(pe,w);return x.equals(Zt)?Zt:U.Factor.mfactor(Zt,w)}else if(w.add(pe),x.equals(0))return Pe;return Pe.isConstant("all")?(w.add(Pe),Pe):U.Factor.mfactor(Pe,w)}}}return x=U.Factor.sqdiff(x,w),x=U.Factor.zeroes(x,w),x}},allLinear:function(x){for(var w=x.length,C=0;C<w;C++)if(!U.isLinear(x[C]))return!1;return!0},isLinear:function(x){var w=!1,C=x.group;if(C===l||C===u){w=!0;for(var k in x.symbols){var F=x.symbols[k],I=F.group;if((I===s||I===a)&&(w=!1),I===c)w=p(F).length===1;else if(I===l||I===u)w=U.isLinear(F);else if(F.group!==r&&F.power.toString()!=="1"){w=!1;break}}}else C===o&&x.power===1&&(w=!0);return w},gcd:function(){var x;if(arguments.length===1&&arguments[0]instanceof e.Vector?x=arguments[0].elements:x=e.Utils.arguments2Array(arguments),x.length===0)return new _(1);if(x.length===1)return x[0];for(var w=[],C=!1,k=0;k<x.length;k++)if(x[k].group===s&&x[k].fname==="gcd")x=x.concat(arguments[k].args),x.splice(k,1);else{var F=p(x[k]);if(e.Utils.haveIntersection(F,w)){C=!0;break}else w=w.concat(F)}if(C||w.length===0)if(x.every(function(R){return R.getDenom().equals(1)})){for(var I=x[0],k=1;k<x.length;k++)I=U.gcd_(x[k],I);return I}else return t.divide(U.gcd.apply(null,x.map(function(R){return R.getNum()})),U.lcm.apply(null,x.map(function(R){return R.getDenom()})));else return t.symfunction("gcd",x)},gcd_:function(x,w){if((x.group===s||x.group===i)&&(x=e.Utils.block("PARSE2NUMBER",function(){return t.parse(x)})),w.group===s&&(w=e.Utils.block("PARSE2NUMBER",function(){return t.parse(w)})),x.isConstant()&&w.isConstant())return new _(e.Math2.QGCD(new v(+x),new v(+w)));var C=t.multiply(x.getDenom()||new _(1),w.getDenom()||new _(1)).invert();if(x=t.multiply(x.clone(),C.clone()),w=t.multiply(w.clone(),C.clone()),x=t.expand(x),w=t.expand(w),x.group===c||w.group===c){var k=t.divide(x.clone(),w.clone()),F=t.multiply(w.clone(),k.getDenom().invert());if(!F.equals(1))return F}if(x.group===a||w.group===a){var I=new _(e.Math2.GCD(x.multiplier,w.multiplier)),R=U.gcd_(x.value===D?new _(1):t.parse(x.value),w.value===D?new _(1):t.parse(w.value)),$=U.gcd_(t.parse(x.power),t.parse(w.power));return t.multiply(I,t.pow(R,$))}if(x.length<w.length){var F=x;x=w,w=F}var Y=p(x),re=p(w);if(Y.length===re.length&&Y.length===1&&Y[0]===re[0]||Y.length===1&&re.length===0||Y.length===0&&re.length===1)return x=new z(x),w=new z(w),t.divide(x.gcd(w).toSymbol(),C);var ne=[];x.each(function(Me){ne.push(Me.multiplier)}),w.each(function(Me){ne.push(Me.multiplier)});for(var he;!w.equals(0);){var F=w.clone();if(x=x.clone(),he=U.div(x,F),w=he[1],he[0].equals(0))return t.divide(new _(e.Math2.QGCD(x.multiplier,w.multiplier)),C);x=F}var ge=e.Math2.QGCD.apply(void 0,ne);return ge.equals(1)||x.each(function(Me){Me.multiplier=Me.multiplier.divide(ge)}),x.equals(1)&&!x.isConstant()&&!w.isConstant()?t.divide(t.symfunction("gcd",arguments),C):t.divide(x,C)},lcm:function(){var x;arguments.length===1?arguments[0]instanceof e.Vector?x=arguments[0].elements:t.error("lcm expects either 1 vector or 2 or more arguments"):x=e.Utils.arguments2Array(arguments);var w=x.reduce(function(I,R){return t.multiply(I,R.clone())},new _(1)),C=function(I,R){R=Number(R);var $=[],Y,re,ne,he=Math.pow(2,I.length);for(re=R;re<he;re++){Y=[],ne=I.length-1;do(re&1<<ne)!==0&&Y.push(I[ne]);while(ne--);Y.length===R&&$.push(Y)}return $}(arguments,arguments.length-1).map(function(I){return I.reduce(function(R,$){return t.multiply(R,$.clone())},new _(1))}),k;x.every(function(I){return e.Utils.isVariableSymbol(I)})?k=t.symfunction("gcd",e.Utils.arrayUnique(C)):k=U.gcd.apply(null,C);var F=t.divide(w,k);return F},divide:function(x,w){var C,k,F,I;return F=e.Algebra.Factor.factor(x.clone()),I=F.getDenom(),I.isConstant("all")?I=new _(1):x=t.expand(_.unwrapPARENS(t.multiply(F,I.clone()))),C=U.div(x,w),k=t.divide(C[1],w),t.divide(t.add(C[0],k),I)},div:function(x,w){var C=[new _(0),x.clone()];try{if(w.isConstant("all"))return x.each(function(wt){wt.multiplier=wt.multiplier.divide(w.multiplier)}),[x,new _(0)];if(x=t.expand(x),w=t.expand(w),x.group===o&&w.group===u){var k=x.value,F=e.Utils.decompose_fn(w.clone(),k,!0);if(x.isLinear()&&F.x&&F.x.isLinear()&&w.isLinear()){var I=_.create(x.multiplier);return[t.divide(I.clone(),F.a.clone()),t.divide(t.multiply(I,F.b),F.a).negate()]}}if(x.group===o&&w.group===o){var R=t.divide(x.clone(),w.clone());return R.isConstant()?[R,new _(0)]:[new _(0),x.clone()]}var $=x.hasFunc(),Y=w.hasFunc(),re=!1;if($||Y){re=!0;var ne={},x=t.parse(e.Utils.subFunctions(x,ne)),w=t.parse(e.Utils.subFunctions(w,ne)),he=e.Utils.getFunctionsSubs(ne)}var ge=e.Utils.arrayUnique(p(x).concat(p(w))),Me,be;if((x.isImaginary()||w.isImaginary())&&ge.push(e.Settings.IMAGINARY),ge.length===1){var ut=new z(x).divide(new z(w));Me=ut[0].toSymbol(),be=ut[1].toSymbol()}else{ge.push(D);var Pe=function(wt){for(var ze=new _(0),Be=0;Be<wt.length;Be++){var ct=wt[Be].toSymbol();ze=t.add(ze,ct)}return ze},Mt=function(wt,ze){var Be=Math.max.apply(null,wt.terms),ct=0,Xe;if(!ze){for(var Ie=0;Ie<wt.terms.length;Ie++)if(wt.terms[Ie].equals(Be)&&(Xe=Ie,ct++),ct>1)return}if(ze){for(Ie=0;Ie<wt.terms.length;Ie++)if(wt.terms[Ie].equals(Be)){Xe=Ie;break}}return[Be,Xe,wt]},Vt=function(wt,ze){ze=ze||0;var Be=wt[ze],ct=wt.length;if(Be){for(var Xe=Mt(Be),Ie=ze+1;Ie<ct;Ie++){var ke=wt[Ie],Je=Be.sum.equals(ke.sum);if(!Je&&Xe)break;if(Je){for(var mt,Rt,Jt,Ot,kn=Be.terms.length,Lt=0;Lt<kn;Lt++){var At=Be.terms[Lt],Un=ke.terms[Lt];(typeof mt>"u"||At.greaterThan(mt))&&(mt=At,Jt=Lt),(typeof Rt>"u"||Un.greaterThan(Rt))&&(Rt=Un,Ot=Lt)}var Hn=mt.subtract(ke.terms[Jt]),Tn=Rt.subtract(Be.terms[Ot]);if(Tn>Hn){Xe=[Rt,Ot,ke];break}if(Hn>Tn){Xe=[mt,Jt,Be];break}}else if(Xe=Mt(ke),Xe)break;Xe=Mt(ke)}if(!Xe)return Mt(wt[0],!0);for(var Wt,Nt,Ie=0;Ie<pe.length;Ie++){var Sn=pe[Ie].terms;if(Nt=Xe[1],Nt===Sn.length-1)return;if(Wt=Sn[Nt],!Wt.equals(0))break}return Wt.equals(0)?Vt(wt,++ze):Xe}},nn=e.Utils.toMapObj(ge),xe=function(wt,ze){return ze.sum.subtract(wt.sum)},qe=function(wt,ze){if(!wt||!ze)return!1;for(var Be=0;Be<wt.terms.length;Be++)if(wt.terms[Be].lessThan(ze.terms[Be]))return!1;return!0},Ge=x.tBase(nn).sort(xe),pe=w.tBase(nn).sort(xe),Zt=qe(Ge[0],pe[0])&&Ge[0].count>pe[0].count?pe:Ge,lt=Vt(Zt),oe=[];if(lt){var le=lt[1],we=function(wt,ze){return wt[0].sum.equals(ze[0].sum)?wt.length>=ze.length:!0},ue=function(wt,ze,Be){for(var ct=[],Xe=0;Xe<wt.length;Xe++)for(var Ie=wt[Xe],ke=0;ke<Ie.terms.length;ke++){var Je=ct[ke],mt=Ie.terms[ke];Xe===0?ct[ke]=mt:Je&&!Je.equals(mt)&&(ct[ke]=void 0)}for(var Xe=0;Xe<ct.length;Xe++){var Ie=ct[Xe];if(Ie&&!Ie.equals(0))return Xe}return Be},Ne=function(wt,ze){var Be=wt.len(),ct=ze.len(),Xe=ze.terms[le],Ie=wt.terms[le];return ct>Be&&Xe.greaterThan(Ie)?ct-Be:Xe.subtract(Ie)};le=ue(Ge,pe,le),Ge.sort(Ne),pe.sort(Ne);var et=pe[0],Fe=Ge[0],fe=new B(new v(1),[],Fe.map);if(et.sum.greaterThan(Fe.sum)&&Fe.len()>1)for(var L=0;L<Fe.terms.length;L++){var J=et.terms[L].subtract(Fe.terms[L]);if(J.equals(0))fe.terms[L]=new v(0);else{var X=J.add(new v(1));fe.terms[L]=J;for(var de=0;de<Ge.length;de++)Ge[de].terms[L]=Ge[de].terms[L].add(X)}}for(var me=qe(Ge[0],pe[0]),Ee=0,Te=200;me&&we(Ge,pe);){if(Ee++>Te)throw new e.exceptions.InfiniteLoopError("Unable to compute!");var ut=Ge[0].divide(pe[0]);oe.push(ut),Ge.shift();for(var L=1;L<pe.length;L++){var ae=pe[L].multiply(ut).generateImage(),Oe=Ge.length;Oe===0&&(ae.coeff=ae.coeff.neg(),Ge.push(ae),Ge.sort(Ne));for(var de=0;de<Oe;de++){var xt=Ge[de];if(xt.getImg()===ae.getImg()){xt.coeff=xt.coeff.subtract(ae.coeff),xt.coeff.equals(0)&&(e.Utils.remove(Ge,de),de--);break}de===Oe-1&&(ae.coeff=ae.coeff.neg(),Ge.push(ae),Ge.sort(Ne))}}if(me=qe(Ge[0],pe[0]),!me&&Ge.length>=pe.length){for(var L=1;L<Ge.length;L++)if(me=qe(Ge[L],pe[0]),me){Ge.unshift(e.Utils.remove(Ge,L));break}}}}Me=Pe(oe),be=Pe(Ge),typeof fe<"u"&&(fe=fe.toSymbol(),Me=t.divide(Me,fe.clone()),be=t.divide(be,fe))}return re&&(Me=t.parse(Me.text(),he),be=t.parse(be.text(),he)),[Me,be]}catch{return C}},line:function(x,w,C){e.Utils.isArray(x)&&(x=e.Utils.convertToVector(x)),e.Utils.isArray(w)&&(w=e.Utils.convertToVector(w)),C=t.parse(C||"x"),(!e.Utils.isVector(x)||!e.Utils.isVector(w))&&t.error('Line expects a vector! Received "'+x+'" & "'+w+'"');var k=t.subtract(w.e(1).clone(),x.e(1).clone()),F=t.subtract(w.e(2).clone(),x.e(2).clone()),I=t.divide(F,k),R=t.multiply(C,I.clone()),$=t.multiply(x.e(1).clone(),I);return t.add(t.subtract(R,$),x.e(2).clone())},PartFrac:{createTemplate:function(x,w,C,k){x=U.Factor.factor(x),x.each(function(Pe,Mt){if(Pe.group===s&&Pe.fname===""&&Pe.args[0].group===o){var Vt=Pe.args[0];this.symbols?(delete this.symbols[Mt],this.symbols[Vt.value]=Vt):x=Pe.args[0]}});var F,I,R,$,Y,re,ne;F=w.collectFactors(),I=[],re=[],ne=new _(1);for(var he=0;he<F.length;he++){var ge=_.unwrapPARENS(F[he]);if(ge.power.greaterThan(1)){$=Number(ge.power),R=ge.clone().toLinear(),Y=Number(U.degree(R,k));for(var Me=0;Me<$;Me++){var be=t.pow(R.clone(),new _(Me+1));C.push(be.clone());var ut=t.divide(x.clone(),be.clone());re.push(Y),I.push(ut)}}else{Y=Number(U.degree(ge,k)),C.push(ge);var ut=t.divide(x.clone(),ge.clone());ut=t.expand(_.unwrapPARENS(ut)),re.push(Y),I.push(ut)}}return C=C.map(function(Pe){return t.multiply(Pe,ne.clone())}),[C,I,re]},partfrac:function(x,w,C){var k=p(x);w=w||t.parse(k[0]);try{var F,I,R,xe,$,Y,re,ne,he,ge,Me,be,ut,Pe,Mt,Vt,nn,xe;if(F=t.expand(x.getNum()),I=t.expand(x.getDenom().toUnitMultiplier()),F.multiplier=x.multiplier,Y=F.groupTerms(w),Number(U.degree(F,w))>=Number(U.degree(I,w))?(ut=U.div(F.clone(),t.expand(I.clone())),Pe=ut[0],F=ut[1],Y=F.groupTerms(w)):Pe=new _(0),Number(U.degree(I,w))===1){var qe=t.divide(F,I);return C?[Pe,qe]:t.add(Pe,qe)}$=U.Factor.factor(I),nn=U.PartFrac.createTemplate(I.clone(),$,[],w),xe=nn[0],Mt=nn[1],re=nn[2],be=[Y.length],ne=[],R=[],Vt=[];var Ge,pe;Mt.map(function(Ne,et){Ge=xe[et],pe=re[et];for(var Fe=0;Fe<pe;Fe++){R.push(Ge.clone());var fe=_.create(w,Fe),L=t.expand(t.multiply(Ne,fe.clone())).groupTerms(w),J=L.length;be.push(J),ne.push(L),Vt.push(fe.clone())}}),he=e.Utils.arrayMax(be),Me=new e.Matrix(e.Utils.fillHoles(Y,he)).transpose(),ge=new e.Matrix;for(var Zt=0;Zt<ne.length;Zt++)ge.elements.push(e.Utils.fillHoles(ne[Zt],he));var lt=t.multiply(ge.transpose().invert(),Me),oe=C?[Pe]:Pe;return lt.each(function(Ne,et){var Fe=t.multiply(Vt[et],t.divide(Ne,R[et]));C?oe.push(Fe):oe=t.add(oe,Fe)}),oe}catch{try{if(x.isComposite()){var le={};x.each(function(et){var Fe=et.getDenom(),fe=et.getNum(),L=le[Fe];le[Fe]=L?t.add(L,fe):fe});var we=new _(0);for(var ue in le)we=t.add(we,t.divide(le[ue],t.parse(ue)));x=we}}catch{}}return x}},degree:function(x,w,C){if(C=C||{nd:[],sd:[],depth:0},!w){var k=p(x);if(k.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(k.length===0)return new _(0);w=t.parse(k[0])}var F=x.group;x.isComposite()?(x=x.clone(),x.distributeExponent(),x.each(function(R){C.depth++,U.degree(R,w,C),C.depth--})):x.group===c?x.each(function(R){C.depth++,U.degree(R,w,C),C.depth++}):F===a&&x.value===w.value?C.sd.push(x.power.clone()):F===o&&x.value===w.value?C.nd.push(t.parse(x.power)):C.nd.push(new _(0));var I=C.nd.length>0?e.Utils.arrayMax(C.nd):void 0;return C.depth===0&&C.sd.length>0?(I!==void 0&&C.sd.unshift(I),t.symfunction("max",C.sd)):(e.Utils.isSymbol(I)||(I=t.parse(I)),I)},sqComplete:function(x,w,C){e.Utils.isSymbol(w)||(w=t.parse(w));var k=function(ut){throw ut=ut||"Stopping",new e.exceptions.ValueLimitExceededError(ut)};x.isPoly(!0)||k("Must be a polynomial!");var F,I,R,$,Y,re,ne,he,ge,Me,be;return ge=e.Utils.inBrackets,x=x.clone(),F=e.Algebra.degree(x,w),F.equals(2)||k("Cannot complete square for degree "+F),ne=e.Algebra.coeffs(x,w),I=ne[2],he=ne[1].sign(),R=t.divide(ne[1],new _(2)),$=t.pow(R.clone(),new _(2)),C?[I,R,Y]:(be=T.sqrt(I),re=t.divide(T.sqrt($),be.clone()),Y=t.subtract(ne[0],t.pow(re.clone(),new _(2))),Me=t.parse(ge(be.clone()+"*"+w+(he<0?"-":"+")+re)),{a:Me,c:Y,f:t.add(t.pow(Me.clone(),new _(2)),Y.clone())})},Simplify:{strip:function(x){var w=t.parse(x.multiplier);x.toUnitMultiplier();var C=t.parse(x.power);return x.toLinear(),[w,C,x]},unstrip:function(x,w){var C=x[0],k=x[1];return t.multiply(C,t.pow(w,k))},complexSimp:function(x,w){var C,k,F,I,R,$,Y,re,ne;return $=x.realpart(),re=x.imagpart(),Y=w.realpart(),ne=w.imagpart(),C=t.multiply($.clone(),Y.clone()),k=t.multiply(re.clone(),ne.clone()),F=t.multiply(Y.clone(),re),I=t.multiply($,ne.clone()),R=t.add(t.pow(Y,new _(2)),t.pow(ne,new _(2))),t.divide(t.add(t.add(C,k),t.multiply(t.subtract(F,I),_.imaginary())),R)},trigSimp:function(x){if(x.containsFunction(["cos","sin","tan"])){x=x.clone();var w=U.Simplify.strip(x);x=w.pop();var C=x.clone();if(x.group===u){var k=new _(0);x.each(function($){var Y=U.Simplify.trigSimp($.fnTransform());k=t.add(k,Y)},!0),C=t.pow(t.multiply(new _(x.multiplier),k),new _(x.power))}else if(x.group===c){var F=x.getNum(),I=x.getDenom();if(F.fname==="sin"&&I.fname==="cos"&&F.args[0].equals(I.args[0])&&F.power.equals(I.power)&&(C=t.parse(e.Utils.format("({0})*({1})*tan({2})^({3})",I.multiplier,F.multiplier,F.args[0],F.power))),C.group===c){var R=new _(1);C.each(function($){$.fname==="tan"&&($=t.parse(e.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",$.multiplier,U.Simplify.simplify($.args[0]),$.power))),R=t.multiply(R,$)}),C=R}}C=U.Simplify.unstrip(w,C).distributeMultiplier(),x=C}return x},fracSimp:function(x){var w=x.getDenom(),C=x.getNum();if(C.isImaginary()&&w.isImaginary()&&(x=U.Simplify.complexSimp(C,w)),x.isComposite()){x.power>1&&(x=t.expand(x));var k=x.collectSymbols(),F,I,R,$,Y,re,ne,he,ge,Me,be,w,C;for(I=k.pop();k.length;)R=k.pop(),$=t.parse(I.getDenom()),Y=t.parse(R.getDenom()),re=I.getNum(),ne=R.getNum(),be=t.multiply($.clone(),Y.clone()),ge=t.multiply(re,Y),Me=t.multiply(ne,$),he=t.add(ge,Me),I=t.divide(he,be);return w=t.expand(I.getDenom()),C=t.expand(I.getNum()),C.isImaginary()&&w.isImaginary()?F=U.Simplify.complexSimp(C,w):F=t.divide(C,w),F.equals(x)?x:U.Simplify.simplify(F)}return x},ratSimp:function(x){if(x.group===c){var w=x.getDenom(),C=x.getNum().distributeMultiplier(),k=U.Simplify.fracSimp(w),F=U.Simplify.fracSimp(C);x=t.divide(F,k)}return x},sqrtSimp:function(x,w){var C;if(x.isSQRT()){var k=U.Factor.factor(x.args[0].clone()),F=t.parse(k.multiplier),I=F.sign(),C=t.sqrt(F.abs()),R;if(b(C)){if(k.group===c){var $=new _(1);k.each(function(ne){if(ne.group===r){var he=t.sqrt(ne.clone());b(he)?C=t.multiply(C,he):$=t.multiply($,ne)}else $=t.multiply($,ne)});var Y=t.multiply($,t.parse(I));R=t.sqrt(Y.clone()),R.isImaginary&&(R=t.sqrt(t.expand(Y.clone())))}else R=t.sqrt(k.clone().toUnitMultiplier());return t.multiply(C,R)}}else x.isComposite()&&x.isLinear()?(C=new _(0),x.each(function(re){C=t.add(C,U.Simplify.sqrtSimp(re))},!0),C=t.multiply(C,t.parse(x.multiplier))):x.group===c&&(C=t.parse(x.multiplier),x.each(function(re){var ne=U.Simplify.sqrtSimp(re);C=t.multiply(C,ne)},!0),C=t.pow(C,t.parse(x.power)));return C||t.parse(x)},patternSub:function(x){var w={},C=function(F){var I=!1;return F.each(function(R){R.group===u?I=!0:R.symbols&&(I=C(R))}),I},k=function(F){F.each(function(I){if(!(!I.symbols&&I.group!==s)){if(C(I))k(I);else if(!w[I.value]){var R=e.Utils.getU(x);w[I.value]=R,x=x.sub(I.value,R)}}},!0)};return k(x),[x,w]},simplify:function(x){var w=U.Simplify.strip(x);if(x=w.pop(),x=U.Simplify.fracSimp(x),x.isConstant()||x.group===e.groups.S){w.push(x);var C=U.Simplify.unstrip(w,x);return C}var k=x.clone();if(k=U.Simplify.trigSimp(k),k=U.Simplify.ratSimp(k),k=U.Factor.factor(k),k.group===e.groups.CP&&k.isLinear()){var F=k.multiplier.clone();k.toUnitMultiplier();var I=new _(0);k.each(function($){var Y=U.Simplify.simplify($);I=t.add(I,Y)}),k=I,I.multiplier=I.multiplier.multiply(F)}var R=U.Simplify.unstrip(w,k);return R}},Classes:{Polynomial:z,Factors:j,MVTerm:B}};e.Expression.prototype.simplify=function(){return U.Simplify.simplify(this.symbol)},Kg.useAlgebraDiv=function(){var x=U.divideFn=t.divide,w=0;t.divide=function(C,k){w++;var F;return w===1?F=e.Algebra.divide(C,k):F=x(C,k),w=0,F}},Kg.useParserDiv=function(){U.divideFn&&(t.divide=U.divideFn),delete U.divideFn},Kg.register([{name:"factor",visible:!0,numargs:1,build:function(){return U.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return U.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return U.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return U.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return U.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return U.divide}},{name:"div",visible:!0,numargs:2,build:function(){return U.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return U.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return U.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){var x=function(){var w=U.coeffs.apply(U,arguments);return new e.Vector(w)};return x}},{name:"line",visible:!0,numargs:[2,3],build:function(){return U.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){var x=function(w,C){try{C=C||p(w)[0];var k=U.sqComplete(w.clone(),C);return k.f}catch{return w}};return x}}]),Kg.updateAPI()})()});var $J=Wv((s6t,BJ)=>{typeof BJ<"u"&&(S4=w4(),rw(),iw());var S4;(function(){var e=S4.getCore(),t=e.PARSER,r=e.Algebra,i=e.Calculus,o=i.integration.decompose_arg,a=e.Utils.evaluate,s=e.Utils.remove,l=e.Utils.format,u=e.Utils.build,c=e.Utils.knownVariable,f=e.Symbol,d=e.Utils.isSymbol,p=e.Utils.variables,m=e.groups.S,g=e.groups.PL,v=e.groups.CB,b=e.groups.CP,_=e.groups.FN,D=e.Settings,T=e.Utils.range,N=e.Utils.isArray;e.Settings.SOLVE_RADIUS=1e3,e.Settings.ROOTS_PER_SIDE=10,e.Settings.make_pi_conversions=!1,e.Settings.STEP_SIZE=.1,e.Settings.EPSILON=1e-13,e.Settings.MAX_NEWTON_ITERATIONS=200,e.Settings.MAX_NON_LINEAR_TRIES=12,e.Settings.NON_LINEAR_JUMP_AT=50,e.Settings.NON_LINEAR_JUMP_SIZE=100,e.Settings.NON_LINEAR_START=.01,e.Settings.NEWTON_SLICES=200,e.Settings.NEWTON_EPSILON=Number.EPSILON*2,e.Settings.SOLUTION_PROXIMITY=1e-14,e.Settings.FILTER_SOLUTIONS=!0,e.Settings.MAX_SOLVE_DEPTH=10,e.Settings.ZERO_EPSILON=1e-9,e.Settings.MAX_BISECTION_ITER=2e3,e.Settings.BI_SECTION_EPSILON=1e-12,e.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},e.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var w in this.symbols){var C=this.symbols[w];if(C.group===g&&C.hasNegativeTerms()||this.symbols[w].power.lessThan(0))return!0}return!1};function z(w,C){if(C.isConstant()&&w.isConstant()&&!w.equals(C)||w.equals(e.Settings.IMAGINARY)&&C.isConstant(!0)||C.equals(e.Settings.IMAGINARY)&&w.isConstant(!0))throw new e.exceptions.NerdamerValueError(w.toString()+" does not equal "+C.toString());this.LHS=w,this.RHS=C}z.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(w){return this.LHS.text(w)+"="+this.RHS.text(w)},toLHS:function(w){w=typeof w>"u";var C;w?C=this.removeDenom():C=this.clone();var k=C.LHS,F=C.RHS;k.isConstant(!0)&&!F.isConstant(!0)&&([k,F]=[F,k]);var I=t.subtract(k,F),R=w?t.expand(I):I;return R=new z(R,new f(0)).removeDenom().LHS,R},removeDenom:function(){var w=this.LHS.clone(),C=this.RHS.clone(),k=t.multiply(w.getDenom(),C.getDenom());if(w=t.expand(t.multiply(w,k.clone())),C=t.expand(t.multiply(C,k)),C.group===b&&C.group!==b){var F=w;w=C,C=F}if(w.group===v){var F=new f(w.multiplier),I=C.clone();w.each(function(he){he.power.lessThan(0)?I=t.divide(I,he):F=t.multiply(F,he)}),w=F,C=I}else if(w.group===b)for(var R in w.symbols){var $=w.symbols[R];if($.group===v)for(var Y in $.symbols){var re=$.symbols[Y];if(re.power.lessThan(0))return new z(t.expand(t.multiply(re.clone().toLinear(),w)),t.expand(t.multiply(re.clone().toLinear(),C)))}}return new z(w,C)},clone:function(){return new z(this.LHS.clone(),this.RHS.clone())},sub:function(w,C){var k=this.clone();return k.LHS=k.LHS.sub(w.clone(),C.clone()),k.RHS=k.RHS.sub(w.clone(),C.clone()),k},isZero:function(){return e.Utils.evaluate(this.toLHS()).equals(0)},latex:function(w){return[this.LHS.latex(w),this.RHS.latex(w)].join("=")}},t.equals=function(w,C){return new z(w,C)},function(){var w=t.functions.simplify[0];t.functions.simplify[0]=function(C){return C instanceof z?(C.LHS=w(C.LHS),C.RHS=w(C.RHS),C):w(C)}}(),e.Expression.prototype.equals=function(w){w instanceof e.Expression&&(w=w.symbol);var C=new z(this.symbol,w);return C},e.Expression.prototype.solveFor=function(w){var C;if(this.symbol instanceof z){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(w))return new e.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(w))return new e.Expression(this.symbol.RHS);C=this.symbol.toLHS()}else C=this.symbol;return x(C,w).map(function(k){return new e.Expression(k)})},e.Expression.prototype.expand=function(){if(this.symbol instanceof z){var w=this.symbol.clone();return w.RHS=t.expand(w.RHS),w.LHS=t.expand(w.LHS),new e.Expression(w)}return new e.Expression(t.expand(this.symbol))},e.Expression.prototype.variables=function(){return this.symbol instanceof z?e.Utils.arrayUnique(p(this.symbol.LHS).concat(p(this.symbol.RHS))):p(this.symbol)};var j=function(w,C){return t.equals(w,C)};e.Equation=z;var B=e.Utils.checkAll=function(w,C){for(var k=0;k<w.length;k++)if(C(w[k]))return!1;return!0},U=e.Solve={version:"2.0.3",solutions:[],solve:function(w,C){var k=x(w,String(C));return new e.Vector(k)},toLHS:function(w,C){if(d(w))return w;if(!(w instanceof z)){var k=w.split("=");k[1]=k[1]||"0",w=new z(t.parse(k[0]),t.parse(k[1]))}return w.toLHS(C)},solveCircle:function(w,C){for(var k=C.map(function(ut){return t.parse(ut)}),F=[],I=[],R=0;R<w.length;R++){for(var $=[],Y=0;Y<k.length;Y++)$.push(Number(e.Algebra.degree(w[R],k[Y])));$.push(e.Utils.arraySum($,!0)),F.push($)}var re=w[0],ne=w[1];if(F[0][2]>F[1][2]&&([ne,re]=[re,ne],[F[1],F[0]]=[F[0],F[1]]),F[0][0]===1&&F[0][2]===2&&F[1][0]===2&&F[1][2]===4){var he=C[0],ge=C[1],Me=x(t.parse(ne,c(he,x(t.parse(re),he)[0])),ge).map(function(ut){return ut.toString()}),be=[x(t.parse(re,c(ge,Me[0])))[0].toString()];if(Me[1]&&be.push(x(t.parse(re,c(ge,Me[1])))[0].toString()),D.SOLUTIONS_AS_OBJECT){var I={};I[he]=be,I[ge]=Me}else Me.unshift(ge),be.unshift(he),I=[be,Me]}return I},solveNonLinearSystem:function(w,C,k){if(C<0)return[];k=typeof k>"u"?e.Settings.NON_LINEAR_START:k;var F=e.Settings.MAX_NON_LINEAR_TRIES,I=Math.floor(F/2);C=typeof C>"u"?F:C;var R=e.Settings.NON_LINEAR_JUMP_AT,$=e.Settings.NON_LINEAR_JUMP_SIZE,Y=!0,re=function(oe,le){return oe.map(function(we,ue){return Number(le.get(ue,0))})},ne=e.Utils.arrayGetVariables(w),he=e.Matrix.jacobian(w,ne,function(oe){return u(oe,ne)},!0),ge=e.Settings.MAX_NEWTON_ITERATIONS,Me,be,ut,Pe,Mt,Vt,nn,xe,qe=w.map(function(oe){return u(oe,ne)}),Ge=he.map(function(oe){return u(oe,ne)},!0);Pe=e.Matrix.cMatrix(0,ne);var pe=e.Matrix.cMatrix(k,ne);ut=0;do{if(ut>ge)break;Me=re(ne,pe),nn=pe.clone(),qe.forEach(function(oe,le){pe.set(le,0,oe.apply(null,Me))});var Zt=new e.Matrix;if(Ge.each(function(oe,le,we){var ue=oe.apply(null,Me);Zt.set(le,we,ue)}),Zt=Zt.invert(),be=t.multiply(Zt,pe).negate(),xe=be.subtract(Pe,function(oe){return t.parse(Number(oe))}),Pe=nn.add(be,function(oe){return t.parse(Number(oe))}),pe=Pe,ut>=R&&Mt>1){C===I&&(k=0);var lt=C>I?1:-1;return n=C%Math.floor(I)+1,k+=lt*n*$,U.solveNonLinearSystem(w,--C,k)}if(Vt=Mt,ut++,Mt=xe.max(),Number(Mt)===Number(Vt))break}while(Number(Mt)>=Number.EPSILON);return Y?U.systemSolutions(pe,ne,!0,function(oe){return e.Utils.round(Number(oe),14)}):[]},systemSolutions:function(w,C,k,F){var I=e.Settings.SOLUTIONS_AS_OBJECT?{}:[];return w.each(function(R,$){var Y=(k?t.expand(R):R).valueOf();F&&(Y=F.call(R,Y));var re=C[$];e.Settings.SOLUTIONS_AS_OBJECT?I[re]=Y:I.push([re,Y])}),I},solveSystemBySubstitution:function(w){var C=p(w[0]),k=p(w[1]);return w.length===2&&C.length===2&&e.Utils.arrayEqual(C,k)?U.solveCircle(w,C):[]},solveSystem:function(w,C){for(var k=0;k<w.length;k++)w[k]=U.toLHS(w[k]);var F=w.length,I=new e.Matrix,R=new e.Matrix,$=!1,Y;if(typeof C>"u"){if(!r.allLinear(w))try{return U.solveNonLinearSystem(w)}catch(le){if(le instanceof e.exceptions.DivisionByZero)return U.solveSystemBySubstitution(w)}if(Y=e.Utils.arrayGetVariables(w),Y.length===1){var re=0,ne,he;do{var he=w[re].clone();re>0&&(he=he.sub(Y[0],ne[0])),ne=x(he,Y[0])}while(++re<w.length);var ge;return D.SOLUTIONS_AS_OBJECT?(ge={},ge[Y[0]]=ne):ne.length===0?ge=ne:ge=[Y[0],ne],ge}if(Y.length<w.length){for(var Me=[],re=w.length,k=0;k<re-1;k++)Me.push(t.parse(w[k]));var be={},ge=U.solveSystem(Me,Y);Array.isArray(ge)?ge.forEach(function(ue){be[ue[0]]=ue[1]}):be=ge;for(var ut=!0,k=re-1;k<re;k++)t.parse(w[k],be).equals(0)||(ut=!1);if(ut)return ge}for(var k=0;k<Y.length;k++)S4.setVar(Y[k],"delete");for(var k=0;k<F;k++){for(var he=w[k],Pe=0;Pe<Y.length;Pe++){var Mt=Y[Pe],Vt=[];he.each(function(ue){ue.contains(Mt)&&(Vt=Vt.concat(ue.coeffs()))});var nn=e.Utils.arraySum(Vt);I.set(k,Pe,nn)}var xe=he.clone();Y.map(function(ue){xe=xe.stripVar(ue,!0)}),R.set(k,0,xe.negate())}}else for(Y=C,$=!0,k=0;k<F;k++){R.set(k,0,new f(0));for(var he=t.expand(w[k]).collectSymbols(),Pe=0;Pe<C.length;Pe++){I.set(k,Pe,new f(0));for(var Mt=C[Pe],qe=0;qe<he.length;qe++){for(var Ge=he[qe],pe=!1,Zt=0;Zt<C.length;Zt++)Ge.contains(C[Zt])&&(pe&&e.err("Multiple variables found for term "+Ge),pe=!0);if(Ge.contains(Mt)){var lt=o(s(he,qe),Mt);I.set(k,Pe,t.add(I.get(k,Pe),lt[0]))}}}for(qe=0;qe<he.length;qe++)R.set(k,0,t.add(R.get(k,0),he[qe]))}if(Y.length!==w.length||I.determinant().equals(0))throw new e.exceptions.SolveError("System does not have a distinct solution");I=I.invert();var oe=I.multiply(R);return e.Utils.isArray(C)&&oe.each(function(le){return le.negate()}),U.systemSolutions(oe,Y,$)},quad:function(w,C,k){var F=t.subtract(t.pow(C.clone(),f(2)),t.multiply(t.multiply(k.clone(),w.clone()),f(4)));F=t.expand(F);var I=t.pow(F,f(.5)),R=t.parse(t.multiply(new f(2),k.clone())),$=[t.parse(l("(-({0})+({1}))/({2})",C,I,R)),t.parse(l("(-({0})-({1}))/({2})",C,I,R))];return $},cubic:function(w,C,k,F){var I=F.text(),R=k.text(),$=C.text(),Y=w.text(),re=`(-(${R})^3/(27*(${I})^3)+(${R})*(${$})/(6*(${I})^2)-(${Y})/(2*(${I})))`,ne=`((${$})/(3*(${I}))-(${R})^2/(9*(${I})^2))`,he=`(${R})/(3*(${I}))`,ge=`((${re})+sqrt((${re})^2+(${ne})^3))^(1/3)+((${re})-sqrt((${re})^2+(${ne})^3))^(1/3)-(${he})`,Me="1/2+sqrt(3)/2*i";return[t.parse(ge),t.parse(`(${ge})(${Me})`),t.parse(`(${ge})(${Me})^2`)]},quartic:function(w,C,k,F,I){var R={};e.Utils.arrayUnique(p(I).concat(p(F)).concat(p(k)).concat(p(C)).concat(p(w))).map(function(Mt){R[Mt]=1}),I=I.toString(),F=F.toString(),k=k.toString(),C=C.toString(),w=w.toString();var $,Y,re,ne,he,ge,Me,be,ut,Pe;return $=t.parse(l("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",I,F,k)).toString(),Y=t.parse(l("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",I,F,k,C)).toString(),ne=t.parse(l("12*({0})*({4})-3*({1})*({3})+({2})^2",I,F,k,C,w)).toString(),he=t.parse(l("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",I,F,k,C,w)).toString(),ge=t.parse(l("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",ne,he)).toString(),m=t.parse(l("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",I,$,ge,ne)).toString(),Me=t.parse(l("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",I,F,$,Y,m)),be=t.parse(l("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",I,F,$,Y,m)),ut=t.parse(l("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",I,F,$,Y,m)),Pe=t.parse(l("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",I,F,$,Y,m)),[Me,be,ut,Pe]},divideAndConquer:function(w,C){var k=[],F=e.Algebra.Factor.factor(w);return F.group===v&&F.each(function(I){I=f.unwrapPARENS(I),k=k.concat(x(I,C))}),k},csolve:function(w,C){return e.Utils.block("IGNORE_E",function(){var k,F,I,R,$,Y,re,ne,he,ge;if(ge=[],k=e.Utils.decompose_fn(w,C,!0),k.x.group===m){F=t.parse(k.x.power),I=Number(F),R=t.pow(t.divide(k.b.negate(),k.a),F.invert()),$=f.toPolarFormArray(R),Y=$[0],re=$[1],ne=Y.toString(),he=F.toString();for(var Me,be,ut,Pe=0;Pe<I;Pe++)Me=Pe,ut=l("({0})*e^(2*{1}*pi*{2}*{3})",ne,Me,F,e.Settings.IMAGINARY),be=t.parse(ut),ge.push(be)}return ge},!0)},getPoints:function(w,C,k){C=C||.01,k=k||[];var F=u(w),I=0,R=Math.round(I),$=F(R),Y=$/Math.abs($),re=e.Settings.ROOTS_PER_SIDE,ne=re;k.push(Math.floor(R/2)),k.push(Math.abs(R)),k.push(R),w.each(function(be){be.containsFunction(e.Settings.LOG)&&k.push(.1)});var he=T(-e.Settings.SOLVE_RADIUS,R,C),ge=T(R,e.Settings.SOLVE_RADIUS,C),Me=function(be,ut){for(var Pe,Mt,Vt,nn=[],xe=0,qe=be.length;xe<qe;xe++)Pe=be[xe],Mt=F(Pe),Vt=Mt/Math.abs(Mt),!(isNaN(Mt)||!isFinite(Mt)||nn.length>ut)&&(Vt!==Y&&nn.push(Pe),Y=Vt);k=k.concat(nn)};return Me(he,ne),Me(ge,re),k},bisection:function(w,C){var k=w-1,F=w+1;if(Math.sign(C(k))!==Math.sign(C(F))){var I=0,R,$;do{if(R=Math.abs(F-k),I++>e.Settings.MAX_BISECTION_ITER||isNaN(R))return;$=(k+F)/2,C(k)*C($)>0?k=$:F=$}while(R>=D.EPSILON);var Y=(k+F)/2,re=C(Y);if(!isNaN(re)&&Math.abs(re)<=e.Settings.BI_SECTION_EPSILON)return e.Utils.round(Y,13)}},Newton:function(w,C,k){var F=e.Settings.MAX_NEWTON_ITERATIONS,I=0,R=w,$;do{var Y=C(R);if(R===0&&Y===0){$=0;break}if(I++,I>F)return;$=R-Y/k(R);var re=Math.abs($-R);R=$}while(re>D.NEWTON_EPSILON);if(Math.abs(C($))<=D.EPSILON)return $},rewrite:function(w,C,k){if(C=C||new f(0),w.isComposite()&&w.isLinear()){var F=[],I=[];w.each(function(ne){ne=ne.clone(),ne.fname==="sqrt"&&ne.contains(k)?F.push(ne):I.push(ne)},!0),F.length===1&&(C=t.expand(t.pow(t.subtract(C,e.Utils.arraySum(I)),new f(2))),w=t.expand(t.pow(f.unwrapSQRT(F[0]),new f(2))))}else w=f.unwrapSQRT(t.expand(w));var R=0,$=w.length;if(w.group===b&&w.contains(k)&&w.isLinear()){w.distributeMultiplier();var Y=new f(0);return w.each(function(ne){ne.contains(k)?(R++,Y=t.add(Y,ne.clone())):C=t.subtract(C,ne.clone())}),w=Y,R!==$?U.rewrite(w,C,k):[w,C]}else if(w.group===v&&w.contains(k)&&w.isLinear()){if(w.multiplier.lessThan(0)&&(w.multiplier=w.multiplier.multiply(new e.Frac(-1)),C.multiplier=C.multiplier.multiply(new e.Frac(-1))),C.equals(0))return new f(0);var Y=new f(1);return w.each(function(he){he.contains(k)?Y=t.multiply(Y,he.clone()):C=t.divide(C,he.clone())}),w=Y,U.rewrite(w,C,k)}else if(!w.isLinear()&&w.contains(k)){var re=t.parse(w.power.clone().invert());return w=t.pow(w,re.clone()),C=t.pow(t.expand(C),re.clone()),U.rewrite(w,C,k)}else if(w.group===_||w.group===m||w.group===g)return[w,C]},sqrtSolve:function(w,C){var k=new f(0),F=new f(0);if(w.isComposite()&&(w.each(function($){$.fname==="sqrt"&&$.contains(C)?k=t.add(k,$.clone()):F=t.add(F,$.clone())}),!k.equals(0))){var I=t.expand(t.multiply(t.parse(w.multiplier),t.subtract(t.pow(F,new f(2)),t.pow(k,new f(2))))),R=x(I,C);return R=R.filter(function($){if($.isImaginary())return $;var Y={};Y[C]=$;var re=a(w,Y);if(re.equals(0))return $}),R}}},x=function(w,C,k,F,I){if(F=F||0,F++>D.MAX_SOLVE_DEPTH)return k;if(w instanceof z){if(w.isZero())return[new f(0)];if(w.LHS.equals(C)&&!w.RHS.contains(C))return[w.RHS];if(w.RHS.equals(C)&&!w.LHS.contains(C))return[w.LHS]}if(w instanceof e.Vector&&(w=w.elements),C=C||"x",N(w))return U.solveSystem.apply(void 0,arguments);k=k||[];var R={},$={};if($[C]=0,d(w)&&a(w.getDenom(),$).equals(0)===!0)return k;var Y=function(ke,Je){var mt=d(ke);if(!(ke===void 0||typeof ke=="number"&&isNaN(ke))){if(N(ke))ke.forEach(function(At){Y(At)});else if(ke.valueOf()!=="null"){if(typeof e.Settings.PRE_ADD_SOLUTION=="function"&&(ke=e.Settings.PRE_ADD_SOLUTION(ke)),mt||(ke=t.parse(ke)),e.Settings.make_pi_conversions&&Je){var Rt=t.divide(ke.clone(),new f(Math.PI)),Jt=Rt.multiplier,Ot=Math.abs(Jt.num),kn=Math.abs(Jt.den);Ot<10&&kn<10&&(ke=t.multiply(Rt,new f("pi")))}var Lt=ke.toString();R[Lt]||k.push(ke),R[Lt]=!0}}};if(w.group===m&&w.contains(C)){try{var re={};re[C]=0,a(I,re,"numer"),Y(new f(0))}catch{}return k}if(w.group===v){var ne=w.getNum();if(ne.group===v){var he=String(C);return ne.each(function(ke){ke.contains(he)&&x(ke,C,k,F,w)}),k}return x(ne,C,k,F,I)}w.group===_&&w.fname==="sqrt"&&(w=t.pow(f.unwrapSQRT(w),new f(2)));var ge=(e.Utils.isSymbol(w)?w:U.toLHS(w,!1)).getNum(),Me=e.Utils.variables(ge),be=Me.length;if(e.Utils.isInt(ge.power)&&ge.power>0&&(ge=t.parse(ge).toLinear()),ge.group===m||ge.group===v&&ge.contains(C))return[new f(0)];var ut={},Pe,Mt=function(ke){ke=t.expand(ke,{expand_denominator:!0,expand_functions:!0});var Je=ke.clone();if(ke.symbols)for(var mt in ke.symbols){var Rt=ke.symbols[mt],Jt=Rt.getDenom();if(!Jt.isConstant(!0)&&ke.isComposite()){var Ot=new f(0);return ke.each(function(Sn){Ot=t.add(Ot,t.multiply(Sn,Jt.clone()))}),Mt(t.multiply(t.parse(ke.multiplier),Ot))}var kn=o(Rt,C),Lt=kn[1].fname===e.Settings.SQRT,At=f.unwrapSQRT(kn[1]),Un=At.power.clone();if(!d(Un)&&!Un.equals(1/2)){if(Un.den.gt(1)){if(Lt)return ke=t.subtract(ke,Rt.clone()),ke=t.add(ke,t.multiply(kn[0].clone(),At)),Mt(ke);var Hn=ut[Un.den];ut[Un.den]=Hn?Hn++:1}else if(Un.sign()===-1){var Tn=t.parse(C+"^"+Math.abs(Un));return ke.each(function(Sn,O){Sn.contains(C)&&(ke.symbols[O]=t.multiply(Sn,Tn.clone()))}),ut={},Mt(t.parse(ke))}else if(Rt.group===g){var Wt=e.Utils.arrayMin(e.Utils.keys(Rt.symbols));if(Wt<0){var Tn=t.parse(C+"^"+Math.abs(Wt)),Nt=new f(0);return Je.each(function(O){Nt=t.add(Nt,t.multiply(O.clone(),Tn.clone()))},!0),Nt}}}}return ke},Vt=function(ke){var Je=new f(0),mt=new f(0);return ke.each(function(Rt){Rt.contains(C,!0)?Je=t.add(Je,Rt.clone()):mt=t.subtract(mt,Rt.clone())}),[Je,mt]};if(U.inverseFunctionSolve=function(ke,Je,mt){var Rt=o(Je.args[0],C),Jt=Rt[1];if(Jt.group===m)return t.divide(t.symfunction(ke,[t.divide(mt,t.parse(Je.multiplier))]),Rt[0])},ge=Mt(ge),ge.equals(0))return[ge];var nn=e.Utils.keys(ut);if(nn.length===1&&(Pe=nn[0],ge.each(function(ke,Je){if(ke.contains(C)){var mt=o(ke,C),Rt=mt[1],Jt=Rt.power;Jt.den.gt(1)&&(Rt.power=Jt.multiply(new e.Frac(Pe)),ge.symbols[Je]=t.multiply(Rt,mt[0]))}}),ge=t.parse(ge)),Y(U.sqrtSolve(ge,C)),be===1)if(ge.isPoly(!0)){var xe=new e.Algebra.Classes.Factors;if(e.Algebra.Factor.factor(ge,xe),xe.getNumberSymbolics()>1)for(var qe in xe.factors)Y(x(xe.factors[qe],C));else{var Ge=e.Utils.getCoeffs(ge,C),pe=Ge.length-1,Zt=!1;if(Me[0]===C){if(B(Ge,function(ke){return ke.group!==e.groups.N})){var lt=e.Algebra.proots(ge);B(lt,function(ke){return!e.Utils.isInt(ke)})&&(Zt=!0,lt.map(function(ke){Y(new f(ke))}))}if(!Zt)if(w=t.parse(w),w instanceof e.Equation&&(w=w.toLHS()),pe===1)Y(t.divide(Ge[0],Ge[1].negate()));else if(pe===2)Y(t.expand(U.quad.apply(void 0,Ge)));else if(pe===3){var k=[],oe=e.Algebra.Factor.factor(w),k=[];k.length>0?Y(k):Y(U.cubic.apply(void 0,Ge))}else r.proots(ge).map(Y)}}}else try{var le=ge.hasTrig(),we=U.getPoints(ge,.1),ue=U.getPoints(ge,.05),Ne=U.getPoints(ge,.01),et=e.Utils.arrayUnique(we.concat(ue).concat(Ne)).sort(function(ke,Je){return ke-Je}),Fe,fe,L,J=u(ge.clone()),X=[];for(Fe=0;Fe<et.length;Fe++){if(fe=et[Fe],L=U.bisection(fe,J),typeof L>"u"){X.push(fe);continue}Y(L,le)}et=X;var de=i.diff(ge.clone()),me=u(de);for(Fe=0;Fe<et.length;Fe++)fe=et[Fe],Y(U.Newton(fe,J,me),le);k.sort()}catch(ke){console.log(ke)}else if(!ge.hasFunc(C)&&ge.isComposite())try{var oe=e.Algebra.Factor.factor(ge.clone());if(oe.group===v)oe.each(function(Je){Y(x(Je,C))});else{var Ge=e.Utils.getCoeffs(ge,C),Ee=Ge.length,pe=Ee-1;switch(pe){case 0:var Te=Vt(ge),ae=Te[0],Oe=Te[1];if(ae.group===e.groups.EX){var xt=e.Settings.LOG,wt=`${xt}((${Oe})/(${ae.multiplier}))/${xt}(${ae.value})/${ae.power.multiplier}`;Y(t.parse(wt))}break;case 1:Y(t.divide(Ge[0],Ge[1].negate()));break;case 2:Y(U.quad.apply(void 0,Ge));break;case 3:Y(U.cubic.apply(void 0,Ge));break;case 4:Y(U.quartic.apply(void 0,Ge));break;default:Y(U.csolve(ge,C)),k.length===0&&Y(U.divideAndConquer(ge,C))}k.length===0&&Y(x(oe,C,k,F))}}catch{}else try{var ze=U.rewrite(ge,null,C),ae=ze[0],Oe=ze[1];if(ae.group===_)if(ae.fname==="abs")Y([Oe.clone(),Oe.negate()]);else if(ae.fname==="sin")Y(U.inverseFunctionSolve("asin",ae,Oe));else if(ae.fname==="cos")Y(U.inverseFunctionSolve("acos",ae,Oe));else if(ae.fname==="tan")Y(U.inverseFunctionSolve("atan",ae,Oe));else if(ae.fname===e.Settings.LOG){var Be=o(ae.args[0],C),qe=Be[1];if(qe.group===m){Oe=t.divide(t.subtract(t.pow(ae.args.length>1?ae.args[1]:new f("e"),t.divide(Oe,t.parse(ae.multiplier))),Be[3]),Be[0]);var ge=new z(qe,Oe).toLHS();Y(x(ge,C))}}else Y(t.subtract(ae,Oe));else{var ct=new z(ae,Oe).toLHS();if(ct.equals(ge))throw new Error("Stopping. No stop condition exists");Y(x(ct,C))}}catch{try{if(ge.group===v)Y(0);else if(ge.group===b){var Te=Vt(ge),ae=Te[0],Oe=Te[1];if(ae.group===e.groups.EX&&ae.value===C){var Xe=ae.power.clone().invert();Y(t.pow(Oe,Xe))}}}catch{}}if(Pe&&(k=k.map(function(ke){return t.pow(ke,new f(Pe))})),d(w)){var Ie={};k=k.filter(function(ke){try{Ie[C]=ke;var Je=Number(a(w,Ie));return isNaN(Je),!0}catch{return!1}})}return k};S4.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return x}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return e.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return j}}]),S4.updateAPI()})()});var Nr=new Ln("");var RH=null;function zl(){return RH}function KM(e){RH??=e}var j3=class{},W3=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(kH),providedIn:"platform"})}return e})(),QM=new Ln(""),kH=(()=>{class e extends W3{_location;_history;_doc=ot(Nr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zl().getBaseHref(this._doc)}onPopState(r){let i=zl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=zl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function cy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function MH(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Zu(e){return e&&e[0]!=="?"?`?${e}`:e}var Nd=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(dy),providedIn:"root"})}return e})(),fy=new Ln(""),dy=(()=>{class e extends Nd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(r,i){super(),this._platformLocation=r,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ot(Nr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return cy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Zu(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,a){let s=this.prepareExternalUrl(o+Zu(a));this._platformLocation.pushState(r,i,s)}replaceState(r,i,o,a){let s=this.prepareExternalUrl(o+Zu(a));this._platformLocation.replaceState(r,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static \u0275fac=function(i){return new(i||e)(Bn(W3),Bn(fy,8))};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ip=(()=>{class e{_subject=new Ci;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(r){this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Zme(MH(TH(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Zu(i))}normalize(r){return e.stripTrailingSlash(Qme(this._basePath,TH(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zu(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zu(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=Zu;static joinWithSlash=cy;static stripTrailingSlash=MH;static \u0275fac=function(i){return new(i||e)(Bn(Nd))};static \u0275prov=qt({token:e,factory:()=>Kme(),providedIn:"root"})}return e})();function Kme(){return new ip(Bn(Nd))}function Qme(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function TH(e){return e.replace(/\/index.html$/,"")}function Zme(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}var JM=(()=>{class e extends Nd{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(r,i){super(),this._platformLocation=r,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=cy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,a){let s=this.prepareExternalUrl(o+Zu(a))||this._platformLocation.pathname;this._platformLocation.pushState(r,i,s)}replaceState(r,i,o,a){let s=this.prepareExternalUrl(o+Zu(a))||this._platformLocation.pathname;this._platformLocation.replaceState(r,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static \u0275fac=function(i){return new(i||e)(Bn(W3),Bn(fy,8))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var ZM=/\s+/,OH=[],pf=(()=>{class e{_ngEl;_renderer;initialClasses=OH;rawClass;stateMap=new Map;constructor(r,i){this._ngEl=r,this._renderer=i}set klass(r){this.initialClasses=r!=null?r.trim().split(ZM):OH}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ZM):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ZM).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||e)(Pn(_o),Pn(Yu))};static \u0275dir=Mr({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var py=class{$implicit;ngForOf;index;count;constructor(t,r,i,o){this.$implicit=t,this.ngForOf=r,this.index=i,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},op=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,a,s)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new py(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(a===null?void 0:a);else if(a!==null){let l=i.get(a);i.move(l,s),NH(l,o)}});for(let o=0,a=i.length;o<a;o++){let l=i.get(o).context;l.index=o,l.count=a,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let a=i.get(o.currentIndex);NH(a,o)})}static ngTemplateContextGuard(r,i){return!0}static \u0275fac=function(i){return new(i||e)(Pn(Ed),Pn(Cd),Pn(SH))};static \u0275dir=Mr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function NH(e,t){e.context.$implicit=t.item}var pu=(()=>{class e{_viewContainer;_context=new hy;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(r,i){this._viewContainer=r,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){IH(r,!1),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){IH(r,!1),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(r,i){return!0}static \u0275fac=function(i){return new(i||e)(Pn(Ed),Pn(Cd))};static \u0275dir=Mr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),hy=class{$implicit=null;ngIf=null};function IH(e,t){if(e&&!e.createEmbeddedView)throw new hr(2020,!1)}var Id=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(r,i,o){this._ngEl=r,this._differs=i,this._renderer=o}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[o,a]=r.split("."),s=o.indexOf("-")===-1?void 0:Bh.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,a?`${i}${a}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||e)(Pn(_o),Pn(CH),Pn(Yu))};static \u0275dir=Mr({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})(),Fd=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(r){this._viewContainerRef=r}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||e)(Pn(Ed))};static \u0275dir=Mr({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ms]})}return e})();var Rs=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({})}return e})();function Y3(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let i=r.indexOf("="),[o,a]=i==-1?[r,""]:[r.slice(0,i),r.slice(i+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}var my="browser",PH="server";function ks(e){return e===my}function sg(e){return e===PH}var Hh=class{};var LH=(()=>{class e{static \u0275prov=qt({token:e,providedIn:"root",factory:()=>new eT(ot(Nr),window)})}return e})(),eT=class{document;window;offset=()=>[0,0];constructor(t,r){this.document=t,this.window=r}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let r=rge(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],o-a[1])}};function rge(e,t){let r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=i.currentNode;for(;o;){let a=o.shadowRoot;if(a){let s=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(s)return s}o=i.nextNode()}}return null}var yy=new Ln(""),iT=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,i){this._zone=i,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o,a){return this._findPluginFor(i).addEventListener(r,i,o,a)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new hr(5101,!1);return this._eventNameToPlugin.set(r,i),i}static \u0275fac=function(i){return new(i||e)(Bn(yy),Bn(Hi))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),K3=class{_doc;constructor(t){this._doc=t}manager},gy="ng-app-id";function BH(e){for(let t of e)t.remove()}function $H(e,t){let r=t.createElement("style");return r.textContent=e,r}function ige(e,t,r,i){let o=e.head?.querySelectorAll(`style[${gy}="${t}"],link[${gy}="${t}"]`);if(o)for(let a of o)a.removeAttribute(gy),a instanceof HTMLLinkElement?i.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&r.set(a.textContent,{usage:0,elements:[a]})}function nT(e,t){let r=t.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),r}var oT=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,i,o,a={}){this.doc=r,this.appId=i,this.nonce=o,this.isServer=sg(a),ige(r,i,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,i){for(let o of r)this.addUsage(o,this.inline,$H);i?.forEach(o=>this.addUsage(o,this.external,nT))}removeStyles(r,i){for(let o of r)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(r,i,o){let a=i.get(r);a?a.usage++:i.set(r,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(r,this.doc)))})}removeUsage(r,i){let o=i.get(r);o&&(o.usage--,o.usage<=0&&(BH(o.elements),i.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])BH(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(r,$H(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(r,nT(i,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(gy,this.appId),r.appendChild(i)}static \u0275fac=function(i){return new(i||e)(Bn(Nr),Bn(GM),Bn(jM,8),Bn($l))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),tT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},aT=/%COMP%/g;var zH="%COMP%",oge=`_nghost-${zH}`,age=`_ngcontent-${zH}`,sge=!0,lge=new Ln("",{providedIn:"root",factory:()=>sge});function uge(e){return age.replace(aT,e)}function cge(e){return oge.replace(aT,e)}function VH(e,t){return t.map(r=>r.replace(aT,e))}var J3=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,i,o,a,s,l,u,c=null,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=c,this.tracingService=f,this.platformIsServer=sg(l),this.defaultRenderer=new Q3(r,s,u,this.platformIsServer,this.tracingService)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===U3.ShadowDom&&(i=_e(A({},i),{encapsulation:U3.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof vy?o.applyToHost(r):o instanceof Z3&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,a=o.get(i.id);if(!a){let s=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(i.encapsulation){case U3.Emulated:a=new vy(u,c,i,this.appId,f,s,l,d,p);break;case U3.ShadowDom:return new rT(u,c,r,i,s,l,this.nonce,d,p);default:a=new Z3(u,c,i,f,s,l,d,p);break}o.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(i){return new(i||e)(Bn(iT),Bn(oT),Bn(GM),Bn(lge),Bn(Nr),Bn($l),Bn(Hi),Bn(jM),Bn(fH,8))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),Q3=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,r,i,o,a){this.eventManager=t,this.doc=r,this.ngZone=i,this.platformIsServer=o,this.tracingService=a}destroy(){}destroyNode=null;createElement(t,r){return r?this.doc.createElementNS(tT[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(UH(t)?t.content:t).appendChild(r)}insertBefore(t,r,i){t&&(UH(t)?t.content:t).insertBefore(r,i)}removeChild(t,r){r.remove()}selectRootElement(t,r){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new hr(-5104,!1);return r||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,i,o){if(o){r=o+":"+r;let a=tT[o];a?t.setAttributeNS(a,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}removeAttribute(t,r,i){if(i){let o=tT[i];o?t.removeAttributeNS(o,r):t.removeAttribute(`${i}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,i,o){o&(Bh.DashCase|Bh.Important)?t.style.setProperty(r,i,o&Bh.Important?"important":""):t.style[r]=i}removeStyle(t,r,i){i&Bh.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,i){t!=null&&(t[r]=i)}setValue(t,r){t.nodeValue=r}listen(t,r,i,o){if(typeof t=="string"&&(t=zl().getGlobalEventTarget(this.doc,t),!t))throw new hr(5102,!1);let a=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(t,r,a)),this.eventManager.addEventListener(t,r,a,o)}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function UH(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var rT=class extends Q3{sharedStylesHost;hostEl;shadowRoot;constructor(t,r,i,o,a,s,l,u,c){super(t,a,s,u,c),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=o.styles;f=VH(o.id,f);for(let p of f){let m=document.createElement("style");l&&m.setAttribute("nonce",l),m.textContent=p,this.shadowRoot.appendChild(m)}let d=o.getExternalStyles?.();if(d)for(let p of d){let m=nT(p,a);l&&m.setAttribute("nonce",l),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,i){return super.insertBefore(this.nodeOrShadowRoot(t),r,i)}removeChild(t,r){return super.removeChild(null,r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Z3=class extends Q3{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,r,i,o,a,s,l,u,c){super(t,a,s,l,u),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o;let f=i.styles;this.styles=c?VH(c,f):f,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vy=class extends Z3{contentAttr;hostAttr;constructor(t,r,i,o,a,s,l,u,c){let f=o+"-"+i.id;super(t,r,i,a,s,l,u,c,f),this.contentAttr=uge(f),this.hostAttr=cge(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let i=super.createElement(t,r);return super.setAttribute(i,this.contentAttr,""),i}};var by=class e extends j3{supportsDOMEvents=!0;static makeCurrent(){KM(new e)}onAndCancel(t,r,i,o){return t.addEventListener(r,i,o),()=>{t.removeEventListener(r,i,o)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.remove()}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=fge();return r==null?null:dge(r)}resetBaseElement(){e6=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Y3(document.cookie,t)}},e6=null;function fge(){return e6=e6||document.head.querySelector("base"),e6?e6.getAttribute("href"):null}function dge(e){return new URL(e,document.baseURI).pathname}var xy=class{addToWindow(t){ep.getAngularTestability=(i,o=!0)=>{let a=t.findTestabilityInTree(i,o);if(a==null)throw new hr(5103,!1);return a},ep.getAllAngularTestabilities=()=>t.getAllTestabilities(),ep.getAllAngularRootElements=()=>t.getAllRootElements();let r=i=>{let o=ep.getAllAngularTestabilities(),a=o.length,s=function(){a--,a==0&&i()};o.forEach(l=>{l.whenStable(s)})};ep.frameworkStabilizers||(ep.frameworkStabilizers=[]),ep.frameworkStabilizers.push(r)}findTestabilityInTree(t,r,i){if(r==null)return null;let o=t.getTestability(r);return o??(i?zl().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},pge=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),HH=(()=>{class e extends K3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o,a){return r.addEventListener(i,o,a),()=>this.removeEventListener(r,i,o,a)}removeEventListener(r,i,o,a){return r.removeEventListener(i,o,a)}static \u0275fac=function(i){return new(i||e)(Bn(Nr))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),qH=["alt","control","meta","shift"],hge={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mge={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},GH=(()=>{class e extends K3{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o,a){let s=e.parseEventName(i),l=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zl().onAndCancel(r,s.domEventName,l,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(i.pop()),s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),qH.forEach(c=>{let f=i.indexOf(c);f>-1&&(i.splice(f,1),s+=c+".")}),s+=a,i.length!=0||a.length===0)return null;let u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(r,i){let o=hge[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(o=r.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),qH.forEach(s=>{if(s!==o){let l=mge[s];l(r)&&(a+=s+".")}}),a+=o,a===i)}static eventCallback(r,i,o){return a=>{e.matchEventFullKeyCode(a,r)&&o.runGuarded(()=>i(a))}}static _normalizeKey(r){return r==="esc"?"escape":r}static \u0275fac=function(i){return new(i||e)(Bn(Nr))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();function gge(){by.makeCurrent()}function vge(){return new HM}function yge(){return lH(document),document}var bge=[{provide:$l,useValue:my},{provide:uH,useValue:gge,multi:!0},{provide:Nr,useFactory:yge}],sT=_H(EH,"browser",bge);var xge=[{provide:ny,useClass:xy},{provide:mH,useClass:ry,deps:[Hi,WM,ny]},{provide:ry,useClass:ry,deps:[Hi,WM,ny]}],wge=[{provide:oH,useValue:"root"},{provide:HM,useFactory:vge},{provide:yy,useClass:HH,multi:!0,deps:[Nr]},{provide:yy,useClass:GH,multi:!0,deps:[Nr]},J3,oT,iT,{provide:Jv,useExisting:J3},{provide:Hh,useClass:pge},[]],lT=(()=>{class e{constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({providers:[...wge,...xge],imports:[Rs,DH]})}return e})();var ug=class{},n6=class{},Gh=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let o=r.slice(0,i),a=r.slice(i+1).trim();this.addHeaderEntry(o,a)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,i)=>{this.addHeaderEntry(i,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,i])=>{this.setHeaderEntries(r,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,r);let o=(t.op==="a"?this.headers.get(r):void 0)||[];o.push(...i),this.headers.set(r,o);break;case"d":let a=t.value;if(!a)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(l=>a.indexOf(l)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}addHeaderEntry(t,r){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}setHeaderEntries(t,r){let i=(Array.isArray(r)?r:[r]).map(a=>a.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var _y=class{encodeKey(t){return jH(t)}encodeValue(t){return jH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function _ge(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let a=o.indexOf("="),[s,l]=a==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,a)),t.decodeValue(o.slice(a+1))],u=r.get(s)||[];u.push(l),r.set(s,u)}),r}var Sge=/%(\d[a-f0-9])/gi,Cge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jH(e){return encodeURIComponent(e).replace(Sge,(t,r)=>Cge[r]??t)}function wy(e){return`${e}`}var ap=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new _y,t.fromString){if(t.fromObject)throw new hr(2805,!1);this.map=_ge(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let i=t.fromObject[r],o=Array.isArray(i)?i.map(wy):[wy(i)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(a=>{r.push({param:i,value:a,op:"a"})}):r.push({param:i,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(i=>r+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(wy(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(wy(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Sy=class{map=new Map;set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Ege(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function WH(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function YH(e){return typeof Blob<"u"&&e instanceof Blob}function XH(e){return typeof FormData<"u"&&e instanceof FormData}function Dge(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var KH="Content-Type",QH="Accept",JH="X-Request-URL",eG="text/plain",tG="application/json",Age=`${tG}, ${eG}, */*`,t6=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,r,i,o){this.url=r,this.method=t.toUpperCase();let a;if(Ege(this.method)||o?(this.body=i!==void 0?i:null,a=o):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new Gh,this.context??=new Sy,!this.params)this.params=new ap,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let l=r.indexOf("?"),u=l===-1?"?":l<r.length-1?"&":"";this.urlWithParams=r+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||WH(this.body)||YH(this.body)||XH(this.body)||Dge(this.body)?this.body:this.body instanceof ap?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XH(this.body)?null:YH(this.body)?this.body.type||null:WH(this.body)?null:typeof this.body=="string"?eG:this.body instanceof ap?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?tG:null}clone(t={}){let r=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,a=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,c=t.headers||this.headers,f=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),f)),new e(r,i,s,{params:f,headers:c,context:d,reportProgress:u,responseType:o,withCredentials:l,transferCache:a})}},lg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(lg||{}),cg=class{headers;status;statusText;url;ok;type;constructor(t,r=200,i="OK"){this.headers=t.headers||new Gh,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Cy=class e extends cg{constructor(t={}){super(t)}type=lg.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ey=class e extends cg{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=lg.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Dy=class extends cg{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Mge=200,Tge=204;function uT(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Rge=(()=>{class e{handler;constructor(r){this.handler=r}request(r,i,o={}){let a;if(r instanceof t6)a=r;else{let u;o.headers instanceof Gh?u=o.headers:u=new Gh(o.headers);let c;o.params&&(o.params instanceof ap?c=o.params:c=new ap({fromObject:o.params})),a=new t6(r,i,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=Cn(a).pipe(_d(u=>this.handler.handle(u)));if(r instanceof t6||o.observe==="events")return s;let l=s.pipe(Es(u=>u instanceof Ey));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return l.pipe(wr(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new hr(2806,!1);return u.body}));case"blob":return l.pipe(wr(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new hr(2807,!1);return u.body}));case"text":return l.pipe(wr(u=>{if(u.body!==null&&typeof u.body!="string")throw new hr(2808,!1);return u.body}));case"json":default:return l.pipe(wr(u=>u.body))}case"response":return l;default:throw new hr(2809,!1)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ap().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,uT(o,i))}post(r,i,o={}){return this.request("POST",r,uT(o,i))}put(r,i,o={}){return this.request("PUT",r,uT(o,i))}static \u0275fac=function(i){return new(i||e)(Bn(ug))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var kge=new Ln("");function nG(e,t){return t(e)}function Oge(e,t){return(r,i)=>t.intercept(r,{handle:o=>e(o,i)})}function Nge(e,t,r){return(i,o)=>du(r,()=>t(i,a=>e(a,o)))}var rG=new Ln(""),fT=new Ln(""),Ige=new Ln(""),dT=new Ln("",{providedIn:"root",factory:()=>!0});function Fge(){let e=null;return(t,r)=>{e===null&&(e=(ot(rG,{optional:!0})??[]).reduceRight(Oge,nG));let i=ot(L3);if(ot(dT)){let a=i.add();return e(t,r).pipe(Z0(()=>i.remove(a)))}else return e(t,r)}}var Ay=(()=>{class e extends ug{backend;injector;chain=null;pendingTasks=ot(L3);contributeToStability=ot(dT);constructor(r,i){super(),this.backend=r,this.injector=i}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(fT),...this.injector.get(Ige,[])]));this.chain=i.reduceRight((o,a)=>Nge(o,a,this.injector),nG)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Z0(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(Bn(n6),Bn(Wu))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var Pge=/^\)\]\}',?\n/,Lge=RegExp(`^${JH}:`,"m");function Bge(e){return"responseURL"in e&&e.responseURL?e.responseURL:Lge.test(e.getAllResponseHeaders())?e.getResponseHeader(JH):null}var cT=(()=>{class e{xhrFactory;constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new hr(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Zo(i.\u0275loadImpl()):Cn(null)).pipe(Ds(()=>new Xv(a=>{let s=i.build();if(s.open(r.method,r.urlWithParams),r.withCredentials&&(s.withCredentials=!0),r.headers.forEach((v,b)=>s.setRequestHeader(v,b.join(","))),r.headers.has(QH)||s.setRequestHeader(QH,Age),!r.headers.has(KH)){let v=r.detectContentTypeHeader();v!==null&&s.setRequestHeader(KH,v)}if(r.responseType){let v=r.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let l=r.serializeBody(),u=null,c=()=>{if(u!==null)return u;let v=s.statusText||"OK",b=new Gh(s.getAllResponseHeaders()),_=Bge(s)||r.url;return u=new Cy({headers:b,status:s.status,statusText:v,url:_}),u},f=()=>{let{headers:v,status:b,statusText:_,url:D}=c(),T=null;b!==Tge&&(T=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=T?Mge:0);let N=b>=200&&b<300;if(r.responseType==="json"&&typeof T=="string"){let z=T;T=T.replace(Pge,"");try{T=T!==""?JSON.parse(T):null}catch(j){T=z,N&&(N=!1,T={error:j,text:T})}}N?(a.next(new Ey({body:T,headers:v,status:b,statusText:_,url:D||void 0})),a.complete()):a.error(new Dy({error:T,headers:v,status:b,statusText:_,url:D||void 0}))},d=v=>{let{url:b}=c(),_=new Dy({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});a.error(_)},p=!1,m=v=>{p||(a.next(c()),p=!0);let b={type:lg.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),r.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),a.next(b)},g=v=>{let b={type:lg.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),a.next(b)};return s.addEventListener("load",f),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),r.reportProgress&&(s.addEventListener("progress",m),l!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(l),a.next({type:lg.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",f),s.removeEventListener("timeout",d),r.reportProgress&&(s.removeEventListener("progress",m),l!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(Bn(Hh))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),iG=new Ln(""),$ge="XSRF-TOKEN",Uge=new Ln("",{providedIn:"root",factory:()=>$ge}),zge="X-XSRF-TOKEN",Vge=new Ln("",{providedIn:"root",factory:()=>zge}),r6=class{},qge=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(r,i){this.doc=r,this.cookieName=i}getToken(){let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Y3(r,this.cookieName),this.lastCookieString=r),this.lastToken}static \u0275fac=function(i){return new(i||e)(Bn(Nr),Bn(Uge))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();function Hge(e,t){let r=e.url.toLowerCase();if(!ot(iG)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let i=ot(r6).getToken(),o=ot(Vge);return i!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,i)})),t(e)}var pT=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(pT||{});function Gge(e,t){return{\u0275kind:e,\u0275providers:t}}function hT(...e){let t=[Rge,cT,Ay,{provide:ug,useExisting:Ay},{provide:n6,useFactory:()=>ot(kge,{optional:!0})??ot(cT)},{provide:fT,useValue:Hge,multi:!0},{provide:iG,useValue:!0},{provide:r6,useClass:qge}];for(let r of e)t.push(...r.\u0275providers);return Lh(t)}var ZH=new Ln("");function mT(){return Gge(pT.LegacyInterceptors,[{provide:ZH,useFactory:Fge},{provide:fT,useExisting:ZH,multi:!0}])}var oG=(()=>{class e{_doc;constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static \u0275fac=function(i){return new(i||e)(Bn(Nr))};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sG=(()=>{class e{messages=[];add(r){this.messages.push(r)}clear(){this.messages=[]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var lG=(()=>{class e{messageService;constructor(r){this.messageService=r}createHandleError=(r="")=>(i="operation",o={})=>this.handleError(r,i,o);handleError(r="",i="operation",o={}){return a=>{console.error(a);let s=a.error instanceof ErrorEvent?a.error.message:`server returned code ${a.status} with body "${a.error}"`;return this.messageService.add(`${r}: ${i} failed: ${s}`),Cn(o)}}static \u0275fac=function(i){return new(i||e)(Bn(sG))};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var vG=(()=>{class e{_renderer;_elementRef;onChange=r=>{};onTouched=()=>{};constructor(r,i){this._renderer=r,this._elementRef=i}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}static \u0275fac=function(i){return new(i||e)(Pn(Yu),Pn(_o))};static \u0275dir=Mr({type:e})}return e})(),Fy=(()=>{class e extends vG{static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,features:[br]})}return e})(),Pd=new Ln(""),Wge={provide:Pd,useExisting:Qa(()=>bT),multi:!0},bT=(()=>{class e extends Fy{writeValue(r){this.setProperty("checked",r)}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&_r("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[mi([Wge]),br]})}return e})(),Yge={provide:Pd,useExisting:Qa(()=>Py),multi:!0};function Xge(){let e=zl()?zl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Kge=new Ln(""),Py=(()=>{class e extends vG{_compositionMode;_composing=!1;constructor(r,i,o){super(r,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Xge())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}static \u0275fac=function(i){return new(i||e)(Pn(Yu),Pn(_o),Pn(Kge,8))};static \u0275dir=Mr({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&_r("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[mi([Yge]),br]})}return e})();var Ly=new Ln(""),yG=new Ln("");function Qge(e){return t=>{if(t.value==null||e==null)return null;let r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function Zge(e){return t=>{if(t.value==null||e==null)return null;let r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function uG(e){return null}function bG(e){return e!=null}function xG(e){return z3(e)?Zo(e):e}function wG(e){let t={};return e.forEach(r=>{t=r!=null?A(A({},t),r):t}),Object.keys(t).length===0?null:t}function _G(e,t){return t.map(r=>r(e))}function Jge(e){return!e.validate}function SG(e){return e.map(t=>Jge(t)?t:r=>t.validate(r))}function e2e(e){if(!e)return null;let t=e.filter(bG);return t.length==0?null:function(r){return wG(_G(r,t))}}function xT(e){return e!=null?e2e(SG(e)):null}function t2e(e){if(!e)return null;let t=e.filter(bG);return t.length==0?null:function(r){let i=_G(r,t).map(xG);return Zq(i).pipe(wr(wG))}}function wT(e){return e!=null?t2e(SG(e)):null}function cG(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function n2e(e){return e._rawValidators}function r2e(e){return e._rawAsyncValidators}function gT(e){return e?Array.isArray(e)?e:[e]:[]}function Ty(e,t){return Array.isArray(e)?e.includes(t):e===t}function fG(e,t){let r=gT(t);return gT(e).forEach(o=>{Ty(r,o)||r.push(o)}),r}function dG(e,t){return gT(t).filter(r=>!Ty(e,r))}var Ry=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},pg=class extends Ry{name;get formDirective(){return null}get path(){return null}},hg=class extends Ry{_parent=null;name=null;valueAccessor=null},ky=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},i2e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hZe=_e(A({},i2e),{"[class.ng-submitted]":"isSubmitted"}),CG=(()=>{class e extends ky{constructor(r){super(r)}static \u0275fac=function(i){return new(i||e)(Pn(hg,2))};static \u0275dir=Mr({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&tp("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[br]})}return e})(),EG=(()=>{class e extends ky{constructor(r){super(r)}static \u0275fac=function(i){return new(i||e)(Pn(pg,10))};static \u0275dir=Mr({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&tp("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[br]})}return e})();var i6="VALID",My="INVALID",fg="PENDING",o6="DISABLED",sp=class{},Oy=class extends sp{value;source;constructor(t,r){super(),this.value=t,this.source=r}},s6=class extends sp{pristine;source;constructor(t,r){super(),this.pristine=t,this.source=r}},l6=class extends sp{touched;source;constructor(t,r){super(),this.touched=t,this.source=r}},dg=class extends sp{status;source;constructor(t,r){super(),this.status=t,this.source=r}},vT=class extends sp{source;constructor(t){super(),this.source=t}},yT=class extends sp{source;constructor(t){super(),this.source=t}};function DG(e){return(By(e)?e.validators:e)||null}function o2e(e){return Array.isArray(e)?xT(e):e||null}function AG(e,t){return(By(t)?t.asyncValidators:e)||null}function a2e(e){return Array.isArray(e)?wT(e):e||null}function By(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function s2e(e,t,r){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new hr(1e3,"");if(!i[r])throw new hr(1001,"")}function l2e(e,t,r){e._forEachChild((i,o)=>{if(r[o]===void 0)throw new hr(1002,"")})}var Ny=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,r){this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Qu(this.statusReactive)}set status(t){Qu(()=>this.statusReactive.set(t))}_status=df(()=>this.statusReactive());statusReactive=ea(void 0);get valid(){return this.status===i6}get invalid(){return this.status===My}get pending(){return this.status==fg}get disabled(){return this.status===o6}get enabled(){return this.status!==o6}errors;get pristine(){return Qu(this.pristineReactive)}set pristine(t){Qu(()=>this.pristineReactive.set(t))}_pristine=df(()=>this.pristineReactive());pristineReactive=ea(!0);get dirty(){return!this.pristine}get touched(){return Qu(this.touchedReactive)}set touched(t){Qu(()=>this.touchedReactive.set(t))}_touched=df(()=>this.touchedReactive());touchedReactive=ea(!1);get untouched(){return!this.touched}_events=new Ci;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dG(t,this._rawAsyncValidators))}hasValidator(t){return Ty(this._rawValidators,t)}hasAsyncValidator(t){return Ty(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let r=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(_e(A({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new l6(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),r&&t.emitEvent!==!1&&this._events.next(new l6(!1,i))}markAsDirty(t={}){let r=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(_e(A({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new s6(!1,i))}markAsPristine(t={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&t.emitEvent!==!1&&this._events.next(new s6(!0,i))}markAsPending(t={}){this.status=fg;let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dg(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(_e(A({},t),{sourceControl:r}))}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=o6,this.errors=null,this._forEachChild(o=>{o.disable(_e(A({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Oy(this.value,i)),this._events.next(new dg(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(A({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=i6,this._forEachChild(i=>{i.enable(_e(A({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(_e(A({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===i6||this.status===fg)&&this._runAsyncValidator(i,t.emitEvent)}let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Oy(this.value,r)),this._events.next(new dg(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(_e(A({},t),{sourceControl:r}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?o6:i6}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=fg,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let i=xG(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((i,o)=>i&&i._find(o),this)}getError(t,r){let i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new dg(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}_initObservables(){this.valueChanges=new er,this.statusChanges=new er}_calculateStatus(){return this._allControlsDisabled()?o6:this.errors?My:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fg)?fg:this._anyControlsHaveStatus(My)?My:i6}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),o&&this._events.next(new s6(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new l6(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){By(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=o2e(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=a2e(this._rawAsyncValidators)}},Iy=class extends Ny{constructor(t,r,i){super(DG(r),AG(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,i={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){l2e(this,!0,t),Object.keys(t).forEach(i=>{s2e(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,i)=>(t[i]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,i)=>i._syncPendingControls()?!0:r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{let i=this.controls[r];i&&t(i,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[r,i]of Object.entries(this.controls))if(this.contains(r)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(t,r){let i=t;return this._forEachChild((o,a)=>{i=r(i,o,a)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var $y=new Ln("",{providedIn:"root",factory:()=>Uy}),Uy="always";function u2e(e,t){return[...t.path,e]}function MG(e,t,r=Uy){TG(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),f2e(e,t),p2e(e,t),d2e(e,t),c2e(e,t)}function pG(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function c2e(e,t){if(t.valueAccessor.setDisabledState){let r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function TG(e,t){let r=n2e(e);t.validator!==null?e.setValidators(cG(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let i=r2e(e);t.asyncValidator!==null?e.setAsyncValidators(cG(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let o=()=>e.updateValueAndValidity();pG(t._rawValidators,o),pG(t._rawAsyncValidators,o)}function f2e(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&RG(e,t)})}function d2e(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&RG(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function RG(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function p2e(e,t){let r=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function h2e(e,t){e==null,TG(e,t)}function m2e(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function g2e(e){return Object.getPrototypeOf(e.constructor)===Fy}function v2e(e,t){e._syncPendingControls(),t.forEach(r=>{let i=r.control;i.updateOn==="submit"&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function y2e(e,t){if(!t)return null;Array.isArray(t);let r,i,o;return t.forEach(a=>{a.constructor===Py?r=a:g2e(a)?i=a:o=a}),o||i||r||null}var b2e={provide:pg,useExisting:Qa(()=>_T)},a6=Promise.resolve(),_T=(()=>{class e extends pg{callSetDisabledState;get submitted(){return Qu(this.submittedReactive)}_submitted=df(()=>this.submittedReactive());submittedReactive=ea(!1);_directives=new Set;form;ngSubmit=new er;options;constructor(r,i,o){super(),this.callSetDisabledState=o,this.form=new Iy({},xT(r),wT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){a6.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),MG(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){a6.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){a6.then(()=>{let i=this._findContainer(r.path),o=new Iy({});h2e(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){a6.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){a6.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),v2e(this.form,this._directives),this.ngSubmit.emit(r),this.form._events.next(new vT(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1),this.form._events.next(new yT(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}static \u0275fac=function(i){return new(i||e)(Pn(Ly,10),Pn(yG,10),Pn($y,8))};static \u0275dir=Mr({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&_r("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mi([b2e]),br]})}return e})();function hG(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function mG(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var x2e=class extends Ny{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,r,i){super(DG(r),AG(i,r)),this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),By(r)&&(r.nonNullable||r.initialValueIsDefault)&&(mG(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){mG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var w2e={provide:hg,useExisting:Qa(()=>ST)},gG=Promise.resolve(),ST=(()=>{class e extends hg{_changeDetectorRef;callSetDisabledState;control=new x2e;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new er;constructor(r,i,o,a,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=y2e(this,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),m2e(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){MG(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){gG.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ai(i);gG.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?u2e(r,this._parent):[r]}static \u0275fac=function(i){return new(i||e)(Pn(pg,9),Pn(Ly,10),Pn(yG,10),Pn(Pd,10),Pn(Ku,8),Pn($y,8))};static \u0275dir=Mr({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mi([w2e]),br,Ms]})}return e})();var kG=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Mr({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),_2e={provide:Pd,useExisting:Qa(()=>CT),multi:!0},CT=(()=>{class e extends Fy{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&_r("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[mi([_2e]),br]})}return e})(),S2e={provide:Pd,useExisting:Qa(()=>ET),multi:!0};var C2e=(()=>{class e{_accessors=[];add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ET=(()=>{class e extends Fy{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=ot($y,{optional:!0})??Uy;constructor(r,i,o,a){super(r,i),this._registry=o,this._injector=a}ngOnInit(){this._control=this._injector.get(hg),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||e)(Pn(Yu),Pn(_o),Pn(C2e),Pn(Aa))};static \u0275dir=Mr({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&_r("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[mi([S2e]),br]})}return e})();function OG(e){return typeof e=="number"?e:parseFloat(e)}var NG=(()=>{class e{_validator=uG;_onChange;_enabled;ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uG,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Mr({type:e,features:[Ms]})}return e})(),E2e={provide:Ly,useExisting:Qa(()=>DT),multi:!0},DT=(()=>{class e extends NG{max;inputName="max";normalizeInput=r=>OG(r);createValidator=r=>Zge(r);static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&nr("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[mi([E2e]),br]})}return e})(),D2e={provide:Ly,useExisting:Qa(()=>AT),multi:!0},AT=(()=>{class e extends NG{min;inputName="min";normalizeInput=r=>OG(r);createValidator=r=>Qge(r);static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&nr("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[mi([D2e]),br]})}return e})();var A2e=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({})}return e})();var IG=(()=>{class e{static withConfig(r){return{ngModule:e,providers:[{provide:$y,useValue:r.callSetDisabledState??Uy}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[A2e]})}return e})();var T2e=["*"];var R2e=["dialog"];var FG={animation:!0,transitionTimerDelayMs:5},k2e=(()=>{class e{constructor(){this.animation=FG.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function O2e(e){let{transitionDelay:t,transitionDuration:r}=window.getComputedStyle(e),i=parseFloat(t),o=parseFloat(r);return(i+o)*1e3}function PG(e){return typeof e=="string"}function MT(e){return e!=null}function N2e(e){return e&&e.then}function LG(e){return(e||document.body).getBoundingClientRect()}function I2e(e){return t=>new Xv(r=>{let i=s=>e.run(()=>r.next(s)),o=s=>e.run(()=>r.error(s)),a=()=>e.run(()=>r.complete());return t.subscribe({next:i,error:o,complete:a})})}var F2e=()=>{},{transitionTimerDelayMs:P2e}=FG,zy=new Map,jh=(e,t,r,i)=>{let o=i.context||{},a=zy.get(t);if(a)switch(i.runningTransition){case"continue":return ju;case"stop":e.run(()=>a.transition$.complete()),o=Object.assign(a.context,o),zy.delete(t)}let s=r(t,i.animation,o)||F2e;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),Cn(void 0).pipe(I2e(e));let l=new Ci,u=new Ci,c=l.pipe(tH(!0));zy.set(t,{transition$:l,complete:()=>{u.next(),u.complete()},context:o});let f=O2e(t);return e.runOutsideAngular(()=>{let d=wd(t,"transitionend").pipe(As(c),Es(({target:m})=>m===t)),p=eH(f+P2e).pipe(As(c));Jq(p,d,u).pipe(As(c)).subscribe(()=>{zy.delete(t),e.run(()=>{s(),l.next(),l.complete()})})}),l.asObservable()};var BG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var $G=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var UG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})(),zG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var JZe=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var L2e=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function VG(e){let t=Array.from(e.querySelectorAll(L2e)).filter(r=>r.tabIndex!==-1);return[t[0],t[t.length-1]]}var B2e=(e,t,r,i=!1)=>{e.runOutsideAngular(()=>{let o=wd(t,"focusin").pipe(As(r),wr(a=>a.target));wd(t,"keydown").pipe(As(r),Es(a=>a.key==="Tab"),VM(o)).subscribe(([a,s])=>{let[l,u]=VG(t);(s===l||s===t)&&a.shiftKey&&(u.focus(),a.preventDefault()),s===u&&!a.shiftKey&&(l.focus(),a.preventDefault())}),i&&wd(t,"click").pipe(As(r),VM(o),wr(a=>a[1])).subscribe(a=>a.focus())})};var eJe=new Date(1882,10,12),tJe=new Date(2174,10,25);var nJe=1e3*60*60*24;var kT=1080,$2e=24*kT,U2e=12*kT+793,rJe=29*$2e+U2e,iJe=11*kT+204;var qG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var HG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})(),z2e=(()=>{class e{constructor(){this._ngbConfig=ot(k2e),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(r){this._animation=r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mg=class{constructor(t,r,i){this.nodes=t,this.viewRef=r,this.componentRef=i}};var V2e=(()=>{class e{constructor(){this._document=ot(Nr)}hide(){let r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:a,paddingRight:s}=o;if(r>0){let l=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${l+r}px`}return o.overflow="hidden",()=>{r>0&&(o.paddingRight=s),o.overflow=a}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q2e=(()=>{class e{constructor(){this._nativeElement=ot(_o).nativeElement,this._zone=ot(Hi),this._injector=ot(Aa)}ngOnInit(){$3({mixedReadWrite:()=>jh(this._zone,this._nativeElement,(r,i)=>{i&&LG(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return jh(this._zone,this._nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=hi({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){i&2&&(eo("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),tp("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,o){},encapsulation:2})}}return e})(),Vy=class{update(t){}close(t){}dismiss(t){}},H2e=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],G2e=["animation","backdropClass"],TT=class{_applyWindowOptions(t,r){H2e.forEach(i=>{MT(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){G2e.forEach(i=>{MT(r[i])&&(t[i]=r[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(As(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(As(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,r,i,o){this._windowCmptRef=t,this._contentRef=r,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Ci,this._dismissed=new Ci,this._hidden=new Ci,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,s)=>{this._resolve=a,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let r=this._beforeDismiss();N2e(r)?r.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):r!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Cn(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Kv(t,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},RT=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(RT||{}),j2e=(()=>{class e{constructor(){this._document=ot(Nr),this._elRef=ot(_o),this._zone=ot(Hi),this._injector=ot(Aa),this._closed$=new Ci,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new er,this.shown=new Ci,this.hidden=new Ci}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":PG(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,$3({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:r}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=jh(this._zone,r,()=>r.classList.remove("show"),i),a=jh(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Kv(o,a);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let r={animation:this.animation,runningTransition:"continue"},i=jh(this._zone,this._elRef.nativeElement,(a,s)=>{s&&LG(a),a.classList.add("show")},r),o=jh(this._zone,this._dialogEl.nativeElement,()=>{},r);Kv(i,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{wd(r,"keydown").pipe(As(this._closed$),Es(o=>o.key==="Escape")).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(RT.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;wd(this._dialogEl.nativeElement,"mousedown").pipe(As(this._closed$),Jo(()=>i=!1),Ds(()=>wd(r,"mouseup").pipe(As(this._closed$),Sd(1))),Es(({target:o})=>r===o)).subscribe(()=>{i=!0}),wd(r,"click").pipe(As(this._closed$)).subscribe(({target:o})=>{r===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(RT.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){let i=r.querySelector("[ngbAutofocus]"),o=VG(r)[0];(i||o||r).focus()}}_restoreFocus(){let r=this._document.body,i=this._elWithFocus,o;i&&i.focus&&r.contains(i)?o=i:o=r,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&jh(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=hi({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(i&1&&Ni(R2e,7),i&2){let a;dr(a=pr())&&(o._dialogEl=a.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,o){i&2&&(nr("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy)("role",o.role),eo("modal d-block"+(o.windowClass?" "+o.windowClass:"")),tp("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:T2e,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,o){i&1&&(Ad(),Ht(0,"div",1,0)(2,"div",2),Md(3),en()()),i&2&&eo("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),W2e=(()=>{class e{constructor(){this._applicationRef=ot(iy),this._injector=ot(Aa),this._environmentInjector=ot(Wu),this._document=ot(Nr),this._scrollBar=ot(V2e),this._activeWindowCmptHasChanged=new Ci,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new er;let r=ot(Hi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];B2e(r,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,i,o){let a=o.container instanceof HTMLElement?o.container:MT(o.container)?this._document.querySelector(o.container):this._document.body;if(!a)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new Vy;r=o.injector||r;let l=r.get(Wu,null)||this._environmentInjector,u=this._getContentRef(r,l,i,s,o),c=o.backdrop!==!1?this._attachBackdrop(a):void 0,f=this._attachWindowComponent(a,u.nodes),d=new TT(f,u,c,o.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.hidden.pipe(Sd(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=p=>{d.close(p)},s.dismiss=p=>{d.dismiss(p)},s.update=p=>{d.update(p)},d.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(i=>i.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let i=sy(q2e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),r.appendChild(i.location.nativeElement),i}_attachWindowComponent(r,i){let o=sy(j2e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),r.appendChild(o.location.nativeElement),o}_getContentRef(r,i,o,a,s){return o?o instanceof Cd?this._createFromTemplateRef(o,a):PG(o)?this._createFromString(o):this._createFromComponent(r,i,o,a,s):new mg([])}_createFromTemplateRef(r,i){let o={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},a=r.createEmbeddedView(o);return this._applicationRef.attachView(a),new mg([a.rootNodes],a)}_createFromString(r){let i=this._document.createTextNode(`${r}`);return new mg([[i]])}_createFromComponent(r,i,o,a,s){let l=Aa.create({providers:[{provide:Vy,useValue:a}],parent:r}),u=sy(o,{environmentInjector:i,elementInjector:l}),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new mg([[c]],u.hostView,u)}_setAriaHidden(r){let i=r.parentElement;i&&r!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==r&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,i)=>{r?i.setAttribute("aria-hidden",r):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){let i=()=>{let o=this._modalRefs.indexOf(r);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(i,i)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{let i=this._windowCmpts.indexOf(r);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Y2e=(()=>{class e{constructor(){this._injector=ot(Aa),this._modalStack=ot(W2e),this._config=ot(z2e)}open(r,i={}){let o=A(_e(A({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,r,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),GG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({providers:[Y2e]})}}return e})();var jG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var WG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var YG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var XG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var KG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var QG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var ZG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var JG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var ej=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var oJe=new Ln("live announcer delay",{providedIn:"root",factory:()=>100});var tj=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})();var nj=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({})}}return e})(),X2e=[BG,$G,UG,zG,qG,HG,GG,jG,nj,WG,YG,XG,KG,QG,ZG,JG,ej,tj],rj=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=In({type:e})}static{this.\u0275inj=Nn({imports:[X2e,BG,$G,UG,zG,qG,HG,GG,jG,nj,WG,YG,XG,KG,QG,ZG,JG,ej,tj]})}}return e})();function Ju(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}function lp(e,t){if(e&&t){let r=i=>{Ju(e,i)||(e.classList?e.classList.add(i):e.className+=" "+i)};[t].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(r))}}function qy(e){for(let t of document?.styleSheets)try{for(let r of t?.cssRules)for(let i of r?.style)if(e.test(i))return{name:i,value:r.style.getPropertyValue(i).trim()}}catch{}return null}function hf(e,t){if(e&&t){let r=i=>{e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(r))}}function ij(e){let t={width:0,height:0};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}function gg(){let e=window,t=document,r=t.documentElement,i=t.getElementsByTagName("body")[0],o=e.innerWidth||r.clientWidth||i.clientWidth,a=e.innerHeight||r.clientHeight||i.clientHeight;return{width:o,height:a}}function NT(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}function IT(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}function oj(e,t,r=!0){var i,o,a,s;if(e){let l=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:ij(e),u=l.height,c=l.width,f=t.offsetHeight,d=t.offsetWidth,p=t.getBoundingClientRect(),m=IT(),g=NT(),v=gg(),b,_,D="top";p.top+f+u>v.height?(b=p.top+m-u,D="bottom",b<0&&(b=m)):b=f+p.top+m,p.left+c>v.width?_=Math.max(0,p.left+g+d-c):_=p.left+g,e.style.top=b+"px",e.style.left=_+"px",e.style.transformOrigin=D,r&&(e.style.marginTop=D==="bottom"?`calc(${(o=(i=qy(/-anchor-gutter$/))==null?void 0:i.value)!=null?o:"2px"} * -1)`:(s=(a=qy(/-anchor-gutter$/))==null?void 0:a.value)!=null?s:"")}}function K2e(e,t){e&&(typeof t=="string"?e.style.cssText=t:Object.entries(t||{}).forEach(([r,i])=>e.style[r]=i))}function Ma(e,t){if(e instanceof HTMLElement){let r=e.offsetWidth;if(t){let i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0}function aj(e,t,r=!0){var i,o,a,s;if(e){let l=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:ij(e),u=t.offsetHeight,c=t.getBoundingClientRect(),f=gg(),d,p,m="top";c.top+u+l.height>f.height?(d=-1*l.height,m="bottom",c.top+d<0&&(d=-1*c.top)):d=u,l.width>f.width?p=c.left*-1:c.left+l.width>f.width?p=(c.left+l.width-f.width)*-1:p=0,e.style.top=d+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?`calc(${(o=(i=qy(/-anchor-gutter$/))==null?void 0:i.value)!=null?o:"2px"} * -1)`:(s=(a=qy(/-anchor-gutter$/))==null?void 0:a.value)!=null?s:"")}}function Hy(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}function FT(e){let t=e;return e&&typeof e=="object"&&(e.hasOwnProperty("current")?t=e.current:e.hasOwnProperty("el")&&(e.el.hasOwnProperty("nativeElement")?t=e.el.nativeElement:t=e.el)),Hy(t)?t:void 0}function u6(e,t){let r=FT(e);if(r)r.appendChild(t);else throw new Error("Cannot append "+t+" to "+e)}var OT=void 0;function sj(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(OT!=null)return OT;let t=document.createElement("div");K2e(t,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(t);let r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),OT=r,r}}function PT(e,t={}){if(Hy(e)){let r=(i,o)=>{var a,s;let l=(a=e?.$attrs)!=null&&a[i]?[(s=e?.$attrs)==null?void 0:s[i]]:[];return[o].flat().reduce((u,c)=>{if(c!=null){let f=typeof c;if(f==="string"||f==="number")u.push(c);else if(f==="object"){let d=Array.isArray(c)?r(i,c):Object.entries(c).map(([p,m])=>i==="style"&&(m||m===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?p:void 0);u=d.length?u.concat(d.filter(p=>!!p)):u}}return u},l)};Object.entries(t).forEach(([i,o])=>{if(o!=null){let a=i.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),o):i==="p-bind"||i==="pBind"?PT(e,o):(o=i==="class"?[...new Set(r("class",o))].join(" ").trim():i==="style"?r("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[i]=o),e.setAttribute(i,o))}})}}function lj(e,t){if(e){e.style.opacity="0";let r=+new Date,i="0",o=function(){i=`${+e.style.opacity+(new Date().getTime()-r)/t}`,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}}function c6(e,t){return Hy(e)?e.matches(t)?e:e.querySelector(t):null}function Wh(e,t){e&&document.activeElement!==e&&e.focus(t)}function f6(e){if(e){let t=e.offsetHeight,r=getComputedStyle(e);return t-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),t}return 0}function uj(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}function Q2e(e){if(e){let t=e.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function Gy(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function Os(e,t){if(e){let r=e.offsetHeight;if(t){let i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0}function Z2e(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&Q2e(e))}function cj(e,t){var r;if(e)switch(e){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return(r=t?.parentElement)==null?void 0:r.parentElement;default:if(typeof e=="string")return document.querySelector(e);let o=FT((a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e);return o?.nodeType===9||Z2e(o)?o:void 0}}function d6(e){if(e){let t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),t}return 0}function fj(e){return e?getComputedStyle(e).direction==="rtl":!1}function Yh(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function dj(e){var t;e&&("remove"in Element.prototype?e.remove():(t=e.parentNode)==null||t.removeChild(e))}function pj(e,t){let r=FT(e);if(r)r.removeChild(t);else throw new Error("Cannot remove "+t+" from "+e)}function hj(e,t="",r){Hy(e)&&r!==null&&r!==void 0&&e.setAttribute(t,r)}function mj(){let e=new Map;return{on(t,r){let i=e.get(t);return i?i.push(r):i=[r],e.set(t,i),this},off(t,r){let i=e.get(t);return i&&i.splice(i.indexOf(r)>>>0,1),this},emit(t,r){let i=e.get(t);i&&i.slice().map(o=>{o(r)})},clear(){e.clear()}}}function ec(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0}function LT(e,t,r=new WeakSet){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object"||r.has(e)||r.has(t))return!1;r.add(e).add(t);let i=Array.isArray(e),o=Array.isArray(t),a,s,l;if(i&&o){if(s=e.length,s!=t.length)return!1;for(a=s;a--!==0;)if(!LT(e[a],t[a],r))return!1;return!0}if(i!=o)return!1;let u=e instanceof Date,c=t instanceof Date;if(u!=c)return!1;if(u&&c)return e.getTime()==t.getTime();let f=e instanceof RegExp,d=t instanceof RegExp;if(f!=d)return!1;if(f&&d)return e.toString()==t.toString();let p=Object.keys(e);if(s=p.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,p[a]))return!1;for(a=s;a--!==0;)if(l=p[a],!LT(e[l],t[l],r))return!1;return!0}function J2e(e,t){return LT(e,t)}function vj(e){return!!(e&&e.constructor&&e.call&&e.apply)}function mr(e){return!ec(e)}function Vl(e,t){if(!e||!t)return null;try{let r=e[t];if(mr(r))return r}catch{}if(Object.keys(e).length){if(vj(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let r=t.split("."),i=e;for(let o=0,a=r.length;o<a;++o){if(i==null)return null;i=i[r[o]]}return i}}return null}function jy(e,t,r){return r?Vl(e,r)===Vl(t,r):J2e(e,t)}function BT(e,t){let r=-1;if(mr(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}function Ld(e,t=!0){return e instanceof Object&&e.constructor===Object&&(t||Object.keys(e).length!==0)}function hu(e,...t){return vj(e)?e(...t):e}function up(e,t=!0){return typeof e=="string"&&(t||e!=="")}function gj(e){return up(e)?e.replace(/(-|_)/g,"").toLowerCase():e}function Wy(e,t="",r={}){let i=gj(t).split("."),o=i.shift();return o?Ld(e)?Wy(hu(e[Object.keys(e).find(a=>gj(a)===o)||""],r),i.join("."),r):void 0:hu(e,r)}function Yy(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}function yj(e){return mr(e)&&!isNaN(e)}function bj(e=""){return mr(e)&&e.length===1&&!!e.match(/\S| /)}function ql(e,t){if(t){let r=t.test(e);return t.lastIndex=0,r}return!1}function Xh(e){return e&&e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Xy(e){return up(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,(t,r)=>r===0?t:"-"+t.toLowerCase()).toLowerCase():e}function $T(e){return up(e)?e.replace(/[A-Z]/g,(t,r)=>r===0?t:"."+t.toLowerCase()).toLowerCase():e}var Ky={};function vg(e="pui_id_"){return Ky.hasOwnProperty(e)||(Ky[e]=0),Ky[e]++,`${e}${Ky[e]}`}function e5e(){let e=[],t=(s,l,u=999)=>{let c=o(s,l,u),f=c.value+(c.key===s?0:u)+1;return e.push({key:s,value:f}),f},r=s=>{e=e.filter(l=>l.value!==s)},i=(s,l)=>o(s,l).value,o=(s,l,u=0)=>[...e].reverse().find(c=>l?!0:c.key===s)||{key:s,value:u},a=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:a,set:(s,l,u)=>{l&&(l.style.zIndex=String(t(s,!0,u)))},clear:s=>{s&&(r(a(s)),s.style.zIndex="")},getCurrent:s=>i(s,!0)}}var hJe=e5e();var Ta=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return e})();var yg=(()=>{class e{clickSource=new Ci;clickObservable=this.clickSource.asObservable();add(r){r&&this.clickSource.next(r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cp=(()=>{class e{template;type;name;constructor(r){this.template=r}getType(){return this.name}static \u0275fac=function(i){return new(i||e)(Pn(Cd))};static \u0275dir=Mr({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return e})(),Ns=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[Rs]})}return e})(),p6=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return e})();var t5e=Object.defineProperty,n5e=Object.defineProperties,r5e=Object.getOwnPropertyDescriptors,Zy=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Sj=Object.prototype.propertyIsEnumerable,xj=(e,t,r)=>t in e?t5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nc=(e,t)=>{for(var r in t||(t={}))_j.call(t,r)&&xj(e,r,t[r]);if(Zy)for(var r of Zy(t))Sj.call(t,r)&&xj(e,r,t[r]);return e},UT=(e,t)=>n5e(e,r5e(t)),Bd=(e,t)=>{var r={};for(var i in e)_j.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Zy)for(var i of Zy(e))t.indexOf(i)<0&&Sj.call(e,i)&&(r[i]=e[i]);return r};var i5e=mj(),Hl=i5e;function wj(e,t){Yy(e)?e.push(...t||[]):Ld(e)&&Object.assign(e,t)}function o5e(e){return Ld(e)&&e.hasOwnProperty("value")&&e.hasOwnProperty("type")?e.value:e}function a5e(e){return e.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function zT(e="",t=""){return a5e(`${up(e,!1)&&up(t,!1)?`${e}-`:e}${t}`)}function Cj(e="",t=""){return`--${zT(e,t)}`}function s5e(e=""){let t=(e.match(/{/g)||[]).length,r=(e.match(/}/g)||[]).length;return(t+r)%2!==0}function Ej(e,t="",r="",i=[],o){if(up(e)){let a=/{([^}]*)}/g,s=e.trim();if(s5e(s))return;if(ql(s,a)){let l=s.replaceAll(a,f=>{let p=f.replace(/{|}/g,"").split(".").filter(m=>!i.some(g=>ql(m,g)));return`var(${Cj(r,Xy(p.join("-")))}${mr(o)?`, ${o}`:""})`}),u=/(\d+\s+[\+\-\*\/]\s+\d+)/g,c=/var\([^)]+\)/g;return ql(l.replace(c,"0"),u)?`calc(${l})`:l}return s}else if(yj(e))return e}function l5e(e,t,r){up(t,!1)&&e.push(`${t}:${r};`)}function bg(e,t){return e?`${e}{${t}}`:""}var xg=(...e)=>u5e(bi.getTheme(),...e),u5e=(e={},t,r,i)=>{if(t){let{variable:o,options:a}=bi.defaults||{},{prefix:s,transform:l}=e?.options||a||{},c=ql(t,/{([^}]*)}/g)?t:`{${t}}`;return i==="value"||ec(i)&&l==="strict"?bi.getTokenValue(t):Ej(c,void 0,s,[o.excludedKeyRegex],r)}return""};function c5e(e,t={}){let r=bi.defaults.variable,{prefix:i=r.prefix,selector:o=r.selector,excludedKeyRegex:a=r.excludedKeyRegex}=t,s=(c,f="")=>Object.entries(c).reduce((d,[p,m])=>{let g=ql(p,a)?zT(f):zT(f,Xy(p)),v=o5e(m);if(Ld(v)){let{variables:b,tokens:_}=s(v,g);wj(d.tokens,_),wj(d.variables,b)}else d.tokens.push((i?g.replace(`${i}-`,""):g).replaceAll("-",".")),l5e(d.variables,Cj(g),Ej(v,g,i,[a]));return d},{variables:[],tokens:[]}),{variables:l,tokens:u}=s(e,i);return{value:l,tokens:u,declarations:l.join(""),css:bg(o,l.join(""))}}var tc={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(e){return{type:"class",selector:e,matched:this.pattern.test(e.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(e){return{type:"attr",selector:`:root${e}`,matched:this.pattern.test(e.trim())}}},media:{pattern:/^@media (.*)$/,resolve(e){return{type:"media",selector:`${e}{:root{[CSS]}}`,matched:this.pattern.test(e.trim())}}},system:{pattern:/^system$/,resolve(e){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(e.trim())}}},custom:{resolve(e){return{type:"custom",selector:e,matched:!0}}}},resolve(e){let t=Object.keys(this.rules).filter(r=>r!=="custom").map(r=>this.rules[r]);return[e].flat().map(r=>{var i;return(i=t.map(o=>o.resolve(r)).find(o=>o.matched))!=null?i:this.rules.custom.resolve(r)})}},_toVariables(e,t){return c5e(e,{prefix:t?.prefix})},getCommon({name:e="",theme:t={},params:r,set:i,defaults:o}){var a,s,l,u,c,f,d;let{preset:p,options:m}=t,g,v,b,_,D,T,N;if(mr(p)&&m.transform!=="strict"){let{primitive:z,semantic:j,extend:B}=p,U=j||{},{colorScheme:x}=U,w=Bd(U,["colorScheme"]),C=B||{},{colorScheme:k}=C,F=Bd(C,["colorScheme"]),I=x||{},{dark:R}=I,$=Bd(I,["dark"]),Y=k||{},{dark:re}=Y,ne=Bd(Y,["dark"]),he=mr(z)?this._toVariables({primitive:z},m):{},ge=mr(w)?this._toVariables({semantic:w},m):{},Me=mr($)?this._toVariables({light:$},m):{},be=mr(R)?this._toVariables({dark:R},m):{},ut=mr(F)?this._toVariables({semantic:F},m):{},Pe=mr(ne)?this._toVariables({light:ne},m):{},Mt=mr(re)?this._toVariables({dark:re},m):{},[Vt,nn]=[(a=he.declarations)!=null?a:"",he.tokens],[xe,qe]=[(s=ge.declarations)!=null?s:"",ge.tokens||[]],[Ge,pe]=[(l=Me.declarations)!=null?l:"",Me.tokens||[]],[Zt,lt]=[(u=be.declarations)!=null?u:"",be.tokens||[]],[oe,le]=[(c=ut.declarations)!=null?c:"",ut.tokens||[]],[we,ue]=[(f=Pe.declarations)!=null?f:"",Pe.tokens||[]],[Ne,et]=[(d=Mt.declarations)!=null?d:"",Mt.tokens||[]];g=this.transformCSS(e,Vt,"light","variable",m,i,o),v=nn;let Fe=this.transformCSS(e,`${xe}${Ge}`,"light","variable",m,i,o),fe=this.transformCSS(e,`${Zt}`,"dark","variable",m,i,o);b=`${Fe}${fe}`,_=[...new Set([...qe,...pe,...lt])];let L=this.transformCSS(e,`${oe}${we}color-scheme:light`,"light","variable",m,i,o),J=this.transformCSS(e,`${Ne}color-scheme:dark`,"dark","variable",m,i,o);D=`${L}${J}`,T=[...new Set([...le,...ue,...et])],N=hu(p.css,{dt:xg})}return{primitive:{css:g,tokens:v},semantic:{css:b,tokens:_},global:{css:D,tokens:T},style:N}},getPreset({name:e="",preset:t={},options:r,params:i,set:o,defaults:a,selector:s}){var l,u,c;let f,d,p;if(mr(t)&&r.transform!=="strict"){let m=e.replace("-directive",""),g=t,{colorScheme:v,extend:b,css:_}=g,D=Bd(g,["colorScheme","extend","css"]),T=b||{},{colorScheme:N}=T,z=Bd(T,["colorScheme"]),j=v||{},{dark:B}=j,U=Bd(j,["dark"]),x=N||{},{dark:w}=x,C=Bd(x,["dark"]),k=mr(D)?this._toVariables({[m]:nc(nc({},D),z)},r):{},F=mr(U)?this._toVariables({[m]:nc(nc({},U),C)},r):{},I=mr(B)?this._toVariables({[m]:nc(nc({},B),w)},r):{},[R,$]=[(l=k.declarations)!=null?l:"",k.tokens||[]],[Y,re]=[(u=F.declarations)!=null?u:"",F.tokens||[]],[ne,he]=[(c=I.declarations)!=null?c:"",I.tokens||[]],ge=this.transformCSS(m,`${R}${Y}`,"light","variable",r,o,a,s),Me=this.transformCSS(m,ne,"dark","variable",r,o,a,s);f=`${ge}${Me}`,d=[...new Set([...$,...re,...he])],p=hu(_,{dt:xg})}return{css:f,tokens:d,style:p}},getPresetC({name:e="",theme:t={},params:r,set:i,defaults:o}){var a;let{preset:s,options:l}=t,u=(a=s?.components)==null?void 0:a[e];return this.getPreset({name:e,preset:u,options:l,params:r,set:i,defaults:o})},getPresetD({name:e="",theme:t={},params:r,set:i,defaults:o}){var a;let s=e.replace("-directive",""),{preset:l,options:u}=t,c=(a=l?.directives)==null?void 0:a[s];return this.getPreset({name:s,preset:c,options:u,params:r,set:i,defaults:o})},applyDarkColorScheme(e){return!(e.darkModeSelector==="none"||e.darkModeSelector===!1)},getColorSchemeOption(e,t){var r;return this.applyDarkColorScheme(e)?this.regex.resolve(e.darkModeSelector===!0?t.options.darkModeSelector:(r=e.darkModeSelector)!=null?r:t.options.darkModeSelector):[]},getLayerOrder(e,t={},r,i){let{cssLayer:o}=t;return o?`@layer ${hu(o.order||"primeui",r)}`:""},getCommonStyleSheet({name:e="",theme:t={},params:r,props:i={},set:o,defaults:a}){let s=this.getCommon({name:e,theme:t,params:r,set:o,defaults:a}),l=Object.entries(i).reduce((u,[c,f])=>u.push(`${c}="${f}"`)&&u,[]).join(" ");return Object.entries(s||{}).reduce((u,[c,f])=>{if(f?.css){let d=Xh(f?.css),p=`${c}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${p}" ${l}>${d}</style>`)}return u},[]).join("")},getStyleSheet({name:e="",theme:t={},params:r,props:i={},set:o,defaults:a}){var s;let l={name:e,theme:t,params:r,set:o,defaults:a},u=(s=e.includes("-directive")?this.getPresetD(l):this.getPresetC(l))==null?void 0:s.css,c=Object.entries(i).reduce((f,[d,p])=>f.push(`${d}="${p}"`)&&f,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${e}-variables" ${c}>${Xh(u)}</style>`:""},createTokens(e={},t,r="",i="",o={}){return Object.entries(e).forEach(([a,s])=>{let l=ql(a,t.variable.excludedKeyRegex)?r:r?`${r}.${$T(a)}`:$T(a),u=i?`${i}.${a}`:a;Ld(s)?this.createTokens(s,t,l,u,o):(o[l]||(o[l]={paths:[],computed(c,f={}){var d,p;return this.paths.length===1?(d=this.paths[0])==null?void 0:d.computed(this.paths[0].scheme,f.binding):c&&c!=="none"?(p=this.paths.find(m=>m.scheme===c))==null?void 0:p.computed(c,f.binding):this.paths.map(m=>m.computed(m.scheme,f[m.scheme]))}}),o[l].paths.push({path:u,value:s,scheme:u.includes("colorScheme.light")?"light":u.includes("colorScheme.dark")?"dark":"none",computed(c,f={}){let d=/{([^}]*)}/g,p=s;if(f.name=this.path,f.binding||(f.binding={}),ql(s,d)){let g=s.trim().replaceAll(d,_=>{var D;let T=_.replace(/{|}/g,""),N=(D=o[T])==null?void 0:D.computed(c,f);return Yy(N)&&N.length===2?`light-dark(${N[0].value},${N[1].value})`:N?.value}),v=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,b=/var\([^)]+\)/g;p=ql(g.replace(b,"0"),v)?`calc(${g})`:g}return ec(f.binding)&&delete f.binding,{colorScheme:c,path:this.path,paths:f,value:p.includes("undefined")?void 0:p}}}))}),o},getTokenValue(e,t,r){var i;let a=(u=>u.split(".").filter(f=>!ql(f.toLowerCase(),r.variable.excludedKeyRegex)).join("."))(t),s=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,l=[(i=e[a])==null?void 0:i.computed(s)].flat().filter(u=>u);return l.length===1?l[0].value:l.reduce((u={},c)=>{let f=c,{colorScheme:d}=f,p=Bd(f,["colorScheme"]);return u[d]=p,u},void 0)},getSelectorRule(e,t,r,i){return r==="class"||r==="attr"?bg(mr(t)?`${e}${t},${e} ${t}`:e,i):bg(e,mr(t)?bg(t,i):i)},transformCSS(e,t,r,i,o={},a,s,l){if(mr(t)){let{cssLayer:u}=o;if(i!=="style"){let c=this.getColorSchemeOption(o,s);t=r==="dark"?c.reduce((f,{type:d,selector:p})=>(mr(p)&&(f+=p.includes("[CSS]")?p.replace("[CSS]",t):this.getSelectorRule(p,l,d,t)),f),""):bg(l??":root",t)}if(u){let c={name:"primeui",order:"primeui"};Ld(u)&&(c.name=hu(u.name,{name:e,type:i})),mr(c.name)&&(t=bg(`@layer ${c.name}`,t),a?.layerNames(c.name))}return t}return""}},bi={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(e={}){let{theme:t}=e;t&&(this._theme=UT(nc({},t),{options:nc(nc({},this.defaults.options),t.options)}),this._tokens=tc.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var e;return((e=this.theme)==null?void 0:e.preset)||{}},get options(){var e;return((e=this.theme)==null?void 0:e.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(e){this.update({theme:e}),Hl.emit("theme:change",e)},getPreset(){return this.preset},setPreset(e){this._theme=UT(nc({},this.theme),{preset:e}),this._tokens=tc.createTokens(e,this.defaults),this.clearLoadedStyleNames(),Hl.emit("preset:change",e),Hl.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(e){this._theme=UT(nc({},this.theme),{options:e}),this.clearLoadedStyleNames(),Hl.emit("options:change",e),Hl.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(e){this._layerNames.add(e)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(e){return this._loadedStyleNames.has(e)},setLoadedStyleName(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(e){return tc.getTokenValue(this.tokens,e,this.defaults)},getCommon(e="",t){return tc.getCommon({name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return tc.getPresetC(r)},getDirective(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return tc.getPresetD(r)},getCustomPreset(e="",t,r,i){let o={name:e,preset:t,options:this.options,selector:r,params:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return tc.getPreset(o)},getLayerOrderCSS(e=""){return tc.getLayerOrder(e,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(e="",t,r="style",i){return tc.transformCSS(e,t,i,r,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(e="",t,r={}){return tc.getCommonStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(e,t,r={}){return tc.getStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(e){this._loadingStyles.add(e)},onStyleUpdated(e){this._loadingStyles.add(e)},onStyleLoaded(e,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),Hl.emit(`theme:${t}:load`,e),!this._loadingStyles.size&&Hl.emit("theme:load"))}};var f5e=0,Dj=(()=>{class e{document=ot(Nr);use(r,i={}){let o=!1,a=r,s=null,{immediate:l=!0,manual:u=!1,name:c=`style_${++f5e}`,id:f=void 0,media:d=void 0,nonce:p=void 0,first:m=!1,props:g={}}=i;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${c}"]`)||f&&this.document.getElementById(f)||this.document.createElement("style"),!s.isConnected){a=r,PT(s,{type:"text/css",media:d,nonce:p});let v=this.document.head;m&&v.firstChild?v.insertBefore(s,v.firstChild):v.appendChild(s),hj(s,"data-primeng-style-id",c)}return s.textContent!==a&&(s.textContent=a),{id:f,name:c,el:s,css:a}}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wg={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(e){return this._loadedStyleNames.has(e)},setLoadedStyleName(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},d5e=({dt:e})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${e("disabled.opacity")};
}

.pi {
    font-size: ${e("icon.size")};
}

.p-icon {
    width: ${e("icon.size")};
    height: ${e("icon.size")};
}

.p-unselectable-text {
    user-select: none;
}

.p-overlay-mask {
    background: ${e("mask.background")};
    color: ${e("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${e("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${e("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${e("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${e("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,p5e=({dt:e})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${e("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,So=(()=>{class e{name="base";useStyle=ot(Dj);theme=void 0;css=void 0;classes={};inlineStyles={};load=(r,i={},o=a=>a)=>{let a=o(hu(r,{dt:xg}));return a?this.useStyle.use(Xh(a),A({name:this.name},i)):{}};loadCSS=(r={})=>this.load(this.css,r);loadTheme=(r={},i="")=>this.load(this.theme,r,(o="")=>bi.transformCSS(r.name||this.name,`${o}${i}`));loadGlobalCSS=(r={})=>this.load(p5e,r);loadGlobalTheme=(r={},i="")=>this.load(d5e,r,(o="")=>bi.transformCSS(r.name||this.name,`${o}${i}`));getCommonTheme=r=>bi.getCommon(this.name,r);getComponentTheme=r=>bi.getComponent(this.name,r);getDirectiveTheme=r=>bi.getDirective(this.name,r);getPresetTheme=(r,i,o)=>bi.getCustomPreset(this.name,r,i,o);getLayerOrderThemeCSS=()=>bi.getLayerOrderCSS(this.name);getStyleSheet=(r="",i={})=>{if(this.css){let o=hu(this.css,{dt:xg}),a=Xh(`${o}${r}`),s=Object.entries(i).reduce((l,[u,c])=>l.push(`${u}="${c}"`)&&l,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${a}</style>`}return""};getCommonThemeStyleSheet=(r,i={})=>bi.getCommonStyleSheet(this.name,r,i);getThemeStyleSheet=(r,i={})=>{let o=[bi.getStyleSheet(this.name,r,i)];if(this.theme){let a=this.name==="base"?"global-style":`${this.name}-style`,s=hu(this.theme,{dt:xg}),l=Xh(bi.transformCSS(a,s)),u=Object.entries(i).reduce((c,[f,d])=>c.push(`${f}="${d}"`)&&c,[]).join(" ");o.push(`<style type="text/css" data-primeng-style-id="${a}" ${u}>${l}</style>`)}return o.join("")};static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var h5e=(()=>{class e{theme=ea(void 0);csp=ea({nonce:void 0});isThemeChanged=!1;document=ot(Nr);baseStyle=ot(So);constructor(){Uh(()=>{Hl.on("theme:change",r=>{Qu(()=>{this.isThemeChanged=!0,this.theme.set(r)})})}),Uh(()=>{let r=this.theme();this.document&&r&&(this.isThemeChanged||this.onThemeChange(r),this.isThemeChanged=!1)})}ngOnDestroy(){bi.clearLoadedStyleNames(),Hl.clear()}onThemeChange(r){bi.setTheme(r),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!bi.isStyleNameLoaded("common")){let{primitive:r,semantic:i,global:o,style:a}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(r?.css,A({name:"primitive-variables"},s)),this.baseStyle.load(i?.css,A({name:"semantic-variables"},s)),this.baseStyle.load(o?.css,A({name:"global-variables"},s)),this.baseStyle.loadGlobalTheme(A({name:"global-style"},s),a),bi.setLoadedStyleName("common")}}setThemeConfig(r){let{theme:i,csp:o}=r||{};i&&this.theme.set(i),o&&this.csp.set(o)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qT=(()=>{class e extends h5e{ripple=ea(!1);platformId=ot($l);inputStyle=ea(null);inputVariant=ea(null);overlayOptions={};csp=ea({nonce:void 0});filterMatchModeOptions={text:[Ta.STARTS_WITH,Ta.CONTAINS,Ta.NOT_CONTAINS,Ta.ENDS_WITH,Ta.EQUALS,Ta.NOT_EQUALS],numeric:[Ta.EQUALS,Ta.NOT_EQUALS,Ta.LESS_THAN,Ta.LESS_THAN_OR_EQUAL_TO,Ta.GREATER_THAN,Ta.GREATER_THAN_OR_EQUAL_TO],date:[Ta.DATE_IS,Ta.DATE_IS_NOT,Ta.DATE_BEFORE,Ta.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ci;translationObserver=this.translationSource.asObservable();getTranslation(r){return this.translation[r]}setTranslation(r){this.translation=A(A({},this.translation),r),this.translationSource.next(this.translation)}setConfig(r){let{csp:i,ripple:o,inputStyle:a,inputVariant:s,theme:l,overlayOptions:u,translation:c,filterMatchModeOptions:f}=r||{};i&&this.csp.set(i),o&&this.ripple.set(o),a&&this.inputStyle.set(a),s&&this.inputVariant.set(s),u&&(this.overlayOptions=u),c&&this.setTranslation(c),f&&(this.filterMatchModeOptions=f),l&&this.setThemeConfig({theme:l,csp:i})}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m5e=new Ln("PRIME_NG_CONFIG");function Aj(...e){let t=e?.map(i=>({provide:m5e,useValue:i,multi:!1})),r=V3(()=>{let i=ot(qT);e?.forEach(o=>i.setConfig(o))});return Lh([...t,r])}var Mj=(()=>{class e extends So{name="common";static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),na=(()=>{class e{document=ot(Nr);platformId=ot($l);el=ot(_o);injector=ot(Aa);cd=ot(Ku);renderer=ot(Yu);config=ot(qT);baseComponentStyle=ot(Mj);baseStyle=ot(So);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=vg("pc");themeChangeListeners=[];_getHostInstance(r){if(r)return r?this.hostName?r.name===this.hostName?r:this._getHostInstance(r.parentInstance):r.parentInstance:void 0}_getOptionValue(r,i="",o={}){return Wy(r,i,o)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(r){if(this.document&&!sg(this.platformId)){let{dt:i}=r;i&&i.currentValue&&(this._loadScopedThemeStyles(i.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(i.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(r=>Hl.off("theme:change",r))}_loadStyles(){let r=()=>{wg.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),wg.setLoadedStyleName("base")),this._loadThemeStyles()};r(),this._themeChangeListener(()=>r())}_loadCoreStyles(){!wg.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),wg.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!bi.isStyleNameLoaded("common")){let{primitive:r,semantic:i,global:o,style:a}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(r?.css,A({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(i?.css,A({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(o?.css,A({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(A({name:"global-style"},this.styleOptions),a),bi.setLoadedStyleName("common")}if(!bi.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:r,style:i}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(r,A({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(A({name:`${this.componentStyle?.name}-style`},this.styleOptions),i),bi.setLoadedStyleName(this.componentStyle?.name)}if(!bi.isStyleNameLoaded("layer-order")){let r=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(r,A({name:"layer-order",first:!0},this.styleOptions)),bi.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(r){let{css:i}=this.componentStyle?.getPresetTheme?.(r,`[${this.attrSelector}]`)||{},o=this.componentStyle?.load(i,A({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=o?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(r=()=>{}){wg.clearLoadedStyleNames(),Hl.on("theme:change",r),this.themeChangeListeners.push(r)}cx(r,i){let o=this.parent?this.parent.componentStyle?.classes?.[r]:this.componentStyle?.classes?.[r];return typeof o=="function"?o({instance:this}):typeof o=="string"?o:r}sx(r){let i=this.componentStyle?.inlineStyles?.[r];return typeof i=="function"?i({instance:this}):typeof i=="string"?i:A({},i)}get parent(){return this.parentInstance}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Mr({type:e,inputs:{dt:"dt"},features:[mi([Mj,So]),Ms]})}return e})();var dp=(()=>{class e{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(r,i){r&&i&&(r.classList?r.classList.add(i):r.className+=" "+i)}static addMultipleClasses(r,i){if(r&&i)if(r.classList){let o=i.trim().split(" ");for(let a=0;a<o.length;a++)r.classList.add(o[a])}else{let o=i.split(" ");for(let a=0;a<o.length;a++)r.className+=" "+o[a]}}static removeClass(r,i){r&&i&&(r.classList?r.classList.remove(i):r.className=r.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(r,i){r&&i&&[i].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(a=>this.removeClass(r,a)))}static hasClass(r,i){return r&&i?r.classList?r.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(r.className):!1}static siblings(r){return Array.prototype.filter.call(r.parentNode.children,function(i){return i!==r})}static find(r,i){return Array.from(r.querySelectorAll(i))}static findSingle(r,i){return this.isElement(r)?r.querySelector(i):null}static index(r){let i=r.parentNode.childNodes,o=0;for(var a=0;a<i.length;a++){if(i[a]==r)return o;i[a].nodeType==1&&o++}return-1}static indexWithinGroup(r,i){let o=r.parentNode?r.parentNode.childNodes:[],a=0;for(var s=0;s<o.length;s++){if(o[s]==r)return a;o[s].attributes&&o[s].attributes[i]&&o[s].nodeType==1&&a++}return-1}static appendOverlay(r,i,o="self"){o!=="self"&&r&&i&&this.appendChild(r,i)}static alignOverlay(r,i,o="self",a=!0){r&&i&&(a&&(r.style.minWidth=`${e.getOuterWidth(i)}px`),o==="self"?this.relativePosition(r,i):this.absolutePosition(r,i))}static relativePosition(r,i,o=!0){let a=D=>{if(D)return getComputedStyle(D).getPropertyValue("position")==="relative"?D:a(D.parentElement)},s=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),l=i.offsetHeight,u=i.getBoundingClientRect(),c=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),d=this.getViewport(),m=a(r)?.getBoundingClientRect()||{top:-1*c,left:-1*f},g,v;u.top+l+s.height>d.height?(g=u.top-m.top-s.height,r.style.transformOrigin="bottom",u.top+g<0&&(g=-1*u.top)):(g=l+u.top-m.top,r.style.transformOrigin="top");let b=u.left+s.width-d.width,_=u.left-m.left;s.width>d.width?v=(u.left-m.left)*-1:b>0?v=_-b:v=u.left-m.left,r.style.top=g+"px",r.style.left=v+"px",o&&(r.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(r,i,o=!0){let a=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),s=a.height,l=a.width,u=i.offsetHeight,c=i.offsetWidth,f=i.getBoundingClientRect(),d=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),g,v;f.top+u+s>m.height?(g=f.top+d-s,r.style.transformOrigin="bottom",g<0&&(g=d)):(g=u+f.top+d,r.style.transformOrigin="top"),f.left+l>m.width?v=Math.max(0,f.left+p+c-l):v=f.left+p,r.style.top=g+"px",r.style.left=v+"px",o&&(r.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(r,i=[]){return r.parentNode===null?i:this.getParents(r.parentNode,i.concat([r.parentNode]))}static getScrollableParents(r){let i=[];if(r){let o=this.getParents(r),a=/(auto|scroll)/,s=l=>{let u=window.getComputedStyle(l,null);return a.test(u.getPropertyValue("overflow"))||a.test(u.getPropertyValue("overflowX"))||a.test(u.getPropertyValue("overflowY"))};for(let l of o){let u=l.nodeType===1&&l.dataset.scrollselectors;if(u){let c=u.split(",");for(let f of c){let d=this.findSingle(l,f);d&&s(d)&&i.push(d)}}l.nodeType!==9&&s(l)&&i.push(l)}}return i}static getHiddenElementOuterHeight(r){r.style.visibility="hidden",r.style.display="block";let i=r.offsetHeight;return r.style.display="none",r.style.visibility="visible",i}static getHiddenElementOuterWidth(r){r.style.visibility="hidden",r.style.display="block";let i=r.offsetWidth;return r.style.display="none",r.style.visibility="visible",i}static getHiddenElementDimensions(r){let i={};return r.style.visibility="hidden",r.style.display="block",i.width=r.offsetWidth,i.height=r.offsetHeight,r.style.display="none",r.style.visibility="visible",i}static scrollInView(r,i){let o=getComputedStyle(r).getPropertyValue("borderTopWidth"),a=o?parseFloat(o):0,s=getComputedStyle(r).getPropertyValue("paddingTop"),l=s?parseFloat(s):0,u=r.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-a-l,d=r.scrollTop,p=r.clientHeight,m=this.getOuterHeight(i);f<0?r.scrollTop=d+f:f+m>p&&(r.scrollTop=d+f-p+m)}static fadeIn(r,i){r.style.opacity=0;let o=+new Date,a=0,s=function(){a=+r.style.opacity.replace(",",".")+(new Date().getTime()-o)/i,r.style.opacity=a,o=+new Date,+a<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(r,i){var o=1,a=50,s=i,l=a/s;let u=setInterval(()=>{o=o-l,o<=0&&(o=0,clearInterval(u)),r.style.opacity=o},a)}static getWindowScrollTop(){let r=document.documentElement;return(window.pageYOffset||r.scrollTop)-(r.clientTop||0)}static getWindowScrollLeft(){let r=document.documentElement;return(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}static matches(r,i){var o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return a.call(r,i)}static getOuterWidth(r,i){let o=r.offsetWidth;if(i){let a=getComputedStyle(r);o+=parseFloat(a.marginLeft)+parseFloat(a.marginRight)}return o}static getHorizontalPadding(r){let i=getComputedStyle(r);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(r){let i=getComputedStyle(r);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(r){let i=r.offsetWidth,o=getComputedStyle(r);return i+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static width(r){let i=r.offsetWidth,o=getComputedStyle(r);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static getInnerHeight(r){let i=r.offsetHeight,o=getComputedStyle(r);return i+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),i}static getOuterHeight(r,i){let o=r.offsetHeight;if(i){let a=getComputedStyle(r);o+=parseFloat(a.marginTop)+parseFloat(a.marginBottom)}return o}static getHeight(r){let i=r.offsetHeight,o=getComputedStyle(r);return i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),i}static getWidth(r){let i=r.offsetWidth,o=getComputedStyle(r);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),i}static getViewport(){let r=window,i=document,o=i.documentElement,a=i.getElementsByTagName("body")[0],s=r.innerWidth||o.clientWidth||a.clientWidth,l=r.innerHeight||o.clientHeight||a.clientHeight;return{width:s,height:l}}static getOffset(r){var i=r.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(r,i){let o=r.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(i,r)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var r=window.navigator.userAgent,i=r.indexOf("MSIE ");if(i>0)return!0;var o=r.indexOf("Trident/");if(o>0){var a=r.indexOf("rv:");return!0}var s=r.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(r,i){if(this.isElement(i))i.appendChild(r);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(r);else throw"Cannot append "+i+" to "+r}static removeChild(r,i){if(this.isElement(i))i.removeChild(r);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(r);else throw"Cannot remove "+r+" from "+i}static removeElement(r){"remove"in Element.prototype?r.remove():r.parentNode.removeChild(r)}static isElement(r){return typeof HTMLElement=="object"?r instanceof HTMLElement:r&&typeof r=="object"&&r!==null&&r.nodeType===1&&typeof r.nodeName=="string"}static calculateScrollbarWidth(r){if(r){let i=getComputedStyle(r);return r.offsetWidth-r.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let o=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetHeight-r.clientHeight;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(r,i,o){r[i].apply(r,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let r=this.resolveUserAgent();this.browser={},r.browser&&(this.browser[r.browser]=!0,this.browser.version=r.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let r=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(r){return Number.isInteger?Number.isInteger(r):typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}static isHidden(r){return!r||r.offsetParent===null}static isVisible(r){return r&&r.offsetParent!=null}static isExist(r){return r!==null&&typeof r<"u"&&r.nodeName&&r.parentNode}static focus(r,i){r&&document.activeElement!==r&&r.focus(i)}static getFocusableSelectorString(r=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`}static getFocusableElements(r,i=""){let o=this.find(r,this.getFocusableSelectorString(i)),a=[];for(let s of o){let l=getComputedStyle(s);this.isVisible(s)&&l.display!="none"&&l.visibility!="hidden"&&a.push(s)}return a}static getFocusableElement(r,i=""){let o=this.findSingle(r,this.getFocusableSelectorString(i));if(o){let a=getComputedStyle(o);if(this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden")return o}return null}static getFirstFocusableElement(r,i=""){let o=this.getFocusableElements(r,i);return o.length>0?o[0]:null}static getLastFocusableElement(r,i){let o=this.getFocusableElements(r,i);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(r,i=!1){let o=e.getFocusableElements(r),a=0;if(o&&o.length>0){let s=o.indexOf(o[0].ownerDocument.activeElement);i?s==-1||s===0?a=o.length-1:a=s-1:s!=-1&&s!==o.length-1&&(a=s+1)}return o[a]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(r,i){if(!r)return null;switch(r){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let o=typeof r;if(o==="string")return document.querySelector(r);if(o==="object"&&r.hasOwnProperty("nativeElement"))return this.isExist(r.nativeElement)?r.nativeElement:void 0;let s=(l=>!!(l&&l.constructor&&l.call&&l.apply))(r)?r():r;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(r,i){if(r){let o=r.getAttribute(i);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(r="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,r)}static unblockBodyScroll(r="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,r)}static createElement(r,i={},...o){if(r){let a=document.createElement(r);return this.setAttributes(a,i),a.append(...o),a}}static setAttribute(r,i="",o){this.isElement(r)&&o!==null&&o!==void 0&&r.setAttribute(i,o)}static setAttributes(r,i={}){if(this.isElement(r)){let o=(a,s)=>{let l=r?.$attrs?.[a]?[r?.$attrs?.[a]]:[];return[s].flat().reduce((u,c)=>{if(c!=null){let f=typeof c;if(f==="string"||f==="number")u.push(c);else if(f==="object"){let d=Array.isArray(c)?o(a,c):Object.entries(c).map(([p,m])=>a==="style"&&(m||m===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?p:void 0);u=d.length?u.concat(d.filter(p=>!!p)):u}}return u},l)};Object.entries(i).forEach(([a,s])=>{if(s!=null){let l=a.match(/^on(.+)/);l?r.addEventListener(l[1].toLowerCase(),s):a==="pBind"?this.setAttributes(r,s):(s=a==="class"?[...new Set(o("class",s))].join(" ").trim():a==="style"?o("style",s).join(";").trim():s,(r.$attrs=r.$attrs||{})&&(r.$attrs[a]=s),r.setAttribute(a,s))}})}}static isFocusableElement(r,i=""){return this.isElement(r)?r.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return e})(),fp=class{element;listener;scrollableParents;constructor(t,r=()=>{}){this.element=t,this.listener=r}bindScrollListener(){this.scrollableParents=dp.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Jy=(()=>{class e extends na{autofocus=!1;_autofocus=!1;focused=!1;platformId=ot($l);document=ot(Nr);host=ot(_o);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){ks(this.platformId)&&this._autofocus&&setTimeout(()=>{let r=dp.getFocusableElements(this.host?.nativeElement);r.length===0&&this.host.nativeElement.focus(),r.length>0&&r[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275dir=Mr({type:e,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",ai],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[br]})}return e})(),Tj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({})}return e})();var v5e=["*"],y5e=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,b5e=(()=>{class e extends So{name="baseicon";inlineStyles=y5e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var _g=(()=>{class e extends na{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let r=ec(this.label);this.role=r?void 0:"img",this.ariaLabel=r?void 0:this.label,this.ariaHidden=r}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",ai],styleClass:"styleClass"},features:[mi([b5e]),br],ngContentSelectors:v5e,decls:1,vars:0,template:function(i,o){i&1&&(Ad(),Md(0))},encapsulation:2,changeDetection:0})}return e})();var Rj=(()=>{class e extends _g{static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["AngleRightIcon"]],features:[br],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,o){i&1&&(ag(),Ht(0,"svg",0),Vr(1,"path",1),en()),i&2&&(eo(o.getClassNames()),nr("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var kj=(()=>{class e extends _g{static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["ChevronDownIcon"]],features:[br],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,o){i&1&&(ag(),Ht(0,"svg",0),Vr(1,"path",1),en()),i&2&&(eo(o.getClassNames()),nr("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var Oj=(()=>{class e extends _g{static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["TimesIcon"]],features:[br],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,o){i&1&&(ag(),Ht(0,"svg",0),Vr(1,"path",1),en()),i&2&&(eo(o.getClassNames()),nr("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var Kh=class e{static isArray(t,r=!0){return Array.isArray(t)&&(r||t.length!==0)}static isObject(t,r=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(r||Object.keys(t).length!==0)}static equals(t,r,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(r,i):this.equalsByValue(t,r)}static equalsByValue(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){var i=Array.isArray(t),o=Array.isArray(r),a,s,l;if(i&&o){if(s=t.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!this.equalsByValue(t[a],r[a]))return!1;return!0}if(i!=o)return!1;var u=this.isDate(t),c=this.isDate(r);if(u!=c)return!1;if(u&&c)return t.getTime()==r.getTime();var f=t instanceof RegExp,d=r instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==r.toString();var p=Object.keys(t);if(s=p.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,p[a]))return!1;for(a=s;a--!==0;)if(l=p[a],!this.equalsByValue(t[l],r[l]))return!1;return!0}return t!==t&&r!==r}static resolveFieldData(t,r){if(t&&r){if(this.isFunction(r))return r(t);if(r.indexOf(".")==-1)return t[r];{let i=r.split("."),o=t;for(let a=0,s=i.length;a<s;++a){if(o==null)return null;o=o[i[a]]}return o}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,r,i){let o;t&&r!==i&&(i>=t.length&&(i%=t.length,r%=t.length),t.splice(i,0,t.splice(r,1)[0]))}static insertIntoOrderedArray(t,r,i,o){if(i.length>0){let a=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],o)>r){i.splice(s,0,t),a=!0;break}a||i.push(t)}else i.push(t)}static findIndexInList(t,r){let i=-1;if(r){for(let o=0;o<r.length;o++)if(r[o]==t){i=o;break}}return i}static contains(t,r){if(t!=null&&r&&r.length){for(let i of r)if(this.equals(t,i))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,r,i,o=1){let a=-1,s=this.isEmpty(t),l=this.isEmpty(r);return s&&l?a=0:s?a=o:l?a=-o:typeof t=="string"&&typeof r=="string"?a=t.localeCompare(r,i,{numeric:!0}):a=t<r?-1:t>r?1:0,a}static sort(t,r,i=1,o,a=1){let s=e.compare(t,r,o,i),l=i;return(e.isEmpty(t)||e.isEmpty(r))&&(l=a===1?i:a),l*s}static merge(t,r){if(!(t==null&&r==null)){{if((t==null||typeof t=="object")&&(r==null||typeof r=="object"))return A(A({},t||{}),r||{});if((t==null||typeof t=="string")&&(r==null||typeof r=="string"))return[t||"",r||""].join(" ")}return r||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...r){return this.isFunction(t)?t(...r):t}static findLastIndex(t,r){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(r)}catch{i=t.lastIndexOf([...t].reverse().find(r))}return i}static findLast(t,r){let i;if(this.isNotEmpty(t))try{i=t.findLast(r)}catch{i=[...t].reverse().find(r)}return i}static deepEquals(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){var i=Array.isArray(t),o=Array.isArray(r),a,s,l;if(i&&o){if(s=t.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!this.deepEquals(t[a],r[a]))return!1;return!0}if(i!=o)return!1;var u=t instanceof Date,c=r instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==r.getTime();var f=t instanceof RegExp,d=r instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==r.toString();var p=Object.keys(t);if(s=p.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,p[a]))return!1;for(a=s;a--!==0;)if(l=p[a],!this.deepEquals(t[l],r[l]))return!1;return!0}return t!==t&&r!==r}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,r=!0){return typeof t=="string"&&(r||t!=="")}};function x5e(){let e=[],t=(a,s)=>{let l=e.length>0?e[e.length-1]:{key:a,value:s},u=l.value+(l.key===a?0:s)+2;return e.push({key:a,value:u}),u},r=a=>{e=e.filter(s=>s.value!==a)},i=()=>e.length>0?e[e.length-1].value:0,o=a=>a&&parseInt(a.style.zIndex,10)||0;return{get:o,set:(a,s,l)=>{s&&(s.style.zIndex=String(t(a,l)))},clear:a=>{a&&(r(o(a)),a.style.zIndex="")},getCurrent:()=>i(),generateZIndex:t,revertZIndex:r}}var mu=x5e();var Nj=["content"],w5e=["overlay"],_5e=["*"],S5e=(e,t,r,i,o,a,s,l,u,c,f,d,p,m)=>({"p-overlay p-component":!0,"p-overlay-modal p-overlay-mask p-overlay-mask-enter":e,"p-overlay-center":t,"p-overlay-top":r,"p-overlay-top-start":i,"p-overlay-top-end":o,"p-overlay-bottom":a,"p-overlay-bottom-start":s,"p-overlay-bottom-end":l,"p-overlay-left":u,"p-overlay-left-start":c,"p-overlay-left-end":f,"p-overlay-right":d,"p-overlay-right-start":p,"p-overlay-right-end":m}),C5e=(e,t,r)=>({showTransitionParams:e,hideTransitionParams:t,transform:r}),E5e=e=>({value:"visible",params:e}),D5e=e=>({mode:e}),A5e=e=>({$implicit:e});function M5e(e,t){e&1&&Dd(0)}function T5e(e,t){if(e&1){let r=Bo();Ht(0,"div",3,1),_r("click",function(o){an(r);let a=Ft(2);return sn(a.onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){an(r);let a=Ft(2);return sn(a.onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){an(r);let a=Ft(2);return sn(a.onOverlayContentAnimationDone(o))}),Md(2),tr(3,M5e,1,0,"ng-container",4),en()}if(e&2){let r=Ft(2);eo(r.contentStyleClass),Ut("ngStyle",r.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Ul(11,E5e,XM(7,C5e,r.showTransitionOptions,r.hideTransitionOptions,r.transformOptions[r.modal?r.overlayResponsiveDirection:"default"]))),It(3),Ut("ngTemplateOutlet",r.contentTemplate||r._contentTemplate)("ngTemplateOutletContext",Ul(15,A5e,Ul(13,D5e,r.overlayMode)))}}function R5e(e,t){if(e&1){let r=Bo();Ht(0,"div",3,0),_r("click",function(){an(r);let o=Ft();return sn(o.onOverlayClick())}),tr(2,T5e,4,17,"div",2),en()}if(e&2){let r=Ft();eo(r.styleClass),Ut("ngStyle",r.style)("ngClass",xH(5,S5e,[r.modal,r.modal&&r.overlayResponsiveDirection==="center",r.modal&&r.overlayResponsiveDirection==="top",r.modal&&r.overlayResponsiveDirection==="top-start",r.modal&&r.overlayResponsiveDirection==="top-end",r.modal&&r.overlayResponsiveDirection==="bottom",r.modal&&r.overlayResponsiveDirection==="bottom-start",r.modal&&r.overlayResponsiveDirection==="bottom-end",r.modal&&r.overlayResponsiveDirection==="left",r.modal&&r.overlayResponsiveDirection==="left-start",r.modal&&r.overlayResponsiveDirection==="left-end",r.modal&&r.overlayResponsiveDirection==="right",r.modal&&r.overlayResponsiveDirection==="right-start",r.modal&&r.overlayResponsiveDirection==="right-end"])),It(2),Ut("ngIf",r.visible)}}var k5e=({dt:e})=>`
.p-overlay {
    position: absolute;
    top: 0;
}

.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}
`,Ij=(()=>{class e extends So{name="overlay";theme=k5e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),O5e=ly([Vh({transform:"{{transform}}",opacity:0}),zh("{{showTransitionParams}}")]),N5e=ly([zh("{{hideTransitionParams}}",Vh({transform:"{{transform}}",opacity:0}))]),Fj=(()=>{class e extends na{overlayService;zone;get visible(){return this._visible}set visible(r){this._visible=r,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(r){this._mode=r}get style(){return Kh.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(r){this._style=r}get styleClass(){return Kh.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(r){this._styleClass=r}get contentStyle(){return Kh.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(r){this._contentStyle=r}get contentStyleClass(){return Kh.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(r){this._contentStyleClass=r}get target(){let r=this._target||this.overlayOptions?.target;return r===void 0?"@prev":r}set target(r){this._target=r}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(r){this._appendTo=r}get autoZIndex(){let r=this._autoZIndex||this.overlayOptions?.autoZIndex;return r===void 0?!0:r}set autoZIndex(r){this._autoZIndex=r}get baseZIndex(){let r=this._baseZIndex||this.overlayOptions?.baseZIndex;return r===void 0?0:r}set baseZIndex(r){this._baseZIndex=r}get showTransitionOptions(){let r=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return r===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":r}set showTransitionOptions(r){this._showTransitionOptions=r}get hideTransitionOptions(){let r=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return r===void 0?".1s linear":r}set hideTransitionOptions(r){this._hideTransitionOptions=r}get listener(){return this._listener||this.overlayOptions?.listener}set listener(r){this._listener=r}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(r){this._responsive=r}get options(){return this._options}set options(r){this._options=r}visibleChange=new er;onBeforeShow=new er;onShow=new er;onBeforeHide=new er;onHide=new er;onAnimationStart=new er;onAnimationDone=new er;overlayViewChild;contentViewChild;contentTemplate;templates;_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=ot(Ij);documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(ks(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return A(A({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return A(A({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return cj(this.target,this.el?.nativeElement)}constructor(r,i){super(),this.overlayService=r,this.zone=i}ngAfterContentInit(){this.templates?.forEach(r=>{switch(r.getType()){case"content":this._contentTemplate=r.template;break;default:this._contentTemplate=r.template;break}})}show(r,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:r||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Wh(this.targetEl),this.modal&&lp(this.document?.body,"p-overflow-hidden")}hide(r,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:r||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Wh(this.targetEl),this.modal&&hf(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&dp.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(r){this._visible=r,this.visibleChange.emit(r)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(r){this.overlayService.add({originalEvent:r,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(r){switch(r.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&mu.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),dp.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&lp(this.overlayEl,"p-overlay-mask-leave");break}this.handleEvents("onAnimationStart",r)}onOverlayContentAnimationDone(r){let i=this.overlayEl||r.element.parentElement;switch(r.toState){case"visible":this.visible&&(this.show(i,!0),this.bindListeners());break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),dp.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mu.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",r)}handleEvents(r,i){this[r].emit(i),this.options&&this.options[r]&&this.options[r](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[r]&&(this.config?.overlayOptions)[r](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new fp(this.targetEl,r=>{(this.listener?this.listener(r,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(r,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",r=>{let o=!(this.targetEl&&(this.targetEl.isSameNode(r.target)||!this.isOverlayClicked&&this.targetEl.contains(r.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(r,{type:"outside",mode:this.overlayMode,valid:r.which!==3&&o}):o)&&this.hide(r),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",r=>{(this.listener?this.listener(r,{type:"resize",mode:this.overlayMode,valid:!Yh()}):!Yh())&&this.hide(r,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",r=>{if(this.overlayOptions.hideOnEscape===!1||r.code!=="Escape")return;(this.listener?this.listener(r,{type:"keydown",mode:this.overlayMode,valid:!Yh()}):!Yh())&&this.zone.run(()=>{this.hide(r,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(dp.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mu.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||e)(Pn(yg),Pn(Hi))};static \u0275cmp=hi({type:e,selectors:[["p-overlay"]],contentQueries:function(i,o,a){if(i&1&&(ta(a,Nj,4),ta(a,cp,4)),i&2){let s;dr(s=pr())&&(o.contentTemplate=s.first),dr(s=pr())&&(o.templates=s)}},viewQuery:function(i,o){if(i&1&&(Ni(w5e,5),Ni(Nj,5)),i&2){let a;dr(a=pr())&&(o.overlayViewChild=a.first),dr(a=pr())&&(o.contentViewChild=a.first)}},inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[mi([Ij]),br],ngContentSelectors:_5e,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(Ad(),tr(0,R5e,3,20,"div",2)),i&2&&Ut("ngIf",o.modalVisible)},dependencies:[Rs,pf,pu,Fd,Id,Ns],encapsulation:2,data:{animation:[G3("overlayContentAnimation",[qh(":enter",[uy(O5e)]),qh(":leave",[uy(N5e)])])]},changeDetection:0})}return e})();var I5e=({dt:e})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${e("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,F5e={root:"p-ink"},Pj=(()=>{class e extends So{name="ripple";theme=I5e;classes=F5e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var Lj=(()=>{class e extends na{zone=ot(Hi);_componentStyle=ot(Pj);animationListener;mouseDownListener;timeout;constructor(){super(),Uh(()=>{ks(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(r){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(hf(i,"p-ink-active"),!f6(i)&&!d6(i)){let l=Math.max(Ma(this.el.nativeElement),Os(this.el.nativeElement));i.style.height=l+"px",i.style.width=l+"px"}let o=Gy(this.el.nativeElement),a=r.pageX-o.left+this.document.body.scrollTop-d6(i)/2,s=r.pageY-o.top+this.document.body.scrollLeft-f6(i)/2;this.renderer.setStyle(i,"top",s+"px"),this.renderer.setStyle(i,"left",a+"px"),lp(i,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&hf(l,"p-ink-active")},401)}getInk(){let r=this.el.nativeElement.children;for(let i=0;i<r.length;i++)if(typeof r[i].className=="string"&&r[i].className.indexOf("p-ink")!==-1)return r[i];return null}resetInk(){let r=this.getInk();r&&hf(r,"p-ink-active")}onAnimationEnd(r){this.timeout&&clearTimeout(this.timeout),hf(r.currentTarget,"p-ink-active")}create(){let r=this.renderer.createElement("span");this.renderer.addClass(r,"p-ink"),this.renderer.appendChild(this.el.nativeElement,r),this.renderer.setAttribute(r,"aria-hidden","true"),this.renderer.setAttribute(r,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(r,"animationend",this.onAnimationEnd.bind(this)))}remove(){let r=this.getInk();r&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,dj(r))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Mr({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[mi([Pj]),br]})}return e})();var P5e=e=>({$implicit:e});function L5e(e,t){e&1&&Dd(0)}function B5e(e,t){if(e&1&&(np(0),tr(1,L5e,1,0,"ng-container",8),rp()),e&2){let r=Ft().$implicit,i=Ft();It(),Ut("ngTemplateOutlet",i.optionTemplate)("ngTemplateOutletContext",Ul(2,P5e,r==null?null:r.option))}}function $5e(e,t){if(e&1&&(Ht(0,"span",9),sr(1),en()),e&2){let r=Ft().$implicit,i=Ft();nr("data-pc-section","text"),It(),ff(i.getOptionLabelToRender(r))}}function U5e(e,t){e&1&&Vr(0,"AngleRightIcon")}function z5e(e,t){}function V5e(e,t){e&1&&tr(0,z5e,0,0,"ng-template")}function q5e(e,t){if(e&1&&(Ht(0,"span",10),tr(1,U5e,1,0,"AngleRightIcon",11)(2,V5e,1,0,null,12),en()),e&2){let r=Ft(2);nr("data-pc-section","groupIcon"),It(),Ut("ngIf",!r.groupicon),It(),Ut("ngTemplateOutlet",r.groupicon)}}function H5e(e,t){if(e&1){let r=Bo();Ht(0,"p-cascadeselect-sub",13),_r("onChange",function(o){an(r);let a=Ft(2);return sn(a.onChange.emit(o))})("onFocusChange",function(o){an(r);let a=Ft(2);return sn(a.onFocusChange.emit(o))})("onFocusEnterChange",function(o){an(r);let a=Ft(2);return sn(a.onFocusEnterChange.emit(o))}),en()}if(e&2){let r=Ft().$implicit,i=Ft();Ut("role","group")("selectId",i.selectId)("focusedOptionId",i.focusedOptionId)("activeOptionPath",i.activeOptionPath)("options",i.getOptionGroupChildren(r))("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",i.level+1)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("dirty",i.dirty)("optionTemplate",i.optionTemplate)}}function G5e(e,t){if(e&1){let r=Bo();Ht(0,"li",3)(1,"div",4),_r("click",function(o){let a=an(r).$implicit,s=Ft();return sn(s.onOptionClick(o,a))})("mouseenter",function(o){let a=an(r).$implicit,s=Ft();return sn(s.onOptionMouseEnter(o,a))})("mousemove",function(o){let a=an(r).$implicit,s=Ft();return sn(s.onOptionMouseMove(o,a))}),tr(2,B5e,2,4,"ng-container",5)(3,$5e,2,2,"ng-template",null,0,Od)(5,q5e,3,3,"span",6),en(),tr(6,H5e,1,12,"p-cascadeselect-sub",7),en()}if(e&2){let r=t.$implicit,i=t.index,o=q3(4),a=Ft();Ut("ngClass",a.getItemClass(r))("id",a.getOptionId(r)),nr("aria-level",a.level+1)("aria-setsize",a.options.length)("data-pc-section","item")("aria-label",a.getOptionLabelToRender(r))("aria-selected",a.isOptionGroup(r)?void 0:a.isOptionSelected(r))("aria-posinset",i+1),It(),nr("data-pc-section","content"),It(),Ut("ngIf",a.optionTemplate)("ngIfElse",o),It(3),Ut("ngIf",a.isOptionGroup(r)),It(),Ut("ngIf",a.isOptionGroup(r)&&a.isOptionActive(r))}}var j5e=["value"],W5e=["option"],Y5e=["header"],X5e=["footer"],K5e=["triggericon"],Q5e=["loadingicon"],Z5e=["optiongroupicon"],J5e=["clearicon"],e3e=["focusInput"],t3e=["container"],n3e=["panel"],r3e=["overlay"],i3e=(e,t)=>({$implicit:e,placeholder:t}),o3e=e=>({"p-cascadeselect-overlay p-component":!0,"p-cascadeselect-mobile-active":e});function a3e(e,t){e&1&&Dd(0)}function s3e(e,t){if(e&1&&(np(0),tr(1,a3e,1,0,"ng-container",16),rp()),e&2){let r=Ft();It(),Ut("ngTemplateOutlet",r.valueTemplate||r._valueTemplate)("ngTemplateOutletContext",$h(2,i3e,r.value,r.placeholder))}}function l3e(e,t){if(e&1&&sr(0),e&2){let r=Ft();H3(" ",r.label()," ")}}function u3e(e,t){if(e&1){let r=Bo();Ht(0,"TimesIcon",18),_r("click",function(o){an(r);let a=Ft(2);return sn(a.clear(o))}),en()}e&2&&nr("data-pc-section","clearicon")("aria-hidden",!0)}function c3e(e,t){}function f3e(e,t){e&1&&tr(0,c3e,0,0,"ng-template")}function d3e(e,t){if(e&1){let r=Bo();Ht(0,"span",18),_r("click",function(o){an(r);let a=Ft(2);return sn(a.clear(o))}),tr(1,f3e,1,0,null,19),en()}if(e&2){let r=Ft(2);nr("data-pc-section","clearicon")("aria-hidden",!0),It(),Ut("ngTemplateOutlet",r.clearIconTemplate||r._clearIconTemplate)}}function p3e(e,t){if(e&1&&(np(0),tr(1,u3e,1,2,"TimesIcon",17)(2,d3e,2,3,"span",17),rp()),e&2){let r=Ft();It(),Ut("ngIf",!r.clearIconTemplate&&!r._clearIconTemplate),It(),Ut("ngIf",r.clearIconTemplate||r._clearIconTemplate)}}function h3e(e,t){e&1&&Dd(0)}function m3e(e,t){if(e&1&&(np(0),tr(1,h3e,1,0,"ng-container",19),rp()),e&2){let r=Ft(2);It(),Ut("ngTemplateOutlet",r.loadingIconTemplate||r._loadingIconTemplate)}}function g3e(e,t){if(e&1&&Vr(0,"span",22),e&2){let r=Ft(3);Ut("ngClass","p-cascadeselect-loading-icon pi-spin "+r.loadingIcon)}}function v3e(e,t){e&1&&Vr(0,"span",23),e&2&&eo("p-cascadeselect-loading-icon pi pi-spinner pi-spin")}function y3e(e,t){if(e&1&&(np(0),tr(1,g3e,1,1,"span",20)(2,v3e,1,2,"span",21),rp()),e&2){let r=Ft(2);It(),Ut("ngIf",r.loadingIcon),It(),Ut("ngIf",!r.loadingIcon)}}function b3e(e,t){if(e&1&&(np(0),tr(1,m3e,2,1,"ng-container",12)(2,y3e,3,2,"ng-container",12),rp()),e&2){let r=Ft();It(),Ut("ngIf",r.loadingIconTemplate||r._loadingIconTemplate),It(),Ut("ngIf",!r.loadingIconTemplate&&!r._loadingIconTemplate)}}function x3e(e,t){e&1&&Vr(0,"ChevronDownIcon",26),e&2&&Ut("styleClass","p-cascadeselect-dropdown-icon")}function w3e(e,t){}function _3e(e,t){e&1&&tr(0,w3e,0,0,"ng-template")}function S3e(e,t){if(e&1&&(Ht(0,"span",27),tr(1,_3e,1,0,null,19),en()),e&2){let r=Ft(2);It(),Ut("ngTemplateOutlet",r.triggerIconTemplate||r._triggerIconTemplate)}}function C3e(e,t){if(e&1&&tr(0,x3e,1,1,"ChevronDownIcon",24)(1,S3e,2,1,"span",25),e&2){let r=Ft();Ut("ngIf",!r.triggerIconTemplate&&!r._triggerIconTemplate),It(),Ut("ngIf",r.triggerIconTemplate||r._triggerIconTemplate)}}function E3e(e,t){}function D3e(e,t){e&1&&tr(0,E3e,0,0,"ng-template")}function A3e(e,t){}function M3e(e,t){e&1&&tr(0,A3e,0,0,"ng-template")}function T3e(e,t){if(e&1){let r=Bo();Ht(0,"div",28,6),tr(2,D3e,1,0,null,19),Ht(3,"div",29)(4,"p-cascadeselect-sub",30),_r("onChange",function(o){an(r);let a=Ft();return sn(a.onOptionClick(o))})("onFocusChange",function(o){an(r);let a=Ft();return sn(a.onOptionMouseMove(o))})("onFocusEnterChange",function(o){an(r);let a=Ft();return sn(a.onOptionMouseEnter(o))}),en()(),Ht(5,"span",14),sr(6),en(),tr(7,M3e,1,0,null,19),en()}if(e&2){let r=Ft();eo(r.panelStyleClass),Ut("ngClass",Ul(24,o3e,r.queryMatches()))("ngStyle",r.panelStyle),nr("data-pc-section","panel"),It(2),Ut("ngTemplateOutlet",r.headerTemplate||r._headerTemplate),It(),nr("data-pc-section","wrapper"),It(),Ut("options",r.processedOptions)("selectId",r.id)("focusedOptionId",r.focused?r.focusedOptionId:void 0)("activeOptionPath",r.activeOptionPath())("optionLabel",r.optionLabel)("optionValue",r.optionValue)("level",0)("optionTemplate",r.optionTemplate||r._optionTemplate)("groupicon",r.groupIconTemplate||r.groupIconTemplate)("optionGroupLabel",r.optionGroupLabel)("optionGroupChildren",r.optionGroupChildren)("optionDisabled",r.optionDisabled)("root",!0)("dirty",r.dirty)("role","tree"),It(2),H3(" ",r.selectedMessageText," "),It(),Ut("ngTemplateOutlet",r.footerTemplate||r._footerTemplate)}}var R3e=({dt:e})=>`
.p-cascadeselect {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${e("cascadeselect.background")};
    border: 1px solid ${e("cascadeselect.border.color")};
    transition: background ${e("cascadeselect.transition.duration")}, color ${e("cascadeselect.transition.duration")}, border-color ${e("cascadeselect.transition.duration")}, outline-color ${e("cascadeselect.transition.duration")}, box-shadow ${e("cascadeselect.transition.duration")};
    border-radius: ${e("cascadeselect.border.radius")};
    outline-color: transparent;
    box-shadow: ${e("cascadeselect.shadow")};
}

p-cascadeSelect.ng-invalid.ng-dirty .p-cascadeselect,
p-cascade-select.ng-invalid.ng-dirty .p-cascadeselect,
p-cascadeselect.ng-invalid.ng-dirty .p-cascadeselect {
    border-color: ${e("cascadeselect.invalid.border.color")};
}

p-cascadeSelect.ng-invalid.ng-dirty .p-cascadeselect.p-focus,
p-cascade-select.ng-invalid.ng-dirty .p-cascadeselect.p-focus,
p-cascadeselect.ng-invalid.ng-dirty .p-cascadeselect.p-focus {
    border-color: ${e("cascadeselect.focus.border.color")};
}

.p-cascadeselect:not(.p-disabled):hover {
    border-color: ${e("cascadeselect.hover.border.color")};
}

.p-cascadeselect:not(.p-disabled).p-focus {
    border-color: ${e("cascadeselect.focus.border.color")};
    box-shadow: ${e("cascadeselect.focus.ring.shadow")};
    outline: ${e("cascadeselect.focus.ring.width")} ${e("cascadeselect.focus.ring.style")} ${e("cascadeselect.focus.ring.color")};
    outline-offset: ${e("multiscascadeselectelect.focus.ring.offset")};
}

.p-cascadeselect.p-variant-filled {
    background: ${e("cascadeselect.filled.background")};
}

.p-cascadeselect.p-variant-filled:not(.p-disabled):hover {
    background: ${e("cascadeselect.filled.hover.background")};
}

.p-cascadeselect.p-variant-filled.p-focus {
    background: ${e("cascadeselect.filled.focus.background")};
}

.p-cascadeselect.p-disabled {
    opacity: 1;
    background: ${e("cascadeselect.disabled.background")};
}

.p-cascadeselect-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${e("cascadeselect.dropdown.color")};
    width: ${e("cascadeselect.dropdown.width")};
    border-start-end-radius: ${e("border.radius.md")};
    border-end-end-radius: ${e("border.radius.md")};
}

.p-cascadeselect-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
    padding: ${e("cascadeselect.padding.y")} ${e("cascadeselect.padding.x")};
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-cascadeselect-label.p-placeholder {
    color: ${e("cascadeselect.placeholder.color")};
}

p-cascadeselect.ng-invalid.ng-dirty .p-cascadeselect-label.p-placeholder {
    color: ${e("cascadeselect.invalid.placeholder.color")};
}

.p-cascadeselect.p-disabled .p-cascadeselect-label {
    color: ${e("cascadeselect.disabled.color")};
}

.p-cascadeselect-label-empty {
    overflow: hidden;
    visibility: hidden;
}

.p-cascadeselect-fluid {
    display: flex;
}

.p-cascadeselect-fluid .p-cascadeselect-label {
    width: 1%;
}

.p-cascadeselect-overlay {
    background: ${e("cascadeselect.overlay.background")};
    color: ${e("cascadeselect.overlay.color")};
    border: 1px solid ${e("cascadeselect.overlay.border.color")};
    border-radius: ${e("cascadeselect.overlay.border.radius")};
    box-shadow: ${e("cascadeselect.overlay.shadow")};
}

.p-cascadeselect .p-cascadeselect-overlay {
    min-width: 100%;
}

.p-cascadeselect-option-list {
    display: none;
    min-width: 100%;
    position: absolute;
    z-index: 1;
}

.p-cascadeselect-list {
    min-width: 100%;
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${e("cascadeselect.list.padding")};
    display: flex;
    flex-direction: column;
    gap: ${e("cascadeselect.list.gap")}
}

.p-cascadeselect-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    border: 0 none;
    color: ${e("cascadeselect.option.color")};
    background: transparent;
    transition: background ${e("cascadeselect.transition.duration")}, color ${e("cascadeselect.transition.duration")}, border-color ${e("cascadeselect.transition.duration")}, box-shadow ${e("cascadeselect.transition.duration")}, outline-color ${e("cascadeselect.transition.duration")};
    border-radius: ${e("cascadeselect.option.border.radius")};
}

.p-cascadeselect-option-active {
    overflow: visible;
}

.p-cascadeselect-option-active > .p-cascadeselect-option-content {
    background: ${e("cascadeselect.option.focus.background")};
    color: ${e("cascadeselect.option.focus.color")};
}

.p-cascadeselect-option:not(.p-cascadeselect-option-selected):not(.p-disabled).p-focus > .p-cascadeselect-option-content {
    background: ${e("cascadeselect.option.focus.background")};
    color: ${e("cascadeselect.option.focus.color")};
}

.p-cascadeselect-option:not(.p-cascadeselect-option-selected):not(.p-disabled).p-focus > .p-cascadeselect-option-content > .p-cascadeselect-group-icon-container > .p-cascadeselect-group-icon {
    color: ${e("cascadeselect.option.icon.focus.color")};
}

.p-cascadeselect-option-selected > .p-cascadeselect-option-content {
    background: ${e("cascadeselect.option.selected.background")};
    color: ${e("cascadeselect.option.selected.color")};
}

.p-cascadeselect-option-selected.p-focus > .p-cascadeselect-option-content {
    background: ${e("cascadeselect.option.selected.focus.background")};
    color: ${e("cascadeselect.option.selected.focus.color")};
}

.p-cascadeselect-option-active > .p-cascadeselect-option-list {
    inset-inline-start: 100%;
    top: 0;
}

.p-cascadeselect-option-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    overflow: hidden;
    position: relative;
    padding: ${e("cascadeselect.option.padding")};
    border-radius: ${e("cascadeselect.option.border.radius")};
    transition: background ${e("cascadeselect.transition.duration")}, color ${e("cascadeselect.transition.duration")}, border-color ${e("cascadeselect.transition.duration")}, box-shadow ${e("cascadeselect.transition.duration")}, outline-color ${e("cascadeselect.transition.duration")};
}

.p-cascadeselect-group-icon {
    font-size: ${e("cascadeselect.option.icon.size")};
    width: ${e("cascadeselect.option.icon.size")};
    height: ${e("cascadeselect.option.icon.size")};
    color: ${e("cascadeselect.option.icon.color")};
}

.p-cascadeselect-group-icon:dir(rtl) {
    transform: rotate(180deg);
}

.p-cascadeselect-mobile-active .p-cascadeselect-option-list {
    position: static;
    box-shadow: none;
    border: 0 none;
    padding-inline-start: 1rem;
    padding-inline-end: 0;
}

.p-cascadeselect-mobile-active .p-cascadeselect-group-icon {
    transition: transform 0.2s;
    transform: rotate(90deg);
}

.p-cascadeselect-mobile-active .p-cascadeselect-option-active > .p-cascadeselect-option-content .p-cascadeselect-group-icon {
    transform: rotate(-90deg);
}

.p-cascadeselect-sm .p-cascadeselect-label {
    font-size: ${e("cascadeselect.sm.font.size")};
    padding-block: ${e("cascadeselect.sm.padding.y")};
    padding-inline: ${e("cascadeselect.sm.padding.x")};
}

.p-cascadeselect-sm .p-cascadeselect-dropdown .p-icon {
    font-size: ${e("cascadeselect.sm.font.size")};
    width: ${e("cascadeselect.sm.font.size")};
    height: ${e("cascadeselect.sm.font.size")};
}

.p-cascadeselect-lg .p-cascadeselect-label {
    font-size: ${e("cascadeselect.lg.font.size")};
    padding-block: ${e("cascadeselect.lg.padding.y")};
    padding-inline: ${e("cascadeselect.lg.padding.x")};
}

.p-cascadeselect-lg .p-cascadeselect-dropdown .p-icon {
    font-size: ${e("cascadeselect.lg.font.size")};
    width: ${e("cascadeselect.lg.font.size")};
    height: ${e("cascadeselect.lg.font.size")};
}

/* For PrimeNG */
.p-cascadeselect-clear-icon {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${e("cascadeselect.clear.icon.color")};
}`,k3e={root:({props:e})=>({position:e.appendTo==="self"?"relative":void 0})},O3e={root:({instance:e,props:t})=>["p-cascadeselect p-component p-inputwrapper",{"p-cascadeselect-mobile":e.queryMatches(),"p-disabled":t.disabled,"p-invalid":t.invalid,"p-variant-filled":t.variant?t.variant==="filled":e.config.inputStyle==="filled"||e.config.inputVariant==="filled","p-focus":e.focused,"p-inputwrapper-filled":t.modelValue,"p-inputwrapper-focus":e.focused||e.overlayVisible,"p-cascadeselect-open":e.overlayVisible,"p-cascadeselect-fluid":t.fluid,"p-cascadeselect-sm p-inputfield-sm":t.size==="small","p-cascadeselect-lg p-inputfield-lg":t.size==="large"}],label:({instance:e,props:t})=>["p-cascadeselect-label",{"p-placeholder":e.label===t.placeholder,"p-cascadeselect-label-empty":!e.$slots.value&&(e.label==="p-emptylabel"||e.label.length===0)}],dropdown:"p-cascadeselect-dropdown",loadingIcon:"p-cascadeselect-loading-icon",dropdownIcon:"p-cascadeselect-dropdown-icon",overlay:({instance:e})=>["p-cascadeselect-overlay p-component",{"p-cascadeselect-mobile-active":e.queryMatches()}],listContainer:"p-cascadeselect-list-container",list:"p-cascadeselect-list",option:({instance:e,processedOption:t})=>["p-cascadeselect-option",{"p-cascadeselect-option-active":e.isOptionActive(t),"p-cascadeselect-option-selected":e.isOptionSelected(t),"p-focus":e.isOptionFocused(t),"p-disabled":e.isOptionDisabled(t)}],optionContent:"p-cascadeselect-option-content",optionText:"p-cascadeselect-option-text",groupIcon:"p-cascadeselect-group-icon",optionList:"p-cascadeselect-overlay p-cascadeselect-option-list"},Bj=(()=>{class e extends So{name="cascadeselect";theme=R3e;classes=O3e;inlineStyles=k3e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var N3e={provide:Pd,useExisting:Qa(()=>h6),multi:!0},I3e=(()=>{class e extends na{cascadeselect;role;selectId;activeOptionPath;optionDisabled;focusedOptionId;options;optionGroupChildren;optionTemplate;groupicon;level=0;optionLabel;optionValue;optionGroupLabel;dirty;root;onChange=new er;onFocusChange=new er;onFocusEnterChange=new er;get listLabel(){return this.config.getTranslation(p6.ARIA).listLabel}constructor(r){super(),this.cascadeselect=r}ngOnInit(){super.ngOnInit(),this.root||this.position()}onOptionClick(r,i){this.onChange.emit({originalEvent:r,processedOption:i,isFocus:!0})}onOptionMouseEnter(r,i){this.onFocusEnterChange.emit({originalEvent:r,processedOption:i})}onOptionMouseMove(r,i){this.onFocusChange.emit({originalEvent:r,processedOption:i})}getOptionId(r){return`${this.selectId}_${r.key}`}getOptionLabel(r){return this.optionLabel?Vl(r.option,this.optionLabel):r.option}getOptionValue(r){return this.optionValue?Vl(r.option,this.optionValue):r.option}getOptionLabelToRender(r){return this.isOptionGroup(r)?this.getOptionGroupLabel(r):this.getOptionLabel(r)}isOptionDisabled(r){return this.optionDisabled?Vl(r.option,this.optionDisabled):!1}getOptionGroupLabel(r){return this.optionGroupLabel?Vl(r.option,this.optionGroupLabel):null}getOptionGroupChildren(r){return r.children}isOptionGroup(r){return mr(r.children)}isOptionSelected(r){return jy(this.cascadeselect?.modelValue(),r?.option)}isOptionActive(r){return this.activeOptionPath.some(i=>i.key===r.key)}isOptionFocused(r){return this.focusedOptionId===this.getOptionId(r)}getItemClass(r){return{"p-cascadeselect-option":!0,"p-cascadeselect-option-group":this.isOptionGroup(r),"p-cascadeselect-option-active":this.isOptionActive(r),"p-cascadeselect-option-selected":this.isOptionSelected(r),"p-focus":this.isOptionFocused(r),"p-disabled":this.isOptionDisabled(r)}}position(){let r=this.el.nativeElement.parentElement,i=Gy(r),o=gg(),a=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:uj(this.el.nativeElement.children[0]),s=Ma(r.children[0]);parseInt(i.left,10)+s+a>o.width-sj()&&(this.el.nativeElement.children[0].style.left="-200%")}static \u0275fac=function(i){return new(i||e)(Pn(h6))};static \u0275cmp=hi({type:e,selectors:[["p-cascadeSelectSub"],["p-cascadeselect-sub"]],inputs:{role:"role",selectId:"selectId",activeOptionPath:"activeOptionPath",optionDisabled:"optionDisabled",focusedOptionId:"focusedOptionId",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",groupicon:"groupicon",level:[2,"level","level",Ts],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:[2,"dirty","dirty",ai],root:[2,"root","root",ai]},outputs:{onChange:"onChange",onFocusChange:"onFocusChange",onFocusEnterChange:"onFocusEnterChange"},features:[br],decls:2,vars:4,consts:[["defaultOptionTemplate",""],["aria-orientation","horizontal",1,"p-cascadeselect-list"],["ngFor","",3,"ngForOf"],["role","treeitem",3,"ngClass","id"],["pRipple","",1,"p-cascadeselect-option-content",3,"click","mouseenter","mousemove"],[4,"ngIf","ngIfElse"],["class","p-cascadeselect-group-icon",4,"ngIf"],["class","p-cascadeselect-list p-cascadeselect-overlay p-cascadeselect-option-list",3,"role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate","onChange","onFocusChange","onFocusEnterChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-option-text"],[1,"p-cascadeselect-group-icon"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-cascadeselect-list","p-cascadeselect-overlay","p-cascadeselect-option-list",3,"onChange","onFocusChange","onFocusEnterChange","role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate"]],template:function(i,o){i&1&&(Ht(0,"ul",1),tr(1,G5e,7,13,"ng-template",2),en()),i&2&&(nr("role",o.role)("data-pc-section",o.level===0?"list":"sublist")("aria-label",o.listLabel),It(),Ut("ngForOf",o.options))},dependencies:[e,Rs,pf,op,pu,Fd,Lj,Rj,Ns],encapsulation:2,changeDetection:0})}return e})(),h6=(()=>{class e extends na{overlayService;id;searchMessage;emptyMessage;selectionMessage;emptySearchMessage;emptySelectionMessage;searchLocale;optionDisabled;focusOnHover=!0;selectOnFocus=!1;autoOptionFocus=!1;styleClass;style;options;optionLabel;optionValue;optionGroupLabel;optionGroupChildren;placeholder;value;dataKey;inputId;size;tabindex=0;ariaLabelledBy;inputLabel;ariaLabel;appendTo;disabled;showClear=!1;panelStyleClass;panelStyle;overlayOptions;autofocus;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(r){this._showTransitionOptions=r,console.log("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}variant;loading=!1;loadingIcon;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(r){this._hideTransitionOptions=r,console.log("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}fluid=!1;breakpoint="960px";onChange=new er;onGroupChange=new er;onShow=new er;onHide=new er;onClear=new er;onBeforeShow=new er;onBeforeHide=new er;onFocus=new er;onBlur=new er;focusInputViewChild;containerViewChild;panelViewChild;overlayViewChild;valueTemplate;optionTemplate;headerTemplate;footerTemplate;triggerIconTemplate;loadingIconTemplate;groupIconTemplate;clearIconTemplate;_valueTemplate;_optionTemplate;_headerTemplate;_footerTemplate;_triggerIconTemplate;_loadingIconTemplate;_groupIconTemplate;_clearIconTemplate;_showTransitionOptions="";_hideTransitionOptions="";selectionPath=null;focused=!1;overlayVisible=!1;clicked=!1;dirty=!1;searchValue;searchTimeout;onModelChange=()=>{};onModelTouched=()=>{};focusedOptionInfo=ea({index:-1,level:0,parentKey:""});activeOptionPath=ea([]);modelValue=ea(null);processedOptions=[];_componentStyle=ot(Bj);initialized=!1;get containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-cascadeselect-clearable":this.showClear&&!this.disabled,"p-cascadeselect-mobile":this.queryMatches(),"p-disabled":this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue(),"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"||this.config.inputVariant()==="filled","p-inputwrapper-focus":this.focused||this.overlayVisible,"p-cascadeselect-open":this.overlayVisible,"p-cascadeselect-fluid":this.hasFluid,"p-cascadeselect-sm p-inputfield-sm":this.size==="small","p-cascadeselect-lg p-inputfield-lg":this.size==="large"}}get labelClass(){return{"p-cascadeselect-label":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&(this.label()==="p-emptylabel"||this.label().length===0)}}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return this.fluid||!!i}get focusedOptionId(){return this.focusedOptionInfo().index!==-1?`${this.id}${mr(this.focusedOptionInfo().parentKey)?"_"+this.focusedOptionInfo().parentKey:""}_${this.focusedOptionInfo().index}`:null}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():this.modelValue()||this.modelValue()!=null||this.modelValue()!=null}get searchResultMessageText(){return mr(this.visibleOptions())?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptySearchMessage||this.config.translation.emptySearchMessage||""}get emptyMessageText(){return this.emptyMessage||this.config.translation.emptyMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText}visibleOptions=df(()=>{let r=this.activeOptionPath().find(i=>i.key===this.focusedOptionInfo().parentKey);return r?r.children:this.processedOptions});label=df(()=>{let r=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){let i=this.findOptionPathByValue(this.modelValue(),null),o=mr(i)?i[i.length-1]:null;return o?this.getOptionLabel(o.option):r}return r});get _label(){let r=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){let i=this.findOptionPathByValue(this.modelValue(),null),o=mr(i)?i[i.length-1]:null;return o?this.getOptionLabel(o.option):r}return r}templates;ngAfterContentInit(){this.templates.forEach(r=>{switch(r.getType()){case"value":this._valueTemplate=r.template;break;case"option":this._optionTemplate=r.template;break;case"triggericon":this._triggerIconTemplate=r.template;break;case"loadingicon":this._loadingIconTemplate=r.template;break;case"clearicon":this._clearIconTemplate=r.template;break;case"optiongroupicon":this._groupIconTemplate=r.template;break}})}ngOnChanges(r){super.ngOnChanges(r),r.options&&(this.processedOptions=this.createProcessedOptions(r.options.currentValue||[]),this.updateModel(null))}hasSelectedOption(){return mr(this.modelValue())}createProcessedOptions(r,i=0,o={},a=""){let s=[];return r&&r.forEach((l,u)=>{let c=(a!==""?a+"_":"")+u,f={option:l,index:u,level:i,key:c,parent:o,parentKey:a};f.children=this.createProcessedOptions(this.getOptionGroupChildren(l,i),i+1,f,c),s.push(f)}),s}onInputFocus(r){this.disabled||(this.focused=!0,this.onFocus.emit(r))}onInputBlur(r){this.focused=!1,this.focusedOptionInfo.set({indeX:-1,level:0,parentKey:""}),this.searchValue="",this.onModelTouched(),this.onBlur.emit(r)}onInputKeyDown(r){if(this.disabled||this.loading){r.preventDefault();return}let i=r.metaKey||r.ctrlKey;switch(r.code){case"ArrowDown":this.onArrowDownKey(r);break;case"ArrowUp":this.onArrowUpKey(r);break;case"ArrowLeft":this.onArrowLeftKey(r);break;case"ArrowRight":this.onArrowRightKey(r);break;case"Home":this.onHomeKey(r);break;case"End":this.onEndKey(r);break;case"Space":this.onSpaceKey(r);break;case"Enter":case"NumpadEnter":this.onEnterKey(r);break;case"Escape":this.onEscapeKey(r);break;case"Tab":this.onTabKey(r);break;case"Backspace":this.onBackspaceKey(r);break;case"PageDown":case"PageUp":case"ShiftLeft":case"ShiftRight":break;default:!i&&bj(r.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(r,r.key));break}this.clicked=!1}onArrowDownKey(r){if(!this.overlayVisible)this.show();else{let i=this.focusedOptionInfo().index!==-1?this.findNextOptionIndex(this.focusedOptionInfo().index):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(r,i,!0)}r.preventDefault()}onArrowUpKey(r){if(r.altKey){if(this.focusedOptionInfo().index!==-1){let i=this.visibleOptions[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(i)&&this.onOptionChange({originalEvent:r,processedOption:i})}this.overlayVisible&&this.hide(),r.preventDefault()}else{let i=this.focusedOptionInfo().index!==-1?this.findPrevOptionIndex(this.focusedOptionInfo().index):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(r,i,!0),!this.overlayVisible&&this.show(),r.preventDefault()}}onArrowLeftKey(r){if(this.overlayVisible){let i=this.visibleOptions()[this.focusedOptionInfo().index],o=this.activeOptionPath().find(l=>l.key===i.parentKey),a=this.focusedOptionInfo().parentKey===""||o&&o.key===this.focusedOptionInfo().parentKey,s=ec(i.parent);if(a){let l=this.activeOptionPath().filter(u=>u.parentKey!==this.focusedOptionInfo().parentKey);this.activeOptionPath.set(l)}s||(this.focusedOptionInfo.set({index:-1,parentKey:o?o.parentKey:""}),this.searchValue="",this.onArrowDownKey(r)),r.preventDefault()}}onArrowRightKey(r){if(this.overlayVisible){let i=this.visibleOptions()[this.focusedOptionInfo().index];this.isProccessedOptionGroup(i)&&(this.activeOptionPath().some(s=>i.key===s.key)?(this.focusedOptionInfo.set({index:-1,parentKey:i.key}),this.searchValue="",this.onArrowDownKey(r)):this.onOptionChange({originalEvent:r,processedOption:i})),r.preventDefault()}}onHomeKey(r){this.changeFocusedOptionIndex(r,this.findFirstOptionIndex()),!this.overlayVisible&&this.show(),r.preventDefault()}onEndKey(r){this.changeFocusedOptionIndex(r,this.findLastOptionIndex()),!this.overlayVisible&&this.show(),r.preventDefault()}onEnterKey(r){if(!this.overlayVisible)this.focusedOptionInfo.set(_e(A({},this.focusedOptionInfo()),{index:-1})),this.onArrowDownKey(r);else if(this.focusedOptionInfo().index!==-1){let i=this.visibleOptions()[this.focusedOptionInfo().index],o=this.isProccessedOptionGroup(i);this.onOptionClick({originalEvent:r,processedOption:i}),!o&&this.hide()}r.preventDefault()}onSpaceKey(r){this.onEnterKey(r)}onEscapeKey(r){this.overlayVisible&&this.hide(r,!0),r.preventDefault()}onTabKey(r){if(this.focusedOptionInfo().index!==-1){let i=this.visibleOptions()[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(i)&&this.onOptionChange({originalEvent:r,processedOption:i})}this.overlayVisible&&this.hide()}onBackspaceKey(r){mr(this.modelValue())&&this.showClear&&this.clear(),r.stopPropagation()}equalityKey(){return this.optionValue?null:this.dataKey}updateModel(r,i){this.value=r,this.onModelChange(r),this.modelValue.set(r),this.initialized&&this.onChange.emit({originalEvent:i,value:r})}autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionInfo().index=this.findFirstFocusedOptionIndex(),this.onOptionChange({originalEvent:null,processedOption:this.visibleOptions()[this.focusedOptionInfo().index],isHide:!1}),!this.overlayVisible&&this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}))}scrollInView(r=-1){let i=r!==-1?`${this.id}_${r}`:this.focusedOptionId,o=c6(this.panelViewChild?.nativeElement,`li[id="${i}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"})}changeFocusedOptionIndex(r,i,o){let a=this.focusedOptionInfo();a.index!==i&&(this.focusedOptionInfo.set(_e(A({},a),{index:i})),this.scrollInView(),this.focusOnHover&&this.onOptionClick({originalEvent:r,processedOption:this.visibleOptions()[i],isHide:!1,preventSelection:o}),this.selectOnFocus&&this.onOptionChange({originalEvent:r,processedOption:this.visibleOptions()[i],isHide:!1}))}matchMediaListener;onOptionSelect(r){let{originalEvent:i,value:o,isHide:a}=r,s=this.getOptionValue(o),l=this.activeOptionPath();l.forEach(u=>u.selected=!0),this.activeOptionPath.set(l),this.updateModel(s,i),a&&this.hide(r,!0)}onOptionGroupSelect(r){this.dirty=!0,this.onGroupChange.emit(r)}onContainerClick(r){this.disabled||this.loading||(this.overlayViewChild?.el?.nativeElement?.contains(r.target)||(this.overlayVisible?this.hide():this.show(),this.focusInputViewChild?.nativeElement.focus()),this.clicked=!0)}isOptionMatched(r){return this.isValidOption(r)&&this.getProccessedOptionLabel(r).toLocaleLowerCase(this.searchLocale).startsWith(this.searchValue.toLocaleLowerCase(this.searchLocale))}isOptionDisabled(r){return this.optionDisabled?Vl(r,this.optionDisabled):!1}isValidOption(r){return!!r&&!this.isOptionDisabled(r.option)}isValidSelectedOption(r){return this.isValidOption(r)&&this.isSelected(r)}isSelected(r){return this.activeOptionPath().some(i=>i.key===r.key)}findOptionPathByValue(r,i,o=0){if(i=i||o===0&&this.processedOptions,!i)return null;if(ec(r))return[];for(let a=0;a<i.length;a++){let s=i[a];if(jy(r,this.getOptionValue(s.option),this.equalityKey()))return[s];let l=this.findOptionPathByValue(r,s.children,o+1);if(l)return l.unshift(s),l}}findFirstOptionIndex(){return this.visibleOptions().findIndex(r=>this.isValidOption(r))}findLastOptionIndex(){return BT(this.visibleOptions(),r=>this.isValidOption(r))}findNextOptionIndex(r){let i=r<this.visibleOptions().length-1?this.visibleOptions().slice(r+1).findIndex(o=>this.isValidOption(o)):-1;return i>-1?i+r+1:r}findPrevOptionIndex(r){let i=r>0?BT(this.visibleOptions().slice(0,r),o=>this.isValidOption(o)):-1;return i>-1?i:r}findSelectedOptionIndex(){return this.visibleOptions().findIndex(r=>this.isValidSelectedOption(r))}findFirstFocusedOptionIndex(){let r=this.findSelectedOptionIndex();return r<0?this.findFirstOptionIndex():r}findLastFocusedOptionIndex(){let r=this.findSelectedOptionIndex();return r<0?this.findLastOptionIndex():r}searchOptions(r,i){this.searchValue=(this.searchValue||"")+i;let o=-1,a=!1,s=this.focusedOptionInfo();return s.index!==-1?(o=this.visibleOptions().slice(s.index).findIndex(l=>this.isOptionMatched(l)),o=o===-1?this.visibleOptions().slice(0,s.index).findIndex(l=>this.isOptionMatched(l)):o+s.index):o=this.visibleOptions().findIndex(l=>this.isOptionMatched(l)),o!==-1&&(a=!0),o===-1&&s.index===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(r,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}hide(r,i=!1){let o=()=>{this.overlayVisible=!1,this.clicked=!1,this.activeOptionPath.set([]),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),i&&Wh(this.focusInputViewChild.nativeElement),this.onHide.emit(r),this.cd.markForCheck()};setTimeout(()=>{o()},0)}show(r,i=!1){this.onShow.emit(r),this.overlayVisible=!0;let o=this.hasSelectedOption()?this.findOptionPathByValue(this.modelValue()):this.activeOptionPath();this.activeOptionPath.set(o);let a;if(this.hasSelectedOption()&&mr(this.activeOptionPath())){let s=this.activeOptionPath()[this.activeOptionPath().length-1];a={index:s.index,level:s.level,parentKey:s.parentKey}}else a={index:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),level:0,parentKey:""};this.focusedOptionInfo.set(a),i&&Wh(this.focusInputViewChild.nativeElement)}clear(r){mr(this.modelValue())&&this.showClear&&(this.updateModel(null),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),this.activeOptionPath.set([]),this.onClear.emit()),r&&r.stopPropagation()}getOptionLabel(r){return this.optionLabel?Vl(r,this.optionLabel):r}getOptionValue(r){return this.optionValue?Vl(r,this.optionValue):r}getOptionGroupLabel(r){return this.optionGroupLabel?Vl(r,this.optionGroupLabel):null}getOptionGroupChildren(r,i){return Vl(r,this.optionGroupChildren[i])}isOptionGroup(r,i){return Object.prototype.hasOwnProperty.call(r,this.optionGroupChildren[i])}isProccessedOptionGroup(r){return mr(r?.children)}getProccessedOptionLabel(r){return this.isProccessedOptionGroup(r)?this.getOptionGroupLabel(r.option):this.getOptionLabel(r.option)}constructor(r){super(),this.overlayService=r,Uh(()=>{let i=this.activeOptionPath();mr(i)&&this.overlayViewChild.alignOverlay()})}query;queryMatches=ea(!1);mobileActive=ea(!1);onOptionChange(r){let{processedOption:i,type:o}=r;if(ec(i))return;let{index:a,key:s,level:l,parentKey:u,children:c}=i,f=mr(c),d=this.activeOptionPath().filter(p=>p.parentKey!==u&&p.parentKey!==s);this.focusedOptionInfo.set({index:a,level:l,parentKey:u}),!(o=="hover"&&this.queryMatches())&&(f&&d.push(i),this.activeOptionPath.set([...d]))}onOptionClick(r){let{originalEvent:i,processedOption:o,isFocus:a,isHide:s,preventSelection:l}=r,{index:u,key:c,level:f,parentKey:d}=o,p=this.isProccessedOptionGroup(o);if(this.isSelected(o)){let g=this.activeOptionPath().filter(v=>c!==v.key&&c.startsWith(v.key));this.activeOptionPath.set([...g]),this.focusedOptionInfo.set({index:u,level:f,parentKey:d})}else if(p)this.onOptionChange(r),this.onOptionGroupSelect({originalEvent:i,value:o.option,isFocus:!1});else{let g=this.activeOptionPath().filter(v=>v.parentKey!==d);g.push(o),this.focusedOptionInfo.set({index:u,level:f,parentKey:d}),(!l||o?.children.length!==0)&&(this.activeOptionPath.set([...g]),this.onOptionSelect({originalEvent:i,value:o.option,isHide:a}))}a&&Wh(this.focusInputViewChild.nativeElement)}onOptionMouseEnter(r){this.focusOnHover&&(this.dirty||!this.dirty&&mr(this.modelValue())?this.onOptionChange(_e(A({},r),{type:"hover"})):!this.dirty&&r.processedOption.level===0&&this.onOptionClick(_e(A({},r),{type:"hover"})))}onOptionMouseMove(r){this.focused&&this.focusOnHover&&this.changeFocusedOptionIndex(r,r.processedOption.index)}ngOnInit(){super.ngOnInit(),this.id=this.id||vg("pn_id_"),this.autoUpdateModel(),this.bindMatchMediaListener()}ngAfterViewInit(){super.ngAfterViewInit(),this.initialized=!0}bindMatchMediaListener(){if(!this.matchMediaListener){let r=this.document.defaultView;if(r&&r.matchMedia){let i=r.matchMedia(`(max-width: ${this.breakpoint})`);this.query=i,this.queryMatches.set(i?.matches),this.matchMediaListener=()=>{this.queryMatches.set(i?.matches),this.mobileActive.set(!1)},this.query.addEventListener("change",this.matchMediaListener)}}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}onOverlayAnimationDone(r){switch(r.toState){case"void":this.dirty=!1;break}}writeValue(r){this.value=r,this.updateModel(r),this.cd.markForCheck()}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}setDisabledState(r){this.disabled=r,this.cd.markForCheck()}ngOnDestroy(){this.matchMediaListener&&this.unbindMatchMediaListener()}static \u0275fac=function(i){return new(i||e)(Pn(yg))};static \u0275cmp=hi({type:e,selectors:[["p-cascadeSelect"],["p-cascadeselect"],["p-cascade-select"]],contentQueries:function(i,o,a){if(i&1&&(ta(a,j5e,4),ta(a,W5e,4),ta(a,Y5e,4),ta(a,X5e,4),ta(a,K5e,4),ta(a,Q5e,4),ta(a,Z5e,4),ta(a,J5e,4),ta(a,cp,4)),i&2){let s;dr(s=pr())&&(o.valueTemplate=s.first),dr(s=pr())&&(o.optionTemplate=s.first),dr(s=pr())&&(o.headerTemplate=s.first),dr(s=pr())&&(o.footerTemplate=s.first),dr(s=pr())&&(o.triggerIconTemplate=s.first),dr(s=pr())&&(o.loadingIconTemplate=s.first),dr(s=pr())&&(o.groupIconTemplate=s.first),dr(s=pr())&&(o.clearIconTemplate=s.first),dr(s=pr())&&(o.templates=s)}},viewQuery:function(i,o){if(i&1&&(Ni(e3e,5),Ni(t3e,5),Ni(n3e,5),Ni(r3e,5)),i&2){let a;dr(a=pr())&&(o.focusInputViewChild=a.first),dr(a=pr())&&(o.containerViewChild=a.first),dr(a=pr())&&(o.panelViewChild=a.first),dr(a=pr())&&(o.overlayViewChild=a.first)}},inputs:{id:"id",searchMessage:"searchMessage",emptyMessage:"emptyMessage",selectionMessage:"selectionMessage",emptySearchMessage:"emptySearchMessage",emptySelectionMessage:"emptySelectionMessage",searchLocale:"searchLocale",optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",ai],selectOnFocus:[2,"selectOnFocus","selectOnFocus",ai],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ai],styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",size:"size",tabindex:[2,"tabindex","tabindex",Ts],ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:[2,"disabled","disabled",ai],showClear:[2,"showClear","showClear",ai],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",overlayOptions:"overlayOptions",autofocus:[2,"autofocus","autofocus",ai],showTransitionOptions:"showTransitionOptions",variant:"variant",loading:[2,"loading","loading",ai],loadingIcon:"loadingIcon",hideTransitionOptions:"hideTransitionOptions",fluid:[2,"fluid","fluid",ai],breakpoint:"breakpoint"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide",onFocus:"onFocus",onBlur:"onBlur"},features:[mi([N3e,Bj]),br,Ms],decls:20,vars:34,consts:[["container",""],["focusInput",""],["defaultValueTemplate",""],["elseBlock",""],["overlay",""],["content",""],["panel",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["readonly","","type","text","role","combobox","aria-haspopup","tree",3,"focus","blur","keydown","disabled","placeholder","tabindex","pAutoFocus"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-dropdown"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"visibleChange","onAnimationDone","onBeforeShow","onShow","onBeforeHide","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-cascadeselect-clear-icon",3,"click",4,"ngIf"],[1,"p-cascadeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],[3,"styleClass",4,"ngIf"],["class","p-cascadeselect-dropdown-icon",4,"ngIf"],[3,"styleClass"],[1,"p-cascadeselect-dropdown-icon"],[3,"ngClass","ngStyle"],[1,"p-cascadeselect-list-container"],[3,"onChange","onFocusChange","onFocusEnterChange","options","selectId","focusedOptionId","activeOptionPath","optionLabel","optionValue","level","optionTemplate","groupicon","optionGroupLabel","optionGroupChildren","optionDisabled","root","dirty","role"]],template:function(i,o){if(i&1){let a=Bo();Ht(0,"div",7,0),_r("click",function(l){return an(a),sn(o.onContainerClick(l))}),Ht(2,"div",8)(3,"input",9,1),_r("focus",function(l){return an(a),sn(o.onInputFocus(l))})("blur",function(l){return an(a),sn(o.onInputBlur(l))})("keydown",function(l){return an(a),sn(o.onInputKeyDown(l))}),en()(),Ht(5,"span",10),tr(6,s3e,2,5,"ng-container",11)(7,l3e,1,1,"ng-template",null,2,Od),en(),tr(9,p3e,3,2,"ng-container",12),Ht(10,"div",13),tr(11,b3e,3,2,"ng-container",11)(12,C3e,2,2,"ng-template",null,3,Od),en(),Ht(14,"span",14),sr(15),en(),Ht(16,"p-overlay",15,4),kd("visibleChange",function(l){return an(a),Rd(o.overlayVisible,l)||(o.overlayVisible=l),sn(l)}),_r("onAnimationDone",function(l){return an(a),sn(o.onOverlayAnimationDone(l))})("onBeforeShow",function(l){return an(a),sn(o.onBeforeShow.emit(l))})("onShow",function(l){return an(a),sn(o.show(l))})("onBeforeHide",function(l){return an(a),sn(o.onBeforeHide.emit(l))})("onHide",function(l){return an(a),sn(o.hide(l))}),tr(18,T3e,8,26,"ng-template",null,5,Od),en()()}if(i&2){let a,s,l=q3(8),u=q3(13);eo(o.styleClass),Ut("ngClass",o.containerClass)("ngStyle",o.style),nr("data-pc-name","cascadeselect")("data-pc-section","root"),It(2),nr("data-pc-section","hiddenInputWrapper"),It(),Ut("disabled",o.disabled)("placeholder",o.placeholder)("tabindex",o.disabled?-1:o.tabindex)("pAutoFocus",o.autofocus),nr("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-expanded",(a=o.overlayVisible)!==null&&a!==void 0?a:!1)("aria-controls",o.overlayVisible?o.id+"_tree":null)("aria-activedescendant",o.focused?o.focusedOptionId:void 0),It(2),Ut("ngClass",o.labelClass),nr("data-pc-section","label"),It(),Ut("ngIf",o.valueTemplate||o._valueTemplate)("ngIfElse",l),It(3),Ut("ngIf",o.filled&&!o.disabled&&o.showClear),It(),nr("aria-expanded",(s=o.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","dropdownIcon")("aria-hidden",!0),It(),Ut("ngIf",o.loading)("ngIfElse",u),It(4),H3(" ",o.searchResultMessageText," "),It(),Td("visible",o.overlayVisible),Ut("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:[Rs,pf,pu,Fd,Id,Fj,Jy,I3e,kj,Oj,Ns],encapsulation:2,changeDetection:0})}return e})(),$j=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[h6,Ns,Ns]})}return e})();var P3e=({dt:e})=>`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: ${e("tooltip.max.width")};
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 ${e("tooltip.gutter")};
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: ${e("tooltip.gutter")} 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: ${e("tooltip.background")};
    color: ${e("tooltip.color")};
    padding: ${e("tooltip.padding")};
    box-shadow: ${e("tooltip.shadow")};
    border-radius: ${e("tooltip.border.radius")};
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    top: 50%;
    left: 0;
    margin-top: calc(-1 * ${e("tooltip.gutter")});
    border-width: ${e("tooltip.gutter")} ${e("tooltip.gutter")} ${e("tooltip.gutter")} 0;
    border-right-color: ${e("tooltip.background")};
}

.p-tooltip-left .p-tooltip-arrow {
    top: 50%;
    right: 0;
    margin-top: calc(-1 * ${e("tooltip.gutter")});
    border-width: ${e("tooltip.gutter")} 0 ${e("tooltip.gutter")} ${e("tooltip.gutter")};
    border-left-color: ${e("tooltip.background")};
}

.p-tooltip-top .p-tooltip-arrow {
    bottom: 0;
    left: 50%;
    margin-left: calc(-1 * ${e("tooltip.gutter")});
    border-width: ${e("tooltip.gutter")} ${e("tooltip.gutter")} 0 ${e("tooltip.gutter")};
    border-top-color: ${e("tooltip.background")};
    border-bottom-color: ${e("tooltip.background")};
}

.p-tooltip-bottom .p-tooltip-arrow {
    top: 0;
    left: 50%;
    margin-left: calc(-1 * ${e("tooltip.gutter")});
    border-width: 0 ${e("tooltip.gutter")} ${e("tooltip.gutter")} ${e("tooltip.gutter")};
    border-top-color: ${e("tooltip.background")};
    border-bottom-color: ${e("tooltip.background")};
}
`,L3e={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},Uj=(()=>{class e extends So{name="tooltip";theme=P3e;classes=L3e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var zj=(()=>{class e extends na{zone;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(r){this._disabled=r,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:vg("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=ot(Uj);interactionInProgress=!1;constructor(r,i){super(),this.zone=r,this.viewContainer=i}ngAfterViewInit(){super.ngAfterViewInit(),ks(this.platformId)&&this.zone.runOutsideAngular(()=>{let r=this.getOption("tooltipEvent");if((r==="hover"||r==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),r==="focus"||r==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(r){super.ngOnChanges(r),r.tooltipPosition&&this.setOption({tooltipPosition:r.tooltipPosition.currentValue}),r.tooltipEvent&&this.setOption({tooltipEvent:r.tooltipEvent.currentValue}),r.appendTo&&this.setOption({appendTo:r.appendTo.currentValue}),r.positionStyle&&this.setOption({positionStyle:r.positionStyle.currentValue}),r.tooltipStyleClass&&this.setOption({tooltipStyleClass:r.tooltipStyleClass.currentValue}),r.tooltipZIndex&&this.setOption({tooltipZIndex:r.tooltipZIndex.currentValue}),r.escape&&this.setOption({escape:r.escape.currentValue}),r.showDelay&&this.setOption({showDelay:r.showDelay.currentValue}),r.hideDelay&&this.setOption({hideDelay:r.hideDelay.currentValue}),r.life&&this.setOption({life:r.life.currentValue}),r.positionTop&&this.setOption({positionTop:r.positionTop.currentValue}),r.positionLeft&&this.setOption({positionLeft:r.positionLeft.currentValue}),r.disabled&&this.setOption({disabled:r.disabled.currentValue}),r.content&&(this.setOption({tooltipLabel:r.content.currentValue}),this.active&&(r.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),r.autoHide&&this.setOption({autoHide:r.autoHide.currentValue}),r.id&&this.setOption({id:r.id.currentValue}),r.tooltipOptions&&(this._tooltipOptions=A(A({},this._tooltipOptions),r.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(r){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(r){this.isAutoHide()?this.deactivate():!(Ju(r.relatedTarget,"p-tooltip")||Ju(r.relatedTarget,"p-tooltip-text")||Ju(r.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(r){this.activate()}onBlur(r){this.deactivate()}onInputClick(r){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let r=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},r)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let r=document.createElement("div");r.className="p-tooltip-arrow",this.container.appendChild(r),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?u6(this.container,this.el.nativeElement):u6(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let r=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(r,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),lj(this.container,250),this.getOption("tooltipZIndex")==="auto"?mu.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&mu.clear(this.container),this.remove()}updateText(){let r=this.getOption("tooltipLabel");if(r instanceof Cd){let i=this.viewContainer.createEmbeddedView(r);i.detectChanges(),i.rootNodes.forEach(o=>this.tooltipText.appendChild(o))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(r))):this.tooltipText.innerHTML=r}align(){let r=this.getOption("tooltipPosition"),i={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]};for(let[o,a]of i[r].entries())if(o===0)a.call(this);else if(this.isOutOfBounds())a.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let r=this.el.nativeElement.getBoundingClientRect(),i=r.left+NT(),o=r.top+IT();return{left:i,top:o}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.startsWith("P-")?c6(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let r=this.activeElement,i=Ma(r),o=(Os(r)-Os(this.container))/2;this.alignTooltip(i,o)}alignLeft(){this.preAlign("left");let r=Ma(this.container),i=(Os(this.el.nativeElement)-Os(this.container))/2;this.alignTooltip(-r,i)}alignTop(){this.preAlign("top");let r=(Ma(this.el.nativeElement)-Ma(this.container))/2,i=Os(this.container);this.alignTooltip(r,-i)}alignBottom(){this.preAlign("bottom");let r=(Ma(this.el.nativeElement)-Ma(this.container))/2,i=Os(this.el.nativeElement);this.alignTooltip(r,i)}alignTooltip(r,i){let o=this.getHostOffset(),a=o.left+r,s=o.top+i;this.container.style.left=a+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(r){this._tooltipOptions=A(A({},this._tooltipOptions),r)}getOption(r){return this._tooltipOptions[r]}getTarget(r){return Ju(r,"p-inputwrapper")?c6(r,"input"):r}preAlign(r){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+r;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let r=this.container.getBoundingClientRect(),i=r.top,o=r.left,a=Ma(this.container),s=Os(this.container),l=gg();return o+a>l.width||o<0||i<0||i+s>l.height}onWindowResize(r){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new fp(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let r=this.getOption("tooltipEvent");if((r==="hover"||r==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),r==="focus"||r==="both"){let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):pj(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),super.ngOnDestroy(),this.container&&mu.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(i){return new(i||e)(Pn(Hi),Pn(Ed))};static \u0275dir=Mr({type:e,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",ai],showDelay:[2,"showDelay","showDelay",Ts],hideDelay:[2,"hideDelay","hideDelay",Ts],life:[2,"life","life",Ts],positionTop:[2,"positionTop","positionTop",Ts],positionLeft:[2,"positionLeft","positionLeft",Ts],autoHide:[2,"autoHide","autoHide",ai],fitContent:[2,"fitContent","fitContent",ai],hideOnEscape:[2,"hideOnEscape","hideOnEscape",ai],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[mi([Uj]),br,Ms]})}return e})(),Vj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({})}return e})();var $3e=["container"],U3e=["input"],z3e=["colorSelector"],V3e=["colorHandle"],q3e=["hue"],H3e=["hueHandle"],G3e=(e,t)=>({"p-colorpicker p-component":!0,"p-colorpicker-overlay":e,"p-colorpicker-dragging":t}),j3e=e=>({"p-disabled":e}),W3e=(e,t)=>({"p-colorpicker-panel":!0,"p-colorpicker-panel-inline":e,"p-disabled":t}),Y3e=(e,t)=>({showTransitionParams:e,hideTransitionParams:t}),X3e=e=>({value:"visible",params:e});function K3e(e,t){if(e&1){let r=Bo();Ht(0,"input",9,1),_r("click",function(){an(r);let o=Ft();return sn(o.onInputClick())})("keydown",function(o){an(r);let a=Ft();return sn(a.onInputKeydown(o))})("focus",function(){an(r);let o=Ft();return sn(o.onInputFocus())}),en()}if(e&2){let r=Ft();YM("background-color",r.inputBgColor),Ut("ngClass",Ul(9,j3e,r.disabled))("disabled",r.disabled)("pAutoFocus",r.autofocus),nr("tabindex",r.tabindex)("id",r.inputId)("data-pc-section","input")("aria-label",r.ariaLabel)}}function Q3e(e,t){if(e&1){let r=Bo();Ht(0,"div",10),_r("click",function(o){an(r);let a=Ft();return sn(a.onOverlayClick(o))})("@overlayAnimation.start",function(o){an(r);let a=Ft();return sn(a.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){an(r);let a=Ft();return sn(a.onOverlayAnimationEnd(o))}),Ht(1,"div",11)(2,"div",12,2),_r("touchstart",function(o){an(r);let a=Ft();return sn(a.onColorDragStart(o))})("touchmove",function(o){an(r);let a=Ft();return sn(a.onDrag(o))})("touchend",function(){an(r);let o=Ft();return sn(o.onDragEnd())})("mousedown",function(o){an(r);let a=Ft();return sn(a.onColorMousedown(o))}),Ht(4,"div",13),Vr(5,"div",14,3),en()(),Ht(7,"div",15,4),_r("mousedown",function(o){an(r);let a=Ft();return sn(a.onHueMousedown(o))})("touchstart",function(o){an(r);let a=Ft();return sn(a.onHueDragStart(o))})("touchmove",function(o){an(r);let a=Ft();return sn(a.onDrag(o))})("touchend",function(){an(r);let o=Ft();return sn(o.onDragEnd())}),Vr(9,"div",16,5),en()()()}if(e&2){let r=Ft();Ut("ngClass",$h(10,W3e,r.inline,r.disabled))("@overlayAnimation",Ul(16,X3e,$h(13,Y3e,r.showTransitionOptions,r.hideTransitionOptions)))("@.disabled",r.inline===!0),nr("data-pc-section","panel"),It(),nr("data-pc-section","content"),It(),nr("data-pc-section","selector"),It(2),nr("data-pc-section","color"),It(),nr("data-pc-section","colorHandle"),It(2),nr("data-pc-section","hue"),It(2),nr("data-pc-section","hueHandle")}}var Z3e=({dt:e})=>`
.p-colorpicker {
    display: inline-block;
    position: relative;
}

.p-colorpicker-dragging {
    cursor: pointer;
}

.p-colorpicker-preview {
    width: ${e("colorpicker.preview.width")};
    height: ${e("colorpicker.preview.height")};
    padding: 0;
    border: 0 none;
    border-radius: ${e("colorpicker.preview.border.radius")};
    transition: background ${e("colorpicker.transition.duration")}, color ${e("colorpicker.transition.duration")}, border-color ${e("colorpicker.transition.duration")}, outline-color ${e("colorpicker.transition.duration")}, box-shadow ${e("colorpicker.transition.duration")};
    outline-color: transparent;
    cursor: pointer;
}

.p-colorpicker-preview:enabled:focus-visible {
    border-color: ${e("colorpicker.preview.focus.border.color")};
    box-shadow: ${e("colorpicker.preview.focus.ring.shadow")};
    outline: ${e("colorpicker.preview.focus.ring.width")} ${e("colorpicker.preview.focus.ring.style")} ${e("colorpicker.preview.focus.ring.color")};
    outline-offset: ${e("colorpicker.preview.focus.ring.offset")};
}

.p-colorpicker-panel {
    background: ${e("colorpicker.panel.background")};
    border: 1px solid ${e("colorpicker.panel.border.color")};
    border-radius: ${e("colorpicker.panel.border.radius")};
    box-shadow: ${e("colorpicker.panel.shadow")};
    width: 193px;
    height: 166px;
    position: absolute;
    top: 0;
    left: 0;
}

.p-colorpicker-panel:dir(rtl) {
    left: auto;
    right: 0;
}

.p-colorpicker-panel-inline {
    box-shadow: none;
    position: static;
}

.p-colorpicker-content {
    position: relative;
}

.p-colorpicker-color-selector {
    width: 150px;
    height: 150px;
    top: 8px;
    left: 8px;
    position: absolute;
}

.p-colorpicker-color-selector:dir(rtl) {
    left: auto;
    right: 8px;
}

.p-colorpicker-color-background {
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
}

.p-colorpicker-color-handle {
    position: absolute;
    top: 0px;
    left: 150px;
    border-radius: 100%;
    width: 10px;
    height: 10px;
    border-width: 1px;
    border-style: solid;
    margin: -5px 0 0 -5px;
    cursor: pointer;
    opacity: 0.85;
    border-color: ${e("colorpicker.handle.color")};
}

.p-colorpicker-color-handle:dir(rtl) {
    left: auto;
    right: 150px;
    margin: -5px -5px 0 0;
}

.p-colorpicker-hue {
    width: 17px;
    height: 150px;
    top: 8px;
    left: 167px;
    position: absolute;
    opacity: 0.85;
    background: linear-gradient(0deg,
        red 0,
        #ff0 17%,
        #0f0 33%,
        #0ff 50%,
        #00f 67%,
        #f0f 83%,
        red);
}

.p-colorpicker-hue:dir(rtl) {
    left: auto;
    right: 167px;
}

.p-colorpicker-hue-handle {
    position: absolute;
    top: 150px;
    left: 0px;
    width: 21px;
    margin-left: -2px;
    margin-top: -5px;
    height: 10px;
    border-width: 2px;
    border-style: solid;
    opacity: 0.85;
    cursor: pointer;
    border-color: ${e("colorpicker.handle.color")};
}

.p-colorpicker-hue-handle:dir(rtl) {
    left: auto;
    right: 0px;
    margin-left: 0;
    margin-right: -2px;
}
`,J3e={root:"p-colorpicker p-component",preview:({props:e})=>["p-colorpicker-preview",{"p-disabled":e.disabled}],panel:({props:e})=>["p-colorpicker-panel",{"p-colorpicker-panel-inline":e.inline,"p-disabled":e.disabled}],content:"p-colorpicker-content",colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},qj=(()=>{class e extends So{name="colorpicker";theme=Z3e;classes=J3e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var e6e={provide:Pd,useExisting:Qa(()=>eb),multi:!0},eb=(()=>{class e extends na{overlayService;style;styleClass;inline;format="hex";appendTo;disabled;tabindex;inputId;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;onChange=new er;onShow=new er;onHide=new er;containerViewChild;inputViewChild;value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;defaultColor="ff0000";onModelChange=()=>{};onModelTouched=()=>{};documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;_componentStyle=ot(qj);constructor(r){super(),this.overlayService=r}set colorSelector(r){this.colorSelectorViewChild=r}set colorHandle(r){this.colorHandleViewChild=r}set hue(r){this.hueViewChild=r}set hueHandle(r){this.hueHandleViewChild=r}get ariaLabel(){return this.config?.getTranslation(p6.ARIA)[p6.SELECT_COLOR]}onHueMousedown(r){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(r))}onHueDragStart(r){this.disabled||(this.hueDragging=!0,this.pickHue(r,r.changedTouches[0]))}onColorDragStart(r){this.disabled||(this.colorDragging=!0,this.pickColor(r,r.changedTouches[0]))}pickHue(r,i){let o=i?i.pageY:r.pageY,a=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,o-a)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:r,value:this.getValueToUpdate()})}onColorMousedown(r){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(r))}onDrag(r){this.colorDragging&&(this.pickColor(r,r.changedTouches[0]),r.preventDefault()),this.hueDragging&&(this.pickHue(r,r.changedTouches[0]),r.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(r,i){let o=i?i.pageX:r.pageX,a=i?i.pageY:r.pageY,s=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),l=s.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),u=s.left+this.document.body.scrollLeft,c=Math.floor(100*Math.max(0,Math.min(150,o-u))/150),f=Math.floor(100*(150-Math.max(0,Math.min(150,a-l)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:f}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:r,value:this.getValueToUpdate()})}getValueToUpdate(){let r;switch(this.format){case"hex":r="#"+this.HSBtoHEX(this.value);break;case"rgb":r=this.HSBtoRGB(this.value);break;case"hsb":r=this.value;break}return r}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}writeValue(r){if(r)switch(this.format){case"hex":this.value=this.HEXtoHSB(r);break;case"rgb":this.value=this.RGBtoHSB(r);break;case"hsb":this.value=r;break}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){let r={};r.s=100,r.b=100,r.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(r)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(r){switch(r.toState){case"visible":this.inline||(this.overlay=r.element,this.appendOverlay(),this.autoZIndex&&mu.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(r){switch(r.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&mu.clear(r.element),this.onHide.emit({});break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):u6(this.appendTo,this.overlay))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?oj(this.overlay,this.inputViewChild?.nativeElement):aj(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(r){switch(r.code){case"Space":this.togglePanel(),r.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(r){this.overlayService.add({originalEvent:r,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}setDisabledState(r){this.disabled=r,this.cd.markForCheck()}bindDocumentClickListener(){if(!this.documentClickListener){let r=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(r,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let r=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(r,"mousemove",i=>{this.colorDragging&&this.pickColor(i),this.hueDragging&&this.pickHue(i)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let r=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(r,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){ks(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Yh()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new fp(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(r){return{h:Math.min(360,Math.max(0,r.h)),s:Math.min(100,Math.max(0,r.s)),b:Math.min(100,Math.max(0,r.b))}}validateRGB(r){return{r:Math.min(255,Math.max(0,r.r)),g:Math.min(255,Math.max(0,r.g)),b:Math.min(255,Math.max(0,r.b))}}validateHEX(r){var i=6-r.length;if(i>0){for(var o=[],a=0;a<i;a++)o.push("0");o.push(r),r=o.join("")}return r}HEXtoRGB(r){let i=parseInt(r.indexOf("#")>-1?r.substring(1):r,16);return{r:i>>16,g:(i&65280)>>8,b:i&255}}HEXtoHSB(r){return this.RGBtoHSB(this.HEXtoRGB(r))}RGBtoHSB(r){var i={h:0,s:0,b:0},o=Math.min(r.r,r.g,r.b),a=Math.max(r.r,r.g,r.b),s=a-o;return i.b=a,i.s=a!=0?255*s/a:0,i.s!=0?r.r==a?i.h=(r.g-r.b)/s:r.g==a?i.h=2+(r.b-r.r)/s:i.h=4+(r.r-r.g)/s:i.h=-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.b*=100/255,i}HSBtoRGB(r){var i={r:0,g:0,b:0};let o=r.h,a=r.s*255/100,s=r.b*255/100;if(a==0)i={r:s,g:s,b:s};else{let l=s,u=(255-a)*s/255,c=(l-u)*(o%60)/60;o==360&&(o=0),o<60?(i.r=l,i.b=u,i.g=u+c):o<120?(i.g=l,i.b=u,i.r=l-c):o<180?(i.g=l,i.r=u,i.b=u+c):o<240?(i.b=l,i.r=u,i.g=l-c):o<300?(i.b=l,i.g=u,i.r=u+c):o<360?(i.r=l,i.g=u,i.b=l-c):(i.r=0,i.g=0,i.b=0)}return{r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b)}}RGBtoHEX(r){var i=[r.r.toString(16),r.g.toString(16),r.b.toString(16)];for(var o in i)i[o].length==1&&(i[o]="0"+i[o]);return i.join("")}HSBtoHEX(r){return this.RGBtoHEX(this.HSBtoRGB(r))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngAfterViewInit(){this.inline&&(this.updateColorSelector(),this.updateUI())}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&mu.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||e)(Pn(yg))};static \u0275cmp=hi({type:e,selectors:[["p-colorPicker"],["p-colorpicker"],["p-color-picker"]],viewQuery:function(i,o){if(i&1&&(Ni($3e,5),Ni(U3e,5),Ni(z3e,5),Ni(V3e,5),Ni(q3e,5),Ni(H3e,5)),i&2){let a;dr(a=pr())&&(o.containerViewChild=a.first),dr(a=pr())&&(o.inputViewChild=a.first),dr(a=pr())&&(o.colorSelector=a.first),dr(a=pr())&&(o.colorHandle=a.first),dr(a=pr())&&(o.hue=a.first),dr(a=pr())&&(o.hueHandle=a.first)}},inputs:{style:"style",styleClass:"styleClass",inline:[2,"inline","inline",ai],format:"format",appendTo:"appendTo",disabled:[2,"disabled","disabled",ai],tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",ai],baseZIndex:[2,"baseZIndex","baseZIndex",Ts],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",ai]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[mi([e6e,qj]),br],decls:4,vars:11,consts:[["container",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview","readonly","readonly",3,"ngClass","disabled","backgroundColor","pAutoFocus","click","keydown","focus",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview",3,"click","keydown","focus","ngClass","disabled","pAutoFocus"],[3,"click","ngClass"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],[1,"p-colorpicker-color-background"],[1,"p-colorpicker-color-handle"],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],[1,"p-colorpicker-hue-handle"]],template:function(i,o){i&1&&(Ht(0,"div",6,0),tr(2,K3e,2,11,"input",7)(3,Q3e,11,18,"div",8),en()),i&2&&(eo(o.styleClass),Ut("ngStyle",o.style)("ngClass",$h(8,G3e,!o.inline,o.colorDragging||o.hueDragging)),nr("data-pc-name","colorpicker")("data-pc-section","root"),It(2),Ut("ngIf",!o.inline),It(),Ut("ngIf",o.inline||o.overlayVisible))},dependencies:[Rs,pf,pu,Id,Tj,Jy,Ns],encapsulation:2,data:{animation:[G3("overlayAnimation",[qh(":enter",[Vh({opacity:0,transform:"scaleY(0.8)"}),zh("{{showTransitionParams}}")]),qh(":leave",[zh("{{hideTransitionParams}}",Vh({opacity:0}))])])]},changeDetection:0})}return e})(),Hj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[eb,Ns,Ns]})}return e})();var n6e=["*"],r6e=["panel"],i6e=["container"],o6e=e=>({display:"flex","flex-wrap":"nowrap","flex-direction":e});function a6e(e,t){e&1&&Dd(0)}function s6e(e,t){if(e&1){let r=Bo();Ht(0,"div",6),_r("mousedown",function(o){an(r);let a=Ft().index,s=Ft();return sn(s.onGutterMouseDown(o,a))})("touchstart",function(o){an(r);let a=Ft().index,s=Ft();return sn(s.onGutterTouchStart(o,a))})("touchmove",function(o){an(r);let a=Ft(2);return sn(a.onGutterTouchMove(o))})("touchend",function(o){an(r);let a=Ft(2);return sn(a.onGutterTouchEnd(o))}),Ht(1,"div",7),_r("keyup",function(o){an(r);let a=Ft(2);return sn(a.onGutterKeyUp(o))})("keydown",function(o){an(r);let a=Ft().index,s=Ft();return sn(s.onGutterKeyDown(o,a))}),en()()}if(e&2){let r=Ft(2);nr("data-p-gutter-resizing",!1)("data-pc-section","gutter"),It(),Ut("ngStyle",r.gutterStyle()),nr("aria-orientation",r.layout)("aria-valuenow",r.prevSize)("data-pc-section","gutterhandle")}}function l6e(e,t){if(e&1&&(Ht(0,"div",3),tr(1,a6e,1,0,"ng-container",4),en(),tr(2,s6e,2,6,"div",5)),e&2){let r=t.$implicit,i=t.index,o=Ft();eo(o.panelStyleClass),Ut("ngClass",o.panelContainerClass())("ngStyle",o.panelStyle),nr("data-pc-name","splitter")("data-pc-section","root"),It(),Ut("ngTemplateOutlet",r),It(),Ut("ngIf",i!==o.panels.length-1)}}var u6e=({dt:e})=>`
.p-splitter {
    display: flex;
    flex-wrap: nowrap;
    border: 1px solid ${e("splitter.border.color")};
    background: ${e("splitter.background")};
    border-radius: ${e("border.radius.md")};
    color: ${e("splitter.color")};
}

.p-splitter-vertical {
    flex-direction: column;
}

.p-splitter-gutter {
    flex-grow: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
    background: ${e("splitter.gutter.background")};
}

.p-splitter-gutter-handle {
    border-radius: ${e("splitter.handle.border.radius")};
    background: ${e("splitter.handle.background")};
    transition: outline-color ${e("splitter.transition.duration")}, box-shadow ${e("splitter.transition.duration")};
    outline-color: transparent;
}

.p-splitter-gutter-handle:focus-visible {
    box-shadow: ${e("splitter.handle.focus.ring.shadow")};
    outline: ${e("splitter.handle.focus.ring.width")} ${e("splitter.handle.focus.ring.style")} ${e("splitter.handle.focus.ring.color")};
    outline-offset: ${e("splitter.handle.focus.ring.offset")};
}

.p-splitter-horizontal.p-splitter-resizing {
    cursor: col-resize;
    user-select: none;
}

.p-splitter-vertical.p-splitter-resizing {
    cursor: row-resize;
    user-select: none;
}

.p-splitter-horizontal > .p-splitter-gutter > .p-splitter-gutter-handle {
    height: ${e("splitter.handle.size")};
    width: 100%;
}

.p-splitter-vertical > .p-splitter-gutter > .p-splitter-gutter-handle {
    width: ${e("splitter.handle.size")};
    height: 100%;
}

.p-splitter-horizontal > .p-splitter-gutter {
    cursor: col-resize;
}

.p-splitter-vertical > .p-splitter-gutter {
    cursor: row-resize;
}

.p-splitterpanel {
    flex-grow: 1;
    overflow: hidden;
}

.p-splitterpanel-nested {
    display: flex;
    flex-grow: 1;
    justify-content: center;
}

.p-splitterpanel .p-splitter {
    flex-grow: 1;
    border: 0 none;
}
`,c6e={root:({props:e})=>["p-splitter p-component","p-splitter-"+e.layout],gutter:"p-splitter-gutter",gutterHandle:"p-splitter-gutter-handle"},Gj=(()=>{class e extends So{name="splitter";theme=u6e;classes=c6e;static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();var f6e=(()=>{class e extends na{splitter=dH(Qa(()=>m6));nestedState=df(()=>this.splitter());static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["p-splitter-panel"]],contentQueries:function(i,o,a){i&1&&vH(a,o.splitter,m6,5),i&2&&yH()},hostAttrs:[1,"p-splitterpanel"],features:[br],ngContentSelectors:n6e,decls:1,vars:0,template:function(i,o){i&1&&(Ad(),Md(0))},dependencies:[Rs],encapsulation:2,changeDetection:0})}return e})(),m6=(()=>{class e extends na{styleClass;panelStyleClass;style;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(r){if(this._panelSizes=r,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children[0].children].filter(a=>Ju(a,"p-splitterpanel")),o=[];this.panels.map((a,s)=>{let u=(this.panelSizes.length-1>=s?this.panelSizes[s]:null)||100/this.panels.length;o[s]=u,i[s].style.flexBasis="calc("+u+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new er;onResizeStart=new er;containerViewChild;templates;panelChildren;nested=!1;panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;_componentStyle=ot(Gj);ngOnInit(){super.ngOnInit(),this.nested=this.isNested()}ngAfterContentInit(){this.templates&&this.templates.toArray().length>0&&this.templates.forEach(r=>{switch(r.getType()){case"panel":this.panels.push(r.template);break;default:this.panels.push(r.template);break}}),this.panelChildren&&this.panelChildren.toArray().length>0&&this.panelChildren.forEach(r=>{this.panels.push(r)})}ngAfterViewInit(){if(super.ngAfterViewInit(),ks(this.platformId)&&this.panels&&this.panels.length){let r=!1;if(this.isStateful()&&(r=this.restoreState()),!r){let i=[...this.el.nativeElement.children[0].children].filter(a=>Ju(a,"p-splitterpanel")),o=[];this.panels.map((a,s)=>{let u=(this.panelSizes.length-1>=s?this.panelSizes[s]:null)||100/this.panels.length;o[s]=u,i[s].style.flexBasis="calc("+u+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=o,this.prevSize=parseFloat(o[0]).toFixed(4)}}}resizeStart(r,i,o){this.gutterElement=r.currentTarget||r.target.parentElement,this.size=this.horizontal()?d6(this.containerViewChild.nativeElement):f6(this.containerViewChild.nativeElement),o||(this.dragging=!0,this.startPos=this.horizontal()?r instanceof MouseEvent?r.pageX:r.changedTouches[0].pageX:r instanceof MouseEvent?r.pageY:r.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,o?(this.prevPanelSize=this.horizontal()?Ma(this.prevPanelElement,!0):Os(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?Ma(this.nextPanelElement,!0):Os(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?Ma(this.prevPanelElement,!0):Os(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?Ma(this.nextPanelElement,!0):Os(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=i,lp(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),lp(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.containerViewChild.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:r,sizes:this._panelSizes})}onResize(r,i,o){let a,s,l;o?this.horizontal()?(s=100*(this.prevPanelSize+i)/this.size,l=100*(this.nextPanelSize-i)/this.size):(s=100*(this.prevPanelSize-i)/this.size,l=100*(this.nextPanelSize+i)/this.size):(this.horizontal()?fj(this.el.nativeElement)?a=(this.startPos-r.pageX)*100/this.size:a=(r.pageX-this.startPos)*100/this.size:a=(r.pageY-this.startPos)*100/this.size,s=this.prevPanelSize+a,l=this.nextPanelSize-a),this.prevSize=parseFloat(s).toFixed(4),this.validateResize(s,l)&&(this.prevPanelElement.style.flexBasis="calc("+s+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+l+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=s,this._panelSizes[this.prevPanelIndex+1]=l)}resizeEnd(r){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:r,sizes:this._panelSizes}),hf(this.gutterElement,"p-splitter-gutter-resizing"),hf(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(r,i){this.resizeStart(r,i),this.bindMouseListeners()}onGutterTouchStart(r,i){r.cancelable&&(this.resizeStart(r,i),this.bindTouchListeners(),r.preventDefault())}onGutterTouchMove(r){this.onResize(r),r.preventDefault()}onGutterTouchEnd(r){this.resizeEnd(r),this.unbindTouchListeners(),r.cancelable&&r.preventDefault()}repeat(r,i,o){this.resizeStart(r,i,!0),this.onResize(r,o,!0)}setTimer(r,i,o){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(r,i,o)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(r){this.clearTimer(),this.resizeEnd(r)}onGutterKeyDown(r,i){switch(r.code){case"ArrowLeft":{this.layout==="horizontal"&&this.setTimer(r,i,this.step*-1),r.preventDefault();break}case"ArrowRight":{this.layout==="horizontal"&&this.setTimer(r,i,this.step),r.preventDefault();break}case"ArrowDown":{this.layout==="vertical"&&this.setTimer(r,i,this.step*-1),r.preventDefault();break}case"ArrowUp":{this.layout==="vertical"&&this.setTimer(r,i,this.step),r.preventDefault();break}default:break}}validateResize(r,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>r||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",r=>{this.onResize(r)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",r=>{this.resizeEnd(r),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",r=>{this.onResize(r.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",r=>{this.resizeEnd(r),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isNested(){if(this.el.nativeElement){let r=this.el.nativeElement.parentElement;for(;r&&!Ju(r,"p-splitter");)r=r.parentElement;return r!==null}else return!1}isStateful(){return this.stateKey!=null}getStorage(){if(ks(this.platformId))switch(this.stateStorage){case"local":return this.document.defaultView.localStorage;case"session":return this.document.defaultView.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Storage is not a available by default on the server.")}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){let i=this.getStorage().getItem(this.stateKey);return i?(this._panelSizes=JSON.parse(i),[...this.containerViewChild.nativeElement.children].filter(a=>Ju(a,"p-splitterpanel")).forEach((a,s)=>{a.style.flexBasis="calc("+this._panelSizes[s]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0):!1}containerClass(){return{"p-splitter p-component":!0,"p-splitter-horizontal":this.layout==="horizontal","p-splitter-vertical":this.layout==="vertical"}}panelContainerClass(){return{"p-splitterpanel":!0,"p-splitterpanel-nested":!0}}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return this.layout==="horizontal"}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275cmp=hi({type:e,selectors:[["p-splitter"]],contentQueries:function(i,o,a){if(i&1&&(ta(a,cp,4),ta(a,r6e,4)),i&2){let s;dr(s=pr())&&(o.templates=s),dr(s=pr())&&(o.panelChildren=s)}},viewQuery:function(i,o){if(i&1&&Ni(i6e,5),i&2){let a;dr(a=pr())&&(o.containerViewChild=a.first)}},hostVars:2,hostBindings:function(i,o){i&2&&tp("p-splitterpanel-nested",o.nested)},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",style:"style",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:[2,"gutterSize","gutterSize",Ts],step:[2,"step","step",Ts],minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},features:[mi([Gj]),br],decls:3,vars:12,consts:[["container",""],[3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-splitter-gutter","role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",1,"p-splitter-gutter",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",1,"p-splitter-gutter-handle",3,"keyup","keydown","ngStyle"]],template:function(i,o){i&1&&(Ht(0,"div",1,0),tr(2,l6e,3,8,"ng-template",2),en()),i&2&&(oy(Ul(10,o6e,o.layout==="vertical"?"column":"")),eo(o.styleClass),Ut("ngClass",o.containerClass())("ngStyle",o.style),nr("data-pc-name","splitter")("data-p-gutter-resizing",!1)("data-pc-section","root"),It(2),Ut("ngForOf",o.panels))},dependencies:[Rs,pf,op,pu,Fd,Id,Ns],encapsulation:2,changeDetection:0})}return e})(),jj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[m6,f6e,Ns,Ns]})}return e})();var p6e="@",h6e=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=ot(Aa);loadingSchedulerFn=ot(m6e,{optional:!0});_engine;constructor(r,i,o,a,s){this.doc=r,this.delegate=i,this.zone=o,this.animationType=a,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let r=()=>this.moduleImpl??import("./chunk-FWTBYEHK.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(r):i=r(),i.catch(o=>{throw new hr(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let s=new a(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(r,i){let o=this.delegate.createRenderer(r,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new HT(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let l=s.createRenderer(r,i);a.use(l),this.scheduler??=this.injector.get(aH,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(r){this._engine?.flush(),this.delegate.componentReplaced?.(r)}static \u0275fac=function(i){ey()};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),HT=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let r of this.replay)r(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,r){this.delegate.appendChild(t,r)}insertBefore(t,r,i,o){this.delegate.insertBefore(t,r,i,o)}removeChild(t,r,i){this.delegate.removeChild(t,r,i)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,i,o){this.delegate.setAttribute(t,r,i,o)}removeAttribute(t,r,i){this.delegate.removeAttribute(t,r,i)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,i,o){this.delegate.setStyle(t,r,i,o)}removeStyle(t,r,i){this.delegate.removeStyle(t,r,i)}setProperty(t,r,i){this.shouldReplay(r)&&this.replay.push(o=>o.setProperty(t,r,i)),this.delegate.setProperty(t,r,i)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,i,o){return this.shouldReplay(r)&&this.replay.push(a=>a.listen(t,r,i,o)),this.delegate.listen(t,r,i,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(p6e)}},m6e=new Ln("");function Wj(e="animations"){return B3("NgAsyncAnimations"),Lh([{provide:Jv,useFactory:(t,r,i)=>new h6e(t,r,i,e),deps:[Nr,J3,Hi]},{provide:cH,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Yj={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var Xj={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var Kj={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var Qj={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var Zj={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var Jj={root:{borderRadius:"{content.border.radius}"}};var eW={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var tW={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var nW={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var rW={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var iW={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var oW={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var aW={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var sW={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var lW={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var uW={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var cW={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var fW={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},dropPoint:{color:"{primary.color}"},columnResizer:{width:"0.5rem"},resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var dW={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var pW={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var hW={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var mW={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var gW={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var vW={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var yW={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var bW={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var xW={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var wW={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var _W={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var SW={icon:{color:"{form.field.icon.color}"}};var CW={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var EW={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var DW={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var AW={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var MW={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var TW={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var RW={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var kW={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var OW={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var NW={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var IW={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var FW={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var PW={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var LW={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var BW={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var $W={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var UW={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var zW={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var VW={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var qW={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var HW={root:{outline:{width:"2px",color:"{content.background}"}}};var GW={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var jW={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var WW={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var YW={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var XW={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var KW={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var QW={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var ZW={colorScheme:{light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}}};var JW={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var eY={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var tY={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var nY={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var rY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var iY={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var oY={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var aY={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}}};var sY={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var lY={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var uY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var cY={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var fY={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var dY={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var pY={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var hY={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var mY={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var gY={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var vY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var yY={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var bY={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var xY={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var wY={root:{padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var _Y={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var SY={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var CY={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var EY={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var DY={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var AY={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizer:{width:"0.5rem"},resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var MY={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var TY=_e(A({},Zj),{components:{accordion:Yj,autocomplete:Xj,avatar:Kj,badge:Qj,blockui:Jj,breadcrumb:eW,button:tW,datepicker:pW,card:nW,carousel:rW,cascadeselect:iW,checkbox:oW,chip:aW,colorpicker:sW,confirmdialog:lW,confirmpopup:uW,contextmenu:cW,dataview:dW,datatable:fW,dialog:hW,divider:mW,dock:gW,drawer:vW,editor:yW,fieldset:bW,fileupload:xW,iftalabel:CW,floatlabel:wW,galleria:_W,iconfield:SW,image:EW,imagecompare:DW,inlinemessage:AW,inplace:MW,inputchips:TW,inputgroup:RW,inputnumber:kW,inputotp:OW,inputtext:NW,knob:IW,listbox:FW,megamenu:PW,menu:LW,menubar:BW,message:$W,metergroup:UW,multiselect:zW,orderlist:VW,organizationchart:qW,overlaybadge:HW,popover:KW,paginator:GW,password:YW,panel:jW,panelmenu:WW,picklist:XW,progressbar:QW,progressspinner:ZW,radiobutton:JW,rating:eY,scrollpanel:nY,select:rY,selectbutton:iY,skeleton:oY,slider:aY,speeddial:sY,splitter:uY,splitbutton:lY,stepper:cY,steps:fY,tabmenu:dY,tabs:pY,tabview:hY,textarea:vY,tieredmenu:yY,tag:mY,terminal:gY,timeline:bY,togglebutton:wY,toggleswitch:_Y,tree:EY,treeselect:DY,treetable:AY,toast:xY,toolbar:SY,virtualscroller:MY,tooltip:CY,ripple:tY}});var rr="primary",M6=Symbol("RouteTitle"),XT=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Jh(e){return new XT(e)}function LY(e,t,r){let i=r.path.split("/");if(i.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let o={};for(let a=0;a<i.length;a++){let s=i[a],l=e[a];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function g6e(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!mf(e[r],t[r]))return!1;return!0}function mf(e,t){let r=e?KT(e):void 0,i=t?KT(t):void 0;if(!r||!i||r.length!=i.length)return!1;let o;for(let a=0;a<r.length;a++)if(o=r[a],!BY(e[o],t[o]))return!1;return!0}function KT(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function BY(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),i=[...t].sort();return r.every((o,a)=>i[a]===o)}else return e===t}function $Y(e){return e.length>0?e[e.length-1]:null}function vp(e){return Xq(e)?e:z3(e)?Zo(Promise.resolve(e)):Cn(e)}var v6e={exact:zY,subset:VY},UY={exact:y6e,subset:b6e,ignored:()=>!0};function RY(e,t,r){return v6e[r.paths](e.root,t.root,r.matrixParams)&&UY[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function y6e(e,t){return mf(e,t)}function zY(e,t,r){if(!Qh(e.segments,t.segments)||!rb(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!zY(e.children[i],t.children[i],r))return!1;return!0}function b6e(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>BY(e[r],t[r]))}function VY(e,t,r){return qY(e,t,t.segments,r)}function qY(e,t,r,i){if(e.segments.length>r.length){let o=e.segments.slice(0,r.length);return!(!Qh(o,r)||t.hasChildren()||!rb(o,r,i))}else if(e.segments.length===r.length){if(!Qh(e.segments,r)||!rb(e.segments,r,i))return!1;for(let o in t.children)if(!e.children[o]||!VY(e.children[o],t.children[o],i))return!1;return!0}else{let o=r.slice(0,e.segments.length),a=r.slice(e.segments.length);return!Qh(e.segments,o)||!rb(e.segments,o,i)||!e.children[rr]?!1:qY(e.children[rr],t,a,i)}}function rb(e,t,r){return t.every((i,o)=>UY[r](e[o].parameters,i.parameters))}var vf=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Jr([],{}),r={},i=null){this.root=t,this.queryParams=r,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Jh(this.queryParams),this._queryParamMap}toString(){return _6e.serialize(this)}},Jr=class{segments;children;parent=null;constructor(t,r){this.segments=t,this.children=r,Object.values(r).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ib(this)}},pp=class{path;parameters;_parameterMap;constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=Jh(this.parameters),this._parameterMap}toString(){return GY(this)}};function x6e(e,t){return Qh(e,t)&&e.every((r,i)=>mf(r.parameters,t[i].parameters))}function Qh(e,t){return e.length!==t.length?!1:e.every((r,i)=>r.path===t[i].path)}function w6e(e,t){let r=[];return Object.entries(e.children).forEach(([i,o])=>{i===rr&&(r=r.concat(t(o,i)))}),Object.entries(e.children).forEach(([i,o])=>{i!==rr&&(r=r.concat(t(o,i)))}),r}var e1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>new hp,providedIn:"root"})}return e})(),hp=class{parse(t){let r=new ZT(t);return new vf(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${g6(t.root,!0)}`,i=E6e(t.queryParams),o=typeof t.fragment=="string"?`#${S6e(t.fragment)}`:"";return`${r}${i}${o}`}},_6e=new hp;function ib(e){return e.segments.map(t=>GY(t)).join("/")}function g6(e,t){if(!e.hasChildren())return ib(e);if(t){let r=e.children[rr]?g6(e.children[rr],!1):"",i=[];return Object.entries(e.children).forEach(([o,a])=>{o!==rr&&i.push(`${o}:${g6(a,!1)}`)}),i.length>0?`${r}(${i.join("//")})`:r}else{let r=w6e(e,(i,o)=>o===rr?[g6(e.children[rr],!1)]:[`${o}:${g6(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[rr]!=null?`${ib(e)}/${r[0]}`:`${ib(e)}/(${r.join("//")})`}}function HY(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tb(e){return HY(e).replace(/%3B/gi,";")}function S6e(e){return encodeURI(e)}function QT(e){return HY(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ob(e){return decodeURIComponent(e)}function kY(e){return ob(e.replace(/\+/g,"%20"))}function GY(e){return`${QT(e.path)}${C6e(e.parameters)}`}function C6e(e){return Object.entries(e).map(([t,r])=>`;${QT(t)}=${QT(r)}`).join("")}function E6e(e){let t=Object.entries(e).map(([r,i])=>Array.isArray(i)?i.map(o=>`${tb(r)}=${tb(o)}`).join("&"):`${tb(r)}=${tb(i)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var D6e=/^[^\/()?;#]+/;function GT(e){let t=e.match(D6e);return t?t[0]:""}var A6e=/^[^\/()?;=#]+/;function M6e(e){let t=e.match(A6e);return t?t[0]:""}var T6e=/^[^=?&#]+/;function R6e(e){let t=e.match(T6e);return t?t[0]:""}var k6e=/^[^&#]+/;function O6e(e){let t=e.match(k6e);return t?t[0]:""}var ZT=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jr([],{}):new Jr([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[rr]=new Jr(t,r)),i}parseSegment(){let t=GT(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new hr(4009,!1);return this.capture(t),new pp(ob(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=M6e(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let o=GT(this.remaining);o&&(i=o,this.capture(i))}t[ob(r)]=ob(i)}parseQueryParam(t){let r=R6e(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let s=O6e(this.remaining);s&&(i=s,this.capture(i))}let o=kY(r),a=kY(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(a)}else t[o]=a}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=GT(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new hr(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=rr);let s=this.parseChildren();r[a]=Object.keys(s).length===1?s[rr]:new Jr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new hr(4011,!1)}};function jY(e){return e.segments.length>0?new Jr([],{[rr]:e}):e}function WY(e){let t={};for(let[i,o]of Object.entries(e.children)){let a=WY(o);if(i===rr&&a.segments.length===0&&a.hasChildren())for(let[s,l]of Object.entries(a.children))t[s]=l;else(a.segments.length>0||a.hasChildren())&&(t[i]=a)}let r=new Jr(e.segments,t);return N6e(r)}function N6e(e){if(e.numberOfChildren===1&&e.children[rr]){let t=e.children[rr];return new Jr(e.segments.concat(t.segments),t.children)}return e}function Ag(e){return e instanceof vf}function YY(e,t,r=null,i=null){let o=XY(e);return KY(o,t,r,i)}function XY(e){let t;function r(a){let s={};for(let u of a.children){let c=r(u);s[u.outlet]=c}let l=new Jr(a.url,s);return a===e&&(t=l),l}let i=r(e.root),o=jY(i);return t??o}function KY(e,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return jT(o,o,o,r,i);let a=I6e(t);if(a.toRoot())return jT(o,o,new Jr([],{}),r,i);let s=F6e(a,o,e),l=s.processChildren?y6(s.segmentGroup,s.index,a.commands):ZY(s.segmentGroup,s.index,a.commands);return jT(o,s.segmentGroup,l,r,i)}function sb(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function x6(e){return typeof e=="object"&&e!=null&&e.outlets}function jT(e,t,r,i,o){let a={};i&&Object.entries(i).forEach(([u,c])=>{a[u]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;e===t?s=r:s=QY(e,t,r);let l=jY(WY(s));return new vf(l,a,o)}function QY(e,t,r){let i={};return Object.entries(e.children).forEach(([o,a])=>{a===t?i[o]=r:i[o]=QY(a,t,r)}),new Jr(e.segments,i)}var lb=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,r,i){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=i,t&&i.length>0&&sb(i[0]))throw new hr(4003,!1);let o=i.find(x6);if(o&&o!==$Y(i))throw new hr(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function I6e(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new lb(!0,0,e);let t=0,r=!1,i=e.reduce((o,a,s)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let l={};return Object.entries(a.outlets).forEach(([u,c])=>{l[u]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:l}]}if(a.segmentPath)return[...o,a.segmentPath]}return typeof a!="string"?[...o,a]:s===0?(a.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?r=!0:l===".."?t++:l!=""&&o.push(l))}),o):[...o,a]},[]);return new lb(r,t,i)}var Eg=class{segmentGroup;processChildren;index;constructor(t,r,i){this.segmentGroup=t,this.processChildren=r,this.index=i}};function F6e(e,t,r){if(e.isAbsolute)return new Eg(t,!0,0);if(!r)return new Eg(t,!1,NaN);if(r.parent===null)return new Eg(r,!0,0);let i=sb(e.commands[0])?0:1,o=r.segments.length-1+i;return P6e(r,o,e.numberOfDoubleDots)}function P6e(e,t,r){let i=e,o=t,a=r;for(;a>o;){if(a-=o,i=i.parent,!i)throw new hr(4005,!1);o=i.segments.length}return new Eg(i,!1,o-a)}function L6e(e){return x6(e[0])?e[0].outlets:{[rr]:e}}function ZY(e,t,r){if(e??=new Jr([],{}),e.segments.length===0&&e.hasChildren())return y6(e,t,r);let i=B6e(e,t,r),o=r.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let a=new Jr(e.segments.slice(0,i.pathIndex),{});return a.children[rr]=new Jr(e.segments.slice(i.pathIndex),e.children),y6(a,0,o)}else return i.match&&o.length===0?new Jr(e.segments,{}):i.match&&!e.hasChildren()?JT(e,t,r):i.match?y6(e,0,o):JT(e,t,r)}function y6(e,t,r){if(r.length===0)return new Jr(e.segments,{});{let i=L6e(r),o={};if(Object.keys(i).some(a=>a!==rr)&&e.children[rr]&&e.numberOfChildren===1&&e.children[rr].segments.length===0){let a=y6(e.children[rr],t,r);return new Jr(e.segments,a.children)}return Object.entries(i).forEach(([a,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[a]=ZY(e.children[a],t,s))}),Object.entries(e.children).forEach(([a,s])=>{i[a]===void 0&&(o[a]=s)}),new Jr(e.segments,o)}}function B6e(e,t,r){let i=0,o=t,a={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=r.length)return a;let s=e.segments[o],l=r[i];if(x6(l))break;let u=`${l}`,c=i<r.length-1?r[i+1]:null;if(o>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!NY(u,c,s))return a;i+=2}else{if(!NY(u,{},s))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function JT(e,t,r){let i=e.segments.slice(0,t),o=0;for(;o<r.length;){let a=r[o];if(x6(a)){let u=$6e(a.outlets);return new Jr(i,u)}if(o===0&&sb(r[0])){let u=e.segments[t];i.push(new pp(u.path,OY(r[0]))),o++;continue}let s=x6(a)?a.outlets[rr]:`${a}`,l=o<r.length-1?r[o+1]:null;s&&l&&sb(l)?(i.push(new pp(s,OY(l))),o+=2):(i.push(new pp(s,{})),o++)}return new Jr(i,{})}function $6e(e){let t={};return Object.entries(e).forEach(([r,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[r]=JT(new Jr([],{}),0,i))}),t}function OY(e){let t={};return Object.entries(e).forEach(([r,i])=>t[r]=`${i}`),t}function NY(e,t,r){return e==r.path&&mf(t,r.parameters)}var ab="imperative",$o=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}($o||{}),jl=class{id;url;constructor(t,r){this.id=t,this.url=r}},mp=class extends jl{type=$o.NavigationStart;navigationTrigger;restoredState;constructor(t,r,i="imperative",o=null){super(t,r),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ic=class extends jl{urlAfterRedirects;type=$o.NavigationEnd;constructor(t,r,i){super(t,r),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(rl||{}),Mg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Mg||{}),gf=class extends jl{reason;code;type=$o.NavigationCancel;constructor(t,r,i,o){super(t,r),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yf=class extends jl{reason;code;type=$o.NavigationSkipped;constructor(t,r,i,o){super(t,r),this.reason=i,this.code=o}},Tg=class extends jl{error;target;type=$o.NavigationError;constructor(t,r,i,o){super(t,r),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},w6=class extends jl{urlAfterRedirects;state;type=$o.RoutesRecognized;constructor(t,r,i,o){super(t,r),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ub=class extends jl{urlAfterRedirects;state;type=$o.GuardsCheckStart;constructor(t,r,i,o){super(t,r),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cb=class extends jl{urlAfterRedirects;state;shouldActivate;type=$o.GuardsCheckEnd;constructor(t,r,i,o,a){super(t,r),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fb=class extends jl{urlAfterRedirects;state;type=$o.ResolveStart;constructor(t,r,i,o){super(t,r),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},db=class extends jl{urlAfterRedirects;state;type=$o.ResolveEnd;constructor(t,r,i,o){super(t,r),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pb=class{route;type=$o.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hb=class{route;type=$o.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mb=class{snapshot;type=$o.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gb=class{snapshot;type=$o.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vb=class{snapshot;type=$o.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yb=class{snapshot;type=$o.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rg=class{routerEvent;position;anchor;type=$o.Scroll;constructor(t,r,i){this.routerEvent=t,this.position=r,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_6=class{},kg=class{url;navigationBehaviorOptions;constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}};function U6e(e,t){return e.providers&&!e._injector&&(e._injector=ty(e.providers,t,`Route: ${e.path}`)),e._injector??t}function rc(e){return e.outlet||rr}function z6e(e,t){let r=e.filter(i=>rc(i)===t);return r.push(...e.filter(i=>rc(i)!==t)),r}function T6(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var bb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return T6(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new t1(this.rootInjector)}},t1=(()=>{class e{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bb(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}static \u0275fac=function(i){return new(i||e)(Bn(Wu))};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xb=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=eR(t,this._root);return r?r.children.map(i=>i.value):[]}firstChild(t){let r=eR(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=tR(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return tR(t,this._root).map(r=>r.value)}};function eR(e,t){if(e===t.value)return t;for(let r of t.children){let i=eR(e,r);if(i)return i}return null}function tR(e,t){if(e===t.value)return[t];for(let r of t.children){let i=tR(e,r);if(i.length)return i.unshift(t),i}return[]}var Gl=class{value;children;constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function Cg(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var S6=class extends xb{snapshot;constructor(t,r){super(t),this.snapshot=r,uR(this,t)}toString(){return this.snapshot.toString()}};function JY(e){let t=V6e(e),r=new Bl([new pp("",{})]),i=new Bl({}),o=new Bl({}),a=new Bl({}),s=new Bl(""),l=new gp(r,i,a,s,o,rr,e,t.root);return l.snapshot=t.root,new S6(new Gl(l,[]),t)}function V6e(e){let t={},r={},i={},o="",a=new Zh([],t,i,o,r,rr,e,null,{});return new C6("",new Gl(a,[]))}var gp=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,r,i,o,a,s,l,u){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=a,this.outlet=s,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(wr(c=>c[M6]))??Cn(void 0),this.url=t,this.params=r,this.queryParams=i,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(wr(t=>Jh(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(wr(t=>Jh(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wb(e,t,r="emptyOnly"){let i,{routeConfig:o}=e;return t!==null&&(r==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:A(A({},t.params),e.params),data:A(A({},t.data),e.data),resolve:A(A(A(A({},e.data),t.data),o?.data),e._resolvedData)}:i={params:A({},e.params),data:A({},e.data),resolve:A(A({},e.data),e._resolvedData??{})},o&&tX(o)&&(i.resolve[M6]=o.title),i}var Zh=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[M6]}constructor(t,r,i,o,a,s,l,u,c){this.url=t,this.params=r,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=s,this.component=l,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jh(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},C6=class extends xb{url;constructor(t,r){super(r),this.url=t,uR(this,r)}toString(){return eX(this._root)}};function uR(e,t){t.value._routerState=e,t.children.forEach(r=>uR(e,r))}function eX(e){let t=e.children.length>0?` { ${e.children.map(eX).join(", ")} } `:"";return`${e.value}${t}`}function WT(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,mf(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),mf(t.params,r.params)||e.paramsSubject.next(r.params),g6e(t.url,r.url)||e.urlSubject.next(r.url),mf(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function nR(e,t){let r=mf(e.params,t.params)&&x6e(e.url,t.url),i=!e.parent!=!t.parent;return r&&!i&&(!e.parent||nR(e.parent,t.parent))}function tX(e){return typeof e.title=="string"||e.title===null}var nX=new Ln(""),R6=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=rr;activateEvents=new er;deactivateEvents=new er;attachEvents=new er;detachEvents=new er;routerOutletData=sH(void 0);parentContexts=ot(t1);location=ot(Ed);changeDetector=ot(Ku);inputBinder=ot(k6,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new hr(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new hr(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new hr(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new hr(4013,!1);this._activatedRoute=r;let o=this.location,s=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new rR(r,l,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Mr({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ms]})}return e})(),rR=class{route;childContexts;parent;outletData;constructor(t,r,i,o){this.route=t,this.childContexts=r,this.parent=i,this.outletData=o}get(t,r){return t===gp?this.route:t===t1?this.childContexts:t===nX?this.outletData:this.parent.get(t,r)}},k6=new Ln(""),cR=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=P3([i.queryParams,i.params,i.data]).pipe(Ds(([a,s,l],u)=>(l=A(A(A({},a),s),l),u===0?Cn(l):Promise.resolve(l)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let s=AH(i.component);if(!s){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of s.inputs)r.activatedComponentRef.setInput(l,a[l])});this.outletDataSubscriptions.set(r,o)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})(),fR=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=hi({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&Vr(0,"router-outlet")},dependencies:[R6],encapsulation:2})}return e})();function dR(e){let t=e.children&&e.children.map(dR),r=t?_e(A({},e),{children:t}):A({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==rr&&(r.component=fR),r}function q6e(e,t,r){let i=E6(e,t._root,r?r._root:void 0);return new S6(i,t)}function E6(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let i=r.value;i._futureSnapshot=t.value;let o=H6e(e,t,r);return new Gl(i,o)}else{if(e.shouldAttach(t.value)){let a=e.retrieve(t.value);if(a!==null){let s=a.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>E6(e,l)),s}}let i=G6e(t.value),o=t.children.map(a=>E6(e,a));return new Gl(i,o)}}function H6e(e,t,r){return t.children.map(i=>{for(let o of r.children)if(e.shouldReuseRoute(i.value,o.value.snapshot))return E6(e,i,o);return E6(e,i)})}function G6e(e){return new gp(new Bl(e.url),new Bl(e.params),new Bl(e.queryParams),new Bl(e.fragment),new Bl(e.data),e.outlet,e.component,e)}var Og=class{redirectTo;navigationBehaviorOptions;constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}},rX="ngNavigationCancelingError";function _b(e,t){let{redirectTo:r,navigationBehaviorOptions:i}=Ag(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=iX(!1,rl.Redirect);return o.url=r,o.navigationBehaviorOptions=i,o}function iX(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[rX]=!0,r.cancellationCode=t,r}function j6e(e){return oX(e)&&Ag(e.url)}function oX(e){return!!e&&e[rX]}var W6e=(e,t,r,i)=>wr(o=>(new iR(t,o.targetRouterState,o.currentRouterState,r,i).activate(e),o)),iR=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,r,i,o,a){this.routeReuseStrategy=t,this.futureState=r,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=a}activate(t){let r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),WT(this.futureState.root),this.activateChildRoutes(r,i,t)}deactivateChildRoutes(t,r,i){let o=Cg(r);t.children.forEach(a=>{let s=a.value.outlet;this.deactivateRoutes(a,o[s],i),delete o[s]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,r,i){let o=t.value,a=r?r.value:null;if(o===a)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,i);else a&&this.deactivateRouteAndItsChildren(r,i)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let i=r.getContext(t.value.outlet),o=i&&t.value.component?i.children:r,a=Cg(t);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,r){let i=r.getContext(t.value.outlet),o=i&&t.value.component?i.children:r,a=Cg(t);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,r,i){let o=Cg(r);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],i),this.forwardEvent(new yb(a.value.snapshot))}),t.children.length&&this.forwardEvent(new gb(t.value.snapshot))}activateRoutes(t,r,i){let o=t.value,a=r?r.value:null;if(WT(o),o===a)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),WT(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Sb=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Dg=class{component;route;constructor(t,r){this.component=t,this.route=r}};function Y6e(e,t,r){let i=e._root,o=t?t._root:null;return v6(i,o,r,[i.value])}function X6e(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ig(e,t){let r=Symbol(),i=t.get(e,r);return i===r?typeof e=="function"&&!iH(e)?e:t.get(e):i}function v6(e,t,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=Cg(t);return e.children.forEach(s=>{K6e(s,a[s.value.outlet],r,i.concat([s.value]),o),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,l])=>b6(l,r.getContext(s),o)),o}function K6e(e,t,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=e.value,s=t?t.value:null,l=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){let u=Q6e(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Sb(i)):(a.data=s.data,a._resolvedData=s._resolvedData),a.component?v6(e,t,l?l.children:null,i,o):v6(e,t,r,i,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Dg(l.outlet.component,s))}else s&&b6(t,l,o),o.canActivateChecks.push(new Sb(i)),a.component?v6(e,null,l?l.children:null,i,o):v6(e,null,r,i,o);return o}function Q6e(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Qh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qh(e.url,t.url)||!mf(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nR(e,t)||!mf(e.queryParams,t.queryParams);case"paramsChange":default:return!nR(e,t)}}function b6(e,t,r){let i=Cg(e),o=e.value;Object.entries(i).forEach(([a,s])=>{o.component?t?b6(s,t.children.getContext(a),r):b6(s,null,r):b6(s,t,r)}),o.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new Dg(t.outlet.component,o)):r.canDeactivateChecks.push(new Dg(null,o)):r.canDeactivateChecks.push(new Dg(null,o))}function O6(e){return typeof e=="function"}function Z6e(e){return typeof e=="boolean"}function J6e(e){return e&&O6(e.canLoad)}function e4e(e){return e&&O6(e.canActivate)}function t4e(e){return e&&O6(e.canActivateChild)}function n4e(e){return e&&O6(e.canDeactivate)}function r4e(e){return e&&O6(e.canMatch)}function aX(e){return e instanceof Kq||e?.name==="EmptyError"}var nb=Symbol("INITIAL_VALUE");function Ng(){return Ds(e=>P3(e.map(t=>t.pipe(Sd(1),zM(nb)))).pipe(wr(t=>{for(let r of t)if(r!==!0){if(r===nb)return nb;if(r===!1||i4e(r))return r}return!0}),Es(t=>t!==nb),Sd(1)))}function i4e(e){return Ag(e)||e instanceof Og}function o4e(e,t){return Cs(r=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:s}}=r;return s.length===0&&a.length===0?Cn(_e(A({},r),{guardsResult:!0})):a4e(s,i,o,e).pipe(Cs(l=>l&&Z6e(l)?s4e(i,a,e,t):Cn(l)),wr(l=>_e(A({},r),{guardsResult:l})))})}function a4e(e,t,r,i){return Zo(e).pipe(Cs(o=>d4e(o.component,o.route,r,t,i)),J0(o=>o!==!0,!0))}function s4e(e,t,r,i){return Zo(t).pipe(_d(o=>Qq(u4e(o.route.parent,i),l4e(o.route,i),f4e(e,o.path,r),c4e(e,o.route,r))),J0(o=>o!==!0,!0))}function l4e(e,t){return e!==null&&t&&t(new vb(e)),Cn(!0)}function u4e(e,t){return e!==null&&t&&t(new mb(e)),Cn(!0)}function c4e(e,t,r){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Cn(!0);let o=i.map(a=>BM(()=>{let s=T6(t)??r,l=Ig(a,s),u=e4e(l)?l.canActivate(t,e):du(s,()=>l(t,e));return vp(u).pipe(J0())}));return Cn(o).pipe(Ng())}function f4e(e,t,r){let i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(s=>X6e(s)).filter(s=>s!==null).map(s=>BM(()=>{let l=s.guards.map(u=>{let c=T6(s.node)??r,f=Ig(u,c),d=t4e(f)?f.canActivateChild(i,e):du(c,()=>f(i,e));return vp(d).pipe(J0())});return Cn(l).pipe(Ng())}));return Cn(a).pipe(Ng())}function d4e(e,t,r,i,o){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return Cn(!0);let s=a.map(l=>{let u=T6(t)??o,c=Ig(l,u),f=n4e(c)?c.canDeactivate(e,t,r,i):du(u,()=>c(e,t,r,i));return vp(f).pipe(J0())});return Cn(s).pipe(Ng())}function p4e(e,t,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return Cn(!0);let a=o.map(s=>{let l=Ig(s,e),u=J6e(l)?l.canLoad(t,r):du(e,()=>l(t,r));return vp(u)});return Cn(a).pipe(Ng(),sX(i))}function sX(e){return Yq(Jo(t=>{if(typeof t!="boolean")throw _b(e,t)}),wr(t=>t===!0))}function h4e(e,t,r,i){let o=t.canMatch;if(!o||o.length===0)return Cn(!0);let a=o.map(s=>{let l=Ig(s,e),u=r4e(l)?l.canMatch(t,r):du(e,()=>l(t,r));return vp(u)});return Cn(a).pipe(Ng(),sX(i))}var D6=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},A6=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Sg(e){return F3(new D6(e))}function m4e(e){return F3(new hr(4e3,!1))}function g4e(e){return F3(iX(!1,rl.GuardRejected))}var oR=class{urlSerializer;urlTree;constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let i=[],o=r.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return Cn(i);if(o.numberOfChildren>1||!o.children[rr])return m4e(`${t.redirectTo}`);o=o.children[rr]}}applyRedirectCommands(t,r,i,o,a){if(typeof r!="string"){let l=r,{queryParams:u,fragment:c,routeConfig:f,url:d,outlet:p,params:m,data:g,title:v}=o,b=du(a,()=>l({params:m,data:g,queryParams:u,fragment:c,routeConfig:f,url:d,outlet:p,title:v}));if(b instanceof vf)throw new A6(b);r=b}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,i);if(r[0]==="/")throw new A6(s);return s}applyRedirectCreateUrlTree(t,r,i,o){let a=this.createSegmentGroup(t,r.root,i,o);return new vf(a,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let i={};return Object.entries(t).forEach(([o,a])=>{if(typeof a=="string"&&a[0]===":"){let l=a.substring(1);i[o]=r[l]}else i[o]=a}),i}createSegmentGroup(t,r,i,o){let a=this.createSegments(t,r.segments,i,o),s={};return Object.entries(r.children).forEach(([l,u])=>{s[l]=this.createSegmentGroup(t,u,i,o)}),new Jr(a,s)}createSegments(t,r,i,o){return r.map(a=>a.path[0]===":"?this.findPosParam(t,a,o):this.findOrReturn(a,i))}findPosParam(t,r,i){let o=i[r.path.substring(1)];if(!o)throw new hr(4001,!1);return o}findOrReturn(t,r){let i=0;for(let o of r){if(o.path===t.path)return r.splice(i),o;i++}return t}},aR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v4e(e,t,r,i,o){let a=lX(e,t,r);return a.matched?(i=U6e(t,i),h4e(i,t,r,o).pipe(wr(s=>s===!0?a:A({},aR)))):Cn(a)}function lX(e,t,r){if(t.path==="**")return y4e(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?A({},aR):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let o=(t.matcher||LY)(r,e,t);if(!o)return A({},aR);let a={};Object.entries(o.posParams??{}).forEach(([l,u])=>{a[l]=u.path});let s=o.consumed.length>0?A(A({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function y4e(e){return{matched:!0,parameters:e.length>0?$Y(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function IY(e,t,r,i){return r.length>0&&w4e(e,r,i)?{segmentGroup:new Jr(t,x4e(i,new Jr(r,e.children))),slicedSegments:[]}:r.length===0&&_4e(e,r,i)?{segmentGroup:new Jr(e.segments,b4e(e,r,i,e.children)),slicedSegments:r}:{segmentGroup:new Jr(e.segments,e.children),slicedSegments:r}}function b4e(e,t,r,i){let o={};for(let a of r)if(Eb(e,t,a)&&!i[rc(a)]){let s=new Jr([],{});o[rc(a)]=s}return A(A({},i),o)}function x4e(e,t){let r={};r[rr]=t;for(let i of e)if(i.path===""&&rc(i)!==rr){let o=new Jr([],{});r[rc(i)]=o}return r}function w4e(e,t,r){return r.some(i=>Eb(e,t,i)&&rc(i)!==rr)}function _4e(e,t,r){return r.some(i=>Eb(e,t,i))}function Eb(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function S4e(e,t,r){return t.length===0&&!e.children[r]}var sR=class{};function C4e(e,t,r,i,o,a,s="emptyOnly"){return new lR(e,t,r,i,o,s,a).recognize()}var E4e=31,lR=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,r,i,o,a,s,l){this.injector=t,this.configLoader=r,this.rootComponentType=i,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new oR(this.urlSerializer,this.urlTree)}noMatchError(t){return new hr(4002,`'${t.segmentGroup}'`)}recognize(){let t=IY(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(wr(({children:r,rootSnapshot:i})=>{let o=new Gl(i,r),a=new C6("",o),s=YY(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),{state:a,tree:s}}))}match(t){let r=new Zh([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),rr,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,rr,r).pipe(wr(i=>({children:i,rootSnapshot:r})),Ph(i=>{if(i instanceof A6)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof D6?this.noMatchError(i):i}))}processSegmentGroup(t,r,i,o,a){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,r,i,a):this.processSegment(t,r,i,i.segments,o,!0,a).pipe(wr(s=>s instanceof Gl?[s]:[]))}processChildren(t,r,i,o){let a=[];for(let s of Object.keys(i.children))s==="primary"?a.unshift(s):a.push(s);return Zo(a).pipe(_d(s=>{let l=i.children[s],u=z6e(r,s);return this.processSegmentGroup(t,u,l,s,o)}),rH((s,l)=>(s.push(...l),s)),$M(null),nH(),Cs(s=>{if(s===null)return Sg(i);let l=uX(s);return D4e(l),Cn(l)}))}processSegment(t,r,i,o,a,s,l){return Zo(r).pipe(_d(u=>this.processSegmentAgainstRoute(u._injector??t,r,u,i,o,a,s,l).pipe(Ph(c=>{if(c instanceof D6)return Cn(null);throw c}))),J0(u=>!!u),Ph(u=>{if(aX(u))return S4e(i,o,a)?Cn(new sR):Sg(i);throw u}))}processSegmentAgainstRoute(t,r,i,o,a,s,l,u){return rc(i)!==s&&(s===rr||!Eb(o,a,i))?Sg(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,a,s,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,i,a,s,u):Sg(o)}expandSegmentAgainstRouteUsingRedirect(t,r,i,o,a,s,l){let{matched:u,parameters:c,consumedSegments:f,positionalParamSegments:d,remainingSegments:p}=lX(r,o,a);if(!u)return Sg(r);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>E4e&&(this.allowRedirects=!1));let m=new Zh(a,c,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,FY(o),rc(o),o.component??o._loadedComponent??null,o,PY(o)),g=wb(m,l,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(f,o.redirectTo,d,m,t);return this.applyRedirects.lineralizeSegments(o,v).pipe(Cs(b=>this.processSegment(t,i,r,b.concat(p),s,!1,l)))}matchSegmentAgainstRoute(t,r,i,o,a,s){let l=v4e(r,i,o,t,this.urlSerializer);return i.path==="**"&&(r.children={}),l.pipe(Ds(u=>u.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(Ds(({routes:c})=>{let f=i._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:m}=u,g=new Zh(p,d,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,FY(i),rc(i),i.component??i._loadedComponent??null,i,PY(i)),v=wb(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:b,slicedSegments:_}=IY(r,p,m,c);if(_.length===0&&b.hasChildren())return this.processChildren(f,c,b,g).pipe(wr(T=>new Gl(g,T)));if(c.length===0&&_.length===0)return Cn(new Gl(g,[]));let D=rc(i)===a;return this.processSegment(f,c,b,_,D?rr:a,!0,g).pipe(wr(T=>new Gl(g,T instanceof Gl?[T]:[])))}))):Sg(r)))}getChildConfig(t,r,i){return r.children?Cn({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?Cn({routes:r._loadedRoutes,injector:r._loadedInjector}):p4e(t,r,i,this.urlSerializer).pipe(Cs(o=>o?this.configLoader.loadChildren(t,r).pipe(Jo(a=>{r._loadedRoutes=a.routes,r._loadedInjector=a.injector})):g4e(r))):Cn({routes:[],injector:t})}};function D4e(e){e.sort((t,r)=>t.value.outlet===rr?-1:r.value.outlet===rr?1:t.value.outlet.localeCompare(r.value.outlet))}function A4e(e){let t=e.value.routeConfig;return t&&t.path===""}function uX(e){let t=[],r=new Set;for(let i of e){if(!A4e(i)){t.push(i);continue}let o=t.find(a=>i.value.routeConfig===a.value.routeConfig);o!==void 0?(o.children.push(...i.children),r.add(o)):t.push(i)}for(let i of r){let o=uX(i.children);t.push(new Gl(i.value,o))}return t.filter(i=>!r.has(i))}function FY(e){return e.data||{}}function PY(e){return e.resolve||{}}function M4e(e,t,r,i,o,a){return Cs(s=>C4e(e,t,r,i,s.extractedUrl,o,a).pipe(wr(({state:l,tree:u})=>_e(A({},s),{targetSnapshot:l,urlAfterRedirects:u}))))}function T4e(e,t){return Cs(r=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=r;if(!o.length)return Cn(r);let a=new Set(o.map(u=>u.route)),s=new Set;for(let u of a)if(!s.has(u))for(let c of cX(u))s.add(c);let l=0;return Zo(s).pipe(_d(u=>a.has(u)?R4e(u,i,e,t):(u.data=wb(u,u.parent,e).resolve,Cn(void 0))),Jo(()=>l++),UM(1),Cs(u=>l===s.size?Cn(r):ju))})}function cX(e){let t=e.children.map(r=>cX(r)).flat();return[e,...t]}function R4e(e,t,r,i){let o=e.routeConfig,a=e._resolve;return o?.title!==void 0&&!tX(o)&&(a[M6]=o.title),k4e(a,e,t,i).pipe(wr(s=>(e._resolvedData=s,e.data=wb(e,e.parent,r).resolve,null)))}function k4e(e,t,r,i){let o=KT(e);if(o.length===0)return Cn({});let a={};return Zo(o).pipe(Cs(s=>O4e(e[s],t,r,i).pipe(J0(),Jo(l=>{if(l instanceof Og)throw _b(new hp,l);a[s]=l}))),UM(1),wr(()=>a),Ph(s=>aX(s)?ju:F3(s)))}function O4e(e,t,r,i){let o=T6(t)??i,a=Ig(e,o),s=a.resolve?a.resolve(t,r):du(o,()=>a(t,r));return vp(s)}function YT(e){return Ds(t=>{let r=e(t);return r?Zo(r).pipe(wr(()=>t)):Cn(t)})}var pR=(()=>{class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===rr);return i}getResolvedTitleForRoute(r){return r.data[M6]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(fX),providedIn:"root"})}return e})(),fX=(()=>{class e extends pR{title;constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(Bn(oG))};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),n1=new Ln("",{providedIn:"root",factory:()=>({})}),Fg=new Ln(""),Db=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ot(wH);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Cn(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vp(r.loadComponent()).pipe(wr(pX),Jo(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Z0(()=>{this.componentLoaders.delete(r)})),o=new PM(i,()=>new Ci).pipe(FM());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Cn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=dX(i,this.compiler,r,this.onLoadEndListener).pipe(Z0(()=>{this.childrenLoaders.delete(i)})),s=new PM(a,()=>new Ci).pipe(FM());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dX(e,t,r,i){return vp(e.loadChildren()).pipe(wr(pX),Cs(o=>o instanceof pH||Array.isArray(o)?Cn(o):Zo(t.compileModuleAsync(o))),wr(o=>{i&&i(e);let a,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(a=o.create(r).injector,s=a.get(Fg,[],{optional:!0,self:!0}).flat()),{routes:s.map(dR),injector:a}}))}function N4e(e){return e&&typeof e=="object"&&"default"in e}function pX(e){return N4e(e)?e.default:e}var Ab=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(I4e),providedIn:"root"})}return e})(),I4e=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hR=new Ln(""),mR=new Ln("");function hX(e,t,r){let i=e.get(mR),o=e.get(Nr);return e.get(Hi).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let a,s=new Promise(c=>{a=c}),l=o.startViewTransition(()=>(a(),F4e(e))),{onViewTransitionCreated:u}=i;return u&&du(e,()=>u({transition:l,from:t,to:r})),s})}function F4e(e){return new Promise(t=>{$3({read:()=>setTimeout(t)},{injector:e})})}var gR=new Ln(""),Mb=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ci;transitionAbortSubject=new Ci;configLoader=ot(Db);environmentInjector=ot(Wu);destroyRef=ot(Qv);urlSerializer=ot(e1);rootContexts=ot(t1);location=ot(ip);inputBindingEnabled=ot(k6,{optional:!0})!==null;titleStrategy=ot(pR);options=ot(n1,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ot(Ab);createViewTransition=ot(hR,{optional:!0});navigationErrorHandler=ot(gR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Cn(void 0);rootComponentType=null;destroyed=!1;constructor(){let r=o=>this.events.next(new pb(o)),i=o=>this.events.next(new hb(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(_e(A({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(r){return this.transitions=new Bl(null),this.transitions.pipe(Es(i=>i!==null),Ds(i=>{let o=!1,a=!1;return Cn(i).pipe(Ds(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",rl.SupersededByNewNavigation),ju;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?_e(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&u!=="reload"){let c="";return this.events.next(new yf(s.id,this.urlSerializer.serialize(s.rawUrl),c,Mg.IgnoredSameUrlNavigation)),s.resolve(!1),ju}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Cn(s).pipe(Ds(c=>(this.events.next(new mp(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ju:Promise.resolve(c))),M4e(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Jo(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=_e(A({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let f=new w6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:f,source:d,restoredState:p,extras:m}=s,g=new mp(c,this.urlSerializer.serialize(f),d,p);this.events.next(g);let v=JY(this.rootComponentType).snapshot;return this.currentTransition=i=_e(A({},s),{targetSnapshot:v,urlAfterRedirects:f,extras:_e(A({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Cn(i)}else{let c="";return this.events.next(new yf(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Mg.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ju}}),Jo(s=>{let l=new ub(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),wr(s=>(this.currentTransition=i=_e(A({},s),{guards:Y6e(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),o4e(this.environmentInjector,s=>this.events.next(s)),Jo(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw _b(this.urlSerializer,s.guardsResult);let l=new cb(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Es(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",rl.GuardRejected),!1)),YT(s=>{if(s.guards.canActivateChecks.length!==0)return Cn(s).pipe(Jo(l=>{let u=new fb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ds(l=>{let u=!1;return Cn(l).pipe(T4e(this.paramsInheritanceStrategy,this.environmentInjector),Jo({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",rl.NoDataFromResolver)}}))}),Jo(l=>{let u=new db(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),YT(s=>{let l=u=>{let c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Jo(f=>{u.component=f}),wr(()=>{})));for(let f of u.children)c.push(...l(f));return c};return P3(l(s.targetSnapshot.root)).pipe($M(null),Sd(1))}),YT(()=>this.afterPreactivation()),Ds(()=>{let{currentSnapshot:s,targetSnapshot:l}=i,u=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return u?Zo(u).pipe(wr(()=>i)):Cn(i)}),wr(s=>{let l=q6e(r.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=_e(A({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),Jo(()=>{this.events.next(new _6)}),W6e(this.rootContexts,r.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Sd(1),Jo({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ic(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),As(this.transitionAbortSubject.pipe(Jo(s=>{throw s}))),Z0(()=>{!o&&!a&&this.cancelNavigationTransition(i,"",rl.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ph(s=>{if(this.destroyed)return i.resolve(!1),ju;if(a=!0,oX(s))this.events.next(new gf(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),j6e(s)?this.events.next(new kg(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let l=new Tg(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let u=du(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Og){let{message:c,cancellationCode:f}=_b(this.urlSerializer,u);this.events.next(new gf(i.id,this.urlSerializer.serialize(i.extractedUrl),c,f)),this.events.next(new kg(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return ju}))}))}cancelNavigationTransition(r,i,o){let a=new gf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function P4e(e){return e!==ab}var mX=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(L4e),providedIn:"root"})}return e})(),Cb=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},L4e=(()=>{class e extends Cb{static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gX=(()=>{class e{urlSerializer=ot(e1);options=ot(n1,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=ot(ip);urlHandlingStrategy=ot(Ab);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vf;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:r,initialUrl:i,targetBrowserUrl:o}){let a=r!==void 0?this.urlHandlingStrategy.merge(r,i):i,s=o??a;return s instanceof vf?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:r,finalUrl:i,initialUrl:o}){i&&r?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=r):this.rawUrlTree=o}routerState=JY(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:r}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:()=>ot(B4e),providedIn:"root"})}return e})(),B4e=(()=>{class e extends gX{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{r(i.url,i.state,"popstate")})})}handleRouterEvent(r,i){r instanceof mp?this.updateStateMemento():r instanceof yf?this.commitTransition(i):r instanceof w6?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof _6?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof gf&&(r.code===rl.GuardRejected||r.code===rl.NoDataFromResolver)?this.restoreHistory(i):r instanceof Tg?this.restoreHistory(i,!0):r instanceof ic&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,{extras:i,id:o}){let{replaceUrl:a,state:s}=i;if(this.location.isCurrentPathEqualTo(r)||a){let l=this.browserPageId,u=A(A({},s),this.generateNgRouterState(o,l));this.location.replaceState(r,"",u)}else{let l=A(A({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(r,"",l)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.getCurrentUrlTree()===r.finalUrl&&a===0&&(this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}static \u0275fac=(()=>{let r;return function(o){return(r||(r=fr(e)))(o||e)}})();static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tb(e,t){e.events.pipe(Es(r=>r instanceof ic||r instanceof gf||r instanceof Tg||r instanceof yf),wr(r=>r instanceof ic||r instanceof yf?0:(r instanceof gf?r.code===rl.Redirect||r.code===rl.SupersededByNewNavigation:!1)?2:1),Es(r=>r!==2),Sd(1)).subscribe(()=>{t()})}var $4e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U4e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yp=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ot(hH);stateManager=ot(gX);options=ot(n1,{optional:!0})||{};pendingTasks=ot(L3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ot(Mb);urlSerializer=ot(e1);location=ot(ip);urlHandlingStrategy=ot(Ab);_events=new Ci;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ot(mX);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ot(Fg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ot(k6,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Wq;subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof gf&&i.code!==rl.Redirect&&i.code!==rl.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ic)this.navigated=!0;else if(i instanceof kg){let s=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u=A({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||P4e(o.source)},s);this.scheduleNavigation(l,ab,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}V4e(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ab,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i,o)=>{this.navigateToSyncWithBrowser(r,o,i)})}navigateToSyncWithBrowser(r,i,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let u=A({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(a.state=u)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dR),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:l,preserveFragment:u}=i,c=u?this.currentUrlTree.fragment:s,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=A(A({},this.currentUrlTree.queryParams),a);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=a||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=XY(p)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),d=this.currentUrlTree.root}return KY(d,r,f,c??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ag(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,ab,null,i)}navigate(r,i={skipLocationChange:!1}){return z4e(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=A({},$4e):i===!1?o=A({},U4e):o=i,Ag(r))return RY(this.currentUrlTree,r,o);let a=this.parseUrl(r);return RY(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,a])=>(a!=null&&(i[o]=a),i),{})}scheduleNavigation(r,i,o,a,s){if(this.disposed)return Promise.resolve(!1);let l,u,c;s?(l=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,p)=>{l=d,u=p});let f=this.pendingTasks.add();return Tb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function z4e(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new hr(4008,!1)}function V4e(e){return!(e instanceof _6)&&!(e instanceof kg)}var N6=class{};var vX=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(r,i,o,a){this.router=r,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Es(r=>r instanceof ic),_d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let a of i){a.providers&&!a._injector&&(a._injector=ty(a.providers,r,`Route: ${a.path}`));let s=a._injector??r,l=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(l,a.children??a._loadedRoutes))}return Zo(o).pipe(LM())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Cn(null);let a=o.pipe(Cs(s=>s===null?Cn(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??r,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Zo([a,s]).pipe(LM())}else return a})}static \u0275fac=function(i){return new(i||e)(Bn(yp),Bn(Wu),Bn(N6),Bn(Db))};static \u0275prov=qt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yX=new Ln(""),q4e=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(r,i,o,a,s={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=a,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof mp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ic?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yf&&r.code===Mg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Rg&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rg(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){ey()};static \u0275prov=qt({token:e,factory:e.\u0275fac})}return e})();function H4e(e){return e.routerState.root}function I6(e,t){return{\u0275kind:e,\u0275providers:t}}function G4e(){let e=ot(Aa);return t=>{let r=e.get(iy);if(t!==r.components[0])return;let i=e.get(yp),o=e.get(bX);e.get(yR)===1&&i.initialNavigation(),e.get(_X,null,qM.Optional)?.setUpPreloading(),e.get(yX,null,qM.Optional)?.init(),i.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var bX=new Ln("",{factory:()=>new Ci}),yR=new Ln("",{providedIn:"root",factory:()=>1});function xX(){let e=[{provide:yR,useValue:0},V3(()=>{let t=ot(Aa);return t.get(QM,Promise.resolve()).then(()=>new Promise(i=>{let o=t.get(yp),a=t.get(bX);Tb(o,()=>{i(!0)}),t.get(Mb).afterPreactivation=()=>(i(!0),a.closed?Cn(void 0):a),o.initialNavigation()}))})];return I6(2,e)}function wX(){let e=[V3(()=>{ot(yp).setUpLocationChangeListener()}),{provide:yR,useValue:2}];return I6(3,e)}var _X=new Ln("");function SX(e){return I6(0,[{provide:_X,useExisting:vX},{provide:N6,useExisting:e}])}function CX(){return I6(8,[cR,{provide:k6,useExisting:cR}])}function EX(e){B3("NgRouterViewTransitions");let t=[{provide:hR,useValue:hX},{provide:mR,useValue:A({skipNextTransition:!!e?.skipInitialTransition},e)}];return I6(9,t)}var DX=[ip,{provide:e1,useClass:hp},yp,t1,{provide:gp,useFactory:H4e,deps:[yp]},Db,[]],Rb=(()=>{class e{constructor(){}static forRoot(r,i){return{ngModule:e,providers:[DX,[],{provide:Fg,multi:!0,useValue:r},[],i?.errorHandler?{provide:gR,useValue:i.errorHandler}:[],{provide:n1,useValue:i||{}},i?.useHash?W4e():Y4e(),j4e(),i?.preloadingStrategy?SX(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?X4e(i):[],i?.bindToComponentInputs?CX().\u0275providers:[],i?.enableViewTransitions?EX().\u0275providers:[],K4e()]}}static forChild(r){return{ngModule:e,providers:[{provide:Fg,multi:!0,useValue:r}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({})}return e})();function j4e(){return{provide:yX,useFactory:()=>{let e=ot(LH),t=ot(Hi),r=ot(n1),i=ot(Mb),o=ot(e1);return r.scrollOffset&&e.setOffset(r.scrollOffset),new q4e(o,i,e,t,r)}}}function W4e(){return{provide:Nd,useClass:JM}}function Y4e(){return{provide:Nd,useClass:dy}}function X4e(e){return[e.initialNavigation==="disabled"?wX().\u0275providers:[],e.initialNavigation==="enabledBlocking"?xX().\u0275providers:[]]}var vR=new Ln("");function K4e(){return[{provide:vR,useFactory:G4e},{provide:gH,multi:!0,useExisting:vR}]}function kb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pg(e){let t=e,r=e;e.length===1&&(t=(s,l)=>e(s)-l,r=J4e(e));function i(s,l,u,c){for(u==null&&(u=0),c==null&&(c=s.length);u<c;){let f=u+c>>>1;r(s[f],l)<0?u=f+1:c=f}return u}function o(s,l,u,c){for(u==null&&(u=0),c==null&&(c=s.length);u<c;){let f=u+c>>>1;r(s[f],l)>0?c=f:u=f+1}return u}function a(s,l,u,c){u==null&&(u=0),c==null&&(c=s.length);let f=i(s,l,u,c-1);return f>u&&t(s[f-1],l)>-t(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function J4e(e){return(t,r)=>kb(e(t),r)}function AX(e){return e===null?NaN:+e}var MX=Pg(kb),e8e=MX.right,vst=MX.left,yst=Pg(AX).center,TX=e8e;function bR(e,t){let r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&++r;else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&++r}return r}function Ob(e,t){let r,i;if(t===void 0)for(let o of e)o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}return[r,i]}var Is=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,i=0;for(let o=0;o<this._n&&o<32;o++){let a=r[o],s=t+a,l=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);l&&(r[i++]=l),t=s}return r[i]=t,this._n=i+1,this}valueOf(){let t=this._partials,r=this._n,i,o,a,s=0;if(r>0){for(s=t[--r];r>0&&(i=s,o=t[--r],s=i+o,a=o-(s-i),!a););r>0&&(a<0&&t[r-1]<0||a>0&&t[r-1]>0)&&(o=a*2,i=s+o,o==i-s&&(s=i))}return s}};var Lg=class extends Map{constructor(t,r=OX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[i,o]of t)this.set(i,o)}get(t){return super.get(xR(this,t))}has(t){return super.has(xR(this,t))}set(t,r){return super.set(RX(this,t),r)}delete(t){return super.delete(kX(this,t))}},$d=class extends Set{constructor(t,r=OX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let i of t)this.add(i)}has(t){return super.has(xR(this,t))}add(t){return super.add(RX(this,t))}delete(t){return super.delete(kX(this,t))}};function xR({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):r}function RX({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function kX({_intern:e,_key:t},r){let i=t(r);return e.has(i)&&(r=e.get(r),e.delete(i)),r}function OX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NX(e){return e}var IX=Array.prototype,FX=IX.slice,Est=IX.map;function F6(e){return function(){return e}}var wR=Math.sqrt(50),_R=Math.sqrt(10),SR=Math.sqrt(2);function CR(e,t,r){var i,o=-1,a,s,l;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),(l=Bg(e,t,r))===0||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),c=Math.round(t/l);for(u*l<e&&++u,c*l>t&&--c,s=new Array(a=c-u+1);++o<a;)s[o]=(u+o)*l}else{l=-l;let u=Math.round(e*l),c=Math.round(t*l);for(u/l<e&&++u,c/l>t&&--c,s=new Array(a=c-u+1);++o<a;)s[o]=(u+o)/l}return i&&s.reverse(),s}function Bg(e,t,r){var i=(t-e)/Math.max(0,r),o=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,o);return o>=0?(a>=wR?10:a>=_R?5:a>=SR?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=wR?10:a>=_R?5:a>=SR?2:1)}function Nb(e,t,r){var i=Math.abs(t-e)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/o;return a>=wR?o*=10:a>=_R?o*=5:a>=SR&&(o*=2),t<e?-o:o}function ER(e,t,r){let i;for(;;){let o=Bg(e,t,r);if(o===i||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),i=o}}function PX(e){return Math.ceil(Math.log(bR(e))/Math.LN2)+1}function Ib(){var e=NX,t=Ob,r=PX;function i(o){Array.isArray(o)||(o=Array.from(o));var a,s=o.length,l,u=new Array(s);for(a=0;a<s;++a)u[a]=e(o[a],a,o);var c=t(u),f=c[0],d=c[1],p=r(u,f,d);if(!Array.isArray(p)){let b=d,_=+p;if(t===Ob&&([f,d]=ER(f,d,_)),p=CR(f,d,_),p[p.length-1]>=d)if(b>=d&&t===Ob){let D=Bg(f,d,_);isFinite(D)&&(D>0?d=(Math.floor(d/D)+1)*D:D<0&&(d=(Math.ceil(d*-D)+1)/-D))}else p.pop()}for(var m=p.length;p[0]<=f;)p.shift(),--m;for(;p[m-1]>d;)p.pop(),--m;var g=new Array(m+1),v;for(a=0;a<=m;++a)v=g[a]=[],v.x0=a>0?p[a-1]:f,v.x1=a<m?p[a]:d;for(a=0;a<s;++a)l=u[a],f<=l&&l<=d&&g[TX(p,l,0,m)].push(o[a]);return g}return i.value=function(o){return arguments.length?(e=typeof o=="function"?o:F6(o),i):e},i.domain=function(o){return arguments.length?(t=typeof o=="function"?o:F6([o[0],o[1]]),i):t},i.thresholds=function(o){return arguments.length?(r=typeof o=="function"?o:Array.isArray(o)?F6(FX.call(o)):F6(o),i):r},i}function*t8e(e){for(let t of e)yield*jq(t)}function bf(e){return Array.from(t8e(e))}var n8e={value:()=>{}};function BX(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Fb(r)}function Fb(e){this._=e}function r8e(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Fb.prototype=BX.prototype={constructor:Fb,on:function(e,t){var r=this._,i=r8e(e+"",r),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(e=i[a]).type)&&(o=i8e(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(o=(e=i[a]).type)r[o]=LX(r[o],e.name,t);else if(t==null)for(o in r)r[o]=LX(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Fb(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(t,r)}};function i8e(e,t){for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).name===t)return o.value}function LX(e,t,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=n8e,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var P6=BX;var Pb="http://www.w3.org/1999/xhtml",DR={svg:"http://www.w3.org/2000/svg",xhtml:Pb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ud(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),DR.hasOwnProperty(t)?{space:DR[t],local:e}:e}function o8e(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Pb&&t.documentElement.namespaceURI===Pb?t.createElement(e):t.createElementNS(r,e)}}function a8e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Lb(e){var t=Ud(e);return(t.local?a8e:o8e)(t)}function s8e(){}function r1(e){return e==null?s8e:function(){return this.querySelector(e)}}function $X(e){typeof e!="function"&&(e=r1(e));for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o)for(var a=t[o],s=a.length,l=i[o]=new Array(s),u,c,f=0;f<s;++f)(u=a[f])&&(c=e.call(u,u.__data__,f,a))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new Co(i,this._parents)}function Bb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l8e(){return[]}function L6(e){return e==null?l8e:function(){return this.querySelectorAll(e)}}function u8e(e){return function(){var t=e.apply(this,arguments);return t==null?[]:Bb(t)}}function UX(e){typeof e=="function"?e=u8e(e):e=L6(e);for(var t=this._groups,r=t.length,i=[],o=[],a=0;a<r;++a)for(var s=t[a],l=s.length,u,c=0;c<l;++c)(u=s[c])&&(i.push(e.call(u,u.__data__,c,s)),o.push(u));return new Co(i,o)}function B6(e){return function(){return this.matches(e)}}function $b(e){return function(t){return t.matches(e)}}var c8e=Array.prototype.find;function f8e(e){return function(){return c8e.call(this.children,e)}}function d8e(){return this.firstElementChild}function zX(e){return this.select(e==null?d8e:f8e(typeof e=="function"?e:$b(e)))}var p8e=Array.prototype.filter;function h8e(){return this.children}function m8e(e){return function(){return p8e.call(this.children,e)}}function VX(e){return this.selectAll(e==null?h8e:m8e(typeof e=="function"?e:$b(e)))}function qX(e){typeof e!="function"&&(e=B6(e));for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o)for(var a=t[o],s=a.length,l=i[o]=[],u,c=0;c<s;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&l.push(u);return new Co(i,this._parents)}function Ub(e){return new Array(e.length)}function HX(){return new Co(this._enter||this._groups.map(Ub),this._parents)}function $6(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$6.prototype={constructor:$6,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GX(e){return function(){return e}}function g8e(e,t,r,i,o,a){for(var s=0,l,u=t.length,c=a.length;s<c;++s)(l=t[s])?(l.__data__=a[s],i[s]=l):r[s]=new $6(e,a[s]);for(;s<u;++s)(l=t[s])&&(o[s]=l)}function v8e(e,t,r,i,o,a,s){var l,u,c=new Map,f=t.length,d=a.length,p=new Array(f),m;for(l=0;l<f;++l)(u=t[l])&&(p[l]=m=s.call(u,u.__data__,l,t)+"",c.has(m)?o[l]=u:c.set(m,u));for(l=0;l<d;++l)m=s.call(e,a[l],l,a)+"",(u=c.get(m))?(i[l]=u,u.__data__=a[l],c.delete(m)):r[l]=new $6(e,a[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(p[l])===u&&(o[l]=u)}function y8e(e){return e.__data__}function jX(e,t){if(!arguments.length)return Array.from(this,y8e);var r=t?v8e:g8e,i=this._parents,o=this._groups;typeof e!="function"&&(e=GX(e));for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],d=o[c],p=d.length,m=Bb(e.call(f,f&&f.__data__,c,i)),g=m.length,v=l[c]=new Array(g),b=s[c]=new Array(g),_=u[c]=new Array(p);r(f,d,v,b,_,m,t);for(var D=0,T=0,N,z;D<g;++D)if(N=v[D]){for(D>=T&&(T=D+1);!(z=b[T])&&++T<g;);N._next=z||null}}return s=new Co(s,i),s._enter=l,s._exit=u,s}function WX(){return new Co(this._exit||this._groups.map(Ub),this._parents)}function YX(e,t,r){var i=this.enter(),o=this,a=this.exit();return i=typeof e=="function"?e(i):i.append(e+""),t!=null&&(o=t(o)),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function XX(e){if(!(e instanceof Co))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,i=t.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=t[l],c=r[l],f=u.length,d=s[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||c[m])&&(d[m]=p);for(;l<i;++l)s[l]=t[l];return new Co(s,this._parents)}function KX(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function QX(e){e||(e=b8e);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f=0;f<l;++f)(c=s[f])&&(u[f]=c);u.sort(t)}return new Co(o,this._parents).order()}function b8e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ZX(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function JX(){return Array.from(this)}function eK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function tK(){let e=0;for(let t of this)++e;return e}function nK(){return!this.node()}function rK(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length,l;a<s;++a)(l=o[a])&&e.call(l,l.__data__,a,o);return this}function x8e(e){return function(){this.removeAttribute(e)}}function w8e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _8e(e,t){return function(){this.setAttribute(e,t)}}function S8e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function C8e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function E8e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function iK(e,t){var r=Ud(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?w8e:x8e:typeof t=="function"?r.local?E8e:C8e:r.local?S8e:_8e)(r,t))}function zb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function D8e(e){return function(){this.style.removeProperty(e)}}function A8e(e,t,r){return function(){this.style.setProperty(e,t,r)}}function M8e(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function oK(e,t,r){return arguments.length>1?this.each((t==null?D8e:typeof t=="function"?M8e:A8e)(e,t,r??"")):bp(this.node(),e)}function bp(e,t){return e.style.getPropertyValue(t)||zb(e).getComputedStyle(e,null).getPropertyValue(t)}function T8e(e){return function(){delete this[e]}}function R8e(e,t){return function(){this[e]=t}}function k8e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function aK(e,t){return arguments.length>1?this.each((t==null?T8e:typeof t=="function"?k8e:R8e)(e,t)):this.node()[e]}function sK(e){return e.trim().split(/^|\s+/)}function AR(e){return e.classList||new lK(e)}function lK(e){this._node=e,this._names=sK(e.getAttribute("class")||"")}lK.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function uK(e,t){for(var r=AR(e),i=-1,o=t.length;++i<o;)r.add(t[i])}function cK(e,t){for(var r=AR(e),i=-1,o=t.length;++i<o;)r.remove(t[i])}function O8e(e){return function(){uK(this,e)}}function N8e(e){return function(){cK(this,e)}}function I8e(e,t){return function(){(t.apply(this,arguments)?uK:cK)(this,e)}}function fK(e,t){var r=sK(e+"");if(arguments.length<2){for(var i=AR(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?I8e:t?O8e:N8e)(r,t))}function F8e(){this.textContent=""}function P8e(e){return function(){this.textContent=e}}function L8e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function dK(e){return arguments.length?this.each(e==null?F8e:(typeof e=="function"?L8e:P8e)(e)):this.node().textContent}function B8e(){this.innerHTML=""}function $8e(e){return function(){this.innerHTML=e}}function U8e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function pK(e){return arguments.length?this.each(e==null?B8e:(typeof e=="function"?U8e:$8e)(e)):this.node().innerHTML}function z8e(){this.nextSibling&&this.parentNode.appendChild(this)}function hK(){return this.each(z8e)}function V8e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mK(){return this.each(V8e)}function gK(e){var t=typeof e=="function"?e:Lb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function q8e(){return null}function vK(e,t){var r=typeof e=="function"?e:Lb(e),i=t==null?q8e:typeof t=="function"?t:r1(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function H8e(){var e=this.parentNode;e&&e.removeChild(this)}function yK(){return this.each(H8e)}function G8e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j8e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bK(e){return this.select(e?j8e:G8e)}function xK(e){return arguments.length?this.property("__data__",e):this.node().__data__}function W8e(e){return function(t){e.call(this,t,this.__data__)}}function Y8e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function X8e(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,o=t.length,a;r<o;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function K8e(e,t,r){return function(){var i=this.__on,o,a=W8e(t);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=t;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(o):this.__on=[o]}}function wK(e,t,r){var i=Y8e(e+""),o,a=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,f;u<c;++u)for(o=0,f=l[u];o<a;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?K8e:X8e,o=0;o<a;++o)this.each(l(i[o],t,r));return this}function _K(e,t,r){var i=zb(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,r):(o=i.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Q8e(e,t){return function(){return _K(this,e,t)}}function Z8e(e,t){return function(){return _K(this,e,t.apply(this,arguments))}}function SK(e,t){return this.each((typeof t=="function"?Z8e:Q8e)(e,t))}function*CK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var J8e=[null];function Co(e,t){this._groups=e,this._parents=t}function EK(){return new Co([[document.documentElement]],J8e)}function e9e(){return this}Co.prototype=EK.prototype={constructor:Co,select:$X,selectAll:UX,selectChild:zX,selectChildren:VX,filter:qX,data:jX,enter:HX,exit:WX,join:YX,merge:XX,selection:e9e,order:KX,sort:QX,call:ZX,nodes:JX,node:eK,size:tK,empty:nK,each:rK,attr:iK,style:oK,property:aK,classed:fK,text:dK,html:pK,raise:hK,lower:mK,append:gK,insert:vK,remove:yK,clone:bK,datum:xK,on:wK,dispatch:SK,[Symbol.iterator]:CK};var zd=EK;function Vd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xp(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function _f(){}var wp=.7,i1=1/wp,$g="\\s*([+-]?\\d+)\\s*",U6="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t9e=/^#([0-9a-f]{3,8})$/,n9e=new RegExp("^rgb\\("+[$g,$g,$g]+"\\)$"),r9e=new RegExp("^rgb\\("+[wf,wf,wf]+"\\)$"),i9e=new RegExp("^rgba\\("+[$g,$g,$g,U6]+"\\)$"),o9e=new RegExp("^rgba\\("+[wf,wf,wf,U6]+"\\)$"),a9e=new RegExp("^hsl\\("+[U6,wf,wf]+"\\)$"),s9e=new RegExp("^hsla\\("+[U6,wf,wf,U6]+"\\)$"),DK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vd(_f,il,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:AK,formatHex:AK,formatHsl:l9e,formatRgb:MK,toString:MK});function AK(){return this.rgb().formatHex()}function l9e(){return NK(this).formatHsl()}function MK(){return this.rgb().formatRgb()}function il(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=t9e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TK(t):r===3?new Uo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n9e.exec(e))?new Uo(t[1],t[2],t[3],1):(t=r9e.exec(e))?new Uo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=i9e.exec(e))?Vb(t[1],t[2],t[3],t[4]):(t=o9e.exec(e))?Vb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=a9e.exec(e))?OK(t[1],t[2]/100,t[3]/100,1):(t=s9e.exec(e))?OK(t[1],t[2]/100,t[3]/100,t[4]):DK.hasOwnProperty(e)?TK(DK[e]):e==="transparent"?new Uo(NaN,NaN,NaN,0):null}function TK(e){return new Uo(e>>16&255,e>>8&255,e&255,1)}function Vb(e,t,r,i){return i<=0&&(e=t=r=NaN),new Uo(e,t,r,i)}function z6(e){return e instanceof _f||(e=il(e)),e?(e=e.rgb(),new Uo(e.r,e.g,e.b,e.opacity)):new Uo}function Za(e,t,r,i){return arguments.length===1?z6(e):new Uo(e,t,r,i??1)}function Uo(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}Vd(Uo,Za,xp(_f,{brighter:function(e){return e=e==null?i1:Math.pow(i1,e),new Uo(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?wp:Math.pow(wp,e),new Uo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RK,formatHex:RK,formatRgb:kK,toString:kK}));function RK(){return"#"+MR(this.r)+MR(this.g)+MR(this.b)}function kK(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function MR(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function OK(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xf(e,t,r,i)}function NK(e){if(e instanceof xf)return new xf(e.h,e.s,e.l,e.opacity);if(e instanceof _f||(e=il(e)),!e)return new xf;if(e instanceof xf)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(t,r,i),a=Math.max(t,r,i),s=NaN,l=a-o,u=(a+o)/2;return l?(t===a?s=(r-i)/l+(r<i)*6:r===a?s=(i-t)/l+2:s=(t-r)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new xf(s,l,u,e.opacity)}function V6(e,t,r,i){return arguments.length===1?NK(e):new xf(e,t,r,i??1)}function xf(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Vd(xf,V6,xp(_f,{brighter:function(e){return e=e==null?i1:Math.pow(i1,e),new xf(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?wp:Math.pow(wp,e),new xf(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,o=2*r-i;return new Uo(TR(e>=240?e-240:e+120,o,i),TR(e,o,i),TR(e<120?e+240:e-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function TR(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var qb=Math.PI/180,Hb=180/Math.PI;var Gb=18,IK=.96422,FK=1,PK=.82521,LK=4/29,Ug=6/29,BK=3*Ug*Ug,u9e=Ug*Ug*Ug;function $K(e){if(e instanceof Sf)return new Sf(e.l,e.a,e.b,e.opacity);if(e instanceof qd)return UK(e);e instanceof Uo||(e=z6(e));var t=NR(e.r),r=NR(e.g),i=NR(e.b),o=RR((.2225045*t+.7168786*r+.0606169*i)/FK),a,s;return t===r&&r===i?a=s=o:(a=RR((.4360747*t+.3850649*r+.1430804*i)/IK),s=RR((.0139322*t+.0971045*r+.7141733*i)/PK)),new Sf(116*o-16,500*(a-o),200*(o-s),e.opacity)}function zg(e,t,r,i){return arguments.length===1?$K(e):new Sf(e,t,r,i??1)}function Sf(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}Vd(Sf,zg,xp(_f,{brighter:function(e){return new Sf(this.l+Gb*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Sf(this.l-Gb*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=IK*kR(t),e=FK*kR(e),r=PK*kR(r),new Uo(OR(3.1338561*t-1.6168667*e-.4906146*r),OR(-.9787684*t+1.9161415*e+.033454*r),OR(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function RR(e){return e>u9e?Math.pow(e,1/3):e/BK+LK}function kR(e){return e>Ug?e*e*e:BK*(e-LK)}function OR(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function NR(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c9e(e){if(e instanceof qd)return new qd(e.h,e.c,e.l,e.opacity);if(e instanceof Sf||(e=$K(e)),e.a===0&&e.b===0)return new qd(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Hb;return new qd(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function q6(e,t,r,i){return arguments.length===1?c9e(e):new qd(e,t,r,i??1)}function qd(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function UK(e){if(isNaN(e.h))return new Sf(e.l,0,0,e.opacity);var t=e.h*qb;return new Sf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Vd(qd,q6,xp(_f,{brighter:function(e){return new qd(this.h,this.c,this.l+Gb*(e??1),this.opacity)},darker:function(e){return new qd(this.h,this.c,this.l-Gb*(e??1),this.opacity)},rgb:function(){return UK(this).rgb()}}));var HK=-.14861,IR=1.78277,FR=-.29227,jb=-.90649,H6=1.97294,zK=H6*jb,VK=H6*IR,qK=IR*FR-jb*HK;function f9e(e){if(e instanceof o1)return new o1(e.h,e.s,e.l,e.opacity);e instanceof Uo||(e=z6(e));var t=e.r/255,r=e.g/255,i=e.b/255,o=(qK*i+zK*t-VK*r)/(qK+zK-VK),a=i-o,s=(H6*(r-o)-FR*a)/jb,l=Math.sqrt(s*s+a*a)/(H6*o*(1-o)),u=l?Math.atan2(s,a)*Hb-120:NaN;return new o1(u<0?u+360:u,l,o,e.opacity)}function Fs(e,t,r,i){return arguments.length===1?f9e(e):new o1(e,t,r,i??1)}function o1(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Vd(o1,Fs,xp(_f,{brighter:function(e){return e=e==null?i1:Math.pow(i1,e),new o1(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?wp:Math.pow(wp,e),new o1(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*qb,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),o=Math.sin(e);return new Uo(255*(t+r*(HK*i+IR*o)),255*(t+r*(FR*i+jb*o)),255*(t+r*(H6*i)),this.opacity)}}));function PR(e,t,r,i,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*i+s*o)/6}function GK(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,l=i<t-1?e[i+2]:2*a-o;return PR((r-i/t)*t,s,o,a,l)}}function jK(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],l=e[(i+2)%t];return PR((r-i/t)*t,o,a,s,l)}}var Wb=e=>()=>e;function WK(e,t){return function(r){return e+r*t}}function d9e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function YK(e,t){var r=t-e;return r?WK(e,r>180||r<-180?r-360*Math.round(r/360):r):Wb(isNaN(e)?t:e)}function XK(e){return(e=+e)==1?Hd:function(t,r){return r-t?d9e(t,r,e):Wb(isNaN(t)?r:t)}}function Hd(e,t){var r=t-e;return r?WK(e,r):Wb(isNaN(e)?t:e)}var Yb=function e(t){var r=XK(t);function i(o,a){var s=r((o=Za(o)).r,(a=Za(a)).r),l=r(o.g,a.g),u=r(o.b,a.b),c=Hd(o.opacity,a.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return i.gamma=e,i}(1);function KK(e){return function(t){var r=t.length,i=new Array(r),o=new Array(r),a=new Array(r),s,l;for(s=0;s<r;++s)l=Za(t[s]),i[s]=l.r||0,o[s]=l.g||0,a[s]=l.b||0;return i=e(i),o=e(o),a=e(a),l.opacity=1,function(u){return l.r=i(u),l.g=o(u),l.b=a(u),l+""}}}var LR=KK(GK),p9e=KK(jK);function gu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var $R=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BR=new RegExp($R.source,"g");function h9e(e){return function(){return e}}function m9e(e){return function(t){return e(t)+""}}function UR(e,t){var r=$R.lastIndex=BR.lastIndex=0,i,o,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(i=$R.exec(e))&&(o=BR.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:gu(i,o)})),r=BR.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?m9e(u[0].x):h9e(t):(t=u.length,function(c){for(var f=0,d;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}var QK=180/Math.PI,Xb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zR(e,t,r,i,o,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,u/=l),e*i<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*QK,skewX:Math.atan(u)*QK,scaleX:s,scaleY:l}}var Kb;function ZK(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xb:zR(t.a,t.b,t.c,t.d,t.e,t.f)}function JK(e){return e==null?Xb:(Kb||(Kb=document.createElementNS("http://www.w3.org/2000/svg","g")),Kb.setAttribute("transform",e),(e=Kb.transform.baseVal.consolidate())?(e=e.matrix,zR(e.a,e.b,e.c,e.d,e.e,e.f)):Xb)}function eQ(e,t,r,i){function o(c){return c.length?c.pop()+" ":""}function a(c,f,d,p,m,g){if(c!==d||f!==p){var v=m.push("translate(",null,t,null,r);g.push({i:v-4,x:gu(c,d)},{i:v-2,x:gu(f,p)})}else(d||p)&&m.push("translate("+d+t+p+r)}function s(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(o(d)+"rotate(",null,i)-2,x:gu(c,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(c,f,d,p){c!==f?p.push({i:d.push(o(d)+"skewX(",null,i)-2,x:gu(c,f)}):f&&d.push(o(d)+"skewX("+f+i)}function u(c,f,d,p,m,g){if(c!==d||f!==p){var v=m.push(o(m)+"scale(",null,",",null,")");g.push({i:v-4,x:gu(c,d)},{i:v-2,x:gu(f,p)})}else(d!==1||p!==1)&&m.push(o(m)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=e(c),f=e(f),a(c.translateX,c.translateY,f.translateX,f.translateY,d,p),s(c.rotate,f.rotate,d,p),l(c.skewX,f.skewX,d,p),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(m){for(var g=-1,v=p.length,b;++g<v;)d[(b=p[g]).i]=b.x(m);return d.join("")}}}var VR=eQ(ZK,"px, ","px)","deg)"),qR=eQ(JK,", ",")",")");function tQ(e){return function t(r){r=+r;function i(o,a){var s=e((o=Fs(o)).h,(a=Fs(a)).h),l=Hd(o.s,a.s),u=Hd(o.l,a.l),c=Hd(o.opacity,a.opacity);return function(f){return o.h=s(f),o.s=l(f),o.l=u(Math.pow(f,r)),o.opacity=c(f),o+""}}return i.gamma=t,i}(1)}var g9e=tQ(YK),Qb=tQ(Hd);var Vg=0,j6=0,G6=0,rQ=1e3,Zb,W6,Jb=0,a1=0,ex=0,Y6=typeof performance=="object"&&performance.now?performance:Date,iQ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function K6(){return a1||(iQ(v9e),a1=Y6.now()+ex)}function v9e(){a1=0}function X6(){this._call=this._time=this._next=null}X6.prototype=qg.prototype={constructor:X6,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?K6():+r)+(t==null?0:+t),!this._next&&W6!==this&&(W6?W6._next=this:Zb=this,W6=this),this._call=e,this._time=r,HR()},stop:function(){this._call&&(this._call=null,this._time=1/0,HR())}};function qg(e,t,r){var i=new X6;return i.restart(e,t,r),i}function oQ(){K6(),++Vg;for(var e=Zb,t;e;)(t=a1-e._time)>=0&&e._call.call(null,t),e=e._next;--Vg}function nQ(){a1=(Jb=Y6.now())+ex,Vg=j6=0;try{oQ()}finally{Vg=0,b9e(),a1=0}}function y9e(){var e=Y6.now(),t=e-Jb;t>rQ&&(ex-=t,Jb=e)}function b9e(){for(var e,t=Zb,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Zb=r);W6=e,HR(i)}function HR(e){if(!Vg){j6&&(j6=clearTimeout(j6));var t=e-a1;t>24?(e<1/0&&(j6=setTimeout(nQ,e-Y6.now()-ex)),G6&&(G6=clearInterval(G6))):(G6||(Jb=Y6.now(),G6=setInterval(y9e,rQ)),Vg=1,iQ(nQ))}}function tx(e,t,r){var i=new X6;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,r),i}var x9e=P6("start","end","cancel","interrupt"),w9e=[],sQ=0,GR=1,rx=2,nx=3,aQ=4,ix=5,Q6=6;function _p(e,t,r,i,o,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;_9e(e,r,{name:t,index:i,group:o,on:x9e,tween:w9e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:sQ})}function Z6(e,t){var r=zo(e,t);if(r.state>sQ)throw new Error("too late; already scheduled");return r}function Ra(e,t){var r=zo(e,t);if(r.state>nx)throw new Error("too late; already running");return r}function zo(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function _9e(e,t,r){var i=e.__transition,o;i[t]=r,r.timer=qg(a,0,r.time);function a(c){r.state=GR,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var f,d,p,m;if(r.state!==GR)return u();for(f in i)if(m=i[f],m.name===r.name){if(m.state===nx)return tx(s);m.state===aQ?(m.state=Q6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete i[f]):+f<t&&(m.state=Q6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete i[f])}if(tx(function(){r.state===nx&&(r.state=aQ,r.timer.restart(l,r.delay,r.time),l(c))}),r.state=rx,r.on.call("start",e,e.__data__,r.index,r.group),r.state===rx){for(r.state=nx,o=new Array(p=r.tween.length),f=0,d=-1;f<p;++f)(m=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(o[++d]=m);o.length=d+1}}function l(c){for(var f=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=ix,1),d=-1,p=o.length;++d<p;)o[d].call(e,f);r.state===ix&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Q6,r.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function J6(e,t){var r=e.__transition,i,o,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((i=r[s]).name!==t){a=!1;continue}o=i.state>rx&&i.state<ix,i.state=Q6,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}a&&delete e.__transition}}function lQ(e){return this.each(function(){J6(this,e)})}function S9e(e,t){var r,i;return function(){var o=Ra(this,e),a=o.tween;if(a!==r){i=r=a;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function C9e(e,t,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=Ra(this,e),s=a.tween;if(s!==i){o=(i=s).slice();for(var l={name:t,value:r},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=l;break}u===c&&o.push(l)}a.tween=o}}function uQ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=zo(this.node(),r).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?S9e:C9e)(r,e,t))}function Hg(e,t,r){var i=e._id;return e.each(function(){var o=Ra(this,i);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return zo(o,i).value[t]}}function ox(e,t){var r;return(typeof t=="number"?gu:t instanceof il?Yb:(r=il(t))?(t=r,Yb):UR)(e,t)}function E9e(e){return function(){this.removeAttribute(e)}}function D9e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A9e(e,t,r){var i,o=r+"",a;return function(){var s=this.getAttribute(e);return s===o?null:s===i?a:a=t(i=s,r)}}function M9e(e,t,r){var i,o=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?a:a=t(i=s,r)}}function T9e(e,t,r){var i,o,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===i&&u===o?a:(o=u,a=t(i=s,l)))}}function R9e(e,t,r){var i,o,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===i&&u===o?a:(o=u,a=t(i=s,l)))}}function cQ(e,t){var r=Ud(e),i=r==="transform"?qR:ox;return this.attrTween(e,typeof t=="function"?(r.local?R9e:T9e)(r,i,Hg(this,"attr."+e,t)):t==null?(r.local?D9e:E9e)(r):(r.local?M9e:A9e)(r,i,t))}function k9e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function O9e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function N9e(e,t){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&O9e(e,a)),r}return o._value=t,o}function I9e(e,t){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&k9e(e,a)),r}return o._value=t,o}function fQ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=Ud(e);return this.tween(r,(i.local?N9e:I9e)(i,t))}function F9e(e,t){return function(){Z6(this,e).delay=+t.apply(this,arguments)}}function P9e(e,t){return t=+t,function(){Z6(this,e).delay=t}}function dQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?F9e:P9e)(t,e)):zo(this.node(),t).delay}function L9e(e,t){return function(){Ra(this,e).duration=+t.apply(this,arguments)}}function B9e(e,t){return t=+t,function(){Ra(this,e).duration=t}}function pQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L9e:B9e)(t,e)):zo(this.node(),t).duration}function $9e(e,t){if(typeof t!="function")throw new Error;return function(){Ra(this,e).ease=t}}function hQ(e){var t=this._id;return arguments.length?this.each($9e(t,e)):zo(this.node(),t).ease}function U9e(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ra(this,e).ease=r}}function mQ(e){if(typeof e!="function")throw new Error;return this.each(U9e(this._id,e))}function gQ(e){typeof e!="function"&&(e=B6(e));for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o)for(var a=t[o],s=a.length,l=i[o]=[],u,c=0;c<s;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&l.push(u);return new Ja(i,this._parents,this._name,this._id)}function vQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=t[l],c=r[l],f=u.length,d=s[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||c[m])&&(d[m]=p);for(;l<i;++l)s[l]=t[l];return new Ja(s,this._parents,this._name,this._id)}function z9e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function V9e(e,t,r){var i,o,a=z9e(t)?Z6:Ra;return function(){var s=a(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(t,r),s.on=o}}function yQ(e,t){var r=this._id;return arguments.length<2?zo(this.node(),r).on.on(e):this.each(V9e(r,e,t))}function q9e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function bQ(){return this.on("end.remove",q9e(this._id))}function xQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=r1(e));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var l=i[s],u=l.length,c=a[s]=new Array(u),f,d,p=0;p<u;++p)(f=l[p])&&(d=e.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d,_p(c[p],t,r,p,c,zo(f,r)));return new Ja(a,this._parents,t,r)}function wQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=L6(e));for(var i=this._groups,o=i.length,a=[],s=[],l=0;l<o;++l)for(var u=i[l],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var p=e.call(f,f.__data__,d,u),m,g=zo(f,r),v=0,b=p.length;v<b;++v)(m=p[v])&&_p(m,t,r,v,p,g);a.push(p),s.push(f)}return new Ja(a,s,t,r)}var H9e=zd.prototype.constructor;function _Q(){return new H9e(this._groups,this._parents)}function G9e(e,t){var r,i,o;return function(){var a=bp(this,e),s=(this.style.removeProperty(e),bp(this,e));return a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}function SQ(e){return function(){this.style.removeProperty(e)}}function j9e(e,t,r){var i,o=r+"",a;return function(){var s=bp(this,e);return s===o?null:s===i?a:a=t(i=s,r)}}function W9e(e,t,r){var i,o,a;return function(){var s=bp(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),bp(this,e))),s===u?null:s===i&&u===o?a:(o=u,a=t(i=s,l))}}function Y9e(e,t){var r,i,o,a="style."+t,s="end."+a,l;return function(){var u=Ra(this,e),c=u.on,f=u.value[a]==null?l||(l=SQ(t)):void 0;(c!==r||o!==f)&&(i=(r=c).copy()).on(s,o=f),u.on=i}}function CQ(e,t,r){var i=(e+="")=="transform"?VR:ox;return t==null?this.styleTween(e,G9e(e,i)).on("end.style."+e,SQ(e)):typeof t=="function"?this.styleTween(e,W9e(e,i,Hg(this,"style."+e,t))).each(Y9e(this._id,e)):this.styleTween(e,j9e(e,i,t),r).on("end.style."+e,null)}function X9e(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function K9e(e,t,r){var i,o;function a(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&X9e(e,s,r)),i}return a._value=t,a}function EQ(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,K9e(e,t,r??""))}function Q9e(e){return function(){this.textContent=e}}function Z9e(e){return function(){var t=e(this);this.textContent=t??""}}function DQ(e){return this.tween("text",typeof e=="function"?Z9e(Hg(this,"text",e)):Q9e(e==null?"":e+""))}function J9e(e){return function(t){this.textContent=e.call(this,t)}}function e7e(e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&J9e(o)),t}return i._value=e,i}function AQ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,e7e(e))}function MQ(){for(var e=this._name,t=this._id,r=ax(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],l=s.length,u,c=0;c<l;++c)if(u=s[c]){var f=zo(u,t);_p(u,e,r,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ja(i,this._parents,e,r)}function TQ(){var e,t,r=this,i=r._id,o=r.size();return new Promise(function(a,s){var l={value:s},u={value:function(){--o===0&&a()}};r.each(function(){var c=Ra(this,i),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),o===0&&a()})}var t7e=0;function Ja(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function jR(e){return zd().transition(e)}function ax(){return++t7e}var s1=zd.prototype;Ja.prototype=jR.prototype={constructor:Ja,select:xQ,selectAll:wQ,filter:gQ,merge:vQ,selection:_Q,transition:MQ,call:s1.call,nodes:s1.nodes,node:s1.node,size:s1.size,empty:s1.empty,each:s1.each,on:yQ,attr:cQ,attrTween:fQ,style:CQ,styleTween:EQ,text:DQ,textTween:AQ,remove:bQ,tween:uQ,delay:dQ,duration:pQ,ease:hQ,easeVarying:mQ,end:TQ,[Symbol.iterator]:s1[Symbol.iterator]};function sx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var n7e={time:null,delay:0,duration:250,ease:sx};function r7e(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function RQ(e){var t,r;e instanceof Ja?(t=e._id,e=e._name):(t=ax(),(r=n7e).time=K6(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],l=s.length,u,c=0;c<l;++c)(u=s[c])&&_p(u,e,t,c,s,r||r7e(u,t));return new Ja(i,this._parents,e,t)}zd.prototype.interrupt=lQ;zd.prototype.transition=RQ;var{abs:p0t,max:h0t,min:m0t}=Math;function kQ(e){return[+e[0],+e[1]]}function i7e(e){return[kQ(e[0]),kQ(e[1])]}var g0t={name:"x",handles:["w","e"].map(WR),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},v0t={name:"y",handles:["n","s"].map(WR),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},y0t={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(WR),input:function(e){return e==null?null:i7e(e)},output:function(e){return e}};function WR(e){return{type:e}}var OQ={},YR={},XR=34,e4=10,KR=13;function IQ(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function o7e(e,t){var r=IQ(e);return function(i,o){return t(r(i),o,e)}}function NQ(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var o in i)o in t||r.push(t[o]=o)}),r}function ol(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function a7e(e){return e<0?"-"+ol(-e,6):e>9999?"+"+ol(e,6):ol(e,4)}function s7e(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":a7e(e.getUTCFullYear(),4)+"-"+ol(e.getUTCMonth()+1,2)+"-"+ol(e.getUTCDate(),2)+(o?"T"+ol(t,2)+":"+ol(r,2)+":"+ol(i,2)+"."+ol(o,3)+"Z":i?"T"+ol(t,2)+":"+ol(r,2)+":"+ol(i,2)+"Z":r||t?"T"+ol(t,2)+":"+ol(r,2)+"Z":"")}function t4(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(d,p){var m,g,v=o(d,function(b,_){if(m)return m(b,_-1);g=b,m=p?o7e(b,p):IQ(b)});return v.columns=g||[],v}function o(d,p){var m=[],g=d.length,v=0,b=0,_,D=g<=0,T=!1;d.charCodeAt(g-1)===e4&&--g,d.charCodeAt(g-1)===KR&&--g;function N(){if(D)return YR;if(T)return T=!1,OQ;var j,B=v,U;if(d.charCodeAt(B)===XR){for(;v++<g&&d.charCodeAt(v)!==XR||d.charCodeAt(++v)===XR;);return(j=v)>=g?D=!0:(U=d.charCodeAt(v++))===e4?T=!0:U===KR&&(T=!0,d.charCodeAt(v)===e4&&++v),d.slice(B+1,j-1).replace(/""/g,'"')}for(;v<g;){if((U=d.charCodeAt(j=v++))===e4)T=!0;else if(U===KR)T=!0,d.charCodeAt(v)===e4&&++v;else if(U!==r)continue;return d.slice(B,j)}return D=!0,d.slice(B,g)}for(;(_=N())!==YR;){for(var z=[];_!==OQ&&_!==YR;)z.push(_),_=N();p&&(z=p(z,b++))==null||m.push(z)}return m}function a(d,p){return d.map(function(m){return p.map(function(g){return f(m[g])}).join(e)})}function s(d,p){return p==null&&(p=NQ(d)),[p.map(f).join(e)].concat(a(d,p)).join(`
`)}function l(d,p){return p==null&&(p=NQ(d)),a(d,p).join(`
`)}function u(d){return d.map(c).join(`
`)}function c(d){return d.map(f).join(e)}function f(d){return d==null?"":d instanceof Date?s7e(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:i,parseRows:o,format:s,formatBody:l,formatRows:u,formatRow:c,formatValue:f}}var l1=t4(","),QR=l1.parse,l7e=l1.parseRows,u7e=l1.format,c7e=l1.formatBody,f7e=l1.formatRows,d7e=l1.formatRow,p7e=l1.formatValue;var u1=t4("	"),ZR=u1.parse,h7e=u1.parseRows,m7e=u1.format,g7e=u1.formatBody,v7e=u1.formatRows,y7e=u1.formatRow,b7e=u1.formatValue;function x7e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function FQ(e,t){return fetch(e,t).then(x7e)}function PQ(e){return function(t,r,i){return arguments.length===2&&typeof r=="function"&&(i=r,r=void 0),FQ(t,r).then(function(o){return e(o,i)})}}var JR=PQ(QR),w7e=PQ(ZR);function _7e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function ek(e,t){return fetch(e,t).then(_7e)}function LQ(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return BQ(this.cover(t,r),t,r,e)}function BQ(e,t,r,i){if(isNaN(t)||isNaN(r))return e;var o,a=e._root,s={data:i},l=e._x0,u=e._y0,c=e._x1,f=e._y1,d,p,m,g,v,b,_,D;if(!a)return e._root=s,e;for(;a.length;)if((v=t>=(d=(l+c)/2))?l=d:c=d,(b=r>=(p=(u+f)/2))?u=p:f=p,o=a,!(a=a[_=b<<1|v]))return o[_]=s,e;if(m=+e._x.call(null,a.data),g=+e._y.call(null,a.data),t===m&&r===g)return s.next=a,o?o[_]=s:e._root=s,e;do o=o?o[_]=new Array(4):e._root=new Array(4),(v=t>=(d=(l+c)/2))?l=d:c=d,(b=r>=(p=(u+f)/2))?u=p:f=p;while((_=b<<1|v)===(D=(g>=p)<<1|m>=d));return o[D]=a,o[_]=s,e}function $Q(e){var t,r,i=e.length,o,a,s=new Array(i),l=new Array(i),u=1/0,c=1/0,f=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,t=e[r]))||isNaN(a=+this._y.call(null,t))||(s[r]=o,l[r]=a,o<u&&(u=o),o>f&&(f=o),a<c&&(c=a),a>d&&(d=a));if(u>f||c>d)return this;for(this.cover(u,c).cover(f,d),r=0;r<i;++r)BQ(this,s[r],l[r],e[r]);return this}function UQ(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,a=(i=Math.floor(t))+1;else{for(var s=o-r||1,l=this._root,u,c;r>e||e>=o||i>t||t>=a;)switch(c=(t<i)<<1|e<r,u=new Array(4),u[c]=l,l=u,s*=2,c){case 0:o=r+s,a=i+s;break;case 1:r=o-s,a=i+s;break;case 2:o=r+s,i=a-s;break;case 3:r=o-s,i=a-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function zQ(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function VQ(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ra(e,t,r,i,o){this.node=e,this.x0=t,this.y0=r,this.x1=i,this.y1=o}function qQ(e,t,r){var i,o=this._x0,a=this._y0,s,l,u,c,f=this._x1,d=this._y1,p=[],m=this._root,g,v;for(m&&p.push(new ra(m,o,a,f,d)),r==null?r=1/0:(o=e-r,a=t-r,f=e+r,d=t+r,r*=r);g=p.pop();)if(!(!(m=g.node)||(s=g.x0)>f||(l=g.y0)>d||(u=g.x1)<o||(c=g.y1)<a))if(m.length){var b=(s+u)/2,_=(l+c)/2;p.push(new ra(m[3],b,_,u,c),new ra(m[2],s,_,b,c),new ra(m[1],b,l,u,_),new ra(m[0],s,l,b,_)),(v=(t>=_)<<1|e>=b)&&(g=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=g)}else{var D=e-+this._x.call(null,m.data),T=t-+this._y.call(null,m.data),N=D*D+T*T;if(N<r){var z=Math.sqrt(r=N);o=e-z,a=t-z,f=e+z,d=t+z,i=m.data}}return i}function HQ(e){if(isNaN(f=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r=this._root,i,o,a,s=this._x0,l=this._y0,u=this._x1,c=this._y1,f,d,p,m,g,v,b,_;if(!r)return this;if(r.length)for(;;){if((g=f>=(p=(s+u)/2))?s=p:u=p,(v=d>=(m=(l+c)/2))?l=m:c=m,t=r,!(r=r[b=v<<1|g]))return this;if(!r.length)break;(t[b+1&3]||t[b+2&3]||t[b+3&3])&&(i=t,_=b)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):t?(a?t[b]=a:delete t[b],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(i?i[_]=r:this._root=r),this):(this._root=a,this)}function GQ(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function jQ(){return this._root}function WQ(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function YQ(e){var t=[],r,i=this._root,o,a,s,l,u;for(i&&t.push(new ra(i,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(i=r.node,a=r.x0,s=r.y0,l=r.x1,u=r.y1)&&i.length){var c=(a+l)/2,f=(s+u)/2;(o=i[3])&&t.push(new ra(o,c,f,l,u)),(o=i[2])&&t.push(new ra(o,a,f,c,u)),(o=i[1])&&t.push(new ra(o,c,s,l,f)),(o=i[0])&&t.push(new ra(o,a,s,c,f))}return this}function XQ(e){var t=[],r=[],i;for(this._root&&t.push(new ra(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var o=i.node;if(o.length){var a,s=i.x0,l=i.y0,u=i.x1,c=i.y1,f=(s+u)/2,d=(l+c)/2;(a=o[0])&&t.push(new ra(a,s,l,f,d)),(a=o[1])&&t.push(new ra(a,f,l,u,d)),(a=o[2])&&t.push(new ra(a,s,d,f,c)),(a=o[3])&&t.push(new ra(a,f,d,u,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function KQ(e){return e[0]}function QQ(e){return arguments.length?(this._x=e,this):this._x}function ZQ(e){return e[1]}function JQ(e){return arguments.length?(this._y=e,this):this._y}function c1(e,t,r){var i=new tk(t??KQ,r??ZQ,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function tk(e,t,r,i,o,a){this._x=e,this._y=t,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function eZ(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Ps=c1.prototype=tk.prototype;Ps.copy=function(){var e=new tk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,i;if(!t)return e;if(!t.length)return e._root=eZ(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var o=0;o<4;++o)(i=t.source[o])&&(i.length?r.push({source:i,target:t.target[o]=new Array(4)}):t.target[o]=eZ(i));return e};Ps.add=LQ;Ps.addAll=$Q;Ps.cover=UQ;Ps.data=zQ;Ps.extent=VQ;Ps.find=qQ;Ps.remove=HQ;Ps.removeAll=GQ;Ps.root=jQ;Ps.size=WQ;Ps.visit=YQ;Ps.visitAfter=XQ;Ps.x=QQ;Ps.y=JQ;function tZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function f1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function Cf(e){return e=f1(Math.abs(e)),e?e[1]:NaN}function nZ(e,t){return function(r,i){for(var o=r.length,a=[],s=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),a.push(r.substring(o-=l,o+l)),!((u+=l+1)>i));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function rZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var S7e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ef(e){if(!(t=S7e.exec(e)))throw new Error("invalid format: "+e);var t;return new lx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ef.prototype=lx.prototype;function lx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iZ(e){e:for(var t=e.length,r=1,i=-1,o;r<t;++r)switch(e[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(o+1):e}var nk;function oZ(e,t){var r=f1(e,t);if(!r)return e+"";var i=r[0],o=r[1],a=o-(nk=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+f1(e,Math.max(0,t+a-1))[0]}function rk(e,t){var r=f1(e,t);if(!r)return e+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}var ik={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rk(e*100,t),r:rk,s:oZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ok(e){return e}var aZ=Array.prototype.map,sZ=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function lZ(e){var t=e.grouping===void 0||e.thousands===void 0?ok:nZ(aZ.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ok:rZ(aZ.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Ef(d);var p=d.fill,m=d.align,g=d.sign,v=d.symbol,b=d.zero,_=d.width,D=d.comma,T=d.precision,N=d.trim,z=d.type;z==="n"?(D=!0,z="g"):ik[z]||(T===void 0&&(T=12),N=!0,z="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var j=v==="$"?r:v==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",B=v==="$"?i:/[%p]/.test(z)?s:"",U=ik[z],x=/[defgprs%]/.test(z);T=T===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function w(C){var k=j,F=B,I,R,$;if(z==="c")F=U(C)+F,C="";else{C=+C;var Y=C<0||1/C<0;if(C=isNaN(C)?u:U(Math.abs(C),T),N&&(C=iZ(C)),Y&&+C==0&&g!=="+"&&(Y=!1),k=(Y?g==="("?g:l:g==="-"||g==="("?"":g)+k,F=(z==="s"?sZ[8+nk/3]:"")+F+(Y&&g==="("?")":""),x){for(I=-1,R=C.length;++I<R;)if($=C.charCodeAt(I),48>$||$>57){F=($===46?o+C.slice(I+1):C.slice(I))+F,C=C.slice(0,I);break}}}D&&!b&&(C=t(C,1/0));var re=k.length+C.length+F.length,ne=re<_?new Array(_-re+1).join(p):"";switch(D&&b&&(C=t(ne+C,ne.length?_-F.length:1/0),ne=""),m){case"<":C=k+C+F+ne;break;case"=":C=k+ne+C+F;break;case"^":C=ne.slice(0,re=ne.length>>1)+k+C+F+ne.slice(re);break;default:C=ne+k+C+F;break}return a(C)}return w.toString=function(){return d+""},w}function f(d,p){var m=c((d=Ef(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Cf(p)/3)))*3,v=Math.pow(10,-g),b=sZ[8+g/3];return function(_){return m(v*_)+b}}return{format:c,formatPrefix:f}}var ux,Gg,cx;ak({thousands:",",grouping:[3],currency:["$",""]});function ak(e){return ux=lZ(e),Gg=ux.format,cx=ux.formatPrefix,ux}function sk(e){return Math.max(0,-Cf(Math.abs(e)))}function lk(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cf(t)/3)))*3-Cf(Math.abs(e)))}function uk(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cf(t)-Cf(e))+1}var Tr=1e-6,uZ=1e-12,gr=Math.PI,Ls=gr/2,ck=gr/4,al=gr*2,vu=180/gr,ia=gr/180,gi=Math.abs,cZ=Math.atan,Gd=Math.atan2,si=Math.cos;var xi=Math.sin,fZ=Math.sign||function(e){return e>0?1:e<0?-1:0},Sp=Math.sqrt;function dZ(e){return e>1?0:e<-1?gr:Math.acos(e)}function jd(e){return e>1?Ls:e<-1?-Ls:Math.asin(e)}function Cp(){}function fx(e,t){e&&hZ.hasOwnProperty(e.type)&&hZ[e.type](e,t)}var pZ={Feature:function(e,t){fx(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,o=r.length;++i<o;)fx(r[i].geometry,t)}},hZ={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)e=r[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){fk(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)fk(r[i],t,0)},Polygon:function(e,t){mZ(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)mZ(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,o=r.length;++i<o;)fx(r[i],t)}};function fk(e,t,r){var i=-1,o=e.length-r,a;for(t.lineStart();++i<o;)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function mZ(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)fk(e[r],t,1);t.polygonEnd()}function gZ(e,t){e&&pZ.hasOwnProperty(e.type)?pZ[e.type](e,t):fx(e,t)}function n4(e){return[Gd(e[1],e[0]),jd(e[2])]}function Df(e){var t=e[0],r=e[1],i=si(r);return[i*si(t),i*xi(t),xi(r)]}function r4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function dx(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function i4(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function o4(e){var t=Sp(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function a4(e,t){function r(i,o){return i=e(i,o),t(i[0],i[1])}return e.invert&&t.invert&&(r.invert=function(i,o){return i=t.invert(i,o),i&&e.invert(i[0],i[1])}),r}function dk(e,t){return[gi(e)>gr?e+Math.round(-e/al)*al:e,t]}dk.invert=dk;function xZ(e,t,r){return(e%=al)?t||r?a4(yZ(e),bZ(t,r)):yZ(e):t||r?bZ(t,r):dk}function vZ(e){return function(t,r){return t+=e,[t>gr?t-al:t<-gr?t+al:t,r]}}function yZ(e){var t=vZ(e);return t.invert=vZ(-e),t}function bZ(e,t){var r=si(e),i=xi(e),o=si(t),a=xi(t);function s(l,u){var c=si(u),f=si(l)*c,d=xi(l)*c,p=xi(u),m=p*r+f*i;return[Gd(d*o-m*a,f*r-p*i),jd(m*o+d*a)]}return s.invert=function(l,u){var c=si(u),f=si(l)*c,d=xi(l)*c,p=xi(u),m=p*o-d*a;return[Gd(d*o+p*a,f*r+m*i),jd(m*r-f*i)]},s}function _Z(e,t,r,i,o,a){if(r){var s=si(t),l=xi(t),u=i*r;o==null?(o=t+i*al,a=t-u/2):(o=wZ(s,o),a=wZ(s,a),(i>0?o<a:o>a)&&(o+=i*al));for(var c,f=o;i>0?f>a:f<a;f-=u)c=n4([s,-l*si(f),-l*xi(f)]),e.point(c[0],c[1])}}function wZ(e,t){t=Df(t),t[0]-=e,o4(t);var r=dZ(-t[1]);return((-t[2]<0?-r:r)+al-Tr)%al}function px(){var e=[],t;return{point:function(r,i,o){t.push([r,i,o])},lineStart:function(){e.push(t=[])},lineEnd:Cp,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Wg(e,t){return gi(e[0]-t[0])<Tr&&gi(e[1]-t[1])<Tr}function hx(e,t,r,i){this.x=e,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function mx(e,t,r,i,o){var a=[],s=[],l,u;if(e.forEach(function(g){if(!((v=g.length-1)<=0)){var v,b=g[0],_=g[v],D;if(Wg(b,_)){if(!b[2]&&!_[2]){for(o.lineStart(),l=0;l<v;++l)o.point((b=g[l])[0],b[1]);o.lineEnd();return}_[0]+=2*Tr}a.push(D=new hx(b,g,null,!0)),s.push(D.o=new hx(b,null,D,!1)),a.push(D=new hx(_,g,null,!1)),s.push(D.o=new hx(_,null,D,!0))}}),!!a.length){for(s.sort(t),SZ(a),SZ(s),l=0,u=s.length;l<u;++l)s[l].e=r=!r;for(var c=a[0],f,d;;){for(var p=c,m=!0;p.v;)if((p=p.n)===c)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(m)for(f=p.p.z,l=f.length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else i(p.x,p.p.x,-1,o);p=p.p}p=p.o,f=p.z,m=!m}while(!p.v);o.lineEnd()}}}function SZ(e){if(t=e.length){for(var t,r=0,i=e[0],o;++r<t;)i.n=o=e[r],o.p=i,i=o;i.n=o=e[0],o.p=i}}function pk(e){return gi(e[0])<=gr?e[0]:fZ(e[0])*((gi(e[0])+gr)%al-gr)}function CZ(e,t){var r=pk(t),i=t[1],o=xi(i),a=[xi(r),-si(r),0],s=0,l=0,u=new Is;o===1?i=Ls+Tr:o===-1&&(i=-Ls-Tr);for(var c=0,f=e.length;c<f;++c)if(p=(d=e[c]).length)for(var d,p,m=d[p-1],g=pk(m),v=m[1]/2+ck,b=xi(v),_=si(v),D=0;D<p;++D,g=N,b=j,_=B,m=T){var T=d[D],N=pk(T),z=T[1]/2+ck,j=xi(z),B=si(z),U=N-g,x=U>=0?1:-1,w=x*U,C=w>gr,k=b*j;if(u.add(Gd(k*x*xi(w),_*B+k*si(w))),s+=C?U+x*al:U,C^g>=r^N>=r){var F=jg(Df(m),Df(T));o4(F);var I=jg(a,F);o4(I);var R=(C^U>=0?-1:1)*jd(I[2]);(i>R||i===R&&(F[0]||F[1]))&&(l+=C^U>=0?1:-1)}}return(s<-Tr||s<Tr&&u<-uZ)^l&1}function gx(e,t,r,i){return function(o){var a=t(o),s=px(),l=t(s),u=!1,c,f,d,p={point:m,lineStart:v,lineEnd:b,polygonStart:function(){p.point=_,p.lineStart=D,p.lineEnd=T,f=[],c=[]},polygonEnd:function(){p.point=m,p.lineStart=v,p.lineEnd=b,f=bf(f);var N=CZ(c,i);f.length?(u||(o.polygonStart(),u=!0),mx(f,E7e,N,r,o)):N&&(u||(o.polygonStart(),u=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function m(N,z){e(N,z)&&o.point(N,z)}function g(N,z){a.point(N,z)}function v(){p.point=g,a.lineStart()}function b(){p.point=m,a.lineEnd()}function _(N,z){d.push([N,z]),l.point(N,z)}function D(){l.lineStart(),d=[]}function T(){_(d[0][0],d[0][1]),l.lineEnd();var N=l.clean(),z=s.result(),j,B=z.length,U,x,w;if(d.pop(),c.push(d),d=null,!!B){if(N&1){if(x=z[0],(U=x.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),j=0;j<U;++j)o.point((w=x[j])[0],w[1]);o.lineEnd()}return}B>1&&N&2&&z.push(z.pop().concat(z.shift())),f.push(z.filter(C7e))}}return p}}function C7e(e){return e.length>1}function E7e(e,t){return((e=e.x)[0]<0?e[1]-Ls-Tr:Ls-e[1])-((t=t.x)[0]<0?t[1]-Ls-Tr:Ls-t[1])}var hk=gx(function(){return!0},D7e,M7e,[-gr,-Ls]);function D7e(e){var t=NaN,r=NaN,i=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(a,s){var l=a>0?gr:-gr,u=gi(a-t);gi(u-gr)<Tr?(e.point(t,r=(r+s)/2>0?Ls:-Ls),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(a,r),o=0):i!==l&&u>=gr&&(gi(t-i)<Tr&&(t-=i*Tr),gi(a-l)<Tr&&(a-=l*Tr),r=A7e(t,r,a,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),o=0),e.point(t=a,r=s),i=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-o}}}function A7e(e,t,r,i){var o,a,s=xi(e-r);return gi(s)>Tr?cZ((xi(t)*(a=si(i))*xi(r)-xi(i)*(o=si(t))*xi(e))/(o*a*s)):(t+i)/2}function M7e(e,t,r,i){var o;if(e==null)o=r*Ls,i.point(-gr,o),i.point(0,o),i.point(gr,o),i.point(gr,0),i.point(gr,-o),i.point(0,-o),i.point(-gr,-o),i.point(-gr,0),i.point(-gr,o);else if(gi(e[0]-t[0])>Tr){var a=e[0]<t[0]?gr:-gr;o=r*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(t[0],t[1])}function EZ(e){var t=si(e),r=6*ia,i=t>0,o=gi(t)>Tr;function a(f,d,p,m){_Z(m,e,r,p,f,d)}function s(f,d){return si(f)*si(d)>t}function l(f){var d,p,m,g,v;return{lineStart:function(){g=m=!1,v=1},point:function(b,_){var D=[b,_],T,N=s(b,_),z=i?N?0:c(b,_):N?c(b+(b<0?gr:-gr),_):0;if(!d&&(g=m=N)&&f.lineStart(),N!==m&&(T=u(d,D),(!T||Wg(d,T)||Wg(D,T))&&(D[2]=1)),N!==m)v=0,N?(f.lineStart(),T=u(D,d),f.point(T[0],T[1])):(T=u(d,D),f.point(T[0],T[1],2),f.lineEnd()),d=T;else if(o&&d&&i^N){var j;!(z&p)&&(j=u(D,d,!0))&&(v=0,i?(f.lineStart(),f.point(j[0][0],j[0][1]),f.point(j[1][0],j[1][1]),f.lineEnd()):(f.point(j[1][0],j[1][1]),f.lineEnd(),f.lineStart(),f.point(j[0][0],j[0][1],3)))}N&&(!d||!Wg(d,D))&&f.point(D[0],D[1]),d=D,m=N,p=z},lineEnd:function(){m&&f.lineEnd(),d=null},clean:function(){return v|(g&&m)<<1}}}function u(f,d,p){var m=Df(f),g=Df(d),v=[1,0,0],b=jg(m,g),_=r4(b,b),D=b[0],T=_-D*D;if(!T)return!p&&f;var N=t*_/T,z=-t*D/T,j=jg(v,b),B=i4(v,N),U=i4(b,z);dx(B,U);var x=j,w=r4(B,x),C=r4(x,x),k=w*w-C*(r4(B,B)-1);if(!(k<0)){var F=Sp(k),I=i4(x,(-w-F)/C);if(dx(I,B),I=n4(I),!p)return I;var R=f[0],$=d[0],Y=f[1],re=d[1],ne;$<R&&(ne=R,R=$,$=ne);var he=$-R,ge=gi(he-gr)<Tr,Me=ge||he<Tr;if(!ge&&re<Y&&(ne=Y,Y=re,re=ne),Me?ge?Y+re>0^I[1]<(gi(I[0]-R)<Tr?Y:re):Y<=I[1]&&I[1]<=re:he>gr^(R<=I[0]&&I[0]<=$)){var be=i4(x,(-w+F)/C);return dx(be,B),[I,n4(be)]}}}function c(f,d){var p=i?e:gr-e,m=0;return f<-p?m|=1:f>p&&(m|=2),d<-p?m|=4:d>p&&(m|=8),m}return gx(s,l,a,i?[0,-e]:[-gr,e-gr])}function DZ(e,t,r,i,o,a){var s=e[0],l=e[1],u=t[0],c=t[1],f=0,d=1,p=u-s,m=c-l,g;if(g=r-s,!(!p&&g>0)){if(g/=p,p<0){if(g<f)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>f&&(f=g)}if(g=o-s,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>f&&(f=g)}else if(p>0){if(g<f)return;g<d&&(d=g)}if(g=i-l,!(!m&&g>0)){if(g/=m,m<0){if(g<f)return;g<d&&(d=g)}else if(m>0){if(g>d)return;g>f&&(f=g)}if(g=a-l,!(!m&&g<0)){if(g/=m,m<0){if(g>d)return;g>f&&(f=g)}else if(m>0){if(g<f)return;g<d&&(d=g)}return f>0&&(e[0]=s+f*p,e[1]=l+f*m),d<1&&(t[0]=s+d*p,t[1]=l+d*m),!0}}}}}var s4=1e9,vx=-s4;function mk(e,t,r,i){function o(c,f){return e<=c&&c<=r&&t<=f&&f<=i}function a(c,f,d,p){var m=0,g=0;if(c==null||(m=s(c,d))!==(g=s(f,d))||u(c,f)<0^d>0)do p.point(m===0||m===3?e:r,m>1?i:t);while((m=(m+d+4)%4)!==g);else p.point(f[0],f[1])}function s(c,f){return gi(c[0]-e)<Tr?f>0?0:3:gi(c[0]-r)<Tr?f>0?2:1:gi(c[1]-t)<Tr?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=s(c,1),p=s(f,1);return d!==p?d-p:d===0?f[1]-c[1]:d===1?c[0]-f[0]:d===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,d=px(),p,m,g,v,b,_,D,T,N,z,j,B={point:U,lineStart:k,lineEnd:F,polygonStart:w,polygonEnd:C};function U(R,$){o(R,$)&&f.point(R,$)}function x(){for(var R=0,$=0,Y=m.length;$<Y;++$)for(var re=m[$],ne=1,he=re.length,ge=re[0],Me,be,ut=ge[0],Pe=ge[1];ne<he;++ne)Me=ut,be=Pe,ge=re[ne],ut=ge[0],Pe=ge[1],be<=i?Pe>i&&(ut-Me)*(i-be)>(Pe-be)*(e-Me)&&++R:Pe<=i&&(ut-Me)*(i-be)<(Pe-be)*(e-Me)&&--R;return R}function w(){f=d,p=[],m=[],j=!0}function C(){var R=x(),$=j&&R,Y=(p=bf(p)).length;($||Y)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Y&&mx(p,l,R,a,c),c.polygonEnd()),f=c,p=m=g=null}function k(){B.point=I,m&&m.push(g=[]),z=!0,N=!1,D=T=NaN}function F(){p&&(I(v,b),_&&N&&d.rejoin(),p.push(d.result())),B.point=U,N&&f.lineEnd()}function I(R,$){var Y=o(R,$);if(m&&g.push([R,$]),z)v=R,b=$,_=Y,z=!1,Y&&(f.lineStart(),f.point(R,$));else if(Y&&N)f.point(R,$);else{var re=[D=Math.max(vx,Math.min(s4,D)),T=Math.max(vx,Math.min(s4,T))],ne=[R=Math.max(vx,Math.min(s4,R)),$=Math.max(vx,Math.min(s4,$))];DZ(re,ne,e,t,r,i)?(N||(f.lineStart(),f.point(re[0],re[1])),f.point(ne[0],ne[1]),Y||f.lineEnd(),j=!1):Y&&(f.lineStart(),f.point(R,$),j=!1)}D=R,T=$,N=Y}return B}}var gk=e=>e;var Yg=1/0,yx=Yg,l4=-Yg,bx=l4,T7e={point:R7e,lineStart:Cp,lineEnd:Cp,polygonStart:Cp,polygonEnd:Cp,result:function(){var e=[[Yg,yx],[l4,bx]];return l4=bx=-(yx=Yg=1/0),e}};function R7e(e,t){e<Yg&&(Yg=e),e>l4&&(l4=e),t<yx&&(yx=t),t>bx&&(bx=t)}var vk=T7e;function u4(e){return function(t){var r=new yk;for(var i in e)r[i]=e[i];return r.stream=t,r}}function yk(){}yk.prototype={constructor:yk,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bk(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),gZ(r,e.stream(vk)),t(vk.result()),i!=null&&e.clipExtent(i),e}function xk(e,t,r){return bk(e,function(i){var o=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),l=+t[0][0]+(o-s*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(a-s*(i[1][1]+i[0][1]))/2;e.scale(150*s).translate([l,u])},r)}function AZ(e,t,r){return xk(e,[[0,0],t],r)}function MZ(e,t,r){return bk(e,function(i){var o=+t,a=o/(i[1][0]-i[0][0]),s=(o-a*(i[1][0]+i[0][0]))/2,l=-a*i[0][1];e.scale(150*a).translate([s,l])},r)}function TZ(e,t,r){return bk(e,function(i){var o=+t,a=o/(i[1][1]-i[0][1]),s=-a*i[0][0],l=(o-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([s,l])},r)}var RZ=16,k7e=si(30*ia);function wk(e,t){return+t?N7e(e,t):O7e(e)}function O7e(e){return u4({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function N7e(e,t){function r(i,o,a,s,l,u,c,f,d,p,m,g,v,b){var _=c-i,D=f-o,T=_*_+D*D;if(T>4*t&&v--){var N=s+p,z=l+m,j=u+g,B=Sp(N*N+z*z+j*j),U=jd(j/=B),x=gi(gi(j)-1)<Tr||gi(a-d)<Tr?(a+d)/2:Gd(z,N),w=e(x,U),C=w[0],k=w[1],F=C-i,I=k-o,R=D*F-_*I;(R*R/T>t||gi((_*F+D*I)/T-.5)>.3||s*p+l*m+u*g<k7e)&&(r(i,o,a,s,l,u,C,k,x,N/=B,z/=B,j,v,b),b.point(C,k),r(C,k,x,N,z,j,c,f,d,p,m,g,v,b))}}return function(i){var o,a,s,l,u,c,f,d,p,m,g,v,b={point:_,lineStart:D,lineEnd:N,polygonStart:function(){i.polygonStart(),b.lineStart=z},polygonEnd:function(){i.polygonEnd(),b.lineStart=D}};function _(U,x){U=e(U,x),i.point(U[0],U[1])}function D(){d=NaN,b.point=T,i.lineStart()}function T(U,x){var w=Df([U,x]),C=e(U,x);r(d,p,f,m,g,v,d=C[0],p=C[1],f=U,m=w[0],g=w[1],v=w[2],RZ,i),i.point(d,p)}function N(){b.point=_,i.lineEnd()}function z(){D(),b.point=j,b.lineEnd=B}function j(U,x){T(o=U,x),a=d,s=p,l=m,u=g,c=v,b.point=T}function B(){r(d,p,f,m,g,v,a,s,o,l,u,c,RZ,i),b.lineEnd=N,N()}return b}}var I7e=u4({point:function(e,t){this.stream.point(e*ia,t*ia)}});function F7e(e){return u4({point:function(t,r){var i=e(t,r);return this.stream.point(i[0],i[1])}})}function P7e(e,t,r,i,o){function a(s,l){return s*=i,l*=o,[t+e*s,r-e*l]}return a.invert=function(s,l){return[(s-t)/e*i,(r-l)/e*o]},a}function kZ(e,t,r,i,o,a){if(!a)return P7e(e,t,r,i,o);var s=si(a),l=xi(a),u=s*e,c=l*e,f=s/e,d=l/e,p=(l*r-s*t)/e,m=(l*t+s*r)/e;function g(v,b){return v*=i,b*=o,[u*v-c*b+t,r-c*v-u*b]}return g.invert=function(v,b){return[i*(f*v-d*b+p),o*(m-d*v-f*b)]},g}function xx(e){return OZ(function(){return e})()}function OZ(e){var t,r=150,i=480,o=250,a=0,s=0,l=0,u=0,c=0,f,d=0,p=1,m=1,g=null,v=hk,b=null,_,D,T,N=gk,z=.5,j,B,U,x,w;function C(R){return U(R[0]*ia,R[1]*ia)}function k(R){return R=U.invert(R[0],R[1]),R&&[R[0]*vu,R[1]*vu]}C.stream=function(R){return x&&w===R?x:x=I7e(F7e(f)(v(j(N(w=R)))))},C.preclip=function(R){return arguments.length?(v=R,g=void 0,I()):v},C.postclip=function(R){return arguments.length?(N=R,b=_=D=T=null,I()):N},C.clipAngle=function(R){return arguments.length?(v=+R?EZ(g=R*ia):(g=null,hk),I()):g*vu},C.clipExtent=function(R){return arguments.length?(N=R==null?(b=_=D=T=null,gk):mk(b=+R[0][0],_=+R[0][1],D=+R[1][0],T=+R[1][1]),I()):b==null?null:[[b,_],[D,T]]},C.scale=function(R){return arguments.length?(r=+R,F()):r},C.translate=function(R){return arguments.length?(i=+R[0],o=+R[1],F()):[i,o]},C.center=function(R){return arguments.length?(a=R[0]%360*ia,s=R[1]%360*ia,F()):[a*vu,s*vu]},C.rotate=function(R){return arguments.length?(l=R[0]%360*ia,u=R[1]%360*ia,c=R.length>2?R[2]%360*ia:0,F()):[l*vu,u*vu,c*vu]},C.angle=function(R){return arguments.length?(d=R%360*ia,F()):d*vu},C.reflectX=function(R){return arguments.length?(p=R?-1:1,F()):p<0},C.reflectY=function(R){return arguments.length?(m=R?-1:1,F()):m<0},C.precision=function(R){return arguments.length?(j=wk(B,z=R*R),I()):Sp(z)},C.fitExtent=function(R,$){return xk(C,R,$)},C.fitSize=function(R,$){return AZ(C,R,$)},C.fitWidth=function(R,$){return MZ(C,R,$)},C.fitHeight=function(R,$){return TZ(C,R,$)};function F(){var R=kZ(r,0,0,p,m,d).apply(null,t(a,s)),$=kZ(r,i-R[0],o-R[1],p,m,d);return f=xZ(l,u,c),B=a4(t,$),U=a4(f,B),j=wk(B,z),I()}function I(){return x=w=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&k,F()}}var _k=new Date,Sk=new Date;function qr(e,t,r,i){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=function(a){return e(a=new Date(+a)),a},o.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},o.round=function(a){var s=o(a),l=o.ceil(a);return a-s<l-a?s:l},o.offset=function(a,s){return t(a=new Date(+a),s==null?1:Math.floor(s)),a},o.range=function(a,s,l){var u=[],c;if(a=o.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;do u.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<s);return u},o.filter=function(a){return qr(function(s){if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},function(s,l){if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););})},r&&(o.count=function(a,s){return _k.setTime(+a),Sk.setTime(+s),e(_k),e(Sk),Math.floor(r(_k,Sk))},o.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?function(s){return i(s)%a===0}:function(s){return o.count(0,s)%a===0}):o}),o}var wx=qr(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});wx.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):wx};var NZ=wx,_1t=wx.range;var IZ=qr(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),oc=IZ,FZ=IZ.range;var PZ=qr(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),c4=PZ,L7e=PZ.range;var LZ=qr(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),f4=LZ,B7e=LZ.range;var BZ=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),ac=BZ,$7e=BZ.range;function h1(e){return qr(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var sc=h1(0),Mf=h1(1),UZ=h1(2),zZ=h1(3),sl=h1(4),VZ=h1(5),qZ=h1(6),HZ=sc.range,U7e=Mf.range,z7e=UZ.range,V7e=zZ.range,q7e=sl.range,H7e=VZ.range,G7e=qZ.range;var GZ=qr(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),d4=GZ,j7e=GZ.range;var Ek=qr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Ek.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:qr(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var ka=Ek,W7e=Ek.range;var jZ=qr(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),p4=jZ,Y7e=jZ.range;var WZ=qr(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),h4=WZ,X7e=WZ.range;var YZ=qr(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),lc=YZ,K7e=YZ.range;function m1(e){return qr(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}var uc=m1(0),Tf=m1(1),XZ=m1(2),KZ=m1(3),ll=m1(4),QZ=m1(5),ZZ=m1(6),JZ=uc.range,Q7e=Tf.range,Z7e=XZ.range,J7e=KZ.range,eve=ll.range,tve=QZ.range,nve=ZZ.range;var eJ=qr(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),m4=eJ,rve=eJ.range;var Dk=qr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Dk.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:qr(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var Oa=Dk,ive=Dk.range;function nJ(e,t,r,i,o,a){let s=[[oc,1,1e3],[oc,5,5*1e3],[oc,15,15*1e3],[oc,30,30*1e3],[a,1,6e4],[a,5,5*6e4],[a,15,15*6e4],[a,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[i,1,864e5],[i,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function l(c,f,d){let p=f<c;p&&([c,f]=[f,c]);let m=d&&typeof d.range=="function"?d:u(c,f,d),g=m?m.range(c,+f+1):[];return p?g.reverse():g}function u(c,f,d){let p=Math.abs(f-c)/d,m=Pg(([,,b])=>b).right(s,p);if(m===s.length)return e.every(Nb(c/31536e6,f/31536e6,d));if(m===0)return NZ.every(Math.max(Nb(c,f,d),1));let[g,v]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(v)}return[l,u]}var[Ak,Mk]=nJ(Oa,m4,uc,lc,h4,p4),[Tk,Rk]=nJ(ka,d4,sc,ac,f4,c4);function kk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ok(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function g4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Nk(e){var t=e.dateTime,r=e.date,i=e.time,o=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=v4(o),f=y4(o),d=v4(a),p=y4(a),m=v4(s),g=y4(s),v=v4(l),b=y4(l),_=v4(u),D=y4(u),T={a:Y,A:re,b:ne,B:he,c:null,d:lJ,e:lJ,f:Mve,g:Bve,G:Uve,H:Eve,I:Dve,j:Ave,L:pJ,m:Tve,M:Rve,p:ge,q:Me,Q:fJ,s:dJ,S:kve,u:Ove,U:Nve,V:Ive,w:Fve,W:Pve,x:null,X:null,y:Lve,Y:$ve,Z:zve,"%":cJ},N={a:be,A:ut,b:Pe,B:Mt,c:null,d:uJ,e:uJ,f:Gve,g:tye,G:rye,H:Vve,I:qve,j:Hve,L:mJ,m:jve,M:Wve,p:Vt,q:nn,Q:fJ,s:dJ,S:Yve,u:Xve,U:Kve,V:Qve,w:Zve,W:Jve,x:null,X:null,y:eye,Y:nye,Z:iye,"%":cJ},z={a:w,A:C,b:k,B:F,c:I,d:aJ,e:aJ,f:wve,g:oJ,G:iJ,H:sJ,I:sJ,j:vve,L:xve,m:gve,M:yve,p:x,q:mve,Q:Sve,s:Cve,S:bve,u:cve,U:fve,V:dve,w:uve,W:pve,x:R,X:$,y:oJ,Y:iJ,Z:hve,"%":_ve};T.x=j(r,T),T.X=j(i,T),T.c=j(t,T),N.x=j(r,N),N.X=j(i,N),N.c=j(t,N);function j(xe,qe){return function(Ge){var pe=[],Zt=-1,lt=0,oe=xe.length,le,we,ue;for(Ge instanceof Date||(Ge=new Date(+Ge));++Zt<oe;)xe.charCodeAt(Zt)===37&&(pe.push(xe.slice(lt,Zt)),(we=rJ[le=xe.charAt(++Zt)])!=null?le=xe.charAt(++Zt):we=le==="e"?" ":"0",(ue=qe[le])&&(le=ue(Ge,we)),pe.push(le),lt=Zt+1);return pe.push(xe.slice(lt,Zt)),pe.join("")}}function B(xe,qe){return function(Ge){var pe=g4(1900,void 0,1),Zt=U(pe,xe,Ge+="",0),lt,oe;if(Zt!=Ge.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(qe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(lt=Ok(g4(pe.y,0,1)),oe=lt.getUTCDay(),lt=oe>4||oe===0?Tf.ceil(lt):Tf(lt),lt=lc.offset(lt,(pe.V-1)*7),pe.y=lt.getUTCFullYear(),pe.m=lt.getUTCMonth(),pe.d=lt.getUTCDate()+(pe.w+6)%7):(lt=kk(g4(pe.y,0,1)),oe=lt.getDay(),lt=oe>4||oe===0?Mf.ceil(lt):Mf(lt),lt=ac.offset(lt,(pe.V-1)*7),pe.y=lt.getFullYear(),pe.m=lt.getMonth(),pe.d=lt.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),oe="Z"in pe?Ok(g4(pe.y,0,1)).getUTCDay():kk(g4(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(oe+5)%7:pe.w+pe.U*7-(oe+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Ok(pe)):kk(pe)}}function U(xe,qe,Ge,pe){for(var Zt=0,lt=qe.length,oe=Ge.length,le,we;Zt<lt;){if(pe>=oe)return-1;if(le=qe.charCodeAt(Zt++),le===37){if(le=qe.charAt(Zt++),we=z[le in rJ?qe.charAt(Zt++):le],!we||(pe=we(xe,Ge,pe))<0)return-1}else if(le!=Ge.charCodeAt(pe++))return-1}return pe}function x(xe,qe,Ge){var pe=c.exec(qe.slice(Ge));return pe?(xe.p=f.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function w(xe,qe,Ge){var pe=m.exec(qe.slice(Ge));return pe?(xe.w=g.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function C(xe,qe,Ge){var pe=d.exec(qe.slice(Ge));return pe?(xe.w=p.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function k(xe,qe,Ge){var pe=_.exec(qe.slice(Ge));return pe?(xe.m=D.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function F(xe,qe,Ge){var pe=v.exec(qe.slice(Ge));return pe?(xe.m=b.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function I(xe,qe,Ge){return U(xe,t,qe,Ge)}function R(xe,qe,Ge){return U(xe,r,qe,Ge)}function $(xe,qe,Ge){return U(xe,i,qe,Ge)}function Y(xe){return s[xe.getDay()]}function re(xe){return a[xe.getDay()]}function ne(xe){return u[xe.getMonth()]}function he(xe){return l[xe.getMonth()]}function ge(xe){return o[+(xe.getHours()>=12)]}function Me(xe){return 1+~~(xe.getMonth()/3)}function be(xe){return s[xe.getUTCDay()]}function ut(xe){return a[xe.getUTCDay()]}function Pe(xe){return u[xe.getUTCMonth()]}function Mt(xe){return l[xe.getUTCMonth()]}function Vt(xe){return o[+(xe.getUTCHours()>=12)]}function nn(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var qe=j(xe+="",T);return qe.toString=function(){return xe},qe},parse:function(xe){var qe=B(xe+="",!1);return qe.toString=function(){return xe},qe},utcFormat:function(xe){var qe=j(xe+="",N);return qe.toString=function(){return xe},qe},utcParse:function(xe){var qe=B(xe+="",!0);return qe.toString=function(){return xe},qe}}}var rJ={"-":"",_:" ",0:"0"},oa=/^\s*\d+/,ave=/^%/,sve=/[\\^$*+?|[\]().{}]/g;function jr(e,t,r){var i=e<0?"-":"",o=(i?-e:e)+"",a=o.length;return i+(a<r?new Array(r-a+1).join(t)+o:o)}function lve(e){return e.replace(sve,"\\$&")}function v4(e){return new RegExp("^(?:"+e.map(lve).join("|")+")","i")}function y4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uve(e,t,r){var i=oa.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function cve(e,t,r){var i=oa.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function fve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function dve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function pve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function iJ(e,t,r){var i=oa.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function oJ(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function hve(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function mve(e,t,r){var i=oa.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function gve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function aJ(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function vve(e,t,r){var i=oa.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function sJ(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function yve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function bve(e,t,r){var i=oa.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function xve(e,t,r){var i=oa.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function wve(e,t,r){var i=oa.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function _ve(e,t,r){var i=ave.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function Sve(e,t,r){var i=oa.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function Cve(e,t,r){var i=oa.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function lJ(e,t){return jr(e.getDate(),t,2)}function Eve(e,t){return jr(e.getHours(),t,2)}function Dve(e,t){return jr(e.getHours()%12||12,t,2)}function Ave(e,t){return jr(1+ac.count(ka(e),e),t,3)}function pJ(e,t){return jr(e.getMilliseconds(),t,3)}function Mve(e,t){return pJ(e,t)+"000"}function Tve(e,t){return jr(e.getMonth()+1,t,2)}function Rve(e,t){return jr(e.getMinutes(),t,2)}function kve(e,t){return jr(e.getSeconds(),t,2)}function Ove(e){var t=e.getDay();return t===0?7:t}function Nve(e,t){return jr(sc.count(ka(e)-1,e),t,2)}function hJ(e){var t=e.getDay();return t>=4||t===0?sl(e):sl.ceil(e)}function Ive(e,t){return e=hJ(e),jr(sl.count(ka(e),e)+(ka(e).getDay()===4),t,2)}function Fve(e){return e.getDay()}function Pve(e,t){return jr(Mf.count(ka(e)-1,e),t,2)}function Lve(e,t){return jr(e.getFullYear()%100,t,2)}function Bve(e,t){return e=hJ(e),jr(e.getFullYear()%100,t,2)}function $ve(e,t){return jr(e.getFullYear()%1e4,t,4)}function Uve(e,t){var r=e.getDay();return e=r>=4||r===0?sl(e):sl.ceil(e),jr(e.getFullYear()%1e4,t,4)}function zve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jr(t/60|0,"0",2)+jr(t%60,"0",2)}function uJ(e,t){return jr(e.getUTCDate(),t,2)}function Vve(e,t){return jr(e.getUTCHours(),t,2)}function qve(e,t){return jr(e.getUTCHours()%12||12,t,2)}function Hve(e,t){return jr(1+lc.count(Oa(e),e),t,3)}function mJ(e,t){return jr(e.getUTCMilliseconds(),t,3)}function Gve(e,t){return mJ(e,t)+"000"}function jve(e,t){return jr(e.getUTCMonth()+1,t,2)}function Wve(e,t){return jr(e.getUTCMinutes(),t,2)}function Yve(e,t){return jr(e.getUTCSeconds(),t,2)}function Xve(e){var t=e.getUTCDay();return t===0?7:t}function Kve(e,t){return jr(uc.count(Oa(e)-1,e),t,2)}function gJ(e){var t=e.getUTCDay();return t>=4||t===0?ll(e):ll.ceil(e)}function Qve(e,t){return e=gJ(e),jr(ll.count(Oa(e),e)+(Oa(e).getUTCDay()===4),t,2)}function Zve(e){return e.getUTCDay()}function Jve(e,t){return jr(Tf.count(Oa(e)-1,e),t,2)}function eye(e,t){return jr(e.getUTCFullYear()%100,t,2)}function tye(e,t){return e=gJ(e),jr(e.getUTCFullYear()%100,t,2)}function nye(e,t){return jr(e.getUTCFullYear()%1e4,t,4)}function rye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ll(e):ll.ceil(e),jr(e.getUTCFullYear()%1e4,t,4)}function iye(){return"+0000"}function cJ(){return"%"}function fJ(e){return+e}function dJ(e){return Math.floor(+e/1e3)}var Xg,_x,vJ,Sx,yJ;Ik({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ik(e){return Xg=Nk(e),_x=Xg.format,vJ=Xg.parse,Sx=Xg.utcFormat,yJ=Xg.utcParse,Xg}function Kt(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}var Fk=Kt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Pk=Kt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var Lk=Kt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Bk=Kt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var $k=Kt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var Uk=Kt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var zk=Kt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Vk=Kt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var qk=Kt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Hk=Kt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Mn=e=>LR(e[e.length-1]);var Cx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Kt),oye=Mn(Cx);var Ex=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Kt),aye=Mn(Ex);var Dx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Kt),sye=Mn(Dx);var Ax=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Kt),lye=Mn(Ax);var Mx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Kt),uye=Mn(Mx);var Tx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Kt),cye=Mn(Tx);var Rx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Kt),fye=Mn(Rx);var kx=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Kt),dye=Mn(kx);var Ox=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Kt),pye=Mn(Ox);var Nx=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Kt),hye=Mn(Nx);var Ix=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Kt),mye=Mn(Ix);var Fx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Kt),gye=Mn(Fx);var Px=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Kt),vye=Mn(Px);var Lx=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Kt),yye=Mn(Lx);var Bx=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Kt),bye=Mn(Bx);var $x=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Kt),xye=Mn($x);var Ux=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Kt),wye=Mn(Ux);var zx=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Kt),_ye=Mn(zx);var Vx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Kt),Sye=Mn(Vx);var qx=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Kt),Cye=Mn(qx);var Hx=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Kt),Eye=Mn(Hx);var Gx=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Kt),Dye=Mn(Gx);var jx=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Kt),Aye=Mn(jx);var Wx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Kt),Mye=Mn(Wx);var Yx=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Kt),Tye=Mn(Yx);var Xx=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Kt),Rye=Mn(Xx);function Gk(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var kye=Qb(Fs(-100,.75,.35),Fs(80,1.5,.8)),Oye=Qb(Fs(260,.75,.35),Fs(80,1.5,.8)),Kx=Fs();function jk(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Kx.h=360*e-100,Kx.s=1.5-1.5*t,Kx.l=.8-.9*t,Kx+""}var Qx=Za(),Nye=Math.PI/3,Iye=Math.PI*2/3;function Wk(e){var t;return e=(.5-e)*Math.PI,Qx.r=255*(t=Math.sin(e))*t,Qx.g=255*(t=Math.sin(e+Nye))*t,Qx.b=255*(t=Math.sin(e+Iye))*t,Qx+""}function Yk(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Zx(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var Xk=Zx(Kt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Kk=Zx(Kt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Qk=Zx(Kt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Fye=Zx(Kt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function g1(e,t,r){this.k=e,this.x=t,this.y=r}g1.prototype={constructor:g1,scale:function(e){return e===1?this:new g1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new g1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zk=new g1(1,0,0);Jk.prototype=g1.prototype;function Jk(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zk;return e.__zoom}function eO(e){return e}function Jx(e){if(e==null)return eO;var t,r,i=e.scale[0],o=e.scale[1],a=e.translate[0],s=e.translate[1];return function(l,u){u||(t=r=0);var c=2,f=l.length,d=new Array(f);for(d[0]=(t+=l[0])*i+a,d[1]=(r+=l[1])*o+s;c<f;)d[c]=l[c],++c;return d}}function xJ(e,t){for(var r,i=e.length,o=i-t;o<--i;)r=e[o],e[o++]=e[i],e[i]=r}function b4(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return wJ(e,r)})}:wJ(e,t)}function wJ(e,t){var r=t.id,i=t.bbox,o=t.properties==null?{}:t.properties,a=ew(e,t);return r==null&&i==null?{type:"Feature",properties:o,geometry:a}:i==null?{type:"Feature",id:r,properties:o,geometry:a}:{type:"Feature",id:r,bbox:i,properties:o,geometry:a}}function ew(e,t){var r=Jx(e.transform),i=e.arcs;function o(f,d){d.length&&d.pop();for(var p=i[f<0?~f:f],m=0,g=p.length;m<g;++m)d.push(r(p[m],m));f<0&&xJ(d,g)}function a(f){return r(f)}function s(f){for(var d=[],p=0,m=f.length;p<m;++p)o(f[p],d);return d.length<2&&d.push(d[0]),d}function l(f){for(var d=s(f);d.length<4;)d.push(d[0]);return d}function u(f){return f.map(l)}function c(f){var d=f.type,p;switch(d){case"GeometryCollection":return{type:d,geometries:f.geometries.map(c)};case"Point":p=a(f.coordinates);break;case"MultiPoint":p=f.coordinates.map(a);break;case"LineString":p=s(f.arcs);break;case"MultiLineString":p=f.arcs.map(s);break;case"Polygon":p=u(f.arcs);break;case"MultiPolygon":p=f.arcs.map(u);break;default:return null}return{type:d,coordinates:p}}return c(t)}function tO(e,t){var r={},i={},o={},a=[],s=-1;t.forEach(function(c,f){var d=e.arcs[c<0?~c:c],p;d.length<3&&!d[1][0]&&!d[1][1]&&(p=t[++s],t[s]=c,t[f]=p)}),t.forEach(function(c){var f=l(c),d=f[0],p=f[1],m,g;if(m=o[d])if(delete o[m.end],m.push(c),m.end=p,g=i[p]){delete i[g.start];var v=g===m?m:m.concat(g);i[v.start=m.start]=o[v.end=g.end]=v}else i[m.start]=o[m.end]=m;else if(m=i[p])if(delete i[m.start],m.unshift(c),m.start=d,g=o[d]){delete o[g.end];var b=g===m?m:g.concat(m);i[b.start=g.start]=o[b.end=m.end]=b}else i[m.start]=o[m.end]=m;else m=[c],i[m.start=d]=o[m.end=p]=m});function l(c){var f=e.arcs[c<0?~c:c],d=f[0],p;return e.transform?(p=[0,0],f.forEach(function(m){p[0]+=m[0],p[1]+=m[1]})):p=f[f.length-1],c<0?[p,d]:[d,p]}function u(c,f){for(var d in c){var p=c[d];delete f[p.start],delete p.start,delete p.end,p.forEach(function(m){r[m<0?~m:m]=1}),a.push(p)}}return u(o,i),u(i,o),t.forEach(function(c){r[c<0?~c:c]||a.push([c])}),a}function nO(e){return ew(e,_J.apply(this,arguments))}function _J(e,t,r){var i,o,a;if(arguments.length>1)i=Pye(e,t,r);else for(o=0,i=new Array(a=e.arcs.length);o<a;++o)i[o]=o;return{type:"MultiLineString",arcs:tO(e,i)}}function Pye(e,t,r){var i=[],o=[],a;function s(d){var p=d<0?~d:d;(o[p]||(o[p]=[])).push({i:d,g:a})}function l(d){d.forEach(s)}function u(d){d.forEach(l)}function c(d){d.forEach(u)}function f(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(f);break;case"LineString":l(d.arcs);break;case"MultiLineString":case"Polygon":u(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return f(t),o.forEach(r==null?function(d){i.push(d[0].i)}:function(d){r(d[0].g,d[d.length-1].g)&&i.push(d[0].i)}),i}function Uye(e){if(e.length===0)return 0;var t=e[0],r=0,i;if(typeof t!="number")return Number.NaN;for(var o=1;o<e.length;o++){if(typeof e[o]!="number")return Number.NaN;i=t+e[o],Math.abs(t)>=Math.abs(e[o])?r+=t-i+e[o]:r+=e[o]-i+t,t=i}return t+r}function oO(e){if(e.length===0)throw new Error("mean requires at least one data point");return Uye(e)/e.length}function zye(e,t){var r=oO(e),i=0,o,a;if(t===2)for(a=0;a<e.length;a++)o=e[a]-r,i+=o*o;else for(a=0;a<e.length;a++)i+=Math.pow(e[a]-r,t);return i}function Vye(e){if(e.length===0)throw new Error("variance requires at least one data point");return zye(e,2)/e.length}function EJ(e){if(e.length===1)return 0;var t=Vye(e);return Math.sqrt(t)}function qye(e){return e.slice().sort(function(t,r){return t-r})}function DJ(e){if(e.length===0)throw new Error("extent requires at least one data point");for(var t=e[0],r=e[0],i=1;i<e.length;i++)e[i]>r&&(r=e[i]),e[i]<t&&(t=e[i]);return[t,r]}function SJ(e,t){var r=e.length*t;if(e.length===0)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return t===1?e[e.length-1]:t===0?e[0]:r%1!==0?e[Math.ceil(r)-1]:e.length%2===0?(e[r-1]+e[r])/2:e[r]}function nw(e,t,r,i){for(r=r||0,i=i||e.length-1;i>r;){if(i-r>600){var o=i-r+1,a=t-r+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o);a-o/2<0&&(u*=-1);var c=Math.max(r,Math.floor(t-a*l/o+u)),f=Math.min(i,Math.floor(t+(o-a)*l/o+u));nw(e,t,c,f)}var d=e[t],p=r,m=i;for(x4(e,r,t),e[i]>d&&x4(e,r,i);p<m;){for(x4(e,p,m),p++,m--;e[p]<d;)p++;for(;e[m]>d;)m--}e[r]===d?x4(e,r,m):(m++,x4(e,m,i)),m<=t&&(r=m+1),t<=m&&(i=m-1)}}function x4(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function Rf(e,t){var r=e.slice();if(Array.isArray(t)){Hye(r,t);for(var i=[],o=0;o<t.length;o++)i[o]=SJ(r,t[o]);return i}else{var a=MJ(r.length,t);return AJ(r,a,0,r.length-1),SJ(r,t)}}function AJ(e,t,r,i){t%1===0?nw(e,t,r,i):(t=Math.floor(t),nw(e,t,r,i),nw(e,t+1,t+1,i))}function Hye(e,t){for(var r=[0],i=0;i<t.length;i++)r.push(MJ(e.length,t[i]));r.push(e.length-1),r.sort(Gye);for(var o=[0,r.length-1];o.length;){var a=Math.ceil(o.pop()),s=Math.floor(o.pop());if(!(a-s<=1)){var l=Math.floor((s+a)/2);AJ(e,r[l],Math.floor(r[s]),Math.ceil(r[a])),o.push(s,l,l,a)}}}function Gye(e,t){return e-t}function MJ(e,t){var r=e*t;return t===1?e-1:t===0?0:r%1!==0?Math.ceil(r)-1:e%2===0?r-.5:r}function TJ(e){var t=Rf(e,.75),r=Rf(e,.25);if(typeof t=="number"&&typeof r=="number")return t-r}function RJ(e){return+Rf(e,.5)}function CJ(e,t){for(var r=[],i=0;i<e;i++){for(var o=[],a=0;a<t;a++)o.push(0);r.push(o)}return r}function jye(e){for(var t=0,r,i=0;i<e.length;i++)(i===0||e[i]!==r)&&(r=e[i],t++);return t}function rO(e,t,r,i){var o;if(e>0){var a=(r[t]-r[e-1])/(t-e+1);o=i[t]-i[e-1]-(t-e+1)*a*a}else o=i[t]-r[t]*r[t]/(t+1);return o<0?0:o}function iO(e,t,r,i,o,a,s){if(!(e>t)){var l=Math.floor((e+t)/2);i[r][l]=i[r-1][l-1],o[r][l]=l;var u=r;e>r&&(u=Math.max(u,o[r][e-1]||0)),u=Math.max(u,o[r-1][l]||0);var c=l-1;t<i[0].length-1&&(c=Math.min(c,o[r][t+1]||0));for(var f,d,p,m,g=c;g>=u&&(f=rO(g,l,a,s),!(f+i[r-1][u-1]>=i[r][l]));--g)d=rO(u,l,a,s),p=d+i[r-1][u-1],p<i[r][l]&&(i[r][l]=p,o[r][l]=u),u++,m=f+i[r-1][g-1],m<i[r][l]&&(i[r][l]=m,o[r][l]=g);iO(e,l-1,r,i,o,a,s),iO(l+1,t,r,i,o,a,s)}}function Wye(e,t,r){for(var i=t[0].length,o=e[Math.floor(i/2)],a=[],s=[],l=0,u=void 0;l<i;++l)u=e[l]-o,l===0?(a.push(u),s.push(u*u)):(a.push(a[l-1]+u),s.push(s[l-1]+u*u)),t[0][l]=rO(0,l,a,s),r[0][l]=0;for(var c,f=1;f<t.length;++f)f<t.length-1?c=f:c=i-1,iO(c,i-1,f,t,r,a,s)}function kJ(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var r=qye(e),i=jye(r);if(i===1)return[r];var o=CJ(t,r.length),a=CJ(t,r.length);Wye(r,o,a);for(var s=[],l=a[0].length-1,u=a.length-1;u>=0;u--){var c=a[u][l];s[u]=r.slice(c,l+1),u>0&&(l=c-1)}return s}var OJ=function(){this.totalCount=0,this.data={}};OJ.prototype.train=function(t,r){this.data[r]||(this.data[r]={});for(var i in t){var o=t[i];this.data[r][i]===void 0&&(this.data[r][i]={}),this.data[r][i][o]===void 0&&(this.data[r][i][o]=0),this.data[r][i][o]++}this.totalCount++};OJ.prototype.score=function(t){var r={},i;for(var o in t){var a=t[o];for(i in this.data)r[i]={},this.data[i][o]?r[i][o+"_"+a]=(this.data[i][o][a]||0)/this.totalCount:r[i][o+"_"+a]=0}var s={};for(i in r){s[i]=0;for(var l in r[i])s[i]+=r[i][l]}return s};var NJ=function(){this.weights=[],this.bias=0};NJ.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var r=0,i=0;i<this.weights.length;i++)r+=this.weights[i]*t[i];return r+=this.bias,r>0?1:0};NJ.prototype.train=function(t,r){if(r!==0&&r!==1)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var i=this.predict(t);if(typeof i=="number"&&i!==r){for(var o=r-i,a=0;a<this.weights.length;a++)this.weights[a]+=o*t[a];this.bias+=o}return this};var n6t=607/128,r6t=Math.log(Math.sqrt(2*Math.PI));var i6t=Math.sqrt(2*Math.PI);var Yye=Math.sqrt(2*Math.PI);function Xye(e){for(var t=e,r=e,i=1;i<15;i++)r*=e*e/(2*i+1),t+=r;return Math.round((.5+t/Yye*Math.exp(-e*e/2))*1e4)/1e4}var Kye=[];for(tw=0;tw<=3.09;tw+=.01)Kye.push(Xye(tw));var tw;var sO=Yv(w4(),1),l6t=Yv(iw(),1),u6t=Yv(rw(),1),c6t=Yv($J(),1),UJ="equalInterval",zJ="percentile",VJ="definedInterval",qJ="quantile",HJ="boxPlot",GJ="standardDeviation",jJ="maximumBreaks",WJ="prettyBreaks",YJ="ckMeans",XJ="headTailBreaks",KJ="fisherJenks",QJ="exponentialBinSizes",ZJ="geometricInterval",aO="unclassed";var JJ="manualInterval";var ow=class{constructor(t=[],r=5,i=10,o=2){this.visModel={},this.rawData=t,this.binCount=r,this.binExtent=i,this.precision=o,this.data=this.rawData.filter(a=>this.isValid(a)),this.minSortedData=JSON.parse(JSON.stringify(this.data)).sort((a,s)=>a-s),this.maxSortedData=JSON.parse(JSON.stringify(this.data)).sort((a,s)=>s-a),this.median=RJ(this.data),this.mean=oO(this.data),this.sd=EJ(this.data),this.iqr=TJ(this.data),this.lq1=Rf(this.data,.01),this.lq10=Rf(this.data,.1),this.lq25=Rf(this.data,.25),this.uq75=Rf(this.data,.75),this.uq90=Rf(this.data,.9),this.uq99=Rf(this.data,.99),[this.min,this.max]=DJ(this.data),this.nonZeroMin=Math.min.apply(null,this.data.filter(Boolean)),this.median=parseFloat(this.median.toFixed(2)),this.mean=parseFloat(this.mean.toFixed(2)),this.sd=parseFloat(this.sd.toFixed(2)),this.iqr=parseFloat(this.iqr.toFixed(2)),this.lq1=parseFloat(this.lq1.toFixed(2)),this.lq10=parseFloat(this.lq10.toFixed(2)),this.lq25=parseFloat(this.lq25.toFixed(2)),this.uq75=parseFloat(this.uq75.toFixed(2)),this.uq90=parseFloat(this.uq90.toFixed(2)),this.uq99=parseFloat(this.uq99.toFixed(2)),[this.min,this.max]=[this.min,this.max].map(a=>parseFloat(a.toFixed(2))),this.nonZeroMin=parseFloat(this.nonZeroMin.toFixed(2))}getMostFrequentElement(t){let r={};return t.forEach(i=>r[i]?r[i]+=1:r[i]=1),parseInt(Object.keys(r).sort((i,o)=>r[o]-r[i])[0])}getFrequencyOfMostFrequentElement(t){for(var r=new Map,i=t.length,o=0;o<i;o++)r.has(t[o])?r.set(t[o],r.get(t[o])+1):r.set(t[o],1);var a=[];r.forEach((l,u)=>{a.push(u)}),a.sort((l,u)=>l-u);let s=-1/0;return a.forEach(l=>{let u=r.get(l);u>s&&(s=u)}),s}maximumBreaks(){let t=this,r=[],i=[];for(var o=0;o<t.minSortedData.length-1;o++){let c=t.minSortedData[o+1]-t.minSortedData[o];i.push(c)}for(var a=i.length,s=new Array(a),o=0;o<a;++o)s[o]=o;s.sort(function(c,f){return i[c]<i[f]?1:i[c]>i[f]?-1:0});for(let c=0;c<t.binCount-1;c++)r.push(t.minSortedData[s[c]+1]);r=r.sort(function(c,f){return c-f});let l=t.computeBinSizes(r),u=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(r,t.precision),binSizes:l,dataBinAssignments:u}}headTailBreaks(){let t=this,r=[];function i(s){let l=s.reduce(function(c,f){return c+f})/s.length,u=s.filter(function(c){return c>l});for(r.push(l);u.length>1&&u.length/s.length<.4;)return i(u)}i(t.maxSortedData);let o=t.computeBinSizes(r),a=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:a}}ckMeans(){let t=this,r=[];r=kJ(t.data,t.binCount).map(function(s){return s[s.length-1]}),r=r.slice(0,-1);let o=t.computeBinSizes(r),a=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:a}}equalInterval(){let t=this,r=[],i=(t.max-t.min)/t.binCount;for(let s=0;s<t.binCount-1;s++){let l=t.min+i*(s+1);r.push(l)}let o=t.computeBinSizes(r),a=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:a}}percentile(){let t=this,r=[t.lq1+Number.EPSILON,t.lq10,t.median,t.uq90,t.uq99],i=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:i,dataBinAssignments:o}}quantile(){let t=this,r=[],i=Math.floor(t.minSortedData.length/t.binCount);for(let s=1;s<t.binCount;s++){let l=t.minSortedData[i*s];r.push(l)}let o=t.computeBinSizes(r),a=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:a}}standardDeviation(t=!1,r=1){let i=this,o=[],a=i.binCount;if(t){let u=i.mean-i.sd*r*(Math.ceil(a/2)-1),c=i.sd*r;for(let f=0;f<a-1;f++){let d=u+c*f;o.push(d)}}else{let u=i.mean-i.sd*r*(Math.ceil(a/2)-1)-i.sd*r/2,c=i.sd*r;for(let f=0;f<a-1;f++){let d=u+c*f;o.push(d)}}let s=i.computeBinSizes(o),l=i.computeDataBinAssignments(o);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:o.length+1,binBreaks:i.roundToPrecision(o,i.precision),binSizes:s,dataBinAssignments:l}}manualInterval(t=[1,2,3]){let r=this,i=r.computeBinSizes(t),o=r.computeDataBinAssignments(t);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:t.length+1,binBreaks:r.roundToPrecision(t,r.precision),binSizes:i,dataBinAssignments:o}}prettyBreaks(){let t=this,r=[];if(t.binCount==1)r=[];else if(t.binCount==2)r=[parseFloat(t.mean.toPrecision(2))];else{let a=(t.max-t.min)/t.binCount;for(let s=0;s<t.binCount-1;s++){let l=parseFloat((t.min+a*(s+1)).toPrecision(2));r.push(l)}}r=[...new Set(r)];let i=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,0),binSizes:i,dataBinAssignments:o}}boxPlot(){let t=this,r=1.5,i=[t.lq25-r*t.iqr,t.lq25,t.median,t.uq75,t.uq75+r*t.iqr],o=t.computeBinSizes(i),a=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:a}}definedInterval(t=null){let r=this,i=[],o=1;for(t==null&&(t=this.binExtent);r.min+t*o<r.max;)i.push(r.min+t*o),o++;let a=r.computeBinSizes(i),s=r.computeDataBinAssignments(i);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:i.length+1,binBreaks:r.roundToPrecision(i,r.precision),binSizes:a,dataBinAssignments:s}}geometricInterval(){let t=this,r=[],i=t.min==0?t.nonZeroMin:t.min,o=Math.pow(t.max/i,1/t.binCount);for(let l=0;l<t.binCount-1;l++){let u=i*Math.pow(o,l+1);r.push(u)}let a=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:a,dataBinAssignments:s}}exponentialBinSizes(){let t=this,r=[],i=1,o=t.minSortedData.length,a=i.toString()+" * (1 - x^"+t.binCount.toString()+") = "+o.toString()+" * (1 - x)",s=sO.default.solveEquations(a,"x").map(f=>(0,sO.default)(f).evaluate().text()),l=1;for(let f=0;f<s.length;f++)try{let d=parseFloat(s[f]);if(d!=1){l=d;break}}catch{continue}if(l==1)return[];{let f=0;for(let d=0;d<t.binCount-1;d++){let p=i*Math.pow(l,d);f+=p;let m=Math.floor(f),g=t.minSortedData[m-1];r.push(g)}}let u=t.computeBinSizes(r),c=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:u,dataBinAssignments:c}}fisherJenks(){let t=this;function r(f,d){var p=[],m=[],g,v,b=0;for(g=0;g<f.length+1;g++){var _=[],D=[];for(v=0;v<d+1;v++)_.push(0),D.push(0);p.push(_),m.push(D)}for(g=1;g<d+1;g++)for(p[1][g]=1,m[1][g]=0,v=2;v<f.length+1;v++)m[v][g]=1/0;for(var T=2;T<f.length+1;T++){for(var N=0,z=0,j=0,B=0,U=1;U<T+1;U++){var x=T-U+1,w=f[x-1];if(j++,N+=w,z+=w*w,b=z-N*N/j,B=x-1,B!==0)for(v=2;v<d+1;v++)m[T][v]>=b+m[B][v-1]&&(p[T][v]=x,m[T][v]=b+m[B][v-1])}p[T][1]=1,m[T][1]=b}return{lower_bin_limits:p,variance_combinations:m}}function i(f,d,p){var m=f.length-1,g=[],v=p;for(g[p]=f[f.length-1],g[0]=f[0];v>1;)g[v-1]=f[d[m][v]-2],m=d[m][v]-1,v--;return g}if(t.binCount>t.data.length)return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:{valids:null,invalids:null},dataBinAssignments:{}};t.data=t.data.slice().sort(function(f,d){return f-d});var o=r(t.data,t.binCount),a=o.lower_bin_limits;let l=i(t.data,a,t.binCount).slice(1).slice(0,-1),u=t.computeBinSizes(l),c=t.computeDataBinAssignments(l);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:l.length+1,binBreaks:t.roundToPrecision(l,t.precision),binSizes:u,dataBinAssignments:c}}unique(){let t=this,r=Array.from(new Set(t.minSortedData)),i=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:i,dataBinAssignments:o}}unclassed(){let t=this,r=[t.min,t.max],i=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:i,dataBinAssignments:o}}resiliency(t=[],r={}){let i=this,o=[];t.length>0&&t.forEach(function(g){let v={};switch(g){case UJ:v=i.equalInterval(),r[UJ]=JSON.parse(JSON.stringify(v));break;case zJ:v=i.percentile(),r[zJ]=JSON.parse(JSON.stringify(v));break;case qJ:v=i.quantile(),r[qJ]=JSON.parse(JSON.stringify(v));break;case GJ:v=i.standardDeviation(),r[GJ]=JSON.parse(JSON.stringify(v));break;case JJ:v=i.manualInterval(),r[JJ]=JSON.parse(JSON.stringify(v));break;case WJ:v=i.prettyBreaks(),r[WJ]=JSON.parse(JSON.stringify(v));break;case jJ:v=i.maximumBreaks(),r[jJ]=JSON.parse(JSON.stringify(v));break;case XJ:v=i.headTailBreaks(),r[XJ]=JSON.parse(JSON.stringify(v));break;case YJ:v=i.ckMeans(),r[YJ]=JSON.parse(JSON.stringify(v));break;case HJ:v=i.boxPlot(),r[HJ]=JSON.parse(JSON.stringify(v));break;case VJ:v=i.definedInterval(),r[VJ]=JSON.parse(JSON.stringify(v));break;case QJ:v=i.exponentialBinSizes(),r[QJ]=JSON.parse(JSON.stringify(v));break;case ZJ:v=i.geometricInterval(),r[ZJ]=JSON.parse(JSON.stringify(v));break;case KJ:v=i.fisherJenks(),r[KJ]=JSON.parse(JSON.stringify(v));break}});let a={},s={};i.rawData.forEach(function(g,v){let b=v.toString();if(i.isValid(g)){let _=Array.from(Object.values(r)).map(D=>D.dataBinAssignments[b]);b in a||(a[b]=0),a[b]=i.getFrequencyOfMostFrequentElement(_),b in s||(s[b]=0),s[b]=i.getMostFrequentElement(_)}else s[b]=null,a[b]=null});let l=[];Object.keys(a).forEach(function(g,v){let b={};i.isValid(i.rawData[v])&&(b.primaryKey=g,b.value=i.rawData[v],b.binCandidates=[],Object.keys(r).forEach(function(_){b.binCandidates.push(JSON.parse(JSON.stringify(r[_].dataBinAssignments[g])))}),l.push(b))});let u={},c={};l.forEach(function(g){u[g.primaryKey]=[],c[g.primaryKey]=[];let v=[...g.binCandidates];for(;v.length>0;){let b=i.getMostFrequentElement(v),_=i.getFrequencyOfMostFrequentElement(v);v=v.filter(function(D){return D!==b}),u[g.primaryKey].push(b),c[g.primaryKey].push(_)}});let f={},d=[];l.forEach(function(g){let v=u[g.primaryKey][0];v in f||(f[v]=[],d.push(v)),f[v].push(g.value)}),d=d.sort((g,v)=>g-v),d.forEach(function(g,v){f[g]=f[g].sort((b,_)=>b-_),v>0&&o.push(f[g][0])}),o=o.map(g=>parseFloat(g.toFixed(2))),o=o.sort((g,v)=>g-v);let p=i.computeBinSizes(o),m=i.computeDataBinAssignments(o);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:o.length+1,binBreaks:i.roundToPrecision(o,i.precision),binSizes:p,dataBinAssignments:m,binObjs:r,mostFrequentBins:s,frequencyOfMostFrequentBins:a}}computeBinSizes(t){let r=this,i={},o=0;return r.rawData.forEach(function(a,s){if(r.isValid(a)){let l=1;l in i||(i[l]=0);for(let u=l;u<t.length+1;u++)t[u-1]<=a&&(l=u+1,l in i||(i[l]=0));i[l]+=1}else o++}),{valids:i,invalids:o}}computeDataBinAssignments(t){let r=this,i={};return r.rawData.forEach(function(o,a){let s=a.toString();if(r.isValid(o)){let l=1;for(let u=l;u<t.length+1;u++)t[u-1]<o&&(l=u+1);i[s]=l}else i[s]=null}),i}isValid(t){return t!=null&&t!=null&&t.toString().length>0&&t.toString().match(/[^0-9\.\-]/g)==null&&!Number.isNaN(Number(t))}roundToPrecision(t,r=2){return t.map(i=>parseFloat(i.toFixed(r)))}visualize(t,r,i="viridis"){let o=this,a=o.min,s=o.max,l=r==aO?t.dataRange:t.binBreaks,[u,c]=[Math.min(a,l[0]),Math.max(s,l[l.length-1])];r!=aO&&([u,c]=[parseFloat((u*.9).toFixed(o.precision)),parseFloat((c*1.1).toFixed(o.precision))]);let f=[],d=[],p=o.computeBinSizes(l),m=p.valids;p.invalids;for(var g=0;g<=l.length;g++){let _={},D=(g+1).toString();g==0?(_.binMin=u,_.binMax=l[g],isNaN(_.binMin)||d.push(_.binMin)):g<=l.length-1?(_.binMin=l[g-1],_.binMax=l[g]):(_.binMin=l[g-1],_.binMax=c),_.binningMethod=r,_.binID=D.toString(),_.binSize=m[D],isNaN(_.binMax)||d.push(_.binMax),f.push(_)}let v={width:700,height:50},b={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:v.width,height:v.height,background:null,config:{tick:{bandSize:20},view:{stroke:null},axis:{domain:!1,grid:!1,ticks:!1}},layer:[{title:null,data:{values:f},mark:{type:"bar",tooltip:{content:"data"}},transform:[{filter:"datum.binSize != 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`,labelFontSize:16},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labels:!1}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`,labelFontSize:16}},size:{field:"binSize",legend:null,scale:{type:"linear",range:[5,v.height/2]}},color:{field:"binID",type:"quantitative",scale:{domain:f.map(_=>_.binID),scheme:i,type:"threshold"},legend:null}}},{title:null,data:{values:f},mark:{type:"rule",tooltip:{content:"data"}},transform:[{filter:"datum.binSize == 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labelFontSize:16,labelLimit:250,labelPadding:10}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`}},size:{value:2},strokeDash:{value:[8,8]}}},{title:null,data:{values:d},mark:{type:"tick",tooltip:{content:"data"},fill:"black",orient:"vertical",thickness:3,height:v.height/2},encoding:{x:{field:"data",type:"quantitative",scale:{domain:[u,c]}}}}]};return r==aO&&(delete b.layer[0].encoding.color,b.layer[0].mark.color={x1:0,y1:0,x2:1,y2:0,gradient:"linear",stops:[{offset:0,color:"#440154"},{offset:.1,color:"#48186a"},{offset:.2,color:"#472d7b"},{offset:.3,color:"#424086"},{offset:.4,color:"#3b528b"},{offset:.5,color:"#33638d"},{offset:.6,color:"#2c728e"},{offset:.7,color:"#26828e"},{offset:.8,color:"#21918c"},{offset:.9,color:"#21a784"},{offset:1,color:"#29b872"}]}),b}map(t,r,i,o,a,s="id",l="id",u="viridis"){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:500,height:300,data:{values:i,format:{type:"topojson",feature:a}},transform:[{lookup:s,from:{data:{values:r},key:l,fields:[o]}}],projection:{type:"albersUsa"},mark:{type:"geoshape",tooltip:{content:"data"},invalid:null},encoding:{color:{field:o,type:"quantitative",condition:{test:"!isValid(datum['"+o+"'])",value:null},scale:{domain:t.binBreaks,type:"threshold",scheme:u}}}}}};var Zye=/("(?:[^\\"]|\\.)*")|[:,]/g;function C4(e,t={}){let r=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),i=r===""?1/0:t.maxLength===void 0?80:t.maxLength,{replacer:o}=t;return function a(s,l,u){s&&typeof s.toJSON=="function"&&(s=s.toJSON());let c=JSON.stringify(s,o);if(c===void 0)return c;let f=i-l.length-u;if(c.length<=f){let d=c.replace(Zye,(p,m)=>m||`${p} `);if(d.length<=f)return d}if(o!=null&&(s=JSON.parse(c),o=void 0),typeof s=="object"&&s!==null){let d=l+r,p=[],m=0,g,v;if(Array.isArray(s)){g="[",v="]";let{length:b}=s;for(;m<b;m++)p.push(a(s[m],d,m===b-1?0:1)||"null")}else{g="{",v="}";let b=Object.keys(s),{length:_}=b;for(;m<_;m++){let D=b[m],T=`${JSON.stringify(D)}: `,N=a(s[D],d,T.length+(m===_-1?0:1));N!==void 0&&p.push(T+N)}}if(p.length>0)return[g,r+p.join(`,
${d}`),v].join(`
${l}`)}return c}(e,"",0)}var qU={};Ka(qU,{Bounds:()=>no,CanvasHandler:()=>Xp,CanvasRenderer:()=>A2,DATE:()=>Us,DAY:()=>Na,DAYOFYEAR:()=>If,Dataflow:()=>Tp,Debug:()=>uO,Error:()=>D4,EventStream:()=>s2,Gradient:()=>jF,GroupItem:()=>h9,HOURS:()=>fl,Handler:()=>s9,HybridHandler:()=>MS,HybridRenderer:()=>u9,Info:()=>lO,Item:()=>p9,MILLISECONDS:()=>bu,MINUTES:()=>dl,MONTH:()=>Ia,Marks:()=>qs,MultiPulse:()=>Bw,None:()=>nee,Operator:()=>li,Parameters:()=>a8,Pulse:()=>i0,QUARTER:()=>$s,RenderType:()=>f0,Renderer:()=>Y1,ResourceLoader:()=>hS,SECONDS:()=>Wl,SVGHandler:()=>CS,SVGRenderer:()=>l9,SVGStringRenderer:()=>AS,Scenegraph:()=>a9,TIME_UNITS:()=>_w,Transform:()=>Ye,View:()=>gU,WEEK:()=>Do,Warn:()=>lw,YEAR:()=>sa,accessor:()=>es,accessorFields:()=>Vo,accessorName:()=>Ii,array:()=>_t,ascending:()=>Kd,bandwidthNRD:()=>Ww,bin:()=>kN,bootstrapCI:()=>ON,boundClip:()=>vP,boundContext:()=>m9,boundItem:()=>UF,boundMark:()=>hie,boundStroke:()=>qf,changeset:()=>a0,clampRange:()=>gO,codegenExpression:()=>qC,compare:()=>k4,constant:()=>Li,cumulativeLogNormal:()=>Jw,cumulativeNormal:()=>c8,cumulativeUniform:()=>r_,dayofyear:()=>eN,debounce:()=>O4,defaultLocale:()=>n8,definition:()=>$w,densityLogNormal:()=>Zw,densityNormal:()=>Yw,densityUniform:()=>n_,domChild:()=>jo,domClear:()=>Cu,domCreate:()=>qp,domFind:()=>cP,dotbin:()=>NN,error:()=>Ke,expressionFunction:()=>oo,extend:()=>Dn,extent:()=>Bs,extentIndex:()=>vO,falsy:()=>Yd,fastmap:()=>Ep,field:()=>aa,flush:()=>yO,font:()=>FS,fontFamily:()=>y9,fontSize:()=>Hf,format:()=>kw,formatLocale:()=>t8,formats:()=>xN,hasOwnProperty:()=>Dt,id:()=>Qg,identity:()=>to,inferType:()=>gte,inferTypes:()=>vte,ingest:()=>xr,inherits:()=>Et,inrange:()=>Dp,interpolate:()=>X8,interpolateColors:()=>w2,interpolateRange:()=>J_,intersect:()=>gP,intersectBoxLine:()=>S2,intersectPath:()=>KF,intersectPoint:()=>QF,intersectRule:()=>rie,isArray:()=>Le,isBoolean:()=>ul,isDate:()=>fc,isFunction:()=>En,isIterable:()=>bO,isNumber:()=>qn,isObject:()=>yt,isRegExp:()=>fw,isString:()=>ht,isTuple:()=>E1,key:()=>N4,lerp:()=>xO,lineHeight:()=>Wp,loader:()=>o2,locale:()=>Tw,logger:()=>A4,lruCache:()=>wO,markup:()=>mP,merge:()=>_O,mergeConfig:()=>Of,multiLineOffset:()=>IS,one:()=>kf,pad:()=>SO,panLinear:()=>cO,panLog:()=>fO,panPow:()=>dO,panSymlog:()=>pO,parse:()=>Vce,parseExpression:()=>VC,parseSelector:()=>ss,path:()=>O1,pathCurves:()=>WF,pathEqual:()=>Hie,pathParse:()=>W1,pathRectangle:()=>Zre,pathRender:()=>C2,pathSymbols:()=>Qre,pathTrail:()=>Jre,peek:()=>jn,point:()=>b9,projection:()=>H9,quantileLogNormal:()=>e_,quantileNormal:()=>f8,quantileUniform:()=>i_,quantiles:()=>Gw,quantizeInterpolator:()=>eS,quarter:()=>hO,quartiles:()=>jw,random:()=>zs,randomInteger:()=>l_e,randomKDE:()=>Kw,randomLCG:()=>s_e,randomLogNormal:()=>IN,randomMixture:()=>FN,randomNormal:()=>Xw,randomUniform:()=>PN,read:()=>_N,regressionConstant:()=>o_,regressionExp:()=>BN,regressionLinear:()=>s_,regressionLoess:()=>zN,regressionLog:()=>LN,regressionPoly:()=>UN,regressionPow:()=>$N,regressionQuad:()=>l_,renderModule:()=>x9,repeat:()=>E4,resetDefaultLocale:()=>dte,resetSVGClipId:()=>tie,resetSVGDefIds:()=>UDe,responseType:()=>wN,runtimeContext:()=>yE,sampleCurve:()=>u2,sampleLogNormal:()=>Qw,sampleNormal:()=>u8,sampleUniform:()=>t_,scale:()=>Sr,sceneEqual:()=>yP,sceneFromJSON:()=>gie,scenePickVisit:()=>gS,sceneToJSON:()=>mie,sceneVisit:()=>vc,sceneZOrder:()=>ZF,scheme:()=>K8,serializeXML:()=>Oie,setHybridRendererOptions:()=>PDe,setRandom:()=>o_e,span:()=>Qd,splitAccessPath:()=>yu,stringValue:()=>gt,textMetrics:()=>hl,timeBin:()=>cN,timeFloor:()=>iN,timeFormatLocale:()=>C1,timeInterval:()=>t0,timeOffset:()=>aN,timeSequence:()=>lN,timeUnitSpecifier:()=>ZO,timeUnits:()=>Sw,toBoolean:()=>I4,toDate:()=>F4,toNumber:()=>mo,toSet:()=>Eo,toString:()=>P4,transform:()=>DN,transforms:()=>o0,truncate:()=>CO,truthy:()=>qo,tupleid:()=>pn,typeParsers:()=>vN,utcFloor:()=>oN,utcInterval:()=>n0,utcOffset:()=>sN,utcSequence:()=>uN,utcdayofyear:()=>nN,utcquarter:()=>mO,utcweek:()=>rN,version:()=>zBe,visitArray:()=>Zd,week:()=>tN,writeConfig:()=>Xd,zero:()=>cc,zoomLinear:()=>M4,zoomLog:()=>T4,zoomPow:()=>Zg,zoomSymlog:()=>R4});function es(e,t,r){return e.fields=t||[],e.fname=r,e}function Ii(e){return e==null?null:e.fname}function Vo(e){return e==null?null:e.fields}function tee(e){return e.length===1?Jye(e[0]):ebe(e)}var Jye=e=>function(t){return t[e]},ebe=e=>{let t=e.length;return function(r){for(let i=0;i<t;++i)r=r[e[i]];return r}};function Ke(e){throw Error(e)}function yu(e){let t=[],r=e.length,i=null,o=0,a="",s,l,u;e=e+"";function c(){t.push(a+e.substring(s,l)),a="",s=l+1}for(s=l=0;l<r;++l)if(u=e[l],u==="\\")a+=e.substring(s,l++),s=l;else if(u===i)c(),i=null,o=-1;else{if(i)continue;s===o&&u==='"'||s===o&&u==="'"?(s=l+1,i=u):u==="."&&!o?l>s?c():s=l+1:u==="["?(l>s&&c(),o=s=l+1):u==="]"&&(o||Ke("Access path missing open bracket: "+e),o>0&&c(),o=0,s=l+1)}return o&&Ke("Access path missing closing bracket: "+e),i&&Ke("Access path missing closing quote: "+e),l>s&&(l++,c()),t}function aa(e,t,r){let i=yu(e);return e=i.length===1?i[0]:e,es((r&&r.get||tee)(i),[e],t||e)}var Qg=aa("id"),to=es(e=>e,[],"identity"),cc=es(()=>0,[],"zero"),kf=es(()=>1,[],"one"),qo=es(()=>!0,[],"true"),Yd=es(()=>!1,[],"false");function tbe(e,t,r){let i=[t].concat([].slice.call(r));console[e].apply(console,i)}var nee=0,D4=1,lw=2,lO=3,uO=4;function A4(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tbe,i=e||nee;return{level(o){return arguments.length?(i=+o,this):i},error(){return i>=D4&&r(t||"error","ERROR",arguments),this},warn(){return i>=lw&&r(t||"warn","WARN",arguments),this},info(){return i>=lO&&r(t||"log","INFO",arguments),this},debug(){return i>=uO&&r(t||"log","DEBUG",arguments),this}}}var Le=Array.isArray;function yt(e){return e===Object(e)}var eee=e=>e!=="__proto__";function Of(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((i,o)=>{for(let a in o)if(a==="signals")i.signals=nbe(i.signals,o.signals);else{let s=a==="legend"?{layout:1}:a==="style"?!0:null;Xd(i,a,o[a],s)}return i},{})}function Xd(e,t,r,i){if(!eee(t))return;let o,a;if(yt(r)&&!Le(r)){a=yt(e[t])?e[t]:e[t]={};for(o in r)i&&(i===!0||i[o])?Xd(a,o,r[o]):eee(o)&&(a[o]=r[o])}else e[t]=r}function nbe(e,t){if(e==null)return t;let r={},i=[];function o(a){r[a.name]||(r[a.name]=1,i.push(a))}return t.forEach(o),e.forEach(o),i}function jn(e){return e[e.length-1]}function mo(e){return e==null||e===""?null:+e}var ree=e=>t=>e*Math.exp(t),iee=e=>t=>Math.log(e*t),oee=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),aee=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,sw=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function uw(e,t,r,i){let o=r(e[0]),a=r(jn(e)),s=(a-o)*t;return[i(o-s),i(a-s)]}function cO(e,t){return uw(e,t,mo,to)}function fO(e,t){var r=Math.sign(e[0]);return uw(e,t,iee(r),ree(r))}function dO(e,t,r){return uw(e,t,sw(r),sw(1/r))}function pO(e,t,r){return uw(e,t,oee(r),aee(r))}function cw(e,t,r,i,o){let a=i(e[0]),s=i(jn(e)),l=t!=null?i(t):(a+s)/2;return[o(l+(a-l)*r),o(l+(s-l)*r)]}function M4(e,t,r){return cw(e,t,r,mo,to)}function T4(e,t,r){let i=Math.sign(e[0]);return cw(e,t,r,iee(i),ree(i))}function Zg(e,t,r,i){return cw(e,t,r,sw(i),sw(1/i))}function R4(e,t,r,i){return cw(e,t,r,oee(i),aee(i))}function hO(e){return 1+~~(new Date(e).getMonth()/3)}function mO(e){return 1+~~(new Date(e).getUTCMonth()/3)}function _t(e){return e!=null?Le(e)?e:[e]:[]}function gO(e,t,r){let i=e[0],o=e[1],a;return o<i&&(a=o,o=i,i=a),a=o-i,a>=r-t?[t,r]:[i=Math.min(Math.max(i,t),r-a),i+a]}function En(e){return typeof e=="function"}var rbe="descending";function k4(e,t,r){r=r||{},t=_t(t)||[];let i=[],o=[],a={},s=r.comparator||ibe;return _t(e).forEach((l,u)=>{l!=null&&(i.push(t[u]===rbe?-1:1),o.push(l=En(l)?l:aa(l,null,r)),(Vo(l)||[]).forEach(c=>a[c]=1))}),o.length===0?null:es(s(o,i),Object.keys(a))}var Kd=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),ibe=(e,t)=>e.length===1?obe(e[0],t[0]):abe(e,t,e.length),obe=(e,t)=>function(r,i){return Kd(e(r),e(i))*t},abe=(e,t,r)=>(t.push(0),function(i,o){let a,s=0,l=-1;for(;s===0&&++l<r;)a=e[l],s=Kd(a(i),a(o));return s*t[l]});function Li(e){return En(e)?e:()=>e}function O4(e,t){let r;return i=>{r&&clearTimeout(r),r=setTimeout(()=>(t(i),r=null),e)}}function Dn(e){for(let t,r,i=1,o=arguments.length;i<o;++i){t=arguments[i];for(r in t)e[r]=t[r]}return e}function Bs(e,t){let r=0,i,o,a,s;if(e&&(i=e.length))if(t==null){for(o=e[r];r<i&&(o==null||o!==o);o=e[++r]);for(a=s=o;r<i;++r)o=e[r],o!=null&&(o<a&&(a=o),o>s&&(s=o))}else{for(o=t(e[r]);r<i&&(o==null||o!==o);o=t(e[++r]));for(a=s=o;r<i;++r)o=t(e[r]),o!=null&&(o<a&&(a=o),o>s&&(s=o))}return[a,s]}function vO(e,t){let r=e.length,i=-1,o,a,s,l,u;if(t==null){for(;++i<r;)if(a=e[i],a!=null&&a>=a){o=s=a;break}if(i===r)return[-1,-1];for(l=u=i;++i<r;)a=e[i],a!=null&&(o>a&&(o=a,l=i),s<a&&(s=a,u=i))}else{for(;++i<r;)if(a=t(e[i],i,e),a!=null&&a>=a){o=s=a;break}if(i===r)return[-1,-1];for(l=u=i;++i<r;)a=t(e[i],i,e),a!=null&&(o>a&&(o=a,l=i),s<a&&(s=a,u=i))}return[l,u]}function Dt(e,t){return Object.hasOwn(e,t)}var aw={};function Ep(e){let t={},r;function i(a){return Dt(t,a)&&t[a]!==aw}let o={size:0,empty:0,object:t,has:i,get(a){return i(a)?t[a]:void 0},set(a,s){return i(a)||(++o.size,t[a]===aw&&--o.empty),t[a]=s,this},delete(a){return i(a)&&(--o.size,++o.empty,t[a]=aw),this},clear(){o.size=o.empty=0,o.object=t={}},test(a){return arguments.length?(r=a,o):r},clean(){let a={},s=0;for(let l in t){let u=t[l];u!==aw&&(!r||!r(u))&&(a[l]=u,++s)}o.size=s,o.empty=0,o.object=t=a}};return e&&Object.keys(e).forEach(a=>{o.set(a,e[a])}),o}function yO(e,t,r,i,o,a){if(!r&&r!==0)return a;let s=+r,l=e[0],u=jn(e),c;u<l&&(c=l,l=u,u=c),c=Math.abs(t-l);let f=Math.abs(u-t);return c<f&&c<=s?i:f<=s?o:a}function Et(e,t,r){let i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Dn(i,r)}function Dp(e,t,r,i){let o=t[0],a=t[t.length-1],s;return o>a&&(s=o,o=a,a=s),r=r===void 0||r,i=i===void 0||i,(r?o<=e:o<e)&&(i?e<=a:e<a)}function ul(e){return typeof e=="boolean"}function fc(e){return Object.prototype.toString.call(e)==="[object Date]"}function bO(e){return e&&En(e[Symbol.iterator])}function qn(e){return typeof e=="number"}function fw(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ht(e){return typeof e=="string"}function N4(e,t,r){e&&(e=t?_t(e).map(l=>l.replace(/\\(.)/g,"$1")):_t(e));let i=e&&e.length,o=r&&r.get||tee,a=l=>o(t?[l]:yu(l)),s;if(!i)s=function(){return""};else if(i===1){let l=a(e[0]);s=function(u){return""+l(u)}}else{let l=e.map(a);s=function(u){let c=""+l[0](u),f=0;for(;++f<i;)c+="|"+l[f](u);return c}}return es(s,e,"key")}function xO(e,t){let r=e[0],i=jn(e),o=+t;return o?o===1?i:r+o*(i-r):r}var sbe=1e4;function wO(e){e=+e||sbe;let t,r,i,o=()=>{t={},r={},i=0},a=(s,l)=>(++i>e&&(r=t,t={},i=1),t[s]=l);return o(),{clear:o,has:s=>Dt(t,s)||Dt(r,s),get:s=>Dt(t,s)?t[s]:Dt(r,s)?a(s,r[s]):void 0,set:(s,l)=>Dt(t,s)?t[s]=l:a(s,l)}}function _O(e,t,r,i){let o=t.length,a=r.length;if(!a)return t;if(!o)return r;let s=i||new t.constructor(o+a),l=0,u=0,c=0;for(;l<o&&u<a;++c)s[c]=e(t[l],r[u])>0?r[u++]:t[l++];for(;l<o;++l,++c)s[c]=t[l];for(;u<a;++u,++c)s[c]=r[u];return s}function E4(e,t){let r="";for(;--t>=0;)r+=e;return r}function SO(e,t,r,i){let o=r||" ",a=e+"",s=t-a.length;return s<=0?a:i==="left"?E4(o,s)+a:i==="center"?E4(o,~~(s/2))+a+E4(o,Math.ceil(s/2)):a+E4(o,s)}function Qd(e){return e&&jn(e)-e[0]||0}function gt(e){return Le(e)?"["+e.map(gt)+"]":yt(e)||ht(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function I4(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}var lbe=e=>qn(e)||fc(e)?e:Date.parse(e);function F4(e,t){return t=t||lbe,e==null||e===""?null:t(e)}function P4(e){return e==null||e===""?null:e+""}function Eo(e){let t={},r=e.length;for(let i=0;i<r;++i)t[e[i]]=!0;return t}function CO(e,t,r,i){let o=i??"\u2026",a=e+"",s=a.length,l=Math.max(0,t-o.length);return s<=t?a:r==="left"?o+a.slice(s-l):r==="center"?a.slice(0,Math.ceil(l/2))+o+a.slice(s-~~(l/2)):a.slice(0,l)+o}function Zd(e,t,r){if(e)if(t){let i=e.length;for(let o=0;o<i;++o){let a=t(e[o]);a&&r(a,o,e)}}else e.forEach(r)}var see={},EO={},DO=34,L4=10,AO=13;function uee(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function ube(e,t){var r=uee(e);return function(i,o){return t(r(i),o,e)}}function lee(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var o in i)o in t||r.push(t[o]=o)}),r}function cl(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function cbe(e){return e<0?"-"+cl(-e,6):e>9999?"+"+cl(e,6):cl(e,4)}function fbe(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":cbe(e.getUTCFullYear(),4)+"-"+cl(e.getUTCMonth()+1,2)+"-"+cl(e.getUTCDate(),2)+(o?"T"+cl(t,2)+":"+cl(r,2)+":"+cl(i,2)+"."+cl(o,3)+"Z":i?"T"+cl(t,2)+":"+cl(r,2)+":"+cl(i,2)+"Z":r||t?"T"+cl(t,2)+":"+cl(r,2)+"Z":"")}function MO(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(d,p){var m,g,v=o(d,function(b,_){if(m)return m(b,_-1);g=b,m=p?ube(b,p):uee(b)});return v.columns=g||[],v}function o(d,p){var m=[],g=d.length,v=0,b=0,_,D=g<=0,T=!1;d.charCodeAt(g-1)===L4&&--g,d.charCodeAt(g-1)===AO&&--g;function N(){if(D)return EO;if(T)return T=!1,see;var j,B=v,U;if(d.charCodeAt(B)===DO){for(;v++<g&&d.charCodeAt(v)!==DO||d.charCodeAt(++v)===DO;);return(j=v)>=g?D=!0:(U=d.charCodeAt(v++))===L4?T=!0:U===AO&&(T=!0,d.charCodeAt(v)===L4&&++v),d.slice(B+1,j-1).replace(/""/g,'"')}for(;v<g;){if((U=d.charCodeAt(j=v++))===L4)T=!0;else if(U===AO)T=!0,d.charCodeAt(v)===L4&&++v;else if(U!==r)continue;return d.slice(B,j)}return D=!0,d.slice(B,g)}for(;(_=N())!==EO;){for(var z=[];_!==see&&_!==EO;)z.push(_),_=N();p&&(z=p(z,b++))==null||m.push(z)}return m}function a(d,p){return d.map(function(m){return p.map(function(g){return f(m[g])}).join(e)})}function s(d,p){return p==null&&(p=lee(d)),[p.map(f).join(e)].concat(a(d,p)).join(`
`)}function l(d,p){return p==null&&(p=lee(d)),a(d,p).join(`
`)}function u(d){return d.map(c).join(`
`)}function c(d){return d.map(f).join(e)}function f(d){return d==null?"":d instanceof Date?fbe(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:i,parseRows:o,format:s,formatBody:l,formatRows:u,formatRow:c,formatValue:f}}var dbe=Math.sqrt(50),pbe=Math.sqrt(10),hbe=Math.sqrt(2);function cee(e,t,r){let i=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=dbe?10:a>=pbe?5:a>=hbe?2:1,l,u,c;return o<0?(c=Math.pow(10,-o)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?cee(e,t,r*2):[l,u,c]}function TO(e,t,r){return t=+t,e=+e,r=+r,cee(e,t,r)[2]}function RO(e,t,r){t=+t,e=+e,r=+r;let i=t<e,o=i?TO(t,e,r):TO(e,t,r);return(i?-1:1)*(o<0?1/-o:o)}function fee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function v1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function Nf(e){return e=v1(Math.abs(e)),e?e[1]:NaN}function dee(e,t){return function(r,i){for(var o=r.length,a=[],s=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),a.push(r.substring(o-=l,o+l)),!((u+=l+1)>i));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function pee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jd(e){if(!(t=mbe.exec(e)))throw new Error("invalid format: "+e);var t;return new dw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jd.prototype=dw.prototype;function dw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hee(e){e:for(var t=e.length,r=1,i=-1,o;r<t;++r)switch(e[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(o+1):e}var kO;function mee(e,t){var r=v1(e,t);if(!r)return e+"";var i=r[0],o=r[1],a=o-(kO=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+v1(e,Math.max(0,t+a-1))[0]}function OO(e,t){var r=v1(e,t);if(!r)return e+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}var NO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OO(e*100,t),r:OO,s:mee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IO(e){return e}var gee=Array.prototype.map,vee=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function B4(e){var t=e.grouping===void 0||e.thousands===void 0?IO:dee(gee.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?IO:pee(gee.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Jd(d);var p=d.fill,m=d.align,g=d.sign,v=d.symbol,b=d.zero,_=d.width,D=d.comma,T=d.precision,N=d.trim,z=d.type;z==="n"?(D=!0,z="g"):NO[z]||(T===void 0&&(T=12),N=!0,z="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var j=v==="$"?r:v==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",B=v==="$"?i:/[%p]/.test(z)?s:"",U=NO[z],x=/[defgprs%]/.test(z);T=T===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function w(C){var k=j,F=B,I,R,$;if(z==="c")F=U(C)+F,C="";else{C=+C;var Y=C<0||1/C<0;if(C=isNaN(C)?u:U(Math.abs(C),T),N&&(C=hee(C)),Y&&+C==0&&g!=="+"&&(Y=!1),k=(Y?g==="("?g:l:g==="-"||g==="("?"":g)+k,F=(z==="s"?vee[8+kO/3]:"")+F+(Y&&g==="("?")":""),x){for(I=-1,R=C.length;++I<R;)if($=C.charCodeAt(I),48>$||$>57){F=($===46?o+C.slice(I+1):C.slice(I))+F,C=C.slice(0,I);break}}}D&&!b&&(C=t(C,1/0));var re=k.length+C.length+F.length,ne=re<_?new Array(_-re+1).join(p):"";switch(D&&b&&(C=t(ne+C,ne.length?_-F.length:1/0),ne=""),m){case"<":C=k+C+F+ne;break;case"=":C=k+ne+C+F;break;case"^":C=ne.slice(0,re=ne.length>>1)+k+C+F+ne.slice(re);break;default:C=ne+k+C+F;break}return a(C)}return w.toString=function(){return d+""},w}function f(d,p){var m=c((d=Jd(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Nf(p)/3)))*3,v=Math.pow(10,-g),b=vee[8+g/3];return function(_){return m(v*_)+b}}return{format:c,formatPrefix:f}}var pw,hw,mw;FO({thousands:",",grouping:[3],currency:["$",""]});function FO(e){return pw=B4(e),hw=pw.format,mw=pw.formatPrefix,pw}function PO(e){return Math.max(0,-Nf(Math.abs(e)))}function LO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nf(t)/3)))*3-Nf(Math.abs(e)))}function BO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nf(t)-Nf(e))+1}var $O=new Date,UO=new Date;function wi(e,t,r,i){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{let s=o(a),l=o.ceil(a);return a-s<l-a?s:l},o.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),o.range=(a,s,l)=>{let u=[];if(a=o.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let c;do u.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<s);return u},o.filter=a=>wi(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(o.count=(a,s)=>($O.setTime(+a),UO.setTime(+s),e($O),e(UO),Math.floor(r($O,UO))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?s=>i(s)%a===0:s=>o.count(0,s)%a===0):o)),o}var e0=wi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);e0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):e0);var yee=e0.range;var y1=wi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),bee=y1.range;var gw=wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),gbe=gw.range,vw=wi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),vbe=vw.range;var yw=wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),ybe=yw.range,bw=wi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),bbe=bw.range;var b1=wi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),xbe=b1.range,x1=wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),wbe=x1.range,xee=wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),_be=xee.range;function w1(e){return wi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var e2=w1(0),wee=w1(1),_ee=w1(2),See=w1(3),Cee=w1(4),Eee=w1(5),Dee=w1(6),Aee=e2.range,Cbe=wee.range,Ebe=_ee.range,Dbe=See.range,Abe=Cee.range,Mbe=Eee.range,Tbe=Dee.range;function _1(e){return wi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var t2=_1(0),Mee=_1(1),Tee=_1(2),Ree=_1(3),kee=_1(4),Oee=_1(5),Nee=_1(6),Iee=t2.range,Rbe=Mee.range,kbe=Tee.range,Obe=Ree.range,Nbe=kee.range,Ibe=Oee.range,Fbe=Nee.range;var $4=wi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),Pbe=$4.range,U4=wi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),Lbe=U4.range;var z4=wi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());z4.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});var Bbe=z4.range,V4=wi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());V4.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});var $be=V4.range;function q4(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HO(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xw(e){let t,r,i;e.length!==2?(t=q4,r=(l,u)=>q4(e(l),u),i=(l,u)=>e(l)-u):(t=e===q4||e===HO?e:Ube,r=e,i=e);function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){let d=o(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:o,center:s,right:a}}function Ube(){return 0}var zbe=Math.sqrt(50),Vbe=Math.sqrt(10),qbe=Math.sqrt(2);function Fee(e,t,r){let i=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=zbe?10:a>=Vbe?5:a>=qbe?2:1,l,u,c;return o<0?(c=Math.pow(10,-o)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?Fee(e,t,r*2):[l,u,c]}function GO(e,t,r){return t=+t,e=+e,r=+r,Fee(e,t,r)[2]}function ww(e,t,r){t=+t,e=+e,r=+r;let i=t<e,o=i?GO(t,e,r):GO(e,t,r);return(i?-1:1)*(o<0?1/-o:o)}var sa="year",$s="quarter",Ia="month",Do="week",Us="date",Na="day",If="dayofyear",fl="hours",dl="minutes",Wl="seconds",bu="milliseconds",_w=[sa,$s,Ia,Do,Us,Na,If,fl,dl,Wl,bu],jO=_w.reduce((e,t,r)=>(e[t]=1+r,e),{});function Sw(e){let t=_t(e).slice(),r={};return t.length||Ke("Missing time unit."),t.forEach(o=>{Dt(jO,o)?r[o]=1:Ke(`Invalid time unit: ${o}.`)}),(r[Do]||r[Na]?1:0)+(r[$s]||r[Ia]||r[Us]?1:0)+(r[If]?1:0)>1&&Ke(`Incompatible time units: ${e}`),t.sort((o,a)=>jO[o]-jO[a]),t}var Hbe={[sa]:"%Y ",[$s]:"Q%q ",[Ia]:"%b ",[Us]:"%d ",[Do]:"W%U ",[Na]:"%a ",[If]:"%j ",[fl]:"%H:00",[dl]:"00:%M",[Wl]:":%S",[bu]:".%L",[`${sa}-${Ia}`]:"%Y-%m ",[`${sa}-${Ia}-${Us}`]:"%Y-%m-%d ",[`${fl}-${dl}`]:"%H:%M"};function ZO(e,t){let r=Dn({},Hbe,t),i=Sw(e),o=i.length,a="",s=0,l,u;for(s=0;s<o;)for(l=i.length;l>s;--l)if(u=i.slice(s,l).join("-"),r[u]!=null){a+=r[u],s=l;break}return a.trim()}var S1=new Date;function JO(e){return S1.setFullYear(e),S1.setMonth(0),S1.setDate(1),S1.setHours(0,0,0,0),S1}function eN(e){return Bee(new Date(e))}function tN(e){return WO(new Date(e))}function Bee(e){return b1.count(JO(e.getFullYear())-1,e)}function WO(e){return e2.count(JO(e.getFullYear())-1,e)}function YO(e){return JO(e).getDay()}function Gbe(e,t,r,i,o,a,s){if(0<=e&&e<100){let l=new Date(-1,t,r,i,o,a,s);return l.setFullYear(e),l}return new Date(e,t,r,i,o,a,s)}function nN(e){return $ee(new Date(e))}function rN(e){return XO(new Date(e))}function $ee(e){let t=Date.UTC(e.getUTCFullYear(),0,1);return x1.count(t-1,e)}function XO(e){let t=Date.UTC(e.getUTCFullYear(),0,1);return t2.count(t-1,e)}function KO(e){return S1.setTime(Date.UTC(e,0,1)),S1.getUTCDay()}function jbe(e,t,r,i,o,a,s){if(0<=e&&e<100){let l=new Date(Date.UTC(-1,t,r,i,o,a,s));return l.setUTCFullYear(r.y),l}return new Date(Date.UTC(e,t,r,i,o,a,s))}function Uee(e,t,r,i,o){let a=t||1,s=jn(e),l=(_,D,T)=>(T=T||_,Wbe(r[T],i[T],_===s&&a,D)),u=new Date,c=Eo(e),f=c[sa]?l(sa):Li(2012),d=c[Ia]?l(Ia):c[$s]?l($s):cc,p=c[Do]&&c[Na]?l(Na,1,Do+Na):c[Do]?l(Do,1):c[Na]?l(Na,1):c[Us]?l(Us,1):c[If]?l(If,1):kf,m=c[fl]?l(fl):cc,g=c[dl]?l(dl):cc,v=c[Wl]?l(Wl):cc,b=c[bu]?l(bu):cc;return function(_){u.setTime(+_);let D=f(u);return o(D,d(u),p(u,D),m(u),g(u),v(u),b(u))}}function Wbe(e,t,r,i){let o=r<=1?e:i?(a,s)=>i+r*Math.floor((e(a,s)-i)/r):(a,s)=>r*Math.floor(e(a,s)/r);return t?(a,s)=>t(o(a,s),s):o}function n2(e,t,r){return t+e*7-(r+6)%7}var Ybe={[sa]:e=>e.getFullYear(),[$s]:e=>Math.floor(e.getMonth()/3),[Ia]:e=>e.getMonth(),[Us]:e=>e.getDate(),[fl]:e=>e.getHours(),[dl]:e=>e.getMinutes(),[Wl]:e=>e.getSeconds(),[bu]:e=>e.getMilliseconds(),[If]:e=>Bee(e),[Do]:e=>WO(e),[Do+Na]:(e,t)=>n2(WO(e),e.getDay(),YO(t)),[Na]:(e,t)=>n2(1,e.getDay(),YO(t))},Xbe={[$s]:e=>3*e,[Do]:(e,t)=>n2(e,0,YO(t))};function iN(e,t){return Uee(e,t||1,Ybe,Xbe,Gbe)}var Kbe={[sa]:e=>e.getUTCFullYear(),[$s]:e=>Math.floor(e.getUTCMonth()/3),[Ia]:e=>e.getUTCMonth(),[Us]:e=>e.getUTCDate(),[fl]:e=>e.getUTCHours(),[dl]:e=>e.getUTCMinutes(),[Wl]:e=>e.getUTCSeconds(),[bu]:e=>e.getUTCMilliseconds(),[If]:e=>$ee(e),[Do]:e=>XO(e),[Na]:(e,t)=>n2(1,e.getUTCDay(),KO(t)),[Do+Na]:(e,t)=>n2(XO(e),e.getUTCDay(),KO(t))},Qbe={[$s]:e=>3*e,[Do]:(e,t)=>n2(e,0,KO(t))};function oN(e,t){return Uee(e,t||1,Kbe,Qbe,jbe)}var Zbe={[sa]:z4,[$s]:$4.every(3),[Ia]:$4,[Do]:e2,[Us]:b1,[Na]:b1,[If]:b1,[fl]:yw,[dl]:gw,[Wl]:y1,[bu]:e0},Jbe={[sa]:V4,[$s]:U4.every(3),[Ia]:U4,[Do]:t2,[Us]:x1,[Na]:x1,[If]:x1,[fl]:bw,[dl]:vw,[Wl]:y1,[bu]:e0};function t0(e){return Zbe[e]}function n0(e){return Jbe[e]}function zee(e,t,r){return e?e.offset(t,r):void 0}function aN(e,t,r){return zee(t0(e),t,r)}function sN(e,t,r){return zee(n0(e),t,r)}function Vee(e,t,r,i){return e?e.range(t,r,i):void 0}function lN(e,t,r,i){return Vee(t0(e),t,r,i)}function uN(e,t,r,i){return Vee(n0(e),t,r,i)}var G4=1e3,j4=G4*60,W4=j4*60,Cw=W4*24,exe=Cw*7,Pee=Cw*30,QO=Cw*365,qee=[sa,Ia,Us,fl,dl,Wl,bu],Y4=qee.slice(0,-1),X4=Y4.slice(0,-1),K4=X4.slice(0,-1),txe=K4.slice(0,-1),nxe=[sa,Do],Lee=[sa,Ia],Hee=[sa],H4=[[Y4,1,G4],[Y4,5,5*G4],[Y4,15,15*G4],[Y4,30,30*G4],[X4,1,j4],[X4,5,5*j4],[X4,15,15*j4],[X4,30,30*j4],[K4,1,W4],[K4,3,3*W4],[K4,6,6*W4],[K4,12,12*W4],[txe,1,Cw],[nxe,1,exe],[Lee,1,Pee],[Lee,3,3*Pee],[Hee,1,QO]];function cN(e){let t=e.extent,r=e.maxbins||40,i=Math.abs(Qd(t))/r,o=xw(l=>l[2]).right(H4,i),a,s;return o===H4.length?(a=Hee,s=ww(t[0]/QO,t[1]/QO,r)):o?(o=H4[i/H4[o-1][2]<H4[o][2]/i?o-1:o],a=o[0],s=o[1]):(a=qee,s=Math.max(ww(t[0],t[1],r),1)),{units:a,step:s}}function fN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Q4(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function r2(e){var t=e.dateTime,r=e.date,i=e.time,o=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=Z4(o),f=J4(o),d=Z4(a),p=J4(a),m=Z4(s),g=J4(s),v=Z4(l),b=J4(l),_=Z4(u),D=J4(u),T={a:Y,A:re,b:ne,B:he,c:null,d:Kee,e:Kee,f:Exe,g:Fxe,G:Lxe,H:_xe,I:Sxe,j:Cxe,L:tte,m:Dxe,M:Axe,p:ge,q:Me,Q:Jee,s:ete,S:Mxe,u:Txe,U:Rxe,V:kxe,w:Oxe,W:Nxe,x:null,X:null,y:Ixe,Y:Pxe,Z:Bxe,"%":Zee},N={a:be,A:ut,b:Pe,B:Mt,c:null,d:Qee,e:Qee,f:Vxe,g:Zxe,G:ewe,H:$xe,I:Uxe,j:zxe,L:rte,m:qxe,M:Hxe,p:Vt,q:nn,Q:Jee,s:ete,S:Gxe,u:jxe,U:Wxe,V:Yxe,w:Xxe,W:Kxe,x:null,X:null,y:Qxe,Y:Jxe,Z:twe,"%":Zee},z={a:w,A:C,b:k,B:F,c:I,d:Yee,e:Yee,f:yxe,g:Wee,G:jee,H:Xee,I:Xee,j:hxe,L:vxe,m:pxe,M:mxe,p:x,q:dxe,Q:xxe,s:wxe,S:gxe,u:sxe,U:lxe,V:uxe,w:axe,W:cxe,x:R,X:$,y:Wee,Y:jee,Z:fxe,"%":bxe};T.x=j(r,T),T.X=j(i,T),T.c=j(t,T),N.x=j(r,N),N.X=j(i,N),N.c=j(t,N);function j(xe,qe){return function(Ge){var pe=[],Zt=-1,lt=0,oe=xe.length,le,we,ue;for(Ge instanceof Date||(Ge=new Date(+Ge));++Zt<oe;)xe.charCodeAt(Zt)===37&&(pe.push(xe.slice(lt,Zt)),(we=Gee[le=xe.charAt(++Zt)])!=null?le=xe.charAt(++Zt):we=le==="e"?" ":"0",(ue=qe[le])&&(le=ue(Ge,we)),pe.push(le),lt=Zt+1);return pe.push(xe.slice(lt,Zt)),pe.join("")}}function B(xe,qe){return function(Ge){var pe=Q4(1900,void 0,1),Zt=U(pe,xe,Ge+="",0),lt,oe;if(Zt!=Ge.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(qe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(lt=dN(Q4(pe.y,0,1)),oe=lt.getUTCDay(),lt=oe>4||oe===0?Tf.ceil(lt):Tf(lt),lt=lc.offset(lt,(pe.V-1)*7),pe.y=lt.getUTCFullYear(),pe.m=lt.getUTCMonth(),pe.d=lt.getUTCDate()+(pe.w+6)%7):(lt=fN(Q4(pe.y,0,1)),oe=lt.getDay(),lt=oe>4||oe===0?Mf.ceil(lt):Mf(lt),lt=ac.offset(lt,(pe.V-1)*7),pe.y=lt.getFullYear(),pe.m=lt.getMonth(),pe.d=lt.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),oe="Z"in pe?dN(Q4(pe.y,0,1)).getUTCDay():fN(Q4(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(oe+5)%7:pe.w+pe.U*7-(oe+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,dN(pe)):fN(pe)}}function U(xe,qe,Ge,pe){for(var Zt=0,lt=qe.length,oe=Ge.length,le,we;Zt<lt;){if(pe>=oe)return-1;if(le=qe.charCodeAt(Zt++),le===37){if(le=qe.charAt(Zt++),we=z[le in Gee?qe.charAt(Zt++):le],!we||(pe=we(xe,Ge,pe))<0)return-1}else if(le!=Ge.charCodeAt(pe++))return-1}return pe}function x(xe,qe,Ge){var pe=c.exec(qe.slice(Ge));return pe?(xe.p=f.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function w(xe,qe,Ge){var pe=m.exec(qe.slice(Ge));return pe?(xe.w=g.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function C(xe,qe,Ge){var pe=d.exec(qe.slice(Ge));return pe?(xe.w=p.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function k(xe,qe,Ge){var pe=_.exec(qe.slice(Ge));return pe?(xe.m=D.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function F(xe,qe,Ge){var pe=v.exec(qe.slice(Ge));return pe?(xe.m=b.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function I(xe,qe,Ge){return U(xe,t,qe,Ge)}function R(xe,qe,Ge){return U(xe,r,qe,Ge)}function $(xe,qe,Ge){return U(xe,i,qe,Ge)}function Y(xe){return s[xe.getDay()]}function re(xe){return a[xe.getDay()]}function ne(xe){return u[xe.getMonth()]}function he(xe){return l[xe.getMonth()]}function ge(xe){return o[+(xe.getHours()>=12)]}function Me(xe){return 1+~~(xe.getMonth()/3)}function be(xe){return s[xe.getUTCDay()]}function ut(xe){return a[xe.getUTCDay()]}function Pe(xe){return u[xe.getUTCMonth()]}function Mt(xe){return l[xe.getUTCMonth()]}function Vt(xe){return o[+(xe.getUTCHours()>=12)]}function nn(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var qe=j(xe+="",T);return qe.toString=function(){return xe},qe},parse:function(xe){var qe=B(xe+="",!1);return qe.toString=function(){return xe},qe},utcFormat:function(xe){var qe=j(xe+="",N);return qe.toString=function(){return xe},qe},utcParse:function(xe){var qe=B(xe+="",!0);return qe.toString=function(){return xe},qe}}}var Gee={"-":"",_:" ",0:"0"},la=/^\s*\d+/,rxe=/^%/,ixe=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,r){var i=e<0?"-":"",o=(i?-e:e)+"",a=o.length;return i+(a<r?new Array(r-a+1).join(t)+o:o)}function oxe(e){return e.replace(ixe,"\\$&")}function Z4(e){return new RegExp("^(?:"+e.map(oxe).join("|")+")","i")}function J4(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function axe(e,t,r){var i=la.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function sxe(e,t,r){var i=la.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function lxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function uxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function cxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function jee(e,t,r){var i=la.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function Wee(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function fxe(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function dxe(e,t,r){var i=la.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function pxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function Yee(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function hxe(e,t,r){var i=la.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function Xee(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function mxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function gxe(e,t,r){var i=la.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function vxe(e,t,r){var i=la.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function yxe(e,t,r){var i=la.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function bxe(e,t,r){var i=rxe.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function xxe(e,t,r){var i=la.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function wxe(e,t,r){var i=la.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function Kee(e,t){return Wr(e.getDate(),t,2)}function _xe(e,t){return Wr(e.getHours(),t,2)}function Sxe(e,t){return Wr(e.getHours()%12||12,t,2)}function Cxe(e,t){return Wr(1+ac.count(ka(e),e),t,3)}function tte(e,t){return Wr(e.getMilliseconds(),t,3)}function Exe(e,t){return tte(e,t)+"000"}function Dxe(e,t){return Wr(e.getMonth()+1,t,2)}function Axe(e,t){return Wr(e.getMinutes(),t,2)}function Mxe(e,t){return Wr(e.getSeconds(),t,2)}function Txe(e){var t=e.getDay();return t===0?7:t}function Rxe(e,t){return Wr(sc.count(ka(e)-1,e),t,2)}function nte(e){var t=e.getDay();return t>=4||t===0?sl(e):sl.ceil(e)}function kxe(e,t){return e=nte(e),Wr(sl.count(ka(e),e)+(ka(e).getDay()===4),t,2)}function Oxe(e){return e.getDay()}function Nxe(e,t){return Wr(Mf.count(ka(e)-1,e),t,2)}function Ixe(e,t){return Wr(e.getFullYear()%100,t,2)}function Fxe(e,t){return e=nte(e),Wr(e.getFullYear()%100,t,2)}function Pxe(e,t){return Wr(e.getFullYear()%1e4,t,4)}function Lxe(e,t){var r=e.getDay();return e=r>=4||r===0?sl(e):sl.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function Bxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function Qee(e,t){return Wr(e.getUTCDate(),t,2)}function $xe(e,t){return Wr(e.getUTCHours(),t,2)}function Uxe(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function zxe(e,t){return Wr(1+lc.count(Oa(e),e),t,3)}function rte(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function Vxe(e,t){return rte(e,t)+"000"}function qxe(e,t){return Wr(e.getUTCMonth()+1,t,2)}function Hxe(e,t){return Wr(e.getUTCMinutes(),t,2)}function Gxe(e,t){return Wr(e.getUTCSeconds(),t,2)}function jxe(e){var t=e.getUTCDay();return t===0?7:t}function Wxe(e,t){return Wr(uc.count(Oa(e)-1,e),t,2)}function ite(e){var t=e.getUTCDay();return t>=4||t===0?ll(e):ll.ceil(e)}function Yxe(e,t){return e=ite(e),Wr(ll.count(Oa(e),e)+(Oa(e).getUTCDay()===4),t,2)}function Xxe(e){return e.getUTCDay()}function Kxe(e,t){return Wr(Tf.count(Oa(e)-1,e),t,2)}function Qxe(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function Zxe(e,t){return e=ite(e),Wr(e.getUTCFullYear()%100,t,2)}function Jxe(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function ewe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ll(e):ll.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function twe(){return"+0000"}function Zee(){return"%"}function Jee(e){return+e}function ete(e){return Math.floor(+e/1e3)}var i2,Ew,Dw,Aw,Mw;pN({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pN(e){return i2=r2(e),Ew=i2.format,Dw=i2.parse,Aw=i2.utcFormat,Mw=i2.utcParse,i2}function e8(e){let t={};return r=>t[r]||(t[r]=e(r))}function nwe(e,t){return r=>{let i=e(r),o=i.indexOf(t);if(o<0)return i;let a=rwe(i,o),s=a<i.length?i.slice(a):"";for(;--a>o;)if(i[a]!=="0"){++a;break}return i.slice(0,a)+s}}function rwe(e,t){let r=e.lastIndexOf("e"),i;if(r>0)return r;for(r=e.length;--r>t;)if(i=e.charCodeAt(r),i>=48&&i<=57)return r+1}function ate(e){let t=e8(e.format),r=e.formatPrefix;return{format:t,formatPrefix:r,formatFloat(i){let o=Jd(i||",");if(o.precision==null){switch(o.precision=12,o.type){case"%":o.precision-=2;break;case"e":o.precision-=1;break}return nwe(t(o),t(".1f")(1)[1])}else return t(o)},formatSpan(i,o,a,s){s=Jd(s??",f");let l=RO(i,o,a),u=Math.max(Math.abs(i),Math.abs(o)),c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=LO(l,u))||(s.precision=c),r(s,u);case"":case"e":case"g":case"p":case"r":{isNaN(c=BO(l,u))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=PO(l))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}var hN;ste();function ste(){return hN=ate({format:hw,formatPrefix:mw})}function lte(e){return ate(B4(e))}function t8(e){return arguments.length?hN=lte(e):hN}function ote(e,t,r){r=r||{},yt(r)||Ke(`Invalid time multi-format specifier: ${r}`);let i=t(Wl),o=t(dl),a=t(fl),s=t(Us),l=t(Do),u=t(Ia),c=t($s),f=t(sa),d=e(r[bu]||".%L"),p=e(r[Wl]||":%S"),m=e(r[dl]||"%I:%M"),g=e(r[fl]||"%I %p"),v=e(r[Us]||r[Na]||"%a %d"),b=e(r[Do]||"%b %d"),_=e(r[Ia]||"%B"),D=e(r[$s]||"%B"),T=e(r[sa]||"%Y");return N=>(i(N)<N?d:o(N)<N?p:a(N)<N?m:s(N)<N?g:u(N)<N?l(N)<N?v:b:f(N)<N?c(N)<N?_:D:T)(N)}function ute(e){let t=e8(e.format),r=e8(e.utcFormat);return{timeFormat:i=>ht(i)?t(i):ote(t,t0,i),utcFormat:i=>ht(i)?r(i):ote(r,n0,i),timeParse:e8(e.parse),utcParse:e8(e.utcParse)}}var mN;cte();function cte(){return mN=ute({format:Ew,parse:Dw,utcFormat:Aw,utcParse:Mw})}function fte(e){return ute(r2(e))}function C1(e){return arguments.length?mN=fte(e):mN}var gN=(e,t)=>Dn({},e,t);function Tw(e,t){let r=e?lte(e):t8(),i=t?fte(t):C1();return gN(r,i)}function n8(e,t){let r=arguments.length;return r&&r!==2&&Ke("defaultLocale expects either zero or two arguments."),r?gN(t8(e),C1(t)):gN(t8(),C1())}function dte(){return ste(),cte(),n8()}var iwe=/^(data:|([A-Za-z]+:)?\/\/)/,owe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,awe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pte="file://";function swe(e,t){return r=>({options:r||{},sanitize:uwe,load:lwe,fileAccess:!1,file:cwe(t),http:dwe(e)})}function lwe(e,t){return Oi(this,null,function*(){let r=yield this.sanitize(e,t),i=r.href;return r.localFile?this.file(i):this.http(i,t)})}function uwe(e,t){return Oi(this,null,function*(){t=Dn({},this.options,t);let r=this.fileAccess,i={href:null},o,a,s,l=owe.test(e.replace(awe,""));(e==null||typeof e!="string"||!l)&&Ke("Sanitize failure, invalid URI: "+gt(e));let u=iwe.test(e);return(s=t.baseURL)&&!u&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),a=(o=e.startsWith(pte))||t.mode==="file"||t.mode!=="http"&&!u&&r,o?e=e.slice(pte.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,t.target&&(i.target=t.target+""),t.rel&&(i.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(i.crossOrigin=t.crossOrigin+""),i})}function cwe(e){return e?t=>new Promise((r,i)=>{e.readFile(t,(o,a)=>{o?i(o):r(a)})}):fwe}function fwe(){return Oi(this,null,function*(){Ke("No file system access.")})}function dwe(e){return e?function(t,r){return Oi(this,null,function*(){let i=Dn({},this.options.http,r),o=r&&r.response,a=yield e(t,i);return a.ok?En(a[o])?a[o]():a.text():Ke(a.status+""+a.statusText)})}:pwe}function pwe(){return Oi(this,null,function*(){Ke("No HTTP fetch method available.")})}var hwe=e=>e!=null&&e===e,mwe=e=>e==="true"||e==="false"||e===!0||e===!1,gwe=e=>!Number.isNaN(Date.parse(e)),mte=e=>!Number.isNaN(+e)&&!(e instanceof Date),vwe=e=>mte(e)&&Number.isInteger(+e),vN={boolean:I4,integer:mo,number:mo,date:F4,string:P4,unknown:to},Rw=[mwe,vwe,mte,gwe],ywe=["boolean","integer","number","date"];function gte(e,t){if(!e||!e.length)return"unknown";let r=e.length,i=Rw.length,o=Rw.map((a,s)=>s+1);for(let a=0,s=0,l,u;a<r;++a)for(u=t?e[a][t]:e[a],l=0;l<i;++l)if(o[l]&&hwe(u)&&!Rw[l](u)&&(o[l]=0,++s,s===Rw.length))return"string";return ywe[o.reduce((a,s)=>a===0?s:a,0)-1]}function vte(e,t){return t.reduce((r,i)=>(r[i]=gte(e,i),r),{})}function hte(e){let t=function(r,i){let o={delimiter:e};return yN(r,i?Dn(i,o):o)};return t.responseType="text",t}function yN(e,t){return t.header&&(e=t.header.map(gt).join(t.delimiter)+`
`+e),MO(t.delimiter).parse(e+"")}yN.responseType="text";function bwe(e){return typeof Buffer=="function"&&En(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function bN(e,t){let r=t&&t.property?aa(t.property):to;return yt(e)&&!bwe(e)?xwe(r(e),t):r(JSON.parse(e))}bN.responseType="json";function xwe(e,t){return!Le(e)&&bO(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}var wwe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function yte(e,t){let r,i,o,a;return e=bN(e,t),t&&t.feature?(r=b4,o=t.feature):t&&t.mesh?(r=nO,o=t.mesh,a=wwe[t.filter]):Ke("Missing TopoJSON feature or mesh parameter."),i=(i=e.objects[o])?r(e,i,a):Ke("Invalid TopoJSON object: "+o),i&&i.features||[i]}yte.responseType="json";var kw={dsv:yN,csv:hte(","),tsv:hte("	"),json:bN,topojson:yte};function xN(e,t){return arguments.length>1?(kw[e]=t,this):Dt(kw,e)?kw[e]:null}function wN(e){let t=xN(e);return t&&t.responseType||"text"}function _N(e,t,r,i){t=t||{};let o=xN(t.type||"json");return o||Ke("Unknown data format type: "+t.type),e=o(e,t),t.parse&&_we(e,t.parse,r,i),Dt(e,"columns")&&delete e.columns,e}function _we(e,t,r,i){if(!e.length)return;let o=C1();r=r||o.timeParse,i=i||o.utcParse;let a=e.columns||Object.keys(e[0]),s,l,u,c,f,d;t==="auto"&&(t=vte(e,a)),a=Object.keys(t);let p=a.map(m=>{let g=t[m],v,b;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return v=g.split(/:(.+)?/,2),b=v[1],(b[0]==="'"&&b[b.length-1]==="'"||b[0]==='"'&&b[b.length-1]==='"')&&(b=b.slice(1,-1)),(v[0]==="utc"?i:r)(b);if(!vN[g])throw Error("Illegal format pattern: "+m+":"+g);return vN[g]});for(u=0,f=e.length,d=a.length;u<f;++u)for(s=e[u],c=0;c<d;++c)l=a[c],s[l]=p[c](s[l])}var o2=swe(typeof fetch<"u"&&fetch,null);function Fw(e){let t=e||to,r=[],i={};return r.add=o=>{let a=t(o);return i[a]||(i[a]=1,r.push(o)),r},r.remove=o=>{let a=t(o);if(i[a]){i[a]=0;let s=r.indexOf(o);s>=0&&r.splice(s,1)}return r},r}function o8(e,t){return Oi(this,null,function*(){try{yield t(e)}catch(r){e.error(r)}})}var Ete=Symbol("vega_id"),Swe=1;function E1(e){return!!(e&&pn(e))}function pn(e){return e[Ete]}function Dte(e,t){return e[Ete]=t,e}function xr(e){let t=e===Object(e)?e:{data:e};return pn(t)?t:Dte(t,Swe++)}function Pw(e){return D1(e,xr({}))}function D1(e,t){for(let r in e)t[r]=e[r];return t}function Lw(e,t){return Dte(t,pn(e))}function Pf(e,t){return e?t?(r,i)=>e(r,i)||pn(t(r))-pn(t(i)):(r,i)=>e(r,i)||pn(r)-pn(i):null}function CN(e){return e&&e.constructor===a0}function a0(){let e=[],t=[],r=[],i=[],o=[],a=null,s=!1;return{constructor:a0,insert(l){let u=_t(l),c=u.length;for(let f=0;f<c;++f)e.push(u[f]);return this},remove(l){let u=En(l)?i:t,c=_t(l),f=c.length;for(let d=0;d<f;++d)u.push(c[d]);return this},modify(l,u,c){let f={field:u,value:Li(c)};return En(l)?(f.filter=l,o.push(f)):(f.tuple=l,r.push(f)),this},encode(l,u){return En(l)?o.push({filter:l,field:u}):r.push({tuple:l,field:u}),this},clean(l){return a=l,this},reflow(){return s=!0,this},pulse(l,u){let c={},f={},d,p,m,g,v,b;for(d=0,p=u.length;d<p;++d)c[pn(u[d])]=1;for(d=0,p=t.length;d<p;++d)v=t[d],c[pn(v)]=-1;for(d=0,p=i.length;d<p;++d)g=i[d],u.forEach(D=>{g(D)&&(c[pn(D)]=-1)});for(d=0,p=e.length;d<p;++d)v=e[d],b=pn(v),c[b]?c[b]=1:l.add.push(xr(e[d]));for(d=0,p=u.length;d<p;++d)v=u[d],c[pn(v)]<0&&l.rem.push(v);function _(D,T,N){N?D[T]=N(D):l.encode=T,s||(f[pn(D)]=D)}for(d=0,p=r.length;d<p;++d)m=r[d],v=m.tuple,g=m.field,b=c[pn(v)],b>0&&(_(v,g,m.value),l.modifies(g));for(d=0,p=o.length;d<p;++d)m=o[d],g=m.filter,u.forEach(D=>{g(D)&&c[pn(D)]>0&&_(D,m.field,m.value)}),l.modifies(m.field);if(s)l.mod=t.length||i.length?u.filter(D=>c[pn(D)]>0):u.slice();else for(b in f)l.mod.push(f[b]);return(a||a==null&&(t.length||i.length))&&l.clean(!0),l}}}var Nw="_:mod:_";function a8(){Object.defineProperty(this,Nw,{writable:!0,value:{}})}a8.prototype={set(e,t,r,i){let o=this,a=o[e],s=o[Nw];return t!=null&&t>=0?(a[t]!==r||i)&&(a[t]=r,s[t+":"+e]=-1,s[e]=-1):(a!==r||i)&&(o[e]=r,s[e]=Le(r)?1+r.length:-1),o},modified(e,t){let r=this[Nw];if(arguments.length){if(Le(e)){for(let i=0;i<e.length;++i)if(r[e[i]])return!0;return!1}}else{for(let i in r)if(r[i])return!0;return!1}return t!=null&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},clear(){return this[Nw]={},this}};var Cwe=0,Ewe="pulse",Dwe=new a8,Awe=1,Mwe=2;function li(e,t,r,i){this.id=++Cwe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),r&&this.parameters(r,i)}function bte(e){return function(t){let r=this.flags;return arguments.length===0?!!(r&e):(this.flags=t?r|e:r&~e,this)}}li.prototype={targets(){return this._targets||(this._targets=Fw(Qg))},set(e){return this.value!==e?(this.value=e,1):0},skip:bte(Awe),modified:bte(Mwe),parameters(e,t,r){t=t!==!1;let i=this._argval=this._argval||new a8,o=this._argops=this._argops||[],a=[],s,l,u,c,f=(d,p,m)=>{m instanceof li?(m!==this&&(t&&m.targets().add(this),a.push(m)),o.push({op:m,name:d,index:p})):i.set(d,p,m)};for(s in e)if(l=e[s],s===Ewe)_t(l).forEach(d=>{d instanceof li?d!==this&&(d.targets().add(this),a.push(d)):Ke("Pulse parameters must be operator instances.")}),this.source=l;else if(Le(l))for(i.set(s,-1,Array(u=l.length)),c=0;c<u;++c)f(s,c,l[c]);else f(s,-1,l);return this.marshall().clear(),r&&(o.initonly=!0),a},marshall(e){let t=this._argval||Dwe,r=this._argops,i,o,a,s;if(r){let l=r.length;for(o=0;o<l;++o)i=r[o],a=i.op,s=a.modified()&&a.stamp===e,t.set(i.name,i.index,a.value,s);if(r.initonly){for(o=0;o<l;++o)i=r[o],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){let e=this._argops,t,r,i,o;if(e)for(t=0,r=e.length;t<r;++t)i=e[t],o=i.op,o._targets&&o._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){let t=this._update;if(t){let r=this.marshall(e.stamp),i=t.call(this,r,e);if(r.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Twe(e,t,r,i){let o=1,a;return e instanceof li?a=e:e&&e.prototype instanceof li?a=new e:En(e)?a=new li(null,e):(o=0,a=new li(e,t)),this.rank(a),o&&(i=r,r=t),r&&this.connect(a,a.parameters(r,i)),this.touch(a),a}function Rwe(e,t){let r=e.rank,i=t.length;for(let o=0;o<i;++o)if(r<t[o].rank){this.rerank(e);return}}var kwe=0;function s2(e,t,r){this.id=++kwe,this.value=null,r&&(this.receive=r),e&&(this._filter=e),t&&(this._apply=t)}function Ap(e,t,r){return new s2(e,t,r)}s2.prototype={_filter:qo,_apply:to,targets(){return this._targets||(this._targets=Fw(Qg))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){let t=this.value=this._apply(e),r=this._targets,i=r?r.length:0;for(let o=0;o<i;++o)r[o].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){let t=Ap(e);return this.targets().add(t),t},apply(e){let t=Ap(null,e);return this.targets().add(t),t},merge(){let e=Ap();this.targets().add(e);for(let t=0,r=arguments.length;t<r;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{let r=Date.now();return r-t>e?(t=r,1):0})},debounce(e){let t=Ap();return this.targets().add(Ap(null,null,O4(e,r=>{let i=r.dataflow;t.receive(r),i&&i.run&&i.run()}))),t},between(e,t){let r=!1;return e.targets().add(Ap(null,null,()=>r=!0)),t.targets().add(Ap(null,null,()=>r=!1)),this.filter(()=>r)},detach(){this._filter=qo,this._targets=null}};function Owe(e,t,r,i){let o=this,a=Ap(r,i),s=function(c){c.dataflow=o;try{a.receive(c)}catch(f){o.error(f)}finally{o.run()}},l;typeof e=="string"&&typeof document<"u"?l=document.querySelectorAll(e):l=_t(e);let u=l.length;for(let c=0;c<u;++c)l[c].addEventListener(t,s);return a}function Nwe(e,t){let r=this.locale();return _N(e,t,r.timeParse,r.utcParse)}function Iwe(e,t,r){return t=this.parse(t,r),this.pulse(e,this.changeset().insert(t))}function Fwe(e,t){return Oi(this,null,function*(){let r=this,i=0,o;try{o=yield r.loader().load(e,{context:"dataflow",response:wN(t&&t.type)});try{o=r.parse(o,t)}catch(a){i=-2,r.warn("Data ingestion failed",e,a)}}catch(a){i=-1,r.warn("Loading failed",e,a)}return{data:o,status:i}})}function Pwe(e,t,r){return Oi(this,null,function*(){let i=this,o=i._pending||Lwe(i);o.requests+=1;let a=yield i.request(t,r);return i.pulse(e,i.changeset().remove(qo).insert(a.data||[])),o.done(),a})}function Lwe(e){let t,r=new Promise(i=>t=i);return r.requests=0,r.done=()=>{--r.requests===0&&(e._pending=null,t(e))},e._pending=r}var Bwe={skip:!0};function $we(e,t,r,i,o){return(e instanceof li?zwe:Uwe)(this,e,t,r,i,o),this}function Uwe(e,t,r,i,o,a){let s=Dn({},a,Bwe),l,u;En(r)||(r=Li(r)),i===void 0?l=c=>e.touch(r(c)):En(i)?(u=new li(null,i,o,!1),l=c=>{u.evaluate(c);let f=r(c),d=u.value;CN(d)?e.pulse(f,d,a):e.update(f,d,s)}):l=c=>e.update(r(c),i,s),t.apply(l)}function zwe(e,t,r,i,o,a){if(i===void 0)t.targets().add(r);else{let s=a||{},l=new li(null,Vwe(r,i),o,!1);l.modified(s.force),l.rank=t.rank,t.targets().add(l),r&&(l.skip(!0),l.value=r.value,l.targets().add(r),e.connect(r,[l]))}}function Vwe(e,t){return t=En(t)?t:Li(t),e?function(r,i){let o=t(r,i);return e.skip()||(e.skip(o!==this.value).value=o),o}:t}function qwe(e){e.rank=++this._rank}function Hwe(e){let t=[e],r,i,o;for(;t.length;)if(this.rank(r=t.pop()),i=r._targets)for(o=i.length;--o>=0;)t.push(r=i[o]),r===e&&Ke("Cycle detected in dataflow graph.")}var Iw={},Ff=1,Mp=2,r0=4,Gwe=Ff|Mp,xte=Ff|r0,a2=Ff|Mp|r0,wte=8,r8=16,_te=32,Ste=64;function i0(e,t,r){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=r||null}function SN(e,t){let r=[];return Zd(e,t,i=>r.push(i)),r}function Cte(e,t){let r={};return e.visit(t,i=>{r[pn(i)]=1}),i=>r[pn(i)]?null:i}function Ow(e,t){return e?(r,i)=>e(r,i)&&t(r,i):t}i0.prototype={StopPropagation:Iw,ADD:Ff,REM:Mp,MOD:r0,ADD_REM:Gwe,ADD_MOD:xte,ALL:a2,REFLOW:wte,SOURCE:r8,NO_SOURCE:_te,NO_FIELDS:Ste,fork(e){return new i0(this.dataflow).init(this,e)},clone(){let e=this.fork(a2);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(a2|r8)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new i0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){let r=this;return r.stamp=e.stamp,r.encode=e.encode,e.fields&&!(t&Ste)&&(r.fields=e.fields),t&Ff?(r.addF=e.addF,r.add=e.add):(r.addF=null,r.add=[]),t&Mp?(r.remF=e.remF,r.rem=e.rem):(r.remF=null,r.rem=[]),t&r0?(r.modF=e.modF,r.mod=e.mod):(r.modF=null,r.mod=[]),t&_te?(r.srcF=null,r.source=null):(r.srcF=e.srcF,r.source=e.source,e.cleans&&(r.cleans=e.cleans)),r},runAfter(e){this.dataflow.runAfter(e)},changed(e){let t=e||a2;return t&Ff&&this.add.length||t&Mp&&this.rem.length||t&r0&&this.mod.length},reflow(e){if(e)return this.fork(a2).reflow();let t=this.add.length,r=this.source&&this.source.length;return r&&r!==t&&(this.mod=this.source,t&&this.filter(r0,Cte(this,Ff))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){let t=this.fields||(this.fields={});return Le(e)?e.forEach(r=>t[r]=!0):t[e]=!0,this},modified(e,t){let r=this.fields;return(t||this.mod.length)&&r?arguments.length?Le(e)?e.some(i=>r[i]):r[e]:!!r:!1},filter(e,t){let r=this;return e&Ff&&(r.addF=Ow(r.addF,t)),e&Mp&&(r.remF=Ow(r.remF,t)),e&r0&&(r.modF=Ow(r.modF,t)),e&r8&&(r.srcF=Ow(r.srcF,t)),r},materialize(e){e=e||a2;let t=this;return e&Ff&&t.addF&&(t.add=SN(t.add,t.addF),t.addF=null),e&Mp&&t.remF&&(t.rem=SN(t.rem,t.remF),t.remF=null),e&r0&&t.modF&&(t.mod=SN(t.mod,t.modF),t.modF=null),e&r8&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){let r=this,i=t;if(e&r8)return Zd(r.source,r.srcF,i),r;e&Ff&&Zd(r.add,r.addF,i),e&Mp&&Zd(r.rem,r.remF,i),e&r0&&Zd(r.mod,r.modF,i);let o=r.source;if(e&wte&&o){let a=r.add.length+r.mod.length;a===o.length||(a?Zd(o,Cte(r,xte),i):Zd(o,r.srcF,i))}return r}};function Bw(e,t,r,i){let o=this,a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=r;for(let s of r)if(s.stamp===t){if(s.fields){let l=o.fields||(o.fields={});for(let u in s.fields)l[u]=1}s.changed(o.ADD)&&(a|=o.ADD),s.changed(o.REM)&&(a|=o.REM),s.changed(o.MOD)&&(a|=o.MOD)}this.changes=a}Et(Bw,i0,{fork(e){let t=new i0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,r=>t.add.push(r)),e&t.REM&&this.visit(t.REM,r=>t.rem.push(r)),e&t.MOD&&this.visit(t.MOD,r=>t.mod.push(r))),t},changed(e){return this.changes&e},modified(e){let t=this,r=t.fields;return r&&t.changes&t.MOD?Le(e)?e.some(i=>r[i]):r[e]:0},filter(){Ke("MultiPulse does not support filtering.")},materialize(){Ke("MultiPulse does not support materialization.")},visit(e,t){let r=this,i=r.pulses,o=i.length,a=0;if(e&r.SOURCE)for(;a<o;++a)i[a].visit(e,t);else for(;a<o;++a)i[a].stamp===r.stamp&&i[a].visit(e,t);return r}});function jwe(e,t,r){return Oi(this,null,function*(){let i=this,o=[];if(i._pulse)return Ate(i);if(i._pending&&(yield i._pending),t&&(yield o8(i,t)),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;let a=++i._clock;i._pulse=new i0(i,a,e),i._touched.forEach(f=>i._enqueue(f,!0)),i._touched=Fw(Qg);let s=0,l,u,c;try{for(;i._heap.size()>0;){if(l=i._heap.pop(),l.rank!==l.qrank){i._enqueue(l,!0);continue}u=l.run(i._getPulse(l,e)),u.then?u=yield u:u.async&&(o.push(u.async),u=Iw),u!==Iw&&l._targets&&l._targets.forEach(f=>i._enqueue(f)),++s}}catch(f){i._heap.clear(),c=f}if(i._input={},i._pulse=null,i.debug(`Pulse ${a}: ${s} operators`),c&&(i._postrun=[],i.error(c)),i._postrun.length){let f=i._postrun.sort((d,p)=>p.priority-d.priority);i._postrun=[];for(let d=0;d<f.length;++d)yield o8(i,f[d].callback)}return r&&(yield o8(i,r)),o.length&&Promise.all(o).then(f=>i.runAsync(null,()=>{f.forEach(d=>{try{d(i)}catch(p){i.error(p)}})})),i})}function Wwe(e,t,r){return Oi(this,null,function*(){for(;this._running;)yield this._running;let i=()=>this._running=null;return(this._running=this.evaluate(e,t,r)).then(i,i),this._running})}function Ywe(e,t,r){return this._pulse?Ate(this):(this.evaluate(e,t,r),this)}function Xwe(e,t,r){if(this._pulse||t)this._postrun.push({priority:r||0,callback:e});else try{e(this)}catch(i){this.error(i)}}function Ate(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Kwe(e,t){let r=e.stamp<this._clock;r&&(e.stamp=this._clock),(r||t)&&(e.qrank=e.rank,this._heap.push(e))}function Qwe(e,t){let r=e.source,i=this._clock;return r&&Le(r)?new Bw(this,i,r.map(o=>o.pulse),t):this._input[e.id]||Zwe(this._pulse,r&&r.pulse)}function Zwe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==Iw&&(e.source=t.source),e)}var EN={skip:!1,force:!1};function Jwe(e,t){let r=t||EN;return this._pulse?this._enqueue(e):this._touched.add(e),r.skip&&e.skip(!0),this}function e_e(e,t,r){let i=r||EN;return(e.set(t)||i.force)&&this.touch(e,i),this}function t_e(e,t,r){this.touch(e,r||EN);let i=new i0(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,o),this}function n_e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:r=>(t.push(r),Mte(t,0,t.length-1,e)),pop:()=>{let r=t.pop(),i;return t.length?(i=t[0],t[0]=r,r_e(t,0,e)):i=r,i}}}function Mte(e,t,r,i){let o,a,s=e[r];for(;r>t;){if(a=r-1>>1,o=e[a],i(s,o)<0){e[r]=o,r=a;continue}break}return e[r]=s}function r_e(e,t,r){let i=t,o=e.length,a=e[t],s=(t<<1)+1,l;for(;s<o;)l=s+1,l<o&&r(e[s],e[l])>=0&&(s=l),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=a,Mte(e,i,t,r)}function Tp(){this.logger(A4()),this.logLevel(D4),this._clock=0,this._rank=0,this._locale=n8();try{this._loader=o2()}catch{}this._touched=Fw(Qg),this._input={},this._pulse=null,this._heap=n_e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function i8(e){return function(){return this._log[e].apply(this,arguments)}}Tp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:i8("error"),warn:i8("warn"),info:i8("info"),debug:i8("debug"),logLevel:i8("level"),cleanThreshold:1e4,add:Twe,connect:Rwe,rank:qwe,rerank:Hwe,pulse:t_e,touch:Jwe,update:e_e,changeset:a0,ingest:Iwe,parse:Nwe,preload:Pwe,request:Fwe,events:Owe,on:$we,evaluate:jwe,run:Ywe,runAsync:Wwe,runAfter:Xwe,_enqueue:Kwe,_getPulse:Qwe};function Ye(e,t){li.call(this,e,null,t)}Et(Ye,li,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(r=>this.pulse=r):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){let t=this.marshall(e.stamp),r=this.transform(t,e);return t.clear(),r},transform(){}});var o0={};function $w(e){let t=DN(e);return t&&t.Definition||null}function DN(e){return e=e&&e.toLowerCase(),Dt(o0,e)?o0[e]:null}var bI={};Ka(bI,{aggregate:()=>Op,bin:()=>XN,collect:()=>KN,compare:()=>Hte,countpattern:()=>QN,cross:()=>ZN,density:()=>JN,dotbin:()=>tI,expression:()=>Xte,extent:()=>nI,facet:()=>h_,field:()=>Kte,filter:()=>iI,flatten:()=>oI,fold:()=>aI,formula:()=>sI,generate:()=>Qte,impute:()=>lI,joinaggregate:()=>uI,kde:()=>cI,key:()=>Zte,load:()=>Jte,lookup:()=>fI,multiextent:()=>ene,multivalues:()=>tne,params:()=>nne,pivot:()=>dI,prefacet:()=>rne,project:()=>pI,proxy:()=>ine,quantile:()=>hI,relay:()=>one,sample:()=>mI,sequence:()=>gI,sieve:()=>ane,subflow:()=>rI,timeunit:()=>vI,tupleindex:()=>lne,values:()=>une,window:()=>yI});function Rp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AN(e){return e===null?NaN:+e}function*Tte(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&(yield i)}}function MN(e,t){let r=0,i,o=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(i=s-o,o+=i/++r,a+=i*(s-o));else{let s=-1;for(let l of e)(l=t(l,++s,e))!=null&&(l=+l)>=l&&(i=l-o,o+=i/++r,a+=i*(l-o))}if(r>1)return a/(r-1)}function Uw(e,t){let r=MN(e,t);return r&&Math.sqrt(r)}function Rte(e=Rp){if(e===Rp)return TN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let i=e(t,r);return i||i===0?i:(e(r,r)===0)-(e(t,t)===0)}}function TN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function zw(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function Vw(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function qw(e,t,r=0,i=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(e.length-1,i)),!(r<=t&&t<=i))return e;for(o=o===void 0?TN:Rte(o);i>r;){if(i-r>600){let u=i-r+1,c=t-r+1,f=Math.log(u),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(t-c*d/u+p)),g=Math.min(i,Math.floor(t+(u-c)*d/u+p));qw(e,t,m,g,o)}let a=e[t],s=r,l=i;for(s8(e,r,t),o(e[i],a)>0&&s8(e,r,i);s<l;){for(s8(e,s,l),++s,--l;o(e[s],a)<0;)++s;for(;o(e[l],a)>0;)--l}o(e[r],a)===0?s8(e,r,l):(++l,s8(e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}return e}function s8(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function A1(e,t,r){if(e=Float64Array.from(Tte(e,r)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Vw(e);if(t>=1)return zw(e);var i,o=(i-1)*t,a=Math.floor(o),s=zw(qw(e,a).subarray(0,a+1)),l=Vw(e.subarray(a+1));return s+(l-s)*(o-a)}}function RN(e,t,r=AN){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(o-a)}}function Hw(e,t){return A1(e,.5,t)}function*Nte(e,t){if(t==null)for(let r of e)r!=null&&r!==""&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)i=t(i,++r,e),i!=null&&i!==""&&(i=+i)>=i&&(yield i)}}function Gw(e,t,r){let i=Float64Array.from(Nte(e,r));return i.sort(Rp),t.map(o=>RN(i,o))}function jw(e,t){return Gw(e,[.25,.5,.75],t)}function Ww(e,t){let r=e.length,i=Uw(e,t),o=jw(e,t),a=(o[2]-o[0])/1.34;return 1.06*(Math.min(i,a)||i||Math.abs(o[0])||1)*Math.pow(r,-.2)}function kN(e){let t=e.maxbins||20,r=e.base||10,i=Math.log(r),o=e.divide||[5,2],a=e.extent[0],s=e.extent[1],l,u,c,f,d,p,m=e.span||s-a||Math.abs(a)||1;if(e.step)l=e.step;else if(e.steps){for(f=m/t,d=0,p=e.steps.length;d<p&&e.steps[d]<f;++d);l=e.steps[Math.max(0,d-1)]}else{for(u=Math.ceil(Math.log(t)/i),c=e.minstep||0,l=Math.max(c,Math.pow(r,Math.round(Math.log(m)/i)-u));Math.ceil(m/l)>t;)l*=r;for(d=0,p=o.length;d<p;++d)f=l/o[d],f>=c&&m/f<=t&&(l=f)}f=Math.log(l);let g=f>=0?0:~~(-f/i)+1,v=Math.pow(r,-g-1);return(e.nice||e.nice===void 0)&&(f=Math.floor(a/l+v)*l,a=a<f?f-l:f,s=Math.ceil(s/l)*l),{start:a,stop:s===a?a+l:s,step:l}}var zs=Math.random;function o_e(e){zs=e}function ON(e,t,r,i){if(!e.length)return[void 0,void 0];let o=Float64Array.from(Nte(e,i)),a=o.length,s=t,l,u,c,f;for(c=0,f=Array(s);c<s;++c){for(l=0,u=0;u<a;++u)l+=o[~~(zs()*a)];f[c]=l/a}return f.sort(Rp),[A1(f,r/2),A1(f,1-r/2)]}function NN(e,t,r,i){i=i||(p=>p);let o=e.length,a=new Float64Array(o),s=0,l=1,u=i(e[0]),c=u,f=u+t,d;for(;l<o;++l){if(d=i(e[l]),d>=f){for(c=(u+c)/2;s<l;++s)a[s]=c;f=d+t,u=d}c=d}for(c=(u+c)/2;s<l;++s)a[s]=c;return r?a_e(a,t+t/4):a}function a_e(e,t){let r=e.length,i=0,o=1,a,s;for(;e[i]===e[o];)++o;for(;o<r;){for(a=o+1;e[o]===e[a];)++a;if(e[o]-e[o-1]<t){for(s=o+(i+a-o-o>>1);s<o;)e[s++]=e[o];for(;s>o;)e[s--]=e[i]}i=o,o=a}return e}function s_e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function l_e(e,t){t==null&&(t=e,e=0);let r,i,o,a={min(s){return arguments.length?(r=s||0,o=i-r,a):r},max(s){return arguments.length?(i=s||0,o=i-r,a):i},sample(){return r+Math.floor(o*zs())},pdf(s){return s===Math.floor(s)&&s>=r&&s<i?1/o:0},cdf(s){let l=Math.floor(s);return l<r?0:l>=i?1:(l-r+1)/o},icdf(s){return s>=0&&s<=1?r-1+Math.floor(s*o):NaN}};return a.min(e).max(t)}var Ite=Math.sqrt(2*Math.PI),u_e=Math.SQRT2,l8=NaN;function u8(e,t){e=e||0,t=t??1;let r=0,i=0,o,a;if(l8===l8)r=l8,l8=NaN;else{do r=zs()*2-1,i=zs()*2-1,o=r*r+i*i;while(o===0||o>1);a=Math.sqrt(-2*Math.log(o)/o),r*=a,l8=i*a}return e+r*t}function Yw(e,t,r){r=r??1;let i=(e-(t||0))/r;return Math.exp(-.5*i*i)/(r*Ite)}function c8(e,t,r){t=t||0,r=r??1;let i=(e-t)/r,o=Math.abs(i),a;if(o>37)a=0;else{let s=Math.exp(-o*o/2),l;o<7.07106781186547?(l=.0352624965998911*o+.700383064443688,l=l*o+6.37396220353165,l=l*o+33.912866078383,l=l*o+112.079291497871,l=l*o+221.213596169931,l=l*o+220.206867912376,a=s*l,l=.0883883476483184*o+1.75566716318264,l=l*o+16.064177579207,l=l*o+86.7807322029461,l=l*o+296.564248779674,l=l*o+637.333633378831,l=l*o+793.826512519948,l=l*o+440.413735824752,a=a/l):(l=o+.65,l=o+4/l,l=o+3/l,l=o+2/l,l=o+1/l,a=s/l/2.506628274631)}return i>0?1-a:a}function f8(e,t,r){return e<0||e>1?NaN:(t||0)+(r??1)*u_e*c_e(2*e-1)}function c_e(e){let t=-Math.log((1-e)*(1+e)),r;return t<6.25?(t-=3.125,r=-364441206401782e-35,r=-16850591381820166e-35+r*t,r=128584807152564e-32+r*t,r=11157877678025181e-33+r*t,r=-1333171662854621e-31+r*t,r=20972767875968562e-33+r*t,r=6637638134358324e-30+r*t,r=-4054566272975207e-29+r*t,r=-8151934197605472e-29+r*t,r=26335093153082323e-28+r*t,r=-12975133253453532e-27+r*t,r=-5415412054294628e-26+r*t,r=10512122733215323e-25+r*t,r=-4112633980346984e-24+r*t,r=-29070369957882005e-24+r*t,r=42347877827932404e-23+r*t,r=-13654692000834679e-22+r*t,r=-13882523362786469e-21+r*t,r=.00018673420803405714+r*t,r=-.000740702534166267+r*t,r=-.006033670871430149+r*t,r=.24015818242558962+r*t,r=1.6536545626831027+r*t):t<16?(t=Math.sqrt(t)-3.25,r=22137376921775787e-25,r=9075656193888539e-23+r*t,r=-27517406297064545e-23+r*t,r=18239629214389228e-24+r*t,r=15027403968909828e-22+r*t,r=-4013867526981546e-21+r*t,r=29234449089955446e-22+r*t,r=12475304481671779e-21+r*t,r=-47318229009055734e-21+r*t,r=6828485145957318e-20+r*t,r=24031110387097894e-21+r*t,r=-.0003550375203628475+r*t,r=.0009532893797373805+r*t,r=-.0016882755560235047+r*t,r=.002491442096107851+r*t,r=-.003751208507569241+r*t,r=.005370914553590064+r*t,r=1.0052589676941592+r*t,r=3.0838856104922208+r*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,r=-27109920616438573e-27,r=-2555641816996525e-25+r*t,r=15076572693500548e-25+r*t,r=-3789465440126737e-24+r*t,r=761570120807834e-23+r*t,r=-1496002662714924e-23+r*t,r=2914795345090108e-23+r*t,r=-6771199775845234e-23+r*t,r=22900482228026655e-23+r*t,r=-99298272942317e-20+r*t,r=4526062597223154e-21+r*t,r=-1968177810553167e-20+r*t,r=7599527703001776e-20+r*t,r=-.00021503011930044477+r*t,r=-.00013871931833623122+r*t,r=1.0103004648645344+r*t,r=4.849906401408584+r*t):r=1/0,r*e}function Xw(e,t){let r,i,o={mean(a){return arguments.length?(r=a||0,o):r},stdev(a){return arguments.length?(i=a??1,o):i},sample:()=>u8(r,i),pdf:a=>Yw(a,r,i),cdf:a=>c8(a,r,i),icdf:a=>f8(a,r,i)};return o.mean(e).stdev(t)}function Kw(e,t){let r=Xw(),i=0,o={data(a){return arguments.length?(e=a,i=a?a.length:0,o.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=Ww(e)),o):t},sample(){return e[~~(zs()*i)]+t*r.sample()},pdf(a){let s=0,l=0;for(;l<i;++l)s+=r.pdf((a-e[l])/t);return s/t/i},cdf(a){let s=0,l=0;for(;l<i;++l)s+=r.cdf((a-e[l])/t);return s/i},icdf(){throw Error("KDE icdf not supported.")}};return o.data(e)}function Qw(e,t){return e=e||0,t=t??1,Math.exp(e+u8()*t)}function Zw(e,t,r){if(e<=0)return 0;t=t||0,r=r??1;let i=(Math.log(e)-t)/r;return Math.exp(-.5*i*i)/(r*Ite*e)}function Jw(e,t,r){return c8(Math.log(e),t,r)}function e_(e,t,r){return Math.exp(f8(e,t,r))}function IN(e,t){let r,i,o={mean(a){return arguments.length?(r=a||0,o):r},stdev(a){return arguments.length?(i=a??1,o):i},sample:()=>Qw(r,i),pdf:a=>Zw(a,r,i),cdf:a=>Jw(a,r,i),icdf:a=>e_(a,r,i)};return o.mean(e).stdev(t)}function FN(e,t){let r=0,i;function o(s){let l=[],u=0,c;for(c=0;c<r;++c)u+=l[c]=s[c]==null?1:+s[c];for(c=0;c<r;++c)l[c]/=u;return l}let a={weights(s){return arguments.length?(i=o(t=s||[]),a):t},distributions(s){return arguments.length?(s?(r=s.length,e=s):(r=0,e=[]),a.weights(t)):e},sample(){let s=zs(),l=e[r-1],u=i[0],c=0;for(;c<r-1;u+=i[++c])if(s<u){l=e[c];break}return l.sample()},pdf(s){let l=0,u=0;for(;u<r;++u)l+=i[u]*e[u].pdf(s);return l},cdf(s){let l=0,u=0;for(;u<r;++u)l+=i[u]*e[u].cdf(s);return l},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function t_(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*zs()}function n_(e,t,r){return r==null&&(r=t??1,t=0),e>=t&&e<=r?1/(r-t):0}function r_(e,t,r){return r==null&&(r=t??1,t=0),e<t?0:e>r?1:(e-t)/(r-t)}function i_(e,t,r){return r==null&&(r=t??1,t=0),e>=0&&e<=1?t+e*(r-t):NaN}function PN(e,t){let r,i,o={min(a){return arguments.length?(r=a||0,o):r},max(a){return arguments.length?(i=a??1,o):i},sample:()=>t_(r,i),pdf:a=>n_(a,r,i),cdf:a=>r_(a,r,i),icdf:a=>i_(a,r,i)};return t==null&&(t=e??1,e=0),o.min(e).max(t)}function o_(e,t,r){let i=0,o=0;for(let a of e){let s=r(a);t(a)==null||s==null||isNaN(s)||(i+=(s-i)/++o)}return{coef:[i],predict:()=>i,rSquared:0}}function d8(e,t,r,i){let o=i-e*e,a=Math.abs(o)<1e-24?0:(r-e*t)/o;return[t-a*e,a]}function a_(e,t,r,i){e=e.filter(m=>{let g=t(m),v=r(m);return g!=null&&(g=+g)>=g&&v!=null&&(v=+v)>=v}),i&&e.sort((m,g)=>t(m)-t(g));let o=e.length,a=new Float64Array(o),s=new Float64Array(o),l=0,u=0,c=0,f,d,p;for(p of e)a[l]=f=+t(p),s[l]=d=+r(p),++l,u+=(f-u)/l,c+=(d-c)/l;for(l=0;l<o;++l)a[l]-=u,s[l]-=c;return[a,s,u,c]}function p8(e,t,r,i){let o=-1,a,s;for(let l of e)a=t(l),s=r(l),a!=null&&(a=+a)>=a&&s!=null&&(s=+s)>=s&&i(a,s,++o)}function l2(e,t,r,i,o){let a=0,s=0;return p8(e,t,r,(l,u)=>{let c=u-o(l),f=u-i;a+=c*c,s+=f*f}),1-a/s}function s_(e,t,r){let i=0,o=0,a=0,s=0,l=0;p8(e,t,r,(f,d)=>{++l,i+=(f-i)/l,o+=(d-o)/l,a+=(f*d-a)/l,s+=(f*f-s)/l});let u=d8(i,o,a,s),c=f=>u[0]+u[1]*f;return{coef:u,predict:c,rSquared:l2(e,t,r,o,c)}}function LN(e,t,r){let i=0,o=0,a=0,s=0,l=0;p8(e,t,r,(f,d)=>{++l,f=Math.log(f),i+=(f-i)/l,o+=(d-o)/l,a+=(f*d-a)/l,s+=(f*f-s)/l});let u=d8(i,o,a,s),c=f=>u[0]+u[1]*Math.log(f);return{coef:u,predict:c,rSquared:l2(e,t,r,o,c)}}function BN(e,t,r){let[i,o,a,s]=a_(e,t,r),l=0,u=0,c=0,f=0,d=0,p,m,g;p8(e,t,r,(D,T)=>{p=i[d++],m=Math.log(T),g=p*T,l+=(T*m-l)/d,u+=(g-u)/d,c+=(g*m-c)/d,f+=(p*g-f)/d});let[v,b]=d8(u/s,l/s,c/s,f/s),_=D=>Math.exp(v+b*(D-a));return{coef:[Math.exp(v-b*a),b],predict:_,rSquared:l2(e,t,r,s,_)}}function $N(e,t,r){let i=0,o=0,a=0,s=0,l=0,u=0;p8(e,t,r,(d,p)=>{let m=Math.log(d),g=Math.log(p);++u,i+=(m-i)/u,o+=(g-o)/u,a+=(m*g-a)/u,s+=(m*m-s)/u,l+=(p-l)/u});let c=d8(i,o,a,s),f=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:f,rSquared:l2(e,t,r,l,f)}}function l_(e,t,r){let[i,o,a,s]=a_(e,t,r),l=i.length,u=0,c=0,f=0,d=0,p=0,m,g,v,b;for(m=0;m<l;)g=i[m],v=o[m++],b=g*g,u+=(b-u)/m,c+=(b*g-c)/m,f+=(b*b-f)/m,d+=(g*v-d)/m,p+=(b*v-p)/m;let _=f-u*u,D=u*_-c*c,T=(p*u-d*c)/D,N=(d*_-p*c)/D,z=-T*u,j=B=>(B=B-a,T*B*B+N*B+z+s);return{coef:[z-N*a+T*a*a+s,N-2*T*a,T],predict:j,rSquared:l2(e,t,r,s,j)}}function UN(e,t,r,i){if(i===0)return o_(e,t,r);if(i===1)return s_(e,t,r);if(i===2)return l_(e,t,r);let[o,a,s,l]=a_(e,t,r),u=o.length,c=[],f=[],d=i+1,p,m,g,v,b;for(p=0;p<d;++p){for(g=0,v=0;g<u;++g)v+=Math.pow(o[g],p)*a[g];for(c.push(v),b=new Float64Array(d),m=0;m<d;++m){for(g=0,v=0;g<u;++g)v+=Math.pow(o[g],p+m);b[m]=v}f.push(b)}f.push(c);let _=d_e(f),D=T=>{T-=s;let N=l+_[0]+_[1]*T+_[2]*T*T;for(p=3;p<d;++p)N+=_[p]*Math.pow(T,p);return N};return{coef:f_e(d,_,-s,l),predict:D,rSquared:l2(e,t,r,l,D)}}function f_e(e,t,r,i){let o=Array(e),a,s,l,u;for(a=0;a<e;++a)o[a]=0;for(a=e-1;a>=0;--a)for(l=t[a],u=1,o[a]+=l,s=1;s<=a;++s)u*=(a+1-s)/s,o[a-s]+=l*Math.pow(r,s)*u;return o[0]+=i,o}function d_e(e){let t=e.length-1,r=[],i,o,a,s,l;for(i=0;i<t;++i){for(s=i,o=i+1;o<t;++o)Math.abs(e[i][o])>Math.abs(e[i][s])&&(s=o);for(a=i;a<t+1;++a)l=e[a][i],e[a][i]=e[a][s],e[a][s]=l;for(o=i+1;o<t;++o)for(a=t;a>=i;a--)e[a][o]-=e[a][i]*e[i][o]/e[i][i]}for(o=t-1;o>=0;--o){for(l=0,a=o+1;a<t;++a)l+=e[a][o]*r[a];r[o]=(e[t][o]-l)/e[o][o]}return r}var kte=2,Ote=1e-12;function zN(e,t,r,i){let[o,a,s,l]=a_(e,t,r,!0),u=o.length,c=Math.max(2,~~(i*u)),f=new Float64Array(u),d=new Float64Array(u),p=new Float64Array(u).fill(1);for(let m=-1;++m<=kte;){let g=[0,c-1];for(let b=0;b<u;++b){let _=o[b],D=g[0],T=g[1],N=_-o[D]>o[T]-_?D:T,z=0,j=0,B=0,U=0,x=0,w=1/Math.abs(o[N]-_||1);for(let F=D;F<=T;++F){let I=o[F],R=a[F],$=p_e(Math.abs(_-I)*w)*p[F],Y=I*$;z+=$,j+=Y,B+=R*$,U+=R*Y,x+=I*Y}let[C,k]=d8(j/z,B/z,U/z,x/z);f[b]=C+k*_,d[b]=Math.abs(a[b]-f[b]),h_e(o,b+1,g)}if(m===kte)break;let v=Hw(d);if(Math.abs(v)<Ote)break;for(let b=0,_,D;b<u;++b)_=d[b]/(6*v),p[b]=_>=1?Ote:(D=1-_*_)*D}return m_e(o,f,s,l)}function p_e(e){return(e=1-e*e*e)*e*e}function h_e(e,t,r){let i=e[t],o=r[0],a=r[1]+1;if(!(a>=e.length))for(;t>o&&e[a]-i<=i-e[o];)r[0]=++o,r[1]=a,++a}function m_e(e,t,r,i){let o=e.length,a=[],s=0,l=0,u=[],c;for(;s<o;++s)c=e[s]+r,u[0]===c?u[1]+=(t[s]-u[1])/++l:(l=0,u[1]+=i,u=[c,t[s]],a.push(u));return u[1]+=i,a}var g_e=.5*Math.PI/180;function u2(e,t,r,i){r=r||25,i=Math.max(r,i||200);let o=v=>[v,e(v)],a=t[0],s=t[1],l=s-a,u=l/i,c=[o(a)],f=[];if(r===i){for(let v=1;v<i;++v)c.push(o(a+v/r*l));return c.push(o(s)),c}else{f.push(o(s));for(let v=r;--v>0;)f.push(o(a+v/r*l))}let d=c[0],p=f[f.length-1],m=1/l,g=v_e(d[1],f);for(;p;){let v=o((d[0]+p[0])/2);v[0]-d[0]>=u&&y_e(d,v,p,m,g)>g_e?f.push(v):(d=p,c.push(p),f.pop()),p=f[f.length-1]}return c}function v_e(e,t){let r=e,i=e,o=t.length;for(let a=0;a<o;++a){let s=t[a][1];s<r&&(r=s),s>i&&(i=s)}return 1/(i-r)}function y_e(e,t,r,i,o){let a=Math.atan2(o*(r[1]-e[1]),i*(r[0]-e[0])),s=Math.atan2(o*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(a-s)}function kp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VN(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u_(e){let t,r,i;e.length!==2?(t=kp,r=(l,u)=>kp(e(l),u),i=(l,u)=>e(l)-u):(t=e===kp||e===VN?e:b_e,r=e,i=e);function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){let d=o(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:o,center:s,right:a}}function b_e(){return 0}function*Fte(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&(yield i)}}function Pte(e=kp){if(e===kp)return qN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let i=e(t,r);return i||i===0?i:(e(r,r)===0)-(e(t,t)===0)}}function qN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function M1(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function T1(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function c_(e,t,r=0,i=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(e.length-1,i)),!(r<=t&&t<=i))return e;for(o=o===void 0?qN:Pte(o);i>r;){if(i-r>600){let u=i-r+1,c=t-r+1,f=Math.log(u),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(t-c*d/u+p)),g=Math.min(i,Math.floor(t+(u-c)*d/u+p));c_(e,t,m,g,o)}let a=e[t],s=r,l=i;for(h8(e,r,t),o(e[i],a)>0&&h8(e,r,i);s<l;){for(h8(e,s,l),++s,--l;o(e[s],a)<0;)++s;for(;o(e[l],a)>0;)--l}o(e[r],a)===0?h8(e,r,l):(++l,h8(e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}return e}function h8(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function HN(e,t,r){if(e=Float64Array.from(Fte(e,r)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return T1(e);if(t>=1)return M1(e);var i,o=(i-1)*t,a=Math.floor(o),s=M1(c_(e,a).subarray(0,a+1)),l=T1(e.subarray(a+1));return s+(l-s)*(o-a)}}function f_(e,t){let r=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(++r,i+=o);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(++r,i+=a)}if(r)return i/r}function d_(e,t){return HN(e,.5,t)}function m8(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++i<o;)a[i]=e+i*r;return a}function x_e(e){return t=>{let r=e.length,i=1,o=String(e[0](t));for(;i<r;++i)o+="|"+e[i](t);return o}}function WN(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:x_e(e)}function $te(e,t,r){return r||e+(t?"_"+t:"")}var GN=()=>{},w_e={init:GN,add:GN,rem:GN,idx:0},g8={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,r)=>{t<e.min&&(e.argmin=r)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,r)=>{t>e.max&&(e.argmax=r)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},y8=Object.keys(g8).filter(e=>e!=="__count__");function __e(e,t){return(r,i)=>Dn({name:e,aggregate_param:i,out:r||e},w_e,t)}[...y8,"__count__"].forEach(e=>{g8[e]=__e(e,g8[e])});function Ute(e,t,r){return g8[e](r,t)}function zte(e,t){return e.idx-t.idx}function S_e(e){let t={};e.forEach(i=>t[i.name]=i);let r=i=>{i.req&&i.req.forEach(o=>{t[o]||r(t[o]=g8[o]())})};return e.forEach(r),Object.values(t).sort(zte)}function C_e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function E_e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(r=>r.add(this,e,t)))}function D_e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(r=>r.rem(this,e,t)))}function A_e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Vte(e,t){let r=t||to,i=S_e(e),o=e.slice().sort(zte);function a(s){this._ops=i,this._out=o,this.cell=s,this.init()}return a.prototype.init=C_e,a.prototype.add=E_e,a.prototype.rem=D_e,a.prototype.set=A_e,a.prototype.get=r,a.fields=e.map(s=>s.out),a}function YN(e){this._key=e?aa(e):pn,this.reset()}var Fa=YN.prototype;Fa.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Fa.add=function(e){this._add.push(e)};Fa.rem=function(e){this._rem.push(e)};Fa.values=function(){if(this._get=null,this._rem.length===0)return this._add;let e=this._add,t=this._rem,r=this._key,i=e.length,o=t.length,a=Array(i-o),s={},l,u,c;for(l=0;l<o;++l)s[r(t[l])]=1;for(l=0,u=0;l<i;++l)s[r(c=e[l])]?s[r(c)]=0:a[u++]=c;return this._rem=[],this._add=a};Fa.distinct=function(e){let t=this.values(),r={},i=t.length,o=0,a;for(;--i>=0;)a=e(t[i])+"",Dt(r,a)||(r[a]=1,++o);return o};Fa.extent=function(e){if(this._get!==e||!this._ext){let t=this.values(),r=vO(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext};Fa.argmin=function(e){return this.extent(e)[0]||{}};Fa.argmax=function(e){return this.extent(e)[1]||{}};Fa.min=function(e){let t=this.extent(e)[0];return t!=null?e(t):void 0};Fa.max=function(e){let t=this.extent(e)[1];return t!=null?e(t):void 0};Fa.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=jw(this.values(),e),this._get=e),this._q};Fa.q1=function(e){return this.quartile(e)[0]};Fa.q2=function(e){return this.quartile(e)[1]};Fa.q3=function(e){return this.quartile(e)[2]};Fa.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=ON(this.values(),1e3,.05,e),this._get=e),this._ci};Fa.ci0=function(e){return this.ci(e)[0]};Fa.ci1=function(e){return this.ci(e)[1]};function Op(e){Ye.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Op.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:y8},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Et(Op,Ye,{transform(e,t){let r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return r.stamp=i.stamp,r.value&&(o||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=o?r.init(e):Object.create(null),t.visit(t.SOURCE,a=>r.add(a))):(r.value=r.value||r.init(e),t.visit(t.REM,a=>r.rem(a)),t.visit(t.ADD,a=>r.add(a))),i.modifies(r._outputs),r._drop=e.drop!==!1,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter(()=>this.clean()),r.changes(i)},cross(){let e=this,t=e.value,r=e._dnames,i=r.map(()=>({})),o=r.length;function a(l){let u,c,f,d;for(u in l)for(f=l[u].tuple,c=0;c<o;++c)i[c][d=f[r[c]]]=d}a(e._prev),a(t);function s(l,u,c){let f=r[c],d=i[c++];for(let p in d){let m=l?l+"|"+p:p;u[f]=d[p],c<o?s(m,u,c):t[m]||e.cell(m,u)}}s("",{},0)},init(e){let t=this._inputs=[],r=this._outputs=[],i={};function o(D){let T=_t(Vo(D)),N=T.length,z=0,j;for(;z<N;++z)i[j=T[z]]||(i[j]=1,t.push(j))}this._dims=_t(e.groupby),this._dnames=this._dims.map(D=>{let T=Ii(D);return o(D),r.push(T),T}),this.cellkey=e.key?e.key:WN(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let a=e.fields||[null],s=e.ops||["count"],l=e.aggregate_params||[null],u=e.as||[],c=a.length,f={},d,p,m,g,v,b,_;for(c!==s.length&&Ke("Unmatched number of fields and aggregate ops."),_=0;_<c;++_){if(d=a[_],p=s[_],m=l[_]||null,d==null&&p!=="count"&&Ke("Null aggregate field specified."),v=Ii(d),b=$te(p,v,u[_]),r.push(b),p==="count"){this._counts.push(b);continue}g=f[v],g||(o(d),g=f[v]=[],g.field=d,this._measures.push(g)),p!=="count"&&(this._countOnly=!1),g.push(Ute(p,m,b))}return this._measures=this._measures.map(D=>Vte(D,D.field)),Object.create(null)},cellkey:WN(),cell(e,t){let r=this.value[e];return r?r.num===0&&this._drop&&r.stamp<this.stamp?(r.stamp=this.stamp,this._adds[this._alen++]=r):r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r):(r=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=r),r},newcell(e,t){let r={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){let i=this._measures,o=i.length;r.agg=Array(o);for(let a=0;a<o;++a)r.agg[a]=new i[a](r)}return r.store&&(r.data=new YN),r},newtuple(e,t){let r=this._dnames,i=this._dims,o=i.length,a={};for(let s=0;s<o;++s)a[r[s]]=i[s](e);return t?Lw(t.tuple,a):xr(a)},clean(){let e=this.value;for(let t in e)e[t].num===0&&delete e[t]},add(e){let t=this.cellkey(e),r=this.cell(t,e);if(r.num+=1,this._countOnly)return;r.store&&r.data.add(e);let i=r.agg;for(let o=0,a=i.length;o<a;++o)i[o].add(i[o].get(e),e)},rem(e){let t=this.cellkey(e),r=this.cell(t,e);if(r.num-=1,this._countOnly)return;r.store&&r.data.rem(e);let i=r.agg;for(let o=0,a=i.length;o<a;++o)i[o].rem(i[o].get(e),e)},celltuple(e){let t=e.tuple,r=this._counts;e.store&&e.data.values();for(let i=0,o=r.length;i<o;++i)t[r[i]]=e.num;if(!this._countOnly){let i=e.agg;for(let o=0,a=i.length;o<a;++o)i[o].set(t)}return t},changes(e){let t=this._adds,r=this._mods,i=this._prev,o=this._drop,a=e.add,s=e.rem,l=e.mod,u,c,f,d;if(i)for(c in i)u=i[c],(!o||u.num)&&s.push(u.tuple);for(f=0,d=this._alen;f<d;++f)a.push(this.celltuple(t[f])),t[f]=null;for(f=0,d=this._mlen;f<d;++f)u=r[f],(u.num===0&&o?s:l).push(this.celltuple(u)),r[f]=null;return this._alen=this._mlen=0,this._prev=null,e}});var M_e=1e-14;function XN(e){Ye.call(this,null,e)}XN.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Et(XN,Ye,{transform(e,t){let r=e.interval!==!1,i=this._bins(e),o=i.start,a=i.step,s=e.as||["bin0","bin1"],l=s[0],u=s[1],c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(Vo(e.field))?t.ADD_MOD:t.ADD,t.visit(c,r?f=>{let d=i(f);f[l]=d,f[u]=d==null?null:o+a*(1+(d-o)/a)}:f=>f[l]=i(f)),t.modifies(r?s:l)},_bins(e){if(this.value&&!e.modified())return this.value;let t=e.field,r=kN(e),i=r.step,o=r.start,a=o+Math.ceil((r.stop-o)/i)*i,s,l;(s=e.anchor)!=null&&(l=s-(o+i*Math.floor((s-o)/i)),o+=l,a+=l);let u=function(c){let f=mo(t(c));return f==null?null:f<o?-1/0:f>a?1/0:(f=Math.max(o,Math.min(f,a-i)),o+i*Math.floor(M_e+(f-o)/i))};return u.start=o,u.stop=r.stop,u.step=i,this.value=es(u,Vo(t),e.name||"bin_"+Ii(t))}});function qte(e,t,r){let i=e,o=t||[],a=r||[],s={},l=0;return{add:u=>a.push(u),remove:u=>s[i(u)]=++l,size:()=>o.length,data:(u,c)=>(l&&(o=o.filter(f=>!s[i(f)]),s={},l=0),c&&u&&o.sort(u),a.length&&(o=u?_O(u,o,a.sort(u)):o.concat(a),a=[]),o)}}function KN(e){Ye.call(this,[],e)}KN.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Et(KN,Ye,{transform(e,t){let r=t.fork(t.ALL),i=qte(pn,this.value,r.materialize(r.ADD).add),o=e.sort,a=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return r.visit(r.REM,i.remove),this.modified(a),this.value=r.source=i.data(Pf(o),a),t.source&&t.source.root&&(this.value.root=t.source.root),r}});function Hte(e){li.call(this,null,T_e,e)}Et(Hte,li);function T_e(e){return this.value&&!e.modified()?this.value:k4(e.fields,e.orders)}function QN(e){Ye.call(this,null,e)}QN.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function R_e(e,t,r){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(r)}Et(QN,Ye,{transform(e,t){let r=d=>p=>{for(var m=R_e(l(p),e.case,a)||[],g,v=0,b=m.length;v<b;++v)s.test(g=m[v])||d(g)},i=this._parameterCheck(e,t),o=this._counts,a=this._match,s=this._stop,l=e.field,u=e.as||["text","count"],c=r(d=>o[d]=1+(o[d]||0)),f=r(d=>o[d]-=1);return i?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let r=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),r=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),r=!0),(e.modified("field")||t.modified(e.field.fields))&&(r=!0),r&&(this._counts={}),r},_finish(e,t){let r=this._counts,i=this._tuples||(this._tuples={}),o=t[0],a=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS),l,u,c;for(l in r)u=i[l],c=r[l]||0,!u&&c?(i[l]=u=xr({}),u[o]=l,u[a]=c,s.add.push(u)):c===0?(u&&s.rem.push(u),r[l]=null,i[l]=null):u[a]!==c&&(u[a]=c,s.mod.push(u));return s.modifies(t)}});function ZN(e){Ye.call(this,null,e)}ZN.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Et(ZN,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE),i=e.as||["a","b"],o=i[0],a=i[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),l=this.value;return s?(l&&(r.rem=l),l=t.materialize(t.SOURCE).source,r.add=this.value=k_e(l,o,a,e.filter||qo)):r.mod=l,r.source=this.value,r.modifies(i)}});function k_e(e,t,r,i){for(var o=[],a={},s=e.length,l=0,u,c;l<s;++l)for(a[t]=c=e[l],u=0;u<s;++u)a[r]=e[u],i(a)&&(o.push(xr(a)),a={},a[t]=c);return o}var Lte={kde:Kw,mixture:FN,normal:Xw,lognormal:IN,uniform:PN},O_e="distributions",Bte="function",N_e="field";function Gte(e,t){let r=e[Bte];Dt(Lte,r)||Ke("Unknown distribution function: "+r);let i=Lte[r]();for(let o in e)o===N_e?i.data((e.from||t()).map(e[o])):o===O_e?i[o](e[o].map(a=>Gte(a,t))):typeof i[o]===Bte&&i[o](e[o]);return i}function JN(e){Ye.call(this,null,e)}var jte=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],I_e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:jte},{name:"weights",type:"number",array:!0}]};JN.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:jte.concat(I_e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Et(JN,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let i=Gte(e.distribution,F_e(t)),o=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200,s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Ke("Invalid density method: "+s),!e.extent&&!i.data&&Ke("Missing density extent parameter."),s=i[s];let l=e.as||["value","density"],u=e.extent||Bs(i.data()),c=u2(s,u,o,a).map(f=>{let d={};return d[l[0]]=f[0],d[l[1]]=f[1],xr(d)});this.value&&(r.rem=this.value),this.value=r.add=r.source=c}return r}});function F_e(e){return()=>e.materialize(e.SOURCE).source}function Wte(e,t){return e?e.map((r,i)=>t[i]||Ii(r)):null}function eI(e,t,r){let i=[],o=d=>d(u),a,s,l,u,c,f;if(t==null)i.push(e.map(r));else for(a={},s=0,l=e.length;s<l;++s)u=e[s],c=t.map(o),f=a[c],f||(a[c]=f=[],f.dims=c,i.push(f)),f.push(r(u));return i}var Yte="bin";function tI(e){Ye.call(this,null,e)}tI.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Yte}]};var P_e=(e,t)=>Qd(Bs(e,t))/30;Et(tI,Ye,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;let r=t.materialize(t.SOURCE).source,i=eI(t.source,e.groupby,to),o=e.smooth||!1,a=e.field,s=e.step||P_e(r,a),l=Pf((g,v)=>a(g)-a(v)),u=e.as||Yte,c=i.length,f=1/0,d=-1/0,p=0,m;for(;p<c;++p){let g=i[p].sort(l);m=-1;for(let v of NN(g,s,o,a))v<f&&(f=v),v>d&&(d=v),g[++m][u]=v}return this.value={start:f,stop:d,step:s},t.reflow(!0).modifies(u)}});function Xte(e){li.call(this,null,L_e,e),this.modified(!0)}Et(Xte,li);function L_e(e){let t=e.expr;return this.value&&!e.modified("expr")?this.value:es(r=>t(r,e),Vo(t),Ii(t))}function nI(e){Ye.call(this,[void 0,void 0],e)}nI.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Et(nI,Ye,{transform(e,t){let r=this.value,i=e.field,o=t.changed()||t.modified(i.fields)||e.modified("field"),a=r[0],s=r[1];if((o||a==null)&&(a=1/0,s=-1/0),t.visit(o?t.SOURCE:t.ADD,l=>{let u=mo(i(l));u!=null&&(u<a&&(a=u),u>s&&(s=u))}),!Number.isFinite(a)||!Number.isFinite(s)){let l=Ii(i);l&&(l=` for field "${l}"`),t.dataflow.warn(`Infinite extent${l}: [${a}, ${s}]`),a=s=void 0}this.value=[a,s]}});function rI(e,t){li.call(this,e),this.parent=t,this.count=0}Et(rI,li,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function h_(e){Ye.call(this,{},e),this._keys=Ep();let t=this._targets=[];t.active=0,t.forEach=r=>{for(let i=0,o=t.active;i<o;++i)r(t[i],i,t)}}Et(h_,Ye,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,r,i){let o=this.value,a=Dt(o,e)&&o[e],s,l;return a?a.value.stamp<r.stamp&&(a.init(r),this.activate(a)):(l=i||(l=this._group[e])&&l.tuple,s=r.dataflow,a=new rI(r.fork(r.NO_SOURCE),this),s.add(a).connect(t(s,e,l)),o[e]=a,this.activate(a)),a},clean(){let e=this.value,t=0;for(let r in e)if(e[r].count===0){let i=e[r].detachSubflow;i&&i(),delete e[r],++t}if(t){let r=this._targets.filter(i=>i&&i.count>0);this.initTargets(r)}},initTargets(e){let t=this._targets,r=t.length,i=e?e.length:0,o=0;for(;o<i;++o)t[o]=e[o];for(;o<r&&t[o]!=null;++o)t[o]=null;t.active=i},transform(e,t){let r=t.dataflow,i=e.key,o=e.subflow,a=this._keys,s=e.modified("key"),l=u=>this.subflow(u,o,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{let c=pn(u),f=a.get(c);f!==void 0&&(a.delete(c),l(f).rem(u))}),t.visit(t.ADD,u=>{let c=i(u);a.set(pn(u),c),l(c).add(u)}),s||t.modified(i.fields)?t.visit(t.MOD,u=>{let c=pn(u),f=a.get(c),d=i(u);f===d?l(d).mod(u):(a.set(c,d),l(f).rem(u),l(d).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{l(a.get(pn(u))).mod(u)}),s&&t.visit(t.REFLOW,u=>{let c=pn(u),f=a.get(c),d=i(u);f!==d&&(a.set(c,d),l(f).rem(u),l(d).add(u))}),t.clean()?r.runAfter(()=>{this.clean(),a.clean()}):a.empty>r.cleanThreshold&&r.runAfter(a.clean),t}});function Kte(e){li.call(this,null,B_e,e)}Et(Kte,li);function B_e(e){return this.value&&!e.modified()?this.value:Le(e.name)?_t(e.name).map(t=>aa(t)):aa(e.name,e.as)}function iI(e){Ye.call(this,Ep(),e)}iI.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Et(iI,Ye,{transform(e,t){let r=t.dataflow,i=this.value,o=t.fork(),a=o.add,s=o.rem,l=o.mod,u=e.expr,c=!0;t.visit(t.REM,d=>{let p=pn(d);i.has(p)?i.delete(p):s.push(d)}),t.visit(t.ADD,d=>{u(d,e)?a.push(d):i.set(pn(d),1)});function f(d){let p=pn(d),m=u(d,e),g=i.get(p);m&&g?(i.delete(p),a.push(d)):!m&&!g?(i.set(p,1),s.push(d)):c&&m&&!g&&l.push(d)}return t.visit(t.MOD,f),e.modified()&&(c=!1,t.visit(t.REFLOW,f)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),o}});function oI(e){Ye.call(this,[],e)}oI.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Et(oI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE),i=e.fields,o=Wte(i,e.as||[]),a=e.index||null,s=o.length;return r.rem=this.value,t.visit(t.SOURCE,l=>{let u=i.map(g=>g(l)),c=u.reduce((g,v)=>Math.max(g,v.length),0),f=0,d,p,m;for(;f<c;++f){for(p=Pw(l),d=0;d<s;++d)p[o[d]]=(m=u[d][f])==null?null:m;a&&(p[a]=f),r.add.push(p)}}),this.value=r.source=r.add,a&&r.modifies(a),r.modifies(o)}});function aI(e){Ye.call(this,[],e)}aI.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Et(aI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE),i=e.fields,o=i.map(Ii),a=e.as||["key","value"],s=a[0],l=a[1],u=i.length;return r.rem=this.value,t.visit(t.SOURCE,c=>{for(let f=0,d;f<u;++f)d=Pw(c),d[s]=o[f],d[l]=i[f](c),r.add.push(d)}),this.value=r.source=r.add,r.modifies(a)}});function sI(e){Ye.call(this,null,e)}sI.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Et(sI,Ye,{transform(e,t){let r=e.expr,i=e.as,o=e.modified(),a=e.initonly?t.ADD:o?t.SOURCE:t.modified(r.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return o&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(a,s=>s[i]=r(s,e))}});function Qte(e){Ye.call(this,[],e)}Et(Qte,Ye,{transform(e,t){let r=t.fork(t.ALL),i=e.generator,o=this.value,a=e.size-o.length,s,l,u;if(a>0){for(s=[];--a>=0;)s.push(u=xr(i(e))),o.push(u);r.add=r.add.length?r.materialize(r.ADD).add.concat(s):s}else l=o.slice(0,-a),r.rem=r.rem.length?r.materialize(r.REM).rem.concat(l):l,o=o.slice(-a);return r.source=this.value=o,r}});var p_={value:"value",median:d_,mean:f_,min:T1,max:M1},$_e=[];function lI(e){Ye.call(this,[],e)}lI.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function U_e(e){var t=e.method||p_.value,r;if(p_[t]==null)Ke("Unrecognized imputation method: "+t);else return t===p_.value?(r=e.value!==void 0?e.value:0,()=>r):p_[t]}function z_e(e){let t=e.field;return r=>r?t(r):NaN}Et(lI,Ye,{transform(e,t){var r=t.fork(t.ALL),i=U_e(e),o=z_e(e),a=Ii(e.field),s=Ii(e.key),l=(e.groupby||[]).map(Ii),u=V_e(t.source,e.groupby,e.key,e.keyvals),c=[],f=this.value,d=u.domain.length,p,m,g,v,b,_,D,T,N,z;for(b=0,T=u.length;b<T;++b)for(p=u[b],g=p.values,m=NaN,D=0;D<d;++D)if(p[D]==null){for(v=u.domain[D],z={_impute:!0},_=0,N=g.length;_<N;++_)z[l[_]]=g[_];z[s]=v,z[a]=Number.isNaN(m)?m=i(p,o):m,c.push(xr(z))}return c.length&&(r.add=r.materialize(r.ADD).add.concat(c)),f.length&&(r.rem=r.materialize(r.REM).rem.concat(f)),this.value=c,r}});function V_e(e,t,r,i){var o=_=>_(b),a=[],s=i?i.slice():[],l={},u={},c,f,d,p,m,g,v,b;for(s.forEach((_,D)=>l[_]=D+1),p=0,v=e.length;p<v;++p)b=e[p],g=r(b),m=l[g]||(l[g]=s.push(g)),f=(c=t?t.map(o):$_e)+"",(d=u[f])||(d=u[f]=[],a.push(d),d.values=c),d[m-1]=b;return a.domain=s,a}function uI(e){Op.call(this,e)}uI.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:y8},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Et(uI,Op,{transform(e,t){let r=this,i=e.modified(),o;return r.value&&(i||t.modified(r._inputs,!0))?(o=r.value=i?r.init(e):{},t.visit(t.SOURCE,a=>r.add(a))):(o=r.value=r.value||this.init(e),t.visit(t.REM,a=>r.rem(a)),t.visit(t.ADD,a=>r.add(a))),r.changes(),t.visit(t.SOURCE,a=>{Dn(a,o[r.cellkey(a)].tuple)}),t.reflow(i).modifies(this._outputs)},changes(){let e=this._adds,t=this._mods,r,i;for(r=0,i=this._alen;r<i;++r)this.celltuple(e[r]),e[r]=null;for(r=0,i=this._mlen;r<i;++r)this.celltuple(t[r]),t[r]=null;this._alen=this._mlen=0}});function cI(e){Ye.call(this,null,e)}cI.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Et(cI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let i=t.materialize(t.SOURCE).source,o=eI(i,e.groupby,e.field),a=(e.groupby||[]).map(Ii),s=e.bandwidth,l=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[],f=e.extent,d=e.steps||e.minsteps||25,p=e.steps||e.maxsteps||200;l!=="pdf"&&l!=="cdf"&&Ke("Invalid density method: "+l),e.resolve==="shared"&&(f||(f=Bs(i,e.field)),d=p=e.steps||p),o.forEach(m=>{let g=Kw(m,s)[l],v=e.counts?m.length:1,b=f||Bs(m);u2(g,b,d,p).forEach(_=>{let D={};for(let T=0;T<a.length;++T)D[a[T]]=m.dims[T];D[u[0]]=_[0],D[u[1]]=_[1]*v,c.push(xr(D))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=c}return r}});function Zte(e){li.call(this,null,q_e,e)}Et(Zte,li);function q_e(e){return this.value&&!e.modified()?this.value:N4(e.fields,e.flat)}function Jte(e){Ye.call(this,[],e),this._pending=null}Et(Jte,Ye,{transform(e,t){let r=t.dataflow;return this._pending?jN(this,t,this._pending):H_e(e)?t.StopPropagation:e.values?jN(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then(o=>(this._pending=_t(o.data),a=>a.touch(this)))}:r.request(e.url,e.format).then(i=>jN(this,t,_t(i.data)))}});function H_e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function jN(e,t,r){r.forEach(xr);let i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=r,e._pending=null,i.rem.length&&i.clean(!0),i}function fI(e){Ye.call(this,{},e)}fI.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Et(fI,Ye,{transform(e,t){let r=e.fields,i=e.index,o=e.values,a=e.default==null?null:e.default,s=e.modified(),l=r.length,u=s?t.SOURCE:t.ADD,c=t,f=e.as,d,p,m;return o?(p=o.length,l>1&&!f&&Ke('Multi-field lookup requires explicit "as" parameter.'),f&&f.length!==l*p&&Ke('The "as" parameter has too few output field names.'),f=f||o.map(Ii),d=function(g){for(var v=0,b=0,_,D;v<l;++v)if(D=i.get(r[v](g)),D==null)for(_=0;_<p;++_,++b)g[f[b]]=a;else for(_=0;_<p;++_,++b)g[f[b]]=o[_](D)}):(f||Ke("Missing output field names."),d=function(g){for(var v=0,b;v<l;++v)b=i.get(r[v](g)),g[f[v]]=b??a}),s?c=t.reflow(!0):(m=r.some(g=>t.modified(g.fields)),u|=m?t.MOD:0),t.visit(u,d),c.modifies(f)}});function ene(e){li.call(this,null,G_e,e)}Et(ene,li);function G_e(e){if(this.value&&!e.modified())return this.value;let t=e.extents,r=t.length,i=1/0,o=-1/0,a,s;for(a=0;a<r;++a)s=t[a],s[0]<i&&(i=s[0]),s[1]>o&&(o=s[1]);return[i,o]}function tne(e){li.call(this,null,j_e,e)}Et(tne,li);function j_e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,r)=>t.concat(r),[])}function nne(e){Ye.call(this,null,e)}Et(nne,Ye,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function dI(e){Op.call(this,e)}dI.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:y8,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Et(dI,Op,{_transform:Op.prototype.transform,transform(e,t){return this._transform(W_e(e,t),t)}});function W_e(e,t){let r=e.field,i=e.value,o=(e.op==="count"?"__count__":e.op)||"sum",a=Vo(r).concat(Vo(i)),s=X_e(r,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>o),fields:s.map(l=>Y_e(l,r,i,a)),as:s.map(l=>l+""),modified:e.modified.bind(e)}}function Y_e(e,t,r,i){return es(o=>t(o)===e?r(o):NaN,i,e+"")}function X_e(e,t,r){let i={},o=[];return r.visit(r.SOURCE,a=>{let s=e(a);i[s]||(i[s]=1,o.push(s))}),o.sort(Kd),t?o.slice(0,t):o}function rne(e){h_.call(this,e)}Et(rne,h_,{transform(e,t){let r=e.subflow,i=e.field,o=a=>this.subflow(pn(a),r,t,a);return(e.modified("field")||i&&t.modified(Vo(i)))&&Ke("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,a=>{let s=o(a);i(a).forEach(l=>s.mod(l))}),t.visit(t.ADD,a=>{let s=o(a);i(a).forEach(l=>s.add(xr(l)))}),t.visit(t.REM,a=>{let s=o(a);i(a).forEach(l=>s.rem(l))})):(t.visit(t.MOD,a=>o(a).mod(a)),t.visit(t.ADD,a=>o(a).add(a)),t.visit(t.REM,a=>o(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function pI(e){Ye.call(this,null,e)}pI.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Et(pI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE),i=e.fields,o=Wte(e.fields,e.as||[]),a=i?(l,u)=>K_e(l,u,i,o):D1,s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,l=>{let u=pn(l);r.rem.push(s[u]),s[u]=null}),t.visit(t.ADD,l=>{let u=a(l,xr({}));s[pn(l)]=u,r.add.push(u)}),t.visit(t.MOD,l=>{r.mod.push(a(l,s[pn(l)]))}),r}});function K_e(e,t,r,i){for(let o=0,a=r.length;o<a;++o)t[i[o]]=r[o](e);return t}function ine(e){Ye.call(this,null,e)}Et(ine,Ye,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function hI(e){Ye.call(this,null,e)}hI.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var Q_e=1e-14;Et(hI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return r.source=this.value,r;let o=t.materialize(t.SOURCE).source,a=eI(o,e.groupby,e.field),s=(e.groupby||[]).map(Ii),l=[],u=e.step||.01,c=e.probs||m8(u/2,1-Q_e,u),f=c.length;return a.forEach(d=>{let p=Gw(d,c);for(let m=0;m<f;++m){let g={};for(let v=0;v<s.length;++v)g[s[v]]=d.dims[v];g[i[0]]=c[m],g[i[1]]=p[m],l.push(xr(g))}}),this.value&&(r.rem=this.value),this.value=r.add=r.source=l,r}});function one(e){Ye.call(this,null,e)}Et(one,Ye,{transform(e,t){let r,i;return this.value?i=this.value:(r=t=t.addAll(),i=this.value={}),e.derive&&(r=t.fork(t.NO_SOURCE),t.visit(t.REM,o=>{let a=pn(o);r.rem.push(i[a]),i[a]=null}),t.visit(t.ADD,o=>{let a=Pw(o);i[pn(o)]=a,r.add.push(a)}),t.visit(t.MOD,o=>{let a=i[pn(o)];for(let s in o)a[s]=o[s],r.modifies(s);r.mod.push(a)})),r}});function mI(e){Ye.call(this,[],e),this.count=0}mI.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Et(mI,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE),i=e.modified("size"),o=e.size,a=this.value.reduce((f,d)=>(f[pn(d)]=1,f),{}),s=this.value,l=this.count,u=0;function c(f){let d,p;s.length<o?s.push(f):(p=~~((l+1)*zs()),p<s.length&&p>=u&&(d=s[p],a[pn(d)]&&r.rem.push(d),s[p]=f)),++l}if(t.rem.length&&(t.visit(t.REM,f=>{let d=pn(f);a[d]&&(a[d]=-1,r.rem.push(f)),--l}),s=s.filter(f=>a[pn(f)]!==-1)),(t.rem.length||i)&&s.length<o&&t.source&&(u=l=s.length,t.visit(t.SOURCE,f=>{a[pn(f)]||c(f)}),u=-1),i&&s.length>o){let f=s.length-o;for(let d=0;d<f;++d)a[pn(s[d])]=-1,r.rem.push(s[d]);s=s.slice(f)}return t.mod.length&&t.visit(t.MOD,f=>{a[pn(f)]&&r.mod.push(f)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(r.add=s.filter(f=>!a[pn(f)])),this.count=l,this.value=r.source=s,r}});function gI(e){Ye.call(this,null,e)}gI.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Et(gI,Ye,{transform(e,t){if(this.value&&!e.modified())return;let r=t.materialize().fork(t.MOD),i=e.as||"data";return r.rem=this.value?t.rem.concat(this.value):t.rem,this.value=m8(e.start,e.stop,e.step||1).map(o=>{let a={};return a[i]=o,xr(a)}),r.add=t.add.concat(this.value),r}});function ane(e){Ye.call(this,null,e),this.modified(!0)}Et(ane,Ye,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function vI(e){Ye.call(this,null,e)}var sne=["unit0","unit1"];vI.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:_w,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:sne}]};Et(vI,Ye,{transform(e,t){let r=e.field,i=e.interval!==!1,o=e.timezone==="utc",a=this._floor(e,t),s=(o?n0:t0)(a.unit).offset,l=e.as||sne,u=l[0],c=l[1],f=a.step,d=a.start||1/0,p=a.stop||-1/0,m=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Vo(r)))&&(t=t.reflow(!0),m=t.SOURCE,d=1/0,p=-1/0),t.visit(m,g=>{let v=r(g),b,_;v==null?(g[u]=null,i&&(g[c]=null)):(g[u]=b=_=a(v),i&&(g[c]=_=s(b,f)),b<d&&(d=b),_>p&&(p=_))}),a.start=d,a.stop=p,t.modifies(i?l:u)},_floor(e,t){let r=e.timezone==="utc",{units:i,step:o}=e.units?{units:e.units,step:e.step||1}:cN({extent:e.extent||Bs(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=Sw(i),s=this.value||{},l=(r?oN:iN)(a,o);return l.unit=jn(a),l.units=a,l.step=o,l.start=s.start,l.stop=s.stop,this.value=l}});function lne(e){Ye.call(this,Ep(),e)}Et(lne,Ye,{transform(e,t){let r=t.dataflow,i=e.field,o=this.value,a=l=>o.set(i(l),l),s=!0;return e.modified("field")||t.modified(i.fields)?(o.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,l=>o.delete(i(l))),t.visit(t.ADD,a)):s=!1,this.modified(s),o.empty>r.cleanThreshold&&r.runAfter(o.clean),t.fork()}});function une(e){Ye.call(this,null,e)}Et(une,Ye,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Pf(e.sort)):t.source).map(e.field))}});function Z_e(e,t,r,i){let o=v8[e](t,r);return{init:o.init||cc,update:function(a,s){s[i]=o.next(a)}}}var v8={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let r=t.index,i=t.data;return r&&t.compare(i[r-1],i[r])?e=r+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let r=t.index,i=t.data;return r&&t.compare(i[r-1],i[r])?++e:e}}},percent_rank:function(){let e=v8.rank(),t=e.next;return{init:e.init,next:r=>(t(r)-1)/(r.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let r=t.data,i=t.compare,o=t.index;if(e<o){for(;o+1<r.length&&!i(r[o],r[o+1]);)++o;e=o}return(1+e)/r.length}}},ntile:function(e,t){t=+t,t>0||Ke("ntile num must be greater than zero.");let r=v8.cume_dist(),i=r.next;return{init:r.init,next:o=>Math.ceil(t*i(o))}},lag:function(e,t){return t=+t||1,{next:r=>{let i=r.index-t;return i>=0?e(r.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:r=>{let i=r.index+t,o=r.data;return i<o.length?e(o[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ke("nth_value nth must be greater than zero."),{next:r=>{let i=r.i0+(t-1);return i<r.i1?e(r.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:r=>{let i=e(r.data[r.index]);return i!=null?t=i:t}}},next_value:function(e){let t,r;return{init:()=>(t=null,r=-1),next:i=>{let o=i.data;return i.index<=r?t:(r=J_e(e,o,i.index))<0?(r=o.length,t=null):t=e(o[r])}}}};function J_e(e,t,r){for(let i=t.length;r<i;++r)if(e(t[r])!=null)return r;return-1}var eSe=Object.keys(v8);function cne(e){let t=_t(e.ops),r=_t(e.fields),i=_t(e.params),o=_t(e.aggregate_params),a=_t(e.as),s=this.outputs=[],l=this.windows=[],u={},c={},f=[],d=[],p=!0;function m(g){_t(Vo(g)).forEach(v=>u[v]=1)}m(e.sort),t.forEach((g,v)=>{let b=r[v],_=i[v],D=o[v]||null,T=Ii(b),N=$te(g,T,a[v]);if(m(b),s.push(N),Dt(v8,g))l.push(Z_e(g,b,_,N));else{if(b==null&&g!=="count"&&Ke("Null aggregate field specified."),g==="count"){f.push(N);return}p=!1;let z=c[T];z||(z=c[T]=[],z.field=b,d.push(z)),z.push(Ute(g,D,N))}}),(f.length||d.length)&&(this.cell=tSe(d,f,p)),this.inputs=Object.keys(u)}var fne=cne.prototype;fne.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};fne.update=function(e,t){let r=this.cell,i=this.windows,o=e.data,a=i&&i.length,s;if(r){for(s=e.p0;s<e.i0;++s)r.rem(o[s]);for(s=e.p1;s<e.i1;++s)r.add(o[s]);r.set(t)}for(s=0;s<a;++s)i[s].update(e,t)};function tSe(e,t,r){e=e.map(u=>Vte(u,u.field));let i={num:0,agg:null,store:!1,count:t};if(!r)for(var o=e.length,a=i.agg=Array(o),s=0;s<o;++s)a[s]=new e[s](i);if(i.store)var l=i.data=new YN;return i.add=function(u){if(i.num+=1,!r){l&&l.add(u);for(let c=0;c<o;++c)a[c].add(a[c].get(u),u)}},i.rem=function(u){if(i.num-=1,!r){l&&l.rem(u);for(let c=0;c<o;++c)a[c].rem(a[c].get(u),u)}},i.set=function(u){let c,f;for(l&&l.values(),c=0,f=t.length;c<f;++c)u[t[c]]=i.num;if(!r)for(c=0,f=a.length;c<f;++c)a[c].set(u)},i.init=function(){i.num=0,l&&l.reset();for(let u=0;u<o;++u)a[u].init()},i}function yI(e){Ye.call(this,{},e),this._mlen=0,this._mods=[]}yI.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:eSe.concat(y8)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Et(yI,Ye,{transform(e,t){this.stamp=t.stamp;let r=e.modified(),i=Pf(e.sort),o=WN(e.groupby),a=l=>this.group(o(l)),s=this.state;(!s||r)&&(s=this.state=new cne(e)),r||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,l=>a(l).add(l))):(t.visit(t.REM,l=>a(l).remove(l)),t.visit(t.ADD,l=>a(l).add(l)));for(let l=0,u=this._mlen;l<u;++l)nSe(this._mods[l],s,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=qte(pn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function nSe(e,t,r,i){let o=i.sort,a=o&&!i.ignorePeers,s=i.frame||[null,0],l=e.data(r),u=l.length,c=a?u_(o):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:o||Li(-1)};t.init();for(let d=0;d<u;++d)rSe(f,s,d,u),a&&iSe(f,c),t.update(f,l[d])}function rSe(e,t,r,i){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,r-Math.abs(t[0])),e.i1=t[1]==null?i:Math.min(i,r+Math.abs(t[1])+1),e.index=r}function iSe(e,t){let r=e.i0,i=e.i1-1,o=e.compare,a=e.data,s=a.length-1;r>0&&!o(a[r],a[r-1])&&(e.i0=t.left(a,a[r])),i<s&&!o(a[i],a[i+1])&&(e.i1=t.right(a,a[i]))}var MP={};Ka(MP,{bound:()=>uoe,identifier:()=>AP,mark:()=>coe,overlap:()=>foe,render:()=>poe,viewlayout:()=>moe});function Ir(e){return function(){return e}}var xI=Math.abs,Pa=Math.atan2,Np=Math.cos,dne=Math.max,m_=Math.min,dc=Math.sin,s0=Math.sqrt,ua=1e-12,Ip=Math.PI,b8=Ip/2,g_=2*Ip;function pne(e){return e>1?0:e<-1?Ip:Math.acos(e)}function wI(e){return e>=1?b8:e<=-1?-b8:Math.asin(e)}var _I=Math.PI,SI=2*_I,R1=1e-6,oSe=SI-R1;function hne(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hne;let r=10**t;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}var k1=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hne:aSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,o){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,r,i,o,a,s){this._append`C${+t},${+r},${+i},${+o},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,i,o,a){if(t=+t,r=+r,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=i-t,c=o-r,f=s-t,d=l-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>R1)if(!(Math.abs(d*u-c*f)>R1)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=i-s,g=o-l,v=u*u+c*c,b=m*m+g*g,_=Math.sqrt(v),D=Math.sqrt(p),T=a*Math.tan((_I-Math.acos((v+p-b)/(2*_*D)))/2),N=T/D,z=T/_;Math.abs(N-1)>R1&&this._append`L${t+N*f},${r+N*d}`,this._append`A${a},${a},0,0,${+(d*m>f*g)},${this._x1=t+z*u},${this._y1=r+z*c}`}}arc(t,r,i,o,a,s){if(t=+t,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(o),u=i*Math.sin(o),c=t+l,f=r+u,d=1^s,p=s?o-a:a-o;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>R1||Math.abs(this._y1-f)>R1)&&this._append`L${c},${f}`,i&&(p<0&&(p=p%SI+SI),p>oSe?this._append`A${i},${i},0,1,${d},${t-l},${r-u}A${i},${i},0,1,${d},${this._x1=c},${this._y1=f}`:p>R1&&this._append`A${i},${i},0,${+(p>=_I)},${d},${this._x1=t+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(t,r,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}};function O1(){return new k1}O1.prototype=k1.prototype;function Fp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new k1(t)}function sSe(e){return e.innerRadius}function lSe(e){return e.outerRadius}function uSe(e){return e.startAngle}function cSe(e){return e.endAngle}function fSe(e){return e&&e.padAngle}function dSe(e,t,r,i,o,a,s,l){var u=r-e,c=i-t,f=s-o,d=l-a,p=d*u-f*c;if(!(p*p<ua))return p=(f*(t-a)-d*(e-o))/p,[e+p*u,t+p*c]}function v_(e,t,r,i,o,a,s){var l=e-r,u=t-i,c=(s?a:-a)/s0(l*l+u*u),f=c*u,d=-c*l,p=e+f,m=t+d,g=r+f,v=i+d,b=(p+g)/2,_=(m+v)/2,D=g-p,T=v-m,N=D*D+T*T,z=o-a,j=p*v-g*m,B=(T<0?-1:1)*s0(dne(0,z*z*N-j*j)),U=(j*T-D*B)/N,x=(-j*D-T*B)/N,w=(j*T+D*B)/N,C=(-j*D+T*B)/N,k=U-b,F=x-_,I=w-b,R=C-_;return k*k+F*F>I*I+R*R&&(U=w,x=C),{cx:U,cy:x,x01:-f,y01:-d,x11:U*(o/z-1),y11:x*(o/z-1)}}function CI(){var e=sSe,t=lSe,r=Ir(0),i=null,o=uSe,a=cSe,s=fSe,l=null,u=Fp(c);function c(){var f,d,p=+e.apply(this,arguments),m=+t.apply(this,arguments),g=o.apply(this,arguments)-b8,v=a.apply(this,arguments)-b8,b=xI(v-g),_=v>g;if(l||(l=f=u()),m<p&&(d=m,m=p,p=d),!(m>ua))l.moveTo(0,0);else if(b>g_-ua)l.moveTo(m*Np(g),m*dc(g)),l.arc(0,0,m,g,v,!_),p>ua&&(l.moveTo(p*Np(v),p*dc(v)),l.arc(0,0,p,v,g,_));else{var D=g,T=v,N=g,z=v,j=b,B=b,U=s.apply(this,arguments)/2,x=U>ua&&(i?+i.apply(this,arguments):s0(p*p+m*m)),w=m_(xI(m-p)/2,+r.apply(this,arguments)),C=w,k=w,F,I;if(x>ua){var R=wI(x/p*dc(U)),$=wI(x/m*dc(U));(j-=R*2)>ua?(R*=_?1:-1,N+=R,z-=R):(j=0,N=z=(g+v)/2),(B-=$*2)>ua?($*=_?1:-1,D+=$,T-=$):(B=0,D=T=(g+v)/2)}var Y=m*Np(D),re=m*dc(D),ne=p*Np(z),he=p*dc(z);if(w>ua){var ge=m*Np(T),Me=m*dc(T),be=p*Np(N),ut=p*dc(N),Pe;if(b<Ip)if(Pe=dSe(Y,re,be,ut,ge,Me,ne,he)){var Mt=Y-Pe[0],Vt=re-Pe[1],nn=ge-Pe[0],xe=Me-Pe[1],qe=1/dc(pne((Mt*nn+Vt*xe)/(s0(Mt*Mt+Vt*Vt)*s0(nn*nn+xe*xe)))/2),Ge=s0(Pe[0]*Pe[0]+Pe[1]*Pe[1]);C=m_(w,(p-Ge)/(qe-1)),k=m_(w,(m-Ge)/(qe+1))}else C=k=0}B>ua?k>ua?(F=v_(be,ut,Y,re,m,k,_),I=v_(ge,Me,ne,he,m,k,_),l.moveTo(F.cx+F.x01,F.cy+F.y01),k<w?l.arc(F.cx,F.cy,k,Pa(F.y01,F.x01),Pa(I.y01,I.x01),!_):(l.arc(F.cx,F.cy,k,Pa(F.y01,F.x01),Pa(F.y11,F.x11),!_),l.arc(0,0,m,Pa(F.cy+F.y11,F.cx+F.x11),Pa(I.cy+I.y11,I.cx+I.x11),!_),l.arc(I.cx,I.cy,k,Pa(I.y11,I.x11),Pa(I.y01,I.x01),!_))):(l.moveTo(Y,re),l.arc(0,0,m,D,T,!_)):l.moveTo(Y,re),!(p>ua)||!(j>ua)?l.lineTo(ne,he):C>ua?(F=v_(ne,he,ge,Me,p,-C,_),I=v_(Y,re,be,ut,p,-C,_),l.lineTo(F.cx+F.x01,F.cy+F.y01),C<w?l.arc(F.cx,F.cy,C,Pa(F.y01,F.x01),Pa(I.y01,I.x01),!_):(l.arc(F.cx,F.cy,C,Pa(F.y01,F.x01),Pa(F.y11,F.x11),!_),l.arc(0,0,p,Pa(F.cy+F.y11,F.cx+F.x11),Pa(I.cy+I.y11,I.cx+I.x11),_),l.arc(I.cx,I.cy,C,Pa(I.y11,I.x11),Pa(I.y01,I.x01),!_))):l.arc(0,0,p,z,N,_)}if(l.closePath(),f)return l=null,f+""||null}return c.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ip/2;return[Np(d)*f,dc(d)*f]},c.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),c):e},c.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),c):t},c.cornerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:Ir(+f),c):r},c.padRadius=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Ir(+f),c):i},c.startAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Ir(+f),c):o},c.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Ir(+f),c):a},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Ir(+f),c):s},c.context=function(f){return arguments.length?(l=f??null,c):l},c}var L9t=Array.prototype.slice;function y_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mne(e){this._context=e}mne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function N1(e){return new mne(e)}function b_(e){return e[0]}function x_(e){return e[1]}function x8(e,t){var r=Ir(!0),i=null,o=N1,a=null,s=Fp(l);e=typeof e=="function"?e:e===void 0?b_:Ir(e),t=typeof t=="function"?t:t===void 0?x_:Ir(t);function l(u){var c,f=(u=y_(u)).length,d,p=!1,m;for(i==null&&(a=o(m=s())),c=0;c<=f;++c)!(c<f&&r(d=u[c],c,u))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,c,u),+t(d,c,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ir(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ir(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ir(!!u),l):r},l.curve=function(u){return arguments.length?(o=u,i!=null&&(a=o(i)),l):o},l.context=function(u){return arguments.length?(u==null?i=a=null:a=o(i=u),l):i},l}function w_(e,t,r){var i=null,o=Ir(!0),a=null,s=N1,l=null,u=Fp(c);e=typeof e=="function"?e:e===void 0?b_:Ir(+e),t=typeof t=="function"?t:t===void 0?Ir(0):Ir(+t),r=typeof r=="function"?r:r===void 0?x_:Ir(+r);function c(d){var p,m,g,v=(d=y_(d)).length,b,_=!1,D,T=new Array(v),N=new Array(v);for(a==null&&(l=s(D=u())),p=0;p<=v;++p){if(!(p<v&&o(b=d[p],p,d))===_)if(_=!_)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=m;--g)l.point(T[g],N[g]);l.lineEnd(),l.areaEnd()}_&&(T[p]=+e(b,p,d),N[p]=+t(b,p,d),l.point(i?+i(b,p,d):T[p],r?+r(b,p,d):N[p]))}if(D)return l=null,D+""||null}function f(){return x8().defined(o).curve(s).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ir(+d),i=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ir(+d),c):e},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Ir(+d),c):i},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ir(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ir(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ir(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(i).y(t)},c.defined=function(d){return arguments.length?(o=typeof d=="function"?d:Ir(!!d),c):o},c.curve=function(d){return arguments.length?(s=d,a!=null&&(l=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=l=null:l=s(a=d),c):a},c}var gne={draw(e,t){let r=s0(t/Ip);e.moveTo(r,0),e.arc(0,0,r,0,g_)}};function __(e,t){let r=null,i=Fp(o);e=typeof e=="function"?e:Ir(e||gne),t=typeof t=="function"?t:Ir(t===void 0?64:+t);function o(){let a;if(r||(r=a=i()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return o.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ir(a),o):e},o.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ir(+a),o):t},o.context=function(a){return arguments.length?(r=a??null,o):r},o}function xu(){}function c2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function w8(e){this._context=e}w8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EI(e){return new w8(e)}function vne(e){this._context=e}vne.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DI(e){return new vne(e)}function yne(e){this._context=e}yne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AI(e){return new yne(e)}function bne(e,t){this._basis=new w8(e),this._beta=t}bne.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],o=t[0],a=e[r]-i,s=t[r]-o,l=-1,u;++l<=r;)u=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+u*a),this._beta*t[l]+(1-this._beta)*(o+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var MI=function e(t){function r(i){return t===1?new w8(i):new bne(i,t)}return r.beta=function(i){return e(+i)},r}(.85);function f2(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function S_(e,t){this._context=e,this._k=(1-t)/6}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:f2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var TI=function e(t){function r(i){return new S_(i,t)}return r.tension=function(i){return e(+i)},r}(0);function C_(e,t){this._context=e,this._k=(1-t)/6}C_.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var RI=function e(t){function r(i){return new C_(i,t)}return r.tension=function(i){return e(+i)},r}(0);function E_(e,t){this._context=e,this._k=(1-t)/6}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kI=function e(t){function r(i){return new E_(i,t)}return r.tension=function(i){return e(+i)},r}(0);function _8(e,t,r){var i=e._x1,o=e._y1,a=e._x2,s=e._y2;if(e._l01_a>ua){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,o=(o*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>ua){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(i,o,a,s,e._x2,e._y2)}function xne(e,t){this._context=e,this._alpha=t}xne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:_8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var OI=function e(t){function r(i){return t?new xne(i,t):new S_(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function wne(e,t){this._context=e,this._alpha=t}wne.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var NI=function e(t){function r(i){return t?new wne(i,t):new C_(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function _ne(e,t){this._context=e,this._alpha=t}_ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_8(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var II=function e(t){function r(i){return t?new _ne(i,t):new E_(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function Sne(e){this._context=e}Sne.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FI(e){return new Sne(e)}function Cne(e){return e<0?-1:1}function Ene(e,t,r){var i=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(i||o<0&&-0),s=(r-e._y1)/(o||i<0&&-0),l=(a*o+s*i)/(i+o);return(Cne(a)+Cne(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function Dne(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function PI(e,t,r){var i=e._x0,o=e._y0,a=e._x1,s=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,o+l*t,a-l,s-l*r,a,s)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PI(this,this._t0,Dne(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PI(this,Dne(this,r=Ene(this,e,t)),r);break;default:PI(this,this._t0,r=Ene(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Ane(e){this._context=new Mne(e)}(Ane.prototype=Object.create(D_.prototype)).point=function(e,t){D_.prototype.point.call(this,t,e)};function Mne(e){this._context=e}Mne.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,o,a){this._context.bezierCurveTo(t,e,i,r,a,o)}};function LI(e){return new D_(e)}function BI(e){return new Ane(e)}function Rne(e){this._context=e}Rne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=Tne(e),o=Tne(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(i[0][a],o[0][a],i[1][a],o[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tne(e){var t,r=e.length-1,i,o=new Array(r),a=new Array(r),s=new Array(r);for(o[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=o[t]/a[t-1],a[t]-=i,s[t]-=i*s[t-1];for(o[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(s[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function $I(e){return new Rne(e)}function A_(e,t){this._context=e,this._t=t}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UI(e){return new A_(e,.5)}function zI(e){return new A_(e,0)}function VI(e){return new A_(e,1)}function wu(e,t){if(typeof document<"u"&&document.createElement){let r=document.createElement("canvas");if(r&&r.getContext)return r.width=e,r.height=t,r}return null}var kne=()=>typeof Image<"u"?Image:null;function Lf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M_(e){let t,r,i;e.length!==2?(t=Lf,r=(l,u)=>Lf(e(l),u),i=(l,u)=>e(l)-u):(t=e===Lf||e===qI?e:hSe,r=e,i=e);function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){let d=o(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:o,center:s,right:a}}function hSe(){return 0}function S8(e){return e===null?NaN:+e}var One=M_(Lf),C8=One.right,mSe=One.left,gSe=M_(S8).center,pc=C8;var vSe=Math.sqrt(50),ySe=Math.sqrt(10),bSe=Math.sqrt(2);function T_(e,t,r){let i=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=vSe?10:a>=ySe?5:a>=bSe?2:1,l,u,c;return o<0?(c=Math.pow(10,-o)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?T_(e,t,r*2):[l,u,c]}function I1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let i=t<e,[o,a,s]=i?T_(t,e,r):T_(e,t,r);if(!(a>=o))return[];let l=a-o+1,u=new Array(l);if(i)if(s<0)for(let c=0;c<l;++c)u[c]=(a-c)/-s;else for(let c=0;c<l;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(o+c)/-s;else for(let c=0;c<l;++c)u[c]=(o+c)*s;return u}function E8(e,t,r){return t=+t,e=+e,r=+r,T_(e,t,r)[2]}function HI(e,t,r){t=+t,e=+e,r=+r;let i=t<e,o=i?E8(t,e,r):E8(e,t,r);return(i?-1:1)*(o<0?1/-o:o)}function GI(e,t,r=S8){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(o-a)}}function R_(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++i<o;)a[i]=e+i*r;return a}function Ao(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var d2=Symbol("implicit");function F1(){var e=new Lg,t=[],r=[],i=d2;function o(a){let s=e.get(a);if(s===void 0){if(i!==d2)return i;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Lg;for(let s of a)e.has(s)||e.set(s,t.push(s)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return F1(t,r).unknown(i)},Ao.apply(o,arguments),o}var ZI={};Ka(ZI,{interpolate:()=>pl,interpolateArray:()=>Bne,interpolateBasis:()=>k_,interpolateBasisClosed:()=>O_,interpolateCubehelix:()=>nre,interpolateCubehelixLong:()=>rre,interpolateDate:()=>I_,interpolateDiscrete:()=>$ne,interpolateHcl:()=>Jne,interpolateHclLong:()=>ere,interpolateHsl:()=>Kne,interpolateHslLong:()=>Qne,interpolateHue:()=>Une,interpolateLab:()=>QI,interpolateNumber:()=>ts,interpolateNumberArray:()=>h2,interpolateObject:()=>F_,interpolateRgb:()=>D8,interpolateRgbBasis:()=>Pne,interpolateRgbBasisClosed:()=>Lne,interpolateRound:()=>Lp,interpolateString:()=>P_,interpolateTransformCss:()=>Gne,interpolateTransformSvg:()=>jne,interpolateZoom:()=>Yne,piecewise:()=>P1,quantize:()=>ire});function jI(e,t,r,i,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*i+s*o)/6}function k_(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,l=i<t-1?e[i+2]:2*a-o;return jI((r-i/t)*t,s,o,a,l)}}function O_(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],l=e[(i+2)%t];return jI((r-i/t)*t,o,a,s,l)}}var p2=e=>()=>e;function Nne(e,t){return function(r){return e+r*t}}function xSe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function Pp(e,t){var r=t-e;return r?Nne(e,r>180||r<-180?r-360*Math.round(r/360):r):p2(isNaN(e)?t:e)}function Ine(e){return(e=+e)==1?Bi:function(t,r){return r-t?xSe(t,r,e):p2(isNaN(t)?r:t)}}function Bi(e,t){var r=t-e;return r?Nne(e,r):p2(isNaN(e)?t:e)}var D8=function e(t){var r=Ine(t);function i(o,a){var s=r((o=Za(o)).r,(a=Za(a)).r),l=r(o.g,a.g),u=r(o.b,a.b),c=Bi(o.opacity,a.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return i.gamma=e,i}(1);function Fne(e){return function(t){var r=t.length,i=new Array(r),o=new Array(r),a=new Array(r),s,l;for(s=0;s<r;++s)l=Za(t[s]),i[s]=l.r||0,o[s]=l.g||0,a[s]=l.b||0;return i=e(i),o=e(o),a=e(a),l.opacity=1,function(u){return l.r=i(u),l.g=o(u),l.b=a(u),l+""}}}var Pne=Fne(k_),Lne=Fne(O_);function h2(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=e[o]*(1-a)+t[o]*a;return i}}function N_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bne(e,t){return(N_(t)?h2:WI)(e,t)}function WI(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)o[s]=pl(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<i;++s)a[s]=o[s](l);return a}}function I_(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function ts(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F_(e,t){var r={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=pl(e[o],t[o]):i[o]=t[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var XI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YI=new RegExp(XI.source,"g");function wSe(e){return function(){return e}}function _Se(e){return function(t){return e(t)+""}}function P_(e,t){var r=XI.lastIndex=YI.lastIndex=0,i,o,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(i=XI.exec(e))&&(o=YI.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:ts(i,o)})),r=YI.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?_Se(u[0].x):wSe(t):(t=u.length,function(c){for(var f=0,d;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function pl(e,t){var r=typeof t,i;return t==null||r==="boolean"?p2(t):(r==="number"?ts:r==="string"?(i=il(t))?(t=i,D8):P_:t instanceof il?D8:t instanceof Date?I_:N_(t)?h2:Array.isArray(t)?WI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F_:ts)(e,t)}function $ne(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function Une(e,t){var r=Pp(+e,+t);return function(i){var o=r(i);return o-360*Math.floor(o/360)}}function Lp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var zne=180/Math.PI,L_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KI(e,t,r,i,o,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,u/=l),e*i<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*zne,skewX:Math.atan(u)*zne,scaleX:s,scaleY:l}}var B_;function Vne(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?L_:KI(t.a,t.b,t.c,t.d,t.e,t.f)}function qne(e){return e==null?L_:(B_||(B_=document.createElementNS("http://www.w3.org/2000/svg","g")),B_.setAttribute("transform",e),(e=B_.transform.baseVal.consolidate())?(e=e.matrix,KI(e.a,e.b,e.c,e.d,e.e,e.f)):L_)}function Hne(e,t,r,i){function o(c){return c.length?c.pop()+" ":""}function a(c,f,d,p,m,g){if(c!==d||f!==p){var v=m.push("translate(",null,t,null,r);g.push({i:v-4,x:ts(c,d)},{i:v-2,x:ts(f,p)})}else(d||p)&&m.push("translate("+d+t+p+r)}function s(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(o(d)+"rotate(",null,i)-2,x:ts(c,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(c,f,d,p){c!==f?p.push({i:d.push(o(d)+"skewX(",null,i)-2,x:ts(c,f)}):f&&d.push(o(d)+"skewX("+f+i)}function u(c,f,d,p,m,g){if(c!==d||f!==p){var v=m.push(o(m)+"scale(",null,",",null,")");g.push({i:v-4,x:ts(c,d)},{i:v-2,x:ts(f,p)})}else(d!==1||p!==1)&&m.push(o(m)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=e(c),f=e(f),a(c.translateX,c.translateY,f.translateX,f.translateY,d,p),s(c.rotate,f.rotate,d,p),l(c.skewX,f.skewX,d,p),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(m){for(var g=-1,v=p.length,b;++g<v;)d[(b=p[g]).i]=b.x(m);return d.join("")}}}var Gne=Hne(Vne,"px, ","px)","deg)"),jne=Hne(qne,", ",")",")");var SSe=1e-12;function Wne(e){return((e=Math.exp(e))+1/e)/2}function CSe(e){return((e=Math.exp(e))-1/e)/2}function ESe(e){return((e=Math.exp(2*e))-1)/(e+1)}var Yne=function e(t,r,i){function o(a,s){var l=a[0],u=a[1],c=a[2],f=s[0],d=s[1],p=s[2],m=f-l,g=d-u,v=m*m+g*g,b,_;if(v<SSe)_=Math.log(p/c)/t,b=function(B){return[l+B*m,u+B*g,c*Math.exp(t*B*_)]};else{var D=Math.sqrt(v),T=(p*p-c*c+i*v)/(2*c*r*D),N=(p*p-c*c-i*v)/(2*p*r*D),z=Math.log(Math.sqrt(T*T+1)-T),j=Math.log(Math.sqrt(N*N+1)-N);_=(j-z)/t,b=function(B){var U=B*_,x=Wne(z),w=c/(r*D)*(x*ESe(t*U+z)-CSe(z));return[l+w*m,u+w*g,c*x/Wne(t*U+z)]}}return b.duration=_*1e3*t/Math.SQRT2,b}return o.rho=function(a){var s=Math.max(.001,+a),l=s*s,u=l*l;return e(s,l,u)},o}(Math.SQRT2,2,4);function Xne(e){return function(t,r){var i=e((t=V6(t)).h,(r=V6(r)).h),o=Bi(t.s,r.s),a=Bi(t.l,r.l),s=Bi(t.opacity,r.opacity);return function(l){return t.h=i(l),t.s=o(l),t.l=a(l),t.opacity=s(l),t+""}}}var Kne=Xne(Pp),Qne=Xne(Bi);function QI(e,t){var r=Bi((e=zg(e)).l,(t=zg(t)).l),i=Bi(e.a,t.a),o=Bi(e.b,t.b),a=Bi(e.opacity,t.opacity);return function(s){return e.l=r(s),e.a=i(s),e.b=o(s),e.opacity=a(s),e+""}}function Zne(e){return function(t,r){var i=e((t=q6(t)).h,(r=q6(r)).h),o=Bi(t.c,r.c),a=Bi(t.l,r.l),s=Bi(t.opacity,r.opacity);return function(l){return t.h=i(l),t.c=o(l),t.l=a(l),t.opacity=s(l),t+""}}}var Jne=Zne(Pp),ere=Zne(Bi);function tre(e){return function t(r){r=+r;function i(o,a){var s=e((o=Fs(o)).h,(a=Fs(a)).h),l=Bi(o.s,a.s),u=Bi(o.l,a.l),c=Bi(o.opacity,a.opacity);return function(f){return o.h=s(f),o.s=l(f),o.l=u(Math.pow(f,r)),o.opacity=c(f),o+""}}return i.gamma=t,i}(1)}var nre=tre(Pp),rre=tre(Bi);function P1(e,t){t===void 0&&(t=e,e=pl);for(var r=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);r<i;)a[r]=e(o,o=t[++r]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[l](s-l)}}function ire(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e(i/(t-1));return r}function JI(e){return function(){return e}}function m2(e){return+e}var ore=[0,1];function La(e){return e}function eF(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JI(isNaN(t)?NaN:.5)}function DSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}function ASe(e,t,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=eF(o,i),a=r(s,a)):(i=eF(i,o),a=r(a,s)),function(l){return a(i(l))}}function MSe(e,t,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=eF(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var u=pc(e,l,1,i)-1;return a[u](o[u](l))}}function $f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L1(){var e=ore,t=ore,r=pl,i,o,a,s=La,l,u,c;function f(){var p=Math.min(e.length,t.length);return s!==La&&(s=DSe(e[0],e[p-1])),l=p>2?MSe:ASe,u=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(u||(u=l(e.map(i),t,r)))(i(s(p)))}return d.invert=function(p){return s(o((c||(c=l(t,e.map(i),ts)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,m2),f()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Lp,f()},d.clamp=function(p){return arguments.length?(s=p?!0:La,f()):s!==La},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return i=p,o=m,f()}}function A8(){return L1()(La,La)}function g2(e,t,r,i){var o=HI(e,t,r),a;switch(i=Ef(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=lk(o,s))&&(i.precision=a),cx(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=uk(o,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=sk(o))&&(i.precision=a-(i.type==="%")*2);break}}return Gg(i)}function Yl(e){var t=e.domain;return e.ticks=function(r){var i=t();return I1(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var o=t();return g2(o[0],o[o.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),o=0,a=i.length-1,s=i[o],l=i[a],u,c,f=10;for(l<s&&(c=s,s=l,l=c,c=o,o=a,a=c);f-- >0;){if(c=E8(s,l,r),c===u)return i[o]=s,i[a]=l,t(i);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function M8(){var e=A8();return e.copy=function(){return $f(e,M8())},Ao.apply(e,arguments),Yl(e)}function T8(e){var t;function r(i){return i==null||isNaN(i=+i)?t:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(e=Array.from(i,m2),r):e.slice()},r.unknown=function(i){return arguments.length?(t=i,r):t},r.copy=function(){return T8(e).unknown(t)},e=arguments.length?Array.from(e,m2):[0,1],Yl(r)}function R8(e,t){e=e.slice();var r=0,i=e.length-1,o=e[r],a=e[i],s;return a<o&&(s=r,r=i,i=s,s=o,o=a,a=s),e[r]=t.floor(o),e[i]=t.ceil(a),e}function are(e){return Math.log(e)}function sre(e){return Math.exp(e)}function TSe(e){return-Math.log(-e)}function RSe(e){return-Math.exp(-e)}function kSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OSe(e){return e===10?kSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lre(e){return(t,r)=>-e(-t,r)}function k8(e){let t=e(are,sre),r=t.domain,i=10,o,a;function s(){return o=NSe(i),a=OSe(i),r()[0]<0?(o=lre(o),a=lre(a),e(TSe,RSe)):e(are,sre),t}return t.base=function(l){return arguments.length?(i=+l,s()):i},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{let u=r(),c=u[0],f=u[u.length-1],d=f<c;d&&([c,f]=[f,c]);let p=o(c),m=o(f),g,v,b=l==null?10:+l,_=[];if(!(i%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(g=1;g<i;++g)if(v=p<0?g/a(-p):g*a(p),!(v<c)){if(v>f)break;_.push(v)}}else for(;p<=m;++p)for(g=i-1;g>=1;--g)if(v=p>0?g/a(-p):g*a(p),!(v<c)){if(v>f)break;_.push(v)}_.length*2<b&&(_=I1(c,f,b))}else _=I1(p,m,Math.min(m-p,b)).map(a);return d?_.reverse():_},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=Ef(u)).precision==null&&(u.trim=!0),u=Gg(u)),l===1/0)return u;let c=Math.max(1,i*l/t.ticks().length);return f=>{let d=f/a(Math.round(o(f)));return d*i<i-.5&&(d*=i),d<=c?u(f):""}},t.nice=()=>r(R8(r(),{floor:l=>a(Math.floor(o(l))),ceil:l=>a(Math.ceil(o(l)))})),t}function O8(){let e=k8(L1()).domain([1,10]);return e.copy=()=>$f(e,O8()).base(e.base()),Ao.apply(e,arguments),e}function ure(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cre(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N8(e){var t=1,r=e(ure(t),cre(t));return r.constant=function(i){return arguments.length?e(ure(t=+i),cre(t)):t},Yl(r)}function I8(){var e=N8(L1());return e.copy=function(){return $f(e,I8()).constant(e.constant())},Ao.apply(e,arguments)}function fre(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ISe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FSe(e){return e<0?-e*e:e*e}function F8(e){var t=e(La,La),r=1;function i(){return r===1?e(La,La):r===.5?e(ISe,FSe):e(fre(r),fre(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,i()):r},Yl(t)}function v2(){var e=F8(L1());return e.copy=function(){return $f(e,v2()).exponent(e.exponent())},Ao.apply(e,arguments),e}function tF(){return v2.apply(null,arguments).exponent(.5)}function P8(){var e=[],t=[],r=[],i;function o(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=GI(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?i:t[pc(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Lf),o()},a.range=function(s){return arguments.length?(t=Array.from(s),o()):t.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return r.slice()},a.copy=function(){return P8().domain(e).range(t).unknown(i)},Ao.apply(a,arguments)}function L8(){var e=0,t=1,r=1,i=[.5],o=[0,1],a;function s(u){return u!=null&&u<=u?o[pc(i,u,0,r)]:a}function l(){var u=-1;for(i=new Array(r);++u<r;)i[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(r=(o=Array.from(u)).length-1,l()):o.slice()},s.invertExtent=function(u){var c=o.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,i[0]]:c>=r?[i[r-1],t]:[i[c-1],i[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return i.slice()},s.copy=function(){return L8().domain([e,t]).range(o).unknown(a)},Ao.apply(Yl(s),arguments)}function B8(){var e=[.5],t=[0,1],r,i=1;function o(a){return a!=null&&a<=a?t[pc(e,a,0,i)]:r}return o.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return B8().domain(e).range(t).unknown(r)},Ao.apply(o,arguments)}function PSe(e){return new Date(e)}function LSe(e){return e instanceof Date?+e:+new Date(+e)}function $_(e,t,r,i,o,a,s,l,u,c){var f=A8(),d=f.invert,p=f.domain,m=c(".%L"),g=c(":%S"),v=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),D=c("%b %d"),T=c("%B"),N=c("%Y");function z(j){return(u(j)<j?m:l(j)<j?g:s(j)<j?v:a(j)<j?b:i(j)<j?o(j)<j?_:D:r(j)<j?T:N)(j)}return f.invert=function(j){return new Date(d(j))},f.domain=function(j){return arguments.length?p(Array.from(j,LSe)):p().map(PSe)},f.ticks=function(j){var B=p();return e(B[0],B[B.length-1],j??10)},f.tickFormat=function(j,B){return B==null?z:c(B)},f.nice=function(j){var B=p();return(!j||typeof j.range!="function")&&(j=t(B[0],B[B.length-1],j??10)),j?p(R8(B,j)):f},f.copy=function(){return $f(f,$_(e,t,r,i,o,a,s,l,u,c))},f}function U_(){return Ao.apply($_(Tk,Rk,ka,d4,sc,ac,f4,c4,oc,_x).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z_(){return Ao.apply($_(Ak,Mk,Oa,m4,uc,lc,h4,p4,oc,Sx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V_(){var e=0,t=1,r,i,o,a,s=La,l=!1,u;function c(d){return d==null||isNaN(d=+d)?u:s(o===0?.5:(d=(a(d)-r)*o,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),i=a(t=+t),o=r===i?0:1/(i-r),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(p){var m,g;return arguments.length?([m,g]=p,s=d(m,g),c):[s(0),s(1)]}}return c.range=f(pl),c.rangeRound=f(Lp),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return a=d,r=d(e),i=d(t),o=r===i?0:1/(i-r),c}}function l0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y2(){var e=Yl(V_()(La));return e.copy=function(){return l0(e,y2())},Bf.apply(e,arguments)}function q_(){var e=k8(V_()).domain([1,10]);return e.copy=function(){return l0(e,q_()).base(e.base())},Bf.apply(e,arguments)}function H_(){var e=N8(V_());return e.copy=function(){return l0(e,H_()).constant(e.constant())},Bf.apply(e,arguments)}function $8(){var e=F8(V_());return e.copy=function(){return l0(e,$8()).exponent(e.exponent())},Bf.apply(e,arguments)}function nF(){return $8.apply(null,arguments).exponent(.5)}function G_(){var e=0,t=.5,r=1,i=1,o,a,s,l,u,c=La,f,d=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-a)*(i*v<i*a?l:u),c(d?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,o=f(e=+e),a=f(t=+t),s=f(r=+r),l=o===a?0:.5/(a-o),u=a===s?0:.5/(s-a),i=a<o?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(d=!!v,m):d},m.interpolator=function(v){return arguments.length?(c=v,m):c};function g(v){return function(b){var _,D,T;return arguments.length?([_,D,T]=b,c=P1(v,[_,D,T]),m):[c(0),c(.5),c(1)]}}return m.range=g(pl),m.rangeRound=g(Lp),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return f=v,o=v(e),a=v(t),s=v(r),l=o===a?0:.5/(a-o),u=a===s?0:.5/(s-a),i=a<o?-1:1,m}}function U8(){var e=Yl(G_()(La));return e.copy=function(){return l0(e,U8())},Bf.apply(e,arguments)}function j_(){var e=k8(G_()).domain([.1,1,10]);return e.copy=function(){return l0(e,j_()).base(e.base())},Bf.apply(e,arguments)}function W_(){var e=N8(G_());return e.copy=function(){return l0(e,W_()).constant(e.constant())},Bf.apply(e,arguments)}function z8(){var e=F8(G_());return e.copy=function(){return l0(e,z8()).exponent(e.exponent())},Bf.apply(e,arguments)}function rF(){return z8.apply(null,arguments).exponent(.5)}function Mo(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}var iF=Mo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var oF=Mo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var aF=Mo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var sF=Mo("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var lF=Mo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var uF=Mo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var cF=Mo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var fF=Mo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var dF=Mo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var pF=Mo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function V8(e,t,r){let i=e-t+r*2;return e?i>0?i:1:0}var $Se="identity",$1="linear",Uf="log",b2="pow",x2="sqrt",q8="symlog",Bp="time",$p="utc",hc="sequential",U1="diverging",B1="quantile",H8="quantize",G8="threshold",X_="ordinal",K_="point",mF="band",Q_="bin-ordinal",Ho="continuous",j8="discrete",W8="discretizing",_u="interpolating",gF="temporal";function USe(e){return function(t){let r=t[0],i=t[1],o;return i<r&&(o=r,r=i,i=o),[e.invert(r),e.invert(i)]}}function zSe(e){return function(t){let r=e.range(),i=t[0],o=t[1],a=-1,s,l,u,c;for(o<i&&(l=i,i=o,o=l),u=0,c=r.length;u<c;++u)r[u]>=i&&r[u]<=o&&(a<0&&(a=u),s=u);if(!(a<0))return i=e.invertExtent(r[a]),o=e.invertExtent(r[s]),[i[0]===void 0?i[1]:i[0],o[1]===void 0?o[0]:o[1]]}}function vF(){let e=F1().unknown(void 0),t=e.domain,r=e.range,i=[0,1],o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){let d=t().length,p=i[1]<i[0],m=i[1-p],g=V8(d,l,u),v=i[p-0];o=(m-v)/(g||1),s&&(o=Math.floor(o)),v+=(m-v-o*(d-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));let b=R_(d).map(_=>v+o*_);return r(p?b.reverse():b)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?(i=[+d[0],+d[1]],f()):i.slice()},e.rangeRound=function(d){return i=[+d[0],+d[1]],s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l=u,f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;let p=i[1]<i[0],m=p?r().reverse():r(),g=m.length-1,v=+d[0],b=+d[1],_,D,T;if(!(v!==v||b!==b)&&(b<v&&(T=v,v=b,b=T),!(b<m[0]||v>i[1-p])))return _=Math.max(0,C8(m,v)-1),D=v===b?_:C8(m,b)-1,v-m[_]>a+1e-10&&++_,p&&(T=_,_=g-D,D=g-T),_>D?void 0:t().slice(_,D+1)},e.invert=function(d){let p=e.invertRange([d,d]);return p&&p[0]},e.copy=function(){return vF().domain(t()).range(i).round(s).paddingInner(l).paddingOuter(u).align(c)},f()}function mre(e){let t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return mre(t())},e}function VSe(){return mre(vF().paddingInner(1))}var qSe=Array.prototype.map;function HSe(e){return qSe.call(e,mo)}var GSe=Array.prototype.slice;function gre(){let e=[],t=[];function r(i){return i==null||i!==i?void 0:t[(pc(e,i)-1)%t.length]}return r.domain=function(i){return arguments.length?(e=HSe(i),r):e.slice()},r.range=function(i){return arguments.length?(t=GSe.call(i),r):t.slice()},r.tickFormat=function(i,o){return g2(e[0],jn(e),i??10,o)},r.copy=function(){return gre().domain(r.domain()).range(r.range())},r}var Y_=new Map,vre=Symbol("vega_scale");function yF(e){return e[vre]=!0,e}function bF(e){return e&&e[vre]===!0}function jSe(e,t,r){let i=function(){let a=t();return a.invertRange||(a.invertRange=a.invert?USe(a):a.invertExtent?zSe(a):void 0),a.type=e,yF(a)};return i.metadata=Eo(_t(r)),i}function Sr(e,t,r){return arguments.length>1?(Y_.set(e,jSe(e,t,r)),this):xF(e)?Y_.get(e):void 0}Sr($Se,T8);Sr($1,M8,Ho);Sr(Uf,O8,[Ho,Uf]);Sr(b2,v2,Ho);Sr(x2,tF,Ho);Sr(q8,I8,Ho);Sr(Bp,U_,[Ho,gF]);Sr($p,z_,[Ho,gF]);Sr(hc,y2,[Ho,_u]);Sr(`${hc}-${$1}`,y2,[Ho,_u]);Sr(`${hc}-${Uf}`,q_,[Ho,_u,Uf]);Sr(`${hc}-${b2}`,$8,[Ho,_u]);Sr(`${hc}-${x2}`,nF,[Ho,_u]);Sr(`${hc}-${q8}`,H_,[Ho,_u]);Sr(`${U1}-${$1}`,U8,[Ho,_u]);Sr(`${U1}-${Uf}`,j_,[Ho,_u,Uf]);Sr(`${U1}-${b2}`,z8,[Ho,_u]);Sr(`${U1}-${x2}`,rF,[Ho,_u]);Sr(`${U1}-${q8}`,W_,[Ho,_u]);Sr(B1,P8,[W8,B1]);Sr(H8,L8,W8);Sr(G8,B8,W8);Sr(Q_,gre,[j8,W8]);Sr(X_,F1,j8);Sr(mF,vF,j8);Sr(K_,VSe,j8);function xF(e){return Y_.has(e)}function z1(e,t){let r=Y_.get(e);return r&&r.metadata[t]}function Y8(e){return z1(e,Ho)}function Up(e){return z1(e,j8)}function Z_(e){return z1(e,W8)}function wF(e){return z1(e,Uf)}function WSe(e){return z1(e,gF)}function _F(e){return z1(e,_u)}function SF(e){return z1(e,B1)}var YSe=["clamp","base","constant","exponent"];function J_(e,t){let r=t[0],i=jn(t)-r;return function(o){return e(r+o*i)}}function w2(e,t,r){return P1(X8(t||"rgb",r),e)}function eS(e,t){let r=new Array(t),i=t+1;for(let o=0;o<t;)r[o]=e(++o/i);return r}function tS(e,t,r){let i=r-t,o,a,s;return!i||!Number.isFinite(i)?Li(.5):(o=(a=e.type).indexOf("-"),a=o<0?a:a.slice(o+1),s=Sr(a)().domain([t,r]).range([0,1]),YSe.forEach(l=>e[l]?s[l](e[l]()):0),s)}function X8(e,t){let r=ZI[XSe(e)];return t!=null&&r&&r.gamma?r.gamma(t):r}function XSe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}var KSe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},QSe={accent:oF,category10:iF,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:aF,observable10:sF,paired:lF,pastel1:uF,pastel2:cF,set1:fF,set2:dF,set3:pF,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function yre(e){if(Le(e))return e;let t=e.length/6|0,r=new Array(t);for(let i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}function bre(e,t){for(let r in e)K8(r,t(e[r]))}var dre={};bre(QSe,yre);bre(KSe,e=>w2(yre(e)));function K8(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(dre[e]=t,this):dre[e]}var Q8="symbol",ZSe="discrete",xre="gradient",JSe=e=>Le(e)?e.map(t=>String(t)):String(e),eCe=(e,t)=>e[1]-t[1],tCe=(e,t)=>t[1]-e[1];function nS(e,t,r){let i;return qn(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),r!=null&&(t=Math.min(t,Math.floor(Qd(e.domain())/r||1)+1))),yt(t)&&(i=t.step,t=t.interval),ht(t)&&(t=e.type===Bp?t0(t):e.type==$p?n0(t):Ke("Only time and utc scales accept interval strings."),i&&(t=t.every(i))),t}function CF(e,t,r){let i=e.range(),o=i[0],a=jn(i),s=eCe;if(o>a&&(i=a,a=o,o=i,s=tCe),o=Math.floor(o),a=Math.ceil(a),t=t.map(l=>[l,e(l)]).filter(l=>o<=l[1]&&l[1]<=a).sort(s).map(l=>l[0]),r>0&&t.length>1){let l=[t[0],jn(t)];for(;t.length>r&&t.length>=3;)t=t.filter((u,c)=>!(c%2));t.length<3&&(t=l)}return t}function rS(e,t){return e.bins?CF(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function EF(e,t,r,i,o,a){let s=t.type,l=JSe;if(s===Bp||o===Bp)l=e.timeFormat(i);else if(s===$p||o===$p)l=e.utcFormat(i);else if(wF(s)){let u=e.formatFloat(i);if(a||t.bins)l=u;else{let c=wre(t,r,!1);l=f=>c(f)?u(f):""}}else if(t.tickFormat){let u=t.domain();l=e.formatSpan(u[0],u[u.length-1],r,i)}else i&&(l=e.format(i));return l}function wre(e,t,r){let i=rS(e,t),o=e.base(),a=Math.log(o),s=Math.max(1,o*t/i.length),l=u=>{let c=u/Math.pow(o,Math.round(Math.log(u)/a));return c*o<o-.5&&(c*=o),c<=s};return r?i.filter(l):l}var hF={[B1]:"quantiles",[H8]:"thresholds",[G8]:"domain"},_re={[B1]:"quantiles",[H8]:"domain"};function DF(e,t){return e.bins?iCe(e.bins):e.type===Uf?wre(e,t,!0):hF[e.type]?rCe(e[hF[e.type]]()):rS(e,t)}function nCe(e,t,r){let i=t[_re[t.type]](),o=i.length,a=o>1?i[1]-i[0]:i[0],s;for(s=1;s<o;++s)a=Math.min(a,i[s]-i[s-1]);return e.formatSpan(0,a,3*10,r)}function rCe(e){let t=[-1/0].concat(e);return t.max=1/0,t}function iCe(e){let t=e.slice(0,-1);return t.max=jn(e),t}var oCe=e=>hF[e.type]||e.bins;function AF(e,t,r,i,o,a,s){let l=_re[t.type]&&a!==Bp&&a!==$p?nCe(e,t,o):EF(e,t,r,o,a,s);return i===Q8&&oCe(t)?aCe(l):i===ZSe?sCe(l):lCe(l)}var aCe=e=>(t,r,i)=>{let o=pre(i[r+1],pre(i.max,1/0)),a=hre(t,e),s=hre(o,e);return a&&s?a+" \u2013 "+s:s?"< "+s:"\u2265 "+a},pre=(e,t)=>e??t,sCe=e=>(t,r)=>r?e(t):null,lCe=e=>t=>e(t),hre=(e,t)=>Number.isFinite(e)?t(e):null;function Sre(e){let t=e.domain(),r=t.length-1,i=+t[0],o=+jn(t),a=o-i;if(e.type===G8){let s=r?a/r:.1;i-=s,o+=s,a=o-i}return s=>(s-i)/a}function uCe(e,t,r,i){let o=i||t.type;return ht(r)&&WSe(o)&&(r=r.replace(/%a/g,"%A").replace(/%b/g,"%B")),!r&&o===Bp?e.timeFormat("%A, %d %B %Y, %X"):!r&&o===$p?e.utcFormat("%A, %d %B %Y, %X UTC"):AF(e,t,5,null,r,i,!0)}function MF(e,t,r){r=r||{};let i=Math.max(3,r.maxlen||7),o=uCe(e,t,r.format,r.formatType);if(Z_(t.type)){let a=DF(t).slice(1).map(o),s=a.length;return`${s} boundar${s===1?"y":"ies"}: ${a.join(", ")}`}else if(Up(t.type)){let a=t.domain(),s=a.length,l=s>i?a.slice(0,i-2).map(o).join(", ")+", ending with "+a.slice(-1).map(o):a.map(o).join(", ");return`${s} value${s===1?"":"s"}: ${l}`}else{let a=t.domain();return`values from ${o(a[0])} to ${o(jn(a))}`}}var Yre=0;function cCe(){Yre=0}var pS="p_";function GF(e){return e&&e.gradient}function Xre(e,t,r){let i=e.gradient,o=e.id,a=i==="radial"?pS:"";return o||(o=e.id="gradient_"+Yre++,i==="radial"?(e.x1=zf(e.x1,.5),e.y1=zf(e.y1,.5),e.r1=zf(e.r1,0),e.x2=zf(e.x2,.5),e.y2=zf(e.y2,.5),e.r2=zf(e.r2,.5),a=pS):(e.x1=zf(e.x1,0),e.y1=zf(e.y1,0),e.x2=zf(e.x2,1),e.y2=zf(e.y2,0))),t[o]=e,"url("+(r||"")+"#"+a+o+")"}function zf(e,t){return e??t}function jF(e,t){var r=[],i;return i={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(o,a){return r.push({offset:o,color:a}),i}}}var Cre={basis:{curve:EI},"basis-closed":{curve:DI},"basis-open":{curve:AI},bundle:{curve:MI,tension:"beta",value:.85},cardinal:{curve:TI,tension:"tension",value:0},"cardinal-open":{curve:kI,tension:"tension",value:0},"cardinal-closed":{curve:RI,tension:"tension",value:0},"catmull-rom":{curve:OI,tension:"alpha",value:.5},"catmull-rom-closed":{curve:NI,tension:"alpha",value:.5},"catmull-rom-open":{curve:II,tension:"alpha",value:.5},linear:{curve:N1},"linear-closed":{curve:FI},monotone:{horizontal:BI,vertical:LI},natural:{curve:$I},step:{curve:UI},"step-after":{curve:VI},"step-before":{curve:zI}};function WF(e,t,r){var i=Dt(Cre,e)&&Cre[e],o=null;return i&&(o=i.curve||i[t||"vertical"],i.tension&&r!=null&&(o=o[i.tension](r))),o}var fCe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},dCe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,pCe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,hCe=/^((\s+,?\s*)|(,\s*))/,mCe=/^[01]/;function W1(e){let t=[];return(e.match(dCe)||[]).forEach(i=>{let o=i[0],a=o.toLowerCase(),s=fCe[a],l=gCe(a,s,i.slice(1).trim()),u=l.length;if(u<s||u&&u%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([o,...l.slice(0,s)]),u!==s){a==="m"&&(o=o==="M"?"L":"l");for(let c=s;c<u;c+=s)t.push([o,...l.slice(c,c+s)])}}),t}function gCe(e,t,r){let i=[];for(let o=0;t&&o<r.length;)for(let a=0;a<t;++a){let s=e==="a"&&(a===3||a===4)?mCe:pCe,l=r.slice(o).match(s);if(l===null)throw Error("Invalid SVG path, incorrect parameter type");o+=l[0].length,i.push(+l[0]);let u=r.slice(o).match(hCe);u!==null&&(o+=u[0].length)}return i}var jp=Math.PI/180,vCe=1e-14,V1=Math.PI/2,Vf=Math.PI*2,_2=Math.sqrt(3)/2,TF={},RF={},Kre=[].join;function yCe(e,t,r,i,o,a,s,l,u){let c=Kre.call(arguments);if(TF[c])return TF[c];let f=s*jp,d=Math.sin(f),p=Math.cos(f);r=Math.abs(r),i=Math.abs(i);let m=p*(l-e)*.5+d*(u-t)*.5,g=p*(u-t)*.5-d*(l-e)*.5,v=m*m/(r*r)+g*g/(i*i);v>1&&(v=Math.sqrt(v),r*=v,i*=v);let b=p/r,_=d/r,D=-d/i,T=p/i,N=b*l+_*u,z=D*l+T*u,j=b*e+_*t,B=D*e+T*t,x=1/((j-N)*(j-N)+(B-z)*(B-z))-.25;x<0&&(x=0);let w=Math.sqrt(x);a==o&&(w=-w);let C=.5*(N+j)-w*(B-z),k=.5*(z+B)+w*(j-N),F=Math.atan2(z-k,N-C),R=Math.atan2(B-k,j-C)-F;R<0&&a===1?R+=Vf:R>0&&a===0&&(R-=Vf);let $=Math.ceil(Math.abs(R/(V1+.001))),Y=[];for(let re=0;re<$;++re){let ne=F+re*R/$,he=F+(re+1)*R/$;Y[re]=[C,k,ne,he,r,i,d,p]}return TF[c]=Y}function bCe(e){let t=Kre.call(e);if(RF[t])return RF[t];var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7];let f=c*s,d=-u*l,p=u*s,m=c*l,g=Math.cos(o),v=Math.sin(o),b=Math.cos(a),_=Math.sin(a),D=.5*(a-o),T=Math.sin(D*.5),N=8/3*T*T/Math.sin(D),z=r+g-N*v,j=i+v+N*g,B=r+b,U=i+_,x=B+N*_,w=U-N*b;return RF[t]=[f*z+d*j,p*z+m*j,f*x+d*w,p*x+m*w,f*B+d*U,p*B+m*U]}var Su=["l",0,0,0,0,0,0,0];function xCe(e,t,r){let i=Su[0]=e[0];if(i==="a"||i==="A")Su[1]=t*e[1],Su[2]=r*e[2],Su[3]=e[3],Su[4]=e[4],Su[5]=e[5],Su[6]=t*e[6],Su[7]=r*e[7];else if(i==="h"||i==="H")Su[1]=t*e[1];else if(i==="v"||i==="V")Su[1]=r*e[1];else for(var o=1,a=e.length;o<a;++o)Su[o]=(o%2==1?t:r)*e[o];return Su}function C2(e,t,r,i,o,a){var s,l=null,u=0,c=0,f=0,d=0,p,m,g,v,b=0,_=0;r==null&&(r=0),i==null&&(i=0),o==null&&(o=1),a==null&&(a=o),e.beginPath&&e.beginPath();for(var D=0,T=t.length;D<T;++D){switch(s=t[D],(o!==1||a!==1)&&(s=xCe(s,o,a)),s[0]){case"l":u+=s[1],c+=s[2],e.lineTo(u+r,c+i);break;case"L":u=s[1],c=s[2],e.lineTo(u+r,c+i);break;case"h":u+=s[1],e.lineTo(u+r,c+i);break;case"H":u=s[1],e.lineTo(u+r,c+i);break;case"v":c+=s[1],e.lineTo(u+r,c+i);break;case"V":c=s[1],e.lineTo(u+r,c+i);break;case"m":u+=s[1],c+=s[2],b=u,_=c,e.moveTo(u+r,c+i);break;case"M":u=s[1],c=s[2],b=u,_=c,e.moveTo(u+r,c+i);break;case"c":p=u+s[5],m=c+s[6],f=u+s[3],d=c+s[4],e.bezierCurveTo(u+s[1]+r,c+s[2]+i,f+r,d+i,p+r,m+i),u=p,c=m;break;case"C":u=s[5],c=s[6],f=s[3],d=s[4],e.bezierCurveTo(s[1]+r,s[2]+i,f+r,d+i,u+r,c+i);break;case"s":p=u+s[3],m=c+s[4],f=2*u-f,d=2*c-d,e.bezierCurveTo(f+r,d+i,u+s[1]+r,c+s[2]+i,p+r,m+i),f=u+s[1],d=c+s[2],u=p,c=m;break;case"S":p=s[3],m=s[4],f=2*u-f,d=2*c-d,e.bezierCurveTo(f+r,d+i,s[1]+r,s[2]+i,p+r,m+i),u=p,c=m,f=s[1],d=s[2];break;case"q":p=u+s[3],m=c+s[4],f=u+s[1],d=c+s[2],e.quadraticCurveTo(f+r,d+i,p+r,m+i),u=p,c=m;break;case"Q":p=s[3],m=s[4],e.quadraticCurveTo(s[1]+r,s[2]+i,p+r,m+i),u=p,c=m,f=s[1],d=s[2];break;case"t":p=u+s[1],m=c+s[2],l[0].match(/[QqTt]/)===null?(f=u,d=c):l[0]==="t"?(f=2*u-g,d=2*c-v):l[0]==="q"&&(f=2*u-f,d=2*c-d),g=f,v=d,e.quadraticCurveTo(f+r,d+i,p+r,m+i),u=p,c=m,f=u+s[1],d=c+s[2];break;case"T":p=s[1],m=s[2],f=2*u-f,d=2*c-d,e.quadraticCurveTo(f+r,d+i,p+r,m+i),u=p,c=m;break;case"a":Ere(e,u+r,c+i,[s[1],s[2],s[3],s[4],s[5],s[6]+u+r,s[7]+c+i]),u+=s[6],c+=s[7];break;case"A":Ere(e,u+r,c+i,[s[1],s[2],s[3],s[4],s[5],s[6]+r,s[7]+i]),u=s[6],c=s[7];break;case"z":case"Z":u=b,c=_,e.closePath();break}l=s}}function Ere(e,t,r,i){let o=yCe(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,r);for(let a=0;a<o.length;++a){let s=bCe(o[a]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}var Dre=.5773502691896257,Are={circle:{draw:function(e,t){let r=Math.sqrt(t)/2;e.moveTo(r,0),e.arc(0,0,r,0,Vf)}},cross:{draw:function(e,t){var r=Math.sqrt(t)/2,i=r/2.5;e.moveTo(-r,-i),e.lineTo(-r,i),e.lineTo(-i,i),e.lineTo(-i,r),e.lineTo(i,r),e.lineTo(i,i),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(i,-i),e.lineTo(i,-r),e.lineTo(-i,-r),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){let r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.closePath()}},square:{draw:function(e,t){var r=Math.sqrt(t),i=-r/2;e.rect(i,i,r,r)}},arrow:{draw:function(e,t){var r=Math.sqrt(t)/2,i=r/7,o=r/2.5,a=r/8;e.moveTo(-i,r),e.lineTo(i,r),e.lineTo(i,-a),e.lineTo(o,-a),e.lineTo(0,-r),e.lineTo(-o,-a),e.lineTo(-i,-a),e.closePath()}},wedge:{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r,o=i-r*Dre,a=r/4;e.moveTo(0,-i-o),e.lineTo(-a,i-o),e.lineTo(a,i-o),e.closePath()}},triangle:{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r,o=i-r*Dre;e.moveTo(0,-i-o),e.lineTo(-r,i-o),e.lineTo(r,i-o),e.closePath()}},"triangle-up":{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r;e.moveTo(0,-i),e.lineTo(-r,i),e.lineTo(r,i),e.closePath()}},"triangle-down":{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r;e.moveTo(0,i),e.lineTo(-r,-i),e.lineTo(r,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r;e.moveTo(i,0),e.lineTo(-i,-r),e.lineTo(-i,r),e.closePath()}},"triangle-left":{draw:function(e,t){var r=Math.sqrt(t)/2,i=_2*r;e.moveTo(-i,0),e.lineTo(i,-r),e.lineTo(i,r),e.closePath()}},stroke:{draw:function(e,t){let r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(r,0)}}};function Qre(e){return Dt(Are,e)?Are[e]:wCe(e)}var kF={};function wCe(e){if(!Dt(kF,e)){let t=W1(e);kF[e]={draw:function(r,i){C2(r,t,0,0,Math.sqrt(i)/2)}}}return kF[e]}var zp=.448084975506;function _Ce(e){return e.x}function SCe(e){return e.y}function CCe(e){return e.width}function ECe(e){return e.height}function u0(e){return typeof e=="function"?e:()=>+e}function iS(e,t,r){return Math.max(t,Math.min(e,r))}function Zre(){var e=_Ce,t=SCe,r=CCe,i=ECe,o=u0(0),a=o,s=o,l=o,u=null;function c(f,d,p){var m,g=d??+e.call(this,f),v=p??+t.call(this,f),b=+r.call(this,f),_=+i.call(this,f),D=Math.min(b,_)/2,T=iS(+o.call(this,f),0,D),N=iS(+a.call(this,f),0,D),z=iS(+s.call(this,f),0,D),j=iS(+l.call(this,f),0,D);if(u||(u=m=O1()),T<=0&&N<=0&&z<=0&&j<=0)u.rect(g,v,b,_);else{var B=g+b,U=v+_;u.moveTo(g+T,v),u.lineTo(B-N,v),u.bezierCurveTo(B-zp*N,v,B,v+zp*N,B,v+N),u.lineTo(B,U-j),u.bezierCurveTo(B,U-zp*j,B-zp*j,U,B-j,U),u.lineTo(g+z,U),u.bezierCurveTo(g+zp*z,U,g,U-zp*z,g,U-z),u.lineTo(g,v+T),u.bezierCurveTo(g,v+zp*T,g+zp*T,v,g+T,v),u.closePath()}if(m)return u=null,m+""||null}return c.x=function(f){return arguments.length?(e=u0(f),c):e},c.y=function(f){return arguments.length?(t=u0(f),c):t},c.width=function(f){return arguments.length?(r=u0(f),c):r},c.height=function(f){return arguments.length?(i=u0(f),c):i},c.cornerRadius=function(f,d,p,m){return arguments.length?(o=u0(f),a=d!=null?u0(d):o,l=p!=null?u0(p):o,s=m!=null?u0(m):a,c):o},c.context=function(f){return arguments.length?(u=f??null,c):u},c}function Jre(){var e,t,r,i,o=null,a,s,l,u;function c(d,p,m){let g=m/2;if(a){var v=l-p,b=d-s;if(v||b){var _=Math.hypot(v,b),D=(v/=_)*u,T=(b/=_)*u,N=Math.atan2(b,v);o.moveTo(s-D,l-T),o.lineTo(d-v*g,p-b*g),o.arc(d,p,g,N-Math.PI,N),o.lineTo(s+D,l+T),o.arc(s,l,u,N,N+Math.PI)}else o.arc(d,p,g,0,Vf);o.closePath()}else a=1;s=d,l=p,u=g}function f(d){var p,m=d.length,g,v=!1,b;for(o==null&&(o=b=O1()),p=0;p<=m;++p)!(p<m&&i(g=d[p],p,d))===v&&(v=!v)&&(a=0),v&&c(+e(g,p,d),+t(g,p,d),+r(g,p,d));if(b)return o=null,b+""||null}return f.x=function(d){return arguments.length?(e=d,f):e},f.y=function(d){return arguments.length?(t=d,f):t},f.size=function(d){return arguments.length?(r=d,f):r},f.defined=function(d){return arguments.length?(i=d,f):i},f.context=function(d){return arguments.length?(d==null?o=null:o=d,f):o},f}function c9(e,t){return e??t}var f9=e=>e.x||0,d9=e=>e.y||0,DCe=e=>e.width||0,ACe=e=>e.height||0,MCe=e=>(e.x||0)+(e.width||0),TCe=e=>(e.y||0)+(e.height||0),RCe=e=>e.startAngle||0,kCe=e=>e.endAngle||0,OCe=e=>e.padAngle||0,NCe=e=>e.innerRadius||0,ICe=e=>e.outerRadius||0,FCe=e=>e.cornerRadius||0,PCe=e=>c9(e.cornerRadiusTopLeft,e.cornerRadius)||0,LCe=e=>c9(e.cornerRadiusTopRight,e.cornerRadius)||0,BCe=e=>c9(e.cornerRadiusBottomRight,e.cornerRadius)||0,$Ce=e=>c9(e.cornerRadiusBottomLeft,e.cornerRadius)||0,UCe=e=>c9(e.size,64),zCe=e=>e.size||1,TS=e=>e.defined!==!1,VCe=e=>Qre(e.shape||"circle"),qCe=CI().startAngle(RCe).endAngle(kCe).padAngle(OCe).innerRadius(NCe).outerRadius(ICe).cornerRadius(FCe),HCe=w_().x(f9).y1(d9).y0(TCe).defined(TS),GCe=w_().y(d9).x1(f9).x0(MCe).defined(TS),jCe=x8().x(f9).y(d9).defined(TS),WCe=Zre().x(f9).y(d9).width(DCe).height(ACe).cornerRadius(PCe,LCe,BCe,$Ce),YCe=__().type(VCe).size(UCe),XCe=Jre().x(f9).y(d9).defined(TS).size(zCe);function YF(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function KCe(e,t){return qCe.context(e)(t)}function QCe(e,t){let r=t[0],i=r.interpolate||"linear";return(r.orient==="horizontal"?GCe:HCe).curve(WF(i,r.orient,r.tension)).context(e)(t)}function ZCe(e,t){let r=t[0],i=r.interpolate||"linear";return jCe.curve(WF(i,r.orient,r.tension)).context(e)(t)}function M2(e,t,r,i){return WCe.context(e)(t,r,i)}function JCe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function eEe(e,t){return YCe.context(e)(t)}function tEe(e,t){return XCe.context(e)(t)}var eie=1;function tie(){eie=1}function XF(e,t,r){var i=t.clip,o=e._defs,a=t.clip_id||(t.clip_id="clip"+eie++),s=o.clipping[a]||(o.clipping[a]={id:a});return En(i)?s.path=i(null):YF(r)?s.path=M2(null,r,0,0):(s.width=r.width||0,s.height=r.height||0),"url(#"+a+")"}function no(e){this.clear(),e&&this.union(e)}no.prototype={clone(){return new no(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,r,i){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,r){let i=this.rotatedPoints(e,t,r);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,r){var{x1:i,y1:o,x2:a,y2:s}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+r*u,f=r-t*u-r*l;return[l*i-u*o+c,u*i+l*o+f,l*i-u*s+c,u*i+l*s+f,l*a-u*o+c,u*a+l*o+f,l*a-u*s+c,u*a+l*s+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function p9(e){this.mark=e,this.bounds=this.bounds||new no}function h9(e){p9.call(this,e),this.items=this.items||[]}Et(h9,p9);var hS=class{constructor(t){this._pending=0,this._loader=t||o2()}pending(){return this._pending}sanitizeURL(t){let r=this;return Mre(r),r._loader.sanitize(t,{context:"href"}).then(i=>(Z8(r),i)).catch(()=>(Z8(r),null))}loadImage(t){let r=this,i=kne();return Mre(r),r._loader.sanitize(t,{context:"image"}).then(o=>{let a=o.href;if(!a||!i)throw{url:a};let s=new i,l=Dt(o,"crossOrigin")?o.crossOrigin:"anonymous";return l!=null&&(s.crossOrigin=l),s.onload=()=>Z8(r),s.onerror=()=>Z8(r),s.src=a,s}).catch(o=>(Z8(r),{complete:!1,width:0,height:0,src:o&&o.url||""}))}ready(){let t=this;return new Promise(r=>{function i(o){t.pending()?setTimeout(()=>{i(!0)},10):r(o)}i(!1)})}};function Mre(e){e._pending+=1}function Z8(e){e._pending-=1}function qf(e,t,r){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){let i=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(i+(r?nEe(t,i):0))}return e}function nEe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}var rEe=Vf-1e-8,RS,oS,aS,G1,PF,sS,LF,BF,Vp=(e,t)=>RS.add(e,t),lS=(e,t)=>Vp(oS=e,aS=t),Tre=e=>Vp(e,RS.y1),Rre=e=>Vp(RS.x1,e),q1=(e,t)=>PF*e+LF*t,H1=(e,t)=>sS*e+BF*t,OF=(e,t)=>Vp(q1(e,t),H1(e,t)),NF=(e,t)=>lS(q1(e,t),H1(e,t));function m9(e,t){return RS=e,t?(G1=t*jp,PF=BF=Math.cos(G1),sS=Math.sin(G1),LF=-sS):(PF=BF=1,G1=sS=LF=0),iEe}var iEe={beginPath(){},closePath(){},moveTo:NF,lineTo:NF,rect(e,t,r,i){G1?(OF(e+r,t),OF(e+r,t+i),OF(e,t+i),NF(e,t)):(Vp(e+r,t+i),lS(e,t))},quadraticCurveTo(e,t,r,i){let o=q1(e,t),a=H1(e,t),s=q1(r,i),l=H1(r,i);kre(oS,o,s,Tre),kre(aS,a,l,Rre),lS(s,l)},bezierCurveTo(e,t,r,i,o,a){let s=q1(e,t),l=H1(e,t),u=q1(r,i),c=H1(r,i),f=q1(o,a),d=H1(o,a);Ore(oS,s,u,f,Tre),Ore(aS,l,c,d,Rre),lS(f,d)},arc(e,t,r,i,o,a){if(i+=G1,o+=G1,oS=r*Math.cos(o)+e,aS=r*Math.sin(o)+t,Math.abs(o-i)>rEe)Vp(e-r,t-r),Vp(e+r,t+r);else{let s=c=>Vp(r*Math.cos(c)+e,r*Math.sin(c)+t),l,u;if(s(i),s(o),o!==i)if(i=i%Vf,i<0&&(i+=Vf),o=o%Vf,o<0&&(o+=Vf),o<i&&(a=!a,l=i,i=o,o=l),a)for(o-=Vf,l=i-i%V1,u=0;u<4&&l>o;++u,l-=V1)s(l);else for(l=i-i%V1+V1,u=0;u<4&&l<o;++u,l=l+V1)s(l)}}};function kre(e,t,r,i){let o=(e-t)/(e+r-2*t);0<o&&o<1&&i(e+(t-e)*o)}function Ore(e,t,r,i,o){let a=i-e+3*t-3*r,s=e+r-2*t,l=e-t,u=0,c=0,f;Math.abs(a)>vCe?(f=s*s+l*a,f>=0&&(f=Math.sqrt(f),u=(-s+f)/a,c=(-s-f)/a)):u=.5*l/s,0<u&&u<1&&o(Nre(u,e,t,r,i)),0<c&&c<1&&o(Nre(c,e,t,r,i))}function Nre(e,t,r,i,o){let a=1-e,s=a*a,l=e*e;return s*a*t+3*s*e*r+3*a*l*i+l*e*o}var Gp=(Gp=wu(1,1))?Gp.getContext("2d"):null,$F=new no;function KF(e){return function(t,r){if(!Gp)return!0;e(Gp,t),$F.clear().union(t.bounds).intersect(r).round();let{x1:i,y1:o,x2:a,y2:s}=$F;for(let l=o;l<=s;++l)for(let u=i;u<=a;++u)if(Gp.isPointInPath(u,l))return!0;return!1}}function QF(e,t){return t.contains(e.x||0,e.y||0)}function nie(e,t){let r=e.x||0,i=e.y||0,o=e.width||0,a=e.height||0;return t.intersects($F.set(r,i,r+o,i+a))}function rie(e,t){let r=e.x||0,i=e.y||0,o=e.x2!=null?e.x2:r,a=e.y2!=null?e.y2:i;return S2(t,r,i,o,a)}function S2(e,t,r,i,o){let{x1:a,y1:s,x2:l,y2:u}=e,c=i-t,f=o-r,d=0,p=1,m,g,v,b;for(b=0;b<4;++b){if(b===0&&(m=-c,g=-(a-t)),b===1&&(m=c,g=l-t),b===2&&(m=-f,g=-(s-r)),b===3&&(m=f,g=u-r),Math.abs(m)<1e-10&&g<0)return!1;if(v=g/m,m<0){if(v>p)return!1;v>d&&(d=v)}else if(m>0){if(v<d)return!1;v<p&&(p=v)}}return!0}function E2(e,t){e.globalCompositeOperation=t.blend||"source-over"}function mc(e,t){return e??t}function Ire(e,t){let r=t.length;for(let i=0;i<r;++i)e.addColorStop(t[i].offset,t[i].color);return e}function oEe(e,t,r){let i=r.width(),o=r.height(),a;if(t.gradient==="radial")a=e.createRadialGradient(r.x1+mc(t.x1,.5)*i,r.y1+mc(t.y1,.5)*o,Math.max(i,o)*mc(t.r1,0),r.x1+mc(t.x2,.5)*i,r.y1+mc(t.y2,.5)*o,Math.max(i,o)*mc(t.r2,.5));else{let s=mc(t.x1,0),l=mc(t.y1,0),u=mc(t.x2,1),c=mc(t.y2,0);if(s===u||l===c||i===o)a=e.createLinearGradient(r.x1+s*i,r.y1+l*o,r.x1+u*i,r.y1+c*o);else{let f=wu(Math.ceil(i),Math.ceil(o)),d=f.getContext("2d");return d.scale(i,o),d.fillStyle=Ire(d.createLinearGradient(s,l,u,c),t.stops),d.fillRect(0,0,i,o),e.createPattern(f,"no-repeat")}}return Ire(a,t.stops)}function iie(e,t,r){return GF(r)?oEe(e,r,t.bounds):r}function mS(e,t,r){return r*=t.fillOpacity==null?1:t.fillOpacity,r>0?(e.globalAlpha=r,e.fillStyle=iie(e,t,t.fill),!0):!1}var aEe=[];function D2(e,t,r){var i=(i=t.strokeWidth)!=null?i:1;return i<=0?!1:(r*=t.strokeOpacity==null?1:t.strokeOpacity,r>0?(e.globalAlpha=r,e.strokeStyle=iie(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||aEe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function sEe(e,t){return e.zindex-t.zindex||e.index-t.index}function ZF(e){if(!e.zdirty)return e.zitems;var t=e.items,r=[],i,o,a;for(o=0,a=t.length;o<a;++o)i=t[o],i.index=o,i.zindex&&r.push(i);return e.zdirty=!1,e.zitems=r.sort(sEe)}function vc(e,t){var r=e.items,i,o;if(!r||!r.length)return;let a=ZF(e);if(a&&a.length){for(i=0,o=r.length;i<o;++i)r[i].zindex||t(r[i]);r=a}for(i=0,o=r.length;i<o;++i)t(r[i])}function gS(e,t){var r=e.items,i,o;if(!r||!r.length)return null;let a=ZF(e);for(a&&a.length&&(r=a),o=r.length;--o>=0;)if(i=t(r[o]))return i;if(r===a){for(r=e.items,o=r.length;--o>=0;)if(!r[o].zindex&&(i=t(r[o])))return i}return null}function JF(e){return function(t,r,i){vc(r,o=>{(!i||i.intersects(o.bounds))&&oie(e,t,o,o)})}}function lEe(e){return function(t,r,i){r.items.length&&(!i||i.intersects(r.bounds))&&oie(e,t,r.items[0],r.items)}}function oie(e,t,r,i){var o=r.opacity==null?1:r.opacity;o!==0&&(e(t,i)||(E2(t,r),r.fill&&mS(t,r,o)&&t.fill(),r.stroke&&D2(t,r,o)&&t.stroke()))}function kS(e){return e=e||qo,function(t,r,i,o,a,s){return i*=t.pixelRatio,o*=t.pixelRatio,gS(r,l=>{let u=l.bounds;if(!(u&&!u.contains(a,s)||!u)&&e(t,l,i,o,a,s))return l})}}function g9(e,t){return function(r,i,o,a){var s=Array.isArray(i)?i[0]:i,l=t??s.fill,u=s.stroke&&r.isPointInStroke,c,f;return u&&(c=s.strokeWidth,f=s.strokeCap,r.lineWidth=c??1,r.lineCap=f??"butt"),e(r,i)?!1:l&&r.isPointInPath(o,a)||u&&r.isPointInStroke(o,a)}}function eP(e){return kS(g9(e))}function j1(e,t){return"translate("+e+","+t+")"}function tP(e){return"rotate("+e+")"}function uEe(e,t){return"scale("+e+","+t+")"}function aie(e){return j1(e.x||0,e.y||0)}function cEe(e){return j1(e.x||0,e.y||0)+(e.angle?" "+tP(e.angle):"")}function fEe(e){return j1(e.x||0,e.y||0)+(e.angle?" "+tP(e.angle):"")+(e.scaleX||e.scaleY?" "+uEe(e.scaleX||1,e.scaleY||1):"")}function nP(e,t,r){function i(s,l){s("transform",cEe(l)),s("d",t(null,l))}function o(s,l){return t(m9(s,l.angle),l),qf(s,l).translate(l.x||0,l.y||0)}function a(s,l){var u=l.x||0,c=l.y||0,f=l.angle||0;s.translate(u,c),f&&s.rotate(f*=jp),s.beginPath(),t(s,l),f&&s.rotate(-f),s.translate(-u,-c)}return{type:e,tag:"path",nested:!1,attr:i,bound:o,draw:JF(a),pick:eP(a),isect:r||KF(a)}}var dEe=nP("arc",KCe);function pEe(e,t){for(var r=e[0].orient==="horizontal"?t[1]:t[0],i=e[0].orient==="horizontal"?"y":"x",o=e.length,a=1/0,s,l;--o>=0;)e[o].defined!==!1&&(l=Math.abs(e[o][i]-r),l<a&&(a=l,s=e[o]));return s}function hEe(e,t){for(var r=Math.pow(e[0].strokeWidth||1,2),i=e.length,o,a,s;--i>=0;)if(e[i].defined!==!1&&(o=e[i].x-t[0],a=e[i].y-t[1],s=o*o+a*a,s<r))return e[i];return null}function mEe(e,t){for(var r=e.length,i,o,a;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],a=i*i+o*o,i=e[r].size||1,a<i*i))return e[r];return null}function rP(e,t,r){function i(u,c){var f=c.mark.items;f.length&&u("d",t(null,f))}function o(u,c){var f=c.items;return f.length===0?u:(t(m9(u),f),qf(u,f[0]))}function a(u,c){u.beginPath(),t(u,c)}let s=g9(a);function l(u,c,f,d,p,m){var g=c.items,v=c.bounds;return!g||!g.length||v&&!v.contains(p,m)?null:(f*=u.pixelRatio,d*=u.pixelRatio,s(u,g,f,d)?g[0]:null)}return{type:e,tag:"path",nested:!0,attr:i,bound:o,draw:lEe(a),pick:l,isect:QF,tip:r}}var gEe=rP("area",QCe,pEe);function vEe(e,t){var r=t.clip;e.save(),En(r)?(e.beginPath(),r(e),e.clip()):sie(e,t.group)}function sie(e,t){e.beginPath(),YF(t)?M2(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function lie(e){let t=mc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function yEe(e,t){e("transform",aie(t))}function uie(e,t){let r=lie(t);e("d",M2(null,t,r,r))}function bEe(e,t){e("class","background"),e("aria-hidden",!0),uie(e,t)}function xEe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?uie(e,t):e("d","")}function wEe(e,t,r){let i=t.clip?XF(r,t,t):null;e("clip-path",i)}function _Ee(e,t){if(!t.clip&&t.items){let r=t.items,i=r.length;for(let o=0;o<i;++o)e.union(r[o].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),qf(e,t),e.translate(t.x||0,t.y||0)}function i9(e,t,r,i){let o=lie(t);e.beginPath(),M2(e,t,(r||0)+o,(i||0)+o)}var SEe=g9(i9),CEe=g9(i9,!1),EEe=g9(i9,!0);function DEe(e,t,r,i){vc(t,o=>{let a=o.x||0,s=o.y||0,l=o.strokeForeground,u=o.opacity==null?1:o.opacity;(o.stroke||o.fill)&&u&&(i9(e,o,a,s),E2(e,o),o.fill&&mS(e,o,u)&&e.fill(),o.stroke&&!l&&D2(e,o,u)&&e.stroke()),e.save(),e.translate(a,s),o.clip&&sie(e,o),r&&r.translate(-a,-s),vc(o,c=>{(c.marktype==="group"||i==null||i.includes(c.marktype))&&this.draw(e,c,r,i)}),r&&r.translate(a,s),e.restore(),l&&o.stroke&&u&&(i9(e,o,a,s),E2(e,o),D2(e,o,u)&&e.stroke())})}function AEe(e,t,r,i,o,a){if(t.bounds&&!t.bounds.contains(o,a)||!t.items)return null;let s=r*e.pixelRatio,l=i*e.pixelRatio;return gS(t,u=>{let c,f,d,p=u.bounds;if(p&&!p.contains(o,a))return;f=u.x||0,d=u.y||0;let m=f+(u.width||0),g=d+(u.height||0),v=u.clip;if(v&&(o<f||o>m||a<d||a>g))return;if(e.save(),e.translate(f,d),f=o-f,d=a-d,v&&YF(u)&&!EEe(e,u,s,l))return e.restore(),null;let b=u.strokeForeground,_=t.interactive!==!1;return _&&b&&u.stroke&&CEe(e,u,s,l)?(e.restore(),u):(c=gS(u,D=>MEe(D,f,d)?this.pick(D,r,i,f,d):null),!c&&_&&(u.fill||!b&&u.stroke)&&SEe(e,u,s,l)&&(c=u),e.restore(),c||null)})}function MEe(e,t,r){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,r)}var TEe={type:"group",tag:"g",nested:!1,attr:yEe,bound:_Ee,draw:DEe,pick:AEe,isect:nie,content:wEe,background:bEe,foreground:xEe},o9={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function iP(e,t){var r=e.image;return(!r||e.url&&e.url!==r.url)&&(r={complete:!1,width:0,height:0},t.loadImage(e.url).then(i=>{e.image=i,e.image.url=e.url})),r}function oP(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function aP(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function OS(e,t){return e==="center"?t/2:e==="right"?t:0}function NS(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function REe(e,t,r){let i=iP(t,r),o=oP(t,i),a=aP(t,i),s=(t.x||0)-OS(t.align,o),l=(t.y||0)-NS(t.baseline,a),u=!i.src&&i.toDataURL?i.toDataURL():i.src||"";e("href",u,o9["xmlns:xlink"],"xlink:href"),e("transform",j1(s,l)),e("width",o),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function kEe(e,t){let r=t.image,i=oP(t,r),o=aP(t,r),a=(t.x||0)-OS(t.align,i),s=(t.y||0)-NS(t.baseline,o);return e.set(a,s,a+i,s+o)}function OEe(e,t,r){vc(t,i=>{if(r&&!r.intersects(i.bounds))return;let o=iP(i,this),a=oP(i,o),s=aP(i,o);if(a===0||s===0)return;let l=(i.x||0)-OS(i.align,a),u=(i.y||0)-NS(i.baseline,s),c,f,d,p;i.aspect!==!1&&(f=o.width/o.height,d=i.width/i.height,f===f&&d===d&&f!==d&&(d<f?(p=a/f,u+=(s-p)/2,s=p):(p=s*f,l+=(a-p)/2,a=p))),(o.complete||o.toDataURL)&&(E2(e,i),e.globalAlpha=(c=i.opacity)!=null?c:1,e.imageSmoothingEnabled=i.smooth!==!1,e.drawImage(o,l,u,a,s))})}var NEe={type:"image",tag:"image",nested:!1,attr:REe,bound:kEe,draw:OEe,pick:kS(),isect:qo,get:iP,xOffset:OS,yOffset:NS},IEe=rP("line",ZCe,hEe);function FEe(e,t){var r=t.scaleX||1,i=t.scaleY||1;(r!==1||i!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",fEe(t)),e("d",t.path)}function uS(e,t){var r=t.path;if(r==null)return!0;var i=t.x||0,o=t.y||0,a=t.scaleX||1,s=t.scaleY||1,l=(t.angle||0)*jp,u=t.pathCache;(!u||u.path!==r)&&((t.pathCache=u=W1(r)).path=r),l&&e.rotate&&e.translate?(e.translate(i,o),e.rotate(l),C2(e,u,0,0,a,s),e.rotate(-l),e.translate(-i,-o)):C2(e,u,i,o,a,s)}function PEe(e,t){return uS(m9(e,t.angle),t)?e.set(0,0,0,0):qf(e,t,!0)}var LEe={type:"path",tag:"path",nested:!1,attr:FEe,bound:PEe,draw:JF(uS),pick:eP(uS),isect:KF(uS)};function BEe(e,t){e("d",M2(null,t))}function $Ee(e,t){var r,i;return qf(e.set(r=t.x||0,i=t.y||0,r+t.width||0,i+t.height||0),t)}function Fre(e,t){e.beginPath(),M2(e,t)}var UEe={type:"rect",tag:"path",nested:!1,attr:BEe,bound:$Ee,draw:JF(Fre),pick:eP(Fre),isect:nie};function zEe(e,t){e("transform",aie(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function VEe(e,t){var r,i;return qf(e.set(r=t.x||0,i=t.y||0,t.x2!=null?t.x2:r,t.y2!=null?t.y2:i),t)}function cie(e,t,r){var i,o,a,s;return t.stroke&&D2(e,t,r)?(i=t.x||0,o=t.y||0,a=t.x2!=null?t.x2:i,s=t.y2!=null?t.y2:o,e.beginPath(),e.moveTo(i,o),e.lineTo(a,s),!0):!1}function qEe(e,t,r){vc(t,i=>{if(!(r&&!r.intersects(i.bounds))){var o=i.opacity==null?1:i.opacity;o&&cie(e,i,o)&&(E2(e,i),e.stroke())}})}function HEe(e,t,r,i){return e.isPointInStroke?cie(e,t,1)&&e.isPointInStroke(r,i):!1}var GEe={type:"rule",tag:"line",nested:!1,attr:zEe,bound:VEe,draw:qEe,pick:kS(HEe),isect:rie},jEe=nP("shape",JCe),WEe=nP("symbol",eEe,QF),Pre=wO(),hl={height:Hf,measureWidth:sP,estimateWidth:vS,width:vS,canvas:fie};fie(!0);function fie(e){hl.width=e&&Gp?sP:vS}function vS(e,t){return die(Yp(e,t),Hf(e))}function die(e,t){return~~(.8*e.length*t)}function sP(e,t){return Hf(e)<=0||!(t=Yp(e,t))?0:pie(t,FS(e))}function pie(e,t){let r=`(${t}) ${e}`,i=Pre.get(r);return i===void 0&&(Gp.font=t,i=Gp.measureText(e).width,Pre.set(r,i)),i}function Hf(e){return e.fontSize!=null?+e.fontSize||0:11}function Wp(e){return e.lineHeight!=null?e.lineHeight:Hf(e)+2}function YEe(e){return Le(e)?e.length>1?e:e[0]:e}function v9(e){return YEe(e.lineBreak&&e.text&&!Le(e.text)?e.text.split(e.lineBreak):e.text)}function IS(e){let t=v9(e);return(Le(t)?t.length-1:0)*Wp(e)}function Yp(e,t){let r=t==null?"":(t+"").trim();return e.limit>0&&r.length?KEe(e,r):r}function XEe(e){if(hl.width===sP){let t=FS(e);return r=>pie(r,t)}else if(hl.width===vS){let t=Hf(e);return r=>die(r,t)}else return t=>hl.width(e,t)}function KEe(e,t){var r=+e.limit,i=XEe(e);if(i(t)<r)return t;var o=e.ellipsis||"\u2026",a=e.dir==="rtl",s=0,l=t.length,u;if(r-=i(o),a){for(;s<l;)u=s+l>>>1,i(t.slice(u))>r?s=u+1:l=u;return o+t.slice(s)}else{for(;s<l;)u=1+(s+l>>>1),i(t.slice(0,u))<r?s=u:l=u-1;return t.slice(0,s)+o}}function y9(e,t){var r=e.font;return(t&&r?String(r).replace(/"/g,"'"):r)||"sans-serif"}function FS(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Hf(e)+"px "+y9(e,t)}function lP(e){var t=e.baseline,r=Hf(e);return Math.round(t==="top"?.79*r:t==="middle"?.3*r:t==="bottom"?-.21*r:t==="line-top"?.29*r+.5*Wp(e):t==="line-bottom"?.29*r-.5*Wp(e):0)}var QEe={left:"start",center:"middle",right:"end"},t9=new no;function PS(e){var t=e.x||0,r=e.y||0,i=e.radius||0,o;return i&&(o=(e.theta||0)-V1,t+=i*Math.cos(o),r+=i*Math.sin(o)),t9.x1=t,t9.y1=r,t9}function ZEe(e,t){var r=t.dx||0,i=(t.dy||0)+lP(t),o=PS(t),a=o.x1,s=o.y1,l=t.angle||0,u;e("text-anchor",QEe[t.align]||"start"),l?(u=j1(a,s)+" "+tP(l),(r||i)&&(u+=" "+j1(r,i))):u=j1(a+r,s+i),e("transform",u)}function uP(e,t,r){var i=hl.height(t),o=t.align,a=PS(t),s=a.x1,l=a.y1,u=t.dx||0,c=(t.dy||0)+lP(t)-Math.round(.8*i),f=v9(t),d;if(Le(f)?(i+=Wp(t)*(f.length-1),d=f.reduce((p,m)=>Math.max(p,hl.width(t,m)),0)):d=hl.width(t,f),o==="center"?u-=d/2:o==="right"&&(u-=d),e.set(u+=s,c+=l,u+d,c+i),t.angle&&!r)e.rotate(t.angle*jp,s,l);else if(r===2)return e.rotatedPoints(t.angle*jp,s,l);return e}function JEe(e,t,r){vc(t,i=>{var o=i.opacity==null?1:i.opacity,a,s,l,u,c,f,d;if(!(r&&!r.intersects(i.bounds)||o===0||i.fontSize<=0||i.text==null||i.text.length===0)){if(e.font=FS(i),e.textAlign=i.align||"left",a=PS(i),s=a.x1,l=a.y1,i.angle&&(e.save(),e.translate(s,l),e.rotate(i.angle*jp),s=l=0),s+=i.dx||0,l+=(i.dy||0)+lP(i),f=v9(i),E2(e,i),Le(f))for(c=Wp(i),u=0;u<f.length;++u)d=Yp(i,f[u]),i.fill&&mS(e,i,o)&&e.fillText(d,s,l),i.stroke&&D2(e,i,o)&&e.strokeText(d,s,l),l+=c;else d=Yp(i,f),i.fill&&mS(e,i,o)&&e.fillText(d,s,l),i.stroke&&D2(e,i,o)&&e.strokeText(d,s,l);i.angle&&e.restore()}})}function eDe(e,t,r,i,o,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=PS(t),l=s.x1,u=s.y1,c=uP(t9,t,1),f=-t.angle*jp,d=Math.cos(f),p=Math.sin(f),m=d*o-p*a+(l-d*l+p*u),g=p*o+d*a+(u-p*l-d*u);return c.contains(m,g)}function tDe(e,t){let r=uP(t9,e,2);return S2(t,r[0],r[1],r[2],r[3])||S2(t,r[0],r[1],r[4],r[5])||S2(t,r[4],r[5],r[6],r[7])||S2(t,r[2],r[3],r[6],r[7])}var nDe={type:"text",tag:"text",nested:!1,attr:ZEe,bound:uP,draw:JEe,pick:kS(eDe),isect:tDe},rDe=rP("trail",tEe,mEe),qs={arc:dEe,area:gEe,group:TEe,image:NEe,line:IEe,path:LEe,rect:UEe,rule:GEe,shape:jEe,symbol:WEe,text:nDe,trail:rDe};function UF(e,t,r){var i=qs[e.mark.marktype],o=t||i.bound;return i.nested&&(e=e.mark),o(e.bounds||(e.bounds=new no),e,r)}var Lre={mark:null};function hie(e,t,r){var i=qs[e.marktype],o=i.bound,a=e.items,s=a&&a.length,l,u,c,f;if(i.nested)return s?c=a[0]:(Lre.mark=e,c=Lre),f=UF(c,o,r),t=t&&t.union(f)||f,t;if(t=t||e.bounds&&e.bounds.clear()||new no,s)for(l=0,u=a.length;l<u;++l)t.union(UF(a[l],o,r));return e.bounds=t}var iDe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function mie(e,t){return JSON.stringify(e,iDe,t)}function gie(e){let t=typeof e=="string"?JSON.parse(e):e;return vie(t)}function vie(e){var t=e.marktype,r=e.items,i,o,a;if(r)for(o=0,a=r.length;o<a;++o)i=t?"mark":"group",r[o][i]=e,r[o].zindex&&(r[o][i].zdirty=!0),(t||i)==="group"&&vie(r[o]);return t&&hie(e),e}var a9=class{constructor(t){arguments.length?this.root=gie(t):(this.root=Bre({marktype:"group",name:"root",role:"frame"}),this.root.items=[new h9(this.root)])}toJSON(t){return mie(this.root,t||0)}mark(t,r,i){r=r||this.root.items[0];let o=Bre(t,r);return r.items[i]=o,o.zindex&&(o.group.zdirty=!0),o}};function Bre(e,t){let r={bounds:new no,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(r.aria=e.aria),e.description&&(r.description=e.description),r}function qp(e,t,r){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?r?e.createElementNS(r,t):e.createElement(t):null}function cP(e,t){t=t.toLowerCase();for(var r=e.childNodes,i=0,o=r.length;i<o;++i)if(r[i].tagName.toLowerCase()===t)return r[i]}function jo(e,t,r,i){var o=e.childNodes[t],a;return(!o||o.tagName.toLowerCase()!==r.toLowerCase())&&(a=o||null,o=qp(e.ownerDocument,r,i),e.insertBefore(o,a)),o}function Cu(e,t){for(var r=e.childNodes,i=r.length;i>t;)e.removeChild(r[--i]);return e}function yie(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function b9(e,t){let r=t.getBoundingClientRect();return[e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0)]}function oDe(e,t,r,i){var o=e&&e.mark,a,s;if(o&&(a=qs[o.marktype]).tip){for(s=b9(t,r),s[0]-=i[0],s[1]-=i[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=a.tip(o.items,s)}return e}var s9=class{constructor(t,r){this._active=null,this._handlers={},this._loader=t||o2(),this._tooltip=r||aDe}initialize(t,r,i){return this._el=t,this._obj=i||null,this.origin(r)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,r,i){for(let o=t?t.length:0;--o>=0;)if(t[o].type===r&&(!i||t[o].handler===i))return o;return-1}handlers(t){let r=this._handlers,i=[];if(t)i.push(...r[this.eventName(t)]);else for(let o in r)i.push(...r[o]);return i}eventName(t){let r=t.indexOf(".");return r<0?t:t.slice(0,r)}handleHref(t,r,i){this._loader.sanitize(i,{context:"href"}).then(o=>{let a=new MouseEvent(t.type,t),s=qp(null,"a");for(let l in o)s.setAttribute(l,o[l]);s.dispatchEvent(a)}).catch(()=>{})}handleTooltip(t,r,i){if(r&&r.tooltip!=null){r=oDe(r,t,this.canvas(),this._origin);let o=i&&r&&r.tooltip||null;this._tooltip.call(this._obj,this,t,r,o)}}getItemBoundingClientRect(t){let r=this.canvas();if(!r)return;let i=r.getBoundingClientRect(),o=this._origin,a=t.bounds,s=a.width(),l=a.height(),u=a.x1+o[0]+i.left,c=a.y1+o[1]+i.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,c+=t.y||0;return{x:u,y:c,width:s,height:l,left:u,top:c,right:u+s,bottom:c+l}}};function aDe(e,t,r,i){e.element().setAttribute("title",i||"")}var Y1=class{constructor(t){this._el=null,this._bgcolor=null,this._loader=new hS(t)}initialize(t,r,i,o,a){return this._el=t,this.resize(r,i,o,a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,r,i,o){return this._width=t,this._height=r,this._origin=i||[0,0],this._scale=o||1,this}dirty(){}render(t,r){let i=this;return i._call=function(){i._render(t,r)},i._call(),i._call=null,i}_render(){}renderAsync(t,r){let i=this.render(t,r);return this._ready?this._ready.then(()=>i):Promise.resolve(i)}_load(t,r){var i=this,o=i._loader[t](r);if(!i._ready){let a=i._call;i._ready=i._loader.ready().then(s=>{s&&a(),i._ready=null})}return o}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}},sDe="keydown",lDe="keypress",uDe="keyup",bie="dragenter",cS="dragleave",xie="dragover",zF="pointerdown",cDe="pointerup",yS="pointermove",fS="pointerout",wie="pointerover",VF="mousedown",fDe="mouseup",_ie="mousemove",bS="mouseout",Sie="mouseover",xS="click",dDe="dblclick",pDe="wheel",Cie="mousewheel",wS="touchstart",_S="touchmove",SS="touchend",hDe=[sDe,lDe,uDe,bie,cS,xie,zF,cDe,yS,fS,wie,VF,fDe,_ie,bS,Sie,xS,dDe,pDe,Cie,wS,_S,SS],qF=yS,n9=bS,HF=xS,Xp=class extends s9{constructor(t,r){super(t,r),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=hDe,this.pointermove=Ure([yS,_ie],[wie,Sie],[fS,bS]),this.dragover=Ure([xie],[bie],[cS]),this.pointerout=zre([fS,bS]),this.dragleave=zre([cS])}initialize(t,r,i){return this._canvas=t&&cP(t,"canvas"),[xS,VF,zF,yS,fS,cS].forEach(o=>$re(this,o)),super.initialize(t,r,i)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Cie,t)}pointerdown(t){this._down=this._active,this.fire(zF,t)}mousedown(t){this._down=this._active,this.fire(VF,t)}click(t){this._down===this._active&&(this.fire(xS,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(wS,t,!0)}touchmove(t){this.fire(_S,t,!0)}touchend(t){this.fire(SS,t,!0),this._touch=null}fire(t,r,i){let o=i?this._touch:this._active,a=this._handlers[t];if(r.vegaType=t,t===HF&&o&&o.href?this.handleHref(r,o,o.href):(t===qF||t===n9)&&this.handleTooltip(r,o,t!==n9),a)for(let s=0,l=a.length;s<l;++s)a[s].handler.call(this._obj,r,o)}on(t,r){let i=this.eventName(t),o=this._handlers;return this._handlerIndex(o[i],t,r)<0&&($re(this,t),(o[i]||(o[i]=[])).push({type:t,handler:r})),this}off(t,r){let i=this.eventName(t),o=this._handlers[i],a=this._handlerIndex(o,t,r);return a>=0&&o.splice(a,1),this}pickEvent(t){let r=b9(t,this._canvas),i=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-i[0],r[1]-i[1])}pick(t,r,i,o,a){let s=this.context();return qs[t.marktype].pick.call(this,s,t,r,i,o,a)}},mDe=e=>e===wS||e===_S||e===SS?[wS,_S,SS]:[e];function $re(e,t){mDe(t).forEach(r=>gDe(e,r))}function gDe(e,t){let r=e.canvas();r&&!e._events[t]&&(e._events[t]=1,r.addEventListener(t,e[t]?i=>e[t](i):i=>e.fire(t,i)))}function e9(e,t,r){t.forEach(i=>e.fire(i,r))}function Ure(e,t,r){return function(i){let o=this._active,a=this.pickEvent(i);a===o?e9(this,e,i):((!o||!o.exit)&&e9(this,r,i),this._active=a,e9(this,t,i),e9(this,e,i))}}function zre(e){return function(t){e9(this,e,t),this._active=null}}function vDe(){return typeof window<"u"&&window.devicePixelRatio||1}function yDe(e,t,r,i,o,a){let s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,l=e.getContext("2d"),u=s?vDe():o;e.width=t*u,e.height=r*u;for(let c in a)l[c]=a[c];return s&&u!==1&&(e.style.width=t+"px",e.style.height=r+"px"),l.pixelRatio=u,l.setTransform(u,0,0,u,u*i[0],u*i[1]),e}var A2=class extends Y1{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new no,this._tempb=new no}initialize(t,r,i,o,a,s){return this._options=s||{},this._canvas=this._options.externalContext?null:wu(1,1,this._options.type),t&&this._canvas&&(Cu(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,r,i,o,a)}resize(t,r,i,o){if(super.resize(t,r,i,o),this._canvas)yDe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let a=this._options.externalContext;a||Ke("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){let r=this._tempb.clear().union(t.bounds),i=t.mark.group;for(;i;)r.translate(i.x||0,i.y||0),i=i.mark.group;this._dirty.union(r)}_render(t,r){let i=this.context(),o=this._origin,a=this._width,s=this._height,l=this._dirty,u=bDe(o,a,s);i.save();let c=this._redraw||l.empty()?(this._redraw=!1,u.expand(1)):xDe(i,u.intersect(l),o);return this.clear(-o[0],-o[1],a,s),this.draw(i,t,c,r),i.restore(),l.clear(),this}draw(t,r,i,o){if(r.marktype!=="group"&&o!=null&&!o.includes(r.marktype))return;let a=qs[r.marktype];r.clip&&vEe(t,r),a.draw.call(this,t,r,i,o),r.clip&&t.restore()}clear(t,r,i,o){let a=this._options,s=this.context();a.type!=="pdf"&&!a.externalContext&&s.clearRect(t,r,i,o),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,r,i,o))}},bDe=(e,t,r)=>new no().set(0,0,t,r).translate(-e[0],-e[1]);function xDe(e,t,r){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(r[0]%1),-(r[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}var CS=class extends s9{constructor(t,r){super(t,r);let i=this;i._hrefHandler=IF(i,(o,a)=>{a&&a.href&&i.handleHref(o,a,a.href)}),i._tooltipHandler=IF(i,(o,a)=>{i.handleTooltip(o,a,o.type!==n9)})}initialize(t,r,i){let o=this._svg;return o&&(o.removeEventListener(HF,this._hrefHandler),o.removeEventListener(qF,this._tooltipHandler),o.removeEventListener(n9,this._tooltipHandler)),this._svg=o=t&&cP(t,"svg"),o&&(o.addEventListener(HF,this._hrefHandler),o.addEventListener(qF,this._tooltipHandler),o.addEventListener(n9,this._tooltipHandler)),super.initialize(t,r,i)}canvas(){return this._svg}on(t,r){let i=this.eventName(t),o=this._handlers;if(this._handlerIndex(o[i],t,r)<0){let s={type:t,handler:r,listener:IF(this,r)};(o[i]||(o[i]=[])).push(s),this._svg&&this._svg.addEventListener(i,s.listener)}return this}off(t,r){let i=this.eventName(t),o=this._handlers[i],a=this._handlerIndex(o,t,r);return a>=0&&(this._svg&&this._svg.removeEventListener(i,o[a].listener),o.splice(a,1)),this}},IF=(e,t)=>r=>{let i=r.target.__data__;i=Array.isArray(i)?i[0]:i,r.vegaType=r.type,t.call(e._obj,r,i)},Eie="aria-hidden",fP="aria-label",dP="role",pP="aria-roledescription",Die="graphics-object",hP="graphics-symbol",Aie=(e,t,r)=>({[dP]:e,[pP]:t,[fP]:r||void 0}),wDe=Eo(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Vre={axis:{desc:"axis",caption:CDe},legend:{desc:"legend",caption:EDe},"title-text":{desc:"title",caption:e=>`Title text '${Hre(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Hre(e)}'`}},qre={ariaRole:dP,ariaRoleDescription:pP,description:fP};function Mie(e,t){let r=t.aria===!1;if(e(Eie,r||void 0),r||t.description==null)for(let i in qre)e(qre[i],void 0);else{let i=t.mark.marktype;e(fP,t.description),e(dP,t.ariaRole||(i==="group"?Die:hP)),e(pP,t.ariaRoleDescription||`${i} mark`)}}function Tie(e){return e.aria===!1?{[Eie]:!0}:wDe[e.role]?null:Vre[e.role]?SDe(e,Vre[e.role]):_De(e)}function _De(e){let t=e.marktype,r=t==="group"||t==="text"||e.items.some(i=>i.description!=null&&i.aria!==!1);return Aie(r?Die:hP,`${t} mark container`,e.description)}function SDe(e,t){try{let r=e.items[0],i=t.caption||(()=>"");return Aie(t.role||hP,t.desc,r.description||i(r))}catch{return null}}function Hre(e){return _t(e.text).join(" ")}function CDe(e){let t=e.datum,r=e.orient,i=t.title?Rie(e):null,o=e.context,a=o.scales[t.scale].value,s=o.dataflow.locale(),l=a.type;return`${r==="left"||r==="right"?"Y":"X"}-axis`+(i?` titled '${i}'`:"")+` for a ${Up(l)?"discrete":l} scale with ${MF(s,a,e)}`}function EDe(e){let t=e.datum,r=t.title?Rie(e):null,i=`${t.type||""} legend`.trim(),o=t.scales,a=Object.keys(o),s=e.context,l=s.scales[o[a[0]]].value,u=s.dataflow.locale();return ADe(i)+(r?` titled '${r}'`:"")+` for ${DDe(a)} with ${MF(u,l,e)}`}function Rie(e){try{return _t(jn(e.items).items[0].text).join(" ")}catch{return null}}function DDe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+jn(e)}function ADe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}var kie=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),MDe=e=>kie(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function mP(){let e="",t="",r="",i=[],o=()=>t=r="",a=u=>{t&&(e+=`${t}>${r}`,o()),i.push(u)},s=(u,c)=>(c!=null&&(t+=` ${u}="${MDe(c)}"`),l),l={open(u){a(u),t="<"+u;for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];for(let p of f)for(let m in p)s(m,p[m]);return l},close(){let u=i.pop();return t?e+=t+(r?`>${r}</${u}>`:"/>"):e+=`</${u}>`,o(),l},attr:s,text:u=>(r+=kie(u),l),toString:()=>e};return l}var Oie=e=>Nie(mP(),e)+"";function Nie(e,t){if(e.open(t.tagName),t.hasAttributes()){let r=t.attributes,i=r.length;for(let o=0;o<i;++o)e.attr(r[o].name,r[o].value)}if(t.hasChildNodes()){let r=t.childNodes;for(let i of r)i.nodeType===3?e.text(i.nodeValue):Nie(e,i)}return e.close()}var ES={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},DS={blend:"mix-blend-mode"},Iie={fill:"none","stroke-miterlimit":10},J8=0,Gre="http://www.w3.org/2000/xmlns/",Go=o9.xmlns,l9=class extends Y1{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,r,i,o,a){return this._defs={},this._clearDefs(),t&&(this._svg=jo(t,0,"svg",Go),this._svg.setAttributeNS(Gre,"xmlns",Go),this._svg.setAttributeNS(Gre,"xmlns:xlink",o9["xmlns:xlink"]),this._svg.setAttribute("version",o9.version),this._svg.setAttribute("class","marks"),Cu(t,1),this._root=jo(this._svg,J8,"g",Go),Hp(this._root,Iie),Cu(this._svg,J8+1)),this.background(this._bgcolor),super.initialize(t,r,i,o,a)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,r,i,o){return super.resize(t,r,i,o),this._svg&&(Hp(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){let t=this._svg,r=this._bgcolor;if(!t)return null;let i;r&&(t.removeAttribute("style"),i=jo(t,J8,"rect",Go),Hp(i,{width:this._width,height:this._height,fill:r}));let o=Oie(t);return r&&(t.removeChild(i),this._svg.style.setProperty("background-color",r)),o}_render(t,r){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,r),Cu(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;let t=this._dirty;if(!t.length||!this._dirtyID)return!0;let r=++this._dirtyID,i,o,a,s,l,u,c;for(l=0,u=t.length;l<u;++l)if(i=t[l],o=i.mark,o.marktype!==a&&(a=o.marktype,s=qs[a]),o.zdirty&&o.dirty!==r&&(this._dirtyAll=!1,jre(i,r),o.items.forEach(f=>{f.dirty=r})),!o.zdirty){if(i.exit){s.nested&&o.items.length?(c=o.items[0],c._svg&&this._update(s,c._svg,c)):i._svg&&(c=i._svg.parentNode,c&&c.removeChild(i._svg)),i._svg=null;continue}i=s.nested?o.items[0]:i,i._update!==r&&(!i._svg||!i._svg.ownerSVGElement?(this._dirtyAll=!1,jre(i,r)):this._update(s,i._svg,i),i._update=r)}return!this._dirtyAll}mark(t,r,i,o){if(!this.isDirty(r))return r._svg;let a=this._svg,s=r.marktype,l=qs[s],u=r.interactive===!1?"none":null,c=l.tag==="g",f=Wre(r,t,i,"g",a);if(s!=="group"&&o!=null&&!o.includes(s))return Cu(f,0),r._svg;f.setAttribute("class",yie(r));let d=Tie(r);for(let v in d)Vs(f,v,d[v]);c||Vs(f,"pointer-events",u),Vs(f,"clip-path",r.clip?XF(this,r,r.group):null);let p=null,m=0,g=v=>{let b=this.isDirty(v),_=Wre(v,f,p,l.tag,a);b&&(this._update(l,_,v),c&&kDe(this,_,v,o)),p=_,++m};return l.nested?r.items.length&&g(r.items[0]):vc(r,g),Cu(f,m),f}_update(t,r,i){c0=r,ns=r.__values__,Mie(r9,i),t.attr(r9,i,this);let o=NDe[t.type];o&&o.call(this,t,r,i),c0&&this.style(c0,i)}style(t,r){if(r!=null){for(let i in ES){let o=i==="font"?y9(r):r[i];if(o===ns[i])continue;let a=ES[i];o==null?t.removeAttribute(a):(GF(o)&&(o=Xre(o,this._defs.gradient,Fie())),t.setAttribute(a,o+"")),ns[i]=o}for(let i in DS)dS(t,DS[i],r[i])}}defs(){let t=this._svg,r=this._defs,i=r.el,o=0;for(let a in r.gradient)i||(r.el=i=jo(t,J8+1,"defs",Go)),o=TDe(i,r.gradient[a],o);for(let a in r.clipping)i||(r.el=i=jo(t,J8+1,"defs",Go)),o=RDe(i,r.clipping[a],o);i&&(o===0?(t.removeChild(i),r.el=null):Cu(i,o))}_clearDefs(){let t=this._defs;t.gradient={},t.clipping={}}};function jre(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function TDe(e,t,r){let i,o,a;if(t.gradient==="radial"){let s=jo(e,r++,"pattern",Go);Hp(s,{id:pS+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=jo(s,0,"rect",Go),Hp(s,{width:1,height:1,fill:`url(${Fie()}#${t.id})`}),e=jo(e,r++,"radialGradient",Go),Hp(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=jo(e,r++,"linearGradient",Go),Hp(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,o=t.stops.length;i<o;++i)a=jo(e,i,"stop",Go),a.setAttribute("offset",t.stops[i].offset),a.setAttribute("stop-color",t.stops[i].color);return Cu(e,i),r}function RDe(e,t,r){let i;return e=jo(e,r,"clipPath",Go),e.setAttribute("id",t.id),t.path?(i=jo(e,0,"path",Go),i.setAttribute("d",t.path)):(i=jo(e,0,"rect",Go),Hp(i,{x:0,y:0,width:t.width,height:t.height})),Cu(e,1),r+1}function kDe(e,t,r,i){t=t.lastChild.previousSibling;let o,a=0;vc(r,s=>{o=e.mark(t,s,o,i),++a}),Cu(t,1+a)}function Wre(e,t,r,i,o){let a=e._svg,s;if(!a&&(s=t.ownerDocument,a=qp(s,i,Go),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},i==="g"))){let l=qp(s,"path",Go);a.appendChild(l),l.__data__=e;let u=qp(s,"g",Go);a.appendChild(u),u.__data__=e;let c=qp(s,"path",Go);a.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(a.ownerSVGElement!==o||ODe(a,r))&&t.insertBefore(a,r?r.nextSibling:t.firstChild),a}function ODe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}var c0=null,ns=null,NDe={group(e,t,r){let i=c0=t.childNodes[2];ns=i.__values__,e.foreground(r9,r,this),ns=t.__values__,c0=t.childNodes[1],e.content(r9,r,this);let o=c0=t.childNodes[0];e.background(r9,r,this);let a=r.mark.interactive===!1?"none":null;if(a!==ns.events&&(Vs(i,"pointer-events",a),Vs(o,"pointer-events",a),ns.events=a),r.strokeForeground&&r.stroke){let s=r.fill;Vs(i,"display",null),this.style(o,r),Vs(o,"stroke",null),s&&(r.fill=null),ns=i.__values__,this.style(i,r),s&&(r.fill=s),c0=null}else Vs(i,"display","none")},image(e,t,r){r.smooth===!1?(dS(t,"image-rendering","optimizeSpeed"),dS(t,"image-rendering","pixelated")):dS(t,"image-rendering",null)},text(e,t,r){let i=v9(r),o,a,s,l;Le(i)?(a=i.map(u=>Yp(r,u)),o=a.join(`
`),o!==ns.text&&(Cu(t,0),s=t.ownerDocument,l=Wp(r),a.forEach((u,c)=>{let f=qp(s,"tspan",Go);f.__data__=r,f.textContent=u,c&&(f.setAttribute("x",0),f.setAttribute("dy",l)),t.appendChild(f)}),ns.text=o)):(a=Yp(r,i),a!==ns.text&&(t.textContent=a,ns.text=a)),Vs(t,"font-family",y9(r)),Vs(t,"font-size",Hf(r)+"px"),Vs(t,"font-style",r.fontStyle),Vs(t,"font-variant",r.fontVariant),Vs(t,"font-weight",r.fontWeight)}};function r9(e,t,r){t!==ns[e]&&(r?IDe(c0,e,t,r):Vs(c0,e,t),ns[e]=t)}function dS(e,t,r){r!==ns[t]&&(r==null?e.style.removeProperty(t):e.style.setProperty(t,r+""),ns[t]=r)}function Hp(e,t){for(let r in t)Vs(e,r,t[r])}function Vs(e,t,r){r!=null?e.setAttribute(t,r):e.removeAttribute(t)}function IDe(e,t,r,i){r!=null?e.setAttributeNS(i,t,r):e.removeAttributeNS(i,t)}function Fie(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}var AS=class extends Y1{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){let r=mP();r.open("svg",Dn({},o9,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let i=this._bgcolor;return i&&i!=="transparent"&&i!=="none"&&r.open("rect",{width:this._width,height:this._height,fill:i}).close(),r.open("g",Iie,{transform:"translate("+this._origin+")"}),this.mark(r,t),r.close(),this.defs(r),this._text=r.close()+"",this}mark(t,r){let i=qs[r.marktype],o=i.tag,a=[Mie,i.attr];t.open("g",{class:yie(r),"clip-path":r.clip?XF(this,r,r.group):null},Tie(r),{"pointer-events":o!=="g"&&r.interactive===!1?"none":null});let s=l=>{let u=this.href(l);if(u&&t.open("a",u),t.open(o,this.attr(r,l,a,o!=="g"?o:null)),o==="text"){let c=v9(l);if(Le(c)){let f={x:0,dy:Wp(l)};for(let d=0;d<c.length;++d)t.open("tspan",d?f:null).text(Yp(l,c[d])).close()}else t.text(Yp(l,c))}else if(o==="g"){let c=l.strokeForeground,f=l.fill,d=l.stroke;c&&d&&(l.stroke=null),t.open("path",this.attr(r,l,i.background,"bgrect")).close(),t.open("g",this.attr(r,l,i.content)),vc(l,p=>this.mark(t,p)),t.close(),c&&d?(f&&(l.fill=null),l.stroke=d,t.open("path",this.attr(r,l,i.foreground,"bgrect")).close(),f&&(l.fill=f)):t.open("path",this.attr(r,l,i.foreground,"bgfore")).close()}t.close(),u&&t.close()};return i.nested?r.items&&r.items.length&&s(r.items[0]):vc(r,s),t.close()}href(t){let r=t.href,i;if(r){if(i=this._hrefs&&this._hrefs[r])return i;this.sanitizeURL(r).then(o=>{o["xlink:href"]=o.href,o.href=null,(this._hrefs||(this._hrefs={}))[r]=o})}return null}attr(t,r,i,o){let a={},s=(l,u,c,f)=>{a[f||l]=u};return Array.isArray(i)?i.forEach(l=>l(s,r,this)):i(s,r,this),o&&FDe(a,r,t,o,this._defs),a}defs(t){let r=this._defs.gradient,i=this._defs.clipping;if(Object.keys(r).length+Object.keys(i).length!==0){t.open("defs");for(let a in r){let s=r[a],l=s.stops;s.gradient==="radial"?(t.open("pattern",{id:pS+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),t.close(),t.open("radialGradient",{id:a,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:a,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let u=0;u<l.length;++u)t.open("stop",{offset:l[u].offset,"stop-color":l[u].color}).close();t.close()}for(let a in i){let s=i[a];t.open("clipPath",{id:a}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}};function FDe(e,t,r,i,o){let a;if(t==null||(i==="bgrect"&&r.interactive===!1&&(e["pointer-events"]="none"),i==="bgfore"&&(r.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;i==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),i==="text"&&(e["font-family"]=y9(t),e["font-size"]=Hf(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(let s in ES){let l=t[s],u=ES[s];l==="transparent"&&(u==="fill"||u==="stroke")||l!=null&&(GF(l)&&(l=Xre(l,o.gradient,"")),e[u]=l)}for(let s in DS){let l=t[s];l!=null&&(a=a||[],a.push(`${DS[s]}: ${l};`))}return a&&(e.style=a.join(" ")),e}var gc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function PDe(e){gc.svgMarkTypes=e.svgMarkTypes??["text"],gc.svgOnTop=e.svgOnTop??!0,gc.debug=e.debug??!1}var u9=class extends Y1{constructor(t){super(t),this._svgRenderer=new l9(t),this._canvasRenderer=new A2(t)}initialize(t,r,i,o,a){this._root_el=jo(t,0,"div");let s=jo(this._root_el,0,"div"),l=jo(this._root_el,1,"div");return this._root_el.style.position="relative",gc.debug||(s.style.height="100%",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%"),this._svgEl=gc.svgOnTop?l:s,this._canvasEl=gc.svgOnTop?s:l,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,r,i,o,a),this._svgRenderer.initialize(this._svgEl,r,i,o,a),super.initialize(t,r,i,o,a)}dirty(t){return gc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,r){let o=(r??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(a=>!gc.svgMarkTypes.includes(a));this._svgRenderer.render(t,gc.svgMarkTypes),this._canvasRenderer.render(t,o)}resize(t,r,i,o){return super.resize(t,r,i,o),this._svgRenderer.resize(t,r,i,o),this._canvasRenderer.resize(t,r,i,o),this}background(t){return gc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}},MS=class extends Xp{constructor(t,r){super(t,r)}initialize(t,r,i){let o=jo(jo(t,0,"div"),gc.svgOnTop?0:1,"div");return super.initialize(o,r,i)}},Pie="canvas",Lie="hybrid",Bie="png",$ie="svg",Uie="none",f0={Canvas:Pie,PNG:Bie,SVG:$ie,Hybrid:Lie,None:Uie},X1={};X1[Pie]=X1[Bie]={renderer:A2,headless:A2,handler:Xp};X1[$ie]={renderer:l9,headless:AS,handler:CS};X1[Lie]={renderer:u9,headless:u9,handler:MS};X1[Uie]={};function x9(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(X1[e]=t,this):X1[e]}function gP(e,t,r){let i=[],o=new no().union(t),a=e.marktype;return a?zie(e,o,r,i):a==="group"?Vie(e,o,r,i):Ke("Intersect scene must be mark node or group item.")}function zie(e,t,r,i){if(LDe(e,t,r)){let o=e.items,a=e.marktype,s=o.length,l=0;if(a==="group")for(;l<s;++l)Vie(o[l],t,r,i);else for(let u=qs[a].isect;l<s;++l){let c=o[l];qie(c,t,u)&&i.push(c)}}return i}function LDe(e,t,r){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!r||r(e)))}function Vie(e,t,r,i){r&&r(e.mark)&&qie(e,t,qs.group.isect)&&i.push(e);let o=e.items,a=o&&o.length;if(a){let s=e.x||0,l=e.y||0;t.translate(-s,-l);for(let u=0;u<a;++u)zie(o[u],t,r,i);t.translate(s,l)}return i}function qie(e,t,r){let i=e.bounds;return t.encloses(i)||t.intersects(i)&&r(e,t)}var FF=new no;function vP(e){let t=e.clip;if(En(t))t(m9(FF.clear()));else if(t)FF.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(FF)}var BDe=1e-9;function yP(e,t,r){return e===t?!0:r==="path"?Hie(e,t):e instanceof Date&&t instanceof Date?+e==+t:qn(e)&&qn(t)?Math.abs(e-t)<=BDe:!e||!t||!yt(e)&&!yt(t)?e==t:$De(e,t)}function Hie(e,t){return yP(W1(e),W1(t))}function $De(e,t){var r=Object.keys(e),i=Object.keys(t),o,a;if(r.length!==i.length)return!1;for(r.sort(),i.sort(),a=r.length-1;a>=0;a--)if(r[a]!=i[a])return!1;for(a=r.length-1;a>=0;a--)if(o=r[a],!yP(e[o],t[o],o))return!1;return typeof e==typeof t}function UDe(){tie(),cCe()}var k2="top",yc="left",bc="right",Zp="bottom",zDe="top-left",VDe="top-right",qDe="bottom-left",HDe="bottom-right",wP="start",bP="middle",Hs="end",GDe="x",jDe="y",zS="group",_P="axis",SP="title",WDe="frame",YDe="scope",CP="legend",eoe="row-header",toe="row-footer",noe="row-title",roe="column-header",ioe="column-footer",ooe="column-title",XDe="padding",KDe="symbol",aoe="fit",soe="fit-x",loe="fit-y",QDe="pad",EP="none",LS="all",xP="each",DP="flush",Kp="column",Qp="row";function uoe(e){Ye.call(this,null,e)}Et(uoe,Ye,{transform(e,t){let r=t.dataflow,i=e.mark,o=i.marktype,a=qs[o],s=a.bound,l=i.bounds,u;if(a.nested)i.items.length&&r.dirty(i.items[0]),l=BS(i,s),i.items.forEach(c=>{c.bounds.clear().union(l)});else if(o===zS||e.modified())switch(t.visit(t.MOD,c=>r.dirty(c)),l.clear(),i.items.forEach(c=>l.union(BS(c,s))),i.role){case _P:case CP:case SP:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,c=>{l.union(BS(c,s))}),t.visit(t.MOD,c=>{u=u||l.alignsWith(c.bounds),r.dirty(c),l.union(BS(c,s))}),u&&(l.clear(),i.items.forEach(c=>l.union(c.bounds)));return vP(i),t.modifies("bounds")}});function BS(e,t,r){return t(e.bounds.clear(),e,r)}var Gie=":vega_identifier:";function AP(e){Ye.call(this,0,e)}AP.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Et(AP,Ye,{transform(e,t){let r=ZDe(t.dataflow),i=e.as,o=r.value;return t.visit(t.ADD,a=>a[i]=a[i]||++o),r.set(this.value=o),t}});function ZDe(e){return e._signals[Gie]||(e._signals[Gie]=e.add(0))}function coe(e){Ye.call(this,null,e)}Et(coe,Ye,{transform(e,t){let r=this.value;r||(r=t.dataflow.scenegraph().mark(e.markdef,JDe(e),e.index),r.group.context=e.context,e.context.group||(e.context.group=r.group),r.source=this.source,r.clip=e.clip,r.interactive=e.interactive,this.value=r);let i=r.marktype===zS?h9:p9;return t.visit(t.ADD,o=>i.call(o,r)),(e.modified("clip")||e.modified("interactive"))&&(r.clip=e.clip,r.interactive=!!e.interactive,r.zdirty=!0,t.reflow()),r.items=t.source,t}});function JDe(e){let t=e.groups,r=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&r?t.lookup(r):null}function foe(e){Ye.call(this,null,e)}var jie={parity:e=>e.filter((t,r)=>r%2?t.opacity=0:1),greedy:(e,t)=>{let r;return e.filter((i,o)=>!o||!doe(r.bounds,i.bounds,t)?(r=i,1):i.opacity=0)}},doe=(e,t,r)=>r>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Wie=(e,t)=>{for(var r=1,i=e.length,o=e[0].bounds,a;r<i;o=a,++r)if(doe(o,a=e[r].bounds,t))return!0},eAe=e=>{let t=e.bounds;return t.width()>1&&t.height()>1},tAe=(e,t,r)=>{var i=e.range(),o=new no;return t===k2||t===Zp?o.set(i[0],-1/0,i[1],1/0):o.set(-1/0,i[0],1/0,i[1]),o.expand(r||1),a=>o.encloses(a.bounds)},Yie=e=>(e.forEach(t=>t.opacity=1),e),Xie=(e,t)=>e.reflow(t.modified()).modifies("opacity");Et(foe,Ye,{transform(e,t){let r=jie[e.method]||jie.parity,i=e.separation||0,o=t.materialize(t.SOURCE).source,a,s;if(!o||!o.length)return;if(!e.method)return e.modified("method")&&(Yie(o),t=Xie(t,e)),t;if(o=o.filter(eAe),!o.length)return;if(e.sort&&(o=o.slice().sort(e.sort)),a=Yie(o),t=Xie(t,e),a.length>=3&&Wie(a,i)){do a=r(a,i);while(a.length>=3&&Wie(a,i));a.length<3&&!jn(o).opacity&&(a.length>1&&(jn(a).opacity=0),jn(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=tAe(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach(u=>{s(u)||(u.opacity=0)}));let l=a[0].mark.bounds.clear();return o.forEach(u=>{u.opacity&&l.union(u.bounds)}),t}});function poe(e){Ye.call(this,null,e)}Et(poe,Ye,{transform(e,t){let r=t.dataflow;if(t.visit(t.ALL,i=>r.dirty(i)),t.fields&&t.fields.zindex){let i=t.source&&t.source[0];i&&(i.mark.zdirty=!0)}}});var rs=new no;function R2(e,t,r){return e[t]===r?0:(e[t]=r,1)}function nAe(e){var t=e.items[0].orient;return t===yc||t===bc}function rAe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function iAe(e,t,r,i){var o=t.items[0],a=o.datum,s=o.translate!=null?o.translate:.5,l=o.orient,u=rAe(a),c=o.range,f=o.offset,d=o.position,p=o.minExtent,m=o.maxExtent,g=a.title&&o.items[u[2]].items[0],v=o.titlePadding,b=o.bounds,_=g&&IS(g),D=0,T=0,N,z;switch(rs.clear().union(b),b.clear(),(N=u[0])>-1&&b.union(o.items[N].bounds),(N=u[1])>-1&&b.union(o.items[N].bounds),l){case k2:D=d||0,T=-f,z=Math.max(p,Math.min(m,-b.y1)),b.add(0,-z).add(c,0),g&&$S(e,g,z,v,_,0,-1,b);break;case yc:D=-f,T=d||0,z=Math.max(p,Math.min(m,-b.x1)),b.add(-z,0).add(0,c),g&&$S(e,g,z,v,_,1,-1,b);break;case bc:D=r+f,T=d||0,z=Math.max(p,Math.min(m,b.x2)),b.add(0,0).add(z,c),g&&$S(e,g,z,v,_,1,1,b);break;case Zp:D=d||0,T=i+f,z=Math.max(p,Math.min(m,b.y2)),b.add(0,0).add(c,z),g&&$S(e,g,z,v,0,0,1,b);break;default:D=o.x,T=o.y}return qf(b.translate(D,T),o),R2(o,"x",D+s)|R2(o,"y",T+s)&&(o.bounds=rs,e.dirty(o),o.bounds=b,e.dirty(o)),o.mark.bounds.clear().union(b)}function $S(e,t,r,i,o,a,s,l){let u=t.bounds;if(t.auto){let c=s*(r+o+i),f=0,d=0;e.dirty(t),a?f=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-f,-d)),e.dirty(t)}l.union(u)}var Kie=(e,t)=>Math.floor(Math.min(e,t)),Qie=(e,t)=>Math.ceil(Math.max(e,t));function oAe(e){var t=e.items,r=t.length,i=0,o,a;let s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<r;++i)if(o=t[i],a=o.items,o.marktype===zS)switch(o.role){case _P:case CP:case SP:break;case eoe:s.rowheaders.push(...a);break;case toe:s.rowfooters.push(...a);break;case roe:s.colheaders.push(...a);break;case ioe:s.colfooters.push(...a);break;case noe:s.rowtitle=a[0];break;case ooe:s.coltitle=a[0];break;default:s.marks.push(...a)}return s}function aAe(e){return new no().set(0,0,e.width||0,e.height||0)}function sAe(e){let t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function $i(e,t,r){let i=yt(e)?e[t]:e;return i??(r!==void 0?r:0)}function Zie(e){return e<0?Math.ceil(-e):0}function hoe(e,t,r){var i=!r.nodirty,o=r.bounds===DP?aAe:sAe,a=rs.set(0,0,0,0),s=$i(r.align,Kp),l=$i(r.align,Qp),u=$i(r.padding,Kp),c=$i(r.padding,Qp),f=r.columns||t.length,d=f<=0?1:Math.ceil(t.length/f),p=t.length,m=Array(p),g=Array(f),v=0,b=Array(p),_=Array(d),D=0,T=Array(p),N=Array(p),z=Array(p),j,B,U,x,w,C,k,F,I,R,$;for(B=0;B<f;++B)g[B]=0;for(B=0;B<d;++B)_[B]=0;for(B=0;B<p;++B)C=t[B],w=z[B]=o(C),C.x=C.x||0,T[B]=0,C.y=C.y||0,N[B]=0,U=B%f,x=~~(B/f),v=Math.max(v,k=Math.ceil(w.x2)),D=Math.max(D,F=Math.ceil(w.y2)),g[U]=Math.max(g[U],k),_[x]=Math.max(_[x],F),m[B]=u+Zie(w.x1),b[B]=c+Zie(w.y1),i&&e.dirty(t[B]);for(B=0;B<p;++B)B%f===0&&(m[B]=0),B<f&&(b[B]=0);if(s===xP)for(U=1;U<f;++U){for($=0,B=U;B<p;B+=f)$<m[B]&&($=m[B]);for(B=U;B<p;B+=f)m[B]=$+g[U-1]}else if(s===LS){for($=0,B=0;B<p;++B)B%f&&$<m[B]&&($=m[B]);for(B=0;B<p;++B)B%f&&(m[B]=$+v)}else for(s=!1,U=1;U<f;++U)for(B=U;B<p;B+=f)m[B]+=g[U-1];if(l===xP)for(x=1;x<d;++x){for($=0,B=x*f,j=B+f;B<j;++B)$<b[B]&&($=b[B]);for(B=x*f;B<j;++B)b[B]=$+_[x-1]}else if(l===LS){for($=0,B=f;B<p;++B)$<b[B]&&($=b[B]);for(B=f;B<p;++B)b[B]=$+D}else for(l=!1,x=1;x<d;++x)for(B=x*f,j=B+f;B<j;++B)b[B]+=_[x-1];for(I=0,B=0;B<p;++B)I=m[B]+(B%f?I:0),T[B]+=I-t[B].x;for(U=0;U<f;++U)for(R=0,B=U;B<p;B+=f)R+=b[B],N[B]+=R-t[B].y;if(s&&$i(r.center,Kp)&&d>1)for(B=0;B<p;++B)w=s===LS?v:g[B%f],I=w-z[B].x2-t[B].x-T[B],I>0&&(T[B]+=I/2);if(l&&$i(r.center,Qp)&&f!==1)for(B=0;B<p;++B)w=l===LS?D:_[~~(B/f)],R=w-z[B].y2-t[B].y-N[B],R>0&&(N[B]+=R/2);for(B=0;B<p;++B)a.union(z[B].translate(T[B],N[B]));switch(I=$i(r.anchor,GDe),R=$i(r.anchor,jDe),$i(r.anchor,Kp)){case Hs:I-=a.width();break;case bP:I-=a.width()/2}switch($i(r.anchor,Qp)){case Hs:R-=a.height();break;case bP:R-=a.height()/2}for(I=Math.round(I),R=Math.round(R),a.clear(),B=0;B<p;++B)t[B].mark.bounds.clear();for(B=0;B<p;++B)C=t[B],C.x+=T[B]+=I,C.y+=N[B]+=R,a.union(C.mark.bounds.union(C.bounds.translate(T[B],N[B]))),i&&e.dirty(C);return a}function lAe(e,t,r){var i=oAe(t),o=i.marks,a=r.bounds===DP?uAe:cAe,s=r.offset,l=r.columns||o.length,u=l<=0?1:Math.ceil(o.length/l),c=u*l,f,d,p,m,g,v,b;let _=hoe(e,o,r);_.empty()&&_.set(0,0,0,0),i.rowheaders&&(v=$i(r.headerBand,Qp,null),f=US(e,i.rowheaders,o,l,u,-$i(s,"rowHeader"),Kie,0,a,"x1",0,l,1,v)),i.colheaders&&(v=$i(r.headerBand,Kp,null),d=US(e,i.colheaders,o,l,l,-$i(s,"columnHeader"),Kie,1,a,"y1",0,1,l,v)),i.rowfooters&&(v=$i(r.footerBand,Qp,null),p=US(e,i.rowfooters,o,l,u,$i(s,"rowFooter"),Qie,0,a,"x2",l-1,l,1,v)),i.colfooters&&(v=$i(r.footerBand,Kp,null),m=US(e,i.colfooters,o,l,l,$i(s,"columnFooter"),Qie,1,a,"y2",c-l,1,l,v)),i.rowtitle&&(g=$i(r.titleAnchor,Qp),b=$i(s,"rowTitle"),b=g===Hs?p+b:f-b,v=$i(r.titleBand,Qp,.5),Jie(e,i.rowtitle,b,0,_,v)),i.coltitle&&(g=$i(r.titleAnchor,Kp),b=$i(s,"columnTitle"),b=g===Hs?m+b:d-b,v=$i(r.titleBand,Kp,.5),Jie(e,i.coltitle,b,1,_,v))}function uAe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function cAe(e,t){return e.bounds[t]}function US(e,t,r,i,o,a,s,l,u,c,f,d,p,m){var g=r.length,v=0,b=0,_,D,T,N,z,j,B,U,x;if(!g)return v;for(_=f;_<g;_+=d)r[_]&&(v=s(v,u(r[_],c)));if(!t.length)return v;for(t.length>o&&(e.warn("Grid headers exceed limit: "+o),t=t.slice(0,o)),v+=a,D=0,N=t.length;D<N;++D)e.dirty(t[D]),t[D].mark.bounds.clear();for(_=f,D=0,N=t.length;D<N;++D,_+=d){for(j=t[D],z=j.mark.bounds,T=_;T>=0&&(B=r[T])==null;T-=p);l?(U=m==null?B.x:Math.round(B.bounds.x1+m*B.bounds.width()),x=v):(U=v,x=m==null?B.y:Math.round(B.bounds.y1+m*B.bounds.height())),z.union(j.bounds.translate(U-(j.x||0),x-(j.y||0))),j.x=U,j.y=x,e.dirty(j),b=s(b,z[c])}return b}function Jie(e,t,r,i,o,a){if(t){e.dirty(t);var s=r,l=r;i?s=Math.round(o.x1+a*o.width()):l=Math.round(o.y1+a*o.height()),t.bounds.translate(s-(t.x||0),l-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=l,e.dirty(t)}}function fAe(e,t){let r=e[t]||{};return(i,o)=>r[i]!=null?r[i]:e[i]!=null?e[i]:o}function dAe(e,t){let r=-1/0;return e.forEach(i=>{i.offset!=null&&(r=Math.max(r,i.offset))}),r>-1/0?r:t}function pAe(e,t,r,i,o,a,s){let l=fAe(r,t),u=dAe(e,l("offset",0)),c=l("anchor",wP),f=c===Hs?1:c===bP?.5:0,d={align:xP,bounds:l("bounds",DP),columns:l("direction")==="vertical"?1:e.length,padding:l("margin",8),center:l("center"),nodirty:!0};switch(t){case yc:d.anchor={x:Math.floor(i.x1)-u,column:Hs,y:f*(s||i.height()+2*i.y1),row:c};break;case bc:d.anchor={x:Math.ceil(i.x2)+u,y:f*(s||i.height()+2*i.y1),row:c};break;case k2:d.anchor={y:Math.floor(o.y1)-u,row:Hs,x:f*(a||o.width()+2*o.x1),column:c};break;case Zp:d.anchor={y:Math.ceil(o.y2)+u,x:f*(a||o.width()+2*o.x1),column:c};break;case zDe:d.anchor={x:u,y:u};break;case VDe:d.anchor={x:a-u,y:u,column:Hs};break;case qDe:d.anchor={x:u,y:s-u,row:Hs};break;case HDe:d.anchor={x:a-u,y:s-u,column:Hs,row:Hs};break}return d}function hAe(e,t){var r=t.items[0],i=r.datum,o=r.orient,a=r.bounds,s=r.x,l=r.y,u,c;return r._bounds?r._bounds.clear().union(a):r._bounds=a.clone(),a.clear(),gAe(e,r,r.items[0].items[0]),a=mAe(r,a),u=2*r.padding,c=2*r.padding,a.empty()||(u=Math.ceil(a.width()+u),c=Math.ceil(a.height()+c)),i.type===KDe&&vAe(r.items[0].items[0].items[0].items),o!==EP&&(r.x=s=0,r.y=l=0),r.width=u,r.height=c,qf(a.set(s,l,s+u,l+c),r),r.mark.bounds.clear().union(a),r}function mAe(e,t){return e.items.forEach(r=>t.union(r.bounds)),t.x1=e.padding,t.y1=e.padding,t}function gAe(e,t,r){var i=t.padding,o=i-r.x,a=i-r.y;if(!t.datum.title)(o||a)&&w9(e,r,o,a);else{var s=t.items[1].items[0],l=s.anchor,u=t.titlePadding||0,c=i-s.x,f=i-s.y;switch(s.orient){case yc:o+=Math.ceil(s.bounds.width())+u;break;case bc:case Zp:break;default:a+=s.bounds.height()+u}switch((o||a)&&w9(e,r,o,a),s.orient){case yc:f+=T2(t,r,s,l,1,1);break;case bc:c+=T2(t,r,s,Hs,0,0)+u,f+=T2(t,r,s,l,1,1);break;case Zp:c+=T2(t,r,s,l,0,0),f+=T2(t,r,s,Hs,-1,0,1)+u;break;default:c+=T2(t,r,s,l,0,0)}(c||f)&&w9(e,s,c,f),(c=Math.round(s.bounds.x1-i))<0&&(w9(e,r,-c,0),w9(e,s,-c,0))}}function T2(e,t,r,i,o,a,s){let l=e.datum.type!=="symbol",u=r.datum.vgrad,c=l&&(a||!u)&&!s?t.items[0]:t,f=c.bounds[o?"y2":"x2"]-e.padding,d=u&&a?f:0,p=u&&a?0:f,m=o<=0?0:IS(r);return Math.round(i===wP?d:i===Hs?p-m:.5*(f-m))}function w9(e,t,r,i){t.x+=r,t.y+=i,t.bounds.translate(r,i),t.mark.bounds.translate(r,i),e.dirty(t)}function vAe(e){let t=e.reduce((r,i)=>(r[i.column]=Math.max(i.bounds.x2-i.x,r[i.column]||0),r),{});e.forEach(r=>{r.width=t[r.column],r.height=r.bounds.y2-r.y})}function yAe(e,t,r,i,o){var a=t.items[0],s=a.frame,l=a.orient,u=a.anchor,c=a.offset,f=a.padding,d=a.items[0].items[0],p=a.items[1]&&a.items[1].items[0],m=l===yc||l===bc?i:r,g=0,v=0,b=0,_=0,D=0,T;if(s!==zS?l===yc?(g=o.y2,m=o.y1):l===bc?(g=o.y1,m=o.y2):(g=o.x1,m=o.x2):l===yc&&(g=i,m=0),T=u===wP?g:u===Hs?m:(g+m)/2,p&&p.text){switch(l){case k2:case Zp:D=d.bounds.height()+f;break;case yc:_=d.bounds.width()+f;break;case bc:_=-d.bounds.width()-f;break}rs.clear().union(p.bounds),rs.translate(_-(p.x||0),D-(p.y||0)),R2(p,"x",_)|R2(p,"y",D)&&(e.dirty(p),p.bounds.clear().union(rs),p.mark.bounds.clear().union(rs),e.dirty(p)),rs.clear().union(p.bounds)}else rs.clear();switch(rs.union(d.bounds),l){case k2:v=T,b=o.y1-rs.height()-c;break;case yc:v=o.x1-rs.width()-c,b=T;break;case bc:v=o.x2+rs.width()+c,b=T;break;case Zp:v=T,b=o.y2+c;break;default:v=a.x,b=a.y}return R2(a,"x",v)|R2(a,"y",b)&&(rs.translate(v,b),e.dirty(a),a.bounds.clear().union(rs),t.bounds.clear().union(rs),e.dirty(a)),a.bounds}function moe(e){Ye.call(this,null,e)}Et(moe,Ye,{transform(e,t){let r=t.dataflow;return e.mark.items.forEach(i=>{e.layout&&lAe(r,i,e.layout),xAe(r,i,e)}),bAe(e.mark.group)?t.reflow():t}});function bAe(e){return e&&e.mark.role!=="legend-entry"}function xAe(e,t,r){var i=t.items,o=Math.max(0,t.width||0),a=Math.max(0,t.height||0),s=new no().set(0,0,o,a),l=s.clone(),u=s.clone(),c=[],f,d,p,m,g,v;for(g=0,v=i.length;g<v;++g)switch(d=i[g],d.role){case _P:m=nAe(d)?l:u,m.union(iAe(e,d,o,a));break;case SP:f=d;break;case CP:c.push(hAe(e,d));break;case WDe:case YDe:case eoe:case toe:case noe:case roe:case ioe:case ooe:l.union(d.bounds),u.union(d.bounds);break;default:s.union(d.bounds)}if(c.length){let b={};c.forEach(_=>{p=_.orient||bc,p!==EP&&(b[p]||(b[p]=[])).push(_)});for(let _ in b){let D=b[_];hoe(e,D,pAe(D,_,r.legends,l,u,o,a))}c.forEach(_=>{let D=_.bounds;if(D.equals(_._bounds)||(_.bounds=_._bounds,e.dirty(_),_.bounds=D,e.dirty(_)),r.autosize&&(r.autosize.type===aoe||r.autosize.type===soe||r.autosize.type===loe))switch(_.orient){case yc:case bc:s.add(D.x1,0).add(D.x2,0);break;case k2:case Zp:s.add(0,D.y1).add(0,D.y2)}else s.union(D)})}s.union(l).union(u),f&&s.union(yAe(e,f,o,a,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),wAe(e,t,s,r)}function wAe(e,t,r,i){let o=i.autosize||{},a=o.type;if(e._autosize<1||!a)return;let s=e._width,l=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-r.x1)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-r.y1)),p=Math.max(0,Math.ceil(r.x2-u)),m=Math.max(0,Math.ceil(r.y2-f));if(o.contains===XDe){let g=e.padding();s-=g.left+g.right,l-=g.top+g.bottom}a===EP?(c=0,d=0,u=s,f=l):a===aoe?(u=Math.max(0,s-c-p),f=Math.max(0,l-d-m)):a===soe?(u=Math.max(0,s-c-p),l=f+d+m):a===loe?(s=u+c+p,f=Math.max(0,l-d-m)):a===QDe&&(s=u+c+p,l=f+d+m),e._resizeView(s,l,u,f,[c,d],o.resize)}var BP={};Ka(BP,{axisticks:()=>Toe,datajoin:()=>Roe,encode:()=>koe,legendentries:()=>Ooe,linkpath:()=>FP,pie:()=>PP,scale:()=>Loe,sortitems:()=>$oe,stack:()=>LP});function _9(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++i<o;)a[i]=e+i*r;return a}function VS(e,t){let r=0;if(t===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let o of e)(o=+t(o,++i,e))&&(r+=o)}return r}function TP(e,t,r,i,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*i+s*o)/6}function goe(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,l=i<t-1?e[i+2]:2*a-o;return TP((r-i/t)*t,s,o,a,l)}}function voe(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],l=e[(i+2)%t];return TP((r-i/t)*t,o,a,s,l)}}var S9=e=>()=>e;function _Ae(e,t){return function(r){return e+r*t}}function SAe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function yoe(e){return(e=+e)==1?qS:function(t,r){return r-t?SAe(t,r,e):S9(isNaN(t)?r:t)}}function qS(e,t){var r=t-e;return r?_Ae(e,r):S9(isNaN(e)?t:e)}var RP=function e(t){var r=yoe(t);function i(o,a){var s=r((o=Za(o)).r,(a=Za(a)).r),l=r(o.g,a.g),u=r(o.b,a.b),c=qS(o.opacity,a.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return i.gamma=e,i}(1);function boe(e){return function(t){var r=t.length,i=new Array(r),o=new Array(r),a=new Array(r),s,l;for(s=0;s<r;++s)l=Za(t[s]),i[s]=l.r||0,o[s]=l.g||0,a[s]=l.b||0;return i=e(i),o=e(o),a=e(a),l.opacity=1,function(u){return l.r=i(u),l.g=o(u),l.b=a(u),l+""}}}var Hwt=boe(goe),Gwt=boe(voe);function xoe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=e[o]*(1-a)+t[o]*a;return i}}function woe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _oe(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)o[s]=K1(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<i;++s)a[s]=o[s](l);return a}}function Soe(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function C9(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Coe(e,t){var r={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=K1(e[o],t[o]):i[o]=t[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var OP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kP=new RegExp(OP.source,"g");function CAe(e){return function(){return e}}function EAe(e){return function(t){return e(t)+""}}function Eoe(e,t){var r=OP.lastIndex=kP.lastIndex=0,i,o,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(i=OP.exec(e))&&(o=kP.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:C9(i,o)})),r=kP.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?EAe(u[0].x):CAe(t):(t=u.length,function(c){for(var f=0,d;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function K1(e,t){var r=typeof t,i;return t==null||r==="boolean"?S9(t):(r==="number"?C9:r==="string"?(i=il(t))?(t=i,RP):Eoe:t instanceof il?RP:t instanceof Date?Soe:woe(t)?xoe:Array.isArray(t)?_oe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Coe:C9)(e,t)}function NP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Toe(e){Ye.call(this,null,e)}Et(Toe,Ye,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var r=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,a=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,l=nS(a,s,e.minstep),u=e.format||EF(r,a,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?CF(a,e.values,l):rS(a,l);return o&&(i.rem=o),o=c.map((f,d)=>xr({index:d/(c.length-1||1),value:f,label:u(f)})),e.extra&&o.length&&o.push(xr({index:-1,extra:{value:o[0].value},label:""})),i.source=o,i.add=o,this.value=o,i}});function Roe(e){Ye.call(this,null,e)}function DAe(){return xr({})}function AAe(e){let t=Ep().test(r=>r.exit);return t.lookup=r=>t.get(e(r)),t}Et(Roe,Ye,{transform(e,t){var r=t.dataflow,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||DAe,a=e.key||pn,s=this.value;return Le(i.encode)&&(i.encode=null),s&&(e.modified("key")||t.modified(a))&&Ke("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=AAe(a)),t.visit(t.ADD,l=>{let u=a(l),c=s.get(u);c?c.exit?(s.empty--,i.add.push(c)):i.mod.push(c):(c=o(l),s.set(u,c),i.add.push(c)),c.datum=l,c.exit=!1}),t.visit(t.MOD,l=>{let u=a(l),c=s.get(u);c&&(c.datum=l,i.mod.push(c))}),t.visit(t.REM,l=>{let u=a(l),c=s.get(u);l===c.datum&&!c.exit&&(i.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&i.modifies("datum"),(t.clean()||e.clean&&s.empty>r.cleanThreshold)&&r.runAfter(s.clean),i}});function koe(e){Ye.call(this,null,e)}Et(koe,Ye,{transform(e,t){var r=t.fork(t.ADD_REM),i=e.mod||!1,o=e.encoders,a=t.encode;if(Le(a))if(r.changed()||a.every(d=>o[d]))a=a[0],r.encode=null;else return t.StopPropagation;var s=a==="enter",l=o.update||Yd,u=o.enter||Yd,c=o.exit||Yd,f=(a&&!s?o[a]:l)||Yd;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{u(d,e),l(d,e)}),r.modifies(u.output),r.modifies(l.output),f!==Yd&&f!==l&&(t.visit(t.ADD,d=>{f(d,e)}),r.modifies(f.output))),t.changed(t.REM)&&c!==Yd&&(t.visit(t.REM,d=>{c(d,e)}),r.modifies(c.output)),s||f!==Yd){let d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,p=>{let m=u(p,e)||i;(f(p,e)||m)&&r.mod.push(p)}),r.mod.length&&r.modifies(u.output)):t.visit(d,p=>{(f(p,e)||i)&&r.mod.push(p)}),r.mod.length&&r.modifies(f.output)}return r.changed()?r:t.StopPropagation}});function Ooe(e){Ye.call(this,[],e)}Et(Ooe,Ye,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var r=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,a=e.type||Q8,s=e.scale,l=+e.limit,u=nS(s,e.count==null?5:e.count,e.minstep),c=!!e.values||a===Q8,f=e.format||AF(r,s,u,a,e.formatSpecifier,e.formatType,c),d=e.values||DF(s,u),p,m,g,v,b;return o&&(i.rem=o),a===Q8?(l&&d.length>l?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),o=d.slice(0,l-1),b=!0):o=d,En(g=e.size)?(!e.values&&s(o[0])===0&&(o=o.slice(1)),v=o.reduce((_,D)=>Math.max(_,g(D,e)),0)):g=Li(v=g||8),o=o.map((_,D)=>xr({index:D,label:f(_,D,o),value:_,offset:v,size:g(_,e)})),b&&(b=d[o.length],o.push(xr({index:o.length,label:`\u2026${d.length-o.length} entries`,value:b,offset:v,size:g(b,e)})))):a===xre?(p=s.domain(),m=tS(s,p[0],jn(p)),d.length<3&&!e.values&&p[0]!==jn(p)&&(d=[p[0],jn(p)]),o=d.map((_,D)=>xr({index:D,label:f(_,D,d),value:_,perc:m(_)}))):(g=d.length-1,m=Sre(s),o=d.map((_,D)=>xr({index:D,label:f(_,D,d),value:_,perc:D?m(_):0,perc2:D===g?1:m(d[D+1])}))),i.source=o,i.add=o,this.value=o,i}});var MAe=e=>e.source.x,TAe=e=>e.source.y,RAe=e=>e.target.x,kAe=e=>e.target.y;function FP(e){Ye.call(this,{},e)}FP.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Et(FP,Ye,{transform(e,t){var r=e.sourceX||MAe,i=e.sourceY||TAe,o=e.targetX||RAe,a=e.targetY||kAe,s=e.as||"path",l=e.orient||"vertical",u=e.shape||"line",c=Doe.get(u+"-"+l)||Doe.get(u);return c||Ke("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,f=>{f[s]=c(r(f),i(f),o(f),a(f))}),t.reflow(e.modified()).modifies(s)}});var Noe=(e,t,r,i)=>"M"+e+","+t+"L"+r+","+i,OAe=(e,t,r,i)=>Noe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),Ioe=(e,t,r,i)=>{var o=r-e,a=i-t,s=Math.hypot(o,a)/2,l=180*Math.atan2(a,o)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+l+" 0 1 "+r+","+i},NAe=(e,t,r,i)=>Ioe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),Foe=(e,t,r,i)=>{let o=r-e,a=i-t,s=.2*(o+a),l=.2*(a-o);return"M"+e+","+t+"C"+(e+s)+","+(t+l)+" "+(r+l)+","+(i-s)+" "+r+","+i},IAe=(e,t,r,i)=>Foe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),FAe=(e,t,r,i)=>"M"+e+","+t+"V"+i+"H"+r,PAe=(e,t,r,i)=>"M"+e+","+t+"H"+r+"V"+i,LAe=(e,t,r,i)=>{let o=Math.cos(e),a=Math.sin(e),s=Math.cos(r),l=Math.sin(r),u=Math.abs(r-e)>Math.PI?r<=e:r>e;return"M"+t*o+","+t*a+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*s+","+t*l+"L"+i*s+","+i*l},BAe=(e,t,r,i)=>{let o=(e+r)/2;return"M"+e+","+t+"C"+o+","+t+" "+o+","+i+" "+r+","+i},$Ae=(e,t,r,i)=>{let o=(t+i)/2;return"M"+e+","+t+"C"+e+","+o+" "+r+","+o+" "+r+","+i},UAe=(e,t,r,i)=>{let o=Math.cos(e),a=Math.sin(e),s=Math.cos(r),l=Math.sin(r),u=(t+i)/2;return"M"+t*o+","+t*a+"C"+u*o+","+u*a+" "+u*s+","+u*l+" "+i*s+","+i*l},Doe=Ep({line:Noe,"line-radial":OAe,arc:Ioe,"arc-radial":NAe,curve:Foe,"curve-radial":IAe,"orthogonal-horizontal":FAe,"orthogonal-vertical":PAe,"orthogonal-radial":LAe,"diagonal-horizontal":BAe,"diagonal-vertical":$Ae,"diagonal-radial":UAe});function PP(e){Ye.call(this,null,e)}PP.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Et(PP,Ye,{transform(e,t){var r=e.as||["startAngle","endAngle"],i=r[0],o=r[1],a=e.field||kf,s=e.startAngle||0,l=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,c=u.map(a),f=c.length,d=s,p=(l-s)/VS(c),m=_9(f),g,v,b;for(e.sort&&m.sort((_,D)=>c[_]-c[D]),g=0;g<f;++g)b=c[m[g]],v=u[m[g]],v[i]=d,v[o]=d+=b*p;return this.value=c,t.reflow(e.modified()).modifies(r)}});var zAe=5;function VAe(e){let t=e.type;return!e.bins&&(t===$1||t===b2||t===x2)}function Poe(e){return Y8(e)&&e!==hc}var qAe=Eo(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Loe(e){Ye.call(this,null,e),this.modified(!0)}Et(Loe,Ye,{transform(e,t){var r=t.dataflow,i=this.value,o=HAe(e);(!i||o!==i.type)&&(this.value=i=Sr(o)());for(o in e)if(!qAe[o]){if(o==="padding"&&Poe(i.type))continue;En(i[o])?i[o](e[o]):r.warn("Unsupported scale property: "+o)}return KAe(i,e,XAe(i,e,jAe(i,e,r))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function HAe(e){var t=e.type,r="",i;return t===hc?hc+"-"+$1:(GAe(e)&&(i=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,r=i===2?hc+"-":i===3?U1+"-":""),(r+t||$1).toLowerCase())}function GAe(e){let t=e.type;return Y8(t)&&t!==Bp&&t!==$p&&(e.scheme||e.range&&e.range.length&&e.range.every(ht))}function jAe(e,t,r){let i=WAe(e,t.domainRaw,r);if(i>-1)return i;var o=t.domain,a=e.type,s=t.zero||t.zero===void 0&&VAe(e),l,u;if(!o)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(l=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[l]<0&&(o[l]=0)),t.domainMin!=null&&(o[0]=t.domainMin),t.domainMax!=null&&(o[l]=t.domainMax),t.domainMid!=null)){u=t.domainMid;let c=u>o[l]?l+1:u<o[0]?0:l;c!==l&&r.warn("Scale domainMid exceeds domain min or max.",u),o.splice(c,0,u)}return Poe(a)&&t.padding&&o[0]!==jn(o)&&(o=YAe(a,o,t.range,t.padding,t.exponent,t.constant)),e.domain(Boe(a,o,r)),a===X_&&e.unknown(t.domainImplicit?d2:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&nS(e,t.nice)||null),o.length}function WAe(e,t,r){return t?(e.domain(Boe(e.type,t,r)),t.length):-1}function YAe(e,t,r,i,o,a){var s=Math.abs(jn(r)-r[0]),l=s/(s-2*i),u=e===Uf?T4(t,null,l):e===x2?Zg(t,null,l,.5):e===b2?Zg(t,null,l,o||1):e===q8?R4(t,null,l,a||1):M4(t,null,l);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function Boe(e,t,r){if(wF(e)){var i=Math.abs(t.reduce((o,a)=>o+(a<0?-1:a>0?1:0),0));i!==t.length&&r.warn("Log scale domain includes zero: "+gt(t))}return t}function XAe(e,t,r){let i=t.bins;if(i&&!Le(i)){let o=e.domain(),a=o[0],s=jn(o),l=i.step,u=i.start==null?a:i.start,c=i.stop==null?s:i.stop;l||Ke("Scale bins parameter missing step property."),u<a&&(u=l*Math.ceil(a/l)),c>s&&(c=l*Math.floor(s/l)),i=_9(u,c+l/2,l)}return i?e.bins=i:e.bins&&delete e.bins,e.type===Q_&&(i?!t.domain&&!t.domainRaw&&(e.domain(i),r=i.length):e.bins=e.domain()),r}function KAe(e,t,r){var i=e.type,o=t.round||!1,a=t.range;if(t.rangeStep!=null)a=QAe(i,t,r);else if(t.scheme&&(a=ZAe(i,t,r),En(a))){if(e.interpolator)return e.interpolator(a);Ke(`Scale type ${i} does not support interpolating color schemes.`)}if(a&&_F(i))return e.interpolator(w2(IP(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(X8(t.interpolate,t.interpolateGamma)):En(e.round)?e.round(o):En(e.rangeRound)&&e.interpolate(o?NP:K1),a&&e.range(IP(a,t.reverse))}function QAe(e,t,r){e!==mF&&e!==K_&&Ke("Only band and point scales support rangeStep.");var i=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,o=e===K_?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*V8(r,o,i)]}function ZAe(e,t,r){var i=t.schemeExtent,o,a;return Le(t.scheme)?a=w2(t.scheme,t.interpolate,t.interpolateGamma):(o=t.scheme.toLowerCase(),a=K8(o),a||Ke(`Unrecognized scheme name: ${t.scheme}`)),r=e===G8?r+1:e===Q_?r-1:e===B1||e===H8?+t.schemeCount||zAe:r,_F(e)?Aoe(a,i,t.reverse):En(a)?eS(Aoe(a,i),r):e===X_?a:a.slice(0,r)}function Aoe(e,t,r){return En(e)&&(t||r)?J_(e,IP(t||[0,1],r)):e}function IP(e,t){return t?e.slice().reverse():e}function $oe(e){Ye.call(this,null,e)}Et($oe,Ye,{transform(e,t){let r=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return r&&t.source.sort(Pf(e.sort)),this.modified(r),t}});var Moe="zero",Uoe="center",zoe="normalize",Voe=["y0","y1"];function LP(e){Ye.call(this,null,e)}LP.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Moe,values:[Moe,Uoe,zoe]},{name:"as",type:"string",array:!0,length:2,default:Voe}]};Et(LP,Ye,{transform(e,t){var r=e.as||Voe,i=r[0],o=r[1],a=Pf(e.sort),s=e.field||kf,l=e.offset===Uoe?JAe:e.offset===zoe?eMe:tMe,u,c,f,d;for(u=nMe(t.source,e.groupby,a,s),c=0,f=u.length,d=u.max;c<f;++c)l(u[c],d,s,i,o);return t.reflow(e.modified()).modifies(r)}});function JAe(e,t,r,i,o){for(var a=(t-e.sum)/2,s=e.length,l=0,u;l<s;++l)u=e[l],u[i]=a,u[o]=a+=Math.abs(r(u))}function eMe(e,t,r,i,o){for(var a=1/e.sum,s=0,l=e.length,u=0,c=0,f;u<l;++u)f=e[u],f[i]=s,f[o]=s=a*(c+=Math.abs(r(f)))}function tMe(e,t,r,i,o){for(var a=0,s=0,l=e.length,u=0,c,f;u<l;++u)f=e[u],c=+r(f),c<0?(f[i]=s,f[o]=s+=c):(f[i]=a,f[o]=a+=c)}function nMe(e,t,r,i){var o=[],a=v=>v(f),s,l,u,c,f,d,p,m,g;if(t==null)o.push(e.slice());else for(s={},l=0,u=e.length;l<u;++l)f=e[l],d=t.map(a),p=s[d],p||(s[d]=p=[],o.push(p)),p.push(f);for(d=0,g=0,c=o.length;d<c;++d){for(p=o[d],l=0,m=0,u=p.length;l<u;++l)m+=Math.abs(i(p[l]));p.sum=m,m>g&&(g=m),r&&p.sort(r)}return o.max=g,o}var ZL={};Ka(ZL,{contour:()=>HL,geojson:()=>jL,geopath:()=>WL,geopoint:()=>YL,geoshape:()=>XL,graticule:()=>KL,heatmap:()=>QL,isocontour:()=>VL,kde2d:()=>qL,projection:()=>Yae});var rMe=Math.sqrt(50),iMe=Math.sqrt(10),oMe=Math.sqrt(2);function qoe(e,t,r){let i=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=rMe?10:a>=iMe?5:a>=oMe?2:1,l,u,c;return o<0?(c=Math.pow(10,-o)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?qoe(e,t,r*2):[l,u,c]}function $P(e,t,r){return t=+t,e=+e,r=+r,qoe(e,t,r)[2]}function UP(e,t,r){t=+t,e=+e,r=+r;let i=t<e,o=i?$P(t,e,r):$P(e,t,r);return(i?-1:1)*(o<0?1/-o:o)}function Q1(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function xc(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++i<o;)a[i]=e+i*r;return a}function HS(e,t){let r=0;if(t===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let o of e)(o=+t(o,++i,e))&&(r+=o)}return r}var bn=1e-6,GS=1e-12,$n=Math.PI,vi=$n/2,zP=$n/4,ca=$n*2,go=180/$n,ti=$n/180,Yn=Math.abs,Eu=Math.atan,Ba=Math.atan2,yn=Math.cos;var jS=Math.exp;var Z1=Math.log,WS=Math.pow,mn=Math.sin,is=Math.sign||function(e){return e>0?1:e<0?-1:0},Ei=Math.sqrt,O2=Math.tan;function YS(e){return e>1?0:e<-1?$n:Math.acos(e)}function ro(e){return e>1?vi:e<-1?-vi:Math.asin(e)}function fa(){}function XS(e,t){e&&Goe.hasOwnProperty(e.type)&&Goe[e.type](e,t)}var Hoe={Feature:function(e,t){XS(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,o=r.length;++i<o;)XS(r[i].geometry,t)}},Goe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)e=r[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){VP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)VP(r[i],t,0)},Polygon:function(e,t){joe(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)joe(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,o=r.length;++i<o;)XS(r[i],t)}};function VP(e,t,r){var i=-1,o=e.length-r,a;for(t.lineStart();++i<o;)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function joe(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)VP(e[r],t,1);t.polygonEnd()}function Jp(e,t){e&&Hoe.hasOwnProperty(e.type)?Hoe[e.type](e,t):XS(e,t)}function E9(e){return[Ba(e[1],e[0]),ro(e[2])]}function Gf(e){var t=e[0],r=e[1],i=yn(r);return[i*yn(t),i*mn(t),mn(r)]}function D9(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function N2(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function KS(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function A9(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function M9(e){var t=Ei(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function T9(e,t){function r(i,o){return i=e(i,o),t(i[0],i[1])}return e.invert&&t.invert&&(r.invert=function(i,o){return i=t.invert(i,o),i&&e.invert(i[0],i[1])}),r}function qP(e,t){return Yn(e)>$n&&(e-=Math.round(e/ca)*ca),[e,t]}qP.invert=qP;function HP(e,t,r){return(e%=ca)?t||r?T9(Yoe(e),Xoe(t,r)):Yoe(e):t||r?Xoe(t,r):qP}function Woe(e){return function(t,r){return t+=e,Yn(t)>$n&&(t-=Math.round(t/ca)*ca),[t,r]}}function Yoe(e){var t=Woe(e);return t.invert=Woe(-e),t}function Xoe(e,t){var r=yn(e),i=mn(e),o=yn(t),a=mn(t);function s(l,u){var c=yn(u),f=yn(l)*c,d=mn(l)*c,p=mn(u),m=p*r+f*i;return[Ba(d*o-m*a,f*r-p*i),ro(m*o+d*a)]}return s.invert=function(l,u){var c=yn(u),f=yn(l)*c,d=mn(l)*c,p=mn(u),m=p*o-d*a;return[Ba(d*o+p*a,f*r+m*i),ro(m*r-f*i)]},s}function Koe(e){e=HP(e[0]*ti,e[1]*ti,e.length>2?e[2]*ti:0);function t(r){return r=e(r[0]*ti,r[1]*ti),r[0]*=go,r[1]*=go,r}return t.invert=function(r){return r=e.invert(r[0]*ti,r[1]*ti),r[0]*=go,r[1]*=go,r},t}function Zoe(e,t,r,i,o,a){if(r){var s=yn(t),l=mn(t),u=i*r;o==null?(o=t+i*ca,a=t-u/2):(o=Qoe(s,o),a=Qoe(s,a),(i>0?o<a:o>a)&&(o+=i*ca));for(var c,f=o;i>0?f>a:f<a;f-=u)c=E9([s,-l*yn(f),-l*mn(f)]),e.point(c[0],c[1])}}function Qoe(e,t){t=Gf(t),t[0]-=e,M9(t);var r=YS(-t[1]);return((-t[2]<0?-r:r)+ca-bn)%ca}function QS(){var e=[],t;return{point:function(r,i,o){t.push([r,i,o])},lineStart:function(){e.push(t=[])},lineEnd:fa,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function I2(e,t){return Yn(e[0]-t[0])<bn&&Yn(e[1]-t[1])<bn}function ZS(e,t,r,i){this.x=e,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function JS(e,t,r,i,o){var a=[],s=[],l,u;if(e.forEach(function(g){if(!((v=g.length-1)<=0)){var v,b=g[0],_=g[v],D;if(I2(b,_)){if(!b[2]&&!_[2]){for(o.lineStart(),l=0;l<v;++l)o.point((b=g[l])[0],b[1]);o.lineEnd();return}_[0]+=2*bn}a.push(D=new ZS(b,g,null,!0)),s.push(D.o=new ZS(b,null,D,!1)),a.push(D=new ZS(_,g,null,!1)),s.push(D.o=new ZS(_,null,D,!0))}}),!!a.length){for(s.sort(t),Joe(a),Joe(s),l=0,u=s.length;l<u;++l)s[l].e=r=!r;for(var c=a[0],f,d;;){for(var p=c,m=!0;p.v;)if((p=p.n)===c)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(m)for(f=p.p.z,l=f.length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else i(p.x,p.p.x,-1,o);p=p.p}p=p.o,f=p.z,m=!m}while(!p.v);o.lineEnd()}}}function Joe(e){if(t=e.length){for(var t,r=0,i=e[0],o;++r<t;)i.n=o=e[r],o.p=i,i=o;i.n=o=e[0],o.p=i}}function GP(e){return Yn(e[0])<=$n?e[0]:is(e[0])*((Yn(e[0])+$n)%ca-$n)}function eae(e,t){var r=GP(t),i=t[1],o=mn(i),a=[mn(r),-yn(r),0],s=0,l=0,u=new Is;o===1?i=vi+bn:o===-1&&(i=-vi-bn);for(var c=0,f=e.length;c<f;++c)if(p=(d=e[c]).length)for(var d,p,m=d[p-1],g=GP(m),v=m[1]/2+zP,b=mn(v),_=yn(v),D=0;D<p;++D,g=N,b=j,_=B,m=T){var T=d[D],N=GP(T),z=T[1]/2+zP,j=mn(z),B=yn(z),U=N-g,x=U>=0?1:-1,w=x*U,C=w>$n,k=b*j;if(u.add(Ba(k*x*mn(w),_*B+k*yn(w))),s+=C?U+x*ca:U,C^g>=r^N>=r){var F=N2(Gf(m),Gf(T));M9(F);var I=N2(a,F);M9(I);var R=(C^U>=0?-1:1)*ro(I[2]);(i>R||i===R&&(F[0]||F[1]))&&(l+=C^U>=0?1:-1)}}return(s<-bn||s<bn&&u<-GS)^l&1}function eC(e,t,r,i){return function(o){var a=t(o),s=QS(),l=t(s),u=!1,c,f,d,p={point:m,lineStart:v,lineEnd:b,polygonStart:function(){p.point=_,p.lineStart=D,p.lineEnd=T,f=[],c=[]},polygonEnd:function(){p.point=m,p.lineStart=v,p.lineEnd=b,f=bf(f);var N=eae(c,i);f.length?(u||(o.polygonStart(),u=!0),JS(f,sMe,N,r,o)):N&&(u||(o.polygonStart(),u=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function m(N,z){e(N,z)&&o.point(N,z)}function g(N,z){a.point(N,z)}function v(){p.point=g,a.lineStart()}function b(){p.point=m,a.lineEnd()}function _(N,z){d.push([N,z]),l.point(N,z)}function D(){l.lineStart(),d=[]}function T(){_(d[0][0],d[0][1]),l.lineEnd();var N=l.clean(),z=s.result(),j,B=z.length,U,x,w;if(d.pop(),c.push(d),d=null,!!B){if(N&1){if(x=z[0],(U=x.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),j=0;j<U;++j)o.point((w=x[j])[0],w[1]);o.lineEnd()}return}B>1&&N&2&&z.push(z.pop().concat(z.shift())),f.push(z.filter(aMe))}}return p}}function aMe(e){return e.length>1}function sMe(e,t){return((e=e.x)[0]<0?e[1]-vi-bn:vi-e[1])-((t=t.x)[0]<0?t[1]-vi-bn:vi-t[1])}var jP=eC(function(){return!0},lMe,cMe,[-$n,-vi]);function lMe(e){var t=NaN,r=NaN,i=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(a,s){var l=a>0?$n:-$n,u=Yn(a-t);Yn(u-$n)<bn?(e.point(t,r=(r+s)/2>0?vi:-vi),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(a,r),o=0):i!==l&&u>=$n&&(Yn(t-i)<bn&&(t-=i*bn),Yn(a-l)<bn&&(a-=l*bn),r=uMe(t,r,a,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),o=0),e.point(t=a,r=s),i=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-o}}}function uMe(e,t,r,i){var o,a,s=mn(e-r);return Yn(s)>bn?Eu((mn(t)*(a=yn(i))*mn(r)-mn(i)*(o=yn(t))*mn(e))/(o*a*s)):(t+i)/2}function cMe(e,t,r,i){var o;if(e==null)o=r*vi,i.point(-$n,o),i.point(0,o),i.point($n,o),i.point($n,0),i.point($n,-o),i.point(0,-o),i.point(-$n,-o),i.point(-$n,0),i.point(-$n,o);else if(Yn(e[0]-t[0])>bn){var a=e[0]<t[0]?$n:-$n;o=r*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(t[0],t[1])}function tae(e){var t=yn(e),r=2*ti,i=t>0,o=Yn(t)>bn;function a(f,d,p,m){Zoe(m,e,r,p,f,d)}function s(f,d){return yn(f)*yn(d)>t}function l(f){var d,p,m,g,v;return{lineStart:function(){g=m=!1,v=1},point:function(b,_){var D=[b,_],T,N=s(b,_),z=i?N?0:c(b,_):N?c(b+(b<0?$n:-$n),_):0;if(!d&&(g=m=N)&&f.lineStart(),N!==m&&(T=u(d,D),(!T||I2(d,T)||I2(D,T))&&(D[2]=1)),N!==m)v=0,N?(f.lineStart(),T=u(D,d),f.point(T[0],T[1])):(T=u(d,D),f.point(T[0],T[1],2),f.lineEnd()),d=T;else if(o&&d&&i^N){var j;!(z&p)&&(j=u(D,d,!0))&&(v=0,i?(f.lineStart(),f.point(j[0][0],j[0][1]),f.point(j[1][0],j[1][1]),f.lineEnd()):(f.point(j[1][0],j[1][1]),f.lineEnd(),f.lineStart(),f.point(j[0][0],j[0][1],3)))}N&&(!d||!I2(d,D))&&f.point(D[0],D[1]),d=D,m=N,p=z},lineEnd:function(){m&&f.lineEnd(),d=null},clean:function(){return v|(g&&m)<<1}}}function u(f,d,p){var m=Gf(f),g=Gf(d),v=[1,0,0],b=N2(m,g),_=D9(b,b),D=b[0],T=_-D*D;if(!T)return!p&&f;var N=t*_/T,z=-t*D/T,j=N2(v,b),B=A9(v,N),U=A9(b,z);KS(B,U);var x=j,w=D9(B,x),C=D9(x,x),k=w*w-C*(D9(B,B)-1);if(!(k<0)){var F=Ei(k),I=A9(x,(-w-F)/C);if(KS(I,B),I=E9(I),!p)return I;var R=f[0],$=d[0],Y=f[1],re=d[1],ne;$<R&&(ne=R,R=$,$=ne);var he=$-R,ge=Yn(he-$n)<bn,Me=ge||he<bn;if(!ge&&re<Y&&(ne=Y,Y=re,re=ne),Me?ge?Y+re>0^I[1]<(Yn(I[0]-R)<bn?Y:re):Y<=I[1]&&I[1]<=re:he>$n^(R<=I[0]&&I[0]<=$)){var be=A9(x,(-w+F)/C);return KS(be,B),[I,E9(be)]}}}function c(f,d){var p=i?e:$n-e,m=0;return f<-p?m|=1:f>p&&(m|=2),d<-p?m|=4:d>p&&(m|=8),m}return eC(s,l,a,i?[0,-e]:[-$n,e-$n])}function nae(e,t,r,i,o,a){var s=e[0],l=e[1],u=t[0],c=t[1],f=0,d=1,p=u-s,m=c-l,g;if(g=r-s,!(!p&&g>0)){if(g/=p,p<0){if(g<f)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>f&&(f=g)}if(g=o-s,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>f&&(f=g)}else if(p>0){if(g<f)return;g<d&&(d=g)}if(g=i-l,!(!m&&g>0)){if(g/=m,m<0){if(g<f)return;g<d&&(d=g)}else if(m>0){if(g>d)return;g>f&&(f=g)}if(g=a-l,!(!m&&g<0)){if(g/=m,m<0){if(g>d)return;g>f&&(f=g)}else if(m>0){if(g<f)return;g<d&&(d=g)}return f>0&&(e[0]=s+f*p,e[1]=l+f*m),d<1&&(t[0]=s+d*p,t[1]=l+d*m),!0}}}}}var R9=1e9,tC=-R9;function k9(e,t,r,i){function o(c,f){return e<=c&&c<=r&&t<=f&&f<=i}function a(c,f,d,p){var m=0,g=0;if(c==null||(m=s(c,d))!==(g=s(f,d))||u(c,f)<0^d>0)do p.point(m===0||m===3?e:r,m>1?i:t);while((m=(m+d+4)%4)!==g);else p.point(f[0],f[1])}function s(c,f){return Yn(c[0]-e)<bn?f>0?0:3:Yn(c[0]-r)<bn?f>0?2:1:Yn(c[1]-t)<bn?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=s(c,1),p=s(f,1);return d!==p?d-p:d===0?f[1]-c[1]:d===1?c[0]-f[0]:d===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,d=QS(),p,m,g,v,b,_,D,T,N,z,j,B={point:U,lineStart:k,lineEnd:F,polygonStart:w,polygonEnd:C};function U(R,$){o(R,$)&&f.point(R,$)}function x(){for(var R=0,$=0,Y=m.length;$<Y;++$)for(var re=m[$],ne=1,he=re.length,ge=re[0],Me,be,ut=ge[0],Pe=ge[1];ne<he;++ne)Me=ut,be=Pe,ge=re[ne],ut=ge[0],Pe=ge[1],be<=i?Pe>i&&(ut-Me)*(i-be)>(Pe-be)*(e-Me)&&++R:Pe<=i&&(ut-Me)*(i-be)<(Pe-be)*(e-Me)&&--R;return R}function w(){f=d,p=[],m=[],j=!0}function C(){var R=x(),$=j&&R,Y=(p=bf(p)).length;($||Y)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Y&&JS(p,l,R,a,c),c.polygonEnd()),f=c,p=m=g=null}function k(){B.point=I,m&&m.push(g=[]),z=!0,N=!1,D=T=NaN}function F(){p&&(I(v,b),_&&N&&d.rejoin(),p.push(d.result())),B.point=U,N&&f.lineEnd()}function I(R,$){var Y=o(R,$);if(m&&g.push([R,$]),z)v=R,b=$,_=Y,z=!1,Y&&(f.lineStart(),f.point(R,$));else if(Y&&N)f.point(R,$);else{var re=[D=Math.max(tC,Math.min(R9,D)),T=Math.max(tC,Math.min(R9,T))],ne=[R=Math.max(tC,Math.min(R9,R)),$=Math.max(tC,Math.min(R9,$))];nae(re,ne,e,t,r,i)?(N||(f.lineStart(),f.point(re[0],re[1])),f.point(ne[0],ne[1]),Y||f.lineEnd(),j=!1):Y&&(f.lineStart(),f.point(R,$),j=!1)}D=R,T=$,N=Y}return B}}var eh=e=>e;var WP=new Is,YP=new Is,rae,iae,XP,KP,th={point:fa,lineStart:fa,lineEnd:fa,polygonStart:function(){th.lineStart=fMe,th.lineEnd=pMe},polygonEnd:function(){th.lineStart=th.lineEnd=th.point=fa,WP.add(Yn(YP)),YP=new Is},result:function(){var e=WP/2;return WP=new Is,e}};function fMe(){th.point=dMe}function dMe(e,t){th.point=oae,rae=XP=e,iae=KP=t}function oae(e,t){YP.add(KP*e-XP*t),XP=e,KP=t}function pMe(){oae(rae,iae)}var QP=th;var F2=1/0,nC=F2,O9=-F2,rC=O9,hMe={point:mMe,lineStart:fa,lineEnd:fa,polygonStart:fa,polygonEnd:fa,result:function(){var e=[[F2,nC],[O9,rC]];return O9=rC=-(nC=F2=1/0),e}};function mMe(e,t){e<F2&&(F2=e),e>O9&&(O9=e),t<nC&&(nC=t),t>rC&&(rC=t)}var P2=hMe;var ZP=0,JP=0,N9=0,iC=0,oC=0,L2=0,eL=0,tL=0,I9=0,lae,uae,jf,Wf,wc={point:J1,lineStart:aae,lineEnd:sae,polygonStart:function(){wc.lineStart=yMe,wc.lineEnd=bMe},polygonEnd:function(){wc.point=J1,wc.lineStart=aae,wc.lineEnd=sae},result:function(){var e=I9?[eL/I9,tL/I9]:L2?[iC/L2,oC/L2]:N9?[ZP/N9,JP/N9]:[NaN,NaN];return ZP=JP=N9=iC=oC=L2=eL=tL=I9=0,e}};function J1(e,t){ZP+=e,JP+=t,++N9}function aae(){wc.point=gMe}function gMe(e,t){wc.point=vMe,J1(jf=e,Wf=t)}function vMe(e,t){var r=e-jf,i=t-Wf,o=Ei(r*r+i*i);iC+=o*(jf+e)/2,oC+=o*(Wf+t)/2,L2+=o,J1(jf=e,Wf=t)}function sae(){wc.point=J1}function yMe(){wc.point=xMe}function bMe(){cae(lae,uae)}function xMe(e,t){wc.point=cae,J1(lae=jf=e,uae=Wf=t)}function cae(e,t){var r=e-jf,i=t-Wf,o=Ei(r*r+i*i);iC+=o*(jf+e)/2,oC+=o*(Wf+t)/2,L2+=o,o=Wf*e-jf*t,eL+=o*(jf+e),tL+=o*(Wf+t),I9+=o*3,J1(jf=e,Wf=t)}var nL=wc;function aC(e){this._context=e}aC.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ca);break}}},result:fa};var iL=new Is,rL,fae,dae,F9,P9,sC={point:fa,lineStart:function(){sC.point=wMe},lineEnd:function(){rL&&pae(fae,dae),sC.point=fa},polygonStart:function(){rL=!0},polygonEnd:function(){rL=null},result:function(){var e=+iL;return iL=new Is,e}};function wMe(e,t){sC.point=pae,fae=F9=e,dae=P9=t}function pae(e,t){F9-=e,P9-=t,iL.add(Ei(F9*F9+P9*P9)),F9=e,P9=t}var oL=sC;var hae,lC,mae,gae,L9=class{constructor(t){this._append=t==null?vae:_Me(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==mae||this._append!==lC){let i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,mae=i,lC=this._append,gae=this._,this._=o}this._+=gae;break}}}result(){let t=this._;return this._="",t.length?t:null}};function vae(e){let t=1;this._+=e[0];for(let r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _Me(e){let t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return vae;if(t!==hae){let r=10**t;hae=t,lC=function(o){let a=1;this._+=o[0];for(let s=o.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+o[a]}}return lC}function uC(e,t){let r=3,i=4.5,o,a;function s(l){return l&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),Jp(l,o(a))),a.result()}return s.area=function(l){return Jp(l,o(QP)),QP.result()},s.measure=function(l){return Jp(l,o(oL)),oL.result()},s.bounds=function(l){return Jp(l,o(P2)),P2.result()},s.centroid=function(l){return Jp(l,o(nL)),nL.result()},s.projection=function(l){return arguments.length?(o=l==null?(e=null,eh):(e=l).stream,s):e},s.context=function(l){return arguments.length?(a=l==null?(t=null,new L9(r)):new aC(t=l),typeof i!="function"&&a.pointRadius(i),s):t},s.pointRadius=function(l){return arguments.length?(i=typeof l=="function"?l:(a.pointRadius(+l),+l),s):i},s.digits=function(l){if(!arguments.length)return r;if(l==null)r=null;else{let u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);r=u}return t===null&&(a=new L9(r)),s},s.projection(e).digits(r).context(t)}function em(e){return function(t){var r=new aL;for(var i in e)r[i]=e[i];return r.stream=t,r}}function aL(){}aL.prototype={constructor:aL,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function sL(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Jp(r,e.stream(P2)),t(P2.result()),i!=null&&e.clipExtent(i),e}function tm(e,t,r){return sL(e,function(i){var o=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),l=+t[0][0]+(o-s*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(a-s*(i[1][1]+i[0][1]))/2;e.scale(150*s).translate([l,u])},r)}function B2(e,t,r){return tm(e,[[0,0],t],r)}function $2(e,t,r){return sL(e,function(i){var o=+t,a=o/(i[1][0]-i[0][0]),s=(o-a*(i[1][0]+i[0][0]))/2,l=-a*i[0][1];e.scale(150*a).translate([s,l])},r)}function U2(e,t,r){return sL(e,function(i){var o=+t,a=o/(i[1][1]-i[0][1]),s=-a*i[0][0],l=(o-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([s,l])},r)}var yae=16,SMe=yn(30*ti);function lL(e,t){return+t?EMe(e,t):CMe(e)}function CMe(e){return em({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function EMe(e,t){function r(i,o,a,s,l,u,c,f,d,p,m,g,v,b){var _=c-i,D=f-o,T=_*_+D*D;if(T>4*t&&v--){var N=s+p,z=l+m,j=u+g,B=Ei(N*N+z*z+j*j),U=ro(j/=B),x=Yn(Yn(j)-1)<bn||Yn(a-d)<bn?(a+d)/2:Ba(z,N),w=e(x,U),C=w[0],k=w[1],F=C-i,I=k-o,R=D*F-_*I;(R*R/T>t||Yn((_*F+D*I)/T-.5)>.3||s*p+l*m+u*g<SMe)&&(r(i,o,a,s,l,u,C,k,x,N/=B,z/=B,j,v,b),b.point(C,k),r(C,k,x,N,z,j,c,f,d,p,m,g,v,b))}}return function(i){var o,a,s,l,u,c,f,d,p,m,g,v,b={point:_,lineStart:D,lineEnd:N,polygonStart:function(){i.polygonStart(),b.lineStart=z},polygonEnd:function(){i.polygonEnd(),b.lineStart=D}};function _(U,x){U=e(U,x),i.point(U[0],U[1])}function D(){d=NaN,b.point=T,i.lineStart()}function T(U,x){var w=Gf([U,x]),C=e(U,x);r(d,p,f,m,g,v,d=C[0],p=C[1],f=U,m=w[0],g=w[1],v=w[2],yae,i),i.point(d,p)}function N(){b.point=_,i.lineEnd()}function z(){D(),b.point=j,b.lineEnd=B}function j(U,x){T(o=U,x),a=d,s=p,l=m,u=g,c=v,b.point=T}function B(){r(d,p,f,m,g,v,a,s,o,l,u,c,yae,i),b.lineEnd=N,N()}return b}}var DMe=em({point:function(e,t){this.stream.point(e*ti,t*ti)}});function AMe(e){return em({point:function(t,r){var i=e(t,r);return this.stream.point(i[0],i[1])}})}function MMe(e,t,r,i,o){function a(s,l){return s*=i,l*=o,[t+e*s,r-e*l]}return a.invert=function(s,l){return[(s-t)/e*i,(r-l)/e*o]},a}function bae(e,t,r,i,o,a){if(!a)return MMe(e,t,r,i,o);var s=yn(a),l=mn(a),u=s*e,c=l*e,f=s/e,d=l/e,p=(l*r-s*t)/e,m=(l*t+s*r)/e;function g(v,b){return v*=i,b*=o,[u*v-c*b+t,r-c*v-u*b]}return g.invert=function(v,b){return[i*(f*v-d*b+p),o*(m-d*v-f*b)]},g}function Wo(e){return uL(function(){return e})()}function uL(e){var t,r=150,i=480,o=250,a=0,s=0,l=0,u=0,c=0,f,d=0,p=1,m=1,g=null,v=jP,b=null,_,D,T,N=eh,z=.5,j,B,U,x,w;function C(R){return U(R[0]*ti,R[1]*ti)}function k(R){return R=U.invert(R[0],R[1]),R&&[R[0]*go,R[1]*go]}C.stream=function(R){return x&&w===R?x:x=DMe(AMe(f)(v(j(N(w=R)))))},C.preclip=function(R){return arguments.length?(v=R,g=void 0,I()):v},C.postclip=function(R){return arguments.length?(N=R,b=_=D=T=null,I()):N},C.clipAngle=function(R){return arguments.length?(v=+R?tae(g=R*ti):(g=null,jP),I()):g*go},C.clipExtent=function(R){return arguments.length?(N=R==null?(b=_=D=T=null,eh):k9(b=+R[0][0],_=+R[0][1],D=+R[1][0],T=+R[1][1]),I()):b==null?null:[[b,_],[D,T]]},C.scale=function(R){return arguments.length?(r=+R,F()):r},C.translate=function(R){return arguments.length?(i=+R[0],o=+R[1],F()):[i,o]},C.center=function(R){return arguments.length?(a=R[0]%360*ti,s=R[1]%360*ti,F()):[a*go,s*go]},C.rotate=function(R){return arguments.length?(l=R[0]%360*ti,u=R[1]%360*ti,c=R.length>2?R[2]%360*ti:0,F()):[l*go,u*go,c*go]},C.angle=function(R){return arguments.length?(d=R%360*ti,F()):d*go},C.reflectX=function(R){return arguments.length?(p=R?-1:1,F()):p<0},C.reflectY=function(R){return arguments.length?(m=R?-1:1,F()):m<0},C.precision=function(R){return arguments.length?(j=lL(B,z=R*R),I()):Ei(z)},C.fitExtent=function(R,$){return tm(C,R,$)},C.fitSize=function(R,$){return B2(C,R,$)},C.fitWidth=function(R,$){return $2(C,R,$)},C.fitHeight=function(R,$){return U2(C,R,$)};function F(){var R=bae(r,0,0,p,m,d).apply(null,t(a,s)),$=bae(r,i-R[0],o-R[1],p,m,d);return f=HP(l,u,c),B=T9(t,$),U=T9(f,B),j=lL(B,z),I()}function I(){return x=w=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&k,F()}}function z2(e){var t=0,r=$n/3,i=uL(e),o=i(t,r);return o.parallels=function(a){return arguments.length?i(t=a[0]*ti,r=a[1]*ti):[t*go,r*go]},o}function xae(e){var t=yn(e);function r(i,o){return[i*t,mn(o)/t]}return r.invert=function(i,o){return[i/t,ro(o*t)]},r}function wae(e,t){var r=mn(e),i=(r+mn(t))/2;if(Yn(i)<bn)return xae(e);var o=1+r*(2*i-r),a=Ei(o)/i;function s(l,u){var c=Ei(o-2*i*mn(u))/i;return[c*mn(l*=i),a-c*yn(l)]}return s.invert=function(l,u){var c=a-u,f=Ba(l,Yn(c))*is(c);return c*i<0&&(f-=$n*is(l)*is(c)),[f/i,ro((o-(l*l+c*c)*i*i)/(2*i))]},s}function nh(){return z2(wae).scale(155.424).center([0,33.6442])}function B9(){return nh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function TMe(e){var t=e.length;return{point:function(r,i){for(var o=-1;++o<t;)e[o].point(r,i)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function cL(){var e,t,r=B9(),i,o=nh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=nh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,u,c={point:function(p,m){u=[p,m]}};function f(p){var m=p[0],g=p[1];return u=null,i.point(m,g),u||(a.point(m,g),u)||(l.point(m,g),u)}f.invert=function(p){var m=r.scale(),g=r.translate(),v=(p[0]-g[0])/m,b=(p[1]-g[1])/m;return(b>=.12&&b<.234&&v>=-.425&&v<-.214?o:b>=.166&&b<.234&&v>=-.214&&v<-.115?s:r).invert(p)},f.stream=function(p){return e&&t===p?e:e=TMe([r.stream(t=p),o.stream(p),s.stream(p)])},f.precision=function(p){return arguments.length?(r.precision(p),o.precision(p),s.precision(p),d()):r.precision()},f.scale=function(p){return arguments.length?(r.scale(p),o.scale(p*.35),s.scale(p),f.translate(r.translate())):r.scale()},f.translate=function(p){if(!arguments.length)return r.translate();var m=r.scale(),g=+p[0],v=+p[1];return i=r.translate(p).clipExtent([[g-.455*m,v-.238*m],[g+.455*m,v+.238*m]]).stream(c),a=o.translate([g-.307*m,v+.201*m]).clipExtent([[g-.425*m+bn,v+.12*m+bn],[g-.214*m-bn,v+.234*m-bn]]).stream(c),l=s.translate([g-.205*m,v+.212*m]).clipExtent([[g-.214*m+bn,v+.166*m+bn],[g-.115*m-bn,v+.234*m-bn]]).stream(c),d()},f.fitExtent=function(p,m){return tm(f,p,m)},f.fitSize=function(p,m){return B2(f,p,m)},f.fitWidth=function(p,m){return $2(f,p,m)},f.fitHeight=function(p,m){return U2(f,p,m)};function d(){return e=t=null,f}return f.scale(1070)}function cC(e){return function(t,r){var i=yn(t),o=yn(r),a=e(i*o);return a===1/0?[2,0]:[a*o*mn(t),a*mn(r)]}}function Yf(e){return function(t,r){var i=Ei(t*t+r*r),o=e(i),a=mn(o),s=yn(o);return[Ba(t*a,i*s),ro(i&&r*a/i)]}}var fL=cC(function(e){return Ei(2/(1+e))});fL.invert=Yf(function(e){return 2*ro(e/2)});function dL(){return Wo(fL).scale(124.75).clipAngle(180-.001)}var pL=cC(function(e){return(e=YS(e))&&e/mn(e)});pL.invert=Yf(function(e){return e});function hL(){return Wo(pL).scale(79.4188).clipAngle(180-.001)}function V2(e,t){return[e,Z1(O2((vi+t)/2))]}V2.invert=function(e,t){return[e,2*Eu(jS(t))-vi]};function mL(){return gL(V2).scale(961/ca)}function gL(e){var t=Wo(e),r=t.center,i=t.scale,o=t.translate,a=t.clipExtent,s=null,l,u,c;t.scale=function(d){return arguments.length?(i(d),f()):i()},t.translate=function(d){return arguments.length?(o(d),f()):o()},t.center=function(d){return arguments.length?(r(d),f()):r()},t.clipExtent=function(d){return arguments.length?(d==null?s=l=u=c=null:(s=+d[0][0],l=+d[0][1],u=+d[1][0],c=+d[1][1]),f()):s==null?null:[[s,l],[u,c]]};function f(){var d=$n*i(),p=t(Koe(t.rotate()).invert([0,0]));return a(s==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:e===V2?[[Math.max(p[0]-d,s),l],[Math.min(p[0]+d,u),c]]:[[s,Math.max(p[1]-d,l)],[u,Math.min(p[1]+d,c)]])}return f()}function fC(e){return O2((vi+e)/2)}function _ae(e,t){var r=yn(e),i=e===t?mn(e):Z1(r/yn(t))/Z1(fC(t)/fC(e)),o=r*WS(fC(e),i)/i;if(!i)return V2;function a(s,l){o>0?l<-vi+bn&&(l=-vi+bn):l>vi-bn&&(l=vi-bn);var u=o/WS(fC(l),i);return[u*mn(i*s),o-u*yn(i*s)]}return a.invert=function(s,l){var u=o-l,c=is(i)*Ei(s*s+u*u),f=Ba(s,Yn(u))*is(u);return u*i<0&&(f-=$n*is(s)*is(u)),[f/i,2*Eu(WS(o/c,1/i))-vi]},a}function vL(){return z2(_ae).scale(109.5).parallels([30,30])}function q2(e,t){return[e,t]}q2.invert=q2;function yL(){return Wo(q2).scale(152.63)}function Sae(e,t){var r=yn(e),i=e===t?mn(e):(r-yn(t))/(t-e),o=r/i+e;if(Yn(i)<bn)return q2;function a(s,l){var u=o-l,c=i*s;return[u*mn(c),o-u*yn(c)]}return a.invert=function(s,l){var u=o-l,c=Ba(s,Yn(u))*is(u);return u*i<0&&(c-=$n*is(s)*is(u)),[c/i,o-is(i)*Ei(s*s+u*u)]},a}function bL(){return z2(Sae).scale(131.154).center([0,13.9389])}var $9=1.340264,U9=-.081106,z9=893e-6,V9=.003796,dC=Ei(3)/2,RMe=12;function xL(e,t){var r=ro(dC*mn(t)),i=r*r,o=i*i*i;return[e*yn(r)/(dC*($9+3*U9*i+o*(7*z9+9*V9*i))),r*($9+U9*i+o*(z9+V9*i))]}xL.invert=function(e,t){for(var r=t,i=r*r,o=i*i*i,a=0,s,l,u;a<RMe&&(l=r*($9+U9*i+o*(z9+V9*i))-t,u=$9+3*U9*i+o*(7*z9+9*V9*i),r-=s=l/u,i=r*r,o=i*i*i,!(Yn(s)<GS));++a);return[dC*e*($9+3*U9*i+o*(7*z9+9*V9*i))/yn(r),ro(mn(r)/dC)]};function wL(){return Wo(xL).scale(177.158)}function _L(e,t){var r=yn(t),i=yn(e)*r;return[r*mn(e)/i,mn(t)/i]}_L.invert=Yf(Eu);function SL(){return Wo(_L).scale(144.049).clipAngle(60)}function CL(){var e=1,t=0,r=0,i=1,o=1,a=0,s,l,u=null,c,f,d,p=1,m=1,g=em({point:function(N,z){var j=T([N,z]);this.stream.point(j[0],j[1])}}),v=eh,b,_;function D(){return p=e*i,m=e*o,b=_=null,T}function T(N){var z=N[0]*p,j=N[1]*m;if(a){var B=j*s-z*l;z=z*s+j*l,j=B}return[z+t,j+r]}return T.invert=function(N){var z=N[0]-t,j=N[1]-r;if(a){var B=j*s+z*l;z=z*s-j*l,j=B}return[z/p,j/m]},T.stream=function(N){return b&&_===N?b:b=g(v(_=N))},T.postclip=function(N){return arguments.length?(v=N,u=c=f=d=null,D()):v},T.clipExtent=function(N){return arguments.length?(v=N==null?(u=c=f=d=null,eh):k9(u=+N[0][0],c=+N[0][1],f=+N[1][0],d=+N[1][1]),D()):u==null?null:[[u,c],[f,d]]},T.scale=function(N){return arguments.length?(e=+N,D()):e},T.translate=function(N){return arguments.length?(t=+N[0],r=+N[1],D()):[t,r]},T.angle=function(N){return arguments.length?(a=N%360*ti,l=mn(a),s=yn(a),D()):a*go},T.reflectX=function(N){return arguments.length?(i=N?-1:1,D()):i<0},T.reflectY=function(N){return arguments.length?(o=N?-1:1,D()):o<0},T.fitExtent=function(N,z){return tm(T,N,z)},T.fitSize=function(N,z){return B2(T,N,z)},T.fitWidth=function(N,z){return $2(T,N,z)},T.fitHeight=function(N,z){return U2(T,N,z)},T}function EL(e,t){var r=t*t,i=r*r;return[e*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}EL.invert=function(e,t){var r=t,i=25,o;do{var a=r*r,s=a*a;r-=o=(r*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Yn(o)>bn&&--i>0);return[e/(.8707+(a=r*r)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),r]};function DL(){return Wo(EL).scale(175.295)}function AL(e,t){return[yn(t)*mn(e),mn(t)]}AL.invert=Yf(ro);function ML(){return Wo(AL).scale(249.5).clipAngle(90+bn)}function TL(e,t){var r=yn(t),i=1+yn(e)*r;return[r*mn(e)/i,mn(t)/i]}TL.invert=Yf(function(e){return 2*Eu(e)});function RL(){return Wo(TL).scale(250).clipAngle(142)}function kL(e,t){return[Z1(O2((vi+t)/2)),-e]}kL.invert=function(e,t){return[-t,2*Eu(jS(e))-vi]};function OL(){var e=gL(kL),t=e.center,r=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):(i=t(),[i[1],-i[0]])},e.rotate=function(i){return arguments.length?r([i[0],i[1],i.length>2?i[2]+90:90]):(i=r(),[i[0],i[1],i[2]-90])},r([0,0,90]).scale(159.155)}var Cae=Math.abs;var hC=Math.cos;var q9=Math.sin;var Eae=1e-6;var rh=Math.PI,pC=rh/2,HEt=rh/4;var NL=Dae(2),GEt=Dae(rh),jEt=rh*2,WEt=180/rh,YEt=rh/180;function IL(e){return e>1?pC:e<-1?-pC:Math.asin(e)}function Dae(e){return e>0?Math.sqrt(e):0}function kMe(e,t){var r=e*q9(t),i=30,o;do t-=o=(t+q9(t)-r)/(1+hC(t));while(Cae(o)>Eae&&--i>0);return t/2}function OMe(e,t,r){function i(o,a){return[e*o*hC(a=kMe(r,a)),t*q9(a)]}return i.invert=function(o,a){return a=IL(a/t),[o/(e*hC(a)),IL((2*a+q9(2*a))/r)]},i}var Aae=OMe(NL/pC,NL,rh);function FL(){return xx(Aae).scale(169.529)}var NMe=uC(),gC=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function IMe(e,t){return function r(){let i=t();return i.type=e,i.path=uC().projection(i),i.copy=i.copy||function(){let o=r();return gC.forEach(a=>{i[a]&&o[a](i[a]())}),o.path.pointRadius(i.path.pointRadius()),o},yF(i)}}function H9(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(mC[e]=IMe(e,t),this):mC[e]||null}function PL(e){return e&&e.path||NMe}var mC={albers:B9,albersusa:cL,azimuthalequalarea:dL,azimuthalequidistant:hL,conicconformal:vL,conicequalarea:nh,conicequidistant:bL,equalEarth:wL,equirectangular:yL,gnomonic:SL,identity:CL,mercator:mL,mollweide:FL,naturalEarth1:DL,orthographic:ML,stereographic:RL,transversemercator:OL};for(let e in mC)H9(e,mC[e]);var d0=1e-6;var G9=Math.PI,oDt=G9/2,aDt=G9/4,sDt=G9*2,lDt=180/G9,uDt=G9/180,LL=Math.abs;var j9=Math.ceil;function Mae(e,t,r){var i=xc(e,t-d0,r).concat(t);return function(o){return i.map(function(a){return[o,a]})}}function Tae(e,t,r){var i=xc(e,t-d0,r).concat(t);return function(o){return i.map(function(a){return[a,o]})}}function vC(){var e,t,r,i,o,a,s,l,u=10,c=u,f=90,d=360,p,m,g,v,b=2.5;function _(){return{type:"MultiLineString",coordinates:D()}}function D(){return xc(j9(i/f)*f,r,f).map(g).concat(xc(j9(l/d)*d,s,d).map(v)).concat(xc(j9(t/u)*u,e,u).filter(function(T){return LL(T%f)>d0}).map(p)).concat(xc(j9(a/c)*c,o,c).filter(function(T){return LL(T%d)>d0}).map(m))}return _.lines=function(){return D().map(function(T){return{type:"LineString",coordinates:T}})},_.outline=function(){return{type:"Polygon",coordinates:[g(i).concat(v(s).slice(1),g(r).reverse().slice(1),v(l).reverse().slice(1))]}},_.extent=function(T){return arguments.length?_.extentMajor(T).extentMinor(T):_.extentMinor()},_.extentMajor=function(T){return arguments.length?(i=+T[0][0],r=+T[1][0],l=+T[0][1],s=+T[1][1],i>r&&(T=i,i=r,r=T),l>s&&(T=l,l=s,s=T),_.precision(b)):[[i,l],[r,s]]},_.extentMinor=function(T){return arguments.length?(t=+T[0][0],e=+T[1][0],a=+T[0][1],o=+T[1][1],t>e&&(T=t,t=e,e=T),a>o&&(T=a,a=o,o=T),_.precision(b)):[[t,a],[e,o]]},_.step=function(T){return arguments.length?_.stepMajor(T).stepMinor(T):_.stepMinor()},_.stepMajor=function(T){return arguments.length?(f=+T[0],d=+T[1],_):[f,d]},_.stepMinor=function(T){return arguments.length?(u=+T[0],c=+T[1],_):[u,c]},_.precision=function(T){return arguments.length?(b=+T,p=Mae(a,o,90),m=Tae(t,e,b),g=Mae(l,s,90),v=Tae(i,r,b),_):b},_.extentMajor([[-180,-90+d0],[180,90-d0]]).extentMinor([[-180,-80-d0],[180,80+d0]])}function yC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BL(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function X9(){}var W9=.7,wC=1/W9,H2="\\s*([+-]?\\d+)\\s*",Y9="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FMe=/^#([0-9a-f]{3,8})$/,PMe=new RegExp(`^rgb\\(${H2},${H2},${H2}\\)$`),LMe=new RegExp(`^rgb\\(${Xf},${Xf},${Xf}\\)$`),BMe=new RegExp(`^rgba\\(${H2},${H2},${H2},${Y9}\\)$`),$Me=new RegExp(`^rgba\\(${Xf},${Xf},${Xf},${Y9}\\)$`),UMe=new RegExp(`^hsl\\(${Y9},${Xf},${Xf}\\)$`),zMe=new RegExp(`^hsla\\(${Y9},${Xf},${Xf},${Y9}\\)$`),Rae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yC(X9,K9,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kae,formatHex:kae,formatHex8:VMe,formatHsl:qMe,formatRgb:Oae,toString:Oae});function kae(){return this.rgb().formatHex()}function VMe(){return this.rgb().formatHex8()}function qMe(){return Bae(this).formatHsl()}function Oae(){return this.rgb().formatRgb()}function K9(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=FMe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Nae(t):r===3?new ml(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PMe.exec(e))?new ml(t[1],t[2],t[3],1):(t=LMe.exec(e))?new ml(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BMe.exec(e))?bC(t[1],t[2],t[3],t[4]):(t=$Me.exec(e))?bC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UMe.exec(e))?Pae(t[1],t[2]/100,t[3]/100,1):(t=zMe.exec(e))?Pae(t[1],t[2]/100,t[3]/100,t[4]):Rae.hasOwnProperty(e)?Nae(Rae[e]):e==="transparent"?new ml(NaN,NaN,NaN,0):null}function Nae(e){return new ml(e>>16&255,e>>8&255,e&255,1)}function bC(e,t,r,i){return i<=0&&(e=t=r=NaN),new ml(e,t,r,i)}function HMe(e){return e instanceof X9||(e=K9(e)),e?(e=e.rgb(),new ml(e.r,e.g,e.b,e.opacity)):new ml}function Q9(e,t,r,i){return arguments.length===1?HMe(e):new ml(e,t,r,i??1)}function ml(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}yC(ml,Q9,BL(X9,{brighter(e){return e=e==null?wC:Math.pow(wC,e),new ml(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?W9:Math.pow(W9,e),new ml(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ml(rm(this.r),rm(this.g),rm(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iae,formatHex:Iae,formatHex8:GMe,formatRgb:Fae,toString:Fae}));function Iae(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}`}function GMe(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}${nm((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fae(){let e=_C(this.opacity);return`${e===1?"rgb(":"rgba("}${rm(this.r)}, ${rm(this.g)}, ${rm(this.b)}${e===1?")":`, ${e})`}`}function _C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nm(e){return e=rm(e),(e<16?"0":"")+e.toString(16)}function Pae(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _c(e,t,r,i)}function Bae(e){if(e instanceof _c)return new _c(e.h,e.s,e.l,e.opacity);if(e instanceof X9||(e=K9(e)),!e)return new _c;if(e instanceof _c)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(t,r,i),a=Math.max(t,r,i),s=NaN,l=a-o,u=(a+o)/2;return l?(t===a?s=(r-i)/l+(r<i)*6:r===a?s=(i-t)/l+2:s=(t-r)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new _c(s,l,u,e.opacity)}function $ae(e,t,r,i){return arguments.length===1?Bae(e):new _c(e,t,r,i??1)}function _c(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}yC(_c,$ae,BL(X9,{brighter(e){return e=e==null?wC:Math.pow(wC,e),new _c(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W9:Math.pow(W9,e),new _c(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,o=2*r-i;return new ml($L(e>=240?e-240:e+120,o,i),$L(e,o,i),$L(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new _c(Lae(this.h),xC(this.s),xC(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=_C(this.opacity);return`${e===1?"hsl(":"hsla("}${Lae(this.h)}, ${xC(this.s)*100}%, ${xC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lae(e){return e=(e||0)%360,e<0?e+360:e}function xC(e){return Math.max(0,Math.min(1,e||0))}function $L(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function jMe(){}var p0=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Vae(){var e=1,t=1,r=l;function i(u,c){return c.map(f=>o(u,f))}function o(u,c){var f=[],d=[];return a(u,c,p=>{r(p,u,c),WMe(p)>0?f.push([p]):d.push(p)}),d.forEach(p=>{for(var m=0,g=f.length,v;m<g;++m)if(YMe((v=f[m])[0],p)!==-1){v.push(p);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function a(u,c,f){var d=[],p=[],m,g,v,b,_,D;for(m=g=-1,b=u[0]>=c,p0[b<<1].forEach(T);++m<e-1;)v=b,b=u[m+1]>=c,p0[v|b<<1].forEach(T);for(p0[b<<0].forEach(T);++g<t-1;){for(m=-1,b=u[g*e+e]>=c,_=u[g*e]>=c,p0[b<<1|_<<2].forEach(T);++m<e-1;)v=b,b=u[g*e+e+m+1]>=c,D=_,_=u[g*e+m+1]>=c,p0[v|b<<1|_<<2|D<<3].forEach(T);p0[b|_<<3].forEach(T)}for(m=-1,_=u[g*e]>=c,p0[_<<2].forEach(T);++m<e-1;)D=_,_=u[g*e+m+1]>=c,p0[_<<2|D<<3].forEach(T);p0[_<<3].forEach(T);function T(N){var z=[N[0][0]+m,N[0][1]+g],j=[N[1][0]+m,N[1][1]+g],B=s(z),U=s(j),x,w;(x=p[B])?(w=d[U])?(delete p[x.end],delete d[w.start],x===w?(x.ring.push(j),f(x.ring)):d[x.start]=p[w.end]={start:x.start,end:w.end,ring:x.ring.concat(w.ring)}):(delete p[x.end],x.ring.push(j),p[x.end=U]=x):(x=d[U])?(w=p[B])?(delete d[x.start],delete p[w.end],x===w?(x.ring.push(j),f(x.ring)):d[w.start]=p[x.end]={start:w.start,end:x.end,ring:w.ring.concat(x.ring)}):(delete d[x.start],x.ring.unshift(z),d[x.start=B]=x):d[B]=p[U]={start:B,end:U,ring:[z,j]}}}function s(u){return u[0]*2+u[1]*(e+1)*4}function l(u,c,f){u.forEach(d=>{var p=d[0],m=d[1],g=p|0,v=m|0,b,_=c[v*e+g];p>0&&p<e&&g===p&&(b=c[v*e+g-1],d[0]=p+(f-b)/(_-b)-.5),m>0&&m<t&&v===m&&(b=c[(v-1)*e+g],d[1]=m+(f-b)/(_-b)-.5)})}return i.contour=o,i.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);return c>=0&&f>=0||Ke("invalid size"),e=c,t=f,i},i.smooth=function(u){return arguments.length?(r=u?l:jMe,i):r===l},i}function WMe(e){for(var t=0,r=e.length,i=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}function YMe(e,t){for(var r=-1,i=t.length,o;++r<i;)if(o=XMe(e,t[r]))return o;return 0}function XMe(e,t){for(var r=t[0],i=t[1],o=-1,a=0,s=e.length,l=s-1;a<s;l=a++){var u=e[a],c=u[0],f=u[1],d=e[l],p=d[0],m=d[1];if(KMe(u,d,t))return 0;f>i!=m>i&&r<(p-c)*(i-f)/(m-f)+c&&(o=-o)}return o}function KMe(e,t,r){var i;return QMe(e,t,r)&&ZMe(e[i=+(e[0]===t[0])],r[i],t[i])}function QMe(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function ZMe(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function qae(e,t,r){return function(i){var o=Bs(i),a=r?Math.min(o[0],0):o[0],s=o[1],l=s-a,u=t?UP(a,s,e):l/(e+1);return xc(a+u,s,u)}}function VL(e){Ye.call(this,null,e)}VL.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Et(VL,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,o=e.field||to,a=Vae().smooth(e.smooth!==!1),s=e.thresholds||JMe(i,o,e),l=e.as===null?null:e.as||"contour",u=[];return i.forEach(c=>{let f=o(c),d=a.size([f.width,f.height])(f.values,Le(s)?s:s(f.values));eTe(d,f,c,e),d.forEach(p=>{u.push(D1(c,xr(l!=null?{[l]:p}:p)))})}),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}});function JMe(e,t,r){let i=qae(r.levels||10,r.nice,r.zero!==!1);return r.resolve!=="shared"?i:i(e.map(o=>Q1(t(o).values)))}function eTe(e,t,r,i){let o=i.scale||t.scale,a=i.translate||t.translate;if(En(o)&&(o=o(r,i)),En(a)&&(a=a(r,i)),(o===1||o==null)&&!a)return;let s=(qn(o)?o:o[0])||1,l=(qn(o)?o:o[1])||1,u=a&&a[0]||0,c=a&&a[1]||0;e.forEach(Hae(t,s,l,u,c))}function Hae(e,t,r,i,o){let a=e.x1||0,s=e.y1||0,l=t*r<0;function u(d){d.forEach(c)}function c(d){l&&d.reverse(),d.forEach(f)}function f(d){d[0]=(d[0]-a)*t+i,d[1]=(d[1]-s)*r+o}return function(d){return d.coordinates.forEach(u),d}}function Uae(e,t,r){let i=e>=0?e:Ww(t,r);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function UL(e){return En(e)?e:Li(+e)}function Gae(){var e=u=>u[0],t=u=>u[1],r=kf,i=[-1,-1],o=960,a=500,s=2;function l(u,c){let f=Uae(i[0],u,e)>>s,d=Uae(i[1],u,t)>>s,p=f?f+2:0,m=d?d+2:0,g=2*p+(o>>s),v=2*m+(a>>s),b=new Float32Array(g*v),_=new Float32Array(g*v),D=b;u.forEach(N=>{let z=p+(+e(N)>>s),j=m+(+t(N)>>s);z>=0&&z<g&&j>=0&&j<v&&(b[z+j*g]+=+r(N))}),f>0&&d>0?(G2(g,v,b,_,f),j2(g,v,_,b,d),G2(g,v,b,_,f),j2(g,v,_,b,d),G2(g,v,b,_,f),j2(g,v,_,b,d)):f>0?(G2(g,v,b,_,f),G2(g,v,_,b,f),G2(g,v,b,_,f),D=_):d>0&&(j2(g,v,b,_,d),j2(g,v,_,b,d),j2(g,v,b,_,d),D=_);let T=c?Math.pow(2,-2*s):1/HS(D);for(let N=0,z=g*v;N<z;++N)D[N]*=T;return{values:D,scale:1<<s,width:g,height:v,x1:p,y1:m,x2:p+(o>>s),y2:m+(a>>s)}}return l.x=function(u){return arguments.length?(e=UL(u),l):e},l.y=function(u){return arguments.length?(t=UL(u),l):t},l.weight=function(u){return arguments.length?(r=UL(u),l):r},l.size=function(u){if(!arguments.length)return[o,a];var c=+u[0],f=+u[1];return c>=0&&f>=0||Ke("invalid size"),o=c,a=f,l},l.cellSize=function(u){return arguments.length?((u=+u)>=1||Ke("invalid cell size"),s=Math.floor(Math.log(u)/Math.LN2),l):1<<s},l.bandwidth=function(u){return arguments.length?(u=_t(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&Ke("invalid bandwidth"),i=u,l):i},l}function G2(e,t,r,i,o){let a=(o<<1)+1;for(let s=0;s<t;++s)for(let l=0,u=0;l<e+o;++l)l<e&&(u+=r[l+s*e]),l>=o&&(l>=a&&(u-=r[l-a+s*e]),i[l-o+s*e]=u/Math.min(l+1,e-1+a-l,a))}function j2(e,t,r,i,o){let a=(o<<1)+1;for(let s=0;s<e;++s)for(let l=0,u=0;l<t+o;++l)l<t&&(u+=r[s+l*e]),l>=o&&(l>=a&&(u-=r[s+(l-a)*e]),i[s+(l-o)*e]=u/Math.min(l+1,t-1+a-l,a))}function qL(e){Ye.call(this,null,e)}qL.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var tTe=["x","y","weight","size","cellSize","bandwidth"];function jae(e,t){return tTe.forEach(r=>t[r]!=null?e[r](t[r]):0),e}Et(qL,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,o=nTe(i,e.groupby),a=(e.groupby||[]).map(Ii),s=jae(Gae(),e),l=e.as||"grid",u=[];function c(f,d){for(let p=0;p<a.length;++p)f[a[p]]=d[p];return f}return u=o.map(f=>xr(c({[l]:s(f,e.counts)},f.dims))),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}});function nTe(e,t){var r=[],i=f=>f(l),o,a,s,l,u,c;if(t==null)r.push(e);else for(o={},a=0,s=e.length;a<s;++a)l=e[a],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(l);return r}function HL(e){Ye.call(this,null,e)}HL.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Et(HL,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=Vae().smooth(e.smooth!==!1),o=e.values,a=e.thresholds||qae(e.count||10,e.nice,!!o),s=e.size,l,u;return o||(o=t.materialize(t.SOURCE).source,l=jae(Gae(),e)(o,!0),u=Hae(l,l.scale||1,l.scale||1,0,0),s=[l.width,l.height],o=l.values),a=Le(a)?a:a(o),o=i.size(s)(o,a),u&&o.forEach(u),this.value&&(r.rem=this.value),this.value=r.source=r.add=(o||[]).map(xr),r}});var zL="Feature",GL="FeatureCollection",rTe="MultiPoint";function jL(e){Ye.call(this,null,e)}jL.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Et(jL,Ye,{transform(e,t){var r=this._features,i=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],l=e.geojson||!o&&to,u=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(Vo(l))||a&&t.modified(Vo(a))||s&&t.modified(Vo(s)),(!this.value||c)&&(u=t.SOURCE,this._features=r=[],this._points=i=[]),l&&t.visit(u,f=>r.push(l(f))),a&&s&&(t.visit(u,f=>{var d=a(f),p=s(f);d!=null&&p!=null&&(d=+d)===d&&(p=+p)===p&&i.push([d,p])}),r=r.concat({type:zL,geometry:{type:rTe,coordinates:i}})),this.value={type:GL,features:r}}});function WL(e){Ye.call(this,null,e)}WL.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Et(WL,Ye,{transform(e,t){var r=t.fork(t.ALL),i=this.value,o=e.field||to,a=e.as||"path",s=r.SOURCE;!i||e.modified()?(this.value=i=PL(e.projection),r.materialize().reflow()):s=o===to||t.modified(o.fields)?r.ADD_MOD:r.ADD;let l=iTe(i,e.pointRadius);return r.visit(s,u=>u[a]=i(o(u))),i.pointRadius(l),r.modifies(a)}});function iTe(e,t){let r=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),r}function YL(e){Ye.call(this,null,e)}YL.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Et(YL,Ye,{transform(e,t){var r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],s=a[0],l=a[1],u;function c(f){let d=r([i(f),o(f)]);d?(f[s]=d[0],f[l]=d[1]):(f[s]=void 0,f[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(u=t.modified(i.fields)||t.modified(o.fields),t.visit(u?t.ADD_MOD:t.ADD,c)),t.modifies(a)}});function XL(e){Ye.call(this,null,e)}XL.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Et(XL,Ye,{transform(e,t){var r=t.fork(t.ALL),i=this.value,o=e.as||"shape",a=r.ADD;return(!i||e.modified())&&(this.value=i=oTe(PL(e.projection),e.field||aa("datum"),e.pointRadius),r.materialize().reflow(),a=r.SOURCE),r.visit(a,s=>s[o]=i),r.modifies(o)}});function oTe(e,t,r){let i=r==null?o=>e(t(o)):o=>{var a=e.pointRadius(),s=e.pointRadius(r)(t(o));return e.pointRadius(a),s};return i.context=o=>(e.context(o),i),i}function KL(e){Ye.call(this,[],e),this.generator=vC()}KL.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Et(KL,Ye,{transform(e,t){var r=this.value,i=this.generator,o;if(!r.length||e.modified())for(let a in e)En(i[a])&&i[a](e[a]);return o=i(),r.length?t.mod.push(Lw(r[0],o)):t.add.push(xr(o)),r[0]=o,t}});function QL(e){Ye.call(this,null,e)}QL.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Et(QL,Ye,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var r=t.materialize(t.SOURCE).source,i=e.resolve==="shared",o=e.field||to,a=sTe(e.opacity,e),s=aTe(e.color,e),l=e.as||"image",u={$x:0,$y:0,$value:0,$max:i?Q1(r.map(c=>Q1(o(c).values))):0};return r.forEach(c=>{let f=o(c),d=Dn({},c,u);i||(d.$max=Q1(f.values||[])),c[l]=lTe(f,d,s.dep?s:Li(s(d)),a.dep?a:Li(a(d)))}),t.reflow(!0).modifies(l)}});function aTe(e,t){let r;return En(e)?(r=i=>Q9(e(i,t)),r.dep=Wae(e)):r=Li(Q9(e||"#888")),r}function sTe(e,t){let r;return En(e)?(r=i=>e(i,t),r.dep=Wae(e)):e?r=Li(e):(r=i=>i.$value/i.$max||0,r.dep=!0),r}function Wae(e){if(!En(e))return!1;let t=Eo(Vo(e));return t.$x||t.$y||t.$value||t.$max}function lTe(e,t,r,i){let o=e.width,a=e.height,s=e.x1||0,l=e.y1||0,u=e.x2||o,c=e.y2||a,f=e.values,d=f?b=>f[b]:cc,p=wu(u-s,c-l),m=p.getContext("2d"),g=m.getImageData(0,0,u-s,c-l),v=g.data;for(let b=l,_=0;b<c;++b){t.$y=b-l;for(let D=s,T=b*o;D<u;++D,_+=4){t.$x=D-s,t.$value=d(D+T);let N=r(t);v[_+0]=N.r,v[_+1]=N.g,v[_+2]=N.b,v[_+3]=~~(255*i(t))}}return m.putImageData(g,0,0),p}function Yae(e){Ye.call(this,null,e),this.modified(!0)}Et(Yae,Ye,{transform(e,t){let r=this.value;return!r||e.modified("type")?(this.value=r=cTe(e.type),gC.forEach(i=>{e[i]!=null&&zae(r,i,e[i])})):gC.forEach(i=>{e.modified(i)&&zae(r,i,e[i])}),e.pointRadius!=null&&r.path.pointRadius(e.pointRadius),e.fit&&uTe(r,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function uTe(e,t){let r=fTe(t.fit);t.extent?e.fitExtent(t.extent,r):t.size&&e.fitSize(t.size,r)}function cTe(e){let t=H9((e||"mercator").toLowerCase());return t||Ke("Unrecognized projection type: "+e),t()}function zae(e,t,r){En(e[t])&&e[t](r)}function fTe(e){return e=_t(e),e.length===1?e[0]:{type:GL,features:e.reduce((t,r)=>t.concat(dTe(r)),[])}}function dTe(e){return e.type===GL?e.features:_t(e).filter(t=>t!=null).map(t=>t.type===zL?t:{type:zL,geometry:t})}var lB={};Ka(lB,{force:()=>sB});function JL(e,t){var r,i=1;e==null&&(e=0),t==null&&(t=0);function o(){var a,s=r.length,l,u=0,c=0;for(a=0;a<s;++a)l=r[a],u+=l.x,c+=l.y;for(u=(u/s-e)*i,c=(c/s-t)*i,a=0;a<s;++a)l=r[a],l.x-=u,l.y-=c}return o.initialize=function(a){r=a},o.x=function(a){return arguments.length?(e=+a,o):e},o.y=function(a){return arguments.length?(t=+a,o):t},o.strength=function(a){return arguments.length?(i=+a,o):i},o}function To(e){return function(){return e}}function Sc(e){return(e()-.5)*1e-6}function pTe(e){return e.x+e.vx}function hTe(e){return e.y+e.vy}function eB(e){var t,r,i,o=1,a=1;typeof e!="function"&&(e=To(e==null?1:+e));function s(){for(var c,f=t.length,d,p,m,g,v,b,_=0;_<a;++_)for(d=c1(t,pTe,hTe).visitAfter(l),c=0;c<f;++c)p=t[c],v=r[p.index],b=v*v,m=p.x+p.vx,g=p.y+p.vy,d.visit(D);function D(T,N,z,j,B){var U=T.data,x=T.r,w=v+x;if(U){if(U.index>p.index){var C=m-U.x-U.vx,k=g-U.y-U.vy,F=C*C+k*k;F<w*w&&(C===0&&(C=Sc(i),F+=C*C),k===0&&(k=Sc(i),F+=k*k),F=(w-(F=Math.sqrt(F)))/F*o,p.vx+=(C*=F)*(w=(x*=x)/(b+x)),p.vy+=(k*=F)*w,U.vx-=C*(w=1-w),U.vy-=k*w)}return}return N>m+w||j<m-w||z>g+w||B<g-w}}function l(c){if(c.data)return c.r=r[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function u(){if(t){var c,f=t.length,d;for(r=new Array(f),c=0;c<f;++c)d=t[c],r[d.index]=+e(d,c,t)}}return s.initialize=function(c,f){t=c,i=f,u()},s.iterations=function(c){return arguments.length?(a=+c,s):a},s.strength=function(c){return arguments.length?(o=+c,s):o},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:To(+c),u(),s):e},s}function mTe(e){return e.index}function Xae(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function tB(e){var t=mTe,r=d,i,o=To(30),a,s,l,u,c,f=1;e==null&&(e=[]);function d(b){return 1/Math.min(l[b.source.index],l[b.target.index])}function p(b){for(var _=0,D=e.length;_<f;++_)for(var T=0,N,z,j,B,U,x,w;T<D;++T)N=e[T],z=N.source,j=N.target,B=j.x+j.vx-z.x-z.vx||Sc(c),U=j.y+j.vy-z.y-z.vy||Sc(c),x=Math.sqrt(B*B+U*U),x=(x-a[T])/x*b*i[T],B*=x,U*=x,j.vx-=B*(w=u[T]),j.vy-=U*w,z.vx+=B*(w=1-w),z.vy+=U*w}function m(){if(s){var b,_=s.length,D=e.length,T=new Map(s.map((z,j)=>[t(z,j,s),z])),N;for(b=0,l=new Array(_);b<D;++b)N=e[b],N.index=b,typeof N.source!="object"&&(N.source=Xae(T,N.source)),typeof N.target!="object"&&(N.target=Xae(T,N.target)),l[N.source.index]=(l[N.source.index]||0)+1,l[N.target.index]=(l[N.target.index]||0)+1;for(b=0,u=new Array(D);b<D;++b)N=e[b],u[b]=l[N.source.index]/(l[N.source.index]+l[N.target.index]);i=new Array(D),g(),a=new Array(D),v()}}function g(){if(s)for(var b=0,_=e.length;b<_;++b)i[b]=+r(e[b],b,e)}function v(){if(s)for(var b=0,_=e.length;b<_;++b)a[b]=+o(e[b],b,e)}return p.initialize=function(b,_){s=b,c=_,m()},p.links=function(b){return arguments.length?(e=b,m(),p):e},p.id=function(b){return arguments.length?(t=b,p):t},p.iterations=function(b){return arguments.length?(f=+b,p):f},p.strength=function(b){return arguments.length?(r=typeof b=="function"?b:To(+b),g(),p):r},p.distance=function(b){return arguments.length?(o=typeof b=="function"?b:To(+b),v(),p):o},p}function Kae(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function Qae(e){return e.x}function Zae(e){return e.y}var gTe=10,vTe=Math.PI*(3-Math.sqrt(5));function nB(e){var t,r=1,i=.001,o=1-Math.pow(i,1/300),a=0,s=.6,l=new Map,u=qg(d),c=P6("tick","end"),f=Kae();e==null&&(e=[]);function d(){p(),c.call("tick",t),r<i&&(u.stop(),c.call("end",t))}function p(v){var b,_=e.length,D;v===void 0&&(v=1);for(var T=0;T<v;++T)for(r+=(a-r)*o,l.forEach(function(N){N(r)}),b=0;b<_;++b)D=e[b],D.fx==null?D.x+=D.vx*=s:(D.x=D.fx,D.vx=0),D.fy==null?D.y+=D.vy*=s:(D.y=D.fy,D.vy=0);return t}function m(){for(var v=0,b=e.length,_;v<b;++v){if(_=e[v],_.index=v,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var D=gTe*Math.sqrt(.5+v),T=v*vTe;_.x=D*Math.cos(T),_.y=D*Math.sin(T)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function g(v){return v.initialize&&v.initialize(e,f),v}return m(),t={tick:p,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(v){return arguments.length?(e=v,m(),l.forEach(g),t):e},alpha:function(v){return arguments.length?(r=+v,t):r},alphaMin:function(v){return arguments.length?(i=+v,t):i},alphaDecay:function(v){return arguments.length?(o=+v,t):+o},alphaTarget:function(v){return arguments.length?(a=+v,t):a},velocityDecay:function(v){return arguments.length?(s=1-v,t):1-s},randomSource:function(v){return arguments.length?(f=v,l.forEach(g),t):f},force:function(v,b){return arguments.length>1?(b==null?l.delete(v):l.set(v,g(b)),t):l.get(v)},find:function(v,b,_){var D=0,T=e.length,N,z,j,B,U;for(_==null?_=1/0:_*=_,D=0;D<T;++D)B=e[D],N=v-B.x,z=b-B.y,j=N*N+z*z,j<_&&(U=B,_=j);return U},on:function(v,b){return arguments.length>1?(c.on(v,b),t):c.on(v)}}}function rB(){var e,t,r,i,o=To(-30),a,s=1,l=1/0,u=.81;function c(m){var g,v=e.length,b=c1(e,Qae,Zae).visitAfter(d);for(i=m,g=0;g<v;++g)t=e[g],b.visit(p)}function f(){if(e){var m,g=e.length,v;for(a=new Array(g),m=0;m<g;++m)v=e[m],a[v.index]=+o(v,m,e)}}function d(m){var g=0,v,b,_=0,D,T,N;if(m.length){for(D=T=N=0;N<4;++N)(v=m[N])&&(b=Math.abs(v.value))&&(g+=v.value,_+=b,D+=b*v.x,T+=b*v.y);m.x=D/_,m.y=T/_}else{v=m,v.x=v.data.x,v.y=v.data.y;do g+=a[v.data.index];while(v=v.next)}m.value=g}function p(m,g,v,b){if(!m.value)return!0;var _=m.x-t.x,D=m.y-t.y,T=b-g,N=_*_+D*D;if(T*T/u<N)return N<l&&(_===0&&(_=Sc(r),N+=_*_),D===0&&(D=Sc(r),N+=D*D),N<s&&(N=Math.sqrt(s*N)),t.vx+=_*m.value*i/N,t.vy+=D*m.value*i/N),!0;if(m.length||N>=l)return;(m.data!==t||m.next)&&(_===0&&(_=Sc(r),N+=_*_),D===0&&(D=Sc(r),N+=D*D),N<s&&(N=Math.sqrt(s*N)));do m.data!==t&&(T=a[m.data.index]*i/N,t.vx+=_*T,t.vy+=D*T);while(m=m.next)}return c.initialize=function(m,g){e=m,r=g,f()},c.strength=function(m){return arguments.length?(o=typeof m=="function"?m:To(+m),f(),c):o},c.distanceMin=function(m){return arguments.length?(s=m*m,c):Math.sqrt(s)},c.distanceMax=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c.theta=function(m){return arguments.length?(u=m*m,c):Math.sqrt(u)},c}function iB(e){var t=To(.1),r,i,o;typeof e!="function"&&(e=To(e==null?0:+e));function a(l){for(var u=0,c=r.length,f;u<c;++u)f=r[u],f.vx+=(o[u]-f.x)*i[u]*l}function s(){if(r){var l,u=r.length;for(i=new Array(u),o=new Array(u),l=0;l<u;++l)i[l]=isNaN(o[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return a.initialize=function(l){r=l,s()},a.strength=function(l){return arguments.length?(t=typeof l=="function"?l:To(+l),s(),a):t},a.x=function(l){return arguments.length?(e=typeof l=="function"?l:To(+l),s(),a):e},a}function oB(e){var t=To(.1),r,i,o;typeof e!="function"&&(e=To(e==null?0:+e));function a(l){for(var u=0,c=r.length,f;u<c;++u)f=r[u],f.vy+=(o[u]-f.y)*i[u]*l}function s(){if(r){var l,u=r.length;for(i=new Array(u),o=new Array(u),l=0;l<u;++l)i[l]=isNaN(o[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return a.initialize=function(l){r=l,s()},a.strength=function(l){return arguments.length?(t=typeof l=="function"?l:To(+l),s(),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:To(+l),s(),a):e},a}var Jae={center:JL,collide:eB,nbody:rB,link:tB,x:iB,y:oB},Z9="forces",aB=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],yTe=["static","iterations"],ese=["x","y","vx","vy"];function sB(e){Ye.call(this,null,e)}sB.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ese}]};Et(sB,Ye,{transform(e,t){var r=this.value,i=t.changed(t.ADD_REM),o=e.modified(aB),a=e.iterations||300;if(r?(i&&(t.modifies("index"),r.nodes(t.source)),(o||t.changed(t.MOD))&&tse(r,e,0,t)):(this.value=r=xTe(t.source,e),r.on("tick",bTe(t.dataflow,this)),e.static||(i=!0,r.tick()),t.modifies("index")),o||i||e.modified(yTe)||t.changed()&&e.restart){if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/a)),e.static)for(r.stop();--a>=0;)r.tick();else if(r.stopped()&&r.restart(),!i)return t.StopPropagation}return this.finish(e,t)},finish(e,t){let r=t.dataflow;for(let l=this._argops,u=0,c=l.length,f;u<c;++u)if(f=l[u],!(f.name!==Z9||f.op._argval.force!=="link")){for(var i=f.op._argops,o=0,a=i.length,s;o<a;++o)if(i[o].name==="links"&&(s=i[o].op.source)){r.pulse(s,r.changeset().reflow());break}}return t.reflow(e.modified()).modifies(ese)}});function bTe(e,t){return()=>e.touch(t).run()}function xTe(e,t){let r=nB(e),i=r.stop,o=r.restart,a=!1;return r.stopped=()=>a,r.restart=()=>(a=!1,o()),r.stop=()=>(a=!0,i()),tse(r,t,!0).on("end",()=>a=!0)}function tse(e,t,r,i){var o=_t(t.forces),a,s,l,u;for(a=0,s=aB.length;a<s;++a)l=aB[a],l!==Z9&&t.modified(l)&&e[l](t[l]);for(a=0,s=o.length;a<s;++a)u=Z9+a,l=r||t.modified(Z9,a)?_Te(o[a]):i&&wTe(o[a],i)?e.force(u):null,l&&e.force(u,l);for(s=e.numForces||0;a<s;++a)e.force(Z9+a,null);return e.numForces=o.length,e}function wTe(e,t){var r,i;for(r in e)if(En(i=e[r])&&t.modified(Vo(i)))return 1;return 0}function _Te(e){var t,r;Dt(Jae,e.force)||Ke("Unrecognized force: "+e.force),t=Jae[e.force]();for(r in e)En(t[r])&&STe(t[r],e[r],e);return t}function STe(e,t,r){e(En(t)?i=>t(i,r):t)}var $B={};Ka($B,{nest:()=>OB,pack:()=>NB,partition:()=>IB,stratify:()=>FB,tree:()=>PB,treelinks:()=>LB,treemap:()=>BB});function CTe(e,t){return e.parent===t.parent?1:2}function ETe(e){return e.reduce(DTe,0)/e.length}function DTe(e,t){return e+t.x}function ATe(e){return 1+e.reduce(MTe,0)}function MTe(e,t){return Math.max(e,t.y)}function TTe(e){for(var t;t=e.children;)e=t[0];return e}function RTe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function uB(){var e=CTe,t=1,r=1,i=!1;function o(a){var s,l=0;a.eachAfter(function(p){var m=p.children;m?(p.x=ETe(m),p.y=ATe(m)):(p.x=s?l+=e(p,s):0,p.y=0,s=p)});var u=TTe(a),c=RTe(a),f=u.x-e(u,c)/2,d=c.x+e(c,u)/2;return a.eachAfter(i?function(p){p.x=(p.x-a.x)*t,p.y=(a.y-p.y)*r}:function(p){p.x=(p.x-f)/(d-f)*t,p.y=(1-(a.y?p.y/a.y:1))*r})}return o.separation=function(a){return arguments.length?(e=a,o):e},o.size=function(a){return arguments.length?(i=!1,t=+a[0],r=+a[1],o):i?null:[t,r]},o.nodeSize=function(a){return arguments.length?(i=!0,t=+a[0],r=+a[1],o):i?[t,r]:null},o}function kTe(e){var t=0,r=e.children,i=r&&r.length;if(!i)t=1;else for(;--i>=0;)t+=r[i].value;e.value=t}function nse(){return this.eachAfter(kTe)}function rse(e,t){let r=-1;for(let i of this)e.call(t,i,++r,this);return this}function ise(e,t){for(var r=this,i=[r],o,a,s=-1;r=i.pop();)if(e.call(t,r,++s,this),o=r.children)for(a=o.length-1;a>=0;--a)i.push(o[a]);return this}function ose(e,t){for(var r=this,i=[r],o=[],a,s,l,u=-1;r=i.pop();)if(o.push(r),a=r.children)for(s=0,l=a.length;s<l;++s)i.push(a[s]);for(;r=o.pop();)e.call(t,r,++u,this);return this}function ase(e,t){let r=-1;for(let i of this)if(e.call(t,i,++r,this))return i}function sse(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,i=t.children,o=i&&i.length;--o>=0;)r+=i[o].value;t.value=r})}function lse(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function use(e){for(var t=this,r=OTe(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function OTe(e,t){if(e===t)return e;var r=e.ancestors(),i=t.ancestors(),o=null;for(e=r.pop(),t=i.pop();e===t;)o=e,e=r.pop(),t=i.pop();return o}function cse(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function fse(){return Array.from(this)}function dse(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function pse(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*hse(){var e=this,t,r=[e],i,o,a;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,i=e.children)for(o=0,a=i.length;o<a;++o)r.push(i[o]);while(r.length)}function W2(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=FTe)):t===void 0&&(t=ITe);for(var r=new h0(e),i,o=[r],a,s,l,u;i=o.pop();)if((s=t(i.data))&&(u=(s=Array.from(s)).length))for(i.children=s,l=u-1;l>=0;--l)o.push(a=s[l]=new h0(s[l])),a.parent=i,a.depth=i.depth+1;return r.eachBefore(cB)}function NTe(){return W2(this).eachBefore(PTe)}function ITe(e){return e.children}function FTe(e){return Array.isArray(e)?e[1]:null}function PTe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function cB(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function h0(e){this.data=e,this.depth=this.height=0,this.parent=null}h0.prototype=W2.prototype={constructor:h0,count:nse,each:rse,eachAfter:ose,eachBefore:ise,find:ase,sum:sse,sort:lse,path:use,ancestors:cse,descendants:fse,leaves:dse,links:pse,copy:NTe,[Symbol.iterator]:hse};function Y2(e){return e==null?null:fB(e)}function fB(e){if(typeof e!="function")throw new Error;return e}function m0(){return 0}function ih(e){return function(){return e}}function mse(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function gse(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vse(e,t){let r=e.length,i,o;for(;r;)o=t()*r--|0,i=e[r],e[r]=e[o],e[o]=i;return e}function yse(e,t){for(var r=0,i=(e=vse(Array.from(e),t)).length,o=[],a,s;r<i;)a=e[r],s&&bse(s,a)?++r:(s=BTe(o=LTe(o,a)),r=0);return s}function LTe(e,t){var r,i;if(dB(t,e))return[t];for(r=0;r<e.length;++r)if(SC(t,e[r])&&dB(J9(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(i=r+1;i<e.length;++i)if(SC(J9(e[r],e[i]),t)&&SC(J9(e[r],t),e[i])&&SC(J9(e[i],t),e[r])&&dB(xse(e[r],e[i],t),e))return[e[r],e[i],t];throw new Error}function SC(e,t){var r=e.r-t.r,i=t.x-e.x,o=t.y-e.y;return r<0||r*r<i*i+o*o}function bse(e,t){var r=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,i=t.x-e.x,o=t.y-e.y;return r>0&&r*r>i*i+o*o}function dB(e,t){for(var r=0;r<t.length;++r)if(!bse(e,t[r]))return!1;return!0}function BTe(e){switch(e.length){case 1:return $Te(e[0]);case 2:return J9(e[0],e[1]);case 3:return xse(e[0],e[1],e[2])}}function $Te(e){return{x:e.x,y:e.y,r:e.r}}function J9(e,t){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=a-r,c=s-i,f=l-o,d=Math.sqrt(u*u+c*c);return{x:(r+a+u/d*f)/2,y:(i+s+c/d*f)/2,r:(d+o+l)/2}}function xse(e,t,r){var i=e.x,o=e.y,a=e.r,s=t.x,l=t.y,u=t.r,c=r.x,f=r.y,d=r.r,p=i-s,m=i-c,g=o-l,v=o-f,b=u-a,_=d-a,D=i*i+o*o-a*a,T=D-s*s-l*l+u*u,N=D-c*c-f*f+d*d,z=m*g-p*v,j=(g*N-v*T)/(z*2)-i,B=(v*b-g*_)/z,U=(m*T-p*N)/(z*2)-o,x=(p*_-m*b)/z,w=B*B+x*x-1,C=2*(a+j*B+U*x),k=j*j+U*U-a*a,F=-(Math.abs(w)>1e-6?(C+Math.sqrt(C*C-4*w*k))/(2*w):k/C);return{x:i+j+B*F,y:o+U+x*F,r:F}}function wse(e,t,r){var i=e.x-t.x,o,a,s=e.y-t.y,l,u,c=i*i+s*s;c?(a=t.r+r.r,a*=a,u=e.r+r.r,u*=u,a>u?(o=(c+u-a)/(2*c),l=Math.sqrt(Math.max(0,u/c-o*o)),r.x=e.x-o*i-l*s,r.y=e.y-o*s+l*i):(o=(c+a-u)/(2*c),l=Math.sqrt(Math.max(0,a/c-o*o)),r.x=t.x+o*i-l*s,r.y=t.y+o*s+l*i)):(r.x=t.x+r.r,r.y=t.y)}function _se(e,t){var r=e.r+t.r-1e-6,i=t.x-e.x,o=t.y-e.y;return r>0&&r*r>i*i+o*o}function Sse(e){var t=e._,r=e.next._,i=t.r+r.r,o=(t.x*r.r+r.x*t.r)/i,a=(t.y*r.r+r.y*t.r)/i;return o*o+a*a}function CC(e){this._=e,this.next=null,this.previous=null}function Cse(e,t){if(!(a=(e=gse(e)).length))return 0;var r,i,o,a,s,l,u,c,f,d,p;if(r=e[0],r.x=0,r.y=0,!(a>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(a>2))return r.r+i.r;wse(i,r,o=e[2]),r=new CC(r),i=new CC(i),o=new CC(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;e:for(u=3;u<a;++u){wse(r._,i._,o=e[u]),o=new CC(o),c=i.next,f=r.previous,d=i._.r,p=r._.r;do if(d<=p){if(_se(c._,o._)){i=c,r.next=i,i.previous=r,--u;continue e}d+=c._.r,c=c.next}else{if(_se(f._,o._)){r=f,r.next=i,i.previous=r,--u;continue e}p+=f._.r,f=f.previous}while(c!==f.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,s=Sse(r);(o=o.next)!==i;)(l=Sse(o))<s&&(r=o,s=l);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=yse(r,t),u=0;u<a;++u)r=e[u],r.x-=o.x,r.y-=o.y;return o.r}function UTe(e){return Math.sqrt(e.value)}function hB(){var e=null,t=1,r=1,i=m0;function o(a){let s=mse();return a.x=t/2,a.y=r/2,e?a.eachBefore(Ese(e)).eachAfter(pB(i,.5,s)).eachBefore(Dse(1)):a.eachBefore(Ese(UTe)).eachAfter(pB(m0,1,s)).eachAfter(pB(i,a.r/Math.min(t,r),s)).eachBefore(Dse(Math.min(t,r)/(2*a.r))),a}return o.radius=function(a){return arguments.length?(e=Y2(a),o):e},o.size=function(a){return arguments.length?(t=+a[0],r=+a[1],o):[t,r]},o.padding=function(a){return arguments.length?(i=typeof a=="function"?a:ih(+a),o):i},o}function Ese(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function pB(e,t,r){return function(i){if(o=i.children){var o,a,s=o.length,l=e(i)*t||0,u;if(l)for(a=0;a<s;++a)o[a].r+=l;if(u=Cse(o,r),l)for(a=0;a<s;++a)o[a].r-=l;i.r=u+l}}}function Dse(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function EC(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cc(e,t,r,i,o){for(var a=e.children,s,l=-1,u=a.length,c=e.value&&(i-t)/e.value;++l<u;)s=a[l],s.y0=r,s.y1=o,s.x0=t,s.x1=t+=s.value*c}function mB(){var e=1,t=1,r=0,i=!1;function o(s){var l=s.height+1;return s.x0=s.y0=r,s.x1=e,s.y1=t/l,s.eachBefore(a(t,l)),i&&s.eachBefore(EC),s}function a(s,l){return function(u){u.children&&Cc(u,u.x0,s*(u.depth+1)/l,u.x1,s*(u.depth+2)/l);var c=u.x0,f=u.y0,d=u.x1-r,p=u.y1-r;d<c&&(c=d=(c+d)/2),p<f&&(f=p=(f+p)/2),u.x0=c,u.y0=f,u.x1=d,u.y1=p}}return o.round=function(s){return arguments.length?(i=!!s,o):i},o.size=function(s){return arguments.length?(e=+s[0],t=+s[1],o):[e,t]},o.padding=function(s){return arguments.length?(r=+s,o):r},o}var zTe={depth:-1},Ase={},gB={};function VTe(e){return e.id}function qTe(e){return e.parentId}function DC(){var e=VTe,t=qTe,r;function i(o){var a=Array.from(o),s=e,l=t,u,c,f,d,p,m,g,v,b=new Map;if(r!=null){let _=a.map((N,z)=>HTe(r(N,z,o))),D=_.map(Mse),T=new Set(_).add("");for(let N of D)T.has(N)||(T.add(N),_.push(N),D.push(Mse(N)),a.push(gB));s=(N,z)=>_[z],l=(N,z)=>D[z]}for(f=0,u=a.length;f<u;++f)c=a[f],m=a[f]=new h0(c),(g=s(c,f,o))!=null&&(g+="")&&(v=m.id=g,b.set(v,b.has(v)?Ase:m)),(g=l(c,f,o))!=null&&(g+="")&&(m.parent=g);for(f=0;f<u;++f)if(m=a[f],g=m.parent){if(p=b.get(g),!p)throw new Error("missing: "+g);if(p===Ase)throw new Error("ambiguous: "+g);p.children?p.children.push(m):p.children=[m],m.parent=p}else{if(d)throw new Error("multiple roots");d=m}if(!d)throw new Error("no root");if(r!=null){for(;d.data===gB&&d.children.length===1;)d=d.children[0],--u;for(let _=a.length-1;_>=0&&(m=a[_],m.data===gB);--_)m.data=null}if(d.parent=zTe,d.eachBefore(function(_){_.depth=_.parent.depth+1,--u}).eachBefore(cB),d.parent=null,u>0)throw new Error("cycle");return d}return i.id=function(o){return arguments.length?(e=Y2(o),i):e},i.parentId=function(o){return arguments.length?(t=Y2(o),i):t},i.path=function(o){return arguments.length?(r=Y2(o),i):r},i}function HTe(e){e=`${e}`;let t=e.length;return vB(e,t-1)&&!vB(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Mse(e){let t=e.length;if(t<2)return"";for(;--t>1&&!vB(e,t););return e.slice(0,t)}function vB(e,t){if(e[t]==="/"){let r=0;for(;t>0&&e[--t]==="\\";)++r;if((r&1)===0)return!0}return!1}function GTe(e,t){return e.parent===t.parent?1:2}function yB(e){var t=e.children;return t?t[0]:e.t}function bB(e){var t=e.children;return t?t[t.length-1]:e.t}function jTe(e,t,r){var i=r/(t.i-e.i);t.c-=i,t.s+=r,e.c+=i,t.z+=r,t.m+=r}function WTe(e){for(var t=0,r=0,i=e.children,o=i.length,a;--o>=0;)a=i[o],a.z+=t,a.m+=t,t+=a.s+(r+=a.c)}function YTe(e,t,r){return e.a.parent===t.parent?e.a:r}function AC(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}AC.prototype=Object.create(h0.prototype);function XTe(e){for(var t=new AC(e,0),r,i=[t],o,a,s,l;r=i.pop();)if(a=r._.children)for(r.children=new Array(l=a.length),s=l-1;s>=0;--s)i.push(o=r.children[s]=new AC(a[s],s)),o.parent=r;return(t.parent=new AC(null,0)).children=[t],t}function xB(){var e=GTe,t=1,r=1,i=null;function o(c){var f=XTe(c);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(s),i)c.eachBefore(u);else{var d=c,p=c,m=c;c.eachBefore(function(D){D.x<d.x&&(d=D),D.x>p.x&&(p=D),D.depth>m.depth&&(m=D)});var g=d===p?1:e(d,p)/2,v=g-d.x,b=t/(p.x+g+v),_=r/(m.depth||1);c.eachBefore(function(D){D.x=(D.x+v)*b,D.y=D.depth*_})}return c}function a(c){var f=c.children,d=c.parent.children,p=c.i?d[c.i-1]:null;if(f){WTe(c);var m=(f[0].z+f[f.length-1].z)/2;p?(c.z=p.z+e(c._,p._),c.m=c.z-m):c.z=m}else p&&(c.z=p.z+e(c._,p._));c.parent.A=l(c,p,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c,f,d){if(f){for(var p=c,m=c,g=f,v=p.parent.children[0],b=p.m,_=m.m,D=g.m,T=v.m,N;g=bB(g),p=yB(p),g&&p;)v=yB(v),m=bB(m),m.a=c,N=g.z+D-p.z-b+e(g._,p._),N>0&&(jTe(YTe(g,c,d),c,N),b+=N,_+=N),D+=g.m,b+=p.m,T+=v.m,_+=m.m;g&&!bB(m)&&(m.t=g,m.m+=D-_),p&&!yB(v)&&(v.t=p,v.m+=b-T,d=c)}return d}function u(c){c.x*=t,c.y=c.depth*r}return o.separation=function(c){return arguments.length?(e=c,o):e},o.size=function(c){return arguments.length?(i=!1,t=+c[0],r=+c[1],o):i?null:[t,r]},o.nodeSize=function(c){return arguments.length?(i=!0,t=+c[0],r=+c[1],o):i?[t,r]:null},o}function g0(e,t,r,i,o){for(var a=e.children,s,l=-1,u=a.length,c=e.value&&(o-r)/e.value;++l<u;)s=a[l],s.x0=t,s.x1=i,s.y0=r,s.y1=r+=s.value*c}var wB=(1+Math.sqrt(5))/2;function _B(e,t,r,i,o,a){for(var s=[],l=t.children,u,c,f=0,d=0,p=l.length,m,g,v=t.value,b,_,D,T,N,z,j;f<p;){m=o-r,g=a-i;do b=l[d++].value;while(!b&&d<p);for(_=D=b,z=Math.max(g/m,m/g)/(v*e),j=b*b*z,N=Math.max(D/j,j/_);d<p;++d){if(b+=c=l[d].value,c<_&&(_=c),c>D&&(D=c),j=b*b*z,T=Math.max(D/j,j/_),T>N){b-=c;break}N=T}s.push(u={value:b,dice:m<g,children:l.slice(f,d)}),u.dice?Cc(u,r,i,o,v?i+=g*b/v:a):g0(u,r,i,v?r+=m*b/v:o,a),v-=b,f=d}return s}var e7=function e(t){function r(i,o,a,s,l){_B(t,i,o,a,s,l)}return r.ratio=function(i){return e((i=+i)>1?i:1)},r}(wB);function SB(){var e=e7,t=!1,r=1,i=1,o=[0],a=m0,s=m0,l=m0,u=m0,c=m0;function f(p){return p.x0=p.y0=0,p.x1=r,p.y1=i,p.eachBefore(d),o=[0],t&&p.eachBefore(EC),p}function d(p){var m=o[p.depth],g=p.x0+m,v=p.y0+m,b=p.x1-m,_=p.y1-m;b<g&&(g=b=(g+b)/2),_<v&&(v=_=(v+_)/2),p.x0=g,p.y0=v,p.x1=b,p.y1=_,p.children&&(m=o[p.depth+1]=a(p)/2,g+=c(p)-m,v+=s(p)-m,b-=l(p)-m,_-=u(p)-m,b<g&&(g=b=(g+b)/2),_<v&&(v=_=(v+_)/2),e(p,g,v,b,_))}return f.round=function(p){return arguments.length?(t=!!p,f):t},f.size=function(p){return arguments.length?(r=+p[0],i=+p[1],f):[r,i]},f.tile=function(p){return arguments.length?(e=fB(p),f):e},f.padding=function(p){return arguments.length?f.paddingInner(p).paddingOuter(p):f.paddingInner()},f.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:ih(+p),f):a},f.paddingOuter=function(p){return arguments.length?f.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):f.paddingTop()},f.paddingTop=function(p){return arguments.length?(s=typeof p=="function"?p:ih(+p),f):s},f.paddingRight=function(p){return arguments.length?(l=typeof p=="function"?p:ih(+p),f):l},f.paddingBottom=function(p){return arguments.length?(u=typeof p=="function"?p:ih(+p),f):u},f.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:ih(+p),f):c},f}function CB(e,t,r,i,o){var a=e.children,s,l=a.length,u,c=new Array(l+1);for(c[0]=u=s=0;s<l;++s)c[s+1]=u+=a[s].value;f(0,l,e.value,t,r,i,o);function f(d,p,m,g,v,b,_){if(d>=p-1){var D=a[d];D.x0=g,D.y0=v,D.x1=b,D.y1=_;return}for(var T=c[d],N=m/2+T,z=d+1,j=p-1;z<j;){var B=z+j>>>1;c[B]<N?z=B+1:j=B}N-c[z-1]<c[z]-N&&d+1<z&&--z;var U=c[z]-T,x=m-U;if(b-g>_-v){var w=m?(g*x+b*U)/m:b;f(d,z,U,g,v,w,_),f(z,p,x,w,v,b,_)}else{var C=m?(v*x+_*U)/m:_;f(d,z,U,g,v,b,C),f(z,p,x,g,C,b,_)}}}function EB(e,t,r,i,o){(e.depth&1?g0:Cc)(e,t,r,i,o)}var DB=function e(t){function r(i,o,a,s,l){if((u=i._squarify)&&u.ratio===t)for(var u,c,f,d,p=-1,m,g=u.length,v=i.value;++p<g;){for(c=u[p],f=c.children,d=c.value=0,m=f.length;d<m;++d)c.value+=f[d].value;c.dice?Cc(c,o,a,s,v?a+=(l-a)*c.value/v:l):g0(c,o,a,v?o+=(s-o)*c.value/v:s,l),v-=c.value}else i._squarify=u=_B(t,i,o,a,s,l),u.ratio=t}return r.ratio=function(i){return e((i=+i)>1?i:1)},r}(wB);function AB(e,t,r){let i={};return e.each(o=>{let a=o.data;r(a)&&(i[t(a)]=o)}),e.lookup=i,e}function OB(e){Ye.call(this,null,e)}OB.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var KTe=e=>e.values;Et(OB,Ye,{transform(e,t){t.source||Ke("Nest transform requires an upstream data source.");var r=e.generate,i=e.modified(),o=t.clone(),a=this.value;return(!a||i||t.changed())&&(a&&a.each(s=>{s.children&&E1(s.data)&&o.rem.push(s.data)}),this.value=a=W2({values:_t(e.keys).reduce((s,l)=>(s.key(l),s),QTe()).entries(o.source)},KTe),r&&a.each(s=>{s.children&&(s=xr(s.data),o.add.push(s),o.source.push(s))}),AB(a,pn,pn)),o.source.root=a,o}});function QTe(){let e=[],t={entries:o=>i(r(o,0),0),key:o=>(e.push(o),t)};function r(o,a){if(a>=e.length)return o;let s=o.length,l=e[a++],u={},c={},f=-1,d,p,m;for(;++f<s;)d=l(p=o[f])+"",(m=u[d])?m.push(p):u[d]=[p];for(d in u)c[d]=r(u[d],a);return c}function i(o,a){if(++a>e.length)return o;let s=[];for(let l in o)s.push({key:l,values:i(o[l],a)});return s}return t}function v0(e){Ye.call(this,null,e)}var ZTe=(e,t)=>e.parent===t.parent?1:2;Et(v0,Ye,{transform(e,t){(!t.source||!t.source.root)&&Ke(this.constructor.name+" transform requires a backing tree data source.");let r=this.layout(e.method),i=this.fields,o=t.source.root,a=e.as||i;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(Pf(e.sort,s=>s.data)),JTe(r,this.params,e),r.separation&&r.separation(e.separation!==!1?ZTe:kf);try{this.value=r(o)}catch(s){Ke(s)}return o.each(s=>eRe(s,i,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function JTe(e,t,r){for(let i,o=0,a=t.length;o<a;++o)i=t[o],i in r&&e[i](r[i])}function eRe(e,t,r){let i=e.data,o=t.length-1;for(let a=0;a<o;++a)i[r[a]]=e[t[a]];i[r[o]]=e.children?e.children.length:0}var MB=["x","y","r","depth","children"];function NB(e){v0.call(this,e)}NB.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:MB.length,default:MB}]};Et(NB,v0,{layout:hB,params:["radius","size","padding"],fields:MB});var TB=["x0","y0","x1","y1","depth","children"];function IB(e){v0.call(this,e)}IB.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:TB.length,default:TB}]};Et(IB,v0,{layout:mB,params:["size","round","padding"],fields:TB});function FB(e){Ye.call(this,null,e)}FB.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Et(FB,Ye,{transform(e,t){t.source||Ke("Stratify transform requires an upstream data source.");let r=this.value,i=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),a=!r||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),a&&(r=o.source.length?AB(DC().id(e.key).parentId(e.parentKey)(o.source),e.key,qo):AB(DC()([{}]),e.key,e.key)),o.source.root=this.value=r,o}});var Tse={tidy:xB,cluster:uB},RB=["x","y","depth","children"];function PB(e){v0.call(this,e)}PB.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:RB.length,default:RB}]};Et(PB,v0,{layout(e){let t=e||"tidy";if(Dt(Tse,t))return Tse[t]();Ke("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:RB});function LB(e){Ye.call(this,[],e)}LB.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Et(LB,Ye,{transform(e,t){let r=this.value,i=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),a={};return i||Ke("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=r,t.visit(t.SOURCE,s=>a[pn(s)]=1),i.each(s=>{let l=s.data,u=s.parent&&s.parent.data;u&&a[pn(l)]&&a[pn(u)]&&o.add.push(xr({source:u,target:l}))}),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>a[pn(s)]=1),r.forEach(s=>{(a[pn(s.source)]||a[pn(s.target)])&&o.mod.push(s)})),o}});var Rse={binary:CB,dice:Cc,slice:g0,slicedice:EB,squarify:e7,resquarify:DB},kB=["x0","y0","x1","y1","depth","children"];function BB(e){v0.call(this,e)}BB.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:kB.length,default:kB}]};Et(BB,v0,{layout(){let e=SB();return e.ratio=t=>{let r=e.tile();r.ratio&&e.tile(r.ratio(t))},e.method=t=>{Dt(Rse,t)?e.tile(Rse[t]):Ke("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:kB});var KB={};Ka(KB,{label:()=>XB});var UB=4278190080;function tRe(e,t){let r=e.bitmap();return(t||[]).forEach(i=>r.set(e(i.boundary[0]),e(i.boundary[3]))),[r,void 0]}function nRe(e,t,r,i,o){let a=e.width,s=e.height,l=i||o,u=wu(a,s).getContext("2d"),c=wu(a,s).getContext("2d"),f=l&&wu(a,s).getContext("2d");r.forEach(U=>MC(u,U,!1)),MC(c,t,!1),l&&MC(f,t,!0);let d=zB(u,a,s),p=zB(c,a,s),m=l&&zB(f,a,s),g=e.bitmap(),v=l&&e.bitmap(),b,_,D,T,N,z,j,B;for(_=0;_<s;++_)for(b=0;b<a;++b)N=_*a+b,z=d[N]&UB,B=p[N]&UB,j=l&&m[N]&UB,(z||j||B)&&(D=e(b),T=e(_),!o&&(z||B)&&g.set(D,T),l&&(z||j)&&v.set(D,T));return[g,v]}function zB(e,t,r){return new Uint32Array(e.getImageData(0,0,t,r).data.buffer)}function MC(e,t,r){if(!t.length)return;let i=t[0].mark.marktype;i==="group"?t.forEach(o=>{o.items.forEach(a=>MC(e,a.items,r))}):qs[i].draw(e,{items:r?t.map(rRe):t})}function rRe(e){let t=D1(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?_e(A({},t),{strokeOpacity:1,stroke:"#000",fillOpacity:0}):t}var y0=5,Gs=31,t7=32,oh=new Uint32Array(t7+1),Ec=new Uint32Array(t7+1);Ec[0]=0;oh[0]=~Ec[0];for(let e=1;e<=t7;++e)Ec[e]=Ec[e-1]<<1|1,oh[e]=~Ec[e];function iRe(e,t){let r=new Uint32Array(~~((e*t+t7)/t7));function i(a,s){r[a]|=s}function o(a,s){r[a]&=s}return{array:r,get:(a,s)=>{let l=s*e+a;return r[l>>>y0]&1<<(l&Gs)},set:(a,s)=>{let l=s*e+a;i(l>>>y0,1<<(l&Gs))},clear:(a,s)=>{let l=s*e+a;o(l>>>y0,~(1<<(l&Gs)))},getRange:(a,s,l,u)=>{let c=u,f,d,p,m;for(;c>=s;--c)if(f=c*e+a,d=c*e+l,p=f>>>y0,m=d>>>y0,p===m){if(r[p]&oh[f&Gs]&Ec[(d&Gs)+1])return!0}else{if(r[p]&oh[f&Gs]||r[m]&Ec[(d&Gs)+1])return!0;for(let g=p+1;g<m;++g)if(r[g])return!0}return!1},setRange:(a,s,l,u)=>{let c,f,d,p,m;for(;s<=u;++s)if(c=s*e+a,f=s*e+l,d=c>>>y0,p=f>>>y0,d===p)i(d,oh[c&Gs]&Ec[(f&Gs)+1]);else for(i(d,oh[c&Gs]),i(p,Ec[(f&Gs)+1]),m=d+1;m<p;++m)i(m,4294967295)},clearRange:(a,s,l,u)=>{let c,f,d,p,m;for(;s<=u;++s)if(c=s*e+a,f=s*e+l,d=c>>>y0,p=f>>>y0,d===p)o(d,Ec[c&Gs]|oh[(f&Gs)+1]);else for(o(d,Ec[c&Gs]),o(p,oh[(f&Gs)+1]),m=d+1;m<p;++m)o(m,0)},outOfBounds:(a,s,l,u)=>a<0||s<0||u>=t||l>=e}}function oRe(e,t,r){let i=Math.max(1,Math.sqrt(e*t/1e6)),o=~~((e+2*r+i)/i),a=~~((t+2*r+i)/i),s=l=>~~((l+r)/i);return s.invert=l=>l*i-r,s.bitmap=()=>iRe(o,a),s.ratio=i,s.padding=r,s.width=e,s.height=t,s}function aRe(e,t,r,i){let o=e.width,a=e.height;return function(s){let l=s.datum.datum.items[i].items,u=l.length,c=s.datum.fontSize,f=hl.width(s.datum,s.datum.text),d=0,p,m,g,v,b,_,D;for(let T=0;T<u;++T)p=l[T].x,g=l[T].y,m=l[T].x2===void 0?p:l[T].x2,v=l[T].y2===void 0?g:l[T].y2,b=(p+m)/2,_=(g+v)/2,D=Math.abs(m-p+v-g),D>=d&&(d=D,s.x=b,s.y=_);return b=f/2,_=c/2,p=s.x-b,m=s.x+b,g=s.y-_,v=s.y+_,s.align="center",p<0&&m<=o?s.align="left":0<=p&&o<m&&(s.align="right"),s.baseline="middle",g<0&&v<=a?s.baseline="top":0<=g&&a<v&&(s.baseline="bottom"),!0}}function TC(e,t,r,i,o,a){let s=r/2;return e-s<0||e+s>o||t-(s=i/2)<0||t+s>a}function ah(e,t,r,i,o,a,s,l){let u=o*a/(i*2),c=e(t-u),f=e(t+u),d=e(r-(a=a/2)),p=e(r+a);return s.outOfBounds(c,d,f,p)||s.getRange(c,d,f,p)||l&&l.getRange(c,d,f,p)}function sRe(e,t,r,i){let o=e.width,a=e.height,s=t[0],l=t[1];function u(c,f,d,p,m){let g=e.invert(c),v=e.invert(f),b=d,_=a,D;if(!TC(g,v,p,m,o,a)&&!ah(e,g,v,m,p,b,s,l)&&!ah(e,g,v,m,p,m,s,null)){for(;_-b>=1;)D=(b+_)/2,ah(e,g,v,m,p,D,s,l)?_=D:b=D;if(b>d)return[g,v,b,!0]}}return function(c){let f=c.datum.datum.items[i].items,d=f.length,p=c.datum.fontSize,m=hl.width(c.datum,c.datum.text),g=r?p:0,v=!1,b=!1,_=0,D,T,N,z,j,B,U,x,w,C,k,F,I,R,$,Y,re;for(let ne=0;ne<d;++ne){for(D=f[ne].x,N=f[ne].y,T=f[ne].x2===void 0?D:f[ne].x2,z=f[ne].y2===void 0?N:f[ne].y2,D>T&&(re=D,D=T,T=re),N>z&&(re=N,N=z,z=re),w=e(D),k=e(T),C=~~((w+k)/2),F=e(N),R=e(z),I=~~((F+R)/2),U=C;U>=w;--U)for(x=I;x>=F;--x)Y=u(U,x,g,m,p),Y&&([c.x,c.y,g,v]=Y);for(U=C;U<=k;++U)for(x=I;x<=R;++x)Y=u(U,x,g,m,p),Y&&([c.x,c.y,g,v]=Y);!v&&!r&&($=Math.abs(T-D+z-N),j=(D+T)/2,B=(N+z)/2,$>=_&&!TC(j,B,m,p,o,a)&&!ah(e,j,B,p,m,p,s,null)&&(_=$,c.x=j,c.y=B,b=!0))}return v||b?(j=m/2,B=p/2,s.setRange(e(c.x-j),e(c.y-B),e(c.x+j),e(c.y+B)),c.align="center",c.baseline="middle",!0):!1}}var lRe=[-1,-1,1,1],uRe=[-1,1,-1,1];function cRe(e,t,r,i){let o=e.width,a=e.height,s=t[0],l=t[1],u=e.bitmap();return function(c){let f=c.datum.datum.items[i].items,d=f.length,p=c.datum.fontSize,m=hl.width(c.datum,c.datum.text),g=[],v=r?p:0,b=!1,_=!1,D=0,T,N,z,j,B,U,x,w,C,k,F,I;for(let R=0;R<d;++R){for(T=f[R].x,z=f[R].y,N=f[R].x2===void 0?T:f[R].x2,j=f[R].y2===void 0?z:f[R].y2,g.push([e((T+N)/2),e((z+j)/2)]);g.length;)if([x,w]=g.pop(),!(s.get(x,w)||l.get(x,w)||u.get(x,w))){u.set(x,w);for(let $=0;$<4;++$)B=x+lRe[$],U=w+uRe[$],u.outOfBounds(B,U,B,U)||g.push([B,U]);if(B=e.invert(x),U=e.invert(w),C=v,k=a,!TC(B,U,m,p,o,a)&&!ah(e,B,U,p,m,C,s,l)&&!ah(e,B,U,p,m,p,s,null)){for(;k-C>=1;)F=(C+k)/2,ah(e,B,U,p,m,F,s,l)?k=F:C=F;C>v&&(c.x=B,c.y=U,v=C,b=!0)}}!b&&!r&&(I=Math.abs(N-T+j-z),B=(T+N)/2,U=(z+j)/2,I>=D&&!TC(B,U,m,p,o,a)&&!ah(e,B,U,p,m,p,s,null)&&(D=I,c.x=B,c.y=U,_=!0))}return b||_?(B=m/2,U=p/2,s.setRange(e(c.x-B),e(c.y-U),e(c.x+B),e(c.y+U)),c.align="center",c.baseline="middle",!0):!1}}var fRe=["right","center","left"],dRe=["bottom","middle","top"];function pRe(e,t,r,i){let o=e.width,a=e.height,s=t[0],l=t[1],u=i.length;return function(c){let f=c.boundary,d=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>o||f[3]>a)return!1;let p=c.textWidth??0,m,g,v,b,_,D,T,N,z,j,B,U,x,w,C;for(let k=0;k<u;++k){if(m=(r[k]&3)-1,g=(r[k]>>>2&3)-1,v=m===0&&g===0||i[k]<0,b=m&&g?Math.SQRT1_2:1,_=i[k]<0?-1:1,D=f[1+m]+i[k]*m*b,B=f[4+g]+_*d*g/2+i[k]*g*b,N=B-d/2,z=B+d/2,U=e(D),w=e(N),C=e(z),!p)if(kse(U,U,w,C,s,l,D,D,N,z,f,v))p=hl.width(c.datum,c.datum.text);else continue;if(j=D+_*p*m/2,D=j-p/2,T=j+p/2,U=e(D),x=e(T),kse(U,x,w,C,s,l,D,T,N,z,f,v))return c.x=m?m*_<0?T:D:j,c.y=g?g*_<0?z:N:B,c.align=fRe[m*_+1],c.baseline=dRe[g*_+1],s.setRange(U,w,x,C),!0}return!1}}function kse(e,t,r,i,o,a,s,l,u,c,f,d){return!(o.outOfBounds(e,r,t,i)||(d&&a||o).getRange(e,r,t,i))}var VB=0,qB=4,HB=8,GB=0,jB=1,WB=2,hRe={"top-left":VB+GB,top:VB+jB,"top-right":VB+WB,left:qB+GB,middle:qB+jB,right:qB+WB,"bottom-left":HB+GB,bottom:HB+jB,"bottom-right":HB+WB},mRe={naive:aRe,"reduced-search":sRe,floodfill:cRe};function gRe(e,t,r,i,o,a,s,l,u,c,f){if(!e.length)return e;let d=Math.max(i.length,o.length),p=vRe(i,d),m=yRe(o,d),g=bRe(e[0].datum),v=g==="group"&&e[0].datum.items[u].marktype,b=v==="area",_=xRe(g,v,l,u),D=c===null||c===1/0,T=b&&f==="naive",N=-1,z=-1,j=e.map(w=>{let C=D?hl.width(w,w.text):void 0;return N=Math.max(N,C),z=Math.max(z,w.fontSize),{datum:w,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:_(w),textWidth:C}});c=c===null||c===1/0?Math.max(N,z)+Math.max(...i):c;let B=oRe(t[0],t[1],c),U;if(!T){r&&j.sort((k,F)=>r(k.datum,F.datum));let w=!1;for(let k=0;k<m.length&&!w;++k)w=m[k]===5||p[k]<0;let C=(g&&s||b)&&e.map(k=>k.datum);U=a.length||C?nRe(B,C||[],a,w,b):tRe(B,s&&j)}let x=b?mRe[f](B,U,s,u):pRe(B,U,m,p);return j.forEach(w=>w.opacity=+x(w)),j}function vRe(e,t){let r=new Float64Array(t),i=e.length;for(let o=0;o<i;++o)r[o]=e[o]||0;for(let o=i;o<t;++o)r[o]=r[i-1];return r}function yRe(e,t){let r=new Int8Array(t),i=e.length;for(let o=0;o<i;++o)r[o]|=hRe[e[o]];for(let o=i;o<t;++o)r[o]=r[i-1];return r}function bRe(e){return e&&e.mark&&e.mark.marktype}function xRe(e,t,r,i){let o=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>o(a.datum):t==="line"?a=>{let s=a.datum.items[i].items;return o(s.length?s[r==="start"?0:s.length-1]:{x:NaN,y:NaN})}:a=>{let s=a.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:o}var YB=["x","y","opacity","align","baseline"],Ose=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function XB(e){Ye.call(this,null,e)}XB.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Ose},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:YB.length,default:YB}]};Et(XB,Ye,{transform(e,t){function r(a){let s=e[a];return En(s)&&t.modified(s.fields)}let i=e.modified();if(!(i||t.changed(t.ADD_REM)||r("sort")))return;(!e.size||e.size.length!==2)&&Ke("Size parameter should be specified as a [width, height] array.");let o=e.as||YB;return gRe(t.materialize(t.SOURCE).source||[],e.size,e.sort,_t(e.offset==null?1:e.offset),_t(e.anchor||Ose),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{let s=a.datum;s[o[0]]=a.x,s[o[1]]=a.y,s[o[2]]=a.opacity,s[o[3]]=a.align,s[o[4]]=a.baseline}),t.reflow(i).modifies(o)}});var e$={};Ka(e$,{loess:()=>ZB,regression:()=>JB});function Nse(e,t){var r=[],i=function(f){return f(l)},o,a,s,l,u,c;if(t==null)r.push(e);else for(o={},a=0,s=e.length;a<s;++a)l=e[a],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(l);return r}function ZB(e){Ye.call(this,null,e)}ZB.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Et(ZB,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let i=t.materialize(t.SOURCE).source,o=Nse(i,e.groupby),a=(e.groupby||[]).map(Ii),s=a.length,l=e.as||[Ii(e.x),Ii(e.y)],u=[];o.forEach(c=>{zN(c,e.x,e.y,e.bandwidth||.3).forEach(f=>{let d={};for(let p=0;p<s;++p)d[a[p]]=c.dims[p];d[l[0]]=f[0],d[l[1]]=f[1],u.push(xr(d))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=u}return r}});var QB={constant:o_,linear:s_,log:LN,exp:BN,pow:$N,quad:l_,poly:UN},wRe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function JB(e){Ye.call(this,null,e)}JB.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(QB)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Et(JB,Ye,{transform(e,t){let r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let i=t.materialize(t.SOURCE).source,o=Nse(i,e.groupby),a=(e.groupby||[]).map(Ii),s=e.method||"linear",l=e.order==null?3:e.order,u=wRe(s,l),c=e.as||[Ii(e.x),Ii(e.y)],f=QB[s],d=[],p=e.extent;Dt(QB,s)||Ke("Invalid regression method: "+s),p!=null&&s==="log"&&p[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),p=null),o.forEach(m=>{if(m.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}let v=f(m,e.x,e.y,l);if(e.params){d.push(xr({keys:m.dims,coef:v.coef,rSquared:v.rSquared}));return}let b=p||Bs(m,e.x),_=D=>{let T={};for(let N=0;N<a.length;++N)T[a[N]]=m.dims[N];T[c[0]]=D[0],T[c[1]]=D[1],d.push(xr(T))};s==="linear"||s==="constant"?b.forEach(D=>_([D,v.predict(D)])):u2(v.predict,b,25,200).forEach(_)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=d}return r}});var r$={};Ka(r$,{voronoi:()=>n$});var Fr=11102230246251565e-32,Ro=134217729,n7=(3+8*Fr)*Fr;function im(e,t,r,i,o){let a,s,l,u,c=t[0],f=i[0],d=0,p=0;f>c==f>-c?(a=c,c=t[++d]):(a=f,f=i[++p]);let m=0;if(d<e&&p<r)for(f>c==f>-c?(s=c+a,l=a-(s-c),c=t[++d]):(s=f+a,l=a-(s-f),f=i[++p]),a=s,l!==0&&(o[m++]=l);d<e&&p<r;)f>c==f>-c?(s=a+c,u=s-a,l=a-(s-u)+(c-u),c=t[++d]):(s=a+f,u=s-a,l=a-(s-u)+(f-u),f=i[++p]),a=s,l!==0&&(o[m++]=l);for(;d<e;)s=a+c,u=s-a,l=a-(s-u)+(c-u),c=t[++d],a=s,l!==0&&(o[m++]=l);for(;p<r;)s=a+f,u=s-a,l=a-(s-u)+(f-u),f=i[++p],a=s,l!==0&&(o[m++]=l);return(a!==0||m===0)&&(o[m++]=a),m}function r7(e,t){let r=t[0];for(let i=1;i<e;i++)r+=t[i];return r}function St(e){return new Float64Array(e)}var _Re=(3+16*Fr)*Fr,SRe=(2+12*Fr)*Fr,CRe=(9+64*Fr)*Fr*Fr,X2=St(4),Ise=St(8),Fse=St(12),Pse=St(16),js=St(4);function ERe(e,t,r,i,o,a,s){let l,u,c,f,d,p,m,g,v,b,_,D,T,N,z,j,B,U,x=e-o,w=r-o,C=t-a,k=i-a;N=x*k,p=Ro*x,m=p-(p-x),g=x-m,p=Ro*k,v=p-(p-k),b=k-v,z=g*b-(N-m*v-g*v-m*b),j=C*w,p=Ro*C,m=p-(p-C),g=C-m,p=Ro*w,v=p-(p-w),b=w-v,B=g*b-(j-m*v-g*v-m*b),_=z-B,d=z-_,X2[0]=z-(_+d)+(d-B),D=N+_,d=D-N,T=N-(D-d)+(_-d),_=T-j,d=T-_,X2[1]=T-(_+d)+(d-j),U=D+_,d=U-D,X2[2]=D-(U-d)+(_-d),X2[3]=U;let F=r7(4,X2),I=SRe*s;if(F>=I||-F>=I||(d=e-x,l=e-(x+d)+(d-o),d=r-w,c=r-(w+d)+(d-o),d=t-C,u=t-(C+d)+(d-a),d=i-k,f=i-(k+d)+(d-a),l===0&&u===0&&c===0&&f===0)||(I=CRe*s+n7*Math.abs(F),F+=x*f+k*l-(C*c+w*u),F>=I||-F>=I))return F;N=l*k,p=Ro*l,m=p-(p-l),g=l-m,p=Ro*k,v=p-(p-k),b=k-v,z=g*b-(N-m*v-g*v-m*b),j=u*w,p=Ro*u,m=p-(p-u),g=u-m,p=Ro*w,v=p-(p-w),b=w-v,B=g*b-(j-m*v-g*v-m*b),_=z-B,d=z-_,js[0]=z-(_+d)+(d-B),D=N+_,d=D-N,T=N-(D-d)+(_-d),_=T-j,d=T-_,js[1]=T-(_+d)+(d-j),U=D+_,d=U-D,js[2]=D-(U-d)+(_-d),js[3]=U;let R=im(4,X2,4,js,Ise);N=x*f,p=Ro*x,m=p-(p-x),g=x-m,p=Ro*f,v=p-(p-f),b=f-v,z=g*b-(N-m*v-g*v-m*b),j=C*c,p=Ro*C,m=p-(p-C),g=C-m,p=Ro*c,v=p-(p-c),b=c-v,B=g*b-(j-m*v-g*v-m*b),_=z-B,d=z-_,js[0]=z-(_+d)+(d-B),D=N+_,d=D-N,T=N-(D-d)+(_-d),_=T-j,d=T-_,js[1]=T-(_+d)+(d-j),U=D+_,d=U-D,js[2]=D-(U-d)+(_-d),js[3]=U;let $=im(R,Ise,4,js,Fse);N=l*f,p=Ro*l,m=p-(p-l),g=l-m,p=Ro*f,v=p-(p-f),b=f-v,z=g*b-(N-m*v-g*v-m*b),j=u*c,p=Ro*u,m=p-(p-u),g=u-m,p=Ro*c,v=p-(p-c),b=c-v,B=g*b-(j-m*v-g*v-m*b),_=z-B,d=z-_,js[0]=z-(_+d)+(d-B),D=N+_,d=D-N,T=N-(D-d)+(_-d),_=T-j,d=T-_,js[1]=T-(_+d)+(d-j),U=D+_,d=U-D,js[2]=D-(U-d)+(_-d),js[3]=U;let Y=im($,Fse,4,js,Pse);return Pse[Y-1]}function K2(e,t,r,i,o,a){let s=(t-a)*(r-o),l=(e-o)*(i-a),u=s-l,c=Math.abs(s+l);return Math.abs(u)>=_Re*c?u:-ERe(e,t,r,i,o,a,c)}var tTt=(7+56*Fr)*Fr,nTt=(3+28*Fr)*Fr,rTt=(26+288*Fr)*Fr*Fr,iTt=St(4),oTt=St(4),aTt=St(4),sTt=St(4),lTt=St(4),uTt=St(4),cTt=St(4),fTt=St(4),dTt=St(4),pTt=St(8),hTt=St(8),mTt=St(8),gTt=St(4),vTt=St(8),yTt=St(8),bTt=St(8),xTt=St(12),wTt=St(192),_Tt=St(192);var ETt=(10+96*Fr)*Fr,DTt=(4+48*Fr)*Fr,ATt=(44+576*Fr)*Fr*Fr,MTt=St(4),TTt=St(4),RTt=St(4),kTt=St(4),OTt=St(4),NTt=St(4),ITt=St(4),FTt=St(4),PTt=St(8),LTt=St(8),BTt=St(8),$Tt=St(8),UTt=St(8),zTt=St(8),VTt=St(8),qTt=St(8),HTt=St(8),GTt=St(4),jTt=St(4),WTt=St(4),YTt=St(8),XTt=St(16),KTt=St(16),QTt=St(16),ZTt=St(32),JTt=St(32),eRt=St(48),tRt=St(64),nRt=St(1152),rRt=St(1152);var sRt=(16+224*Fr)*Fr,lRt=(5+72*Fr)*Fr,uRt=(71+1408*Fr)*Fr*Fr,cRt=St(4),fRt=St(4),dRt=St(4),pRt=St(4),hRt=St(4),mRt=St(4),gRt=St(4),vRt=St(4),yRt=St(4),bRt=St(4),xRt=St(24),wRt=St(24),_Rt=St(24),SRt=St(24),CRt=St(24),ERt=St(24),DRt=St(24),ARt=St(24),MRt=St(24),TRt=St(24),RRt=St(1152),kRt=St(1152),ORt=St(1152),NRt=St(1152),IRt=St(1152),FRt=St(2304),PRt=St(2304),LRt=St(3456),BRt=St(5760),$Rt=St(8),URt=St(8),zRt=St(8),VRt=St(16),qRt=St(24),HRt=St(48),GRt=St(48),jRt=St(96),WRt=St(192),YRt=St(384),XRt=St(384),KRt=St(384),QRt=St(768);var ZRt=St(96),JRt=St(96),ekt=St(96),tkt=St(1152);var Bse=Math.pow(2,-52),RC=new Uint32Array(512),o7=class e{static from(t,r=kRe,i=ORe){let o=t.length,a=new Float64Array(o*2);for(let s=0;s<o;s++){let l=t[s];a[2*s]=r(l),a[2*s+1]=i(l)}return new e(a)}constructor(t){let r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let i=Math.max(2*r-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){let{coords:t,_hullPrev:r,_hullNext:i,_hullTri:o,_hullHash:a}=this,s=t.length>>1,l=1/0,u=1/0,c=-1/0,f=-1/0;for(let x=0;x<s;x++){let w=t[2*x],C=t[2*x+1];w<l&&(l=w),C<u&&(u=C),w>c&&(c=w),C>f&&(f=C),this._ids[x]=x}let d=(l+c)/2,p=(u+f)/2,m,g,v;for(let x=0,w=1/0;x<s;x++){let C=t$(d,p,t[2*x],t[2*x+1]);C<w&&(m=x,w=C)}let b=t[2*m],_=t[2*m+1];for(let x=0,w=1/0;x<s;x++){if(x===m)continue;let C=t$(b,_,t[2*x],t[2*x+1]);C<w&&C>0&&(g=x,w=C)}let D=t[2*g],T=t[2*g+1],N=1/0;for(let x=0;x<s;x++){if(x===m||x===g)continue;let w=TRe(b,_,D,T,t[2*x],t[2*x+1]);w<N&&(v=x,N=w)}let z=t[2*v],j=t[2*v+1];if(N===1/0){for(let C=0;C<s;C++)this._dists[C]=t[2*C]-t[0]||t[2*C+1]-t[1];Q2(this._ids,this._dists,0,s-1);let x=new Uint32Array(s),w=0;for(let C=0,k=-1/0;C<s;C++){let F=this._ids[C],I=this._dists[F];I>k&&(x[w++]=F,k=I)}this.hull=x.subarray(0,w),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(K2(b,_,D,T,z,j)<0){let x=g,w=D,C=T;g=v,D=z,T=j,v=x,z=w,j=C}let B=RRe(b,_,D,T,z,j);this._cx=B.x,this._cy=B.y;for(let x=0;x<s;x++)this._dists[x]=t$(t[2*x],t[2*x+1],B.x,B.y);Q2(this._ids,this._dists,0,s-1),this._hullStart=m;let U=3;i[m]=r[v]=g,i[g]=r[m]=v,i[v]=r[g]=m,o[m]=0,o[g]=1,o[v]=2,a.fill(-1),a[this._hashKey(b,_)]=m,a[this._hashKey(D,T)]=g,a[this._hashKey(z,j)]=v,this.trianglesLen=0,this._addTriangle(m,g,v,-1,-1,-1);for(let x=0,w,C;x<this._ids.length;x++){let k=this._ids[x],F=t[2*k],I=t[2*k+1];if(x>0&&Math.abs(F-w)<=Bse&&Math.abs(I-C)<=Bse||(w=F,C=I,k===m||k===g||k===v))continue;let R=0;for(let he=0,ge=this._hashKey(F,I);he<this._hashSize&&(R=a[(ge+he)%this._hashSize],!(R!==-1&&R!==i[R]));he++);R=r[R];let $=R,Y;for(;Y=i[$],K2(F,I,t[2*$],t[2*$+1],t[2*Y],t[2*Y+1])>=0;)if($=Y,$===R){$=-1;break}if($===-1)continue;let re=this._addTriangle($,k,i[$],-1,-1,o[$]);o[k]=this._legalize(re+2),o[$]=re,U++;let ne=i[$];for(;Y=i[ne],K2(F,I,t[2*ne],t[2*ne+1],t[2*Y],t[2*Y+1])<0;)re=this._addTriangle(ne,k,Y,o[k],-1,o[ne]),o[k]=this._legalize(re+2),i[ne]=ne,U--,ne=Y;if($===R)for(;Y=r[$],K2(F,I,t[2*Y],t[2*Y+1],t[2*$],t[2*$+1])<0;)re=this._addTriangle(Y,k,$,-1,o[$],o[Y]),this._legalize(re+2),o[Y]=re,i[$]=$,U--,$=Y;this._hullStart=r[k]=$,i[$]=r[ne]=k,i[k]=ne,a[this._hashKey(F,I)]=k,a[this._hashKey(t[2*$],t[2*$+1])]=$}this.hull=new Uint32Array(U);for(let x=0,w=this._hullStart;x<U;x++)this.hull[x]=w,w=i[w];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(ARe(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:r,_halfedges:i,coords:o}=this,a=0,s=0;for(;;){let l=i[t],u=t-t%3;if(s=u+(t+2)%3,l===-1){if(a===0)break;t=RC[--a];continue}let c=l-l%3,f=u+(t+1)%3,d=c+(l+2)%3,p=r[s],m=r[t],g=r[f],v=r[d];if(MRe(o[2*p],o[2*p+1],o[2*m],o[2*m+1],o[2*g],o[2*g+1],o[2*v],o[2*v+1])){r[t]=v,r[l]=p;let _=i[d];if(_===-1){let T=this._hullStart;do{if(this._hullTri[T]===d){this._hullTri[T]=t;break}T=this._hullPrev[T]}while(T!==this._hullStart)}this._link(t,_),this._link(l,i[s]),this._link(s,d);let D=c+(l+1)%3;a<RC.length&&(RC[a++]=D)}else{if(a===0)break;t=RC[--a]}}return s}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,i,o,a,s){let l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=r,this._triangles[l+2]=i,this._link(l,o),this._link(l+1,a),this._link(l+2,s),this.trianglesLen+=3,l}};function ARe(e,t){let r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function t$(e,t,r,i){let o=e-r,a=t-i;return o*o+a*a}function MRe(e,t,r,i,o,a,s,l){let u=e-s,c=t-l,f=r-s,d=i-l,p=o-s,m=a-l,g=u*u+c*c,v=f*f+d*d,b=p*p+m*m;return u*(d*b-v*m)-c*(f*b-v*p)+g*(f*m-d*p)<0}function TRe(e,t,r,i,o,a){let s=r-e,l=i-t,u=o-e,c=a-t,f=s*s+l*l,d=u*u+c*c,p=.5/(s*c-l*u),m=(c*f-l*d)*p,g=(s*d-u*f)*p;return m*m+g*g}function RRe(e,t,r,i,o,a){let s=r-e,l=i-t,u=o-e,c=a-t,f=s*s+l*l,d=u*u+c*c,p=.5/(s*c-l*u),m=e+(c*f-l*d)*p,g=t+(s*d-u*f)*p;return{x:m,y:g}}function Q2(e,t,r,i){if(i-r<=20)for(let o=r+1;o<=i;o++){let a=e[o],s=t[a],l=o-1;for(;l>=r&&t[e[l]]>s;)e[l+1]=e[l--];e[l+1]=a}else{let o=r+i>>1,a=r+1,s=i;i7(e,o,a),t[e[r]]>t[e[i]]&&i7(e,r,i),t[e[a]]>t[e[i]]&&i7(e,a,i),t[e[r]]>t[e[a]]&&i7(e,r,a);let l=e[a],u=t[l];for(;;){do a++;while(t[e[a]]<u);do s--;while(t[e[s]]>u);if(s<a)break;i7(e,a,s)}e[r+1]=e[s],e[s]=l,i-a+1>=s-r?(Q2(e,t,a,i),Q2(e,t,r,s-1)):(Q2(e,t,r,s-1),Q2(e,t,a,i))}}function i7(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function kRe(e){return e[0]}function ORe(e){return e[1]}var Dc=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,i){t=+t,r=+r,i=+i;let o=t+i,a=r;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${a}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-a)>1e-6)&&(this._+="L"+o+","+a),i&&(this._+=`A${i},${i},0,1,1,${t-i},${r}A${i},${i},0,1,1,${this._x1=o},${this._y1=a}`)}rect(t,r,i,o){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+i}v${+o}h${-i}Z`}value(){return this._||null}};var om=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};var kC=class{constructor(t,[r,i,o,a]=[0,0,960,500]){if(!((o=+o)>=(r=+r))||!((a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=o,this.xmin=r,this.ymax=a,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:r,triangles:i},vectors:o}=this,a,s,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let v=0,b=0,_=i.length,D,T;v<_;v+=3,b+=2){let N=i[v]*2,z=i[v+1]*2,j=i[v+2]*2,B=t[N],U=t[N+1],x=t[z],w=t[z+1],C=t[j],k=t[j+1],F=x-B,I=w-U,R=C-B,$=k-U,Y=(F*$-I*R)*2;if(Math.abs(Y)<1e-9){if(a===void 0){a=s=0;for(let ne of r)a+=t[ne*2],s+=t[ne*2+1];a/=r.length,s/=r.length}let re=1e9*Math.sign((a-B)*$-(s-U)*R);D=(B+C)/2-re*$,T=(U+k)/2+re*R}else{let re=1/Y,ne=F*F+I*I,he=R*R+$*$;D=B+($*ne-I*he)*re,T=U+(F*he-R*ne)*re}l[b]=D,l[b+1]=T}let u=r[r.length-1],c,f=u*4,d,p=t[2*u],m,g=t[2*u+1];o.fill(0);for(let v=0;v<r.length;++v)u=r[v],c=f,d=p,m=g,f=u*4,p=t[2*u],g=t[2*u+1],o[c+2]=o[f]=m-g,o[c+3]=o[f+1]=p-d}render(t){let r=t==null?t=new Dc:void 0,{delaunay:{halfedges:i,inedges:o,hull:a},circumcenters:s,vectors:l}=this;if(a.length<=1)return null;for(let f=0,d=i.length;f<d;++f){let p=i[f];if(p<f)continue;let m=Math.floor(f/3)*2,g=Math.floor(p/3)*2,v=s[m],b=s[m+1],_=s[g],D=s[g+1];this._renderSegment(v,b,_,D,t)}let u,c=a[a.length-1];for(let f=0;f<a.length;++f){u=c,c=a[f];let d=Math.floor(o[c]/3)*2,p=s[d],m=s[d+1],g=u*4,v=this._project(p,m,l[g+2],l[g+3]);v&&this._renderSegment(p,m,v[0],v[1],t)}return r&&r.value()}renderBounds(t){let r=t==null?t=new Dc:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){let i=r==null?r=new Dc:void 0,o=this._clip(t);if(o===null||!o.length)return;r.moveTo(o[0],o[1]);let a=o.length;for(;o[0]===o[a-2]&&o[1]===o[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(o[s]!==o[s-2]||o[s+1]!==o[s-1])&&r.lineTo(o[s],o[s+1]);return r.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let r=0,i=t.length/2;r<i;++r){let o=this.cellPolygon(r);o&&(o.index=r,yield o)}}cellPolygon(t){let r=new om;return this.renderCell(t,r),r.value()}_renderSegment(t,r,i,o,a){let s,l=this._regioncode(t,r),u=this._regioncode(i,o);l===0&&u===0?(a.moveTo(t,r),a.lineTo(i,o)):(s=this._clipSegment(t,r,i,o,l,u))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,r,i){return r=+r,r!==r||(i=+i,i!==i)?!1:this.delaunay._step(t,r,i)===t}*neighbors(t){let r=this._clip(t);if(r)for(let i of this.delaunay.neighbors(t)){let o=this._clip(i);if(o){e:for(let a=0,s=r.length;a<s;a+=2)for(let l=0,u=o.length;l<u;l+=2)if(r[a]===o[l]&&r[a+1]===o[l+1]&&r[(a+2)%s]===o[(l+u-2)%u]&&r[(a+3)%s]===o[(l+u-1)%u]){yield i;break e}}}}_cell(t){let{circumcenters:r,delaunay:{inedges:i,halfedges:o,triangles:a}}=this,s=i[t];if(s===-1)return null;let l=[],u=s;do{let c=Math.floor(u/3);if(l.push(r[c*2],r[c*2+1]),u=u%3===2?u-2:u+1,a[u]!==t)break;u=o[u]}while(u!==s&&u!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let r=this._cell(t);if(r===null)return null;let{vectors:i}=this,o=t*4;return this._simplify(i[o]||i[o+1]?this._clipInfinite(t,r,i[o],i[o+1],i[o+2],i[o+3]):this._clipFinite(t,r))}_clipFinite(t,r){let i=r.length,o=null,a,s,l=r[i-2],u=r[i-1],c,f=this._regioncode(l,u),d,p=0;for(let m=0;m<i;m+=2)if(a=l,s=u,l=r[m],u=r[m+1],c=f,f=this._regioncode(l,u),c===0&&f===0)d=p,p=0,o?o.push(l,u):o=[l,u];else{let g,v,b,_,D;if(c===0){if((g=this._clipSegment(a,s,l,u,c,f))===null)continue;[v,b,_,D]=g}else{if((g=this._clipSegment(l,u,a,s,f,c))===null)continue;[_,D,v,b]=g,d=p,p=this._edgecode(v,b),d&&p&&this._edge(t,d,p,o,o.length),o?o.push(v,b):o=[v,b]}d=p,p=this._edgecode(_,D),d&&p&&this._edge(t,d,p,o,o.length),o?o.push(_,D):o=[_,D]}if(o)d=p,p=this._edgecode(o[0],o[1]),d&&p&&this._edge(t,d,p,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,r,i,o,a,s){let l=a<s;for(l&&([t,r,i,o,a,s]=[i,o,t,r,s,a]);;){if(a===0&&s===0)return l?[i,o,t,r]:[t,r,i,o];if(a&s)return null;let u,c,f=a||s;f&8?(u=t+(i-t)*(this.ymax-r)/(o-r),c=this.ymax):f&4?(u=t+(i-t)*(this.ymin-r)/(o-r),c=this.ymin):f&2?(c=r+(o-r)*(this.xmax-t)/(i-t),u=this.xmax):(c=r+(o-r)*(this.xmin-t)/(i-t),u=this.xmin),a?(t=u,r=c,a=this._regioncode(t,r)):(i=u,o=c,s=this._regioncode(i,o))}}_clipInfinite(t,r,i,o,a,s){let l=Array.from(r),u;if((u=this._project(l[0],l[1],i,o))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],a,s))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let c=0,f=l.length,d,p=this._edgecode(l[f-2],l[f-1]);c<f;c+=2)d=p,p=this._edgecode(l[c],l[c+1]),d&&p&&(c=this._edge(t,d,p,l,c),f=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,r,i,o,a){for(;r!==i;){let s,l;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,l=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,l=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,l=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,l=this.ymin;break}(o[a]!==s||o[a+1]!==l)&&this.contains(t,s,l)&&(o.splice(a,0,s,l),a+=2)}return a}_project(t,r,i,o){let a=1/0,s,l,u;if(o<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/o)<a&&(u=this.ymin,l=t+(a=s)*i)}else if(o>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/o)<a&&(u=this.ymax,l=t+(a=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<a&&(l=this.xmax,u=r+(a=s)*o)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<a&&(l=this.xmin,u=r+(a=s)*o)}return[l,u]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){let i=(r+2)%t.length,o=(r+4)%t.length;(t[r]===t[i]&&t[i]===t[o]||t[r+1]===t[i+1]&&t[i+1]===t[o+1])&&(t.splice(i,2),r-=2)}t.length||(t=null)}return t}};var NRe=2*Math.PI,Z2=Math.pow;function IRe(e){return e[0]}function FRe(e){return e[1]}function PRe(e){let{triangles:t,coords:r}=e;for(let i=0;i<t.length;i+=3){let o=2*t[i],a=2*t[i+1],s=2*t[i+2];if((r[s]-r[o])*(r[a+1]-r[o+1])-(r[a]-r[o])*(r[s+1]-r[o+1])>1e-10)return!1}return!0}function LRe(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}var a7=class e{static from(t,r=IRe,i=FRe,o){return new e("length"in t?BRe(t,r,i,o):Float64Array.from($Re(t,r,i,o)))}constructor(t){this._delaunator=new o7(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&PRe(t)){this.collinear=Int32Array.from({length:r.length/2},(p,m)=>m).sort((p,m)=>r[2*p]-r[2*m]||r[2*p+1]-r[2*m+1]);let u=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[r[2*u],r[2*u+1],r[2*c],r[2*c+1]],d=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let p=0,m=r.length/2;p<m;++p){let g=LRe(r[2*p],r[2*p+1],d);r[2*p]=g[0],r[2*p+1]=g[1]}this._delaunator=new o7(r)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,c=i.length;u<c;++u){let f=a[u%3===2?u-2:u+1];(i[u]===-1||s[f]===-1)&&(s[f]=u)}for(let u=0,c=o.length;u<c;++u)l[o[u]]=u;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],s[o[0]]=1,o.length===2&&(s[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(t){return new kC(this,t)}*neighbors(t){let{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,collinear:l}=this;if(l){let d=l.indexOf(t);d>0&&(yield l[d-1]),d<l.length-1&&(yield l[d+1]);return}let u=r[t];if(u===-1)return;let c=u,f=-1;do{if(yield f=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=a[c],c===-1){let d=i[(o[t]+1)%i.length];d!==f&&(yield d);return}}while(c!==u)}find(t,r,i=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;let o=i,a;for(;(a=this._step(i,t,r))>=0&&a!==i&&a!==o;)i=a;return a}_step(t,r,i){let{inedges:o,hull:a,_hullIndex:s,halfedges:l,triangles:u,points:c}=this;if(o[t]===-1||!c.length)return(t+1)%(c.length>>1);let f=t,d=Z2(r-c[t*2],2)+Z2(i-c[t*2+1],2),p=o[t],m=p;do{let g=u[m],v=Z2(r-c[g*2],2)+Z2(i-c[g*2+1],2);if(v<d&&(d=v,f=g),m=m%3===2?m-2:m+1,u[m]!==t)break;if(m=l[m],m===-1){if(m=a[(s[t]+1)%a.length],m!==g&&Z2(r-c[m*2],2)+Z2(i-c[m*2+1],2)<d)return m;break}}while(m!==p);return f}render(t){let r=t==null?t=new Dc:void 0,{points:i,halfedges:o,triangles:a}=this;for(let s=0,l=o.length;s<l;++s){let u=o[s];if(u<s)continue;let c=a[s]*2,f=a[u]*2;t.moveTo(i[c],i[c+1]),t.lineTo(i[f],i[f+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;let i=t==null?t=new Dc:void 0,{points:o}=this;for(let a=0,s=o.length;a<s;a+=2){let l=o[a],u=o[a+1];t.moveTo(l+r,u),t.arc(l,u,r,0,NRe)}return i&&i.value()}renderHull(t){let r=t==null?t=new Dc:void 0,{hull:i,points:o}=this,a=i[0]*2,s=i.length;t.moveTo(o[a],o[a+1]);for(let l=1;l<s;++l){let u=2*i[l];t.lineTo(o[u],o[u+1])}return t.closePath(),r&&r.value()}hullPolygon(){let t=new om;return this.renderHull(t),t.value()}renderTriangle(t,r){let i=r==null?r=new Dc:void 0,{points:o,triangles:a}=this,s=a[t*=3]*2,l=a[t+1]*2,u=a[t+2]*2;return r.moveTo(o[s],o[s+1]),r.lineTo(o[l],o[l+1]),r.lineTo(o[u],o[u+1]),r.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:t}=this;for(let r=0,i=t.length/3;r<i;++r)yield this.trianglePolygon(r)}trianglePolygon(t){let r=new om;return this.renderTriangle(t,r),r.value()}};function BRe(e,t,r,i){let o=e.length,a=new Float64Array(o*2);for(let s=0;s<o;++s){let l=e[s];a[s*2]=t.call(i,l,s,e),a[s*2+1]=r.call(i,l,s,e)}return a}function*$Re(e,t,r,i){let o=0;for(let a of e)yield t.call(i,a,o,e),yield r.call(i,a,o,e),++o}function n$(e){Ye.call(this,null,e)}n$.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var URe=[-1e5,-1e5,1e5,1e5];Et(n$,Ye,{transform(e,t){let r=e.as||"path",i=t.source;if(!i||!i.length)return t;let o=e.size;o=o?[0,0,o[0],o[1]]:(o=e.extent)?[o[0][0],o[0][1],o[1][0],o[1][1]]:URe;let a=this.value=a7.from(i,e.x,e.y).voronoi(o);for(let s=0,l=i.length;s<l;++s){let u=a.cellPolygon(s);i[s][r]=u&&!VRe(u)?zRe(u):null}return t.reflow(e.modified()).modifies(r)}});function zRe(e){let t=e[0][0],r=e[0][1],i=e.length-1;for(;e[i][0]===t&&e[i][1]===r;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}function VRe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}var a$={};Ka(a$,{wordcloud:()=>o$});var i$=Math.PI/180,s7=64,OC=2048;function qRe(){var e=[256,256],t,r,i,o,a,s,l,u=$se,c=[],f=Math.random,d={};d.layout=function(){for(var g=p(wu()),v=XRe((e[0]>>5)*e[1]),b=null,_=c.length,D=-1,T=[],N=c.map(j=>({text:t(j),font:r(j),style:o(j),weight:a(j),rotate:s(j),size:~~(i(j)+1e-14),padding:l(j),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:j})).sort((j,B)=>B.size-j.size);++D<_;){var z=N[D];z.x=e[0]*(f()+.5)>>1,z.y=e[1]*(f()+.5)>>1,HRe(g,z,N,D),z.hasText&&m(v,z,b)&&(T.push(z),b?jRe(b,z):b=[{x:z.x+z.x0,y:z.y+z.y0},{x:z.x+z.x1,y:z.y+z.y1}],z.x-=e[0]>>1,z.y-=e[1]>>1)}return T};function p(g){g.width=g.height=1;var v=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(s7<<5)/v,g.height=OC/v;var b=g.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",{context:b,ratio:v}}function m(g,v,b){for(var _=v.x,D=v.y,T=Math.hypot(e[0],e[1]),N=u(e),z=f()<.5?1:-1,j=-z,B,U,x;(B=N(j+=z))&&(U=~~B[0],x=~~B[1],!(Math.min(Math.abs(U),Math.abs(x))>=T));)if(v.x=_+U,v.y=D+x,!(v.x+v.x0<0||v.y+v.y0<0||v.x+v.x1>e[0]||v.y+v.y1>e[1])&&(!b||!GRe(v,g,e[0]))&&(!b||WRe(v,b))){for(var w=v.sprite,C=v.width>>5,k=e[0]>>5,F=v.x-(C<<4),I=F&127,R=32-I,$=v.y1-v.y0,Y=(v.y+v.y0)*k+(F>>5),re,ne=0;ne<$;ne++){re=0;for(var he=0;he<=C;he++)g[Y+he]|=re<<R|(he<C?(re=w[ne*C+he])>>>I:0);Y+=k}return v.sprite=null,!0}return!1}return d.words=function(g){return arguments.length?(c=g,d):c},d.size=function(g){return arguments.length?(e=[+g[0],+g[1]],d):e},d.font=function(g){return arguments.length?(r=am(g),d):r},d.fontStyle=function(g){return arguments.length?(o=am(g),d):o},d.fontWeight=function(g){return arguments.length?(a=am(g),d):a},d.rotate=function(g){return arguments.length?(s=am(g),d):s},d.text=function(g){return arguments.length?(t=am(g),d):t},d.spiral=function(g){return arguments.length?(u=KRe[g]||g,d):u},d.fontSize=function(g){return arguments.length?(i=am(g),d):i},d.padding=function(g){return arguments.length?(l=am(g),d):l},d.random=function(g){return arguments.length?(f=g,d):f},d}function HRe(e,t,r,i){if(!t.sprite){var o=e.context,a=e.ratio;o.clearRect(0,0,(s7<<5)/a,OC/a);var s=0,l=0,u=0,c=r.length,f,d,p,m,g;for(--i;++i<c;){if(t=r[i],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,f=o.measureText(t.text+"m").width*a,p=t.size<<1,t.rotate){var v=Math.sin(t.rotate*i$),b=Math.cos(t.rotate*i$),_=f*b,D=f*v,T=p*b,N=p*v;f=Math.max(Math.abs(_+N),Math.abs(_-N))+31>>5<<5,p=~~Math.max(Math.abs(D+T),Math.abs(D-T))}else f=f+31>>5<<5;if(p>u&&(u=p),s+f>=s7<<5&&(s=0,l+=u,u=0),l+p>=OC)break;o.translate((s+(f>>1))/a,(l+(p>>1))/a),t.rotate&&o.rotate(t.rotate*i$),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=p,t.xoff=s,t.yoff=l,t.x1=f>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=f}for(var z=o.getImageData(0,0,(s7<<5)/a,OC/a).data,j=[];--i>=0;)if(t=r[i],!!t.hasText){for(f=t.width,d=f>>5,p=t.y1-t.y0,m=0;m<p*d;m++)j[m]=0;if(s=t.xoff,s==null)return;l=t.yoff;var B=0,U=-1;for(g=0;g<p;g++){for(m=0;m<f;m++){var x=d*g+(m>>5),w=z[(l+g)*(s7<<5)+(s+m)<<2]?1<<31-m%32:0;j[x]|=w,B|=w}B?U=g:(t.y0++,p--,g--,l++)}t.y1=t.y0+U,t.sprite=j.slice(0,(t.y1-t.y0)*d)}}}function GRe(e,t,r){r>>=5;for(var i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=a&127,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*r+(a>>5),f,d=0;d<u;d++){f=0;for(var p=0;p<=o;p++)if((f<<l|(p<o?(f=i[d*o+p])>>>s:0))&t[c+p])return!0;c+=r}return!1}function jRe(e,t){var r=e[0],i=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function WRe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function $se(e){var t=e[0]/e[1];return function(r){return[t*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function YRe(e){var t=4,r=t*e[0]/e[1],i=0,o=0;return function(a){var s=a<0?-1:1;switch(Math.sqrt(1+4*s*a)-s&3){case 0:i+=r;break;case 1:o+=t;break;case 2:i-=r;break;default:o-=t;break}return[i,o]}}function XRe(e){for(var t=[],r=-1;++r<e;)t[r]=0;return t}function am(e){return typeof e=="function"?e:function(){return e}}var KRe={archimedean:$se,rectangular:YRe},Use=["x","y","font","fontSize","fontStyle","fontWeight","angle"],QRe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function o$(e){Ye.call(this,qRe(),e)}o$.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Use}]};Et(o$,Ye,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ke("Wordcloud size dimensions must be non-zero.");function r(g){let v=e[g];return En(v)&&t.modified(v.fields)}let i=e.modified();if(!(i||t.changed(t.ADD_REM)||QRe.some(r)))return;let o=t.materialize(t.SOURCE).source,a=this.value,s=e.as||Use,l=e.fontSize||14,u;if(En(l)?u=e.fontSizeRange:l=Li(l),u){let g=l,v=Sr("sqrt")().domain(Bs(o,g)).range(u);l=b=>v(g(b))}o.forEach(g=>{g[s[0]]=NaN,g[s[1]]=NaN,g[s[3]]=0});let c=a.words(o).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random(zs).layout(),f=a.size(),d=f[0]>>1,p=f[1]>>1,m=c.length;for(let g=0,v,b;g<m;++g)v=c[g],b=v.datum,b[s[0]]=v.x+d,b[s[1]]=v.y+p,b[s[2]]=v.font,b[s[3]]=v.size,b[s[4]]=v.style,b[s[5]]=v.weight,b[s[6]]=v.rotate;return t.reflow(i).modifies(s)}});var p$={};Ka(p$,{crossfilter:()=>f$,resolvefilter:()=>d$});function sm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NC(e){let t,r,i;e.length!==2?(t=sm,r=(l,u)=>sm(e(l),u),i=(l,u)=>e(l)-u):(t=e===sm||e===s$?e:ZRe,r=e,i=e);function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){let d=o(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:o,center:s,right:a}}function ZRe(){return 0}function l$(e){return e===null?NaN:+e}var zse=NC(sm),u$=zse.right,c$=zse.left,JRe=NC(l$).center;function IC(e,t){return Array.from(t,r=>e[r])}var eke=e=>new Uint8Array(e),tke=e=>new Uint16Array(e),l7=e=>new Uint32Array(e);function nke(){let e=8,t=[],r=l7(0),i=FC(0,e),o=FC(0,e);return{data:()=>t,seen:()=>r=rke(r,t.length),add(a){for(let s=0,l=t.length,u=a.length,c;s<u;++s)c=a[s],c._index=l++,t.push(c)},remove(a,s){let l=t.length,u=Array(l-a),c=t,f,d,p;for(d=0;!s[d]&&d<l;++d)u[d]=t[d],c[d]=d;for(p=d;d<l;++d)f=t[d],s[d]?c[d]=-1:(c[d]=p,i[p]=i[d],o[p]=o[d],u[p]=f,f._index=p++),i[d]=0;return t=u,c},size:()=>t.length,curr:()=>i,prev:()=>o,reset:a=>o[a]=i[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,s){i[a]|=s},clear(a,s){i[a]&=~s},resize(a,s){let l=i.length;(a>l||s>e)&&(e=Math.max(s,e),i=FC(a,e,i),o=FC(a,e))}}}function rke(e,t,r){return e.length>=t?e:(r=r||new e.constructor(t),r.set(e),r)}function FC(e,t,r){let i=(t<257?eke:t<65537?tke:l7)(e);return r&&i.set(r),i}function Vse(e,t,r){let i=1<<t;return{one:i,zero:~i,range:r.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(o,a){let s=this,l=s.bisect(s.range,o.value),u=o.index,c=l[0],f=l[1],d=u.length,p;for(p=0;p<c;++p)a[u[p]]|=i;for(p=f;p<d;++p)a[u[p]]|=i;return s}}}function qse(){let e=l7(0),t=[],r=0;function i(l,u,c){if(!u.length)return[];let f=r,d=u.length,p=l7(d),m=Array(d),g,v,b;for(b=0;b<d;++b)m[b]=l(u[b]),p[b]=b;if(m=ike(m,p),f)g=t,v=e,t=Array(f+d),e=l7(f+d),oke(c,g,v,f,m,p,d,t,e);else{if(c>0)for(b=0;b<d;++b)p[b]+=c;t=m,e=p}return r=f+d,{index:p,value:m}}function o(l,u){let c=r,f,d,p;for(d=0;!u[e[d]]&&d<c;++d);for(p=d;d<c;++d)u[f=e[d]]||(e[p]=f,t[p]=t[d],++p);r=c-l}function a(l){for(let u=0,c=r;u<c;++u)e[u]=l[e[u]]}function s(l,u){let c;return u?c=u.length:(u=t,c=r),[c$(u,l[0],0,c),u$(u,l[1],0,c)]}return{insert:i,remove:o,bisect:s,reindex:a,index:()=>e,size:()=>r}}function ike(e,t){return e.sort.call(t,(r,i)=>{let o=e[r],a=e[i];return o<a?-1:o>a?1:0}),IC(e,t)}function oke(e,t,r,i,o,a,s,l,u){let c=0,f=0,d;for(d=0;c<i&&f<s;++d)t[c]<o[f]?(l[d]=t[c],u[d]=r[c++]):(l[d]=o[f],u[d]=a[f++]+e);for(;c<i;++c,++d)l[d]=t[c],u[d]=r[c];for(;f<s;++f,++d)l[d]=o[f],u[d]=a[f]+e}function f$(e){Ye.call(this,nke(),e),this._indices=null,this._dims=null}f$.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Et(f$,Ye,{transform(e,t){if(this._dims){var r=e.modified("fields")||e.fields.some(i=>t.modified(i.fields));return r?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){let r=e.fields,i=e.query,o=this._indices={},a=this._dims=[],s=i.length,l=0,u,c;for(;l<s;++l)u=r[l].fname,c=o[u]||(o[u]=qse()),a.push(Vse(c,l,i[l]));return this.eval(e,t)},reinit(e,t){let r=t.materialize().fork(),i=e.fields,o=e.query,a=this._indices,s=this._dims,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d=r.rem=r.add,p=r.mod,m=o.length,g={},v,b,_,D,T,N,z,j,B;if(c.set(u),t.rem.length&&(T=this.remove(e,t,r)),t.add.length&&l.add(t.add),t.mod.length)for(N={},D=t.mod,z=0,j=D.length;z<j;++z)N[D[z]._index]=1;for(z=0;z<m;++z)B=i[z],(!s[z]||e.modified("fields",z)||t.modified(B.fields))&&(_=B.fname,(v=g[_])||(a[_]=b=qse(),g[_]=v=b.insert(B,t.source,0)),s[z]=Vse(b,z,o[z]).onAdd(v,u));for(z=0,j=l.data().length;z<j;++z)T[z]||(c[z]!==u[z]?d.push(z):N[z]&&u[z]!==f&&p.push(z));return l.mask=(1<<m)-1,r},eval(e,t){let r=t.materialize().fork(),i=this._dims.length,o=0;return t.rem.length&&(this.remove(e,t,r),o|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(o|=this.update(e,t,r)),t.add.length&&(this.insert(e,t,r),o|=(1<<i)-1),t.mod.length&&(this.modify(t,r),o|=(1<<i)-1),this.value.mask=o,r},insert(e,t,r){let i=t.add,o=this.value,a=this._dims,s=this._indices,l=e.fields,u={},c=r.add,f=o.size()+i.length,d=a.length,p=o.size(),m,g,v;o.resize(f,d),o.add(i);let b=o.curr(),_=o.prev(),D=o.all();for(m=0;m<d;++m)g=l[m].fname,v=u[g]||(u[g]=s[g].insert(l[m],i,p)),a[m].onAdd(v,b);for(;p<f;++p)_[p]=D,b[p]!==D&&c.push(p)},modify(e,t){let r=t.mod,i=this.value,o=i.curr(),a=i.all(),s=e.mod,l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l]._index,o[c]!==a&&r.push(c)},remove(e,t,r){let i=this._indices,o=this.value,a=o.curr(),s=o.prev(),l=o.all(),u={},c=r.rem,f=t.rem,d,p,m,g;for(d=0,p=f.length;d<p;++d)m=f[d]._index,u[m]=1,s[m]=g=a[m],a[m]=l,g!==l&&c.push(m);for(m in i)i[m].remove(p,u);return this.reindex(t,p,u),u},reindex(e,t,r){let i=this._indices,o=this.value;e.runAfter(()=>{let a=o.remove(t,r);for(let s in i)i[s].reindex(a)})},update(e,t,r){let i=this._dims,o=e.query,a=t.stamp,s=i.length,l=0,u,c;for(r.filters=0,c=0;c<s;++c)e.modified("query",c)&&(u=c,++l);if(l===1)l=i[u].one,this.incrementOne(i[u],o[u],r.add,r.rem);else for(c=0,l=0;c<s;++c)e.modified("query",c)&&(l|=i[c].one,this.incrementAll(i[c],o[c],a,r.add),r.rem=r.add);return l},incrementAll(e,t,r,i){let o=this.value,a=o.seen(),s=o.curr(),l=o.prev(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],p=f[1],m=c[0],g=c[1],v=e.one,b,_,D;if(d<m)for(b=d,_=Math.min(m,p);b<_;++b)D=u[b],a[D]!==r&&(l[D]=s[D],a[D]=r,i.push(D)),s[D]^=v;else if(d>m)for(b=m,_=Math.min(d,g);b<_;++b)D=u[b],a[D]!==r&&(l[D]=s[D],a[D]=r,i.push(D)),s[D]^=v;if(p>g)for(b=Math.max(d,g),_=p;b<_;++b)D=u[b],a[D]!==r&&(l[D]=s[D],a[D]=r,i.push(D)),s[D]^=v;else if(p<g)for(b=Math.max(m,p),_=g;b<_;++b)D=u[b],a[D]!==r&&(l[D]=s[D],a[D]=r,i.push(D)),s[D]^=v;e.range=t.slice()},incrementOne(e,t,r,i){let o=this.value,a=o.curr(),s=e.index(),l=e.bisect(e.range),u=e.bisect(t),c=u[0],f=u[1],d=l[0],p=l[1],m=e.one,g,v,b;if(c<d)for(g=c,v=Math.min(d,f);g<v;++g)b=s[g],a[b]^=m,r.push(b);else if(c>d)for(g=d,v=Math.min(c,p);g<v;++g)b=s[g],a[b]^=m,i.push(b);if(f>p)for(g=Math.max(c,p),v=f;g<v;++g)b=s[g],a[b]^=m,r.push(b);else if(f<p)for(g=Math.max(d,f),v=p;g<v;++g)b=s[g],a[b]^=m,i.push(b);e.range=t.slice()}});function d$(e){Ye.call(this,null,e)}d$.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Et(d$,Ye,{transform(e,t){let r=~(e.ignore||0),i=e.filter,o=i.mask;if((o&r)===0)return t.StopPropagation;let a=t.fork(t.ALL),s=i.data(),l=i.curr(),u=i.prev(),c=f=>l[f]&r?null:s[f];return a.filter(a.MOD,c),o&o-1?(a.filter(a.ADD,f=>{let d=l[f]&r;return!d&&d^u[f]&r?s[f]:null}),a.filter(a.REM,f=>{let d=l[f]&r;return d&&!(d^(d^u[f]&r))?s[f]:null})):(a.filter(a.ADD,c),a.filter(a.REM,f=>(l[f]&r)===o?s[f]:null)),a.filter(a.SOURCE,f=>c(f._index))}});var ake=Math.sqrt(50),ske=Math.sqrt(10),lke=Math.sqrt(2);function Hse(e,t,r){let i=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=ake?10:a>=ske?5:a>=lke?2:1,l,u,c;return o<0?(c=Math.pow(10,-o)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?Hse(e,t,r*2):[l,u,c]}function h$(e,t,r){return t=+t,e=+e,r=+r,Hse(e,t,r)[2]}function m$(e,t,r){t=+t,e=+e,r=+r;let i=t<e,o=i?h$(t,e,r):h$(e,t,r);return(i?-1:1)*(o<0?1/-o:o)}var uke="RawCode",x0="Literal",cke="Property",fke="Identifier",dke="ArrayExpression",pke="BinaryExpression",w$="CallExpression",hke="ConditionalExpression",mke="LogicalExpression",gke="MemberExpression",vke="ObjectExpression",yke="UnaryExpression";function Ac(e){this.type=e}Ac.prototype.visit=function(e){let t,r,i;if(e(this))return 1;for(t=bke(this),r=0,i=t.length;r<i;++r)if(t[r].visit(e))return 1};function bke(e){switch(e.type){case dke:return e.elements;case pke:case mke:return[e.left,e.right];case w$:return[e.callee].concat(e.arguments);case hke:return[e.test,e.consequent,e.alternate];case gke:return[e.object,e.property];case vke:return e.properties;case cke:return[e.key,e.value];case yke:return[e.argument];case fke:case x0:case uke:default:return[]}}var Kf,fn,rt,os,ui,BC=1,p7=2,lm=3,sh=4,$C=5,cm=6,gl=7,h7=8,xke=9;Kf={};Kf[BC]="Boolean";Kf[p7]="<end>";Kf[lm]="Identifier";Kf[sh]="Keyword";Kf[$C]="Null";Kf[cm]="Numeric";Kf[gl]="Punctuator";Kf[h7]="String";Kf[xke]="RegularExpression";var wke="ArrayExpression",_ke="BinaryExpression",Ske="CallExpression",Cke="ConditionalExpression",Zse="Identifier",Eke="Literal",Dke="LogicalExpression",Ake="MemberExpression",Mke="ObjectExpression",Tke="Property",Rke="UnaryExpression",da="Unexpected token %0",kke="Unexpected number",Oke="Unexpected string",Nke="Unexpected identifier",Ike="Unexpected reserved word",Fke="Unexpected end of input",b$="Invalid regular expression",g$="Invalid regular expression: missing /",Jse="Octal literals are not allowed in strict mode.",Pke="Duplicate data property in object literal not allowed in strict mode",$a="ILLEGAL",f7="Disabled.",Lke=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Bke=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function UC(e,t){if(!e)throw new Error("ASSERT: "+t)}function b0(e){return e>=48&&e<=57}function _$(e){return"0123456789abcdefABCDEF".includes(e)}function c7(e){return"01234567".includes(e)}function $ke(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function d7(e){return e===10||e===13||e===8232||e===8233}function m7(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Lke.test(String.fromCharCode(e))}function LC(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Bke.test(String.fromCharCode(e))}var Uke={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ele(){for(;rt<os;){let e=fn.charCodeAt(rt);if($ke(e)||d7(e))++rt;else break}}function x$(e){var t,r,i,o=0;for(r=e==="u"?4:2,t=0;t<r;++t)rt<os&&_$(fn[rt])?(i=fn[rt++],o=o*16+"0123456789abcdef".indexOf(i.toLowerCase())):Yr({},da,$a);return String.fromCharCode(o)}function zke(){var e,t,r,i;for(e=fn[rt],t=0,e==="}"&&Yr({},da,$a);rt<os&&(e=fn[rt++],!!_$(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Yr({},da,$a),t<=65535?String.fromCharCode(t):(r=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(r,i))}function tle(){var e,t;for(e=fn.charCodeAt(rt++),t=String.fromCharCode(e),e===92&&(fn.charCodeAt(rt)!==117&&Yr({},da,$a),++rt,e=x$("u"),(!e||e==="\\"||!m7(e.charCodeAt(0)))&&Yr({},da,$a),t=e);rt<os&&(e=fn.charCodeAt(rt),!!LC(e));)++rt,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),fn.charCodeAt(rt)!==117&&Yr({},da,$a),++rt,e=x$("u"),(!e||e==="\\"||!LC(e.charCodeAt(0)))&&Yr({},da,$a),t+=e);return t}function Vke(){var e,t;for(e=rt++;rt<os;){if(t=fn.charCodeAt(rt),t===92)return rt=e,tle();if(LC(t))++rt;else break}return fn.slice(e,rt)}function qke(){var e,t,r;return e=rt,t=fn.charCodeAt(rt)===92?tle():Vke(),t.length===1?r=lm:Uke.hasOwnProperty(t)?r=sh:t==="null"?r=$C:t==="true"||t==="false"?r=BC:r=lm,{type:r,value:t,start:e,end:rt}}function v$(){var e=rt,t=fn.charCodeAt(rt),r,i=fn[rt],o,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++rt,{type:gl,value:String.fromCharCode(t),start:e,end:rt};default:if(r=fn.charCodeAt(rt+1),r===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return rt+=2,{type:gl,value:String.fromCharCode(t)+String.fromCharCode(r),start:e,end:rt};case 33:case 61:return rt+=2,fn.charCodeAt(rt)===61&&++rt,{type:gl,value:fn.slice(e,rt),start:e,end:rt}}}if(s=fn.substr(rt,4),s===">>>=")return rt+=4,{type:gl,value:s,start:e,end:rt};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return rt+=3,{type:gl,value:a,start:e,end:rt};if(o=a.substr(0,2),i===o[1]&&"+-<>&|".includes(i)||o==="=>")return rt+=2,{type:gl,value:o,start:e,end:rt};if(o==="//"&&Yr({},da,$a),"<>=!+-*%&|^/".includes(i))return++rt,{type:gl,value:i,start:e,end:rt};Yr({},da,$a)}function Hke(e){let t="";for(;rt<os&&_$(fn[rt]);)t+=fn[rt++];return t.length===0&&Yr({},da,$a),m7(fn.charCodeAt(rt))&&Yr({},da,$a),{type:cm,value:parseInt("0x"+t,16),start:e,end:rt}}function Gke(e){let t="0"+fn[rt++];for(;rt<os&&c7(fn[rt]);)t+=fn[rt++];return(m7(fn.charCodeAt(rt))||b0(fn.charCodeAt(rt)))&&Yr({},da,$a),{type:cm,value:parseInt(t,8),octal:!0,start:e,end:rt}}function Gse(){var e,t,r;if(r=fn[rt],UC(b0(r.charCodeAt(0))||r===".","Numeric literal must start with a decimal digit or a decimal point"),t=rt,e="",r!=="."){if(e=fn[rt++],r=fn[rt],e==="0"){if(r==="x"||r==="X")return++rt,Hke(t);if(c7(r))return Gke(t);r&&b0(r.charCodeAt(0))&&Yr({},da,$a)}for(;b0(fn.charCodeAt(rt));)e+=fn[rt++];r=fn[rt]}if(r==="."){for(e+=fn[rt++];b0(fn.charCodeAt(rt));)e+=fn[rt++];r=fn[rt]}if(r==="e"||r==="E")if(e+=fn[rt++],r=fn[rt],(r==="+"||r==="-")&&(e+=fn[rt++]),b0(fn.charCodeAt(rt)))for(;b0(fn.charCodeAt(rt));)e+=fn[rt++];else Yr({},da,$a);return m7(fn.charCodeAt(rt))&&Yr({},da,$a),{type:cm,value:parseFloat(e),start:t,end:rt}}function jke(){var e="",t,r,i,o,a=!1;for(t=fn[rt],UC(t==="'"||t==='"',"String literal must starts with a quote"),r=rt,++rt;rt<os;)if(i=fn[rt++],i===t){t="";break}else if(i==="\\")if(i=fn[rt++],!i||!d7(i.charCodeAt(0)))switch(i){case"u":case"x":fn[rt]==="{"?(++rt,e+=zke()):e+=x$(i);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:c7(i)?(o="01234567".indexOf(i),o!==0&&(a=!0),rt<os&&c7(fn[rt])&&(a=!0,o=o*8+"01234567".indexOf(fn[rt++]),"0123".includes(i)&&rt<os&&c7(fn[rt])&&(o=o*8+"01234567".indexOf(fn[rt++]))),e+=String.fromCharCode(o)):e+=i;break}else i==="\r"&&fn[rt]===`
`&&++rt;else{if(d7(i.charCodeAt(0)))break;e+=i}return t!==""&&Yr({},da,$a),{type:h7,value:e,octal:a,start:r,end:rt}}function Wke(e,t){let r=e;t.includes("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,o)=>{if(parseInt(o,16)<=1114111)return"x";Yr({},b$)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch{Yr({},b$)}try{return new RegExp(e,t)}catch{return null}}function Yke(){var e,t,r,i,o;for(e=fn[rt],UC(e==="/","Regular expression literal must start with a slash"),t=fn[rt++],r=!1,i=!1;rt<os;)if(e=fn[rt++],t+=e,e==="\\")e=fn[rt++],d7(e.charCodeAt(0))&&Yr({},g$),t+=e;else if(d7(e.charCodeAt(0)))Yr({},g$);else if(r)e==="]"&&(r=!1);else if(e==="/"){i=!0;break}else e==="["&&(r=!0);return i||Yr({},g$),o=t.substr(1,t.length-2),{value:o,literal:t}}function Xke(){var e,t,r;for(t="",r="";rt<os&&(e=fn[rt],!!LC(e.charCodeAt(0)));)++rt,e==="\\"&&rt<os?Yr({},da,$a):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&Yr({},b$,r),{value:r,literal:t}}function Kke(){var e,t,r,i;return ui=null,ele(),e=rt,t=Yke(),r=Xke(),i=Wke(t.value,r.value),{literal:t.literal+r.literal,value:i,regex:{pattern:t.value,flags:r.value},start:e,end:rt}}function Qke(e){return e.type===lm||e.type===sh||e.type===BC||e.type===$C}function nle(){if(ele(),rt>=os)return{type:p7,start:rt,end:rt};let e=fn.charCodeAt(rt);return m7(e)?qke():e===40||e===41||e===59?v$():e===39||e===34?jke():e===46?b0(fn.charCodeAt(rt+1))?Gse():v$():b0(e)?Gse():v$()}function vl(){let e=ui;return rt=e.end,ui=nle(),rt=e.end,e}function rle(){let e=rt;ui=nle(),rt=e}function Zke(e){let t=new Ac(wke);return t.elements=e,t}function jse(e,t,r){let i=new Ac(e==="||"||e==="&&"?Dke:_ke);return i.operator=e,i.left=t,i.right=r,i}function Jke(e,t){let r=new Ac(Ske);return r.callee=e,r.arguments=t,r}function eOe(e,t,r){let i=new Ac(Cke);return i.test=e,i.consequent=t,i.alternate=r,i}function S$(e){let t=new Ac(Zse);return t.name=e,t}function u7(e){let t=new Ac(Eke);return t.value=e.value,t.raw=fn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Wse(e,t,r){let i=new Ac(Ake);return i.computed=e==="[",i.object=t,i.property=r,i.computed||(r.member=!0),i}function tOe(e){let t=new Ac(Mke);return t.properties=e,t}function Yse(e,t,r){let i=new Ac(Tke);return i.key=t,i.value=r,i.kind=e,i}function nOe(e,t){let r=new Ac(Rke);return r.operator=e,r.argument=t,r.prefix=!0,r}function Yr(e,t){var r,i=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(a,s)=>(UC(s<i.length,"Message reference must be in range"),i[s]));throw r=new Error(o),r.index=rt,r.description=o,r}function zC(e){e.type===p7&&Yr(e,Fke),e.type===cm&&Yr(e,kke),e.type===h7&&Yr(e,Oke),e.type===lm&&Yr(e,Nke),e.type===sh&&Yr(e,Ike),Yr(e,da,e.value)}function as(e){let t=vl();(t.type!==gl||t.value!==e)&&zC(t)}function Fi(e){return ui.type===gl&&ui.value===e}function y$(e){return ui.type===sh&&ui.value===e}function rOe(){let e=[];for(rt=ui.start,as("[");!Fi("]");)Fi(",")?(vl(),e.push(null)):(e.push(um()),Fi("]")||as(","));return vl(),Zke(e)}function Xse(){rt=ui.start;let e=vl();return e.type===h7||e.type===cm?(e.octal&&Yr(e,Jse),u7(e)):S$(e.value)}function iOe(){var e,t,r,i;if(rt=ui.start,e=ui,e.type===lm)return r=Xse(),as(":"),i=um(),Yse("init",r,i);if(e.type===p7||e.type===gl)zC(e);else return t=Xse(),as(":"),i=um(),Yse("init",t,i)}function oOe(){var e=[],t,r,i,o={},a=String;for(rt=ui.start,as("{");!Fi("}");)t=iOe(),t.key.type===Zse?r=t.key.name:r=a(t.key.value),i="$"+r,Object.prototype.hasOwnProperty.call(o,i)?Yr({},Pke):o[i]=!0,e.push(t),Fi("}")||as(",");return as("}"),tOe(e)}function aOe(){as("(");let e=C$();return as(")"),e}var sOe={if:1};function lOe(){var e,t,r;if(Fi("("))return aOe();if(Fi("["))return rOe();if(Fi("{"))return oOe();if(e=ui.type,rt=ui.start,e===lm||sOe[ui.value])r=S$(vl().value);else if(e===h7||e===cm)ui.octal&&Yr(ui,Jse),r=u7(vl());else{if(e===sh)throw new Error(f7);e===BC?(t=vl(),t.value=t.value==="true",r=u7(t)):e===$C?(t=vl(),t.value=null,r=u7(t)):Fi("/")||Fi("/=")?(r=u7(Kke()),rle()):zC(vl())}return r}function uOe(){let e=[];if(as("("),!Fi(")"))for(;rt<os&&(e.push(um()),!Fi(")"));)as(",");return as(")"),e}function cOe(){rt=ui.start;let e=vl();return Qke(e)||zC(e),S$(e.value)}function fOe(){return as("."),cOe()}function dOe(){as("[");let e=C$();return as("]"),e}function pOe(){var e,t,r;for(e=lOe();;)if(Fi("."))r=fOe(),e=Wse(".",e,r);else if(Fi("("))t=uOe(),e=Jke(e,t);else if(Fi("["))r=dOe(),e=Wse("[",e,r);else break;return e}function Kse(){let e=pOe();if(ui.type===gl&&(Fi("++")||Fi("--")))throw new Error(f7);return e}function PC(){var e,t;if(ui.type!==gl&&ui.type!==sh)t=Kse();else{if(Fi("++")||Fi("--"))throw new Error(f7);if(Fi("+")||Fi("-")||Fi("~")||Fi("!"))e=vl(),t=PC(),t=nOe(e.value,t);else{if(y$("delete")||y$("void")||y$("typeof"))throw new Error(f7);t=Kse()}}return t}function Qse(e){let t=0;if(e.type!==gl&&e.type!==sh)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function hOe(){var e,t,r,i,o,a,s,l,u,c;if(e=ui,u=PC(),i=ui,o=Qse(i),o===0)return u;for(i.prec=o,vl(),t=[e,ui],s=PC(),a=[u,i,s];(o=Qse(ui))>0;){for(;a.length>2&&o<=a[a.length-2].prec;)s=a.pop(),l=a.pop().value,u=a.pop(),t.pop(),r=jse(l,u,s),a.push(r);i=vl(),i.prec=o,a.push(i),t.push(ui),r=PC(),a.push(r)}for(c=a.length-1,r=a[c],t.pop();c>1;)t.pop(),r=jse(a[c-1].value,a[c-2],r),c-=2;return r}function um(){var e,t,r;return e=hOe(),Fi("?")&&(vl(),t=um(),as(":"),r=um(),e=eOe(e,t,r)),e}function C$(){let e=um();if(Fi(","))throw new Error(f7);return e}function VC(e){fn=e,rt=0,os=fn.length,ui=null,rle();let t=C$();if(ui.type!==p7)throw new Error("Unexpect token after expression.");return t}var E$={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function D$(e){function t(s,l,u,c){let f=e(l[0]);return u&&(f=u+"("+f+")",u.lastIndexOf("new ",0)===0&&(f="("+f+")")),f+"."+s+(c<0?"":c===0?"()":"("+l.slice(1).map(e).join(",")+")")}function r(s,l,u){return c=>t(s,c,l,u)}let i="new Date",o="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Ke("Missing arguments to clamp function."),s.length>3&&Ke("Too many arguments to clamp function.");let l=s.map(e);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:r("getDate",i,0),day:r("getDay",i,0),year:r("getFullYear",i,0),month:r("getMonth",i,0),hours:r("getHours",i,0),minutes:r("getMinutes",i,0),seconds:r("getSeconds",i,0),milliseconds:r("getMilliseconds",i,0),time:r("getTime",i,0),timezoneoffset:r("getTimezoneOffset",i,0),utcdate:r("getUTCDate",i,0),utcday:r("getUTCDay",i,0),utcyear:r("getUTCFullYear",i,0),utcmonth:r("getUTCMonth",i,0),utchours:r("getUTCHours",i,0),utcminutes:r("getUTCMinutes",i,0),utcseconds:r("getUTCSeconds",i,0),utcmilliseconds:r("getUTCMilliseconds",i,0),length:r("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:r("toUpperCase",o,0),lower:r("toLowerCase",o,0),substring:r("substring",o),split:r("split",o),trim:r("trim",o,0),btoa:"btoa",atob:"atob",regexp:a,test:r("test",a),if:function(s){s.length<3&&Ke("Missing arguments to if function."),s.length>3&&Ke("Too many arguments to if function.");let l=s.map(e);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}function mOe(e){let t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function qC(e){e=e||{};let t=e.allowed?Eo(e.allowed):{},r=e.forbidden?Eo(e.forbidden):{},i=e.constants||E$,o=(e.functions||D$)(d),a=e.globalvar,s=e.fieldvar,l=En(a)?a:g=>`${a}["${g}"]`,u={},c={},f=0;function d(g){if(ht(g))return g;let v=p[g.type];return v==null&&Ke("Unsupported type: "+g.type),v(g)}let p={Literal:g=>g.raw,Identifier:g=>{let v=g.name;return f>0?v:Dt(r,v)?Ke("Illegal identifier: "+v):Dt(i,v)?i[v]:Dt(t,v)?v:(u[v]=1,l(v))},MemberExpression:g=>{let v=!g.computed,b=d(g.object);v&&(f+=1);let _=d(g.property);return b===s&&(c[mOe(_)]=1),v&&(f-=1),b+(v?"."+_:"["+_+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&Ke("Illegal callee type: "+g.callee.type);let v=g.callee.name,b=g.arguments,_=Dt(o,v)&&o[v];return _||Ke("Unrecognized function: "+v),En(_)?_(b):_+"("+b.map(d).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(d).join(",")+"]",BinaryExpression:g=>"("+d(g.left)+" "+g.operator+" "+d(g.right)+")",UnaryExpression:g=>"("+g.operator+d(g.argument)+")",ConditionalExpression:g=>"("+d(g.test)+"?"+d(g.consequent)+":"+d(g.alternate)+")",LogicalExpression:g=>"("+d(g.left)+g.operator+d(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(d).join(",")+"}",Property:g=>{f+=1;let v=d(g.key);return f-=1,v+":"+d(g.value)}};function m(g){let v={code:d(g),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},v}return m.functions=o,m.constants=i,m}var yl=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,i=0;for(let o=0;o<this._n&&o<32;o++){let a=r[o],s=t+a,l=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);l&&(r[i++]=l),t=s}return r[i]=t,this._n=i+1,this}valueOf(){let t=this._partials,r=this._n,i,o,a,s=0;if(r>0){for(s=t[--r];r>0&&(i=s,o=t[--r],s=i+o,a=o-(s-i),!a););r>0&&(a<0&&t[r-1]<0||a>0&&t[r-1]>0)&&(o=a*2,i=s+o,o==i-s&&(s=i))}return s}};function HC(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++i<o;)a[i]=e+i*r;return a}var J2=1e-6,A$=1e-12,g7=Math.PI,ile=g7/2,M$=g7/4,T$=g7*2,fm=180/g7,Yo=g7/180,GC=Math.abs;var dm=Math.atan2,pa=Math.cos;var jC=Math.hypot;var ha=Math.sin;var WC=Math.sqrt;function v7(e){return e>1?ile:e<-1?-ile:Math.asin(e)}function lh(){}function YC(e,t){e&&ale.hasOwnProperty(e.type)&&ale[e.type](e,t)}var ole={Feature:function(e,t){YC(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,o=r.length;++i<o;)YC(r[i].geometry,t)}},ale={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)e=r[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){R$(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)R$(r[i],t,0)},Polygon:function(e,t){sle(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,o=r.length;++i<o;)sle(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,o=r.length;++i<o;)YC(r[i],t)}};function R$(e,t,r){var i=-1,o=e.length-r,a;for(t.lineStart();++i<o;)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function sle(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)R$(e[r],t,1);t.polygonEnd()}function e5(e,t){e&&ole.hasOwnProperty(e.type)?ole[e.type](e,t):YC(e,t)}var y7=new yl,XC=new yl,lle,ule,k$,O$,N$,Mc={point:lh,lineStart:lh,lineEnd:lh,polygonStart:function(){y7=new yl,Mc.lineStart=gOe,Mc.lineEnd=vOe},polygonEnd:function(){var e=+y7;XC.add(e<0?T$+e:e),this.lineStart=this.lineEnd=this.point=lh},sphere:function(){XC.add(T$)}};function gOe(){Mc.point=yOe}function vOe(){cle(lle,ule)}function yOe(e,t){Mc.point=cle,lle=e,ule=t,e*=Yo,t*=Yo,k$=e,O$=pa(t=t/2+M$),N$=ha(t)}function cle(e,t){e*=Yo,t*=Yo,t=t/2+M$;var r=e-k$,i=r>=0?1:-1,o=i*r,a=pa(t),s=ha(t),l=N$*s,u=O$*a+l*pa(o),c=l*i*ha(o);y7.add(dm(c,u)),k$=e,O$=a,N$=s}function I$(e){return XC=new yl,e5(e,Mc),XC*2}function fle(e){return[dm(e[1],e[0]),v7(e[2])]}function dle(e){var t=e[0],r=e[1],i=pa(r);return[i*pa(t),i*ha(t),ha(r)]}function F$(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ple(e){var t=WC(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Gi,bl,io,Kl,pm,vle,yle,t5,b7,uh,_0,w0={point:P$,lineStart:hle,lineEnd:mle,polygonStart:function(){w0.point=xle,w0.lineStart=bOe,w0.lineEnd=xOe,b7=new yl,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),w0.point=P$,w0.lineStart=hle,w0.lineEnd=mle,y7<0?(Gi=-(io=180),bl=-(Kl=90)):b7>J2?Kl=90:b7<-J2&&(bl=-90),_0[0]=Gi,_0[1]=io},sphere:function(){Gi=-(io=180),bl=-(Kl=90)}};function P$(e,t){uh.push(_0=[Gi=e,io=e]),t<bl&&(bl=t),t>Kl&&(Kl=t)}function ble(e,t){var r=dle([e*Yo,t*Yo]);if(t5){var i=F$(t5,r),o=[i[1],-i[0],0],a=F$(o,i);ple(a),a=fle(a);var s=e-pm,l=s>0?1:-1,u=a[0]*fm*l,c,f=GC(s)>180;f^(l*pm<u&&u<l*e)?(c=a[1]*fm,c>Kl&&(Kl=c)):(u=(u+360)%360-180,f^(l*pm<u&&u<l*e)?(c=-a[1]*fm,c<bl&&(bl=c)):(t<bl&&(bl=t),t>Kl&&(Kl=t))),f?e<pm?Xl(Gi,e)>Xl(Gi,io)&&(io=e):Xl(e,io)>Xl(Gi,io)&&(Gi=e):io>=Gi?(e<Gi&&(Gi=e),e>io&&(io=e)):e>pm?Xl(Gi,e)>Xl(Gi,io)&&(io=e):Xl(e,io)>Xl(Gi,io)&&(Gi=e)}else uh.push(_0=[Gi=e,io=e]);t<bl&&(bl=t),t>Kl&&(Kl=t),t5=r,pm=e}function hle(){w0.point=ble}function mle(){_0[0]=Gi,_0[1]=io,w0.point=P$,t5=null}function xle(e,t){if(t5){var r=e-pm;b7.add(GC(r)>180?r+(r>0?360:-360):r)}else vle=e,yle=t;Mc.point(e,t),ble(e,t)}function bOe(){Mc.lineStart()}function xOe(){xle(vle,yle),Mc.lineEnd(),GC(b7)>J2&&(Gi=-(io=180)),_0[0]=Gi,_0[1]=io,t5=null}function Xl(e,t){return(t-=e)<0?t+360:t}function wOe(e,t){return e[0]-t[0]}function gle(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function L$(e){var t,r,i,o,a,s,l;if(Kl=io=-(Gi=bl=1/0),uh=[],e5(e,w0),r=uh.length){for(uh.sort(wOe),t=1,i=uh[0],a=[i];t<r;++t)o=uh[t],gle(i,o[0])||gle(i,o[1])?(Xl(i[0],o[1])>Xl(i[0],i[1])&&(i[1]=o[1]),Xl(o[0],i[1])>Xl(i[0],i[1])&&(i[0]=o[0])):a.push(i=o);for(s=-1/0,r=a.length-1,t=0,i=a[r];t<=r;i=o,++t)o=a[t],(l=Xl(i[1],o[0]))>s&&(s=l,Gi=o[0],io=i[1])}return uh=_0=null,Gi===1/0||bl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gi,bl],[io,Kl]]}var x7,KC,QC,ZC,JC,eE,tE,nE,B$,$$,U$,Sle,Cle,Ws,Ys,Xs,Tc={sphere:lh,point:z$,lineStart:wle,lineEnd:_le,polygonStart:function(){Tc.lineStart=COe,Tc.lineEnd=EOe},polygonEnd:function(){Tc.lineStart=wle,Tc.lineEnd=_le}};function z$(e,t){e*=Yo,t*=Yo;var r=pa(t);w7(r*pa(e),r*ha(e),ha(t))}function w7(e,t,r){++x7,QC+=(e-QC)/x7,ZC+=(t-ZC)/x7,JC+=(r-JC)/x7}function wle(){Tc.point=_Oe}function _Oe(e,t){e*=Yo,t*=Yo;var r=pa(t);Ws=r*pa(e),Ys=r*ha(e),Xs=ha(t),Tc.point=SOe,w7(Ws,Ys,Xs)}function SOe(e,t){e*=Yo,t*=Yo;var r=pa(t),i=r*pa(e),o=r*ha(e),a=ha(t),s=dm(WC((s=Ys*a-Xs*o)*s+(s=Xs*i-Ws*a)*s+(s=Ws*o-Ys*i)*s),Ws*i+Ys*o+Xs*a);KC+=s,eE+=s*(Ws+(Ws=i)),tE+=s*(Ys+(Ys=o)),nE+=s*(Xs+(Xs=a)),w7(Ws,Ys,Xs)}function _le(){Tc.point=z$}function COe(){Tc.point=DOe}function EOe(){Ele(Sle,Cle),Tc.point=z$}function DOe(e,t){Sle=e,Cle=t,e*=Yo,t*=Yo,Tc.point=Ele;var r=pa(t);Ws=r*pa(e),Ys=r*ha(e),Xs=ha(t),w7(Ws,Ys,Xs)}function Ele(e,t){e*=Yo,t*=Yo;var r=pa(t),i=r*pa(e),o=r*ha(e),a=ha(t),s=Ys*a-Xs*o,l=Xs*i-Ws*a,u=Ws*o-Ys*i,c=jC(s,l,u),f=v7(c),d=c&&-f/c;B$.add(d*s),$$.add(d*l),U$.add(d*u),KC+=f,eE+=f*(Ws+(Ws=i)),tE+=f*(Ys+(Ys=o)),nE+=f*(Xs+(Xs=a)),w7(Ws,Ys,Xs)}function V$(e){x7=KC=QC=ZC=JC=eE=tE=nE=0,B$=new yl,$$=new yl,U$=new yl,e5(e,Tc);var t=+B$,r=+$$,i=+U$,o=jC(t,r,i);return o<A$&&(t=eE,r=tE,i=nE,KC<J2&&(t=QC,r=ZC,i=JC),o=jC(t,r,i),o<A$)?[NaN,NaN]:[dm(r,t)*fm,v7(i/o)*fm]}function hm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function n5(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function ch(){}var _7=.7,oE=1/_7,r5="\\s*([+-]?\\d+)\\s*",S7="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AOe=/^#([0-9a-f]{3,8})$/,MOe=new RegExp(`^rgb\\(${r5},${r5},${r5}\\)$`),TOe=new RegExp(`^rgb\\(${Qf},${Qf},${Qf}\\)$`),ROe=new RegExp(`^rgba\\(${r5},${r5},${r5},${S7}\\)$`),kOe=new RegExp(`^rgba\\(${Qf},${Qf},${Qf},${S7}\\)$`),OOe=new RegExp(`^hsl\\(${S7},${Qf},${Qf}\\)$`),NOe=new RegExp(`^hsla\\(${S7},${Qf},${Qf},${S7}\\)$`),Dle={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hm(ch,C7,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ale,formatHex:Ale,formatHex8:IOe,formatHsl:FOe,formatRgb:Mle,toString:Mle});function Ale(){return this.rgb().formatHex()}function IOe(){return this.rgb().formatHex8()}function FOe(){return Ile(this).formatHsl()}function Mle(){return this.rgb().formatRgb()}function C7(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AOe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Tle(t):r===3?new Ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rE(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MOe.exec(e))?new Ua(t[1],t[2],t[3],1):(t=TOe.exec(e))?new Ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ROe.exec(e))?rE(t[1],t[2],t[3],t[4]):(t=kOe.exec(e))?rE(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OOe.exec(e))?Ole(t[1],t[2]/100,t[3]/100,1):(t=NOe.exec(e))?Ole(t[1],t[2]/100,t[3]/100,t[4]):Dle.hasOwnProperty(e)?Tle(Dle[e]):e==="transparent"?new Ua(NaN,NaN,NaN,0):null}function Tle(e){return new Ua(e>>16&255,e>>8&255,e&255,1)}function rE(e,t,r,i){return i<=0&&(e=t=r=NaN),new Ua(e,t,r,i)}function H$(e){return e instanceof ch||(e=C7(e)),e?(e=e.rgb(),new Ua(e.r,e.g,e.b,e.opacity)):new Ua}function E7(e,t,r,i){return arguments.length===1?H$(e):new Ua(e,t,r,i??1)}function Ua(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}hm(Ua,E7,n5(ch,{brighter(e){return e=e==null?oE:Math.pow(oE,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_7:Math.pow(_7,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ua(gm(this.r),gm(this.g),gm(this.b),aE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rle,formatHex:Rle,formatHex8:POe,formatRgb:kle,toString:kle}));function Rle(){return`#${mm(this.r)}${mm(this.g)}${mm(this.b)}`}function POe(){return`#${mm(this.r)}${mm(this.g)}${mm(this.b)}${mm((isNaN(this.opacity)?1:this.opacity)*255)}`}function kle(){let e=aE(this.opacity);return`${e===1?"rgb(":"rgba("}${gm(this.r)}, ${gm(this.g)}, ${gm(this.b)}${e===1?")":`, ${e})`}`}function aE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mm(e){return e=gm(e),(e<16?"0":"")+e.toString(16)}function Ole(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rc(e,t,r,i)}function Ile(e){if(e instanceof Rc)return new Rc(e.h,e.s,e.l,e.opacity);if(e instanceof ch||(e=C7(e)),!e)return new Rc;if(e instanceof Rc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(t,r,i),a=Math.max(t,r,i),s=NaN,l=a-o,u=(a+o)/2;return l?(t===a?s=(r-i)/l+(r<i)*6:r===a?s=(i-t)/l+2:s=(t-r)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new Rc(s,l,u,e.opacity)}function sE(e,t,r,i){return arguments.length===1?Ile(e):new Rc(e,t,r,i??1)}function Rc(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}hm(Rc,sE,n5(ch,{brighter(e){return e=e==null?oE:Math.pow(oE,e),new Rc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_7:Math.pow(_7,e),new Rc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,o=2*r-i;return new Ua(q$(e>=240?e-240:e+120,o,i),q$(e,o,i),q$(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Rc(Nle(this.h),iE(this.s),iE(this.l),aE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=aE(this.opacity);return`${e===1?"hsl(":"hsla("}${Nle(this.h)}, ${iE(this.s)*100}%, ${iE(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nle(e){return e=(e||0)%360,e<0?e+360:e}function iE(e){return Math.max(0,Math.min(1,e||0))}function q$(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Fle=Math.PI/180,Ple=180/Math.PI;var lE=18,Lle=.96422,Ble=1,$le=.82521,Ule=4/29,i5=6/29,zle=3*i5*i5,LOe=i5*i5*i5;function Vle(e){if(e instanceof Zf)return new Zf(e.l,e.a,e.b,e.opacity);if(e instanceof S0)return qle(e);e instanceof Ua||(e=H$(e));var t=Y$(e.r),r=Y$(e.g),i=Y$(e.b),o=G$((.2225045*t+.7168786*r+.0606169*i)/Ble),a,s;return t===r&&r===i?a=s=o:(a=G$((.4360747*t+.3850649*r+.1430804*i)/Lle),s=G$((.0139322*t+.0971045*r+.7141733*i)/$le)),new Zf(116*o-16,500*(a-o),200*(o-s),e.opacity)}function D7(e,t,r,i){return arguments.length===1?Vle(e):new Zf(e,t,r,i??1)}function Zf(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}hm(Zf,D7,n5(ch,{brighter(e){return new Zf(this.l+lE*(e??1),this.a,this.b,this.opacity)},darker(e){return new Zf(this.l-lE*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Lle*j$(t),e=Ble*j$(e),r=$le*j$(r),new Ua(W$(3.1338561*t-1.6168667*e-.4906146*r),W$(-.9787684*t+1.9161415*e+.033454*r),W$(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function G$(e){return e>LOe?Math.pow(e,1/3):e/zle+Ule}function j$(e){return e>i5?e*e*e:zle*(e-Ule)}function W$(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Y$(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function BOe(e){if(e instanceof S0)return new S0(e.h,e.c,e.l,e.opacity);if(e instanceof Zf||(e=Vle(e)),e.a===0&&e.b===0)return new S0(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ple;return new S0(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function uE(e,t,r,i){return arguments.length===1?BOe(e):new S0(e,t,r,i??1)}function S0(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function qle(e){if(isNaN(e.h))return new Zf(e.l,0,0,e.opacity);var t=e.h*Fle;return new Zf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}hm(S0,uE,n5(ch,{brighter(e){return new S0(this.h,this.c,this.l+lE*(e??1),this.opacity)},darker(e){return new S0(this.h,this.c,this.l-lE*(e??1),this.opacity)},rgb(){return qle(this).rgb()}}));function A7(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cE(e){let t,r,i;e.length!==2?(t=A7,r=(l,u)=>A7(e(l),u),i=(l,u)=>e(l)-u):(t=e===A7||e===X$?e:$Oe,r=e,i=e);function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{let d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){let d=o(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:o,center:s,right:a}}function $Oe(){return 0}function fE(e,...t){e=new $d(e),t=t.map(UOe);e:for(let r of e)for(let i of t)if(!i.has(r)){e.delete(r);continue e}return e}function UOe(e){return e instanceof $d?e:new $d(e)}function dE(...e){let t=new $d;for(let r of e)for(let i of r)t.add(i);return t}var Hle=Symbol("vega_selection_getter");function Yle(e){return(!e.getter||!e.getter[Hle])&&(e.getter=aa(e.field),e.getter[Hle]=!0),e.getter}var Q$="intersect",Gle="union",zOe="vlMulti",VOe="vlPoint",jle="or",qOe="and",Jf="_vgsid_",M7=aa(Jf),HOe="E",GOe="R",jOe="R-E",WOe="R-LE",YOe="R-RE",XOe="E-LT",KOe="E-LTE",QOe="E-GT",ZOe="E-GTE",JOe="E-VALID",eNe="E-ONE",pE="index:unit";function Wle(e,t){for(var r=t.fields,i=t.values,o=r.length,a=0,s,l;a<o;++a)if(l=r[a],s=Yle(l)(e),fc(s)&&(s=mo(s)),fc(i[a])&&(i[a]=mo(i[a])),Le(i[a])&&fc(i[a][0])&&(i[a]=i[a].map(mo)),l.type===HOe){if(Le(i[a])?!i[a].includes(s):s!==i[a])return!1}else if(l.type===GOe){if(!Dp(s,i[a]))return!1}else if(l.type===YOe){if(!Dp(s,i[a],!0,!1))return!1}else if(l.type===jOe){if(!Dp(s,i[a],!1,!1))return!1}else if(l.type===WOe){if(!Dp(s,i[a],!1,!0))return!1}else if(l.type===XOe){if(s>=i[a])return!1}else if(l.type===KOe){if(s>i[a])return!1}else if(l.type===QOe){if(s<=i[a])return!1}else if(l.type===ZOe){if(s<i[a])return!1}else if(l.type===JOe){if(s===null||isNaN(s))return!1}else if(l.type===eNe&&i[a].indexOf(s)===-1)return!1;return!0}function Xle(e,t,r){for(var i=this.context.data[e],o=i?i.values.value:[],a=i?i[pE]&&i[pE].value:void 0,s=r===Q$,l=o.length,u=0,c,f,d,p,m;u<l;++u)if(c=o[u],a&&s){if(f=f||{},d=f[p=c.unit]||0,d===-1)continue;if(m=Wle(t,c),f[p]=m?-1:++d,m&&a.size===1)return!0;if(!m&&d===a.get(p).count)return!1}else if(m=Wle(t,c),s^m)return m;return l&&s}var Kle=cE(M7),tNe=Kle.left,nNe=Kle.right;function Qle(e,t,r){let i=this.context.data[e],o=i?i.values.value:[],a=i?i[pE]&&i[pE].value:void 0,s=r===Q$,l=M7(t),u=tNe(o,l);if(u===o.length||M7(o[u])!==l)return!1;if(a&&s){if(a.size===1)return!0;if(nNe(o,l)-u<a.size)return!1}return!0}function Zle(e,t){return e.map(r=>Dn(t.fields?{values:t.fields.map(i=>Yle(i)(r.datum))}:{[Jf]:M7(r.datum)},t))}function Jle(e,t,r,i){for(var o=this.context.data[e],a=o?o.values.value:[],s={},l={},u={},c,f,d,p,m,g,v,b,_,D,T=a.length,N=0,z,j;N<T;++N)if(c=a[N],p=c.unit,f=c.fields,d=c.values,f&&d){for(z=0,j=f.length;z<j;++z)m=f[z],v=s[m.field]||(s[m.field]={}),b=v[p]||(v[p]=[]),u[m.field]=_=m.type.charAt(0),D=K$[`${_}_union`],v[p]=D(b,_t(d[z]));r&&(b=l[p]||(l[p]=[]),b.push(_t(d).reduce((B,U,x)=>(B[f[x].field]=U,B),{})))}else m=Jf,g=M7(c),v=s[m]||(s[m]={}),b=v[p]||(v[p]=[]),b.push(g),r&&(b=l[p]||(l[p]=[]),b.push({[Jf]:g}));if(t=t||Gle,s[Jf]?s[Jf]=K$[`${Jf}_${t}`](...Object.values(s[Jf])):Object.keys(s).forEach(B=>{s[B]=Object.keys(s[B]).map(U=>s[B][U]).reduce((U,x)=>U===void 0?x:K$[`${u[B]}_${t}`](U,x))}),a=Object.keys(l),r&&a.length){let B=i?VOe:zOe;s[B]=t===Gle?{[jle]:a.reduce((U,x)=>(U.push(...l[x]),U),[])}:{[qOe]:a.map(U=>({[jle]:l[U]}))}}return s}var K$={[`${Jf}_union`]:dE,[`${Jf}_intersect`]:fE,E_union:function(e,t){if(!e.length)return t;for(var r=0,i=t.length;r<i;++r)e.includes(t[r])||e.push(t[r]);return e},E_intersect:function(e,t){return e.length?e.filter(r=>t.includes(r)):t},R_union:function(e,t){var r=mo(t[0]),i=mo(t[1]);return r>i&&(r=t[1],i=t[0]),e.length?(e[0]>r&&(e[0]=r),e[1]<i&&(e[1]=i),e):[r,i]},R_intersect:function(e,t){var r=mo(t[0]),i=mo(t[1]);return r>i&&(r=t[1],i=t[0]),e.length?i<e[0]||e[1]<r?[]:(e[0]<r&&(e[0]=r),e[1]>i&&(e[1]=i),e):[r,i]}},rNe=":",iNe="@";function hE(e,t,r,i){t[0].type!==x0&&Ke("First argument to selection functions must be a string literal.");let o=t[0].value,a=t.length>=2&&jn(t).value,s="unit",l=iNe+s,u=rNe+o;a===Q$&&!Dt(i,l)&&(i[l]=r.getData(o).indataRef(r,s)),Dt(i,u)||(i[u]=r.getData(o).tuplesRef())}function rue(e){let t=this.context.data[e];return t?t.values.value:[]}function oNe(e,t,r){let i=this.context.data[e]["index:"+t],o=i?i.value.get(r):void 0;return o&&o.count}function aNe(e,t){let r=this.context.dataflow,i=this.context.data[e],o=i.input;return r.pulse(o,r.changeset().remove(qo).insert(t)),1}function sNe(e,t,r){if(e){let i=this.context.dataflow,o=e.mark.source;i.pulse(o,i.changeset().encode(e,t))}return r!==void 0?r:e}var T7=e=>function(t,r){let i=this.context.dataflow.locale();return t===null?"null":i[e](r)(t)},lNe=T7("format"),iue=T7("timeFormat"),uNe=T7("utcFormat"),cNe=T7("timeParse"),fNe=T7("utcParse"),mE=new Date(2e3,0,1);function gE(e,t,r){return!Number.isInteger(e)||!Number.isInteger(t)?"":(mE.setYear(2e3),mE.setMonth(e),mE.setDate(t),iue.call(this,mE,r))}function dNe(e){return gE.call(this,e,1,"%B")}function pNe(e){return gE.call(this,e,1,"%b")}function hNe(e){return gE.call(this,0,2+e,"%A")}function mNe(e){return gE.call(this,0,2+e,"%a")}var gNe=":",vNe="@",J$="%",oue="$";function nU(e,t,r,i){t[0].type!==x0&&Ke("First argument to data functions must be a string literal.");let o=t[0].value,a=gNe+o;if(!Dt(a,i))try{i[a]=r.getData(o).tuplesRef()}catch{}}function yNe(e,t,r,i){t[0].type!==x0&&Ke("First argument to indata must be a string literal."),t[1].type!==x0&&Ke("Second argument to indata must be a string literal.");let o=t[0].value,a=t[1].value,s=vNe+a;Dt(s,i)||(i[s]=r.getData(o).indataRef(r,a))}function Ks(e,t,r,i){if(t[0].type===x0)eue(r,i,t[0].value);else for(e in r.scales)eue(r,i,e)}function eue(e,t,r){let i=J$+r;if(!Dt(t,i))try{t[i]=e.scaleRef(r)}catch{}}function ed(e,t){if(ht(e)){let r=t.scales[e];return r&&bF(r.value)?r.value:void 0}else if(En(e))return bF(e)?e:void 0}function bNe(e,t,r){t.__bandwidth=o=>o&&o.bandwidth?o.bandwidth():0,r._bandwidth=Ks,r._range=Ks,r._scale=Ks;let i=o=>"_["+(o.type===x0?gt(J$+o.value):gt(J$)+"+"+e(o))+"]";return{_bandwidth:o=>`this.__bandwidth(${i(o[0])})`,_range:o=>`${i(o[0])}.range()`,_scale:o=>`${i(o[0])}(${e(o[1])})`}}function rU(e,t){return function(r,i,o){if(r){let a=ed(r,(o||this).context);return a&&a.path[e](i)}else return t(i)}}var xNe=rU("area",I$),wNe=rU("bounds",L$),_Ne=rU("centroid",V$);function SNe(e,t){let r=ed(e,(t||this).context);return r&&r.scale()}function CNe(e){let t=this.context.group,r=!1;if(t)for(;e;){if(e===t){r=!0;break}e=e.mark.group}return r}function iU(e,t,r){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(r)))}catch(i){e.warn(i)}return r[r.length-1]}function ENe(){return iU(this.context.dataflow,"warn",arguments)}function DNe(){return iU(this.context.dataflow,"info",arguments)}function ANe(){return iU(this.context.dataflow,"debug",arguments)}function Z$(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function eU(e){let t=E7(e),r=Z$(t.r),i=Z$(t.g),o=Z$(t.b);return .2126*r+.7152*i+.0722*o}function MNe(e,t){let r=eU(e),i=eU(t),o=Math.max(r,i),a=Math.min(r,i);return(o+.05)/(a+.05)}function TNe(){let e=[].slice.call(arguments);return e.unshift({}),Dn(...e)}function aue(e,t){return e===t||e!==e&&t!==t?!0:Le(e)?Le(t)&&e.length===t.length?RNe(e,t):!1:yt(e)&&yt(t)?sue(e,t):!1}function RNe(e,t){for(let r=0,i=e.length;r<i;++r)if(!aue(e[r],t[r]))return!1;return!0}function sue(e,t){for(let r in e)if(!aue(e[r],t[r]))return!1;return!0}function tue(e){return t=>sue(e,t)}function kNe(e,t,r,i,o,a){let s=this.context.dataflow,l=this.context.data[e],u=l.input,c=s.stamp(),f=l.changes,d,p;if(s._trigger===!1||!(u.value.length||t||i))return 0;if((!f||f.stamp<c)&&(l.changes=f=s.changeset(),f.stamp=c,s.runAfter(()=>{l.modified=!0,s.pulse(u,f).run()},!0,1)),r&&(d=r===!0?qo:Le(r)||E1(r)?r:tue(r),f.remove(d)),t&&f.insert(t),i&&(d=tue(i),u.value.some(d)?f.remove(d):f.insert(i)),o)for(p in a)f.modify(o,p,a[p]);return 1}function ONe(e){let t=e.touches,r=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.hypot(r,i)}function NNe(e){let t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}var nue={};function INe(e,t){let r=nue[t]||(nue[t]=aa(t));return Le(e)?e.map(r):r(e)}function vE(e){return Le(e)||ArrayBuffer.isView(e)?e:null}function oU(e){return vE(e)||(ht(e)?e:null)}function FNe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return vE(e).join(...r)}function PNe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oU(e).indexOf(...r)}function LNe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oU(e).lastIndexOf(...r)}function BNe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oU(e).slice(...r)}function $Ne(e,t,r){return En(r)&&Ke("Function argument passed to replace."),!ht(t)&&!fw(t)&&Ke("Please pass a string or RegExp argument to replace."),String(e).replace(t,r)}function UNe(e){return vE(e).slice().reverse()}function zNe(e){return vE(e).slice().sort(Kd)}function VNe(e,t,r){return V8(e||0,t||0,r||0)}function qNe(e,t){let r=ed(e,(t||this).context);return r&&r.bandwidth?r.bandwidth():0}function HNe(e,t){let r=ed(e,(t||this).context);return r?r.copy():void 0}function GNe(e,t){let r=ed(e,(t||this).context);return r?r.domain():[]}function jNe(e,t,r){let i=ed(e,(r||this).context);return i?Le(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}function WNe(e,t){let r=ed(e,(t||this).context);return r&&r.range?r.range():[]}function YNe(e,t,r){let i=ed(e,(r||this).context);return i?i(t):void 0}function XNe(e,t,r,i,o){e=ed(e,(o||this).context);let a=jF(t,r),s=e.domain(),l=s[0],u=jn(s),c=to;return u-l?c=tS(e,l,u):e=(e.interpolator?Sr("sequential")().interpolator(e.interpolator()):Sr("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,u=1]),e.ticks&&(s=e.ticks(+i||15),l!==s[0]&&s.unshift(l),u!==jn(s)&&s.push(u)),s.forEach(f=>a.stop(c(f),e(f))),a}function KNe(e,t,r){let i=ed(e,(r||this).context);return function(o){return i?i.path.context(o)(t):""}}function QNe(e){let t=null;return function(r){return r?C2(r,t=t||W1(e)):e}}var lue=e=>e.data;function uue(e,t){let r=rue.call(t,e);return r.root&&r.root.lookup||{}}function ZNe(e,t,r){let i=uue(e,this),o=i[t],a=i[r];return o&&a?o.path(a).map(lue):void 0}function JNe(e,t){let r=uue(e,this)[t];return r?r.ancestors().map(lue):void 0}var cue=()=>typeof window<"u"&&window||null;function eIe(){let e=cue();return e?e.screen:{}}function tIe(){let e=cue();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function nIe(){let e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function fue(e,t,r){if(!e)return[];let[i,o]=e,a=new no().set(i[0],i[1],o[0],o[1]),s=r||this.context.dataflow.scenegraph().root;return gP(s,a,rIe(t))}function rIe(e){let t=null;if(e){let r=_t(e.marktype),i=_t(e.markname);t=o=>(!r.length||r.some(a=>o.marktype===a))&&(!i.length||i.some(a=>o.name===a))}return t}function iIe(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=_t(e);let o=e[e.length-1];return o===void 0||Math.hypot(o[0]-t,o[1]-r)>i?[...e,[t,r]]:e}function oIe(e){return _t(e).reduce((t,r,i)=>{let[o,a]=r;return t+=i==0?`M ${o},${a} `:i===e.length-1?" Z":`L ${o},${a} `},"")}function aIe(e,t,r){let{x:i,y:o,mark:a}=r,s=new no().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[u,c]of t)u<s.x1&&(s.x1=u),u>s.x2&&(s.x2=u),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(i,o),fue([[s.x1,s.y1],[s.x2,s.y2]],e,a).filter(u=>sIe(u.x,u.y,t))}function sIe(e,t,r){let i=0;for(let o=0,a=r.length-1;o<r.length;a=o++){let[s,l]=r[a],[u,c]=r[o];c>t!=l>t&&e<(s-u)*(t-c)/(l-c)+u&&i++}return i&1}var o5={random(){return zs()},cumulativeNormal:c8,cumulativeLogNormal:Jw,cumulativeUniform:r_,densityNormal:Yw,densityLogNormal:Zw,densityUniform:n_,quantileNormal:f8,quantileLogNormal:e_,quantileUniform:i_,sampleNormal:u8,sampleLogNormal:Qw,sampleUniform:t_,isArray:Le,isBoolean:ul,isDate:fc,isDefined(e){return e!==void 0},isNumber:qn,isObject:yt,isRegExp:fw,isString:ht,isTuple:E1,isValid(e){return e!=null&&e===e},toBoolean:I4,toDate(e){return F4(e)},toNumber:mo,toString:P4,indexof:PNe,join:FNe,lastindexof:LNe,replace:$Ne,reverse:UNe,sort:zNe,slice:BNe,flush:yO,lerp:xO,merge:TNe,pad:SO,peek:jn,pluck:INe,span:Qd,inrange:Dp,truncate:CO,rgb:E7,lab:D7,hcl:uE,hsl:sE,luminance:eU,contrast:MNe,sequence:HC,format:lNe,utcFormat:uNe,utcParse:fNe,utcOffset:sN,utcSequence:uN,timeFormat:iue,timeParse:cNe,timeOffset:aN,timeSequence:lN,timeUnitSpecifier:ZO,monthFormat:dNe,monthAbbrevFormat:pNe,dayFormat:hNe,dayAbbrevFormat:mNe,quarter:hO,utcquarter:mO,week:tN,utcweek:rN,dayofyear:eN,utcdayofyear:nN,warn:ENe,info:DNe,debug:ANe,extent(e){return Bs(e)},inScope:CNe,intersect:fue,clampRange:gO,pinchDistance:ONe,pinchAngle:NNe,screen:eIe,containerSize:nIe,windowSize:tIe,bandspace:VNe,setdata:aNe,pathShape:QNe,panLinear:cO,panLog:fO,panPow:dO,panSymlog:pO,zoomLinear:M4,zoomLog:T4,zoomPow:Zg,zoomSymlog:R4,encode:sNe,modify:kNe,lassoAppend:iIe,lassoPath:oIe,intersectLasso:aIe},lIe=["view","item","group","xy","x","y"],uIe="event.vega.",due="this.",aU={},pue={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${gt(oue+e)}]`,functions:cIe,constants:E$,visitors:aU},tU=qC(pue);function cIe(e){let t=D$(e);lIe.forEach(r=>t[r]=uIe+r);for(let r in o5)t[r]=due+r;return Dn(t,bNe(e,o5,aU)),t}function oo(e,t,r){return arguments.length===1?o5[e]:(o5[e]=t,r&&(aU[e]=r),tU&&(tU.functions[e]=due+e),this)}oo("bandwidth",qNe,Ks);oo("copy",HNe,Ks);oo("domain",GNe,Ks);oo("range",WNe,Ks);oo("invert",jNe,Ks);oo("scale",YNe,Ks);oo("gradient",XNe,Ks);oo("geoArea",xNe,Ks);oo("geoBounds",wNe,Ks);oo("geoCentroid",_Ne,Ks);oo("geoShape",KNe,Ks);oo("geoScale",SNe,Ks);oo("indata",oNe,yNe);oo("data",rue,nU);oo("treePath",ZNe,nU);oo("treeAncestors",JNe,nU);oo("vlSelectionTest",Xle,hE);oo("vlSelectionIdTest",Qle,hE);oo("vlSelectionResolve",Jle,hE);oo("vlSelectionTuples",Zle);function kc(e,t){let r={},i;try{e=ht(e)?e:gt(e)+"",i=VC(e)}catch{Ke("Expression parse error: "+e)}i.visit(a=>{if(a.type!==w$)return;let s=a.callee.name,l=pue.visitors[s];l&&l(s,a.arguments,t,r)});let o=tU(i);return o.globals.forEach(a=>{let s=oue+a;!Dt(r,s)&&t.getSignal(a)&&(r[s]=t.signalRef(a))}),{$expr:Dn({code:o.code},t.options.ast?{ast:i}:null),$fields:o.fields,$params:r}}function fIe(e){let t=this,r=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),r.forEach(i=>t.parseOperator(i)),r.forEach(i=>t.parseOperatorParameters(i)),(e.streams||[]).forEach(i=>t.parseStream(i)),(e.updates||[]).forEach(i=>t.parseUpdate(i)),t.resolve()}var dIe=Eo(["rule"]),hue=Eo(["group","image","rect"]);function pIe(e,t){let r="";return dIe[t]||(e.x2&&(e.x?(hue[t]&&(r+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),r+="o.width=o.x2-o.x;"):r+="o.x=o.x2-(o.width||0);"),e.xc&&(r+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(hue[t]&&(r+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),r+="o.height=o.y2-o.y;"):r+="o.y=o.y2-(o.height||0);"),e.yc&&(r+="o.y=o.yc-(o.height||0)/2;")),r}function sU(e){return(e+"").toLowerCase()}function hIe(e){return sU(e)==="operator"}function mIe(e){return sU(e)==="collect"}function R7(e,t,r){r.endsWith(";")||(r="return("+r+");");let i=Function(...t.concat(r));return e&&e.functions?i.bind(e.functions):i}function gIe(e,t,r,i){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${r}
  : (u > v || v == null) && u != null ? ${i}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${r}
  : v !== v && u === u ? ${i} : `}var vIe={operator:(e,t)=>R7(e,["_"],t.code),parameter:(e,t)=>R7(e,["datum","_"],t.code),event:(e,t)=>R7(e,["event"],t.code),handler:(e,t)=>{let r=`var datum=event.item&&event.item.datum;return ${t.code};`;return R7(e,["_","event"],r)},encode:(e,t)=>{let{marktype:r,channels:i}=t,o="var o=item,datum=o.datum,m=0,$;";for(let a in i){let s="o["+gt(a)+"]";o+=`$=${i[a].code};if(${s}!==$)${s}=$,m=1;`}return o+=pIe(i,r),o+="return m;",R7(e,["item","_"],o)},codegen:{get(e){let t=`[${e.map(gt).join("][")}]`,r=Function("_",`return _${t};`);return r.path=t,r},comparator(e,t){let r,i=(a,s)=>{let l=t[s],u,c;return a.path?(u=`a${a.path}`,c=`b${a.path}`):((r=r||{})["f"+s]=a,u=`this.f${s}(a)`,c=`this.f${s}(b)`),gIe(u,c,-l,l)},o=Function("a","b","var u, v; return "+e.map(i).join("")+"0;");return r?o.bind(r):o}}};function yIe(e){let t=this;hIe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function bIe(e){let t=this;if(e.params){let r=t.get(e.id);r||Ke("Invalid operator id: "+e.id),t.dataflow.connect(r,r.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function xIe(e,t){t=t||{};let r=this;for(let i in e){let o=e[i];t[i]=Le(o)?o.map(a=>mue(a,r,t)):mue(o,r,t)}return t}function mue(e,t,r){if(!e||!yt(e))return e;for(let i=0,o=gue.length,a;i<o;++i)if(a=gue[i],Dt(e,a.key))return a.parse(e,t,r);return e}var gue=[{key:"$ref",parse:wIe},{key:"$key",parse:SIe},{key:"$expr",parse:_Ie},{key:"$field",parse:CIe},{key:"$encode",parse:DIe},{key:"$compare",parse:EIe},{key:"$context",parse:AIe},{key:"$subflow",parse:MIe},{key:"$tupleid",parse:TIe}];function wIe(e,t){return t.get(e.$ref)||Ke("Operator not defined: "+e.$ref)}function _Ie(e,t,r){e.$params&&t.parseParameters(e.$params,r);let i="e:"+e.$expr.code;return t.fn[i]||(t.fn[i]=es(t.parameterExpression(e.$expr),e.$fields))}function SIe(e,t){let r="k:"+e.$key+"_"+!!e.$flat;return t.fn[r]||(t.fn[r]=N4(e.$key,e.$flat,t.expr.codegen))}function CIe(e,t){if(!e.$field)return null;let r="f:"+e.$field+"_"+e.$name;return t.fn[r]||(t.fn[r]=aa(e.$field,e.$name,t.expr.codegen))}function EIe(e,t){let r="c:"+e.$compare+"_"+e.$order,i=_t(e.$compare).map(o=>o&&o.$tupleid?pn:o);return t.fn[r]||(t.fn[r]=k4(i,e.$order,t.expr.codegen))}function DIe(e,t){let r=e.$encode,i={};for(let o in r){let a=r[o];i[o]=es(t.encodeExpression(a.$expr),a.$fields),i[o].output=a.$output}return i}function AIe(e,t){return t}function MIe(e,t){let r=e.$subflow;return function(i,o,a){let s=t.fork().parse(r),l=s.get(r.operators[0].id),u=s.signals.parent;return u&&u.set(a),l.detachSubflow=()=>t.detach(s),l}}function TIe(){return pn}function RIe(e){var t=this,r=e.filter!=null?t.eventExpression(e.filter):void 0,i=e.stream!=null?t.get(e.stream):void 0,o;e.source?i=t.events(e.source,e.type,r):e.merge&&(o=e.merge.map(a=>t.get(a)),i=o[0].merge.apply(o[0],o.slice(1))),e.between&&(o=e.between.map(a=>t.get(a)),i=i.between(o[0],o[1])),e.filter&&(i=i.filter(r)),e.throttle!=null&&(i=i.throttle(+e.throttle)),e.debounce!=null&&(i=i.debounce(+e.debounce)),i==null&&Ke("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}function kIe(e){var t=this,r=yt(r=e.source)?r.$ref:r,i=t.get(r),o=null,a=e.update,s=void 0;i||Ke("Source not defined: "+e.source),o=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(s=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,i,o,a,s)}var OIe={skip:!0};function NIe(e){var t=this,r={};if(e.signals){var i=r.signals={};Object.keys(t.signals).forEach(a=>{let s=t.signals[a];e.signals(a,s)&&(i[a]=s.value)})}if(e.data){var o=r.data={};Object.keys(t.data).forEach(a=>{let s=t.data[a];e.data(a,s)&&(o[a]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(r.subcontext=t.subcontext.map(a=>a.getState(e))),r}function IIe(e){var t=this,r=t.dataflow,i=e.data,o=e.signals;Object.keys(o||{}).forEach(a=>{r.update(t.signals[a],o[a],OIe)}),Object.keys(i||{}).forEach(a=>{r.pulse(t.data[a].input,r.changeset().remove(qo).insert(i[a]))}),(e.subcontext||[]).forEach((a,s)=>{let l=t.subcontext[s];l&&l.setState(a)})}function yE(e,t,r,i){return new yue(e,t,r,i)}function yue(e,t,r,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||vIe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},r&&(this.functions=Object.create(r),this.functions.context=this)}function vue(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}yue.prototype=vue.prototype={fork(){let e=new vue(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(r=>r!==e);let t=Object.keys(e.nodes);for(let r of t)e.nodes[r]._targets=null;for(let r of t)e.nodes[r].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){let r=this,i=r.dataflow,o=e.value;if(r.set(e.id,t),mIe(e.type)&&o&&(o.$ingest?i.ingest(t,o.$ingest,o.$format):o.$request?i.preload(t,o.$request,o.$format):i.pulse(t,i.changeset().insert(o))),e.root&&(r.root=t),e.parent){let a=r.get(e.parent.$ref);a?(i.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push(()=>{a=r.get(e.parent.$ref),i.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(let a in e.data){let s=r.data[a]||(r.data[a]={});e.data[a].forEach(l=>s[l]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[sU(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,r,i,o){this.dataflow.on(t,r,i,o,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:fIe,parseOperator:yIe,parseOperatorParameters:bIe,parseParameters:xIe,parseStream:RIe,parseUpdate:kIe,getState:NIe,setState:IIe};var a5=0,O7=0,k7=0,xue=1e3,bE,N7,xE=0,vm=0,wE=0,I7=typeof performance=="object"&&performance.now?performance:Date,wue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _E(){return vm||(wue(FIe),vm=I7.now()+wE)}function FIe(){vm=0}function F7(){this._call=this._time=this._next=null}F7.prototype=PIe.prototype={constructor:F7,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?_E():+r)+(t==null?0:+t),!this._next&&N7!==this&&(N7?N7._next=this:bE=this,N7=this),this._call=e,this._time=r,lU()},stop:function(){this._call&&(this._call=null,this._time=1/0,lU())}};function PIe(e,t,r){var i=new F7;return i.restart(e,t,r),i}function LIe(){_E(),++a5;for(var e=bE,t;e;)(t=vm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--a5}function bue(){vm=(xE=I7.now())+wE,a5=O7=0;try{LIe()}finally{a5=0,$Ie(),vm=0}}function BIe(){var e=I7.now(),t=e-xE;t>xue&&(wE-=t,xE=e)}function $Ie(){for(var e,t=bE,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:bE=r);N7=e,lU(i)}function lU(e){if(!a5){O7&&(O7=clearTimeout(O7));var t=e-vm;t>24?(e<1/0&&(O7=setTimeout(bue,e-I7.now()-wE)),k7&&(k7=clearInterval(k7))):(k7||(xE=I7.now(),k7=setInterval(BIe,xue)),a5=1,wue(bue))}}function uU(e,t,r){var i=new F7,o=t;return t==null?(i.restart(e,t,r),i):(i._restart=i.restart,i.restart=function(a,s,l){s=+s,l=l==null?_E():+l,i._restart(function u(c){c+=o,i._restart(u,o+=s,l),a(c)},s,l)},i.restart(e,t,r),i)}function UIe(e){let t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Rue(t,e.description()))}function Rue(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function zIe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}var cU="default";function VIe(e){let t=e._signals.cursor||(e._signals.cursor=e.add({user:cU,item:null}));e.on(e.events("view","pointermove"),t,(r,i)=>{let o=t.value,a=o?ht(o)?o:o.user:cU,s=i.item&&i.item.cursor||null;return o&&a===o.user&&s==o.item?o:{user:a,item:s}}),e.add(null,function(r){let i=r.cursor,o=this.value;return ht(i)||(o=i.item,i=i.user),dU(e,i&&i!==cU?i:o||i),o},{cursor:t})}function dU(e,t){let r=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(r)return t==null?r.style.removeProperty("cursor"):r.style.cursor=t}function EE(e,t){var r=e._runtime.data;return Dt(r,t)||Ke("Unrecognized data set: "+t),r[t]}function qIe(e,t){return arguments.length<2?EE(this,e).values.value:AE.call(this,e,a0().remove(qo).insert(t))}function AE(e,t){CN(t)||Ke("Second argument to changes must be a changeset.");let r=EE(this,e);return r.modified=!0,this.pulse(r.input,t)}function HIe(e,t){return AE.call(this,e,a0().insert(t))}function GIe(e,t){return AE.call(this,e,a0().remove(t))}function kue(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Oue(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function ME(e){var t=e.padding(),r=e._origin;return[t.left+r[0],t.top+r[1]]}function jIe(e){var t=ME(e),r=kue(e),i=Oue(e);e._renderer.background(e.background()),e._renderer.resize(r,i,t),e._handler.origin(t),e._resizeListeners.forEach(o=>{try{o(r,i)}catch(a){e.error(a)}})}function WIe(e,t,r){var i=e._renderer,o=i&&i.canvas(),a,s,l;return o&&(l=ME(e),s=t.changedTouches?t.changedTouches[0]:t,a=b9(s,o),a[0]-=l[0],a[1]-=l[1]),t.dataflow=e,t.item=r,t.vega=YIe(e,r,a),t}function YIe(e,t,r){let i=t?t.mark.marktype==="group"?t:t.mark.group:null;function o(s){var l=i,u;if(s){for(u=t;u;u=u.mark.group)if(u.mark.name===s){l=u;break}}return l&&l.mark&&l.mark.interactive?l:{}}function a(s){if(!s)return r;ht(s)&&(s=o(s));let l=r.slice();for(;s;)l[0]-=s.x||0,l[1]-=s.y||0,s=s.mark&&s.mark.group;return l}return{view:Li(e),item:Li(t||{}),group:o,xy:a,x:s=>a(s)[0],y:s=>a(s)[1]}}var _ue="view",XIe="timer",KIe="window",QIe={trap:!1};function ZIe(e){let t=Dn({defaults:{}},e),r=(i,o)=>{o.forEach(a=>{Le(i[a])&&(i[a]=Eo(i[a]))})};return r(t.defaults,["prevent","allow"]),r(t,["view","window","selector"]),t}function Nue(e,t,r,i){e._eventListeners.push({type:r,sources:_t(t),handler:i})}function JIe(e,t){var r=e._eventConfig.defaults,i=r.prevent,o=r.allow;return i===!1||o===!0?!1:i===!0||o===!1?!0:i?i[t]:o?!o[t]:e.preventDefault()}function SE(e,t,r){let i=e._eventConfig&&e._eventConfig[t];return i===!1||yt(i)&&!i[r]?(e.warn(`Blocked ${t} ${r} event listener.`),!1):!0}function eFe(e,t,r){var i=this,o=new s2(r),a=function(c,f){i.runAsync(null,()=>{e===_ue&&JIe(i,t)&&c.preventDefault(),o.receive(WIe(i,c,f))})},s;if(e===XIe)SE(i,"timer",t)&&i.timer(a,t);else if(e===_ue)SE(i,"view",t)&&i.addEventListener(t,a,QIe);else if(e===KIe?SE(i,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&SE(i,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)i.warn("Can not resolve event source: "+e);else{for(var l=0,u=s.length;l<u;++l)s[l].addEventListener(t,a);Nue(i,s,t,a)}return o}function Sue(e){return e.item}function Cue(e){return e.item.mark.source}function Eue(e){return function(t,r){return r.vega.view().changeset().encode(r.item,e)}}function tFe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Sue),Cue,Eue(e)),this.on(this.events("view","pointerout",Sue),Cue,Eue(t)),this}function nFe(){var e=this._tooltip,t=this._timers,r=this._handler.handlers(),i=this._eventListeners,o,a,s,l,u;for(o=t.length;--o>=0;)t[o].stop();for(o=i.length;--o>=0;)for(s=i[o],a=s.sources.length;--a>=0;)s.sources[a].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),o=r.length;--o>=0;)u=r[o].type,l=r[o].handler,this._handler.off(u,l);return this}function Ql(e,t,r){let i=document.createElement(e);for(let o in t)i.setAttribute(o,t[o]);return r!=null&&(i.textContent=r),i}var rFe="vega-bind",iFe="vega-bind-name",oFe="vega-bind-radio";function aFe(e,t,r){if(!t)return;let i=r.param,o=r.state;return o||(o=r.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(i.signal)&&e.runAsync(null,()=>{o.source=!0,e.signal(i.signal,s)})}},i.debounce&&(o.update=O4(i.debounce,o.update))),(i.input==null&&i.element?sFe:uFe)(o,t,i,e),o.active||(e.on(e._signals[i.signal],null,()=>{o.source?o.source=!1:o.set(e.signal(i.signal))}),o.active=!0),o}function sFe(e,t,r,i){let o=r.event||"input",a=()=>e.update(t.value);i.signal(r.signal,t.value),t.addEventListener(o,a),Nue(i,t,o,a),e.set=s=>{t.value=s,t.dispatchEvent(lFe(o))}}function lFe(e){return typeof Event<"u"?new Event(e):{type:e}}function uFe(e,t,r,i){let o=i.signal(r.signal),a=Ql("div",{class:rFe}),s=r.input==="radio"?a:a.appendChild(Ql("label"));s.appendChild(Ql("span",{class:iFe},r.name||r.signal)),t.appendChild(a);let l=cFe;switch(r.input){case"checkbox":l=fFe;break;case"select":l=dFe;break;case"radio":l=pFe;break;case"range":l=hFe;break}l(e,s,r,o)}function cFe(e,t,r,i){let o=Ql("input");for(let a in r)a!=="signal"&&a!=="element"&&o.setAttribute(a==="input"?"type":a,r[a]);o.setAttribute("name",r.signal),o.value=i,t.appendChild(o),o.addEventListener("input",()=>e.update(o.value)),e.elements=[o],e.set=a=>o.value=a}function fFe(e,t,r,i){let o={type:"checkbox",name:r.signal};i&&(o.checked=!0);let a=Ql("input",o);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=s=>a.checked=!!s||null}function dFe(e,t,r,i){let o=Ql("select",{name:r.signal}),a=r.labels||[];r.options.forEach((s,l)=>{let u={value:s};DE(s,i)&&(u.selected=!0),o.appendChild(Ql("option",u,(a[l]||s)+""))}),t.appendChild(o),o.addEventListener("change",()=>{e.update(r.options[o.selectedIndex])}),e.elements=[o],e.set=s=>{for(let l=0,u=r.options.length;l<u;++l)if(DE(r.options[l],s)){o.selectedIndex=l;return}}}function pFe(e,t,r,i){let o=Ql("span",{class:oFe}),a=r.labels||[];t.appendChild(o),e.elements=r.options.map((s,l)=>{let u={type:"radio",name:r.signal,value:s};DE(s,i)&&(u.checked=!0);let c=Ql("input",u);c.addEventListener("change",()=>e.update(s));let f=Ql("label",{},(a[l]||s)+"");return f.prepend(c),o.appendChild(f),c}),e.set=s=>{let l=e.elements,u=l.length;for(let c=0;c<u;++c)DE(l[c].value,s)&&(l[c].checked=!0)}}function hFe(e,t,r,i){i=i!==void 0?i:(+r.max+ +r.min)/2;let o=r.max!=null?r.max:Math.max(100,+i)||100,a=r.min||Math.min(0,o,+i)||0,s=r.step||m$(a,o,100),l=Ql("input",{type:"range",name:r.signal,min:a,max:o,step:s});l.value=i;let u=Ql("span",{},+i);t.appendChild(l),t.appendChild(u);let c=()=>{u.textContent=l.value,e.update(+l.value)};l.addEventListener("input",c),l.addEventListener("change",c),e.elements=[l],e.set=f=>{l.value=f,u.textContent=f}}function DE(e,t){return e===t||e+""==t+""}function Iue(e,t,r,i,o,a){return t=t||new i(e.loader()),t.initialize(r,kue(e),Oue(e),ME(e),o,a).background(e.background())}function pU(e,t){return t?function(){try{t.apply(this,arguments)}catch(r){e.error(r)}}:null}function mFe(e,t,r,i){let o=new i(e.loader(),pU(e,e.tooltip())).scene(e.scenegraph().root).initialize(r,ME(e),e);return t&&t.handlers().forEach(a=>{o.on(a.type,a.handler)}),o}function gFe(e,t){let r=this,i=r._renderType,o=r._eventConfig.bind,a=x9(i);e=r._el=e?fU(r,e,!0):null,UIe(r),a||r.error("Unrecognized renderer type: "+i);let s=a.handler||Xp,l=e?a.renderer:a.headless;return r._renderer=l?Iue(r,r._renderer,e,l):null,r._handler=mFe(r,r._handler,e,s),r._redraw=!0,e&&o!=="none"&&(t=t?r._elBind=fU(r,t,!0):e.appendChild(Ql("form",{class:"vega-bindings"})),r._bind.forEach(u=>{u.param.element&&o!=="container"&&(u.element=fU(r,u.param.element,!!u.param.input))}),r._bind.forEach(u=>{aFe(r,u.element||t,u)})),r}function fU(e,t,r){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&r)try{t.textContent=""}catch(i){t=null,e.error(i)}return t}var P7=e=>+e||0,vFe=e=>({top:e,bottom:e,left:e,right:e});function Due(e){return yt(e)?{top:P7(e.top),bottom:P7(e.bottom),left:P7(e.left),right:P7(e.right)}:vFe(P7(e))}function hU(e,t,r,i){return Oi(this,null,function*(){let o=x9(t),a=o&&o.headless;return a||Ke("Unrecognized renderer type: "+t),yield e.runAsync(),Iue(e,null,null,a,r,i).renderAsync(e._scenegraph.root)})}function yFe(e,t){return Oi(this,null,function*(){e!==f0.Canvas&&e!==f0.SVG&&e!==f0.PNG&&Ke("Unrecognized image type: "+e);let r=yield hU(this,e,t);return e===f0.SVG?bFe(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png")})}function bFe(e,t){let r=new Blob([e],{type:t});return window.URL.createObjectURL(r)}function xFe(e,t){return Oi(this,null,function*(){return(yield hU(this,f0.Canvas,e,t)).canvas()})}function wFe(e){return Oi(this,null,function*(){return(yield hU(this,f0.SVG,e)).svg()})}function _Fe(e,t,r){return yE(e,o0,o5,r).parse(t)}function SFe(e){var t=this._runtime.scales;return Dt(t,e)||Ke("Unrecognized scale or projection: "+e),t[e].value}var Fue="width",Pue="height",mU="padding",Aue={skip:!0};function Lue(e,t){var r=e.autosize(),i=e.padding();return t-(r&&r.contains===mU?i.left+i.right:0)}function Bue(e,t){var r=e.autosize(),i=e.padding();return t-(r&&r.contains===mU?i.top+i.bottom:0)}function CFe(e){var t=e._signals,r=t[Fue],i=t[Pue],o=t[mU];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,l=>{e._width=l.size,e._viewWidth=Lue(e,l.size),a()},{size:r}),e._resizeHeight=e.add(null,l=>{e._height=l.size,e._viewHeight=Bue(e,l.size),a()},{size:i});let s=e.add(null,a,{pad:o});e._resizeWidth.rank=r.rank+1,e._resizeHeight.rank=i.rank+1,s.rank=o.rank+1}function EFe(e,t,r,i,o,a){this.runAfter(s=>{let l=0;s._autosize=0,s.width()!==r&&(l=1,s.signal(Fue,r,Aue),s._resizeWidth.skip(!0)),s.height()!==i&&(l=1,s.signal(Pue,i,Aue),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==o[0]||s._origin[1]!==o[1])&&(s._resize=1,s._origin=o),l&&s.run("enter"),a&&s.runAfter(u=>u.resize())},!1,1)}function DFe(e){return this._runtime.getState(e||{data:AFe,signals:MFe,recurse:!0})}function AFe(e,t){return t.modified&&Le(t.input.value)&&!e.startsWith("_:vega:_")}function MFe(e,t){return!(e==="parent"||t instanceof o0.proxy)}function TFe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function RFe(e,t){function r(i){e({timestamp:Date.now(),elapsed:i})}this._timers.push(uU(r,t))}function kFe(e,t,r,i){let o=e.element();o&&o.setAttribute("title",OFe(i))}function OFe(e){return e==null?"":Le(e)?$ue(e):yt(e)&&!fc(e)?NFe(e):e+""}function NFe(e){return Object.keys(e).map(t=>{let r=e[t];return t+": "+(Le(r)?$ue(r):Uue(r))}).join(`
`)}function $ue(e){return"["+e.map(Uue).join(", ")+"]"}function Uue(e){return Le(e)?"[\u2026]":yt(e)&&!fc(e)?"{\u2026}":e}function IFe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null,t=()=>{e?.();let r=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);r.addEventListener("change",t),e=()=>{r.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function gU(e,t){let r=this;if(t=t||{},Tp.call(r),t.loader&&r.loader(t.loader),t.logger&&r.logger(t.logger),t.logLevel!=null&&r.logLevel(t.logLevel),t.locale||e.locale){let a=Dn({},e.locale,t.locale);r.locale(Tw(a.number,a.time))}r._el=null,r._elBind=null,r._renderType=t.renderer||f0.Canvas,r._scenegraph=new a9;let i=r._scenegraph.root;r._renderer=null,r._tooltip=t.tooltip||kFe,r._redraw=!0,r._handler=new Xp().scene(i),r._globalCursor=!1,r._preventDefault=!1,r._timers=[],r._eventListeners=[],r._resizeListeners=[],r._eventConfig=ZIe(e.eventConfig),r.globalCursor(r._eventConfig.globalCursor);let o=_Fe(r,e,t.expr);r._runtime=o,r._signals=o.signals,r._bind=(e.bindings||[]).map(a=>({state:null,param:Dn({},a)})),o.root&&o.root.set(i),i.source=o.data.root.input,r.pulse(o.data.root.input,r.changeset().insert(i.items)),r._width=r.width(),r._height=r.height(),r._viewWidth=Lue(r,r._width),r._viewHeight=Bue(r,r._height),r._origin=[0,0],r._resize=0,r._autosize=1,CFe(r),zIe(r),VIe(r),r.description(e.description),t.hover&&r.hover(),t.container&&r.initialize(t.container,t.bind),t.watchPixelRatio&&r._watchPixelRatio()}function CE(e,t){return Dt(e._signals,t)?e._signals[t]:Ke("Unrecognized signal name: "+gt(t))}function zue(e,t){let r=(e._targets||[]).filter(i=>i._update&&i._update.handler===t);return r.length?r[0]:null}function Mue(e,t,r,i){let o=zue(r,i);return o||(o=pU(e,()=>i(t,r.value)),o.handler=i,e.on(r,null,o)),e}function Tue(e,t,r){let i=zue(t,r);return i&&t._targets.remove(i),e}Et(gU,Tp,{evaluate(e,t,r){return Oi(this,null,function*(){if(yield Tp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,jIe(this)),yield this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(i){this.error(i)}return r&&o8(this,r),this})},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){let t=e!=null?e+"":null;return t!==this._desc&&Rue(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,r){let i=CE(this,e);return arguments.length===1?i.value:this.update(i,t,r)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Due(e)):Due(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(x9(e)||Ke("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Tp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(CE(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:EFe,addEventListener(e,t,r){let i=t;return r&&r.trap===!1||(i=pU(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var r=this._handler.handlers(e),i=r.length,o,a;--i>=0;)if(a=r[i].type,o=r[i].handler,e===a&&(t===o||t===o.raw)){this._handler.off(a,o);break}return this},addResizeListener(e){let t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,r=t.indexOf(e);return r>=0&&t.splice(r,1),this},addSignalListener(e,t){return Mue(this,e,CE(this,e),t)},removeSignalListener(e,t){return Tue(this,CE(this,e),t)},addDataListener(e,t){return Mue(this,e,EE(this,e).values,t)},removeDataListener(e,t){return Tue(this,EE(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){let t=dU(this,null);this._globalCursor=!!e,t&&dU(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:RFe,events:eFe,finalize:nFe,hover:tFe,data:qIe,change:AE,insert:HIe,remove:GIe,scale:SFe,initialize:gFe,toImageURL:yFe,toCanvas:xFe,toSVG:wFe,getState:DFe,setState:TFe,_watchPixelRatio:IFe});var FFe="view",TE="[",RE="]",Vue="{",que="}",PFe=":",Hue=",",LFe="@",BFe=">",$Fe=/[[\]{}]/,UFe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Gue,jue;function ss(e,t,r){return Gue=t||FFe,jue=r||UFe,Wue(e.trim()).map(vU)}function zFe(e){return jue[e]}function L7(e,t,r,i,o){let a=e.length,s=0,l;for(;t<a;++t){if(l=e[t],!s&&l===r)return t;o&&o.indexOf(l)>=0?--s:i&&i.indexOf(l)>=0&&++s}return t}function Wue(e){let t=[],r=e.length,i=0,o=0;for(;o<r;)o=L7(e,o,Hue,TE+Vue,RE+que),t.push(e.substring(i,o).trim()),i=++o;if(t.length===0)throw"Empty event selector: "+e;return t}function vU(e){return e[0]==="["?VFe(e):qFe(e)}function VFe(e){let t=e.length,r=1,i;if(r=L7(e,r,RE,TE,RE),r===t)throw"Empty between selector: "+e;if(i=Wue(e.substring(1,r)),i.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(r+1).trim(),e[0]!==BFe)throw"Expected '>' after between selector: "+e;i=i.map(vU);let o=vU(e.slice(1).trim());return o.between?{between:i,stream:o}:(o.between=i,o)}function qFe(e){let t={source:Gue},r=[],i=[0,0],o=0,a=0,s=e.length,l=0,u,c;if(e[s-1]===que){if(l=e.lastIndexOf(Vue),l>=0){try{i=HFe(e.substring(l+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,l).trim(),s=e.length}else throw"Unmatched right brace: "+e;l=0}if(!s)throw e;if(e[0]===LFe&&(o=++l),u=L7(e,l,PFe),u<s&&(r.push(e.substring(a,u).trim()),a=l=++u),l=L7(e,l,TE),l===s)r.push(e.substring(a,s).trim());else if(r.push(e.substring(a,l).trim()),c=[],a=++l,a===s)throw"Unmatched left bracket: "+e;for(;l<s;){if(l=L7(e,l,RE),l===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(a,l).trim()),l<s-1&&e[++l]!==TE)throw"Expected left bracket: "+e;a=++l}if(!(s=r.length)||$Fe.test(r[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=r[1],o?t.markname=r[0].slice(1):zFe(r[0])?t.marktype=r[0]:t.source=r[0]):t.type=r[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),i[0]&&(t.throttle=i[0]),i[1]&&(t.debounce=i[1]),t}function HFe(e){let t=e.split(Hue);if(!e.length||t.length>2)throw e;return t.map(r=>{let i=+r;if(i!==i)throw e;return i})}function GFe(e){return yt(e)?e:{type:e||"pad"}}var B7=e=>+e||0,jFe=e=>({top:e,bottom:e,left:e,right:e});function WFe(e){return yt(e)?e.signal?e:{top:B7(e.top),bottom:B7(e.bottom),left:B7(e.left),right:B7(e.right)}:jFe(B7(e))}var ma=e=>yt(e)&&!Le(e)?Dn({},e):{value:e};function Yue(e,t,r,i){return r!=null?(yt(r)&&!Le(r)||Le(r)&&r.length&&yt(r[0])?e.update[t]=r:e[i||"enter"][t]={value:r},1):0}function za(e,t,r){for(let i in t)Yue(e,i,t[i]);for(let i in r)Yue(e,i,r[i],"update")}function d5(e,t,r){for(let i in t)r&&Dt(r,i)||(e[i]=Dn(e[i]||{},t[i]));return e}function l5(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var MU="mark",TU="frame",RU="scope",YFe="axis",XFe="axis-domain",KFe="axis-grid",QFe="axis-label",ZFe="axis-tick",JFe="axis-title",ePe="legend",tPe="legend-band",nPe="legend-entry",rPe="legend-gradient",pce="legend-label",iPe="legend-symbol",oPe="legend-title",aPe="title",sPe="title-text",lPe="title-subtitle";function uPe(e,t,r,i,o){let a={},s={},l,u,c,f;u="lineBreak",t==="text"&&o[u]!=null&&!l5(u,e)&&yU(a,u,o[u]),(r=="legend"||String(r).startsWith("axis"))&&(r=null),f=r===TU?o.group:r===MU?Dn({},o.mark,o[t]):null;for(u in f)c=l5(u,e)||(u==="fill"||u==="stroke")&&(l5("fill",e)||l5("stroke",e)),c||yU(a,u,f[u]);_t(i).forEach(d=>{let p=o.style&&o.style[d];for(let m in p)l5(m,e)||yU(a,m,p[m])}),e=Dn({},e);for(u in a)f=a[u],f.signal?(l=l||{})[u]=f:s[u]=f;return e.enter=Dn(s,e.enter),l&&(e.update=Dn(l,e.update)),e}function yU(e,t,r){e[t]=r&&r.signal?{signal:r.signal}:{value:r}}var hce=e=>ht(e)?gt(e):e.signal?`(${e.signal})`:mce(e);function BE(e){if(e.gradient!=null)return fPe(e);let t=e.signal?`(${e.signal})`:e.color?cPe(e.color):e.field!=null?mce(e.field):e.value!==void 0?gt(e.value):void 0;return e.scale!=null&&(t=dPe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${OE(e.exponent)})`),e.mult!=null&&(t+=`*${OE(e.mult)}`),e.offset!=null&&(t+=`+${OE(e.offset)}`),e.round&&(t=`round(${t})`),t}var kE=(e,t,r,i)=>`(${e}(${[t,r,i].map(BE).join(",")})+'')`;function cPe(e){return e.c?kE("hcl",e.h,e.c,e.l):e.h||e.s?kE("hsl",e.h,e.s,e.l):e.l||e.a?kE("lab",e.l,e.a,e.b):e.r||e.g||e.b?kE("rgb",e.r,e.g,e.b):null}function fPe(e){let t=[e.start,e.stop,e.count].map(r=>r==null?null:gt(r));for(;t.length&&jn(t)==null;)t.pop();return t.unshift(hce(e.gradient)),`gradient(${t.join(",")})`}function OE(e){return yt(e)?"("+BE(e)+")":e}function mce(e){return gce(yt(e)?e:{datum:e})}function gce(e){let t,r,i;if(e.signal)t="datum",i=e.signal;else if(e.group||e.parent){for(r=Math.max(1,e.level||1),t="item";r-- >0;)t+=".mark.group";e.parent?(i=e.parent,t+=".datum"):i=e.group}else e.datum?(t="datum",i=e.datum):Ke("Invalid field reference: "+gt(e));return e.signal||(i=ht(i)?yu(i).map(gt).join("]["):gce(i)),t+"["+i+"]"}function dPe(e,t){let r=hce(e.scale);return e.range!=null?t=`lerp(_range(${r}), ${+e.range})`:(t!==void 0&&(t=`_scale(${r}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${r})`+(+e.band==1?"":"*"+OE(e.band)),e.extra&&(t=`(datum.extra ? _scale(${r}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function pPe(e){let t="";return e.forEach(r=>{let i=BE(r);t+=r.test?`(${r.test})?${i}:`:i}),jn(t)===":"&&(t+="null"),t}function vce(e,t,r,i,o,a){let s={};a=a||{},a.encoders={$encode:s},e=uPe(e,t,r,i,o.config);for(let l in e)s[l]=hPe(e[l],t,a,o);return a}function hPe(e,t,r,i){let o={},a={};for(let s in e)e[s]!=null&&(o[s]=gPe(mPe(e[s]),i,r,a));return{$expr:{marktype:t,channels:o},$fields:Object.keys(a),$output:Object.keys(e)}}function mPe(e){return Le(e)?pPe(e):BE(e)}function gPe(e,t,r,i){let o=kc(e,t);return o.$fields.forEach(a=>i[a]=1),Dn(r,o.$params),o.$expr}var vPe="outer",yPe=["value","update","init","react","bind"];function Xue(e,t){Ke(e+' for "outer" push: '+gt(t))}function yce(e,t){let r=e.name;if(e.push===vPe)t.signals[r]||Xue("No prior signal definition",r),yPe.forEach(i=>{e[i]!==void 0&&Xue("Invalid property ",i)});else{let i=t.addSignal(r,e.value);e.react===!1&&(i.react=!1),e.bind&&t.addBinding(r,e.bind)}}function wU(e,t,r,i){this.id=-1,this.type=e,this.value=t,this.params=r,i&&(this.parent=i)}function $E(e,t,r,i){return new wU(e,t,r,i)}function LE(e,t){return $E("operator",e,t)}function wn(e){let t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function z7(e,t){return t?{$field:e,$name:t}:{$field:e}}var _U=z7("key");function Kue(e,t){return{$compare:e,$order:t}}function bPe(e,t){let r={$key:e};return t&&(r.$flat=!0),r}var xPe="ascending",wPe="descending";function _Pe(e){return yt(e)?(e.order===wPe?"-":"+")+UE(e.op,e.field):""}function UE(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var kU="scope",SU="view";function Xo(e){return e&&e.signal}function SPe(e){return e&&e.expr}function NE(e){if(Xo(e))return!0;if(yt(e)){for(let t in e)if(NE(e[t]))return!0}return!1}function Oc(e,t){return e??t}function bm(e){return e&&e.signal||e}var Que="timer";function V7(e,t){return(e.merge?EPe:e.stream?DPe:e.type?APe:Ke("Invalid stream specification: "+gt(e)))(e,t)}function CPe(e){return e===kU?SU:e||SU}function EPe(e,t){let r=e.merge.map(o=>V7(o,t)),i=OU({merge:r},e,t);return t.addStream(i).id}function DPe(e,t){let r=V7(e.stream,t),i=OU({stream:r},e,t);return t.addStream(i).id}function APe(e,t){let r;e.type===Que?(r=t.event(Que,e.throttle),e={between:e.between,filter:e.filter}):r=t.event(CPe(e.source),e.type);let i=OU({stream:r},e,t);return Object.keys(i).length===1?r:t.addStream(i).id}function OU(e,t,r){let i=t.between;return i&&(i.length!==2&&Ke('Stream "between" parameter must have 2 entries: '+gt(t)),e.between=[V7(i[0],r),V7(i[1],r)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(MPe(t.marktype,t.markname,t.markrole)),t.source===kU&&i.push("inScope(event.item)"),i.length&&(e.filter=kc("("+i.join(")&&(")+")",r).$expr),(i=t.throttle)!=null&&(e.throttle=+i),(i=t.debounce)!=null&&(e.debounce=+i),t.consume&&(e.consume=!0),e}function MPe(e,t,r){let i="event.item";return i+(e&&e!=="*"?"&&"+i+".mark.marktype==='"+e+"'":"")+(r?"&&"+i+".mark.role==='"+r+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}var TPe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function RPe(e,t,r){let i=e.encode,o={target:r},a=e.events,s=e.update,l=[];a||Ke("Signal update missing events specification."),ht(a)&&(a=ss(a,t.isSubscope()?kU:SU)),a=_t(a).filter(u=>u.signal||u.scale?(l.push(u),0):1),l.length>1&&(l=[OPe(l)]),a.length&&l.push(a.length>1?{merge:a}:a[0]),i!=null&&(s&&Ke("Signal encode and update are mutually exclusive."),s="encode(item(),"+gt(i)+")"),o.update=ht(s)?kc(s,t):s.expr!=null?kc(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:TPe,$params:{$value:t.signalRef(s.signal)}}:Ke("Invalid signal update specification."),e.force&&(o.options={force:!0}),l.forEach(u=>t.addUpdate(Dn(kPe(u,t),o)))}function kPe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):V7(e,t)}}function OPe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function NPe(e,t){let r=t.getSignal(e.name),i=e.update;e.init&&(i?Ke("Signals can not include both init and update expressions."):(i=e.init,r.initonly=!0)),i&&(i=kc(i,t),r.update=i.$expr,r.params=i.$params),e.on&&e.on.forEach(o=>RPe(o,t,r.id))}var yi=e=>(t,r,i)=>$E(e,r,t||void 0,i),bce=yi("aggregate"),IPe=yi("axisticks"),xce=yi("bound"),Ic=yi("collect"),Zue=yi("compare"),FPe=yi("datajoin"),wce=yi("encode"),PPe=yi("expression"),LPe=yi("facet"),BPe=yi("field"),$Pe=yi("key"),UPe=yi("legendentries"),zPe=yi("load"),VPe=yi("mark"),qPe=yi("multiextent"),HPe=yi("multivalues"),GPe=yi("overlap"),jPe=yi("params"),_ce=yi("prefacet"),WPe=yi("projection"),YPe=yi("proxy"),XPe=yi("relay"),Sce=yi("render"),KPe=yi("scale"),wm=yi("sieve"),QPe=yi("sortitems"),Cce=yi("viewlayout"),ZPe=yi("values"),JPe=0,Ece={min:"min",max:"max",count:"sum"};function eLe(e,t){let r=e.type||"linear";xF(r)||Ke("Unrecognized scale type: "+gt(r)),t.addScale(e.name,{type:r,domain:void 0})}function tLe(e,t){let r=t.getScale(e.name).params,i;r.domain=Dce(e.domain,e,t),e.range!=null&&(r.range=Mce(e,t,r)),e.interpolate!=null&&fLe(e.interpolate,r),e.nice!=null&&(r.nice=cLe(e.nice,t)),e.bins!=null&&(r.bins=uLe(e.bins,t));for(i in e)Dt(r,i)||i==="name"||(r[i]=Du(e[i],t))}function Du(e,t){return yt(e)?e.signal?t.signalRef(e.signal):Ke("Unsupported object: "+gt(e)):e}function IE(e,t){return e.signal?t.signalRef(e.signal):e.map(r=>Du(r,t))}function zE(e){Ke("Can not find data set: "+gt(e))}function Dce(e,t,r){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ke("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?r.signalRef(e.signal):(Le(e)?nLe:e.fields?iLe:rLe)(e,t,r)}function nLe(e,t,r){return e.map(i=>Du(i,r))}function rLe(e,t,r){let i=r.getData(e.data);return i||zE(e.data),Up(t.type)?i.valuesRef(r,e.field,Ace(e.sort,!1)):SF(t.type)?i.domainRef(r,e.field):i.extentRef(r,e.field)}function iLe(e,t,r){let i=e.data,o=e.fields.reduce((a,s)=>(s=ht(s)?{data:i,field:s}:Le(s)||s.signal?oLe(s,r):s,a.push(s),a),[]);return(Up(t.type)?aLe:SF(t.type)?sLe:lLe)(e,r,o)}function oLe(e,t){let r="_:vega:_"+JPe++,i=Ic({});if(Le(e))i.value={$ingest:e};else if(e.signal){let o="setdata("+gt(r)+","+e.signal+")";i.params.input=t.signalRef(o)}return t.addDataPipeline(r,[i,wm({})]),{data:r,field:"data"}}function aLe(e,t,r){let i=Ace(e.sort,!0),o,a,s=r.map(c=>{let f=t.getData(c.data);return f||zE(c.data),f.countsRef(t,c.field,i)}),l={groupby:_U,pulse:s};i&&(o=i.op||"count",a=i.field?UE(o,i.field):"count",l.ops=[Ece[o]],l.fields=[t.fieldRef(a)],l.as=[a]),o=t.add(bce(l));let u=t.add(Ic({pulse:wn(o)}));return a=t.add(ZPe({field:_U,sort:t.sortRef(i),pulse:wn(u)})),wn(a)}function Ace(e,t){return e&&(!e.field&&!e.op?yt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ke("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Ece[e.op]&&Ke("Multiple domain scales can not be sorted using "+e.op)),e}function sLe(e,t,r){let i=r.map(o=>{let a=t.getData(o.data);return a||zE(o.data),a.domainRef(t,o.field)});return wn(t.add(HPe({values:i})))}function lLe(e,t,r){let i=r.map(o=>{let a=t.getData(o.data);return a||zE(o.data),a.extentRef(t,o.field)});return wn(t.add(qPe({extents:i})))}function uLe(e,t){return e.signal||Le(e)?IE(e,t):t.objectProperty(e)}function cLe(e,t){return e.signal?t.signalRef(e.signal):yt(e)?{interval:Du(e.interval),step:Du(e.step)}:Du(e)}function fLe(e,t){t.interpolate=Du(e.type||e),e.gamma!=null&&(t.interpolateGamma=Du(e.gamma))}function Mce(e,t,r){let i=t.config.range,o=e.range;if(o.signal)return t.signalRef(o.signal);if(ht(o)){if(i&&Dt(i,o))return e=Dn({},e,{range:i[o]}),Mce(e,t,r);o==="width"?o=[0,{signal:"width"}]:o==="height"?o=Up(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ke("Unrecognized scale range value: "+gt(o))}else if(o.scheme){r.scheme=Le(o.scheme)?IE(o.scheme,t):Du(o.scheme,t),o.extent&&(r.schemeExtent=IE(o.extent,t)),o.count&&(r.schemeCount=Du(o.count,t));return}else if(o.step){r.rangeStep=Du(o.step,t);return}else{if(Up(e.type)&&!Le(o))return Dce(o,e,t);Le(o)||Ke("Unsupported range type: "+gt(o))}return o.map(a=>(Le(a)?IE:Du)(a,t))}function dLe(e,t){let r=t.config.projection||{},i={};for(let o in e)o!=="name"&&(i[o]=CU(e[o],o,t));for(let o in r)i[o]==null&&(i[o]=CU(r[o],o,t));t.addProjection(e.name,i)}function CU(e,t,r){return Le(e)?e.map(i=>CU(i,t,r)):yt(e)?e.signal?r.signalRef(e.signal):t==="fit"?e:Ke("Unsupported parameter object: "+gt(e)):e}var Fc="top",p5="left",h5="right",fh="bottom",Tce="center",pLe="vertical",hLe="start",mLe="middle",gLe="end",EU="index",NU="label",vLe="offset",f5="perc",yLe="perc2",Au="value",H7="guide-label",IU="guide-title",bLe="group-title",xLe="group-subtitle",Jue="symbol",FE="gradient",DU="discrete",AU="size",wLe="shape",_Le="fill",SLe="stroke",CLe="strokeWidth",ELe="strokeDash",DLe="opacity",FU=[AU,wLe,_Le,SLe,CLe,ELe,DLe],G7={name:1,style:1,interactive:1},Pr={value:0},Mu={value:1},VE="group",Rce="rect",PU="rule",ALe="symbol",_m="text";function q7(e){return e.type=VE,e.interactive=e.interactive||!1,e}function xl(e,t){let r=(i,o)=>Oc(e[i],Oc(t[i],o));return r.isVertical=i=>pLe===Oc(e.direction,t.direction||(i?t.symbolDirection:t.gradientDirection)),r.gradientLength=()=>Oc(e.gradientLength,t.gradientLength||t.gradientWidth),r.gradientThickness=()=>Oc(e.gradientThickness,t.gradientThickness||t.gradientHeight),r.entryColumns=()=>Oc(e.columns,Oc(t.columns,+r.isVertical(!0))),r}function kce(e,t){let r=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return r&&r.signal?r:r?r.value:null}function MLe(e,t,r){let i=t.config.style[r];return i&&i[e]}function qE(e,t,r){return`item.anchor === '${hLe}' ? ${e} : item.anchor === '${gLe}' ? ${t} : ${r}`}var LU=qE(gt(p5),gt(h5),gt(Tce));function TLe(e){let t=e("tickBand"),r=e("tickOffset"),i,o;return t?t.signal?(i={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},o={signal:`(${t.signal}) === 'extent'`},yt(r)||(r={signal:`(${t.signal}) === 'extent' ? 0 : ${r}`})):t==="extent"?(i=1,o=!0,r=0):(i=.5,o=!1):(i=e("bandPosition"),o=e("tickExtra")),{extra:o,band:i,offset:r}}function Oce(e,t){return t?e?yt(e)?Object.assign({},e,{offset:Oce(e.offset,t)}):{value:e,offset:t}:t:e}function Zl(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=d5(e.encode,t,G7)):e.interactive=!1,e}function RLe(e,t,r,i){let o=xl(e,r),a=o.isVertical(),s=o.gradientThickness(),l=o.gradientLength(),u,c,f,d,p;a?(c=[0,1],f=[0,0],d=s,p=l):(c=[0,0],f=[1,0],d=l,p=s);let m={enter:u={opacity:Pr,x:Pr,y:Pr,width:ma(d),height:ma(p)},update:Dn({},u,{opacity:Mu,fill:{gradient:t,start:c,stop:f}}),exit:{opacity:Pr}};return za(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Zl({type:Rce,role:rPe,encode:m},i)}function kLe(e,t,r,i,o){let a=xl(e,r),s=a.isVertical(),l=a.gradientThickness(),u=a.gradientLength(),c,f,d,p,m="";s?(c="y",d="y2",f="x",p="width",m="1-"):(c="x",d="x2",f="y",p="height");let g={opacity:Pr,fill:{scale:t,field:Au}};g[c]={signal:m+"datum."+f5,mult:u},g[f]=Pr,g[d]={signal:m+"datum."+yLe,mult:u},g[p]=ma(l);let v={enter:g,update:Dn({},g,{opacity:Mu}),exit:{opacity:Pr}};return za(v,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),Zl({type:Rce,role:tPe,key:Au,from:o,encode:v},i)}var OLe=`datum.${f5}<=0?"${p5}":datum.${f5}>=1?"${h5}":"${Tce}"`,NLe=`datum.${f5}<=0?"${fh}":datum.${f5}>=1?"${Fc}":"${mLe}"`;function ece(e,t,r,i){let o=xl(e,t),a=o.isVertical(),s=ma(o.gradientThickness()),l=o.gradientLength(),u=o("labelOverlap"),c,f,d,p,m="",g={enter:c={opacity:Pr},update:f={opacity:Mu,text:{field:NU}},exit:{opacity:Pr}};return za(g,{fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:Oc(e.labelLimit,t.gradientLabelLimit)}),a?(c.align={value:"left"},c.baseline=f.baseline={signal:NLe},d="y",p="x",m="1-"):(c.align=f.align={signal:OLe},c.baseline={value:"top"},d="x",p="y"),c[d]=f[d]={signal:m+"datum."+f5,mult:l},c[p]=f[p]=s,s.offset=Oc(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:o("labelSeparation"),method:u,order:"datum."+EU}:void 0,Zl({type:_m,role:pce,style:H7,key:Au,from:i,encode:g,overlap:u},r)}function ILe(e,t,r,i,o){let a=xl(e,t),s=r.entries,l=!!(s&&s.interactive),u=s?s.name:void 0,c=a("clipHeight"),f=a("symbolOffset"),d={data:"value"},p=`(${o}) ? datum.${vLe} : datum.${AU}`,m=c?ma(c):{field:AU},g=`datum.${EU}`,v=`max(1, ${o})`,b,_,D,T,N;m.mult=.5,b={enter:_={opacity:Pr,x:{signal:p,mult:.5,offset:f},y:m},update:D={opacity:Mu,x:_.x,y:_.y},exit:{opacity:Pr}};let z=null,j=null;e.fill||(z=t.symbolBaseFillColor,j=t.symbolBaseStrokeColor),za(b,{fill:a("symbolFillColor",z),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",j),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),FU.forEach(w=>{e[w]&&(D[w]=_[w]={scale:e[w],field:Au})});let B=Zl({type:ALe,role:iPe,key:Au,from:d,clip:c?!0:void 0,encode:b},r.symbols),U=ma(f);U.offset=a("labelOffset"),b={enter:_={opacity:Pr,x:{signal:p,offset:U},y:m},update:D={opacity:Mu,text:{field:NU},x:_.x,y:_.y},exit:{opacity:Pr}},za(b,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});let x=Zl({type:_m,role:pce,style:H7,key:Au,from:d,encode:b},r.labels);return b={enter:{noBound:{value:!c},width:Pr,height:c?ma(c):Pr,opacity:Pr},exit:{opacity:Pr},update:D={opacity:Mu,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(T=`ceil(item.mark.items.length / ${v})`,D.row.signal=`${g}%${T}`,D.column.signal=`floor(${g} / ${T})`,N={field:["row",g]}):(D.row.signal=`floor(${g} / ${v})`,D.column.signal=`${g} % ${v}`,N={field:g}),D.column.signal=`(${o})?${D.column.signal}:${g}`,i={facet:{data:i,name:"value",groupby:EU}},q7({role:RU,from:i,encode:d5(b,s,G7),marks:[B,x],name:u,interactive:l,sort:N})}function FLe(e,t){let r=xl(e,t);return{align:r("gridAlign"),columns:r.entryColumns(),center:{row:!0,column:!1},padding:{row:r("rowPadding"),column:r("columnPadding")}}}var BU='item.orient === "left"',$U='item.orient === "right"',HE=`(${BU} || ${$U})`,PLe=`datum.vgrad && ${HE}`,LLe=qE('"top"','"bottom"','"middle"'),BLe=qE('"right"','"left"','"center"'),$Le=`datum.vgrad && ${$U} ? (${BLe}) : (${HE} && !(datum.vgrad && ${BU})) ? "left" : ${LU}`,ULe=`item._anchor || (${HE} ? "middle" : "start")`,zLe=`${PLe} ? (${BU} ? -90 : 90) : 0`,VLe=`${HE} ? (datum.vgrad ? (${$U} ? "bottom" : "top") : ${LLe}) : "top"`;function qLe(e,t,r,i){let o=xl(e,t),a={enter:{opacity:Pr},update:{opacity:Mu,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Pr}};return za(a,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:ULe},angle:{signal:zLe},align:{signal:$Le},baseline:{signal:VLe},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),Zl({type:_m,role:oPe,style:IU,from:i,encode:a},r)}function HLe(e,t){let r;return yt(e)&&(e.signal?r=e.signal:e.path?r="pathShape("+tce(e.path)+")":e.sphere&&(r="geoShape("+tce(e.sphere)+', {type: "Sphere"})')),r?t.signalRef(r):!!e}function tce(e){return yt(e)&&e.signal?e.signal:gt(e)}function Nce(e){let t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===VE?RU:t||MU}function GLe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Nce(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function jLe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function UU(e,t){let r=$w(e.type);r||Ke("Unrecognized transform type: "+gt(e.type));let i=$E(r.type.toLowerCase(),null,Ice(r,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=r.metadata||{},i}function Ice(e,t,r){let i={},o=e.params.length;for(let a=0;a<o;++a){let s=e.params[a];i[s.name]=WLe(s,t,r)}return i}function WLe(e,t,r){let i=e.type,o=t[e.name];if(i==="index")return YLe(e,t,r);if(o===void 0){e.required&&Ke("Missing required "+gt(t.type)+" parameter: "+gt(e.name));return}else{if(i==="param")return XLe(e,t,r);if(i==="projection")return r.projectionRef(t[e.name])}return e.array&&!Xo(o)?o.map(a=>nce(e,a,r)):nce(e,o,r)}function nce(e,t,r){let i=e.type;if(Xo(t))return ice(i)?Ke("Expression references can not be signals."):bU(i)?r.fieldRef(t):oce(i)?r.compareRef(t):r.signalRef(t.signal);{let o=e.expr||bU(i);return o&&KLe(t)?r.exprRef(t.expr,t.as):o&&QLe(t)?z7(t.field,t.as):ice(i)?kc(t,r):ZLe(i)?wn(r.getData(t).values):bU(i)?z7(t):oce(i)?r.compareRef(t):t}}function YLe(e,t,r){return ht(t.from)||Ke('Lookup "from" parameter must be a string literal.'),r.getData(t.from).lookupRef(r,t.key)}function XLe(e,t,r){let i=t[e.name];return e.array?(Le(i)||Ke("Expected an array of sub-parameters. Instead: "+gt(i)),i.map(o=>rce(e,o,r))):rce(e,i,r)}function rce(e,t,r){let i=e.params.length,o;for(let s=0;s<i;++s){o=e.params[s];for(let l in o.key)if(o.key[l]!==t[l]){o=null;break}if(o)break}o||Ke("Unsupported parameter: "+gt(t));let a=Dn(Ice(o,t,r),o.key);return wn(r.add(jPe(a)))}var KLe=e=>e&&e.expr,QLe=e=>e&&e.field,ZLe=e=>e==="data",ice=e=>e==="expr",bU=e=>e==="field",oce=e=>e==="compare";function JLe(e,t,r){let i,o,a,s,l;return e?(i=e.facet)&&(t||Ke("Only group marks can be faceted."),i.field!=null?s=l=PE(i,r):(e.data?l=wn(r.getData(e.data).aggregate):(a=UU(Dn({type:"aggregate",groupby:_t(i.groupby)},i.aggregate),r),a.params.key=r.keyRef(i.groupby),a.params.pulse=PE(i,r),s=l=wn(r.add(a))),o=r.keyRef(i.groupby,!0))):s=wn(r.add(Ic(null,[{}]))),s||(s=PE(e,r)),{key:o,pulse:s,parent:l}}function PE(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:wn(t.getData(e.data).output)}function xm(e,t,r,i,o){this.scope=e,this.input=t,this.output=r,this.values=i,this.aggregate=o,this.index={}}xm.fromEntries=function(e,t){let r=t.length,i=t[r-1],o=t[r-2],a=t[0],s=null,l=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);l<r;++l)t[l].params.pulse=wn(t[l-1]),e.add(t[l]),t[l].type==="aggregate"&&(s=t[l]);return new xm(e,a,o,i,s)};function Fce(e){return ht(e)?e:null}function ace(e,t,r){let i=UE(r.op,r.field),o;if(t.ops){for(let a=0,s=t.as.length;a<s;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];r.op&&(t.ops.push((o=r.op.signal)?e.signalRef(o):r.op),t.fields.push(e.fieldRef(r.field)),t.as.push(i))}function $7(e,t,r,i,o,a,s){let l=t[r]||(t[r]={}),u=_Pe(a),c=Fce(o),f,d;if(c!=null&&(e=t.scope,c=c+(u?"|"+u:""),f=l[c]),!f){let p=a?{field:_U,pulse:t.countsRef(e,o,a)}:{field:e.fieldRef(o),pulse:wn(t.output)};u&&(p.sort=e.sortRef(a)),d=e.add($E(i,void 0,p)),s&&(t.index[o]=d),f=wn(d),c!=null&&(l[c]=f)}return f}xm.prototype={countsRef(e,t,r){let i=this,o=i.counts||(i.counts={}),a=Fce(t),s,l,u;return a!=null&&(e=i.scope,s=o[a]),s?r&&r.field&&ace(e,s.agg.params,r):(u={groupby:e.fieldRef(t,"key"),pulse:wn(i.output)},r&&r.field&&ace(e,u,r),l=e.add(bce(u)),s=e.add(Ic({pulse:wn(l)})),s={agg:l,ref:wn(s)},a!=null&&(o[a]=s)),s.ref},tuplesRef(){return wn(this.values)},extentRef(e,t){return $7(e,this,"extent","extent",t,!1)},domainRef(e,t){return $7(e,this,"domain","values",t,!1)},valuesRef(e,t,r){return $7(e,this,"vals","values",t,r||!0)},lookupRef(e,t){return $7(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return $7(e,this,"indata","tupleindex",t,!0,!0)}};function eBe(e,t,r){let i=e.from.facet,o=i.name,a=PE(i,t),s;i.name||Ke("Facet must have a name: "+gt(i)),i.data||Ke("Facet must reference a data set: "+gt(i)),i.field?s=t.add(_ce({field:t.fieldRef(i.field),pulse:a})):i.groupby?s=t.add(LPe({key:t.keyRef(i.groupby),group:wn(t.proxy(r.parent)),pulse:a})):Ke("Facet must specify groupby or field: "+gt(i));let l=t.fork(),u=l.add(Ic()),c=l.add(wm({pulse:wn(u)}));l.addData(o,new xm(l,u,u,c)),l.addSignal("parent",null),s.params.subflow={$subflow:l.parse(e).toRuntime()}}function tBe(e,t,r){let i=t.add(_ce({pulse:r.pulse})),o=t.fork();o.add(wm()),o.addSignal("parent",null),i.params.subflow={$subflow:o.parse(e).toRuntime()}}function Pce(e,t,r){let i=e.remove,o=e.insert,a=e.toggle,s=e.modify,l=e.values,u=t.add(LE()),c="if("+e.trigger+',modify("'+r+'",'+[o,i,a,s,l].map(d=>d??"null").join(",")+"),0)",f=kc(c,t);u.update=f.$expr,u.params=f.$params}function GE(e,t){let r=Nce(e),i=e.type===VE,o=e.from&&e.from.facet,a=e.overlap,s=e.layout||r===RU||r===TU,l,u,c,f,d,p,m,g=r===MU||s||o,v=JLe(e.from,i,t);u=t.add(FPe({key:v.key||(e.key?z7(e.key):void 0),pulse:v.pulse,clean:!i}));let b=wn(u);u=c=t.add(Ic({pulse:b})),u=t.add(VPe({markdef:GLe(e),interactive:jLe(e.interactive,t),clip:HLe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:wn(u)}));let _=wn(u);u=f=t.add(wce(vce(e.encode,e.type,r,e.style,t,{mod:!1,pulse:_}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(j=>{let B=UU(j,t),U=B.metadata;(U.generates||U.changes)&&Ke("Mark transforms should not generate new data."),U.nomod||(f.params.mod=!0),B.params.pulse=wn(u),t.add(u=B)}),e.sort&&(u=t.add(QPe({sort:t.compareRef(e.sort),pulse:wn(u)})));let D=wn(u);(o||s)&&(s=t.add(Cce({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:D})),p=wn(s));let T=t.add(xce({mark:_,pulse:p||D}));m=wn(T),i&&(g&&(l=t.operators,l.pop(),s&&l.pop()),t.pushState(D,p||m,b),o?eBe(e,t,v):g?tBe(e,t,v):t.parse(e),t.popState(),g&&(s&&l.push(s),l.push(T))),a&&(m=nBe(a,m,t));let N=t.add(Sce({pulse:m})),z=t.add(wm({pulse:wn(N)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new xm(t,c,N,z)),e.on&&e.on.forEach(j=>{(j.insert||j.remove||j.toggle)&&Ke("Marks only support modify triggers."),Pce(j,t,d)}))}function nBe(e,t,r){let i=e.method,o=e.bound,a=e.separation,s={separation:Xo(a)?r.signalRef(a.signal):a,method:Xo(i)?r.signalRef(i.signal):i,pulse:t};if(e.order&&(s.sort=r.compareRef({field:e.order})),o){let l=o.tolerance;s.boundTolerance=Xo(l)?r.signalRef(l.signal):+l,s.boundScale=r.scaleRef(o.scale),s.boundOrient=o.orient}return wn(r.add(GPe(s)))}function rBe(e,t){let r=t.config.legend,i=e.encode||{},o=xl(e,r),a=i.legend||{},s=a.name||void 0,l=a.interactive,u=a.style,c={},f=0,d,p,m;FU.forEach(T=>e[T]?(c[T]=e[T],f=f||e[T]):0),f||Ke("Missing valid scale for legend.");let g=iBe(e,t.scaleType(f)),v={title:e.title!=null,scales:c,type:g,vgrad:g!=="symbol"&&o.isVertical()},b=wn(t.add(Ic(null,[v]))),_={enter:{x:{value:0},y:{value:0}}},D=wn(t.add(UPe(p={type:g,scale:t.scaleRef(f),count:t.objectProperty(o("tickCount")),limit:t.property(o("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===FE?(m=[RLe(e,f,r,i.gradient),ece(e,r,i.labels,D)],p.count=p.count||t.signalRef(`max(2,2*floor((${bm(o.gradientLength())})/100))`)):g===DU?m=[kLe(e,f,r,i.gradient,D),ece(e,r,i.labels,D)]:(d=FLe(e,r),m=[ILe(e,r,i,D,bm(d.columns))],p.size=sBe(e,t,m[0].marks)),m=[q7({role:nPe,from:b,encode:_,marks:m,layout:d,interactive:l})],v.title&&m.push(qLe(e,r,i.title,b)),GE(q7({role:ePe,from:b,encode:d5(aBe(o,e,r),a,G7),marks:m,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:s,interactive:l,style:u}),t)}function iBe(e,t){let r=e.type||Jue;return!e.type&&oBe(e)===1&&(e.fill||e.stroke)&&(r=Y8(t)?FE:Z_(t)?DU:Jue),r!==FE?r:Z_(t)?DU:FE}function oBe(e){return FU.reduce((t,r)=>t+(e[r]?1:0),0)}function aBe(e,t,r){let i={enter:{},update:{}};return za(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:r.strokeWidth,strokeDash:r.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function sBe(e,t,r){let i=bm(sce("size",e,r)),o=bm(sce("strokeWidth",e,r)),a=bm(lBe(r[1].encode,t,H7));return kc(`max(ceil(sqrt(${i})+${o}),${a})`,t)}function sce(e,t,r){return t[e]?`scale("${t[e]}",datum)`:kce(e,r[0].encode)}function lBe(e,t,r){return kce("fontSize",e)||MLe("fontSize",t,r)}var uBe=`item.orient==="${p5}"?-90:item.orient==="${h5}"?90:0`;function cBe(e,t){e=ht(e)?{text:e}:e;let r=xl(e,t.config.title),i=e.encode||{},o=i.group||{},a=o.name||void 0,s=o.interactive,l=o.style,u=[],c={},f=wn(t.add(Ic(null,[c])));return u.push(pBe(e,r,fBe(e),f)),e.subtitle&&u.push(hBe(e,r,i.subtitle,f)),GE(q7({role:aPe,from:f,encode:dBe(r,o),marks:u,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:a,interactive:s,style:l}),t)}function fBe(e){let t=e.encode;return t&&t.title||Dn({name:e.name,interactive:e.interactive,style:e.style},t)}function dBe(e,t){let r={enter:{},update:{}};return za(r,{orient:e("orient"),anchor:e("anchor"),align:{signal:LU},angle:{signal:uBe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),d5(r,t,G7)}function pBe(e,t,r,i){let o={value:0},a=e.text,s={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return za(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Zl({type:_m,role:sPe,style:bLe,from:i,encode:s},r)}function hBe(e,t,r,i){let o={value:0},a=e.subtitle,s={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return za(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Zl({type:_m,role:lPe,style:xLe,from:i,encode:s},r)}function mBe(e,t){let r=[];e.transform&&e.transform.forEach(i=>{r.push(UU(i,t))}),e.on&&e.on.forEach(i=>{Pce(i,t,e.name)}),t.addDataPipeline(e.name,gBe(e,t,r))}function gBe(e,t,r){let i=[],o=null,a=!1,s=!1,l,u,c,f,d;for(e.values?Xo(e.values)||NE(e.format)?(i.push(lce(t,e)),i.push(o=ym())):i.push(o=ym({$ingest:e.values,$format:e.format})):e.url?NE(e.url)||NE(e.format)?(i.push(lce(t,e)),i.push(o=ym())):i.push(o=ym({$request:e.url,$format:e.format})):e.source&&(o=l=_t(e.source).map(p=>wn(t.getData(p).output)),i.push(null)),u=0,c=r.length;u<c;++u)f=r[u],d=f.metadata,!o&&!d.source&&i.push(o=ym()),i.push(f),d.generates&&(s=!0),d.modifies&&!s&&(a=!0),d.source?o=f:d.changes&&(o=null);return l&&(c=l.length-1,i[0]=XPe({derive:a,pulse:c?l:l[0]}),(a||c)&&i.splice(1,0,ym())),o||i.push(ym()),i.push(wm({})),i}function ym(e){let t=Ic({},e);return t.metadata={source:!0},t}function lce(e,t){return zPe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var Lce=e=>e===fh||e===Fc,jE=(e,t,r)=>Xo(e)?xBe(e.signal,t,r):e===p5||e===Fc?t:r,ga=(e,t,r)=>Xo(e)?yBe(e.signal,t,r):Lce(e)?t:r,Nc=(e,t,r)=>Xo(e)?bBe(e.signal,t,r):Lce(e)?r:t,Bce=(e,t,r)=>Xo(e)?wBe(e.signal,t,r):e===Fc?{value:t}:{value:r},vBe=(e,t,r)=>Xo(e)?_Be(e.signal,t,r):e===h5?{value:t}:{value:r},yBe=(e,t,r)=>$ce(`${e} === '${Fc}' || ${e} === '${fh}'`,t,r),bBe=(e,t,r)=>$ce(`${e} !== '${Fc}' && ${e} !== '${fh}'`,t,r),xBe=(e,t,r)=>zU(`${e} === '${p5}' || ${e} === '${Fc}'`,t,r),wBe=(e,t,r)=>zU(`${e} === '${Fc}'`,t,r),_Be=(e,t,r)=>zU(`${e} === '${h5}'`,t,r),$ce=(e,t,r)=>(t=t!=null?ma(t):t,r=r!=null?ma(r):r,uce(t)&&uce(r)?(t=t?t.signal||gt(t.value):null,r=r?r.signal||gt(r.value):null,{signal:`${e} ? (${t}) : (${r})`}):[Dn({test:e},t)].concat(r||[])),uce=e=>e==null||Object.keys(e).length===1,zU=(e,t,r)=>({signal:`${e} ? (${u5(t)}) : (${u5(r)})`}),SBe=(e,t,r,i,o)=>({signal:(i!=null?`${e} === '${p5}' ? (${u5(i)}) : `:"")+(r!=null?`${e} === '${fh}' ? (${u5(r)}) : `:"")+(o!=null?`${e} === '${h5}' ? (${u5(o)}) : `:"")+(t!=null?`${e} === '${Fc}' ? (${u5(t)}) : `:"")+"(null)"}),u5=e=>Xo(e)?e.signal:e==null?null:gt(e),CBe=(e,t)=>t===0?0:Xo(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},c5=(e,t)=>{let r=e.signal;return r&&r.endsWith("(null)")?{signal:r.slice(0,-6)+t.signal}:e};function s5(e,t,r,i){let o;if(t&&Dt(t,e))return t[e];if(Dt(r,e))return r[e];if(e.startsWith("title")){switch(e){case"titleColor":o="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":o=e[5].toLowerCase()+e.slice(6)}return i[IU][o]}else if(e.startsWith("label")){switch(e){case"labelColor":o="fill";break;case"labelFont":case"labelFontSize":o=e[5].toLowerCase()+e.slice(6)}return i[H7][o]}return null}function cce(e){let t={};for(let r of e)if(r)for(let i in r)t[i]=1;return Object.keys(t)}function EBe(e,t){var r=t.config,i=r.style,o=r.axis,a=t.scaleType(e.scale)==="band"&&r.axisBand,s=e.orient,l,u,c;if(Xo(s)){let d=cce([r.axisX,r.axisY]),p=cce([r.axisTop,r.axisBottom,r.axisLeft,r.axisRight]);l={};for(c of d)l[c]=ga(s,s5(c,r.axisX,o,i),s5(c,r.axisY,o,i));u={};for(c of p)u[c]=SBe(s.signal,s5(c,r.axisTop,o,i),s5(c,r.axisBottom,o,i),s5(c,r.axisLeft,o,i),s5(c,r.axisRight,o,i))}else l=s===Fc||s===fh?r.axisX:r.axisY,u=r["axis"+s[0].toUpperCase()+s.slice(1)];return l||u||a?Dn({},o,l,u,a):o}function DBe(e,t,r,i){let o=xl(e,t),a=e.orient,s,l,u={enter:s={opacity:Pr},update:l={opacity:Mu},exit:{opacity:Pr}};za(u,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});let c=fce(e,0),f=fce(e,1);return s.x=l.x=ga(a,c,Pr),s.x2=l.x2=ga(a,f),s.y=l.y=Nc(a,c,Pr),s.y2=l.y2=Nc(a,f),Zl({type:PU,role:XFe,from:i,encode:u},r)}function fce(e,t){return{scale:e.scale,range:t}}function ABe(e,t,r,i,o){let a=xl(e,t),s=e.orient,l=e.gridScale,u=jE(s,1,-1),c=MBe(e.offset,u),f,d,p,m={enter:f={opacity:Pr},update:p={opacity:Mu},exit:d={opacity:Pr}};za(m,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});let g={scale:e.scale,field:Au,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")},v=ga(s,{signal:"height"},{signal:"width"}),b=l?{scale:l,range:0,mult:u,offset:c}:{value:0,offset:c},_=l?{scale:l,range:1,mult:u,offset:c}:Dn(v,{mult:u,offset:c});return f.x=p.x=ga(s,g,b),f.y=p.y=Nc(s,g,b),f.x2=p.x2=Nc(s,_),f.y2=p.y2=ga(s,_),d.x=ga(s,g),d.y=Nc(s,g),Zl({type:PU,role:KFe,key:Au,from:i,encode:m},r)}function MBe(e,t){if(t!==1)if(!yt(e))e=Xo(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let r=e=Dn({},e);for(;r.mult!=null;)if(yt(r.mult))r=r.mult=Dn({},r.mult);else return r.mult=Xo(t)?{signal:`(${r.mult}) * (${t.signal})`}:r.mult*t,e;r.mult=t}return e}function TBe(e,t,r,i,o,a){let s=xl(e,t),l=e.orient,u=jE(l,-1,1),c,f,d,p={enter:c={opacity:Pr},update:d={opacity:Mu},exit:f={opacity:Pr}};za(p,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});let m=ma(o);m.mult=u;let g={scale:e.scale,field:Au,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")};return d.y=c.y=ga(l,Pr,g),d.y2=c.y2=ga(l,m),f.x=ga(l,g),d.x=c.x=Nc(l,Pr,g),d.x2=c.x2=Nc(l,m),f.y=Nc(l,g),Zl({type:PU,role:ZFe,key:Au,from:i,encode:p},r)}function xU(e,t,r,i,o){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+r+","+i+","+o+")"}}function RBe(e,t,r,i,o,a){let s=xl(e,t),l=e.orient,u=e.scale,c=jE(l,-1,1),f=bm(s("labelFlush")),d=bm(s("labelFlushOffset")),p=s("labelAlign"),m=s("labelBaseline"),g=f===0||!!f,v,b=ma(o);b.mult=c,b.offset=ma(s("labelPadding")||0),b.offset.mult=c;let _={scale:u,field:Au,band:.5,offset:Oce(a.offset,s("labelOffset"))},D=ga(l,g?xU(u,f,'"left"','"right"','"center"'):{value:"center"},vBe(l,"left","right")),T=ga(l,Bce(l,"bottom","top"),g?xU(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),N=xU(u,f,`-(${d})`,d,0);g=g&&d;let z={opacity:Pr,x:ga(l,_,b),y:Nc(l,_,b)},j={enter:z,update:v={opacity:Mu,text:{field:NU},x:z.x,y:z.y,align:D,baseline:T},exit:{opacity:Pr,x:z.x,y:z.y}};za(j,{dx:!p&&g?ga(l,N):null,dy:!m&&g?Nc(l,N):null}),za(j,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:p,baseline:m});let B=s("labelBound"),U=s("labelOverlap");return U=U||B?{separation:s("labelSeparation"),method:U,order:"datum.index",bound:B?{scale:u,orient:l,tolerance:B}:null}:void 0,v.align!==D&&(v.align=c5(v.align,D)),v.baseline!==T&&(v.baseline=c5(v.baseline,T)),Zl({type:_m,role:QFe,style:H7,key:Au,from:i,encode:j,overlap:U},r)}function kBe(e,t,r,i){let o=xl(e,t),a=e.orient,s=jE(a,-1,1),l,u,c={enter:l={opacity:Pr,anchor:ma(o("titleAnchor",null)),align:{signal:LU}},update:u=Dn({},l,{opacity:Mu,text:ma(e.title)}),exit:{opacity:Pr}},f={signal:`lerp(range("${e.scale}"), ${qE(0,1,.5)})`};return u.x=ga(a,f),u.y=Nc(a,f),l.angle=ga(a,Pr,CBe(s,90)),l.baseline=ga(a,Bce(a,fh,Fc),{value:fh}),u.angle=l.angle,u.baseline=l.baseline,za(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),OBe(o,a,c,r),c.update.align=c5(c.update.align,l.align),c.update.angle=c5(c.update.angle,l.angle),c.update.baseline=c5(c.update.baseline,l.baseline),Zl({type:_m,role:JFe,style:IU,from:i,encode:c},r)}function OBe(e,t,r,i){let o=(l,u)=>l!=null?(r.update[u]=c5(ma(l),r.update[u]),!1):!l5(u,i),a=o(e("titleX"),"x"),s=o(e("titleY"),"y");r.enter.auto=s===a?ma(s):ga(t,ma(s),ma(a))}function NBe(e,t){let r=EBe(e,t),i=e.encode||{},o=i.axis||{},a=o.name||void 0,s=o.interactive,l=o.style,u=xl(e,r),c=TLe(u),f={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},d=wn(t.add(Ic({},[f]))),p=wn(t.add(IPe({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),m=[],g;return f.grid&&m.push(ABe(e,r,i.grid,p,c)),f.ticks&&(g=u("tickSize"),m.push(TBe(e,r,i.ticks,p,g,c))),f.labels&&(g=f.ticks?g:0,m.push(RBe(e,r,i.labels,p,g,c))),f.domain&&m.push(DBe(e,r,i.domain,d)),f.title&&m.push(kBe(e,r,i.title,d)),GE(q7({role:YFe,from:d,encode:d5(IBe(u,e),o,G7),marks:m,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:a,interactive:s,style:l}),t)}function IBe(e,t){let r={enter:{},update:{}};return za(r,{orient:e("orient"),offset:e("offset")||0,position:Oc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),r}function Uce(e,t,r){let i=_t(e.signals),o=_t(e.scales);return r||i.forEach(a=>yce(a,t)),_t(e.projections).forEach(a=>dLe(a,t)),o.forEach(a=>eLe(a,t)),_t(e.data).forEach(a=>mBe(a,t)),o.forEach(a=>tLe(a,t)),(r||i).forEach(a=>NPe(a,t)),_t(e.axes).forEach(a=>NBe(a,t)),_t(e.marks).forEach(a=>GE(a,t)),_t(e.legends).forEach(a=>rBe(a,t)),e.title&&cBe(e.title,t),t.parseLambdas(),t}var FBe=e=>d5({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function PBe(e,t){let r=t.config,i=wn(t.root=t.add(LE())),o=LBe(e,r);o.forEach(c=>yce(c,t)),t.description=e.description||r.description,t.eventConfig=r.events,t.legends=t.objectProperty(r.legend&&r.legend.layout),t.locale=r.locale;let a=t.add(Ic()),s=t.add(wce(vce(FBe(e.encode),VE,TU,e.style,t,{pulse:wn(a)}))),l=t.add(Cce({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:i,pulse:wn(s)}));t.operators.pop(),t.pushState(wn(s),wn(l),null),Uce(e,t,o),t.operators.push(l);let u=t.add(xce({mark:i,pulse:wn(l)}));return u=t.add(Sce({pulse:wn(u)})),u=t.add(wm({pulse:wn(u)})),t.addData("root",new xm(t,a,a,u)),t}function U7(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function LBe(e,t){let r=s=>Oc(e[s],t[s]),i=[U7("background",r("background")),U7("autosize",GFe(r("autosize"))),U7("padding",WFe(r("padding"))),U7("width",r("width")||0),U7("height",r("height")||0)],o=i.reduce((s,l)=>(s[l.name]=l,s),{}),a={};return _t(e.signals).forEach(s=>{Dt(o,s.name)?s=Dn(o[s.name],s):i.push(s),a[s.name]=s}),_t(t.signals).forEach(s=>{!Dt(a,s.name)&&!Dt(o,s.name)&&i.push(s)}),i}function zce(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function dce(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}zce.prototype=dce.prototype={parse(e){return Uce(e,this)},fork(){return new dce(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){let t=e instanceof wU?wn(e):e;return this.add(YPe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function r(i,o,a){let s,l;i&&(s=i.data||(i.data={}),l=s[o]||(s[o]=[]),l.push(a))}for(e in this.data){t=this.data[e],r(t.input,e,"input"),r(t.output,e,"output"),r(t.values,e,"values");for(let i in t.index)r(t.index[i],e,"index:"+i)}return this},pushState(e,t,r){this._encode.push(wn(this.add(wm({pulse:e})))),this._parent.push(t),this._lookup.push(r?wn(this.proxy(r)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return jn(this._parent)},encode(){return jn(this._encode)},lookup(){return jn(this._lookup)},markpath(){let e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ht(e))return z7(e,t);e.signal||Ke("Unsupported field reference: "+gt(e));let r=e.signal,i=this.field[r];if(!i){let o={name:this.signalRef(r)};t&&(o.as=t),this.field[r]=i=wn(this.add(BPe(o)))}return i},compareRef(e){let t=!1,r=a=>Xo(a)?(t=!0,this.signalRef(a.signal)):SPe(a)?(t=!0,this.exprRef(a.expr)):a,i=_t(e.field).map(r),o=_t(e.order).map(r);return t?wn(this.add(Zue({fields:i,orders:o}))):Kue(i,o)},keyRef(e,t){let r=!1,i=a=>Xo(a)?(r=!0,wn(o[a.signal])):a,o=this.signals;return e=_t(e).map(i),r?wn(this.add($Pe({fields:e,flat:t}))):bPe(e,t)},sortRef(e){if(!e)return e;let t=UE(e.op,e.field),r=e.order||xPe;return r.signal?wn(this.add(Zue({fields:t,orders:this.signalRef(r.signal)}))):Kue(t,r)},event(e,t){let r=e+":"+t;if(!this.events[r]){let i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[r]=i}return this.events[r]},hasOwnSignal(e){return Dt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ke("Duplicate signal name: "+gt(e));let r=t instanceof wU?t:this.add(LE(t));return this.signals[e]=r},getSignal(e){return this.signals[e]||Ke("Unrecognized signal name: "+gt(e)),this.signals[e]},signalRef(e){return this.signals[e]?wn(this.signals[e]):(Dt(this.lambdas,e)||(this.lambdas[e]=this.add(LE(null))),wn(this.lambdas[e]))},parseLambdas(){let e=Object.keys(this.lambdas);for(let t=0,r=e.length;t<r;++t){let i=e[t],o=kc(i,this),a=this.lambdas[i];a.params=o.$params,a.update=o.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!yt(e)?e:this.signalRef(e.signal||VU(e))},exprRef(e,t){let r={expr:kc(e,this)};return t&&(r.expr.$name=t),wn(this.add(PPe(r)))},addBinding(e,t){this.bindings||Ke("Nested signals do not support binding: "+gt(e)),this.bindings.push(Dn({signal:e},t))},addScaleProj(e,t){Dt(this.scales,e)&&Ke("Duplicate scale or projection name: "+gt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,KPe(t))},addProjection(e,t){this.addScaleProj(e,WPe(t))},getScale(e){return this.scales[e]||Ke("Unrecognized scale name: "+gt(e)),this.scales[e]},scaleRef(e){return wn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Dt(this.data,e)&&Ke("Duplicate data set name: "+gt(e)),this.data[e]=t},getData(e){return this.data[e]||Ke("Undefined data set name: "+gt(e)),this.data[e]},addDataPipeline(e,t){return Dt(this.data,e)&&Ke("Duplicate data set name: "+gt(e)),this.addData(e,xm.fromEntries(this,t))}};function VU(e){return(Le(e)?BBe:$Be)(e)}function BBe(e){let t=e.length,r="[";for(let i=0;i<t;++i){let o=e[i];r+=(i>0?",":"")+(yt(o)?o.signal||VU(o):gt(o))}return r+"]"}function $Be(e){let t="{",r=0,i,o;for(i in e)o=e[i],t+=(++r>1?",":"")+gt(i)+":"+(yt(o)?o.signal||VU(o):gt(o));return t+"}"}function UBe(){let e="sans-serif",i="#4c78a8",o="#000",a="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:i},area:{fill:i},image:null,line:{stroke:i,strokeWidth:2},path:{stroke:i},rect:{fill:i},rule:{stroke:o},shape:{stroke:i},symbol:{fill:i,size:64},text:{fill:o,font:e,fontSize:11},trail:{fill:i,size:2},style:{"guide-label":{fill:o,font:e,fontSize:10},"guide-title":{fill:o,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:o,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:o,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Vce(e,t,r){return yt(e)||Ke("Input Vega specification must be an object."),t=Of(UBe(),t,e.config),PBe(e,new zce(t,r)).toRuntime()}var zBe="5.33.0";Dn(o0,bI,MP,BP,ZL,lB,KB,$B,e$,r$,a$,p$);function VBe(e,t,r){let i;t.x2&&(t.x?(r&&e.x>e.x2&&(i=e.x,e.x=e.x2,e.x2=i),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(r&&e.y>e.y2&&(i=e.y,e.y=e.y2,e.y2=i),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var qBe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},HBe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},GBe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e},jBe=Array.prototype.slice,Sm=(e,t,r)=>{let i=r?r(t[0]):t[0];return i[e].apply(i,jBe.call(t,1))},WBe=(e,t,r,i,o,a,s)=>new Date(e,t||0,r??1,i||0,o||0,a||0,s||0),YBe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,r)=>Math.max(t,Math.min(r,e)),now:Date.now,utc:Date.UTC,datetime:WBe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Sm("join",arguments)},indexof:function(){return Sm("indexOf",arguments)},lastindexof:function(){return Sm("lastIndexOf",arguments)},slice:function(){return Sm("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(Kd),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Sm("substring",arguments,String)},split:function(){return Sm("split",arguments,String)},replace:function(){return Sm("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)},XBe=["view","item","group","xy","x","y"],HU=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&HU.add(setImmediate);var KBe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{let r=t.name;return e.memberDepth>0?r:r==="datum"?e.datum:r==="event"?e.event:r==="item"?e.item:qBe[r]||e.params["$"+r]},MemberExpression:(e,t)=>{let r=!t.computed,i=e(t.object);r&&(e.memberDepth+=1);let o=e(t.property);if(r&&(e.memberDepth-=1),HU.has(i[o])){console.error(`Prevented interpretation of member "${o}" which could lead to insecure code execution`);return}return i[o]},CallExpression:(e,t)=>{let r=t.arguments,i=t.callee.name;return i.startsWith("_")&&(i=i.slice(1)),i==="if"?e(r[0])?e(r[1]):e(r[2]):(e.fn[i]||YBe[i]).apply(e.fn,r.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>HBe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>GBe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((r,i)=>{e.memberDepth+=1;let o=e(i.key);return e.memberDepth-=1,HU.has(e(i.value))?console.error(`Prevented interpretation of property "${o}" which could lead to insecure code execution`):r[o]=e(i.value),r},{})};function j7(e,t,r,i,o,a){let s=l=>KBe[l.type](s,l);return s.memberDepth=0,s.fn=Object.create(t),s.params=r,s.datum=i,s.event=o,s.item=a,XBe.forEach(l=>s.fn[l]=function(){return o.vega[l](...arguments)}),s(e)}var qce={operator(e,t){let r=t.ast,i=e.functions;return o=>j7(r,i,o)},parameter(e,t){let r=t.ast,i=e.functions;return(o,a)=>j7(r,i,a,o)},event(e,t){let r=t.ast,i=e.functions;return o=>j7(r,i,void 0,void 0,o)},handler(e,t){let r=t.ast,i=e.functions;return(o,a)=>{let s=a.item&&a.item.datum;return j7(r,i,o,s,a)}},encode(e,t){let{marktype:r,channels:i}=t,o=e.functions,a=r==="group"||r==="image"||r==="rect";return(s,l)=>{let u=s.datum,c=0,f;for(let d in i)f=j7(i[d].ast,o,l,u,void 0,s),s[d]!==f&&(s[d]=f,c=1);return r!=="rule"&&VBe(s,i,a),c}}};var eq={};Ka(eq,{accessPathDepth:()=>Cm,accessPathWithDatum:()=>X7,accessWithDatumToUnescapedPath:()=>Xr,compile:()=>g1e,contains:()=>gn,deepEqual:()=>va,deleteNestedProperty:()=>Y7,duplicate:()=>Xt,entries:()=>wl,every:()=>QE,fieldIntersection:()=>JE,flatAccessWithDatum:()=>XU,getFirstDefined:()=>vr,hasIntersection:()=>ZE,hasProperty:()=>at,hash:()=>rn,internalField:()=>QU,isBoolean:()=>g5,isEmpty:()=>Xn,isEqual:()=>JBe,isInternalField:()=>Wce,isNullOrFalse:()=>KE,isNumeric:()=>K7,keys:()=>Ve,logicalExpr:()=>m5,mergeDeep:()=>WU,never:()=>jU,normalize:()=>mA,normalizeAngle:()=>mh,omit:()=>ao,pick:()=>C0,prefixGenerator:()=>GU,removePathFromField:()=>E0,replaceAll:()=>Pc,replacePathInField:()=>ko,resetIdCounter:()=>t$e,setEqual:()=>YU,some:()=>ph,stringify:()=>Er,titleCase:()=>hh,unique:()=>ls,uniqueId:()=>KU,vals:()=>Di,varName:()=>Cr,version:()=>zGe});var Hce={name:"vega-lite",author:'Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',version:"5.23.0",collaborators:["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@babel/preset-typescript":"^7.26.0","@release-it/conventional-changelog":"^9.0.3","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^28.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.3.0","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.14","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.17.0","@typescript-eslint/parser":"^7.17.0",ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.10.0",jest:"^29.7.0","jest-dev-server":"^10.1.4",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.3",puppeteer:"^15.0.0","release-it":"17.10.0",rollup:"^4.27.3","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.36.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.2","vega-cli":"^5.30.0","vega-datasets":"^2.11.0","vega-embed":"^6.28.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.1","vega-util":"~1.17.2",yargs:"~17.7.2"},peerDependencies:{vega:"^5.24.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"};function WE(e){return at(e,"or")}function YE(e){return at(e,"and")}function XE(e){return at(e,"not")}function W7(e,t){if(XE(e))W7(e.not,t);else if(YE(e))for(let r of e.and)W7(r,t);else if(WE(e))for(let r of e.or)W7(r,t);else t(e)}function dh(e,t){return XE(e)?{not:dh(e.not,t)}:YE(e)?{and:e.and.map(r=>dh(r,t))}:WE(e)?{or:e.or.map(r=>dh(r,t))}:t(e)}var Xt=structuredClone;function jU(e){throw new Error(e)}function C0(e,t){let r={};for(let i of t)Dt(e,i)&&(r[i]=e[i]);return r}function ao(e,t){let r=A({},e);for(let i of t)delete r[i];return r}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Er(e)).join(",")})`};function rn(e){if(qn(e))return e;let t=ht(e)?e:Er(e);if(t.length<250)return t;let r=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);r=(r<<5)-r+o,r=r&r}return r}function KE(e){return e===!1||e===null}function gn(e,t){return e.includes(t)}function ph(e,t){let r=0;for(let[i,o]of e.entries())if(t(o,i,r++))return!0;return!1}function QE(e,t){let r=0;for(let[i,o]of e.entries())if(!t(o,i,r++))return!1;return!0}function WU(e,...t){for(let r of t)ZBe(e,r??{});return e}function ZBe(e,t){for(let r of Ve(t))Xd(e,r,t[r],!0)}function ls(e,t){let r=[],i={},o;for(let a of e)o=t(a),!(o in i)&&(i[o]=1,r.push(a));return r}function JBe(e,t){let r=Ve(e),i=Ve(t);if(r.length!==i.length)return!1;for(let o of r)if(e[o]!==t[o])return!1;return!0}function YU(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}function ZE(e,t){for(let r of e)if(t.has(r))return!0;return!1}function GU(e){let t=new Set;for(let r of e){let o=yu(r).map((s,l)=>l===0?s:`[${s}]`),a=o.map((s,l)=>o.slice(0,l+1).join(""));for(let s of a)t.add(s)}return t}function JE(e,t){return e===void 0||t===void 0?!0:ZE(GU(e),GU(t))}function Xn(e){return Ve(e).length===0}var Ve=Object.keys,Di=Object.values,wl=Object.entries;function g5(e){return e===!0||e===!1}function Cr(e){let t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function m5(e,t){return XE(e)?`!(${m5(e.not,t)})`:YE(e)?`(${e.and.map(r=>m5(r,t)).join(") && (")})`:WE(e)?`(${e.or.map(r=>m5(r,t)).join(") || (")})`:t(e)}function Y7(e,t){if(t.length===0)return!0;let r=t.shift();return r in e&&Y7(e[r],t)&&delete e[r],Xn(e)}function hh(e){return e.charAt(0).toUpperCase()+e.substr(1)}function X7(e,t="datum"){let r=yu(e),i=[];for(let o=1;o<=r.length;o++){let a=`[${r.slice(0,o).map(gt).join("][")}]`;i.push(`${t}${a}`)}return i.join(" && ")}function XU(e,t="datum"){return`${t}[${gt(yu(e).join("."))}]`}function Xr(e){return`datum['${e.replaceAll("'","\\'")}']`}function e$e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ko(e){return`${yu(e).map(e$e).join("\\.")}`}function Pc(e,t,r){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),r)}function E0(e){return`${yu(e).join(".")}`}function Cm(e){return e?yu(e).length:0}function vr(...e){return e.find(t=>t!==void 0)}var jce=42;function KU(e){let t=++jce;return e?String(e)+t:t}function t$e(){jce=42}function QU(e){return Wce(e)?e:`__${e}`}function Wce(e){return e.startsWith("__")}function mh(e){if(e!==void 0)return(e%360+360)%360}function K7(e){return qn(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}var Gce=Object.getPrototypeOf(structuredClone({}));function va(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let r,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!va(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let a of e.entries())if(!t.has(a[0]))return!1;for(let a of e.entries())if(!va(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Gce.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Gce.toString)return e.toString()===t.toString();let o=Object.keys(e);if(r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){let a=o[i];if(!va(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Er(e){let t=[];return function r(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i===void 0)return;if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);let o,a;if(Array.isArray(i)){for(a="[",o=0;o<i.length;o++)o&&(a+=","),a+=r(i[o])||"null";return a+"]"}if(i===null)return"null";if(t.includes(i))throw new TypeError("Converting circular structure to JSON");let s=t.push(i)-1,l=Object.keys(i).sort();for(a="",o=0;o<l.length;o++){let u=l[o],c=r(i[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return t.splice(s,1),`{${a}}`}(e)}function at(e,t){return yt(e)&&Dt(e,t)&&e[t]!==void 0}var _l="row",Sl="column",v5="facet",Lr="x",Ai="y",Cl="x2",Jl="y2",Tu="xOffset",td="yOffset",us="radius",Lc="radius2",Va="theta",Bc="theta2",qa="latitude",Ha="longitude",cs="latitude2",Ga="longitude2",eu="time",so="color",fs="fill",ds="stroke",ji="shape",El="size",$c="angle",Qs="opacity",tu="fillOpacity",nu="strokeOpacity",ru="strokeWidth",iu="strokeDash",Em="text",gh="order",Dm="detail",y5="key",D0="tooltip",b5="href",x5="url",w5="description",n$e={x:1,y:1,x2:1,y2:1},Jce={theta:1,theta2:1,radius:1,radius2:1};function ZU(e){return Dt(Jce,e)}var JU={longitude:1,longitude2:1,latitude:1,latitude2:1};function tD(e){switch(e){case qa:return"y";case cs:return"y2";case Ha:return"x";case Ga:return"x2"}}function nD(e){return Dt(JU,e)}var efe=Ve(JU),ez=_e(A(A(A({},n$e),Jce),JU),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function A0(e){return e===so||e===fs||e===ds}var tfe={row:1,column:1,facet:1},ya=Ve(tfe),tz=A(A({},ez),tfe),nfe=Ve(tz),Yce=tz,{order:EIt,detail:DIt,tooltip:AIt}=Yce,rfe=Ct(Yce,["order","detail","tooltip"]),Xce=rfe,{row:MIt,column:TIt,facet:RIt}=Xce,ife=Ct(Xce,["row","column","facet"]),kIt=Ve(rfe),OIt=Ve(ife);function ofe(e){return Dt(ife,e)}function rD(e){return Dt(tz,e)}var afe=[Cl,Jl,cs,Ga,Bc,Lc];function iD(e){return ou(e)!==e}function ou(e){switch(e){case Cl:return Lr;case Jl:return Ai;case cs:return qa;case Ga:return Ha;case Bc:return Va;case Lc:return us}return e}function Ru(e){if(ZU(e))switch(e){case Va:return"startAngle";case Bc:return"endAngle";case us:return"outerRadius";case Lc:return"innerRadius"}return e}function ba(e){switch(e){case Lr:return Cl;case Ai:return Jl;case qa:return cs;case Ha:return Ga;case Va:return Bc;case us:return Lc}}function Wi(e){switch(e){case Lr:case Cl:return"width";case Ai:case Jl:return"height"}}function nz(e){switch(e){case Lr:return"xOffset";case Ai:return"yOffset";case Cl:return"x2Offset";case Jl:return"y2Offset";case Va:return"thetaOffset";case us:return"radiusOffset";case Bc:return"theta2Offset";case Lc:return"radius2Offset"}}function _5(e){switch(e){case Lr:return"xOffset";case Ai:return"yOffset"}}function sfe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}var lfe=Ve(ez),Kce=ez,{x:NIt,y:IIt,x2:FIt,y2:PIt,xOffset:LIt,yOffset:BIt,latitude:$It,longitude:UIt,latitude2:zIt,longitude2:VIt,theta:qIt,theta2:HIt,radius:GIt,radius2:jIt}=Kce,rz=Ct(Kce,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),ufe=Ve(rz),iz={x:1,y:1},ja=Ve(iz);function Br(e){return Dt(iz,e)}var oD={theta:1,radius:1},cfe=Ve(oD);function vh(e){return e==="width"?Lr:Ai}var oz={xOffset:1,yOffset:1},WIt=Ve(oz);function M0(e){return Dt(oz,e)}var ffe={time:1},YIt=Ve(ffe);function aD(e){return e in ffe}var Qce=rz,{text:XIt,tooltip:KIt,href:QIt,url:ZIt,description:JIt,detail:eFt,key:tFt,order:nFt}=Qce,dfe=Ct(Qce,["text","tooltip","href","url","description","detail","key","order"]),pfe=Ve(dfe);function hfe(e){return Dt(rz,e)}function mfe(e){switch(e){case so:case fs:case ds:case El:case ji:case Qs:case ru:case iu:return!0;case tu:case nu:case $c:case eu:return!1}}var gfe=A(A(A(A({},iz),oD),oz),dfe),S5=Ve(gfe);function Oo(e){return Dt(gfe,e)}function vfe(e,t){return i$e(e)[t]}var yfe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Zce=yfe,{geoshape:rFt}=Zce,r$e=Ct(Zce,["geoshape"]);function i$e(e){switch(e){case so:case fs:case ds:case w5:case Dm:case y5:case D0:case b5:case gh:case Qs:case tu:case nu:case ru:case v5:case _l:case Sl:return yfe;case Lr:case Ai:case Tu:case td:case qa:case Ha:case eu:return r$e;case Cl:case Jl:case cs:case Ga:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case El:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case iu:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ji:return{point:"always",geoshape:"always"};case Em:return{text:"always"};case $c:return{point:"always",square:"always",text:"always"};case x5:return{image:"always"};case Va:return{text:"always",arc:"always"};case us:return{text:"always",arc:"always"};case Bc:case Lc:return{arc:"always"}}}function sD(e){switch(e){case Lr:case Ai:case Va:case us:case Tu:case td:case El:case $c:case ru:case Qs:case tu:case nu:case eu:case Cl:case Jl:case Bc:case Lc:return;case v5:case _l:case Sl:case ji:case iu:case Em:case D0:case b5:case x5:case w5:return"discrete";case so:case fs:case ds:return"flexible";case qa:case Ha:case cs:case Ga:case Dm:case y5:case gh:return}}var a$e={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},bfe={count:1,min:1,max:1};function au(e){return at(e,"argmin")}function ku(e){return at(e,"argmax")}function C5(e){return ht(e)&&Dt(a$e,e)}var s$e=new Set(["count","valid","missing","distinct"]);function yh(e){return ht(e)&&s$e.has(e)}function xfe(e){return ht(e)&&gn(["min","max"],e)}var wfe=new Set(["count","sum","distinct","valid","missing"]),_fe=new Set(["mean","average","median","q1","q3","min","max"]);function lD(e){return ul(e)&&(e=D5(e,void 0)),"bin"+Ve(e).map(t=>E5(e[t])?Cr(`_${t}_${wl(e[t])}`):Cr(`_${t}_${e[t]}`)).join("")}function lr(e){return e===!0||Uc(e)&&!e.binned}function Mi(e){return e==="binned"||Uc(e)&&e.binned===!0}function Uc(e){return yt(e)}function E5(e){return at(e,"param")}function az(e){switch(e){case _l:case Sl:case El:case so:case fs:case ds:case ru:case Qs:case tu:case nu:case ji:return 6;case iu:return 4;default:return 10}}function bh(e){return at(e,"expr")}function Ui(e,{level:t}={level:0}){let r=Ve(e||{}),i={};for(let o of r)i[o]=t===0?xa(e[o]):Ui(e[o],{level:t-1});return i}function uD(e){let N=e,{anchor:t,frame:r,offset:i,orient:o,angle:a,limit:s,color:l,subtitleColor:u,subtitleFont:c,subtitleFontSize:f,subtitleFontStyle:d,subtitleFontWeight:p,subtitleLineHeight:m,subtitlePadding:g}=N,v=Ct(N,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),b=A(A({},v),l?{fill:l}:{}),_=A(A(A(A(A(A({},t?{anchor:t}:{}),r?{frame:r}:{}),i?{offset:i}:{}),o?{orient:o}:{}),a!==void 0?{angle:a}:{}),s!==void 0?{limit:s}:{}),D=A(A(A(A(A(A(A({},u?{subtitleColor:u}:{}),c?{subtitleFont:c}:{}),f?{subtitleFontSize:f}:{}),d?{subtitleFontStyle:d}:{}),p?{subtitleFontWeight:p}:{}),m?{subtitleLineHeight:m}:{}),g?{subtitlePadding:g}:{}),T=C0(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:b,subtitleMarkConfig:T,nonMarkTitleProperties:_,subtitle:D}}function zc(e){return ht(e)||Le(e)&&ht(e[0])}function Pt(e){return at(e,"signal")}function Dl(e){return at(e,"step")}function Sfe(e){return Le(e)?!1:at(e,"fields")&&!at(e,"data")}function Cfe(e){return Le(e)?!1:at(e,"fields")&&at(e,"data")}function Vc(e){return Le(e)?!1:at(e,"field")&&at(e,"data")}var l$e={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Efe=Ve(l$e),Dfe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},cD=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function fD(e){let t=Le(e.condition)?e.condition.map(Afe):Afe(e.condition);return _e(A({},xa(e)),{condition:t})}function xa(e){if(bh(e)){let t=e,{expr:r}=t,i=Ct(t,["expr"]);return A({signal:r},i)}return e}function Afe(e){if(bh(e)){let t=e,{expr:r}=t,i=Ct(t,["expr"]);return A({signal:r},i)}return e}function ur(e){if(bh(e)){let t=e,{expr:r}=t,i=Ct(t,["expr"]);return A({signal:r},i)}return Pt(e)?e:e!==void 0?{value:e}:void 0}function Mfe(e){return Pt(e)?e.signal:gt(e)}function sz(e){return Pt(e)?e.signal:gt(e.value)}function Zs(e){return Pt(e)?e.signal:e==null?null:gt(e)}function Tfe(e,t,r){for(let i of r){let o=Js(i,t.markDef,t.config);o!==void 0&&(e[i]=ur(o))}return e}function lz(e){return[].concat(e.type,e.style??[])}function Kn(e,t,r,i={}){let{vgChannel:o,ignoreVgConfig:a}=i;return o&&at(t,o)?t[o]:t[e]!==void 0?t[e]:a&&(!o||o===e)?void 0:Js(e,t,r,i)}function Js(e,t,r,{vgChannel:i}={}){let o=dD(e,t,r.style);return vr(i?o:void 0,o,i?r[t.type][i]:void 0,r[t.type][e],i?r.mark[i]:r.mark[e])}function dD(e,t,r){return uz(e,lz(t),r)}function uz(e,t,r){t=_t(t);let i;for(let o of t){let a=r[o];at(a,e)&&(i=a[e])}return i}function pD(e,t){return _t(e).reduce((r,i)=>(r.field.push(bt(i,t)),r.order.push(i.sort??"ascending"),r),{field:[],order:[]})}function cz(e,t){let r=[...e];return t.forEach(i=>{for(let o of r)if(va(o,i))return;r.push(i)}),r}function fz(e,t){return va(e,t)||!t?e:e?[..._t(e),..._t(t)].join(", "):t}function hD(e,t){let r=e.value,i=t.value;if(r==null||i===null)return{explicit:e.explicit,value:null};if((zc(r)||Pt(r))&&(zc(i)||Pt(i)))return{explicit:e.explicit,value:fz(r,i)};if(zc(r)||Pt(r))return{explicit:e.explicit,value:r};if(zc(i)||Pt(i))return{explicit:e.explicit,value:i};if(!zc(r)&&!Pt(r)&&!zc(i)&&!Pt(i))return{explicit:e.explicit,value:cz(r,i)};throw new Error("It should never reach here")}var je={};Ka(je,{ADD_SAME_CHILD_TWICE:()=>O$e,CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:()=>iUe,CONCAT_CANNOT_SHARE_AXIS:()=>T$e,FACETED_INDEPENDENT_DIFFERENT_SOURCES:()=>wUe,FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES:()=>_Ue,FACETED_INDEPENDENT_SAME_SOURCE:()=>SUe,FIT_NON_SINGLE:()=>c$e,INTERVAL_INITIALIZED_WITH_POS:()=>D$e,INVALID_CHANNEL_FOR_AXIS:()=>CUe,LEGEND_BINDINGS_MUST_HAVE_PROJECTION:()=>_$e,LINE_WITH_VARYING_SIZE:()=>W$e,MORE_THAN_ONE_SORT:()=>xUe,MULTIPLE_TIMER_ANIMATION_SELECTION:()=>dz,MULTI_VIEW_ANIMATION_UNSUPPORTED:()=>Am,NEEDS_SAME_SELECTION:()=>E$e,NO_FIELDS_NEEDS_AS:()=>I$e,REPLACE_ANGLE_WITH_THETA:()=>L$e,SCALE_BINDINGS_CONTINUOUS:()=>x$e,SEQUENTIAL_SCALE_DEPRECATED:()=>w$e,cannotApplySizeToNonOrientedMark:()=>cUe,cannotLookupVariableParameter:()=>S$e,cannotProjectAggregate:()=>g$e,cannotProjectOnChannelWithoutField:()=>m$e,cannotStackRangedMark:()=>EUe,cannotUseRelativeBandSizeWithNonBandScale:()=>aUe,cannotUseScalePropertyWithNonColor:()=>oUe,channelRequiredForBinned:()=>IUe,channelShouldBeDiscrete:()=>Q$e,channelShouldBeDiscreteOrDiscretizing:()=>Z$e,channelShouldNotBeUsedForBinned:()=>FUe,columnsNotSupportByRowCol:()=>M$e,containerSizeNonSingle:()=>f$e,containerSizeNotCompatibleWithAutosize:()=>d$e,customFormatTypeNotAllowed:()=>F$e,differentParse:()=>k$e,discreteChannelCannotEncode:()=>eUe,domainRequiredForThresholdScale:()=>PUe,domainSortDropped:()=>bUe,droppedDay:()=>TUe,droppingColor:()=>H$e,droppingFit:()=>p$e,emptyFieldDef:()=>j$e,errorBand1DNotSupport:()=>NUe,errorBarCenterAndExtentAreNotNeeded:()=>RUe,errorBarCenterIsUsedWithWrongExtent:()=>kUe,errorBarContinuousAxisHasCustomizedAggregate:()=>OUe,facetChannelDropped:()=>J$e,incompatibleChannel:()=>Y$e,independentScaleMeansIndependentGuide:()=>yUe,invalidAggregate:()=>V$e,invalidEncodingChannel:()=>K$e,invalidFieldType:()=>U$e,invalidFieldTypeForCountAggregate:()=>z$e,invalidSpec:()=>u$e,invalidTimeUnit:()=>MUe,invalidTransformIgnored:()=>N$e,lineWithRange:()=>nUe,mergeConflictingDomainProperty:()=>vUe,mergeConflictingProperty:()=>gUe,missingFieldType:()=>q$e,nearestNotSupportForContinuous:()=>v$e,noSameUnitLookup:()=>C$e,noSuchRepeatedValue:()=>A$e,offsetEncodingScaleIgnored:()=>X$e,offsetNestedInsideContinuousPositionScaleDropped:()=>B$e,orientOverridden:()=>rUe,primitiveChannelDef:()=>$$e,projectionOverridden:()=>P$e,rangeMarkAlignmentCannotBeExpression:()=>tUe,relativeBandSizeNotSupported:()=>G$e,scalePropertyNotWorkWithScaleType:()=>pUe,scaleTypeNotWorkWithChannel:()=>fUe,scaleTypeNotWorkWithFieldDef:()=>dUe,scaleTypeNotWorkWithMark:()=>hUe,selectionAsScaleDomainWithoutField:()=>pz,selectionAsScaleDomainWrongEncodings:()=>hz,selectionNotFound:()=>b$e,selectionNotSupported:()=>y$e,stackNonLinearScale:()=>DUe,stackNonSummativeAggregate:()=>AUe,stepDropped:()=>mUe,unaggregateDomainHasNoEffectForRawField:()=>sUe,unaggregateDomainWithNonSharedDomainOp:()=>lUe,unaggregatedDomainWithLogScale:()=>uUe,unknownField:()=>h$e,unrecognizedParse:()=>R$e});function u$e(e){return`Invalid specification ${Er(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}var c$e='Autosize "fit" only works for single views and layered views.';function f$e(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function d$e(e){let t=e=="width"?"Width":"Height",r=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${r}".`}function p$e(e){return e?`Dropping "fit-${e}" because spec has discrete ${Wi(e)}.`:'Dropping "fit" because spec has discrete size.'}function h$e(e){return`Unknown field for ${e}. Cannot calculate view size.`}function m$e(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function g$e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function v$e(e){return`The "nearest" transform is not supported for ${e} marks.`}function y$e(e){return`Selection not supported for ${e} yet.`}function b$e(e){return`Cannot find a selection named "${e}".`}var x$e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",w$e="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",_$e="Legend bindings are only supported for selections over an individual field or encoding channel.";function S$e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function C$e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}var E$e="The same selection must be used to override scale domains in a layered view.",D$e='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function A$e(e){return`Unknown repeated value "${e}".`}function M$e(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}var dz="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",Am="Animation involving facet, layer, or concat is currently unsupported.";function pz(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${gt(e)}.`}function hz(e,t,r,i){return(e.length?"Multiple ":"No ")+`matching ${gt(t)} encoding found for selection ${gt(r.param)}. Using "field": ${gt(i)}.`}var T$e="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function R$e(e){return`Unrecognized parse "${e}".`}function k$e(e,t,r){return`An ancestor parsed field "${e}" as ${r} but a child wants to parse the field as ${t}.`}var O$e="Attempt to add the same child twice.";function N$e(e){return`Ignoring an invalid transform: ${Er(e)}.`}var I$e='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function F$e(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function P$e(e){let{parentProjection:t,projection:r}=e;return`Layer's shared projection ${Er(t)} is overridden by a child projection ${Er(r)}.`}var L$e="Arc marks uses theta channel rather than angle, replacing angle with theta.";function B$e(e){return`${e}Offset dropped because ${e} is continuous`}function $$e(e,t,r){return`Channel ${e} is a ${t}. Converted to {value: ${Er(r)}}.`}function U$e(e){return`Invalid field type "${e}".`}function z$e(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function V$e(e){return`Invalid aggregation operator "${e}".`}function q$e(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function H$e(e,t){let{fill:r,stroke:i}=t;return`Dropping color ${e} as the plot also has ${r&&i?"fill and stroke":r?"fill":"stroke"}.`}function G$e(e){return`Position range does not support relative band size for ${e}.`}function j$e(e,t){return`Dropping ${Er(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}var W$e="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Y$e(e,t,r){return`${e} dropped as it is incompatible with "${t}"${r?` when ${r}`:""}.`}function X$e(e){return`${e} encoding has no scale, so specified scale is ignored.`}function K$e(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Q$e(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Z$e(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function J$e(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function eUe(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function tUe(e){return`The ${e} for range marks cannot be an expression`}function nUe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function rUe(e,t){return`Specified orient "${e}" overridden with "${t}".`}var iUe="Custom domain scale cannot be unioned with default field-based domain.";function oUe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function aUe(e){return`Cannot use the relative band size with ${e} scale.`}function sUe(e){return`Using unaggregated domain with raw field has no effect (${Er(e)}).`}function lUe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function uUe(e){return`Unaggregated domain is currently unsupported for log scale (${Er(e)}).`}function cUe(e){return`Cannot apply size to non-oriented mark "${e}".`}function fUe(e,t,r){return`Channel "${e}" does not work with "${t}" scale. We are using "${r}" scale instead.`}function dUe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function pUe(e,t,r){return`${r}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function hUe(e,t){return`Scale type "${t}" does not work with mark "${e}".`}function mUe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function gUe(e,t,r,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${Er(r)} and ${Er(i)}). Using ${Er(r)}.`}function vUe(e,t,r,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${Er(r)} and ${Er(i)}). Using the union of the two domains.`}function yUe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function bUe(e){return`Dropping sort property ${Er(e)} as unioned domains only support boolean or op "count", "min", and "max".`}var xUe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",wUe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",_Ue="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",SUe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",CUe="Invalid channel for axis.";function EUe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function DUe(e){return`Stack is applied to a non-linear scale (${e}).`}function AUe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function MUe(e,t){return`Invalid ${e}: ${Er(t)}.`}function TUe(e){return`Dropping day from datetime ${Er(e)} as day cannot be combined with other units.`}function RUe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function kUe(e,t,r){return`${e} is not usually used with ${t} for ${r}.`}function OUe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function NUe(e){return`1D error band does not support ${e}.`}function IUe(e){return`Channel ${e} is required for "binned" bin.`}function FUe(e){return`Channel ${e} should not be used with "binned" bin.`}function PUe(e){return`Domain for ${e} is required for threshold scale.`}var LUe,Rfe=A4(lw),Mm=Rfe;LUe=new WeakMap;function kfe(e){return Mm=e,Mm}function Ofe(){return Mm=Rfe,Mm}function A5(...e){Mm.error(...e)}function Ze(...e){Mm.warn(...e)}function Nfe(...e){Mm.debug(...e)}function Ou(e){if(e&&yt(e)){for(let t of mD)if(at(e,t))return!0}return!1}var Ife=["january","february","march","april","may","june","july","august","september","october","november","december"],BUe=Ife.map(e=>e.substr(0,3)),Ffe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],$Ue=Ffe.map(e=>e.substr(0,3));function UUe(e){if(K7(e)&&(e=+e),qn(e))return e>4&&Ze(je.invalidTimeUnit("quarter",e)),e-1;throw new Error(je.invalidTimeUnit("quarter",e))}function zUe(e){if(K7(e)&&(e=+e),qn(e))return e-1;{let t=e.toLowerCase(),r=Ife.indexOf(t);if(r!==-1)return r;let i=t.substr(0,3),o=BUe.indexOf(i);if(o!==-1)return o;throw new Error(je.invalidTimeUnit("month",e))}}function VUe(e){if(K7(e)&&(e=+e),qn(e))return e%7;{let t=e.toLowerCase(),r=Ffe.indexOf(t);if(r!==-1)return r;let i=t.substr(0,3),o=$Ue.indexOf(i);if(o!==-1)return o;throw new Error(je.invalidTimeUnit("day",e))}}function mz(e,t){let r=[];if(t&&e.day!==void 0&&Ve(e).length>1&&(Ze(je.droppedDay(e)),e=Xt(e),delete e.day),e.year!==void 0?r.push(e.year):r.push(2012),e.month!==void 0){let i=t?zUe(e.month):e.month;r.push(i)}else if(e.quarter!==void 0){let i=t?UUe(e.quarter):e.quarter;r.push(qn(i)?i*3:`${i}*3`)}else r.push(0);if(e.date!==void 0)r.push(e.date);else if(e.day!==void 0){let i=t?VUe(e.day):e.day;r.push(qn(i)?i+1:`${i}+1`)}else r.push(1);for(let i of["hours","minutes","seconds","milliseconds"]){let o=e[i];r.push(typeof o>"u"?0:o)}return r}function qc(e){let r=mz(e,!0).join(", ");return e.utc?`utc(${r})`:`datetime(${r})`}function Pfe(e){let r=mz(e,!1).join(", ");return e.utc?`utc(${r})`:`datetime(${r})`}function Lfe(e){let t=mz(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}var Bfe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},mD=Ve(Bfe);function $fe(e){return Dt(Bfe,e)}var qUe={binnedyear:1,binnedyearquarter:1,binnedyearquartermonth:1,binnedyearmonth:1,binnedyearmonthdate:1,binnedyearmonthdatehours:1,binnedyearmonthdatehoursminutes:1,binnedyearmonthdatehoursminutesseconds:1,binnedyearweek:1,binnedyearweekday:1,binnedyearweekdayhours:1,binnedyearweekdayhoursminutes:1,binnedyearweekdayhoursminutesseconds:1,binnedyeardayofyear:1},HUe={binnedutcyear:1,binnedutcyearquarter:1,binnedutcyearquartermonth:1,binnedutcyearmonth:1,binnedutcyearmonthdate:1,binnedutcyearmonthdatehours:1,binnedutcyearmonthdatehoursminutes:1,binnedutcyearmonthdatehoursminutesseconds:1,binnedutcyearweek:1,binnedutcyearweekday:1,binnedutcyearweekdayhours:1,binnedutcyearweekdayhoursminutes:1,binnedutcyearweekdayhoursminutesseconds:1,binnedutcyeardayofyear:1},qFt=A(A({},qUe),HUe);function Hc(e){return yt(e)?e.binned:Ufe(e)}function Ufe(e){return e&&e.startsWith("binned")}function gz(e){return e.startsWith("utc")}function GUe(e){return e.substring(3)}var jUe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function M5(e){return mD.filter(t=>zfe(e,t))}function vz(e){let t=M5(e);return t[t.length-1]}function zfe(e,t){let r=e.indexOf(t);return!(r<0||r>0&&t==="seconds"&&e.charAt(r-1)==="i"||e.length>r+3&&t==="day"&&e.charAt(r+3)==="o"||r>0&&t==="year"&&e.charAt(r-1)==="f")}function Vfe(e,t,{end:r}={end:!1}){let i=X7(t),o=gz(e)?"utc":"";function a(u){return u==="quarter"?`(${o}quarter(${i})-1)`:`${o}${u}(${i})`}let s,l={};for(let u of mD)zfe(e,u)&&(l[u]=a(u),s=u);return r&&(l[s]+="+1"),Pfe(l)}function yz(e){if(!e)return;let t=M5(e);return`timeUnitSpecifier(${Er(t)}, ${Er(jUe)})`}function qfe(e,t,r){if(!e)return;let i=yz(e);return`${r||gz(e)?"utc":"time"}Format(${t}, ${i})`}function Ti(e){if(!e)return;let t;return ht(e)?Ufe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:yt(e)&&(t=A(A({},e),e.unit?{unit:e.unit}:{})),gz(t.unit)&&(t.utc=!0,t.unit=GUe(t.unit)),t}function Hfe(e){let i=Ti(e),{utc:t}=i,r=Ct(i,["utc"]);return r.unit?(t?"utc":"")+Ve(r).map(o=>Cr(`${o==="unit"?"":`_${o}_`}${r[o]}`)).join(""):(t?"utc":"")+"timeunit"+Ve(r).map(o=>Cr(`_${o}_${r[o]}`)).join("")}function gD(e,t=r=>r){let r=Ti(e),i=vz(r.unit);if(i&&i!=="day"){let o={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:a,part:s}=bz(i,r.step),l=_e(A({},o),{[s]:+o[s]+a});return`${t(qc(l))} - ${t(qc(o))}`}}var WUe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function YUe(e){return Dt(WUe,e)}function bz(e,t=1){if(YUe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function Gfe(e){return at(e,"param")}function vD(e){return!!e?.field&&e.equal!==void 0}function yD(e){return!!e?.field&&e.lt!==void 0}function bD(e){return!!e?.field&&e.lte!==void 0}function xD(e){return!!e?.field&&e.gt!==void 0}function wD(e){return!!e?.field&&e.gte!==void 0}function _D(e){if(e?.field){if(Le(e.range)&&e.range.length===2)return!0;if(Pt(e.range))return!0}return!1}function SD(e){return!!e?.field&&(Le(e.oneOf)||Le(e.in))}function XUe(e){return!!e?.field&&e.valid!==void 0}function xz(e){return SD(e)||vD(e)||_D(e)||yD(e)||xD(e)||bD(e)||wD(e)}function nd(e,t){return Rm(e,{timeUnit:t,wrapTime:!0})}function KUe(e,t){return e.map(r=>nd(r,t))}function CD(e,t=!0){let{field:r}=e,i=Ti(e.timeUnit),{unit:o,binned:a}=i||{},s=bt(e,{expr:"datum"}),l=o?`time(${a?s:Vfe(o,r)})`:s;if(vD(e))return`${l}===${nd(e.equal,o)}`;if(yD(e)){let u=e.lt;return`${l}<${nd(u,o)}`}else if(xD(e)){let u=e.gt;return`${l}>${nd(u,o)}`}else if(bD(e)){let u=e.lte;return`${l}<=${nd(u,o)}`}else if(wD(e)){let u=e.gte;return`${l}>=${nd(u,o)}`}else{if(SD(e))return`indexof([${KUe(e.oneOf,o).join(",")}], ${l}) !== -1`;if(XUe(e))return Tm(l,e.valid);if(_D(e)){let{range:u}=Ui(e),c=Pt(u)?{signal:`${u.signal}[0]`}:u[0],f=Pt(u)?{signal:`${u.signal}[1]`}:u[1];if(c!==null&&f!==null&&t)return"inrange("+l+", ["+nd(c,o)+", "+nd(f,o)+"])";let d=[];return c!==null&&d.push(`${l} >= ${nd(c,o)}`),f!==null&&d.push(`${l} <= ${nd(f,o)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Er(e)}`)}function Tm(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function jfe(e){return xz(e)&&e.timeUnit?_e(A({},e),{timeUnit:Ti(e.timeUnit)}):e}var T5={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Wfe(e){return e==="quantitative"||e==="temporal"}function ED(e){return e==="ordinal"||e==="nominal"}var Nu=T5.quantitative,Q7=T5.ordinal,rd=T5.temporal,Z7=T5.nominal,Gc=T5.geojson,nPt=Ve(T5);function Yfe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Nu:return"quantitative";case"t":case rd:return"temporal";case"o":case Q7:return"ordinal";case"n":case Z7:return"nominal";case Gc:return"geojson"}}var vo={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},J7={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},lPt=Ve(J7);function Kfe(e,t){let r=J7[e],i=J7[t];return r===i||r==="ordinal-position"&&i==="time"||i==="ordinal-position"&&r==="time"}var QUe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function wz(e){return QUe[e]}var Qfe=new Set(["linear","log","pow","sqrt","symlog"]),Zfe=new Set([...Qfe,"time","utc"]);function _z(e){return Qfe.has(e)}var Jfe=new Set(["quantile","quantize","threshold"]),ZUe=new Set([...Zfe,...Jfe,"sequential","identity"]),JUe=new Set(["ordinal","bin-ordinal","point","band"]);function ci(e){return JUe.has(e)}function wa(e){return ZUe.has(e)}function Iu(e){return Zfe.has(e)}function T0(e){return Jfe.has(e)}var ede={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function tde(e){return!ht(e)&&at(e,"name")}function Sz(e){return at(e,"param")}function nde(e){return at(e,"unionWith")}function rde(e){return yt(e)&&"field"in e}var ide={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},uPt=Ve(ide),Xfe=ide,{type:cPt,domain:fPt,range:dPt,rangeMax:pPt,rangeMin:hPt,scheme:mPt}=Xfe,eze=Ct(Xfe,["type","domain","range","rangeMax","rangeMin","scheme"]),ode=Ve(eze);function ev(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Iu(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Iu(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Iu(e);case"nice":return Iu(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return wa(e)&&!gn(["log","time","utc","threshold","quantile"],e)}}function DD(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return A0(e)?void 0:je.cannotUseScalePropertyWithNonColor(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function ade(e,t){return gn([Q7,Z7],t)?e===void 0||ci(e):t===rd?gn([vo.TIME,vo.UTC,void 0],e):t===Nu?_z(e)||T0(e)||e===void 0:!0}function sde(e,t,r=!1){if(!Oo(e))return!1;switch(e){case Lr:case Ai:case Tu:case td:case Va:case us:return Iu(t)||t==="band"?!0:t==="point"?!r:!1;case eu:return gn(["linear","band"],t);case El:case ru:case Qs:case tu:case nu:case $c:return Iu(t)||T0(t)||gn(["band","point","ordinal"],t);case so:case fs:case ds:return t!=="band";case iu:case ji:return t==="ordinal"||T0(t)}}function lde(e){return yt(e)&&"value"in e}var el={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Ez=el.arc,km=el.area,Om=el.bar,ude=el.image,Nm=el.line,R5=el.point,cde=el.rect,k5=el.rule,AD=el.text,tv=el.tick,fde=el.trail,nv=el.circle,rv=el.square,MD=el.geoshape;function ps(e){return["line","area","trail"].includes(e)}function R0(e){return["rect","bar","image","arc","tick"].includes(e)}var dde=new Set(Ve(el));function Wa(e){return at(e,"type")}var tze=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],nze=["fill","fillOpacity"],pde=[...tze,...nze],rze={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Dz=Ve(rze),Cz=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],hde={area:["line","point"],bar:Cz,rect:Cz,line:["point"],tick:["bandSize","thickness",...Cz]},mde={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},ize={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},TD=Ve(ize);function id(e){return at(e,"band")}var gde={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},oze=5,RD={binSpacing:0,continuousBandSize:oze,minBandSize:.25,timeUnitBandPosition:.5},vde=_e(A({},RD),{binSpacing:1}),yde=_e(A({},RD),{thickness:1});function bde(e){return Wa(e)?e.type:e}function kD(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function O5({markDef:e,config:t,scaleChannel:r,scaleType:i,isCountAggregate:o}){if(!i||!wa(i)||o)return"always-valid";let a=kD(Kn("invalid",e,t),{isPath:ps(e.type)});return t.scale?.invalid?.[r]!==void 0?"show":a}function xde(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function OD({scaleName:e,scale:t,mode:r}){let i=`domain('${e}')`;if(!t||!e)return;let o=`${i}[0]`,a=`peek(${i})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${i}) ? 0 : ${r==="zeroOrMin"?o:a})`}:{signal:`scale('${e}', ${r==="zeroOrMin"?o:a})`}}function ND({scaleChannel:e,channelDef:t,scale:r,scaleName:i,markDef:o,config:a}){let s=r?.get("type"),l=Ko(t),u=yh(l?.aggregate),c=O5({scaleChannel:e,markDef:o,config:a,scaleType:s,isCountAggregate:u});if(l&&c==="show"){let f=a.scale.invalid?.[e]??"zero-or-min";return A({test:Tm(bt(l,{expr:"datum"}),!1)},sze(f,r,i))}}function sze(e,t,r){if(lde(e)){let{value:i}=e;return Pt(i)?{signal:i.signal}:{value:i}}return OD({scale:t,scaleName:r,mode:"zeroOrMin"})}function I5(e){let{channel:t,channelDef:r,markDef:i,scale:o,scaleName:a,config:s}=e,l=ou(t),u=iv(e),c=ND({scaleChannel:l,channelDef:r,scale:o,scaleName:a,markDef:i,config:s});return c!==void 0?[c,u]:u}function wde(e){let{datum:t}=e;return Ou(t)?qc(t):`${Er(t)}`}function od(e,t,r,i){let o={};if(t&&(o.scale=t),hs(e)){let{datum:a}=e;Ou(a)?o.signal=qc(a):Pt(a)?o.signal=a.signal:bh(a)?o.signal=a.expr:o.value=a}else o.field=bt(e,r);if(i){let{offset:a,band:s}=i;a&&(o.offset=a),s&&(o.band=s)}return o}function N5({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:r,offset:i,startSuffix:o,endSuffix:a="end",bandPosition:s=.5}){let l=!Pt(s)&&0<s&&s<1?"datum":void 0,u=bt(t,{expr:l,suffix:o}),c=r!==void 0?bt(r,{expr:l}):bt(t,{suffix:a,expr:l}),f={};if(s===0||s===1){f.scale=e;let d=s===0?u:c;f.field=d}else{let d=Pt(s)?`(1-${s.signal}) * ${u} + ${s.signal} * ${c}`:`${1-s} * ${u} + ${s} * ${c}`;f.signal=`scale("${e}", ${d})`}return i&&(f.offset=i),f}function _de({scaleName:e,fieldDef:t}){let r=bt(t,{expr:"datum"}),i=bt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${i}) - scale("${e}", ${r}))`}function iv({channel:e,channelDef:t,channel2Def:r,markDef:i,config:o,scaleName:a,scale:s,stack:l,offset:u,defaultRef:c,bandPosition:f}){if(t){if(_n(t)){let d=s?.get("type");if(Yi(t)){f??(f=Al({fieldDef:t,fieldDef2:r,markDef:i,config:o}));let{bin:p,timeUnit:m,type:g}=t;if(lr(p)||f&&m&&g===rd)return l?.impute?od(t,a,{binSuffix:"mid"},{offset:u}):f&&!ci(d)?N5({scaleName:a,fieldOrDatumDef:t,bandPosition:f,offset:u}):od(t,a,ad(t,e)?{binSuffix:"range"}:{},{offset:u});if(Mi(p)){if(st(r))return N5({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:r,bandPosition:f,offset:u});{let v=e===Lr?Cl:Jl;Ze(je.channelRequiredForBinned(v))}}}return od(t,a,ci(d)?{binSuffix:"range"}:{},{offset:u,band:d==="band"?f??t.bandPosition??.5:void 0})}else if(No(t)){let d=t.value,p=u?{offset:u}:{};return A(A({},Im(e,d)),p)}}return En(c)&&(c=c()),c&&A(A({},c),u?{offset:u}:{})}function Im(e,t){return gn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:gn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ur(t)}function sd(e){return e&&e!=="number"&&e!=="time"}function Cde(e,t,r){return`${e}(${t}${r?`, ${Er(r)}`:""})`}var lze=" \u2013 ";function F5({fieldOrDatumDef:e,format:t,formatType:r,expr:i,normalizeStack:o,config:a}){if(sd(r))return su({fieldOrDatumDef:e,format:t,formatType:r,expr:i,config:a});let s=Ede(e,i,o),l=k0(e);if(t===void 0&&r===void 0&&a.customFormatTypes){if(l==="quantitative"){if(o&&a.normalizedNumberFormatType)return su({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:i,config:a});if(a.numberFormatType)return su({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:i,config:a})}if(l==="temporal"&&a.timeFormatType&&st(e)&&e.timeUnit===void 0)return su({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:i,config:a})}if(N0(e)){let u=cze({field:s,timeUnit:st(e)?Ti(e.timeUnit)?.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:Fu(e)&&e.scale?.type===vo.UTC});return u?{signal:u}:void 0}if(t=Az({type:l,specifiedFormat:t,config:a,normalizeStack:o}),st(e)&&lr(e.bin)){let u=bt(e,{expr:i,binSuffix:"end"});return{signal:Fm(s,u,t,r,a)}}else return t||k0(e)==="quantitative"?{signal:`${Dde(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function Ede(e,t,r){return st(e)?r?`${bt(e,{expr:t,suffix:"end"})}-${bt(e,{expr:t,suffix:"start"})}`:bt(e,{expr:t}):wde(e)}function su({fieldOrDatumDef:e,format:t,formatType:r,expr:i,normalizeStack:o,config:a,field:s}){if(s??(s=Ede(e,i,o)),s!=="datum.value"&&st(e)&&lr(e.bin)){let l=bt(e,{expr:i,binSuffix:"end"});return{signal:Fm(s,l,t,r,a)}}return{signal:Cde(r,s,t)}}function FD(e,t,r,i,o,a){if(!(ht(i)&&sd(i))&&!(r===void 0&&i===void 0&&o.customFormatTypes&&k0(e)==="quantitative"&&(o.normalizedNumberFormatType&&O0(e)&&e.stack==="normalize"||o.numberFormatType))){if(O0(e)&&e.stack==="normalize"&&o.normalizedNumberFormat)return Az({type:"quantitative",config:o,normalizeStack:!0});if(N0(e)){let s=st(e)?Ti(e.timeUnit)?.unit:void 0;return s===void 0&&o.customFormatTypes&&o.timeFormatType?void 0:uze({specifiedFormat:r,timeUnit:s,config:o,omitTimeFormatConfig:a})}return Az({type:t,specifiedFormat:r,config:o})}}function PD(e,t,r){if(e&&(Pt(e)||e==="number"||e==="time"))return e;if(N0(t)&&r!=="time"&&r!=="utc")return st(t)&&Ti(t?.timeUnit)?.utc?"utc":"time"}function Az({type:e,specifiedFormat:t,config:r,normalizeStack:i}){if(ht(t))return t;if(e===Nu)return i?r.normalizedNumberFormat:r.numberFormat}function uze({specifiedFormat:e,timeUnit:t,config:r,omitTimeFormatConfig:i}){return e||(t?{signal:yz(t)}:i?void 0:r.timeFormat)}function Dde(e,t){return`format(${e}, "${t||""}")`}function Sde(e,t,r,i){return sd(r)?Cde(r,e,t):Dde(e,(ht(t)?t:void 0)??i.numberFormat)}function Fm(e,t,r,i,o){if(r===void 0&&i===void 0&&o.customFormatTypes&&o.numberFormatType)return Fm(e,t,o.numberFormat,o.numberFormatType,o);let a=Sde(e,r,i,o),s=Sde(t,r,i,o);return`${Tm(e,!1)} ? "null" : ${a} + "${lze}" + ${s}`}function cze({field:e,timeUnit:t,format:r,formatType:i,rawTimeFormat:o,isUTCScale:a}){return!t||r?!t&&i?`${i}(${e}, '${r}')`:(r=ht(r)?r:o,`${a?"utc":"time"}Format(${e}, '${r}')`):qfe(t,e,a)}var xh="min",fze={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Mz(e){return Dt(fze,e)}function Ade(e){return at(e,"encoding")}function ms(e){return e&&(e.op==="count"||at(e,"field"))}function LD(e){return e&&Le(e)}function ld(e){return at(e,"row")||at(e,"column")}function BD(e){return at(e,"header")}function I0(e){return at(e,"facet")}function Mde(e){return at(e,"param")}function Tde(e){return!ht(e)&&at(e,"repeat")}function Tz(e){let{field:t,timeUnit:r,bin:i,aggregate:o}=e;return _e(A(A(A({},r?{timeUnit:r}:{}),i?{bin:i}:{}),o?{aggregate:o}:{}),{field:t})}function UD(e){return at(e,"sort")}function Al({fieldDef:e,fieldDef2:t,markDef:r,config:i}){if(_n(e)&&e.bandPosition!==void 0)return e.bandPosition;if(st(e)){let{timeUnit:o,bin:a}=e;if(o&&!t)return Js("timeUnitBandPosition",r,i);if(lr(a))return .5}}function Rz({channel:e,fieldDef:t,fieldDef2:r,markDef:i,config:o,scaleType:a,useVlSizeChannel:s}){let l=Wi(e),u=Kn(s?"size":l,i,o,{vgChannel:l});if(u!==void 0)return u;if(st(t)){let{timeUnit:c,bin:f}=t;if(c&&!r)return{band:Js("timeUnitBandSize",i,o)};if(lr(f)&&!ci(a))return{band:1}}if(R0(i.type))return a?ci(a)?o[i.type]?.discreteBandSize||{band:1}:o[i.type]?.continuousBandSize:o[i.type]?.discreteBandSize}function zD(e,t,r,i){return lr(e.bin)||e.timeUnit&&Yi(e)&&e.type==="temporal"?Al({fieldDef:e,fieldDef2:t,markDef:r,config:i})!==void 0:!1}function VD(e){return at(e,"sort")&&!at(e,"field")}function ud(e){return at(e,"condition")}function L5(e){let t=e?.condition;return!!t&&!Le(t)&&st(t)}function wh(e){let t=e?.condition;return!!t&&!Le(t)&&_n(t)}function Rde(e){let t=e?.condition;return!!t&&(Le(t)||No(t))}function st(e){return at(e,"field")||e?.aggregate==="count"}function k0(e){return e?.type}function hs(e){return at(e,"datum")}function jc(e){return Yi(e)&&!ov(e)||av(e)}function kz(e){return Yi(e)&&e.type==="quantitative"&&!e.bin||av(e)}function av(e){return hs(e)&&qn(e.datum)}function _n(e){return st(e)||hs(e)}function Yi(e){return e&&(at(e,"field")||e.aggregate==="count")&&at(e,"type")}function No(e){return at(e,"value")}function Fu(e){return at(e,"scale")||at(e,"sort")}function O0(e){return at(e,"axis")||at(e,"stack")||at(e,"impute")}function kde(e){return at(e,"legend")}function Ode(e){return at(e,"format")||at(e,"formatType")}function Nde(e){return ao(e,["legend","axis","header","scale"])}function dze(e){return at(e,"op")}function bt(e,t={}){let r=e.field,i=t.prefix,o=t.suffix,a="";if(hze(e))r=QU("count");else{let s;if(!t.nofn)if(dze(e))s=e.op;else{let{bin:l,aggregate:u,timeUnit:c}=e;lr(l)?(s=lD(l),o=(t.binSuffix??"")+(t.suffix??"")):u?ku(u)?(a=`["${r}"]`,r=`argmax_${u.argmax}`):au(u)?(a=`["${r}"]`,r=`argmin_${u.argmin}`):s=String(u):c&&!Hc(c)&&(s=Hfe(c),o=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(r=r?`${s}_${r}`:s)}return o&&(r=`${r}_${o}`),i&&(r=`${i}_${r}`),t.forAs?E0(r):t.expr?XU(r,t.expr)+a:ko(r)+a}function ov(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return st(e)&&!!e.bin;case"temporal":return!1}throw new Error(je.invalidFieldType(e.type))}function pze(e){return Fu(e)&&T0(e.scale?.type)}function hze(e){return e.aggregate==="count"}function mze(e,t){let{field:r,bin:i,timeUnit:o,aggregate:a}=e;if(a==="count")return t.countTitle;if(lr(i))return`${r} (binned)`;if(o&&!Hc(o)){let s=Ti(o)?.unit;if(s)return`${r} (${M5(s).join("-")})`}else if(a)return ku(a)?`${r} for max ${a.argmax}`:au(a)?`${r} for min ${a.argmin}`:`${hh(a)} of ${r}`;return r}function gze(e){let{aggregate:t,bin:r,timeUnit:i,field:o}=e;if(ku(t))return`${o} for argmax(${t.argmax})`;if(au(t))return`${o} for argmin(${t.argmin})`;let a=i&&!Hc(i)?Ti(i):void 0,s=t||a?.unit||a?.maxbins&&"timeunit"||lr(r)&&"bin";return s?`${s.toUpperCase()}(${o})`:o}var Ide=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return gze(e);default:return mze(e,t)}},Fde=Ide;function Oz(e){Fde=e}function Pde(){Oz(Ide)}function cd(e,t,{allowDisabling:r,includeDefault:i=!0}){let o=qD(e)?.title;if(!st(e))return o??e.title;let a=e,s=i?sv(a,t):void 0;return r?vr(o,a.title,s):o??a.title??s}function qD(e){if(O0(e)&&e.axis)return e.axis;if(kde(e)&&e.legend)return e.legend;if(BD(e)&&e.header)return e.header}function sv(e,t){return Fde(e,t)}function B5(e){if(Ode(e)){let{format:t,formatType:r}=e;return{format:t,formatType:r}}else{let t=qD(e)??{},{format:r,formatType:i}=t;return{format:r,formatType:i}}}function vze(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(UD(e)&&Le(e.sort))return"ordinal";let{aggregate:r,bin:i,timeUnit:o}=e;if(o)return"temporal";if(i||r&&!ku(r)&&!au(r))return"quantitative";if(Fu(e)&&e.scale?.type)switch(J7[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Ko(e){if(st(e))return e;if(L5(e))return e.condition}function ni(e){if(_n(e))return e;if(wh(e))return e.condition}function Nz(e,t,r,i={}){if(ht(e)||qn(e)||ul(e)){let o=ht(e)?"string":qn(e)?"number":"boolean";return Ze(je.primitiveChannelDef(t,o,e)),{value:e}}return _n(e)?$D(e,t,r,i):wh(e)?_e(A({},e),{condition:$D(e.condition,t,r,i)}):e}function $D(e,t,r,i){if(Ode(e)){let o=e,{format:s,formatType:l}=o,u=Ct(o,["format","formatType"]);if(sd(l)&&!r.customFormatTypes)return Ze(je.customFormatTypeNotAllowed(t)),$D(u,t,r,i)}else{let s=O0(e)?"axis":kde(e)?"legend":BD(e)?"header":null;if(s&&e[s]){let a=e[s],{format:l,formatType:u}=a,c=Ct(a,["format","formatType"]);if(sd(u)&&!r.customFormatTypes)return Ze(je.customFormatTypeNotAllowed(t)),$D(_e(A({},e),{[s]:c}),t,r,i)}}return st(e)?lv(e,t,i):yze(e)}function yze(e){let t=e.type;if(t)return e;let{datum:r}=e;return t=qn(r)?"quantitative":ht(r)?"nominal":Ou(r)?"temporal":void 0,_e(A({},e),{type:t})}function lv(e,t,{compositeMark:r=!1}={}){let{aggregate:i,timeUnit:o,bin:a,field:s}=e,l=A({},e);if(!r&&i&&!C5(i)&&!ku(i)&&!au(i)&&(Ze(je.invalidAggregate(i)),delete l.aggregate),o&&(l.timeUnit=Ti(o)),s&&(l.field=`${s}`),lr(a)&&(l.bin=D5(a,t)),Mi(a)&&!Br(t)&&Ze(je.channelShouldNotBeUsedForBinned(t)),Yi(l)){let{type:c}=l,f=Yfe(c);c!==f&&(l.type=f),c!=="quantitative"&&yh(i)&&(Ze(je.invalidFieldTypeForCountAggregate(c,i)),l.type="quantitative")}else if(!iD(t)){let c=vze(l,t);l.type=c}if(Yi(l)){let{compatible:c,warning:f}=bze(l,t)||{};c===!1&&Ze(f)}if(UD(l)&&ht(l.sort)){let{sort:c}=l;if(Mz(c))return _e(A({},l),{sort:{encoding:c}});let f=c.substring(1);if(c.charAt(0)==="-"&&Mz(f))return _e(A({},l),{sort:{encoding:f,order:"descending"}})}if(BD(l)){let{header:c}=l;if(c){let u=c,{orient:f}=u,d=Ct(u,["orient"]);if(f)return _e(A({},l),{header:_e(A({},d),{labelOrient:c.labelOrient||f,titleOrient:c.titleOrient||f})})}}return l}function D5(e,t){return ul(e)?{maxbins:az(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?_e(A({},e),{maxbins:az(t)}):e}var P5={compatible:!0};function bze(e,t){let r=e.type;if(r==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case _l:case Sl:case v5:return ov(e)?P5:{compatible:!1,warning:je.channelShouldBeDiscrete(t)};case Lr:case Ai:case Tu:case td:case so:case fs:case ds:case Em:case Dm:case y5:case D0:case b5:case x5:case $c:case Va:case us:case w5:return P5;case Ha:case Ga:case qa:case cs:return r!==Nu?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:P5;case Qs:case tu:case nu:case ru:case El:case Bc:case Lc:case Cl:case Jl:case eu:return r==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:P5;case ji:case iu:return!ov(e)&&!pze(e)?{compatible:!1,warning:je.channelShouldBeDiscreteOrDiscretizing(t)}:P5;case gh:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:P5}}function N0(e){let{formatType:t}=B5(e);return t==="time"||!t&&xze(e)}function xze(e){return e&&(e.type==="temporal"||st(e)&&!!e.timeUnit)}function Rm(e,{timeUnit:t,type:r,wrapTime:i,undefinedIfExprNotRequired:o}){let a=t&&Ti(t)?.unit,s=a||r==="temporal",l;return bh(e)?l=e.expr:Pt(e)?l=e.signal:Ou(e)?(s=!0,l=qc(e)):(ht(e)||qn(e))&&s&&(l=`datetime(${Er(e)})`,$fe(a)&&(qn(e)&&e<1e4||ht(e)&&isNaN(Date.parse(e)))&&(l=qc({[a]:e}))),l?i&&s?`time(${l})`:l:o?void 0:Er(e)}function HD(e,t){let{type:r}=e;return t.map(i=>{let o=st(e)&&!Hc(e.timeUnit)?e.timeUnit:void 0,a=Rm(i,{timeUnit:o,type:r,undefinedIfExprNotRequired:!0});return a!==void 0?{signal:a}:i})}function ad(e,t){return lr(e.bin)?Oo(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}var Iz={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function F0(e){return e?.condition}var GD=["domain","grid","labels","ticks","title"],Lde={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Fz={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Bde=_e(A({},Fz),{style:1,labelExpr:1,encoding:1});function Pz(e){return Dt(Bde,e)}var NLt=Ve(Bde),_ze={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Lz=Ve(_ze);function Qo(e){return at(e,"mark")}var fd=class{constructor(t,r){this.name=t,this.run=r}hasMatchingType(t){return Qo(t)?bde(t.mark)===this.name:!1}};function dd(e,t){let r=e&&e[t];return r?Le(r)?ph(r,i=>!!i.field):st(r)||L5(r):!1}function Bz(e,t){let r=e&&e[t];return r?Le(r)?ph(r,i=>!!i.field):st(r)||hs(r)||wh(r):!1}function jD(e,t){if(Br(t)){let r=e[t];if((st(r)||hs(r))&&(ED(r.type)||st(r)&&r.timeUnit)){let i=_5(t);return Bz(e,i)}}return!1}function WD(e){return ph(nfe,t=>{if(dd(e,t)){let r=e[t];if(Le(r))return ph(r,i=>!!i.aggregate);{let i=Ko(r);return i&&!!i.aggregate}}return!1})}function YD(e,t){let r=[],i=[],o=[],a=[],s={};return uv(e,(l,u)=>{if(st(l)){let c=l,{field:f,aggregate:d,bin:p,timeUnit:m}=c,g=Ct(c,["field","aggregate","bin","timeUnit"]);if(d||m||p){let b=qD(l)?.title,_=bt(l,{forAs:!0}),D=_e(A(A({},b?[]:{title:cd(l,t,{allowDisabling:!0})}),g),{field:_});if(d){let T;if(ku(d)?(T="argmax",_=bt({op:"argmax",field:d.argmax},{forAs:!0}),D.field=`${_}.${f}`):au(d)?(T="argmin",_=bt({op:"argmin",field:d.argmin},{forAs:!0}),D.field=`${_}.${f}`):d!=="boxplot"&&d!=="errorbar"&&d!=="errorband"&&(T=d),T){let N={op:T,as:_};f&&(N.field=f),a.push(N)}}else if(r.push(_),Yi(l)&&lr(p)){if(i.push({bin:p,field:f,as:_}),r.push(bt(l,{binSuffix:"end"})),ad(l,u)&&r.push(bt(l,{binSuffix:"range"})),Br(u)){let T={field:`${_}_end`};s[`${u}2`]=T}D.bin="binned",iD(u)||(D.type=Nu)}else if(m&&!Hc(m)){o.push({timeUnit:m,field:f,as:_});let T=Yi(l)&&l.type!==rd&&"time";T&&(u===Em||u===D0?D.formatType=T:hfe(u)?D.legend=A({formatType:T},D.legend):Br(u)&&(D.axis=A({formatType:T},D.axis)))}s[u]=D}else r.push(f),s[u]=e[u]}else s[u]=e[u]}),{bins:i,timeUnits:o,aggregate:a,groupby:r,encoding:s}}function Sze(e,t,r){let i=vfe(t,r);if(i){if(i==="binned"){let o=e[t===Cl?Lr:Ai];return!!(st(o)&&st(e[t])&&Mi(o.bin))}}else return!1;return!0}function $de(e,t,r,i){let o={};for(let a of Ve(e))rD(a)||Ze(je.invalidEncodingChannel(a));for(let a of lfe){if(!e[a])continue;let s=e[a];if(M0(a)){let l=sfe(a),u=o[l];if(st(u)&&Wfe(u.type)&&st(s)&&!u.timeUnit){Ze(je.offsetNestedInsideContinuousPositionScaleDropped(l));continue}}if(a==="angle"&&t==="arc"&&!e.theta&&(Ze(je.REPLACE_ANGLE_WITH_THETA),a=Va),!Sze(e,a,t)){Ze(je.incompatibleChannel(a,t));continue}if(a===El&&t==="line"&&Ko(e[a])?.aggregate){Ze(je.LINE_WITH_VARYING_SIZE);continue}if(a===so&&(r?"fill"in e:"stroke"in e)){Ze(je.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===Dm||a===gh&&!Le(s)&&!No(s)||a===D0&&Le(s)){if(s){if(a===gh){let l=e[a];if(VD(l)){o[a]=l;continue}}o[a]=_t(s).reduce((l,u)=>(st(u)?l.push(lv(u,a)):Ze(je.emptyFieldDef(u,a)),l),[])}}else{if(a===D0&&s===null)o[a]=null;else if(!st(s)&&!hs(s)&&!No(s)&&!ud(s)&&!Pt(s)){Ze(je.emptyFieldDef(s,a));continue}o[a]=Nz(s,a,i)}}return o}function _h(e,t){let r={};for(let i of Ve(e)){let o=Nz(e[i],i,t,{compositeMark:!0});r[i]=o}return r}function Ude(e){let t=[];for(let r of Ve(e))if(dd(e,r)){let i=e[r],o=_t(i);for(let a of o)st(a)?t.push(a):L5(a)&&t.push(a.condition)}return t}function uv(e,t,r){if(e)for(let i of Ve(e)){let o=e[i];if(Le(o))for(let a of o)t.call(r,a,i);else t.call(r,o,i)}}function zde(e,t,r,i){return e?Ve(e).reduce((o,a)=>{let s=e[a];return Le(s)?s.reduce((l,u)=>t.call(i,l,u,a),o):t.call(i,o,s,a)},r):r}function XD(e,t){return Ve(t).reduce((r,i)=>{switch(i){case Lr:case Ai:case b5:case w5:case x5:case Cl:case Jl:case Tu:case td:case Va:case Bc:case us:case Lc:case eu:case qa:case Ha:case cs:case Ga:case Em:case ji:case $c:case D0:return r;case gh:if(e==="line"||e==="trail")return r;case Dm:case y5:{let o=t[i];if(Le(o)||st(o))for(let a of _t(o))a.aggregate||r.push(bt(a,{}));return r}case El:if(e==="trail")return r;case so:case fs:case ds:case Qs:case tu:case nu:case iu:case ru:{let o=Ko(t[i]);return o&&!o.aggregate&&r.push(bt(o,{})),r}}},[])}function Vde(e){let a=e,{tooltip:t}=a,r=Ct(a,["tooltip"]);if(!t)return{filteredEncoding:r};let i,o;if(Le(t)){for(let s of t)s.aggregate?(i||(i=[]),i.push(s)):(o||(o=[]),o.push(s));i&&(r.tooltip=i)}else t.aggregate?r.tooltip=t:o=t;return Le(o)&&o.length===1&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:r}}function cv(e,t,r,i=!0){if("tooltip"in r)return{tooltip:r.tooltip};let o=e.map(({fieldPrefix:s,titlePrefix:l})=>{let u=i?` of ${QD(t)}`:"";return{field:s+t.field,type:t.type,title:Pt(l)?{signal:`${l}"${escape(u)}"`}:l+u}}),a=Ude(r).map(Nde);return{tooltip:[...o,...ls(a,rn)]}}function QD(e){let{title:t,field:r}=e;return vr(t,r)}function $5(e,t,r,i,o){let{scale:a,axis:s}=r;return({partName:l,mark:u,positionPrefix:c,endPositionPrefix:f=void 0,extraEncoding:d={}})=>{let p=QD(r);return $z(e,l,o,{mark:u,encoding:A(A(A({[t]:A(A(A({field:`${c}_${r.field}`,type:r.type},p!==void 0?{title:p}:{}),a!==void 0?{scale:a}:{}),s!==void 0?{axis:s}:{})},ht(f)?{[`${t}2`]:{field:`${f}_${r.field}`}}:{}),i),d)})}}function $z(e,t,r,i){let{clip:o,color:a,opacity:s}=e,l=e.type;return e[t]||e[t]===void 0&&r[t]?[_e(A({},i),{mark:A(_e(A(A(A(A(A({},r[t]),o?{clip:o}:{}),a?{color:a}:{}),s?{opacity:s}:{}),Wa(i.mark)?i.mark:{type:i.mark}),{style:`${l}-${String(t)}`}),ul(e[t])?{}:e[t])})]:[]}function ZD(e,t,r){let{encoding:i}=e,o=t==="vertical"?"y":"x",a=i[o],s=i[`${o}2`],l=i[`${o}Error`],u=i[`${o}Error2`];return{continuousAxisChannelDef:KD(a,r),continuousAxisChannelDef2:KD(s,r),continuousAxisChannelDefError:KD(l,r),continuousAxisChannelDefError2:KD(u,r),continuousAxis:o}}function KD(e,t){if(e?.aggregate){let r=e,{aggregate:i}=r,o=Ct(r,["aggregate"]);return i!==t&&Ze(je.errorBarContinuousAxisHasCustomizedAggregate(i,t)),o}else return e}function JD(e,t){let{mark:r,encoding:i}=e,{x:o,y:a}=i;if(Wa(r)&&r.orient)return r.orient;if(jc(o)){if(jc(a)){let s=st(o)&&o.aggregate,l=st(a)&&a.aggregate;if(!s&&l===t)return"vertical";if(!l&&s===t)return"horizontal";if(s===t&&l===t)throw new Error("Both x and y cannot have aggregate");return N0(a)&&!N0(o)?"horizontal":"vertical"}return"horizontal"}else{if(jc(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}var fv="boxplot",qde=["box","median","outliers","rule","ticks"],Hde=new fd(fv,Uz);function Gde(e){return qn(e)?"tukey":e}function Uz(e,{config:t}){e=_e(A({},e),{encoding:_h(e.encoding,t)});let ue=e,{mark:r,encoding:i,params:o,projection:a}=ue,s=Ct(ue,["mark","encoding","params","projection"]),l=Wa(r)?r:{type:r};o&&Ze(je.selectionNotSupported("boxplot"));let u=l.extent??t.boxplot.extent,c=Kn("size",l,t),f=l.invalid,d=Gde(u),{bins:p,timeUnits:m,transform:g,continuousAxisChannelDef:v,continuousAxis:b,groupby:_,aggregate:D,encodingWithoutContinuousAxis:T,ticksOrient:N,boxOrient:z,customTooltipWithoutAggregatedField:j}=Eze(e,u,t),B=E0(v.field),Ne=T,{color:U,size:x}=Ne,w=Ct(Ne,["color","size"]),C=Fe=>$5(l,b,v,Fe,t.boxplot),k=C(w),F=C(T),I=(yt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",R=C(_e(A(A({},w),x?{size:x}:{}),{color:{condition:A({test:`${Xr(`lower_box_${v.field}`)} >= ${Xr(`upper_box_${v.field}`)}`},U||{value:I})}})),$=cv([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],v,T),Y={type:"tick",color:"black",opacity:1,orient:N,invalid:f,aria:!1},re=d==="min-max"?$:cv([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,T),ne=[...k({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:re}),...k({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:re}),...k({partName:"ticks",mark:Y,positionPrefix:"lower_whisker",extraEncoding:re}),...k({partName:"ticks",mark:Y,positionPrefix:"upper_whisker",extraEncoding:re})],he=[...d!=="tukey"?ne:[],...F({partName:"box",mark:_e(A({type:"bar"},c?{size:c}:{}),{orient:z,invalid:f,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:$}),...R({partName:"median",mark:_e(A(A({type:"tick",invalid:f},yt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),c?{size:c}:{}),{orient:N,aria:!1}),positionPrefix:"mid_box",extraEncoding:$})];if(d==="min-max")return _e(A({},s),{transform:(s.transform??[]).concat(g),layer:he});let ge=Xr(`lower_box_${v.field}`),Me=Xr(`upper_box_${v.field}`),be=`(${Me} - ${ge})`,ut=`${ge} - ${u} * ${be}`,Pe=`${Me} + ${u} * ${be}`,Mt=Xr(v.field),Vt={joinaggregate:jde(v.field),groupby:_},nn={transform:[{filter:`(${ut} <= ${Mt}) && (${Mt} <= ${Pe})`},{aggregate:[{op:"min",field:v.field,as:`lower_whisker_${B}`},{op:"max",field:v.field,as:`upper_whisker_${B}`},{op:"min",field:`lower_box_${v.field}`,as:`lower_box_${B}`},{op:"max",field:`upper_box_${v.field}`,as:`upper_box_${B}`},...D],groupby:_}],layer:ne},et=w,{tooltip:xe}=et,qe=Ct(et,["tooltip"]),{scale:Ge,axis:pe}=v,Zt=QD(v),lt=ao(pe,["title"]),oe=$z(l,"outliers",t.boxplot,{transform:[{filter:`(${Mt} < ${ut}) || (${Mt} > ${Pe})`}],mark:"point",encoding:A(A(A({[b]:A(A(A({field:v.field,type:v.type},Zt!==void 0?{title:Zt}:{}),Ge!==void 0?{scale:Ge}:{}),Xn(lt)?{}:{axis:lt})},qe),U?{color:U}:{}),j?{tooltip:j}:{})})[0],le,we=[...p,...m,Vt];return oe?le={transform:we,layer:[oe,nn]}:(le=nn,le.transform.unshift(...we)),_e(A({},s),{layer:[le,{transform:g,layer:he}]})}function jde(e){let t=E0(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function Eze(e,t,r){let i=JD(e,fv),{continuousAxisChannelDef:o,continuousAxis:a}=ZD(e,i,fv),s=o.field,l=E0(s),u=Gde(t),c=[...jde(s),{op:"median",field:s,as:`mid_box_${l}`},{op:"min",field:s,as:(u==="min-max"?"lower_whisker_":"min_")+l},{op:"max",field:s,as:(u==="min-max"?"upper_whisker_":"max_")+l}],f=u==="min-max"||u==="tukey"?[]:[{calculate:`${Xr(`upper_box_${l}`)} - ${Xr(`lower_box_${l}`)}`,as:`iqr_${l}`},{calculate:`min(${Xr(`upper_box_${l}`)} + ${Xr(`iqr_${l}`)} * ${t}, ${Xr(`max_${l}`)})`,as:`upper_whisker_${l}`},{calculate:`max(${Xr(`lower_box_${l}`)} - ${Xr(`iqr_${l}`)} * ${t}, ${Xr(`min_${l}`)})`,as:`lower_whisker_${l}`}],B=e.encoding,{[a]:d}=B,p=Ct(B,[Fh(a)]),{customTooltipWithoutAggregatedField:m,filteredEncoding:g}=Vde(p),{bins:v,timeUnits:b,aggregate:_,groupby:D,encoding:T}=YD(g,r),N=i==="vertical"?"horizontal":"vertical",z=i,j=[...v,...b,{aggregate:[..._,...c],groupby:D},...f];return{bins:v,timeUnits:b,transform:j,groupby:D,aggregate:_,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:T,ticksOrient:N,boxOrient:z,customTooltipWithoutAggregatedField:m}}var eA="errorbar",Yde=["ticks","rule"],Xde=new fd(eA,zz);function zz(e,{config:t}){e=_e(A({},e),{encoding:_h(e.encoding,t)});let{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:l,outerSpec:u,tooltipEncoding:c}=Vz(e,eA,t);delete a.size;let f=$5(l,o,i,a,t.errorbar),d=l.thickness,p=l.size,m=A(A({type:"tick",orient:s,aria:!1},d!==void 0?{thickness:d}:{}),p!==void 0?{size:p}:{}),g=[...f({partName:"ticks",mark:m,positionPrefix:"lower",extraEncoding:c}),...f({partName:"ticks",mark:m,positionPrefix:"upper",extraEncoding:c}),...f({partName:"rule",mark:A({type:"rule",ariaRoleDescription:"errorbar"},d!==void 0?{size:d}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return A(_e(A({},u),{transform:r}),g.length>1?{layer:g}:A({},g[0]))}function Dze(e,t){let{encoding:r}=e;if(Aze(r))return{orient:JD(e,t),inputType:"raw"};let i=Mze(r),o=Tze(r),a=r.x,s=r.y;if(i){if(o)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);let l=r.x2,u=r.y2;if(_n(l)&&_n(u))throw new Error(`${t} cannot have both x2 and y2`);if(_n(l)){if(jc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(_n(u)){if(jc(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{let l=r.xError,u=r.xError2,c=r.yError,f=r.yError2;if(_n(u)&&!_n(l))throw new Error(`${t} cannot have xError2 without xError`);if(_n(f)&&!_n(c))throw new Error(`${t} cannot have yError2 without yError`);if(_n(l)&&_n(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(_n(l)){if(jc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(_n(c)){if(jc(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Aze(e){return(_n(e.x)||_n(e.y))&&!_n(e.x2)&&!_n(e.y2)&&!_n(e.xError)&&!_n(e.xError2)&&!_n(e.yError)&&!_n(e.yError2)}function Mze(e){return _n(e.x2)||_n(e.y2)}function Tze(e){return _n(e.xError)||_n(e.xError2)||_n(e.yError)||_n(e.yError2)}function Vz(e,t,r){var re,ne,he;let Y=e,{mark:i,encoding:o,params:a,projection:s}=Y,l=Ct(Y,["mark","encoding","params","projection"]),u=Wa(i)?i:{type:i};a&&Ze(je.selectionNotSupported(t));let{orient:c,inputType:f}=Dze(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:p,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:g,continuousAxis:v}=ZD(e,c,t),{errorBarSpecificAggregate:b,postAggregateCalculates:_,tooltipSummary:D,tooltipTitleWithFieldName:T}=Rze(u,d,p,m,g,f,t,r),ge=o,{[v]:N,[re=v==="x"?"x2":"y2"]:z,[ne=v==="x"?"xError":"yError"]:j,[he=v==="x"?"xError2":"yError2"]:B}=ge,U=Ct(ge,[Fh(v),Fh(re),Fh(ne),Fh(he)]),{bins:x,timeUnits:w,aggregate:C,groupby:k,encoding:F}=YD(U,r),I=[...C,...b],R=f!=="raw"?[]:k,$=cv(D,d,F,T);return{transform:[...l.transform??[],...x,...w,...I.length===0?[]:[{aggregate:I,groupby:R}],..._],groupby:R,continuousAxisChannelDef:d,continuousAxis:v,encodingWithoutContinuousAxis:F,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:$}}function Rze(e,t,r,i,o,a,s,l){let u=[],c=[],f=t.field,d,p=!1;if(a==="raw"){let m=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":l.errorbar.center,g=e.extent?e.extent:m==="mean"?"stderr":"iqr";if(m==="median"!=(g==="iqr")&&Ze(je.errorBarCenterIsUsedWithWrongExtent(m,g,s)),g==="stderr"||g==="stdev")u=[{op:g,field:f,as:`extent_${f}`},{op:m,field:f,as:`center_${f}`}],c=[{calculate:`${Xr(`center_${f}`)} + ${Xr(`extent_${f}`)}`,as:`upper_${f}`},{calculate:`${Xr(`center_${f}`)} - ${Xr(`extent_${f}`)}`,as:`lower_${f}`}],d=[{fieldPrefix:"center_",titlePrefix:hh(m)},{fieldPrefix:"upper_",titlePrefix:Wde(m,g,"+")},{fieldPrefix:"lower_",titlePrefix:Wde(m,g,"-")}],p=!0;else{let v,b,_;g==="ci"?(v="mean",b="ci0",_="ci1"):(v="median",b="q1",_="q3"),u=[{op:b,field:f,as:`lower_${f}`},{op:_,field:f,as:`upper_${f}`},{op:v,field:f,as:`center_${f}`}],d=[{fieldPrefix:"upper_",titlePrefix:cd({field:f,aggregate:_,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:cd({field:f,aggregate:b,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:cd({field:f,aggregate:v,type:"quantitative"},l,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ze(je.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),a==="aggregated-upper-lower"?(d=[],c=[{calculate:Xr(r.field),as:`upper_${f}`},{calculate:Xr(f),as:`lower_${f}`}]):a==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:`${Xr(f)} + ${Xr(i.field)}`,as:`upper_${f}`}],o?c.push({calculate:`${Xr(f)} + ${Xr(o.field)}`,as:`lower_${f}`}):c.push({calculate:`${Xr(f)} - ${Xr(i.field)}`,as:`lower_${f}`}));for(let m of c)d.push({fieldPrefix:m.as.substring(0,6),titlePrefix:Pc(Pc(m.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:d,tooltipTitleWithFieldName:p}}function Wde(e,t,r){return`${hh(e)} ${r} ${t}`}var tA="errorband",Kde=["band","borders"],Qde=new fd(tA,qz);function qz(e,{config:t}){e=_e(A({},e),{encoding:_h(e.encoding,t)});let{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:l,tooltipEncoding:u}=Vz(e,tA,t),c=s,f=$5(c,o,i,a,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0,p={type:d?"area":"rect"},m={type:d?"line":"rule"},g=A(A({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return d?(p=_e(A(A({},p),g),{ariaRoleDescription:"errorband"}),m=_e(A(A({},m),g),{aria:!1})):c.interpolate?Ze(je.errorBand1DNotSupport("interpolate")):c.tension&&Ze(je.errorBand1DNotSupport("tension")),_e(A({},l),{transform:r,layer:[...f({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...f({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:u}),...f({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:u})]})}var Zde={};function Hz(e,t,r){let i=new fd(e,t);Zde[e]={normalizer:i,parts:r}}function Jde(){return Ve(Zde)}Hz(fv,Uz,qde);Hz(eA,zz,Yde);Hz(tA,qz,Kde);var e0e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"];var Gz={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},jz={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},t0e=Ve(Gz),n0e=Ve(jz),kze={header:1,headerRow:1,headerColumn:1,headerFacet:1},Wz=Ve(kze);var nA=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],r0e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},Yz={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},$Bt=Ve(Yz);var Ya="_vgsid_",i0e={point:{on:"click",fields:[Ya],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function dv(e){return e==="legend"||!!e?.legend}function rA(e){return dv(e)&&yt(e)}function U5(e){return!!e?.select}function iA(e){let t=[];for(let i of e||[]){if(U5(i))continue;let r=i,{expr:o,bind:a}=r,s=Ct(r,["expr","bind"]);if(a&&o){let l=_e(A({},s),{bind:a,init:o});t.push(l)}else{let l=A(A(A({},s),o?{update:o}:{}),a?{bind:a}:{});t.push(l)}}return t}function Xz(e){return Sh(e)||z5(e)||pv(e)}function pv(e){return at(e,"concat")}function Sh(e){return at(e,"vconcat")}function z5(e){return at(e,"hconcat")}function Kz({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Ml(e){return at(e,"step")}function Qz(e){return at(e,"view")||at(e,"width")||at(e,"height")}var Zz=20,Oze={align:1,bounds:1,center:1,columns:1,spacing:1},Nze=Ve(Oze);function o0e(e,t,r){let i=r[t],o={},{spacing:a,columns:s}=i;a!==void 0&&(o.spacing=a),s!==void 0&&(I0(e)&&!ld(e.facet)||pv(e))&&(o.columns=s),Sh(e)&&(o.columns=1);for(let l of Nze)if(e[l]!==void 0)if(l==="spacing"){let u=e[l];o[l]=qn(u)?u:{row:u.row??a,column:u.column??a}}else o[l]=e[l];return o}function hv(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function mv(e,t){let r=V5(e,t);return Ml(r)?r.step:l0e}function V5(e,t){let r=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return vr(r,{step:e.step})}var l0e=20,Ize={continuousWidth:200,continuousHeight:200,step:l0e};var Fze={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:Ize,mark:mde,arc:{},area:{},bar:vde,circle:{},geoshape:{},image:{},line:{},point:{},rect:RD,rule:{color:"black"},square:{},text:{color:"black"},tick:yde,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:ede,projection:{},legend:r0e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:i0e,style:{},title:{},facet:{spacing:Zz},concat:{spacing:Zz},normalizedNumberFormat:".0%"},P0=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],a0e={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},s0e={blue:P0[0],orange:P0[1],red:P0[2],teal:P0[3],green:P0[4],yellow:P0[5],purple:P0[6],pink:P0[7],brown:P0[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Pze(e={}){return{signals:[{name:"color",value:yt(e)?A(A({},s0e),e):s0e}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Lze(e){return{signals:[{name:"fontSize",value:yt(e)?A(A({},a0e),e):a0e}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Bze(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function u0e(e){let t=Ve(e||{}),r={};for(let i of t){let o=e[i];r[i]=F0(o)?fD(o):xa(o)}return r}function $ze(e){let t=Ve(e),r={};for(let i of t)r[i]=u0e(e[i]);return r}var Uze=[...TD,...Lz,...Wz,"background","padding","legend","lineBreak","scale","style","title","view"];function oA(e={}){let u=e,{color:t,font:r,fontSize:i,selection:o}=u,a=Ct(u,["color","font","fontSize","selection"]),s=Of({},Xt(Fze),r?Bze(r):{},t?Pze(t):{},i?Lze(i):{},a||{});o&&Xd(s,"selection",o,!0);let l=ao(s,Uze);for(let f of["background","lineBreak","padding"])s[f]&&(l[f]=xa(s[f]));for(let f of TD)s[f]&&(l[f]=Ui(s[f]));for(let f of Lz)s[f]&&(l[f]=u0e(s[f]));for(let f of Wz)s[f]&&(l[f]=Ui(s[f]));if(s.legend&&(l.legend=Ui(s.legend)),s.scale){let c=s.scale,{invalid:f}=c,d=Ct(c,["invalid"]),p=Ui(f,{level:1});l.scale=A(A({},Ui(d)),Ve(p).length>0?{invalid:p}:{})}return s.style&&(l.style=$ze(s.style)),s.title&&(l.title=Ui(s.title)),s.view&&(l.view=Ui(s.view)),l}var zze=new Set(["view",...dde]),Vze=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],qze=A({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},hde);function c0e(e){e=Xt(e);for(let t of Vze)delete e[t];if(e.axis)for(let t in e.axis)F0(e.axis[t])&&delete e.axis[t];if(e.legend)for(let t of e0e)delete e.legend[t];if(e.mark){for(let t of Dz)delete e.mark[t];e.mark.tooltip&&yt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(iA(e.params)),delete e.params);for(let t of zze){for(let i of Dz)delete e[t][i];let r=qze[t];if(r)for(let i of r)delete e[t][i];Gze(e,t)}for(let t of Jde())delete e[t];Hze(e);for(let t in e)yt(e[t])&&Xn(e[t])&&delete e[t];return Xn(e)?void 0:e}function Hze(e){let{titleMarkConfig:t,subtitleMarkConfig:r,subtitle:i}=uD(e.title);Xn(t)||(e.style["group-title"]=A(A({},e.style["group-title"]),t)),Xn(r)||(e.style["group-subtitle"]=A(A({},e.style["group-subtitle"]),r)),Xn(i)?delete e.title:e.title=i}function Gze(e,t,r,i){let o=i?e[t][i]:e[t];t==="view"&&(r="cell");let a=A(A({},o),e.style[r??t]);Xn(a)||(e.style[r??t]=a),i||delete e[t]}function L0(e){return at(e,"layer")}function Jz(e){return at(e,"repeat")}function f0e(e){return!Le(e.repeat)&&at(e.repeat,"layer")}var Ch=class{map(t,r){return I0(t)?this.mapFacet(t,r):Jz(t)?this.mapRepeat(t,r):z5(t)?this.mapHConcat(t,r):Sh(t)?this.mapVConcat(t,r):pv(t)?this.mapConcat(t,r):this.mapLayerOrUnit(t,r)}mapLayerOrUnit(t,r){if(L0(t))return this.mapLayer(t,r);if(Qo(t))return this.mapUnit(t,r);throw new Error(je.invalidSpec(t))}mapLayer(t,r){return _e(A({},t),{layer:t.layer.map(i=>this.mapLayerOrUnit(i,r))})}mapHConcat(t,r){return _e(A({},t),{hconcat:t.hconcat.map(i=>this.map(i,r))})}mapVConcat(t,r){return _e(A({},t),{vconcat:t.vconcat.map(i=>this.map(i,r))})}mapConcat(t,r){let a=t,{concat:i}=a,o=Ct(a,["concat"]);return _e(A({},o),{concat:i.map(s=>this.map(s,r))})}mapFacet(t,r){return _e(A({},t),{spec:this.map(t.spec,r)})}mapRepeat(t,r){return _e(A({},t),{spec:this.map(t.spec,r)})}};var jze={zero:1,center:1,normalize:1};function Wze(e){return Dt(jze,e)}var Yze=new Set([Ez,Om,km,k5,R5,nv,rv,Nm,AD,tv]),Xze=new Set([Om,km,Ez]);function q5(e){return st(e)&&k0(e)==="quantitative"&&!e.bin}function d0e(e,t,{orient:r,type:i}){let o=t==="x"?"y":"radius",a=t==="x"&&["bar","area"].includes(i),s=e[t],l=e[o];if(st(s)&&st(l))if(q5(s)&&q5(l)){if(s.stack)return t;if(l.stack)return o;let u=st(s)&&!!s.aggregate,c=st(l)&&!!l.aggregate;if(u!==c)return u?t:o;if(a){if(r==="vertical")return o;if(r==="horizontal")return t}}else{if(q5(s))return t;if(q5(l))return o}else{if(q5(s))return a&&r==="vertical"?void 0:t;if(q5(l))return a&&r==="horizontal"?void 0:o}}function Kze(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function aA(e,t){let r=Wa(e)?e:{type:e},i=r.type;if(!Yze.has(i))return null;let o=d0e(t,"x",r)||d0e(t,"theta",r);if(!o)return null;let a=t[o],s=st(a)?bt(a,{}):void 0,l=Kze(o),u=[],c=new Set;if(t[l]){let v=t[l],b=st(v)?bt(v,{}):void 0;b&&b!==s&&(u.push(l),c.add(b))}let f=l==="x"?"xOffset":"yOffset",d=t[f],p=st(d)?bt(d,{}):void 0;p&&p!==s&&(u.push(f),c.add(p));let m=ufe.reduce((v,b)=>{if(b!=="tooltip"&&dd(t,b)){let _=t[b];for(let D of _t(_)){let T=Ko(D);if(T.aggregate)continue;let N=bt(T,{});(!N||!c.has(N))&&v.push({channel:b,fieldDef:T})}}return v},[]),g;return a.stack!==void 0?ul(a.stack)?g=a.stack?"zero":null:g=a.stack:Xze.has(i)&&(g="zero"),!g||!Wze(g)||WD(t)&&m.length===0?null:(a?.scale?.type&&a?.scale?.type!==vo.LINEAR&&a?.stack&&Ze(je.stackNonLinearScale(a.scale.type)),_n(t[ba(o)])?(a.stack!==void 0&&Ze(je.cannotStackRangedMark(o)),null):(st(a)&&a.aggregate&&!wfe.has(a.aggregate)&&Ze(je.stackNonSummativeAggregate(a.aggregate)),{groupbyChannels:u,groupbyFields:c,fieldChannel:o,impute:a.impute===null?!1:ps(i),stackBy:m,offset:g}))}function sA(e,t,r){let i=Ui(e),o=Kn("orient",i,r);if(i.orient=Jze(i.type,t,o),o!==void 0&&o!==i.orient&&Ze(je.orientOverridden(i.orient,o)),i.type==="bar"&&i.orient){let u=Kn("cornerRadiusEnd",i,r);if(u!==void 0){let c=i.orient==="horizontal"&&t.x2||i.orient==="vertical"&&t.y2?["cornerRadius"]:gde[i.orient];for(let f of c)i[f]=u;i.cornerRadiusEnd!==void 0&&delete i.cornerRadiusEnd}}let a=Kn("opacity",i,r),s=Kn("fillOpacity",i,r);return a===void 0&&s===void 0&&(i.opacity=Zze(i.type,t)),Kn("cursor",i,r)===void 0&&(i.cursor=Qze(i,t,r)),i}function Qze(e,t,r){return t.href||e.href||Kn("href",e,r)?"pointer":e.cursor}function Zze(e,t){if(gn([R5,tv,nv,rv],e)&&!WD(t))return .7}function p0e(e,t,{graticule:r}){if(r)return!1;let i=Js("filled",e,t),o=e.type;return vr(i,o!==R5&&o!==Nm&&o!==k5)}function Jze(e,t,r){switch(e){case R5:case nv:case rv:case AD:case cde:case ude:return}let{x:i,y:o,x2:a,y2:s}=t;switch(e){case Om:if(st(i)&&(Mi(i.bin)||st(o)&&o.aggregate&&!i.aggregate))return"vertical";if(st(o)&&(Mi(o.bin)||st(i)&&i.aggregate&&!o.aggregate))return"horizontal";if(s||a){if(r)return r;if(!a)return(st(i)&&i.type===Nu&&!lr(i.bin)||av(i))&&st(o)&&Mi(o.bin)?"horizontal":"vertical";if(!s)return(st(o)&&o.type===Nu&&!lr(o.bin)||av(o))&&st(i)&&Mi(i.bin)?"vertical":"horizontal"}case k5:if(a&&!(st(i)&&Mi(i.bin))&&s&&!(st(o)&&Mi(o.bin)))return;case km:if(s)return st(o)&&Mi(o.bin)?"horizontal":"vertical";if(a)return st(i)&&Mi(i.bin)?"vertical":"horizontal";if(e===k5){if(i&&!o)return"vertical";if(o&&!i)return"horizontal"}case Nm:case tv:{let l=kz(i),u=kz(o);if(r)return r;if(l&&!u)return e!=="tick"?"horizontal":"vertical";if(!l&&u)return e!=="tick"?"vertical":"horizontal";if(l&&u)return"vertical";{let c=Yi(i)&&i.type===rd,f=Yi(o)&&o.type===rd;if(c&&!f)return"vertical";if(!c&&f)return"horizontal"}return}}return"vertical"}function eVe(e){let o=e,{point:t,line:r}=o,i=Ct(o,["point","line"]);return Ve(i).length>1?i:i.type}function tVe(e){for(let t of["line","area","rule","trail"])e[t]&&(e=_e(A({},e),{[t]:ao(e[t],["point","line"])}));return e}function eV(e,t={},r){return e.point==="transparent"?{opacity:0}:e.point?yt(e.point)?e.point:{}:e.point!==void 0?null:t.point||r.shape?yt(t.point)?t.point:{}:void 0}function h0e(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}var lA=class{constructor(){this.name="path-overlay"}hasMatchingType(t,r){if(Qo(t)){let{mark:i,encoding:o}=t,a=Wa(i)?i:{type:i};switch(a.type){case"line":case"rule":case"trail":return!!eV(a,r[a.type],o);case"area":return!!eV(a,r[a.type],o)||!!h0e(a,r[a.type])}}return!1}run(t,r,i){let{config:o}=r,D=t,{params:a,projection:s,mark:l,name:u,encoding:c}=D,f=Ct(D,["params","projection","mark","name","encoding"]),d=_h(c,o),p=Wa(l)?l:{type:l},m=eV(p,o[p.type],d),g=p.type==="area"&&h0e(p,o[p.type]),v=[_e(A({name:u},a?{params:a}:{}),{mark:eVe(A(A({},p.type==="area"&&p.opacity===void 0&&p.fillOpacity===void 0?{opacity:.7}:{}),p)),encoding:ao(d,["shape"])})],b=aA(sA(p,d,o),d),_=d;if(b){let{fieldChannel:T,offset:N}=b;_=_e(A({},d),{[T]:A(A({},d[T]),N?{stack:N}:{})})}return _=ao(_,["y2","x2"]),g&&v.push(_e(A({},s?{projection:s}:{}),{mark:A(A({type:"line"},C0(p,["clip","interpolate","tension","tooltip"])),g),encoding:_})),m&&v.push(_e(A({},s?{projection:s}:{}),{mark:A(A({type:"point",opacity:1,filled:!0},C0(p,["clip","tooltip"])),m),encoding:_})),i(_e(A({},f),{layer:v}),_e(A({},r),{config:tVe(o)}))}};function v0e(e,t){return t?ld(e)?b0e(e,t):y0e(e,t):e}function uA(e,t){return t?b0e(e,t):e}function tV(e,t,r){let i=t[e];if(Tde(i)){if(i.repeat in r)return _e(A({},t),{[e]:r[i.repeat]});Ze(je.noSuchRepeatedValue(i.repeat));return}return t}function y0e(e,t){if(e=tV("field",e,t),e!==void 0){if(e===null)return null;if(UD(e)&&ms(e.sort)){let r=tV("field",e.sort,t);e=A(A({},e),r?{sort:r}:{})}return e}}function m0e(e,t){if(st(e))return y0e(e,t);{let r=tV("datum",e,t);return r!==e&&!r.type&&(r.type="nominal"),r}}function g0e(e,t){if(_n(e)){let i=m0e(e,t);if(i)return i;if(ud(e))return{condition:e.condition}}else{if(wh(e)){let i=m0e(e.condition,t);if(i)return _e(A({},e),{condition:i});{let r=e,{condition:o}=r;return Ct(r,["condition"])}}return e}}function b0e(e,t){let r={};for(let i in e)if(at(e,i)){let o=e[i];if(Le(o))r[i]=o.map(a=>g0e(a,t)).filter(a=>a);else{let a=g0e(o,t);a!==void 0&&(r[i]=a)}}return r}var cA=class{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Qo(t)){let{encoding:r,mark:i}=t;if(i==="line"||Wa(i)&&i.type==="line")for(let o of afe){let a=ou(o),s=r[a];if(r[o]&&(st(s)&&!Mi(s.bin)||hs(s)))return!0}}return!1}run(t,r,i){let{encoding:o,mark:a}=t;return Ze(je.lineWithRange(!!o.x2,!!o.y2)),i(_e(A({},t),{mark:yt(a)?_e(A({},a),{type:"rule"}):"rule"}),r)}};var fA=class extends Ch{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Hde,Xde,Qde,new lA,new cA]}map(t,r){if(Qo(t)){let i=dd(t.encoding,_l),o=dd(t.encoding,Sl),a=dd(t.encoding,v5);if(i||o||a)return this.mapFacetedUnit(t,r)}return super.map(t,r)}mapUnit(t,r){let{parentEncoding:i,parentProjection:o}=r,a=uA(t.encoding,r.repeater),s=A(A(A({},t),t.name?{name:[r.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}),a?{encoding:a}:{});if(i||o)return this.mapUnitWithParentEncodingOrProjection(s,r);let l=this.mapLayerOrUnit.bind(this);for(let u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(s,r.config))return u.run(s,r,l);return s}mapRepeat(t,r){return f0e(t)?this.mapLayerRepeat(t,r):this.mapNonLayerRepeat(t,r)}mapLayerRepeat(t,r){let d=t,{repeat:i,spec:o}=d,a=Ct(d,["repeat","spec"]),{row:s,column:l,layer:u}=i,{repeater:c={},repeaterPrefix:f=""}=r;return s||l?this.mapRepeat(_e(A({},t),{repeat:A(A({},s?{row:s}:{}),l?{column:l}:{}),spec:{repeat:{layer:u},spec:o}}),r):_e(A({},a),{layer:u.map(p=>{let m=_e(A({},c),{layer:p}),g=`${(o.name?`${o.name}_`:"")+f}child__layer_${Cr(p)}`,v=this.mapLayerOrUnit(o,_e(A({},r),{repeater:m,repeaterPrefix:g}));return v.name=g,v})})}mapNonLayerRepeat(t,r){let g=t,{repeat:i,spec:o,data:a}=g,s=Ct(g,["repeat","spec","data"]);!Le(i)&&t.columns&&(t=ao(t,["columns"]),Ze(je.columnsNotSupportByRowCol("repeat")));let l=[],{repeater:u={},repeaterPrefix:c=""}=r,f=!Le(i)&&i.row||[u?u.row:null],d=!Le(i)&&i.column||[u?u.column:null],p=Le(i)&&i||[u?u.repeat:null];for(let v of p)for(let b of f)for(let _ of d){let D={repeat:v,row:b,column:_,layer:u.layer},T=(o.name?`${o.name}_`:"")+c+"child__"+(Le(i)?`${Cr(v)}`:(i.row?`row_${Cr(b)}`:"")+(i.column?`column_${Cr(_)}`:"")),N=this.map(o,_e(A({},r),{repeater:D,repeaterPrefix:T}));N.name=T,l.push(ao(N,["data"]))}let m=Le(i)?t.columns:i.column?i.column.length:1;return _e(A({data:o.data??a,align:"all"},s),{columns:m,concat:l})}mapFacet(t,r){let{facet:i}=t;return ld(i)&&t.columns&&(t=ao(t,["columns"]),Ze(je.columnsNotSupportByRowCol("facet"))),super.mapFacet(t,r)}mapUnitWithParentEncodingOrProjection(t,r){let{encoding:i,projection:o}=t,{parentEncoding:a,parentProjection:s,config:l}=r,u=w0e({parentProjection:s,projection:o}),c=x0e({parentEncoding:a,encoding:uA(i,r.repeater)});return this.mapUnit(A(A(A({},t),u?{projection:u}:{}),c?{encoding:c}:{}),{config:l})}mapFacetedUnit(t,r){let D=t.encoding,{row:i,column:o,facet:a}=D,s=Ct(D,["row","column","facet"]),T=t,{mark:l,width:u,projection:c,height:f,view:d,params:p,encoding:m}=T,g=Ct(T,["mark","width","projection","height","view","params","encoding"]),{facetMapping:v,layout:b}=this.getFacetMappingAndLayout({row:i,column:o,facet:a},r),_=uA(s,r.repeater);return this.mapFacet(_e(A(A({},g),b),{facet:v,spec:A(_e(A(A(A(A({},u?{width:u}:{}),f?{height:f}:{}),d?{view:d}:{}),c?{projection:c}:{}),{mark:l,encoding:_}),p?{params:p}:{})}),r)}getFacetMappingAndLayout(t,r){let{row:i,column:o,facet:a}=t;if(i||o){a&&Ze(je.facetChannelDropped([...i?[_l]:[],...o?[Sl]:[]]));let u={},c={};for(let f of[_l,Sl]){let d=t[f];if(d){let s=d,{align:p,center:m,spacing:g,columns:v}=s,b=Ct(s,["align","center","spacing","columns"]);u[f]=b;for(let _ of["align","center","spacing"])d[_]!==void 0&&(c[_]??(c[_]={}),c[_][f]=d[_])}}return{facetMapping:u,layout:c}}else{let l=a,{align:u,center:c,spacing:f,columns:d}=l,p=Ct(l,["align","center","spacing","columns"]);return{facetMapping:v0e(p,r.repeater),layout:A(A(A(A({},u?{align:u}:{}),c?{center:c}:{}),f?{spacing:f}:{}),d?{columns:d}:{})}}}mapLayer(t,a){var s=a,{parentEncoding:r,parentProjection:i}=s,o=Ct(s,["parentEncoding","parentProjection"]);let d=t,{encoding:l,projection:u}=d,c=Ct(d,["encoding","projection"]),f=_e(A({},o),{parentEncoding:x0e({parentEncoding:r,encoding:l,layer:!0}),parentProjection:w0e({parentProjection:i,projection:u})});return super.mapLayer(A(A({},c),t.name?{name:[f.repeaterPrefix,t.name].filter(p=>p).join("_")}:{}),f)}};function x0e({parentEncoding:e,encoding:t={},layer:r}){let i={};if(e){let o=new Set([...Ve(e),...Ve(t)]);for(let a of o){let s=t[a],l=e[a];if(_n(s)){let u=A(A({},l),s);i[a]=u}else wh(s)?i[a]=_e(A({},s),{condition:A(A({},l),s.condition)}):s||s===null?i[a]=s:(r||No(l)||Pt(l)||_n(l)||Le(l))&&(i[a]=l)}}else i=t;return!i||Xn(i)?void 0:i}function w0e(e){let{parentProjection:t,projection:r}=e;return t&&r&&Ze(je.projectionOverridden({parentProjection:t,projection:r})),r??t}function gv(e){return at(e,"filter")}function _0e(e){return at(e,"stop")}function dA(e){return at(e,"lookup")}function S0e(e){return at(e,"data")}function C0e(e){return at(e,"param")}function E0e(e){return at(e,"pivot")}function D0e(e){return at(e,"density")}function A0e(e){return at(e,"quantile")}function M0e(e){return at(e,"regression")}function T0e(e){return at(e,"loess")}function R0e(e){return at(e,"sample")}function k0e(e){return at(e,"window")}function O0e(e){return at(e,"joinaggregate")}function N0e(e){return at(e,"flatten")}function I0e(e){return at(e,"calculate")}function pA(e){return at(e,"bin")}function F0e(e){return at(e,"impute")}function P0e(e){return at(e,"timeUnit")}function L0e(e){return at(e,"aggregate")}function B0e(e){return at(e,"stack")}function $0e(e){return at(e,"fold")}function U0e(e){return at(e,"extent")&&!at(e,"density")&&!at(e,"regression")}function z0e(e){return e.map(t=>gv(t)?{filter:dh(t.filter,jfe)}:t)}var hA=class extends Ch{map(t,r){return r.emptySelections??(r.emptySelections={}),r.selectionPredicates??(r.selectionPredicates={}),t=V0e(t,r),super.map(t,r)}mapLayerOrUnit(t,r){if(t=V0e(t,r),t.encoding){let i={};for(let[o,a]of wl(t.encoding))i[o]=q0e(a,r);t=_e(A({},t),{encoding:i})}return super.mapLayerOrUnit(t,r)}mapUnit(t,r){let a=t,{selection:i}=a,o=Ct(a,["selection"]);return i?_e(A({},o),{params:wl(i).map(([s,l])=>{let p=l,{init:u,bind:c,empty:f}=p,d=Ct(p,["init","bind","empty"]);d.type==="single"?(d.type="point",d.toggle=!1):d.type==="multi"&&(d.type="point"),r.emptySelections[s]=f!=="none";for(let m of Di(r.selectionPredicates[s]??{}))m.empty=f!=="none";return{name:s,value:u,select:d,bind:c}})}):t}};function V0e(e,t){let o=e,{transform:r}=o,i=Ct(o,["transform"]);if(r){let a=r.map(s=>{if(gv(s))return{filter:nV(s,t)};if(pA(s)&&Uc(s.bin))return _e(A({},s),{bin:H0e(s.bin)});if(dA(s)){let l=s.from,{selection:u}=l,c=Ct(l,["selection"]);return u?_e(A({},s),{from:A({param:u},c)}):s}return s});return _e(A({},i),{transform:a})}return e}function q0e(e,t){let r=Xt(e);if(st(r)&&Uc(r.bin)&&(r.bin=H0e(r.bin)),Fu(r)&&r.scale?.domain?.selection){let i=r.scale.domain,{selection:a}=i,s=Ct(i,["selection"]);r.scale.domain=A(A({},s),a?{param:a}:{})}if(ud(r))if(Le(r.condition))r.condition=r.condition.map(a=>{let f=a,{selection:s,param:l,test:u}=f,c=Ct(f,["selection","param","test"]);return l?a:_e(A({},c),{test:nV(a,t)})});else{let o=q0e(r.condition,t),{selection:a,param:s,test:l}=o,u=Ct(o,["selection","param","test"]);r.condition=s?r.condition:_e(A({},u),{test:nV(r.condition,t)})}return r}function H0e(e){let t=e.extent;if(t?.selection){let r=t,{selection:i}=r,o=Ct(r,["selection"]);return _e(A({},e),{extent:_e(A({},o),{param:i})})}return e}function nV(e,t){let r=i=>dh(i,o=>{var a;let s=t.emptySelections[o]??!0,l={param:o,empty:s};return(a=t.selectionPredicates)[o]??(a[o]=[]),t.selectionPredicates[o].push(l),l});return e.selection?r(e.selection):dh(e.test||e.filter,i=>i.selection?r(i.selection):i)}var H5=class extends Ch{map(t,r){let i=r.selections??[];if(t.params&&!Qo(t)){let o=[];for(let a of t.params)U5(a)?i.push(a):o.push(a);t.params=o}return r.selections=i,super.map(t,r)}mapUnit(t,r){let i=r.selections;if(!i||!i.length)return t;let o=(r.path??[]).concat(t.name),a=[];for(let s of i)if(!s.views||!s.views.length)a.push(s);else for(let l of s.views)(ht(l)&&(l===t.name||o.includes(l))||Le(l)&&l.map(u=>o.indexOf(u)).every((u,c,f)=>u!==-1&&(c===0||u>f[c-1])))&&a.push(s);return a.length&&(t.params=a),t}};for(let e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let t=H5.prototype[e];H5.prototype[e]=function(r,i){return t.call(this,r,nVe(r,i))}}function nVe(e,t){return e.name?_e(A({},t),{path:(t.path??[]).concat(e.name)}):t}function mA(e,t){t===void 0&&(t=oA(e.config));let r=aVe(e,t),{width:i,height:o}=e,a=sVe(r,{width:i,height:o,autosize:e.autosize},t);return A(A({},r),a?{autosize:a}:{})}var rVe=new fA,iVe=new hA,oVe=new H5;function aVe(e,t={}){let r={config:t};return oVe.map(rVe.map(iVe.map(e,r),r),r)}function G0e(e){return ht(e)?{type:e}:e??{}}function sVe(e,t,r){let{width:i,height:o}=t,a=Qo(e)||L0(e),s={};a?i=="container"&&o=="container"?(s.type="fit",s.contains="padding"):i=="container"?(s.type="fit-x",s.contains="padding"):o=="container"&&(s.type="fit-y",s.contains="padding"):(i=="container"&&(Ze(je.containerSizeNonSingle("width")),i=void 0),o=="container"&&(Ze(je.containerSizeNonSingle("height")),o=void 0));let l=A(A(A({type:"pad"},s),r?G0e(r.autosize):{}),G0e(e.autosize));if(l.type==="fit"&&!a&&(Ze(je.FIT_NON_SINGLE),l.type="pad"),i=="container"&&!(l.type=="fit"||l.type=="fit-x")&&Ze(je.containerSizeNotCompatibleWithAutosize("width")),o=="container"&&!(l.type=="fit"||l.type=="fit-y")&&Ze(je.containerSizeNotCompatibleWithAutosize("height")),!va(l,{type:"pad"}))return l}function j0e(e){return["fit","fit-x","fit-y"].includes(e)}function W0e(e){return e?`fit-${vh(e)}`:"fit"}var lVe=["background","padding"];function rV(e,t){let r={};for(let i of lVe)e&&e[i]!==void 0&&(r[i]=xa(e[i]));return t&&(r.params=e.params),r}var gs=class e{constructor(t={},r={}){this.explicit=t,this.implicit=r}clone(){return new e(Xt(this.explicit),Xt(this.implicit))}combine(){return A(A({},this.explicit),this.implicit)}get(t){return vr(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:r,explicit:i}){r!==void 0&&this.set(t,r,i)}set(t,r,i){return delete this[i?"implicit":"explicit"][t],this[i?"explicit":"implicit"][t]=r,this}copyKeyFromSplit(t,{explicit:r,implicit:i}){r[t]!==void 0?this.set(t,r[t],!0):i[t]!==void 0&&this.set(t,i[t],!1)}copyKeyFromObject(t,r){r[t]!==void 0&&this.set(t,r[t],!0)}copyAll(t){for(let r of Ve(t.combine())){let i=t.getWithExplicit(r);this.setWithExplicit(r,i)}}};function Pu(e){return{explicit:!0,value:e}}function vs(e){return{explicit:!1,value:e}}function gA(e){return(t,r,i,o)=>{let a=e(t.value,r.value);return a>0?t:a<0?r:G5(t,r,i,o)}}function G5(e,t,r,i){return e.explicit&&t.explicit&&Ze(je.mergeConflictingProperty(r,i,e.value,t.value)),e}function Tl(e,t,r,i,o=G5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:va(e.value,t.value)?e:o(e,t,r,i)}var vA=class extends gs{constructor(t={},r={},i=!1){super(t,r),this.explicit=t,this.implicit=r,this.parseNothing=i}clone(){let t=super.clone();return t.parseNothing=this.parseNothing,t}};function B0(e){return at(e,"url")}function Pm(e){return at(e,"values")}function yA(e){return at(e,"name")&&!B0(e)&&!Pm(e)&&!Wc(e)}function Wc(e){return e&&(iV(e)||oV(e)||vv(e))}function iV(e){return at(e,"sequence")}function oV(e){return at(e,"sphere")}function vv(e){return at(e,"graticule")}var Hr=function(e){return e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid",e}(Hr||{});function aV({invalid:e,isPath:t}){switch(kD(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function Y0e(e){let{marks:t,scales:r}=aV(e);return t===r?Hr.Main:r==="include-invalid-values"?Hr.PreFilterInvalid:Hr.PostFilterInvalid}var vn=class{constructor(t,r){this.debugName=r,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,r){if(this._children.includes(t)){Ze(je.ADD_SAME_CHILD_TWICE);return}r!==void 0?this._children.splice(r,0,t):this._children.push(t)}removeChild(t){let r=this._children.indexOf(t);return this._children.splice(r,1),r}remove(){let t=this._parent.removeChild(this);for(let r of this._children)r._parent=this._parent,this._parent.addChild(r,t++)}insertAsParentOf(t){let r=t.parent;r.removeChild(this),this.parent=r,t.parent=this}swapWithParent(){let t=this._parent,r=t.parent;for(let o of this._children)o.parent=t;this._children=[],t.removeChild(this);let i=t.parent.removeChild(t);this._parent=r,r.addChild(this,i),t.parent=this}},lo=class extends vn{clone(){let t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,r,i,o){super(t,r),this.type=i,this.refCounts=o,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${KU()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}};function sV(e){return e.as!==void 0}function X0e(e){return`${e}_end`}var Lu=class e extends vn{clone(){return new e(null,Xt(this.timeUnits))}constructor(t,r){super(t),this.timeUnits=r}static makeFromEncoding(t,r){let i=r.reduceFieldDef((o,a,s)=>{let{field:l,timeUnit:u}=a;if(u){let c;if(Hc(u)){if(Rr(r)){let{mark:f,markDef:d,config:p}=r,m=Al({fieldDef:a,markDef:d,config:p});(R0(f)||m)&&(c={timeUnit:Ti(u),field:l})}}else c={as:bt(a,{forAs:!0}),field:l,timeUnit:u};if(Rr(r)){let{mark:f,markDef:d,config:p}=r,m=Al({fieldDef:a,markDef:d,config:p});R0(f)&&Br(s)&&m!==.5&&(c.rectBandPosition=m)}c&&(o[rn(c)]=c)}return o},{});return Xn(i)?null:new e(t,i)}static makeFromTransform(t,r){let l=A({},r),{timeUnit:i}=l,o=Ct(l,["timeUnit"]),a=Ti(i),s=_e(A({},o),{timeUnit:a});return new e(t,{[rn(s)]:s})}merge(t){this.timeUnits=A({},this.timeUnits);for(let r in t.timeUnits)this.timeUnits[r]||(this.timeUnits[r]=t.timeUnits[r]);for(let r of t.children)t.removeChild(r),r.parent=this;t.remove()}removeFormulas(t){let r={};for(let[i,o]of wl(this.timeUnits)){let a=sV(o)?o.as:`${o.field}_end`;t.has(a)||(r[i]=o)}this.timeUnits=r}producedFields(){return new Set(Di(this.timeUnits).map(t=>sV(t)?t.as:X0e(t.field)))}dependentFields(){return new Set(Di(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${rn(this.timeUnits)}`}assemble(){let t=[];for(let i of Di(this.timeUnits)){let{rectBandPosition:o}=i,a=Ti(i.timeUnit);if(sV(i)){let{field:s,as:l}=i,r=a,{unit:u,utc:c}=r,f=Ct(r,["unit","utc"]),d=[l,`${l}_end`];t.push(_e(A(A(A({field:ko(s),type:"timeunit"},u?{units:M5(u)}:{}),c?{timezone:"utc"}:{}),f),{as:d})),t.push(...K0e(d,o,a))}else if(i){let{field:s}=i,l=s.replaceAll("\\.","."),u=Z0e({timeUnit:a,field:l}),c=X0e(l);t.push({type:"formula",expr:u,as:c}),t.push(...K0e([l,c],o,a))}}return t}},Lm="offsetted_rect_start",Bm="offsetted_rect_end";function Z0e({timeUnit:e,field:t,reverse:r}){let{unit:i,utc:o}=e,a=vz(i),{part:s,step:l}=bz(a,e.step);return`${o?"utcOffset":"timeOffset"}('${s}', ${Xr(t)}, ${r?-l:l})`}function K0e([e,t],r,i){if(r!==void 0&&r!==.5){let o=Xr(e),a=Xr(t);return[{type:"formula",expr:Q0e([Z0e({timeUnit:i,field:e,reverse:!0}),o],r+.5),as:`${e}_${Lm}`},{type:"formula",expr:Q0e([o,a],r+.5),as:`${e}_${Bm}`}]}return[]}function Q0e([e,t],r){return`${1-r} * ${e} + ${r} * ${t}`}var $0="_tuple_fields",lV=class{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}},uVe={defined:()=>!0,parse:(e,t,r)=>{let i=t.name,o=t.project??(t.project=new lV),a={},s={},l=new Set,u=(g,v)=>{let b=v==="visual"?g.channel:g.field,_=Cr(`${i}_${b}`);for(let D=1;l.has(_);D++)_=Cr(`${i}_${b}_${D}`);return l.add(_),{[v]:_}},c=t.type,f=e.config.selection[c],d=r.value!==void 0?_t(r.value):null,{fields:p,encodings:m}=yt(r.select)?r.select:{};if(!p&&!m&&d){for(let g of d)if(yt(g))for(let v of Ve(g))ofe(v)?(m||(m=[])).push(v):c==="interval"?(Ze(je.INTERVAL_INITIALIZED_WITH_POS),m=f.encodings):(p??(p=[])).push(v)}!p&&!m&&(m=f.encodings,"fields"in f&&(p=f.fields));for(let g of m??[]){let v=e.fieldDef(g);if(v){let b=v.field;if(v.aggregate){Ze(je.cannotProjectAggregate(g,v.aggregate));continue}else if(!b){Ze(je.cannotProjectOnChannelWithoutField(g));continue}if(v.timeUnit&&!Hc(v.timeUnit)){b=e.vgField(g);let _={timeUnit:v.timeUnit,as:b,field:v.field};s[rn(_)]=_}if(!a[b]){let _=c==="interval"&&Oo(g)&&wa(e.getScaleComponent(g).get("type"))?"R":v.bin?"R-RE":"E",D={field:b,channel:g,type:_,index:o.items.length};D.signals=A(A({},u(D,"data")),u(D,"visual")),o.items.push(a[b]=D),o.hasField[b]=a[b],o.hasSelectionId=o.hasSelectionId||b===Ya,nD(g)?(D.geoChannel=g,D.channel=tD(g),o.hasChannel[D.channel]=a[b]):o.hasChannel[g]=a[b]}}else Ze(je.cannotProjectOnChannelWithoutField(g))}for(let g of p??[]){if(o.hasField[g])continue;let v={type:"E",field:g,index:o.items.length};v.signals=A({},u(v,"data")),o.items.push(v),o.hasField[g]=v,o.hasSelectionId=o.hasSelectionId||g===Ya}d&&(t.init=d.map(g=>o.items.map(v=>yt(g)?g[v.geoChannel||v.channel]!==void 0?g[v.geoChannel||v.channel]:g[v.field]:g))),Xn(s)||(o.timeUnit=new Lu(null,s))},signals:(e,t,r)=>{let i=t.name+$0;return r.filter(a=>a.name===i).length>0||t.project.hasSelectionId?r:r.concat({name:i,value:t.project.items.map(uV)})}},J0e=uVe;var xA="_curr",bA="anim_value",j5="anim_clock",dV="eased_anim_clock",epe="min_extent",tpe="max_range_extent",cV="last_tick_at",fV="is_playing",cVe=1/60*1e3,fVe=(e,t)=>[{name:dV,update:j5},{name:`${e}_domain`,init:`domain('${t}')`},{name:epe,init:`extent(${e}_domain)[0]`},{name:tpe,init:`extent(range('${t}'))[1]`},{name:bA,update:`invert('${t}', ${dV})`}],dVe={defined:e=>e.type==="point",topLevelSignals:(e,t,r)=>(_a(t)&&(r=r.concat([{name:j5,init:"0",on:[{events:{type:"timer",throttle:cVe},update:`${fV} ? (${j5} + (now() - ${cV}) > ${tpe} ? 0 : ${j5} + (now() - ${cV})) : ${j5}`}]},{name:cV,init:"now()",on:[{events:[{signal:j5},{signal:fV}],update:"now()"}]},{name:fV,init:"true"}])),r),signals:(e,t,r)=>{let i=t.name,o=i+$0,a=t.project,s="(item().isVoronoi ? datum.datum : datum)",l=Di(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+U0):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${l?` && ${l}`:""}`,c=`unit: ${Yc(e)}, `;if(t.project.hasSelectionId)c+=`${Ya}: ${s}[${gt(Ya)}]`;else if(_a(t))c+=`fields: ${o}, values: [${bA} ? ${bA} : ${epe}]`;else{let f=a.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${gt(e.vgField(d.channel,{}))}], ${s}[${gt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${gt(d.field)}]`).join(", ");c+=`fields: ${o}, values: [${f}]`}if(_a(t))return r.concat(fVe(t.name,e.scaleName(eu)),[{name:i+ys,on:[{events:[{signal:dV},{signal:bA}],update:`{${c}}`,force:!0}]}]);{let f=t.events;return r.concat([{name:i+ys,on:f?[{events:f,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}}},npe=dVe;function uV(e){let a=e,{signals:t,hasLegend:r,index:i}=a,o=Ct(a,["signals","hasLegend","index"]);return o.field=ko(o.field),o}function z0(e,t=!0,r=to){if(Le(e)){let i=e.map(o=>z0(o,t,r));return t?`[${i.join(", ")}]`:i}else if(Ou(e))return r(t?qc(e):Lfe(e));return t?r(Er(e)):e}function rpe(e,t){for(let r of Di(e.component.selection??{})){let i=r.name,o=`${i}${ys}, ${r.resolve==="global"?"true":`{unit: ${Yc(e)}}`}`;for(let a of W5)a.defined(r)&&(a.signals&&(t=a.signals(e,r,t)),a.modifyExpr&&(o=a.modifyExpr(e,r,o)));t.push({name:i+upe,on:[{events:{signal:r.name+ys},update:`modify(${gt(r.name+Xc)}, ${o})`}]})}return hV(t)}function ipe(e,t){if(e.component.selection&&Ve(e.component.selection).length){let r=gt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:ss("pointermove","scope"),update:`isTuple(facet) ? facet : group(${r}).datum`}]})}return hV(t)}function ope(e,t){let r=!1;for(let i of Di(e.component.selection??{})){let o=i.name,a=gt(o+Xc);if(t.filter(l=>l.name===o).length===0){let l=i.resolve==="global"?"union":i.resolve,u=i.type==="point"?", true, true)":")";t.push({name:i.name,update:`${wA}(${a}, ${gt(l)}${u}`})}r=!0;for(let l of W5)l.defined(i)&&l.topLevelSignals&&(t=l.topLevelSignals(e,i,t))}return r&&t.filter(o=>o.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),hV(t)}function ape(e,t){let r=[],i=[],o=Yc(e,{escape:!1});for(let a of Di(e.component.selection??{})){let s={name:a.name+Xc};if(a.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Ya}}]),a.init){let u=a.project.items.map(uV);s.values=a.project.hasSelectionId?a.init.map(c=>({unit:o,[Ya]:z0(c,!1)[0]})):a.init.map(c=>({unit:o,fields:u,values:z0(c,!1)}))}if([...r,...t].filter(u=>u.name===a.name+Xc).length||r.push(s),_a(a)&&t.length){let u=e.lookupDataSource(e.getDataName(Hr.Main)),c=t.find(d=>d.name===u),f=c.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(f){c.transform=c.transform.filter(p=>p!==f);let d={name:c.name+xA,source:c.name,transform:[f]};i.push(d)}}}return r.concat(t,i)}function pV(e,t){for(let r of Di(e.component.selection??{}))for(let i of W5)i.defined(r)&&i.marks&&(t=i.marks(e,r,t));return t}function spe(e,t){for(let r of e.children)Rr(r)&&(t=pV(r,t));return t}function lpe(e,t,r,i){let o=_A(e,t.param,t);return{signal:wa(r.get("type"))&&Le(i)&&i[0]>i[1]?`isValid(${o}) && reverse(${o})`:o}}function hV(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}var pVe={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{let r=t.scales=[];for(let i of t.project.items){let o=i.channel;if(!Oo(o))continue;let a=e.getScaleComponent(o),s=a?a.get("type"):void 0;if(s=="sequential"&&Ze(je.SEQUENTIAL_SCALE_DEPRECATED),!a||!wa(s)){Ze(je.SCALE_BINDINGS_CONTINUOUS);continue}a.set("selectionExtent",{param:t.name,field:i.field},!0),r.push(i)}},topLevelSignals:(e,t,r)=>{let i=t.scales.filter(s=>r.filter(l=>l.name===s.signals.data).length===0);if(!e.parent||mV(e)||i.length===0)return r;let o=r.find(s=>s.name===t.name),a=o.update;if(a.includes(wA))o.update=`{${i.map(s=>`${gt(ko(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(let s of i){let l=`${gt(ko(s.field))}: ${s.signals.data}`;a.includes(l)||(a=`${a.substring(0,a.length-1)}, ${l}}`)}o.update=a}return r.concat(i.map(s=>({name:s.signals.data})))},signals:(e,t,r)=>{if(e.parent&&!mV(e))for(let i of t.scales){let o=r.find(a=>a.name===i.signals.data);o.push="outer",delete o.value,delete o.update}return r}},lu=pVe;function yv(e,t){return`domain(${gt(e.scaleName(t))})`}function mV(e){return e.parent&&Bu(e.parent)&&(!e.parent.parent||mV(e.parent.parent))}var U0="_brush",cpe="_scale_trigger",bv="geo_interval_init_tick",fpe="_init",hVe="_center",mVe={defined:e=>e.type==="interval",parse:(e,t,r)=>{var i;if(e.hasProjection){let o=A({},yt(r.select)?r.select:{});o.fields=[Ya],o.encodings||(o.encodings=r.value?Ve(r.value):[Ha,qa]),r.select=A({type:"interval"},o)}if(t.translate&&!lu.defined(t)){let o=`!event.item || event.item.mark.name !== ${gt(t.name+U0)}`;for(let a of t.events){if(!a.between){Ze(`${a} is not an ordered event stream for interval selections.`);continue}let s=_t((i=a.between[0]).filter??(i.filter=[]));s.includes(o)||s.push(o)}}},signals:(e,t,r)=>{let i=t.name,o=i+ys,a=Di(t.project.hasChannel).filter(l=>l.channel===Lr||l.channel===Ai),s=t.init?t.init[0]:null;if(r.push(...a.reduce((l,u)=>l.concat(gVe(e,t,u,s&&s[u.index])),[])),e.hasProjection){let l=gt(e.projectionName()),u=e.projectionName()+hVe,{x:c,y:f}=t.project.hasChannel,d=c&&c.signals.visual,p=f&&f.signals.visual,m=c?s&&s[c.index]:`${u}[0]`,g=f?s&&s[f.index]:`${u}[1]`,v=z=>e.getSizeSignalRef(z).signal,b=`[[${d?d+"[0]":"0"}, ${p?p+"[0]":"0"}],[${d?d+"[1]":v("width")}, ${p?p+"[1]":v("height")}]]`;s&&(r.unshift({name:i+fpe,init:`[scale(${l}, [${c?m[0]:m}, ${f?g[0]:g}]), scale(${l}, [${c?m[1]:m}, ${f?g[1]:g}])]`}),(!c||!f)&&(r.find(j=>j.name===u)||r.unshift({name:u,update:`invert(${l}, [${v("width")}/2, ${v("height")}/2])`})));let _=`intersect(${b}, {markname: ${gt(e.getName("marks"))}}, unit.mark)`,D=`{unit: ${Yc(e)}}`,T=`vlSelectionTuples(${_}, ${D})`,N=a.map(z=>z.signals.visual);return r.concat({name:o,on:[{events:[...N.length?[{signal:N.join(" || ")}]:[],...s?[{signal:bv}]:[]],update:T}]})}else{if(!lu.defined(t)){let c=i+cpe,f=a.map(d=>{let p=d.channel,{data:m,visual:g}=d.signals,v=gt(e.scaleName(p)),b=e.getScaleComponent(p).get("type"),_=wa(b)?"+":"";return`(!isArray(${m}) || (${_}invert(${v}, ${g})[0] === ${_}${m}[0] && ${_}invert(${v}, ${g})[1] === ${_}${m}[1]))`});f.length&&r.push({name:c,value:{},on:[{events:a.map(d=>({scale:e.scaleName(d.channel)})),update:f.join(" && ")+` ? ${c} : {}`}]})}let l=a.map(c=>c.signals.data),u=`unit: ${Yc(e)}, fields: ${i+$0}, values`;return r.concat(A(A({name:o},s?{init:`{${u}: ${z0(s)}}`}:{}),l.length?{on:[{events:[{signal:l.join(" || ")}],update:`${l.join(" && ")} ? {${u}: [${l}]} : null`}]}:{}))}},topLevelSignals:(e,t,r)=>(Rr(e)&&e.hasProjection&&t.init&&(r.filter(o=>o.name===bv).length||r.unshift({name:bv,value:null,on:[{events:"timer{1}",update:`${bv} === null ? {} : ${bv}`}]})),r),marks:(e,t,r)=>{let i=t.name,{x:o,y:a}=t.project.hasChannel,s=o?.signals.visual,l=a?.signals.visual,u=`data(${gt(t.name+Xc)})`;if(lu.defined(t)||!o&&!a)return r;let c={x:o!==void 0?{signal:`${s}[0]`}:{value:0},y:a!==void 0?{signal:`${l}[0]`}:{value:0},x2:o!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${l}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(let _ of Ve(c))c[_]=[A({test:`${u}.length && ${u}[0].unit === ${Yc(e)}`},c[_]),{value:0}];let b=t.mark,{fill:f,fillOpacity:d,cursor:p}=b,m=Ct(b,["fill","fillOpacity","cursor"]),g=Ve(m).reduce((_,D)=>(_[D]=[{test:[o!==void 0&&`${s}[0] !== ${s}[1]`,a!==void 0&&`${l}[0] !== ${l}[1]`].filter(T=>T).join(" && "),value:m[D]},{value:null}],_),{}),v=p??(t.translate?"move":null);return[{name:`${i+U0}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:c}},...r,{name:i+U0,type:"rect",clip:!0,encode:{enter:_e(A({},v?{cursor:{value:v}}:{}),{fill:{value:"transparent"}}),update:A(A({},c),g)}}]}},dpe=mVe;function gVe(e,t,r,i){let o=!e.hasProjection,a=r.channel,s=r.signals.visual,l=gt(o?e.scaleName(a):e.projectionName()),u=p=>`scale(${l}, ${p})`,c=e.getSizeSignalRef(a===Lr?"width":"height").signal,f=`${a}(unit)`,d=t.events.reduce((p,m)=>[...p,{events:m.between[0],update:`[${f}, ${f}]`},{events:m,update:`[${s}[0], clamp(${f}, 0, ${c})]`}],[]);if(o){let p=r.signals.data,m=lu.defined(t),g=e.getScaleComponent(a),v=g?g.get("type"):void 0,b=i?{init:z0(i,!0,u)}:{value:[]};return d.push({events:{signal:t.name+cpe},update:wa(v)?`[${u(`${p}[0]`)}, ${u(`${p}[1]`)}]`:"[0, 0]"}),m?[{name:p,on:[]}]:[_e(A({name:s},b),{on:d}),_e(A({name:p},i?{init:z0(i)}:{}),{on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${l}, ${s})`}]})]}else{let p=a===Lr?0:1,m=t.name+fpe,g=i?{init:`[${m}[0][${p}], ${m}[1][${p}]]`}:{value:[]};return[_e(A({name:s},g),{on:d})]}}function $u({model:e,channelDef:t,vgChannel:r,invalidValueRef:i,mainRefFn:o}){let a=ud(t)&&t.condition,s=[];a&&(s=_t(a).map(c=>{let f=o(c);if(Mde(c)){let{param:d,empty:p}=c,m=SA(e,{param:d,empty:p});return A({test:m},f)}else{let d=$m(e,c.test);return A({test:d},f)}})),i!==void 0&&s.push(i);let l=o(t);return l!==void 0&&s.push(l),s.length>1||s.length===1&&s[0].test?{[r]:s}:s.length===1?{[r]:s[0]}:{}}function Eh(e,t="text"){let r=e.encoding[t];return $u({model:e,channelDef:r,vgChannel:t,mainRefFn:i=>Y5(i,e.config),invalidValueRef:void 0})}function Y5(e,t,r="datum"){if(e){if(No(e))return ur(e.value);if(_n(e)){let{format:i,formatType:o}=B5(e);return F5({fieldOrDatumDef:e,format:i,formatType:o,expr:r,config:t})}}}function X5(e,t={}){let{encoding:r,markDef:i,config:o,stack:a}=e,s=r.tooltip;if(Le(s))return{tooltip:gV({tooltip:s},a,o,t)};{let l=t.reactiveGeom?"datum.datum":"datum";return $u({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:c=>{let f=Y5(c,o,l);if(f)return f;if(c===null)return;let d=Kn("tooltip",i,o);if(d===!0&&(d={content:"encoding"}),ht(d))return{value:d};if(yt(d))return Pt(d)?d:d.content==="encoding"?gV(r,a,o,t):{signal:l}},invalidValueRef:void 0})}}function vV(e,t,r,{reactiveGeom:i}={}){let o=A(A({},r),r.tooltipFormat),a=new Set,s=i?"datum.datum":"datum",l=[];function u(f,d){let p=ou(d),m=Yi(f)?f:_e(A({},f),{type:e[p].type}),g=m.title||sv(m,o),v=_t(g).join(", ").replaceAll(/"/g,'\\"'),b;if(Br(d)){let _=d==="x"?"x2":"y2",D=Ko(e[_]);if(Mi(m.bin)&&D){let T=bt(m,{expr:s}),N=bt(D,{expr:s}),{format:z,formatType:j}=B5(m);b=Fm(T,N,z,j,o),a.add(_)}}if((Br(d)||d===Va||d===us)&&t&&t.fieldChannel===d&&t.offset==="normalize"){let{format:_,formatType:D}=B5(m);b=F5({fieldOrDatumDef:m,format:_,formatType:D,expr:s,config:o,normalizeStack:!0}).signal}b??(b=Y5(m,o,s).signal),l.push({channel:d,key:v,value:b})}uv(e,(f,d)=>{st(f)?u(f,d):L5(f)&&u(f.condition,d)});let c={};for(let{channel:f,key:d,value:p}of l)!a.has(f)&&!c[d]&&(c[d]=p);return c}function gV(e,t,r,{reactiveGeom:i}={}){let o=vV(e,t,r,{reactiveGeom:i}),a=wl(o).map(([s,l])=>`"${s}": ${l}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function yV(e){let{markDef:t,config:r}=e,i=Kn("aria",t,r);return i===!1?{}:A(A(A({},i?{aria:i}:{}),vVe(e)),yVe(e))}function vVe(e){let{mark:t,markDef:r,config:i}=e;if(i.aria===!1)return{};let o=Kn("ariaRoleDescription",r,i);return o!=null?{ariaRoleDescription:{value:o}}:Dt(Dfe,t)?{}:{ariaRoleDescription:{value:t}}}function yVe(e){let{encoding:t,markDef:r,config:i,stack:o}=e,a=t.description;if(a)return $u({model:e,channelDef:a,vgChannel:"description",mainRefFn:u=>Y5(u,e.config),invalidValueRef:void 0});let s=Kn("description",r,i);if(s!=null)return{description:ur(s)};if(i.aria===!1)return{};let l=vV(t,o,i);if(!Xn(l))return{description:{signal:wl(l).map(([u,c],f)=>`"${f>0?"; ":""}${u}: " + (${c})`).join(" + ")}}}function Ri(e,t,r={}){let{markDef:i,encoding:o,config:a}=t,{vgChannel:s}=r,{defaultRef:l,defaultValue:u}=r,c=o[e];l===void 0&&(u??(u=Kn(e,i,a,{vgChannel:s,ignoreVgConfig:!ud(c)})),u!==void 0&&(l=ur(u)));let f={markDef:i,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=ND(_e(A({},f),{scaleChannel:e,channelDef:c}));return $u({model:t,channelDef:c,vgChannel:s??e,invalidValueRef:d,mainRefFn:m=>iv(_e(A({},f),{channel:e,channelDef:m,stack:null,defaultRef:l}))})}function K5(e,t={filled:void 0}){let{markDef:r,encoding:i,config:o}=e,{type:a}=r,s=t.filled??Kn("filled",r,o),l=gn(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,u=Kn(s===!0?"color":void 0,r,o,{vgChannel:"fill"})??o.mark[s===!0&&"color"]??l,c=Kn(s===!1?"color":void 0,r,o,{vgChannel:"stroke"})??o.mark[s===!1&&"color"],f=s?"fill":"stroke",d=A(A({},u?{fill:ur(u)}:{}),c?{stroke:ur(c)}:{});return r.color&&(s?r.fill:r.stroke)&&Ze(je.droppingColor("property",{fill:"fill"in r,stroke:"stroke"in r})),A(A(A(A({},d),Ri("color",e,{vgChannel:f,defaultValue:s?u:c})),Ri("fill",e,{defaultValue:i.fill?u:void 0})),Ri("stroke",e,{defaultValue:i.stroke?c:void 0}))}function ppe(e){let{encoding:t,mark:r}=e,i=t.order;return!ps(r)&&No(i)?$u({model:e,channelDef:i,vgChannel:"zindex",mainRefFn:o=>ur(o.value),invalidValueRef:void 0}):{}}function V0({channel:e,markDef:t,encoding:r={},model:i,bandPosition:o}){let a=`${e}Offset`,s=t[a],l=r[a];if((a==="xOffset"||a==="yOffset")&&l)return{offsetType:"encoding",offset:iv({channel:a,channelDef:l,markDef:t,config:i?.config,scaleName:i.scaleName(a),scale:i.getScaleComponent(a),stack:null,defaultRef:ur(s),bandPosition:o})};let u=t[a];return u?{offsetType:"visual",offset:u}:{}}function Xi(e,t,{defaultPos:r,vgChannel:i}){let{encoding:o,markDef:a,config:s,stack:l}=t,u=o[e],c=o[ba(e)],f=t.scaleName(e),d=t.getScaleComponent(e),{offset:p,offsetType:m}=V0({channel:e,markDef:a,encoding:o,model:t,bandPosition:.5}),g=xv({model:t,defaultPos:r,channel:e,scaleName:f,scale:d}),v=!u&&Br(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:bVe({channel:e,channelDef:u,channel2Def:c,markDef:a,config:s,scaleName:f,scale:d,stack:l,offset:p,defaultRef:g,bandPosition:m==="encoding"?0:void 0});return v?{[i||e]:v}:void 0}function bVe(e){let{channel:t,channelDef:r,scaleName:i,stack:o,offset:a,markDef:s}=e;if(_n(r)&&o&&t===o.fieldChannel){if(st(r)){let l=r.bandPosition;if(l===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(l=.5),l!==void 0)return N5({scaleName:i,fieldOrDatumDef:r,startSuffix:"start",bandPosition:l,offset:a})}return od(r,i,{suffix:"end"},{offset:a})}return I5(e)}function xv({model:e,defaultPos:t,channel:r,scaleName:i,scale:o}){let{markDef:a,config:s}=e;return()=>{let l=ou(r),u=Ru(r),c=Kn(r,a,s,{vgChannel:u});if(c!==void 0)return Im(r,c);switch(t){case"zeroOrMin":return hpe({scaleName:i,scale:o,mode:"zeroOrMin",mainChannel:l,config:s});case"zeroOrMax":return hpe({scaleName:i,scale:o,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:l,config:s});case"mid":{let f=e[Wi(r)];return _e(A({},f),{mult:.5})}}}}function hpe(i){var o=i,{mainChannel:e,config:t}=o,r=Ct(o,["mainChannel","config"]);let a=OD(r),{mode:s}=r;if(a)return a;switch(e){case"radius":{if(s==="zeroOrMin")return{value:0};let{widthSignal:l,heightSignal:u}=s.zeroOrMax;return{signal:`min(${l},${u})/2`}}case"theta":return s==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return s==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return s==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}var xVe={left:"x",center:"xc",right:"x2"},wVe={top:"y",middle:"yc",bottom:"y2"};function CA(e,t,r,i="middle"){if(e==="radius"||e==="theta")return Ru(e);let o=e==="x"?"align":"baseline",a=Kn(o,t,r),s;return Pt(a)?(Ze(je.rangeMarkAlignmentCannotBeExpression(o)),s=void 0):s=a,e==="x"?xVe[s||(i==="top"?"left":"center")]:wVe[s||i]}function Dh(e,t,{defaultPos:r,defaultPos2:i,range:o}){return o?wv(e,t,{defaultPos:r,defaultPos2:i}):Xi(e,t,{defaultPos:r})}function wv(e,t,{defaultPos:r,defaultPos2:i}){let{markDef:o,config:a}=t,s=ba(e),l=Wi(e),u=_Ve(t,i,s),c=u[l]?CA(e,o,a):Ru(e);return A(A({},Xi(e,t,{defaultPos:r,vgChannel:c})),u)}function _Ve(e,t,r){let{encoding:i,mark:o,markDef:a,stack:s,config:l}=e,u=ou(r),c=Wi(r),f=Ru(r),d=i[u],p=e.scaleName(u),m=e.getScaleComponent(u),{offset:g}=r in i||r in a?V0({channel:r,markDef:a,encoding:i,model:e}):V0({channel:u,markDef:a,encoding:i,model:e});if(!d&&(r==="x2"||r==="y2")&&(i.latitude||i.longitude)){let b=Wi(r),_=e.markDef[b];return _!=null?{[b]:{value:_}}:{[f]:{field:e.getName(r)}}}let v=SVe({channel:r,channelDef:d,channel2Def:i[r],markDef:a,config:l,scaleName:p,scale:m,stack:s,offset:g,defaultRef:void 0});return v!==void 0?{[f]:v}:EA(r,a)||EA(r,{[r]:dD(r,a,l.style),[c]:dD(c,a,l.style)})||EA(r,l[o])||EA(r,l.mark)||{[f]:xv({model:e,defaultPos:t,channel:r,scaleName:p,scale:m})()}}function SVe({channel:e,channelDef:t,channel2Def:r,markDef:i,config:o,scaleName:a,scale:s,stack:l,offset:u,defaultRef:c}){return _n(t)&&l&&e.charAt(0)===l.fieldChannel.charAt(0)?od(t,a,{suffix:"start"},{offset:u}):I5({channel:e,channelDef:r,scaleName:a,scale:s,stack:l,markDef:i,config:o,offset:u,defaultRef:c})}function EA(e,t){let r=Wi(e),i=Ru(e);if(t[i]!==void 0)return{[i]:Im(e,t[i])};if(t[e]!==void 0)return{[i]:Im(e,t[e])};if(t[r]){let o=t[r];if(id(o))Ze(je.relativeBandSizeNotSupported(r));else return{[r]:Im(e,o)}}}function bs(e,t){let{config:r,encoding:i,markDef:o}=e,a=o.type,s=ba(t),l=Wi(t),u=i[t],c=i[s],f=e.getScaleComponent(t),d=f?f.get("type"):void 0,p=o.orient,m=i[l]??i.size??Kn("size",o,r,{vgChannel:l}),g=nz(t),v=a==="bar"&&(t==="x"?p==="vertical":p==="horizontal")||a==="tick"&&(t==="y"?p==="vertical":p==="horizontal");return st(u)&&(lr(u.bin)||Mi(u.bin)||u.timeUnit&&!c)&&!(m&&!id(m))&&!i[g]&&!ci(d)?DVe({fieldDef:u,fieldDef2:c,channel:t,model:e}):(_n(u)&&ci(d)||v)&&!c?EVe(u,t,e):wv(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function CVe(e,t,r,i,o,a,s){if(id(o))if(r){let u=r.get("type");if(u==="band"){let c=`bandwidth('${t}')`;o.band!==1&&(c=`${o.band} * ${c}`);let f=Js("minBandSize",{type:s},i);return{signal:f?`max(${Zs(f)}, ${c})`:c}}else o.band!==1&&(Ze(je.cannotUseRelativeBandSizeWithNonBandScale(u)),o=void 0)}else return{mult:o.band,field:{group:e}};else{if(Pt(o))return o;if(o)return{value:o}}if(r){let u=r.get("range");if(Dl(u)&&qn(u.step))return{value:u.step-2}}if(!a){let{bandPaddingInner:u,barBandPaddingInner:c,rectBandPaddingInner:f,tickBandPaddingInner:d}=i.scale,p=vr(u,s==="tick"?d:s==="bar"?c:f);if(Pt(p))return{signal:`(1 - (${p.signal})) * ${e}`};if(qn(p))return{signal:`${1-p} * ${e}`}}return{value:mv(i.view,e)-2}}function EVe(e,t,r){let{markDef:i,encoding:o,config:a,stack:s}=r,l=i.orient,u=r.scaleName(t),c=r.getScaleComponent(t),f=Wi(t),d=ba(t),p=nz(t),m=r.scaleName(p),g=r.getScaleComponent(_5(t)),v=i.type==="tick"||l==="horizontal"&&t==="y"||l==="vertical"&&t==="x",b;(o.size||i.size)&&(v?b=Ri("size",r,{vgChannel:f,defaultRef:ur(i.size)}):Ze(je.cannotApplySizeToNonOrientedMark(i.type)));let _=!!b,D=Rz({channel:t,fieldDef:e,markDef:i,config:a,scaleType:(c||g)?.get("type"),useVlSizeChannel:v});b=b||{[f]:CVe(f,m||u,g||c,a,D,!!e,i.type)};let T=(c||g)?.get("type")==="band"&&id(D)&&!_?"top":"middle",N=CA(t,i,a,T),z=N==="xc"||N==="yc",{offset:j,offsetType:B}=V0({channel:t,markDef:i,encoding:o,model:r,bandPosition:z?.5:0}),U=I5({channel:t,channelDef:e,markDef:i,config:a,scaleName:u,scale:c,stack:s,offset:j,defaultRef:xv({model:r,defaultPos:"mid",channel:t,scaleName:u,scale:c}),bandPosition:z?B==="encoding"?0:.5:Pt(D)?{signal:`(1-${D})/2`}:id(D)?(1-D.band)/2:0});if(f)return A({[N]:U},b);{let x=Ru(d),w=b[f],C=j?_e(A({},w),{offset:j}):w;return{[N]:U,[x]:Le(U)?[U[0],_e(A({},U[1]),{offset:C})]:_e(A({},U),{offset:C})}}}function mpe(e,t,r,i,o,a,s){if(ZU(e))return 0;let l=e==="x"||e==="y2",u=l?-t/2:t/2;if(Pt(r)||Pt(o)||Pt(i)||a){let c=Zs(r),f=Zs(o),d=Zs(i),p=Zs(a),g=a?`(${s} < ${p} ? ${l?"":"-"}0.5 * (${p} - (${s})) : ${u})`:u,v=d?`${d} + `:"",b=c?`(${c} ? -1 : 1) * `:"",_=f?`(${f} + ${g})`:g;return{signal:v+b+_}}else return o=o||0,i+(r?-o-u:+o+u)}function DVe({fieldDef:e,fieldDef2:t,channel:r,model:i}){let{config:o,markDef:a,encoding:s}=i,l=i.getScaleComponent(r),u=i.scaleName(r),c=l?l.get("type"):void 0,f=l.get("reverse"),d=Rz({channel:r,fieldDef:e,markDef:a,config:o,scaleType:c}),m=i.component.axes[r]?.[0]?.get("translate")??.5,g=Br(r)?Kn("binSpacing",a,o)??0:0,v=ba(r),b=Ru(r),_=Ru(v),D=Js("minBandSize",a,o),{offset:T}=V0({channel:r,markDef:a,encoding:s,model:i,bandPosition:0}),{offset:N}=V0({channel:v,markDef:a,encoding:s,model:i,bandPosition:0}),z=_de({fieldDef:e,scaleName:u}),j=mpe(r,g,f,m,T,D,z),B=mpe(v,g,f,m,N??T,D,z),U=Pt(d)?{signal:`(1-${d.signal})/2`}:id(d)?(1-d.band)/2:.5,x=Al({fieldDef:e,fieldDef2:t,markDef:a,config:o});if(lr(e.bin)||e.timeUnit){let w=e.timeUnit&&x!==.5;return{[_]:gpe({fieldDef:e,scaleName:u,bandPosition:U,offset:B,useRectOffsetField:w}),[b]:gpe({fieldDef:e,scaleName:u,bandPosition:Pt(U)?{signal:`1-${U.signal}`}:1-U,offset:j,useRectOffsetField:w})}}else if(Mi(e.bin)){let w=od(e,u,{},{offset:B});if(st(t))return{[_]:w,[b]:od(t,u,{},{offset:j})};if(Uc(e.bin)&&e.bin.step)return{[_]:w,[b]:{signal:`scale("${u}", ${bt(e,{expr:"datum"})} + ${e.bin.step})`,offset:j}}}Ze(je.channelRequiredForBinned(v))}function gpe({fieldDef:e,scaleName:t,bandPosition:r,offset:i,useRectOffsetField:o}){return N5(A({scaleName:t,fieldOrDatumDef:e,bandPosition:r,offset:i},o?{startSuffix:Lm,endSuffix:Bm}:{}))}var AVe=new Set(["aria","width","height"]);function zi(e,t){let{fill:r=void 0,stroke:i=void 0}=t.color==="include"?K5(e):{};return A(A(A(A(A(A(A(A(A(A(A(A({},MVe(e.markDef,t)),vpe("fill",r)),vpe("stroke",i)),Ri("opacity",e)),Ri("fillOpacity",e)),Ri("strokeOpacity",e)),Ri("strokeWidth",e)),Ri("strokeDash",e)),ppe(e)),X5(e)),Eh(e,"href")),yV(e))}function vpe(e,t){return t?{[e]:t}:{}}function MVe(e,t){return Efe.reduce((r,i)=>(!AVe.has(i)&&at(e,i)&&t[i]!=="ignore"&&(r[i]=ur(e[i])),r),{})}function Q5(e){let{config:t,markDef:r}=e,i=new Set;if(e.forEachFieldDef((o,a)=>{let s;if(!Oo(a)||!(s=e.getScaleType(a)))return;let l=yh(o.aggregate),u=O5({scaleChannel:a,markDef:r,config:t,scaleType:s,isCountAggregate:l});if(xde(u)){let c=e.vgField(a,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&i.add(c)}}),i.size>0)return{defined:{signal:[...i].map(a=>Tm(a,!0)).join(" && ")}}}function DA(e,t){if(t!==void 0)return{[e]:ur(t)}}var bV="voronoi",TVe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(let r of t.events)r.markname=e.getName(bV)},marks:(e,t,r)=>{let{x:i,y:o}=t.project.hasChannel,a=e.mark;if(ps(a))return Ze(je.nearestNotSupportForContinuous(a)),r;let s={name:e.getName(bV),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:A({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},X5(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!o?"datum.datum.x || 0":"0"},y:{expr:o||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},l=0,u=!1;return r.forEach((c,f)=>{let d=c.name??"";d===e.component.mark[0].name?l=f:d.includes(bV)&&(u=!0)}),u||r.splice(l+1,0,s),r}},AA=TVe;var RVe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!dv(e.bind),parse:(e,t,r)=>TA(t,r),topLevelSignals:(e,t,r)=>{let i=t.name,o=t.project,a=t.bind,s=t.init&&t.init[0],l=AA.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach((u,c)=>{let f=Cr(`${i}_${u.field}`);r.filter(p=>p.name===f).length||r.unshift(_e(A({name:f},s?{init:z0(s[c])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${l}[${gt(u.field)}] : null`}]:[],bind:a[u.field]??a[u.channel]??a}))}),r},signals:(e,t,r)=>{let i=t.name,o=t.project,a=r.find(c=>c.name===i+ys),s=i+$0,l=o.items.map(c=>Cr(`${i}_${c.field}`)),u=l.map(c=>`${c} !== null`).join(" && ");return l.length&&(a.update=`${u} ? {fields: ${s}, values: [${l.join(", ")}]} : null`),delete a.value,delete a.on,r}},MA=RVe;var Z5="_toggle",kVe={defined:e=>e.type==="point"&&!_a(e)&&!!e.toggle,signals:(e,t,r)=>r.concat({name:t.name+Z5,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{let r=t.name+ys,i=t.name+Z5;return`${i} ? null : ${r}, `+(t.resolve==="global"?`${i} ? null : true, `:`${i} ? null : {unit: ${Yc(e)}}, `)+`${i} ? ${r} : null`}},RA=kVe;var OVe={defined:e=>e.clear!==void 0&&e.clear!==!1&&!_a(e),parse:(e,t)=>{t.clear&&(t.clear=ht(t.clear)?ss(t.clear,"view"):t.clear)},topLevelSignals:(e,t,r)=>{if(MA.defined(t))for(let i of t.project.items){let o=r.findIndex(a=>a.name===Cr(`${t.name}_${i.field}`));o!==-1&&r[o].on.push({events:t.clear,update:"null"})}return r},signals:(e,t,r)=>{function i(o,a){o!==-1&&r[o].on&&r[o].on.push({events:t.clear,update:a})}if(t.type==="interval")for(let o of t.project.items){let a=r.findIndex(s=>s.name===o.signals.visual);if(i(a,"[0, 0]"),a===-1){let s=r.findIndex(l=>l.name===o.signals.data);i(s,"null")}}else{let o=r.findIndex(a=>a.name===t.name+ys);i(o,"null"),RA.defined(t)&&(o=r.findIndex(a=>a.name===t.name+Z5),i(o,"false"))}return r}},ype=OVe;var bpe={defined:e=>{let t=e.resolve==="global"&&e.bind&&dv(e.bind),r=e.project.items.length===1&&e.project.items[0].field!==Ya;return t&&!r&&Ze(je.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&r},parse:(e,t,r)=>{let i=Xt(r);if(i.select=ht(i.select)?{type:i.select,toggle:t.toggle}:_e(A({},i.select),{toggle:t.toggle}),TA(t,i),yt(r.select)&&(r.select.on||r.select.clear)){let s='event.item && indexof(event.item.mark.role, "legend") < 0';for(let l of t.events)l.filter=_t(l.filter??[]),l.filter.includes(s)||l.filter.push(s)}let o=rA(t.bind)?t.bind.legend:"click",a=ht(o)?ss(o,"view"):_t(o);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,r)=>{let i=t.name,o=rA(t.bind)&&t.bind.legend,a=s=>l=>{let u=Xt(l);return u.markname=s,u};for(let s of t.project.items){if(!s.hasLegend)continue;let l=`${Cr(s.field)}_legend`,u=`${i}_${l}`;if(r.filter(f=>f.name===u).length===0){let f=o.merge.map(a(`${l}_symbols`)).concat(o.merge.map(a(`${l}_labels`))).concat(o.merge.map(a(`${l}_entries`)));r.unshift(_e(A({name:u},t.init?{}:{value:null}),{on:[{events:f,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]}))}}return r},signals:(e,t,r)=>{let i=t.name,o=t.project,a=r.find(p=>p.name===i+ys),s=i+$0,l=o.items.filter(p=>p.hasLegend).map(p=>Cr(`${i}_${Cr(p.field)}_legend`)),c=`${l.map(p=>`${p} !== null`).join(" && ")} ? {fields: ${s}, values: [${l.join(", ")}]} : null`;t.events&&l.length>0?a.on.push({events:l.map(p=>({signal:p})),update:c}):l.length>0&&(a.update=c,delete a.value,delete a.on);let f=r.find(p=>p.name===i+Z5),d=rA(t.bind)&&t.bind.legend;return f&&(t.events?f.on.push(_e(A({},f.on[0]),{events:d})):f.on[0].events=d),r}},xpe=bpe;function wpe(e,t,r){let i=e.fieldDef(t)?.field;for(let o of Di(e.component.selection??{})){let a=o.project.hasField[i]??o.project.hasChannel[t];if(a&&bpe.defined(o)){let s=r.get("selections")??[];s.push(o.name),r.set("selections",s,!1),a.hasLegend=!0}}}var Spe="_translate_anchor",Cpe="_translate_delta",NVe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,r)=>{let i=t.name,o=lu.defined(t),a=i+Spe,{x:s,y:l}=t.project.hasChannel,u=ss(t.translate,"scope");return o||(u=u.map(c=>(c.between[0].markname=i+U0,c))),r.push({name:a,value:{},on:[{events:u.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${o?yv(e,Lr):`slice(${s.signals.visual})`}`:"")+(l!==void 0?`, extent_y: ${o?yv(e,Ai):`slice(${l.signals.visual})`}`:"")+"}"}]},{name:i+Cpe,value:{},on:[{events:u,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),s!==void 0&&_pe(e,t,s,"width",r),l!==void 0&&_pe(e,t,l,"height",r),r}},Epe=NVe;function _pe(e,t,r,i,o){let a=t.name,s=a+Spe,l=a+Cpe,u=r.channel,c=lu.defined(t),f=o.find(z=>z.name===r.signals[c?"data":"visual"]),d=e.getSizeSignalRef(i).signal,p=e.getScaleComponent(u),m=p&&p.get("type"),g=p&&p.get("reverse"),v=c?u===Lr?g?"":"-":g?"-":"":"",b=`${s}.extent_${u}`,_=`${v}${l}.${u} / ${c?`${d}`:`span(${b})`}`,D=!c||!p?"panLinear":m==="log"?"panLog":m==="symlog"?"panSymlog":m==="pow"?"panPow":"panLinear",T=c?m==="pow"?`, ${p.get("exponent")??1}`:m==="symlog"?`, ${p.get("constant")??1}`:"":"",N=`${D}(${b}, ${_}${T})`;f.on.push({events:{signal:l},update:c?N:`clampRange(${N}, 0, ${d})`})}var Ape="_zoom_anchor",Mpe="_zoom_delta",IVe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,r)=>{let i=t.name,o=lu.defined(t),a=i+Mpe,{x:s,y:l}=t.project.hasChannel,u=gt(e.scaleName(Lr)),c=gt(e.scaleName(Ai)),f=ss(t.zoom,"scope");return o||(f=f.map(d=>(d.markname=i+U0,d))),r.push({name:i+Ape,on:[{events:f,update:o?"{"+[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&Dpe(e,t,s,"width",r),l!==void 0&&Dpe(e,t,l,"height",r),r}},Tpe=IVe;function Dpe(e,t,r,i,o){let a=t.name,s=r.channel,l=lu.defined(t),u=o.find(D=>D.name===r.signals[l?"data":"visual"]),c=e.getSizeSignalRef(i).signal,f=e.getScaleComponent(s),d=f&&f.get("type"),p=l?yv(e,s):u.name,m=a+Mpe,g=`${a}${Ape}.${s}`,v=!l||!f?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",b=l?d==="pow"?`, ${f.get("exponent")??1}`:d==="symlog"?`, ${f.get("constant")??1}`:"":"",_=`${v}(${p}, ${g}, ${m}${b})`;u.on.push({events:{signal:m},update:l?_:`clampRange(${_}, 0, ${c})`})}var Xc="_store",ys="_tuple",upe="_modify";var wA="vlSelectionResolve",W5=[npe,dpe,J0e,RA,MA,lu,xpe,ype,Epe,Tpe,AA];function FVe(e){let t=e.parent;for(;t&&!yo(t);)t=t.parent;return t}function Yc(e,{escape:t}={escape:!0}){let r=t?gt(e.name):e.name,i=FVe(e);if(i){let{facet:o}=i;for(let a of ya)o[a]&&(r+=` + '__facet_${a}_' + (facet[${gt(i.vgField(a))}])`)}return r}function _v(e){return Di(e.component.selection??{}).reduce((t,r)=>t||r.project.hasSelectionId,!1)}function TA(e,t){(ht(t.select)||!t.select.on)&&delete e.events,(ht(t.select)||!t.select.clear)&&delete e.clear,(ht(t.select)||!t.select.toggle)&&delete e.toggle}function _a(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}var PVe="RawCode",LVe="Literal",BVe="Property",$Ve="Identifier",UVe="ArrayExpression",zVe="BinaryExpression",VVe="CallExpression",qVe="ConditionalExpression",HVe="LogicalExpression",GVe="MemberExpression",jVe="ObjectExpression",WVe="UnaryExpression";function Kc(e){this.type=e}Kc.prototype.visit=function(e){let t,r,i;if(e(this))return 1;for(t=YVe(this),r=0,i=t.length;r<i;++r)if(t[r].visit(e))return 1};function YVe(e){switch(e.type){case UVe:return e.elements;case zVe:case HVe:return[e.left,e.right];case VVe:return[e.callee].concat(e.arguments);case qVe:return[e.test,e.consequent,e.alternate];case GVe:return[e.object,e.property];case jVe:return e.properties;case BVe:return[e.key,e.value];case WVe:return[e.argument];case $Ve:case LVe:case PVe:default:return[]}}var pd,dn,it,xs,fi,NA=1,Av=2,Um=3,Ah=4,IA=5,Vm=6,Rl=7,Mv=8,XVe=9;pd={};pd[NA]="Boolean";pd[Av]="<end>";pd[Um]="Identifier";pd[Ah]="Keyword";pd[IA]="Null";pd[Vm]="Numeric";pd[Rl]="Punctuator";pd[Mv]="String";pd[XVe]="RegularExpression";var KVe="ArrayExpression",QVe="BinaryExpression",ZVe="CallExpression",JVe="ConditionalExpression",Lpe="Identifier",eqe="Literal",tqe="LogicalExpression",nqe="MemberExpression",rqe="ObjectExpression",iqe="Property",oqe="UnaryExpression",Sa="Unexpected token %0",aqe="Unexpected number",sqe="Unexpected string",lqe="Unexpected identifier",uqe="Unexpected reserved word",cqe="Unexpected end of input",SV="Invalid regular expression",xV="Invalid regular expression: missing /",Bpe="Octal literals are not allowed in strict mode.",fqe="Duplicate data property in object literal not allowed in strict mode",Xa="ILLEGAL",Ev="Disabled.",dqe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),pqe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function FA(e,t){if(!e)throw new Error("ASSERT: "+t)}function q0(e){return e>=48&&e<=57}function EV(e){return"0123456789abcdefABCDEF".includes(e)}function Cv(e){return"01234567".includes(e)}function hqe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Dv(e){return e===10||e===13||e===8232||e===8233}function Tv(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&dqe.test(String.fromCharCode(e))}function OA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&pqe.test(String.fromCharCode(e))}var mqe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function $pe(){for(;it<xs;){let e=dn.charCodeAt(it);if(hqe(e)||Dv(e))++it;else break}}function CV(e){var t,r,i,o=0;for(r=e==="u"?4:2,t=0;t<r;++t)it<xs&&EV(dn[it])?(i=dn[it++],o=o*16+"0123456789abcdef".indexOf(i.toLowerCase())):Kr({},Sa,Xa);return String.fromCharCode(o)}function gqe(){var e,t,r,i;for(e=dn[it],t=0,e==="}"&&Kr({},Sa,Xa);it<xs&&(e=dn[it++],!!EV(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Kr({},Sa,Xa),t<=65535?String.fromCharCode(t):(r=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(r,i))}function Upe(){var e,t;for(e=dn.charCodeAt(it++),t=String.fromCharCode(e),e===92&&(dn.charCodeAt(it)!==117&&Kr({},Sa,Xa),++it,e=CV("u"),(!e||e==="\\"||!Tv(e.charCodeAt(0)))&&Kr({},Sa,Xa),t=e);it<xs&&(e=dn.charCodeAt(it),!!OA(e));)++it,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),dn.charCodeAt(it)!==117&&Kr({},Sa,Xa),++it,e=CV("u"),(!e||e==="\\"||!OA(e.charCodeAt(0)))&&Kr({},Sa,Xa),t+=e);return t}function vqe(){var e,t;for(e=it++;it<xs;){if(t=dn.charCodeAt(it),t===92)return it=e,Upe();if(OA(t))++it;else break}return dn.slice(e,it)}function yqe(){var e,t,r;return e=it,t=dn.charCodeAt(it)===92?Upe():vqe(),t.length===1?r=Um:mqe.hasOwnProperty(t)?r=Ah:t==="null"?r=IA:t==="true"||t==="false"?r=NA:r=Um,{type:r,value:t,start:e,end:it}}function wV(){var e=it,t=dn.charCodeAt(it),r,i=dn[it],o,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++it,{type:Rl,value:String.fromCharCode(t),start:e,end:it};default:if(r=dn.charCodeAt(it+1),r===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return it+=2,{type:Rl,value:String.fromCharCode(t)+String.fromCharCode(r),start:e,end:it};case 33:case 61:return it+=2,dn.charCodeAt(it)===61&&++it,{type:Rl,value:dn.slice(e,it),start:e,end:it}}}if(s=dn.substr(it,4),s===">>>=")return it+=4,{type:Rl,value:s,start:e,end:it};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return it+=3,{type:Rl,value:a,start:e,end:it};if(o=a.substr(0,2),i===o[1]&&"+-<>&|".includes(i)||o==="=>")return it+=2,{type:Rl,value:o,start:e,end:it};if(o==="//"&&Kr({},Sa,Xa),"<>=!+-*%&|^/".includes(i))return++it,{type:Rl,value:i,start:e,end:it};Kr({},Sa,Xa)}function bqe(e){let t="";for(;it<xs&&EV(dn[it]);)t+=dn[it++];return t.length===0&&Kr({},Sa,Xa),Tv(dn.charCodeAt(it))&&Kr({},Sa,Xa),{type:Vm,value:parseInt("0x"+t,16),start:e,end:it}}function xqe(e){let t="0"+dn[it++];for(;it<xs&&Cv(dn[it]);)t+=dn[it++];return(Tv(dn.charCodeAt(it))||q0(dn.charCodeAt(it)))&&Kr({},Sa,Xa),{type:Vm,value:parseInt(t,8),octal:!0,start:e,end:it}}function Rpe(){var e,t,r;if(r=dn[it],FA(q0(r.charCodeAt(0))||r===".","Numeric literal must start with a decimal digit or a decimal point"),t=it,e="",r!=="."){if(e=dn[it++],r=dn[it],e==="0"){if(r==="x"||r==="X")return++it,bqe(t);if(Cv(r))return xqe(t);r&&q0(r.charCodeAt(0))&&Kr({},Sa,Xa)}for(;q0(dn.charCodeAt(it));)e+=dn[it++];r=dn[it]}if(r==="."){for(e+=dn[it++];q0(dn.charCodeAt(it));)e+=dn[it++];r=dn[it]}if(r==="e"||r==="E")if(e+=dn[it++],r=dn[it],(r==="+"||r==="-")&&(e+=dn[it++]),q0(dn.charCodeAt(it)))for(;q0(dn.charCodeAt(it));)e+=dn[it++];else Kr({},Sa,Xa);return Tv(dn.charCodeAt(it))&&Kr({},Sa,Xa),{type:Vm,value:parseFloat(e),start:t,end:it}}function wqe(){var e="",t,r,i,o,a=!1;for(t=dn[it],FA(t==="'"||t==='"',"String literal must starts with a quote"),r=it,++it;it<xs;)if(i=dn[it++],i===t){t="";break}else if(i==="\\")if(i=dn[it++],!i||!Dv(i.charCodeAt(0)))switch(i){case"u":case"x":dn[it]==="{"?(++it,e+=gqe()):e+=CV(i);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Cv(i)?(o="01234567".indexOf(i),o!==0&&(a=!0),it<xs&&Cv(dn[it])&&(a=!0,o=o*8+"01234567".indexOf(dn[it++]),"0123".includes(i)&&it<xs&&Cv(dn[it])&&(o=o*8+"01234567".indexOf(dn[it++]))),e+=String.fromCharCode(o)):e+=i;break}else i==="\r"&&dn[it]===`
`&&++it;else{if(Dv(i.charCodeAt(0)))break;e+=i}return t!==""&&Kr({},Sa,Xa),{type:Mv,value:e,octal:a,start:r,end:it}}function _qe(e,t){let r=e;t.includes("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,o)=>{if(parseInt(o,16)<=1114111)return"x";Kr({},SV)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch{Kr({},SV)}try{return new RegExp(e,t)}catch{return null}}function Sqe(){var e,t,r,i,o;for(e=dn[it],FA(e==="/","Regular expression literal must start with a slash"),t=dn[it++],r=!1,i=!1;it<xs;)if(e=dn[it++],t+=e,e==="\\")e=dn[it++],Dv(e.charCodeAt(0))&&Kr({},xV),t+=e;else if(Dv(e.charCodeAt(0)))Kr({},xV);else if(r)e==="]"&&(r=!1);else if(e==="/"){i=!0;break}else e==="["&&(r=!0);return i||Kr({},xV),o=t.substr(1,t.length-2),{value:o,literal:t}}function Cqe(){var e,t,r;for(t="",r="";it<xs&&(e=dn[it],!!OA(e.charCodeAt(0)));)++it,e==="\\"&&it<xs?Kr({},Sa,Xa):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&Kr({},SV,r),{value:r,literal:t}}function Eqe(){var e,t,r,i;return fi=null,$pe(),e=it,t=Sqe(),r=Cqe(),i=_qe(t.value,r.value),{literal:t.literal+r.literal,value:i,regex:{pattern:t.value,flags:r.value},start:e,end:it}}function Dqe(e){return e.type===Um||e.type===Ah||e.type===NA||e.type===IA}function zpe(){if($pe(),it>=xs)return{type:Av,start:it,end:it};let e=dn.charCodeAt(it);return Tv(e)?yqe():e===40||e===41||e===59?wV():e===39||e===34?wqe():e===46?q0(dn.charCodeAt(it+1))?Rpe():wV():q0(e)?Rpe():wV()}function kl(){let e=fi;return it=e.end,fi=zpe(),it=e.end,e}function Vpe(){let e=it;fi=zpe(),it=e}function Aqe(e){let t=new Kc(KVe);return t.elements=e,t}function kpe(e,t,r){let i=new Kc(e==="||"||e==="&&"?tqe:QVe);return i.operator=e,i.left=t,i.right=r,i}function Mqe(e,t){let r=new Kc(ZVe);return r.callee=e,r.arguments=t,r}function Tqe(e,t,r){let i=new Kc(JVe);return i.test=e,i.consequent=t,i.alternate=r,i}function DV(e){let t=new Kc(Lpe);return t.name=e,t}function Sv(e){let t=new Kc(eqe);return t.value=e.value,t.raw=dn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Ope(e,t,r){let i=new Kc(nqe);return i.computed=e==="[",i.object=t,i.property=r,i.computed||(r.member=!0),i}function Rqe(e){let t=new Kc(rqe);return t.properties=e,t}function Npe(e,t,r){let i=new Kc(iqe);return i.key=t,i.value=r,i.kind=e,i}function kqe(e,t){let r=new Kc(oqe);return r.operator=e,r.argument=t,r.prefix=!0,r}function Kr(e,t){var r,i=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(a,s)=>(FA(s<i.length,"Message reference must be in range"),i[s]));throw r=new Error(o),r.index=it,r.description=o,r}function PA(e){e.type===Av&&Kr(e,cqe),e.type===Vm&&Kr(e,aqe),e.type===Mv&&Kr(e,sqe),e.type===Um&&Kr(e,lqe),e.type===Ah&&Kr(e,uqe),Kr(e,Sa,e.value)}function ws(e){let t=kl();(t.type!==Rl||t.value!==e)&&PA(t)}function Pi(e){return fi.type===Rl&&fi.value===e}function _V(e){return fi.type===Ah&&fi.value===e}function Oqe(){let e=[];for(it=fi.start,ws("[");!Pi("]");)Pi(",")?(kl(),e.push(null)):(e.push(zm()),Pi("]")||ws(","));return kl(),Aqe(e)}function Ipe(){it=fi.start;let e=kl();return e.type===Mv||e.type===Vm?(e.octal&&Kr(e,Bpe),Sv(e)):DV(e.value)}function Nqe(){var e,t,r,i;if(it=fi.start,e=fi,e.type===Um)return r=Ipe(),ws(":"),i=zm(),Npe("init",r,i);if(e.type===Av||e.type===Rl)PA(e);else return t=Ipe(),ws(":"),i=zm(),Npe("init",t,i)}function Iqe(){var e=[],t,r,i,o={},a=String;for(it=fi.start,ws("{");!Pi("}");)t=Nqe(),t.key.type===Lpe?r=t.key.name:r=a(t.key.value),i="$"+r,Object.prototype.hasOwnProperty.call(o,i)?Kr({},fqe):o[i]=!0,e.push(t),Pi("}")||ws(",");return ws("}"),Rqe(e)}function Fqe(){ws("(");let e=AV();return ws(")"),e}var Pqe={if:1};function Lqe(){var e,t,r;if(Pi("("))return Fqe();if(Pi("["))return Oqe();if(Pi("{"))return Iqe();if(e=fi.type,it=fi.start,e===Um||Pqe[fi.value])r=DV(kl().value);else if(e===Mv||e===Vm)fi.octal&&Kr(fi,Bpe),r=Sv(kl());else{if(e===Ah)throw new Error(Ev);e===NA?(t=kl(),t.value=t.value==="true",r=Sv(t)):e===IA?(t=kl(),t.value=null,r=Sv(t)):Pi("/")||Pi("/=")?(r=Sv(Eqe()),Vpe()):PA(kl())}return r}function Bqe(){let e=[];if(ws("("),!Pi(")"))for(;it<xs&&(e.push(zm()),!Pi(")"));)ws(",");return ws(")"),e}function $qe(){it=fi.start;let e=kl();return Dqe(e)||PA(e),DV(e.value)}function Uqe(){return ws("."),$qe()}function zqe(){ws("[");let e=AV();return ws("]"),e}function Vqe(){var e,t,r;for(e=Lqe();;)if(Pi("."))r=Uqe(),e=Ope(".",e,r);else if(Pi("("))t=Bqe(),e=Mqe(e,t);else if(Pi("["))r=zqe(),e=Ope("[",e,r);else break;return e}function Fpe(){let e=Vqe();if(fi.type===Rl&&(Pi("++")||Pi("--")))throw new Error(Ev);return e}function kA(){var e,t;if(fi.type!==Rl&&fi.type!==Ah)t=Fpe();else{if(Pi("++")||Pi("--"))throw new Error(Ev);if(Pi("+")||Pi("-")||Pi("~")||Pi("!"))e=kl(),t=kA(),t=kqe(e.value,t);else{if(_V("delete")||_V("void")||_V("typeof"))throw new Error(Ev);t=Fpe()}}return t}function Ppe(e){let t=0;if(e.type!==Rl&&e.type!==Ah)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function qqe(){var e,t,r,i,o,a,s,l,u,c;if(e=fi,u=kA(),i=fi,o=Ppe(i),o===0)return u;for(i.prec=o,kl(),t=[e,fi],s=kA(),a=[u,i,s];(o=Ppe(fi))>0;){for(;a.length>2&&o<=a[a.length-2].prec;)s=a.pop(),l=a.pop().value,u=a.pop(),t.pop(),r=kpe(l,u,s),a.push(r);i=kl(),i.prec=o,a.push(i),t.push(fi),r=kA(),a.push(r)}for(c=a.length-1,r=a[c],t.pop();c>1;)t.pop(),r=kpe(a[c-1].value,a[c-2],r),c-=2;return r}function zm(){var e,t,r;return e=qqe(),Pi("?")&&(kl(),t=zm(),ws(":"),r=zm(),e=Tqe(e,t,r)),e}function AV(){let e=zm();if(Pi(","))throw new Error(Ev);return e}function qpe(e){dn=e,it=0,xs=dn.length,fi=null,Vpe();let t=AV();if(fi.type!==Av)throw new Error("Unexpect token after expression.");return t}function MV(e){let t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...MV(e.object)),t.push(...MV(e.property))),t)}function Hpe(e){return e.object.type==="MemberExpression"?Hpe(e.object):e.object.name==="datum"}function LA(e){let t=qpe(e),r=new Set;return t.visit(i=>{i.type==="MemberExpression"&&Hpe(i)&&r.add(MV(i).slice(1).join("."))}),r}var hd=class e extends vn{clone(){return new e(null,this.model,Xt(this.filter))}constructor(t,r,i){super(t),this.model=r,this.filter=i,this.expr=$m(this.model,this.filter,this),this._dependentFields=LA(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}};function Gpe(e,t){let r={},i=e.config.selection;if(!t||!t.length)return r;let o=0;for(let a of t){let s=Cr(a.name),l=a.select,u=ht(l)?l:l.type,c=yt(l)?Xt(l):{type:u},f=i[u];for(let m in f)m==="fields"||m==="encodings"||(m==="mark"&&(c.mark=A(A({},f.mark),c.mark)),(c[m]===void 0||c[m]===!0)&&(c[m]=Xt(f[m]??c[m])));let d=r[s]=_e(A({},c),{name:s,type:u,init:a.value,bind:a.bind,events:ht(c.on)?ss(c.on,"scope"):_t(Xt(c.on))});if(_a(d)&&(o++,o>1)){delete r[s];continue}let p=Xt(a);for(let m of W5)m.defined(d)&&m.parse&&m.parse(e,d,p)}return o>1&&Ze(dz),r}function SA(e,t,r,i="datum"){let o=ht(t)?t:t.param,a=Cr(o),s=gt(a+Xc),l;try{l=e.getSelectionComponent(a,o)}catch{return`!!${a}`}if(l.project.timeUnit){let p=r??e.component.data.raw,m=l.project.timeUnit.clone();p.parent?m.insertAsParentOf(p):p.parent=m}let u=l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=l.resolve==="global"?")":`, ${gt(l.resolve)})`,f=`${u}${s}, ${i}${c}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${f}`:`!${d} || ${f}`}function _A(e,t,r){let i=Cr(t),o=r.encoding,a=r.field,s;try{s=e.getSelectionComponent(i,t)}catch{return i}if(!o&&!a)a=s.project.items[0].field,s.project.items.length>1&&Ze(pz(a));else if(o&&!a){let l=s.project.items.filter(u=>u.channel===o);!l.length||l.length>1?(a=s.project.items[0].field,Ze(hz(l,o,r,a))):a=l[0].field}return`${s.name}[${gt(ko(a))}]`}function jpe(e,t){for(let[r,i]of wl(e.component.selection??{})){let o=e.getName(`lookup_${r}`);e.component.data.outputNodes[o]=i.materialized=new lo(new hd(t,e,{param:r}),o,Hr.Lookup,e.component.data.outputNodeRefCounts)}}function $m(e,t,r){return m5(t,i=>ht(i)?i:Gfe(i)?SA(e,i,r):CD(i))}function Hqe(e,t){if(e)return Le(e)&&!zc(e)?e.map(r=>sv(r,t)).join(", "):e}function TV(e,t,r,i){var o,a;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[r]=i}function J5(e,t,r,i={header:!1}){let d=e.combine(),{disable:o,orient:a,scale:s,labelExpr:l,title:u,zindex:c}=d,f=Ct(d,["disable","orient","scale","labelExpr","title","zindex"]);if(!o){for(let m in f){let g=m,v=Lde[g],b=f[g];if(v&&v!==t&&v!=="both")delete f[g];else if(F0(b)){let p=b,{condition:_}=p,D=Ct(p,["condition"]),T=_t(_),N=Iz[g];if(N){let{vgProp:z,part:j}=N,B=[...T.map(U=>{let C=U,{test:x}=C,w=Ct(C,["test"]);return A({test:$m(null,x)},w)}),D];TV(f,j,z,B),delete f[g]}else if(N===null){let z={signal:T.map(j=>{let x=j,{test:B}=x,U=Ct(x,["test"]);return`${$m(null,B)} ? ${sz(U)} : `}).join("")+sz(D)};f[g]=z}}else if(Pt(b)){let _=Iz[g];if(_){let{vgProp:D,part:T}=_;TV(f,T,D,b),delete f[g]}}gn(["labelAlign","labelBaseline"],g)&&f[g]===null&&delete f[g]}if(t==="grid"){if(!f.grid)return;if(f.encode){let{grid:m}=f.encode;f.encode=A({},m?{grid:m}:{}),Xn(f.encode)&&delete f.encode}return _e(A({scale:s,orient:a},f),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:vr(c,0)})}else{if(!i.header&&e.mainExtracted)return;if(l!==void 0){let g=l;f.encode?.labels?.update&&Pt(f.encode.labels.update.text)&&(g=Pc(l,"datum.label",f.encode.labels.update.text.signal)),TV(f,"labels","text",{signal:g})}if(f.labelAlign===null&&delete f.labelAlign,f.encode){for(let g of GD)e.hasAxisPart(g)||delete f.encode[g];Xn(f.encode)&&delete f.encode}let m=Hqe(u,r);return _e(A(A(A({scale:s,orient:a,grid:!1},m?{title:m}:{}),f),r.aria===!1?{aria:!1}:{}),{zindex:vr(c,0)})}}}function BA(e){let{axes:t}=e.component,r=[];for(let i of ja)if(t[i]){for(let o of t[i])if(!o.get("disable")&&!o.get("gridScale")){let a=i==="x"?"height":"width",s=e.getSizeSignalRef(a).signal;a!==s&&r.push({name:a,update:s})}}return r}function Wpe(e,t){let{x:r=[],y:i=[]}=e;return[...r.map(o=>J5(o,"grid",t)),...i.map(o=>J5(o,"grid",t)),...r.map(o=>J5(o,"main",t)),...i.map(o=>J5(o,"main",t))].filter(o=>o)}function Ype(e,t,r,i){return Object.assign.apply(null,[{},...e.map(o=>{if(o==="axisOrient"){let a=r==="x"?"bottom":"left",s=t[r==="x"?"axisBottom":"axisLeft"]||{},l=t[r==="x"?"axisTop":"axisRight"]||{},u=new Set([...Ve(s),...Ve(l)]),c={};for(let f of u.values())c[f]={signal:`${i.signal} === "${a}" ? ${Zs(s[f])} : ${Zs(l[f])}`};return c}return t[o]})])}function Xpe(e,t,r,i){let o=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:_z(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",s=Pt(r)?"axisOrient":`axis${hh(r)}`,l=[...o,...o.map(c=>a+c.substr(4))],u=["axis",s,a];return{vlOnlyAxisConfig:Ype(l,i,e,r),vgAxisConfig:Ype(u,i,e,r),axisConfigStyle:Gqe([...u,...l],i)}}function Gqe(e,t){let r=[{}];for(let i of e){let o=t[i]?.style;if(o){o=_t(o);for(let a of o)r.push(t.style[a])}}return Object.assign.apply(null,r)}function Rv(e,t,r,i={}){let o=uz(e,r,t);if(o!==void 0)return{configFrom:"style",configValue:o};for(let a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(i[a]?.[e]!==void 0)return{configFrom:a,configValue:i[a][e]};return{}}var kV={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:r})=>t.grid??jqe(r,e),gridScale:({model:e,channel:t})=>Wqe(e,t),labelAlign:({axis:e,labelAngle:t,orient:r,channel:i})=>e.labelAlign||NV(t,r,i),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:r,channel:i})=>e.labelBaseline||OV(t,r,i),labelFlush:({axis:e,fieldOrDatumDef:t,channel:r})=>e.labelFlush??Yqe(t.type,r),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:r})=>e.labelOverlap??Xqe(t.type,r,st(t)&&!!t.timeUnit,st(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:r,fieldOrDatumDef:i,scaleType:o})=>{let a=e==="x"?"width":e==="y"?"height":void 0,s=a?t.getSizeSignalRef(a):void 0;return r.tickCount??Kqe({fieldOrDatumDef:i,scaleType:o,size:s,values:r.values})},tickMinStep:Qqe,title:({axis:e,model:t,channel:r})=>{if(e.title!==void 0)return e.title;let i=IV(t,r);if(i!==void 0)return i;let o=t.typedFieldDef(r),a=r==="x"?"x2":"y2",s=t.fieldDef(a);return cz(o?[Tz(o)]:[],st(s)?[Tz(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>Zqe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:r})=>e.zindex??Jqe(r,t)};function jqe(e,t){return!ci(e)&&st(t)&&!lr(t?.bin)&&!Mi(t?.bin)}function Wqe(e,t){let r=t==="x"?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}function Kpe(e,t,r,i,o){let a=t?.labelAngle;if(a!==void 0)return Pt(a)?a:mh(a);{let{configValue:s}=Rv("labelAngle",i,t?.style,o);return s!==void 0?mh(s):r===Lr&&gn([Z7,Q7],e.type)&&!(st(e)&&e.timeUnit)?270:void 0}}function RV(e){return`(((${e.signal} % 360) + 360) % 360)`}function OV(e,t,r,i){if(e!==void 0)if(r==="x"){if(Pt(e)){let o=RV(e),a=Pt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${o} && ${o} < 135) || (225 < ${o} && ${o} < 315) ? "middle" :(${o} <= 45 || 315 <= ${o}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Pt(t)){let o=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${o} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Pt(e)){let o=RV(e),a=Pt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${o} <= 45 || 315 <= ${o} || (135 <= ${o} && ${o} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${o} && ${o} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return i?"middle":null;if(Pt(t)){let o=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${o} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function NV(e,t,r){if(e===void 0)return;let i=r==="x",o=i?0:90,a=i?"bottom":"left";if(Pt(e)){let s=RV(e),l=Pt(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${o?`(${s} + 90)`:s} % 180 === 0) ? ${i?null:'"center"'} :(${o} < ${s} && ${s} < ${180+o}) === ${l} ? "left" : "right"`}}if((e+o)%180===0)return i?null:"center";if(Pt(t)){let s=o<e&&e<180+o?"===":"!==";return{signal:`${`${t.signal} ${s} "${a}"`} ? "left" : "right"`}}return(o<e&&e<180+o)==(t===a)?"left":"right"}function Yqe(e,t){if(t==="x"&&gn(["quantitative","temporal"],e))return!0}function Xqe(e,t,r,i){if(r&&!yt(i)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function Qpe(e){return e==="x"?"bottom":"left"}function Kqe({fieldOrDatumDef:e,scaleType:t,size:r,values:i}){if(!i&&!ci(t)&&t!=="log"){if(st(e)){if(lr(e.bin))return{signal:`ceil(${r.signal}/10)`};if(e.timeUnit&&gn(["month","hours","day","quarter"],Ti(e.timeUnit)?.unit))return}return{signal:`ceil(${r.signal}/40)`}}}function Qqe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(st(t)){let{timeUnit:r}=t;if(r){let i=gD(r);if(i)return{signal:i}}}}function IV(e,t){let r=t==="x"?"x2":"y2",i=e.fieldDef(t),o=e.fieldDef(r),a=i?i.title:void 0,s=o?o.title:void 0;if(a&&s)return fz(a,s);if(a)return a;if(s)return s;if(a!==void 0)return a;if(s!==void 0)return s}function Zqe(e,t){let r=e.values;if(Le(r))return HD(t,r);if(Pt(r))return r}function Jqe(e,t){return e==="rect"&&ov(t)?1:0}var qm=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this._dependentFields=LA(this.transform.calculate)}static parseAllForSortIndex(t,r){return r.forEachFieldDef((i,o)=>{if(Fu(i)&&LD(i.sort)){let{field:a,timeUnit:s}=i,l=i.sort,u=l.map((c,f)=>`${CD({field:a,timeUnit:s,equal:c})} ? ${f} : `).join("")+l.length;t=new e(t,{calculate:u,as:md(i,o,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${rn(this.transform)}`}};function md(e,t,r){return bt(e,A({prefix:t,suffix:"sort_index"},r))}function e3(e,t){return gn(["top","bottom"],t)?"column":gn(["left","right"],t)||e==="row"?"row":"column"}function H0(e,t,r,i){let o=i==="row"?r.headerRow:i==="column"?r.headerColumn:r.headerFacet;return vr((t||{})[e],o[e],r.header[e])}function kv(e,t,r,i){let o={};for(let a of e){let s=H0(a,t||{},r,i);s!==void 0&&(o[a]=s)}return o}var t3=["row","column"],n3=["header","footer"];function Zpe(e,t){let r=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,o=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:s,titleOrient:l}=kv(["titleAnchor","titleAngle","titleOrient"],o.header,i,t),u=e3(t,l),c=mh(s);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:A(A(A(_e(A({text:r},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),ehe(c,u)),Jpe(u,c,a)),rhe(i,o,t,t0e,Gz))}}function Jpe(e,t,r="middle"){switch(r){case"start":return{align:"left"};case"end":return{align:"right"}}let i=NV(t,e==="row"?"left":"top",e==="row"?"y":"x");return i?{align:i}:{}}function ehe(e,t){let r=OV(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return r?{baseline:r}:{}}function the(e,t){let r=e.component.layoutHeaders[t],i=[];for(let o of n3)if(r[o])for(let a of r[o]){let s=tHe(e,t,o,r,a);s!=null&&i.push(s)}return i}function eHe(e,t){let{sort:r}=e;return ms(r)?{field:bt(r,{expr:"datum"}),order:r.order??"ascending"}:Le(r)?{field:md(e,t,{expr:"datum"}),order:"ascending"}:{field:bt(e,{expr:"datum"}),order:r??"ascending"}}function $A(e,t,r){let{format:i,formatType:o,labelAngle:a,labelAnchor:s,labelOrient:l,labelExpr:u}=kv(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,r,t),c=F5({fieldOrDatumDef:e,format:i,formatType:o,expr:"parent",config:r}).signal,f=e3(t,l);return A(A(A(_e(A({text:{signal:u?Pc(Pc(u,"datum.label",c),"datum.value",bt(e,{expr:"parent"})):c}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),ehe(a,f)),Jpe(f,a,s)),rhe(r,e,t,n0e,jz))}function tHe(e,t,r,i,o){if(o){let a=null,{facetFieldDef:s}=i,l=e.config?e.config:void 0;if(s&&o.labels){let{labelOrient:d}=kv(["labelOrient"],s.header,l,t);(t==="row"&&!gn(["top","bottom"],d)||t==="column"&&!gn(["left","right"],d))&&(a=$A(s,t,l))}let u=yo(e)&&!ld(e.facet),c=o.axes,f=c?.length>0;if(a||f){let d=t==="row"?"height":"width";return A(A(A(A(A({name:e.getName(`${t}_${r}`),type:"group",role:`${t}-${r}`},i.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:eHe(s,t)}:{}),f&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),a?{title:a}:{}),o.sizeSignal?{encode:{update:{[d]:o.sizeSignal}}}:{}),f?{axes:c}:{})}}return null}var nHe={column:{start:0,end:1},row:{start:1,end:0}};function rHe(e,t){return nHe[t][e]}function nhe(e,t){let r={};for(let i of ya){let o=e[i];if(o?.facetFieldDef){let{titleAnchor:a,titleOrient:s}=kv(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,i),l=e3(i,s),u=rHe(a,l);u!==void 0&&(r[l]=u)}}return Xn(r)?void 0:r}function rhe(e,t,r,i,o){let a={};for(let s of i){if(!o[s])continue;let l=H0(s,t?.header,e,r);l!==void 0&&(a[o[s]]=l)}return a}function r3(e){return[...UA(e,"width"),...UA(e,"height"),...UA(e,"childWidth"),...UA(e,"childHeight")]}function UA(e,t){let r=t==="width"?"x":"y",i=e.component.layoutSize.get(t);if(!i||i==="merged")return[];let o=e.getSizeSignalRef(t).signal;if(i==="step"){let a=e.getScaleComponent(r);if(a){let s=a.get("type"),l=a.get("range");if(ci(s)&&Dl(l)){let u=e.scaleName(r);return yo(e.parent)&&e.parent.component.resolve.scale[r]==="independent"?[ihe(u,l)]:[ihe(u,l),{name:o,update:FV(u,a,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(i=="container"){let a=o.endsWith("width"),s=a?"containerSize()[0]":"containerSize()[1]",l=hv(e.config.view,a?"width":"height"),u=`isFinite(${s}) ? ${s} : ${l}`;return[{name:o,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:o,value:i}]}function ihe(e,t){let r=`${e}_step`;return Pt(t.step)?{name:r,update:t.step.signal}:{name:r,value:t.step}}function FV(e,t,r){let i=t.get("type"),o=t.get("padding"),a=vr(t.get("paddingOuter"),o),s=t.get("paddingInner");return s=i==="band"?s!==void 0?s:o:1,`bandspace(${r}, ${Zs(s)}, ${Zs(a)}) * ${e}_step`}function zA(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function VA(e,t){return Ve(e).reduce((r,i)=>A(A({},r),$u({model:t,channelDef:e[i],vgChannel:i,mainRefFn:o=>ur(o.value),invalidValueRef:void 0})),{})}function qA(e,t){if(yo(t))return e==="theta"?"independent":"shared";if(Bu(t))return"shared";if(o3(t))return Br(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function i3(e,t){let r=e.scale[t],i=Br(t)?"axis":"legend";return r==="independent"?(e[i][t]==="shared"&&Ze(je.independentScaleMeansIndependentGuide(t)),"independent"):e[i][t]||"shared"}var iHe=_e(A({},Yz),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),PV=Ve(iHe),HA=class extends gs{};var LV={symbols:oHe,gradient:aHe,labels:sHe,entries:lHe};function oHe(e,{fieldOrDatumDef:t,model:r,channel:i,legendCmpt:o,legendType:a}){if(a!=="symbol")return;let{markDef:s,encoding:l,config:u,mark:c}=r,f=s.filled&&c!=="trail",d=A(A({},Tfe({},r,pde)),K5(r,{filled:f})),p=o.get("symbolOpacity")??u.legend.symbolOpacity,m=o.get("symbolFillColor")??u.legend.symbolFillColor,g=o.get("symbolStrokeColor")??u.legend.symbolStrokeColor,v=p===void 0?ohe(l.opacity)??s.opacity:void 0;if(d.fill){if(i==="fill"||f&&i===so)delete d.fill;else if(at(d.fill,"field"))m?delete d.fill:(d.fill=ur(u.legend.symbolBaseFillColor??"black"),d.fillOpacity=ur(v??1));else if(Le(d.fill)){let b=GA(l.fill??l.color)??s.fill??(f&&s.color);b&&(d.fill=ur(b))}}if(d.stroke){if(i==="stroke"||!f&&i===so)delete d.stroke;else if(at(d.stroke,"field")||g)delete d.stroke;else if(Le(d.stroke)){let b=vr(GA(l.stroke||l.color),s.stroke,f?s.color:void 0);b&&(d.stroke={value:b})}}if(i!==Qs){let b=st(t)&&she(r,o,t);b?d.opacity=[A({test:b},ur(v??1)),ur(u.legend.unselectedOpacity)]:v&&(d.opacity=ur(v))}return d=A(A({},d),e),Xn(d)?void 0:d}function aHe(e,{model:t,legendType:r,legendCmpt:i}){if(r!=="gradient")return;let{config:o,markDef:a,encoding:s}=t,l={},c=(i.get("gradientOpacity")??o.legend.gradientOpacity)===void 0?ohe(s.opacity)||a.opacity:void 0;return c&&(l.opacity=ur(c)),l=A(A({},l),e),Xn(l)?void 0:l}function sHe(e,{fieldOrDatumDef:t,model:r,channel:i,legendCmpt:o}){let a=r.legend(i)||{},s=r.config,l=st(t)?she(r,o,t):void 0,u=l?[{test:l,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:f}=a,d;sd(f)?d=su({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:f,config:s}):c===void 0&&f===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=su({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&st(t)&&t.timeUnit===void 0&&(d=su({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));let p=A(A(A({},u?{opacity:u}:{}),d?{text:d}:{}),e);return Xn(p)?void 0:p}function lHe(e,{legendCmpt:t}){return t.get("selections")?.length?_e(A({},e),{fill:{value:"transparent"}}):e}function ohe(e){return ahe(e,(t,r)=>Math.max(t,r.value))}function GA(e){return ahe(e,(t,r)=>vr(t,r.value))}function ahe(e,t){if(Rde(e))return _t(e.condition).reduce(t,e.value);if(No(e))return e.value}function she(e,t,r){let i=t.get("selections");if(!i?.length)return;let o=gt(r.field);return i.map(a=>`(!length(data(${gt(Cr(a)+Xc)})) || (${a}[${o}] && indexof(${a}[${o}], datum.value) >= 0))`).join(" || ")}var BV={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:r})=>{let{format:i,formatType:o}=t;return FD(e,e.type,i,o,r,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:r})=>{let{formatType:i}=e;return PD(i,t,r)},gradientLength:e=>{let{legend:t,legendConfig:r}=e;return t.gradientLength??r.gradientLength??pHe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:r})=>e.labelOverlap??t.labelOverlap??hHe(r),symbolType:({legend:e,markDef:t,channel:r,encoding:i})=>e.symbolType??cHe(t.type,r,i.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>cd(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:r})=>{if(A0(r)&&Iu(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>uHe(t,e)};function uHe(e,t){let r=e.values;if(Le(r))return HD(t,r);if(Pt(r))return r}function cHe(e,t,r,i){if(t!=="shape"){let o=GA(r)??i;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function uhe(e){let{legend:t}=e;return vr(t.type,fHe(e))}function fHe({channel:e,timeUnit:t,scaleType:r}){if(A0(e)){if(gn(["quarter","month","day"],t))return"symbol";if(Iu(r))return"gradient"}return"symbol"}function che({legendConfig:e,legendType:t,orient:r,legend:i}){return i.direction??e[t?"gradientDirection":"symbolDirection"]??dHe(r,t)}function dHe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function pHe({legendConfig:e,model:t,direction:r,orient:i,scaleType:o}){let{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:l,gradientVerticalMinLength:u}=e;if(Iu(o))return r==="horizontal"?i==="top"||i==="bottom"?lhe(t,"width",s,a):s:lhe(t,"height",u,l)}function lhe(e,t,r,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${r}, ${i})`}}function hHe(e){if(gn(["quantile","threshold","log","symlog"],e))return"greedy"}function $V(e){let t=Rr(e)?mHe(e):bHe(e);return e.component.legends=t,t}function mHe(e){let{encoding:t}=e,r={};for(let i of[so,...nA]){let o=ni(t[i]);!o||!e.getScaleComponent(i)||i===ji&&st(o)&&o.type===Gc||(r[i]=yHe(e,i))}return r}function gHe(e,t){let r=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:r};if(t==="size")return{strokeWidth:r}}return t==="color"?e.markDef.filled?{fill:r}:{stroke:r}:{[t]:r}}function vHe(e,t,r,i){switch(t){case"disable":return r!==void 0;case"values":return!!r?.values;case"title":if(t==="title"&&e===i?.title)return!0}return e===(r||{})[t]}function yHe(e,t){let r=e.legend(t),{markDef:i,encoding:o,config:a}=e,s=a.legend,l=new HA({},gHe(e,t));wpe(e,t,l);let u=r!==void 0?!r:s.disable;if(l.set("disable",u,r!==void 0),u)return l;r=r||{};let c=e.getScaleComponent(t).get("type"),f=ni(o[t]),d=st(f)?Ti(f.timeUnit)?.unit:void 0,p=r.orient||a.legend.orient||"right",m=uhe({legend:r,channel:t,timeUnit:d,scaleType:c}),g=che({legend:r,legendType:m,orient:p,legendConfig:s}),v={legend:r,channel:t,model:e,markDef:i,encoding:o,fieldOrDatumDef:f,legendConfig:s,config:a,scaleType:c,orient:p,legendType:m,direction:g};for(let N of PV){if(m==="gradient"&&N.startsWith("symbol")||m==="symbol"&&N.startsWith("gradient"))continue;let z=N in BV?BV[N](v):r[N];if(z!==void 0){let j=vHe(z,N,r,e.fieldDef(t));(j||a.legend[N]===void 0)&&l.set(N,z,j)}}let b=r?.encoding??{},_=l.get("selections"),D={},T={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:l,legendType:m};for(let N of["labels","legend","title","symbols","gradient","entries"]){let z=VA(b[N]??{},e),j=N in LV?LV[N](z,T):z;j!==void 0&&!Xn(j)&&(D[N]=_e(A(A({},_?.length&&st(f)?{name:`${Cr(f.field)}_legend_${N}`}:{}),_?.length?{interactive:!!_}:{}),{update:j}))}return Xn(D)||l.set("encode",D,!!r?.encoding),l}function bHe(e){let{legends:t,resolve:r}=e.component;for(let i of e.children){$V(i);for(let o of Ve(i.component.legends))r.legend[o]=i3(e.component.resolve,o),r.legend[o]==="shared"&&(t[o]=UV(t[o],i.component.legends[o]),t[o]||(r.legend[o]="independent",delete t[o]))}for(let i of Ve(t))for(let o of e.children)o.component.legends[i]&&r.legend[i]==="shared"&&delete o.component.legends[i];return t}function UV(e,t){if(!e)return t.clone();let r=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(r.explicit&&i.explicit&&r.value!==i.value)return;let o=!1;for(let a of PV){let s=Tl(e.getWithExplicit(a),t.getWithExplicit(a),a,"legend",(l,u)=>{switch(a){case"symbolType":return xHe(l,u);case"title":return hD(l,u);case"type":return o=!0,vs("symbol")}return G5(l,u,a,"legend")});e.setWithExplicit(a,s)}return o&&(e.implicit?.encode?.gradient&&Y7(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&Y7(e.explicit,["encode","gradient"])),e}function xHe(e,t){return t.value==="circle"?t:e}function wHe(e,t,r,i){var o,a;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[r]=i}function jA(e){let t=e.component.legends,r={};for(let o of Ve(t)){let a=e.getScaleComponent(o),s=Er(a.get("domains"));if(r[s])for(let l of r[s])UV(l,t[o])||r[s].push(t[o]);else r[s]=[t[o].clone()]}return Di(r).flat().map(o=>_He(o,e.config)).filter(o=>o!==void 0)}function _He(e,t){let s=e.combine(),{disable:r,labelExpr:i,selections:o}=s,a=Ct(s,["disable","labelExpr","selections"]);if(!r){if(t.aria===!1&&a.aria==null&&(a.aria=!1),a.encode?.symbols){let l=a.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!a.stroke&&(l.stroke={value:"transparent"});for(let u of nA)a[u]&&delete l[u]}if(a.title||delete a.title,i!==void 0){let l=i;a.encode?.labels?.update&&Pt(a.encode.labels.update.text)&&(l=Pc(i,"datum.label",a.encode.labels.update.text.signal)),wHe(a,"labels","text",{signal:l})}return a}}function fhe(e){return Bu(e)||o3(e)?SHe(e):dhe(e)}function SHe(e){return e.children.reduce((t,r)=>t.concat(r.assembleProjections()),dhe(e))}function dhe(e){let t=e.component.projection;if(!t||t.merged)return[];let r=t.combine(),{name:i}=r;if(t.data){let o={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},a=t.data.reduce((s,l)=>{let u=Pt(l)?l.signal:`data('${e.lookupDataSource(l)}')`;return gn(s,u)||s.push(u),s},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[A({name:i,size:o,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]}},r)]}else return[A({name:i,translate:{signal:"[width / 2, height / 2]"}},r)]}var phe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];var Ov=class extends gs{constructor(t,r,i,o){super(A({},r),{name:t}),this.specifiedProjection=r,this.size=i,this.data=o,this.merged=!1}get isFit(){return!!this.data}};function zV(e){e.component.projection=Rr(e)?CHe(e):AHe(e)}function CHe(e){if(e.hasProjection){let t=Ui(e.specifiedProjection),r=!(t&&(t.scale!=null||t.translate!=null)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?EHe(e):void 0,a=new Ov(e.projectionName(!0),A(A({},Ui(e.config.projection)),t),i,o);return a.get("type")||a.set("type","equalEarth",!1),a}}function EHe(e){let t=[],{encoding:r}=e;for(let i of[[Ha,qa],[Ga,cs]])(ni(r[i[0]])||ni(r[i[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ji)&&e.typedFieldDef(ji).type===Gc&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Hr.Main)),t}function DHe(e,t){let r=QE(phe,o=>!!(!Dt(e.explicit,o)&&!Dt(t.explicit,o)||Dt(e.explicit,o)&&Dt(t.explicit,o)&&va(e.get(o),t.get(o))));if(va(e.size,t.size)){if(r)return e;if(va(e.explicit,{}))return t;if(va(t.explicit,{}))return e}return null}function AHe(e){if(e.children.length===0)return;let t;for(let i of e.children)zV(i);let r=QE(e.children,i=>{let o=i.component.projection;if(o)if(t){let a=DHe(t,o);return a&&(t=a),!!a}else return t=o,!0;else return!0});if(t&&r){let i=e.projectionName(!0),o=new Ov(i,t.specifiedProjection,t.size,Xt(t.data));for(let a of e.children){let s=a.component.projection;s&&(s.isFit&&o.data.push(...a.component.projection.data),a.renameProjection(s.get("name"),i),s.merged=!0)}return o}}function MHe(e,t,r,i){if(ad(t,r)){let o=Rr(e)?e.axis(r)??e.legend(r)??{}:{},a=bt(t,{expr:"datum"}),s=bt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:bt(t,{binSuffix:"range",forAs:!0}),formula:Fm(a,s,o.format,o.formatType,i)}}return{}}function mhe(e,t){return`${lD(e)}_${t}`}function THe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function a3(e,t,r){let i=D5(r,void 0)??{},o=mhe(i,t);return e.getName(`${o}_bins`)}function RHe(e){return"as"in e}function hhe(e,t,r){let i,o;RHe(e)?i=ht(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:i=[bt(e,{forAs:!0}),bt(e,{binSuffix:"end",forAs:!0})];let a=A({},D5(t,void 0)),s=mhe(a,e.field),{signal:l,extentSignal:u}=THe(r,s);if(E5(a.extent)){let f=a.extent;o=_A(r,f.param,f),delete a.extent}let c=A(A(A({bin:a,field:e.field,as:[i]},l?{signal:l}:{}),u?{extentSignal:u}:{}),o?{span:o}:{});return{key:s,binComponent:c}}var Qc=class e extends vn{clone(){return new e(null,Xt(this.bins))}constructor(t,r){super(t),this.bins=r}static makeFromEncoding(t,r){let i=r.reduceFieldDef((o,a,s)=>{if(Yi(a)&&lr(a.bin)){let{key:l,binComponent:u}=hhe(a,a.bin,r);o[l]=A(A(A({},u),o[l]),MHe(r,a,s,r.config))}return o},{});return Xn(i)?null:new e(t,i)}static makeFromTransform(t,r,i){let{key:o,binComponent:a}=hhe(r,r.bin,i);return new e(t,{[o]:a})}merge(t,r){for(let i of Ve(t.bins))i in this.bins?(r(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=ls([...this.bins[i].as,...t.bins[i].as],rn)):this.bins[i]=t.bins[i];for(let i of t.children)t.removeChild(i),i.parent=this;t.remove()}producedFields(){return new Set(Di(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Di(this.bins).map(t=>t.field))}hash(){return`Bin ${rn(this.bins)}`}assemble(){return Di(this.bins).flatMap(t=>{let r=[],[i,...o]=t.as,u=t.bin,{extent:a}=u,s=Ct(u,["extent"]),l=A(A(A({type:"bin",field:ko(t.field),as:i,signal:t.signal},E5(a)?{extent:null}:{extent:a}),t.span?{span:{signal:`span(${t.span})`}}:{}),s);!a&&t.extentSignal&&(r.push({type:"extent",field:ko(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),r.push(l);for(let c of o)for(let f=0;f<2;f++)r.push({type:"formula",expr:bt({field:i[f]},{expr:"datum"}),as:c[f]});return t.formula&&r.push({type:"formula",expr:t.formula,as:t.formulaAs}),r})}};function kHe(e,t,r,i){let o=Rr(i)?i.encoding[ba(t)]:void 0;if(Yi(r)&&Rr(i)&&zD(r,o,i.markDef,i.config)){e.add(bt(r,{})),e.add(bt(r,{suffix:"end"}));let{mark:a,markDef:s,config:l}=i,u=Al({fieldDef:r,markDef:s,config:l});R0(a)&&u!==.5&&Br(t)&&(e.add(bt(r,{suffix:Lm})),e.add(bt(r,{suffix:Bm}))),r.bin&&ad(r,t)&&e.add(bt(r,{binSuffix:"range"}))}else if(nD(t)){let a=tD(t);e.add(i.getName(a))}else e.add(bt(r));return Fu(r)&&rde(r.scale?.range)&&e.add(r.scale.range.field),e}function OHe(e,t){for(let r of Ve(t)){let i=t[r];for(let o of Ve(i))r in e?e[r][o]=new Set([...e[r][o]??[],...i[o]]):e[r]={[o]:i[o]}}}var uu=class e extends vn{clone(){return new e(null,new Set(this.dimensions),Xt(this.measures))}constructor(t,r,i){super(t),this.dimensions=r,this.measures=i}get groupBy(){return this.dimensions}static makeFromEncoding(t,r){let i=!1;r.forEachFieldDef(s=>{s.aggregate&&(i=!0)});let o={},a=new Set;return!i||(r.forEachFieldDef((s,l)=>{let{aggregate:u,field:c}=s;if(u)if(u==="count")o["*"]??(o["*"]={}),o["*"].count=new Set([bt(s,{forAs:!0})]);else{if(au(u)||ku(u)){let f=au(u)?"argmin":"argmax",d=u[f];o[d]??(o[d]={}),o[d][f]=new Set([bt({op:f,field:d},{forAs:!0})])}else o[c]??(o[c]={}),o[c][u]=new Set([bt(s,{forAs:!0})]);Oo(l)&&r.scaleDomain(l)==="unaggregated"&&(o[c]??(o[c]={}),o[c].min=new Set([bt({field:c,aggregate:"min"},{forAs:!0})]),o[c].max=new Set([bt({field:c,aggregate:"max"},{forAs:!0})]))}else kHe(a,l,s,r)}),a.size+Ve(o).length===0)?null:new e(t,a,o)}static makeFromTransform(t,r){var i;let o=new Set,a={};for(let s of r.aggregate){let{op:l,field:u,as:c}=s;l&&(l==="count"?(a["*"]??(a["*"]={}),a["*"].count=new Set([c||bt(s,{forAs:!0})])):(a[u]??(a[u]={}),(i=a[u])[l]??(i[l]=new Set),a[u][l].add(c||bt(s,{forAs:!0}))))}for(let s of r.groupby??[])o.add(s);return o.size+Ve(a).length===0?null:new e(t,o,a)}merge(t){return YU(this.dimensions,t.dimensions)?(OHe(this.measures,t.measures),!0):(Nfe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Ve(this.measures)])}producedFields(){let t=new Set;for(let r of Ve(this.measures))for(let i of Ve(this.measures[r])){let o=this.measures[r][i];o.size===0?t.add(`${i}_${r}`):o.forEach(t.add,t)}return t}hash(){return`Aggregate ${rn({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let t=[],r=[],i=[];for(let a of Ve(this.measures))for(let s of Ve(this.measures[a]))for(let l of this.measures[a][s])i.push(l),t.push(s),r.push(a==="*"?null:ko(a));return{type:"aggregate",groupby:[...this.dimensions].map(ko),ops:t,fields:r,as:i}}};var zu=class extends vn{constructor(t,r,i,o){super(t),this.model=r,this.name=i,this.data=o;for(let a of ya){let s=r.facet[a];if(s){let{bin:l,sort:u}=s;this[a]=A({name:r.getName(`${a}_domain`),fields:[bt(s),...lr(l)?[bt(s,{binSuffix:"end"})]:[]]},ms(u)?{sortField:u}:Le(u)?{sortIndexField:md(s,a)}:{})}}this.childModel=r.child}hash(){let t="Facet";for(let r of ya)this[r]&&(t+=` ${r.charAt(0)}:${rn(this[r])}`);return t}get fields(){let t=[];for(let r of ya)this[r]?.fields&&t.push(...this[r].fields);return t}dependentFields(){let t=new Set(this.fields);for(let r of ya)this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let t={};for(let r of ja){let i=this.childModel.component.scales[r];if(i&&!i.merged){let o=i.get("type"),a=i.get("range");if(ci(o)&&Dl(a)){let s=Mh(this.childModel,r),l=s3(s);l?t[r]=l:Ze(je.unknownField(r))}}}return t}assembleRowColumnHeaderData(t,r,i){let o={row:"y",column:"x",facet:void 0}[t],a=[],s=[],l=[];o&&i&&i[o]&&(r?(a.push(`distinct_${i[o]}`),s.push("max")):(a.push(i[o]),s.push("distinct")),l.push(`distinct_${i[o]}`));let{sortField:u,sortIndexField:c}=this[t];if(u){let{op:f=xh,field:d}=u;a.push(d),s.push(f),l.push(bt(u,{forAs:!0}))}else c&&(a.push(c),s.push("max"),l.push(c));return{name:this[t].name,source:r??this.data,transform:[A({type:"aggregate",groupby:this[t].fields},a.length?{fields:a,ops:s,as:l}:{})]}}assembleFacetHeaderData(t){let{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],a={};for(let u of t3){for(let c of n3){let f=(i[u]&&i[u][c])??[];for(let d of f)if(d.axes?.length>0){a[u]=!0;break}}if(a[u]){let c=`length(data("${this.facet.name}"))`,f=u==="row"?r?{signal:`ceil(${c} / ${r})`}:1:r?{signal:`min(${c}, ${r})`}:{signal:c};o.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}let{row:s,column:l}=a;return(s||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){let t=[],r=null,i=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:s}=this;if(o&&a&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;let l=[].concat(i.x??[],i.y??[]),u=l.map(()=>"distinct");t.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(let l of[Sl,_l])this[l]&&t.push(this.assembleRowColumnHeaderData(l,r,i));if(s){let l=this.assembleFacetHeaderData(i);l&&t.push(...l)}return t}};function ghe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function NHe(e,t){let r=X7(e);if(t==="number")return`toNumber(${r})`;if(t==="boolean")return`toBoolean(${r})`;if(t==="string")return`toString(${r})`;if(t==="date")return`toDate(${r})`;if(t==="flatten")return r;if(t.startsWith("date:")){let i=ghe(t.slice(5,t.length));return`timeParse(${r},'${i}')`}else if(t.startsWith("utc:")){let i=ghe(t.slice(4,t.length));return`utcParse(${r},'${i}')`}else return Ze(je.unrecognizedParse(t)),null}function vhe(e){let t={};return W7(e.filter,r=>{if(xz(r)){let i=null;vD(r)?i=xa(r.equal):bD(r)?i=xa(r.lte):yD(r)?i=xa(r.lt):xD(r)?i=xa(r.gt):wD(r)?i=xa(r.gte):_D(r)?i=r.range[0]:SD(r)&&(i=(r.oneOf??r.in)[0]),i&&(Ou(i)?t[r.field]="date":qn(i)?t[r.field]="number":ht(i)&&(t[r.field]="string")),r.timeUnit&&(t[r.field]="date")}}),t}function yhe(e){let t={};function r(i){N0(i)?t[i.field]="date":i.type==="quantitative"&&xfe(i.aggregate)?t[i.field]="number":Cm(i.field)>1?i.field in t||(t[i.field]="flatten"):Fu(i)&&ms(i.sort)&&Cm(i.sort.field)>1&&(i.sort.field in t||(t[i.sort.field]="flatten"))}if((Rr(e)||yo(e))&&e.forEachFieldDef((i,o)=>{if(Yi(i))r(i);else{let a=ou(o),s=e.fieldDef(a);r(_e(A({},i),{type:s.type}))}}),Rr(e)){let{mark:i,markDef:o,encoding:a}=e;if(ps(i)&&!e.encoding.order){let s=o.orient==="horizontal"?"y":"x",l=a[s];st(l)&&l.type==="quantitative"&&!(l.field in t)&&(t[l.field]="number")}}return t}function bhe(e){let t={};if(Rr(e)&&e.component.selection)for(let r of Ve(e.component.selection)){let i=e.component.selection[r];for(let o of i.project.items)!o.channel&&Cm(o.field)>1&&(t[o.field]="flatten")}return t}var Ca=class e extends vn{clone(){return new e(null,Xt(this._parse))}constructor(t,r){super(t),this._parse=r}hash(){return`Parse ${rn(this._parse)}`}static makeExplicit(t,r,i){let o={},a=r.data;return!Wc(a)&&a?.format?.parse&&(o=a.format.parse),this.makeWithAncestors(t,o,{},i)}static makeWithAncestors(t,r,i,o){for(let l of Ve(i)){let u=o.getWithExplicit(l);u.value!==void 0&&(u.explicit||u.value===i[l]||u.value==="derived"||i[l]==="flatten"?delete i[l]:Ze(je.differentParse(l,i[l],u.value)))}for(let l of Ve(r)){let u=o.get(l);u!==void 0&&(u===r[l]?delete r[l]:Ze(je.differentParse(l,r[l],u)))}let a=new gs(r,i);o.copyAll(a);let s={};for(let l of Ve(a.combine())){let u=a.get(l);u!==null&&(s[l]=u)}return Ve(s).length===0||o.parseNothing?null:new e(t,s)}get parse(){return this._parse}merge(t){this._parse=A(A({},this._parse),t.parse),t.remove()}assembleFormatParse(){let t={};for(let r of Ve(this._parse)){let i=this._parse[r];Cm(r)===1&&(t[r]=i)}return t}producedFields(){return new Set(Ve(this._parse))}dependentFields(){return new Set(Ve(this._parse))}assembleTransforms(t=!1){return Ve(this._parse).filter(r=>t?Cm(r)>1:!0).map(r=>{let i=NHe(r,this._parse[r]);return i?{type:"formula",expr:i,as:E0(r)}:null}).filter(r=>r!==null)}};var Zc=class e extends vn{clone(){return new e(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ya])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ya}}};var Th=class e extends vn{clone(){return new e(null,this.params)}constructor(t,r){super(t),this.params=r}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${rn(this.params)}`}assemble(){return A({type:"graticule"},this.params===!0?{}:this.params)}};var Rh=class e extends vn{clone(){return new e(null,this.params)}constructor(t,r){super(t),this.params=r}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${rn(this.params)}`}assemble(){return A({type:"sequence"},this.params)}};var Ol=class extends vn{constructor(t){super(null),t??(t={name:"source"});let r;if(Wc(t)||(r=t.format?A({},ao(t.format,["parse"])):{}),Pm(t))this._data={values:t.values};else if(B0(t)){if(this._data={url:t.url},!r.type){let i=/(?:\.([^.]+))?$/.exec(t.url)[1];gn(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else oV(t)?this._data={values:[{type:"Sphere"}]}:(yA(t)||Wc(t))&&(this._data={});this._generator=Wc(t),t.name&&(this._name=t.name),r&&!Xn(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return _e(A({name:this._name},this._data),{transform:[]})}};var xhe=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},IHe=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Nv;function WA(e){return e instanceof Ol||e instanceof Th||e instanceof Rh}var l3=class{constructor(){Nv.set(this,void 0),xhe(this,Nv,!1,"f")}setModified(){xhe(this,Nv,!0,"f")}get modifiedFlag(){return IHe(this,Nv,"f")}};Nv=new WeakMap;var gd=class extends l3{getNodeDepths(t,r,i){i.set(t,r);for(let o of t.children)this.getNodeDepths(o,r+1,i);return i}optimize(t){let i=[...this.getNodeDepths(t,0,new Map).entries()].sort((o,a)=>a[1]-o[1]);for(let o of i)this.run(o[0]);return this.modifiedFlag}},u3=class extends l3{optimize(t){this.run(t);for(let r of t.children)this.optimize(r);return this.modifiedFlag}};var YA=class extends u3{mergeNodes(t,r){let i=r.shift();for(let o of r)t.removeChild(o),o.parent=i,o.remove()}run(t){let r=t.children.map(o=>o.hash()),i={};for(let o=0;o<r.length;o++)i[r[o]]===void 0?i[r[o]]=[t.children[o]]:i[r[o]].push(t.children[o]);for(let o of Ve(i))i[o].length>1&&(this.setModified(),this.mergeNodes(t,i[o]))}},XA=class extends u3{constructor(t){super(),this.requiresSelectionId=t&&_v(t)}run(t){t instanceof Zc&&(this.requiresSelectionId&&(WA(t.parent)||t.parent instanceof uu||t.parent instanceof Ca)||(this.setModified(),t.remove()))}},KA=class extends l3{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,r){let i=new Set;t instanceof Lu&&(i=t.producedFields(),ZE(i,r)&&(this.setModified(),t.removeFormulas(r),t.producedFields.length===0&&t.remove()));for(let o of t.children)this.run(o,new Set([...r,...i]))}},QA=class extends u3{constructor(){super()}run(t){t instanceof lo&&!t.isRequired()&&(this.setModified(),t.remove())}},ZA=class extends gd{run(t){if(!WA(t)&&!(t.numChildren()>1)){for(let r of t.children)if(r instanceof Ca)if(t instanceof Ca)this.setModified(),t.merge(r);else{if(JE(t.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}},JA=class extends gd{run(t){let r=[...t.children],i=t.children.filter(o=>o instanceof Ca);if(t.numChildren()>1&&i.length>=1){let o={},a=new Set;for(let s of i){let l=s.parse;for(let u of Ve(l))u in o?o[u]!==l[u]&&a.add(u):o[u]=l[u]}for(let s of a)delete o[s];if(!Xn(o)){this.setModified();let s=new Ca(t,o);for(let l of r){if(l instanceof Ca)for(let u of Ve(o))delete l.parse[u];t.removeChild(l),l.parent=s,l instanceof Ca&&Ve(l.parse).length===0&&l.remove()}}}}},eM=class extends gd{run(t){t instanceof lo||t.numChildren()>0||t instanceof zu||t instanceof Ol||(this.setModified(),t.remove())}},tM=class extends gd{run(t){let r=t.children.filter(o=>o instanceof Lu),i=r.pop();for(let o of r)this.setModified(),i.merge(o)}},nM=class extends gd{run(t){let r=t.children.filter(o=>o instanceof uu),i={};for(let o of r){let a=rn(o.groupBy);a in i||(i[a]=[]),i[a].push(o)}for(let o of Ve(i)){let a=i[o];if(a.length>1){let s=a.pop();for(let l of a)s.merge(l)&&(t.removeChild(l),l.parent=s,l.remove(),this.setModified())}}}},rM=class extends gd{constructor(t){super(),this.model=t}run(t){let r=!(WA(t)||t instanceof hd||t instanceof Ca||t instanceof Zc),i=[],o=[];for(let a of t.children)a instanceof Qc&&(r&&!JE(t.producedFields(),a.dependentFields())?i.push(a):o.push(a));if(i.length>0){let a=i.pop();for(let s of i)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Qc?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(o.length>1){let a=o.pop();for(let s of o)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}},iM=class extends gd{run(t){let r=[...t.children];if(!ph(r,s=>s instanceof lo)||t.numChildren()<=1)return;let o=[],a;for(let s of r)if(s instanceof lo){let l=s;for(;l.numChildren()===1;){let[u]=l.children;if(u instanceof lo)l=u;else break}o.push(...l.children),a?(t.removeChild(s),s.parent=a.parent,a.parent.removeChild(a),a.parent=l,this.setModified()):a=l}else o.push(s);if(o.length){this.setModified();for(let s of o)s.parent.removeChild(s),s.parent=a}}};var Jc=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=ls(this.transform.groupby.concat(t),r=>r)}dependentFields(){let t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(r=>r.field).filter(r=>r!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??bt(t)}hash(){return`JoinAggregateTransform ${rn(this.transform)}`}assemble(){let t=[],r=[],i=[];for(let a of this.transform.joinaggregate)r.push(a.op),i.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);let o=this.transform.groupby;return A({type:"joinaggregate",as:i,ops:r,fields:t},o!==void 0?{groupby:o}:{})}};var Hm=class e extends vn{clone(){return new e(null,A({},this.filter))}constructor(t,r){super(t),this.filter=r}static make(t,r,i){let{config:o,markDef:a}=r,{marks:s,scales:l}=i;if(s==="include-invalid-values"&&l==="include-invalid-values")return null;let u=r.reduceFieldDef((c,f,d)=>{let p=Oo(d)&&r.getScaleComponent(d);if(p){let m=p.get("type"),{aggregate:g}=f,v=O5({scaleChannel:d,markDef:a,config:o,scaleType:m,isCountAggregate:yh(g)});v!=="show"&&v!=="always-valid"&&(c[f.field]=f)}return c},{});return Ve(u).length?new e(t,u):null}dependentFields(){return new Set(Ve(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${rn(this.filter)}`}assemble(){let t=Ve(this.filter).reduce((r,i)=>{let o=this.filter[i],a=bt(o,{expr:"datum"});return o!==null&&(o.type==="temporal"?r.push(`(isDate(${a}) || (${oM(a)}))`):o.type==="quantitative"&&r.push(oM(a))),r},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}};function oM(e){return`isValid(${e}) && isFinite(+${e})`}function PHe(e){return e.stack.stackBy.reduce((t,r)=>{let i=r.fieldDef,o=bt(i);return o&&t.push(o),t},[])}function LHe(e){return Le(e)&&e.every(t=>ht(t))&&e.length>1}var vd=class e extends vn{clone(){return new e(null,Xt(this._stack))}constructor(t,r){super(t),this._stack=r}static makeFromTransform(t,r){let{stack:i,groupby:o,as:a,offset:s="zero"}=r,l=[],u=[];if(r.sort!==void 0)for(let d of r.sort)l.push(d.field),u.push(vr(d.order,"ascending"));let c={field:l,order:u},f;return LHe(a)?f=a:ht(a)?f=[a,`${a}_end`]:f=[`${r.stack}_start`,`${r.stack}_end`],new e(t,{dimensionFieldDefs:[],stackField:i,groupby:o,offset:s,sort:c,facetby:[],as:f})}static makeFromEncoding(t,r){let i=r.stack,{encoding:o}=r;if(!i)return null;let{groupbyChannels:a,fieldChannel:s,offset:l,impute:u}=i,c=a.map(m=>{let g=o[m];return Ko(g)}).filter(m=>!!m),f=PHe(r),d=r.encoding.order,p;if(Le(d)||st(d))p=pD(d);else{let m=VD(d)?d.sort:s==="y"?"descending":"ascending";p=f.reduce((g,v)=>(g.field.includes(v)||(g.field.push(v),g.order.push(m)),g),{field:[],order:[]})}return new e(t,{dimensionFieldDefs:c,stackField:r.vgField(s),facetby:[],stackby:f,sort:p,offset:l,impute:u,as:[r.vgField(s,{suffix:"start",forAs:!0}),r.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){let t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${rn(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:t,impute:r,groupby:i}=this._stack;return t.length>0?t.map(o=>o.bin?r?[bt(o,{binSuffix:"mid"})]:[bt(o,{}),bt(o,{binSuffix:"end"})]:[bt(o)]).flat():i??[]}assemble(){let t=[],{facetby:r,dimensionFieldDefs:i,stackField:o,stackby:a,sort:s,offset:l,impute:u,as:c}=this._stack;if(u)for(let f of i){let{bandPosition:d=.5,bin:p}=f;if(p){let m=bt(f,{expr:"datum"}),g=bt(f,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${oM(m)} ? ${d}*${m}+${1-d}*${g} : ${m}`,as:bt(f,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:o,groupby:[...a,...r],key:bt(f,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:o,sort:s,as:c,offset:l}),t}};var G0=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=ls(this.transform.groupby.concat(t),r=>r)}dependentFields(){let t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(r=>t.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>r!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??bt(t)}hash(){return`WindowTransform ${rn(this.transform)}`}assemble(){let t=[],r=[],i=[],o=[];for(let d of this.transform.window)r.push(d.op),i.push(this.getDefaultName(d)),o.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);let a=this.transform.frame,s=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&r.every(d=>C5(d)))return A({type:"joinaggregate",as:i,ops:r,fields:t},s!==void 0?{groupby:s}:{});let l=[],u=[];if(this.transform.sort!==void 0)for(let d of this.transform.sort)l.push(d.field),u.push(d.order??"ascending");let c={field:l,order:u},f=this.transform.ignorePeers;return A(A(A({type:"window",params:o,as:i,ops:r,fields:t,sort:c},f!==void 0?{ignorePeers:f}:{}),s!==void 0?{groupby:s}:{}),a!==void 0?{frame:a}:{})}};function BHe(e){function t(r){if(!(r instanceof zu)){let i=r.clone();if(i instanceof lo){let o=Iv+i.getSource();i.setSource(o),e.model.component.data.outputNodes[o]=i}else(i instanceof uu||i instanceof vd||i instanceof G0||i instanceof Jc)&&i.addDimensions(e.fields);for(let o of r.children.flatMap(t))o.parent=i;return[i]}return r.children.flatMap(t)}return t}function aM(e){if(e instanceof zu)if(e.numChildren()===1&&!(e.children[0]instanceof lo)){let t=e.children[0];(t instanceof uu||t instanceof vd||t instanceof G0||t instanceof Jc)&&t.addDimensions(e.fields),t.swapWithParent(),aM(e)}else{let t=e.model.component.data.main;whe(t);let r=BHe(e),i=e.children.map(r).flat();for(let o of i)o.parent=t}else e.children.map(aM)}function whe(e){if(e instanceof lo&&e.type===Hr.Main&&e.numChildren()===1){let t=e.children[0];t instanceof zu||(t.swapWithParent(),whe(e))}}var Iv="scale_",sM=5;function VV(e){for(let t of e){for(let r of t.children)if(r.parent!==t)return!1;if(!VV(t.children))return!1}return!0}function ef(e,t){let r=!1;for(let i of t)r=e.optimize(i)||r;return r}function _he(e,t,r){let i=e.sources,o=!1;return o=ef(new QA,i)||o,o=ef(new XA(t),i)||o,i=i.filter(a=>a.numChildren()>0),o=ef(new eM,i)||o,i=i.filter(a=>a.numChildren()>0),r||(o=ef(new ZA,i)||o,o=ef(new rM(t),i)||o,o=ef(new KA,i)||o,o=ef(new JA,i)||o,o=ef(new nM,i)||o,o=ef(new tM,i)||o,o=ef(new YA,i)||o,o=ef(new iM,i)||o),e.sources=i,o}function She(e,t){VV(e.sources);let r=0,i=0;for(let o=0;o<sM&&_he(e,t,!0);o++)r++;e.sources.map(aM);for(let o=0;o<sM&&_he(e,t,!1);o++)i++;VV(e.sources),Math.max(r,i)===sM&&Ze(`Maximum optimization runs(${sM}) reached.`)}var bo=class e{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,r){return new e(()=>t(r))}};function jV(e){Rr(e)?$He(e):UHe(e)}function $He(e){let t=e.component.scales;for(let r of Ve(t)){let i=VHe(e,r);if(t[r].setWithExplicit("domains",i),HHe(e,r),e.component.data.isFaceted){let a=e;for(;!yo(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[r]==="shared")for(let l of i.value)Vc(l)&&(l.data=Iv+l.data.replace(Iv,""))}}}function UHe(e){for(let r of e.children)jV(r);let t=e.component.scales;for(let r of Ve(t)){let i,o=null;for(let a of e.children){let s=a.component.scales[r];if(s){i===void 0?i=s.getWithExplicit("domains"):i=Tl(i,s.getWithExplicit("domains"),"domains","scale",GV);let l=s.get("selectionExtent");o&&l&&o.param!==l.param&&Ze(je.NEEDS_SAME_SELECTION),o=l}}t[r].setWithExplicit("domains",i),o&&t[r].set("selectionExtent",o,!0)}}function zHe(e,t,r,i){if(e==="unaggregated"){let{valid:o,reason:a}=Che(t,r);if(!o){Ze(a);return}}else if(e===void 0&&i.useUnaggregatedDomain){let{valid:o}=Che(t,r);if(o)return"unaggregated"}return e}function VHe(e,t){let r=e.getScaleComponent(t).get("type"),{encoding:i}=e,o=zHe(e.scaleDomain(t),e.typedFieldDef(t),r,e.config.scale);return o!==e.scaleDomain(t)&&(e.specifiedScales[t]=_e(A({},e.specifiedScales[t]),{domain:o})),t==="x"&&ni(i.x2)?ni(i.x)?Tl(kh(r,o,e,"x"),kh(r,o,e,"x2"),"domain","scale",GV):kh(r,o,e,"x2"):t==="y"&&ni(i.y2)?ni(i.y)?Tl(kh(r,o,e,"y"),kh(r,o,e,"y2"),"domain","scale",GV):kh(r,o,e,"y2"):kh(r,o,e,t)}function qHe(e,t,r){return e.map(i=>({signal:`{data: ${Rm(i,{timeUnit:r,type:t})}}`}))}function qV(e,t,r){let i=Ti(r)?.unit;return t==="temporal"||i?qHe(e,t,i):[e]}function kh(e,t,r,i){let{encoding:o,markDef:a,mark:s,config:l,stack:u}=r,c=ni(o[i]),{type:f}=c,d=c.timeUnit,p=Y0e({invalid:Js("invalid",a,l),isPath:ps(s)});if(nde(t)){let v=kh(e,void 0,r,i),b=qV(t.unionWith,f,d);return Pu([...b,...v.value])}else{if(Pt(t))return Pu([t]);if(t&&t!=="unaggregated"&&!Sz(t))return Pu(qV(t,f,d))}if(u&&i===u.fieldChannel){if(u.offset==="normalize")return vs([[0,1]]);let v=r.requestDataName(p);return vs([{data:v,field:r.vgField(i,{suffix:"start"})},{data:v,field:r.vgField(i,{suffix:"end"})}])}let m=Oo(i)&&st(c)?GHe(r,i,e):void 0;if(hs(c)){let v=qV([c.datum],f,d);return vs(v)}let g=c;if(t==="unaggregated"){let{field:v}=c;return vs([{data:r.requestDataName(p),field:bt({field:v,aggregate:"min"})},{data:r.requestDataName(p),field:bt({field:v,aggregate:"max"})}])}else if(lr(g.bin)){if(ci(e))return e==="bin-ordinal"?vs([]):vs([{data:g5(m)?r.requestDataName(p):r.requestDataName(Hr.Raw),field:r.vgField(i,ad(g,i)?{binSuffix:"range"}:{}),sort:m===!0||!yt(m)?{field:r.vgField(i,{}),op:"min"}:m}]);{let{bin:v}=g;if(lr(v)){let b=a3(r,g.field,v);return vs([new bo(()=>{let _=r.getSignalName(b);return`[${_}.start, ${_}.stop]`})])}else return vs([{data:r.requestDataName(p),field:r.vgField(i,{})}])}}else if(g.timeUnit&&gn(["time","utc"],e)){let v=o[ba(i)];if(zD(g,v,a,l)){let b=r.requestDataName(p),_=Al({fieldDef:g,fieldDef2:v,markDef:a,config:l}),D=R0(s)&&_!==.5&&Br(i);return vs([{data:b,field:r.vgField(i,D?{suffix:Lm}:{})},{data:b,field:r.vgField(i,{suffix:D?Bm:"end"})}])}}return m?vs([{data:g5(m)?r.requestDataName(p):r.requestDataName(Hr.Raw),field:r.vgField(i),sort:m}]):vs([{data:r.requestDataName(p),field:r.vgField(i)}])}function HV(e,t){let{op:r,field:i,order:o}=e;return A(A({op:r??(t?"sum":xh)},i?{field:ko(i)}:{}),o?{order:o}:{})}function HHe(e,t){let r=e.component.scales[t],i=e.specifiedScales[t].domain,o=e.fieldDef(t)?.bin,a=Sz(i)?i:void 0,s=Uc(o)&&E5(o.extent)?o.extent:void 0;(a||s)&&r.set("selectionExtent",a??s,!0)}function GHe(e,t,r){if(!ci(r))return;let i=e.fieldDef(t),o=i.sort;if(LD(o))return{op:"min",field:md(i,t),order:"ascending"};let{stack:a}=e,s=a?new Set([...a.groupbyFields,...a.stackBy.map(l=>l.fieldDef.field)]):void 0;if(ms(o)){let l=a&&!s.has(o.field);return HV(o,l)}else if(Ade(o)){let{encoding:l,order:u}=o,c=e.fieldDef(l),{aggregate:f,field:d}=c,p=a&&!s.has(d);if(au(f)||ku(f))return HV({field:bt(c),order:u},p);if(C5(f)||!f)return HV({op:f,field:d,order:u},p)}else{if(o==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(gn(["ascending",void 0],o))return!0}}function Che(e,t){let{aggregate:r,type:i}=e;return r?ht(r)&&!_fe.has(r)?{valid:!1,reason:je.unaggregateDomainWithNonSharedDomainOp(r)}:i==="quantitative"&&t==="log"?{valid:!1,reason:je.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:je.unaggregateDomainHasNoEffectForRawField(e)}}function GV(e,t,r,i){return e.explicit&&t.explicit&&Ze(je.mergeConflictingDomainProperty(r,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function jHe(e){let t=ls(e.map(s=>{if(Vc(s)){let l=s,{sort:u}=l;return Ct(l,["sort"])}return s}),rn),r=ls(e.map(s=>{if(Vc(s)){let l=s.sort;return l!==void 0&&!g5(l)&&("op"in l&&l.op==="count"&&delete l.field,l.order==="ascending"&&delete l.order),l}}).filter(s=>s!==void 0),rn);if(t.length===0)return;if(t.length===1){let s=e[0];if(Vc(s)&&r.length>0){let l=r[0];if(r.length>1){Ze(je.MORE_THAN_ONE_SORT);let u=r.filter(c=>yt(c)&&"op"in c&&c.op!=="min");r.every(c=>yt(c)&&"op"in c)&&u.length===1?l=u[0]:l=!0}else if(yt(l)&&"field"in l){let u=l.field;s.field===u&&(l=l.order?{order:l.order}:!0)}return _e(A({},s),{sort:l})}return s}let i=ls(r.map(s=>g5(s)||!("op"in s)||ht(s.op)&&Dt(bfe,s.op)?s:(Ze(je.domainSortDropped(s)),!0)),rn),o;i.length===1?o=i[0]:i.length>1&&(Ze(je.MORE_THAN_ONE_SORT),o=!0);let a=ls(e.map(s=>Vc(s)?s.data:null),s=>s);return a.length===1&&a[0]!==null?A({data:a[0],fields:t.map(l=>l.field)},o?{sort:o}:{}):A({fields:t},o?{sort:o}:{})}function s3(e){if(Vc(e)&&ht(e.field))return e.field;if(Sfe(e)){let t;for(let r of e.fields)if(Vc(r)&&ht(r.field)){if(!t)t=r.field;else if(t!==r.field)return Ze(je.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}return Ze(je.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}else if(Cfe(e)){Ze(je.FACETED_INDEPENDENT_SAME_SOURCE);let t=e.fields[0];return ht(t)?t:void 0}}function Mh(e,t){let i=e.component.scales[t].get("domains").map(o=>(Vc(o)&&(o.data=e.lookupDataSource(o.data)),o));return jHe(i)}function WV(e){return Bu(e)||o3(e)?e.children.reduce((t,r)=>t.concat(WV(r)),Ehe(e)):Ehe(e)}function Ehe(e){return Ve(e.component.scales).reduce((t,r)=>{let i=e.component.scales[r];if(i.merged)return t;let o=i.combine(),v=o,{name:a,type:s,selectionExtent:l,domains:u,range:c,reverse:f}=v,d=Ct(v,["name","type","selectionExtent","domains","range","reverse"]),p=WHe(o.range,a,r,e),m=Mh(e,r),g=l?lpe(e,l,i,m):null;return t.push(A(A(_e(A(A({name:a,type:s},m?{domain:m}:{}),g?{domainRaw:g}:{}),{range:p}),f!==void 0?{reverse:f}:{}),d)),t},[])}function WHe(e,t,r,i){if(Br(r)){if(Dl(e))return{step:{signal:`${t}_step`}}}else if(yt(e)&&Vc(e))return _e(A({},e),{data:i.lookupDataSource(e.data)});return e}var Fv=class extends gs{constructor(t,r){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",r)}domainHasZero(){let t=this.get("type");if(gn([vo.LOG,vo.TIME,vo.UTC],t))return"definitely-not";let r=this.get("zero");if(r===!0||r===void 0&&gn([vo.LINEAR,vo.SQRT,vo.POW],t))return"definitely";let i=this.get("domains");if(i.length>0){let o=!1,a=!1,s=!1;for(let l of i){if(Le(l)){let u=l[0],c=l[l.length-1];if(qn(u)&&qn(c))if(u<=0&&c>=0){o=!0;continue}else{a=!0;continue}}s=!0}if(o)return"definitely";if(a&&!s)return"definitely-not"}return"maybe"}};var YHe=["range","scheme"];function The(e){let t=e.component.scales;for(let r of S5){let i=t[r];if(!i)continue;let o=XHe(r,e);i.setWithExplicit("range",o)}}function Dhe(e,t){let r=e.fieldDef(t);if(r?.bin){let{bin:i,field:o}=r,a=Wi(t),s=e.getName(a);if(yt(i)&&i.binned&&i.step!==void 0)return new bo(()=>{let l=e.scaleName(t),u=`(domain("${l}")[1] - domain("${l}")[0]) / ${i.step}`;return`${e.getSignalName(s)} / (${u})`});if(lr(i)){let l=a3(e,o,i);return new bo(()=>{let u=e.getSignalName(l),c=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function XHe(e,t){let r=t.specifiedScales[e],{size:i}=t,a=t.getScaleComponent(e).get("type");for(let d of YHe)if(r[d]!==void 0){let p=ev(a,d),m=DD(e,d);if(!p)Ze(je.scalePropertyNotWorkWithScaleType(a,d,e));else if(m)Ze(m);else switch(d){case"range":{let g=r.range;if(Le(g)){if(Br(e))return Pu(g.map(v=>{if(v==="width"||v==="height"){let b=t.getName(v),_=t.getSignalName.bind(t);return bo.fromName(_,b)}return v}))}else if(yt(g))return Pu({data:t.requestDataName(Hr.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return Pu(g)}case"scheme":return Pu(KHe(r[d]))}}let s=e===Lr||e==="xOffset"?"width":"height",l=i[s];if(Ml(l)){if(Br(e))if(ci(a)){let d=khe(l,t,e);if(d)return Pu({step:d})}else Ze(je.stepDropped(s));else if(M0(e)){let d=e===Tu?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){let g=Ohe(l,a);if(g)return Pu(g)}}}let{rangeMin:u,rangeMax:c}=r,f=QHe(e,t);return(u!==void 0||c!==void 0)&&ev(a,"rangeMin")&&Le(f)&&f.length===2?Pu([u??f[0],c??f[1]]):vs(f)}function KHe(e){return tde(e)?A({scheme:e.name},ao(e,["name"])):{scheme:e}}function Rhe(e,t,r,{center:i}={}){let o=Wi(e),a=t.getName(o),s=t.getSignalName.bind(t);return e===Ai&&wa(r)?i?[bo.fromName(l=>`${s(l)}/2`,a),bo.fromName(l=>`-${s(l)}/2`,a)]:[bo.fromName(s,a),0]:i?[bo.fromName(l=>`-${s(l)}/2`,a),bo.fromName(l=>`${s(l)}/2`,a)]:[0,bo.fromName(s,a)]}function QHe(e,t){let{size:r,config:i,mark:o,encoding:a}=t,{type:s}=ni(a[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Lr:case Ai:{if(gn(["point","band"],u)){let d=Nhe(e,r,i.view);if(Ml(d))return{step:khe(d,t,e)}}return Rhe(e,t,u)}case Tu:case td:return ZHe(e,t,u);case El:{let d=tGe(o,i),p=nGe(o,r,t,i);return T0(u)?eGe(d,p,JHe(u,i,c,e)):[d,p]}case Va:return[0,Math.PI*2];case $c:return[0,360];case us:return[0,new bo(()=>{let d=t.getSignalName(yo(t.parent)?"child_width":"width"),p=t.getSignalName(yo(t.parent)?"child_height":"height");return`min(${d},${p})/2`})];case eu:return{step:1e3/i.scale.framesPerSecond};case ru:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case iu:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ji:return"symbol";case so:case fs:case ds:return u==="ordinal"?s==="nominal"?"category":"ordinal":f!==void 0?"diverging":o==="rect"||o==="geoshape"?"heatmap":"ramp";case Qs:case tu:case nu:return[i.scale.minOpacity,i.scale.maxOpacity]}}function khe(e,t,r){let{encoding:i}=t,o=t.getScaleComponent(r),a=_5(r),s=i[a];if(Kz({step:e,offsetIsDiscrete:_n(s)&&ED(s.type)})==="offset"&&Bz(i,a)){let u=t.getScaleComponent(a),f=`domain('${t.scaleName(a)}').length`;if(u.get("type")==="band"){let p=u.get("paddingInner")??u.get("padding")??0,m=u.get("paddingOuter")??u.get("padding")??0;f=`bandspace(${f}, ${p}, ${m})`}let d=o.get("paddingInner")??o.get("padding");return{signal:`${e.step} * ${f} / (1-${Mfe(d)})`}}else return e.step}function Ohe(e,t){if(Kz({step:e,offsetIsDiscrete:ci(t)})==="offset")return{step:e.step}}function ZHe(e,t,r){let i=e===Tu?"x":"y",o=t.getScaleComponent(i);if(!o)return Rhe(i,t,r,{center:!0});let a=o.get("type"),s=t.scaleName(i),{markDef:l,config:u}=t;if(a==="band"){let c=Nhe(i,t.size,t.config.view);if(Ml(c)){let f=Ohe(c,r);if(f)return f}return[0,{signal:`bandwidth('${s}')`}]}else{let c=t.encoding[i];if(st(c)&&c.timeUnit){let f=gD(c.timeUnit,g=>`scale('${s}', ${g})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,p=Al({fieldDef:c,markDef:l,config:u})-.5,m=p!==0?` + ${p}`:"";if(d){let g=Pt(d)?`${d.signal}/2`+m:`${d/2+p}`,v=Pt(d)?`(1 - ${d.signal}/2)`+m:`${1-d/2+p}`;return[{signal:`${g} * (${f})`},{signal:`${v} * (${f})`}]}return[0,{signal:f}]}return jU(`Cannot use ${e} scale if ${i} scale is not discrete.`)}}function Nhe(e,t,r){let i=e===Lr?"width":"height",o=t[i];return o||V5(r,i)}function JHe(e,t,r,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return r!==void 0&&Le(r)?r.length+1:(Ze(je.domainRequiredForThresholdScale(i)),3)}}function eGe(e,t,r){let i=()=>{let o=Zs(t),a=Zs(e),s=`(${o} - ${a}) / (${r} - 1)`;return`sequence(${a}, ${o} + ${s}, ${s})`};return Pt(t)?new bo(i):{signal:i()}}function tGe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(je.incompatibleChannel("size",e))}var Ahe=.95;function nGe(e,t,r,i){let o={x:Dhe(r,"x"),y:Dhe(r,"y")};switch(e){case"bar":case"tick":{if(i.scale.maxBandSize!==void 0)return i.scale.maxBandSize;let a=Mhe(t,o,i.view);return qn(a)?a-1:new bo(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;let a=Mhe(t,o,i.view);return qn(a)?Math.pow(Ahe*a,2):new bo(()=>`pow(${Ahe} * ${a.signal}, 2)`)}}throw new Error(je.incompatibleChannel("size",e))}function Mhe(e,t,r){let i=Ml(e.width)?e.width.step:mv(r,"width"),o=Ml(e.height)?e.height.step:mv(r,"height");return t.x||t.y?new bo(()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:o].join(", ")})`):Math.min(i,o)}function YV(e,t){Rr(e)?rGe(e,t):Fhe(e,t)}function rGe(e,t){let r=e.component.scales,{config:i,encoding:o,markDef:a,specifiedScales:s}=e;for(let l of Ve(r)){let u=s[l],c=r[l],f=e.getScaleComponent(l),d=ni(o[l]),p=u[t],m=f.get("type"),g=f.get("padding"),v=f.get("paddingInner"),b=ev(m,t),_=DD(l,t);if(p!==void 0&&(b?_&&Ze(_):Ze(je.scalePropertyNotWorkWithScaleType(m,t,l))),b&&_===void 0)if(p!==void 0){let D=d.timeUnit,T=d.type;switch(t){case"domainMax":case"domainMin":Ou(u[t])||T==="temporal"||D?c.set(t,{signal:Rm(u[t],{type:T,timeUnit:D})},!0):c.set(t,u[t],!0);break;default:c.copyKeyFromObject(t,u)}}else{let D=at(Ihe,t)?Ihe[t]({model:e,channel:l,fieldOrDatumDef:d,scaleType:m,scalePadding:g,scalePaddingInner:v,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:a,config:i,hasNestedOffsetScale:jD(o,l),hasSecondaryRangeChannel:!!o[ba(l)]}):i.scale[t];D!==void 0&&c.set(t,D,!1)}}}var Ihe={bins:({model:e,fieldOrDatumDef:t})=>st(t)?iGe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>oGe(e,t.type),nice:({scaleType:e,channel:t,domain:r,domainMin:i,domainMax:o,fieldOrDatumDef:a})=>aGe(e,t,r,i,o,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:r,markDef:i,config:o})=>sGe(e,t,o.scale,r,i,o.bar),paddingInner:({scalePadding:e,channel:t,markDef:r,scaleType:i,config:o,hasNestedOffsetScale:a})=>lGe(e,t,r.type,i,o.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:r,scalePaddingInner:i,config:o,hasNestedOffsetScale:a})=>uGe(e,t,r,i,o.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:r,config:i})=>{let o=st(e)?e.sort:void 0;return cGe(t,o,r,i.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:r,markDef:i,scaleType:o,config:a,hasSecondaryRangeChannel:s})=>fGe(e,t,r,i,o,a.scale,s)};function XV(e){Rr(e)?The(e):Fhe(e,"range")}function Fhe(e,t){let r=e.component.scales;for(let i of e.children)t==="range"?XV(i):YV(i,t);for(let i of Ve(r)){let o;for(let a of e.children){let s=a.component.scales[i];if(s){let l=s.getWithExplicit(t);o=Tl(o,l,t,"scale",gA((u,c)=>{switch(t){case"range":return u.step&&c.step?u.step-c.step:0}return 0}))}}r[i].setWithExplicit(t,o)}}function iGe(e,t){let r=t.bin;if(lr(r)){let i=a3(e,t.field,r);return new bo(()=>e.getSignalName(i))}else if(Mi(r)&&Uc(r)&&r.step!==void 0)return{step:r.step}}function oGe(e,t){if(gn([so,fs,ds],e)&&t!=="nominal")return"hcl"}function aGe(e,t,r,i,o,a){if(!(Ko(a)?.bin||Le(r)||o!=null||i!=null||gn([vo.TIME,vo.UTC],e)))return Br(t)?!0:void 0}function sGe(e,t,r,i,o,a){if(Br(e)){if(Iu(t)){if(r.continuousPadding!==void 0)return r.continuousPadding;let{type:s,orient:l}=o;if(s==="bar"&&!(st(i)&&(i.bin||i.timeUnit))&&(l==="vertical"&&e==="x"||l==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===vo.POINT)return r.pointPadding}}function lGe(e,t,r,i,o,a=!1){if(e===void 0){if(Br(t)){let{bandPaddingInner:s,barBandPaddingInner:l,rectBandPaddingInner:u,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:f}=o;return a?f:vr(s,r==="bar"?l:r==="tick"?c:u)}else if(M0(t)&&i===vo.BAND)return o.offsetBandPaddingInner}}function uGe(e,t,r,i,o,a=!1){if(e===void 0){if(Br(t)){let{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:l}=o;if(a)return l;if(r===vo.BAND)return vr(s,Pt(i)?{signal:`${i.signal}/2`}:i/2)}else if(M0(t)){if(r===vo.POINT)return .5;if(r===vo.BAND)return o.offsetBandPaddingOuter}}}function cGe(e,t,r,i){if(r==="x"&&i.xReverse!==void 0)return wa(e)&&t==="descending"?Pt(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse;if(wa(e)&&t==="descending")return!0}function fGe(e,t,r,i,o,a,s){if(!!r&&r!=="unaggregated"&&wa(o)){if(Le(r)){let u=r[0],c=r[r.length-1];if(qn(u)&&u<=0&&qn(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!T0(o))return!0;if(!(st(t)&&t.bin)&&gn([...ja,...cfe],e)){let{orient:u,type:c}=i;return gn(["bar","area","line","trail"],c)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:gn(["bar","area"],c)&&!s?!0:a?.zero}return!1}function Phe(e,t,r,i,o=!1){let a=dGe(t,r,i,o),{type:s}=e;return Oo(t)?s!==void 0?sde(t,s)?st(r)&&!ade(s,r.type)?(Ze(je.scaleTypeNotWorkWithFieldDef(s,a)),a):s:(Ze(je.scaleTypeNotWorkWithChannel(t,s,a)),a):a:null}function dGe(e,t,r,i){switch(t.type){case"nominal":case"ordinal":{if(A0(e)||sD(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ze(je.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(aD(e))return"band";if(Br(e)||M0(e)){if(gn(["rect","bar","image","rule","tick"],r.type)||i)return"band"}else if(r.type==="arc"&&e in oD)return"band";let o=r[Wi(e)];return id(o)||O0(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return A0(e)?"time":sD(e)==="discrete"?(Ze(je.discreteChannelCannotEncode(e,"temporal")),"ordinal"):st(t)&&t.timeUnit&&Ti(t.timeUnit).utc?"utc":aD(e)?"band":"time";case"quantitative":return A0(e)?st(t)&&lr(t.bin)?"bin-ordinal":"linear":sD(e)==="discrete"?(Ze(je.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):aD(e)?"band":"linear";case"geojson":return}throw new Error(je.invalidFieldType(t.type))}function Lhe(e,{ignoreRange:t}={}){Bhe(e),jV(e);for(let r of ode)YV(e,r);t||XV(e)}function Bhe(e){Rr(e)?e.component.scales=pGe(e):e.component.scales=mGe(e)}function pGe(e){let{encoding:t,mark:r,markDef:i}=e,o={};for(let a of S5){let s=ni(t[a]);if(s&&r===MD&&a===ji&&s.type===Gc)continue;let l=s&&s.scale;if(s&&l!==null&&l!==!1){l??(l={});let u=jD(t,a),c=Phe(l,a,s,i,u);o[a]=new Fv(e.scaleName(`${a}`,!0),{value:c,explicit:l.type===c})}}return o}var hGe=gA((e,t)=>wz(e)-wz(t));function mGe(e){var t;let r=e.component.scales={},i={},o=e.component.resolve;for(let a of e.children){Bhe(a);for(let s of Ve(a.component.scales))if((t=o.scale)[s]??(t[s]=qA(s,e)),o.scale[s]==="shared"){let l=i[s],u=a.component.scales[s].getWithExplicit("type");l?Kfe(l.value,u.value)?i[s]=Tl(l,u,"type","scale",hGe):(o.scale[s]="independent",delete i[s]):i[s]=u}}for(let a of Ve(i)){let s=e.scaleName(a,!0),l=i[a];r[a]=new Fv(s,l);for(let u of e.children){let c=u.component.scales[a];c&&(u.renameScale(c.get("name"),s),c.merged=!0)}}return r}var Pv=class{constructor(){this.nameMap={}}rename(t,r){this.nameMap[t]=r}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}};function Rr(e){return e?.type==="unit"}function yo(e){return e?.type==="facet"}function o3(e){return e?.type==="concat"}function Bu(e){return e?.type==="layer"}var Gm=class{constructor(t,r,i,o,a,s,l){this.type=r,this.parent=i,this.config=a,this.parent=i,this.config=a,this.view=Ui(l),this.name=t.name??o,this.title=zc(t.title)?{text:t.title}:t.title?Ui(t.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new Pv,this.projectionNameMap=i?i.projectionNameMap:new Pv,this.signalNameMap=i?i.signalNameMap:new Pv,this.data=t.data,this.description=t.description,this.transforms=z0e(t.transform??[]),this.layout=r==="layer"||r==="unit"?{}:o0e(t,r,a),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:I0(t)||i?.component.data.isFaceted&&t.data===void 0},layoutSize:new gs,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:A({scale:{},axis:{},legend:{}},s?Xt(s):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Lhe(this)}parseProjection(){zV(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){$V(this)}assembleEncodeFromView(t){let a=t,{style:r}=a,i=Ct(a,["style"]),o={};for(let s of Ve(i)){let l=i[s];l!==void 0&&(o[s]=ur(l))}return o}assembleGroupEncodeEntry(t){let r={};return this.view&&(r=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(r.description=ur(this.description)),this.type==="unit"||this.type==="layer")?A({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},r):Xn(r)?void 0:r}assembleLayout(){if(!this.layout)return;let s=this.layout,{spacing:t}=s,r=Ct(s,["spacing"]),{component:i,config:o}=this,a=nhe(i.layoutHeaders,o);return A(A(A({padding:t},this.assembleDefaultLayout()),r),a?{titleBand:a}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:t}=this.component,r=[];for(let i of ya)t[i].title&&r.push(Zpe(this,i));for(let i of t3)r=r.concat(the(this,i));return r}assembleAxes(){return Wpe(this.component.axes,this.config)}assembleLegends(){return jA(this)}assembleProjections(){return fhe(this)}assembleTitle(){let o=this.title??{},{encoding:t}=o,r=Ct(o,["encoding"]),i=A(A(A({},uD(this.config.title).nonMarkTitleProperties),r),t?{encode:{update:t}}:{});if(i.text)return gn(["unit","layer"],this.type)?gn(["middle",void 0],i.anchor)&&(i.frame??(i.frame="group")):i.anchor??(i.anchor="start"),Xn(i)?void 0:i}assembleGroup(t=[]){let r={};t=t.concat(this.assembleSignals()),t.length>0&&(r.signals=t);let i=this.assembleLayout();i&&(r.layout=i),r.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let o=!this.parent||yo(this.parent)?WV(this):[];o.length>0&&(r.scales=o);let a=this.assembleAxes();a.length>0&&(r.axes=a);let s=this.assembleLegends();return s.length>0&&(r.legends=s),r}getName(t){return Cr((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Hr[t].toLowerCase())}requestDataName(t){let r=this.getDataName(t),i=this.component.data.outputNodeRefCounts;return i[r]=(i[r]||0)+1,r}getSizeSignalRef(t){if(yo(this.parent)){let r=zA(t),i=vh(r),o=this.component.scales[i];if(o&&!o.merged){let a=o.get("type"),s=o.get("range");if(ci(a)&&Dl(s)){let l=o.get("name"),u=Mh(this,i),c=s3(u);if(c){let f=bt({aggregate:"distinct",field:c},{expr:"datum"});return{signal:FV(l,o,f)}}else return Ze(je.unknownField(i)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){let r=this.component.data.outputNodes[t];return r?r.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,r){this.signalNameMap.rename(t,r)}renameScale(t,r){this.scaleNameMap.rename(t,r)}renameProjection(t,r){this.projectionNameMap.rename(t,r)}scaleName(t,r){if(r)return this.getName(t);if(rD(t)&&Oo(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let r=this.component.scales[t];return r&&!r.merged?r:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){let r=this.getScaleComponent(t);return r?r.get("type"):void 0}getSelectionComponent(t,r){let i=this.component.selection[t];if(!i&&this.parent&&(i=this.parent.getSelectionComponent(t,r)),!i)throw new Error(je.selectionNotFound(r));return i}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}},c3=class extends Gm{vgField(t,r={}){let i=this.fieldDef(t);if(i)return bt(i,r)}reduceFieldDef(t,r){return zde(this.getMapping(),(i,o,a)=>{let s=Ko(o);return s?t(i,s,a):i},r)}forEachFieldDef(t,r){uv(this.getMapping(),(i,o)=>{let a=Ko(i);a&&t(a,o)},r)}};var f3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"];let o=this.transform.resolve??"shared";this.transform.resolve=o}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${rn(this.transform)}`}assemble(){let o=this.transform,{density:t}=o,r=Ct(o,["density"]),i=A({type:"kde",field:t},r);return i.resolve=this.transform.resolve,i}};var d3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${rn(this.transform)}`}assemble(){let{extent:t,param:r}=this.transform;return{type:"extent",field:t,signal:r}}};var p3=class e extends vn{clone(){return new e(this.parent,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let{flatten:i,as:o=[]}=this.transform;this.transform.as=i.map((a,s)=>o[s]??a)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${rn(this.transform)}`}assemble(){let{flatten:t,as:r}=this.transform;return{type:"flatten",fields:t,as:r}}};var h3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${rn(this.transform)}`}assemble(){let{fold:t,as:r}=this.transform;return{type:"fold",fields:t,as:r}}};var m3=class e extends vn{clone(){return new e(null,Xt(this.fields),this.geojson,this.signal)}static parseAll(t,r){if(r.component.projection&&!r.component.projection.isFit)return t;let i=0;for(let o of[[Ha,qa],[Ga,cs]]){let a=o.map(s=>{let l=ni(r.encoding[s]);return st(l)?l.field:hs(l)?{expr:`${l.datum}`}:No(l)?{expr:`${l.value}`}:void 0});(a[0]||a[1])&&(t=new e(t,a,null,r.getName(`geojson_${i++}`)))}if(r.channelHasField(ji)){let o=r.typedFieldDef(ji);o.type===Gc&&(t=new e(t,null,o.field,r.getName(`geojson_${i++}`)))}return t}constructor(t,r,i,o){super(t),this.fields=r,this.geojson=i,this.signal=o}dependentFields(){let t=(this.fields??[]).filter(ht);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${rn(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],_e(A(A({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}};var g3=class e extends vn{clone(){return new e(null,this.projection,Xt(this.fields),Xt(this.as))}constructor(t,r,i,o){super(t),this.projection=r,this.fields=i,this.as=o}static parseAll(t,r){if(!r.projectionName())return t;for(let i of[[Ha,qa],[Ga,cs]]){let o=i.map(s=>{let l=ni(r.encoding[s]);return st(l)?l.field:hs(l)?{expr:`${l.datum}`}:No(l)?{expr:`${l.value}`}:void 0}),a=i[0]===Ga?"2":"";(o[0]||o[1])&&(t=new e(t,r.projectionName(),o,[r.getName(`x${a}`),r.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(ht))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${rn(this.fields)} ${rn(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}};var jm=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){let{start:r=0,stop:i,step:o}=t;return{signal:`sequence(${[r,i,...o?[o]:[]].join(",")})`}}static makeFromTransform(t,r){return new e(t,r)}static makeFromEncoding(t,r){let i=r.encoding,o=i.x,a=i.y;if(st(o)&&st(a)){let s=o.impute?o:a.impute?a:void 0;if(s===void 0)return;let l=o.impute?a:a.impute?o:void 0,{method:u,value:c,frame:f,keyvals:d}=s.impute,p=XD(r.mark,i);return new e(t,A(A(A(A(A({impute:s.field,key:l.field},u?{method:u}:{}),c!==void 0?{value:c}:{}),f?{frame:f}:{}),d!==void 0?{keyvals:d}:{}),p.length?{groupby:p}:{}))}return null}hash(){return`Impute ${rn(this.transform)}`}assemble(){let{impute:t,key:r,keyvals:i,method:o,groupby:a,value:s,frame:l=[null,null]}=this.transform,u=_e(A(_e(A({type:"impute",field:t,key:r},i?{keyvals:_0e(i)?this.processSequence(i):i}:{}),{method:"value"}),a?{groupby:a}:{}),{value:!o||o==="value"?s:null});if(o&&o!=="value"){let c=A({type:"window",as:[`imputed_${t}_value`],ops:[o],fields:[t],frame:l,ignorePeers:!1},a?{groupby:a}:{}),f={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,c,f]}else return[u]}};var v3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${rn(this.transform)}`}assemble(){let a=this.transform,{loess:t,on:r}=a,i=Ct(a,["loess","on"]);return A({type:"loess",x:r,y:t},i)}};var y3=class e extends vn{clone(){return new e(null,Xt(this.transform),this.secondary)}constructor(t,r,i){super(t),this.transform=r,this.secondary=i}static make(t,r,i,o){let a=r.component.data.sources,{from:s}=i,l=null;if(S0e(s)){let u=KV(s.data,a);u||(u=new Ol(s.data),a.push(u));let c=r.getName(`lookup_${o}`);l=new lo(u,c,Hr.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[c]=l}else if(C0e(s)){let u=s.param;i=A({as:u},i);let c;try{c=r.getSelectionComponent(Cr(u),u)}catch{throw new Error(je.cannotLookupVariableParameter(u))}if(l=c.materialized,!l)throw new Error(je.noSameUnitLookup(u))}return new e(t,i,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?_t(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${rn({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=A({values:this.transform.from.fields},this.transform.as?{as:_t(this.transform.as)}:{});else{let r=this.transform.as;ht(r)||(Ze(je.NO_FIELDS_NEEDS_AS),r="_lookup"),t={as:[r]}}return A(A({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}};var b3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${rn(this.transform)}`}assemble(){let o=this.transform,{quantile:t}=o,r=Ct(o,["quantile"]);return A({type:"quantile",field:t},r)}};var x3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=Xt(r);let i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${rn(this.transform)}`}assemble(){let a=this.transform,{regression:t,on:r}=a,i=Ct(a,["regression","on"]);return A({type:"regression",x:r,y:t},i)}};var w3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=ls((this.transform.groupby??[]).concat(t),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${rn(this.transform)}`}assemble(){let{pivot:t,value:r,groupby:i,limit:o,op:a}=this.transform;return A(A(A({type:"pivot",field:t,value:r},o!==void 0?{limit:o}:{}),a!==void 0?{op:a}:{}),i!==void 0?{groupby:i}:{})}};var _3=class e extends vn{clone(){return new e(null,Xt(this.transform))}constructor(t,r){super(t),this.transform=r}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${rn(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}};function $he(e){let t=0;function r(i,o){if(i instanceof Ol&&!i.isGenerator&&!B0(i.data)&&(e.push(o),o={name:null,source:o.name,transform:[]}),i instanceof Ca&&(i.parent instanceof Ol&&!o.source?(o.format=_e(A({},o.format),{parse:i.assembleFormatParse()}),o.transform.push(...i.assembleTransforms(!0))):o.transform.push(...i.assembleTransforms())),i instanceof zu){o.name||(o.name=`data_${t++}`),!o.source||o.transform.length>0?(e.push(o),i.data=o.name):i.data=o.source,e.push(...i.assemble());return}switch((i instanceof Th||i instanceof Rh||i instanceof Hm||i instanceof hd||i instanceof qm||i instanceof g3||i instanceof uu||i instanceof y3||i instanceof G0||i instanceof Jc||i instanceof h3||i instanceof p3||i instanceof f3||i instanceof v3||i instanceof b3||i instanceof x3||i instanceof Zc||i instanceof _3||i instanceof w3||i instanceof d3)&&o.transform.push(i.assemble()),(i instanceof Qc||i instanceof Lu||i instanceof jm||i instanceof vd||i instanceof m3)&&o.transform.push(...i.assemble()),i instanceof lo&&(o.source&&o.transform.length===0?i.setSource(o.source):i.parent instanceof lo?i.setSource(o.name):(o.name||(o.name=`data_${t++}`),i.setSource(o.name),i.numChildren()===1&&(e.push(o),o={name:null,source:o.name,transform:[]}))),i.numChildren()){case 0:i instanceof lo&&(!o.source||o.transform.length>0)&&e.push(o);break;case 1:r(i.children[0],o);break;default:{o.name||(o.name=`data_${t++}`);let a=o.name;!o.source||o.transform.length>0?e.push(o):a=o.source;for(let s of i.children)r(s,{name:null,source:a,transform:[]});break}}}return r}function Uhe(e){let t=[],r=$he(t);for(let i of e.children)r(i,{source:e.name,name:null,transform:[]});return t}function zhe(e,t){let r=[],i=$he(r),o=0;for(let s of e.sources){s.hasName()||(s.dataName=`source_${o++}`);let l=s.assemble();i(s,l)}for(let s of r)s.transform.length===0&&delete s.transform;let a=0;for(let[s,l]of r.entries())(l.transform??[]).length===0&&!l.source&&r.splice(a++,0,r.splice(s,1)[0]);for(let s of r)for(let l of s.transform??[])l.type==="lookup"&&(l.from=e.outputNodes[l.from].getSource());for(let s of r)s.name in t&&(s.values=t[s.name]);return r}function gGe(e){return e==="top"||e==="left"||Pt(e)?"header":"footer"}function qhe(e){for(let t of ya)vGe(e,t);Vhe(e,"x"),Vhe(e,"y")}function vGe(e,t){let{facet:r,config:i,child:o,component:a}=e;if(e.channelHasField(t)){let s=r[t],l=H0("title",null,i,t),u=cd(s,i,{allowDisabling:!0,includeDefault:l===void 0||!!l});o.component.layoutHeaders[t].title&&(u=Le(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[t].title}`,o.component.layoutHeaders[t].title=null);let c=H0("labelOrient",s.header,i,t),f=s.header!==null?vr(s.header?.labels,i.header.labels,!0):!1,d=gn(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:s.header!==null?u:null,facetFieldDef:s,[d]:t==="facet"?[]:[Hhe(e,t,f)]}}}function Hhe(e,t,r){let i=t==="row"?"height":"width";return{labels:r,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function Vhe(e,t){let{child:r}=e;if(r.component.axes[t]){let{layoutHeaders:i,resolve:o}=e.component;if(o.axis[t]=i3(o,t),o.axis[t]==="shared"){let a=t==="x"?"column":"row",s=i[a];for(let l of r.component.axes[t]){let u=gGe(l.get("orient"));s[u]??(s[u]=[Hhe(e,a,!1)]);let c=J5(l,"main",e.config,{header:!0});c&&s[u][0].axes.push(c),l.mainExtracted=!0}}}}function Ghe(e){uM(e),lM(e,"width"),lM(e,"height")}function jhe(e){uM(e);let t=e.layout.columns===1?"width":"childWidth",r=e.layout.columns===void 0?"height":"childHeight";lM(e,t),lM(e,r)}function uM(e){for(let t of e.children)t.parseLayoutSize()}function lM(e,t){let r=zA(t),i=vh(r),o=e.component.resolve,a=e.component.layoutSize,s;for(let l of e.children){let u=l.component.layoutSize.getWithExplicit(r),c=o.scale[i]??qA(i,e);if(c==="independent"&&u.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==u.value){s=void 0;break}s=Tl(s,u,r,"")}else s=u}if(s){for(let l of e.children)e.renameSignal(l.getName(r),e.getName(t)),l.component.layoutSize.set(r,"merged",!1);a.setWithExplicit(t,s)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function Whe(e){let{size:t,component:r}=e;for(let i of ja){let o=Wi(i);if(t[o]){let a=t[o];r.layoutSize.set(o,Ml(a)?"step":a,!0)}else{let a=yGe(e,o);r.layoutSize.set(o,a,!1)}}}function yGe(e,t){let r=t==="width"?"x":"y",i=e.config,o=e.getScaleComponent(r);if(o){let a=o.get("type"),s=o.get("range");if(ci(a)){let l=V5(i.view,t);return Dl(s)||Ml(l)?"step":l}else return hv(i.view,t)}else{if(e.hasProjection||e.mark==="arc")return hv(i.view,t);{let a=V5(i.view,t);return Ml(a)?a.step:a}}}function cM(e,t,r){return bt(t,A({suffix:`by_${bt(e)}`},r))}var fM=class e extends c3{constructor(t,r,i,o){super(t,"facet",r,i,o,t.resolve),this.child=S3(t.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!ld(t))return{facet:this.initFacetFieldDef(t,"facet")};let r=Ve(t),i={};for(let o of r){if(![_l,Sl].includes(o)){Ze(je.incompatibleChannel(o,"facet"));break}let a=t[o];if(a.field===void 0){Ze(je.emptyFieldDef(a,o));break}i[o]=this.initFacetFieldDef(a,o)}return i}initFacetFieldDef(t,r){let i=lv(t,r);return i.header?i.header=Ui(i.header):i.header===null&&(i.header=null),i}channelHasField(t){return at(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Oh(this),this.child.parseData()}parseLayoutSize(){uM(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>_a(t))&&A5(Am)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),qhe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){let t={};for(let r of ya)for(let i of n3){let o=this.component.layoutHeaders[r],a=o[i],{facetFieldDef:s}=o;if(s){let l=H0("titleOrient",s.header,this.config,r);if(["right","bottom"].includes(l)){let u=e3(r,l);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(a?.[0]){let l=r==="row"?"height":"width",u=i==="header"?"headerBand":"footerBand";r!=="facet"&&!this.child.component.layoutSize.get(l)&&(t[u]??(t[u]={}),t[u][r]=.5),o.title&&(t.offset??(t.offset={}),t.offset[r==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){let{column:t,row:r}=this.facet,i=t?this.columnDistinctSignal():r?1:void 0,o="all";return(!r&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(o="none"),_e(A(A({},this.getHeaderLayoutMixins()),i?{columns:i}:{}),{bounds:"full",align:o})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof e))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof e?A(A({},this.channelHasField("column")?{encode:{update:{columns:{field:bt(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){let t=[],r=[],i=[];if(this.child instanceof e){if(this.child.channelHasField("column")){let o=bt(this.child.facet.column);t.push(o),r.push("distinct"),i.push(`distinct_${o}`)}}else for(let o of ja){let a=this.child.component.scales[o];if(a&&!a.merged){let s=a.get("type"),l=a.get("range");if(ci(s)&&Dl(l)){let u=Mh(this.child,o),c=s3(u);c?(t.push(c),r.push("distinct"),i.push(`distinct_${c}`)):Ze(je.unknownField(o))}}}return{fields:t,ops:r,as:i}}assembleFacet(){let{name:t,data:r}=this.component.data.facetRoot,{row:i,column:o}=this.facet,{fields:a,ops:s,as:l}=this.getCardinalityAggregateForChild(),u=[];for(let f of ya){let d=this.facet[f];if(d){u.push(bt(d));let{bin:p,sort:m}=d;if(lr(p)&&u.push(bt(d,{binSuffix:"end"})),ms(m)){let{field:g,op:v=xh}=m,b=cM(d,m);i&&o?(a.push(b),s.push("max"),l.push(b)):(a.push(g),s.push(v),l.push(b))}else if(Le(m)){let g=md(d,f);a.push(g),s.push("max"),l.push(g)}}}let c=!!i&&!!o;return A({name:t,data:r,groupby:u},c||a.length>0?{aggregate:A(A({},c?{cross:c}:{}),a.length?{fields:a,ops:s,as:l}:{})}:{})}facetSortFields(t){let{facet:r}=this,i=r[t];return i?ms(i.sort)?[cM(i,i.sort,{expr:"datum"})]:Le(i.sort)?[md(i,t,{expr:"datum"})]:[bt(i,{expr:"datum"})]:[]}facetSortOrder(t){let{facet:r}=this,i=r[t];if(i){let{sort:o}=i;return[(ms(o)?o.order:!Le(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){let{facet:t,config:r}=this;if(t.facet)return $A(t.facet,"facet",r);let i={row:["top","bottom"],column:["left","right"]};for(let o of t3)if(t[o]){let a=H0("labelOrient",t[o]?.header,r,o);if(i[o].includes(a))return $A(t[o],o,r)}}assembleMarks(){let{child:t}=this,r=this.component.data.facetRoot,i=Uhe(r),o=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[A(A(A(_e(A(A({name:this.getName("cell"),type:"group"},a?{title:a}:{}),s?{style:s}:{}),{from:{facet:this.assembleFacet()},sort:{field:ya.map(u=>this.facetSortFields(u)).flat(),order:ya.map(u=>this.facetSortOrder(u)).flat()}}),i.length>0?{data:i}:{}),o?{encode:{update:o}}:{}),t.assembleGroup(ipe(this,[])))]}getMapping(){return this.facet}};function Yhe(e,t){let{row:r,column:i}=t;if(r&&i){let o=null;for(let a of[r,i])if(ms(a.sort)){let{field:s,op:l=xh}=a.sort;e=o=new Jc(e,{joinaggregate:[{op:l,field:s,as:cM(a,a.sort,{forAs:!0})}],groupby:[bt(a)]})}return o}return null}function KV(e,t){for(let r of t){let i=r.data;if(e.name&&r.hasName()&&e.name!==r.dataName)continue;let o=e.format?.mesh,a=i.format?.feature;if(o&&a)continue;let s=e.format?.feature;if((s||a)&&s!==a)continue;let l=i.format?.mesh;if(!((o||l)&&o!==l)){if(Pm(e)&&Pm(i)){if(va(e.values,i.values))return r}else if(B0(e)&&B0(i)){if(e.url===i.url)return r}else if(yA(e)&&e.name===r.dataName)return r}}return null}function bGe(e,t){if(e.data||!e.parent){if(e.data===null){let i=new Ol({values:[]});return t.push(i),i}let r=KV(e.data,t);if(r)return Wc(e.data)||(r.data.format=WU({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;{let i=new Ol(e.data);return t.push(i),i}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function xGe(e,t,r){let i=0;for(let o of t.transforms){let a,s;if(I0e(o))s=e=new qm(e,o),a="derived";else if(gv(o)){let l=vhe(o);s=e=Ca.makeWithAncestors(e,{},l,r)??e,e=new hd(e,t,o.filter)}else if(pA(o))s=e=Qc.makeFromTransform(e,o,t),a="number";else if(P0e(o))a="date",r.getWithExplicit(o.field).value===void 0&&(e=new Ca(e,{[o.field]:a}),r.set(o.field,a,!1)),s=e=Lu.makeFromTransform(e,o);else if(L0e(o))s=e=uu.makeFromTransform(e,o),a="number",_v(t)&&(e=new Zc(e));else if(dA(o))s=e=y3.make(e,t,o,i++),a="derived";else if(k0e(o))s=e=new G0(e,o),a="number";else if(O0e(o))s=e=new Jc(e,o),a="number";else if(B0e(o))s=e=vd.makeFromTransform(e,o),a="derived";else if($0e(o))s=e=new h3(e,o),a="derived";else if(U0e(o))s=e=new d3(e,o),a="derived";else if(N0e(o))s=e=new p3(e,o),a="derived";else if(E0e(o))s=e=new w3(e,o),a="derived";else if(R0e(o))e=new _3(e,o);else if(F0e(o))s=e=jm.makeFromTransform(e,o),a="derived";else if(D0e(o))s=e=new f3(e,o),a="derived";else if(A0e(o))s=e=new b3(e,o),a="derived";else if(M0e(o))s=e=new x3(e,o),a="derived";else if(T0e(o))s=e=new v3(e,o),a="derived";else{Ze(je.invalidTransformIgnored(o));continue}if(s&&a!==void 0)for(let l of s.producedFields()??[])r.set(l,a,!1)}return e}function Oh(e){let t=bGe(e,e.component.data.sources),{outputNodes:r,outputNodeRefCounts:i}=e.component.data,o=e.data,s=!(o&&(Wc(o)||B0(o)||Pm(o)))&&e.parent?e.parent.component.data.ancestorParse.clone():new vA;Wc(o)?(iV(o)?t=new Rh(t,o.sequence):vv(o)&&(t=new Th(t,o.graticule)),s.parseNothing=!0):o?.format?.parse===null&&(s.parseNothing=!0),t=Ca.makeExplicit(t,e,s)??t,t=new Zc(t);let l=e.parent&&Bu(e.parent);(Rr(e)||yo(e))&&l&&(t=Qc.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=xGe(t,e,s));let u=bhe(e),c=yhe(e);t=Ca.makeWithAncestors(t,{},A(A({},u),c),s)??t,Rr(e)&&(t=m3.parseAll(t,e),t=g3.parseAll(t,e)),(Rr(e)||yo(e))&&(l||(t=Qc.makeFromEncoding(t,e)??t),t=Lu.makeFromEncoding(t,e)??t,t=qm.parseAllForSortIndex(t,e));let f=t=dM(Hr.Raw,e,t);if(Rr(e)){let b=uu.makeFromEncoding(t,e);b&&(t=b,_v(e)&&(t=new Zc(t))),t=jm.makeFromEncoding(t,e)??t,t=vd.makeFromEncoding(t,e)??t}let d,p;if(Rr(e)){let{markDef:b,mark:_,config:D}=e,T=Kn("invalid",b,D),{marks:N,scales:z}=p=aV({invalid:T,isPath:ps(_)});N!==z&&z==="include-invalid-values"&&(d=t=dM(Hr.PreFilterInvalid,e,t)),N==="exclude-invalid-values"&&(t=Hm.make(t,e,p)??t)}let m=t=dM(Hr.Main,e,t),g;if(Rr(e)&&p){let{marks:b,scales:_}=p;b==="include-invalid-values"&&_==="exclude-invalid-values"&&(t=Hm.make(t,e,p)??t,g=t=dM(Hr.PostFilterInvalid,e,t))}Rr(e)&&jpe(e,m);let v=null;if(yo(e)){let b=e.getName("facet");t=Yhe(t,e.facet)??t,v=new zu(t,e,b,m.getSource()),r[b]=v}return _e(A({},e.component.data),{outputNodes:r,outputNodeRefCounts:i,raw:f,main:m,facetRoot:v,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:g})}function dM(e,t,r){let{outputNodes:i,outputNodeRefCounts:o}=t.component.data,a=t.getDataName(e),s=new lo(r,a,e,o);return i[a]=s,s}var pM=class extends Gm{constructor(t,r,i,o){super(t,"concat",r,i,o,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&Ze(je.CONCAT_CANNOT_SHARE_AXIS),this.children=this.getChildren(t).map((a,s)=>S3(a,this,this.getName(`concat_${s}`),void 0,o))}parseData(){this.component.data=Oh(this);for(let t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(let t of this.children){t.parseSelections();for(let r of Ve(t.component.selection))this.component.selection[r]=t.component.selection[r]}Object.values(this.component.selection).some(t=>_a(t))&&A5(Am)}parseMarkGroup(){for(let t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(let t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Sh(t)?t.vconcat:z5(t)?t.hconcat:t.concat}parseLayoutSize(){jhe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){let t=r3(this);for(let r of this.children)t.push(...r.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((r,i)=>i.assembleSelectionData(r),t)}assembleMarks(){return this.children.map(t=>{let r=t.assembleTitle(),i=t.assembleGroupStyle(),o=t.assembleGroupEncodeEntry(!1);return A(A(A(A({type:"group",name:t.getName("group")},r?{title:r}:{}),i?{style:i}:{}),o?{encode:{update:o}}:{}),t.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){let t=this.layout.columns;return _e(A({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}};function wGe(e){return e===!1||e===null}var _Ge=_e(A({disable:1,gridScale:1,scale:1},Fz),{labelExpr:1,encode:1}),QV=Ve(_Ge),hM=class e extends gs{constructor(t={},r={},i=!1){super(),this.explicit=t,this.implicit=r,this.mainExtracted=i}clone(){return new e(Xt(this.explicit),Xt(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!wGe(this.get(t))}hasOrientSignalRef(){return Pt(this.explicit.orient)}};function Xhe(e,t,r){let{encoding:i,config:o}=e,a=ni(i[t])??ni(i[ba(t)]),s=e.axis(t)||{},{format:l,formatType:u}=s;if(sd(u))return A({text:su({fieldOrDatumDef:a,field:"datum.value",format:l,formatType:u,config:o})},r);if(l===void 0&&u===void 0&&o.customFormatTypes){if(k0(a)==="quantitative"){if(O0(a)&&a.stack==="normalize"&&o.normalizedNumberFormatType)return A({text:su({fieldOrDatumDef:a,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o})},r);if(o.numberFormatType)return A({text:su({fieldOrDatumDef:a,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o})},r)}if(k0(a)==="temporal"&&o.timeFormatType&&st(a)&&!a.timeUnit)return A({text:su({fieldOrDatumDef:a,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})},r)}return r}function Khe(e){return ja.reduce((t,r)=>(e.component.scales[r]&&(t[r]=[TGe(r,e)]),t),{})}var CGe={bottom:"top",top:"bottom",left:"right",right:"left"};function Qhe(e){let{axes:t,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(let o of e.children){o.parseAxesAndHeaders();for(let a of Ve(o.component.axes))r.axis[a]=i3(e.component.resolve,a),r.axis[a]==="shared"&&(t[a]=EGe(t[a],o.component.axes[a]),t[a]||(r.axis[a]="independent",delete t[a]))}for(let o of ja){for(let a of e.children)if(a.component.axes[o]){if(r.axis[o]==="independent"){t[o]=(t[o]??[]).concat(a.component.axes[o]);for(let s of a.component.axes[o]){let{value:l,explicit:u}=s.getWithExplicit("orient");if(!Pt(l)){if(i[l]>0&&!u){let c=CGe[l];i[l]>i[c]&&s.set("orient",c,!1)}i[l]++}}}delete a.component.axes[o]}if(r.axis[o]==="independent"&&t[o]&&t[o].length>1)for(let[a,s]of(t[o]||[]).entries())a>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function EGe(e,t){if(e){if(e.length!==t.length)return;let r=e.length;for(let i=0;i<r;i++){let o=e[i],a=t[i];if(!!o!=!!a)return;if(o&&a){let s=o.getWithExplicit("orient"),l=a.getWithExplicit("orient");if(s.explicit&&l.explicit&&s.value!==l.value)return;e[i]=DGe(o,a)}}}else return t.map(r=>r.clone());return e}function DGe(e,t){for(let r of QV){let i=Tl(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(o,a)=>{switch(r){case"title":return hD(o,a);case"gridScale":return{explicit:o.explicit,value:vr(o.value,a.value)}}return G5(o,a,r,"axis")});e.setWithExplicit(r,i)}return e}function AGe(e,t,r,i,o){if(t==="disable")return r!==void 0;switch(r=r||{},t){case"titleAngle":case"labelAngle":return e===(Pt(r.labelAngle)?r.labelAngle:mh(r.labelAngle));case"values":return!!r.values;case"encode":return!!r.encoding||!!r.labelAngle;case"title":if(e===IV(i,o))return!0}return e===r[t]}var MGe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function TGe(e,t){let r=t.axis(e),i=new hM,o=ni(t.encoding[e]),{mark:a,config:s}=t,l=r?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||Qpe(e),u=t.getScaleComponent(e).get("type"),c=Xpe(e,u,l,t.config),f=r!==void 0?!r:Rv("disable",s.style,r?.style,c).configValue;if(i.set("disable",f,r!==void 0),f)return i;r=r||{};let d=Kpe(o,r,e,s.style,c),p=PD(r.formatType,o,u),m=FD(o,o.type,r.format,r.formatType,s,!0),g={fieldOrDatumDef:o,axis:r,channel:e,model:t,scaleType:u,orient:l,labelAngle:d,format:m,formatType:p,mark:a,config:s};for(let _ of QV){let D=_ in kV?kV[_](g):Pz(_)?r[_]:void 0,T=D!==void 0,N=AGe(D,_,r,t,e);if(T&&N)i.set(_,D,N);else{let{configValue:z=void 0,configFrom:j=void 0}=Pz(_)&&_!=="values"?Rv(_,s.style,r.style,c):{},B=z!==void 0;T&&!B?i.set(_,D,N):(j!=="vgAxisConfig"||MGe.has(_)&&B||F0(z)||Pt(z))&&i.set(_,z,!1)}}let v=r.encoding??{},b=GD.reduce((_,D)=>{if(!i.hasAxisPart(D))return _;let T=VA(v[D]??{},t),N=D==="labels"?Xhe(t,e,T):T;return N!==void 0&&!Xn(N)&&(_[D]={update:N}),_},{});return Xn(b)||i.set("encode",b,!!r.encoding||r.labelAngle!==void 0),i}function Zhe({encoding:e,size:t}){for(let r of ja){let i=Wi(r);Ml(t[i])&&jc(e[r])&&(delete t[i],Ze(je.stepDropped(i)))}return t}var Jhe={vgMark:"arc",encodeEntry:e=>A(A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Xi("x",e,{defaultPos:"mid"})),Xi("y",e,{defaultPos:"mid"})),bs(e,"radius")),bs(e,"theta"))};var e1e={vgMark:"area",encodeEntry:e=>A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Dh("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),Dh("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),Q5(e))};var t1e={vgMark:"rect",encodeEntry:e=>A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bs(e,"x")),bs(e,"y"))};var n1e={vgMark:"shape",encodeEntry:e=>A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{let{encoding:t}=e,r=t.shape;return[A({type:"geoshape",projection:e.projectionName()},r&&st(r)&&r.type===Gc?{field:bt(r,{expr:"datum"})}:{})]}};var r1e={vgMark:"image",encodeEntry:e=>A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),bs(e,"x")),bs(e,"y")),Eh(e,"url"))};var i1e={vgMark:"line",encodeEntry:e=>A(A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Xi("x",e,{defaultPos:"mid"})),Xi("y",e,{defaultPos:"mid"})),Ri("size",e,{vgChannel:"strokeWidth"})),Q5(e))},o1e={vgMark:"trail",encodeEntry:e=>A(A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Xi("x",e,{defaultPos:"mid"})),Xi("y",e,{defaultPos:"mid"})),Ri("size",e)),Q5(e))};function ZV(e,t){let{config:r}=e;return A(A(A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Xi("x",e,{defaultPos:"mid"})),Xi("y",e,{defaultPos:"mid"})),Ri("size",e)),Ri("angle",e)),RGe(e,r,t))}function RGe(e,t,r){return r?{shape:{value:r}}:Ri("shape",e)}var a1e={vgMark:"symbol",encodeEntry:e=>ZV(e)},s1e={vgMark:"symbol",encodeEntry:e=>ZV(e,"circle")},l1e={vgMark:"symbol",encodeEntry:e=>ZV(e,"square")};var u1e={vgMark:"rect",encodeEntry:e=>A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bs(e,"x")),bs(e,"y"))};var c1e={vgMark:"rule",encodeEntry:e=>{let{markDef:t}=e,r=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:A(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Dh("x",e,{defaultPos:r==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:r!=="vertical"})),Dh("y",e,{defaultPos:r==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:r!=="horizontal"})),Ri("size",e,{vgChannel:"strokeWidth"}))}};var f1e={vgMark:"text",encodeEntry:e=>{let{config:t,encoding:r}=e;return A(A(A(A(A(A(A(A(A(A({},zi(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Xi("x",e,{defaultPos:"mid"})),Xi("y",e,{defaultPos:"mid"})),Eh(e)),Ri("size",e,{vgChannel:"fontSize"})),Ri("angle",e)),DA("align",kGe(e.markDef,r,t))),DA("baseline",OGe(e.markDef,r,t))),Xi("radius",e,{defaultPos:null})),Xi("theta",e,{defaultPos:null}))}};function kGe(e,t,r){if(Kn("align",e,r)===void 0)return"center"}function OGe(e,t,r){if(Kn("baseline",e,r)===void 0)return"middle"}var d1e={vgMark:"rect",encodeEntry:e=>{let{config:t,markDef:r}=e,i=r.orient,o=i==="horizontal"?"x":"y",a=i==="horizontal"?"y":"x",s=i==="horizontal"?"height":"width";return _e(A(A(A({},zi(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bs(e,o)),Xi(a,e,{defaultPos:"mid",vgChannel:a==="y"?"yc":"xc"})),{[s]:ur(Kn("thickness",r,t))})}};var mM={arc:Jhe,area:e1e,bar:t1e,circle:s1e,geoshape:n1e,image:r1e,line:i1e,point:a1e,rect:u1e,rule:c1e,square:l1e,text:f1e,tick:d1e,trail:o1e};function m1e(e){if(gn([Nm,km,fde],e.mark)){let t=XD(e.mark,e.encoding);if(t.length>0)return NGe(e,t)}else if(e.mark===Om){let t=cD.some(r=>Kn(r,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return IGe(e)}return JV(e)}var p1e="faceted_path_";function NGe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:p1e+e.requestDataName(Hr.Main),data:e.requestDataName(Hr.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:JV(e,{fromPrefix:p1e})}]}var h1e="stack_group_";function IGe(e){let[t]=JV(e,{fromPrefix:h1e}),r=e.scaleName(e.stack.fieldChannel),i=(c={})=>e.vgField(e.stack.fieldChannel,c),o=(c,f)=>{let d=[i({prefix:"min",suffix:"start",expr:f}),i({prefix:"max",suffix:"start",expr:f}),i({prefix:"min",suffix:"end",expr:f}),i({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(p=>`scale('${r}',${p})`).join(",")})`},a,s;e.stack.fieldChannel==="x"?(a=_e(A({},C0(t.encode.update,["y","yc","y2","height",...cD])),{x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}}),s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update=_e(A({},ao(t.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(a=_e(A({},C0(t.encode.update,["x","xc","x2","width"])),{y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}}),s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update=_e(A({},ao(t.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(let c of cD){let f=Js(c,e.markDef,e.config);t.encode.update[c]?(a[c]=t.encode.update[c],delete t.encode.update[c]):f&&(a[c]=ur(f)),f&&(t.encode.update[c]={value:0})}let l=[];if(e.stack.groupbyChannels?.length>0)for(let c of e.stack.groupbyChannels){let f=e.fieldDef(c),d=bt(f);d&&l.push(d),(f?.bin||f?.timeUnit)&&l.push(bt(f,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return _e(A({},c),{[f]:t.encode.update[f]});{let d=Js(f,e.markDef,e.config);return d!==void 0?_e(A({},c),{[f]:ur(d)}):c}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Hr.Main),name:h1e+e.requestDataName(Hr.Main),groupby:l,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function FGe(e){let{encoding:t,stack:r,mark:i,markDef:o,config:a}=e,s=t.order;if(!(!Le(s)&&No(s)&&KE(s.value)||!s&&KE(Kn("order",o,a)))){if((Le(s)||st(s))&&!r)return pD(s,{expr:"datum"});if(ps(i)){let l=o.orient==="horizontal"?"y":"x",u=t[l];if(st(u))return{field:l}}}}function JV(e,t={fromPrefix:""}){let{mark:r,markDef:i,encoding:o,config:a}=e,s=vr(i.clip,PGe(e),LGe(e)),l=lz(i),u=o.key,c=FGe(e),f=BGe(e),d=Kn("aria",i,a),p=mM[r].postEncodingTransform?mM[r].postEncodingTransform(e):null;return[A(_e(A(A(A(A(A(A({name:e.getName("marks"),type:mM[r].vgMark},s?{clip:s}:{}),l?{style:l}:{}),u?{key:u.field}:{}),c?{sort:c}:{}),f||{}),d===!1?{aria:d}:{}),{from:{data:t.fromPrefix+e.requestDataName(Hr.Main)},encode:{update:mM[r].encodeEntry(e)}}),p?{transform:p}:{})]}function PGe(e){let t=e.getScaleComponent("x"),r=e.getScaleComponent("y");return t?.get("selectionExtent")||r?.get("selectionExtent")?!0:void 0}function LGe(e){let t=e.component.projection;return t&&!t.isFit?!0:void 0}function BGe(e){if(!e.component.selection)return null;let t=Ve(e.component.selection).length,r=t,i=e.parent;for(;i&&r===0;)r=Ve(i.component.selection).length,i=i.parent;return r?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}var C3=class extends c3{constructor(t,r,i,o={},a){super(t,"unit",r,i,a,void 0,Qz(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=c=>(c.from?.data&&(c.from.data=this.lookupDataSource(c.from.data),"time"in this.encoding&&(c.from.data=c.from.data+xA)),c.from?.facet?.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c);let s=Wa(t.mark)?A({},t.mark):{type:t.mark},l=s.type;s.filled===void 0&&(s.filled=p0e(s,a,{graticule:t.data&&vv(t.data)}));let u=this.encoding=$de(t.encoding||{},l,s.filled,a);this.markDef=sA(s,u,a),this.size=Zhe({encoding:u,size:Qz(t)?A(A(A({},o),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):o}),this.stack=aA(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>U5(c))}get hasProjection(){let{encoding:t}=this,r=this.mark===MD,i=t&&efe.some(o=>_n(t[o]));return r||i}scaleDomain(t){let r=this.specifiedScales[t];return r?r.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,r){return S5.reduce((i,o)=>{let a=ni(r[o]);return a&&(i[o]=this.initScale(a.scale??{})),i},{})}initScale(t){let{domain:r,range:i}=t,o=Ui(t);return Le(r)&&(o.domain=r.map(xa)),Le(i)&&(o.range=i.map(xa)),o}initAxes(t){return ja.reduce((r,i)=>{let o=t[i];if(_n(o)||i===Lr&&_n(t.x2)||i===Ai&&_n(t.y2)){let a=_n(o)?o.axis:void 0;r[i]=a&&this.initAxis(A({},a))}return r},{})}initAxis(t){let r=Ve(t),i={};for(let o of r){let a=t[o];i[o]=F0(a)?fD(a):xa(a)}return i}initLegends(t){return pfe.reduce((r,i)=>{let o=ni(t[i]);if(o&&mfe(i)){let a=o.legend;r[i]=a&&Ui(a)}return r},{})}parseData(){this.component.data=Oh(this)}parseLayoutSize(){Whe(this)}parseSelections(){this.component.selection=Gpe(this,this.selection)}parseMarkGroup(){this.component.mark=m1e(this)}parseAxesAndHeaders(){this.component.axes=Khe(this)}assembleSelectionTopLevelSignals(t){return ope(this,t)}assembleSignals(){return[...BA(this),...rpe(this,[])]}assembleSelectionData(t){return ape(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return r3(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Bu(this.parent))&&(t=pV(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){let{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return dd(this.encoding,t)}fieldDef(t){let r=this.encoding[t];return Ko(r)}typedFieldDef(t){let r=this.fieldDef(t);return Yi(r)?r:null}};var gM=class e extends Gm{constructor(t,r,i,o,a){super(t,"layer",r,i,a,t.resolve,t.view);let s=A(A(A({},o),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((l,u)=>{if(L0(l))return new e(l,this,this.getName(`layer_${u}`),s,a);if(Qo(l))return new C3(l,this,this.getName(`layer_${u}`),s,a);throw new Error(je.invalidSpec(l))})}parseData(){this.component.data=Oh(this);for(let t of this.children)t.parseData()}parseLayoutSize(){Ghe(this)}parseSelections(){this.component.selection={};for(let t of this.children){t.parseSelections();for(let r of Ve(t.component.selection))this.component.selection[r]=t.component.selection[r]}Object.values(this.component.selection).some(t=>_a(t))&&A5(Am)}parseMarkGroup(){for(let t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Qhe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),t)}assembleSignals(){return this.children.reduce((t,r)=>t.concat(r.assembleSignals()),BA(this))}assembleLayoutSignals(){return this.children.reduce((t,r)=>t.concat(r.assembleLayoutSignals()),r3(this))}assembleSelectionData(t){return this.children.reduce((r,i)=>i.assembleSelectionData(r),t)}assembleGroupStyle(){let t=new Set;for(let i of this.children)for(let o of _t(i.assembleGroupStyle()))t.add(o);let r=Array.from(t);return r.length>1?r:r.length===1?r[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(let r of this.children)if(t=r.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return spe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,r)=>t.concat(r.assembleLegends()),jA(this))}};function S3(e,t,r,i,o){if(I0(e))return new fM(e,t,r,o);if(L0(e))return new gM(e,t,r,i,o);if(Qo(e))return new C3(e,t,r,i,o);if(Xz(e))return new pM(e,t,r,o);throw new Error(je.invalidSpec(e))}function g1e(e,t={}){t.logger&&kfe(t.logger),t.fieldTitle&&Oz(t.fieldTitle);try{let r=oA(Of(t.config,e.config)),i=mA(e,r),o=S3(i,null,"",void 0,r);return o.parse(),She(o.component.data,o),{spec:UGe(o,$Ge(e,i.autosize,r,o),e.datasets,e.usermeta),normalized:i}}finally{t.logger&&Ofe(),t.fieldTitle&&Pde()}}function $Ge(e,t,r,i){let o=i.component.layoutSize.get("width"),a=i.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):ht(t)&&(t={type:t}),o&&a&&j0e(t.type)){if(o==="step"&&a==="step")Ze(je.droppingFit()),t.type="pad";else if(o==="step"||a==="step"){let s=o==="step"?"width":"height";Ze(je.droppingFit(vh(s)));let l=s==="width"?"height":"width";t.type=W0e(l)}}return A(A(A({},Ve(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),rV(r,!1)),rV(e,!0))}function UGe(e,t,r={},i){let o=e.config?c0e(e.config):void 0,a=zhe(e.component.data,r),s=e.assembleSelectionData(a),l=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),f=e.assembleGroupEncodeEntry(!0),d=e.assembleLayoutSignals();d=d.filter(v=>(v.name==="width"||v.name==="height")&&v.value!==void 0?(t[v.name]=+v.value,!1):!0);let g=t,{params:p}=g,m=Ct(g,["params"]);return A(A(A(A(_e(A(A(A(A(A({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),m),u?{title:u}:{}),c?{style:c}:{}),f?{encode:{update:f}}:{}),{data:s}),l.length>0?{projections:l}:{}),e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...iA(p)])),o?{config:o}:{}),i?{usermeta:i}:{})}var zGe=Hce.version;function VGe(e){let[t,r]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:r}}var tq=VGe;var lq={};Ka(lq,{carbong10:()=>Uje,carbong100:()=>Vje,carbong90:()=>zje,carbonwhite:()=>$je,dark:()=>lje,excel:()=>uje,fivethirtyeight:()=>dje,ggplot2:()=>pje,googlecharts:()=>Eje,latimes:()=>vje,powerbi:()=>Fje,quartz:()=>yje,urbaninstitute:()=>Cje,version:()=>qje,vox:()=>bje});var qGe="vega-themes",HGe="2.15.0",GGe="Themes for stylized Vega and Vega-Lite visualizations.",jGe=["vega","vega-lite","themes","style"],WGe="BSD-3-Clause",YGe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},XGe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],KGe="build/vega-themes.js",QGe="build/vega-themes.module.js",ZGe="build/vega-themes.min.js",JGe="build/vega-themes.min.js",eje="build/vega-themes.module.d.ts",tje={type:"git",url:"https://github.com/vega/vega-themes.git"},nje=["src","build"],rje={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},ije={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},oje={vega:"*","vega-lite":"*"},aje={},sje={name:qGe,version:HGe,description:GGe,keywords:jGe,license:WGe,author:YGe,contributors:XGe,main:KGe,module:QGe,unpkg:ZGe,jsdelivr:JGe,types:eje,repository:tje,files:nje,scripts:rje,devDependencies:ije,peerDependencies:oje,dependencies:aje},E3="#fff",v1e="#888",lje={background:"#333",view:{stroke:v1e},title:{color:E3,subtitleColor:E3},style:{"guide-label":{fill:E3},"guide-title":{fill:E3}},axis:{domainColor:E3,gridColor:v1e,tickColor:E3}},Wm="#4572a7",uje={background:"#fff",arc:{fill:Wm},area:{fill:Wm},line:{stroke:Wm,strokeWidth:2},path:{stroke:Wm},rect:{fill:Wm},shape:{stroke:Wm},symbol:{fill:Wm,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ym="#30a2da",nq="#cbcbcb",cje="#999",fje="#333",y1e="#f0f0f0",b1e="#333",dje={arc:{fill:Ym},area:{fill:Ym},axis:{domainColor:nq,grid:!0,gridColor:nq,gridWidth:1,labelColor:cje,labelFontSize:10,titleColor:fje,tickColor:nq,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:y1e,group:{fill:y1e},legend:{labelColor:b1e,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:b1e,titleFontSize:14,titlePadding:10},line:{stroke:Ym,strokeWidth:2},path:{stroke:Ym,strokeWidth:.5},rect:{fill:Ym},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ym},bar:{binSpacing:2,fill:Ym,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Xm="#000",pje={group:{fill:"#e5e5e5"},arc:{fill:Xm},area:{fill:Xm},line:{stroke:Xm},path:{stroke:Xm},rect:{fill:Xm},shape:{stroke:Xm},symbol:{fill:Xm,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},hje=22,mje="normal",x1e="Benton Gothic, sans-serif",w1e=11.5,gje="normal",Km="#82c6df",rq="Benton Gothic Bold, sans-serif",_1e="normal",S1e=13,Lv={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},vje={background:"#ffffff",title:{anchor:"start",color:"#000000",font:rq,fontSize:hje,fontWeight:mje},arc:{fill:Km},area:{fill:Km},line:{stroke:Km,strokeWidth:2},path:{stroke:Km},rect:{fill:Km},shape:{stroke:Km},symbol:{fill:Km,size:30},axis:{labelFont:x1e,labelFontSize:w1e,labelFontWeight:gje,titleFont:rq,titleFontSize:S1e,titleFontWeight:_1e},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:x1e,labelFontSize:w1e,symbolType:"square",titleFont:rq,titleFontSize:S1e,titleFontWeight:_1e},range:{category:Lv["category-6"],diverging:Lv["fireandice-6"],heatmap:Lv["fire-7"],ordinal:Lv["fire-7"],ramp:Lv["fire-7"]}},Qm="#ab5787",vM="#979797",yje={background:"#f9f9f9",arc:{fill:Qm},area:{fill:Qm},line:{stroke:Qm},path:{stroke:Qm},rect:{fill:Qm},shape:{stroke:Qm},symbol:{fill:Qm,size:30},axis:{domainColor:vM,domainWidth:.5,gridWidth:.2,labelColor:vM,tickColor:vM,tickWidth:.2,titleColor:vM},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Zm="#3e5c69",bje={background:"#fff",arc:{fill:Zm},area:{fill:Zm},line:{stroke:Zm},path:{stroke:Zm},rect:{fill:Zm},shape:{stroke:Zm},symbol:{fill:Zm},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Vu="#1696d2",C1e="#000000",xje="#FFFFFF",yM="Lato",iq="Lato",wje="Lato",_je="#DEDDDD",Sje=18,Bv={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Cje={background:xje,title:{anchor:"start",fontSize:Sje,font:yM},axisX:{domain:!0,domainColor:C1e,domainWidth:1,grid:!1,labelFontSize:12,labelFont:iq,labelAngle:0,tickColor:C1e,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:yM},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:_je,gridWidth:1,labelFontSize:12,labelFont:iq,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:yM,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:iq,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:yM,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Bv["six-groups-cat-1"],diverging:Bv["diverging-colors"],heatmap:Bv["diverging-colors"],ordinal:Bv["six-groups-seq"],ramp:Bv["shades-blue"]},area:{fill:Vu},rect:{fill:Vu},line:{color:Vu,stroke:Vu,strokeWidth:5},trail:{color:Vu,stroke:Vu,strokeWidth:0,size:1},path:{stroke:Vu,strokeWidth:.5},point:{filled:!0},text:{font:wje,color:Vu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Vu,stroke:null}},arc:{fill:Vu},shape:{stroke:Vu},symbol:{fill:Vu,size:30}},Jm="#3366CC",E1e="#ccc",bM="Arial, sans-serif",Eje={arc:{fill:Jm},area:{fill:Jm},path:{stroke:Jm},rect:{fill:Jm},shape:{stroke:Jm},symbol:{stroke:Jm},circle:{fill:Jm},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:bM,fontSize:12},"guide-title":{font:bM,fontSize:12},"group-title":{font:bM,fontSize:12}},title:{font:bM,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:E1e,tickColor:E1e,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},sq=e=>e*(1/3+1),D1e=sq(9),A1e=sq(10),M1e=sq(12),$v="Segoe UI",T1e="wf_standard-font, helvetica, arial, sans-serif",R1e="#252423",Uv="#605E5C",k1e="transparent",Dje="#C8C6C4",tf="#118DFF",Aje="#12239E",Mje="#E66C37",Tje="#6B007B",Rje="#E044A7",kje="#744EC2",Oje="#D9B300",Nje="#D64550",N1e=tf,I1e="#DEEFFF",O1e=[I1e,N1e],Ije=[I1e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",N1e],Fje={view:{stroke:k1e},background:k1e,font:$v,header:{titleFont:T1e,titleFontSize:M1e,titleColor:R1e,labelFont:$v,labelFontSize:A1e,labelColor:Uv},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Uv,labelFontSize:D1e,titleFont:T1e,titleColor:R1e,titleFontSize:M1e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Dje,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:tf},line:{stroke:tf,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:$v,fontSize:D1e,fill:Uv},arc:{fill:tf},area:{fill:tf,line:!0,opacity:.6},path:{stroke:tf},rect:{fill:tf},point:{fill:tf,filled:!0,size:75},shape:{stroke:tf},symbol:{fill:tf,strokeWidth:1.5,size:50},legend:{titleFont:$v,titleFontWeight:"bold",titleColor:Uv,labelFont:$v,labelFontSize:A1e,labelColor:Uv,symbolType:"circle",symbolSize:75},range:{category:[tf,Aje,Mje,Tje,Rje,kje,Oje,Nje],diverging:O1e,heatmap:O1e,ordinal:Ije}},oq='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Pje='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',aq=400,xM={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Lje=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Bje=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function wM({theme:e,background:t}){let r=["white","g10"].includes(e)?"light":"dark",i=xM.gridBg[e],o=xM.textPrimary[e],a=xM.textSecondary[e],s=r==="dark"?Lje:Bje,l=r==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:l},area:{fill:l},path:{stroke:l},rect:{fill:l},shape:{stroke:l},symbol:{stroke:l},circle:{fill:l},view:{fill:i,stroke:i},group:{fill:i},title:{color:o,anchor:"start",dy:-15,fontSize:16,font:oq,fontWeight:600},axis:{labelColor:a,labelFontSize:12,labelFont:Pje,labelFontWeight:aq,titleColor:o,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:xM.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:oq,fill:a,fontWeight:aq},"guide-title":{font:oq,fill:a,fontWeight:aq}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}var $je=wM({theme:"white",background:"#ffffff"}),Uje=wM({theme:"g10",background:"#f4f4f4"}),zje=wM({theme:"g90",background:"#262626"}),Vje=wM({theme:"g100",background:"#161616"}),qje=sje.version;var Hje="vega-tooltip",Gje="0.35.2",jje="A tooltip plugin for Vega-Lite and Vega visualizations.",Wje=["vega-lite","vega","tooltip"],Yje={type:"git",url:"https://github.com/vega/vega-tooltip.git"},Xje={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Kje=["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],Qje="BSD-3-Clause",Zje={url:"https://github.com/vega/vega-tooltip/issues"},Jje="https://github.com/vega/vega-tooltip#readme",eWe="build/vega-tooltip.js",tWe="build/vega-tooltip.module.js",nWe="build/vega-tooltip.min.js",rWe="build/vega-tooltip.min.js",iWe="build/src/index.d.ts",oWe=["src","build","types"],aWe={prebuild:"npm run clean && npm run build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"rimraf build && rimraf src/style.ts","copy:data":"cp -R node_modules/vega-datasets/data examples","copy:build":"cp -R build examples","deploy:gh":"npm run build && npm run copy:build && gh-pages -d examples && npm run clean",prepublishOnly:"npm run clean && npm run build",preversion:"npm run lint && npm run test",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"npm run build && concurrently --kill-others -n Server,Rollup 'npm run serve' 'rollup -c -w'",pretest:"npm run build:style",test:"jest","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand",prepare:"npm run copy:data",prettierbase:"prettier '*.{css,scss,html}'",format:"eslint . --fix && npm run prettierbase -- --write",lint:"eslint . && npm run prettierbase -- --check",release:"release-it"},sWe={"@babel/core":"^7.26.0","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/plugin-transform-runtime":"^7.25.9","@babel/preset-env":"^7.26.0","@babel/preset-typescript":"^7.26.0","@release-it/conventional-changelog":"^9.0.2","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.3.0","@rollup/plugin-terser":"^0.4.4","@rollup/plugin-typescript":"^12.1.1","@types/jest":"^29.5.14","@typescript-eslint/eslint-plugin":"^8.13.0","@typescript-eslint/parser":"^8.13.0","browser-sync":"^3.0.3",concurrently:"^9.1.0",eslint:"^8.46.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.8.3","eslint-plugin-prettier":"^5.2.1","gh-pages":"^6.2.0",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",path:"^0.12.7",prettier:"^3.3.3","release-it":"^17.10.0",rollup:"^4.24.4","rollup-plugin-bundle-size":"^1.0.3",sass:"^1.80.6",typescript:"~5.6.3","vega-datasets":"^2.9.0","vega-typings":"^1.3.1"},lWe={"vega-util":"^1.17.2"},uWe={"@rollup/rollup-linux-x64-gnu":"^4.24.4"},cWe={name:Hje,version:Gje,description:jje,keywords:Wje,repository:Yje,author:Xje,collaborators:Kje,license:Qje,bugs:Zje,homepage:Jje,main:eWe,module:tWe,unpkg:nWe,jsdelivr:rWe,types:iWe,files:oWe,scripts:aWe,devDependencies:sWe,dependencies:lWe,optionalDependencies:uWe};function fWe(e,t,r,i){if(Le(e))return`[${e.map(a=>t(ht(a)?a:F1e(a,r))).join(", ")}]`;if(yt(e)){let a="",o=e,{title:s,image:l}=o,u=Ct(o,["title","image"]);s&&(a+=`<h2>${t(s)}</h2>`),l&&(a+=`<img src="${new URL(t(l),i||location.href).href}">`);let c=Object.keys(u);if(c.length>0){a+="<table>";for(let f of c){let d=u[f];d!==void 0&&(yt(d)&&(d=F1e(d,r)),a+=`<tr><td class="key">${t(f)}</td><td class="value">${t(d)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}function dWe(e){let t=[];return function(r,i){if(typeof i!="object"||i===null)return i;let o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(i)>=0?"[Circular]":(t.push(i),i)}}function F1e(e,t){return JSON.stringify(e,dWe(t))}var pWe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`,P1e="vg-tooltip-element",hWe={offsetX:10,offsetY:10,id:P1e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:mWe,maxDepth:2,formatTooltip:fWe,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function mWe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function gWe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return pWe.toString().replace(P1e,e)}function L1e(e,t,{offsetX:r,offsetY:i}){let o=B1e({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,r,i),a=["bottom-right","bottom-left","top-right","top-left"];for(let s of a)if($1e(o[s],t))return o[s];return o["top-left"]}function vWe(e,t,r,i,o){let{position:a,offsetX:s,offsetY:l}=o,u=e._el.getBoundingClientRect(),c=e._origin,f=yWe(u,c,r),d=B1e(f,i,s,l),p=Array.isArray(a)?a:[a];for(let m of p)if($1e(d[m],i)&&!bWe(t,d[m],i))return d[m];return L1e(t,i,o)}function yWe(e,t,r){let i=r.isVoronoi?r.datum.bounds:r.bounds,o=e.left+t[0]+i.x1,a=e.top+t[1]+i.y1,s=r;for(;s.mark.group;)s=s.mark.group,o+=s.x??0,a+=s.y??0;let l=i.x2-i.x1,u=i.y2-i.y1;return{x1:o,x2:o+l,y1:a,y2:a+u}}function B1e(e,t,r,i){let o=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,s=e.x1-t.width-r,l=o-t.width/2,u=e.x2+r,c=e.y1-t.height-i,f=a-t.height/2,d=e.y2+i;return{top:{x:l,y:c},bottom:{x:l,y:d},left:{x:s,y:f},right:{x:u,y:f},"top-left":{x:s,y:c},"top-right":{x:u,y:c},"bottom-left":{x:s,y:d},"bottom-right":{x:u,y:d}}}function $1e(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function bWe(e,t,r){return e.clientX>=t.x&&e.clientX<=t.x+r.width&&e.clientY>=t.y&&e.clientY<=t.y+r.height}var _M=class{constructor(t){this.options=A(A({},hWe),t);let r=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){let i=document.createElement("style");i.setAttribute("id",this.options.styleId),i.innerHTML=gWe(r);let o=document.head;o.childNodes.length>0?o.insertBefore(i,o.childNodes[0]):o.appendChild(i)}}tooltipHandler(t,r,i,o){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),o==null||o===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);let{x:a,y:s}=this.options.anchor==="mark"?vWe(t,r,i,this.el.getBoundingClientRect(),this.options):L1e(r,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${a}px`}},Yon=cWe.version;var xWe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])},e(t,r)};return function(t,r){e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),wWe=Object.prototype.hasOwnProperty;function Dq(e,t){return wWe.call(e,t)}function Aq(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var i=[];for(var o in e)Dq(e,o)&&i.push(o);return i}function cu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Mq(e){for(var t=0,r=e.length,i;t<r;){if(i=e.charCodeAt(t),i>=48&&i<=57){t++;continue}return!1}return!0}function eg(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ume(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Tq(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Tq(e[t]))return!0}else if(typeof e=="object"){for(var i=Aq(e),o=i.length,a=0;a<o;a++)if(Tq(e[i[a]]))return!0}}return!1}function U1e(e,t){var r=[e];for(var i in t){var o=typeof t[i]=="object"?JSON.stringify(t[i],null,2):t[i];typeof o<"u"&&r.push(i+": "+o)}return r.join(`
`)}var cme=function(e){xWe(t,e);function t(r,i,o,a,s){var l=this.constructor,u=e.call(this,U1e(r,{name:i,index:o,operation:a,tree:s}))||this;return u.name=i,u.index=o,u.operation=a,u.tree=s,Object.setPrototypeOf(u,l.prototype),u.message=U1e(r,{name:i,index:o,operation:a,tree:s}),u}return t}(Error),uo=cme,_We=cu,D3={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var i=e[t];return delete e[t],{newDocument:r,removed:i}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:function(e,t,r){var i=CM(r,this.path);i&&(i=cu(i));var o=tg(r,{op:"remove",path:this.from}).removed;return tg(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:i}},copy:function(e,t,r){var i=CM(r,this.from);return tg(r,{op:"add",path:this.path,value:cu(i)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:Vv(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},SWe={add:function(e,t,r){return Mq(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){var i=e.splice(t,1);return{newDocument:r,removed:i[0]}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:D3.move,copy:D3.copy,test:D3.test,_get:D3._get};function CM(e,t){if(t=="")return e;var r={op:"_get",path:t};return tg(e,r),r.value}function tg(e,t,r,i,o,a){if(r===void 0&&(r=!1),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=0),r&&(typeof r=="function"?r(t,0,e,t.path):EM(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=CM(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=Vv(e,t.value),s.test===!1)throw new uo("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(r)throw new uo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return s}}else{i||(e=cu(e));var l=t.path||"",u=l.split("/"),c=e,f=1,d=u.length,p=void 0,m=void 0,g=void 0;for(typeof r=="function"?g=r:g=EM;;){if(m=u[f],m&&m.indexOf("~")!=-1&&(m=ume(m)),o&&(m=="__proto__"||m=="prototype"&&f>0&&u[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&p===void 0&&(c[m]===void 0?p=u.slice(0,f).join("/"):f==d-1&&(p=t.path),p!==void 0&&g(t,0,e,p)),f++,Array.isArray(c)){if(m==="-")m=c.length;else{if(r&&!Mq(m))throw new uo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);Mq(m)&&(m=~~m)}if(f>=d){if(r&&t.op==="add"&&m>c.length)throw new uo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var s=SWe[t.op].call(t,c,m,e);if(s.test===!1)throw new uo("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}}else if(f>=d){var s=D3[t.op].call(t,c,m,e);if(s.test===!1)throw new uo("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}if(c=c[m],r&&f<d&&(!c||typeof c!="object"))throw new uo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function AM(e,t,r,i,o){if(i===void 0&&(i=!0),o===void 0&&(o=!0),r&&!Array.isArray(t))throw new uo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=cu(e));for(var a=new Array(t.length),s=0,l=t.length;s<l;s++)a[s]=tg(e,t[s],r,!0,o,s),e=a[s].newDocument;return a.newDocument=e,a}function CWe(e,t,r){var i=tg(e,t);if(i.test===!1)throw new uo("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument}function EM(e,t,r,i){if(typeof e!="object"||e===null||Array.isArray(e))throw new uo("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(D3[e.op]){if(typeof e.path!="string")throw new uo("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new uo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new uo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new uo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Tq(e.value))throw new uo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var o=e.path.split("/").length,a=i.split("/").length;if(o!==a+1&&o!==a)throw new uo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==i)throw new uo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},l=fme([s],r);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new uo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new uo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function fme(e,t,r){try{if(!Array.isArray(e))throw new uo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)AM(cu(t),cu(e),r||!0);else{r=r||EM;for(var i=0;i<e.length;i++)r(e[i],i,t,void 0)}}catch(o){if(o instanceof uo)return o;throw o}}function Vv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,a,s;if(r&&i){if(a=e.length,a!=t.length)return!1;for(o=a;o--!==0;)if(!Vv(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var l=Object.keys(e);if(a=l.length,a!==Object.keys(t).length)return!1;for(o=a;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=a;o--!==0;)if(s=l[o],!Vv(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var EWe=Object.freeze({__proto__:null,JsonPatchError:uo,_areEquals:Vv,applyOperation:tg,applyPatch:AM,applyReducer:CWe,deepClone:_We,getValueByPointer:CM,validate:fme,validator:EM});var kq=new WeakMap,DWe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),AWe=function(){function e(t,r){this.callback=t,this.observer=r}return e}();function MWe(e){return kq.get(e)}function TWe(e,t){return e.observers.get(t)}function RWe(e,t){e.observers.delete(t.callback)}function kWe(e,t){t.unobserve()}function OWe(e,t){var r=[],i,o=MWe(e);if(!o)o=new DWe(e),kq.set(e,o);else{var a=TWe(o,t);i=a&&a.observer}if(i)return i;if(i={},o.value=cu(e),t){i.callback=t,i.next=null;var s=function(){Rq(i)},l=function(){clearTimeout(i.next),i.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return i.patches=r,i.object=e,i.unobserve=function(){Rq(i),clearTimeout(i.next),RWe(o,i),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new AWe(t,i)),i}function Rq(e,t){t===void 0&&(t=!1);var r=kq.get(e.object);Oq(r.value,e.object,e.patches,"",t),e.patches.length&&AM(r.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function Oq(e,t,r,i,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=Aq(t),s=Aq(e),l=!1,u=s.length-1;u>=0;u--){var c=s[u],f=e[c];if(Dq(t,c)&&!(t[c]===void 0&&f!==void 0&&Array.isArray(t)===!1)){var d=t[c];typeof f=="object"&&f!=null&&typeof d=="object"&&d!=null&&Array.isArray(f)===Array.isArray(d)?Oq(f,d,r,i+"/"+eg(c),o):f!==d&&(o&&r.push({op:"test",path:i+"/"+eg(c),value:cu(f)}),r.push({op:"replace",path:i+"/"+eg(c),value:cu(d)}))}else Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:i+"/"+eg(c),value:cu(f)}),r.push({op:"remove",path:i+"/"+eg(c)}),l=!0):(o&&r.push({op:"test",path:i,value:e}),r.push({op:"replace",path:i,value:t}))}if(!(!l&&a.length==s.length))for(var u=0;u<a.length;u++){var c=a[u];!Dq(e,c)&&t[c]!==void 0&&r.push({op:"add",path:i+"/"+eg(c),value:cu(t[c])})}}}function NWe(e,t,r){r===void 0&&(r=!1);var i=[];return Oq(e,t,i,"",r),i}var IWe=Object.freeze({__proto__:null,compare:NWe,generate:Rq,observe:OWe,unobserve:kWe});Object.assign({},EWe,IWe,{JsonPatchError:cme,deepClone:cu,escapePathComponent:eg,unescapePathComponent:ume});function FWe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uq,z1e;function PWe(){if(z1e)return uq;z1e=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){let i=this.map.get(r);if(i!==void 0)return this.map.delete(r),this.map.set(r,i),i}delete(r){return this.map.delete(r)}set(r,i){if(!this.delete(r)&&i!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(r,i)}return this}}return uq=e,uq}var cq,V1e;function Nq(){if(V1e)return cq;V1e=1;let e=Object.freeze({loose:!0}),t=Object.freeze({});return cq=i=>i?typeof i!="object"?e:i:t,cq}var SM={exports:{}},fq,q1e;function Iq(){if(q1e)return fq;q1e=1;let e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,o=t-6;return fq={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},fq}var dq,H1e;function MM(){return H1e||(H1e=1,dq=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),dq}var G1e;function Fq(){return G1e||(G1e=1,function(e,t){let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=Iq(),a=MM();t=e.exports={};let s=t.re=[],l=t.safeRe=[],u=t.src=[],c=t.t={},f=0,d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[d,i]],m=v=>{for(let[b,_]of p)v=v.split(`${b}*`).join(`${b}{0,${_}}`).split(`${b}+`).join(`${b}{1,${_}}`);return v},g=(v,b,_)=>{let D=m(b),T=f++;a(v,T,b),c[v]=T,u[T]=b,s[T]=new RegExp(b,_?"g":void 0),l[T]=new RegExp(D,_?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),g("FULL",`^${u[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),g("LOOSE",`^${u[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),g("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?(?:${u[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",u[c.COERCE],!0),g("COERCERTLFULL",u[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(SM,SM.exports)),SM.exports}var pq,j1e;function LWe(){if(j1e)return pq;j1e=1;let e=/^[0-9]+$/,t=(i,o)=>{let a=e.test(i),s=e.test(o);return a&&s&&(i=+i,o=+o),i===o?0:a&&!s?-1:s&&!a?1:i<o?-1:1};return pq={compareIdentifiers:t,rcompareIdentifiers:(i,o)=>t(o,i)},pq}var hq,W1e;function Pq(){if(W1e)return hq;W1e=1;let e=MM(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Iq(),{safeRe:i,t:o}=Fq(),a=Nq(),{compareIdentifiers:s}=LWe();class l{constructor(c,f){if(f=a(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;let d=c.trim().match(f.loose?i[o.LOOSE]:i[o.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){let m=+p;if(m>=0&&m<r)return m}return p}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{let d=this.prerelease[f],p=c.prerelease[f];if(e("prerelease compare",f,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{let d=this.build[f],p=c.build[f];if(e("build compare",f,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++f)}inc(c,f,d){switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,d),this.inc("pre",f,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,d),this.inc("pre",f,d);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let p=Number(d)?1:0;if(!f&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(f===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(f){let m=[f,p];d===!1&&(m=[f]),s(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return hq=l,hq}var mq,Y1e;function A3(){if(Y1e)return mq;Y1e=1;let e=Pq();return mq=(r,i,o)=>new e(r,o).compare(new e(i,o)),mq}var gq,X1e;function BWe(){if(X1e)return gq;X1e=1;let e=A3();return gq=(r,i,o)=>e(r,i,o)===0,gq}var vq,K1e;function $We(){if(K1e)return vq;K1e=1;let e=A3();return vq=(r,i,o)=>e(r,i,o)!==0,vq}var yq,Q1e;function UWe(){if(Q1e)return yq;Q1e=1;let e=A3();return yq=(r,i,o)=>e(r,i,o)>0,yq}var bq,Z1e;function zWe(){if(Z1e)return bq;Z1e=1;let e=A3();return bq=(r,i,o)=>e(r,i,o)>=0,bq}var xq,J1e;function VWe(){if(J1e)return xq;J1e=1;let e=A3();return xq=(r,i,o)=>e(r,i,o)<0,xq}var wq,eme;function qWe(){if(eme)return wq;eme=1;let e=A3();return wq=(r,i,o)=>e(r,i,o)<=0,wq}var _q,tme;function HWe(){if(tme)return _q;tme=1;let e=BWe(),t=$We(),r=UWe(),i=zWe(),o=VWe(),a=qWe();return _q=(l,u,c,f)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,f);case"!=":return t(l,c,f);case">":return r(l,c,f);case">=":return i(l,c,f);case"<":return o(l,c,f);case"<=":return a(l,c,f);default:throw new TypeError(`Invalid operator: ${u}`)}},_q}var Sq,nme;function GWe(){if(nme)return Sq;nme=1;let e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,d){if(d=r(d),f instanceof t){if(f.loose===!!d.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),s("comparator",f,d),this.options=d,this.loose=!!d.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(f){let d=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],p=f.match(d);if(!p)throw new TypeError(`Invalid comparator: ${f}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new l(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(s("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new l(f,this.options)}catch{return!1}return a(f,this.operator,this.semver,this.options)}intersects(f,d){if(!(f instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(f.value,d).test(this.value):f.operator===""?f.value===""?!0:new u(this.value,d).test(f.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||a(this.semver,"<",f.semver,d)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||a(this.semver,">",f.semver,d)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Sq=t;let r=Nq(),{safeRe:i,t:o}=Fq(),a=HWe(),s=MM(),l=Pq(),u=dme();return Sq}var Cq,rme;function dme(){if(rme)return Cq;rme=1;let e=/\s+/g;class t{constructor(R,$){if($=o($),R instanceof t)return R.loose===!!$.loose&&R.includePrerelease===!!$.includePrerelease?R:new t(R.raw,$);if(R instanceof a)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=R.trim().replace(e," "),this.set=this.raw.split("||").map(Y=>this.parseRange(Y.trim())).filter(Y=>Y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let Y=this.set[0];if(this.set=this.set.filter(re=>!v(re[0])),this.set.length===0)this.set=[Y];else if(this.set.length>1){for(let re of this.set)if(re.length===1&&b(re[0])){this.set=[re];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");let $=this.set[R];for(let Y=0;Y<$.length;Y++)Y>0&&(this.formatted+=" "),this.formatted+=$[Y].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){let Y=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+R,re=i.get(Y);if(re)return re;let ne=this.options.loose,he=ne?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];R=R.replace(he,k(this.options.includePrerelease)),s("hyphen replace",R),R=R.replace(u[c.COMPARATORTRIM],f),s("comparator trim",R),R=R.replace(u[c.TILDETRIM],d),s("tilde trim",R),R=R.replace(u[c.CARETTRIM],p),s("caret trim",R);let ge=R.split(" ").map(Pe=>D(Pe,this.options)).join(" ").split(/\s+/).map(Pe=>C(Pe,this.options));ne&&(ge=ge.filter(Pe=>(s("loose invalid filter",Pe,this.options),!!Pe.match(u[c.COMPARATORLOOSE])))),s("range list",ge);let Me=new Map,be=ge.map(Pe=>new a(Pe,this.options));for(let Pe of be){if(v(Pe))return[Pe];Me.set(Pe.value,Pe)}Me.size>1&&Me.has("")&&Me.delete("");let ut=[...Me.values()];return i.set(Y,ut),ut}intersects(R,$){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(Y=>_(Y,$)&&R.set.some(re=>_(re,$)&&Y.every(ne=>re.every(he=>ne.intersects(he,$)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new l(R,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(F(this.set[$],R,this.options))return!0;return!1}}Cq=t;let r=PWe(),i=new r,o=Nq(),a=GWe(),s=MM(),l=Pq(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:p}=Fq(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=Iq(),v=I=>I.value==="<0.0.0-0",b=I=>I.value==="",_=(I,R)=>{let $=!0,Y=I.slice(),re=Y.pop();for(;$&&Y.length;)$=Y.every(ne=>re.intersects(ne,R)),re=Y.pop();return $},D=(I,R)=>(s("comp",I,R),I=j(I,R),s("caret",I),I=N(I,R),s("tildes",I),I=U(I,R),s("xrange",I),I=w(I,R),s("stars",I),I),T=I=>!I||I.toLowerCase()==="x"||I==="*",N=(I,R)=>I.trim().split(/\s+/).map($=>z($,R)).join(" "),z=(I,R)=>{let $=R.loose?u[c.TILDELOOSE]:u[c.TILDE];return I.replace($,(Y,re,ne,he,ge)=>{s("tilde",I,Y,re,ne,he,ge);let Me;return T(re)?Me="":T(ne)?Me=`>=${re}.0.0 <${+re+1}.0.0-0`:T(he)?Me=`>=${re}.${ne}.0 <${re}.${+ne+1}.0-0`:ge?(s("replaceTilde pr",ge),Me=`>=${re}.${ne}.${he}-${ge} <${re}.${+ne+1}.0-0`):Me=`>=${re}.${ne}.${he} <${re}.${+ne+1}.0-0`,s("tilde return",Me),Me})},j=(I,R)=>I.trim().split(/\s+/).map($=>B($,R)).join(" "),B=(I,R)=>{s("caret",I,R);let $=R.loose?u[c.CARETLOOSE]:u[c.CARET],Y=R.includePrerelease?"-0":"";return I.replace($,(re,ne,he,ge,Me)=>{s("caret",I,re,ne,he,ge,Me);let be;return T(ne)?be="":T(he)?be=`>=${ne}.0.0${Y} <${+ne+1}.0.0-0`:T(ge)?ne==="0"?be=`>=${ne}.${he}.0${Y} <${ne}.${+he+1}.0-0`:be=`>=${ne}.${he}.0${Y} <${+ne+1}.0.0-0`:Me?(s("replaceCaret pr",Me),ne==="0"?he==="0"?be=`>=${ne}.${he}.${ge}-${Me} <${ne}.${he}.${+ge+1}-0`:be=`>=${ne}.${he}.${ge}-${Me} <${ne}.${+he+1}.0-0`:be=`>=${ne}.${he}.${ge}-${Me} <${+ne+1}.0.0-0`):(s("no pr"),ne==="0"?he==="0"?be=`>=${ne}.${he}.${ge}${Y} <${ne}.${he}.${+ge+1}-0`:be=`>=${ne}.${he}.${ge}${Y} <${ne}.${+he+1}.0-0`:be=`>=${ne}.${he}.${ge} <${+ne+1}.0.0-0`),s("caret return",be),be})},U=(I,R)=>(s("replaceXRanges",I,R),I.split(/\s+/).map($=>x($,R)).join(" ")),x=(I,R)=>{I=I.trim();let $=R.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return I.replace($,(Y,re,ne,he,ge,Me)=>{s("xRange",I,Y,re,ne,he,ge,Me);let be=T(ne),ut=be||T(he),Pe=ut||T(ge),Mt=Pe;return re==="="&&Mt&&(re=""),Me=R.includePrerelease?"-0":"",be?re===">"||re==="<"?Y="<0.0.0-0":Y="*":re&&Mt?(ut&&(he=0),ge=0,re===">"?(re=">=",ut?(ne=+ne+1,he=0,ge=0):(he=+he+1,ge=0)):re==="<="&&(re="<",ut?ne=+ne+1:he=+he+1),re==="<"&&(Me="-0"),Y=`${re+ne}.${he}.${ge}${Me}`):ut?Y=`>=${ne}.0.0${Me} <${+ne+1}.0.0-0`:Pe&&(Y=`>=${ne}.${he}.0${Me} <${ne}.${+he+1}.0-0`),s("xRange return",Y),Y})},w=(I,R)=>(s("replaceStars",I,R),I.trim().replace(u[c.STAR],"")),C=(I,R)=>(s("replaceGTE0",I,R),I.trim().replace(u[R.includePrerelease?c.GTE0PRE:c.GTE0],"")),k=I=>(R,$,Y,re,ne,he,ge,Me,be,ut,Pe,Mt)=>(T(Y)?$="":T(re)?$=`>=${Y}.0.0${I?"-0":""}`:T(ne)?$=`>=${Y}.${re}.0${I?"-0":""}`:he?$=`>=${$}`:$=`>=${$}${I?"-0":""}`,T(be)?Me="":T(ut)?Me=`<${+be+1}.0.0-0`:T(Pe)?Me=`<${be}.${+ut+1}.0-0`:Mt?Me=`<=${be}.${ut}.${Pe}-${Mt}`:I?Me=`<${be}.${ut}.${+Pe+1}-0`:Me=`<=${Me}`,`${$} ${Me}`.trim()),F=(I,R,$)=>{for(let Y=0;Y<I.length;Y++)if(!I[Y].test(R))return!1;if(R.prerelease.length&&!$.includePrerelease){for(let Y=0;Y<I.length;Y++)if(s(I[Y].semver),I[Y].semver!==a.ANY&&I[Y].semver.prerelease.length>0){let re=I[Y].semver;if(re.major===R.major&&re.minor===R.minor&&re.patch===R.patch)return!0}return!1}return!0};return Cq}var Eq,ime;function jWe(){if(ime)return Eq;ime=1;let e=dme();return Eq=(r,i,o)=>{try{i=new e(i,o)}catch{return!1}return i.test(r)},Eq}var WWe=jWe(),pme=FWe(WWe);function YWe(e,t,r){let i=e.open(t),o=1e4,a=250,{origin:s}=new URL(t),l=~~(o/a);function u(f){f.source===i&&(l=0,e.removeEventListener("message",u,!1))}e.addEventListener("message",u,!1);function c(){l<=0||(i.postMessage(r,s),setTimeout(c,a),l-=1)}setTimeout(c,a)}var XWe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function hme(e,...t){for(let r of t)KWe(e,r);return e}function KWe(e,t){for(let r of Object.keys(t))Xd(e,r,t[r],!0)}var QWe="vega-embed",ZWe="6.29.0",JWe="Publish Vega visualizations as embedded web components.",eYe=["vega","data","visualization","component","embed"],tYe={type:"git",url:"http://github.com/vega/vega-embed.git"},nYe={name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},rYe=[{name:"Dominik Moritz",url:"https://www.domoritz.de"}],iYe={url:"https://github.com/vega/vega-embed/issues"},oYe="https://github.com/vega/vega-embed#readme",aYe="BSD-3-Clause",sYe="build/vega-embed.js",lYe="build/vega-embed.module.js",uYe="build/vega-embed.min.js",cYe="build/vega-embed.min.js",fYe="build/src/embed.d.ts",dYe=["src","build"],pYe={".":{import:{types:"./build/src/embed.d.ts",default:"./build/vega-embed.module.js"},require:{default:"./build/vega-embed.js"}}},hYe={"@babel/core":"^7.26.0","@babel/eslint-parser":"^7.25.9","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/plugin-transform-runtime":"^7.25.9","@babel/preset-env":"^7.26.0","@babel/preset-typescript":"^7.26.0","@release-it/conventional-changelog":"^9.0.3","@rollup/plugin-commonjs":"28.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.3.0","@rollup/plugin-terser":"^0.4.4","@rollup/plugin-typescript":"^12.1.1","@types/semver":"^7.5.8","@typescript-eslint/parser":"^8.15.0","@vitest/coverage-istanbul":"^2.1.5","browser-sync":"^3.0.3",concurrently:"^9.1.0","del-cli":"^6.0.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","eslint-plugin-vitest":"^0.5.4",eslint:"^9.15.0",jsdom:"^25.0.1","postinstall-postinstall":"^2.1.0",prettier:"^3.3.3","release-it":"^17.10.0","rollup-plugin-bundle-size":"^1.0.3",rollup:"4.27.3",sass:"^1.81.0","typescript-eslint":"^8.15.0",typescript:"^5.6.3","vega-lite":"^5.21.0",vega:"^5.30.0","vitest-canvas-mock":"^0.3.3",vitest:"^2.1.5"},mYe={vega:"^5.21.0","vega-lite":"*"},gYe={"fast-json-patch":"^3.1.1","json-stringify-pretty-compact":"^4.0.0",semver:"^7.6.3",tslib:"^2.8.1","vega-interpreter":"^1.0.5","vega-schema-url-parser":"^2.2.0","vega-themes":"^2.15.0","vega-tooltip":"^0.35.2"},vYe={prebuild:"npm run clean && npm run build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"del-cli build src/style.ts",prepublishOnly:"npm run clean && npm run build",preversion:"npm run lint && npm run test",serve:"browser-sync start --directory -s -f build *.html",start:"npm run build && concurrently --kill-others -n Server,Rollup 'npm run serve' 'rollup -c -w'",pretest:"npm run build:style",test:"vitest run",prettierbase:"prettier '*.{css,scss,html}'",format:"eslint . --fix && npm run prettierbase -- --write",lint:"eslint . && npm run prettierbase -- --check",release:"release-it"},yYe={name:QWe,version:ZWe,description:JWe,keywords:eYe,repository:tYe,author:nYe,contributors:rYe,bugs:iYe,homepage:oYe,license:aYe,main:sYe,module:lYe,unpkg:uYe,jsdelivr:cYe,types:fYe,files:dYe,exports:pYe,devDependencies:hYe,peerDependencies:mYe,dependencies:gYe,scripts:vYe},nan=yYe.version,yd=qU,qv=eq,ome=typeof window<"u"?window:void 0;qv===void 0&&ome?.vl?.compile&&(qv=ome.vl);var bYe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},xYe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},zv={vega:"Vega","vega-lite":"Vega-Lite"},DM={vega:yd.version,"vega-lite":qv?qv.version:"not available"},wYe={vega:e=>e,"vega-lite":(e,t)=>qv.compile(e,{config:t}).spec},_Ye=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,SYe="chart-wrapper";function CYe(e){return typeof e=="function"}function ame(e,t,r,i){let o=`<html><head>${t}</head><body><pre><code class="json">`,a=`</code></pre>${r}</body></html>`,s=window.open("");s.document.write(o+e+a),s.document.title=`${zv[i]} JSON Source`}function EYe(e,t){if(e.$schema){let r=tq(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${zv[r.library]}, but mode argument sets ${zv[t]??t}.`);let i=r.library;return pme(DM[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${zv[i]} ${r.version}, but the current version of ${zv[i]} is v${DM[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function mme(e){return!!(e&&"load"in e)}function sme(e){return mme(e)?e:yd.loader(e)}function DYe(e){let t=e.usermeta?.embedOptions??{};return ht(t.defaultStyle)&&(t.defaultStyle=!1),t}function TM(i,o){return Oi(this,arguments,function*(e,t,r={}){let a,s;ht(t)?(s=sme(r.loader),a=JSON.parse(yield s.load(t))):a=t;let l=DYe(a),u=l.loader;(!s||u)&&(s=sme(r.loader??u));let c=yield lme(l,s),f=yield lme(r,s),d=_e(A({},hme(f,c)),{config:Of(f.config??{},c.config??{})});return yield MYe(e,a,d,s)})}function lme(e,t){return Oi(this,null,function*(){let r=ht(e.config)?JSON.parse(yield t.load(e.config)):e.config??{},i=ht(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return A(A(A({},e),i?{patch:i}:{}),r?{config:r}:{})})}function AYe(e){let t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}function MYe(o,a){return Oi(this,arguments,function*(e,t,r={},i){let s=r.theme?Of(lq[r.theme],r.config??{}):r.config,l=ul(r.actions)?r.actions:hme({},bYe,r.actions??{}),u=A(A({},xYe),r.i18n),c=r.renderer??"canvas",f=r.logLevel??yd.Warn,d=r.downloadFileName??"visualization",p=typeof e=="string"?document.querySelector(e):e;if(!p)throw new Error(`${e} does not exist`);if(r.defaultStyle!==!1){let B="vega-embed-style",{root:U,rootContainer:x}=AYe(p);if(!U.getElementById(B)){let w=document.createElement("style");w.id=B,w.innerHTML=r.defaultStyle===void 0||r.defaultStyle===!0?XWe.toString():r.defaultStyle,x.appendChild(w)}}let m=EYe(t,r.mode),g=wYe[m](t,s);if(m==="vega-lite"&&g.$schema){let B=tq(g.$schema);pme(DM.vega,`^${B.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${B.version}, but current version is v${DM.vega}.`)}p.classList.add("vega-embed"),l&&p.classList.add("has-actions"),p.innerHTML="";let v=p;if(l){let B=document.createElement("div");B.classList.add(SYe),p.appendChild(B),v=B}let b=r.patch;if(b&&(g=b instanceof Function?b(g):AM(g,b,!0,!1).newDocument),r.formatLocale&&yd.formatLocale(r.formatLocale),r.timeFormatLocale&&yd.timeFormatLocale(r.timeFormatLocale),r.expressionFunctions)for(let B in r.expressionFunctions){let U=r.expressionFunctions[B];"fn"in U?yd.expressionFunction(B,U.fn,U.visitor):U instanceof Function&&yd.expressionFunction(B,U)}let{ast:_}=r,D=yd.parse(g,m==="vega-lite"?{}:s,{ast:_}),T=new(r.viewClass||yd.View)(D,A({loader:i,logLevel:f,renderer:c},_?{expr:yd.expressionInterpreter??r.expr??qce}:{}));if(T.addSignalListener("autosize",(B,U)=>{let{type:x}=U;x=="fit-x"?(v.classList.add("fit-x"),v.classList.remove("fit-y")):x=="fit-y"?(v.classList.remove("fit-x"),v.classList.add("fit-y")):x=="fit"?v.classList.add("fit-x","fit-y"):v.classList.remove("fit-x","fit-y")}),r.tooltip!==!1){let{loader:B,tooltip:U}=r,x=B&&!mme(B)?B?.baseURL:void 0,w=CYe(U)?U:new _M(A({baseURL:x},U===!0?{}:U)).call;T.tooltip(w)}let{hover:N}=r;if(N===void 0&&(N=m==="vega"),N){let{hoverSet:B,updateSet:U}=typeof N=="boolean"?{}:N;T.hover(B,U)}r&&(r.width!=null&&T.width(r.width),r.height!=null&&T.height(r.height),r.padding!=null&&T.padding(r.padding)),yield T.initialize(v,r.bind).runAsync();let z;if(l!==!1){let B=p;if(r.defaultStyle!==!1||r.forceActionsMenu){let x=document.createElement("details");x.title=u.CLICK_TO_VIEW_ACTIONS,p.append(x),B=x;let w=document.createElement("summary");w.innerHTML=_Ye,x.append(w),z=C=>{x.contains(C.target)||x.removeAttribute("open")},document.addEventListener("click",z)}let U=document.createElement("div");if(B.append(U),U.classList.add("vega-actions"),l===!0||l.export!==!1){for(let x of["svg","png"])if(l===!0||l.export===!0||l.export[x]){let w=u[`${x.toUpperCase()}_ACTION`],C=document.createElement("a"),k=yt(r.scaleFactor)?r.scaleFactor[x]:r.scaleFactor;C.text=w,C.href="#",C.target="_blank",C.download=`${d}.${x}`,C.addEventListener("mousedown",function(F){return Oi(this,null,function*(){F.preventDefault();let I=yield T.toImageURL(x,k);this.href=I})}),U.append(C)}}if(l===!0||l.source!==!1){let x=document.createElement("a");x.text=u.SOURCE_ACTION,x.href="#",x.addEventListener("click",function(w){ame(C4(t),r.sourceHeader??"",r.sourceFooter??"",m),w.preventDefault()}),U.append(x)}if(m==="vega-lite"&&(l===!0||l.compiled!==!1)){let x=document.createElement("a");x.text=u.COMPILED_ACTION,x.href="#",x.addEventListener("click",function(w){ame(C4(g),r.sourceHeader??"",r.sourceFooter??"","vega"),w.preventDefault()}),U.append(x)}if(l===!0||l.editor!==!1){let x=r.editorUrl??"https://vega.github.io/editor/",w=document.createElement("a");w.text=u.EDITOR_ACTION,w.href="#",w.addEventListener("click",function(C){YWe(window,x,{config:s,mode:b?"vega":m,renderer:c,spec:C4(b?g:t)}),C.preventDefault()}),U.append(w)}}function j(){z&&document.removeEventListener("click",z),T.finalize()}return{view:T,spec:t,vgSpec:g,finalize:j,embedOptions:r}})}var gme={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{concat:{spacing:30},background:null},resolve:{scale:{color:"independent",opacity:"independent"},legend:{color:"independent",opacity:"independent"}},data:{url:"",format:{type:"topojson",feature:""}},transform:[{lookup:"",from:{data:{url:""},key:"",fields:[]}}],columns:1,concat:[]};var Hv=Object.freeze({dataPath:"assets/data/",vegaLiteOptions:Object.freeze({renderer:"canvas",actions:!1,hover:!0,tooltip:!0})});var Lq=[{name:"Categorical",examples:[{sname:"Accent",file:"Accent",code:"accent",function:Pk},{sname:"Category 10",file:"Category10",code:"category10",function:Fk},{sname:"Dark 2",file:"Dark2",code:"dark2",function:Lk},{sname:"Paired",file:"Paired",code:"paired",function:Bk},{sname:"Pastel 1",file:"Pastel1",code:"pastel1",function:$k},{sname:"Pastel 2",file:"Pastel2",code:"pastel2",function:Uk},{sname:"Set 1",file:"Set1",code:"set1",function:zk},{sname:"Set 2",file:"Set2",code:"set2",function:Vk},{sname:"Set 3",file:"Set3",code:"set3",function:qk},{sname:"Tableau 10",file:"Tableau10",code:"tableau10",function:Hk}]},{name:"Sequential Single-Hue",examples:[{sname:"Blues",file:"Blues",code:"blues",function:Hx},{sname:"Greens",file:"Greens",code:"greens",function:Gx},{sname:"Oranges",file:"Oranges",code:"oranges",function:Xx},{sname:"Reds",file:"Reds",code:"reds",function:Yx},{sname:"Purples",file:"Purples",code:"purples",function:Wx},{sname:"Greys",file:"Greys",code:"greys",function:jx}]},{name:"Sequential Multi-Hue",examples:[{sname:"Turbo",file:"Turbo",code:"turbo",function:Yk},{sname:"Magma",file:"Magma",code:"magma",function:Kk},{sname:"Viridis",file:"Viridis",code:"viridis",function:Xk},{sname:"Inferno",file:"Inferno",code:"inferno",function:Qk},{sname:"Cividis",file:"Cividis",code:"cividis",function:Gk},{sname:"Blue-Green",file:"BuGn",code:"bluegreen",function:Ox},{sname:"Blue-Purple",file:"BuPu",code:"bluepurple",function:Nx},{sname:"Green-Blue",file:"GnBu",code:"greenblue",function:Ix},{sname:"Orange-Red",file:"OrRd",code:"orangered",function:Fx},{sname:"Purple-Blue-Green",file:"PuBuGn",code:"purplebluegreen",function:Px},{sname:"Purple-Blue",file:"PuBu",code:"purpleblue",function:Lx},{sname:"Purple-Red",file:"PuRd",code:"purplered",function:Bx},{sname:"Red-Purple",file:"RdPu",code:"redpurple",function:$x},{sname:"Yellow-Green-Blue",file:"YlGnBu",code:"yellowgreenblue",function:Ux},{sname:"Yellow-Green",file:"YlGn",code:"yellowgreen",function:zx},{sname:"Yellow-Orange-Brown",file:"YlOrBr",code:"yelloworangebrown",function:Vx},{sname:"Yellow-Orange-Red",file:"YlOrRd",code:"yelloworangered",function:qx}]},{name:"Diverging",examples:[{sname:"Brown-Blue-Green",file:"BrBG",code:"brownbluegreen",function:Cx},{sname:"Pink-Yellow-Green",file:"PiYG",code:"pinkyellowgreen",function:Ex},{sname:"Purple-Orange",file:"PuOr",code:"purpleorange",function:Dx},{sname:"Red-Blue",file:"RdBu",code:"redblue",function:Ax},{sname:"Red-Grey",file:"RdGy",code:"redgrey",function:Mx},{sname:"Red-Yellow-Blue",file:"RdYlBu",code:"redyellowblue",function:Tx},{sname:"Red-Yellow-Green",file:"RdYlGn",code:"redyellowgreen",function:Rx},{sname:"Spectral",file:"Spectral",code:"spectral",function:kx}]},{name:"Cyclical",examples:[{sname:"Rainbow",file:"Rainbow",code:"rainbow",function:jk},{sname:"Sinebow",file:"Sinebow",code:"sinebow",function:Wk}]}];var Gv={usa:{featureFile:"us-county-indicators.csv",features:["Life Expectancy (2021)","Life Expectancy (2020)","Adult Obesity Percentage","Infant Mortality Rate","Incarceration Rate","Incarceration_Rate_1k","HIV_Prevalence","Motor Vehicle Death Rate","Secondary Educational Attainment","GINI Index (Income Inequality)","Population Density","Domestic In-Migrants 2010s","Domestic In-Migrants 2010s (norm)","Domestic Net Migrants 2010s","Domestic Net Migrants 2010s (norm)"],labelFeatures:["State","County"],primaryKey:"FIPS_Code"},india:{featureFile:"india-states-uts-indicators.csv",features:["Infant Mortality Rate","Total Fertility Rate (Children per women)","Population Density","Death Rate","Birth Rate","Elementary School Gross Enrolment Ratio (%) - Boys","Elementary School Gross Enrolment Ratio (%) - Girls","Elementary School Gross Enrolment Ratio (%) - Overall","Secondary School Gross Enrolment Ratio (%) - Boys","Secondary School Gross Enrolment Ratio (%) - Girls","Secondary School Gross Enrolment Ratio (%) - Overall","Senior Secondary School Gross Enrolment Ratio (%) - Boys","Senior Secondary School Gross Enrolment Ratio (%) - Girls","Senior Secondary School Gross Enrolment Ratio (%) - Overall","Higher Education Gross Enrolment Ratio (%) - Boys","Higher Education Gross Enrolment Ratio (%) - Girls","Higher Education Gross Enrolment Ratio (%) - Overall"],labelFeatures:["Category"],primaryKey:"State/UT"}},RYe={usa:{county:{geoFile:"us-counties.json",mapProjection:"albersUsa",mapCenter:[98.5795,39.8283],topoPrimaryKey:"id",topoFeatureRootKey:"counties"}},india:{state:{geoFile:"india-states-uts.json",mapProjection:"mercator",mapCenter:[78.9629,20.5937],topoFeatureRootKey:"india-states-uts",topoPrimaryKey:"id"}}},vme=[{name:"India",code:"india",geographies:[{name:"State",code:"state",features:[]}]},{name:"United States",code:"usa",geographies:[{name:"County",code:"county",features:[]}]}];vme.forEach(function(e){e.geographies.forEach(function(t){let i=RYe[e.code][t.code];i.featureFile=Gv[e.code].featureFile,i.features=Gv[e.code].features,i.labelFeatures=Gv[e.code].labelFeatures,i.primaryKey=Gv[e.code].primaryKey,Gv[e.code].features.forEach(function(o){i.feature=o,t.features.push(JSON.parse(JSON.stringify(i)))})})});var Bq=vme;var $q="equalInterval",RM="percentile",kYe="definedInterval",Uq="quantile";var kM="boxPlot",zq="standardDeviation";var Vq="maximumBreaks",OYe="prettyBreaks",NYe="ckMeans",IYe="headTailBreaks";var qq="fisherJenks",FYe="exponentialClassSize",Hq="geometricInterval",PYe="unclassed",LYe="manualInterval",Gq="specialFrequencyMostFrequentClass",yme="specialMostFrequentClass",bme="specialCombinedMostFrequentClass",BYe="resiliency",xme={[PYe]:{name:"Unclassed",description:["No discrete bins; a continuous color ramp spans the range of data values."],longDescription:["This method divides data into a continuous range of values, rather than into a set number of discrete bins; it uses a color ramp, typically progressing from low to high values, to represent the data, with each color in the ramp representing a different range of values."]},[kYe]:{name:"Defined Interval",description:["Number of bins are determined by manually specifying a desired bin interval."],longDescription:["This method defines a series of bins with the same value range. By specifying the interval size and maximum sample size, the number of bins is determined automatically. For example, if the interval size is 75, each bin will span 75 units."]},[$q]:{name:"Equal Interval",description:["Each bin has the same interval size based on the manually specified number of bins."],longDescription:["This method divides the range of attribute values into equal-sized subranges (intervals). By specifying the number of bins (or intervals), the bin breaks are automatically determined based on the value range. For example, if we specify three bins for an attribute whose values range from 0 to 300, three bins with ranges of 0-100, 101-200, and 201-300 are created. Equal interval is best applied to familiar data ranges, such as percentages and temperature."]},[OYe]:{name:"Pretty Breaks",description:["Each bin break is rounded to pretty values (e.g., to two signficant digits) by the user."],longDescription:["This method rounds each bin break up or down into pretty values that are easier to read, understand, and explain, e.g., [0-10] instead of [0-9.364]. These bin intervals are defined based on the data values, user preferences, desired number of bins, and rounding factor."]},[Hq]:{name:"Geometric",description:["Bin intervals follow a geometric progression: a + ar + ar^2 + ... a = constant, r = coefficient."],longDescription:["Originally called 'Smart Quantiles', this method defines bin breaks based on bin intervals that have a geometric series (a + ar + ar^2 + ar^3 + ...) where a is a constant and r is the geometric coefficient. This r can change once (to its inverse) to optimize the bin ranges. This technique is useful for visualizing continuous data that is not distributed normally, or when the distribution is extremely skewed, creating a balance between highlighting changes in the middle values and the extreme values, thereby producing a result that is visually appealing and cartographically comprehensive."]},[FYe]:{name:"Exponential",description:["Number of data records in each successive bin increase (or decrease) exponentially."],longDescription:["This method utilizes an exponential series (a^n) for classification. There are two commonly used variants of this strategy: (1) bin intervals are defined such that the number of observations in each successive interval increases (or decreases) exponentially; (2) bin intervals are defined such that the size of the intervals increases by an exponential factor between each successive interval, e.g., 1-2, 2-4, 4-8, 8-16, 16-32."]},[LYe]:{name:"Manual Interval",description:["Number of bins and corresponding bin breaks are manually specified as per user needs."],longDescription:["This method organizes data into bins based on predetermined criteria or when automated methods are inappropriate or unavailable. Note that this strategy is less explainable and can be time-consuming and error-prone to execute, especially when the dataset is large or complex."]},[Uq]:{name:"Quantile",description:["Each bin consists of approximately the same number of data observations."],longDescription:["This method defines bin intervals such that the number of observations in each interval is (approximately) the same. For example, if there are 100 data points and one needs 5 equal-sized bins (or quantiles), each bin would then contain 100/5=20 data points. The term quartiles is used when the attribute values are divided into four bins, quintiles for five, sextiles for six, etc. With this strategy, bins are not left empty nor do they have limited or excessive number of values. However, because of the way the bins are grouped, the maps can sometimes be confusing or misleading because the values that are put into the bins can be similar to or very different from one another."]},[RM]:{name:"Percentile",description:["6 Bins: [0,1)%, [1-10)%, [10-50)%, [50%-90)%, [90%-99)%, [99,100]%."],longDescription:["This method, a custom variant of the quantile strategy, defines six unequal bin intervals based on percentiles (%): [0,1), [1,10), [10,50), [50,90), [90,99), [99,100]."]},[kM]:{name:"Box Plot",description:["6 bins: [UQ+1.5*IQR, UQ, M, LQ, LQ-1.5*IQR]. M=median, Q=quartile, IQR=inter-Q range."],longDescription:["This method typically defines six bins: four quartiles plus two classifications for data items that are more than 1.5 times the inter-quartile range (IQR) from the median, enabling quick visualization of the distribution of the data across the region being mapped, as well as identifying any outliers or areas with unusual values."]},[zq]:{name:"Standard Deviation",description:["2n Bins: [\u03BC - n * \u03C3, ..., \u03BC - \u03C3, \u03BC, \u03BC + \u03C3, ..., \u03BC + n * \u03C3]. \u03BC = mean, \u03C3 = standard deviation."],longDescription:["This method is a way to measure how spread out a dataset is compared to its mean divides. It divides the data into a set of bins such that each bin contains data points that are within a certain number of standard deviations (\u03C3) from the mean (\u03BC) of the data, usually at intervals of 1.0\u03C3 or 0.5\u03C3. There are two commonly used variants of this strategy: (1) bins are defined on either side of the mean and hence there is no central bin and the number of bins is even; (2) one central bin (\u03BC+-0.5\u03C3) and additional bins at \u03BC+-1.0\u03C3 intervals beyond this central bin, for a total odd number of bins."]},[Vq]:{name:"Maximum Breaks",description:["Bins are placed where differences between sorted, successive values are the largest."],longDescription:["Based on the manually specified number of bins, this method defines bin breaks based on the maximum gradients of sorted data values, where a gradient is the difference between successive data values. For each desired bin, this strategy looks at how apart each data value is from the next one in the sorted sequence and accordingly places a break point in between the pairs of values that are most stretched apart from each other."]},[qq]:{name:"Natural Breaks",description:["Sum of the absolute deviations around the medians of the resultant bins is minimum."],longDescription:["This method defines bins such that they are as homogenous as possible within themselves and as heterogeneous as possible between themselves, by minimizing the within-bin variance and maximizing the between-bin variance, thereby creating bins that are more meaningful and interpretable. There are two commonly used variants of this strategy: (1) Jenks-Caspall minimizes the sum of absolute deviations around bin means; (2) Fisher-Jenks minimizes the sum of the absolute deviations around bin medians. Note that (2) uses a dynamic programming approach as opposed to (1)'s heuristic approach and is hence guaranteed to produce an optimal classification for a prespecified number of bins."]},[NYe]:{name:"CK-Means",description:["Standard deviation (sum of squared Euclidean distances to) of each bin is minimized."],longDescription:["This method heuristically partitions data into k bins such that the sum of squared Euclidean distances to each bin mean is minimized, computing new bin centers until local convergence is achieved. It is slow, not repeatable, and unoptimal; CK-Means is one dynamic programming algorithm for optimal one-dimensional classification."]},[IYe]:{name:"Head Tail Breaks",description:["Recursive binning to balance the number of smaller and larger values in each bin."],longDescription:["This method defines bins by recursively splitting data around the iterative means until the distributions within each of the bins no longer displays a heavy-tailed distribution, i.e., there is a balance between the number of smaller and larger values assigned to each bin. This method is particularly effective for data with a heavy-tailed distribution, such as power law and log normal distributions, as it recognizes that there may be far more objects of smaller (than larger) magnitudes."]},[BYe]:{name:"Resiliency",description:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],longDescription:["This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning strategies. By adjusting the number of bins as well as bin intervals, this scheme strives to force-fit maximum geographic entities fall in the bin that is most frequently assigned to it; in this way, this scheme rewards consistency and is called resiliency."]}};var UYe=["compareBinFrequencyVisContainer"],zYe=["resiliencyVisContainer"],VYe=["attrDistributionVisContainer"],qYe=["downloadImageCanvas"],HYe=["downloadLink"],GYe=()=>({height:"100vh"}),jYe=()=>[30,70],M3=()=>({standalone:!0}),WYe=()=>["geographies","features"],YYe=()=>["examples"];function XYe(e,t){if(e&1){let r=Bo();Ht(0,"div",46)(1,"input",47),kd("ngModelChange",function(o){let a=an(r).$implicit,s=Ft(2);return Rd(s.visModel.validBinningMethodsForResiliency[a].selected,o)||(s.visModel.validBinningMethodsForResiliency[a].selected=o),sn(o)}),_r("ngModelChange",function(){an(r);let o=Ft(2);return sn(o.updateAllVis())}),en(),Ht(2,"label",48),sr(3),en()()}if(e&2){let r=t.$implicit,i=Ft(2);It(),ay("name","'special-comparison-checkbox-' + ",r,""),ay("id","'special-comparison-checkbox-' + ",r,""),Ut("disabled",i.isCompatibleBinningMethod(r)),Td("ngModel",i.visModel.validBinningMethodsForResiliency[r].selected),Ut("ngModelOptions",Xu(10,M3)),It(),ay("for","'special-comparison-checkbox-' + ",r,""),It(),ff(i.visModel.binningMethods[r].name)}}function KYe(e,t){if(e&1&&Vr(0,"img",51),e&2){let r=Ft().$implicit;Ut("src","assets/colorSchemes/"+r.file+".png",Zv)}}function QYe(e,t){if(e&1&&(Ht(0,"table")(1,"tr")(2,"td",49),tr(3,KYe,1,1,"img",50),en(),Ht(4,"td",49)(5,"span"),sr(6),en()()()()),e&2){let r=t.$implicit;It(3),Ut("ngIf",r.sname),It(3),ff(r.sname||r.name)}}function ZYe(e,t){if(e&1&&(Ht(0,"div"),Vr(1,"img",53),sr(2,"\xA0\xA0 "),Ht(3,"span"),sr(4),en()()),e&2){let r=Ft().$implicit;It(),Ut("src","assets/colorSchemes/"+r.file+".png",Zv),It(3),ff(r.sname)}}function JYe(e,t){if(e&1&&tr(0,ZYe,5,2,"div",52),e&2){let r=t.$implicit;Ut("ngIf",r)}}function eXe(e,t){if(e&1){let r=Bo();Ht(0,"div")(1,"div",6)(2,"h3",7),sr(3,"Resiliency App"),en(),Ht(4,"div")(5,"small"),sr(6,"Powered by "),Ht(7,"a",8),sr(8,"BinGuru"),en()(),sr(9," \xA0|\xA0 "),Ht(10,"small")(11,"a",9),sr(12,"Research Paper (GIScience'23)"),en()()()(),Vr(13,"hr"),Ht(14,"div",10)(15,"form")(16,"div",11)(17,"div"),Vr(18,"i",12),sr(19," \xA0 "),Ht(20,"strong")(21,"u",13),sr(22,"Dataset"),en()(),sr(23," \xA0 "),Ht(24,"p-cascadeSelect",14),kd("ngModelChange",function(o){an(r);let a=Ft();return Rd(a.visModel.dataset,o)||(a.visModel.dataset=o),sn(o)}),_r("onChange",function(){an(r);let o=Ft();return sn(o.updateDataset())}),en()(),Ht(25,"div",15)(26,"small",16),sr(27),Ht(28,"div",17)(29,"input",18),kd("ngModelChange",function(o){an(r);let a=Ft();return Rd(a.visModel.showInvalidValues,o)||(a.visModel.showInvalidValues=o),sn(o)}),_r("ngModelChange",function(){an(r);let o=Ft();return sn(o.updateAllVis())}),en(),Ht(30,"label",19),sr(31," on "),en()(),sr(32," \xA0 "),Ht(33,"div",17)(34,"input",20),kd("ngModelChange",function(o){an(r);let a=Ft();return Rd(a.visModel.showInvalidValues,o)||(a.visModel.showInvalidValues=o),sn(o)}),_r("ngModelChange",function(){an(r);let o=Ft();return sn(o.updateAllVis())}),en(),Ht(35,"label",21),sr(36," off "),en()(),sr(37,") "),en()(),Vr(38,"div",22,1),en(),Vr(40,"hr"),Ht(41,"div",11),Vr(42,"img",23),sr(43," \xA0 "),Ht(44,"strong")(45,"u",24),sr(46,"Data Binning"),en()(),Ht(47,"div",25)(48,"span",26)(49,"u"),sr(50,"Bin Count"),en()(),sr(51," \xA0 "),Ht(52,"input",27),_r("change",function(){an(r);let o=Ft();return sn(o.updateAllVis())}),kd("ngModelChange",function(o){an(r);let a=Ft();return Rd(a.visModel.binCount,o)||(a.visModel.binCount=o),sn(o)}),en()(),Vr(53,"div",28),Ht(54,"div",29),tr(55,XYe,4,11,"div",30),en()(),Vr(56,"hr"),Ht(57,"div",11)(58,"div"),Vr(59,"i",31),sr(60," \xA0 "),Ht(61,"strong")(62,"u",32),sr(63,"Color Scheme"),en()()(),Ht(64,"div",29)(65,"table",33)(66,"tbody")(67,"tr")(68,"td",34)(69,"span",35),sr(70," Primary "),en()(),Ht(71,"td")(72,"p-cascadeSelect",36),_r("onChange",function(){an(r);let o=Ft();return sn(o.updateAllVis())}),kd("ngModelChange",function(o){an(r);let a=Ft();return Rd(a.visModel.colorScheme,o)||(a.visModel.colorScheme=o),sn(o)}),tr(73,QYe,7,2,"ng-template",37)(74,JYe,1,1,"ng-template",38),en()()(),Ht(75,"tr")(76,"td",34)(77,"span",39),sr(78," NaN/nulls "),en()(),Ht(79,"td")(80,"p-colorPicker",40),_r("ngModelChange",function(o){an(r);let a=Ft();return a.visModel.invalidValuesColor=o,sn(a.updateAllVis())}),en()()()()()()(),Vr(81,"hr"),Ht(82,"div",11)(83,"div"),Vr(84,"i",41),sr(85," \xA0 "),Ht(86,"strong")(87,"u",42),sr(88,"Indicators"),en()()(),Ht(89,"div",29)(90,"table",33)(91,"tbody")(92,"tr")(93,"td")(94,"u",43),sr(95," Average Frequency of the Most Consistent Bin "),en()(),Ht(96,"td")(97,"h5"),sr(98),en()()(),Ht(99,"tr")(100,"td")(101,"u",44),sr(102," Maximum Frequency of the Most Consistent Bin "),en()(),Ht(103,"td")(104,"h5"),sr(105),en()()(),Ht(106,"tr")(107,"td")(108,"u",45),sr(109," Minimum Frequency of the Most Consistent Bin "),en()(),Ht(110,"td")(111,"h5"),sr(112),en()()()()()()()()()()}if(e&2){let r=Ft();It(2),Ut("escape",!1),It(16),Ut("escape",!1),It(3),Ut("escape",!1),It(3),Ut("ngModelOptions",Xu(36,M3)),Td("ngModel",r.visModel.dataset),Ut("options",r.visModel.datasets)("optionGroupChildren",Xu(37,WYe)),It(3),bH(" ",r.getDataShape("total")," values; ",r.getDataShape("invalid")," (",r.getDataShape("invalidpct"),"%) NaN/nulls ( "),It(2),Td("ngModel",r.visModel.showInvalidValues),Ut("ngModelOptions",Xu(38,M3)),It(5),Td("ngModel",r.visModel.showInvalidValues),Ut("ngModelOptions",Xu(39,M3)),It(8),Ut("src","assets/tasks-alt.svg",Zv),It(3),Ut("escape",!1),It(3),Ut("escape",!1),It(4),Td("ngModel",r.visModel.binCount),It(3),Ut("ngForOf",r.objectKeys(r.visModel.validBinningMethodsForResiliency)),It(7),Ut("escape",!1),It(7),Ut("escape",!1),It(3),Ut("ngModelOptions",Xu(40,M3)),Td("ngModel",r.visModel.colorScheme),Ut("options",r.visModel.colorSchemes)("optionGroupChildren",Xu(41,YYe)),It(5),Ut("escape",!1),It(3),Ut("ngModelOptions",Xu(42,M3))("ngModel",r.visModel.invalidValuesColor)("disabled",r.visModel.showInvalidValues==="off"),It(7),Ut("escape",!1),It(7),Ut("escape",!1),It(4),ff(r.visModel.averageFrequencyOfMostConsistentBin),It(3),Ut("escape",!1),It(4),ff(r.visModel.maxFrequencyOfMostConsistentBin),It(3),Ut("escape",!1),It(4),ff(r.visModel.minFrequencyOfMostConsistentBin)}}function tXe(e,t){e&1&&(Ht(0,"div",54),Vr(1,"div",55,2)(3,"hr")(4,"div",56,3),en())}var OM=(()=>{class e{compareBinFrequencyVisContainer;resiliencyVisContainer;attrDistributionVisContainer;downloadImageCanvas;downloadLink;visModel;baseGeoVisSpec;validBinningMethodsForResiliency;objectKeys;objectValues;appConfig;constructor(){let r=this;this.objectKeys=Object.keys,this.objectValues=Object.values,this.appConfig=Hv,this.visModel={datasets:Bq,dataset:Bq[1].geographies[0].features[0],baseDataFeatureCollection:[],featureData:{},featureDataNaNs:{},featureRawDataWithNaNs:{},featureRawDataWithNaNsJSON:[],histogramBins:[],binMaxCount:0,showInvalidValues:"on",invalidValuesColor:"#555555",binCount:6,frequencyOfBins:{},frequentBins:{},resiliency:{},validBinningMethodsForResiliency:{[$q]:{selected:!0},[RM]:{selected:!0},[Uq]:{selected:!0},[Hq]:{selected:!0},[kM]:{selected:!0},[zq]:{selected:!0},[Vq]:{selected:!0},[qq]:{selected:!0}},binningMethodsForResiliency:[],specialDataClassificationTypes:{[Gq]:{name:"Frequency of Most Consistent Bin"},[bme]:{name:"Most Consistent Bin and its Frequency"}},minFrequencyOfMostConsistentBin:null,maxFrequencyOfMostConsistentBin:null,averageFrequencyOfMostConsistentBin:null,binGuruObj:null,colorSchemes:Lq,colorScheme:Lq[3].examples[2],binningMethods:xme,dataMap:new Map,colorScale:null,primaryKeys:[]}}getColorScheme(){return this.visModel.colorScheme.code}getDataShape(r="total"){let i=this,o;try{let a=i.visModel.featureData[i.visModel.dataset.feature].length,s=i.visModel.featureDataNaNs[i.visModel.dataset.feature],l=a+s;switch(r){case"total":o=l;break;case"valid":o=a;break;case"invalid":o=s;break;case"invalidpct":o=(s*100/l).toPrecision(3);break}}catch{o=-1}return o}getValidBinningMethodForResiliency(){let r=this,i=[];return Object.keys(r.visModel.validBinningMethodsForResiliency).forEach(function(o){r.visModel.validBinningMethodsForResiliency[o].selected&&!r.isCompatibleBinningMethod(o)&&i.push(o)}),i}isCompatibleBinningMethod(r){return this.visModel.binCount!=6&&[RM,kM].indexOf(r)!==-1}prepareSpecialVIS(){let r=this,i=[],o=[],a=Array.from(Object.values(r.visModel.frequencyOfBins)).filter(Boolean),s=a.reduce((f,d)=>f+d);r.visModel.minFrequencyOfMostConsistentBin=Math.min(...a),r.visModel.maxFrequencyOfMostConsistentBin=Math.max(...a),r.visModel.averageFrequencyOfMostConsistentBin=(s/a.length).toFixed(2),Object.keys(r.visModel.frequencyOfBins).forEach(function(f,d){let p={Frequency_of_Most_Frequent_Bin:r.visModel.frequencyOfBins[f],Most_Frequent_Bin:r.visModel.frequentBins[f]};p[r.visModel.dataset.primaryKey]=f,r.visModel.binningMethodsForResiliency.forEach(function(m){p[m]=r.visModel.resiliency.binObjs[m].dataBinAssignments[d],o.push({field:m,type:"ordinal",title:"BinID("+r.visModel.binningMethods[m].name+")"})}),i.push(p)});let l=1;r.baseGeoVisSpec.columns=l,r.baseGeoVisSpec.transform.push({lookup:r.visModel.dataset.topoPrimaryKey,from:{data:{values:i},key:r.visModel.dataset.primaryKey,fields:["Frequency_of_Most_Frequent_Bin","Most_Frequent_Bin",r.visModel.dataset.primaryKey,...r.visModel.binningMethodsForResiliency]}});let u=r.compareBinFrequencyVisContainer.nativeElement.parentNode.offsetWidth/l-10-30-60,c=u*.66;Object.keys(r.visModel.specialDataClassificationTypes).forEach(function(f){let d={width:u,height:c,layer:[{title:{text:r.visModel.specialDataClassificationTypes[f].name,subtitle:"across multiple binning methods.",fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:r.visModel.dataset.mapProjection,fit:r.visModel.baseDataFeatureCollection,center:r.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:r.visModel.showInvalidValues=="on"?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['Frequency_of_Most_Frequent_Bin'])",value:r.visModel.invalidValuesColor},field:"Most_Frequent_Bin",type:"ordinal",legend:{title:"Bin",titleFontSize:16,labelFontSize:18},scale:{domain:[...Array(r.visModel.binCount).keys()].map(p=>p+=1),type:"ordinal",scheme:r.getColorScheme()}},opacity:{field:"Frequency_of_Most_Frequent_Bin",type:"quantitative",legend:{title:"Freq",values:new Array(r.visModel.binningMethodsForResiliency.length).fill(null).map((p,m)=>m+1),titleFontSize:16,labelFontSize:18},scale:{domain:[1,r.visModel.binningMethodsForResiliency.length],range:[.1,1],type:"pow"}},tooltip:[...r.getMapTooltip(),{field:"Most_Frequent_Bin",type:"ordinal",title:"Most Frequent Bin"},{field:"Frequency_of_Most_Frequent_Bin",type:"ordinal",title:"Frequency of Most Frequent Bin"},...o]}}]};r.visModel.showInvalidValues=="off"&&delete d.layer[0].encoding.color.condition,f==yme&&delete d.layer[0].encoding.opacity,f==Gq&&(d.layer[0].mark.fill="black",delete d.layer[0].encoding.color),r.baseGeoVisSpec.concat.push(d)})}getMapTooltip(){let r=this,i=[];return i.push({field:r.visModel.dataset.feature,type:"quantitative",title:r.visModel.dataset.feature,format:".2f"}),i.push({field:r.visModel.dataset.primaryKey,type:"nominal",title:r.visModel.dataset.primaryKey}),r.visModel.dataset.labelFeatures.forEach(function(o){i.push({field:o,type:"nominal",title:o})}),i}prepareResiliencyVIS(r){let i=this,o=i.resiliencyVisContainer.nativeElement.parentNode.offsetWidth-10-30-90,a=o*.66,s={width:o,height:a,layer:[{title:{text:"Resiliency",subtitle:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],limit:o-20,fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:i.visModel.dataset.mapProjection,fit:i.visModel.baseDataFeatureCollection,center:i.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:i.visModel.showInvalidValues=="on"?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['"+i.visModel.dataset.feature+"'])",value:i.visModel.invalidValuesColor},field:i.visModel.dataset.feature,type:"quantitative",legend:{title:null,format:".3f",labelFontSize:16},scale:r},tooltip:i.getMapTooltip()}}]};i.baseGeoVisSpec.concat.push(s)}renderAttrDistributionVisSpec(){let r=this,i=null,o=20,a=r.attrDistributionVisContainer.nativeElement.offsetWidth-60;a=r.visModel.showInvalidValues=="off"?a:a-4*o;let s=a*.4,l=r.getDataShape("invalid"),u=[0,r.visModel.binMaxCount>l?r.visModel.binMaxCount:l];i={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:r.visModel.histogramBins},config:{concat:{spacing:0}},concat:[{width:a,height:s,mark:{type:"bar",tooltip:{content:"data"}},encoding:{x:{field:"bin_start",bin:{binned:!0},title:null,type:"quantitative",axis:{labelFontSize:12,titleFontSize:14}},x2:{field:"bin_end",axis:{labelFontSize:12,titleFontSize:14}},y:{field:"count",title:"count",type:"quantitative",scale:{domain:u},axis:{formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}},tooltip:[{field:"bin_start",type:"quantitative",format:".2f"},{field:"bin_end",type:"quantitative",format:".2f"},{field:"count",type:"quantitative"}]}}]},r.visModel.showInvalidValues=="on"&&i.concat.push({width:o,height:s,data:{values:[{field:"NaN/nulls",invalidCount:l}]},mark:{type:"bar",tooltip:{content:"invalidCount"}},encoding:{x:{field:"field",type:"nominal",title:null,axis:{labelAngle:"0",labelFontSize:12,titleFontSize:14}},y:{field:"invalidCount",type:"quantitative",title:"count",scale:{domain:u},axis:{orient:"right",formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}}}}),TM("#attrDistributionVisContainer",i,r.appConfig.vegaLiteOptions).then(c=>{}).catch(console.warn)}prepareBaseVISSpec(){let r=this;r.baseGeoVisSpec=JSON.parse(JSON.stringify(gme)),r.baseGeoVisSpec.columns=1,r.baseGeoVisSpec.data.url=Hv.dataPath+r.visModel.dataset.geoFile,delete r.baseGeoVisSpec.transform[0].from.data.url,r.baseGeoVisSpec.transform[0].from.data.values=r.visModel.featureRawDataWithNaNsJSON,r.baseGeoVisSpec.transform[0].from.key=r.visModel.dataset.primaryKey,r.baseGeoVisSpec.transform[0].lookup=r.visModel.dataset.topoPrimaryKey,r.baseGeoVisSpec.data.format.feature=r.visModel.dataset.topoFeatureRootKey,r.baseGeoVisSpec.transform[0].from.fields=[r.visModel.dataset.primaryKey,...r.visModel.dataset.labelFeatures,...r.visModel.dataset.features]}renderVIS(){let r=this;r.visModel.binningMethodsForResiliency=r.getValidBinningMethodForResiliency(),r.visModel.resiliency=r.visModel.binGuruObj.resiliency(r.visModel.binningMethodsForResiliency,{});let i={};i.domain=r.visModel.resiliency.binBreaks,i.type="threshold",i.scheme=r.getColorScheme(),r.visModel.frequentBins={},Object.values(r.visModel.resiliency.mostFrequentBins).forEach(function(o,a){let s=r.visModel.primaryKeys[a];r.visModel.frequentBins[s]=o}),r.visModel.frequencyOfBins={},Object.values(r.visModel.resiliency.frequencyOfMostFrequentBins).forEach(function(o,a){let s=r.visModel.primaryKeys[a];r.visModel.frequencyOfBins[s]=o}),r.prepareBaseVISSpec(),r.prepareSpecialVIS(),TM("#compareBinFrequencyVisContainer",r.baseGeoVisSpec,r.appConfig.vegaLiteOptions).then(o=>{}).catch(console.warn),r.prepareBaseVISSpec(),r.prepareResiliencyVIS(i),TM("#resiliencyVisContainer",r.baseGeoVisSpec,r.appConfig.vegaLiteOptions).then(o=>{}).catch(console.warn)}updateDataset(){let r=this;Promise.all([ek(Hv.dataPath+r.visModel.dataset.geoFile),JR(Hv.dataPath+r.visModel.dataset.featureFile,function(i){return r.visModel.dataMap.set(i[r.visModel.dataset.primaryKey],i),i})]).then(function(i){let o=i[0],a=i[1];r.visModel.primaryKeys=[],r.visModel.featureData={},r.visModel.featureDataNaNs={},r.visModel.featureRawDataWithNaNs={},r.visModel.featureRawDataWithNaNsJSON=[],r.visModel.baseDataFeatureCollection=b4(o,o.objects[r.visModel.dataset.topoFeatureRootKey]).features,a.forEach(function(s){let l={};r.visModel.primaryKeys.push(s[r.visModel.dataset.primaryKey]),Object.keys(s).forEach(function(u){u in r.visModel.featureData||(r.visModel.featureData[u]=[]),u in r.visModel.featureDataNaNs||(r.visModel.featureDataNaNs[u]=0),u in r.visModel.featureRawDataWithNaNs||(r.visModel.featureRawDataWithNaNs[u]=[]);let c=parseFloat(s[u]);Number.isNaN(c)?(r.visModel.featureDataNaNs[u]++,r.visModel.featureRawDataWithNaNs[u].push(s[u])):(r.visModel.featureData[u].push(c),r.visModel.featureRawDataWithNaNs[u].push(c)),r.visModel.dataset.features.indexOf(u)!==-1?l[u]=Number.isNaN(c)||c==null?NaN:c:l[u]=s[u]}),r.visModel.featureRawDataWithNaNsJSON.push(l)}),r.updateAllVis()})}updateAllVis(){let r=this,i=r.visModel.featureRawDataWithNaNs[r.visModel.dataset.feature];if(!i)return;let o=r.visModel.binCount;r.visModel.binGuruObj=new ow(i,o);let a=r.visModel.binGuruObj.min,s=r.visModel.binGuruObj.max,l=r.visModel.binGuruObj.minSortedData,u=[],c=(s-a)/o;[...Array(o).keys()].forEach(function(m){u.push(a+c*(m+1))});var f=Ib().value(m=>m).thresholds(u);let d=[],p=0;f(l).forEach(function(m){p<m.length&&(p=m.length),d.push({bin_start:m.x0,bin_end:m.x1,count:m.length})}),r.visModel.binMaxCount=p,r.visModel.histogramBins=d,r.renderAttrDistributionVisSpec(),r.renderVIS()}ngOnInit(){}ngAfterViewInit(){this.updateDataset()}ngOnDestroy(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=hi({type:e,selectors:[["resiliency-app"]],viewQuery:function(i,o){if(i&1&&(Ni(UYe,5,_o),Ni(zYe,5,_o),Ni(VYe,5,_o),Ni(qYe,5),Ni(HYe,5)),i&2){let a;dr(a=pr())&&(o.compareBinFrequencyVisContainer=a.first),dr(a=pr())&&(o.resiliencyVisContainer=a.first),dr(a=pr())&&(o.attrDistributionVisContainer=a.first),dr(a=pr())&&(o.downloadImageCanvas=a.first),dr(a=pr())&&(o.downloadLink=a.first)}},standalone:!1,features:[mi([])],decls:6,vars:5,consts:[["panel",""],["attrDistributionVisContainer",""],["resiliencyVisContainer",""],["compareBinFrequencyVisContainer",""],[1,"h-full","w-100"],["styleClass","h-100",3,"panelSizes"],[1,"p-md"],["pTooltip","This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning methods.","showDelay","0",1,"mb-0",3,"escape"],["target","_blank","href","https://github.com/exploropleth/binguru"],["target","_blank","href","https://narechania.com/docs/publications/resiliency_giscience_2023.pdf"],[1,"overflow","p-md",2,"height","calc(100vh - 100px)"],[1,"form-group"],["showDelay","0",1,"fa","fa-database",3,"escape"],["pTooltip","Configure datasets by selecting an existing one or uploading your own. Hover on the configuration name to know more","showDelay","0",2,"cursor","help",3,"escape"],["appendTo","body","optionLabel","feature","optionGroupLabel","name",3,"ngModelChange","onChange","ngModelOptions","ngModel","options","optionGroupChildren"],[1,"mt-sm","text-center"],[1,"text-muted"],[1,"form-check","form-check-inline","mr-0"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOn","value","on",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","showInvalidValuesOn",1,"form-check-label"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOff","value","off",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","showInvalidValuesOff",1,"form-check-label"],["id","attrDistributionVisContainer",1,"w-100","mt-sm"],["width","16",2,"margin-top","-4px",3,"src"],["pTooltip","Pick one or more of these binning methods to compare by overlaying their bin sizes and bin breaks; note that these methods all have a fixed number of bins to be comparable.","showDelay","0",2,"cursor","help",3,"escape"],[1,"float-right"],["pTooltip","Only applicable for <b>Equal Interval</b>, <b>Quantile</b>, <b>Maximum Breaks</b>, <b>Natural Breaks</b>, <b>CK-Means</b>, and <b>Geometric Interval</b>","showDelay","0",2,"cursor","help",3,"escape"],["type","number","step","1","min","1","max","12","name","binCount","id","binCount",3,"change","ngModelChange","ngModel"],[2,"clear","both"],[1,"mt-sm"],["class","form-check",4,"ngFor","ngForOf"],[1,"fa","fa-palette"],["pTooltip","Options to configure the color scheme for the choropleth maps. Hover on the configuration name to know more.","showDelay","0",2,"cursor","help",3,"escape"],[1,"table-sm","w-100"],[2,"width","35%"],["pTooltip","The base color scheme for valid (non NaN/null) values; optionally, reverse the scheme as per needs.","showDelay","0",2,"cursor","help",3,"escape"],["appendTo","body","optionLabel","sname","optionGroupLabel","name",3,"onChange","ngModelChange","ngModelOptions","ngModel","options","optionGroupChildren"],["pTemplate","option"],["pTemplate","value"],["pTooltip","The color to be used for invalid (NaN/null) values","showDelay","0",2,"cursor","help",3,"escape"],[3,"ngModelChange","ngModelOptions","ngModel","disabled"],[1,"fa","fa-magic"],["pTooltip","Indicators that are relevant to Resiliency will be listed here.","showDelay","0",2,"cursor","help",3,"escape"],["pTooltip","This indicator, currently in beta, could potentially indicate how bouncy/stable a map is when we compute the Average Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],["pTooltip","This indicator, currently in beta, shows the Max Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],["pTooltip","This indicator, currently in beta, shows the Min Frequency of the Most Consistent Bin.","showDelay","0",2,"cursor","help",3,"escape"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","disabled","ngModel","ngModelOptions","id"],[1,"form-check-label",3,"for"],[1,"p-xs"],["height","20","width","150",3,"src",4,"ngIf"],["height","20","width","150",3,"src"],[4,"ngIf"],["height","15","width","40",3,"src"],[1,"p-sm","w-100","overflow"],["id","resiliencyVisContainer",1,"text-center"],["id","compareBinFrequencyVisContainer",1,"text-center"]],template:function(i,o){i&1&&(Ht(0,"div",4)(1,"p-splitter",5),tr(2,eXe,113,43,"ng-template",null,0,Od)(4,tXe,6,0,"ng-template",null,0,Od),en()()),i&2&&(It(),oy(Xu(3,GYe)),Ut("panelSizes",Xu(4,jYe)))},dependencies:[op,pu,kG,Py,CT,bT,ET,CG,EG,AT,DT,ST,_T,h6,cp,zj,eb,m6],styles:["#visContainer{width:100%}  .hovered{stroke-width:2px!important;stroke:#000!important}  hr{margin-top:8px;margin-bottom:12px}  div.tooltip{position:absolute;max-width:250px;padding:8px;font:14px sans-serif;background:#fff;border:1.5px solid #ccc;border-radius:8px;pointer-events:none}  .colorSwatch{width:20px;height:20px;display:inline-block;margin-right:4px;border:1px solid black}  .selectedColorSwatch{border:3px solid black}"]})}return e})();var nXe=[{path:"",redirectTo:"/app",pathMatch:"full"},{path:"app",component:OM},{path:"**",redirectTo:"/app",pathMatch:"full"}],wme=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e});static \u0275inj=Nn({imports:[Rb.forRoot(nXe,{scrollPositionRestoration:"enabled",useHash:!0}),Rb]})}return e})();var _me=(()=>{class e{constructor(){}ngAfterViewInit(){}ngOnInit(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=hi({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(i,o){i&1&&Vr(0,"router-outlet")},dependencies:[R6],styles:[".h-full{height:100vh!important}  .display-inline-block{display:inline-block!important}  .display-inline{display:inline!important}  .overflow{overflow:auto!important}  .overflow-x{overflow-x:auto!important}  .overflow-y{overflow-y:auto!important}  .nowrap{white-space:nowrap!important}  .float-left{float:left!important}  .float-right{float:right!important}  .cursor-pointer{cursor:pointer}  .cursor-move{cursor:move}  .vspace-lg{margin-top:24px}  .vspace-md{margin-top:16px}  .vspace-sm{margin-top:8x}  .mb-xs{margin-bottom:4px}  .mt-xs{margin-top:4px}  .ml-xs{margin-left:4px}  .mr-xs{margin-right:4px}  .mb-sm{margin-bottom:8px}  .mt-sm{margin-top:8px}  .ml-sm{margin-left:8px}  .mr-sm{margin-right:8px}  .mb-md{margin-bottom:16px!important}  .mt-md{margin-top:16px}  .ml-md{margin-left:16px}  .mr-md{margin-right:16px}  .mw-md{margin-left:16px;margin-right:16px}  .mw-sm{margin-left:8px;margin-right:8px}  .mw-xs{margin-left:4px;margin-right:4px}  .mw-lg{margin-left:24px;margin-right:24px}  .m-none{margin:0}  .p-xs{padding:4px}  .p-sm{padding:8px}  .pb-sm{padding-bottom:8px}  .pt-sm{padding-top:8px}  .pl-sm{padding-left:8px}  .pr-sm{padding-right:8px}  .pb-xs{padding-bottom:4px}  .pt-xs{padding-top:4px}  .pl-xs{padding-left:4px}  .pr-xs{padding-right:4px}  .p-md{padding:16px}  .pb-md{padding-bottom:16px}  .pt-md{padding-top:16px}  .pl-md{padding-left:16px}  .pr-md{padding-right:16px}  .pw-md{padding-left:16px;padding-right:16px}  .pw-sm{padding-left:8px;padding-right:8px}  .pw-xs{padding-left:4px;padding-right:4px}  .pw-lg{padding-left:24px;padding-right:24px}  .p-none{padding:0}  .pt-0{padding-top:0}  .center-all{display:flex;align-items:center;justify-content:center}  #vg-tooltip-element{z-index:2000}"]})}return e})();var Sme=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=In({type:e,bootstrap:[_me]});static \u0275inj=Nn({providers:[lG,OM,hT(mT()),Wj(),Aj({theme:{preset:TY}})],imports:[lT,IG,wme,rj,$j,Vj,Hj,jj]})}return e})();var Cme={production:!0};Cme.production&&void 0;sT().bootstrapModule(Sme).catch(e=>console.error(e));
