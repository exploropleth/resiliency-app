(self.webpackChunkresiliency_app=self.webpackChunkresiliency_app||[]).push([[179],{557:(Ya,Hl,vr)=>{"use strict";var Hs={};vr.r(Hs),vr.d(Hs,{aggregate:()=>o1,bin:()=>Sk,collect:()=>Bk,compare:()=>Zoe,countpattern:()=>xk,cross:()=>Dk,density:()=>Fk,dotbin:()=>Tk,expression:()=>oae,extent:()=>Ik,facet:()=>OC,field:()=>aae,filter:()=>Ok,flatten:()=>Rk,fold:()=>kk,formula:()=>Pk,generate:()=>lae,impute:()=>Uk,joinaggregate:()=>Lk,kde:()=>Qk,key:()=>uae,load:()=>cae,lookup:()=>Vk,multiextent:()=>fae,multivalues:()=>Aae,params:()=>dae,pivot:()=>$k,prefacet:()=>hae,project:()=>Gk,proxy:()=>pae,quantile:()=>zk,relay:()=>gae,sample:()=>qk,sequence:()=>jk,sieve:()=>mae,subflow:()=>Nk,timeunit:()=>Kk,tupleindex:()=>_ae,values:()=>yae,window:()=>Wk});var ie={};vr.r(ie),vr.d(ie,{interpolate:()=>fm,interpolateArray:()=>LGe,interpolateBasis:()=>Jae,interpolateBasisClosed:()=>Zae,interpolateCubehelix:()=>Vqe,interpolateCubehelixLong:()=>$qe,interpolateDate:()=>ile,interpolateDiscrete:()=>Bqe,interpolateHcl:()=>Qqe,interpolateHclLong:()=>Hqe,interpolateHsl:()=>kqe,interpolateHslLong:()=>Pqe,interpolateHue:()=>xqe,interpolateLab:()=>Lqe,interpolateNumber:()=>IA,interpolateNumberArray:()=>fP,interpolateObject:()=>sle,interpolateRgb:()=>cP,interpolateRgbBasis:()=>PGe,interpolateRgbBasisClosed:()=>UGe,interpolateRound:()=>WC,interpolateString:()=>ole,interpolateTransformCss:()=>Mqe,interpolateTransformSvg:()=>Tqe,interpolateZoom:()=>Rqe,piecewise:()=>xP,quantize:()=>Gqe});var M={};vr.r(M),vr.d(M,{bound:()=>Qfe,identifier:()=>XU,mark:()=>Vfe,overlap:()=>$fe,render:()=>Wfe,viewlayout:()=>tAe});var Dr={};vr.r(Dr),vr.d(Dr,{axisticks:()=>uAe,datajoin:()=>cAe,encode:()=>fAe,legendentries:()=>AAe,linkpath:()=>rL,pie:()=>iL,scale:()=>vAe,sortitems:()=>wAe,stack:()=>oL});var kr={};vr.r(kr),vr.d(kr,{contour:()=>JL,geojson:()=>tQ,geopath:()=>nQ,geopoint:()=>rQ,geoshape:()=>iQ,graticule:()=>sQ,heatmap:()=>oQ,isocontour:()=>WL,kde2d:()=>XL,projection:()=>whe});var xe={};vr.r(xe),vr.d(xe,{force:()=>cQ});var Tt={};vr.r(Tt),vr.d(Tt,{nest:()=>_Q,pack:()=>wQ,partition:()=>CQ,stratify:()=>EQ,tree:()=>BQ,treelinks:()=>xQ,treemap:()=>FQ});var Vn={};vr.r(Vn),vr.d(Vn,{label:()=>LQ});var Hn={};vr.r(Hn),vr.d(Hn,{loess:()=>QQ,regression:()=>VQ});var Pr={};vr.r(Pr),vr.d(Pr,{voronoi:()=>mH});var Nt={};vr.r(Nt),vr.d(Nt,{wordcloud:()=>_H});var ve={};vr.r(ve),vr.d(ve,{crossfilter:()=>yH,resolvefilter:()=>wH});var _t={};vr.r(_t),vr.d(_t,{Bounds:()=>Ia,CanvasHandler:()=>b_,CanvasRenderer:()=>LE,DATE:()=>uc,DAY:()=>ru,DAYOFYEAR:()=>Jd,Dataflow:()=>P3,Debug:()=>yie,Error:()=>zO,EventStream:()=>CC,Gradient:()=>ice,GroupItem:()=>pE,HOURS:()=>Hc,Handler:()=>DU,HybridHandler:()=>_fe,HybridRenderer:()=>QU,Info:()=>_ie,Item:()=>hE,MILLISECONDS:()=>FA,MINUTES:()=>Vc,MONTH:()=>nu,Marks:()=>Gc,MultiPulse:()=>JR,None:()=>vie,Operator:()=>go,Parameters:()=>bC,Pulse:()=>s1,QUARTER:()=>lc,RenderType:()=>y1,Renderer:()=>y_,ResourceLoader:()=>pce,SECONDS:()=>kf,SVGHandler:()=>efe,SVGRenderer:()=>LU,SVGStringRenderer:()=>vfe,Scenegraph:()=>Vce,TIME_UNITS:()=>vR,Transform:()=>Ut,View:()=>N1e,WEEK:()=>$a,Warn:()=>qO,YEAR:()=>Tl,accessor:()=>oc,accessorFields:()=>Jl,accessorName:()=>fa,array:()=>ar,ascending:()=>B3,bandwidthNRD:()=>sk,bin:()=>Toe,bootstrapCI:()=>Ioe,boundClip:()=>Ffe,boundContext:()=>d_,boundItem:()=>BU,boundMark:()=>Uce,boundStroke:()=>S0,changeset:()=>um,clampRange:()=>Iie,codegenExpression:()=>W0e,compare:()=>XO,constant:()=>tu,cumulativeLogNormal:()=>fk,cumulativeNormal:()=>FC,cumulativeUniform:()=>pk,dayofyear:()=>lse,debounce:()=>JO,defaultLocale:()=>UR,definition:()=>Eoe,densityLogNormal:()=>ck,densityNormal:()=>ok,densityUniform:()=>hk,domChild:()=>za,domClear:()=>zf,domCreate:()=>v1,domFind:()=>xU,dotbin:()=>Noe,error:()=>Yt,expressionFunction:()=>ba,extend:()=>Oi,extent:()=>Xd,extentIndex:()=>Nie,falsy:()=>Jp,fastmap:()=>x3,field:()=>Of,flush:()=>Oie,font:()=>DE,fontFamily:()=>v_,fontSize:()=>oh,format:()=>pC,formatLocale:()=>dC,formats:()=>qR,hasOwnProperty:()=>pr,id:()=>p6,identity:()=>Zl,inferType:()=>ooe,inferTypes:()=>aoe,ingest:()=>Qs,inherits:()=>Gn,inrange:()=>D3,interpolate:()=>jP,interpolateColors:()=>uE,interpolateRange:()=>Hue,intersect:()=>Sfe,intersectBoxLine:()=>J3,intersectPath:()=>fU,intersectPoint:()=>AU,intersectRule:()=>Cce,isArray:()=>Zt,isBoolean:()=>Zp,isDate:()=>e1,isFunction:()=>Ni,isIterable:()=>Rie,isNumber:()=>Ns,isObject:()=>sr,isRegExp:()=>ZO,isString:()=>or,isTuple:()=>_C,key:()=>eR,lerp:()=>kie,lineHeight:()=>g1,loader:()=>gC,locale:()=>roe,logger:()=>jO,lruCache:()=>Pie,markup:()=>UU,merge:()=>Uie,mergeConfig:()=>E3,multiLineOffset:()=>CU,one:()=>C3,pad:()=>Lie,panLinear:()=>Bie,panLog:()=>xie,panPow:()=>Die,panSymlog:()=>Fie,parse:()=>qct,parseExpression:()=>q0e,parseSelector:()=>P1,path:()=>$C,pathCurves:()=>ZP,pathEqual:()=>Mfe,pathParse:()=>W3,pathRectangle:()=>fce,pathRender:()=>l_,pathSymbols:()=>cce,pathTrail:()=>Ace,peek:()=>ds,point:()=>ME,projection:()=>GL,quantileLogNormal:()=>Ak,quantileNormal:()=>MC,quantileUniform:()=>gk,quantiles:()=>rk,quantizeInterpolator:()=>Vue,quarter:()=>Mie,quartiles:()=>ik,random:()=>Qf,randomInteger:()=>MVe,randomKDE:()=>lk,randomLCG:()=>FVe,randomLogNormal:()=>Roe,randomMixture:()=>koe,randomNormal:()=>ak,randomUniform:()=>Poe,read:()=>foe,regressionConstant:()=>mk,regressionExp:()=>Loe,regressionLinear:()=>vk,regressionLoess:()=>Goe,regressionLog:()=>Uoe,regressionPoly:()=>Hoe,regressionPow:()=>Qoe,regressionQuad:()=>_k,renderModule:()=>$E,repeat:()=>g6,resetDefaultLocale:()=>yHe,resetSVGClipId:()=>hce,resetSVGDefIds:()=>iYe,responseType:()=>coe,runtimeContext:()=>c1e,sampleCurve:()=>IC,sampleLogNormal:()=>uk,sampleNormal:()=>DC,sampleUniform:()=>dk,scale:()=>ks,sceneEqual:()=>VU,sceneFromJSON:()=>Qce,scenePickVisit:()=>bE,sceneToJSON:()=>Lce,sceneVisit:()=>RA,sceneZOrder:()=>dU,scheme:()=>KP,serializeXML:()=>ffe,setHybridRendererOptions:()=>eYe,setRandom:()=>xVe,span:()=>m6,splitAccessPath:()=>Yd,stringValue:()=>Un,textMetrics:()=>$c,timeBin:()=>xse,timeFloor:()=>pse,timeFormatLocale:()=>U6,timeInterval:()=>T3,timeOffset:()=>vse,timeSequence:()=>wse,timeUnitSpecifier:()=>ase,timeUnits:()=>yR,toBoolean:()=>tR,toDate:()=>nR,toNumber:()=>eu,toSet:()=>DA,toString:()=>rR,transform:()=>Soe,transforms:()=>U3,truncate:()=>Qie,truthy:()=>Rf,tupleid:()=>jr,typeParsers:()=>$R,utcFloor:()=>gse,utcInterval:()=>I3,utcOffset:()=>_se,utcSequence:()=>bse,utcdayofyear:()=>fse,utcquarter:()=>Tie,utcweek:()=>Ase,version:()=>jct,visitArray:()=>t1,week:()=>use,writeConfig:()=>S3,zero:()=>Xp,zoomLinear:()=>KO,zoomLog:()=>WO,zoomPow:()=>oC,zoomSymlog:()=>YO});var Xn={};vr.r(Xn),vr.d(Xn,{accessPathDepth:()=>G4,accessPathWithDatum:()=>r$,accessWithDatumToUnescapedPath:()=>eo,compile:()=>T2t,contains:()=>Yi,deepEqual:()=>rf,deleteNestedProperty:()=>cx,duplicate:()=>yi,entries:()=>L1,every:()=>ZV,fieldIntersection:()=>n$,flatAccessWithDatum:()=>Qge,getFirstDefined:()=>Ca,hasIntersection:()=>e$,hasProperty:()=>Bn,hash:()=>os,internalField:()=>$ge,isBoolean:()=>Q9,isEmpty:()=>oo,isEqual:()=>oft,isInternalField:()=>Gge,isNullOrFalse:()=>JV,isNumeric:()=>fx,keys:()=>fn,logicalExpr:()=>H9,mergeDeep:()=>Uge,never:()=>Pge,normalize:()=>Bve,normalizeAngle:()=>$9,omit:()=>yc,pick:()=>H4,prefixGenerator:()=>t$,removePathFromField:()=>$4,replaceAll:()=>Jm,replacePathInField:()=>Zf,resetIdCounter:()=>lft,setEqual:()=>Lge,some:()=>V4,stringify:()=>ao,titleCase:()=>V9,unique:()=>Ch,uniqueId:()=>Vge,vals:()=>Rl,varName:()=>$o,version:()=>O2t});var Lt={};function mn(e){return"function"==typeof e}vr.r(Lt),vr.d(Lt,{carbong10:()=>Ivt,carbong100:()=>Ovt,carbong90:()=>Nvt,carbonwhite:()=>Tvt,dark:()=>tvt,excel:()=>nvt,fivethirtyeight:()=>svt,ggplot2:()=>ovt,googlecharts:()=>vvt,latimes:()=>cvt,powerbi:()=>xvt,quartz:()=>fvt,urbaninstitute:()=>mvt,version:()=>Rvt,vox:()=>Avt});let rn=!1;const vn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else rn&&console.log("RxJS: Back to a better error behavior. Thank you. <3");rn=e},get useDeprecatedSynchronousErrorHandling(){return rn}};function ze(e){setTimeout(()=>{throw e},0)}const Kt={closed:!0,next(e){},error(e){if(vn.useDeprecatedSynchronousErrorHandling)throw e;ze(e)},complete(){}},Wn=Array.isArray||(e=>e&&"number"==typeof e.length);function Yr(e){return null!==e&&"object"==typeof e}const Gr=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class Mn{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:r,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof Mn)r.remove(this);else if(null!==r)for(let a=0;a<r.length;++a)r[a].remove(this);if(mn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof Gr?Je(a.errors):[a]}}if(Wn(o)){let a=-1,l=o.length;for(;++a<l;){const u=o[a];if(Yr(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof Gr?t=t.concat(Je(c.errors)):t.push(c)}}}if(t)throw new Gr(t)}add(t){let r=t;if(!t)return Mn.EMPTY;switch(typeof t){case"function":r=new Mn(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof Mn)){const o=r;r=new Mn,r._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=r;if(null===i)r._parentOrParents=this;else if(i instanceof Mn){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r}remove(t){const r=this._subscriptions;if(r){const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}}var e;function Je(e){return e.reduce((t,r)=>t.concat(r instanceof Gr?r.errors:r),[])}Mn.EMPTY=((e=new Mn).closed=!0,e);const F="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class P extends Mn{constructor(t,r,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Kt;break;case 1:if(!t){this.destination=Kt;break}if("object"==typeof t){t instanceof P?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,t,r,i)}}[F](){return this}static create(t,r,i){const s=new P(t,r,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class q extends P{constructor(t,r,i,s){super(),this._parentSubscriber=t;let o,a=this;mn(r)?o=r:r&&(o=r.next,i=r.error,s=r.complete,r!==Kt&&(a=Object.create(r),mn(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;vn.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:i}=vn;if(this._error)i&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=t,r.syncErrorThrown=!0):ze(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;ze(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const r=()=>this._complete.call(this._context);vn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,r){try{t.call(this._context,r)}catch(i){if(this.unsubscribe(),vn.useDeprecatedSynchronousErrorHandling)throw i;ze(i)}}__tryOrSetError(t,r,i){if(!vn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(s){return vn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(ze(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const ye="function"==typeof Symbol&&Symbol.observable||"@@observable";function Te(e){return e}let Ke=(()=>{class e{constructor(r){this._isScalar=!1,r&&(this._subscribe=r)}lift(r){const i=new e;return i.source=this,i.operator=r,i}subscribe(r,i,s){const{operator:o}=this,a=function ce(e,t,r){if(e){if(e instanceof P)return e;if(e[F])return e[F]()}return e||t||r?new P(e,t,r):new P(Kt)}(r,i,s);if(a.add(o?o.call(a,this.source):this.source||vn.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),vn.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(r){try{return this._subscribe(r)}catch(i){vn.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=i),function re(e){for(;e;){const{closed:t,destination:r,isStopped:i}=e;if(t||i)return!1;e=r&&r instanceof P?r:null}return!0}(r)?r.error(i):console.warn(i)}}forEach(r,i){return new(i=Bt(i))((s,o)=>{let a;a=this.subscribe(l=>{try{r(l)}catch(u){o(u),a&&a.unsubscribe()}},o,s)})}_subscribe(r){const{source:i}=this;return i&&i.subscribe(r)}[ye](){return this}pipe(...r){return 0===r.length?this:function Pe(e){return 0===e.length?Te:1===e.length?e[0]:function(r){return e.reduce((i,s)=>s(i),r)}}(r)(this)}toPromise(r){return new(r=Bt(r))((i,s)=>{let o;this.subscribe(a=>o=a,a=>s(a),()=>i(o))})}}return e.create=t=>new e(t),e})();function Bt(e){if(e||(e=vn.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const Gt=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class pn extends Mn{constructor(t,r){super(),this.subject=t,this.subscriber=r,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,r=t.observers;if(this.subject=null,!r||0===r.length||t.isStopped||t.closed)return;const i=r.indexOf(this.subscriber);-1!==i&&r.splice(i,1)}}class Tn extends P{constructor(t){super(t),this.destination=t}}let At=(()=>{class e extends Ke{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[F](){return new Tn(this)}lift(r){const i=new nr(this,this);return i.operator=r,i}next(r){if(this.closed)throw new Gt;if(!this.isStopped){const{observers:i}=this,s=i.length,o=i.slice();for(let a=0;a<s;a++)o[a].next(r)}}error(r){if(this.closed)throw new Gt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;const{observers:i}=this,s=i.length,o=i.slice();for(let a=0;a<s;a++)o[a].error(r);this.observers.length=0}complete(){if(this.closed)throw new Gt;this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(r){if(this.closed)throw new Gt;return super._trySubscribe(r)}_subscribe(r){if(this.closed)throw new Gt;return this.hasError?(r.error(this.thrownError),Mn.EMPTY):this.isStopped?(r.complete(),Mn.EMPTY):(this.observers.push(r),new pn(this,r))}asObservable(){const r=new Ke;return r.source=this,r}}return e.create=(t,r)=>new nr(t,r),e})();class nr extends At{constructor(t,r){super(),this.destination=t,this.source=r}next(t){const{destination:r}=this;r&&r.next&&r.next(t)}error(t){const{destination:r}=this;r&&r.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:r}=this;return r?this.source.subscribe(t):Mn.EMPTY}}function qn(e){return e&&"function"==typeof e.schedule}function xn(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Ur(e,t))}}class Ur{constructor(t,r){this.project=t,this.thisArg=r}call(t,r){return r.subscribe(new ai(t,this.project,this.thisArg))}}class ai extends P{constructor(t,r,i){super(t),this.project=r,this.count=0,this.thisArg=i||this}_next(t){let r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(r)}}const cn=e=>t=>{for(let r=0,i=e.length;r<i&&!t.closed;r++)t.next(e[r]);t.complete()},Lr=function zr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Ue=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const Ct=e=>{if(e&&"function"==typeof e[ye])return(e=>t=>{const r=e[ye]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)})(e);if(Ue(e))return cn(e);if(pt(e))return(e=>t=>(e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,ze),t))(e);if(e&&"function"==typeof e[Lr])return(e=>t=>{const r=e[Lr]();for(;;){let i;try{i=r.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof r.return&&t.add(()=>{r.return&&r.return()}),t})(e);{const r=`You provided ${Yr(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(r)}};function Le(e,t){return new Ke(r=>{const i=new Mn;let s=0;return i.add(t.schedule(function(){s!==e.length?(r.next(e[s++]),r.closed||i.add(this.schedule())):r.complete()})),i})}function Qe(e,t){return t?function we(e,t){if(null!=e){if(function L(e){return e&&"function"==typeof e[ye]}(e))return function kt(e,t){return new Ke(r=>{const i=new Mn;return i.add(t.schedule(()=>{const s=e[ye]();i.add(s.subscribe({next(o){i.add(t.schedule(()=>r.next(o)))},error(o){i.add(t.schedule(()=>r.error(o)))},complete(){i.add(t.schedule(()=>r.complete()))}}))})),i})}(e,t);if(pt(e))return function $e(e,t){return new Ke(r=>{const i=new Mn;return i.add(t.schedule(()=>e.then(s=>{i.add(t.schedule(()=>{r.next(s),i.add(t.schedule(()=>r.complete()))}))},s=>{i.add(t.schedule(()=>r.error(s)))}))),i})}(e,t);if(Ue(e))return Le(e,t);if(function ue(e){return e&&"function"==typeof e[Lr]}(e)||"string"==typeof e)return function an(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ke(r=>{const i=new Mn;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=e[Lr](),i.add(t.schedule(function(){if(r.closed)return;let o,a;try{const l=s.next();o=l.value,a=l.done}catch(l){return void r.error(l)}a?r.complete():(r.next(o),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof Ke?e:new Ke(Ct(e))}class Ye extends P{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class nt extends P{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function dt(e,t){if(t.closed)return;if(e instanceof Ke)return e.subscribe(t);let r;try{r=Ct(e)(t)}catch(i){t.error(i)}return r}function ct(e,t,r=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(ct((s,o)=>Qe(e(s,o)).pipe(xn((a,l)=>t(s,a,o,l))),r)):("number"==typeof t&&(r=t),i=>i.lift(new ht(e,r)))}class ht{constructor(t,r=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=r}call(t,r){return r.subscribe(new It(t,this.project,this.concurrent))}}class It extends nt{constructor(t,r,i=Number.POSITIVE_INFINITY){super(t),this.project=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let r;const i=this.index++;try{r=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(r)}_innerSub(t){const r=new Ye(this),i=this.destination;i.add(r);const s=dt(t,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function at(e=Number.POSITIVE_INFINITY){return ct(Te,e)}function lt(e,t){return t?Le(e,t):new Ke(cn(e))}function Jt(){return function(t){return t.lift(new sn(t))}}class sn{constructor(t){this.connectable=t}call(t,r){const{connectable:i}=this;i._refCount++;const s=new Jn(t,i),o=r.subscribe(s);return s.closed||(s.connection=i.connect()),o}}class Jn extends P{constructor(t,r){super(t),this.connectable=r}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const r=t._refCount;if(r<=0)return void(this.connection=null);if(t._refCount=r-1,r>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Dn extends Ke{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Mn,t.add(this.source.subscribe(new Zn(this.getSubject(),this))),t.closed&&(this._connection=null,t=Mn.EMPTY)),t}refCount(){return Jt()(this)}}const si=(()=>{const e=Dn.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Zn extends Tn{constructor(t,r){super(t),this.connectable=r}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const r=t._connection;t._refCount=0,t._subject=null,t._connection=null,r&&r.unsubscribe()}}}class Hr{constructor(t,r){this.subjectFactory=t,this.selector=r}call(t,r){const{selector:i}=this,s=this.subjectFactory(),o=i(s).subscribe(t);return o.add(r.subscribe(s)),o}}function qr(){return new At}function tn(e){for(let t in e)if(e[t]===tn)return t;throw Error("Could not find renamed property on target object.")}function Vr(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Sr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Sr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Z=tn({__forward_ref__:tn});function Y(e){return e.__forward_ref__=Y,e.toString=function(){return Sr(this())},e}function X(e){return me(e)?e():e}function me(e){return"function"==typeof e&&e.hasOwnProperty(Z)&&e.__forward_ref__===Y}class _e extends Error{constructor(t,r){super(function Ge(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function ke(e){return"string"==typeof e?e:null==e?"":String(e)}function rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ke(e)}function en(e,t){const r=t?` in ${t}`:"";throw new _e(-201,`No provider for ${rt(e)} found${r}`)}function Ji(e,t){null==e&&function li(e,t,r,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${r} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function gn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xa(e){return Rr(e,H)||Rr(e,ee)}function Rr(e,t){return e.hasOwnProperty(t)?e[t]:null}function N(e){return e&&(e.hasOwnProperty(j)||e.hasOwnProperty(Se))?e[j]:null}const H=tn({\u0275prov:tn}),j=tn({\u0275inj:tn}),ee=tn({ngInjectableDef:tn}),Se=tn({ngInjectorDef:tn});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Dt;function xt(e){const t=Dt;return Dt=e,t}function Ln(e,t,r){const i=Xa(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&Ne.Optional?null:void 0!==t?t:void en(Sr(e),"Injector")}function _n(e){return{toString:e}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),Wr=(()=>(function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Wr||(Wr={})),Wr))();const Nr="undefined"!=typeof globalThis&&globalThis,zi="undefined"!=typeof window&&window,Ds="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jr=Nr||"undefined"!=typeof global&&global||zi||Ds,ci={},Br=[],Fs=tn({\u0275cmp:tn}),Do=tn({\u0275dir:tn}),Ro=tn({\u0275pipe:tn}),Ws=tn({\u0275mod:tn}),Es=tn({\u0275fac:tn}),_i=tn({__NG_ELEMENT_ID__:tn});let uo=0;function Ys(e){return _n(()=>{const r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Br,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Wr.Emulated,id:"c",styles:e.styles||Br,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,o=e.features,a=e.pipes;return i.id+=uo++,i.inputs=tl(e.inputs,r),i.outputs=tl(e.outputs),o&&o.forEach(l=>l(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(bl):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Za):null,i})}function bl(e){return Ss(e)||function sa(e){return e[Do]||null}(e)}function Za(e){return function Cl(e){return e[Ro]||null}(e)}const el={};function ni(e){return _n(()=>{const t={type:e.type,bootstrap:e.bootstrap||Br,declarations:e.declarations||Br,imports:e.imports||Br,exports:e.exports||Br,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(el[e.id]=e.type),t})}function tl(e,t){if(null==e)return ci;const r={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),r[s]=i,t&&(t[s]=o)}return r}const Fn=Ys;function Ss(e){return e[Fs]||null}function Fi(e,t){const r=e[Ws]||null;if(!r&&!0===t)throw new Error(`Type ${Sr(e)} does not have '\u0275mod' property.`);return r}function Bs(e){return Array.isArray(e)&&"object"==typeof e[1]}function $l(e){return Array.isArray(e)&&!0===e[1]}function jo(e){return 0!=(8&e.flags)}function ff(e){return 2==(2&e.flags)}function yu(e){return 1==(1&e.flags)}function Ko(e){return null!==e.template}function w(e){return 0!=(512&e[2])}function Vi(e,t){return e.hasOwnProperty(Es)?e[Es]:null}class gs{constructor(t,r,i){this.previousValue=t,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function fi(){return Li}function Li(e){return e.type.prototype.ngOnChanges&&(e.setInput=mo),Fo}function Fo(){const e=fo(this),t=e?.current;if(t){const r=e.previous;if(r===ci)e.previous=t;else for(let i in t)r[i]=t[i];e.current=null,this.ngOnChanges(t)}}function mo(e,t,r,i){const s=fo(e)||function Wu(e,t){return e[vo]=t}(e,{previous:ci,current:null}),o=s.current||(s.current={}),a=s.previous,l=this.declaredInputs[r],u=a[l];o[l]=new gs(u&&u.currentValue,t,a===ci),e[i]=t}fi.ngInherit=!0;const vo="__ngSimpleChanges__";function fo(e){return e[vo]||null}const il="http://www.w3.org/2000/svg";let yo;function sl(){return void 0!==yo?yo:"undefined"!=typeof document?document:void 0}function ms(e){return!!e.listen}const aA={createRenderer:(e,t)=>sl()};function Vs(e){for(;Array.isArray(e);)e=e[0];return e}function hf(e,t){return Vs(t[e])}function Wo(e,t){return Vs(t[e.index])}function uA(e,t){return e.data[t]}function Yo(e,t){const r=t[e];return Bs(r)?r:r[0]}function I7(e){return 4==(4&e[2])}function y5(e){return 128==(128&e[2])}function wd(e,t){return null==t?null:e[t]}function N7(e){e[18]=0}function w5(e,t){e[5]+=t;let r=e,i=e[3];for(;null!==i&&(1===t&&1===r[5]||-1===t&&0===r[5]);)i[5]+=t,r=i,i=i[3]}const gi={lFrame:H7(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function O7(){return gi.bindingsEnabled}function dn(){return gi.lFrame.lView}function is(){return gi.lFrame.tView}function lr(e){return gi.lFrame.contextLView=e,e[8]}function ko(){let e=R7();for(;null!==e&&64===e.type;)e=e.parent;return e}function R7(){return gi.lFrame.currentTNode}function gf(e,t){const r=gi.lFrame;r.currentTNode=e,r.isParent=t}function C5(){return gi.lFrame.isParent}function E5(){gi.lFrame.isParent=!1}function P2(){return gi.isInCheckNoChangesMode}function U2(e){gi.isInCheckNoChangesMode=e}function El(){const e=gi.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function np(){return gi.lFrame.bindingIndex++}function mf(e){const t=gi.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function S5(e,t){const r=gi.lFrame;r.bindingIndex=r.bindingRootIndex=e,B5(t)}function B5(e){gi.lFrame.currentDirectiveIndex=e}function U7(){return gi.lFrame.currentQueryIndex}function D5(e){gi.lFrame.currentQueryIndex=e}function zD(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function L7(e,t,r){if(r&Ne.SkipSelf){let s=t,o=e;for(;!(s=s.parent,null!==s||r&Ne.Host||(s=zD(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;t=s,e=o}const i=gi.lFrame=Q7();return i.currentTNode=t,i.lView=e,!0}function $h(e){const t=Q7(),r=e[1];gi.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Q7(){const e=gi.lFrame,t=null===e?null:e.child;return null===t?H7(e):t}function H7(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function V7(){const e=gi.lFrame;return gi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $7=V7;function Q2(){const e=V7();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sl(){return gi.lFrame.selectedIndex}function bd(e){gi.lFrame.selectedIndex=e}function Po(){const e=gi.lFrame;return uA(e.tView,e.selectedIndex)}function cA(e,t){for(let r=t.directiveStart,i=t.directiveEnd;r<i;r++){const o=e.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=o;a&&(e.contentHooks||(e.contentHooks=[])).push(-r,a),l&&((e.contentHooks||(e.contentHooks=[])).push(r,l),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,l)),u&&(e.viewHooks||(e.viewHooks=[])).push(-r,u),c&&((e.viewHooks||(e.viewHooks=[])).push(r,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,c)),null!=f&&(e.destroyHooks||(e.destroyHooks=[])).push(r,f)}}function H2(e,t,r){q7(e,t,3,r)}function V2(e,t,r,i){(3&e[2])===r&&q7(e,t,r,i)}function $2(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function q7(e,t,r,i){const o=i??-1,a=t.length-1;let l=0;for(let u=void 0!==i?65535&e[18]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=i&&l>=i)break}else t[u]<0&&(e[18]+=65536),(l<o||-1==o)&&(JD(e,r,t,u),e[18]=(4294901760&e[18])+u+2),u++}function JD(e,t,r,i){const s=r[i]<0,o=r[i+1],l=e[s?-r[i]:r[i]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(l)}finally{}}}else try{o.call(l)}finally{}}class og{constructor(t,r,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}function G2(e,t,r){const i=ms(e);let s=0;for(;s<r.length;){const o=r[s];if("number"==typeof o){if(0!==o)break;s++;const a=r[s++],l=r[s++],u=r[s++];i?e.setAttribute(t,l,u,a):t.setAttributeNS(a,l,u)}else{const a=o,l=r[++s];z2(a)?i&&e.setProperty(t,a,l):i?e.setAttribute(t,a,l):t.setAttribute(a,l),s++}}return s}function j7(e){return 3===e||4===e||6===e}function z2(e){return 64===e.charCodeAt(0)}function q2(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?r=s:0===r||K7(e,r,s,null,-1===r||2===r?t[++i]:null)}}return e}function K7(e,t,r,i,s){let o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){const l=e[o++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=o-1;break}}}for(;o<e.length;){const l=e[o];if("number"==typeof l)break;if(l===r){if(null===i)return void(null!==s&&(e[o+1]=s));if(i===e[o+1])return void(e[o+2]=s)}o++,null!==i&&o++,null!==s&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,r),null!==i&&e.splice(o++,0,i),null!==s&&e.splice(o++,0,s)}function W7(e){return-1!==e}function rp(e){return 32767&e}function ip(e,t){let r=function nF(e){return e>>16}(e),i=t;for(;r>0;)i=i[15],r--;return i}let j2=!0;function ur(e){const t=j2;return j2=e,t}let vf=0;function sp(e,t){const r=op(e,t);if(-1!==r)return r;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Gh(i.data,e),Gh(t,null),Gh(i.blueprint,null));const s=W2(e,t),o=e.injectorIndex;if(W7(s)){const a=rp(s),l=ip(s,t),u=l[1].data;for(let c=0;c<8;c++)t[o+c]=l[a+c]|u[a+c]}return t[o+8]=s,o}function Gh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function op(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function W2(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,i=null,s=t;for(;null!==s;){const o=s[1],a=o.type;if(i=2===a?o.declTNode:1===a?s[6]:null,null===i)return-1;if(r++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return-1}function Y2(e,t,r){!function rF(e,t,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(_i)&&(i=r[_i]),null==i&&(i=r[_i]=vf++);const s=255&i;t.data[e+(s>>5)]|=1<<s}(e,t,r)}function Ed(e,t,r){if(r&Ne.Optional)return e;en(t,"NodeInjector")}function X2(e,t,r,i){if(r&Ne.Optional&&void 0===i&&(i=null),0==(r&(Ne.Self|Ne.Host))){const s=e[9],o=xt(void 0);try{return s?s.get(t,i,r&Ne.Optional):Ln(t,i,r&Ne.Optional)}finally{xt(o)}}return Ed(i,t,r)}function J2(e,t,r,i=Ne.Default,s){if(null!==e){const o=function oF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_i)?e[_i]:void 0;return"number"==typeof t?t>=0?255&t:J7:t}(r);if("function"==typeof o){if(!L7(t,e,i))return i&Ne.Host?Ed(s,r,i):X2(t,r,i,s);try{const a=o(i);if(null!=a||i&Ne.Optional)return a;en(r)}finally{$7()}}else if("number"==typeof o){let a=null,l=op(e,t),u=-1,c=i&Ne.Host?t[16][6]:null;for((-1===l||i&Ne.SkipSelf)&&(u=-1===l?W2(e,t):t[l+8],-1!==u&&ey(i,!1)?(a=t[1],l=rp(u),t=ip(u,t)):l=-1);-1!==l;){const f=t[1];if(Z7(o,l,f.data)){const A=sF(l,t,r,a,i,c);if(A!==X7)return A}u=t[l+8],-1!==u&&ey(i,t[1].data[l+8]===c)&&Z7(o,l,t)?(a=f,l=rp(u),t=ip(u,t)):l=-1}}}return X2(t,r,i,s)}const X7={};function J7(){return new lp(ko(),dn())}function sF(e,t,r,i,s,o){const a=t[1],l=a.data[e+8],f=ap(l,a,r,null==i?ff(l)&&j2:i!=a&&0!=(3&l.type),s&Ne.Host&&o===l);return null!==f?lg(t,a,f,l):X7}function ap(e,t,r,i,s){const o=e.providerIndexes,a=t.data,l=1048575&o,u=e.directiveStart,f=o>>20,d=s?l+f:e.directiveEnd;for(let h=i?l:l+f;h<d;h++){const g=a[h];if(h<u&&r===g||h>=u&&g.type===r)return h}if(s){const h=a[u];if(h&&Ko(h)&&h.type===r)return u}return null}function lg(e,t,r,i){let s=e[r];const o=t.data;if(function ZD(e){return e instanceof og}(s)){const a=s;a.resolving&&function Xe(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new _e(-200,`Circular dependency in DI detected for ${e}${r}`)}(rt(o[r]));const l=ur(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?xt(a.injectImpl):null;L7(e,i,Ne.Default);try{s=e[r]=a.factory(void 0,o,e,i),t.firstCreatePass&&r>=i.directiveStart&&function XD(e,t,r){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(i){const a=Li(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,a),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,a)}s&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,s),o&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,o),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,o))}(r,o[r],t)}finally{null!==u&&xt(u),ur(l),a.resolving=!1,$7()}}return s}function Z7(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function ey(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class lp{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,i){return J2(this._tNode,this._lView,t,i,r)}}function Gl(e){return _n(()=>{const t=e.prototype.constructor,r=t[Es]||M5(t),i=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==i;){const o=s[Es]||M5(s);if(o&&o!==r)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function M5(e){return me(e)?()=>{const t=M5(X(e));return t&&t()}:Vi(e)}const up="__parameters__";function fp(e,t,r){return _n(()=>{const i=function Z2(e){return function(...r){if(e){const i=e(...r);for(const s in i)this[s]=i[s]}}}(t);function s(...o){if(this instanceof s)return i.apply(this,o),this;const a=new s(...o);return l.annotation=a,l;function l(u,c,f){const A=u.hasOwnProperty(up)?u[up]:Object.defineProperty(u,up,{value:[]})[up];for(;A.length<=f;)A.push(null);return(A[f]=A[f]||[]).push(a),u}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class Ai{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=gn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const I5=new Ai("AnalyzeForEntryComponents");function Xu(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(t===e&&(t=e.slice(0,r)),Xu(i,t)):t!==e&&t.push(i)}return t}function Xo(e,t){e.forEach(r=>Array.isArray(r)?Xo(r,t):t(r))}function tv(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function nv(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ug(e,t){const r=[];for(let i=0;i<e;i++)r.push(t);return r}function bu(e,t,r){let i=dp(e,t);return i>=0?e[1|i]=r:(i=~i,function hF(e,t,r,i){let s=e.length;if(s==t)e.push(r,i);else if(1===s)e.push(i,e[0]),e[0]=r;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=r,e[t+1]=i}}(e,i,t,r)),i}function rv(e,t){const r=dp(e,t);if(r>=0)return e[1|r]}function dp(e,t){return function N5(e,t,r){let i=0,s=e.length>>r;for(;s!==i;){const o=i+(s-i>>1),a=e[o<<r];if(t===a)return o<<r;a>t?s=o:i=o+1}return~(s<<r)}(e,t,1)}const fg={},R5="__NG_DI_FLAG__",ov="ngTempTokenPath",vF=/\n/gm,k5="__source",uy=tn({provide:String,useValue:tn});let hp;function av(e){const t=hp;return hp=e,t}function _F(e,t=Ne.Default){if(void 0===hp)throw new _e(203,"");return null===hp?Ln(e,void 0,t):hp.get(e,t&Ne.Optional?null:void 0,t)}function er(e,t=Ne.Default){return(function Mt(){return Dt}()||_F)(X(e),t)}function pp(e){const t=[];for(let r=0;r<e.length;r++){const i=X(e[r]);if(Array.isArray(i)){if(0===i.length)throw new _e(900,"");let s,o=Ne.Default;for(let a=0;a<i.length;a++){const l=i[a],u=yF(l);"number"==typeof u?-1===u?s=l.token:o|=u:s=l}t.push(er(s,o))}else t.push(er(i))}return t}function Sd(e,t){return e[R5]=t,e.prototype[R5]=t,e}function yF(e){return e[R5]}const gp=Sd(fp("Inject",e=>({token:e})),-1),Dc=Sd(fp("Optional"),8),mp=Sd(fp("SkipSelf"),4);let _p,Ag;function Kh(e){return function fv(){if(void 0===_p&&(_p=null,Jr.trustedTypes))try{_p=Jr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _p}()?.createHTML(e)||e}function my(e){return function dv(){if(void 0===Ag&&(Ag=null,Jr.trustedTypes))try{Ag=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ag}()?.createHTML(e)||e}class vy{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Cu(e){return e instanceof vy?e.changingThisBreaksApplicationSecurity:e}function Ju(e,t){const r=function Dd(e){return e instanceof vy&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}class dg{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Kh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class yy{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const i=this.inertDocument.createElement("body");r.appendChild(i)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Kh(t),r;const i=this.inertDocument.createElement("body");return i.innerHTML=Kh(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const r=t.attributes;for(let s=r.length-1;0<s;s--){const a=r.item(s).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const wp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,FF=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gv(e){return(e=String(e)).match(wp)||e.match(FF)?e:"unsafe:"+e}function by(e){return(e=String(e)).split(",").map(t=>gv(t.trim())).join(", ")}function _f(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Yh(...e){const t={};for(const r of e)for(const i in r)r.hasOwnProperty(i)&&(t[i]=!0);return t}const Cy=_f("area,br,col,hr,img,wbr"),Ey=_f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sy=_f("rp,rt"),hg=Yh(Cy,Yh(Ey,_f("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yh(Sy,_f("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yh(Sy,Ey)),mv=_f("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),G5=_f("srcset"),xy=Yh(mv,G5,_f("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_f("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),TF=_f("script,style,template");class IF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,i=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=this.checkClobberedElement(r,r.nextSibling);if(s){r=s;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!hg.hasOwnProperty(r))return this.sanitizedSomething=!0,!TF.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=t.attributes;for(let s=0;s<i.length;s++){const o=i.item(s),a=o.name,l=a.toLowerCase();if(!xy.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=o.value;mv[l]&&(u=gv(u)),G5[l]&&(u=by(u)),this.buf.push(" ",a,'="',vv(u),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();hg.hasOwnProperty(r)&&!Cy.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(vv(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const NF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OF=/([^\#-~ |!])/g;function vv(e){return e.replace(/&/g,"&amp;").replace(NF,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(OF,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _v;function q5(e){return"content"in e&&function cr(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ho=(()=>((ho=ho||{})[ho.NONE=0]="NONE",ho[ho.HTML=1]="HTML",ho[ho.STYLE=2]="STYLE",ho[ho.SCRIPT=3]="SCRIPT",ho[ho.URL=4]="URL",ho[ho.RESOURCE_URL=5]="RESOURCE_URL",ho))();function pg(e){const t=gg();return t?my(t.sanitize(ho.HTML,e)||""):Ju(e,"HTML")?my(Cu(e)):function z5(e,t){let r=null;try{_v=_v||function pv(e){const t=new yy(e);return function wy(){try{return!!(new window.DOMParser).parseFromString(Kh(""),"text/html")}catch{return!1}}()?new dg(t):t}(e);let i=t?String(t):"";r=_v.getInertBodyElement(i);let s=5,o=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=r.innerHTML,r=_v.getInertBodyElement(i)}while(i!==o);return Kh((new IF).sanitizeChildren(q5(r)||r))}finally{if(r){const i=q5(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(sl(),ke(e))}function bp(e){const t=gg();return t?t.sanitize(ho.URL,e)||"":Ju(e,"URL")?Cu(e):gv(ke(e))}function gg(){const e=dn();return e&&e[12]}const Dy="__ngContext__";function Ra(e,t){e[Dy]=t}function mg(e){const t=function Cp(e){return e[Dy]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function _g(e){return e.ngOriginalError}function bv(e,...t){e.error(...t)}class Bp{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),i=function Sp(e){return e&&e.ngErrorLogger||bv}(t);i(this._console,"ERROR",t),r&&i(this._console,"ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&_g(t);for(;r&&_g(r);)r=_g(r);return r||null}}const Ny=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jr))();function J5(e){return e.ownerDocument}function yf(e){return e instanceof Function?e():e}var b=(()=>((b=b||{})[b.Important=1]="Important",b[b.DashCase=2]="DashCase",b))();function S(e,t){return undefined(e,t)}function W(e){const t=e[3];return $l(t)?t[3]:t}function be(e){return ut(e[13])}function Ze(e){return ut(e[4])}function ut(e){for(;null!==e&&!$l(e);)e=e[4];return e}function Pt(e,t,r,i,s){if(null!=i){let o,a=!1;$l(i)?o=i:Bs(i)&&(a=!0,i=i[0]);const l=Vs(i);0===e&&null!==r?null==s?Bl(t,r,l):ql(t,r,l,s||null,!0):1===e&&null!==r?ql(t,r,l,s||null,!0):2===e?function Sq(e,t,r){const i=Su(e,t);i&&function Xh(e,t,r,i){ms(e)?e.removeChild(t,r,i):t.removeChild(r)}(e,i,t,r)}(t,l,a):3===e&&t.destroyNode(l),null!=o&&function J5e(e,t,r,i,s){const o=r[7];o!==Vs(r)&&Pt(t,e,i,o,s);for(let l=10;l<r.length;l++){const u=r[l];Z5(u[1],u,e,t,i,o)}}(t,e,o,r,s)}}function Ei(e,t,r){return ms(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function ts(e,t){const r=e[9],i=r.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,w5(s,-1)),r.splice(i,1)}function ji(e,t){if(e.length<=10)return;const r=10+t,i=e[r];if(i){const s=i[17];null!==s&&s!==e&&ts(s,i),t>0&&(e[r-1][4]=i[4]);const o=nv(e,10+t);!function xr(e,t){Z5(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function hi(e,t){if(!(256&t[2])){const r=t[11];ms(r)&&r.destroyNode&&Z5(e,t,r,3,null,null),function Ii(e){let t=e[13];if(!t)return Uo(e[1],e);for(;t;){let r=null;if(Bs(t))r=t[13];else{const i=t[10];i&&(r=i)}if(!r){for(;t&&!t[4]&&t!==e;)Bs(t)&&Uo(t[1],t),t=t[3];null===t&&(t=e),Bs(t)&&Uo(t[1],t),r=t&&t[4]}t=r}}(t)}}function Uo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Eu(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let i=0;i<r.length;i+=2){const s=t[r[i]];if(!(s instanceof og)){const o=r[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=s[o[a]],u=o[a+1];try{u.call(l)}finally{}}else try{o.call(s)}finally{}}}}(e,t),function zl(e,t){const r=e.cleanup,i=t[7];let s=-1;if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const a=r[o+1],l="function"==typeof a?a(t):Vs(t[a]),u=i[s=r[o+2]],c=r[o+3];"boolean"==typeof c?l.removeEventListener(r[o],u,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),o+=2}else{const a=i[s=r[o+1]];r[o].call(a)}if(null!==i){for(let o=s+1;o<i.length;o++)i[o]();t[7]=null}}(e,t),1===t[1].type&&ms(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&$l(t[3])){r!==t[3]&&ts(r,t);const i=t[19];null!==i&&i.detachView(e)}}}function Ls(e,t,r){return function Da(e,t,r){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return r[0];if(2&i.flags){const s=e.data[i.directiveStart].encapsulation;if(s===Wr.None||s===Wr.Emulated)return null}return Wo(i,r)}(e,t.parent,r)}function ql(e,t,r,i,s){ms(e)?e.insertBefore(t,r,i,s):t.insertBefore(r,i,s)}function Bl(e,t,r){ms(e)?e.appendChild(t,r):t.appendChild(r)}function xl(e,t,r,i,s){null!==i?ql(e,t,r,i,s):Bl(e,t,r)}function Su(e,t){return ms(e)?e.parentNode(t):t.parentNode}function Td(e,t,r){return wf(e,t,r)}let wf=function Id(e,t,r){return 40&e.type?Wo(e,r):null};function AA(e,t,r,i){const s=Ls(e,i,t),o=t[11],l=Td(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(r))for(let u=0;u<r.length;u++)xl(o,s,r[u],l,!1);else xl(o,s,r,l,!1)}function Nd(e,t){if(null!==t){const r=t.type;if(3&r)return Wo(t,e);if(4&r)return XF(-1,e[t.index]);if(8&r){const i=t.child;if(null!==i)return Nd(e,i);{const s=e[t.index];return $l(s)?XF(-1,s):Vs(s)}}if(32&r)return S(t,e)()||Vs(e[t.index]);{const i=Eq(e,t);return null!==i?Array.isArray(i)?i[0]:Nd(W(e[16]),i):Nd(e,t.next)}}return null}function Eq(e,t){return null!==t?e[16][6].projection[t.projection]:null}function XF(e,t){const r=10+e+1;if(r<t.length){const i=t[r],s=i[1].firstChild;if(null!==s)return Nd(i,s)}return t[7]}function JF(e,t,r,i,s,o,a){for(;null!=r;){const l=i[r.index],u=r.type;if(a&&0===t&&(l&&Ra(Vs(l),i),r.flags|=4),64!=(64&r.flags))if(8&u)JF(e,t,r.child,i,s,o,!1),Pt(t,e,s,l,o);else if(32&u){const c=S(r,i);let f;for(;f=c();)Pt(t,e,s,f,o);Pt(t,e,s,l,o)}else 16&u?Bq(e,t,i,r,s,o):Pt(t,e,s,l,o);r=a?r.projectionNext:r.next}}function Z5(e,t,r,i,s,o){JF(r,i,e.firstChild,t,s,o,!1)}function Bq(e,t,r,i,s,o){const a=r[16],u=a[6].projection[i.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Pt(t,e,s,u[c],o);else JF(e,t,u,a[3],s,o,!0)}function xq(e,t,r){ms(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function ZF(e,t,r){ms(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function Dq(e,t,r){let i=e.length;for(;;){const s=e.indexOf(t,r);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const o=t.length;if(s+o===i||e.charCodeAt(s+o)<=32)return s}r=s+1}}const Fq="ng-template";function e8e(e,t,r){let i=0;for(;i<e.length;){let s=e[i++];if(r&&"class"===s){if(s=e[i],-1!==Dq(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Mq(e){return 4===e.type&&e.value!==Fq}function t8e(e,t,r){return t===(4!==e.type||r?e.value:Fq)}function n8e(e,t,r){let i=4;const s=e.attrs||[],o=function s8e(e){for(let t=0;t<e.length;t++)if(j7(e[t]))return t;return e.length}(s);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!t8e(e,u,r)||""===u&&1===t.length){if(dA(i))return!1;a=!0}}else{const c=8&i?u:t[++l];if(8&i&&null!==e.attrs){if(!e8e(e.attrs,c,r)){if(dA(i))return!1;a=!0}continue}const A=r8e(8&i?"class":u,s,Mq(e),r);if(-1===A){if(dA(i))return!1;a=!0;continue}if(""!==c){let d;d=A>o?"":s[A+1].toLowerCase();const h=8&i?d:null;if(h&&-1!==Dq(h,c,0)||2&i&&c!==d){if(dA(i))return!1;a=!0}}}}else{if(!a&&!dA(i)&&!dA(u))return!1;if(a&&dA(u))continue;a=!1,i=u|1&i}}return dA(i)||a}function dA(e){return 0==(1&e)}function r8e(e,t,r,i){if(null===t)return-1;let s=0;if(i||!r){let o=!1;for(;s<t.length;){const a=t[s];if(a===e)return s;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=t[++s];for(;"string"==typeof l;)l=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=o?1:2}return-1}return function o8e(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const i=e[r];if("number"==typeof i)return-1;if(i===t)return r;r++}return-1}(t,e)}function Tq(e,t,r=!1){for(let i=0;i<t.length;i++)if(n8e(e,t[i],r))return!0;return!1}function a8e(e,t){e:for(let r=0;r<t.length;r++){const i=t[r];if(e.length===i.length){for(let s=0;s<e.length;s++)if(e[s]!==i[s])continue e;return!0}}return!1}function Iq(e,t){return e?":not("+t.trim()+")":t}function l8e(e){let t=e[0],r=1,i=2,s="",o=!1;for(;r<e.length;){let a=e[r];if("string"==typeof a)if(2&i){const l=e[++r];s+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!dA(a)&&(t+=Iq(o,s),s=""),i=a,o=o||!dA(i);r++}return""!==s&&(t+=Iq(o,s)),t}const xi={};function Rt(e){Nq(is(),dn(),Sl()+e,P2())}function Nq(e,t,r,i){if(!i)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&H2(t,o,r)}else{const o=e.preOrderHooks;null!==o&&V2(t,o,0,r)}bd(r)}function Ry(e,t){return e<<17|t<<2}function hA(e){return e>>17&32767}function eM(e){return 2|e}function Jh(e){return(131068&e)>>2}function tM(e,t){return-131069&e|t<<2}function nM(e){return 1|e}function Gq(e,t){const r=e.contentQueries;if(null!==r)for(let i=0;i<r.length;i+=2){const s=r[i],o=r[i+1];if(-1!==o){const a=e.data[o];D5(s),a.contentQueries(2,t[o],o)}}}function e8(e,t,r,i,s,o,a,l,u,c){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,N7(f),f[3]=f[15]=e,f[8]=r,f[10]=a||e&&e[10],f[11]=l||e&&e[11],f[12]=u||e&&e[12]||null,f[9]=c||e&&e[9]||null,f[6]=o,f[16]=2==t.type?e[16]:f,f}function Cv(e,t,r,i,s){let o=e.data[t];if(null===o)o=function fM(e,t,r,i,s){const o=R7(),a=C5(),u=e.data[t]=function B8e(e,t,r,i,s,o){return{type:r,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,r,t,i,s);return null===e.firstChild&&(e.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(e,t,r,i,s),function GD(){return gi.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=r,o.value=i,o.attrs=s;const a=function sg(){const e=gi.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return gf(o,!0),o}function Ev(e,t,r,i){if(0===r)return-1;const s=t.length;for(let o=0;o<r;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return s}function t8(e,t,r){$h(t);try{const i=e.viewQuery;null!==i&&yM(1,i,r);const s=e.template;null!==s&&zq(e,t,s,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gq(e,t),e.staticViewQueries&&yM(2,e.viewQuery,r);const o=e.components;null!==o&&function C8e(e,t){for(let r=0;r<t.length;r++)G8e(e,t[r])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Q2()}}function Sv(e,t,r,i){const s=t[2];if(256==(256&s))return;$h(t);const o=P2();try{N7(t),function k7(e){return gi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&zq(e,t,r,2,i);const a=3==(3&s);if(!o)if(a){const c=e.preOrderCheckHooks;null!==c&&H2(t,c,null)}else{const c=e.preOrderHooks;null!==c&&V2(t,c,0,null),$2(t,0)}if(function V8e(e){for(let t=be(e);null!==t;t=Ze(t)){if(!t[2])continue;const r=t[9];for(let i=0;i<r.length;i++){const s=r[i],o=s[3];0==(1024&s[2])&&w5(o,1),s[2]|=1024}}}(t),function H8e(e){for(let t=be(e);null!==t;t=Ze(t))for(let r=10;r<t.length;r++){const i=t[r],s=i[1];y5(i)&&Sv(s,i,s.template,i[8])}}(t),null!==e.contentQueries&&Gq(e,t),!o)if(a){const c=e.contentCheckHooks;null!==c&&H2(t,c)}else{const c=e.contentHooks;null!==c&&V2(t,c,1),$2(t,1)}!function w8e(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const s=r[i];if(s<0)bd(~s);else{const o=s,a=r[++i],l=r[++i];S5(a,o),l(2,t[o])}}}finally{bd(-1)}}(e,t);const l=e.components;null!==l&&function b8e(e,t){for(let r=0;r<t.length;r++)$8e(e,t[r])}(t,l);const u=e.viewQuery;if(null!==u&&yM(2,u,i),!o)if(a){const c=e.viewCheckHooks;null!==c&&H2(t,c)}else{const c=e.viewHooks;null!==c&&V2(t,c,2),$2(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,w5(t[3],-1))}finally{Q2()}}function E8e(e,t,r,i){const s=t[10],o=!P2(),a=I7(t);try{o&&!a&&s.begin&&s.begin(),a&&t8(e,t,i),Sv(e,t,r,i)}finally{o&&!a&&s.end&&s.end()}}function zq(e,t,r,i,s){const o=Sl(),a=2&i;try{bd(-1),a&&t.length>20&&Nq(e,t,20,P2()),r(i,s)}finally{bd(o)}}function qq(e,t,r){if(jo(t)){const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,r[o],o)}}}function AM(e,t,r){!O7()||(function N8e(e,t,r,i){const s=r.directiveStart,o=r.directiveEnd;e.firstCreatePass||sp(r,t),Ra(i,t);const a=r.initialInputs;for(let l=s;l<o;l++){const u=e.data[l],c=Ko(u);c&&U8e(t,r,u);const f=lg(t,e,l,r);Ra(f,t),null!==a&&L8e(0,l-s,f,u,0,a),c&&(Yo(r.index,t)[8]=f)}}(e,t,r,Wo(r,t)),128==(128&r.flags)&&function O8e(e,t,r){const i=r.directiveStart,s=r.directiveEnd,a=r.index,l=function L2(){return gi.lFrame.currentDirectiveIndex}();try{bd(a);for(let u=i;u<s;u++){const c=e.data[u],f=t[u];B5(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ej(c,f)}}finally{bd(-1),B5(l)}}(e,t,r))}function dM(e,t,r=Wo){const i=t.localNames;if(null!==i){let s=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],l=-1===a?r(t,e):e[a];e[s++]=l}}}function jq(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Uy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Uy(e,t,r,i,s,o,a,l,u,c){const f=20+i,A=f+s,d=function S8e(e,t){const r=[];for(let i=0;i<t;i++)r.push(i<e?null:xi);return r}(f,A),h="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:r,queries:null,viewQuery:l,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function Yq(e,t,r,i){const s=oj(t);null===r?s.push(i):(s.push(r),e.firstCreatePass&&aj(e).push(i,s.length-1))}function Xq(e,t,r){for(let i in e)if(e.hasOwnProperty(i)){const s=e[i];(r=null===r?{}:r).hasOwnProperty(i)?r[i].push(t,s):r[i]=[t,s]}return r}function Fc(e,t,r,i,s,o,a,l){const u=Wo(t,r);let f,c=t.inputs;!l&&null!=c&&(f=c[i])?(cj(e,r,f,i,s),ff(t)&&function F8e(e,t){const r=Yo(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(i=function D8e(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),s=null!=a?a(s,t.value||"",i):s,ms(o)?o.setProperty(u,i,s):z2(i)||(u.setProperty?u.setProperty(i,s):u[i]=s))}function hM(e,t,r,i){let s=!1;if(O7()){const o=function R8e(e,t,r){const i=e.directiveRegistry;let s=null;if(i)for(let o=0;o<i.length;o++){const a=i[o];Tq(r,a.selectors,!1)&&(s||(s=[]),Y2(sp(r,t),e,a.type),Ko(a)?(tj(e,r),s.unshift(a)):s.push(a))}return s}(e,t,r),a=null===i?null:{"":-1};if(null!==o){s=!0,nj(r,e.data.length,o.length);for(let f=0;f<o.length;f++){const A=o[f];A.providersResolver&&A.providersResolver(A)}let l=!1,u=!1,c=Ev(e,t,o.length,null);for(let f=0;f<o.length;f++){const A=o[f];r.mergedAttrs=q2(r.mergedAttrs,A.hostAttrs),rj(e,r,t,c,A),P8e(c,A,a),null!==A.contentQueries&&(r.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(r.flags|=128);const d=A.type.prototype;!l&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),l=!0),!u&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),u=!0),c++}!function x8e(e,t){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const f=s[c],A=f.inputs,d=null===o||Mq(t)?null:Q8e(A,o);a.push(d),l=Xq(A,c,l),u=Xq(f.outputs,c,u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,r)}a&&function k8e(e,t,r){if(t){const i=e.localNames=[];for(let s=0;s<t.length;s+=2){const o=r[t[s+1]];if(null==o)throw new _e(-301,`Export of name '${t[s+1]}' not found!`);i.push(t[s],o)}}}(r,i,a)}return r.mergedAttrs=q2(r.mergedAttrs,r.attrs),s}function Zq(e,t,r,i,s,o){const a=o.hostBindings;if(a){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const u=~t.index;(function I8e(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(l)!=u&&l.push(u),l.push(i,s,a)}}function ej(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function tj(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function P8e(e,t,r){if(r){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)r[t.exportAs[i]]=e;Ko(t)&&(r[""]=e)}}function nj(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function rj(e,t,r,i,s){e.data[i]=s;const o=s.factory||(s.factory=Vi(s.type)),a=new og(o,Ko(s),null);e.blueprint[i]=a,r[i]=a,Zq(e,t,0,i,Ev(e,r,s.hostVars,xi),s)}function U8e(e,t,r){const i=Wo(t,e),s=jq(r),o=e[10],a=Ly(e,e8(e,s,null,r.onPush?64:16,i,t,o,o.createRenderer(i,r),null,null));e[t.index]=a}function Od(e,t,r,i,s,o){const a=Wo(e,t);!function pM(e,t,r,i,s,o,a){if(null==o)ms(e)?e.removeAttribute(t,s,r):t.removeAttribute(s);else{const l=null==a?ke(o):a(o,i||"",s);ms(e)?e.setAttribute(t,s,l,r):r?t.setAttributeNS(r,s,l):t.setAttribute(s,l)}}(t[11],a,o,e.value,r,i,s)}function L8e(e,t,r,i,s,o){const a=o[t];if(null!==a){const l=i.setInput;for(let u=0;u<a.length;){const c=a[u++],f=a[u++],A=a[u++];null!==l?i.setInput(r,A,c,f):r[f]=A}}}function Q8e(e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===r&&(r=[]),r.push(s,e[s],t[i+1])),i+=2}else i+=2;else i+=4}return r}function ij(e,t,r,i){return new Array(e,!0,!1,t,null,0,i,r,null,null)}function $8e(e,t){const r=Yo(t,e);if(y5(r)){const i=r[1];80&r[2]?Sv(i,r,i.template,r[8]):r[5]>0&&gM(r)}}function gM(e){for(let i=be(e);null!==i;i=Ze(i))for(let s=10;s<i.length;s++){const o=i[s];if(1024&o[2]){const a=o[1];Sv(a,o,a.template,o[8])}else o[5]>0&&gM(o)}const r=e[1].components;if(null!==r)for(let i=0;i<r.length;i++){const s=Yo(r[i],e);y5(s)&&s[5]>0&&gM(s)}}function G8e(e,t){const r=Yo(t,e),i=r[1];(function z8e(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(i,r),t8(i,r,r[8])}function Ly(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function mM(e){for(;e;){e[2]|=64;const t=W(e);if(w(e)&&!t)return e;e=t}return null}function _M(e,t,r){const i=t[10];i.begin&&i.begin();try{Sv(e,t,e.template,r)}catch(s){throw uj(t,s),s}finally{i.end&&i.end()}}function sj(e){!function vM(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],i=mg(r),s=i[1];E8e(s,i,s.template,r)}}(e[8])}function yM(e,t,r){D5(0),t(e,r)}const W8e=(()=>Promise.resolve(null))();function oj(e){return e[7]||(e[7]=[])}function aj(e){return e.cleanup||(e.cleanup=[])}function uj(e,t){const r=e[9],i=r?r.get(Bp,null):null;i&&i.handleError(t)}function cj(e,t,r,i,s){for(let o=0;o<r.length;){const a=r[o++],l=r[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,s,i,l):u[l]=s}}function Zh(e,t,r){const i=hf(t,e);!function Pn(e,t,r){ms(e)?e.setValue(t,r):t.textContent=r}(e[11],i,r)}function Qy(e,t,r){let i=r?e.styles:null,s=r?e.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?o=l:1==o?s=G(s,l):2==o&&(i=G(i,l+": "+t[++a]+";"))}r?e.styles=i:e.stylesWithoutHost=i,r?e.classes=s:e.classesWithoutHost=s}const wM=new Ai("INJECTOR",-1);class fj{get(t,r=fg){if(r===fg){const i=new Error(`NullInjectorError: No provider for ${Sr(t)}!`);throw i.name="NullInjectorError",i}return r}}const bM=new Ai("Set Injector scope."),n8={},J8e={};let CM;function Aj(){return void 0===CM&&(CM=new fj),CM}function dj(e,t=null,r=null,i){const s=hj(e,t,r,i);return s._resolveInjectorDefTypes(),s}function hj(e,t=null,r=null,i){return new Z8e(e,r,t||Aj(),i)}class Z8e{constructor(t,r,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];r&&Xo(r,l=>this.processProvider(l,t,r)),Xo([t],l=>this.processInjectorType(l,[],o)),this.records.set(wM,Bv(void 0,this));const a=this.records.get(bM);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:Sr(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=fg,i=Ne.Default){this.assertNotDestroyed();const s=av(this),o=xt(void 0);try{if(!(i&Ne.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function a6e(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ai}(t)&&Xa(t);l=u&&this.injectableDefInScope(u)?Bv(EM(t),n8):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ne.Self?Aj():this.parent).get(t,r=i&Ne.Optional&&r===fg?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[ov]=a[ov]||[]).unshift(Sr(t)),s)throw a;return function fy(e,t,r,i){const s=e[ov];throw t[k5]&&s.unshift(t[k5]),e.message=function P5(e,t,r,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=Sr(t);if(Array.isArray(t))s=t.map(Sr).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):Sr(l)))}s=`{${o.join(", ")}}`}return`${r}${i?"("+i+")":""}[${s}]: ${e.replace(vF,"\n  ")}`}("\n"+e.message,s,r,i),e.ngTokenPath=s,e[ov]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{xt(o),av(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Sr(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,"")}processInjectorType(t,r,i){if(!(t=X(t)))return!1;let s=N(t);const o=null==s&&t.ngModule||void 0,a=void 0===o?t:o,l=-1!==i.indexOf(a);if(void 0!==o&&(s=N(o)),null==s)return!1;if(null!=s.imports&&!l){let f;i.push(a);try{Xo(s.imports,A=>{this.processInjectorType(A,r,i)&&(void 0===f&&(f=[]),f.push(A))})}finally{}if(void 0!==f)for(let A=0;A<f.length;A++){const{ngModule:d,providers:h}=f[A];Xo(h,g=>this.processProvider(g,d,h||Br))}}this.injectorDefTypes.add(a);const u=Vi(a)||(()=>new a);this.records.set(a,Bv(u,n8));const c=s.providers;if(null!=c&&!l){const f=t;Xo(c,A=>this.processProvider(A,f,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,r,i){let s=xv(t=X(t))?t:X(t&&t.provide);const o=function t6e(e,t,r){return gj(e)?Bv(void 0,e.useValue):Bv(pj(e),n8)}(t);if(xv(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=Bv(void 0,n8,!0),a.factory=()=>pp(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,o)}hydrate(t,r){return r.value===n8&&(r.value=J8e,r.value=r.factory()),"object"==typeof r.value&&r.value&&function o6e(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this.onDestroy.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=X(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function EM(e){const t=Xa(e),r=null!==t?t.factory:Vi(e);if(null!==r)return r;if(e instanceof Ai)throw new _e(204,"");if(e instanceof Function)return function e6e(e){const t=e.length;if(t>0)throw ug(t,"?"),new _e(204,"");const r=function p(e){const t=e&&(e[H]||e[ee]);if(t){const r=function B(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new _e(204,"")}function pj(e,t,r){let i;if(xv(e)){const s=X(e);return Vi(s)||EM(s)}if(gj(e))i=()=>X(e.useValue);else if(function r6e(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...pp(e.deps||[]));else if(function n6e(e){return!(!e||!e.useExisting)}(e))i=()=>er(X(e.useExisting));else{const s=X(e&&(e.useClass||e.provide));if(!function s6e(e){return!!e.deps}(e))return Vi(s)||EM(s);i=()=>new s(...pp(e.deps))}return i}function Bv(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function gj(e){return null!==e&&"object"==typeof e&&uy in e}function xv(e){return"function"==typeof e}let Mo=(()=>{class e{static create(r,i){if(Array.isArray(r))return dj({name:""},i,r,"");{const s=r.name??"";return dj({name:s},r.parent,r.providers,s)}}}return e.THROW_IF_NOT_FOUND=fg,e.NULL=new fj,e.\u0275prov=gn({token:e,providedIn:"any",factory:()=>er(wM)}),e.__NG_ELEMENT_ID__=-1,e})();function p6e(e,t){cA(mg(e)[1],ko())}function io(e){let t=function Dj(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const i=[e];for(;t;){let s;if(Ko(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new _e(903,"");s=t.\u0275dir}if(s){if(r){i.push(s);const a=e;a.inputs=xM(e.inputs),a.declaredInputs=xM(e.declaredInputs),a.outputs=xM(e.outputs);const l=s.hostBindings;l&&_6e(e,l);const u=s.viewQuery,c=s.contentQueries;if(u&&m6e(e,u),c&&v6e(e,c),Vr(e.inputs,s.inputs),Vr(e.declaredInputs,s.declaredInputs),Vr(e.outputs,s.outputs),Ko(s)&&s.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let a=0;a<o.length;a++){const l=o[a];l&&l.ngInherit&&l(e),l===io&&(r=!1)}}t=Object.getPrototypeOf(t)}!function g6e(e){let t=0,r=null;for(let i=e.length-1;i>=0;i--){const s=e[i];s.hostVars=t+=s.hostVars,s.hostAttrs=q2(s.hostAttrs,r=q2(r,s.hostAttrs))}}(i)}function xM(e){return e===ci?{}:e===Br?[]:e}function m6e(e,t){const r=e.viewQuery;e.viewQuery=r?(i,s)=>{t(i,s),r(i,s)}:t}function v6e(e,t){const r=e.contentQueries;e.contentQueries=r?(i,s,o)=>{t(i,s,o),r(i,s,o)}:t}function _6e(e,t){const r=e.hostBindings;e.hostBindings=r?(i,s)=>{t(i,s),r(i,s)}:t}let Hy=null;function Dv(){if(!Hy){const e=Jr.Symbol;if(e&&e.iterator)Hy=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const i=t[r];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Hy=i)}}}return Hy}function r8(e){return!!DM(e)&&(Array.isArray(e)||!(e instanceof Map)&&Dv()in e)}function DM(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rd(e,t,r){return e[t]=r}function jl(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function yg(e,t,r,i){const s=jl(e,t,r);return jl(e,t+1,i)||s}function $s(e,t,r,i){const s=dn();return jl(s,np(),t)&&(is(),Od(Po(),s,e,t,r,i)),$s}function Mv(e,t,r,i){return jl(e,np(),r)?t+ke(r)+i:xi}function Iv(e,t,r,i,s,o,a,l){const c=function Vy(e,t,r,i,s){const o=yg(e,t,r,i);return jl(e,t+2,s)||o}(e,function wu(){return gi.lFrame.bindingIndex}(),r,s,a);return mf(3),c?t+ke(r)+i+ke(s)+o+ke(a)+l:xi}function Qn(e,t,r,i,s,o,a,l){const u=dn(),c=is(),f=e+20,A=c.firstCreatePass?function B6e(e,t,r,i,s,o,a,l,u){const c=t.consts,f=Cv(t,e,4,a||null,wd(c,l));hM(t,r,f,wd(c,u)),cA(t,f);const A=f.tViews=Uy(2,f,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,f),A.queries=t.queries.embeddedTView(f)),f}(f,c,u,t,r,i,s,o,a):c.data[f];gf(A,!1);const d=u[11].createComment("");AA(c,u,d,A),Ra(d,u),Ly(u,u[f]=ij(d,u,d,A)),yu(A)&&AM(c,u,A),null!=a&&dM(u,A,l)}function Ef(e){return function pf(e,t){return e[t]}(function $D(){return gi.lFrame.contextLView}(),20+e)}function it(e,t=Ne.Default){const r=dn();return null===r?er(e,t):J2(ko(),r,X(e),t)}function NM(){throw new Error("invalid")}function Vt(e,t,r){const i=dn();return jl(i,np(),t)&&Fc(is(),Po(),i,e,t,i[11],r,!1),Vt}function OM(e,t,r,i,s){const a=s?"class":"style";cj(e,r,t.inputs[a],a,i)}function et(e,t,r,i){const s=dn(),o=is(),a=20+e,l=s[11],u=s[a]=Ei(l,t,function YD(){return gi.lFrame.currentNamespace}()),c=o.firstCreatePass?function j6e(e,t,r,i,s,o,a){const l=t.consts,c=Cv(t,e,2,s,wd(l,o));return hM(t,r,c,wd(l,a)),null!==c.attrs&&Qy(c,c.attrs,!1),null!==c.mergedAttrs&&Qy(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(a,o,s,0,t,r,i):o.data[a];gf(c,!0);const f=c.mergedAttrs;null!==f&&G2(l,u,f);const A=c.classes;null!==A&&ZF(l,u,A);const d=c.styles;null!==d&&xq(l,u,d),64!=(64&c.flags)&&AA(o,s,u,c),0===function LD(){return gi.lFrame.elementDepthCount}()&&Ra(u,s),function QD(){gi.lFrame.elementDepthCount++}(),yu(c)&&(AM(o,s,c),qq(o,c,s)),null!==i&&dM(s,c)}function tt(){let e=ko();C5()?E5():(e=e.parent,gf(e,!1));const t=e;!function HD(){gi.lFrame.elementDepthCount--}();const r=is();r.firstCreatePass&&(cA(r,e),jo(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ma(e){return 0!=(16&e.flags)}(t)&&OM(r,t,dn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function tF(e){return 0!=(32&e.flags)}(t)&&OM(r,t,dn(),t.stylesWithoutHost,!1)}function cs(e,t,r,i){et(e,t,r,i),tt()}function Gy(e,t,r){const i=dn(),s=is(),o=e+20,a=s.firstCreatePass?function K6e(e,t,r,i,s){const o=t.consts,a=wd(o,i),l=Cv(t,e,8,"ng-container",a);return null!==a&&Qy(l,a,!0),hM(t,r,l,wd(o,s)),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,r):s.data[o];gf(a,!0);const l=i[o]=i[11].createComment("");AA(s,i,l,a),Ra(l,i),yu(a)&&(AM(s,i,a),qq(s,a,i)),null!=r&&dM(i,a)}function zy(){let e=ko();const t=is();C5()?E5():(e=e.parent,gf(e,!1)),t.firstCreatePass&&(cA(t,e),jo(e)&&t.queries.elementEnd(e))}function s8(e,t,r){Gy(e,t,r),zy()}function xs(){return dn()}function o8(e){return!!e&&"function"==typeof e.then}const RM=function Kj(e){return!!e&&"function"==typeof e.subscribe};function tr(e,t,r,i){const s=dn(),o=is(),a=ko();return function Yj(e,t,r,i,s,o,a,l){const u=yu(i),f=e.firstCreatePass&&aj(e),A=t[8],d=oj(t);let h=!0;if(3&i.type||l){const v=Wo(i,t),_=l?l(v):v,C=d.length,D=l?T=>l(Vs(T[i.index])):i.index;if(ms(r)){let T=null;if(!l&&u&&(T=function W6e(e,t,r,i){const s=e.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const a=s[o];if(a===r&&s[o+1]===i){const l=t[7],u=s[o+2];return l.length>u?l[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,s,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,h=!1;else{o=kM(i,t,A,o,!1);const I=r.listen(_,s,o);d.push(o,I),f&&f.push(s,D,C,C+1)}}else o=kM(i,t,A,o,!0),_.addEventListener(s,o,a),d.push(o),f&&f.push(s,D,C,a)}else o=kM(i,t,A,o,!1);const g=i.outputs;let m;if(h&&null!==g&&(m=g[s])){const v=m.length;if(v)for(let _=0;_<v;_+=2){const V=t[m[_]][m[_+1]].subscribe(o),R=d.length;d.push(o,V),f&&f.push(s,i.index,R,-(R+1))}}}(o,s,s[11],a,e,t,!!r,i),tr}function Xj(e,t,r,i){try{return!1!==r(i)}catch(s){return uj(e,s),!1}}function kM(e,t,r,i,s){return function o(a){if(a===Function)return i;const l=2&e.flags?Yo(e.index,t):t;0==(32&t[2])&&mM(l);let u=Xj(t,0,i,a),c=o.__ngNextListenerFn__;for(;c;)u=Xj(t,0,c,a)&&u,c=c.__ngNextListenerFn__;return s&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function Qt(e=1){return function qD(e){return(gi.lFrame.contextLView=function jD(e,t){for(;e>0;)t=t[15],e--;return t}(e,gi.lFrame.contextLView))[8]}(e)}function Y6e(e,t){let r=null;const i=function i8e(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(0==(1&r))return t[r+1]}return null}(e);for(let s=0;s<t.length;s++){const o=t[s];if("*"!==o){if(null===i?Tq(e,o,!0):a8e(i,o))return s}else r=s}return r}function PM(e){const t=dn()[16][6];if(!t.projection){const i=t.projection=ug(e?e.length:1,null),s=i.slice();let o=t.child;for(;null!==o;){const a=e?Y6e(o,e):0;null!==a&&(s[a]?s[a].projectionNext=o:i[a]=o,s[a]=o),o=o.next}}}function UM(e,t=0,r){const i=dn(),s=is(),o=Cv(s,20+e,16,null,r||null);null===o.projection&&(o.projection=t),E5(),64!=(64&o.flags)&&function X5e(e,t,r){Bq(t[11],0,t,r,Ls(e,r,t),Td(r.parent||t[6],r,t))}(s,i,o)}function wg(e,t,r,i,s){const o=dn(),a=Mv(o,t,r,i);return a!==xi&&Fc(is(),Po(),o,e,a,o[11],s,!1),wg}function oK(e,t,r,i,s){const o=e[r+1],a=null===t;let l=i?hA(o):Jh(o),u=!1;for(;0!==l&&(!1===u||a);){const f=e[l+1];Z6e(e[l],t)&&(u=!0,e[l+1]=i?nM(f):eM(f)),l=i?hA(f):Jh(f)}u&&(e[r+1]=i?eM(o):nM(o))}function Z6e(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dp(e,t)>=0}const ka={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aK(e){return e.substring(ka.key,ka.keyEnd)}function lK(e,t){const r=ka.textEnd;return r===t?-1:(t=ka.keyEnd=function r_e(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,ka.key=t,r),Lv(e,t,r))}function Lv(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function aa(e,t,r){return gA(e,t,r,!1),aa}function po(e,t){return gA(e,t,null,!0),po}function tc(e){mA(bu,Pd,e,!0)}function Pd(e,t){for(let r=function t_e(e){return function cK(e){ka.key=0,ka.keyEnd=0,ka.value=0,ka.valueEnd=0,ka.textEnd=e.length}(e),lK(e,Lv(e,0,ka.textEnd))}(t);r>=0;r=lK(t,r))bu(e,aK(t),!0)}function gA(e,t,r,i){const s=dn(),o=is(),a=mf(2);o.firstUpdatePass&&hK(o,e,a,i),t!==xi&&jl(s,a,t)&&gK(o,o.data[Sl()],s,s[11],e,s[a+1]=function d_e(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Sr(Cu(e)))),e}(t,r),i,a)}function mA(e,t,r,i){const s=is(),o=mf(2);s.firstUpdatePass&&hK(s,null,o,i);const a=dn();if(r!==xi&&jl(a,o,r)){const l=s.data[Sl()];if(vK(l,i)&&!dK(s,o)){let u=i?l.classesWithoutHost:l.stylesWithoutHost;null!==u&&(r=G(u,r||"")),OM(s,l,a,r,i)}else!function A_e(e,t,r,i,s,o,a,l){s===xi&&(s=Br);let u=0,c=0,f=0<s.length?s[0]:null,A=0<o.length?o[0]:null;for(;null!==f||null!==A;){const d=u<s.length?s[u+1]:void 0,h=c<o.length?o[c+1]:void 0;let m,g=null;f===A?(u+=2,c+=2,d!==h&&(g=A,m=h)):null===A||null!==f&&f<A?(u+=2,g=f):(c+=2,g=A,m=h),null!==g&&gK(e,t,r,i,g,m,a,l),f=u<s.length?s[u]:null,A=c<o.length?o[c]:null}}(s,l,a,a[11],a[o+1],a[o+1]=function f_e(e,t,r){if(null==r||""===r)return Br;const i=[],s=Cu(r);if(Array.isArray(s))for(let o=0;o<s.length;o++)e(i,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&e(i,o,s[o]);else"string"==typeof s&&t(i,s);return i}(e,t,r),i,o)}}function dK(e,t){return t>=e.expandoStartIndex}function hK(e,t,r,i){const s=e.data;if(null===s[r+1]){const o=s[Sl()],a=dK(e,r);vK(o,i)&&null===t&&!a&&(t=!1),t=function a_e(e,t,r,i){const s=function x5(e){const t=gi.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(r=a8(r=QM(null,e,t,r,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==s)if(r=QM(s,e,t,r,i),null===o){let u=function l_e(e,t,r){const i=r?t.classBindings:t.styleBindings;if(0!==Jh(i))return e[hA(i)]}(e,t,i);void 0!==u&&Array.isArray(u)&&(u=QM(null,e,t,u[1],i),u=a8(u,t.attrs,i),function u_e(e,t,r,i){e[hA(r?t.classBindings:t.styleBindings)]=i}(e,t,i,u))}else o=function c_e(e,t,r){let i;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)i=a8(i,e[o].hostAttrs,r);return a8(i,t.attrs,r)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),r}(s,o,t,i),function X6e(e,t,r,i,s,o){let a=o?t.classBindings:t.styleBindings,l=hA(a),u=Jh(a);e[i]=r;let f,c=!1;if(Array.isArray(r)){const A=r;f=A[1],(null===f||dp(A,f)>0)&&(c=!0)}else f=r;if(s)if(0!==u){const d=hA(e[l+1]);e[i+1]=Ry(d,l),0!==d&&(e[d+1]=tM(e[d+1],i)),e[l+1]=function f8e(e,t){return 131071&e|t<<17}(e[l+1],i)}else e[i+1]=Ry(l,0),0!==l&&(e[l+1]=tM(e[l+1],i)),l=i;else e[i+1]=Ry(u,0),0===l?l=i:e[u+1]=tM(e[u+1],i),u=i;c&&(e[i+1]=eM(e[i+1])),oK(e,f,i,!0),oK(e,f,i,!1),function J6e(e,t,r,i,s){const o=s?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&dp(o,t)>=0&&(r[i+1]=nM(r[i+1]))}(t,f,e,i,o),a=Ry(l,u),o?t.classBindings=a:t.styleBindings=a}(s,o,t,r,a,i)}}function QM(e,t,r,i,s){let o=null;const a=r.directiveEnd;let l=r.directiveStylingLast;for(-1===l?l=r.directiveStart:l++;l<a&&(o=t[l],i=a8(i,o.hostAttrs,s),o!==e);)l++;return null!==e&&(r.directiveStylingLast=l),i}function a8(e,t,r){const i=r?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:s===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bu(e,a,!!r||t[++o]))}return void 0===e?null:e}function gK(e,t,r,i,s,o,a,l){if(!(3&t.type))return;const u=e.data,c=u[l+1];qy(function kq(e){return 1==(1&e)}(c)?mK(u,t,r,s,Jh(c),a):void 0)||(qy(o)||function Rq(e){return 2==(2&e)}(c)&&(o=mK(u,null,r,s,l,a)),function Z5e(e,t,r,i,s){const o=ms(e);if(t)s?o?e.addClass(r,i):r.classList.add(i):o?e.removeClass(r,i):r.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:b.DashCase;if(null==s)o?e.removeStyle(r,i,a):r.style.removeProperty(i);else{const l="string"==typeof s&&s.endsWith("!important");l&&(s=s.slice(0,-10),a|=b.Important),o?e.setStyle(r,i,s,a):r.style.setProperty(i,s,l?"important":"")}}}(i,a,hf(Sl(),r),s,o))}function mK(e,t,r,i,s,o){const a=null===t;let l;for(;s>0;){const u=e[s],c=Array.isArray(u),f=c?u[1]:u,A=null===f;let d=r[s+1];d===xi&&(d=A?Br:void 0);let h=A?rv(d,i):f===i?d:void 0;if(c&&!qy(h)&&(h=rv(u,i)),qy(h)&&(l=h,a))return l;const g=e[s+1];s=a?hA(g):Jh(g)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(l=rv(u,i))}return l}function qy(e){return void 0!==e}function vK(e,t){return 0!=(e.flags&(t?16:32))}function ii(e,t=""){const r=dn(),i=is(),s=e+20,o=i.firstCreatePass?Cv(i,s,1,t,null):i.data[s],a=r[s]=function fr(e,t){return ms(e)?e.createText(t):e.createTextNode(t)}(r[11],t);AA(i,r,a,o),gf(o,!1)}function Mc(e){return bg("",e,""),Mc}function bg(e,t,r){const i=dn(),s=Mv(i,e,t,r);return s!==xi&&Zh(i,Sl(),s),bg}function HM(e,t,r,i,s,o,a){const l=dn(),u=Iv(l,e,t,r,i,s,o,a);return u!==xi&&Zh(l,Sl(),u),HM}const Cg=void 0;var I_e=["en",[["a","p"],["AM","PM"],Cg],[["AM","PM"],Cg,Cg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cg,"{1} 'at' {0}",Cg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T_e(e){const r=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let Qv={};function UK(e){return e in Qv||(Qv[e]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[e]),Qv[e]}var dr=(()=>((dr=dr||{})[dr.LocaleId=0]="LocaleId",dr[dr.DayPeriodsFormat=1]="DayPeriodsFormat",dr[dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",dr[dr.DaysFormat=3]="DaysFormat",dr[dr.DaysStandalone=4]="DaysStandalone",dr[dr.MonthsFormat=5]="MonthsFormat",dr[dr.MonthsStandalone=6]="MonthsStandalone",dr[dr.Eras=7]="Eras",dr[dr.FirstDayOfWeek=8]="FirstDayOfWeek",dr[dr.WeekendRange=9]="WeekendRange",dr[dr.DateFormat=10]="DateFormat",dr[dr.TimeFormat=11]="TimeFormat",dr[dr.DateTimeFormat=12]="DateTimeFormat",dr[dr.NumberSymbols=13]="NumberSymbols",dr[dr.NumberFormats=14]="NumberFormats",dr[dr.CurrencyCode=15]="CurrencyCode",dr[dr.CurrencySymbol=16]="CurrencySymbol",dr[dr.CurrencyName=17]="CurrencyName",dr[dr.Currencies=18]="Currencies",dr[dr.Directionality=19]="Directionality",dr[dr.PluralCase=20]="PluralCase",dr[dr.ExtraData=21]="ExtraData",dr))();const jy="en-US";let LK=jy;function zM(e,t,r,i,s){if(e=X(e),Array.isArray(e))for(let o=0;o<e.length;o++)zM(e[o],t,r,i,s);else{const o=is(),a=dn();let l=xv(e)?e:X(e.provide),u=pj(e);const c=ko(),f=1048575&c.providerIndexes,A=c.directiveStart,d=c.providerIndexes>>20;if(xv(e)||!e.multi){const h=new og(u,s,it),g=jM(l,t,s?f:f+d,A);-1===g?(Y2(sp(c,a),o,l),qM(o,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),r.push(h),a.push(h)):(r[g]=h,a[g]=h)}else{const h=jM(l,t,f+d,A),g=jM(l,t,f,f+d),m=h>=0&&r[h],v=g>=0&&r[g];if(s&&!v||!s&&!m){Y2(sp(c,a),o,l);const _=function F9e(e,t,r,i,s){const o=new og(e,r,it);return o.multi=[],o.index=t,o.componentProviders=0,uW(o,s,i&&!r),o}(s?D9e:x9e,r.length,s,i,u);!s&&v&&(r[g].providerFactory=_),qM(o,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),r.push(_),a.push(_)}else qM(o,e,h>-1?h:g,uW(r[s?g:h],u,!s&&i));!s&&i&&v&&r[g].componentProviders++}}}function qM(e,t,r,i){const s=xv(t),o=function i6e(e){return!!e.useClass}(t);if(s||o){const u=(o?X(t.useClass):t).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[i,u]):c[f+1].push(i,u)}else c.push(r,u)}}}function uW(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function jM(e,t,r,i){for(let s=r;s<i;s++)if(t[s]===e)return s;return-1}function x9e(e,t,r,i){return KM(this.multi,[])}function D9e(e,t,r,i){const s=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=lg(r,r[1],this.providerFactory.index,i);o=l.slice(0,a),KM(s,o);for(let u=a;u<l.length;u++)o.push(l[u])}else o=[],KM(s,o);return o}function KM(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function Js(e,t=[]){return r=>{r.providersResolver=(i,s)=>function B9e(e,t,r){const i=is();if(i.firstCreatePass){const s=Ko(e);zM(r,i.data,i.blueprint,s,!0),zM(t,i.data,i.blueprint,s,!1)}}(i,s?s(e):e,t)}}class cW{}class I9e{resolveComponentFactory(t){throw function T9e(e){const t=Error(`No component factory found for ${Sr(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let e0=(()=>{class e{}return e.NULL=new I9e,e})();function N9e(){return Vv(ko(),dn())}function Vv(e,t){return new $i(Wo(e,t))}let $i=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=N9e,e})();function O9e(e){return e instanceof $i?e.nativeElement:e}class $v{}let xu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function k9e(){const e=dn(),r=Yo(ko().index,e);return function R9e(e){return e[11]}(Bs(r)?r:e)}(),e})(),P9e=(()=>{class e{}return e.\u0275prov=gn({token:e,providedIn:"root",factory:()=>null}),e})();class A8{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const U9e=new A8("13.1.3"),WM={};function Jy(e,t,r,i,s=!1){for(;null!==r;){const o=t[r.index];if(null!==o&&i.push(Vs(o)),$l(o))for(let l=10;l<o.length;l++){const u=o[l],c=u[1].firstChild;null!==c&&Jy(u[1],u,c,i)}const a=r.type;if(8&a)Jy(e,t,r.child,i);else if(32&a){const l=S(r,t);let u;for(;u=l();)i.push(u)}else if(16&a){const l=Eq(t,r);if(Array.isArray(l))i.push(...l);else{const u=W(t[16]);Jy(u[1],u,l,i,!0)}}r=s?r.projectionNext:r.next}return i}class d8{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Jy(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if($l(t)){const r=t[8],i=r?r.indexOf(this):-1;i>-1&&(ji(t,i),nv(r,i))}this._attachedToViewContainer=!1}hi(this._lView[1],this._lView)}onDestroy(t){Yq(this._lView[1],this._lView,null,t)}markForCheck(){mM(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_M(this._lView[1],this._lView,this.context)}checkNoChanges(){!function j8e(e,t,r){U2(!0);try{_M(e,t,r)}finally{U2(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new _e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _s(e,t){Z5(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new _e(902,"");this._appRef=t}}class L9e extends d8{constructor(t){super(t),this._view=t}detectChanges(){sj(this._view)}checkNoChanges(){!function K8e(e){U2(!0);try{sj(e)}finally{U2(!1)}}(this._view)}get context(){return null}}class AW extends e0{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Ss(t);return new YM(r,this.ngModule)}}function dW(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const H9e=new Ai("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ny});class YM extends cW{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function u8e(e){return e.map(l8e).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return dW(this.componentDef.inputs)}get outputs(){return dW(this.componentDef.outputs)}create(t,r,i,s){const o=(s=s||this.ngModule)?function V9e(e,t){return{get:(r,i,s)=>{const o=e.get(r,WM,s);return o!==WM||i===WM?o:t.get(r,i,s)}}}(t,s.injector):t,a=o.get($v,aA),l=o.get(P9e,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",f=i?function Wq(e,t,r){if(ms(e))return e.selectRootElement(t,r===Wr.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Ei(a.createRenderer(null,this.componentDef),c,function Q9e(e){const t=e.toLowerCase();return"svg"===t?il:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),A=this.componentDef.onPush?576:528,d=function xj(e,t){return{components:[],scheduler:e||Ny,clean:W8e,playerHandler:t||null,flags:0}}(),h=Uy(0,null,null,1,0,null,null,null,null,null),g=e8(null,h,d,A,null,null,a,u,l,o);let m,v;$h(g);try{const _=function Sj(e,t,r,i,s,o){const a=r[1];r[20]=e;const u=Cv(a,20,2,"#host",null),c=u.mergedAttrs=t.hostAttrs;null!==c&&(Qy(u,c,!0),null!==e&&(G2(s,e,c),null!==u.classes&&ZF(s,e,u.classes),null!==u.styles&&xq(s,e,u.styles)));const f=i.createRenderer(e,t),A=e8(r,jq(t),null,t.onPush?64:16,r[20],u,i,f,o||null,null);return a.firstCreatePass&&(Y2(sp(u,r),a,t.type),tj(a,u),nj(u,r.length,1)),Ly(r,A),r[20]=A}(f,this.componentDef,g,a,u);if(f)if(i)G2(u,f,["ng-version",U9e.full]);else{const{attrs:C,classes:D}=function c8e(e){const t=[],r=[];let i=1,s=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===s?""!==o&&t.push(o,e[++i]):8===s&&r.push(o);else{if(!dA(s))break;s=o}i++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);C&&G2(u,f,C),D&&D.length>0&&ZF(u,f,D.join(" "))}if(v=uA(h,20),void 0!==r){const C=v.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const T=r[D];C.push(null!=T?Array.from(T):null)}}m=function Bj(e,t,r,i,s){const o=r[1],a=function T8e(e,t,r){const i=ko();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),rj(e,i,t,Ev(e,t,1,null),r));const s=lg(t,e,i.directiveStart,i);Ra(s,t);const o=Wo(i,t);return o&&Ra(o,t),s}(o,r,t);if(i.components.push(a),e[8]=a,s&&s.forEach(u=>u(a,t)),t.contentQueries){const u=ko();t.contentQueries(1,a,u.directiveStart)}const l=ko();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(bd(l.index),Zq(r[1],l,0,l.directiveStart,l.directiveEnd,t),ej(t,a)),a}(_,this.componentDef,g,d,[p6e]),t8(h,g,null)}finally{Q2()}return new G9e(this.componentType,m,Vv(v,g),g,v)}}class G9e extends class M9e{}{constructor(t,r,i,s,o){super(),this.location=i,this._rootLView=s,this._tNode=o,this.instance=r,this.hostView=this.changeDetectorRef=new L9e(s),this.componentType=t}get injector(){return new lp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class t0{}class hW{}const Gv=new Map;class mW extends t0{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AW(this);const i=Fi(t);this._bootstrapComponents=yf(i.bootstrap),this._r3Injector=hj(t,r,[{provide:t0,useValue:this},{provide:e0,useValue:this.componentFactoryResolver}],Sr(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=Mo.THROW_IF_NOT_FOUND,i=Ne.Default){return t===Mo||t===t0||t===wM?this:this._r3Injector.get(t,r,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class XM extends hW{constructor(t){super(),this.moduleType=t,null!==Fi(t)&&function q9e(e){const t=new Set;!function r(i){const s=Fi(i,!0),o=s.id;null!==o&&(function pW(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${Sr(t)} vs ${Sr(t.name)}`)}(o,Gv.get(o),i),Gv.set(o,i));const a=yf(s.imports);for(const l of a)t.has(l)||(t.add(l),r(l))}(e)}(t)}create(t){return new mW(this.moduleType,t)}}function Np(e,t,r){const i=El()+e,s=dn();return s[i]===xi?Rd(s,i,r?t.call(r):t()):function i8(e,t){return e[t]}(s,i)}function Eg(e,t,r,i){return function vW(e,t,r,i,s,o){const a=t+r;return jl(e,a,s)?Rd(e,a+1,o?i.call(o,s):i(s)):h8(e,a+1)}(dn(),El(),e,t,r,i)}function Sg(e,t,r,i,s){return function _W(e,t,r,i,s,o,a){const l=t+r;return yg(e,l,s,o)?Rd(e,l+2,a?i.call(a,s,o):i(s,o)):h8(e,l+2)}(dn(),El(),e,t,r,i,s)}function h8(e,t){const r=e[t];return r===xi?void 0:r}function ZM(e){return t=>{setTimeout(e,void 0,t)}}const hr=class o7e extends At{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,i){let s=t,o=r||(()=>null),a=i;if(t&&"object"==typeof t){const u=t;s=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=ZM(o),s&&(s=ZM(s)),a&&(a=ZM(a)));const l=super.subscribe({next:s,error:o,complete:a});return t instanceof Mn&&t.add(l),l}};function a7e(){return this._results[Dv()]()}class eT{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Dv(),i=eT.prototype;i[r]||(i[r]=a7e)}get changes(){return this._changes||(this._changes=new hr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const i=this;i.dirty=!1;const s=Xu(t);(this._changesDetected=!function AF(e,t,r){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],o=t[i];if(r&&(s=r(s),o=r(o)),o!==s)return!1}return!0}(i._results,s,r))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zo=(()=>{class e{}return e.__NG_ELEMENT_ID__=c7e,e})();const l7e=Zo,u7e=class extends l7e{constructor(t,r,i){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}createEmbeddedView(t){const r=this._declarationTContainer.tViews,i=e8(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),t8(r,i,t),new d8(i)}};function c7e(){return Zy(ko(),dn())}function Zy(e,t){return 4&e.type?new u7e(t,e,Vv(e,t)):null}let Sf=(()=>{class e{}return e.__NG_ELEMENT_ID__=f7e,e})();function f7e(){return SW(ko(),dn())}const A7e=Sf,CW=class extends A7e{constructor(t,r,i){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=i}get element(){return Vv(this._hostTNode,this._hostLView)}get injector(){return new lp(this._hostTNode,this._hostLView)}get parentInjector(){const t=W2(this._hostTNode,this._hostLView);if(W7(t)){const r=ip(t,this._hostLView),i=rp(t);return new lp(r[1].data[i+8],r)}return new lp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=EW(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,i){const s=t.createEmbeddedView(r||{});return this.insert(s,i),s}createComponent(t,r,i,s,o){const a=t&&!function jh(e){return"function"==typeof e}(t);let l;if(a)l=r;else{const A=r||{};l=A.index,i=A.injector,s=A.projectableNodes,o=A.ngModuleRef}const u=a?t:new YM(Ss(t)),c=i||this.parentInjector;if(!o&&null==u.ngModule&&c){const A=c.get(t0,null);A&&(o=A)}const f=u.create(c,s,void 0,o);return this.insert(f.hostView,l),f}insert(t,r){const i=t._lView,s=i[1];if(function R2(e){return $l(e[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const A=i[3],d=new CW(A,A[6],A[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(r),a=this._lContainer;!function di(e,t,r,i){const s=10+i,o=r.length;i>0&&(r[s-1][4]=t),i<o-10?(t[4]=r[s],tv(r,10+i,t)):(r.push(t),t[4]=null),t[3]=r;const a=t[17];null!==a&&r!==a&&function Ar(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(e),t[2]|=128}(s,i,a,o);const l=XF(o,a),u=i[11],c=Su(u,a[7]);return null!==c&&function br(e,t,r,i,s,o){i[0]=s,i[6]=t,Z5(e,i,r,1,s,o)}(s,a[6],u,i,c,l),t.attachToViewContainerRef(),tv(tT(a),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=EW(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),i=ji(this._lContainer,r);i&&(nv(tT(this._lContainer),r),hi(i[1],i))}detach(t){const r=this._adjustIndex(t,-1),i=ji(this._lContainer,r);return i&&null!=nv(tT(this._lContainer),r)?new d8(i):null}_adjustIndex(t,r=0){return t??this.length+r}};function EW(e){return e[8]}function tT(e){return e[8]||(e[8]=[])}function SW(e,t){let r;const i=t[e.index];if($l(i))r=i;else{let s;if(8&e.type)s=Vs(i);else{const o=t[11];s=o.createComment("");const a=Wo(e,t);ql(o,Su(o,a),s,function Md(e,t){return ms(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=r=ij(i,t,s,e),Ly(t,r)}return new CW(r,e,t)}class nT{constructor(t){this.queryList=t,this.matches=null}clone(){return new nT(this.queryList)}setDirty(){this.queryList.setDirty()}}class rT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const i=null!==t.contentQueries?t.contentQueries[0]:r.length,s=[];for(let o=0;o<i;o++){const a=r.getByIndex(o);s.push(this.queries[a.indexInDeclarationView].clone())}return new rT(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==MW(t,r).matches&&this.queries[r].setDirty()}}class BW{constructor(t,r,i=null){this.predicate=t,this.flags=r,this.read=i}}class iT{constructor(t=[]){this.queries=t}elementStart(t,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let i=0;i<this.length;i++){const s=null!==r?r.length:0,o=this.getByIndex(i).embeddedTView(t,s);o&&(o.indexInDeclarationView=i,null!==r?r.push(o):r=[o])}return null!==r?new iT(r):null}template(t,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sT{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new sT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];this.matchTNodeWithReadOption(t,r,p7e(r,o)),this.matchTNodeWithReadOption(t,r,ap(r,t,o,!1,!1))}else i===Zo?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ap(r,t,i,!1,!1))}matchTNodeWithReadOption(t,r,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===$i||s===Sf||s===Zo&&4&r.type)this.addMatch(r.index,-2);else{const o=ap(r,t,s,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,i)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function p7e(e,t){const r=e.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===t)return r[i+1];return null}function m7e(e,t,r,i){return-1===r?function g7e(e,t){return 11&e.type?Vv(e,t):4&e.type?Zy(e,t):null}(t,e):-2===r?function v7e(e,t,r){return r===$i?Vv(t,e):r===Zo?Zy(t,e):r===Sf?SW(t,e):void 0}(e,t,i):lg(e,e[1],r,t)}function xW(e,t,r,i){const s=t[19].queries[i];if(null===s.matches){const o=e.data,a=r.matches,l=[];for(let u=0;u<a.length;u+=2){const c=a[u];l.push(c<0?null:m7e(t,o[c],a[u+1],r.metadata.read))}s.matches=l}return s.matches}function oT(e,t,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=xW(e,t,s,r);for(let l=0;l<o.length;l+=2){const u=o[l];if(u>0)i.push(a[l/2]);else{const c=o[l+1],f=t[-u];for(let A=10;A<f.length;A++){const d=f[A];d[17]===d[3]&&oT(d[1],d,c,i)}if(null!==f[9]){const A=f[9];for(let d=0;d<A.length;d++){const h=A[d];oT(h[1],h,c,i)}}}}}return i}function fs(e){const t=dn(),r=is(),i=U7();D5(i+1);const s=MW(r,i);if(e.dirty&&I7(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const o=s.crossesNgTemplate?oT(r,t,i,[]):xW(r,t,s,i);e.reset(o,O9e),e.notifyOnChanges()}return!0}return!1}function nc(e,t,r){const i=is();i.firstCreatePass&&(FW(i,new BW(e,t,r),-1),2==(2&t)&&(i.staticViewQueries=!0)),DW(i,dn(),t)}function As(){return function _7e(e,t){return e[19].queries[t].queryList}(dn(),U7())}function DW(e,t,r){const i=new eT(4==(4&r));Yq(e,t,i,i.destroy),null===t[19]&&(t[19]=new rT),t[19].queries.push(new nT(i))}function FW(e,t,r){null===e.queries&&(e.queries=new iT),e.queries.track(new sT(t,r))}function MW(e,t){return e.queries.getByIndex(t)}function Bf(e,t){return Zy(e,t)}function nw(...e){}const rw=new Ai("Application Initializer");let qv=(()=>{class e{constructor(r){this.appInits=r,this.resolve=nw,this.reject=nw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const r=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(o8(o))r.push(o);else if(RM(o)){const a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});r.push(a)}}Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(er(rw,8))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const m8=new Ai("AppId"),U7e={provide:m8,useFactory:function P7e(){return`${AT()}${AT()}${AT()}`},deps:[]};function AT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jW=new Ai("Platform Initializer"),jv=new Ai("Platform ID"),KW=new Ai("appBootstrapListener");let WW=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const Op=new Ai("LocaleId"),YW=new Ai("DefaultCurrencyCode");class L7e{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let iw=(()=>{class e{compileModuleSync(r){return new XM(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=yf(Fi(r).declarations).reduce((a,l)=>{const u=Ss(l);return u&&a.push(new YM(u)),a},[]);return new L7e(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const H7e=(()=>Promise.resolve(0))();function dT(e){"undefined"==typeof Zone?H7e.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Is{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hr(!1),this.onMicrotaskEmpty=new hr(!1),this.onStable=new hr(!1),this.onError=new hr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function V7e(){let e=Jr.requestAnimationFrame,t=Jr.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function z7e(e){const t=()=>{!function G7e(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Jr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,pT(e),e.isCheckStableRunning=!0,hT(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),pT(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,s,o,a,l)=>{try{return XW(e),r.invokeTask(s,o,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),JW(e)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return XW(e),r.invoke(s,o,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),JW(e)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,pT(e),hT(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,i){return this._inner.run(t,r,i)}runTask(t,r,i,s){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+s,t,$7e,nw,nw);try{return o.runTask(a,r,i)}finally{o.cancelTask(a)}}runGuarded(t,r,i){return this._inner.runGuarded(t,r,i)}runOutsideAngular(t){return this._outer.run(t)}}const $7e={};function hT(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pT(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function XW(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function JW(e){e._nesting--,hT(e)}class q7e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hr,this.onMicrotaskEmpty=new hr,this.onStable=new hr,this.onError=new hr}run(t,r,i){return t.apply(r,i)}runGuarded(t,r,i){return t.apply(r,i)}runOutsideAngular(t){return t()}runTask(t,r,i,s){return t.apply(r,i)}}let gT=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),dT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dT(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,i,s){return[]}}return e.\u0275fac=function(r){return new(r||e)(er(Is))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),ZW=(()=>{class e{constructor(){this._applications=new Map,mT.addToWindow(this)}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return mT.findTestabilityInTree(this,r,i)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class j7e{addToWindow(t){}findTestabilityInTree(t,r,i){return null}}let vA,mT=new j7e;const eY=new Ai("AllowMultipleToken");class tY{constructor(t,r){this.name=t,this.token=r}}function nY(e,t,r=[]){const i=`Platform: ${t}`,s=new Ai(i);return(o=[])=>{let a=rY();if(!a||a.injector.get(eY,!1))if(e)e(r.concat(o).concat({provide:s,useValue:!0}));else{const l=r.concat(o).concat({provide:s,useValue:!0},{provide:bM,useValue:"platform"});!function X7e(e){if(vA&&!vA.destroyed&&!vA.injector.get(eY,!1))throw new _e(400,"");vA=e.get(iY);const t=e.get(jW,null);t&&t.forEach(r=>r())}(Mo.create({providers:l,name:i}))}return function J7e(e){const t=rY();if(!t)throw new _e(401,"");return t}()}}function rY(){return vA&&!vA.destroyed?vA:null}let iY=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const l=function Z7e(e,t){let r;return r="noop"===e?new q7e:("zone.js"===e?void 0:e)||new Is({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),r}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:Is,useValue:l}];return l.run(()=>{const c=Mo.create({providers:u,parent:this.injector,name:r.moduleType.name}),f=r.create(c),A=f.injector.get(Bp,null);if(!A)throw new _e(402,"");return l.runOutsideAngular(()=>{const d=l.onError.subscribe({next:h=>{A.handleError(h)}});f.onDestroy(()=>{vT(this._modules,f),d.unsubscribe()})}),function eye(e,t,r){try{const i=r();return o8(i)?i.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(A,l,()=>{const d=f.injector.get(qv);return d.runInitializers(),d.donePromise.then(()=>(function P_e(e){Ji(e,"Expected localeId to be defined"),"string"==typeof e&&(LK=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Op,jy)||jy),this._moduleDoBootstrap(f),f))})})}bootstrapModule(r,i=[]){const s=sY({},i);return function W7e(e,t,r){const i=new XM(r);return Promise.resolve(i)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Rp);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new _e(403,"");r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(er(Mo))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function sY(e,t){return Array.isArray(t)?t.reduce(sY,e):{...e,...t}}let Rp=(()=>{class e{constructor(r,i,s,o,a){this._zone=r,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new Ke(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Ke(c=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),dT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{f.unsubscribe(),A.unsubscribe()}});this.isStable=function Wt(...e){let t=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return qn(i)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===r&&1===e.length&&e[0]instanceof Ke?e[0]:at(t)(lt(e,r))}(l,u.pipe(function En(){return e=>Jt()(function yn(e,t){return function(i){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof t)return i.lift(new Hr(s,t));const o=Object.create(i,si);return o.source=i,o.subjectFactory=s,o}}(qr)(e))}()))}bootstrap(r,i){if(!this._initStatus.done)throw new _e(405,"");let s;s=r instanceof cW?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(s.componentType);const o=function Y7e(e){return e.isBoundToModule}(s)?void 0:this._injector.get(t0),l=s.create(Mo.NULL,[],i||s.selector,o),u=l.location.nativeElement,c=l.injector.get(gT,null),f=c&&l.injector.get(ZW);return c&&f&&f.registerApplication(u,c),l.onDestroy(()=>{this.detachView(l.hostView),vT(this.components,l),f&&f.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new _e(101,"");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;vT(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(KW,[]).concat(this._bootstrapListeners).forEach(s=>s(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(er(Is),er(Mo),er(Bp),er(e0),er(qv))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function vT(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let aY=!0,Tc=(()=>{class e{}return e.__NG_ELEMENT_ID__=rye,e})();function rye(e){return function iye(e,t,r){if(ff(e)&&!r){const i=Yo(e.index,t);return new d8(i,i)}return 47&e.type?new d8(t[16],t):null}(ko(),dn(),16==(16&e))}class hY{constructor(){}supports(t){return r8(t)}create(t){return new cye(t)}}const uye=(e,t)=>t;class cye{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uye}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,i=this._removalsHead,s=0,o=null;for(;r||i;){const a=!i||r&&r.currentIndex<gY(i,s,o)?r:i,l=gY(a,s,o),u=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(r=r._next,null==a.previousIndex)s++;else{o||(o=[]);const c=l-s,f=u-s;if(c!=f){for(let d=0;d<c;d++){const h=d<o.length?o[d]:o[d]=0,g=h+d;f<=g&&g<c&&(o[d]=h+1)}o[a.previousIndex]=f-c}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!r8(t))throw new _e(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,a,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],a=this._trackByFn(l,o),null!==r&&Object.is(r.trackById,a)?(i&&(r=this._verifyReinsertion(r,o,a,l)),Object.is(r.item,o)||this._addIdentityChange(r,o)):(r=this._mismatch(r,o,a,l),i=!0),r=r._next}else s=0,function S6e(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Dv()]();let i;for(;!(i=r.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(s,l),null!==r&&Object.is(r.trackById,a)?(i&&(r=this._verifyReinsertion(r,l,a,s)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,a,s),i=!0),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,i,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,s)):t=this._addAfter(new fye(r,i),o,s),t}_verifyReinsertion(t,r,i,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,r,i),this._addToMoves(t,i),t}_moveAfter(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}_addAfter(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,i){const s=null===r?this._itHead:r._next;return t._next=s,t._prev=r,null===s?this._itTail=t:s._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new pY),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pY),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fye{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Aye{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class pY{constructor(){this.map=new Map}put(t){const r=t.trackById;let i=this.map.get(r);i||(i=new Aye,this.map.set(r,i)),i.add(t)}get(t,r){const s=this.map.get(t);return s?s.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gY(e,t,r){const i=e.previousIndex;if(null===i)return i;let s=0;return r&&i<r.length&&(s=r[i]),i+t+s}class mY{constructor(){}supports(t){return t instanceof Map||DM(t)}create(){return new dye}}class dye{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||DM(t)))throw new _e(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(r&&r.key===s)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const o=this._getOrCreateRecordForKey(s,i);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const i=t._prev;return r._next=t,r._prev=i,t._prev=r,i&&(i._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,r);const o=s._prev,a=s._next;return o&&(o._next=a),a&&(a._prev=o),s._next=null,s._prev=null,s}const i=new hye(t);return this._records.set(t,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(i=>r(t[i],i))}}class hye{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vY(){return new v8([new hY])}let v8=(()=>{class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vY()),deps:[[e,new mp,new Dc]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new _e(901,"")}}return e.\u0275prov=gn({token:e,providedIn:"root",factory:vY}),e})();function _Y(){return new Kv([new mY])}let Kv=(()=>{class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_Y()),deps:[[e,new mp,new Dc]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new _e(901,"")}}return e.\u0275prov=gn({token:e,providedIn:"root",factory:_Y}),e})();const pye=[new mY],mye=new v8([new hY]),vye=new Kv(pye),_ye=nY(null,"core",[{provide:jv,useValue:"unknown"},{provide:iY,deps:[Mo]},{provide:ZW,deps:[]},{provide:WW,deps:[]}]),Eye=[{provide:Rp,useClass:Rp,deps:[Is,Mo,Bp,e0,qv]},{provide:H9e,deps:[Is],useFactory:function Sye(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:qv,useClass:qv,deps:[[new Dc,rw]]},{provide:iw,useClass:iw,deps:[]},U7e,{provide:v8,useFactory:function yye(){return mye},deps:[]},{provide:Kv,useFactory:function wye(){return vye},deps:[]},{provide:Op,useFactory:function bye(e){return e||function Cye(){return"undefined"!=typeof $localize&&$localize.locale||jy}()},deps:[[new gp(Op),new Dc,new mp]]},{provide:YW,useValue:"USD"}];let Bye=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(er(Rp))},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:Eye}),e})(),ow=null;function Ud(){return ow}const va=new Ai("DocumentToken");let xg=(()=>{class e{historyGo(r){throw new Error("Not implemented")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:function(){return function Mye(){return er(yY)}()},providedIn:"platform"}),e})();const Tye=new Ai("Location Initialized");let yY=(()=>{class e extends xg{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ud().getBaseHref(this._doc)}onPopState(r){const i=Ud().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ud().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,i,s){wY()?this._history.pushState(r,i,s):this.location.hash=s}replaceState(r,i,s){wY()?this._history.replaceState(r,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return e.\u0275fac=function(r){return new(r||e)(er(va))},e.\u0275prov=gn({token:e,factory:function(){return function Iye(){return new yY(er(va))}()},providedIn:"platform"}),e})();function wY(){return!!window.history.pushState}function CT(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function bY(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function n0(e){return e&&"?"!==e[0]?"?"+e:e}let Wv=(()=>{class e{historyGo(r){throw new Error("Not implemented")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:function(){return function Nye(e){const t=er(va).location;return new CY(er(xg),t&&t.origin||"")}()},providedIn:"root"}),e})();const ET=new Ai("appBaseHref");let CY=(()=>{class e extends Wv{constructor(r,i){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return CT(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+n0(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+n0(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+n0(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return e.\u0275fac=function(r){return new(r||e)(er(xg),er(ET,8))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),Oye=(()=>{class e extends Wv{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=CT(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+n0(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+n0(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return e.\u0275fac=function(r){return new(r||e)(er(xg),er(ET,8))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),ST=(()=>{class e{constructor(r,i){this._subject=new hr,this._urlChangeListeners=[],this._platformStrategy=r;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=bY(EY(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+n0(i))}normalize(r){return e.stripTrailingSlash(function kye(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,EY(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._platformStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+n0(i)),s)}replaceState(r,i="",s=null){this._platformStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+n0(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){this._platformStrategy.historyGo?.(r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return e.normalizeQueryParams=n0,e.joinWithSlash=CT,e.stripTrailingSlash=bY,e.\u0275fac=function(r){return new(r||e)(er(Wv),er(xg))},e.\u0275prov=gn({token:e,factory:function(){return function Rye(){return new ST(er(Wv),er(xg))}()},providedIn:"root"}),e})();function EY(e){return e.replace(/\/index.html$/,"")}var Fa=(()=>((Fa=Fa||{})[Fa.Zero=0]="Zero",Fa[Fa.One=1]="One",Fa[Fa.Two=2]="Two",Fa[Fa.Few=3]="Few",Fa[Fa.Many=4]="Many",Fa[Fa.Other=5]="Other",Fa))();const $ye=function PK(e){return function Bu(e){const t=function N_e(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=UK(t);if(r)return r;const i=t.split("-")[0];if(r=UK(i),r)return r;if("en"===i)return I_e;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[dr.PluralCase]};class gw{}let vwe=(()=>{class e extends gw{constructor(r){super(),this.locale=r}getPluralCategory(r,i){switch($ye(i||this.locale)(r)){case Fa.Zero:return"zero";case Fa.One:return"one";case Fa.Two:return"two";case Fa.Few:return"few";case Fa.Many:return"many";default:return"other"}}}return e.\u0275fac=function(r){return new(r||e)(er(Op))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function NY(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const i=r.indexOf("="),[s,o]=-1==i?[r,""]:[r.slice(0,i),r.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}let OT=(()=>{class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(r){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof r?r.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(r){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof r?r.split(/\s+/):r,this._rawClass&&(r8(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const r=this._iterableDiffer.diff(this._rawClass);r&&this._applyIterableChanges(r)}else if(this._keyValueDiffer){const r=this._keyValueDiffer.diff(this._rawClass);r&&this._applyKeyValueChanges(r)}}_applyKeyValueChanges(r){r.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),r.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),r.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(r){r.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Sr(i.item)}`);this._toggleClass(i.item,!0)}),r.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(r){r&&(Array.isArray(r)||r instanceof Set?r.forEach(i=>this._toggleClass(i,!0)):Object.keys(r).forEach(i=>this._toggleClass(i,!!r[i])))}_removeClasses(r){r&&(Array.isArray(r)||r instanceof Set?r.forEach(i=>this._toggleClass(i,!1)):Object.keys(r).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(r,i){(r=r.trim())&&r.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return e.\u0275fac=function(r){return new(r||e)(it(v8),it(Kv),it($i),it(xu))},e.\u0275dir=Fn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class ywe{constructor(t,r,i,s){this.$implicit=t,this.ngForOf=r,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let s0=(()=>{class e{constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ywe(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const l=i.get(o);i.move(l,a),OY(l,s)}});for(let s=0,o=i.length;s<o;s++){const l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{OY(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return e.\u0275fac=function(r){return new(r||e)(it(Sf),it(Zo),it(v8))},e.\u0275dir=Fn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function OY(e,t){e.context.$implicit=t.item}let yA=(()=>{class e{constructor(r,i){this._viewContainer=r,this._context=new wwe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){RY("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){RY("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return e.\u0275fac=function(r){return new(r||e)(it(Sf),it(Zo))},e.\u0275dir=Fn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class wwe{constructor(){this.$implicit=null,this.ngIf=null}}function RY(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Sr(t)}'.`)}let PY=(()=>{class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){const r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){const[s,o]=r.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(r){return new(r||e)(it($i),it(Kv),it(xu))},e.\u0275dir=Fn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),o0=(()=>{class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(r){if(r.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&r.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(r){return new(r||e)(it(Sf))},e.\u0275dir=Fn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[fi]}),e})(),Ua=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:[{provide:gw,useClass:vwe}]}),e})();const LY="browser";let Wwe=(()=>{class e{}return e.\u0275prov=gn({token:e,providedIn:"root",factory:()=>new Ywe(er(va),window)}),e})();class Ywe{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function Xwe(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}s=i.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=t)}}scrollToElement(t){const r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=HY(this.window.history)||HY(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function HY(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class VY{}class LT extends class Jwe extends class Fye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Dye(e){ow||(ow=e)}(new LT)}onAndCancel(t,r,i){return t.addEventListener(r,i,!1),()=>{t.removeEventListener(r,i,!1)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function Zwe(){return w8=w8||document.querySelector("base"),w8?w8.getAttribute("href"):null}();return null==r?null:function ebe(e){mw=mw||document.createElement("a"),mw.setAttribute("href",e);const t=mw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(r)}resetBaseElement(){w8=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return NY(document.cookie,t)}}let mw,w8=null;const $Y=new Ai("TRANSITION_ID"),nbe=[{provide:rw,useFactory:function tbe(e,t,r){return()=>{r.get(qv).donePromise.then(()=>{const i=Ud(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<s.length;o++)i.remove(s[o])})}},deps:[$Y,va,Mo],multi:!0}];class QT{static init(){!function K7e(e){mT=e}(new QT)}addToWindow(t){Jr.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},Jr.getAllAngularTestabilities=()=>t.getAllTestabilities(),Jr.getAllAngularRootElements=()=>t.getAllRootElements(),Jr.frameworkStabilizers||(Jr.frameworkStabilizers=[]),Jr.frameworkStabilizers.push(i=>{const s=Jr.getAllAngularTestabilities();let o=s.length,a=!1;const l=function(u){a=a||u,o--,0==o&&i(a)};s.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,r,i){return null==r?null:t.getTestability(r)??(i?Ud().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}}let rbe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const vw=new Ai("EventManagerPlugins");let _w=(()=>{class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>s.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}addGlobalEventListener(r,i,s){return this._findPluginFor(i).addGlobalEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){const i=this._eventNameToPlugin.get(r);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const a=s[o];if(a.supports(r))return this._eventNameToPlugin.set(r,a),a}throw new Error(`No event manager plugin found for event ${r}`)}}return e.\u0275fac=function(r){return new(r||e)(er(vw),er(Is))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class GY{constructor(t){this._doc=t}addGlobalEventListener(t,r,i){const s=Ud().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${r}`);return this.addEventListener(s,r,i)}}let zY=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(r){const i=new Set;r.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),b8=(()=>{class e extends zY{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,i,s){r.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,s.push(i.appendChild(a))})}addHost(r){const i=[];this._addStylesToHost(this._stylesSet,r,i),this._hostNodes.set(r,i)}removeHost(r){const i=this._hostNodes.get(r);i&&i.forEach(qY),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(r,s,i)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(qY))}}return e.\u0275fac=function(r){return new(r||e)(er(va))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function qY(e){Ud().remove(e)}const HT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},VT=/%COMP%/g;function yw(e,t,r){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?yw(e,s,r):(s=s.replace(VT,e),r.push(s))}return r}function WY(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let ww=(()=>{class e{constructor(r,i,s){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new $T(r)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;switch(i.encapsulation){case Wr.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new ube(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(r),s}case 1:case Wr.ShadowDom:return new cbe(this.eventManager,this.sharedStylesHost,r,i);default:if(!this.rendererByCompId.has(i.id)){const s=yw(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(r){return new(r||e)(er(_w),er(b8),er(m8))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class $T{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,r){return r?document.createElementNS(HT[r]||r,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,r){t.appendChild(r)}insertBefore(t,r,i){t&&t.insertBefore(r,i)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return r||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,i,s){if(s){r=s+":"+r;const o=HT[s];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}removeAttribute(t,r,i){if(i){const s=HT[i];s?t.removeAttributeNS(s,r):t.removeAttribute(`${i}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,i,s){s&(b.DashCase|b.Important)?t.style.setProperty(r,i,s&b.Important?"important":""):t.style[r]=i}removeStyle(t,r,i){i&b.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,i){t[r]=i}setValue(t,r){t.nodeValue=r}listen(t,r,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,r,WY(i)):this.eventManager.addEventListener(t,r,WY(i))}}class ube extends $T{constructor(t,r,i,s){super(t),this.component=i;const o=yw(s+"-"+i.id,i.styles,[]);r.addStyles(o),this.contentAttr=function obe(e){return"_ngcontent-%COMP%".replace(VT,e)}(s+"-"+i.id),this.hostAttr=function abe(e){return"_nghost-%COMP%".replace(VT,e)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,r){const i=super.createElement(t,r);return super.setAttribute(i,this.contentAttr,""),i}}class cbe extends $T{constructor(t,r,i,s){super(t),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=yw(s.id,s.styles,[]);for(let a=0;a<o.length;a++){const l=document.createElement("style");l.textContent=o[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,i){return super.insertBefore(this.nodeOrShadowRoot(t),r,i)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fbe=(()=>{class e extends GY{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return e.\u0275fac=function(r){return new(r||e)(er(va))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const XY=["alt","control","meta","shift"],dbe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JY={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hbe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let pbe=(()=>{class e extends GY{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ud().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="";if(XY.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static getEventFullKey(r){let i="",s=function gbe(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&JY.hasOwnProperty(t)&&(t=JY[t]))}return dbe[t]||t}(r);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),XY.forEach(o=>{o!=s&&hbe[o](r)&&(i+=o+".")}),i+=s,i}static eventCallback(r,i,s){return o=>{e.getEventFullKey(o)===r&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return e.\u0275fac=function(r){return new(r||e)(er(va))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const ybe=nY(_ye,"browser",[{provide:jv,useValue:LY},{provide:jW,useValue:function mbe(){LT.makeCurrent(),QT.init()},multi:!0},{provide:va,useFactory:function _be(){return function Ao(e){yo=e}(document),document},deps:[]}]),wbe=[{provide:bM,useValue:"root"},{provide:Bp,useFactory:function vbe(){return new Bp},deps:[]},{provide:vw,useClass:fbe,multi:!0,deps:[va,Is,jv]},{provide:vw,useClass:pbe,multi:!0,deps:[va]},{provide:ww,useClass:ww,deps:[_w,b8,m8]},{provide:$v,useExisting:ww},{provide:zY,useExisting:b8},{provide:b8,useClass:b8,deps:[va]},{provide:gT,useClass:gT,deps:[Is]},{provide:_w,useClass:_w,deps:[vw,Is]},{provide:VY,useClass:rbe,deps:[]}];let ZY=(()=>{class e{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:e,providers:[{provide:m8,useValue:r.appId},{provide:$Y,useExisting:m8},nbe]}}}return e.\u0275fac=function(r){return new(r||e)(er(e,12))},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:wbe,imports:[Ua,Bye]}),e})();"undefined"!=typeof window&&window;class nX{}const a0="*";function Nbe(e,t){return{type:7,name:e,definitions:t,options:{}}}function rX(e,t=null){return{type:4,styles:t,timings:e}}function iX(e,t=null){return{type:2,steps:e,options:t}}function bw(e){return{type:6,styles:e,offset:null}}function sX(e,t,r=null){return{type:1,expr:e,animation:t,options:r}}function oX(e){Promise.resolve(null).then(e)}class Yv{constructor(t=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oX(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}class aX{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let r=0,i=0,s=0;const o=this.players.length;0==o?oX(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++r==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const r=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,r/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((r,i)=>null===r||i.totalTime>r.totalTime?i:r,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}function lX(){return"undefined"!=typeof window&&void 0!==window.document}function qT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pp(e){switch(e.length){case 0:return new Yv;case 1:return e[0];default:return new aX(e)}}function uX(e,t,r,i,s={},o={}){const a=[],l=[];let u=-1,c=null;if(i.forEach(f=>{const A=f.offset,d=A==u,h=d&&c||{};Object.keys(f).forEach(g=>{let m=g,v=f[g];if("offset"!==g)switch(m=t.normalizePropertyName(m,a),v){case"!":v=s[g];break;case a0:v=o[g];break;default:v=t.normalizeStyleValue(g,m,v,a)}h[m]=v}),d||l.push(h),c=h,u=A}),a.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${a.join(f)}`)}return l}function jT(e,t,r,i){switch(t){case"start":e.onStart(()=>i(r&&KT(r,"start",e)));break;case"done":e.onDone(()=>i(r&&KT(r,"done",e)));break;case"destroy":e.onDestroy(()=>i(r&&KT(r,"destroy",e)))}}function KT(e,t,r){const o=WT(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,r.totalTime??e.totalTime,!!r.disabled),a=e._data;return null!=a&&(o._data=a),o}function WT(e,t,r,i,s="",o=0,a){return{element:e,triggerName:t,fromState:r,toState:i,phaseName:s,totalTime:o,disabled:!!a}}function Ic(e,t,r){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=r)):(i=e[t],i||(i=e[t]=r)),i}function cX(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let YT=(e,t)=>!1,fX=(e,t,r)=>[];(qT()||"undefined"!=typeof Element)&&(YT=lX()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),fX=(e,t,r)=>{if(r)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let Dg=null,AX=!1;function XT(e){Dg||(Dg=function Rbe(){return"undefined"!=typeof document?document.body:null}()||{},AX=!!Dg.style&&"WebkitAppearance"in Dg.style);let t=!0;return Dg.style&&!function Obe(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Dg.style,!t&&AX&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Dg.style)),t}const JT=YT,ZT=fX;function dX(e){const t={};return Object.keys(e).forEach(r=>{const i=r.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[r]}),t}let hX=(()=>{class e{validateStyleProperty(r){return XT(r)}matchesElement(r,i){return!1}containsElement(r,i){return JT(r,i)}query(r,i,s){return ZT(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],u){return new Yv(s,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),eI=(()=>{class e{}return e.NOOP=new hX,e})();const tI="ng-enter",Cw="ng-leave",Ew="ng-trigger",Sw=".ng-trigger",gX="ng-animating",nI=".ng-animating";function Fg(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rI(parseFloat(t[1]),t[2])}function rI(e,t){return"s"===t?1e3*e:e}function Bw(e,t,r){return e.hasOwnProperty("duration")?e:function Ube(e,t,r){let s,o=0,a="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};s=rI(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(o=rI(parseFloat(u),l[4]));const c=l[5];c&&(a=c)}else s=e;if(!r){let l=!1,u=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,`The provided timing value "${e}" is invalid.`)}return{duration:s,delay:o,easing:a}}(e,t,r)}function Xv(e,t={}){return Object.keys(e).forEach(r=>{t[r]=e[r]}),t}function Up(e,t,r={}){if(t)for(let i in e)r[i]=e[i];else Xv(e,r);return r}function vX(e,t,r){return r?t+":"+r+";":""}function _X(e){let t="";for(let r=0;r<e.style.length;r++){const i=e.style.item(r);t+=vX(0,i,e.style.getPropertyValue(i))}for(const r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=vX(0,Hbe(r),e.style[r]));e.setAttribute("style",t)}function Ld(e,t,r){e.style&&(Object.keys(t).forEach(i=>{const s=sI(i);r&&!r.hasOwnProperty(i)&&(r[i]=e.style[s]),e.style[s]=t[i]}),qT()&&_X(e))}function Mg(e,t){e.style&&(Object.keys(t).forEach(r=>{const i=sI(r);e.style[i]=""}),qT()&&_X(e))}function C8(e){return Array.isArray(e)?1==e.length?e[0]:iX(e):e}const iI=new RegExp("{{\\s*(.+?)\\s*}}","g");function yX(e){let t=[];if("string"==typeof e){let r;for(;r=iI.exec(e);)t.push(r[1]);iI.lastIndex=0}return t}function xw(e,t,r){const i=e.toString(),s=i.replace(iI,(o,a)=>{let l=t[a];return t.hasOwnProperty(a)||(r.push(`Please provide a value for the animation param ${a}`),l=""),l.toString()});return s==i?e:s}function Dw(e){const t=[];let r=e.next();for(;!r.done;)t.push(r.value),r=e.next();return t}const Qbe=/-+([a-z0-9])/g;function sI(e){return e.replace(Qbe,(...t)=>t[1].toUpperCase())}function Hbe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wX(e,t){return 0===e||0===t}function bX(e,t,r){const i=Object.keys(r);if(i.length&&t.length){let o=t[0],a=[];if(i.forEach(l=>{o.hasOwnProperty(l)||a.push(l),o[l]=r[l]}),a.length)for(var s=1;s<t.length;s++){let l=t[s];a.forEach(function(u){l[u]=oI(e,u)})}}return t}function Nc(e,t,r){switch(t.type){case 7:return e.visitTrigger(t,r);case 0:return e.visitState(t,r);case 1:return e.visitTransition(t,r);case 2:return e.visitSequence(t,r);case 3:return e.visitGroup(t,r);case 4:return e.visitAnimate(t,r);case 5:return e.visitKeyframes(t,r);case 6:return e.visitStyle(t,r);case 8:return e.visitReference(t,r);case 9:return e.visitAnimateChild(t,r);case 10:return e.visitAnimateRef(t,r);case 11:return e.visitQuery(t,r);case 12:return e.visitStagger(t,r);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function oI(e,t){return window.getComputedStyle(e)[t]}function Vbe(e,t){const r=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function $be(e,t,r){if(":"==e[0]){const u=function Gbe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,i)=>parseFloat(i)>parseFloat(r);case":decrement":return(r,i)=>parseFloat(i)<parseFloat(r);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,r);if("function"==typeof u)return void t.push(u);e=u}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return r.push(`The provided transition expression "${e}" is not supported`),t;const s=i[1],o=i[2],a=i[3];t.push(CX(s,a));"<"==o[0]&&!("*"==s&&"*"==a)&&t.push(CX(a,s))}(i,r,t)):r.push(e),r}const Mw=new Set(["true","1"]),Tw=new Set(["false","0"]);function CX(e,t){const r=Mw.has(e)||Tw.has(e),i=Mw.has(t)||Tw.has(t);return(s,o)=>{let a="*"==e||e==s,l="*"==t||t==o;return!a&&r&&"boolean"==typeof s&&(a=s?Mw.has(e):Tw.has(e)),!l&&i&&"boolean"==typeof o&&(l=o?Mw.has(t):Tw.has(t)),a&&l}}const zbe=new RegExp("s*:selfs*,?","g");function aI(e,t,r){return new qbe(e).build(t,r)}class qbe{constructor(t){this._driver=t}build(t,r){const i=new Wbe(r);return this._resetContextStyleTimingState(i),Nc(this,C8(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,r){let i=r.queryCount=0,s=r.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(r),0==l.type){const u=l,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,r))}),u.name=c}else if(1==l.type){const u=this.visitTransition(l,r);i+=u.queryCount,s+=u.depCount,a.push(u)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,r){const i=this.visitStyle(t.styles,r),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=s||{};if(i.styles.forEach(l=>{if(Iw(l)){const u=l;Object.keys(u).forEach(c=>{yX(u[c]).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}}),o.size){const l=Dw(o.values());r.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,r){r.queryCount=0,r.depCount=0;const i=Nc(this,C8(t.animation),r);return{type:1,matchers:Vbe(t.expr,r.errors),animation:i,queryCount:r.queryCount,depCount:r.depCount,options:Tg(t.options)}}visitSequence(t,r){return{type:2,steps:t.steps.map(i=>Nc(this,i,r)),options:Tg(t.options)}}visitGroup(t,r){const i=r.currentTime;let s=0;const o=t.steps.map(a=>{r.currentTime=i;const l=Nc(this,a,r);return s=Math.max(s,r.currentTime),l});return r.currentTime=s,{type:3,steps:o,options:Tg(t.options)}}visitAnimate(t,r){const i=function Xbe(e,t){let r=null;if(e.hasOwnProperty("duration"))r=e;else if("number"==typeof e)return lI(Bw(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=lI(0,0,"");return o.dynamic=!0,o.strValue=i,o}return r=r||Bw(i,t),lI(r.duration,r.delay,r.easing)}(t.timings,r.errors);r.currentAnimateTimings=i;let s,o=t.styles?t.styles:bw({});if(5==o.type)s=this.visitKeyframes(o,r);else{let a=t.styles,l=!1;if(!a){l=!0;const c={};i.easing&&(c.easing=i.easing),a=bw(c)}r.currentTime+=i.duration+i.delay;const u=this.visitStyle(a,r);u.isEmptyStep=l,s=u}return r.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,r){const i=this._makeStyleAst(t,r);return this._validateStyleAst(i,r),i}_makeStyleAst(t,r){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==a0?i.push(a):r.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,o=null;return i.forEach(a=>{if(Iw(a)){const l=a,u=l.easing;if(u&&(o=u,delete l.easing),!s)for(let c in l)if(l[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,r){const i=r.currentAnimateTimings;let s=r.currentTime,o=r.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void r.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const u=r.collectedStyles[r.currentQuerySelector],c=u[l];let f=!0;c&&(o!=s&&o>=c.startTime&&s<=c.endTime&&(r.errors.push(`The CSS property "${l}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),f=!1),o=c.startTime),f&&(u[l]={startTime:o,endTime:s}),r.options&&function Lbe(e,t,r){const i=t.params||{},s=yX(e);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||r.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(a[l],r.options,r.errors)})})}visitKeyframes(t,r){const i={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const a=[];let l=!1,u=!1,c=0;const f=t.steps.map(_=>{const C=this._makeStyleAst(_,r);let D=null!=C.offset?C.offset:function Ybe(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(r=>{if(Iw(r)&&r.hasOwnProperty("offset")){const i=r;t=parseFloat(i.offset),delete i.offset}});else if(Iw(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}return t}(C.styles),T=0;return null!=D&&(o++,T=C.offset=D),u=u||T<0||T>1,l=l||T<c,c=T,a.push(T),C});u&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&r.errors.push("Please ensure that all keyframe offsets are in order");const A=t.steps.length;let d=0;o>0&&o<A?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(d=1/(A-1));const h=A-1,g=r.currentTime,m=r.currentAnimateTimings,v=m.duration;return f.forEach((_,C)=>{const D=d>0?C==h?1:d*C:a[C],T=D*v;r.currentTime=g+m.delay+T,m.duration=T,this._validateStyleAst(_,r),_.offset=D,i.styles.push(_)}),i}visitReference(t,r){return{type:8,animation:Nc(this,C8(t.animation),r),options:Tg(t.options)}}visitAnimateChild(t,r){return r.depCount++,{type:9,options:Tg(t.options)}}visitAnimateRef(t,r){return{type:10,animation:this.visitReference(t.animation,r),options:Tg(t.options)}}visitQuery(t,r){const i=r.currentQuerySelector,s=t.options||{};r.queryCount++,r.currentQuery=t;const[o,a]=function jbe(e){const t=!!e.split(/\s*,\s*/).find(r=>":self"==r);return t&&(e=e.replace(zbe,"")),e=e.replace(/@\*/g,Sw).replace(/@\w+/g,r=>Sw+"-"+r.substr(1)).replace(/:animating/g,nI),[e,t]}(t.selector);r.currentQuerySelector=i.length?i+" "+o:o,Ic(r.collectedStyles,r.currentQuerySelector,{});const l=Nc(this,C8(t.animation),r);return r.currentQuery=null,r.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Tg(t.options)}}visitStagger(t,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Bw(t.timings,r.errors,!0);return{type:12,animation:Nc(this,C8(t.animation),r),timings:i,options:null}}}class Wbe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Iw(e){return!Array.isArray(e)&&"object"==typeof e}function Tg(e){return e?(e=Xv(e)).params&&(e.params=function Kbe(e){return e?Xv(e):null}(e.params)):e={},e}function lI(e,t,r){return{duration:e,delay:t,easing:r}}function uI(e,t,r,i,s,o,a=null,l=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:a,subTimeline:l}}class Nw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,r){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...r)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const eCe=new RegExp(":enter","g"),nCe=new RegExp(":leave","g");function cI(e,t,r,i,s,o={},a={},l,u,c=[]){return(new rCe).buildKeyframes(e,t,r,i,s,o,a,l,u,c)}class rCe{buildKeyframes(t,r,i,s,o,a,l,u,c,f=[]){c=c||new Nw;const A=new fI(t,r,c,s,o,f,[]);A.options=u,A.currentTimeline.setStyles([a],null,A.errors,u),Nc(this,i,A);const d=A.timelines.filter(h=>h.containsAnimation());if(Object.keys(l).length){let h;for(let g=d.length-1;g>=0;g--){const m=d[g];if(m.element===r){h=m;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([l],null,A.errors,u)}return d.length?d.map(h=>h.buildKeyframes()):[uI(r,[],[],[],0,0,"",!1)]}visitTrigger(t,r){}visitState(t,r){}visitTransition(t,r){}visitAnimateChild(t,r){const i=r.subInstructions.get(r.element);if(i){const s=r.createSubContext(t.options),o=r.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);o!=a&&r.transformIntoNewTimeline(a)}r.previousNode=t}visitAnimateRef(t,r){const i=r.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),r.transformIntoNewTimeline(i.currentTimeline.currentTime),r.previousNode=t}_visitSubInstructions(t,r,i){let o=r.currentTimeline.currentTime;const a=null!=i.duration?Fg(i.duration):null,l=null!=i.delay?Fg(i.delay):null;return 0!==a&&t.forEach(u=>{const c=r.appendInstructionToTimeline(u,a,l);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,r){r.updateOptions(t.options,!0),Nc(this,t.animation,r),r.previousNode=t}visitSequence(t,r){const i=r.subContextCount;let s=r;const o=t.options;if(o&&(o.params||o.delay)&&(s=r.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Ow);const a=Fg(o.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Nc(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),r.previousNode=t}visitGroup(t,r){const i=[];let s=r.currentTimeline.currentTime;const o=t.options&&t.options.delay?Fg(t.options.delay):0;t.steps.forEach(a=>{const l=r.createSubContext(t.options);o&&l.delayNextStep(o),Nc(this,a,l),s=Math.max(s,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>r.currentTimeline.mergeTimelineCollectedStyles(a)),r.transformIntoNewTimeline(s),r.previousNode=t}_visitTiming(t,r){if(t.dynamic){const i=t.strValue;return Bw(r.params?xw(i,r.params,r.errors):i,r.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,r){const i=r.currentAnimateTimings=this._visitTiming(t.timings,r),s=r.currentTimeline;i.delay&&(r.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,r):(r.incrementTime(i.duration),this.visitStyle(o,r),s.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=t}visitStyle(t,r){const i=r.currentTimeline,s=r.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,r.errors,r.options),r.previousNode=t}visitKeyframes(t,r){const i=r.currentAnimateTimings,s=r.currentTimeline.duration,o=i.duration,l=r.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(u=>{l.forwardTime((u.offset||0)*o),l.setStyles(u.styles,u.easing,r.errors,r.options),l.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(l),r.transformIntoNewTimeline(s+o),r.previousNode=t}visitQuery(t,r){const i=r.currentTimeline.currentTime,s=t.options||{},o=s.delay?Fg(s.delay):0;o&&(6===r.previousNode.type||0==i&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ow);let a=i;const l=r.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,r.errors);r.currentQueryTotal=l.length;let u=null;l.forEach((c,f)=>{r.currentQueryIndex=f;const A=r.createSubContext(t.options,c);o&&A.delayNextStep(o),c===r.element&&(u=A.currentTimeline),Nc(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,A.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(a),u&&(r.currentTimeline.mergeTimelineCollectedStyles(u),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=t}visitStagger(t,r){const i=r.parentContext,s=r.currentTimeline,o=t.timings,a=Math.abs(o.duration),l=a*(r.currentQueryTotal-1);let u=a*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=l-u;break;case"full":u=i.currentStaggerTime}const f=r.currentTimeline;u&&f.delayNextStep(u);const A=f.currentTime;Nc(this,t.animation,r),r.previousNode=t,i.currentStaggerTime=s.currentTime-A+(s.startTime-i.currentTimeline.startTime)}}const Ow={};class fI{constructor(t,r,i,s,o,a,l,u){this._driver=t,this.element=r,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ow,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Rw(this._driver,r,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,r){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Fg(i.duration)),null!=i.delay&&(s.delay=Fg(i.delay));const o=i.params;if(o){let a=s.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!r||!a.hasOwnProperty(l))&&(a[l]=xw(o[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const r=this.options.params;if(r){const i=t.params={};Object.keys(r).forEach(s=>{i[s]=r[s]})}}return t}createSubContext(t=null,r,i){const s=r||this.element,o=new fI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ow,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,r,i){const s={duration:r??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new iCe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,r,i,s,o,a){let l=[];if(s&&l.push(this.element),t.length>0){t=(t=t.replace(eCe,"."+this._enterClassName)).replace(nCe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),l.push(...c)}return!o&&0==l.length&&a.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),l}}class Rw{constructor(t,r,i,s){this._driver=t,this.element=r,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+t),r&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,r){return this.applyStylesToKeyframe(),new Rw(this._driver,t,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,r){this._localTimelineStyles[t]=r,this._globalTimelineStyles[t]=r,this._styleSummary[t]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||a0,this._currentKeyframe[r]=a0}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,r,i,s){r&&(this._previousKeyframe.easing=r);const o=s&&s.params||{},a=function sCe(e,t){const r={};let i;return e.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(o=>{r[o]=a0})):Up(s,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const u=xw(a[l],o,i);this._pendingStyles[l]=u,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:a0),this._updateStyle(l,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,r=Object.keys(t);0!=r.length&&(this._pendingStyles={},r.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const r=this._localTimelineStyles[t];this._pendingStyles[t]=r,this._updateStyle(t,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let r in this._currentKeyframe)t.push(r);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(r=>{const i=this._styleSummary[r],s=t._styleSummary[r];(!i||s.time>i.time)&&this._updateStyle(r,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,r=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((l,u)=>{const c=Up(l,!0);Object.keys(c).forEach(f=>{const A=c[f];"!"==A?t.add(f):A==a0&&r.add(f)}),i||(c.offset=u/this.duration),s.push(c)});const o=t.size?Dw(t.values()):[],a=r.size?Dw(r.values()):[];if(i){const l=s[0],u=Xv(l);l.offset=0,u.offset=1,s=[l,u]}return uI(this.element,s,o,a,this.duration,this.startTime,this.easing,!1)}}class iCe extends Rw{constructor(t,r,i,s,o,a,l=!1){super(t,r,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:r,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&r){const o=[],a=i+r,l=r/a,u=Up(t[0],!1);u.offset=0,o.push(u);const c=Up(t[0],!1);c.offset=BX(l),o.push(c);const f=t.length-1;for(let A=1;A<=f;A++){let d=Up(t[A],!1);d.offset=BX((r+d.offset*i)/a),o.push(d)}i=a,r=0,s="",t=o}return uI(this.element,t,this.preStyleProps,this.postStyleProps,i,r,s,!0)}}function BX(e,t=3){const r=Math.pow(10,t-1);return Math.round(e*r)/r}class AI{}class oCe extends AI{normalizePropertyName(t,r){return sI(t)}normalizeStyleValue(t,r,i,s){let o="";const a=i.toString().trim();if(aCe[r]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+o}}const aCe=(()=>function lCe(e){const t={};return e.forEach(r=>t[r]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xX(e,t,r,i,s,o,a,l,u,c,f,A,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:r,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:A,errors:d}}const dI={};class DX{constructor(t,r,i){this._triggerName=t,this.ast=r,this._stateStyles=i}match(t,r,i,s){return function uCe(e,t,r,i,s){return e.some(o=>o(t,r,i,s))}(this.ast.matchers,t,r,i,s)}buildStyles(t,r,i){const s=this._stateStyles["*"],o=this._stateStyles[t],a=s?s.buildStyles(r,i):{};return o?o.buildStyles(r,i):a}build(t,r,i,s,o,a,l,u,c,f){const A=[],d=this.ast.options&&this.ast.options.params||dI,g=this.buildStyles(i,l&&l.params||dI,A),m=u&&u.params||dI,v=this.buildStyles(s,m,A),_=new Set,C=new Map,D=new Map,T="void"===s,I={params:{...d,...m}},V=f?[]:cI(t,r,this.ast.animation,o,a,g,v,I,c,A);let R=0;if(V.forEach(ne=>{R=Math.max(ne.duration+ne.delay,R)}),A.length)return xX(r,this._triggerName,i,s,T,g,v,[],[],C,D,R,A);V.forEach(ne=>{const Ae=ne.element,ae=Ic(C,Ae,{});ne.preStyleProps.forEach(Ce=>ae[Ce]=!0);const Be=Ic(D,Ae,{});ne.postStyleProps.forEach(Ce=>Be[Ce]=!0),Ae!==r&&_.add(Ae)});const K=Dw(_.values());return xX(r,this._triggerName,i,s,T,g,v,V,K,C,D,R)}}class cCe{constructor(t,r,i){this.styles=t,this.defaultParams=r,this.normalizer=i}buildStyles(t,r){const i={},s=Xv(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!=a&&(s[o]=a)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const a=o;Object.keys(a).forEach(l=>{let u=a[l];u.length>1&&(u=xw(u,s,r));const c=this.normalizer.normalizePropertyName(l,r);u=this.normalizer.normalizeStyleValue(l,c,u,r),i[c]=u})}}),i}}class ACe{constructor(t,r,i){this.name=t,this.ast=r,this._normalizer=i,this.transitionFactories=[],this.states={},r.states.forEach(s=>{this.states[s.name]=new cCe(s.style,s.options&&s.options.params||{},i)}),FX(this.states,"true","1"),FX(this.states,"false","0"),r.transitions.forEach(s=>{this.transitionFactories.push(new DX(t,s,this.states))}),this.fallbackTransition=function dCe(e,t,r){return new DX(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,r,i,s){return this.transitionFactories.find(a=>a.match(t,r,i,s))||null}matchStyles(t,r,i){return this.fallbackTransition.buildStyles(t,r,i)}}function FX(e,t,r){e.hasOwnProperty(t)?e.hasOwnProperty(r)||(e[r]=e[t]):e.hasOwnProperty(r)&&(e[t]=e[r])}const hCe=new Nw;class pCe{constructor(t,r,i){this.bodyNode=t,this._driver=r,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,r){const i=[],s=aI(this._driver,r,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,r,i){const s=t.element,o=uX(0,this._normalizer,0,t.keyframes,r,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,r,i={}){const s=[],o=this._animations[t];let a;const l=new Map;if(o?(a=cI(this._driver,r,o,tI,Cw,{},{},i,hCe,s),a.forEach(f=>{const A=Ic(l,f.element,{});f.postStyleProps.forEach(d=>A[d]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);l.forEach((f,A)=>{Object.keys(f).forEach(d=>{f[d]=this._driver.computeStyle(A,d,a0)})});const c=Pp(a.map(f=>{const A=l.get(f.element);return this._buildPlayer(f,{},A)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const r=this._getPlayer(t);r.destroy(),delete this._playersById[t];const i=this.players.indexOf(r);i>=0&&this.players.splice(i,1)}_getPlayer(t){const r=this._playersById[t];if(!r)throw new Error(`Unable to find the timeline player referenced by ${t}`);return r}listen(t,r,i,s){const o=WT(r,"","","");return jT(this._getPlayer(t),i,o,s),()=>{}}command(t,r,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,r,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const MX="ng-animate-queued",hI="ng-animate-disabled",yCe=[],TX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ff="__ng_removed";class pI{constructor(t,r=""){this.namespaceId=r;const i=t&&t.hasOwnProperty("value");if(this.value=function SCe(e){return e??null}(i?t.value:t),i){const o=Xv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const r=t.params;if(r){const i=this.options.params;Object.keys(r).forEach(s=>{null==i[s]&&(i[s]=r[s])})}}}const E8="void",gI=new pI(E8);class bCe{constructor(t,r,i){this.id=t,this.hostElement=r,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mf(r,this._hostClassName)}listen(t,r,i,s){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${r}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function BCe(e){return"start"==e||"done"==e}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${r}" is not supported!`);const o=Ic(this._elementListeners,t,[]),a={name:r,phase:i,callback:s};o.push(a);const l=Ic(this._engine.statesByElement,t,{});return l.hasOwnProperty(r)||(Mf(t,Ew),Mf(t,Ew+"-"+r),l[r]=gI),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(a);u>=0&&o.splice(u,1),this._triggers[r]||delete l[r]})}}register(t,r){return!this._triggers[t]&&(this._triggers[t]=r,!0)}_getTrigger(t){const r=this._triggers[t];if(!r)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return r}trigger(t,r,i,s=!0){const o=this._getTrigger(r),a=new mI(this.id,r,t);let l=this._engine.statesByElement.get(t);l||(Mf(t,Ew),Mf(t,Ew+"-"+r),this._engine.statesByElement.set(t,l={}));let u=l[r];const c=new pI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),l[r]=c,u||(u=gI),c.value!==E8&&u.value===c.value){if(!function FCe(e,t){const r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){const m=[],v=o.matchStyles(u.value,u.params,m),_=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Mg(t,v),Ld(t,_)})}return}const d=Ic(this._engine.playersByElement,t,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==r&&m.queued&&m.destroy()});let h=o.matchTransition(u.value,c.value,t,c.params),g=!1;if(!h){if(!s)return;h=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:g}),g||(Mf(t,MX),a.onStart(()=>{Jv(t,MX)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);const v=this._engine.playersByElement.get(t);if(v){let _=v.indexOf(a);_>=0&&v.splice(_,1)}}),this.players.push(a),d.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((r,i)=>{delete r[t]}),this._elementListeners.forEach((r,i)=>{this._elementListeners.set(i,r.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const r=this._engine.playersByElement.get(t);r&&(r.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,r){const i=this._engine.driver.query(t,Sw,!0);i.forEach(s=>{if(s[Ff])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(a=>a.triggerLeaveAnimation(s,r,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,r,i,s){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const l=[];if(Object.keys(o).forEach(u=>{if(a.set(u,o[u].value),this._triggers[u]){const c=this.trigger(t,u,E8,s);c&&l.push(c)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,r,a),i&&Pp(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const r=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(r&&i){const s=new Set;r.forEach(o=>{const a=o.name;if(s.has(a))return;s.add(a);const u=this._triggers[a].fallbackTransition,c=i[a]||gI,f=new pI(E8),A=new mI(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:c,toState:f,player:A,isFallbackTransition:!0})})}}removeNode(t,r){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,r),this.triggerLeaveAnimation(t,r,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,r);else{const o=t[Ff];(!o||o===TX)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,r))}}insertNode(t,r){Mf(t,this._hostClassName)}drainQueuedTransitions(t){const r=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){const u=WT(o,i.triggerName,i.fromState.value,i.toState.value);u._data=t,jT(i.player,l.phase,u,l.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):r.push(i)}),this._queue=[],r.sort((i,s)=>{const o=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let r=!1;return this._elementListeners.has(t)&&(r=!0),r=!!this._queue.find(i=>i.element===t)||r,r}}class CCe{constructor(t,r,i){this.bodyNode=t,this.driver=r,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,r){this.onRemovalComplete(t,r)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(r=>{r.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,r){const i=new bCe(t,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(i,r):(this.newHostElements.set(r,i),this.collectEnterElement(r)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,r){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,r)){this._namespaceList.splice(o+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(r,t),t}register(t,r){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,r)),i}registerTrigger(t,r,i){let s=this._namespaceLookup[t];s&&s.register(r,i)&&this.totalAnimations++}destroy(t,r){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(r))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const r=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let o=0;o<s.length;o++){const a=i[s[o]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&r.add(l)}}}return r}trigger(t,r,i,s){if(kw(r)){const o=this._fetchNamespace(t);if(o)return o.trigger(r,i,s),!0}return!1}insertNode(t,r,i,s){if(!kw(r))return;const o=r[Ff];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(r);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(r,i)}s&&this.collectEnterElement(r)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,r){r?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mf(t,hI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Jv(t,hI))}removeNode(t,r,i,s){if(kw(r)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(r,s):this.markElementAsRemoved(t,r,!1,s),i){const a=this.namespacesByHostElement.get(r);a&&a.id!==t&&a.removeNode(r,s)}}else this._onRemovalComplete(r,s)}markElementAsRemoved(t,r,i,s,o){this.collectedLeaveElements.push(r),r[Ff]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,r,i,s,o){return kw(r)?this._fetchNamespace(t).listen(r,i,s,o):()=>{}}_buildInstruction(t,r,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,r,o)}destroyInnerAnimations(t){let r=this.driver.query(t,Sw,!0);r.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(t,nI,!0),r.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const r=this.playersByElement.get(t);r&&r.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const r=this.playersByQueriedElement.get(t);r&&r.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const r=t[Ff];if(r&&r.setForRemoval){if(t[Ff]=TX,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}t.classList?.contains(hI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{r=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],r.length?Pp(r).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,r){const i=new Nw,s=[],o=new Map,a=[],l=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(z=>{f.add(z);const oe=this.driver.query(z,".ng-animate-queued",!0);for(let J=0;J<oe.length;J++)f.add(oe[J])});const A=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=OX(d,this.collectedEnterElements),g=new Map;let m=0;h.forEach((z,oe)=>{const J=tI+m++;g.set(oe,J),z.forEach(le=>Mf(le,J))});const v=[],_=new Set,C=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const oe=this.collectedLeaveElements[z],J=oe[Ff];J&&J.setForRemoval&&(v.push(oe),_.add(oe),J.hasAnimation?this.driver.query(oe,".ng-star-inserted",!0).forEach(le=>_.add(le)):C.add(oe))}const D=new Map,T=OX(d,Array.from(_));T.forEach((z,oe)=>{const J=Cw+m++;D.set(oe,J),z.forEach(le=>Mf(le,J))}),t.push(()=>{h.forEach((z,oe)=>{const J=g.get(oe);z.forEach(le=>Jv(le,J))}),T.forEach((z,oe)=>{const J=D.get(oe);z.forEach(le=>Jv(le,J))}),v.forEach(z=>{this.processLeaveNode(z)})});const I=[],V=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(r).forEach(J=>{const le=J.player,de=J.element;if(I.push(le),this.collectedEnterElements.length){const gt=de[Ff];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(J.triggerName)){const ln=gt.previousTriggersValues.get(J.triggerName),je=this.statesByElement.get(J.element);je&&je[J.triggerName]&&(je[J.triggerName].value=ln)}return void le.destroy()}}const De=!A||!this.driver.containsElement(A,de),Ie=D.get(de),We=g.get(de),Ve=this._buildInstruction(J,i,We,Ie,De);if(Ve.errors&&Ve.errors.length)return void V.push(Ve);if(De)return le.onStart(()=>Mg(de,Ve.fromStyles)),le.onDestroy(()=>Ld(de,Ve.toStyles)),void s.push(le);if(J.isFallbackTransition)return le.onStart(()=>Mg(de,Ve.fromStyles)),le.onDestroy(()=>Ld(de,Ve.toStyles)),void s.push(le);const st=[];Ve.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||st.push(gt)}),Ve.timelines=st,i.append(de,Ve.timelines),a.push({instruction:Ve,player:le,element:de}),Ve.queriedElements.forEach(gt=>Ic(l,gt,[]).push(le)),Ve.preStyleProps.forEach((gt,ln)=>{const je=Object.keys(gt);if(je.length){let Et=u.get(ln);Et||u.set(ln,Et=new Set),je.forEach(Ft=>Et.add(Ft))}}),Ve.postStyleProps.forEach((gt,ln)=>{const je=Object.keys(gt);let Et=c.get(ln);Et||c.set(ln,Et=new Set),je.forEach(Ft=>Et.add(Ft))})});if(V.length){const z=[];V.forEach(oe=>{z.push(`@${oe.triggerName} has failed due to:\n`),oe.errors.forEach(J=>z.push(`- ${J}\n`))}),I.forEach(oe=>oe.destroy()),this.reportError(z)}const R=new Map,K=new Map;a.forEach(z=>{const oe=z.element;i.has(oe)&&(K.set(oe,oe),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,R))}),s.forEach(z=>{const oe=z.element;this._getPreviousPlayers(oe,!1,z.namespaceId,z.triggerName,null).forEach(le=>{Ic(R,oe,[]).push(le),le.destroy()})});const ne=v.filter(z=>kX(z,u,c)),Ae=new Map;NX(Ae,this.driver,C,c,a0).forEach(z=>{kX(z,u,c)&&ne.push(z)});const Be=new Map;h.forEach((z,oe)=>{NX(Be,this.driver,new Set(z),u,"!")}),ne.forEach(z=>{const oe=Ae.get(z),J=Be.get(z);Ae.set(z,{...oe,...J})});const Ce=[],U=[],Q={};a.forEach(z=>{const{element:oe,player:J,instruction:le}=z;if(i.has(oe)){if(f.has(oe))return J.onDestroy(()=>Ld(oe,le.toStyles)),J.disabled=!0,J.overrideTotalTime(le.totalTime),void s.push(J);let de=Q;if(K.size>1){let Ie=oe;const We=[];for(;Ie=Ie.parentNode;){const Ve=K.get(Ie);if(Ve){de=Ve;break}We.push(Ie)}We.forEach(Ve=>K.set(Ve,de))}const De=this._buildAnimation(J.namespaceId,le,R,o,Be,Ae);if(J.setRealPlayer(De),de===Q)Ce.push(J);else{const Ie=this.playersByElement.get(de);Ie&&Ie.length&&(J.parentPlayer=Pp(Ie)),s.push(J)}}else Mg(oe,le.fromStyles),J.onDestroy(()=>Ld(oe,le.toStyles)),U.push(J),f.has(oe)&&s.push(J)}),U.forEach(z=>{const oe=o.get(z.element);if(oe&&oe.length){const J=Pp(oe);z.setRealPlayer(J)}}),s.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<v.length;z++){const oe=v[z],J=oe[Ff];if(Jv(oe,Cw),J&&J.hasAnimation)continue;let le=[];if(l.size){let De=l.get(oe);De&&De.length&&le.push(...De);let Ie=this.driver.query(oe,nI,!0);for(let We=0;We<Ie.length;We++){let Ve=l.get(Ie[We]);Ve&&Ve.length&&le.push(...Ve)}}const de=le.filter(De=>!De.destroyed);de.length?xCe(this,oe,de):this.processLeaveNode(oe)}return v.length=0,Ce.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const oe=this.players.indexOf(z);this.players.splice(oe,1)}),z.play()}),Ce}elementContainsData(t,r){let i=!1;const s=r[Ff];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(r)&&(i=!0),this.playersByQueriedElement.has(r)&&(i=!0),this.statesByElement.has(r)&&(i=!0),this._fetchNamespace(t).elementContainsData(r)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,r,i,s,o){let a=[];if(r){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const u=!o||o==E8;l.forEach(c=>{c.queued||!u&&c.triggerName!=s||a.push(c)})}}return(i||s)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||s&&s!=l.triggerName))),a}_beforeAnimationBuild(t,r,i){const o=r.element,a=r.isRemovalTransition?void 0:t,l=r.isRemovalTransition?void 0:r.triggerName;for(const u of r.timelines){const c=u.element,f=c!==o,A=Ic(i,c,[]);this._getPreviousPlayers(c,f,a,l,r.toState).forEach(h=>{const g=h.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),h.destroy(),A.push(h)})}Mg(o,r.fromStyles)}_buildAnimation(t,r,i,s,o,a){const l=r.triggerName,u=r.element,c=[],f=new Set,A=new Set,d=r.timelines.map(g=>{const m=g.element;f.add(m);const v=m[Ff];if(v&&v.removedBeforeQueried)return new Yv(g.duration,g.delay);const _=m!==u,C=function DCe(e){const t=[];return RX(e,t),t}((i.get(m)||yCe).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===m),D=o.get(m),T=a.get(m),I=uX(0,this._normalizer,0,g.keyframes,D,T),V=this._buildPlayer(g,I,C);if(g.subTimeline&&s&&A.add(m),_){const R=new mI(t,l,m);R.setRealPlayer(V),c.push(R)}return V});c.forEach(g=>{Ic(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function ECe(e,t,r){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const s=i.indexOf(r);i.splice(s,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const s=i.indexOf(r);i.splice(s,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,g.element,g))}),f.forEach(g=>Mf(g,gX));const h=Pp(d);return h.onDestroy(()=>{f.forEach(g=>Jv(g,gX)),Ld(u,r.toStyles)}),A.forEach(g=>{Ic(s,g,[]).push(h)}),h}_buildPlayer(t,r,i){return r.length>0?this.driver.animate(t.element,r,t.duration,t.delay,t.easing,i):new Yv(t.duration,t.delay)}}class mI{constructor(t,r,i){this.namespaceId=t,this.triggerName=r,this.element=i,this._player=new Yv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(i=>jT(t,r,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const r=this._player;r.triggerCallback&&t.onStart(()=>r.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,r){Ic(this._queuedCallbacks,t,[]).push(r)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const r=this._player;r.triggerCallback&&r.triggerCallback(t)}}function kw(e){return e&&1===e.nodeType}function IX(e,t){const r=e.style.display;return e.style.display=t??"none",r}function NX(e,t,r,i,s){const o=[];r.forEach(u=>o.push(IX(u)));const a=[];i.forEach((u,c)=>{const f={};u.forEach(A=>{const d=f[A]=t.computeStyle(c,A,s);(!d||0==d.length)&&(c[Ff]=wCe,a.push(c))}),e.set(c,f)});let l=0;return r.forEach(u=>IX(u,o[l++])),a}function OX(e,t){const r=new Map;if(e.forEach(l=>r.set(l,[])),0==t.length)return r;const s=new Set(t),o=new Map;function a(l){if(!l)return 1;let u=o.get(l);if(u)return u;const c=l.parentNode;return u=r.has(c)?c:s.has(c)?1:a(c),o.set(l,u),u}return t.forEach(l=>{const u=a(l);1!==u&&r.get(u).push(l)}),r}function Mf(e,t){e.classList?.add(t)}function Jv(e,t){e.classList?.remove(t)}function xCe(e,t,r){Pp(r).onDone(()=>e.processLeaveNode(t))}function RX(e,t){for(let r=0;r<e.length;r++){const i=e[r];i instanceof aX?RX(i.players,t):t.push(i)}}function kX(e,t,r){const i=r.get(e);if(!i)return!1;let s=t.get(e);return s?i.forEach(o=>s.add(o)):t.set(e,i),r.delete(e),!0}class Pw{constructor(t,r,i){this.bodyNode=t,this._driver=r,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new CCe(t,r,i),this._timelineEngine=new pCe(t,r,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,r,i,s,o){const a=t+"-"+s;let l=this._triggerCache[a];if(!l){const u=[],c=aI(this._driver,o,u);if(u.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);l=function fCe(e,t,r){return new ACe(e,t,r)}(s,c,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(r,s,l)}register(t,r){this._transitionEngine.register(t,r)}destroy(t,r){this._transitionEngine.destroy(t,r)}onInsert(t,r,i,s){this._transitionEngine.insertNode(t,r,i,s)}onRemove(t,r,i,s){this._transitionEngine.removeNode(t,r,s||!1,i)}disableAnimations(t,r){this._transitionEngine.markElementAsDisabled(t,r)}process(t,r,i,s){if("@"==i.charAt(0)){const[o,a]=cX(i);this._timelineEngine.command(o,r,a,s)}else this._transitionEngine.trigger(t,r,i,s)}listen(t,r,i,s,o){if("@"==i.charAt(0)){const[a,l]=cX(i);return this._timelineEngine.listen(a,r,l,o)}return this._transitionEngine.listen(t,r,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function PX(e,t){let r=null,i=null;return Array.isArray(t)&&t.length?(r=vI(t[0]),t.length>1&&(i=vI(t[t.length-1]))):t&&(r=vI(t)),r||i?new MCe(e,r,i):null}let MCe=(()=>{class e{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(r);o||e.initialStylesByElement.set(r,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ld(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ld(this._element,this._initialStyles),this._endStyles&&(Ld(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),Ld(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function vI(e){let t=null;const r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];TCe(s)&&(t=t||{},t[s]=e[s])}return t}function TCe(e){return"display"===e||"position"===e}const UX="animation",LX="animationend";class OCe{constructor(t,r,i,s,o,a,l){this._element=t,this._name=r,this._duration=i,this._delay=s,this._easing=o,this._fillMode=a,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function RCe(e,t){const r=yI(e,"").trim();let i=0;r.length&&(i=function PCe(e,t){let r=0;for(let i=0;i<e.length;i++)e.charAt(i)===t&&r++;return r}(r,",")+1,t=`${r}, ${t}`),Uw(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),VX(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QX(this._element,this._name,"paused")}resume(){QX(this._element,this._name,"running")}setPosition(t){const r=HX(this._element,this._name);this._position=t*this._duration,Uw(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(t){const r=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),VX(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function kCe(e,t){const i=yI(e,"").split(","),s=_I(i,t);s>=0&&(i.splice(s,1),Uw(e,"",i.join(",")))}(this._element,this._name))}}function QX(e,t,r){Uw(e,"PlayState",r,HX(e,t))}function HX(e,t){const r=yI(e,"");return r.indexOf(",")>0?_I(r.split(","),t):_I([r],t)}function _I(e,t){for(let r=0;r<e.length;r++)if(e[r].indexOf(t)>=0)return r;return-1}function VX(e,t,r){r?e.removeEventListener(LX,t):e.addEventListener(LX,t)}function Uw(e,t,r,i){const s=UX+t;if(null!=i){const o=e.style[s];if(o.length){const a=o.split(",");a[i]=r,r=a.join(",")}}e.style[s]=r}function yI(e,t){return e.style[UX+t]||""}class $X{constructor(t,r,i,s,o,a,l,u){this.element=t,this.keyframes=r,this.animationName=i,this._duration=s,this._delay=o,this._finalStyles=l,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new OCe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=r?this._finalStyles[i]:oI(this.element,i))})}this.currentSnapshot=t}}class QCe extends Yv{constructor(t,r){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=dX(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const r=this._startingStyles[t];r?this.element.style.setProperty(t,r):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class zX{constructor(){this._count=0}validateStyleProperty(t){return XT(t)}matchesElement(t,r){return!1}containsElement(t,r){return JT(t,r)}query(t,r,i){return ZT(t,r,i)}computeStyle(t,r,i){return window.getComputedStyle(t)[r]}buildKeyframeElement(t,r,i){i=i.map(l=>dX(l));let s=`@keyframes ${r} {\n`,o="";i.forEach(l=>{o=" ";const u=parseFloat(l.offset);s+=`${o}${100*u}% {\n`,o+=" ",Object.keys(l).forEach(c=>{const f=l[c];switch(c){case"offset":return;case"easing":return void(f&&(s+=`${o}animation-timing-function: ${f};\n`));default:return void(s+=`${o}${c}: ${f};\n`)}}),s+=`${o}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,r,i,s,o,a=[],l){const u=a.filter(v=>v instanceof $X),c={};wX(i,s)&&u.forEach(v=>{let _=v.currentSnapshot;Object.keys(_).forEach(C=>c[C]=_[C])});const f=function $Ce(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(r=bX(t,r,c));if(0==i)return new QCe(t,f);const A="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,A,r);(function VCe(e){const t=e.getRootNode?.();return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(d);const g=PX(t,r),m=new $X(t,r,A,i,s,o,f,g);return m.onDestroy(()=>function GCe(e){e.parentNode.removeChild(e)}(d)),m}}class jX{constructor(t,r,i,s){this.element=t,this.keyframes=r,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,r,i){return t.animate(r,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const r=this._finalKeyframe;Object.keys(r).forEach(i=>{"offset"!=i&&(t[i]=this._finished?r[i]:oI(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}class zCe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(KX().toString()),this._cssKeyframesDriver=new zX}validateStyleProperty(t){return XT(t)}matchesElement(t,r){return!1}containsElement(t,r){return JT(t,r)}query(t,r,i){return ZT(t,r,i)}computeStyle(t,r,i){return window.getComputedStyle(t)[r]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,r,i,s,o,a=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,r,i,s,o,a);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(f.easing=o);const A={},d=a.filter(g=>g instanceof jX);wX(i,s)&&d.forEach(g=>{let m=g.currentSnapshot;Object.keys(m).forEach(v=>A[v]=m[v])});const h=PX(t,r=bX(t,r=r.map(g=>Up(g,!1)),A));return new jX(t,r,f,h)}}function KX(){return lX()&&Element.prototype.animate||{}}let jCe=(()=>{class e extends nX{constructor(r,i){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:Wr.None,styles:[],data:{animation:[]}})}build(r){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(r)?iX(r):r;return WX(this._renderer,null,i,"register",[s]),new KCe(i,this._renderer)}}return e.\u0275fac=function(r){return new(r||e)(er($v),er(va))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class KCe extends class Ibe{}{constructor(t,r){super(),this._id=t,this._renderer=r}create(t,r){return new WCe(this._id,t,r||{},this._renderer)}}class WCe{constructor(t,r,i,s){this.id=t,this.element=r,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,r){return this._renderer.listen(this.element,`@@${this.id}:${t}`,r)}_command(t,...r){return WX(this._renderer,this.element,this.id,t,r)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WX(e,t,r,i,s){return e.setProperty(t,`@@${r}:${i}`,s)}const YX="@.disabled";let YCe=(()=>{class e{constructor(r,i,s){this.delegate=r,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(r,i){const o=this.delegate.createRenderer(r,i);if(!(r&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(o);return f||(f=new XX("",o,this.engine),this._rendererCache.set(o,f)),f}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,r);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(a,l,r,f.name,f)};return i.data.animation.forEach(u),new XCe(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,i,s){r>=0&&r<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(r){return new(r||e)(er($v),er(Pw),er(Is))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class XX{constructor(t,r,i){this.namespaceId=t,this.delegate=r,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>r.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,r){this.delegate.appendChild(t,r),this.engine.onInsert(this.namespaceId,r,t,!1)}insertBefore(t,r,i,s=!0){this.delegate.insertBefore(t,r,i),this.engine.onInsert(this.namespaceId,r,t,s)}removeChild(t,r,i){this.engine.onRemove(this.namespaceId,r,this.delegate,i)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,i,s){this.delegate.setAttribute(t,r,i,s)}removeAttribute(t,r,i){this.delegate.removeAttribute(t,r,i)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,i,s){this.delegate.setStyle(t,r,i,s)}removeStyle(t,r,i){this.delegate.removeStyle(t,r,i)}setProperty(t,r,i){"@"==r.charAt(0)&&r==YX?this.disableAnimations(t,!!i):this.delegate.setProperty(t,r,i)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,i){return this.delegate.listen(t,r,i)}disableAnimations(t,r){this.engine.disableAnimations(t,r)}}class XCe extends XX{constructor(t,r,i,s){super(r,i,s),this.factory=t,this.namespaceId=r}setProperty(t,r,i){"@"==r.charAt(0)?"."==r.charAt(1)&&r==YX?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,r.substr(1),i):this.delegate.setProperty(t,r,i)}listen(t,r,i){if("@"==r.charAt(0)){const s=function JCe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=r.substr(1),a="";return"@"!=o.charAt(0)&&([o,a]=function ZCe(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,r,i)}}let eEe=(()=>{class e extends Pw{constructor(r,i,s){super(r.body,i,s)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(r){return new(r||e)(er(va),er(eI),er(AI))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const JX=new Ai("AnimationModuleType"),ZX=[{provide:nX,useClass:jCe},{provide:AI,useFactory:function nEe(){return new oCe}},{provide:Pw,useClass:eEe},{provide:$v,useFactory:function rEe(e,t,r){return new YCe(e,t,r)},deps:[ww,Pw,Is]}],eJ=[{provide:eI,useFactory:function tEe(){return function qCe(){return"function"==typeof KX()}()?new zCe:new zX}},{provide:JX,useValue:"BrowserAnimations"},...ZX],iEe=[{provide:eI,useClass:hX},{provide:JX,useValue:"NoopAnimations"},...ZX];let sEe=(()=>{class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?iEe:eJ}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:eJ,imports:[ZY]}),e})();function mi(...e){let t=e[e.length-1];return qn(t)?(e.pop(),Le(e,t)):lt(e)}function Zv(e,t){return ct(e,t,1)}function Oc(e,t){return function(i){return i.lift(new oEe(e,t))}}class oEe{constructor(t,r){this.predicate=t,this.thisArg=r}call(t,r){return r.subscribe(new aEe(t,this.predicate,this.thisArg))}}class aEe extends P{constructor(t,r,i){super(t),this.predicate=r,this.thisArg=i,this.count=0}_next(t){let r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}r&&this.destination.next(t)}}class tJ{}class nJ{}class l0{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(r=>{const i=r.indexOf(":");if(i>0){const s=r.slice(0,i),o=s.toLowerCase(),a=r.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(r=>{let i=t[r];const s=r.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(r,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof l0?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new l0;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof l0?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,r);const s=("a"===t.op?this.headers.get(r):void 0)||[];s.push(...i),this.headers.set(r,s);break;case"d":const o=t.value;if(o){let a=this.headers.get(r);if(!a)return;a=a.filter(l=>-1===o.indexOf(l)),0===a.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,a)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class lEe{encodeKey(t){return rJ(t)}encodeValue(t){return rJ(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cEe=/%(\d[a-f0-9])/gi,fEe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function rJ(e){return encodeURIComponent(e).replace(cEe,(t,r)=>fEe[r]??t)}function iJ(e){return`${e}`}class Lp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lEe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uEe(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[a,l]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],u=r.get(a)||[];u.push(l),r.set(a,u)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const i=t.fromObject[r];this.map.set(r,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{r.push({param:i,value:o,op:"a"})}):r.push({param:i,value:s,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(i=>r+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Lp({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(iJ(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(iJ(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class AEe{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sJ(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function oJ(e){return"undefined"!=typeof Blob&&e instanceof Blob}function aJ(e){return"undefined"!=typeof FormData&&e instanceof FormData}class S8{constructor(t,r,i,s){let o;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dEe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new l0),this.context||(this.context=new AEe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=r;else{const l=r.indexOf("?");this.urlWithParams=r+(-1===l?"?":l<r.length-1?"&":"")+a}}else this.params=new Lp,this.urlWithParams=r}serializeBody(){return null===this.body?null:sJ(this.body)||oJ(this.body)||aJ(this.body)||function hEe(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aJ(this.body)?null:oJ(this.body)?this.body.type||null:sJ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((A,d)=>A.set(d,t.setHeaders[d]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((A,d)=>A.set(d,t.setParams[d]),c)),new S8(r,i,o,{params:c,headers:u,context:f,reportProgress:l,responseType:s,withCredentials:a})}}var Ta=(()=>((Ta=Ta||{})[Ta.Sent=0]="Sent",Ta[Ta.UploadProgress=1]="UploadProgress",Ta[Ta.ResponseHeader=2]="ResponseHeader",Ta[Ta.DownloadProgress=3]="DownloadProgress",Ta[Ta.Response=4]="Response",Ta[Ta.User=5]="User",Ta))();class wI{constructor(t,r=200,i="OK"){this.headers=t.headers||new l0,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bI extends wI{constructor(t={}){super(t),this.type=Ta.ResponseHeader}clone(t={}){return new bI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qw extends wI{constructor(t={}){super(t),this.type=Ta.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lJ extends wI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CI(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let pEe=(()=>{class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof S8)o=r;else{let u,c;u=s.headers instanceof l0?s.headers:new l0(s.headers),s.params&&(c=s.params instanceof Lp?s.params:new Lp({fromObject:s.params})),o=new S8(r,i,void 0!==s.body?s.body:null,{headers:u,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=mi(o).pipe(Zv(u=>this.handler.handle(u)));if(r instanceof S8||"events"===s.observe)return a;const l=a.pipe(Oc(u=>u instanceof Qw));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(xn(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(xn(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(xn(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(xn(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Lp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,CI(s,i))}post(r,i,s={}){return this.request("POST",r,CI(s,i))}put(r,i,s={}){return this.request("PUT",r,CI(s,i))}}return e.\u0275fac=function(r){return new(r||e)(er(tJ))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();class uJ{constructor(t,r){this.next=t,this.interceptor=r}handle(t){return this.interceptor.intercept(t,this.next)}}const cJ=new Ai("HTTP_INTERCEPTORS");let gEe=(()=>{class e{intercept(r,i){return i.handle(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const mEe=/^\)\]\}',?\n/;let fJ=(()=>{class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ke(i=>{const s=this.xhrFactory.build();if(s.open(r.method,r.urlWithParams),r.withCredentials&&(s.withCredentials=!0),r.headers.forEach((h,g)=>s.setRequestHeader(h,g.join(","))),r.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const h=r.detectContentTypeHeader();null!==h&&s.setRequestHeader("Content-Type",h)}if(r.responseType){const h=r.responseType.toLowerCase();s.responseType="json"!==h?h:"text"}const o=r.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const h=1223===s.status?204:s.status,g=s.statusText||"OK",m=new l0(s.getAllResponseHeaders()),v=function vEe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||r.url;return a=new bI({headers:m,status:h,statusText:g,url:v}),a},u=()=>{let{headers:h,status:g,statusText:m,url:v}=l(),_=null;204!==g&&(_=void 0===s.response?s.responseText:s.response),0===g&&(g=_?200:0);let C=g>=200&&g<300;if("json"===r.responseType&&"string"==typeof _){const D=_;_=_.replace(mEe,"");try{_=""!==_?JSON.parse(_):null}catch(T){_=D,C&&(C=!1,_={error:T,text:_})}}C?(i.next(new Qw({body:_,headers:h,status:g,statusText:m,url:v||void 0})),i.complete()):i.error(new lJ({error:_,headers:h,status:g,statusText:m,url:v||void 0}))},c=h=>{const{url:g}=l(),m=new lJ({error:h,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});i.error(m)};let f=!1;const A=h=>{f||(i.next(l()),f=!0);let g={type:Ta.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(g.total=h.total),"text"===r.responseType&&!!s.responseText&&(g.partialText=s.responseText),i.next(g)},d=h=>{let g={type:Ta.UploadProgress,loaded:h.loaded};h.lengthComputable&&(g.total=h.total),i.next(g)};return s.addEventListener("load",u),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),r.reportProgress&&(s.addEventListener("progress",A),null!==o&&s.upload&&s.upload.addEventListener("progress",d)),s.send(o),i.next({type:Ta.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",u),s.removeEventListener("timeout",c),r.reportProgress&&(s.removeEventListener("progress",A),null!==o&&s.upload&&s.upload.removeEventListener("progress",d)),s.readyState!==s.DONE&&s.abort()}})}}return e.\u0275fac=function(r){return new(r||e)(er(VY))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const EI=new Ai("XSRF_COOKIE_NAME"),SI=new Ai("XSRF_HEADER_NAME");class AJ{}let _Ee=(()=>{class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=NY(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return e.\u0275fac=function(r){return new(r||e)(er(va),er(jv),er(EI))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),BI=(()=>{class e{constructor(r,i){this.tokenService=r,this.headerName=i}intercept(r,i){const s=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(r);const o=this.tokenService.getToken();return null!==o&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,o)})),i.handle(r)}}return e.\u0275fac=function(r){return new(r||e)(er(AJ),er(SI))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),yEe=(()=>{class e{constructor(r,i){this.backend=r,this.injector=i,this.chain=null}handle(r){if(null===this.chain){const i=this.injector.get(cJ,[]);this.chain=i.reduceRight((s,o)=>new uJ(s,o),this.backend)}return this.chain.handle(r)}}return e.\u0275fac=function(r){return new(r||e)(er(nJ),er(Mo))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),wEe=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:BI,useClass:gEe}]}}static withOptions(r={}){return{ngModule:e,providers:[r.cookieName?{provide:EI,useValue:r.cookieName}:[],r.headerName?{provide:SI,useValue:r.headerName}:[]]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:[BI,{provide:cJ,useExisting:BI,multi:!0},{provide:AJ,useClass:_Ee},{provide:EI,useValue:"XSRF-TOKEN"},{provide:SI,useValue:"X-XSRF-TOKEN"}]}),e})(),bEe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:[pEe,{provide:tJ,useClass:yEe},fJ,{provide:nJ,useExisting:fJ}],imports:[[wEe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),CEe=(()=>{class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),EEe=(()=>{class e{constructor(r){this.messageService=r,this.createHandleError=(i="")=>(s="operation",o={})=>this.handleError(i,s,o)}handleError(r="",i="operation",s={}){return o=>{console.error(o);const a=o.error instanceof ErrorEvent?o.error.message:`server returned code ${o.status} with body "${o.error}"`;return this.messageService.add(`${r}: ${i} failed: ${a}`),mi(s)}}}return e.\u0275fac=function(r){return new(r||e)(er(CEe))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function Hw(e,t){return new Ke(r=>{const i=e.length;if(0===i)return void r.complete();const s=new Array(i);let o=0,a=0;for(let l=0;l<i;l++){const u=Qe(e[l]);let c=!1;r.add(u.subscribe({next:f=>{c||(c=!0,a++),s[l]=f},error:f=>r.error(f),complete:()=>{o++,(o===i||!c)&&(a===i&&r.next(t?t.reduce((f,A,d)=>(f[A]=s[d],f),{}):s),r.complete())}}))}})}let dJ=(()=>{class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return e.\u0275fac=function(r){return new(r||e)(it(xu),it($i))},e.\u0275dir=Fn({type:e}),e})(),Ig=(()=>{class e extends dJ{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Gl(e)))(i||e)}}(),e.\u0275dir=Fn({type:e,features:[io]}),e})();const Rc=new Ai("NgValueAccessor"),BEe={provide:Rc,useExisting:Y(()=>xI),multi:!0};let xI=(()=>{class e extends Ig{writeValue(r){this.setProperty("checked",r)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Gl(e)))(i||e)}}(),e.\u0275dir=Fn({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&tr("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Js([BEe]),io]}),e})();const xEe={provide:Rc,useExisting:Y(()=>Vw),multi:!0},FEe=new Ai("CompositionEventMode");let Vw=(()=>{class e extends dJ{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DEe(){const e=Ud()?Ud().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return e.\u0275fac=function(r){return new(r||e)(it(xu),it($i),it(FEe,8))},e.\u0275dir=Fn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&tr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Js([xEe]),io]}),e})();function Qp(e){return null==e||0===e.length}const Kl=new Ai("NgValidators"),Hp=new Ai("NgAsyncValidators");function B8(e){return null}function CJ(e){return null!=e}function EJ(e){const t=o8(e)?Qe(e):e;return RM(t),t}function SJ(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function BJ(e,t){return t.map(r=>r(e))}function xJ(e){return e.map(t=>function TEe(e){return!e.validate}(t)?t:r=>t.validate(r))}function DI(e){return null!=e?function DJ(e){if(!e)return null;const t=e.filter(CJ);return 0==t.length?null:function(r){return SJ(BJ(r,t))}}(xJ(e)):null}function FI(e){return null!=e?function FJ(e){if(!e)return null;const t=e.filter(CJ);return 0==t.length?null:function(r){return function SEe(...e){if(1===e.length){const t=e[0];if(Wn(t))return Hw(t,null);if(Yr(t)&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t);return Hw(r.map(i=>t[i]),r)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Hw(e=1===e.length&&Wn(e[0])?e[0]:e,null).pipe(xn(r=>t(...r)))}return Hw(e,null)}(BJ(r,t).map(EJ)).pipe(xn(SJ))}}(xJ(e)):null}function MJ(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function MI(e){return e?Array.isArray(e)?e:[e]:[]}function $w(e,t){return Array.isArray(e)?e.includes(t):e===t}function NJ(e,t){const r=MI(t);return MI(e).forEach(s=>{$w(r,s)||r.push(s)}),r}function OJ(e,t){return MI(t).filter(r=>!$w(e,r))}class RJ{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=DI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Fu extends RJ{get formDirective(){return null}get path(){return null}}class Vp extends RJ{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kJ{constructor(t){this._cd=t}is(t){return"submitted"===t?!!this._cd?.submitted:!!this._cd?.control?.[t]}}let PJ=(()=>{class e extends kJ{constructor(r){super(r)}}return e.\u0275fac=function(r){return new(r||e)(it(Vp,2))},e.\u0275dir=Fn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&po("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[io]}),e})(),UJ=(()=>{class e extends kJ{constructor(r){super(r)}}return e.\u0275fac=function(r){return new(r||e)(it(Fu,10))},e.\u0275dir=Fn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&po("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[io]}),e})();function x8(e,t){NI(e,t),t.valueAccessor.writeValue(e.value),function LEe(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QJ(e,t)})}(e,t),function HEe(e,t){const r=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function QEe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QJ(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function UEe(e,t){if(t.valueAccessor.setDisabledState){const r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function jw(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function NI(e,t){const r=function TJ(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(MJ(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const i=function IJ(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(MJ(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const s=()=>e.updateValueAndValidity();jw(t._rawValidators,s),jw(t._rawAsyncValidators,s)}function QJ(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ww(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const D8="VALID",Yw="INVALID",e3="PENDING",F8="DISABLED";function PI(e){return(LI(e)?e.validators:e)||null}function $J(e){return Array.isArray(e)?DI(e):e||null}function UI(e,t){return(LI(t)?t.asyncValidators:e)||null}function GJ(e){return Array.isArray(e)?FI(e):e||null}function LI(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const QI=e=>e instanceof VI;function qJ(e){return(e=>e instanceof WJ)(e)?e.value:e.getRawValue()}function jJ(e,t){const r=QI(e),i=e.controls;if(!(r?Object.keys(i):i).length)throw new _e(1e3,"");if(!i[t])throw new _e(1001,"")}function KJ(e,t){QI(e),e._forEachChild((i,s)=>{if(void 0===t[s])throw new _e(1002,"")})}class HI{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=r,this._composedValidatorFn=$J(this._rawValidators),this._composedAsyncValidatorFn=GJ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===D8}get invalid(){return this.status===Yw}get pending(){return this.status==e3}get disabled(){return this.status===F8}get enabled(){return this.status!==F8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$J(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=GJ(t)}addValidators(t){this.setValidators(NJ(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NJ(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OJ(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OJ(t,this._rawAsyncValidators))}hasValidator(t){return $w(this._rawValidators,t)}hasAsyncValidator(t){return $w(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=e3,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=F8,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=D8,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D8||this.status===e3)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F8:D8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=e3,this._hasOwnPendingAsyncValidator=!0;const r=EJ(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){return function zEe(e,t,r){if(null==t||(Array.isArray(t)||(t=t.split(r)),Array.isArray(t)&&0===t.length))return null;let i=e;return t.forEach(s=>{i=QI(i)?i.controls.hasOwnProperty(s)?i.controls[s]:null:(e=>e instanceof jEe)(i)&&i.at(s)||null}),i}(this,t,".")}getError(t,r){const i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new hr,this.statusChanges=new hr}_calculateStatus(){return this._allControlsDisabled()?F8:this.errors?Yw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(e3)?e3:this._anyControlsHaveStatus(Yw)?Yw:D8}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){LI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class WJ extends HI{constructor(t=null,r,i){super(PI(r),UI(i,r)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=null,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ww(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ww(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class VI extends HI{constructor(t,r,i){super(PI(r),UI(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,i={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){KJ(this,t),Object.keys(t).forEach(i=>{jJ(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,i)=>(t[i]=qJ(r),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,i)=>!!i._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const i=this.controls[r];i&&t(i,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const r of Object.keys(this.controls)){const i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(t,r){let i=t;return this._forEachChild((s,o)=>{i=r(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jEe extends HI{constructor(t,r,i){super(PI(r),UI(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,r={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(t,r,i={}){this.controls.splice(t,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),r&&(this.controls.splice(t,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,r={}){KJ(this,t),t.forEach((i,s)=>{jJ(this,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t=[],r={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(t=>qJ(t))}clear(t={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((r,i)=>!!i._syncPendingControls()||r,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((r,i)=>{t(r,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(r=>r.enabled&&t(r))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const KEe={provide:Fu,useExisting:Y(()=>Xw)},M8=(()=>Promise.resolve(null))();let Xw=(()=>{class e extends Fu{constructor(r,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new hr,this.form=new VI({},DI(r),FI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){M8.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),x8(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){M8.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),Ww(this._directives,r)})}addFormGroup(r){M8.then(()=>{const i=this._findContainer(r.path),s=new VI({});(function HJ(e,t){NI(e,t)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){M8.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){M8.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function VJ(e,t){e._syncPendingControls(),t.forEach(r=>{const i=r.control;"submit"===i.updateOn&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return e.\u0275fac=function(r){return new(r||e)(it(Kl,10),it(Hp,10))},e.\u0275dir=Fn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&tr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Js([KEe]),io]}),e})();const YEe={provide:Vp,useExisting:Y(()=>$I)},JJ=(()=>Promise.resolve(null))();let $I=(()=>{class e extends Vp{constructor(r,i,s,o){super(),this.control=new WJ,this._registered=!1,this.update=new hr,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function RI(e,t){if(!t)return null;let r,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===Vw?r=o:function GEe(e){return Object.getPrototypeOf(e.constructor)===Ig}(o)?i=o:s=o}),s||i||r||null}(0,o)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function OI(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function zw(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){x8(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){JJ.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=""===i||i&&"false"!==i;JJ.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(r){return new(r||e)(it(Fu,9),it(Kl,10),it(Hp,10),it(Rc,10))},e.\u0275dir=Fn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Js([YEe]),io,fi]}),e})(),ZJ=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Fn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const XEe={provide:Rc,useExisting:Y(()=>GI),multi:!0};let GI=(()=>{class e extends Ig{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=i=>{r(""==i?null:parseFloat(i))}}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Gl(e)))(i||e)}}(),e.\u0275dir=Fn({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&tr("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Js([XEe]),io]}),e})();const JEe={provide:Rc,useExisting:Y(()=>zI),multi:!0};let eZ=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})(),ZEe=(()=>{class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r)return void this._accessors.splice(i,1)}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return!!r[0].control&&r[0]._parent===i._control._parent&&r[1].name===i.name}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:eZ}),e})(),zI=(()=>{class e extends Ig{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Vp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}fireUncheck(r){this.writeValue(r)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(r){return new(r||e)(it(xu),it($i),it(ZEe),it(Mo))},e.\u0275dir=Fn({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&tr("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Js([JEe]),io]}),e})();function uZ(e){return"number"==typeof e?e:parseFloat(e)}let T8=(()=>{class e{constructor(){this._validator=B8}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):B8,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Fn({type:e,features:[fi]}),e})();const ASe={provide:Kl,useExisting:Y(()=>XI),multi:!0};let XI=(()=>{class e extends T8{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>uZ(r),this.createValidator=r=>function gJ(e){return t=>{if(Qp(t.value)||Qp(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}(r)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Gl(e)))(i||e)}}(),e.\u0275dir=Fn({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&$s("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Js([ASe]),io]}),e})();const dSe={provide:Kl,useExisting:Y(()=>JI),multi:!0};let JI=(()=>{class e extends T8{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>uZ(r),this.createValidator=r=>function pJ(e){return t=>{if(Qp(t.value)||Qp(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}(r)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Gl(e)))(i||e)}}(),e.\u0275dir=Fn({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&$s("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Js([dSe]),io]}),e})(),ySe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[eZ]]}),e})(),pZ=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[ySe]}),e})();class wSe extends Mn{constructor(t,r){super()}schedule(t,r=0){return this}}let gZ=(()=>{class e{constructor(r,i=e.now){this.SchedulerAction=r,this.now=i}schedule(r,i=0,s){return new this.SchedulerAction(this,r).schedule(s,i)}}return e.now=()=>Date.now(),e})();class $p extends gZ{constructor(t,r=gZ.now){super(t,()=>$p.delegate&&$p.delegate!==this?$p.delegate.now():r()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,r=0,i){return $p.delegate&&$p.delegate!==this?$p.delegate.schedule(t,r,i):super.schedule(t,r,i)}flush(t){const{actions:r}=this;if(this.active)return void r.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=r.shift());if(this.active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}}}const eN=new $p(class bSe extends wSe{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this}requestAsyncId(t,r,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,r,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return r;clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,r);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let s,i=!1;try{this.work(t)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,r=this.scheduler,i=r.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null}});class ESe{constructor(t,r){this.dueTime=t,this.scheduler=r}call(t,r){return r.subscribe(new SSe(t,this.dueTime,this.scheduler))}}class SSe extends P{constructor(t,r,i){super(t),this.dueTime=r,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(BSe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function BSe(e){e.debouncedNext()}const xSe=["gutterEls"];function DSe(e,t){if(1&e){const r=xs();et(0,"div",2,3),tr("keydown",function(s){lr(r);const o=Qt().index;return Qt().startKeyboardDrag(s,2*o+1,o+1)})("mousedown",function(s){lr(r);const o=Qt().index;return Qt().startMouseDrag(s,2*o+1,o+1)})("touchstart",function(s){lr(r);const o=Qt().index;return Qt().startMouseDrag(s,2*o+1,o+1)})("mouseup",function(s){lr(r);const o=Qt().index;return Qt().clickGutter(s,o+1)})("touchend",function(s){lr(r);const o=Qt().index;return Qt().clickGutter(s,o+1)}),cs(2,"div",4),tt()}if(2&e){const r=Qt(),i=r.index,s=r.$implicit,o=Qt();aa("flex-basis",o.gutterSize,"px")("order",2*i+1),$s("aria-label",o.gutterAriaLabel)("aria-orientation",o.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow",s.size)("aria-valuetext",o.getAriaAreaSizeText(s.size))}}function FSe(e,t){1&e&&Qn(0,DSe,3,10,"div",1),2&e&&Vt("ngIf",!1===t.last)}const MSe=["*"];function I8(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0)return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(void 0!==e.clientX&&void 0!==e.clientY)return{x:e.clientX,y:e.clientY};if(void 0!==e.currentTarget){const t=e.currentTarget;return{x:t.offsetLeft,y:t.offsetTop}}return null}function mZ(e,t,r){return Math.abs(e.x-t.x)<=r&&Math.abs(e.y-t.y)<=r}function vZ(e,t){const r=e.nativeElement.getBoundingClientRect();return"horizontal"===t?r.width:r.height}function N8(e){return"boolean"==typeof e?e:"false"!==e}function Gp(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function _Z(e,t){if("percent"===e){const r=t.reduce((i,s)=>null!==s?i+s:i,0);return t.every(i=>null!==i)&&r>99.9&&r<100.1}if("pixel"===e)return 1===t.filter(r=>null===r).length}function Jw(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function Zw(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function t3(e,t,r,i){return t.reduce((s,o)=>{const a=function ISe(e,t,r,i){return 0===r?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0}:0===t.sizePixelAtStart&&r<0?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:r}:"percent"===e?function NSe(e,t,r){const s=(e.sizePixelAtStart+t)/r*100;if(t>0){if(null!==e.area.maxSize&&s>e.area.maxSize){const o=e.area.maxSize/100*r;return{areaSnapshot:e,pixelAbsorb:o,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-o}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:s>100?100:s,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&s<e.area.minSize){const o=e.area.minSize/100*r;return{areaSnapshot:e,pixelAbsorb:o,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-o}}return s<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:s,pixelRemain:0}}}(t,r,i):"pixel"===e?function OSe(e,t,r){const i=e.sizePixelAtStart+t;return t>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:t<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(t,r):void 0}(e,o,s.remain,i);return s.list.push(a),s.remain=a.pixelRemain,s},{remain:r,list:[]})}function yZ(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}const RSe=new Ai("angular-split-global-config");let wZ=(()=>{class e{constructor(r,i,s,o,a){this.ngZone=r,this.elRef=i,this.cdRef=s,this.renderer=o,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new hr(!1),this.dragEnd=new hr(!1),this.gutterClick=new hr(!1),this.gutterDblClick=new hr(!1),this.dragProgressSubject=new At,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=a?Object.assign(this._config,a):this._config,Object.keys(this._config).forEach(l=>{this[l]=this._config[l]})}set direction(r){this._direction="vertical"===r?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(r){this._unit="pixel"===r?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(r){this._gutterSize=Gp(r,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(r){this._gutterStep=Gp(r,1)}get gutterStep(){return this._gutterStep}set restrictMove(r){this._restrictMove=N8(r)}get restrictMove(){return this._restrictMove}set useTransition(r){this._useTransition=N8(r),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(r){this._disabled=N8(r),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(r){this._dir="rtl"===r?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(r){this._gutterDblClickDuration=Gp(r,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new Ke(r=>this.transitionEndSubscriber=r).pipe(function CSe(e,t=eN){return r=>r.lift(new ESe(e,t))}(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(r){const i={component:r,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===r.visible?(this.displayedAreas.push(i),this.build(!0,!0)):this.hiddenAreas.push(i)}removeArea(r){if(this.displayedAreas.some(i=>i.component===r)){const i=this.displayedAreas.find(s=>s.component===r);this.displayedAreas.splice(this.displayedAreas.indexOf(i),1),this.build(!0,!0)}else if(this.hiddenAreas.some(i=>i.component===r)){const i=this.hiddenAreas.find(s=>s.component===r);this.hiddenAreas.splice(this.hiddenAreas.indexOf(i),1)}}updateArea(r,i,s){!0===r.visible&&this.build(i,s)}showArea(r){const i=this.hiddenAreas.find(o=>o.component===r);if(void 0===i)return;const s=this.hiddenAreas.splice(this.hiddenAreas.indexOf(i),1);this.displayedAreas.push(...s),this.build(!0,!0)}hideArea(r){const i=this.displayedAreas.find(o=>o.component===r);if(void 0===i)return;const s=this.displayedAreas.splice(this.displayedAreas.indexOf(i),1);s.forEach(o=>{o.order=0,o.size=0}),this.hiddenAreas.push(...s),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(r=>null===r.size?"*":r.size)}setVisibleAreaSizes(r){if(r.length!==this.displayedAreas.length)return!1;const i=r.map(o=>Gp(o,null));return!1!==_Z(this.unit,i)&&(this.displayedAreas.forEach((o,a)=>o.component._size=i[a]),this.build(!1,!0),!0)}build(r,i){if(this.stopDragging(),!0===r&&(this.displayedAreas.every(s=>null!==s.component.order)&&this.displayedAreas.sort((s,o)=>s.component.order-o.component.order),this.displayedAreas.forEach((s,o)=>{s.order=2*o,s.component.setStyleOrder(s.order)})),!0===i){const s=_Z(this.unit,this.displayedAreas.map(o=>o.component.size));switch(this.unit){case"percent":{const o=100/this.displayedAreas.length;this.displayedAreas.forEach(a=>{a.size=s?a.component.size:o,a.minSize=Jw(a),a.maxSize=Zw(a)});break}case"pixel":if(s)this.displayedAreas.forEach(o=>{o.size=o.component.size,o.minSize=Jw(o),o.maxSize=Zw(o)});else{const o=this.displayedAreas.filter(a=>null===a.component.size);if(0===o.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((a,l)=>{a.size=0===l?null:a.component.size,a.minSize=0===l?null:Jw(a),a.maxSize=0===l?null:Zw(a)});else if(o.length>1){let a=!1;this.displayedAreas.forEach(l=>{null===l.component.size?!1===a?(l.size=null,l.minSize=null,l.maxSize=null,a=!0):(l.size=100,l.minSize=null,l.maxSize=null):(l.size=l.component.size,l.minSize=Jw(l),l.maxSize=Zw(l))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const r=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(i=>{i.component.setStyleFlex(0,0,`calc( ${i.size}% - ${i.size/100*r}px )`,null!==i.minSize&&i.minSize===i.size,null!==i.maxSize&&i.maxSize===i.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(r=>{null===r.size?r.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?r.component.setStyleFlex(0,0,"100%",!1,!1):r.component.setStyleFlex(0,0,`${r.size}px`,null!==r.minSize&&r.minSize===r.size,null!==r.maxSize&&r.maxSize===r.size)})}clickGutter(r,i){const s=I8(r);this.startPoint&&mZ(this.startPoint,s,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",i),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",i),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(r,i,s){if(!0===this.disabled||!0===this.isWaitingClear)return;const o=function TSe(e,t){if("horizontal"===t)switch(e.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===t)switch(e.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const r=e.currentTarget,i="PageUp"===e.key||"PageDown"===e.key?500:50;let s=r.offsetLeft,o=r.offsetTop;switch(e.key){case"ArrowLeft":s-=i;break;case"ArrowRight":s+=i;break;case"ArrowUp":o-=i;break;case"ArrowDown":o+=i;break;case"PageUp":"vertical"===t?o-=i:s+=i;break;case"PageDown":"vertical"===t?o+=i:s-=i;break;default:return null}return{x:s,y:o}}(r,this.direction);null!==o&&(this.endPoint=o,this.startPoint=I8(r),r.preventDefault(),r.stopPropagation(),this.setupForDragEvent(i,s),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(r,i,s){r.preventDefault(),r.stopPropagation(),this.startPoint=I8(r),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(i,s),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(r,i){this.snapshot={gutterNum:i,lastSteppedOffset:0,allAreasSizePixel:vZ(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(s=>{const o={area:s,sizePixelAtStart:vZ(s.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?s.size:-1};s.order<r?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[o]:this.snapshot.areasBeforeGutter.unshift(o):s.order>r&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[o]):this.snapshot.areasAfterGutter.push(o))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((s,o)=>s+o.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(r=>r.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(r){r.preventDefault(),r.stopPropagation();const i=I8(r);null!==this._clickTimeout&&!mZ(this.startPoint,i,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=I8(r),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let r="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(r=-r);const i=Math.round(r/this.gutterStep)*this.gutterStep;if(i===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=i;let s=t3(this.unit,this.snapshot.areasBeforeGutter,-i,this.snapshot.allAreasSizePixel),o=t3(this.unit,this.snapshot.areasAfterGutter,i,this.snapshot.allAreasSizePixel);if(0!==s.remain&&0!==o.remain?Math.abs(s.remain)===Math.abs(o.remain)||(Math.abs(s.remain)>Math.abs(o.remain)?o=t3(this.unit,this.snapshot.areasAfterGutter,i+s.remain,this.snapshot.allAreasSizePixel):s=t3(this.unit,this.snapshot.areasBeforeGutter,-(i-o.remain),this.snapshot.allAreasSizePixel)):0!==s.remain?o=t3(this.unit,this.snapshot.areasAfterGutter,i+s.remain,this.snapshot.allAreasSizePixel):0!==o.remain&&(s=t3(this.unit,this.snapshot.areasBeforeGutter,-(i-o.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const a=[...s.list,...o.list],l=a.find(u=>0!==u.percentAfterAbsorption&&u.percentAfterAbsorption!==u.areaSnapshot.area.minSize&&u.percentAfterAbsorption!==u.areaSnapshot.area.maxSize);l&&(l.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-a.filter(u=>u!==l).reduce((u,c)=>u+c.percentAfterAbsorption,0))}s.list.forEach(a=>yZ(this.unit,a)),o.list.forEach(a=>yZ(this.unit,a)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(r){if(r&&(r.preventDefault(),r.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(i=>i.component.unlockEvents());this.dragListeners.length>0;){const i=this.dragListeners.pop();i&&i()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(r,i){const s=this.getVisibleAreaSizes();"start"===r?this.dragStart.emit({gutterNum:i,sizes:s}):"end"===r?this.dragEnd.emit({gutterNum:i,sizes:s}):"click"===r?this.gutterClick.emit({gutterNum:i,sizes:s}):"dblclick"===r?this.gutterDblClick.emit({gutterNum:i,sizes:s}):"transitionEnd"===r?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(s)):"progress"===r&&this.dragProgressSubject.next({gutterNum:i,sizes:s})}ngOnDestroy(){this.stopDragging()}collapseArea(r,i,s){const o=this.displayedAreas.find(u=>u.component===r);if(void 0===o)return;const a="right"===s?1:-1;o.sizeBeforeCollapse||(o.sizeBeforeCollapse=o.size,o.gutterBeforeCollapse=a),o.size=i;const l=this.gutterEls.find(u=>u.nativeElement.style.order===`${o.order+a}`);l&&this.renderer.addClass(l.nativeElement,"as-split-gutter-collapsed"),this.updateArea(r,!1,!1)}expandArea(r){const i=this.displayedAreas.find(o=>o.component===r);if(void 0===i||!i.sizeBeforeCollapse)return;i.size=i.sizeBeforeCollapse,i.sizeBeforeCollapse=null;const s=this.gutterEls.find(o=>o.nativeElement.style.order===`${i.order+i.gutterBeforeCollapse}`);s&&this.renderer.removeClass(s.nativeElement,"as-split-gutter-collapsed"),this.updateArea(r,!1,!1)}getAriaAreaSizeText(r){return null===r?null:r.toFixed(0)+" "+this.unit}}return e.\u0275fac=function(r){return new(r||e)(it(Is),it($i),it(Tc),it(xu),it(RSe,8))},e.\u0275cmp=Ys({type:e,selectors:[["as-split"]],viewQuery:function(r,i){if(1&r&&nc(xSe,5),2&r){let s;fs(s=As())&&(i.gutterEls=s)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:MSe,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(r,i){1&r&&(PM(),UM(0),Qn(1,FSe,1,1,"ng-template",0)),2&r&&(Rt(1),Vt("ngForOf",i.displayedAreas))},directives:[s0,yA],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url()}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),e})(),kSe=(()=>{class e{constructor(r,i,s,o){this.ngZone=r,this.elRef=i,this.renderer=s,this.split=o,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(r){this._order=Gp(r,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(r){this._size=Gp(r,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(r){this._minSize=Gp(r,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(r){this._maxSize=Gp(r,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(r){this._lockSize=N8(r),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(r){this._visible=N8(r),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",r=>{"flex-basis"===r.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(r){this.renderer.setStyle(this.elRef.nativeElement,"order",r)}setStyleFlex(r,i,s,o,a){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",i),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",s),!0===o?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===a?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const r=this.lockListeners.pop();r&&r()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(r=0,i="right"){this.split.collapseArea(this,r,i)}expand(){this.split.expandArea(this)}}return e.\u0275fac=function(r){return new(r||e)(it(Is),it($i),it(xu),it(wZ))},e.\u0275dir=Fn({type:e,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),e})(),PSe=(()=>{class e{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:e,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:e,providers:[]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})();function USe(e,t){1&e&&cs(0,"div",3)}function LSe(e,t){1&e&&s8(0)}function QSe(e,t){if(1&e&&(et(0,"div"),Qn(1,LSe,1,0,"ng-container",4),tt()),2&e){const r=Qt();Rt(1),Vt("ngTemplateOutlet",r.value)}}function HSe(e,t){1&e&&cs(0,"div",5),2&e&&Vt("innerHTML",Qt().value,pg)}let VSe=(()=>{class e{constructor(r,i){this.elementRef=r,this.renderer=i,this._show=!1,this.events=new hr}transitionEnd(r){this.show&&this.events.emit({type:"shown"})}set show(r){r&&this.setPosition(),this._show=this.hostClassShow=r}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const r=["top","right","bottom","left"];let i;for(const s of r)if(this.setHostStyle(s))return this.setPlacementClass(s),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(r){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+r)}setHostStyle(r,i=!1){const s=this.element instanceof SVGElement,o=this.elementRef.nativeElement,a=!this.elementPosition.right;let l=s?this.element.getBoundingClientRect().height:this.element.offsetHeight,u=s?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,f=o.clientWidth,A=window.pageYOffset;let d,h;if(a&&(l=0,u=0),"top"===r&&(d=this.elementPosition.top+A-(c+this.tooltipOffset)),"bottom"===r&&(d=this.elementPosition.top+A+l+this.tooltipOffset),("top"===r||"bottom"===r)&&(h=this.elementPosition.left+u/2-f/2),"left"===r&&(h=this.elementPosition.left-f-this.tooltipOffset),"right"===r&&(h=this.elementPosition.left+u+this.tooltipOffset),("left"===r||"right"===r)&&(d=this.elementPosition.top+A+l/2-o.clientHeight/2),this.autoPlacement&&!i){const m=d+c,v=h,_=h+f,C=window.innerHeight+A,D=document.body.clientWidth;if(d<0||m>C||v<0||_>D)return!1}return this.hostStyleTop=d+"px",this.hostStyleLeft=h+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(r=>{this.renderer.addClass(this.elementRef.nativeElement,r)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return e.\u0275fac=function(r){return new(r||e)(it($i),it(xu))},e.\u0275cmp=Ys({type:e,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(r,i){1&r&&tr("transitionend",function(o){return i.transitionEnd(o)}),2&r&&(aa("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),po("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(r,i){if(1&r&&(Qn(0,USe,1,0,"div",0),Qn(1,QSe,2,1,"div",1),Qn(2,HSe,1,1,"ng-template",null,2,Bf)),2&r){const s=Ef(3);Vt("ngIf",i.isThemeLight),Rt(1),Vt("ngIf","template"===i.options.contentType)("ngIfElse",s)}},directives:[yA,o0],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),e})();const bZ=new Ai("TooltipOptions"),CZ={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},EZ={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let $Se=(()=>{class e{constructor(r,i,s,o,a){this.initOptions=r,this.elementRef=i,this.componentFactoryResolver=s,this.appRef=o,this.injector=a,this._options={},this._contentType="string",this.events=new hr}set options(r){r&&CZ&&(this._options=r)}get options(){return this._options}set contentTypeBackwardCompatibility(r){r&&(this._contentType=r)}set contentType(r){r&&(this._contentType=r)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(r){r&&(this._zIndex=r)}set zIndex(r){r&&(this._zIndex=r)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(r){r&&(this._animationDuration=r)}set animationDuration(r){r&&(this._animationDuration=r)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(r){r&&(this._tooltipClass=r)}set tooltipClass(r){r&&(this._tooltipClass=r)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(r){r&&(this._maxWidth=r)}set maxWidth(r){r&&(this._maxWidth=r)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(r){r&&(this._showDelay=r)}set showDelay(r){r&&(this._showDelay=r)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(r){r&&(this._hideDelay=r)}set hideDelay(r){r&&(this._hideDelay=r)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(r){this._destroyDelay=r}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(r){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(r);i=this.renameProperties(i),this.applyOptionsDefault(CZ,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(r){let i={},s={},o={};for(var a in r)"options"!==a&&"tooltipValue"!==a&&(i[a]=r[a].currentValue),"options"===a&&(s=r[a].currentValue);return o=Object.assign({},s,i),o}renameProperties(r){for(var i in r)EZ[i]&&(r[EZ[i]]=r[i],delete r[i]);return r}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(VSe)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(r={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},r.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},r.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(r,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(r).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var r=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var s=["(",r.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(s).matches}applyOptionsDefault(r,i){this.options=Object.assign({},r,this.initOptions||{},this.options,i)}handleEvents(r){"shown"===r.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return e.\u0275fac=function(r){return new(r||e)(it(bZ,8),it($i),it(e0),it(Rp),it(Mo))},e.\u0275dir=Fn({type:e,selectors:[["","tooltip",""]],hostBindings:function(r,i){1&r&&tr("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[fi]}),e})(),GSe=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:bZ,useValue:r}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})();const zSe=["dialogPopup"],qSe=["hueSlider"],jSe=["alphaSlider"];function KSe(e,t){if(1&e&&cs(0,"div"),2&e){const r=Qt();(function BK(e,t,r){mA(bu,Pd,Mv(dn(),e,t,r),!0)})("arrow arrow-",r.cpUsePosition,""),aa("top",r.arrowTop,"px")}}function WSe(e,t){if(1&e){const r=xs();et(0,"div",28),tr("newValue",function(s){return lr(r),Qt().onColorChange(s)})("dragStart",function(){return lr(r),Qt().onDragStart("saturation-lightness")})("dragEnd",function(){return lr(r),Qt().onDragEnd("saturation-lightness")}),cs(1,"div",14),tt()}if(2&e){const r=Qt();aa("background-color",r.hueSliderColor),Vt("rgX",1)("rgY",1),Rt(1),aa("top",null==r.slider?null:r.slider.v,"px")("left",null==r.slider?null:r.slider.s,"px")}}function YSe(e,t){1&e&&(function G7(){gi.lFrame.currentNamespace=il}(),et(0,"svg",29),cs(1,"path",30),cs(2,"path",31),tt())}function XSe(e,t){if(1&e){const r=xs();et(0,"button",32),tr("click",function(s){lr(r);const o=Qt();return o.onAddPresetColor(s,o.selectedColor)}),ii(1),tt()}if(2&e){const r=Qt();tc(r.cpAddColorButtonClass),Vt("disabled",r.cpPresetColors&&r.cpPresetColors.length>=r.cpMaxPresetColorsLength),Rt(1),bg(" ",r.cpAddColorButtonText," ")}}function JSe(e,t){1&e&&cs(0,"div",33)}function ZSe(e,t){if(1&e){const r=xs();et(0,"input",39),tr("keyup.enter",function(s){return lr(r),Qt(2).onAcceptColor(s)})("newValue",function(s){return lr(r),Qt(2).onAlphaInput(s)}),tt()}if(2&e){const r=Qt(2);Vt("rg",1)("value",null==r.cmykText?null:r.cmykText.a)}}function eBe(e,t){1&e&&(et(0,"div"),ii(1,"A"),tt())}function tBe(e,t){if(1&e){const r=xs();et(0,"div",34),et(1,"div",35),et(2,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onCyanInput(s)}),tt(),et(3,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onMagentaInput(s)}),tt(),et(4,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onYellowInput(s)}),tt(),et(5,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onBlackInput(s)}),tt(),Qn(6,ZSe,1,2,"input",37),tt(),et(7,"div",35),et(8,"div"),ii(9,"C"),tt(),et(10,"div"),ii(11,"M"),tt(),et(12,"div"),ii(13,"Y"),tt(),et(14,"div"),ii(15,"K"),tt(),Qn(16,eBe,2,0,"div",38),tt(),tt()}if(2&e){const r=Qt();aa("display",3!==r.format?"none":"block"),Rt(2),Vt("rg",100)("value",null==r.cmykText?null:r.cmykText.c),Rt(1),Vt("rg",100)("value",null==r.cmykText?null:r.cmykText.m),Rt(1),Vt("rg",100)("value",null==r.cmykText?null:r.cmykText.y),Rt(1),Vt("rg",100)("value",null==r.cmykText?null:r.cmykText.k),Rt(1),Vt("ngIf","disabled"!==r.cpAlphaChannel),Rt(10),Vt("ngIf","disabled"!==r.cpAlphaChannel)}}function nBe(e,t){if(1&e){const r=xs();et(0,"input",39),tr("keyup.enter",function(s){return lr(r),Qt(2).onAcceptColor(s)})("newValue",function(s){return lr(r),Qt(2).onAlphaInput(s)}),tt()}if(2&e){const r=Qt(2);Vt("rg",1)("value",null==r.hslaText?null:r.hslaText.a)}}function rBe(e,t){1&e&&(et(0,"div"),ii(1,"A"),tt())}function iBe(e,t){if(1&e){const r=xs();et(0,"div",40),et(1,"div",35),et(2,"input",41),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onHueInput(s)}),tt(),et(3,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onSaturationInput(s)}),tt(),et(4,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onLightnessInput(s)}),tt(),Qn(5,nBe,1,2,"input",37),tt(),et(6,"div",35),et(7,"div"),ii(8,"H"),tt(),et(9,"div"),ii(10,"S"),tt(),et(11,"div"),ii(12,"L"),tt(),Qn(13,rBe,2,0,"div",38),tt(),tt()}if(2&e){const r=Qt();aa("display",2!==r.format?"none":"block"),Rt(2),Vt("rg",360)("value",null==r.hslaText?null:r.hslaText.h),Rt(1),Vt("rg",100)("value",null==r.hslaText?null:r.hslaText.s),Rt(1),Vt("rg",100)("value",null==r.hslaText?null:r.hslaText.l),Rt(1),Vt("ngIf","disabled"!==r.cpAlphaChannel),Rt(8),Vt("ngIf","disabled"!==r.cpAlphaChannel)}}function sBe(e,t){if(1&e){const r=xs();et(0,"input",39),tr("keyup.enter",function(s){return lr(r),Qt(2).onAcceptColor(s)})("newValue",function(s){return lr(r),Qt(2).onAlphaInput(s)}),tt()}if(2&e){const r=Qt(2);Vt("rg",1)("value",null==r.rgbaText?null:r.rgbaText.a)}}function oBe(e,t){1&e&&(et(0,"div"),ii(1,"A"),tt())}function aBe(e,t){if(1&e){const r=xs();et(0,"div",42),et(1,"div",35),et(2,"input",43),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onRedInput(s)}),tt(),et(3,"input",43),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onGreenInput(s)}),tt(),et(4,"input",43),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onBlueInput(s)}),tt(),Qn(5,sBe,1,2,"input",37),tt(),et(6,"div",35),et(7,"div"),ii(8,"R"),tt(),et(9,"div"),ii(10,"G"),tt(),et(11,"div"),ii(12,"B"),tt(),Qn(13,oBe,2,0,"div",38),tt(),tt()}if(2&e){const r=Qt();aa("display",1!==r.format?"none":"block"),Rt(2),Vt("rg",255)("value",null==r.rgbaText?null:r.rgbaText.r),Rt(1),Vt("rg",255)("value",null==r.rgbaText?null:r.rgbaText.g),Rt(1),Vt("rg",255)("value",null==r.rgbaText?null:r.rgbaText.b),Rt(1),Vt("ngIf","disabled"!==r.cpAlphaChannel),Rt(8),Vt("ngIf","disabled"!==r.cpAlphaChannel)}}function lBe(e,t){if(1&e){const r=xs();et(0,"input",39),tr("keyup.enter",function(s){return lr(r),Qt(2).onAcceptColor(s)})("newValue",function(s){return lr(r),Qt(2).onAlphaInput(s)}),tt()}if(2&e){const r=Qt(2);Vt("rg",1)("value",r.hexAlpha)}}function uBe(e,t){1&e&&(et(0,"div"),ii(1,"A"),tt())}function cBe(e,t){if(1&e){const r=xs();et(0,"div",44),et(1,"div",35),et(2,"input",45),tr("blur",function(){return lr(r),Qt().onHexInput(null)})("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onHexInput(s)}),tt(),Qn(3,lBe,1,2,"input",37),tt(),et(4,"div",35),et(5,"div"),ii(6,"Hex"),tt(),Qn(7,uBe,2,0,"div",38),tt(),tt()}if(2&e){const r=Qt();aa("display",0!==r.format?"none":"block"),po("hex-alpha","forced"===r.cpAlphaChannel),Rt(2),Vt("value",r.hexText),Rt(1),Vt("ngIf","forced"===r.cpAlphaChannel),Rt(4),Vt("ngIf","forced"===r.cpAlphaChannel)}}function fBe(e,t){if(1&e){const r=xs();et(0,"input",39),tr("keyup.enter",function(s){return lr(r),Qt(2).onAcceptColor(s)})("newValue",function(s){return lr(r),Qt(2).onAlphaInput(s)}),tt()}if(2&e){const r=Qt(2);Vt("rg",1)("value",null==r.hslaText?null:r.hslaText.a)}}function ABe(e,t){if(1&e){const r=xs();et(0,"div",46),et(1,"div",35),et(2,"input",36),tr("keyup.enter",function(s){return lr(r),Qt().onAcceptColor(s)})("newValue",function(s){return lr(r),Qt().onValueInput(s)}),tt(),Qn(3,fBe,1,2,"input",37),tt(),et(4,"div",35),et(5,"div"),ii(6,"V"),tt(),et(7,"div"),ii(8,"A"),tt(),tt(),tt()}if(2&e){const r=Qt();Rt(2),Vt("rg",100)("value",null==r.hslaText?null:r.hslaText.l),Rt(1),Vt("ngIf","disabled"!==r.cpAlphaChannel)}}function dBe(e,t){if(1&e){const r=xs();et(0,"div",47),et(1,"span",48),tr("click",function(){return lr(r),Qt().onFormatToggle(-1)}),tt(),et(2,"span",48),tr("click",function(){return lr(r),Qt().onFormatToggle(1)}),tt(),tt()}}function hBe(e,t){if(1&e){const r=xs();et(0,"span",55),tr("click",function(s){lr(r);const o=Qt().$implicit;return Qt(3).onRemovePresetColor(s,o)}),tt()}2&e&&tc(Qt(4).cpRemoveColorButtonClass)}function pBe(e,t){if(1&e){const r=xs();et(0,"div",53),tr("click",function(){const o=lr(r).$implicit;return Qt(3).setColorFromString(o)}),Qn(1,hBe,1,3,"span",54),tt()}if(2&e){const r=t.$implicit,i=Qt(3);aa("background-color",r),Rt(1),Vt("ngIf",i.cpAddColorButton)}}function gBe(e,t){if(1&e&&(et(0,"div"),Qn(1,pBe,2,3,"div",52),tt()),2&e){const r=Qt(2);tc(r.cpPresetColorsClass),Rt(1),Vt("ngForOf",r.cpPresetColors)}}function mBe(e,t){if(1&e&&(et(0,"div"),ii(1),tt()),2&e){const r=Qt(2);tc(r.cpPresetEmptyMessageClass),Rt(1),Mc(r.cpPresetEmptyMessage)}}function vBe(e,t){if(1&e&&(et(0,"div",49),cs(1,"hr"),et(2,"div",50),ii(3),tt(),Qn(4,gBe,2,4,"div",51),Qn(5,mBe,2,4,"div",51),tt()),2&e){const r=Qt();Rt(3),Mc(r.cpPresetLabel),Rt(1),Vt("ngIf",null==r.cpPresetColors?null:r.cpPresetColors.length),Rt(1),Vt("ngIf",!(null!=r.cpPresetColors&&r.cpPresetColors.length)&&r.cpAddColorButton)}}function _Be(e,t){if(1&e){const r=xs();et(0,"button",58),tr("click",function(s){return lr(r),Qt(2).onCancelColor(s)}),ii(1),tt()}if(2&e){const r=Qt(2);tc(r.cpCancelButtonClass),Rt(1),Mc(r.cpCancelButtonText)}}function yBe(e,t){if(1&e){const r=xs();et(0,"button",58),tr("click",function(s){return lr(r),Qt(2).onAcceptColor(s)}),ii(1),tt()}if(2&e){const r=Qt(2);tc(r.cpOKButtonClass),Rt(1),Mc(r.cpOKButtonText)}}function wBe(e,t){if(1&e&&(et(0,"div",56),Qn(1,_Be,2,4,"button",57),Qn(2,yBe,2,4,"button",57),tt()),2&e){const r=Qt();Rt(1),Vt("ngIf",r.cpCancelButton),Rt(1),Vt("ngIf",r.cpOKButton)}}function bBe(e,t){1&e&&s8(0)}function CBe(e,t){if(1&e&&(et(0,"div",59),Qn(1,bBe,1,0,"ng-container",60),tt()),2&e){const r=Qt();Rt(1),Vt("ngTemplateOutlet",r.cpExtraTemplate)}}var Dl=(()=>(function(e){e[e.HEX=0]="HEX",e[e.RGBA=1]="RGBA",e[e.HSLA=2]="HSLA",e[e.CMYK=3]="CMYK"}(Dl||(Dl={})),Dl))();class u0{constructor(t,r,i,s){this.r=t,this.g=r,this.b=i,this.a=s}}class eb{constructor(t,r,i,s){this.h=t,this.s=r,this.v=i,this.a=s}}class Ng{constructor(t,r,i,s){this.h=t,this.s=r,this.l=i,this.a=s}}class O8{constructor(t,r,i,s,o=1){this.c=t,this.m=r,this.y=i,this.k=s,this.a=o}}let BBe=(()=>{class e{constructor(){this.newValue=new hr}inputChange(r){const i=r.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const s=parseFloat(i);this.newValue.emit({v:s,rg:this.rg})}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Fn({type:e,selectors:[["","text",""]],hostBindings:function(r,i){1&r&&tr("input",function(o){return i.inputChange(o)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),e})(),xBe=(()=>{class e{constructor(r){this.elRef=r,this.dragEnd=new hr,this.dragStart=new hr,this.newValue=new hr,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}mouseDown(r){this.start(r)}touchStart(r){this.start(r)}move(r){r.preventDefault(),this.setCursor(r)}start(r){this.setCursor(r),r.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(r){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==r.pageX?r.pageX:r.touches[0].pageX)-i.left-window.pageXOffset}getY(r){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==r.pageY?r.pageY:r.touches[0].pageY)-i.top-window.pageYOffset}setCursor(r){const i=this.elRef.nativeElement.offsetWidth,s=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(r),i)),a=Math.max(0,Math.min(this.getY(r),s));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:o/i,v:1-a/s,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:a/s,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:o/i,rgX:this.rgX})}}return e.\u0275fac=function(r){return new(r||e)(it($i))},e.\u0275dir=Fn({type:e,selectors:[["","slider",""]],hostBindings:function(r,i){1&r&&tr("mousedown",function(o){return i.mouseDown(o)})("touchstart",function(o){return i.touchStart(o)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),e})();class SZ{constructor(t,r,i,s){this.h=t,this.s=r,this.v=i,this.a=s}}class BZ{constructor(t,r,i,s){this.h=t,this.s=r,this.v=i,this.a=s}}let tN=(()=>{class e{constructor(){this.active=null}setActive(r){this.active&&this.active!==r&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=r}hsva2hsla(r){const i=r.h,s=r.s,o=r.v,a=r.a;if(0===o)return new Ng(i,0,0,a);if(0===s&&1===o)return new Ng(i,1,1,a);{const l=o*(2-s)/2;return new Ng(i,o*s/(1-Math.abs(2*l-1)),l,a)}}hsla2hsva(r){const i=Math.min(r.h,1),s=Math.min(r.s,1),o=Math.min(r.l,1),a=Math.min(r.a,1);if(0===o)return new eb(i,0,0,a);{const l=o+s*(1-Math.abs(2*o-1))/2;return new eb(i,2*(l-o)/l,l,a)}}hsvaToRgba(r){let i,s,o;const a=r.h,l=r.s,u=r.v,c=r.a,f=Math.floor(6*a),A=6*a-f,d=u*(1-l),h=u*(1-A*l),g=u*(1-(1-A)*l);switch(f%6){case 0:i=u,s=g,o=d;break;case 1:i=h,s=u,o=d;break;case 2:i=d,s=u,o=g;break;case 3:i=d,s=h,o=u;break;case 4:i=g,s=d,o=u;break;case 5:i=u,s=d,o=h;break;default:i=0,s=0,o=0}return new u0(i,s,o,c)}cmykToRgb(r){return new u0((1-r.c)*(1-r.k),(1-r.m)*(1-r.k),(1-r.y)*(1-r.k),r.a)}rgbaToCmyk(r){const i=1-Math.max(r.r,r.g,r.b);return 1===i?new O8(0,0,0,1,r.a):new O8((1-r.r-i)/(1-i),(1-r.g-i)/(1-i),(1-r.b-i)/(1-i),i,r.a)}rgbaToHsva(r){let i,s;const o=Math.min(r.r,1),a=Math.min(r.g,1),l=Math.min(r.b,1),u=Math.min(r.a,1),c=Math.max(o,a,l),f=Math.min(o,a,l),A=c,d=c-f;if(s=0===c?0:d/c,c===f)i=0;else{switch(c){case o:i=(a-l)/d+(a<l?6:0);break;case a:i=(l-o)/d+2;break;case l:i=(o-a)/d+4;break;default:i=0}i/=6}return new eb(i,s,A,u)}rgbaToHex(r,i){let s="#"+(1<<24|r.r<<16|r.g<<8|r.b).toString(16).substr(1);return i&&(s+=(256|Math.round(255*r.a)).toString(16).substr(1)),s}normalizeCMYK(r){return new O8(r.c/100,r.m/100,r.y/100,r.k/100,r.a)}denormalizeCMYK(r){return new O8(Math.floor(100*r.c),Math.floor(100*r.m),Math.floor(100*r.y),Math.floor(100*r.k),r.a)}denormalizeRGBA(r){return new u0(Math.round(255*r.r),Math.round(255*r.g),Math.round(255*r.b),r.a)}stringToHsva(r="",i=!1){let s=null;r=(r||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new u0(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Ng(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}}];o.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new u0(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new u0(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new u0(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(const a in o)if(o.hasOwnProperty(a)){const l=o[a],u=l.re.exec(r),c=u&&l.parse(u);if(c)return c instanceof u0?s=this.rgbaToHsva(c):c instanceof Ng&&(s=this.hsla2hsva(c)),s}return s}outputFormat(r,i,s){switch("auto"===i&&(i=r.a<1?"rgba":"hex"),i){case"hsla":const o=this.hsva2hsla(r),a=new Ng(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return r.a<1||"always"===s?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":const l=this.denormalizeRGBA(this.hsvaToRgba(r));return r.a<1||"always"===s?"rgba("+l.r+","+l.g+","+l.b+","+Math.round(100*l.a)/100+")":"rgb("+l.r+","+l.g+","+l.b+")";default:const u="always"===s||"forced"===s;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(r)),u)}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const xZ="undefined"!=typeof window&&"ontouchstart"in window;let DBe=(()=>{class e{constructor(r,i,s,o,a,l){this.ngZone=r,this.elRef=i,this.cdRef=s,this.document=o,this.platformId=a,this.service=l,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Dl.HEX,Dl.RGBA,Dl.HSLA,Dl.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=function QY(e){return e===LY}(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(r){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(r)}handleEnter(r){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(r)}ngOnInit(){this.slider=new SZ(0,0,0,0),this.sliderDimMax=new BZ(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Dl.CMYK:"rgba"===this.cpOutputFormat?Dl.RGBA:"hsla"===this.cpOutputFormat?Dl.HSLA:Dl.HEX,this.listenerMouseDown=s=>{this.onMouseDown(s)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new BZ(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(r,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(r),this.setColorFromString(r,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(r,i,s,o,a,l,u,c,f,A,d,h,g,m,v,_,C,D,T,I,V,R,K,ne,Ae,ae,Be,Ce,U,Q,z,oe,J,le,de,De,Ie,We){this.setInitialColor(s),this.setColorMode(c),this.isIE10=10===function SBe(){let e="";"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase());const t=e.indexOf("msie ");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}(),this.directiveInstance=r,this.directiveElementRef=i,this.cpDisableInput=h,this.cpCmykEnabled=f,this.cpAlphaChannel=A,this.cpOutputFormat=d,this.cpDialogDisplay=l,this.cpIgnoredElements=g,this.cpSaveClickOutside=m,this.cpCloseClickOutside=v,this.useRootViewContainer=_,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(a,10),this.cpPosition=C,this.cpPositionOffset=parseInt(D,10),this.cpOKButton=ae,this.cpOKButtonText=Ce,this.cpOKButtonClass=Be,this.cpCancelButton=U,this.cpCancelButtonText=z,this.cpCancelButtonClass=Q,this.cpEyeDropper=De,this.fallbackColor=u||"#fff",this.setPresetConfig(I,V),this.cpPresetColorsClass=R,this.cpMaxPresetColorsLength=K,this.cpPresetEmptyMessage=ne,this.cpPresetEmptyMessageClass=Ae,this.cpAddColorButton=oe,this.cpAddColorButtonText=le,this.cpAddColorButtonClass=J,this.cpRemoveColorButtonClass=de,this.cpTriggerElement=Ie,this.cpExtraTemplate=We,T||(this.dialogArrowOffset=0),"inline"===l&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===d&&"always"!==A&&"forced"!==A&&(this.cpAlphaChannel="disabled")}setColorMode(r){switch(r.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(r){this.initialColor=r}setPresetConfig(r,i){this.cpPresetLabel=r,this.cpPresetColors=i}setColorFromString(r,i=!0,s=!0){let o;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(o=this.service.stringToHsva(r,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(r,!1))):o=this.service.stringToHsva(r,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,s))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(r){this.directiveInstance.sliderDragEnd({slider:r,color:this.outputColor})}onDragStart(r){this.directiveInstance.sliderDragStart({slider:r,color:this.outputColor})}onMouseDown(r){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&r.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,r.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,r.target)&&0===this.cpIgnoredElements.filter(i=>i===r.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(r){r.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(r){this.hsva=null,r.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(r){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),s=((this.dialogInputFields.indexOf(this.format)+r)%i+i)%i;this.format=this.dialogInputFields[s]}onColorChange(r){this.hsva.s=r.s/r.rgX,this.hsva.v=r.v/r.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(r){this.hsva.h=r.v/r.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(r){this.hsva.v=r.v/r.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(r){this.hsva.a=r.v/r.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(r){if(null===r)this.updateColorPicker();else{r&&"#"!==r[0]&&(r="#"+r);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const s=i.test(r);s&&(r.length<5&&(r="#"+r.substring(1).split("").map(o=>o+o).join("")),"forced"===this.cpAlphaChannel&&(r+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(r,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:s,value:r,color:this.outputColor})}}onRedInput(r){const i=this.service.hsvaToRgba(this.hsva),s=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;s&&(i.r=r.v/r.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:s,value:i.r,color:this.outputColor})}onBlueInput(r){const i=this.service.hsvaToRgba(this.hsva),s=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;s&&(i.b=r.v/r.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:s,value:i.b,color:this.outputColor})}onGreenInput(r){const i=this.service.hsvaToRgba(this.hsva),s=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;s&&(i.g=r.v/r.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:s,value:i.g,color:this.outputColor})}onHueInput(r){const i=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;i&&(this.hsva.h=r.v/r.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(r){const i=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;i&&(this.hsva.v=r.v/r.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(r){const i=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;i&&(this.hsva.a=r.v/r.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(r){const i=this.service.hsva2hsla(this.hsva),s=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;s&&(i.l=r.v/r.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:s,value:i.l,color:this.outputColor})}onSaturationInput(r){const i=this.service.hsva2hsla(this.hsva),s=!isNaN(r.v)&&r.v>=0&&r.v<=r.rg;s&&(i.s=r.v/r.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:s,value:i.s,color:this.outputColor})}onCyanInput(r){!isNaN(r.v)&&r.v>=0&&r.v<=r.rg&&(this.cmyk.c=r.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(r){!isNaN(r.v)&&r.v>=0&&r.v<=r.rg&&(this.cmyk.m=r.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(r){!isNaN(r.v)&&r.v>=0&&r.v<=r.rg&&(this.cmyk.y=r.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(r){!isNaN(r.v)&&r.v>=0&&r.v<=r.rg&&(this.cmyk.k=r.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(r,i){r.stopPropagation(),this.cpPresetColors.filter(s=>s===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(r,i){r.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(s=>s!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{xZ?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(xZ?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(r=!0,i=!0,s=!1){if(this.sliderDimMax){let o,a,l;2===this.cpColorMode&&(this.hsva.s=0);const u=this.outputColor;if(a=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(s?(l=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(l)):(l=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(l))),l=this.service.denormalizeRGBA(l),this.sliderH=this.hsva.h):l=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new eb(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new Ng(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100),this.rgbaText=new u0(l.r,l.g,l.b,Math.round(100*l.a)/100),this.cpCmykEnabled&&(this.cmykText=new O8(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(l,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Dl.RGBA&&this.format!==Dl.CMYK&&this.format!==Dl.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Dl.RGBA:Dl.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+l.r+","+l.g+","+l.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Dl.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const c=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${c})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new SZ((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),r&&u!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let s,r="static",i="",o=null,a=null,l=this.directiveElementRef.nativeElement.parentNode;const u=this.dialogElement.nativeElement.offsetHeight;for(;null!==l&&"HTML"!==l.tagName;){if(s=window.getComputedStyle(l),r=s.getPropertyValue("position"),i=s.getPropertyValue("transform"),"static"!==r&&null===o&&(o=l),i&&"none"!==i&&null===a&&(a=l),"fixed"===r){o=a;break}l=l.parentNode}const c=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==r);if(this.useRootViewContainer||"fixed"===r&&(!o||o instanceof HTMLUnknownElement))this.top=c.top,this.left=c.left;else{null===o&&(o=l);const A=this.createDialogBox(o,"fixed"!==r);this.top=c.top-A.top,this.left=c.left-A.left}"fixed"===r&&(this.position="fixed");let f=this.cpPosition;"auto"===this.cpPosition&&(f=function EBe(e,t){let r="right",i="bottom";const{height:s,width:o}=e,{top:a,left:l}=t,u=a+t.height,c=l+t.width,f=a-s<0,A=u+s>(window.innerHeight||document.documentElement.clientHeight),d=l-o<0,h=c+o>(window.innerWidth||document.documentElement.clientWidth);return A&&(i="top"),f&&(i="bottom"),d&&(r="right"),h&&(r="left"),f&&A&&d&&h?["left","right","top","bottom"].reduce((v,_)=>e[v]>e[_]?v:_):d&&h?f?"bottom":A||a>u?"top":"bottom":f&&A?d?"right":h||l>c?"left":"right":`${i}-${r}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===f?(this.arrowTop=u-1,this.top-=u+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):"bottom"===f?(this.top+=c.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):"top-left"===f||"left-top"===f?(this.top-=u-c.height+c.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===f||"right-top"===f?(this.top-=u-c.height+c.height*this.cpPositionOffset/100,this.left+=c.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===f||"bottom-left"===f||"left-bottom"===f?(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=c.width+this.dialogArrowSize-2),this.cpUsePosition=f}}isDescendant(r,i){let s=i.parentNode;for(;null!==s;){if(s===r)return!0;s=s.parentNode}return!1}createDialogBox(r,i){const{top:s,left:o}=r.getBoundingClientRect();return{top:s+(i?window.pageYOffset:0),left:o+(i?window.pageXOffset:0),width:r.offsetWidth,height:r.offsetHeight}}}return e.\u0275fac=function(r){return new(r||e)(it(Is),it($i),it(Tc),it(va),it(jv),it(tN))},e.\u0275cmp=Ys({type:e,selectors:[["color-picker"]],viewQuery:function(r,i){if(1&r&&(nc(zSe,7),nc(qSe,7),nc(jSe,7)),2&r){let s;fs(s=As())&&(i.dialogElement=s.first),fs(s=As())&&(i.hueSlider=s.first),fs(s=As())&&(i.alphaSlider=s.first)}},hostBindings:function(r,i){1&r&&tr("keyup.esc",function(o){return i.handleEsc(o)},!1,J5)("keyup.enter",function(o){return i.handleEnter(o)},!1,J5)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(r,i){1&r&&(et(0,"div",0,1),tr("click",function(o){return o.stopPropagation()}),Qn(2,KSe,1,5,"div",2),Qn(3,WSe,2,8,"div",3),et(4,"div",4),et(5,"div",5),cs(6,"div",6),et(7,"div",7),tr("click",function(){return i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper()}),Qn(8,YSe,3,0,"svg",8),tt(),Qn(9,XSe,2,5,"button",9),tt(),et(10,"div",10),Qn(11,JSe,1,0,"div",11),et(12,"div",12,13),tr("newValue",function(o){return i.onHueChange(o)})("dragStart",function(){return i.onDragStart("hue")})("dragEnd",function(){return i.onDragEnd("hue")}),cs(14,"div",14),tt(),et(15,"div",15,16),tr("newValue",function(o){return i.onValueChange(o)})("dragStart",function(){return i.onDragStart("value")})("dragEnd",function(){return i.onDragEnd("value")}),cs(17,"div",14),tt(),et(18,"div",17,18),tr("newValue",function(o){return i.onAlphaChange(o)})("dragStart",function(){return i.onDragStart("alpha")})("dragEnd",function(){return i.onDragEnd("alpha")}),cs(20,"div",14),tt(),tt(),tt(),Qn(21,tBe,17,12,"div",19),Qn(22,iBe,14,10,"div",20),Qn(23,aBe,14,10,"div",21),Qn(24,cBe,8,7,"div",22),Qn(25,ABe,9,3,"div",23),Qn(26,dBe,3,0,"div",24),Qn(27,vBe,6,3,"div",25),Qn(28,wBe,3,2,"div",26),Qn(29,CBe,2,1,"div",27),tt()),2&r&&(aa("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),po("open",i.show),Rt(2),Vt("ngIf","popup"===i.cpDialogDisplay),Rt(1),Vt("ngIf",1===(i.cpColorMode||1)),Rt(4),aa("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),Rt(1),Vt("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),Rt(1),Vt("ngIf",i.cpAddColorButton),Rt(2),Vt("ngIf","disabled"===i.cpAlphaChannel),Rt(1),aa("display",1===(i.cpColorMode||1)?"block":"none"),Vt("rgX",1),Rt(2),aa("left",null==i.slider?null:i.slider.h,"px"),Rt(1),aa("display",2===(i.cpColorMode||1)?"block":"none"),Vt("rgX",1),Rt(2),aa("right",null==i.slider?null:i.slider.v,"px"),Rt(1),aa("display","disabled"===i.cpAlphaChannel?"none":"block")("background-color",i.alphaSliderColor),Vt("rgX",1),Rt(2),aa("left",null==i.slider?null:i.slider.a,"px"),Rt(1),Vt("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),Rt(1),Vt("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),Rt(1),Vt("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),Rt(1),Vt("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),Rt(1),Vt("ngIf",!i.cpDisableInput&&2===(i.cpColorMode||1)),Rt(1),Vt("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),Rt(1),Vt("ngIf",(null==i.cpPresetColors?null:i.cpPresetColors.length)||i.cpAddColorButton),Rt(1),Vt("ngIf",i.cpOKButton||i.cpCancelButton),Rt(1),Vt("ngIf",i.cpExtraTemplate))},directives:[yA,xBe,BBe,s0,o0],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),e})(),MBe=(()=>{class e{constructor(r,i,s,o,a,l){this.injector=r,this.cfr=i,this.appRef=s,this.vcRef=o,this.elRef=a,this._service=l,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new hr(!0),this.cpToggleChange=new hr(!0),this.cpSliderChange=new hr(!0),this.cpSliderDragEnd=new hr(!0),this.cpSliderDragStart=new hr(!0),this.colorPickerOpen=new hr(!0),this.colorPickerClose=new hr(!0),this.colorPickerCancel=new hr(!0),this.colorPickerSelect=new hr(!0),this.colorPickerChange=new hr(!1),this.cpCmykColorChange=new hr(!0),this.cpPresetColorsChange=new hr(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(r){this.inputChange(r)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(r){r.cpToggle&&!this.cpDisabled&&(r.cpToggle.currentValue?this.openDialog():r.cpToggle.currentValue||this.closeDialog()),r.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(r.colorPicker.currentValue),this.dialog.setColorFromString(r.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(r.cpPresetLabel||r.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let r=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const o=this.injector.get(this.appRef.componentTypes[0],Mo.NULL);o!==Mo.NULL?r=o.vcRef||o.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(DBe);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const s=Mo.create({providers:[],parent:r.injector});this.cmpRef=r.createComponent(i,0,s,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==r&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(r){this.cpCmykColorChange.emit(r)}stateChanged(r){this.cpToggleChange.emit(r),r?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(r,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(r)}colorSelected(r){this.colorPickerSelect.emit(r)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const r=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(s=>s===r);!this.cpDisabled&&!i.length&&("undefined"!=typeof document&&r===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(r){this.dialog?this.dialog.setColorFromString(r.target.value,!0):(this.colorPicker=r.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(r){this.cpInputChange.emit(r)}sliderChanged(r){this.cpSliderChange.emit(r)}sliderDragEnd(r){this.cpSliderDragEnd.emit(r)}sliderDragStart(r){this.cpSliderDragStart.emit(r)}presetColorsChanged(r){this.cpPresetColorsChange.emit(r)}}return e.\u0275fac=function(r){return new(r||e)(it(Mo),it(e0),it(Rp),it(Sf),it($i),it(tN))},e.\u0275dir=Fn({type:e,selectors:[["","colorPicker",""]],hostBindings:function(r,i){1&r&&tr("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(o){return i.handleInput(o)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[fi]}),e})(),TBe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:[tN],imports:[[Ua]]}),e})();const Og=new Ke(e=>e.complete());function tb(e){return e?function IBe(e){return new Ke(t=>e.schedule(()=>t.complete()))}(e):Og}function ic(e,t,r,i){return mn(r)&&(i=r,r=void 0),i?ic(e,t,r).pipe(xn(s=>Wn(s)?i(...s):i(s))):new Ke(s=>{DZ(e,t,function o(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,r)})}function DZ(e,t,r,i,s){let o;if(function RBe(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const a=e;e.addEventListener(t,r,s),o=()=>a.removeEventListener(t,r,s)}else if(function OBe(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const a=e;e.on(t,r),o=()=>a.off(t,r)}else if(function NBe(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const a=e;e.addListener(t,r),o=()=>a.removeListener(t,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,l=e.length;a<l;a++)DZ(e[a],t,r,i,s)}i.add(o)}function FZ(e){return!Wn(e)&&e-parseFloat(e)+1>=0}function kBe(e){const{index:t,period:r,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===r)return i.complete();e.index=t+1,this.schedule(e,r)}}class nN extends P{notifyNext(t,r,i,s,o){this.destination.next(r)}notifyError(t,r){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class PBe extends P{constructor(t,r,i){super(),this.parent=t,this.outerValue=r,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function rN(e,t,r,i,s=new PBe(e,r,i)){if(!s.closed)return t instanceof Ke?t.subscribe(s):Ct(t)(s)}class UBe{call(t,r){return r.subscribe(new LBe(t))}}class LBe extends nN{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,r=t.length;if(0===r)this.destination.complete();else{for(let i=0;i<r&&!this.hasFirst;i++){const o=rN(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(r)}}class ll extends At{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return r&&!r.closed&&t.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gt;return this._value}next(t){super.next(this._value=t)}}const IZ={};class QBe{constructor(t){this.resultSelector=t}call(t,r){return r.subscribe(new HBe(t,this.resultSelector))}}class HBe extends nN{constructor(t,r){super(t),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(IZ),this.observables.push(t)}_complete(){const t=this.observables,r=t.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let i=0;i<r;i++)this.add(rN(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,r,i){const s=this.values,a=this.toRespond?s[i]===IZ?--this.toRespond:this.toRespond:0;s[i]=r,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let r;try{r=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(r)}}function c0(){}function nb(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),lt(e,void 0).lift(new VBe(t))}new Ke(c0);class VBe{constructor(t){this.resultSelector=t}call(t,r){return r.subscribe(new $Be(t,this.resultSelector))}}class $Be extends P{constructor(t,r,i=Object.create(null)){super(t),this.resultSelector=r,this.iterators=[],this.active=0,this.resultSelector="function"==typeof r?r:void 0}_next(t){const r=this.iterators;Wn(t)?r.push(new zBe(t)):r.push("function"==typeof t[Lr]?new GBe(t[Lr]()):new qBe(this.destination,this,t))}_complete(){const t=this.iterators,r=t.length;if(this.unsubscribe(),0!==r){this.active=r;for(let i=0;i<r;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,r=t.length,i=this.destination;for(let a=0;a<r;a++){let l=t[a];if("function"==typeof l.hasValue&&!l.hasValue())return}let s=!1;const o=[];for(let a=0;a<r;a++){let l=t[a],u=l.next();if(l.hasCompleted()&&(s=!0),u.done)return void i.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),s&&i.complete()}_tryresultSelector(t){let r;try{r=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(r)}}class GBe{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class zBe{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Lr](){return this}next(t){const r=this.index++;return r<this.length?{value:this.array[r],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class qBe extends nt{constructor(t,r,i){super(t),this.parent=r,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Lr](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return dt(this.observable,new Ye(this))}}function rb(...e){return function jBe(){return at(1)}()(mi(...e))}function La(e){return t=>t.lift(new WBe(e))}class WBe{constructor(t){this.notifier=t}call(t,r){const i=new YBe(t),s=dt(this.notifier,new Ye(i));return s&&!i.seenValue?(i.add(s),r.subscribe(i)):i}}class YBe extends nt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const OZ=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function kc(e){return t=>0===e?tb():t.lift(new XBe(e))}class XBe{constructor(t){if(this.total=t,this.total<0)throw new OZ}call(t,r){return r.subscribe(new JBe(t,this.total))}}class JBe extends P{constructor(t,r){super(t),this.total=r,this.count=0}_next(t){const r=this.total,i=++this.count;i<=r&&(this.destination.next(t),i===r&&(this.destination.complete(),this.unsubscribe()))}}function Qd(e,t){return"function"==typeof t?r=>r.pipe(Qd((i,s)=>Qe(e(i,s)).pipe(xn((o,a)=>t(i,o,s,a))))):r=>r.lift(new txe(e))}class txe{constructor(t){this.project=t}call(t,r){return r.subscribe(new nxe(t,this.project))}}class nxe extends nt{constructor(t,r){super(t),this.project=r,this.index=0}_next(t){let r;const i=this.index++;try{r=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(r)}_innerSub(t){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Ye(this),s=this.destination;s.add(i),this.innerSubscription=dt(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Mu(e,t,r){return function(s){return s.lift(new rxe(e,t,r))}}class rxe{constructor(t,r,i){this.nextOrObserver=t,this.error=r,this.complete=i}call(t,r){return r.subscribe(new ixe(t,this.nextOrObserver,this.error,this.complete))}}class ixe extends P{constructor(t,r,i,s){super(t),this._tapNext=c0,this._tapError=c0,this._tapComplete=c0,this._tapError=i||c0,this._tapComplete=s||c0,mn(r)?(this._context=this,this._tapNext=r):r&&(this._context=r,this._tapNext=r.next||c0,this._tapError=r.error||c0,this._tapComplete=r.complete||c0)}_next(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function oN(...e){return t=>{let r;return"function"==typeof e[e.length-1]&&(r=e.pop()),t.lift(new sxe(e,r))}}class sxe{constructor(t,r){this.observables=t,this.project=r}call(t,r){return r.subscribe(new oxe(t,this.observables,this.project))}}class oxe extends nN{constructor(t,r,i){super(t),this.observables=r,this.project=i,this.toRespond=[];const s=r.length;this.values=new Array(s);for(let o=0;o<s;o++)this.toRespond.push(o);for(let o=0;o<s;o++)this.add(rN(this,r[o],void 0,o))}notifyNext(t,r,i){this.values[i]=r;const s=this.toRespond;if(s.length>0){const o=s.indexOf(i);-1!==o&&s.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const r=[t,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(t){let r;try{r=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(r)}}function uxe({error:e,subscriber:t}){t.error(e)}class bA{constructor(t,r,i){this.kind=t,this.value=r,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,r,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return i&&i()}}accept(t,r,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,r,i)}toObservable(){switch(this.kind){case"N":return mi(this.value);case"E":return function lxe(e,t){return new Ke(t?r=>t.schedule(uxe,0,{error:e,subscriber:r}):r=>r.error(e))}(this.error);case"C":return tb()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new bA("N",t):bA.undefinedValueNotification}static createError(t){return new bA("E",void 0,t)}static createComplete(){return bA.completeNotification}}bA.completeNotification=new bA("C"),bA.undefinedValueNotification=new bA("N",void 0),Math,Math,Math;const BDe=["*"],GDe=["dialog"];function _N(e){return"string"==typeof e}function Pg(e){return null!=e}function a3(e){return(e||document.body).getBoundingClientRect()}const JZ={animation:!0,transitionTimerDelayMs:5},UFe=()=>{},{transitionTimerDelayMs:LFe}=JZ,H8=new Map,Tu=(e,t,r,i)=>{let s=i.context||{};const o=H8.get(t);if(o)switch(i.runningTransition){case"continue":return Og;case"stop":e.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),H8.delete(t)}const a=r(t,i.animation,s)||UFe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>a()),mi(void 0).pipe(function kFe(e){return t=>new Ke(r=>t.subscribe({next:a=>e.run(()=>r.next(a)),error:a=>e.run(()=>r.error(a)),complete:()=>e.run(()=>r.complete())}))}(e));const l=new At,u=new At,c=l.pipe(function KBe(...e){return t=>rb(t,mi(...e))}(!0));H8.set(t,{transition$:l,complete:()=>{u.next(),u.complete()},context:s});const f=function PFe(e){const{transitionDelay:t,transitionDuration:r}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(r))}(t);return e.runOutsideAngular(()=>{const A=ic(t,"transitionend").pipe(La(c),Oc(({target:h})=>h===t));(function TZ(...e){if(1===e.length){if(!Wn(e[0]))return e[0];e=e[0]}return lt(e,void 0).lift(new UBe)})(function MZ(e=0,t,r){let i=-1;return FZ(t)?i=Number(t)<1?1:Number(t):qn(t)&&(r=t),qn(r)||(r=eN),new Ke(s=>{const o=FZ(e)?e:+e-r.now();return r.schedule(kBe,o,{index:0,period:i,subscriber:s})})}(f+LFe).pipe(La(c)),A,u).pipe(La(c)).subscribe(()=>{H8.delete(t),e.run(()=>{a(),l.next(),l.complete()})})}),l.asObservable()};let cb=(()=>{class e{constructor(){this.animation=JZ.animation}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),iee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),see=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),aee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})(),cee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),fee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})();var Qa=(()=>(function(e){e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown"}(Qa||(Qa={})),Qa))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dee=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function hee(e){const t=Array.from(e.querySelectorAll(dee)).filter(r=>-1!==r.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let bee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua,pZ]]}),e})(),Bee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})();class Hg{constructor(t,r,i){this.nodes=t,this.viewRef=r,this.componentRef=i}}let IMe=(()=>{class e{constructor(r,i){this._el=r,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(kc(1)).subscribe(()=>{Tu(this._zone,this._el.nativeElement,(r,i)=>{i&&a3(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Tu(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(r){return new(r||e)(it($i),it(Is))},e.\u0275cmp=Ys({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(tc("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),po("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})();class xee{close(t){}dismiss(t){}}class NMe{constructor(t,r,i,s){this._windowCmptRef=t,this._contentRef=r,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new At,this._dismissed=new At,this._hidden=new At,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,a)=>{this._resolve=o,this._reject=a}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(La(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(La(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();!function XZ(e){return e&&e.then}(r)?!1!==r&&this._dismiss(t):r.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():mi(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nb(t,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var z8=(()=>(function(e){e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC"}(z8||(z8={})),z8))();let OMe=(()=>{class e{constructor(r,i,s){this._document=r,this._elRef=i,this._zone=s,this._closed$=new At,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new hr,this.shown=new At,this.hidden=new At}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":_N(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(kc(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=nb(Tu(this._zone,r,()=>r.classList.remove("show"),i),Tu(this._zone,this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const r={animation:this.animation,runningTransition:"continue"};nb(Tu(this._zone,this._elRef.nativeElement,(o,a)=>{a&&a3(o),o.classList.add("show")},r),Tu(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{ic(r,"keydown").pipe(La(this._closed$),Oc(s=>s.which===Qa.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(z8.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ic(this._dialogEl.nativeElement,"mousedown").pipe(La(this._closed$),Mu(()=>i=!1),Qd(()=>ic(r,"mouseup").pipe(La(this._closed$),kc(1))),Oc(({target:s})=>r===s)).subscribe(()=>{i=!0}),ic(r,"click").pipe(La(this._closed$)).subscribe(({target:s})=>{r===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(z8.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const i=r.querySelector("[ngbAutofocus]"),s=hee(r)[0];(i||s||r).focus()}}_restoreFocus(){const r=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&r.contains(i)?i:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Tu(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(r){return new(r||e)(it(va),it($i),it(Is))},e.\u0275cmp=Ys({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&nc(GDe,7),2&r){let s;fs(s=As())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&($s("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),tc("modal d-block"+(i.windowClass?" "+i.windowClass:"")),po("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:BDe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(PM(),et(0,"div",0,1),et(2,"div",2),UM(3),tt(),tt()),2&r&&tc("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),RMe=(()=>{class e{constructor(r){this._document=r}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:o,paddingRight:a}=s;if(r>0){const l=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${l+r}px`}return s.overflow="hidden",()=>{r>0&&(s.paddingRight=a),s.overflow=o}}}return e.\u0275fac=function(r){return new(r||e)(er(va))},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kMe=(()=>{class e{constructor(r,i,s,o,a,l){this._applicationRef=r,this._injector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new At,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new hr,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((e,t,r,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const s=ic(t,"focusin").pipe(La(r),xn(o=>o.target));ic(t,"keydown").pipe(La(r),Oc(o=>o.which===Qa.Tab),oN(s)).subscribe(([o,a])=>{const[l,u]=hee(t);(a===l||a===t)&&o.shiftKey&&(u.focus(),o.preventDefault()),a===u&&!o.shiftKey&&(l.focus(),o.preventDefault())}),i&&ic(t,"click").pipe(La(r),oN(s),xn(o=>o[1])).subscribe(o=>o.focus())})})(0,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,i,s,o){const a=o.container instanceof HTMLElement?o.container:Pg(o.container)?this._document.querySelector(o.container):this._document.body,l=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const u=new xee,c=this._getContentRef(r,o.injector||i,s,u,o);let f=!1!==o.backdrop?this._attachBackdrop(r,a):void 0,A=this._attachWindowComponent(r,a,c),d=new NMe(A,c,f,o.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(A),d.hidden.pipe(kc(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),u.close=h=>{d.close(h)},u.dismiss=h=>{d.dismiss(h)},this._applyWindowOptions(A.instance,o),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),f&&f.instance&&(this._applyBackdropOptions(f.instance,o),f.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(i=>i.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r,i){let o=r.resolveComponentFactory(IMe).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(r,i,s){let a=r.resolveComponentFactory(OMe).create(this._injector,s.nodes);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_applyWindowOptions(r,i){this._windowAttributes.forEach(s=>{Pg(i[s])&&(r[s]=i[s])})}_applyBackdropOptions(r,i){this._backdropAttributes.forEach(s=>{Pg(i[s])&&(r[s]=i[s])})}_getContentRef(r,i,s,o,a){return s?s instanceof Zo?this._createFromTemplateRef(s,o):_N(s)?this._createFromString(s):this._createFromComponent(r,i,s,o,a):new Hg([])}_createFromTemplateRef(r,i){const o=r.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new Hg([o.rootNodes],o)}_createFromString(r){const i=this._document.createTextNode(`${r}`);return new Hg([[i]])}_createFromComponent(r,i,s,o,a){const l=r.resolveComponentFactory(s),u=Mo.create({providers:[{provide:xee,useValue:o}],parent:i}),c=l.create(u),f=c.location.nativeElement;return a.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Hg([[f]],c.hostView,c)}_setAriaHidden(r){const i=r.parentElement;i&&r!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==r&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,i)=>{r?i.setAttribute("aria-hidden",r):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const i=()=>{const s=this._modalRefs.indexOf(r);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(i,i)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const i=this._windowCmpts.indexOf(r);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(r){return new(r||e)(er(Rp),er(Mo),er(va),er(RMe),er($v),er(Is))},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PMe=(()=>{class e{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return e.\u0275fac=function(r){return new(r||e)(er(cb))},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),UMe=(()=>{class e{constructor(r,i,s,o){this._moduleCFR=r,this._injector=i,this._modalStack=s,this._config=o}open(r,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,r,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(r){return new(r||e)(er(e0),er(Mo),er(kMe),er(PMe))},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Dee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({providers:[UMe]}),e})(),Iee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),Qee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),Vee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),$ee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),Gee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),zee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),qee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),jee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})();new Ai("live announcer delay",{providedIn:"root",factory:function XMe(){return 100}});let Kee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})(),Wee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})();const JMe=[iee,see,aee,cee,fee,bee,Bee,Dee,Iee,Wee,Qee,Vee,$ee,Gee,zee,qee,jee,Kee];let ZMe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[JMe,iee,see,aee,cee,fee,bee,Bee,Dee,Iee,Wee,Qee,Vee,$ee,Gee,zee,qee,jee,Kee]}),e})(),Wl=(()=>{class e{}return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.IN="in",e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL_TO="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL_TO="gte",e.BETWEEN="between",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.DATE_IS="dateIs",e.DATE_IS_NOT="dateIsNot",e.DATE_BEFORE="dateBefore",e.DATE_AFTER="dateAfter",e})(),Yee=(()=>{class e{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Wl.STARTS_WITH,Wl.CONTAINS,Wl.NOT_CONTAINS,Wl.ENDS_WITH,Wl.EQUALS,Wl.NOT_EQUALS],numeric:[Wl.EQUALS,Wl.NOT_EQUALS,Wl.LESS_THAN,Wl.LESS_THAN_OR_EQUAL_TO,Wl.GREATER_THAN,Wl.GREATER_THAN_OR_EQUAL_TO],date:[Wl.DATE_IS,Wl.DATE_IS_NOT,Wl.DATE_BEFORE,Wl.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new At,this.translationObserver=this.translationSource.asObservable()}getTranslation(r){return this.translation[r]}setTranslation(r){this.translation={...this.translation,...r},this.translationSource.next(this.translation)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eTe=(()=>{class e{constructor(){this.clickSource=new At,this.clickObservable=this.clickSource.asObservable()}add(r){r&&this.clickSource.next(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=gn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xee=(()=>{class e{constructor(r){this.template=r}getType(){return this.name}}return e.\u0275fac=function(r){return new(r||e)(it(Zo))},e.\u0275dir=Fn({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e})(),Jee=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})();class jp{static equals(t,r,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(r,i):this.equalsByValue(t,r)}static equalsByValue(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var o,a,l,i=Array.isArray(t),s=Array.isArray(r);if(i&&s){if((a=t.length)!=r.length)return!1;for(o=a;0!=o--;)if(!this.equalsByValue(t[o],r[o]))return!1;return!0}if(i!=s)return!1;var u=t instanceof Date,c=r instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==r.getTime();var f=t instanceof RegExp,A=r instanceof RegExp;if(f!=A)return!1;if(f&&A)return t.toString()==r.toString();var d=Object.keys(t);if((a=d.length)!==Object.keys(r).length)return!1;for(o=a;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,d[o]))return!1;for(o=a;0!=o--;)if(!this.equalsByValue(t[l=d[o]],r[l]))return!1;return!0}return t!=t&&r!=r}static resolveFieldData(t,r){if(t&&r){if(this.isFunction(r))return r(t);if(-1==r.indexOf("."))return t[r];{let i=r.split("."),s=t;for(let o=0,a=i.length;o<a;++o){if(null==s)return null;s=s[i[o]]}return s}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,r,i){t&&r!==i&&(i>=t.length&&(i%=t.length,r%=t.length),t.splice(i,0,t.splice(r,1)[0]))}static insertIntoOrderedArray(t,r,i,s){if(i.length>0){let o=!1;for(let a=0;a<i.length;a++)if(this.findIndexInList(i[a],s)>r){i.splice(a,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,r){let i=-1;if(r)for(let s=0;s<r.length;s++)if(r[s]==t){i=s;break}return i}static contains(t,r){if(null!=t&&r&&r.length)for(let i of r)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var ete=function tTe(){let e=[];const s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,a,l)=>{a&&(a.style.zIndex=String(((o,a)=>{let l=e.length>0?e[e.length-1]:{key:o,value:a},u=l.value+(l.key===o?0:a)+1;return e.push({key:o,value:u}),u})(o,l)))},clear:o=>{o&&((o=>{e=e.filter(a=>a.value!==o)})(s(o)),o.style.zIndex="")},getCurrent:()=>e.length>0?e[e.length-1].value:0}}();let ca=(()=>{class e{static addClass(r,i){r.classList?r.classList.add(i):r.className+=" "+i}static addMultipleClasses(r,i){if(r.classList){let s=i.trim().split(" ");for(let o=0;o<s.length;o++)r.classList.add(s[o])}else{let s=i.split(" ");for(let o=0;o<s.length;o++)r.className+=" "+s[o]}}static removeClass(r,i){r.classList?r.classList.remove(i):r.className=r.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(r,i){return r.classList?r.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(r.className)}static siblings(r){return Array.prototype.filter.call(r.parentNode.children,function(i){return i!==r})}static find(r,i){return Array.from(r.querySelectorAll(i))}static findSingle(r,i){return r?r.querySelector(i):null}static index(r){let i=r.parentNode.childNodes,s=0;for(var o=0;o<i.length;o++){if(i[o]==r)return s;1==i[o].nodeType&&s++}return-1}static indexWithinGroup(r,i){let s=r.parentNode?r.parentNode.childNodes:[],o=0;for(var a=0;a<s.length;a++){if(s[a]==r)return o;s[a].attributes&&s[a].attributes[i]&&1==s[a].nodeType&&o++}return-1}static relativePosition(r,i){let s=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r);const o=i.offsetHeight,a=i.getBoundingClientRect(),l=this.getViewport();let u,c;a.top+o+s.height>l.height?(u=-1*s.height,r.style.transformOrigin="bottom",a.top+u<0&&(u=-1*a.top)):(u=o,r.style.transformOrigin="top"),c=s.width>l.width?-1*a.left:a.left+s.width>l.width?-1*(a.left+s.width-l.width):0,r.style.top=u+"px",r.style.left=c+"px"}static absolutePosition(r,i){let h,g,s=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),o=s.height,a=s.width,l=i.offsetHeight,u=i.offsetWidth,c=i.getBoundingClientRect(),f=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),d=this.getViewport();c.top+l+o>d.height?(h=c.top+f-o,r.style.transformOrigin="bottom",h<0&&(h=f)):(h=l+c.top+f,r.style.transformOrigin="top"),g=c.left+a>d.width?Math.max(0,c.left+A+u-a):c.left+A,r.style.top=h+"px",r.style.left=g+"px"}static getParents(r,i=[]){return null===r.parentNode?i:this.getParents(r.parentNode,i.concat([r.parentNode]))}static getScrollableParents(r){let i=[];if(r){let s=this.getParents(r);const o=/(auto|scroll)/,a=l=>{let u=window.getComputedStyle(l,null);return o.test(u.getPropertyValue("overflow"))||o.test(u.getPropertyValue("overflowX"))||o.test(u.getPropertyValue("overflowY"))};for(let l of s){let u=1===l.nodeType&&l.dataset.scrollselectors;if(u){let c=u.split(",");for(let f of c){let A=this.findSingle(l,f);A&&a(A)&&i.push(A)}}9!==l.nodeType&&a(l)&&i.push(l)}}return i}static getHiddenElementOuterHeight(r){r.style.visibility="hidden",r.style.display="block";let i=r.offsetHeight;return r.style.display="none",r.style.visibility="visible",i}static getHiddenElementOuterWidth(r){r.style.visibility="hidden",r.style.display="block";let i=r.offsetWidth;return r.style.display="none",r.style.visibility="visible",i}static getHiddenElementDimensions(r){let i={};return r.style.visibility="hidden",r.style.display="block",i.width=r.offsetWidth,i.height=r.offsetHeight,r.style.display="none",r.style.visibility="visible",i}static scrollInView(r,i){let s=getComputedStyle(r).getPropertyValue("borderTopWidth"),o=s?parseFloat(s):0,a=getComputedStyle(r).getPropertyValue("paddingTop"),l=a?parseFloat(a):0,u=r.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-o-l,A=r.scrollTop,d=r.clientHeight,h=this.getOuterHeight(i);f<0?r.scrollTop=A+f:f+h>d&&(r.scrollTop=A+f-d+h)}static fadeIn(r,i){r.style.opacity=0;let s=+new Date,o=0,a=function(){o=+r.style.opacity.replace(",",".")+((new Date).getTime()-s)/i,r.style.opacity=o,s=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}static fadeOut(r,i){var s=1,l=50/i;let u=setInterval(()=>{(s-=l)<=0&&(s=0,clearInterval(u)),r.style.opacity=s},50)}static getWindowScrollTop(){let r=document.documentElement;return(window.pageYOffset||r.scrollTop)-(r.clientTop||0)}static getWindowScrollLeft(){let r=document.documentElement;return(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}static matches(r,i){var s=Element.prototype;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(a){return-1!==[].indexOf.call(document.querySelectorAll(a),this)}).call(r,i)}static getOuterWidth(r,i){let s=r.offsetWidth;if(i){let o=getComputedStyle(r);s+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return s}static getHorizontalPadding(r){let i=getComputedStyle(r);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(r){let i=getComputedStyle(r);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(r){let i=r.offsetWidth,s=getComputedStyle(r);return i+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static width(r){let i=r.offsetWidth,s=getComputedStyle(r);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static getInnerHeight(r){let i=r.offsetHeight,s=getComputedStyle(r);return i+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i}static getOuterHeight(r,i){let s=r.offsetHeight;if(i){let o=getComputedStyle(r);s+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return s}static getHeight(r){let i=r.offsetHeight,s=getComputedStyle(r);return i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),i}static getWidth(r){let i=r.offsetWidth,s=getComputedStyle(r);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),i}static getViewport(){let r=window,i=document,s=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:r.innerWidth||s.clientWidth||o.clientWidth,height:r.innerHeight||s.clientHeight||o.clientHeight}}static getOffset(r){var i=r.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(r,i){let s=r.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(i,r)}static getUserAgent(){return navigator.userAgent}static isIE(){var r=window.navigator.userAgent;return r.indexOf("MSIE ")>0||(r.indexOf("Trident/")>0?(r.indexOf("rv:"),!0):r.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(r,i){if(this.isElement(i))i.appendChild(r);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+r;i.el.nativeElement.appendChild(r)}}static removeChild(r,i){if(this.isElement(i))i.removeChild(r);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+r+" from "+i;i.el.nativeElement.removeChild(r)}}static removeElement(r){"remove"in Element.prototype?r.remove():r.parentNode.removeChild(r)}static isElement(r){return"object"==typeof HTMLElement?r instanceof HTMLElement:r&&"object"==typeof r&&null!==r&&1===r.nodeType&&"string"==typeof r.nodeName}static calculateScrollbarWidth(r){if(r){let i=getComputedStyle(r);return r.offsetWidth-r.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetHeight-r.clientHeight;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(r,i,s){r[i].apply(r,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let r=this.resolveUserAgent();this.browser={},r.browser&&(this.browser[r.browser]=!0,this.browser.version=r.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let r=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(r){return Number.isInteger?Number.isInteger(r):"number"==typeof r&&isFinite(r)&&Math.floor(r)===r}static isHidden(r){return null===r.offsetParent}static getFocusableElements(r){let i=e.find(r,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e})();class nTe{constructor(t,r=(()=>{})){this.element=t,this.listener=r}bindScrollListener(){this.scrollableParents=ca.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let rTe=(()=>{class e{constructor(r,i,s){this.el=r,this.zone=i,this.config=s}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(r){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(ca.removeClass(i,"p-ink-active"),!ca.getHeight(i)&&!ca.getWidth(i)){let l=Math.max(ca.getOuterWidth(this.el.nativeElement),ca.getOuterHeight(this.el.nativeElement));i.style.height=l+"px",i.style.width=l+"px"}let s=ca.getOffset(this.el.nativeElement),o=r.pageX-s.left+document.body.scrollTop-ca.getWidth(i)/2,a=r.pageY-s.top+document.body.scrollLeft-ca.getHeight(i)/2;i.style.top=a+"px",i.style.left=o+"px",ca.addClass(i,"p-ink-active")}getInk(){for(let r=0;r<this.el.nativeElement.children.length;r++)if(-1!==this.el.nativeElement.children[r].className.indexOf("p-ink"))return this.el.nativeElement.children[r];return null}resetInk(){let r=this.getInk();r&&ca.removeClass(r,"p-ink-active")}onAnimationEnd(r){ca.removeClass(r.currentTarget,"p-ink-active")}create(){let r=document.createElement("span");r.className="p-ink",this.el.nativeElement.appendChild(r),this.animationListener=this.onAnimationEnd.bind(this),r.addEventListener("animationend",this.animationListener)}remove(){let r=this.getInk();r&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),r.removeEventListener("animationend",this.animationListener),ca.removeElement(r))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return e.\u0275fac=function(r){return new(r||e)(it($i),it(Is),it(Yee,8))},e.\u0275dir=Fn({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),e})(),iTe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua]]}),e})();function sTe(e,t){1&e&&s8(0)}const oTe=function(e){return{$implicit:e}};function aTe(e,t){if(1&e&&(Gy(0),Qn(1,sTe,1,0,"ng-container",8),zy()),2&e){const r=Qt().$implicit,i=Qt();Rt(1),Vt("ngTemplateOutlet",i.optionTemplate)("ngTemplateOutletContext",Eg(2,oTe,r))}}function lTe(e,t){if(1&e&&(et(0,"span",9),ii(1),tt()),2&e){const r=Qt().$implicit,i=Qt();Rt(1),Mc(i.getOptionLabelToRender(r))}}function uTe(e,t){1&e&&cs(0,"span",10)}function cTe(e,t){if(1&e){const r=xs();et(0,"p-cascadeSelectSub",11),tr("onSelect",function(s){return lr(r),Qt(2).onOptionSelect(s)})("onOptionGroupSelect",function(){return lr(r),Qt(2).onOptionGroupSelect()}),tt()}if(2&e){const r=Qt().$implicit,i=Qt();Vt("selectionPath",i.selectionPath)("options",i.getOptionGroupChildren(r))("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",i.level+1)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("parentActive",i.isOptionActive(r))("dirty",i.dirty)("optionTemplate",i.optionTemplate)}}function fTe(e,t){if(1&e){const r=xs();et(0,"li",2),et(1,"div",3),tr("click",function(s){const a=lr(r).$implicit;return Qt().onOptionClick(s,a)})("keydown",function(s){const o=lr(r),a=o.$implicit,l=o.index;return Qt().onKeyDown(s,a,l)}),Qn(2,aTe,2,4,"ng-container",4),Qn(3,lTe,2,1,"ng-template",null,5,Bf),Qn(5,uTe,1,0,"span",6),tt(),Qn(6,cTe,1,10,"p-cascadeSelectSub",7),tt()}if(2&e){const r=t.$implicit,i=Ef(4),s=Qt();Vt("ngClass",s.getItemClass(r)),Rt(2),Vt("ngIf",s.optionTemplate)("ngIfElse",i),Rt(3),Vt("ngIf",s.isOptionGroup(r)),Rt(1),Vt("ngIf",s.isOptionGroup(r)&&s.isOptionActive(r))}}const ATe=function(e){return{"p-cascadeselect-panel-root":e}},dTe=["focusInput"],hTe=["container"];function pTe(e,t){1&e&&s8(0)}const gTe=function(e,t){return{$implicit:e,placeholder:t}};function mTe(e,t){if(1&e&&(Gy(0),Qn(1,pTe,1,0,"ng-container",12),zy()),2&e){const r=Qt();Rt(1),Vt("ngTemplateOutlet",r.valueTemplate)("ngTemplateOutletContext",Sg(2,gTe,r.value,r.placeholder))}}function vTe(e,t){1&e&&ii(0),2&e&&bg(" ",Qt().label()," ")}function _Te(e,t){if(1&e){const r=xs();et(0,"i",13),tr("click",function(s){return lr(r),Qt().clear(s)}),tt()}}const yTe=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},wTe=function(e){return{value:"visible",params:e}};function bTe(e,t){if(1&e){const r=xs();et(0,"div",14),tr("click",function(s){return lr(r),Qt().onOverlayClick(s)})("@overlayAnimation.start",function(s){return lr(r),Qt().onOverlayAnimationStart(s)})("@overlayAnimation.done",function(s){return lr(r),Qt().onOverlayAnimationDone(s)}),et(1,"div",15),et(2,"p-cascadeSelectSub",16),tr("onSelect",function(s){return lr(r),Qt().onOptionSelect(s)})("onGroupSelect",function(s){return lr(r),Qt().onOptionGroupSelect(s)}),tt(),tt(),tt()}if(2&e){const r=Qt();Vt("@overlayAnimation",Eg(14,wTe,Sg(11,yTe,r.showTransitionOptions,r.hideTransitionOptions))),Rt(2),Vt("options",r.options)("selectionPath",r.selectionPath)("optionLabel",r.optionLabel)("optionValue",r.optionValue)("level",0)("optionTemplate",r.optionTemplate)("optionGroupLabel",r.optionGroupLabel)("optionGroupChildren",r.optionGroupChildren)("dirty",r.dirty)("root",!0)}}const CTe={provide:Rc,useExisting:Y(()=>MN),multi:!0};let ETe=(()=>{class e{constructor(r,i){this.el=i,this.level=0,this.onSelect=new hr,this.onGroupSelect=new hr,this.activeOption=null,this.cascadeSelect=r}get parentActive(){return this._parentActive}set parentActive(r){r||(this.activeOption=null),this._parentActive=r}ngOnInit(){if(this.selectionPath&&this.options&&!this.dirty)for(let r of this.options)if(this.selectionPath.includes(r)){this.activeOption=r;break}this.root||this.position()}onOptionClick(r,i){this.isOptionGroup(i)?(this.activeOption=this.activeOption===i?null:i,this.onGroupSelect.emit({originalEvent:r,value:i})):this.onSelect.emit({originalEvent:r,value:this.getOptionValue(i)})}onOptionSelect(r){this.onSelect.emit(r)}onOptionGroupSelect(r){this.onGroupSelect.emit(r)}getOptionLabel(r){return this.optionLabel?jp.resolveFieldData(r,this.optionLabel):r}getOptionValue(r){return this.optionValue?jp.resolveFieldData(r,this.optionValue):r}getOptionGroupLabel(r){return this.optionGroupLabel?jp.resolveFieldData(r,this.optionGroupLabel):null}getOptionGroupChildren(r){return jp.resolveFieldData(r,this.optionGroupChildren[this.level])}isOptionGroup(r){return Object.prototype.hasOwnProperty.call(r,this.optionGroupChildren[this.level])}getOptionLabelToRender(r){return this.isOptionGroup(r)?this.getOptionGroupLabel(r):this.getOptionLabel(r)}getItemClass(r){return{"p-cascadeselect-item":!0,"p-cascadeselect-item-group":this.isOptionGroup(r),"p-cascadeselect-item-active p-highlight":this.isOptionActive(r)}}isOptionActive(r){return this.activeOption===r}onKeyDown(r,i,s){let o=r.currentTarget.parentElement;switch(r.key){case"Down":case"ArrowDown":var a=this.el.nativeElement.children[0].children[s+1];a&&a.children[0].focus(),r.preventDefault();break;case"Up":case"ArrowUp":var l=this.el.nativeElement.children[0].children[s-1];l&&l.children[0].focus(),r.preventDefault();break;case"Right":case"ArrowRight":this.isOptionGroup(i)&&(this.isOptionActive(i)?o.children[1].children[0].children[0].children[0].focus():this.activeOption=i),r.preventDefault();break;case"Left":case"ArrowLeft":this.activeOption=null;var u=o.parentElement.parentElement.parentElement;u&&u.children[0].focus(),r.preventDefault();break;case"Enter":this.onOptionClick(r,i),r.preventDefault();break;case"Tab":case"Escape":this.cascadeSelect.hide(),r.preventDefault()}}position(){const r=this.el.nativeElement.parentElement,i=ca.getOffset(r),s=ca.getViewport(),o=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:ca.getHiddenElementOuterWidth(this.el.nativeElement.children[0]),a=ca.getOuterWidth(r.children[0]);parseInt(i.left,10)+a+o>s.width-ca.calculateScrollbarWidth()&&(this.el.nativeElement.children[0].style.left="-200%")}}return e.\u0275fac=function(r){return new(r||e)(it(Y(()=>MN)),it($i))},e.\u0275cmp=Ys({type:e,selectors:[["p-cascadeSelectSub"]],inputs:{selectionPath:"selectionPath",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",level:"level",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:"dirty",root:"root",parentActive:"parentActive"},outputs:{onSelect:"onSelect",onGroupSelect:"onGroupSelect"},decls:2,vars:4,consts:[["role","listbox","aria-orientation","horizontal",1,"p-cascadeselect-panel","p-cascadeselect-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["role","none",3,"ngClass"],["tabindex","0","pRipple","",1,"p-cascadeselect-item-content",3,"click","keydown"],[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","p-cascadeselect-group-icon pi pi-angle-right",4,"ngIf"],["class","p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-item-text"],[1,"p-cascadeselect-group-icon","pi","pi-angle-right"],[1,"p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect"]],template:function(r,i){1&r&&(et(0,"ul",0),Qn(1,fTe,7,5,"ng-template",1),tt()),2&r&&(Vt("ngClass",Eg(2,ATe,i.root)),Rt(1),Vt("ngForOf",i.options))},directives:[e,OT,s0,rTe,yA,o0],encapsulation:2,changeDetection:0}),e})(),MN=(()=>{class e{constructor(r,i,s,o){this.el=r,this.cd=i,this.config=s,this.overlayService=o,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onChange=new hr,this.onGroupChange=new hr,this.onShow=new hr,this.onHide=new hr,this.onClear=new hr,this.onBeforeShow=new hr,this.onBeforeHide=new hr,this.selectionPath=null,this.optionCleared=!1,this.focused=!1,this.filled=!1,this.overlayVisible=!1,this.dirty=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.updateSelectionPath()}ngAfterContentInit(){this.templates.forEach(r=>{switch(r.getType()){case"value":this.valueTemplate=r.template;break;case"option":this.optionTemplate=r.template}})}onOptionSelect(r){this.value=r.value,this.updateSelectionPath(),this.onModelChange(this.value),this.onChange.emit(r),this.hide(),this.focusInputEl.nativeElement.focus()}onOptionGroupSelect(r){this.dirty=!0,this.onGroupChange.emit(r)}getOptionLabel(r){return this.optionLabel?jp.resolveFieldData(r,this.optionLabel):r}getOptionValue(r){return this.optionValue?jp.resolveFieldData(r,this.optionValue):r}getOptionGroupChildren(r,i){return jp.resolveFieldData(r,this.optionGroupChildren[i])}isOptionGroup(r,i){return Object.prototype.hasOwnProperty.call(r,this.optionGroupChildren[i])}updateSelectionPath(){let r;if(null!=this.value&&this.options)for(let i of this.options)if(r=this.findModelOptionInGroup(i,0),r)break;this.selectionPath=r,this.updateFilledState()}updateFilledState(){this.filled=!(null==this.selectionPath||0==this.selectionPath.length)}findModelOptionInGroup(r,i){if(this.isOptionGroup(r,i)){let s;for(let o of this.getOptionGroupChildren(r,i))if(s=this.findModelOptionInGroup(o,i+1),s)return s.unshift(r),s}else if(jp.equals(this.value,this.getOptionValue(r),this.dataKey))return[r];return null}show(){this.onBeforeShow.emit(),this.overlayVisible=!0}hide(){this.onBeforeHide.emit(),this.overlayVisible=!1,this.cd.markForCheck()}clear(r){this.optionCleared=!0,this.value=null,this.selectionPath=null,this.onClear.emit(),this.onModelChange(this.value),r.stopPropagation(),this.cd.markForCheck()}onClick(r){this.disabled||(!this.overlayEl||!this.overlayEl||!this.overlayEl.contains(r.target))&&(this.overlayVisible?this.hide():this.show(),this.focusInputEl.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1}onOverlayClick(r){this.overlayService.add({originalEvent:r,target:this.el.nativeElement})}onOverlayAnimationStart(r){"visible"===r.toState&&(this.overlayEl=r.element,this.onOverlayEnter())}onOverlayAnimationDone(r){"void"===r.toState&&this.onOverlayLeave()}onOverlayEnter(){ete.set("overlay",this.overlayEl,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.onShow.emit()}onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.onHide.emit(),ete.clear(this.overlayEl),this.overlayEl=null,this.dirty=!1}writeValue(r){this.value=r,this.updateSelectionPath(),this.cd.markForCheck()}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}setDisabledState(r){this.disabled=r,this.cd.markForCheck()}alignOverlay(){this.appendTo?(ca.absolutePosition(this.overlayEl,this.containerEl.nativeElement),this.overlayEl.style.minWidth=ca.getOuterWidth(this.containerEl.nativeElement)+"px"):ca.relativePosition(this.overlayEl,this.containerEl.nativeElement)}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=r=>{this.overlayVisible&&this.overlayEl&&!this.containerEl.nativeElement.contains(r.target)&&!this.overlayEl.contains(r.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new nTe(this.containerEl.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&this.hide()},window.addEventListener("resize",this.resizeListener))}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlayEl):document.getElementById(this.appendTo).appendChild(this.overlayEl))}restoreAppend(){this.overlayEl&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlayEl):document.getElementById(this.appendTo).removeChild(this.overlayEl))}label(){return this.selectionPath&&!this.optionCleared?this.getOptionLabel(this.selectionPath[this.selectionPath.length-1]):this.placeholder||"p-emptylabel"}onKeyDown(r){switch(r.code){case"Down":case"ArrowDown":this.overlayVisible?ca.findSingle(this.overlayEl,".p-cascadeselect-item").children[0].focus():r.altKey&&this.options&&this.options.length&&this.show(),r.preventDefault();break;case"Space":case"Enter":this.overlayVisible?this.hide():this.show(),r.preventDefault();break;case"Tab":case"Escape":this.overlayVisible&&(this.hide(),r.preventDefault())}}containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused}}labelClass(){return{"p-cascadeselect-label":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&("p-emptylabel"===this.label()||0===this.label().length)}}ngOnDestroy(){this.restoreAppend(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlayEl=null}}return e.\u0275fac=function(r){return new(r||e)(it($i),it(Tc),it(Yee),it(eTe))},e.\u0275cmp=Ys({type:e,selectors:[["p-cascadeSelect"]],contentQueries:function(r,i,s){if(1&r&&function ua(e,t,r,i){const s=is();if(s.firstCreatePass){const o=ko();FW(s,new BW(t,r,i),o.index),function y7e(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(s,e),2==(2&r)&&(s.staticContentQueries=!0)}DW(s,dn(),r)}(s,Xee,4),2&r){let o;fs(o=As())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&(nc(dTe,5),nc(hTe,5)),2&r){let s;fs(s=As())&&(i.focusInputEl=s.first),fs(s=As())&&(i.containerEl=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,i){2&r&&po("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)("p-cascadeselect-clearable",i.showClear&&!i.disabled)},inputs:{styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",tabindex:"tabindex",ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:"disabled",rounded:"rounded",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",showClear:"showClear"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide"},features:[Js([CTe])],decls:13,vars:17,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["focusInput",""],[3,"ngClass"],[4,"ngIf","ngIfElse"],["defaultValueTemplate",""],["class","p-cascadeselect-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-trigger"],[1,"p-cascadeselect-trigger-icon","pi","pi-chevron-down"],["class","p-cascadeselect-panel p-component",3,"click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-clear-icon","pi","pi-times",3,"click"],[1,"p-cascadeselect-panel","p-component",3,"click"],[1,"p-cascadeselect-items-wrapper"],[1,"p-cascadeselect-items",3,"options","selectionPath","optionLabel","optionValue","level","optionTemplate","optionGroupLabel","optionGroupChildren","dirty","root","onSelect","onGroupSelect"]],template:function(r,i){if(1&r&&(et(0,"div",0,1),tr("click",function(o){return i.onClick(o)}),et(2,"div",2),et(3,"input",3,4),tr("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown",function(o){return i.onKeyDown(o)}),tt(),tt(),et(5,"span",5),Qn(6,mTe,2,5,"ng-container",6),Qn(7,vTe,1,1,"ng-template",null,7,Bf),tt(),Qn(9,_Te,1,0,"i",8),et(10,"div",9),cs(11,"span",10),tt(),Qn(12,bTe,3,16,"div",11),tt()),2&r){const s=Ef(8);tc(i.styleClass),Vt("ngClass",i.containerClass())("ngStyle",i.style),Rt(3),Vt("disabled",i.disabled),$s("id",i.inputId)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy)("label",i.inputLabel)("aria-label",i.ariaLabel),Rt(2),Vt("ngClass",i.labelClass()),Rt(1),Vt("ngIf",i.valueTemplate)("ngIfElse",s),Rt(3),Vt("ngIf",!i.optionCleared&&i.filled&&!i.disabled&&i.showClear),Rt(1),$s("aria-expanded",i.overlayVisible),Rt(2),Vt("ngIf",i.overlayVisible)}},directives:[ETe,OT,PY,yA,o0],styles:[".p-cascadeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-cascadeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-cascadeselect-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-cascadeselect-label-empty{overflow:hidden;visibility:hidden}.p-cascadeselect .p-cascadeselect-panel{min-width:100%}.p-cascadeselect-panel{position:absolute;top:0;left:0}.p-cascadeselect-item{cursor:pointer;font-weight:400;white-space:nowrap}.p-cascadeselect-item-content{display:flex;align-items:center;overflow:hidden;position:relative}.p-cascadeselect-group-icon{margin-left:auto}.p-cascadeselect-items{margin:0;padding:0;list-style-type:none}.p-fluid .p-cascadeselect{display:flex}.p-fluid .p-cascadeselect .p-cascadeselect-label{width:1%}.p-cascadeselect-sublist{position:absolute;min-width:100%;z-index:1;display:none}.p-cascadeselect-item-active{overflow:visible!important}.p-cascadeselect-item-active>.p-cascadeselect-sublist{display:block;left:100%;top:0}.p-cascadeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-cascadeselect-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Nbe("overlayAnimation",[sX(":enter",[bw({opacity:0,transform:"scaleY(0.8)"}),rX("{{showTransitionParams}}")]),sX(":leave",[rX("{{hideTransitionParams}}",bw({opacity:0}))])])]},changeDetection:0}),e})(),STe=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[Ua,Jee,iTe],Jee]}),e})();const vb=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function tte(e){return new Ke(t=>{let r;try{r=e()}catch(s){return void t.error(s)}return(r?Qe(r):tb()).subscribe(t)})}function nte(e,t){let r=!1;return arguments.length>=2&&(r=!0),function(s){return s.lift(new BTe(e,t,r))}}class BTe{constructor(t,r,i=!1){this.accumulator=t,this.seed=r,this.hasSeed=i}call(t,r){return r.subscribe(new xTe(t,this.accumulator,this.seed,this.hasSeed))}}class xTe extends P{constructor(t,r,i,s){super(t),this.accumulator=r,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const r=this.index++;let i;try{i=this.accumulator(this.seed,t,r)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function Vg(e){return function(r){const i=new DTe(e),s=r.lift(i);return i.caught=s}}class DTe{constructor(t){this.selector=t}call(t,r){return r.subscribe(new FTe(t,this.selector,this.caught))}}class FTe extends nt{constructor(t,r,i){super(t),this.selector=r,this.caught=i}error(t){if(!this.isStopped){let r;try{r=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Ye(this);this.add(i);const s=dt(r,i);s!==i&&this.add(s)}}}function TN(e){return function(r){return 0===e?tb():r.lift(new MTe(e))}}class MTe{constructor(t){if(this.total=t,this.total<0)throw new OZ}call(t,r){return r.subscribe(new TTe(t,this.total))}}class TTe extends P{constructor(t,r){super(t),this.total=r,this.ring=new Array,this.count=0}_next(t){const r=this.ring,i=this.total,s=this.count++;r.length<i?r.push(t):r[s%i]=t}_complete(){const t=this.destination;let r=this.count;if(r>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let o=0;o<i;o++){const a=r++%i;t.next(s[a])}}t.complete()}}function rte(e=OTe){return t=>t.lift(new ITe(e))}class ITe{constructor(t){this.errorFactory=t}call(t,r){return r.subscribe(new NTe(t,this.errorFactory))}}class NTe extends P{constructor(t,r){super(t),this.errorFactory=r,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(r){t=r}this.destination.error(t)}}}function OTe(){return new vb}function ite(e=null){return t=>t.lift(new RTe(e))}class RTe{constructor(t){this.defaultValue=t}call(t,r){return r.subscribe(new kTe(t,this.defaultValue))}}class kTe extends P{constructor(t,r){super(t),this.defaultValue=r,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function u3(e,t){const r=arguments.length>=2;return i=>i.pipe(e?Oc((s,o)=>e(s,o,i)):Te,kc(1),r?ite(t):rte(()=>new vb))}class LTe{constructor(t){this.callback=t}call(t,r){return r.subscribe(new QTe(t,this.callback))}}class QTe extends P{constructor(t,r){super(t),this.add(new Mn(r))}}class d0{constructor(t,r){this.id=t,this.url=r}}class IN extends d0{constructor(t,r,i="imperative",s=null){super(t,r),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class q8 extends d0{constructor(t,r,i){super(t,r),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ste extends d0{constructor(t,r,i){super(t,r),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HTe extends d0{constructor(t,r,i){super(t,r),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VTe extends d0{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Te extends d0{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GTe extends d0{constructor(t,r,i,s,o){super(t,r),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zTe extends d0{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qTe extends d0{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ote{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ate{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jTe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KTe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WTe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YTe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lte{constructor(t,r,i){this.routerEvent=t,this.position=r,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ki="primary";class XTe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function c3(e){return new XTe(e)}const ute="ngNavigationCancelingError";function NN(e){const t=Error("NavigationCancelingError: "+e);return t[ute]=!0,t}function ZTe(e,t,r){const i=r.path.split("/");if(i.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let o=0;o<i.length;o++){const a=i[o],l=e[o];if(a.startsWith(":"))s[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}function Gd(e,t){const r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;let s;for(let o=0;o<r.length;o++)if(s=r[o],!cte(e[s],t[s]))return!1;return!0}function cte(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),i=[...t].sort();return r.every((s,o)=>i[o]===s)}return e===t}function fte(e){return Array.prototype.concat.apply([],e)}function Ate(e){return e.length>0?e[e.length-1]:null}function Fl(e,t){for(const r in e)e.hasOwnProperty(r)&&t(e[r],r)}function zd(e){return RM(e)?e:o8(e)?Qe(Promise.resolve(e)):mi(e)}const nIe={exact:function pte(e,t,r){if(!Gg(e.segments,t.segments)||!_b(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!pte(e.children[i],t.children[i],r))return!1;return!0},subset:gte},dte={exact:function rIe(e,t){return Gd(e,t)},subset:function iIe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>cte(e[r],t[r]))},ignored:()=>!0};function hte(e,t,r){return nIe[r.paths](e.root,t.root,r.matrixParams)&&dte[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function gte(e,t,r){return mte(e,t,t.segments,r)}function mte(e,t,r,i){if(e.segments.length>r.length){const s=e.segments.slice(0,r.length);return!(!Gg(s,r)||t.hasChildren()||!_b(s,r,i))}if(e.segments.length===r.length){if(!Gg(e.segments,r)||!_b(e.segments,r,i))return!1;for(const s in t.children)if(!e.children[s]||!gte(e.children[s],t.children[s],i))return!1;return!0}{const s=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!!(Gg(e.segments,s)&&_b(e.segments,s,i)&&e.children[Ki])&&mte(e.children[Ki],t,o,i)}}function _b(e,t,r){return t.every((i,s)=>dte[r](e[s].parameters,i.parameters))}class $g{constructor(t,r,i){this.root=t,this.queryParams=r,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=c3(this.queryParams)),this._queryParamMap}toString(){return aIe.serialize(this)}}class ss{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Fl(r,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yb(this)}}class j8{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=c3(this.parameters)),this._parameterMap}toString(){return bte(this)}}function Gg(e,t){return e.length===t.length&&e.every((r,i)=>r.path===t[i].path)}class vte{}class _te{parse(t){const r=new gIe(t);return new $g(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${K8(t.root,!0)}`,i=function cIe(e){const t=Object.keys(e).map(r=>{const i=e[r];return Array.isArray(i)?i.map(s=>`${wb(r)}=${wb(s)}`).join("&"):`${wb(r)}=${wb(i)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams),s="string"==typeof t.fragment?`#${function lIe(e){return encodeURI(e)}(t.fragment)}`:"";return`${r}${i}${s}`}}const aIe=new _te;function yb(e){return e.segments.map(t=>bte(t)).join("/")}function K8(e,t){if(!e.hasChildren())return yb(e);if(t){const r=e.children[Ki]?K8(e.children[Ki],!1):"",i=[];return Fl(e.children,(s,o)=>{o!==Ki&&i.push(`${o}:${K8(s,!1)}`)}),i.length>0?`${r}(${i.join("//")})`:r}{const r=function oIe(e,t){let r=[];return Fl(e.children,(i,s)=>{s===Ki&&(r=r.concat(t(i,s)))}),Fl(e.children,(i,s)=>{s!==Ki&&(r=r.concat(t(i,s)))}),r}(e,(i,s)=>s===Ki?[K8(e.children[Ki],!1)]:[`${s}:${K8(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ki]?`${yb(e)}/${r[0]}`:`${yb(e)}/(${r.join("//")})`}}function yte(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wb(e){return yte(e).replace(/%3B/gi,";")}function ON(e){return yte(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bb(e){return decodeURIComponent(e)}function wte(e){return bb(e.replace(/\+/g,"%20"))}function bte(e){return`${ON(e.path)}${function uIe(e){return Object.keys(e).map(t=>`;${ON(t)}=${ON(e[t])}`).join("")}(e.parameters)}`}const fIe=/^[^\/()?;=#]+/;function Cb(e){const t=e.match(fIe);return t?t[0]:""}const AIe=/^[^=?&#]+/,hIe=/^[^&#]+/;class gIe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ss([],{}):new ss([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[Ki]=new ss(t,r)),i}parseSegment(){const t=Cb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new j8(bb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=Cb(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){const s=Cb(this.remaining);s&&(i=s,this.capture(i))}t[bb(r)]=bb(i)}parseQueryParam(t){const r=function dIe(e){const t=e.match(AIe);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){const a=function pIe(e){const t=e.match(hIe);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=wte(r),o=wte(i);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(o)}else t[s]=o}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Cb(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ki);const a=this.parseChildren();r[o]=1===Object.keys(a).length?a[Ki]:new ss([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cte{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=RN(t,this._root);return r?r.children.map(i=>i.value):[]}firstChild(t){const r=RN(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=kN(t,this._root);return r.length<2?[]:r[r.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return kN(t,this._root).map(r=>r.value)}}function RN(e,t){if(e===t.value)return t;for(const r of t.children){const i=RN(e,r);if(i)return i}return null}function kN(e,t){if(e===t.value)return[t];for(const r of t.children){const i=kN(e,r);if(i.length)return i.unshift(t),i}return[]}class h0{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function f3(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class Ete extends Cte{constructor(t,r){super(t),this.snapshot=r,PN(this,t)}toString(){return this.snapshot.toString()}}function Ste(e,t){const r=function mIe(e,t){const a=new Eb([],{},{},"",{},Ki,t,null,e.root,-1,{});return new xte("",new h0(a,[]))}(e,t),i=new ll([new j8("",{})]),s=new ll({}),o=new ll({}),a=new ll({}),l=new ll(""),u=new A3(i,s,a,l,o,Ki,t,r.root);return u.snapshot=r.root,new Ete(new h0(u,[]),r)}class A3{constructor(t,r,i,s,o,a,l,u){this.url=t,this.params=r,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xn(t=>c3(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xn(t=>c3(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bte(e,t="emptyOnly"){const r=e.pathFromRoot;let i=0;if("always"!==t)for(i=r.length-1;i>=1;){const s=r[i],o=r[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function vIe(e){return e.reduce((t,r)=>({params:{...t.params,...r.params},data:{...t.data,...r.data},resolve:{...t.resolve,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(i))}class Eb{constructor(t,r,i,s,o,a,l,u,c,f,A){this.url=t,this.params=r,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=f,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=c3(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=c3(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xte extends Cte{constructor(t,r){super(r),this.url=t,PN(this,r)}toString(){return Dte(this._root)}}function PN(e,t){t.value._routerState=e,t.children.forEach(r=>PN(e,r))}function Dte(e){const t=e.children.length>0?` { ${e.children.map(Dte).join(", ")} } `:"";return`${e.value}${t}`}function UN(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Gd(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),Gd(t.params,r.params)||e.params.next(r.params),function eIe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Gd(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),Gd(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function LN(e,t){const r=Gd(e.params,t.params)&&function sIe(e,t){return Gg(e,t)&&e.every((r,i)=>Gd(r.parameters,t[i].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||LN(e.parent,t.parent))}function W8(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=t.value;const s=function yIe(e,t,r){return t.children.map(i=>{for(const s of r.children)if(e.shouldReuseRoute(i.value,s.value.snapshot))return W8(e,i,s);return W8(e,i)})}(e,t,r);return new h0(i,s)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>W8(e,l)),a}}const i=function wIe(e){return new A3(new ll(e.url),new ll(e.params),new ll(e.queryParams),new ll(e.fragment),new ll(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(o=>W8(e,o));return new h0(i,s)}}function Sb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Y8(e){return"object"==typeof e&&null!=e&&e.outlets}function QN(e,t,r,i,s){let o={};return i&&Fl(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),new $g(r.root===e?t:Fte(r.root,e,t),o,s)}function Fte(e,t,r){const i={};return Fl(e.children,(s,o)=>{i[o]=s===t?r:Fte(s,t,r)}),new ss(e.segments,i)}class Mte{constructor(t,r,i){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=i,t&&i.length>0&&Sb(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Y8);if(s&&s!==Ate(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HN{constructor(t,r,i){this.segmentGroup=t,this.processChildren=r,this.index=i}}function Tte(e,t,r){if(e||(e=new ss([],{})),0===e.segments.length&&e.hasChildren())return Bb(e,t,r);const i=function xIe(e,t,r){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=r.length)return o;const a=e.segments[s],l=r[i];if(Y8(l))break;const u=`${l}`,c=i<r.length-1?r[i+1]:null;if(s>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Nte(u,c,a))return o;i+=2}else{if(!Nte(u,{},a))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,r),s=r.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new ss(e.segments.slice(0,i.pathIndex),{});return o.children[Ki]=new ss(e.segments.slice(i.pathIndex),e.children),Bb(o,0,s)}return i.match&&0===s.length?new ss(e.segments,{}):i.match&&!e.hasChildren()?VN(e,t,r):i.match?Bb(e,0,s):VN(e,t,r)}function Bb(e,t,r){if(0===r.length)return new ss(e.segments,{});{const i=function BIe(e){return Y8(e[0])?e[0].outlets:{[Ki]:e}}(r),s={};return Fl(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[a]=Tte(e.children[a],t,o))}),Fl(e.children,(o,a)=>{void 0===i[a]&&(s[a]=o)}),new ss(e.segments,s)}}function VN(e,t,r){const i=e.segments.slice(0,t);let s=0;for(;s<r.length;){const o=r[s];if(Y8(o)){const u=DIe(o.outlets);return new ss(i,u)}if(0===s&&Sb(r[0])){i.push(new j8(e.segments[t].path,Ite(r[0]))),s++;continue}const a=Y8(o)?o.outlets[Ki]:`${o}`,l=s<r.length-1?r[s+1]:null;a&&l&&Sb(l)?(i.push(new j8(a,Ite(l))),s+=2):(i.push(new j8(a,{})),s++)}return new ss(i,{})}function DIe(e){const t={};return Fl(e,(r,i)=>{"string"==typeof r&&(r=[r]),null!==r&&(t[i]=VN(new ss([],{}),0,r))}),t}function Ite(e){const t={};return Fl(e,(r,i)=>t[i]=`${r}`),t}function Nte(e,t,r){return e==r.path&&Gd(t,r.parameters)}class MIe{constructor(t,r,i,s){this.routeReuseStrategy=t,this.futureState=r,this.currState=i,this.forwardEvent=s}activate(t){const r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),UN(this.futureState.root),this.activateChildRoutes(r,i,t)}deactivateChildRoutes(t,r,i){const s=f3(r);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,s[a],i),delete s[a]}),Fl(s,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,r,i){const s=t.value,o=r?r.value:null;if(s===o)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(t,r,a.children)}else this.deactivateChildRoutes(t,r,i);else o&&this.deactivateRouteAndItsChildren(r,i)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const i=r.getContext(t.value.outlet),s=i&&t.value.component?i.children:r,o=f3(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,r){const i=r.getContext(t.value.outlet),s=i&&t.value.component?i.children:r,o=f3(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,r,i){const s=f3(r);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new YTe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new KTe(t.value.snapshot))}activateRoutes(t,r,i){const s=t.value,o=r?r.value:null;if(UN(s),s===o)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,r,a.children)}else this.activateChildRoutes(t,r,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const l=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),UN(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=function TIe(e){for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(s.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=u,a.outlet&&a.outlet.activateWith(s,u),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class $N{constructor(t,r){this.routes=t,this.module=r}}function Kp(e){return"function"==typeof e}function zg(e){return e instanceof $g}const X8=Symbol("INITIAL_VALUE");function J8(){return Qd(e=>function iN(...e){let t,r;return qn(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Wn(e[0])&&(e=e[0]),lt(e,r).lift(new QBe(t))}(e.map(t=>t.pipe(kc(1),function ib(...e){const t=e[e.length-1];return qn(t)?(e.pop(),r=>rb(e,r,t)):r=>rb(e,r)}(X8)))).pipe(nte((t,r)=>{let i=!1;return r.reduce((s,o,a)=>s!==X8?s:(o===X8&&(i=!0),i||!1!==o&&a!==r.length-1&&!zg(o)?s:o),t)},X8),Oc(t=>t!==X8),xn(t=>zg(t)?t:!0===t),kc(1)))}class PIe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Z8,this.attachRef=null}}class Z8{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new PIe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}let GN=(()=>{class e{constructor(r,i,s,o,a){this.parentContexts=r,this.location=i,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new hr,this.deactivateEvents=new hr,this.attachEvents=new hr,this.detachEvents=new hr,this.name=o||Ki,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const a=(i=i||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,u=new UIe(r,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(r){return new(r||e)(it(Z8),it(Sf),it(e0),function zh(e){return function iF(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const i=r.length;let s=0;for(;s<i;){const o=r[s];if(j7(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<i&&"string"==typeof r[s];)s++;else{if(o===t)return r[s+1];s+=2}}}return null}(ko(),e)}("name"),it(Tc))},e.\u0275dir=Fn({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class UIe{constructor(t,r,i){this.route=t,this.childContexts=r,this.parent=i}get(t,r){return t===A3?this.route:t===Z8?this.childContexts:this.parent.get(t,r)}}let Ote=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ys({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){1&r&&cs(0,"router-outlet")},directives:[GN],encapsulation:2}),e})();function Rte(e,t=""){for(let r=0;r<e.length;r++){const i=e[r];LIe(i,QIe(t,i))}}function LIe(e,t){e.children&&Rte(e.children,t)}function QIe(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function zN(e){const t=e.children&&e.children.map(zN),r=t?{...e,children:t}:{...e};return!r.component&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Ki&&(r.component=Ote),r}function If(e){return e.outlet||Ki}function kte(e,t){const r=e.filter(i=>If(i)===t);return r.push(...e.filter(i=>If(i)!==t)),r}const Pte={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xb(e,t,r){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...Pte}:{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||ZTe)(r,e,t);if(!s)return{...Pte};const o={};Fl(s.posParams,(l,u)=>{o[u]=l.path});const a=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:s.posParams??{}}}function Db(e,t,r,i,s="corrected"){if(r.length>0&&function $Ie(e,t,r){return r.some(i=>Fb(e,t,i)&&If(i)!==Ki)}(e,r,i)){const a=new ss(t,function VIe(e,t,r,i){const s={};s[Ki]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of r)if(""===o.path&&If(o)!==Ki){const a=new ss([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,s[If(o)]=a}return s}(e,t,i,new ss(r,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function GIe(e,t,r){return r.some(i=>Fb(e,t,i))}(e,r,i)){const a=new ss(e.segments,function HIe(e,t,r,i,s,o){const a={};for(const l of i)if(Fb(e,r,l)&&!s[If(l)]){const u=new ss([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[If(l)]=u}return{...s,...a}}(e,t,r,i,e.children,s));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:r}}const o=new ss(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:r}}function Fb(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}function Ute(e,t,r,i){return!!(If(e)===i||i!==Ki&&Fb(t,r,e))&&("**"===e.path||xb(t,e,r).matched)}function Lte(e,t,r){return 0===t.length&&!e.children[r]}class e6{constructor(t){this.segmentGroup=t||null}}class Qte{constructor(t){this.urlTree=t}}function Mb(e){return new Ke(t=>t.error(new e6(e)))}function Hte(e){return new Ke(t=>t.error(new Qte(e)))}function zIe(e){return new Ke(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class KIe{constructor(t,r,i,s,o){this.configLoader=r,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(t0)}apply(){const t=Db(this.urlTree.root,[],[],this.config).segmentGroup,r=new ss(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Ki).pipe(xn(o=>this.createUrlTree(qN(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vg(o=>{if(o instanceof Qte)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof e6?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ki).pipe(xn(s=>this.createUrlTree(qN(s),t.queryParams,t.fragment))).pipe(Vg(s=>{throw s instanceof e6?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,r,i){const s=t.segments.length>0?new ss([],{[Ki]:t}):t;return new $g(s,r,i)}expandSegmentGroup(t,r,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,r,i).pipe(xn(o=>new ss([],o))):this.expandSegment(t,i,r,i.segments,s,!0)}expandChildren(t,r,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return Qe(s).pipe(Zv(o=>{const a=i.children[o],l=kte(r,o);return this.expandSegmentGroup(t,l,a,o).pipe(xn(u=>({segment:u,outlet:o})))}),nte((o,a)=>(o[a.outlet]=a.segment,o),{}),function PTe(e,t){const r=arguments.length>=2;return i=>i.pipe(e?Oc((s,o)=>e(s,o,i)):Te,TN(1),r?ite(t):rte(()=>new vb))}())}expandSegment(t,r,i,s,o,a){return Qe(i).pipe(Zv(l=>this.expandSegmentAgainstRoute(t,r,i,l,s,o,a).pipe(Vg(c=>{if(c instanceof e6)return mi(null);throw c}))),u3(l=>!!l),Vg((l,u)=>{if(l instanceof vb||"EmptyError"===l.name){if(Lte(r,s,o))return mi(new ss([],{}));throw new e6(r)}throw l}))}expandSegmentAgainstRoute(t,r,i,s,o,a,l){return Ute(s,r,o,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,r,s,o,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,s,o,a):Mb(r):Mb(r)}expandSegmentAgainstRouteUsingRedirect(t,r,i,s,o,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,r,i,s,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Hte(o):this.lineralizeSegments(i,o).pipe(ct(a=>{const l=new ss(a,{});return this.expandSegment(t,l,r,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,r,i,s,o,a){const{matched:l,consumedSegments:u,lastChild:c,positionalParamSegments:f}=xb(r,s,o);if(!l)return Mb(r);const A=this.applyRedirectCommands(u,s.redirectTo,f);return s.redirectTo.startsWith("/")?Hte(A):this.lineralizeSegments(s,A).pipe(ct(d=>this.expandSegment(t,r,i,d.concat(o.slice(c)),a,!1)))}matchSegmentAgainstRoute(t,r,i,s,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?mi(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(xn(d=>(i._loadedConfig=d,new ss(s,{})))):mi(new ss(s,{}));const{matched:a,consumedSegments:l,lastChild:u}=xb(r,i,s);if(!a)return Mb(r);const c=s.slice(u);return this.getChildConfig(t,i,s).pipe(ct(A=>{const d=A.module,h=A.routes,{segmentGroup:g,slicedSegments:m}=Db(r,l,c,h),v=new ss(g.segments,g.children);if(0===m.length&&v.hasChildren())return this.expandChildren(d,h,v).pipe(xn(T=>new ss(l,T)));if(0===h.length&&0===m.length)return mi(new ss(l,{}));const _=If(i)===o;return this.expandSegment(d,v,h,m,_?Ki:o,!0).pipe(xn(D=>new ss(l.concat(D.segments),D.children)))}))}getChildConfig(t,r,i){return r.children?mi(new $N(r.children,t)):r.loadChildren?void 0!==r._loadedConfig?mi(r._loadedConfig):this.runCanLoadGuards(t.injector,r,i).pipe(ct(s=>s?this.configLoader.load(t.injector,r).pipe(xn(o=>(r._loadedConfig=o,o))):function qIe(e){return new Ke(t=>t.error(NN(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(r))):mi(new $N([],t))}runCanLoadGuards(t,r,i){const s=r.canLoad;if(!s||0===s.length)return mi(!0);const o=s.map(a=>{const l=t.get(a);let u;if(function NIe(e){return e&&Kp(e.canLoad)}(l))u=l.canLoad(r,i);else{if(!Kp(l))throw new Error("Invalid CanLoad guard");u=l(r,i)}return zd(u)});return mi(o).pipe(J8(),Mu(a=>{if(!zg(a))return;const l=NN(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),xn(a=>!0===a))}lineralizeSegments(t,r){let i=[],s=r.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return mi(i);if(s.numberOfChildren>1||!s.children[Ki])return zIe(t.redirectTo);s=s.children[Ki]}}applyRedirectCommands(t,r,i){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),t,i)}applyRedirectCreatreUrlTree(t,r,i,s){const o=this.createSegmentGroup(t,r.root,i,s);return new $g(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const i={};return Fl(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);i[o]=r[l]}else i[o]=s}),i}createSegmentGroup(t,r,i,s){const o=this.createSegments(t,r.segments,i,s);let a={};return Fl(r.children,(l,u)=>{a[u]=this.createSegmentGroup(t,l,i,s)}),new ss(o,a)}createSegments(t,r,i,s){return r.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,r,i){const s=i[r.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${r.path}'.`);return s}findOrReturn(t,r){let i=0;for(const s of r){if(s.path===t.path)return r.splice(i),s;i++}return t}}function qN(e){const t={};for(const i of Object.keys(e.children)){const o=qN(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function WIe(e){if(1===e.numberOfChildren&&e.children[Ki]){const t=e.children[Ki];return new ss(e.segments.concat(t.segments),t.children)}return e}(new ss(e.segments,t))}class Vte{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Tb{constructor(t,r){this.component=t,this.route=r}}function XIe(e,t,r){const i=e._root;return t6(i,t?t._root:null,r,[i.value])}function Ib(e,t,r){const i=function ZIe(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(t);return(i?i.module.injector:r).get(e)}function t6(e,t,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=f3(t);return e.children.forEach(a=>{(function eNe(e,t,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=t?t.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function tNe(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Gg(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Gg(e.url,t.url)||!Gd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LN(e,t)||!Gd(e.queryParams,t.queryParams);default:return!LN(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Vte(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t6(e,t,o.component?l?l.children:null:r,i,s),u&&l&&l.outlet&&l.outlet.isActivated&&s.canDeactivateChecks.push(new Tb(l.outlet.component,a))}else a&&n6(t,l,s),s.canActivateChecks.push(new Vte(i)),t6(e,null,o.component?l?l.children:null:r,i,s)})(a,o[a.value.outlet],r,i.concat([a.value]),s),delete o[a.value.outlet]}),Fl(o,(a,l)=>n6(a,r.getContext(l),s)),s}function n6(e,t,r){const i=f3(e),s=e.value;Fl(i,(o,a)=>{n6(o,s.component?t?t.children.getContext(a):null:t,r)}),r.canDeactivateChecks.push(new Tb(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class cNe{}function $te(e){return new Ke(t=>t.error(e))}class ANe{constructor(t,r,i,s,o,a){this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const t=Db(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,t,Ki);if(null===r)return null;const i=new Eb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ki,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new h0(i,r),o=new xte(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const r=t.value,i=Bte(r,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,r):this.processSegment(t,r,r.segments,i)}processChildren(t,r){const i=[];for(const o of Object.keys(r.children)){const a=r.children[o],l=kte(t,o),u=this.processSegmentGroup(l,a,o);if(null===u)return null;i.push(...u)}const s=Gte(i);return function dNe(e){e.sort((t,r)=>t.value.outlet===Ki?-1:r.value.outlet===Ki?1:t.value.outlet.localeCompare(r.value.outlet))}(s),s}processSegment(t,r,i,s){for(const o of t){const a=this.processSegmentAgainstRoute(o,r,i,s);if(null!==a)return a}return Lte(r,i,s)?[]:null}processSegmentAgainstRoute(t,r,i,s){if(t.redirectTo||!Ute(t,r,i,s))return null;let o,a=[],l=[];if("**"===t.path){const h=i.length>0?Ate(i).parameters:{};o=new Eb(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jte(t),If(t),t.component,t,zte(r),qte(r)+i.length,Kte(t))}else{const h=xb(r,t,i);if(!h.matched)return null;a=h.consumedSegments,l=i.slice(h.lastChild),o=new Eb(a,h.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jte(t),If(t),t.component,t,zte(r),qte(r)+a.length,Kte(t))}const u=function hNe(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:f}=Db(r,a,l,u.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution);if(0===f.length&&c.hasChildren()){const h=this.processChildren(u,c);return null===h?null:[new h0(o,h)]}if(0===u.length&&0===f.length)return[new h0(o,[])];const A=If(t)===s,d=this.processSegment(u,c,f,A?Ki:s);return null===d?null:[new h0(o,d)]}}function pNe(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Gte(e){const t=[],r=new Set;for(const i of e){if(!pNe(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),r.add(s)):t.push(i)}for(const i of r){const s=Gte(i.children);t.push(new h0(i.value,s))}return t.filter(i=>!r.has(i))}function zte(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function qte(e){let t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function jte(e){return e.data||{}}function Kte(e){return e.resolve||{}}function jN(e){return Qd(t=>{const r=e(t);return r?Qe(r).pipe(xn(()=>t)):mi(t)})}class CNe extends class bNe{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}{}const KN=new Ai("ROUTES");class Wte{constructor(t,r,i,s){this.injector=t,this.compiler=r,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactory(r.loadChildren).pipe(xn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r);const a=o.create(t);return new $N(fte(a.injector.get(KN,void 0,Ne.Self|Ne.Optional)).map(zN),a)}),Vg(o=>{throw r._loader$=void 0,o}));return r._loader$=new Dn(s,()=>new At).pipe(Jt()),r._loader$}loadModuleFactory(t){return zd(t()).pipe(ct(r=>r instanceof hW?mi(r):Qe(this.compiler.compileModuleAsync(r))))}}class SNe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}function BNe(e){throw e}function xNe(e,t,r){return t.parse("/")}function Yte(e,t){return mi(null)}const DNe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FNe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qc=(()=>{class e{constructor(r,i,s,o,a,l,u){this.rootComponentType=r,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new At,this.errorHandler=BNe,this.malformedUriErrorHandler=xNe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yte,afterPreactivation:Yte},this.urlHandlingStrategy=new SNe,this.routeReuseStrategy=new CNe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(t0),this.console=a.get(WW);const A=a.get(Is);this.isNgZoneEnabled=A instanceof Is&&Is.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function tIe(){return new $g(new ss([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wte(a,l,d=>this.triggerEvent(new ote(d)),d=>this.triggerEvent(new ate(d))),this.routerState=Ste(this.currentUrlTree,this.rootComponentType),this.transitions=new ll({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(r){const i=this.events;return r.pipe(Oc(s=>0!==s.id),xn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qd(s=>{let o=!1,a=!1;return mi(s).pipe(Mu(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qd(l=>{const u=this.browserUrlTree.toString(),c=!this.navigated||l.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Nb(l.source)&&(this.browserUrlTree=l.extractedUrl),mi(l).pipe(Qd(A=>{const d=this.transitions.getValue();return i.next(new IN(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),d!==this.transitions.getValue()?Og:Promise.resolve(A)}),function YIe(e,t,r,i){return Qd(s=>function jIe(e,t,r,i,s){return new KIe(e,t,r,i,s).apply()}(e,t,r,s.extractedUrl,i).pipe(xn(o=>({...s,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mu(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects}}),function gNe(e,t,r,i,s){return ct(o=>function fNe(e,t,r,i,s="emptyOnly",o="legacy"){try{const a=new ANe(e,t,r,i,s,o).recognize();return null===a?$te(new cNe):mi(a)}catch(a){return $te(a)}}(e,t,o.urlAfterRedirects,r(o.urlAfterRedirects),i,s).pipe(xn(a=>({...o,targetSnapshot:a}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),Mu(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(h,A)}this.browserUrlTree=A.urlAfterRedirects}const d=new VTe(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:h,source:g,restoredState:m,extras:v}=l,_=new IN(d,this.serializeUrl(h),g,m);i.next(_);const C=Ste(h,this.rootComponentType).snapshot;return mi({...l,targetSnapshot:C,urlAfterRedirects:h,extras:{...v,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),Og}),jN(l=>{const{targetSnapshot:u,id:c,extractedUrl:f,rawUrl:A,extras:{skipLocationChange:d,replaceUrl:h}}=l;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:f,rawUrlTree:A,skipLocationChange:!!d,replaceUrl:!!h})}),Mu(l=>{const u=new $Te(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),xn(l=>({...l,guards:XIe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function nNe(e,t){return ct(r=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:a}}=r;return 0===a.length&&0===o.length?mi({...r,guardsResult:!0}):function rNe(e,t,r,i){return Qe(e).pipe(ct(s=>function uNe(e,t,r,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?mi(o.map(l=>{const u=Ib(l,t,s);let c;if(function kIe(e){return e&&Kp(e.canDeactivate)}(u))c=zd(u.canDeactivate(e,t,r,i));else{if(!Kp(u))throw new Error("Invalid CanDeactivate guard");c=zd(u(e,t,r,i))}return c.pipe(u3())})).pipe(J8()):mi(!0)}(s.component,s.route,r,t,i)),u3(s=>!0!==s,!0))}(a,i,s,e).pipe(ct(l=>l&&function IIe(e){return"boolean"==typeof e}(l)?function iNe(e,t,r,i){return Qe(t).pipe(Zv(s=>rb(function oNe(e,t){return null!==e&&t&&t(new jTe(e)),mi(!0)}(s.route.parent,i),function sNe(e,t){return null!==e&&t&&t(new WTe(e)),mi(!0)}(s.route,i),function lNe(e,t,r){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function JIe(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>tte(()=>mi(a.guards.map(u=>{const c=Ib(u,a.node,r);let f;if(function RIe(e){return e&&Kp(e.canActivateChild)}(c))f=zd(c.canActivateChild(i,e));else{if(!Kp(c))throw new Error("Invalid CanActivateChild guard");f=zd(c(i,e))}return f.pipe(u3())})).pipe(J8())));return mi(o).pipe(J8())}(e,s.path,r),function aNe(e,t,r){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return mi(!0);const s=i.map(o=>tte(()=>{const a=Ib(o,t,r);let l;if(function OIe(e){return e&&Kp(e.canActivate)}(a))l=zd(a.canActivate(t,e));else{if(!Kp(a))throw new Error("Invalid CanActivate guard");l=zd(a(t,e))}return l.pipe(u3())}));return mi(s).pipe(J8())}(e,s.route,r))),u3(s=>!0!==s,!0))}(i,o,e,t):mi(l)),xn(l=>({...r,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),Mu(l=>{if(zg(l.guardsResult)){const c=NN(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw c.url=l.guardsResult,c}const u=new GTe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(u)}),Oc(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),jN(l=>{if(l.guards.canActivateChecks.length)return mi(l).pipe(Mu(u=>{const c=new zTe(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Qd(u=>{let c=!1;return mi(u).pipe(function mNe(e,t){return ct(r=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=r;if(!s.length)return mi(r);let o=0;return Qe(s).pipe(Zv(a=>function vNe(e,t,r,i){return function _Ne(e,t,r,i){const s=Object.keys(e);if(0===s.length)return mi({});const o={};return Qe(s).pipe(ct(a=>function yNe(e,t,r,i){const s=Ib(e,t,i);return zd(s.resolve?s.resolve(t,r):s(t,r))}(e[a],t,r,i).pipe(Mu(l=>{o[a]=l}))),TN(1),ct(()=>Object.keys(o).length===s.length?mi(o):Og))}(e._resolve,e,t,i).pipe(xn(o=>(e._resolvedData=o,e.data={...e.data,...Bte(e,r).resolve},null)))}(a.route,i,e,t)),Mu(()=>o++),TN(1),ct(a=>o===s.length?mi(r):Og))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mu({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Mu(u=>{const c=new qTe(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),jN(l=>{const{targetSnapshot:u,id:c,extractedUrl:f,rawUrl:A,extras:{skipLocationChange:d,replaceUrl:h}}=l;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:f,rawUrlTree:A,skipLocationChange:!!d,replaceUrl:!!h})}),xn(l=>{const u=function _Ie(e,t,r){const i=W8(e,t._root,r?r._root:void 0);return new Ete(i,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return{...l,targetRouterState:u}}),Mu(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((e,t,r)=>xn(i=>(new MIe(t,i.targetRouterState,i.currentRouterState,r).activate(e),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),Mu({next(){o=!0},complete(){o=!0}}),function UTe(e){return t=>t.lift(new LTe(e))}(()=>{o||a||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Vg(l=>{if(a=!0,function JTe(e){return e&&e[ute]}(l)){const u=zg(l.url);u||(this.navigated=!0,this.restoreHistory(s,!0));const c=new ste(s.id,this.serializeUrl(s.extractedUrl),l.message);i.next(c),u?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),A={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nb(s.source)};this.scheduleNavigation(f,"imperative",null,A,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const u=new HTe(s.id,this.serializeUrl(s.extractedUrl),l);i.next(u);try{s.resolve(this.errorHandler(l))}catch(c){s.reject(c)}}return Og}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}setTransition(r){this.transitions.next({...this.transitions.value,...r})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const s={replaceUrl:!0},o=r.state?.navigationId?r.state:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(r.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){Rte(r),this.config=r.map(zN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,c=s||this.routerState.root,f=u?this.currentUrlTree.fragment:a;let A=null;switch(l){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}return null!==A&&(A=this.removeEmptyProps(A)),function bIe(e,t,r,i,s){if(0===r.length)return QN(t.root,t.root,t,i,s);const o=function CIe(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Mte(!0,0,e);let t=0,r=!1;const i=e.reduce((s,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Fl(o.outlets,(u,c)=>{l[c]="string"==typeof u?u.split("/"):u}),[...s,{outlets:l}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===a?(o.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?r=!0:".."===l?t++:""!=l&&s.push(l))}),s):[...s,o]},[]);return new Mte(r,t,i)}(r);if(o.toRoot())return QN(t.root,new ss([],{}),t,i,s);const a=function EIe(e,t,r){if(e.isAbsolute)return new HN(t.root,!0,0);if(-1===r.snapshot._lastPathIndex){const o=r.snapshot._urlSegment;return new HN(o,o===t.root,0)}const i=Sb(e.commands[0])?0:1;return function SIe(e,t,r){let i=e,s=t,o=r;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new HN(i,!1,s-o)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),l=a.processChildren?Bb(a.segmentGroup,a.index,o.commands):Tte(a.segmentGroup,a.index,o.commands);return QN(a.segmentGroup,l,t,i,s)}(c,this.currentUrlTree,r,A,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=zg(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(r,i={skipLocationChange:!1}){return function MNe(e){for(let t=0;t<e.length;t++){const r=e[t];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${t}`)}}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...DNe}:!1===i?{...FNe}:i,zg(r))return hte(this.currentUrlTree,r,s);const o=this.parseUrl(r);return hte(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new q8(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,u=Nb(i)&&l&&!Nb(l.source),c=l.rawUrl.toString()===r.toString();if(u&&c&&l.id===this.currentNavigation?.id)return Promise.resolve(!0);let d,h,g;a?(d=a.resolve,h=a.reject,g=a.promise):g=new Promise((_,C)=>{d=_,h=C});const m=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),v=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):v=0,this.setTransition({id:m,targetPageId:v,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:o,resolve:d,reject:h,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(_=>Promise.reject(_))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,i){const s=new ste(r.id,this.serializeUrl(r.extractedUrl),i);this.triggerEvent(s),r.resolve(!1)}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return e.\u0275fac=function(r){NM()},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function Nb(e){return"imperative"!==e}class Xte{}class Jte{preload(t,r){return mi(null)}}let Zte=(()=>{class e{constructor(r,i,s,o){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=new Wte(s,i,u=>r.triggerEvent(new ote(u)),u=>r.triggerEvent(new ate(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oc(r=>r instanceof q8),Zv(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(t0);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const a=o._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(r,o)):o.children&&s.push(this.processRoutes(r,o.children));return Qe(s).pipe(at(),xn(o=>{}))}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?mi(i._loadedConfig):this.loader.load(r.injector,i)).pipe(ct(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(r){return new(r||e)(er(Qc),er(iw),er(Mo),er(Xte))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})(),XN=(()=>{class e{constructor(r,i,s={}){this.router=r,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof IN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof q8&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof lte&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.router.triggerEvent(new lte(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(r){NM()},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();const qg=new Ai("ROUTER_CONFIGURATION"),ene=new Ai("ROUTER_FORROOT_GUARD"),ONe=[ST,{provide:vte,useClass:_te},{provide:Qc,useFactory:function LNe(e,t,r,i,s,o,a={},l,u){const c=new Qc(null,e,t,r,i,s,fte(o));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function QNe(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(a,c),a.enableTracing&&c.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),console.groupEnd?.()}),c},deps:[vte,Z8,ST,Mo,iw,KN,qg,[class ENe{},new Dc],[class wNe{},new Dc]]},Z8,{provide:A3,useFactory:function HNe(e){return e.routerState.root},deps:[Qc]},Zte,Jte,class NNe{preload(t,r){return r().pipe(Vg(()=>mi(null)))}},{provide:qg,useValue:{enableTracing:!1}}];function RNe(){return new tY("Router",Qc)}let tne=(()=>{class e{constructor(r,i){}static forRoot(r,i){return{ngModule:e,providers:[ONe,nne(r),{provide:ene,useFactory:UNe,deps:[[Qc,new Dc,new mp]]},{provide:qg,useValue:i||{}},{provide:Wv,useFactory:PNe,deps:[xg,[new gp(ET),new Dc],qg]},{provide:XN,useFactory:kNe,deps:[Qc,Wwe,qg]},{provide:Xte,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Jte},{provide:tY,multi:!0,useFactory:RNe},[JN,{provide:rw,multi:!0,useFactory:VNe,deps:[JN]},{provide:rne,useFactory:$Ne,deps:[JN]},{provide:KW,multi:!0,useExisting:rne}]]}}static forChild(r){return{ngModule:e,providers:[nne(r)]}}}return e.\u0275fac=function(r){return new(r||e)(er(ene,8),er(Qc,8))},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({}),e})();function kNe(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new XN(e,t,r)}function PNe(e,t,r={}){return r.useHash?new Oye(e,t):new CY(e,t)}function UNe(e){return"guarded"}function nne(e){return[{provide:I5,multi:!0,useValue:e},{provide:KN,multi:!0,useValue:e}]}let JN=(()=>{class e{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new At}appInitializer(){return this.injector.get(Tye,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(l=>i=l),o=this.injector.get(Qc),a=this.injector.get(qg);return"disabled"===a.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?mi(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),s})}bootstrapListener(r){const i=this.injector.get(qg),s=this.injector.get(Zte),o=this.injector.get(XN),a=this.injector.get(Qc),l=this.injector.get(Rp);r===l.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),o.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(r){return new(r||e)(er(Mo))},e.\u0275prov=gn({token:e,factory:e.\u0275fac}),e})();function VNe(e){return e.appInitializer.bind(e)}function $Ne(e){return e.bootstrapListener.bind(e)}const rne=new Ai("Router Initializer");var zNe=vr(159),qNe=vr.n(zNe),jNe=Array.prototype.slice;function sne(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ZN(e){let t=e,r=e;function i(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;r(a[f],l)<0?u=f+1:c=f}return u}return 1===e.length&&(t=(a,l)=>e(a)-l,r=function KNe(e){return(t,r)=>sne(e(t),r)}(e)),{left:i,center:function o(a,l,u,c){null==u&&(u=0),null==c&&(c=a.length);const f=i(a,l,u,c-1);return f>u&&t(a[f-1],l)>-t(a[f],l)?f-1:f},right:function s(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;r(a[f],l)>0?c=f:u=f+1}return u}}}const YNe=ZN(sne).right,XNe=(ZN(function WNe(e){return null===e?NaN:+e}),YNe);function Ob(e){return function(){return e}}function eO(e,t){let r,i;if(void 0===t)for(const s of e)null!=s&&(void 0===r?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)));else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(void 0===r?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}return[r,i]}function JNe(e){return e}var tO=Math.sqrt(50),nO=Math.sqrt(10),rO=Math.sqrt(2);function iO(e,t,r){var i=(t-e)/Math.max(0,r),s=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,s);return s>=0?(o>=tO?10:o>=nO?5:o>=rO?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=tO?10:o>=nO?5:o>=rO?2:1)}function ane(e,t,r){var i=Math.abs(t-e)/Math.max(0,r),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/s;return o>=tO?s*=10:o>=nO?s*=5:o>=rO&&(s*=2),t<e?-s:s}function nOe(e){return Math.ceil(Math.log(function tOe(e,t){let r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&++r;else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(s=+s)>=s&&++r}return r}(e))/Math.LN2)+1}function iOe(){}function sO(e){return null==e?iOe:function(){return this.querySelector(e)}}function lne(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function oOe(){return[]}function une(e){return null==e?oOe:function(){return this.querySelectorAll(e)}}function cne(e){return function(){return this.matches(e)}}function fne(e){return function(t){return t.matches(e)}}var uOe=Array.prototype.find;function fOe(){return this.firstElementChild}var dOe=Array.prototype.filter;function hOe(){return this.children}function Ane(e){return new Array(e.length)}function Rb(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _Oe(e){return function(){return e}}function yOe(e,t,r,i,s,o){for(var l,a=0,u=t.length,c=o.length;a<c;++a)(l=t[a])?(l.__data__=o[a],i[a]=l):r[a]=new Rb(e,o[a]);for(;a<u;++a)(l=t[a])&&(s[a]=l)}function wOe(e,t,r,i,s,o,a){var l,u,h,c=new Map,f=t.length,A=o.length,d=new Array(f);for(l=0;l<f;++l)(u=t[l])&&(d[l]=h=a.call(u,u.__data__,l,t)+"",c.has(h)?s[l]=u:c.set(h,u));for(l=0;l<A;++l)h=a.call(e,o[l],l,o)+"",(u=c.get(h))?(i[l]=u,u.__data__=o[l],c.delete(h)):r[l]=new Rb(e,o[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(d[l])===u&&(s[l]=u)}function bOe(e){return e.__data__}function FOe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Rb.prototype={constructor:Rb,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var oO="http://www.w3.org/1999/xhtml";const dne={svg:"http://www.w3.org/2000/svg",xhtml:oO,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kb(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),dne.hasOwnProperty(t)?{space:dne[t],local:e}:e}function kOe(e){return function(){this.removeAttribute(e)}}function POe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UOe(e,t){return function(){this.setAttribute(e,t)}}function LOe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function QOe(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function HOe(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function hne(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $Oe(e){return function(){this.style.removeProperty(e)}}function GOe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zOe(e,t,r){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function h3(e,t){return e.style.getPropertyValue(t)||hne(e).getComputedStyle(e,null).getPropertyValue(t)}function jOe(e){return function(){delete this[e]}}function KOe(e,t){return function(){this[e]=t}}function WOe(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function pne(e){return e.trim().split(/^|\s+/)}function aO(e){return e.classList||new gne(e)}function gne(e){this._node=e,this._names=pne(e.getAttribute("class")||"")}function mne(e,t){for(var r=aO(e),i=-1,s=t.length;++i<s;)r.add(t[i])}function vne(e,t){for(var r=aO(e),i=-1,s=t.length;++i<s;)r.remove(t[i])}function XOe(e){return function(){mne(this,e)}}function JOe(e){return function(){vne(this,e)}}function ZOe(e,t){return function(){(t.apply(this,arguments)?mne:vne)(this,e)}}function tRe(){this.textContent=""}function nRe(e){return function(){this.textContent=e}}function rRe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sRe(){this.innerHTML=""}function oRe(e){return function(){this.innerHTML=e}}function aRe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function uRe(){this.nextSibling&&this.parentNode.appendChild(this)}function fRe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dRe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===oO&&t.documentElement.namespaceURI===oO?t.createElement(e):t.createElementNS(r,e)}}function hRe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _ne(e){var t=kb(e);return(t.local?hRe:dRe)(t)}function gRe(){return null}function vRe(){var e=this.parentNode;e&&e.removeChild(this)}function yRe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wRe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SRe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function BRe(e){return function(){var t=this.__on;if(t){for(var o,r=0,i=-1,s=t.length;r<s;++r)o=t[r],e.type&&o.type!==e.type||o.name!==e.name?t[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?t.length=i:delete this.__on}}}function xRe(e,t,r){return function(){var s,i=this.__on,o=function ERe(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,l=i.length;a<l;++a)if((s=i[a]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),void(s.value=t);this.addEventListener(e.type,o,r),s={type:e.type,name:e.name,value:t,listener:o,options:r},i?i.push(s):this.__on=[s]}}function yne(e,t,r){var i=hne(e),s=i.CustomEvent;"function"==typeof s?s=new s(t,r):(s=i.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function FRe(e,t){return function(){return yne(this,e,t)}}function MRe(e,t){return function(){return yne(this,e,t.apply(this,arguments))}}gne.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var NRe=[null];function Nf(e,t){this._groups=e,this._parents=t}function wne(){return new Nf([[document.documentElement]],NRe)}Nf.prototype=wne.prototype={constructor:Nf,select:function sOe(e){"function"!=typeof e&&(e=sO(e));for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s)for(var u,c,o=t[s],a=o.length,l=i[s]=new Array(a),f=0;f<a;++f)(u=o[f])&&(c=e.call(u,u.__data__,f,o))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new Nf(i,this._parents)},selectAll:function lOe(e){e="function"==typeof e?function aOe(e){return function(){var t=e.apply(this,arguments);return null==t?[]:lne(t)}}(e):une(e);for(var t=this._groups,r=t.length,i=[],s=[],o=0;o<r;++o)for(var u,a=t[o],l=a.length,c=0;c<l;++c)(u=a[c])&&(i.push(e.call(u,u.__data__,c,a)),s.push(u));return new Nf(i,s)},selectChild:function AOe(e){return this.select(null==e?fOe:function cOe(e){return function(){return uOe.call(this.children,e)}}("function"==typeof e?e:fne(e)))},selectChildren:function gOe(e){return this.selectAll(null==e?hOe:function pOe(e){return function(){return dOe.call(this.children,e)}}("function"==typeof e?e:fne(e)))},filter:function mOe(e){"function"!=typeof e&&(e=cne(e));for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s)for(var u,o=t[s],a=o.length,l=i[s]=[],c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&l.push(u);return new Nf(i,this._parents)},data:function COe(e,t){if(!arguments.length)return Array.from(this,bOe);var r=t?wOe:yOe,i=this._parents,s=this._groups;"function"!=typeof e&&(e=_Oe(e));for(var o=s.length,a=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var f=i[c],A=s[c],d=A.length,h=lne(e.call(f,f&&f.__data__,c,i)),g=h.length,m=l[c]=new Array(g),v=a[c]=new Array(g),_=u[c]=new Array(d);r(f,A,m,v,_,h,t);for(var T,I,C=0,D=0;C<g;++C)if(T=m[C]){for(C>=D&&(D=C+1);!(I=v[D])&&++D<g;);T._next=I||null}}return(a=new Nf(a,i))._enter=l,a._exit=u,a},enter:function vOe(){return new Nf(this._enter||this._groups.map(Ane),this._parents)},exit:function EOe(){return new Nf(this._exit||this._groups.map(Ane),this._parents)},join:function SOe(e,t,r){var i=this.enter(),s=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(s=t(s)),null==r?o.remove():r(o),i&&s?i.merge(s).order():s},merge:function BOe(e){if(!(e instanceof Nf))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,i=t.length,o=Math.min(i,r.length),a=new Array(i),l=0;l<o;++l)for(var d,u=t[l],c=r[l],f=u.length,A=a[l]=new Array(f),h=0;h<f;++h)(d=u[h]||c[h])&&(A[h]=d);for(;l<i;++l)a[l]=t[l];return new Nf(a,this._parents)},selection:function ORe(){return this},order:function xOe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a,i=e[t],s=i.length-1,o=i[s];--s>=0;)(a=i[s])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function DOe(e){function t(A,d){return A&&d?e(A.__data__,d.__data__):!A-!d}e||(e=FOe);for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var c,a=r[o],l=a.length,u=s[o]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(t)}return new Nf(s,this._parents).order()},call:function MOe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function TOe(){return Array.from(this)},node:function IOe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null},size:function NOe(){let e=0;for(const t of this)++e;return e},empty:function OOe(){return!this.node()},each:function ROe(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var l,s=t[r],o=0,a=s.length;o<a;++o)(l=s[o])&&e.call(l,l.__data__,o,s);return this},attr:function VOe(e,t){var r=kb(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==t?r.local?POe:kOe:"function"==typeof t?r.local?HOe:QOe:r.local?LOe:UOe)(r,t))},style:function qOe(e,t,r){return arguments.length>1?this.each((null==t?$Oe:"function"==typeof t?zOe:GOe)(e,t,r??"")):h3(this.node(),e)},property:function YOe(e,t){return arguments.length>1?this.each((null==t?jOe:"function"==typeof t?WOe:KOe)(e,t)):this.node()[e]},classed:function eRe(e,t){var r=pne(e+"");if(arguments.length<2){for(var i=aO(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each(("function"==typeof t?ZOe:t?XOe:JOe)(r,t))},text:function iRe(e){return arguments.length?this.each(null==e?tRe:("function"==typeof e?rRe:nRe)(e)):this.node().textContent},html:function lRe(e){return arguments.length?this.each(null==e?sRe:("function"==typeof e?aRe:oRe)(e)):this.node().innerHTML},raise:function cRe(){return this.each(uRe)},lower:function ARe(){return this.each(fRe)},append:function pRe(e){var t="function"==typeof e?e:_ne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function mRe(e,t){var r="function"==typeof e?e:_ne(e),i=null==t?gRe:"function"==typeof t?t:sO(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function _Re(){return this.each(vRe)},clone:function bRe(e){return this.select(e?wRe:yRe)},datum:function CRe(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function DRe(e,t,r){var s,a,i=SRe(e+""),o=i.length;if(!(arguments.length<2)){for(l=t?xRe:BRe,s=0;s<o;++s)this.each(l(i[s],t,r));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(s=0,f=l[u];s<o;++s)if((a=i[s]).type===f.type&&a.name===f.name)return f.value},dispatch:function TRe(e,t){return this.each(("function"==typeof t?MRe:FRe)(e,t))},[Symbol.iterator]:function*IRe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a,i=e[t],s=0,o=i.length;s<o;++s)(a=i[s])&&(yield a)}};const r6=wne;var RRe={value:()=>{}};function bne(){for(var i,e=0,t=arguments.length,r={};e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Pb(r)}function Pb(e){this._=e}function kRe(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}function PRe(e,t){for(var s,r=0,i=e.length;r<i;++r)if((s=e[r]).name===t)return s.value}function Cne(e,t,r){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=RRe,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}Pb.prototype=bne.prototype={constructor:Pb,on:function(e,t){var s,r=this._,i=kRe(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(s=(e=i[o]).type)r[s]=Cne(r[s],e.name,t);else if(null==t)for(s in r)r[s]=Cne(r[s],e.name,null);return this}for(;++o<a;)if((s=(e=i[o]).type)&&(s=PRe(r[s],e.name)))return s},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Pb(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var s,o,r=new Array(s),i=0;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,s=(o=this._[e]).length;i<s;++i)o[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,o=i.length;s<o;++s)i[s].value.apply(t,r)}};const Ene=bne;var Ub,o6,p3=0,i6=0,s6=0,Lb=0,jg=0,Qb=0,a6="object"==typeof performance&&performance.now?performance:Date,Bne="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lO(){return jg||(Bne(URe),jg=a6.now()+Qb)}function URe(){jg=0}function Hb(){this._call=this._time=this._next=null}function uO(e,t,r){var i=new Hb;return i.restart(e,t,r),i}function xne(){jg=(Lb=a6.now())+Qb,p3=i6=0;try{!function LRe(){lO(),++p3;for(var t,e=Ub;e;)(t=jg-e._time)>=0&&e._call.call(null,t),e=e._next;--p3}()}finally{p3=0,function HRe(){for(var e,r,t=Ub,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ub=r);o6=e,cO(i)}(),jg=0}}function QRe(){var e=a6.now(),t=e-Lb;t>1e3&&(Qb-=t,Lb=e)}function cO(e){p3||(i6&&(i6=clearTimeout(i6)),e-jg>24?(e<1/0&&(i6=setTimeout(xne,e-a6.now()-Qb)),s6&&(s6=clearInterval(s6))):(s6||(Lb=a6.now(),s6=setInterval(QRe,1e3)),p3=1,Bne(xne)))}function Dne(e,t,r){var i=new Hb;return i.restart(s=>{i.stop(),e(s+t)},t=null==t?0:+t,r),i}Hb.prototype=uO.prototype={constructor:Hb,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?lO():+r)+(null==t?0:+t),!this._next&&o6!==this&&(o6?o6._next=this:Ub=this,o6=this),this._call=e,this._time=r,cO()},stop:function(){this._call&&(this._call=null,this._time=1/0,cO())}};var VRe=Ene("start","end","cancel","interrupt"),$Re=[];function Gb(e,t,r,i,s,o){var a=e.__transition;if(a){if(r in a)return}else e.__transition={};!function GRe(e,t,r){var s,i=e.__transition;function a(c){var f,A,d,h;if(1!==r.state)return u();for(f in i)if((h=i[f]).name===r.name){if(3===h.state)return Dne(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[f]):+f<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[f])}if(Dne(function(){3===r.state&&(r.state=4,r.timer.restart(l,r.delay,r.time),l(c))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,s=new Array(d=r.tween.length),f=0,A=-1;f<d;++f)(h=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(s[++A]=h);s.length=A+1}}function l(c){for(var f=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=5,1),A=-1,d=s.length;++A<d;)s[A].call(e,f);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){for(var c in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=uO(function o(c){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)},0,r.time)}(e,r,{name:t,index:i,group:s,on:VRe,tween:$Re,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function dO(e,t){var r=BA(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function qd(e,t){var r=BA(e,t);if(r.state>3)throw new Error("too late; already running");return r}function BA(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Wp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var zb,Ine=180/Math.PI,hO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nne(e,t,r,i,s,o){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,u/=l),e*i<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Ine,skewX:Math.atan(u)*Ine,scaleX:a,scaleY:l}}function One(e,t,r,i){function s(c){return c.length?c.pop()+" ":""}return function(c,f){var A=[],d=[];return c=e(c),f=e(f),function o(c,f,A,d,h,g){if(c!==A||f!==d){var m=h.push("translate(",null,t,null,r);g.push({i:m-4,x:Wp(c,A)},{i:m-2,x:Wp(f,d)})}else(A||d)&&h.push("translate("+A+t+d+r)}(c.translateX,c.translateY,f.translateX,f.translateY,A,d),function a(c,f,A,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:A.push(s(A)+"rotate(",null,i)-2,x:Wp(c,f)})):f&&A.push(s(A)+"rotate("+f+i)}(c.rotate,f.rotate,A,d),function l(c,f,A,d){c!==f?d.push({i:A.push(s(A)+"skewX(",null,i)-2,x:Wp(c,f)}):f&&A.push(s(A)+"skewX("+f+i)}(c.skewX,f.skewX,A,d),function u(c,f,A,d,h,g){if(c!==A||f!==d){var m=h.push(s(h)+"scale(",null,",",null,")");g.push({i:m-4,x:Wp(c,A)},{i:m-2,x:Wp(f,d)})}else(1!==A||1!==d)&&h.push(s(h)+"scale("+A+","+d+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,A,d),c=f=null,function(h){for(var v,g=-1,m=d.length;++g<m;)A[(v=d[g]).i]=v.x(h);return A.join("")}}}var WRe=One(function jRe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hO:Nne(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),YRe=One(function KRe(e){return null!=e&&(zb||(zb=document.createElementNS("http://www.w3.org/2000/svg","g")),zb.setAttribute("transform",e),e=zb.transform.baseVal.consolidate())?Nne((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):hO},", ",")",")");function XRe(e,t){var r,i;return function(){var s=qd(this,e),o=s.tween;if(o!==r)for(var a=0,l=(i=r=o).length;a<l;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}s.tween=i}}function JRe(e,t,r){var i,s;if("function"!=typeof r)throw new Error;return function(){var o=qd(this,e),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:t,value:r},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=l;break}u===c&&s.push(l)}o.tween=s}}function pO(e,t,r){var i=e._id;return e.each(function(){var s=qd(this,i);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return BA(s,i).value[t]}}function g3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function l6(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Yp(){}var m3=1/.7,v3="\\s*([+-]?\\d+)\\s*",u6="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eke=/^#([0-9a-f]{3,8})$/,tke=new RegExp("^rgb\\("+[v3,v3,v3]+"\\)$"),nke=new RegExp("^rgb\\("+[jd,jd,jd]+"\\)$"),rke=new RegExp("^rgba\\("+[v3,v3,v3,u6]+"\\)$"),ike=new RegExp("^rgba\\("+[jd,jd,jd,u6]+"\\)$"),ske=new RegExp("^hsl\\("+[u6,jd,jd]+"\\)$"),oke=new RegExp("^hsla\\("+[u6,jd,jd,u6]+"\\)$"),Rne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kne(){return this.rgb().formatHex()}function Pne(){return this.rgb().formatRgb()}function p0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Une(t):3===r?new Ml(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?qb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?qb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tke.exec(e))?new Ml(t[1],t[2],t[3],1):(t=nke.exec(e))?new Ml(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rke.exec(e))?qb(t[1],t[2],t[3],t[4]):(t=ike.exec(e))?qb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ske.exec(e))?Hne(t[1],t[2]/100,t[3]/100,1):(t=oke.exec(e))?Hne(t[1],t[2]/100,t[3]/100,t[4]):Rne.hasOwnProperty(e)?Une(Rne[e]):"transparent"===e?new Ml(NaN,NaN,NaN,0):null}function Une(e){return new Ml(e>>16&255,e>>8&255,255&e,1)}function qb(e,t,r,i){return i<=0&&(e=t=r=NaN),new Ml(e,t,r,i)}function gO(e){return e instanceof Yp||(e=p0(e)),e?new Ml((e=e.rgb()).r,e.g,e.b,e.opacity):new Ml}function xA(e,t,r,i){return 1===arguments.length?gO(e):new Ml(e,t,r,i??1)}function Ml(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function Lne(){return"#"+mO(this.r)+mO(this.g)+mO(this.b)}function Qne(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function mO(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Hne(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kd(e,t,r,i)}function Vne(e){if(e instanceof Kd)return new Kd(e.h,e.s,e.l,e.opacity);if(e instanceof Yp||(e=p0(e)),!e)return new Kd;if(e instanceof Kd)return e;var t=(e=e.rgb()).r/255,r=e.g/255,i=e.b/255,s=Math.min(t,r,i),o=Math.max(t,r,i),a=NaN,l=o-s,u=(o+s)/2;return l?(a=t===o?(r-i)/l+6*(r<i):r===o?(i-t)/l+2:(t-r)/l+4,l/=u<.5?o+s:2-o-s,a*=60):l=u>0&&u<1?0:a,new Kd(a,l,u,e.opacity)}function vO(e,t,r,i){return 1===arguments.length?Vne(e):new Kd(e,t,r,i??1)}function Kd(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function _O(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function $ne(e,t,r,i,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*i+a*s)/6}g3(Yp,p0,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:kne,formatHex:kne,formatHsl:function ake(){return Vne(this).formatHsl()},formatRgb:Pne,toString:Pne}),g3(Ml,xA,l6(Yp,{brighter:function(e){return e=null==e?m3:Math.pow(m3,e),new Ml(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ml(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lne,formatHex:Lne,formatRgb:Qne,toString:Qne})),g3(Kd,vO,l6(Yp,{brighter:function(e){return e=null==e?m3:Math.pow(m3,e),new Kd(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Kd(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,s=2*r-i;return new Ml(_O(e>=240?e-240:e+120,s,i),_O(e,s,i),_O(e<120?e+240:e-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const yO=e=>()=>e;function Gne(e,t){return function(r){return e+r*t}}function _3(e,t){var r=t-e;return r?Gne(e,r):yO(isNaN(e)?t:e)}const zne=function e(t){var r=function Ake(e){return 1==(e=+e)?_3:function(t,r){return r-t?function cke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}(t,r,e):yO(isNaN(t)?r:t)}}(t);function i(s,o){var a=r((s=xA(s)).r,(o=xA(o)).r),l=r(s.g,o.g),u=r(s.b,o.b),c=_3(s.opacity,o.opacity);return function(f){return s.r=a(f),s.g=l(f),s.b=u(f),s.opacity=c(f),s+""}}return i.gamma=e,i}(1);function qne(e){return function(t){var a,l,r=t.length,i=new Array(r),s=new Array(r),o=new Array(r);for(a=0;a<r;++a)l=xA(t[a]),i[a]=l.r||0,s[a]=l.g||0,o[a]=l.b||0;return i=e(i),s=e(s),o=e(o),l.opacity=1,function(u){return l.r=i(u),l.g=s(u),l.b=o(u),l+""}}}var dke=qne(function lke(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[i],o=e[i+1];return $ne((r-i/t)*t,i>0?e[i-1]:2*s-o,s,o,i<t-1?e[i+2]:2*o-s)}}),wO=(qne(function uke(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t);return $ne((r-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),bO=new RegExp(wO.source,"g");function gke(e,t){var i,s,o,r=wO.lastIndex=bO.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(i=wO.exec(e))&&(s=bO.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,u.push({i:a,x:Wp(i,s)})),r=bO.lastIndex;return r<t.length&&(o=t.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function pke(e){return function(t){return e(t)+""}}(u[0].x):function hke(e){return function(){return e}}(t):(t=u.length,function(c){for(var A,f=0;f<t;++f)l[(A=u[f]).i]=A.x(c);return l.join("")})}function jne(e,t){var r;return("number"==typeof t?Wp:t instanceof p0?zne:(r=p0(t))?(t=r,zne):gke)(e,t)}function mke(e){return function(){this.removeAttribute(e)}}function vke(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _ke(e,t,r){var i,o,s=r+"";return function(){var a=this.getAttribute(e);return a===s?null:a===i?o:o=t(i=a,r)}}function yke(e,t,r){var i,o,s=r+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===i?o:o=t(i=a,r)}}function wke(e,t,r){var i,s,o;return function(){var a,u,l=r(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(u=l+"")?null:a===i&&u===s?o:(s=u,o=t(i=a,l))}}function bke(e,t,r){var i,s,o;return function(){var a,u,l=r(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(u=l+"")?null:a===i&&u===s?o:(s=u,o=t(i=a,l))}}function Eke(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Ske(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Bke(e,t){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Ske(e,o)),r}return s._value=t,s}function xke(e,t){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Eke(e,o)),r}return s._value=t,s}function Fke(e,t){return function(){dO(this,e).delay=+t.apply(this,arguments)}}function Mke(e,t){return t=+t,function(){dO(this,e).delay=t}}function Ike(e,t){return function(){qd(this,e).duration=+t.apply(this,arguments)}}function Nke(e,t){return t=+t,function(){qd(this,e).duration=t}}function Rke(e,t){if("function"!=typeof t)throw new Error;return function(){qd(this,e).ease=t}}function Vke(e,t,r){var i,s,o=function Hke(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||"start"===t})}(t)?dO:qd;return function(){var a=o(this,e),l=a.on;l!==i&&(s=(i=l).copy()).on(t,r),a.on=s}}var Kke=r6.prototype.constructor;function Kne(e){return function(){this.style.removeProperty(e)}}function tPe(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function nPe(e,t,r){var i,s;function o(){var a=t.apply(this,arguments);return a!==s&&(i=(s=a)&&tPe(e,a,r)),i}return o._value=t,o}function aPe(e){return function(t){this.textContent=e.call(this,t)}}function lPe(e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&aPe(s)),t}return i._value=e,i}var APe=0;function g0(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function Wne(){return++APe}var Wg=r6.prototype;g0.prototype=function dPe(e){return r6().transition(e)}.prototype={constructor:g0,select:function qke(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=sO(e));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var f,A,l=i[a],u=l.length,c=o[a]=new Array(u),d=0;d<u;++d)(f=l[d])&&(A=e.call(f,f.__data__,d,l))&&("__data__"in f&&(A.__data__=f.__data__),c[d]=A,Gb(c[d],t,r,d,c,BA(f,r)));return new g0(o,this._parents,t,r)},selectAll:function jke(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=une(e));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var f,u=i[l],c=u.length,A=0;A<c;++A)if(f=u[A]){for(var h,d=e.call(f,f.__data__,A,u),g=BA(f,r),m=0,v=d.length;m<v;++m)(h=d[m])&&Gb(h,t,r,m,d,g);o.push(d),a.push(f)}return new g0(o,a,t,r)},filter:function Lke(e){"function"!=typeof e&&(e=cne(e));for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s)for(var u,o=t[s],a=o.length,l=i[s]=[],c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&l.push(u);return new g0(i,this._parents,this._name,this._id)},merge:function Qke(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,o=Math.min(i,r.length),a=new Array(i),l=0;l<o;++l)for(var d,u=t[l],c=r[l],f=u.length,A=a[l]=new Array(f),h=0;h<f;++h)(d=u[h]||c[h])&&(A[h]=d);for(;l<i;++l)a[l]=t[l];return new g0(a,this._parents,this._name,this._id)},selection:function Wke(){return new Kke(this._groups,this._parents)},transition:function cPe(){for(var e=this._name,t=this._id,r=Wne(),i=this._groups,s=i.length,o=0;o<s;++o)for(var u,a=i[o],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=BA(u,t);Gb(u,e,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new g0(i,this._parents,e,r)},call:Wg.call,nodes:Wg.nodes,node:Wg.node,size:Wg.size,empty:Wg.empty,each:Wg.each,on:function $ke(e,t){var r=this._id;return arguments.length<2?BA(this.node(),r).on.on(e):this.each(Vke(r,e,t))},attr:function Cke(e,t){var r=kb(e),i="transform"===r?YRe:jne;return this.attrTween(e,"function"==typeof t?(r.local?bke:wke)(r,i,pO(this,"attr."+e,t)):null==t?(r.local?vke:mke)(r):(r.local?yke:_ke)(r,i,t))},attrTween:function Dke(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var i=kb(e);return this.tween(r,(i.local?Bke:xke)(i,t))},style:function ePe(e,t,r){var i="transform"==(e+="")?WRe:jne;return null==t?this.styleTween(e,function Yke(e,t){var r,i,s;return function(){var o=h3(this,e),a=(this.style.removeProperty(e),h3(this,e));return o===a?null:o===r&&a===i?s:s=t(r=o,i=a)}}(e,i)).on("end.style."+e,Kne(e)):"function"==typeof t?this.styleTween(e,function Jke(e,t,r){var i,s,o;return function(){var a=h3(this,e),l=r(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=h3(this,e)),a===u?null:a===i&&u===s?o:(s=u,o=t(i=a,l))}}(e,i,pO(this,"style."+e,t))).each(function Zke(e,t){var r,i,s,l,o="style."+t,a="end."+o;return function(){var u=qd(this,e),c=u.on,f=null==u.value[o]?l||(l=Kne(t)):void 0;(c!==r||s!==f)&&(i=(r=c).copy()).on(a,s=f),u.on=i}}(this._id,e)):this.styleTween(e,function Xke(e,t,r){var i,o,s=r+"";return function(){var a=h3(this,e);return a===s?null:a===i?o:o=t(i=a,r)}}(e,i,t),r).on("end.style."+e,null)},styleTween:function rPe(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,nPe(e,t,r??""))},text:function oPe(e){return this.tween("text","function"==typeof e?function sPe(e){return function(){var t=e(this);this.textContent=t??""}}(pO(this,"text",e)):function iPe(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function uPe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,lPe(e))},remove:function zke(){return this.on("end.remove",function Gke(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function ZRe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var a,i=BA(this.node(),r).tween,s=0,o=i.length;s<o;++s)if((a=i[s]).name===e)return a.value;return null}return this.each((null==t?XRe:JRe)(r,e,t))},delay:function Tke(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Fke:Mke)(t,e)):BA(this.node(),t).delay},duration:function Oke(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ike:Nke)(t,e)):BA(this.node(),t).duration},ease:function kke(e){var t=this._id;return arguments.length?this.each(Rke(t,e)):BA(this.node(),t).ease},easeVarying:function Uke(e){if("function"!=typeof e)throw new Error;return this.each(function Pke(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;qd(this,e).ease=r}}(this._id,e))},end:function fPe(){var e,t,r=this,i=r._id,s=r.size();return new Promise(function(o,a){var l={value:a},u={value:function(){0==--s&&o()}};r.each(function(){var c=qd(this,i),f=c.on;f!==e&&((t=(e=f).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),0===s&&o()})},[Symbol.iterator]:Wg[Symbol.iterator]};var pPe={time:null,delay:0,duration:250,ease:function hPe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function gPe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}r6.prototype.interrupt=function qRe(e){return this.each(function(){!function zRe(e,t){var i,s,a,r=e.__transition,o=!0;if(r){for(a in t=null==t?null:t+"",r)(i=r[a]).name===t?(s=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[a]):o=!1;o&&delete e.__transition}}(this,e)})},r6.prototype.transition=function mPe(e){var t,r;e instanceof g0?(t=e._id,e=e._name):(t=Wne(),(r=pPe).time=lO(),e=null==e?null:e+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var u,a=i[o],l=a.length,c=0;c<l;++c)(u=a[c])&&Gb(u,e,t,c,a,r||gPe(u,t));return new g0(i,this._parents,e,t)};Math;function c6(e){return{type:e}}["w","e"].map(c6),["n","s"].map(c6),["n","w","e","s","nw","ne","sw","se"].map(c6);var tre={},xO={};function nre(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function rre(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var s in i)s in t||r.push(t[s]=s)}),r}function sc(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function ire(e){var t=new RegExp('["'+e+"\n\r]"),r=e.charCodeAt(0);function s(A,d){var _,h=[],g=A.length,m=0,v=0,C=g<=0,D=!1;function T(){if(C)return xO;if(D)return D=!1,tre;var V,K,R=m;if(34===A.charCodeAt(R)){for(;m++<g&&34!==A.charCodeAt(m)||34===A.charCodeAt(++m););return(V=m)>=g?C=!0:10===(K=A.charCodeAt(m++))?D=!0:13===K&&(D=!0,10===A.charCodeAt(m)&&++m),A.slice(R+1,V-1).replace(/""/g,'"')}for(;m<g;){if(10===(K=A.charCodeAt(V=m++)))D=!0;else if(13===K)D=!0,10===A.charCodeAt(m)&&++m;else if(K!==r)continue;return A.slice(R,V)}return C=!0,A.slice(R,g)}for(10===A.charCodeAt(g-1)&&--g,13===A.charCodeAt(g-1)&&--g;(_=T())!==xO;){for(var I=[];_!==tre&&_!==xO;)I.push(_),_=T();d&&null==(I=d(I,v++))||h.push(I)}return h}function o(A,d){return A.map(function(h){return d.map(function(g){return f(h[g])}).join(e)})}function c(A){return A.map(f).join(e)}function f(A){return null==A?"":A instanceof Date?function DPe(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function xPe(e){return e<0?"-"+sc(-e,6):e>9999?"+"+sc(e,6):sc(e,4)}(e.getUTCFullYear())+"-"+sc(e.getUTCMonth()+1,2)+"-"+sc(e.getUTCDate(),2)+(s?"T"+sc(t,2)+":"+sc(r,2)+":"+sc(i,2)+"."+sc(s,3)+"Z":i?"T"+sc(t,2)+":"+sc(r,2)+":"+sc(i,2)+"Z":r||t?"T"+sc(t,2)+":"+sc(r,2)+"Z":"")}(A):t.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A}return{parse:function i(A,d){var h,g,m=s(A,function(v,_){if(h)return h(v,_-1);g=v,h=d?function BPe(e,t){var r=nre(e);return function(i,s){return t(r(i),s,e)}}(v,d):nre(v)});return m.columns=g||[],m},parseRows:s,format:function a(A,d){return null==d&&(d=rre(A)),[d.map(f).join(e)].concat(o(A,d)).join("\n")},formatBody:function l(A,d){return null==d&&(d=rre(A)),o(A,d).join("\n")},formatRows:function u(A){return A.map(c).join("\n")},formatRow:c,formatValue:f}}var FPe=ire(",").parse,MPe=ire("\t").parse;function TPe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function IPe(e,t){return fetch(e,t).then(TPe)}function sre(e){return function(t,r,i){return 2===arguments.length&&"function"==typeof r&&(i=r,r=void 0),IPe(t,r).then(function(s){return e(s,i)})}}var NPe=sre(FPe);function OPe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function RPe(e,t){return fetch(e,t).then(OPe)}function Qi(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(6*i,6*++i);return r}sre(MPe);const kPe=Qi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),PPe=Qi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),UPe=Qi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),LPe=Qi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),QPe=Qi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),HPe=Qi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),VPe=Qi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$Pe=Qi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),GPe=Qi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),zPe=Qi("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Co=e=>dke(e[e.length-1]);var ore=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Qi);Co(ore);var are=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Qi);Co(are);var lre=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Qi);Co(lre);var ure=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Qi);Co(ure);var cre=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Qi);Co(cre);var fre=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Qi);Co(fre);var Are=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Qi);Co(Are);var dre=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Qi);Co(dre);var hre=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Qi);Co(hre);var pre=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Qi);Co(pre);var gre=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Qi);Co(gre);var mre=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Qi);Co(mre);var vre=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Qi);Co(vre);var _re=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Qi);Co(_re);var yre=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Qi);Co(yre);var wre=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Qi);Co(wre);var bre=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Qi);Co(bre);var Cre=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Qi);Co(Cre);var Ere=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Qi);Co(Ere);var Sre=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Qi);Co(Sre);var Bre=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Qi);Co(Bre);var xre=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Qi);Co(xre);var Dre=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Qi);Co(Dre);var Fre=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Qi);Co(Fre);var Mre=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Qi);Co(Mre);var Tre=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Qi);Co(Tre);const Ire=Math.PI/180,Nre=180/Math.PI;var MO=1.78277,TO=-.29227,Wb=-.90649,A6=1.97294,Rre=A6*Wb,kre=A6*MO,Pre=MO*TO- -.14861*Wb;function jPe(e){if(e instanceof Jg)return new Jg(e.h,e.s,e.l,e.opacity);e instanceof Ml||(e=gO(e));var r=e.g/255,i=e.b/255,s=(Pre*i+Rre*(e.r/255)-kre*r)/(Pre+Rre-kre),o=i-s,a=(A6*(r-s)-TO*o)/Wb,l=Math.sqrt(a*a+o*o)/(A6*s*(1-s)),u=l?Math.atan2(a,o)*Nre-120:NaN;return new Jg(u<0?u+360:u,l,s,e.opacity)}function Wd(e,t,r,i){return 1===arguments.length?jPe(e):new Jg(e,t,r,i??1)}function Jg(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function Ure(e){return function t(r){function i(s,o){var a=e((s=Wd(s)).h,(o=Wd(o)).h),l=_3(s.s,o.s),u=_3(s.l,o.l),c=_3(s.opacity,o.opacity);return function(f){return s.h=a(f),s.s=l(f),s.l=u(Math.pow(f,r)),s.opacity=c(f),s+""}}return r=+r,i.gamma=t,i}(1)}g3(Jg,Wd,l6(Yp,{brighter:function(e){return e=null==e?m3:Math.pow(m3,e),new Jg(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Jg(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Ire,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),s=Math.sin(e);return new Ml(255*(t+r*(-.14861*i+MO*s)),255*(t+r*(TO*i+Wb*s)),255*(t+r*(A6*i)),this.opacity)}})),Ure(function fke(e,t){var r=t-e;return r?Gne(e,r>180||r<-180?r-360*Math.round(r/360):r):yO(isNaN(e)?t:e)});var Lre=Ure(_3),Yb=(Lre(Wd(-100,.75,.35),Wd(80,1.5,.8)),Lre(Wd(260,.75,.35),Wd(80,1.5,.8)),Wd()),Xb=xA(),WPe=Math.PI/3,YPe=2*Math.PI/3;function Jb(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const ZPe=Jb(Qi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var eUe=Jb(Qi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tUe=Jb(Qi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));function b3(e,t,r){this.k=e,this.x=t,this.y=r}function cUe(e){return e}function Hre(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(r){return Vre(e,r)})}:Vre(e,t)}function Vre(e,t){var r=t.id,i=t.bbox,s=t.properties??{},o=$re(e,t);return null==r&&null==i?{type:"Feature",properties:s,geometry:o}:null==i?{type:"Feature",id:r,properties:s,geometry:o}:{type:"Feature",id:r,bbox:i,properties:s,geometry:o}}function $re(e,t){var r=function fUe(e){if(null==e)return cUe;var t,r,i=e.scale[0],s=e.scale[1],o=e.translate[0],a=e.translate[1];return function(l,u){u||(t=r=0);var c=2,f=l.length,A=new Array(f);for(A[0]=(t+=l[0])*i+o,A[1]=(r+=l[1])*s+a;c<f;)A[c]=l[c],++c;return A}}(e.transform),i=e.arcs;function s(f,A){A.length&&A.pop();for(var d=i[f<0?~f:f],h=0,g=d.length;h<g;++h)A.push(r(d[h],h));f<0&&function uUe(e,t){for(var r,i=e.length,s=i-t;s<--i;)r=e[s],e[s++]=e[i],e[i]=r}(A,g)}function o(f){return r(f)}function a(f){for(var A=[],d=0,h=f.length;d<h;++d)s(f[d],A);return A.length<2&&A.push(A[0]),A}function l(f){for(var A=a(f);A.length<4;)A.push(A[0]);return A}function u(f){return f.map(l)}return function c(f){var d,A=f.type;switch(A){case"GeometryCollection":return{type:A,geometries:f.geometries.map(c)};case"Point":d=o(f.coordinates);break;case"MultiPoint":d=f.coordinates.map(o);break;case"LineString":d=a(f.arcs);break;case"MultiLineString":d=f.arcs.map(a);break;case"Polygon":d=u(f.arcs);break;case"MultiPolygon":d=f.arcs.map(u);break;default:return null}return{type:A,coordinates:d}}(t)}Jb(Qi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),b3.prototype={constructor:b3,scale:function(e){return 1===e?this:new b3(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new b3(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new b3(1,0,0);var AUe=vr(279);function Iu(e){if(0===e.length)throw new Error("mean requires at least one data point");return function dUe(e){if(0===e.length)return 0;var i,t=e[0],r=0;if("number"!=typeof t)return Number.NaN;for(var s=1;s<e.length;s++){if("number"!=typeof e[s])return Number.NaN;i=t+e[s],Math.abs(t)>=Math.abs(e[s])?r+=t-i+e[s]:r+=e[s]-i+t,t=i}return t+r}(e)/e.length}function zre(e){if(1===e.length)return 0;var t=function hUe(e){if(0===e.length)throw new Error("variance requires at least one data point");return function Gre(e,t){var s,o,r=Iu(e),i=0;if(2===t)for(o=0;o<e.length;o++)i+=(s=e[o]-r)*s;else for(o=0;o<e.length;o++)i+=Math.pow(e[o]-r,t);return i}(e,2)/e.length}(e);return Math.sqrt(t)}function OO(e,t){var r=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:r%1!=0?e[Math.ceil(r)-1]:e.length%2==0?(e[r-1]+e[r])/2:e[r]}function Zb(e,t,r,i){for(r=r||0,i=i||e.length-1;i>r;){if(i-r>600){var s=i-r+1,o=t-r+1,a=Math.log(s),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(s-l)/s);o-s/2<0&&(u*=-1),Zb(e,t,Math.max(r,Math.floor(t-o*l/s+u)),Math.min(i,Math.floor(t+(s-o)*l/s+u)))}var A=e[t],d=r,h=i;for(d6(e,r,t),e[i]>A&&d6(e,r,i);d<h;){for(d6(e,d,h),d++,h--;e[d]<A;)d++;for(;e[h]>A;)h--}e[r]===A?d6(e,r,h):d6(e,++h,i),h<=t&&(r=h+1),t<=h&&(i=h-1)}}function d6(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function v0(e,t){var r=e.slice();if(Array.isArray(t)){!function _Ue(e,t){for(var r=[0],i=0;i<t.length;i++)r.push(jre(e.length,t[i]));r.push(e.length-1),r.sort(yUe);for(var s=[0,r.length-1];s.length;){var o=Math.ceil(s.pop()),a=Math.floor(s.pop());if(!(o-a<=1)){var l=Math.floor((a+o)/2);qre(e,r[l],Math.floor(r[a]),Math.ceil(r[o])),s.push(a,l,l,o)}}}(r,t);for(var i=[],s=0;s<t.length;s++)i[s]=OO(r,t[s]);return i}return qre(r,jre(r.length,t),0,r.length-1),OO(r,t)}function qre(e,t,r,i){t%1==0?Zb(e,t,r,i):(Zb(e,t=Math.floor(t),r,i),Zb(e,t+1,t+1,i))}function yUe(e,t){return e-t}function jre(e,t){var r=e*t;return 1===t?e-1:0===t?0:r%1!=0?Math.ceil(r)-1:e%2==0?r-.5:r}function eC(e,t){for(var r=[],i=0;i<e;i++){for(var s=[],o=0;o<t;o++)s.push(0);r.push(s)}return r}function kO(e,t,r,i){var s;if(e>0){var o=(r[t]-r[e-1])/(t-e+1);s=i[t]-i[e-1]-(t-e+1)*o*o}else s=i[t]-r[t]*r[t]/(t+1);return s<0?0:s}function PO(e,t,r,i,s,o,a){if(!(e>t)){var l=Math.floor((e+t)/2);i[r][l]=i[r-1][l-1],s[r][l]=l;var u=r;e>r&&(u=Math.max(u,s[r][e-1]||0)),u=Math.max(u,s[r-1][l]||0);var c=l-1;t<i[0].length-1&&(c=Math.min(c,s[r][t+1]||0));for(var f,d,h,g=c;g>=u&&!((f=kO(g,l,o,a))+i[r-1][u-1]>=i[r][l]);--g)(d=kO(u,l,o,a)+i[r-1][u-1])<i[r][l]&&(i[r][l]=d,s[r][l]=u),u++,(h=f+i[r-1][g-1])<i[r][l]&&(i[r][l]=h,s[r][l]=g);PO(e,l-1,r,i,s,o,a),PO(l+1,t,r,i,s,o,a)}}var Yre=function(){this.totalCount=0,this.data={}};Yre.prototype.train=function(t,r){for(var i in this.data[r]||(this.data[r]={}),t){var s=t[i];void 0===this.data[r][i]&&(this.data[r][i]={}),void 0===this.data[r][i][s]&&(this.data[r][i][s]=0),this.data[r][i][s]++}this.totalCount++},Yre.prototype.score=function(t){var i,r={};for(var s in t){var o=t[s];for(i in this.data)r[i]={},r[i][s+"_"+o]=this.data[i][s]?(this.data[i][s][o]||0)/this.totalCount:0}var a={};for(i in r)for(var l in a[i]=0,r[i])a[i]+=r[i][l];return a};var Xre=function(){this.weights=[],this.bias=0};Xre.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var r=0,i=0;i<this.weights.length;i++)r+=this.weights[i]*t[i];return(r+=this.bias)>0?1:0},Xre.prototype.train=function(t,r){if(0!==r&&1!==r)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var i=this.predict(t);if("number"==typeof i&&i!==r){for(var s=r-i,o=0;o<this.weights.length;o++)this.weights[o]+=s*t[o];this.bias+=s}return this},Math.log(Math.sqrt(2*Math.PI)),Math.sqrt(2*Math.PI);var VUe=Math.sqrt(2*Math.PI);function $Ue(e){for(var t=e,r=e,i=1;i<15;i++)t+=r*=e*e/(2*i+1);return Math.round(1e4*(.5+t/VUe*Math.exp(-e*e/2)))/1e4}for(var nC=[],HO=0;HO<=3.09;HO+=.01)nC.push($Ue(HO));var tie=vr(270);vr(512),vr(374),vr(312);const nie="equalInterval",rie="percentile",iie="definedInterval",aie="standardDeviation",lie="maximumBreaks",uie="prettyBreaks",fie="headTailBreaks",Aie="fisherJenks",die="exponentialBinSizes",hie="geometricInterval",$O="unclassed",pie="manualInterval";class ZUe{constructor(t=[],r=5,i=10,s=2){this.visModel={},this.rawData=t,this.binCount=r,this.binExtent=i,this.precision=s,this.data=this.rawData.filter(o=>this.isValid(o)),this.minSortedData=JSON.parse(JSON.stringify(this.data)).sort((o,a)=>o-a),this.maxSortedData=JSON.parse(JSON.stringify(this.data)).sort((o,a)=>a-o),this.median=function RO(e){return+v0(e,.5)}(this.data),this.mean=Iu(this.data),this.sd=zre(this.data),this.iqr=function Kre(e){var t=v0(e,.75),r=v0(e,.25);if("number"==typeof t&&"number"==typeof r)return t-r}(this.data),this.lq1=v0(this.data,.01),this.lq10=v0(this.data,.1),this.lq25=v0(this.data,.25),this.uq75=v0(this.data,.75),this.uq90=v0(this.data,.9),this.uq99=v0(this.data,.99),[this.min,this.max]=function mUe(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],r=e[0],i=1;i<e.length;i++)e[i]>r&&(r=e[i]),e[i]<t&&(t=e[i]);return[t,r]}(this.data),this.nonZeroMin=Math.min.apply(null,this.data.filter(Boolean)),this.median=parseFloat(this.median.toFixed(2)),this.mean=parseFloat(this.mean.toFixed(2)),this.sd=parseFloat(this.sd.toFixed(2)),this.iqr=parseFloat(this.iqr.toFixed(2)),this.lq1=parseFloat(this.lq1.toFixed(2)),this.lq10=parseFloat(this.lq10.toFixed(2)),this.lq25=parseFloat(this.lq25.toFixed(2)),this.uq75=parseFloat(this.uq75.toFixed(2)),this.uq90=parseFloat(this.uq90.toFixed(2)),this.uq99=parseFloat(this.uq99.toFixed(2)),[this.min,this.max]=[this.min,this.max].map(o=>parseFloat(o.toFixed(2))),this.nonZeroMin=parseFloat(this.nonZeroMin.toFixed(2))}getMostFrequentElement(t){const r={};return t.forEach(i=>r[i]?r[i]+=1:r[i]=1),parseInt(Object.keys(r).sort((i,s)=>r[s]-r[i])[0])}getFrequencyOfMostFrequentElement(t){for(var r=new Map,i=t.length,s=0;s<i;s++)r.has(t[s])?r.set(t[s],r.get(t[s])+1):r.set(t[s],1);var o=[];r.forEach((l,u)=>{o.push(u)}),o.sort((l,u)=>l-u);let a=-1/0;return o.forEach(l=>{let u=r.get(l);u>a&&(a=u)}),a}maximumBreaks(){let t=this,r=[],i=[];for(var s=0;s<t.minSortedData.length-1;s++)i.push(t.minSortedData[s+1]-t.minSortedData[s]);var o=i.length,a=new Array(o);for(s=0;s<o;++s)a[s]=s;a.sort(function(c,f){return i[c]<i[f]?1:i[c]>i[f]?-1:0});for(let c=0;c<t.binCount-1;c++)r.push(t.minSortedData[a[c]+1]);r=r.sort(function(c,f){return c-f});let l=t.computeBinSizes(r),u=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(r,t.precision),binSizes:l,dataBinAssignments:u}}headTailBreaks(){let t=this,r=[];!function i(a){let l=a.reduce(function(c,f){return c+f})/a.length,u=a.filter(function(c){return c>l});for(r.push(l);u.length>1&&u.length/a.length<.4;)return i(u)}(t.maxSortedData);let s=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:s,dataBinAssignments:o}}ckMeans(){let t=this,r=[];r=function DUe(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var r=function IO(e){return e.slice().sort(function(t,r){return t-r})}(e),i=function BUe(e){for(var r,t=0,i=0;i<e.length;i++)(0===i||e[i]!==r)&&(r=e[i],t++);return t}(r);if(1===i)return[r];var s=eC(t,r.length),o=eC(t,r.length);!function xUe(e,t,r){for(var i=t[0].length,s=e[Math.floor(i/2)],o=[],a=[],l=0,u=void 0;l<i;++l)u=e[l]-s,0===l?(o.push(u),a.push(u*u)):(o.push(o[l-1]+u),a.push(a[l-1]+u*u)),t[0][l]=kO(0,l,o,a),r[0][l]=0;for(var f=1;f<t.length;++f)PO(f<t.length-1?f:i-1,i-1,f,t,r,o,a)}(r,s,o);for(var a=[],l=o[0].length-1,u=o.length-1;u>=0;u--){var c=o[u][l];a[u]=r.slice(c,l+1),u>0&&(l=c-1)}return a}(t.data,t.binCount).map(function(a){return a[a.length-1]}),r=r.slice(0,-1);let s=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:s,dataBinAssignments:o}}equalInterval(){let t=this,r=[],i=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++)r.push(t.min+i*(a+1));let s=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(r,t.precision),binSizes:s,dataBinAssignments:o}}percentile(){let t=this,r=[t.lq1+Number.EPSILON,t.lq10,t.median,t.uq90,t.uq99],i=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:i,dataBinAssignments:s}}quantile(){let t=this,r=[];const i=Math.floor(t.minSortedData.length/t.binCount);for(let a=1;a<t.binCount;a++)r.push(t.minSortedData[i*a]);let s=t.computeBinSizes(r),o=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:s,dataBinAssignments:o}}standardDeviation(t=!1,r=1){let i=this,s=[],o=i.binCount;if(t){let u=i.mean-i.sd*r*(Math.ceil(o/2)-1),c=i.sd*r;for(let f=0;f<o-1;f++)s.push(u+c*f)}else{let u=i.mean-i.sd*r*(Math.ceil(o/2)-1)-i.sd*r/2,c=i.sd*r;for(let f=0;f<o-1;f++)s.push(u+c*f)}let a=i.computeBinSizes(s),l=i.computeDataBinAssignments(s);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:s.length+1,binBreaks:i.roundToPrecision(s,i.precision),binSizes:a,dataBinAssignments:l}}manualInterval(t=[1,2,3]){let r=this,i=r.computeBinSizes(t),s=r.computeDataBinAssignments(t);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:t.length+1,binBreaks:r.roundToPrecision(t,r.precision),binSizes:i,dataBinAssignments:s}}prettyBreaks(){let t=this,r=[];if(1==t.binCount)r=[];else if(2==t.binCount)r=[parseFloat(t.mean.toPrecision(2))];else{let o=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++){let l=parseFloat((t.min+o*(a+1)).toPrecision(2));r.push(l)}}r=[...new Set(r)];let i=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,0),binSizes:i,dataBinAssignments:s}}boxPlot(){let t=this,i=[t.lq25-1.5*t.iqr,t.lq25,t.median,t.uq75,t.uq75+1.5*t.iqr],s=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:s,dataBinAssignments:o}}definedInterval(t=null){let r=this,i=[],s=1;for(null==t&&(t=this.binExtent);r.min+t*s<r.max;)i.push(r.min+t*s),s++;let o=r.computeBinSizes(i),a=r.computeDataBinAssignments(i);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:i.length+1,binBreaks:r.roundToPrecision(i,r.precision),binSizes:o,dataBinAssignments:a}}geometricInterval(){let t=this,r=[],i=0==t.min?t.nonZeroMin:t.min,s=Math.pow(t.max/i,1/t.binCount);for(let l=0;l<t.binCount-1;l++){let u=i*Math.pow(s,l+1);r.push(u)}let o=t.computeBinSizes(r),a=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:a}}exponentialBinSizes(){let t=this,r=[];const s=t.minSortedData.length,o=1..toString()+" * (1 - x^"+t.binCount.toString()+") = "+s.toString()+" * (1 - x)",a=tie.solveEquations(o,"x").map(f=>tie(f).evaluate().text());let l=1;for(let f=0;f<a.length;f++)try{let A=parseFloat(a[f]);if(1!=A){l=A;break}}catch{continue}if(1==l)return[];{let f=0;for(let A=0;A<t.binCount-1;A++){f+=1*Math.pow(l,A);const h=Math.floor(f);r.push(t.minSortedData[h-1])}}let u=t.computeBinSizes(r),c=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:u,dataBinAssignments:c}}fisherJenks(){let t=this;if(t.binCount>t.data.length)return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:{valids:null,invalids:null},dataBinAssignments:{}};t.data=t.data.slice().sort(function(f,A){return f-A});var s=function r(f,A){var g,m,d=[],h=[],v=0;for(g=0;g<f.length+1;g++){var _=[],C=[];for(m=0;m<A+1;m++)_.push(0),C.push(0);d.push(_),h.push(C)}for(g=1;g<A+1;g++)for(d[1][g]=1,h[1][g]=0,m=2;m<f.length+1;m++)h[m][g]=1/0;for(var D=2;D<f.length+1;D++){for(var T=0,I=0,V=0,R=0,K=1;K<D+1;K++){var ne=D-K+1,Ae=f[ne-1];if(v=(I+=Ae*Ae)-(T+=Ae)*T/++V,0!=(R=ne-1))for(m=2;m<A+1;m++)h[D][m]>=v+h[R][m-1]&&(d[D][m]=ne,h[D][m]=v+h[R][m-1])}d[D][1]=1,h[D][1]=v}return{lower_bin_limits:d,variance_combinations:h}}(t.data,t.binCount);let l=function i(f,A,d){var h=f.length-1,g=[],m=d;for(g[d]=f[f.length-1],g[0]=f[0];m>1;)g[m-1]=f[A[h][m]-2],h=A[h][m]-1,m--;return g}(t.data,s.lower_bin_limits,t.binCount).slice(1).slice(0,-1),u=t.computeBinSizes(l),c=t.computeDataBinAssignments(l);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:l.length+1,binBreaks:t.roundToPrecision(l,t.precision),binSizes:u,dataBinAssignments:c}}unique(){let t=this;const r=Array.from(new Set(t.minSortedData)),i=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:i,dataBinAssignments:s}}unclassed(){let t=this;const r=[t.min,t.max],i=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:i,dataBinAssignments:s}}resiliency(t=[],r={}){let i=this,s=[];t.length>0&&t.forEach(function(g){let m={};switch(g){case nie:m=i.equalInterval(),r[nie]=JSON.parse(JSON.stringify(m));break;case rie:m=i.percentile(),r[rie]=JSON.parse(JSON.stringify(m));break;case"quantile":m=i.quantile(),r.quantile=JSON.parse(JSON.stringify(m));break;case aie:m=i.standardDeviation(),r[aie]=JSON.parse(JSON.stringify(m));break;case pie:m=i.manualInterval(),r[pie]=JSON.parse(JSON.stringify(m));break;case uie:m=i.prettyBreaks(),r[uie]=JSON.parse(JSON.stringify(m));break;case lie:m=i.maximumBreaks(),r[lie]=JSON.parse(JSON.stringify(m));break;case fie:m=i.headTailBreaks(),r[fie]=JSON.parse(JSON.stringify(m));break;case"ckMeans":m=i.ckMeans(),r.ckMeans=JSON.parse(JSON.stringify(m));break;case"boxPlot":m=i.boxPlot(),r.boxPlot=JSON.parse(JSON.stringify(m));break;case iie:m=i.definedInterval(),r[iie]=JSON.parse(JSON.stringify(m));break;case die:m=i.exponentialBinSizes(),r[die]=JSON.parse(JSON.stringify(m));break;case hie:m=i.geometricInterval(),r[hie]=JSON.parse(JSON.stringify(m));break;case Aie:m=i.fisherJenks(),r[Aie]=JSON.parse(JSON.stringify(m))}});let o={},a={};i.rawData.forEach(function(g,m){let v=m.toString();if(i.isValid(g)){let _=Array.from(Object.values(r)).map(C=>C.dataBinAssignments[v]);v in o||(o[v]=0),o[v]=i.getFrequencyOfMostFrequentElement(_),v in a||(a[v]=0),a[v]=i.getMostFrequentElement(_)}else a[v]=null,o[v]=null});let l=[];Object.keys(o).forEach(function(g,m){let v={};i.isValid(i.rawData[m])&&(v.primaryKey=g,v.value=i.rawData[m],v.binCandidates=[],Object.keys(r).forEach(function(_){v.binCandidates.push(JSON.parse(JSON.stringify(r[_].dataBinAssignments[g])))}),l.push(v))});let u={},c={};l.forEach(function(g){u[g.primaryKey]=[],c[g.primaryKey]=[];let m=[...g.binCandidates];for(;m.length>0;){const v=i.getMostFrequentElement(m),_=i.getFrequencyOfMostFrequentElement(m);m=m.filter(function(C){return C!==v}),u[g.primaryKey].push(v),c[g.primaryKey].push(_)}});let f={},A=[];l.forEach(function(g){let m=u[g.primaryKey][0];m in f||(f[m]=[],A.push(m)),f[m].push(g.value)}),A=A.sort((g,m)=>g-m),A.forEach(function(g,m){f[g]=f[g].sort((v,_)=>v-_),m>0&&s.push(f[g][0])}),s=s.map(g=>parseFloat(g.toFixed(2))),s=s.sort((g,m)=>g-m);let d=i.computeBinSizes(s),h=i.computeDataBinAssignments(s);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:s.length+1,binBreaks:i.roundToPrecision(s,i.precision),binSizes:d,dataBinAssignments:h,binObjs:r,mostFrequentBins:a,frequencyOfMostFrequentBins:o}}computeBinSizes(t){let r=this,i={},s=0;return r.rawData.forEach(function(o,a){if(r.isValid(o)){let l=1;l in i||(i[l]=0);for(let u=l;u<t.length+1;u++)t[u-1]<=o&&(l=u+1,l in i||(i[l]=0));i[l]+=1}else s++}),{valids:i,invalids:s}}computeDataBinAssignments(t){let r=this,i={};return r.rawData.forEach(function(s,o){let a=o.toString();if(r.isValid(s)){let l=1;for(let u=l;u<t.length+1;u++)t[u-1]<s&&(l=u+1);i[a]=l}else i[a]=null}),i}isValid(t){return null!=t&&null!=t&&t.toString().length>0&&null==t.toString().match(/[^0-9\.\-]/g)&&!Number.isNaN(Number(t))}roundToPrecision(t,r=2){return t.map(i=>parseFloat(i.toFixed(r)))}visualize(t,r,i="viridis"){let s=this,o=s.min,a=s.max,l=r==$O?t.dataRange:t.binBreaks,[u,c]=[Math.min(o,l[0]),Math.max(a,l[l.length-1])];r!=$O&&([u,c]=[parseFloat((.9*u).toFixed(s.precision)),parseFloat((1.1*c).toFixed(s.precision))]);let f=[],A=[],h=s.computeBinSizes(l).valids;for(var g=0;g<=l.length;g++){let _={},C=(g+1).toString();0==g?(_.binMin=u,_.binMax=l[g],isNaN(_.binMin)||A.push(_.binMin)):g<=l.length-1?(_.binMin=l[g-1],_.binMax=l[g]):(_.binMin=l[g-1],_.binMax=c),_.binningMethod=r,_.binID=C.toString(),_.binSize=h[C],isNaN(_.binMax)||A.push(_.binMax),f.push(_)}let v={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:700,height:50,background:null,config:{tick:{bandSize:20},view:{stroke:null},axis:{domain:!1,grid:!1,ticks:!1}},layer:[{title:null,data:{values:f},mark:{type:"bar",tooltip:{content:"data"}},transform:[{filter:"datum.binSize != 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${s.precision}f`,labelFontSize:16},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labels:!1}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${s.precision}f`,labelFontSize:16}},size:{field:"binSize",legend:null,scale:{type:"linear",range:[5,25]}},color:{field:"binID",type:"quantitative",scale:{domain:f.map(_=>_.binID),scheme:i,type:"threshold"},legend:null}}},{title:null,data:{values:f},mark:{type:"rule",tooltip:{content:"data"}},transform:[{filter:"datum.binSize == 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${s.precision}f`},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labelFontSize:16,labelLimit:250,labelPadding:10}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${s.precision}f`}},size:{value:2},strokeDash:{value:[8,8]}}},{title:null,data:{values:A},mark:{type:"tick",tooltip:{content:"data"},fill:"black",orient:"vertical",thickness:3,height:25},encoding:{x:{field:"data",type:"quantitative",scale:{domain:[u,c]}}}}]};return r==$O&&(delete v.layer[0].encoding.color,v.layer[0].mark.color={x1:0,y1:0,x2:1,y2:0,gradient:"linear",stops:[{offset:0,color:"#440154"},{offset:.1,color:"#48186a"},{offset:.2,color:"#472d7b"},{offset:.3,color:"#424086"},{offset:.4,color:"#3b528b"},{offset:.5,color:"#33638d"},{offset:.6,color:"#2c728e"},{offset:.7,color:"#26828e"},{offset:.8,color:"#21918c"},{offset:.9,color:"#21a784"},{offset:1,color:"#29b872"}]}),v}map(t,r,i,s,o,a="id",l="id",u="viridis"){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:500,height:300,data:{values:i,format:{type:"topojson",feature:o}},transform:[{lookup:a,from:{data:{values:r},key:l,fields:[s]}}],projection:{type:"albersUsa"},mark:{type:"geoshape",tooltip:{content:"data"},invalid:null},encoding:{color:{field:s,type:"quantitative",condition:{test:"!isValid(datum['"+s+"'])",value:null},scale:{domain:t.binBreaks,type:"threshold",scheme:u}}}}}}function gie(e,t,r,i,s,o,a){try{var l=e[o](a),u=l.value}catch(c){return void r(c)}l.done?t(u):Promise.resolve(u).then(i,s)}function Ha(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var o=e.apply(t,r);function a(u){gie(o,i,s,a,l,"next",u)}function l(u){gie(o,i,s,a,l,"throw",u)}a(void 0)})}}const eLe=/("(?:[^\\"]|\\.)*")|[:,]/g;function GO(e,t={}){const r=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===r?1/0:void 0===t.maxLength?80:t.maxLength;let{replacer:s}=t;return function o(a,l,u){a&&"function"==typeof a.toJSON&&(a=a.toJSON());const c=JSON.stringify(a,s);if(void 0===c)return c;const f=i-l.length-u;if(c.length<=f){const A=c.replace(eLe,(d,h)=>h||`${d} `);if(A.length<=f)return A}if(null!=s&&(a=JSON.parse(c),s=void 0),"object"==typeof a&&null!==a){const A=l+r,d=[];let g,m,h=0;if(Array.isArray(a)){g="[",m="]";const{length:v}=a;for(;h<v;h++)d.push(o(a[h],A,h===v-1?0:1)||"null")}else{g="{",m="}";const v=Object.keys(a),{length:_}=v;for(;h<_;h++){const C=v[h],D=`${JSON.stringify(C)}: `,T=o(a[C],A,D.length+(h===_-1?0:1));void 0!==T&&d.push(D+T)}}if(d.length>0)return[g,r+d.join(`,\n${A}`),m].join(`\n${l}`)}return c}(e,"",0)}function oc(e,t,r){return e.fields=t||[],e.fname=r,e}function fa(e){return null==e?null:e.fname}function Jl(e){return null==e?null:e.fields}function mie(e){return 1===e.length?tLe(e[0]):nLe(e)}const tLe=e=>function(t){return t[e]},nLe=e=>{const t=e.length;return function(r){for(let i=0;i<t;++i)r=r[e[i]];return r}};function Yt(e){throw Error(e)}function Yd(e){const t=[],r=e.length;let a,l,u,i=null,s=0,o="";function c(){t.push(o+e.substring(a,l)),o="",a=l+1}for(e+="",a=l=0;l<r;++l)if(u=e[l],"\\"===u)o+=e.substring(a,l++),a=l;else if(u===i)c(),i=null,s=-1;else{if(i)continue;a===s&&'"'===u||a===s&&"'"===u?(a=l+1,i=u):"."!==u||s?"["===u?(l>a&&c(),s=a=l+1):"]"===u&&(s||Yt("Access path missing open bracket: "+e),s>0&&c(),s=0,a=l+1):l>a?c():a=l+1}return s&&Yt("Access path missing closing bracket: "+e),i&&Yt("Access path missing closing quote: "+e),l>a&&(l++,c()),t}function Of(e,t,r){const i=Yd(e);return e=1===i.length?i[0]:e,oc((r&&r.get||mie)(i),[e],t||e)}const p6=Of("id"),Zl=oc(e=>e,[],"identity"),Xp=oc(()=>0,[],"zero"),C3=oc(()=>1,[],"one"),Rf=oc(()=>!0,[],"true"),Jp=oc(()=>!1,[],"false");function rLe(e,t,r){const i=[t].concat([].slice.call(r));console[e].apply(console,i)}const vie=0,zO=1,qO=2,_ie=3,yie=4;function jO(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rLe,i=e||vie;return{level(s){return arguments.length?(i=+s,this):i},error(){return i>=zO&&r(t||"error","ERROR",arguments),this},warn(){return i>=qO&&r(t||"warn","WARN",arguments),this},info(){return i>=_ie&&r(t||"log","INFO",arguments),this},debug(){return i>=yie&&r(t||"log","DEBUG",arguments),this}}}var Zt=Array.isArray;function sr(e){return e===Object(e)}const wie=e=>"__proto__"!==e;function E3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((i,s)=>{for(const o in s)"signals"===o?i.signals=iLe(i.signals,s.signals):S3(i,o,s[o],"legend"===o?{layout:1}:"style"===o||null);return i},{})}function S3(e,t,r,i){if(!wie(t))return;let s,o;if(sr(r)&&!Zt(r))for(s in o=sr(e[t])?e[t]:e[t]={},r)i&&(!0===i||i[s])?S3(o,s,r[s]):wie(s)&&(o[s]=r[s]);else e[t]=r}function iLe(e,t){if(null==e)return t;const r={},i=[];function s(o){r[o.name]||(r[o.name]=1,i.push(o))}return t.forEach(s),e.forEach(s),i}function ds(e){return e[e.length-1]}function eu(e){return null==e||""===e?null:+e}const bie=e=>t=>e*Math.exp(t),Cie=e=>t=>Math.log(e*t),Eie=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),Sie=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,rC=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function iC(e,t,r,i){const s=r(e[0]),o=r(ds(e)),a=(o-s)*t;return[i(s-a),i(o-a)]}function Bie(e,t){return iC(e,t,eu,Zl)}function xie(e,t){var r=Math.sign(e[0]);return iC(e,t,Cie(r),bie(r))}function Die(e,t,r){return iC(e,t,rC(r),rC(1/r))}function Fie(e,t,r){return iC(e,t,Eie(r),Sie(r))}function sC(e,t,r,i,s){const o=i(e[0]),a=i(ds(e)),l=null!=t?i(t):(o+a)/2;return[s(l+(o-l)*r),s(l+(a-l)*r)]}function KO(e,t,r){return sC(e,t,r,eu,Zl)}function WO(e,t,r){const i=Math.sign(e[0]);return sC(e,t,r,Cie(i),bie(i))}function oC(e,t,r,i){return sC(e,t,r,rC(i),rC(1/i))}function YO(e,t,r,i){return sC(e,t,r,Eie(i),Sie(i))}function Mie(e){return 1+~~(new Date(e).getMonth()/3)}function Tie(e){return 1+~~(new Date(e).getUTCMonth()/3)}function ar(e){return null!=e?Zt(e)?e:[e]:[]}function Iie(e,t,r){let o,i=e[0],s=e[1];return s<i&&(o=s,s=i,i=o),o=s-i,o>=r-t?[t,r]:[i=Math.min(Math.max(i,t),r-o),i+o]}function Ni(e){return"function"==typeof e}function XO(e,t,r){r=r||{},t=ar(t)||[];const i=[],s=[],o={},a=r.comparator||oLe;return ar(e).forEach((l,u)=>{null!=l&&(i.push("descending"===t[u]?-1:1),s.push(l=Ni(l)?l:Of(l,null,r)),(Jl(l)||[]).forEach(c=>o[c]=1))}),0===s.length?null:oc(a(s,i),Object.keys(o))}const B3=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),oLe=(e,t)=>1===e.length?aLe(e[0],t[0]):lLe(e,t,e.length),aLe=(e,t)=>function(r,i){return B3(e(r),e(i))*t},lLe=(e,t,r)=>(t.push(0),function(i,s){let o,a=0,l=-1;for(;0===a&&++l<r;)o=e[l],a=B3(o(i),o(s));return a*t[l]});function tu(e){return Ni(e)?e:()=>e}function JO(e,t){let r;return i=>{r&&clearTimeout(r),r=setTimeout(()=>(t(i),r=null),e)}}function Oi(e){for(let t,r,i=1,s=arguments.length;i<s;++i)for(r in t=arguments[i],t)e[r]=t[r];return e}function Xd(e,t){let i,s,o,a,r=0;if(e&&(i=e.length))if(null==t){for(s=e[r];r<i&&(null==s||s!=s);s=e[++r]);for(o=a=s;r<i;++r)s=e[r],null!=s&&(s<o&&(o=s),s>a&&(a=s))}else{for(s=t(e[r]);r<i&&(null==s||s!=s);s=t(e[++r]));for(o=a=s;r<i;++r)s=t(e[r]),null!=s&&(s<o&&(o=s),s>a&&(a=s))}return[o,a]}function Nie(e,t){const r=e.length;let s,o,a,l,u,i=-1;if(null==t){for(;++i<r;)if(o=e[i],null!=o&&o>=o){s=a=o;break}if(i===r)return[-1,-1];for(l=u=i;++i<r;)o=e[i],null!=o&&(s>o&&(s=o,l=i),a<o&&(a=o,u=i))}else{for(;++i<r;)if(o=t(e[i],i,e),null!=o&&o>=o){s=a=o;break}if(i===r)return[-1,-1];for(l=u=i;++i<r;)o=t(e[i],i,e),null!=o&&(s>o&&(s=o,l=i),a<o&&(a=o,u=i))}return[l,u]}function pr(e,t){return Object.hasOwn(e,t)}const aC={};function x3(e){let r,t={};function i(o){return pr(t,o)&&t[o]!==aC}const s={size:0,empty:0,object:t,has:i,get:o=>i(o)?t[o]:void 0,set(o,a){return i(o)||(++s.size,t[o]===aC&&--s.empty),t[o]=a,this},delete(o){return i(o)&&(--s.size,++s.empty,t[o]=aC),this},clear(){s.size=s.empty=0,s.object=t={}},test(o){return arguments.length?(r=o,s):r},clean(){const o={};let a=0;for(const l in t){const u=t[l];u!==aC&&(!r||!r(u))&&(o[l]=u,++a)}s.size=a,s.empty=0,s.object=t=o}};return e&&Object.keys(e).forEach(o=>{s.set(o,e[o])}),s}function Oie(e,t,r,i,s,o){if(!r&&0!==r)return o;const a=+r;let c,l=e[0],u=ds(e);u<l&&(c=l,l=u,u=c),c=Math.abs(t-l);const f=Math.abs(u-t);return c<f&&c<=a?i:f<=a?s:o}function Gn(e,t,r){const i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Oi(i,r)}function D3(e,t,r,i){let a,s=t[0],o=t[t.length-1];return s>o&&(a=s,s=o,o=a),i=void 0===i||i,((r=void 0===r||r)?s<=e:s<e)&&(i?e<=o:e<o)}function Zp(e){return"boolean"==typeof e}function e1(e){return"[object Date]"===Object.prototype.toString.call(e)}function Rie(e){return e&&Ni(e[Symbol.iterator])}function Ns(e){return"number"==typeof e}function ZO(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function or(e){return"string"==typeof e}function eR(e,t,r){e&&(e=t?ar(e).map(l=>l.replace(/\\(.)/g,"$1")):ar(e));const i=e&&e.length,s=r&&r.get||mie,o=l=>s(t?[l]:Yd(l));let a;if(i)if(1===i){const l=o(e[0]);a=function(u){return""+l(u)}}else{const l=e.map(o);a=function(u){let c=""+l[0](u),f=0;for(;++f<i;)c+="|"+l[f](u);return c}}else a=function(){return""};return oc(a,e,"key")}function kie(e,t){const r=e[0],i=ds(e),s=+t;return s?1===s?i:r+s*(i-r):r}function Pie(e){let t,r,i;e=+e||1e4;const s=()=>{t={},r={},i=0},o=(a,l)=>(++i>e&&(r=t,t={},i=1),t[a]=l);return s(),{clear:s,has:a=>pr(t,a)||pr(r,a),get:a=>pr(t,a)?t[a]:pr(r,a)?o(a,r[a]):void 0,set:(a,l)=>pr(t,a)?t[a]=l:o(a,l)}}function Uie(e,t,r,i){const s=t.length,o=r.length;if(!o)return t;if(!s)return r;const a=i||new t.constructor(s+o);let l=0,u=0,c=0;for(;l<s&&u<o;++c)a[c]=e(t[l],r[u])>0?r[u++]:t[l++];for(;l<s;++l,++c)a[c]=t[l];for(;u<o;++u,++c)a[c]=r[u];return a}function g6(e,t){let r="";for(;--t>=0;)r+=e;return r}function Lie(e,t,r,i){const s=r||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===i?g6(s,a)+o:"center"===i?g6(s,~~(a/2))+o+g6(s,Math.ceil(a/2)):o+g6(s,a)}function m6(e){return e&&ds(e)-e[0]||0}function Un(e){return Zt(e)?"["+e.map(Un)+"]":sr(e)||or(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function tR(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const cLe=e=>Ns(e)||e1(e)?e:Date.parse(e);function nR(e,t){return t=t||cLe,null==e||""===e?null:t(e)}function rR(e){return null==e||""===e?null:e+""}function DA(e){const t={},r=e.length;for(let i=0;i<r;++i)t[e[i]]=!0;return t}function Qie(e,t,r,i){const s=i??"\u2026",o=e+"",a=o.length,l=Math.max(0,t-s.length);return a<=t?o:"left"===r?s+o.slice(a-l):"center"===r?o.slice(0,Math.ceil(l/2))+s+o.slice(a-~~(l/2)):o.slice(0,l)+s}function t1(e,t,r){if(e)if(t){const i=e.length;for(let s=0;s<i;++s){const o=t(e[s]);o&&r(o,s,e)}}else e.forEach(r)}var Hie={},iR={};function Vie(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function $ie(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var s in i)s in t||r.push(t[s]=s)}),r}function ac(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function hLe(e){var t=new RegExp('["'+e+"\n\r]"),r=e.charCodeAt(0);function s(A,d){var _,h=[],g=A.length,m=0,v=0,C=g<=0,D=!1;function T(){if(C)return iR;if(D)return D=!1,Hie;var V,K,R=m;if(34===A.charCodeAt(R)){for(;m++<g&&34!==A.charCodeAt(m)||34===A.charCodeAt(++m););return(V=m)>=g?C=!0:10===(K=A.charCodeAt(m++))?D=!0:13===K&&(D=!0,10===A.charCodeAt(m)&&++m),A.slice(R+1,V-1).replace(/""/g,'"')}for(;m<g;){if(10===(K=A.charCodeAt(V=m++)))D=!0;else if(13===K)D=!0,10===A.charCodeAt(m)&&++m;else if(K!==r)continue;return A.slice(R,V)}return C=!0,A.slice(R,g)}for(10===A.charCodeAt(g-1)&&--g,13===A.charCodeAt(g-1)&&--g;(_=T())!==iR;){for(var I=[];_!==Hie&&_!==iR;)I.push(_),_=T();d&&null==(I=d(I,v++))||h.push(I)}return h}function o(A,d){return A.map(function(h){return d.map(function(g){return f(h[g])}).join(e)})}function c(A){return A.map(f).join(e)}function f(A){return null==A?"":A instanceof Date?function dLe(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function ALe(e){return e<0?"-"+ac(-e,6):e>9999?"+"+ac(e,6):ac(e,4)}(e.getUTCFullYear())+"-"+ac(e.getUTCMonth()+1,2)+"-"+ac(e.getUTCDate(),2)+(s?"T"+ac(t,2)+":"+ac(r,2)+":"+ac(i,2)+"."+ac(s,3)+"Z":i?"T"+ac(t,2)+":"+ac(r,2)+":"+ac(i,2)+"Z":r||t?"T"+ac(t,2)+":"+ac(r,2)+"Z":"")}(A):t.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A}return{parse:function i(A,d){var h,g,m=s(A,function(v,_){if(h)return h(v,_-1);g=v,h=d?function fLe(e,t){var r=Vie(e);return function(i,s){return t(r(i),s,e)}}(v,d):Vie(v)});return m.columns=g||[],m},parseRows:s,format:function a(A,d){return null==d&&(d=$ie(A)),[d.map(f).join(e)].concat(o(A,d)).join("\n")},formatBody:function l(A,d){return null==d&&(d=$ie(A)),o(A,d).join("\n")},formatRows:function u(A){return A.map(c).join("\n")},formatRow:c,formatValue:f}}function pLe(e,t){var r={},i={},s={},o=[],a=-1;function u(c,f){for(var A in c){var d=c[A];delete f[d.start],delete d.start,delete d.end,d.forEach(function(h){r[h<0?~h:h]=1}),o.push(d)}}return t.forEach(function(c,f){var d,A=e.arcs[c<0?~c:c];A.length<3&&!A[1][0]&&!A[1][1]&&(d=t[++a],t[a]=c,t[f]=d)}),t.forEach(function(c){var h,g,f=function l(c){var d,f=e.arcs[c<0?~c:c],A=f[0];return e.transform?(d=[0,0],f.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=f[f.length-1],c<0?[d,A]:[A,d]}(c),A=f[0],d=f[1];if(h=s[A])if(delete s[h.end],h.push(c),h.end=d,g=i[d]){delete i[g.start];var m=g===h?h:h.concat(g);i[m.start=h.start]=s[m.end=g.end]=m}else i[h.start]=s[h.end]=h;else if(h=i[d])if(delete i[h.start],h.unshift(c),h.start=A,g=s[A]){delete s[g.end];var v=g===h?h:g.concat(h);i[v.start=g.start]=s[v.end=h.end]=v}else i[h.start]=s[h.end]=h;else i[(h=[c]).start=A]=s[h.end=d]=h}),u(s,i),u(i,s),t.forEach(function(c){r[c<0?~c:c]||o.push([c])}),o}function gLe(e){return $re(e,mLe.apply(this,arguments))}function mLe(e,t,r){var i,s,o;if(arguments.length>1)i=vLe(0,t,r);else for(s=0,i=new Array(o=e.arcs.length);s<o;++s)i[s]=s;return{type:"MultiLineString",arcs:pLe(e,i)}}function vLe(e,t,r){var o,i=[],s=[];function a(A){var d=A<0?~A:A;(s[d]||(s[d]=[])).push({i:A,g:o})}function l(A){A.forEach(a)}function u(A){A.forEach(l)}return function f(A){switch(o=A,A.type){case"GeometryCollection":A.geometries.forEach(f);break;case"LineString":l(A.arcs);break;case"MultiLineString":case"Polygon":u(A.arcs);break;case"MultiPolygon":!function c(A){A.forEach(u)}(A.arcs)}}(t),s.forEach(null==r?function(A){i.push(A[0].i)}:function(A){r(A[0].g,A[A.length-1].g)&&i.push(A[0].i)}),i}const _Le=Math.sqrt(50),yLe=Math.sqrt(10),wLe=Math.sqrt(2);function lC(e,t,r){const i=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=_Le?10:o>=yLe?5:o>=wLe?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?lC(e,t,2*r):[l,u,c]}function Gie(e,t,r){return lC(e=+e,t=+t,r=+r)[2]}var zie,CLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _6(e){if(!(t=CLe.exec(e)))throw new Error("invalid format: "+e);var t;return new aR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function aR(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function uC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function F3(e){return(e=uC(Math.abs(e)))?e[1]:NaN}function qie(e,t){var r=uC(e,t);if(!r)return e+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}_6.prototype=aR.prototype,aR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const jie={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function ELe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qie(100*e,t),r:qie,s:function TLe(e,t){var r=uC(e,t);if(!r)return e+"";var i=r[0],s=r[1],o=s-(zie=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+uC(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kie(e){return e}var cC,Jie,Zie,Wie=Array.prototype.map,Yie=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xie(e){var t=void 0===e.grouping||void 0===e.thousands?Kie:function DLe(e,t){return function(r,i){for(var s=r.length,o=[],a=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),o.push(r.substring(s-=l,s+l)),!((u+=l+1)>i));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}(Wie.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Kie:function FLe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}(Wie.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(A){var d=(A=_6(A)).fill,h=A.align,g=A.sign,m=A.symbol,v=A.zero,_=A.width,C=A.comma,D=A.precision,T=A.trim,I=A.type;"n"===I?(C=!0,I="g"):jie[I]||(void 0===D&&(D=12),T=!0,I="g"),(v||"0"===d&&"="===h)&&(v=!0,d="0",h="=");var V="$"===m?r:"#"===m&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",R="$"===m?i:/[%p]/.test(I)?a:"",K=jie[I],ne=/[defgprs%]/.test(I);function Ae(ae){var U,Q,z,Be=V,Ce=R;if("c"===I)Ce=K(ae)+Ce,ae="";else{var oe=(ae=+ae)<0||1/ae<0;if(ae=isNaN(ae)?u:K(Math.abs(ae),D),T&&(ae=function MLe(e){e:for(var s,t=e.length,r=1,i=-1;r<t;++r)switch(e[r]){case".":i=s=r;break;case"0":0===i&&(i=r),s=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(s+1):e}(ae)),oe&&0==+ae&&"+"!==g&&(oe=!1),Be=(oe?"("===g?g:l:"-"===g||"("===g?"":g)+Be,Ce=("s"===I?Yie[8+zie/3]:"")+Ce+(oe&&"("===g?")":""),ne)for(U=-1,Q=ae.length;++U<Q;)if(48>(z=ae.charCodeAt(U))||z>57){Ce=(46===z?s+ae.slice(U+1):ae.slice(U))+Ce,ae=ae.slice(0,U);break}}C&&!v&&(ae=t(ae,1/0));var J=Be.length+ae.length+Ce.length,le=J<_?new Array(_-J+1).join(d):"";switch(C&&v&&(ae=t(le+ae,le.length?_-Ce.length:1/0),le=""),h){case"<":ae=Be+ae+Ce+le;break;case"=":ae=Be+le+ae+Ce;break;case"^":ae=le.slice(0,J=le.length>>1)+Be+ae+Ce+le.slice(J);break;default:ae=le+Be+ae+Ce}return o(ae)}return D=void 0===D?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),Ae.toString=function(){return A+""},Ae}return{format:c,formatPrefix:function f(A,d){var h=c(((A=_6(A)).type="f",A)),g=3*Math.max(-8,Math.min(8,Math.floor(F3(d)/3))),m=Math.pow(10,-g),v=Yie[8+g/3];return function(_){return h(m*_)+v}}}}!function ILe(e){cC=Xie(e),Jie=cC.format,Zie=cC.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const lR=new Date,uR=new Date;function Va(e,t,r,i){function s(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const a=s(o),l=s.ceil(o);return o-a<l-o?a:l},s.offset=(o,a)=>(t(o=new Date(+o),null==a?1:Math.floor(a)),o),s.range=(o,a,l)=>{const u=[];if(o=s.ceil(o),l=null==l?1:Math.floor(l),!(o<a&&l>0))return u;let c;do{u.push(c=new Date(+o)),t(o,l),e(o)}while(c<o&&o<a);return u},s.filter=o=>Va(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!o(a););else for(;--l>=0;)for(;t(a,1),!o(a););}),r&&(s.count=(o,a)=>(lR.setTime(+o),uR.setTime(+a),e(lR),e(uR),Math.floor(r(lR,uR))),s.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?s.filter(i?a=>i(a)%o==0:a=>s.count(0,a)%o==0):s:null)),s}const n1=6e4,w6=60*n1,Zg=24*w6,b6=Va(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*n1)/Zg,e=>e.getDate()-1),C6=Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zg,e=>e.getUTCDate()-1);function em(e){return Va(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+7*r)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*n1)/6048e5)}Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zg,e=>Math.floor(e/Zg));const cR=em(0);function tm(e){return Va(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+7*r)},(t,r)=>(r-t)/6048e5)}em(1),em(2),em(3),em(4),em(5),em(6);const fR=tm(0),AR=(tm(1),tm(2),tm(3),tm(4),tm(5),tm(6),Va(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));AR.every=e=>isFinite(e=Math.floor(e))&&e>0?Va(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;const dR=Va(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dR.every=e=>isFinite(e=Math.floor(e))&&e>0?Va(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;const hR=Va(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),pR=Va(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),tse=Va(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*n1)},(e,t)=>{e.setTime(+e+t*w6)},(e,t)=>(t-e)/w6,e=>e.getHours()),nse=Va(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*w6)},(e,t)=>(t-e)/w6,e=>e.getUTCHours()),rse=Va(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+t*n1)},(e,t)=>(t-e)/n1,e=>e.getMinutes()),ise=Va(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*n1)},(e,t)=>(t-e)/n1,e=>e.getUTCMinutes()),gR=Va(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),E6=Va(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function mR(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zLe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jLe(){return 0}E6.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Va(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):E6:null);const KLe=Math.sqrt(50),WLe=Math.sqrt(10),YLe=Math.sqrt(2);function fC(e,t,r){const i=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=KLe?10:o>=WLe?5:o>=YLe?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?fC(e,t,2*r):[l,u,c]}function sse(e,t,r){return fC(e=+e,t=+t,r=+r)[2]}function ose(e,t,r){r=+r;const i=(t=+t)<(e=+e),s=i?sse(t,e,r):sse(e,t,r);return(i?-1:1)*(s<0?1/-s:s)}const Tl="year",lc="quarter",nu="month",$a="week",uc="date",ru="day",Jd="dayofyear",Hc="hours",Vc="minutes",kf="seconds",FA="milliseconds",vR=[Tl,lc,nu,$a,uc,ru,Jd,Hc,Vc,kf,FA],_R=vR.reduce((e,t,r)=>(e[t]=1+r,e),{});function yR(e){const t=ar(e).slice(),r={};return t.length||Yt("Missing time unit."),t.forEach(s=>{pr(_R,s)?r[s]=1:Yt(`Invalid time unit: ${s}.`)}),(r[$a]||r[ru]?1:0)+(r[lc]||r[nu]||r[uc]?1:0)+(r[Jd]?1:0)>1&&Yt(`Incompatible time units: ${e}`),t.sort((s,o)=>_R[s]-_R[o]),t}const XLe={[Tl]:"%Y ",[lc]:"Q%q ",[nu]:"%b ",[uc]:"%d ",[$a]:"W%U ",[ru]:"%a ",[Jd]:"%j ",[Hc]:"%H:00",[Vc]:"00:%M",[kf]:":%S",[FA]:".%L",[`${Tl}-${nu}`]:"%Y-%m ",[`${Tl}-${nu}-${uc}`]:"%Y-%m-%d ",[`${Hc}-${Vc}`]:"%H:%M"};function ase(e,t){const r=Oi({},XLe,t),i=yR(e),s=i.length;let l,u,o="",a=0;for(a=0;a<s;)for(l=i.length;l>a;--l)if(u=i.slice(a,l).join("-"),null!=r[u]){o+=r[u],a=l;break}return o.trim()}const nm=new Date;function wR(e){return nm.setFullYear(e),nm.setMonth(0),nm.setDate(1),nm.setHours(0,0,0,0),nm}function lse(e){return cse(new Date(e))}function use(e){return bR(new Date(e))}function cse(e){return b6.count(wR(e.getFullYear())-1,e)}function bR(e){return cR.count(wR(e.getFullYear())-1,e)}function CR(e){return wR(e).getDay()}function JLe(e,t,r,i,s,o,a){if(0<=e&&e<100){const l=new Date(-1,t,r,i,s,o,a);return l.setFullYear(e),l}return new Date(e,t,r,i,s,o,a)}function fse(e){return dse(new Date(e))}function Ase(e){return ER(new Date(e))}function dse(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return C6.count(t-1,e)}function ER(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return fR.count(t-1,e)}function SR(e){return nm.setTime(Date.UTC(e,0,1)),nm.getUTCDay()}function ZLe(e,t,r,i,s,o,a){if(0<=e&&e<100){const l=new Date(Date.UTC(-1,t,r,i,s,o,a));return l.setUTCFullYear(r.y),l}return new Date(Date.UTC(e,t,r,i,s,o,a))}function hse(e,t,r,i,s){const o=t||1,a=ds(e),l=(_,C,D)=>function eQe(e,t,r,i){const s=r<=1?e:i?(o,a)=>i+r*Math.floor((e(o,a)-i)/r):(o,a)=>r*Math.floor(e(o,a)/r);return t?(o,a)=>t(s(o,a),a):s}(r[D=D||_],i[D],_===a&&o,C),u=new Date,c=DA(e),f=c[Tl]?l(Tl):tu(2012),A=c[nu]?l(nu):c[lc]?l(lc):Xp,d=c[$a]&&c[ru]?l(ru,1,$a+ru):c[$a]?l($a,1):c[ru]?l(ru,1):c[uc]?l(uc,1):c[Jd]?l(Jd,1):C3,h=c[Hc]?l(Hc):Xp,g=c[Vc]?l(Vc):Xp,m=c[kf]?l(kf):Xp,v=c[FA]?l(FA):Xp;return function(_){u.setTime(+_);const C=f(u);return s(C,A(u),d(u,C),h(u),g(u),m(u),v(u))}}function M3(e,t,r){return t+7*e-(r+6)%7}const tQe={[Tl]:e=>e.getFullYear(),[lc]:e=>Math.floor(e.getMonth()/3),[nu]:e=>e.getMonth(),[uc]:e=>e.getDate(),[Hc]:e=>e.getHours(),[Vc]:e=>e.getMinutes(),[kf]:e=>e.getSeconds(),[FA]:e=>e.getMilliseconds(),[Jd]:e=>cse(e),[$a]:e=>bR(e),[$a+ru]:(e,t)=>M3(bR(e),e.getDay(),CR(t)),[ru]:(e,t)=>M3(1,e.getDay(),CR(t))},nQe={[lc]:e=>3*e,[$a]:(e,t)=>M3(e,0,CR(t))};function pse(e,t){return hse(e,t||1,tQe,nQe,JLe)}const rQe={[Tl]:e=>e.getUTCFullYear(),[lc]:e=>Math.floor(e.getUTCMonth()/3),[nu]:e=>e.getUTCMonth(),[uc]:e=>e.getUTCDate(),[Hc]:e=>e.getUTCHours(),[Vc]:e=>e.getUTCMinutes(),[kf]:e=>e.getUTCSeconds(),[FA]:e=>e.getUTCMilliseconds(),[Jd]:e=>dse(e),[$a]:e=>ER(e),[ru]:(e,t)=>M3(1,e.getUTCDay(),SR(t)),[$a+ru]:(e,t)=>M3(ER(e),e.getUTCDay(),SR(t))},iQe={[lc]:e=>3*e,[$a]:(e,t)=>M3(e,0,SR(t))};function gse(e,t){return hse(e,t||1,rQe,iQe,ZLe)}const sQe={[Tl]:AR,[lc]:hR.every(3),[nu]:hR,[$a]:cR,[uc]:b6,[ru]:b6,[Jd]:b6,[Hc]:tse,[Vc]:rse,[kf]:gR,[FA]:E6},oQe={[Tl]:dR,[lc]:pR.every(3),[nu]:pR,[$a]:fR,[uc]:C6,[ru]:C6,[Jd]:C6,[Hc]:nse,[Vc]:ise,[kf]:gR,[FA]:E6};function T3(e){return sQe[e]}function I3(e){return oQe[e]}function mse(e,t,r){return e?e.offset(t,r):void 0}function vse(e,t,r){return mse(T3(e),t,r)}function _se(e,t,r){return mse(I3(e),t,r)}function yse(e,t,r,i){return e?e.range(t,r,i):void 0}function wse(e,t,r,i){return yse(T3(e),t,r,i)}function bse(e,t,r,i){return yse(I3(e),t,r,i)}const B6=6e4,x6=60*B6,BR=31536e6,Ese=[Tl,nu,uc,Hc,Vc,kf,FA],D6=Ese.slice(0,-1),F6=D6.slice(0,-1),M6=F6.slice(0,-1),lQe=M6.slice(0,-1),Sse=[Tl,nu],Bse=[Tl],T6=[[D6,1,1e3],[D6,5,5e3],[D6,15,15e3],[D6,30,3e4],[F6,1,B6],[F6,5,5*B6],[F6,15,15*B6],[F6,30,30*B6],[M6,1,x6],[M6,3,3*x6],[M6,6,6*x6],[M6,12,12*x6],[lQe,1,864e5],[[Tl,$a],1,6048e5],[Sse,1,2592e6],[Sse,3,7776e6],[Bse,1,BR]];function xse(e){const t=e.extent,r=e.maxbins||40,i=Math.abs(m6(t))/r;let o,a,s=function qLe(e){let t,r,i;function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<0?c=A+1:f=A}while(c<f)}return c}return 2!==e.length?(t=mR,r=(l,u)=>mR(e(l),u),i=(l,u)=>e(l)-u):(t=e===mR||e===zLe?e:jLe,r=e,i=e),{left:s,center:function a(l,u,c=0,f=l.length){const A=s(l,u,c,f-1);return A>c&&i(l[A-1],u)>-i(l[A],u)?A-1:A},right:function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<=0?c=A+1:f=A}while(c<f)}return c}}}(l=>l[2]).right(T6,i);return s===T6.length?(o=Bse,a=ose(t[0]/BR,t[1]/BR,r)):s?(s=T6[i/T6[s-1][2]<T6[s][2]/i?s-1:s],o=s[0],a=s[1]):(o=Ese,a=Math.max(ose(t[0],t[1],r),1)),{units:o,step:a}}var xR=new Date,DR=new Date;function ul(e,t,r,i){function s(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return s.floor=function(o){return e(o=new Date(+o)),o},s.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},s.round=function(o){var a=s(o),l=s.ceil(o);return o-a<l-o?a:l},s.offset=function(o,a){return t(o=new Date(+o),null==a?1:Math.floor(a)),o},s.range=function(o,a,l){var c,u=[];if(o=s.ceil(o),l=null==l?1:Math.floor(l),!(o<a&&l>0))return u;do{u.push(c=new Date(+o)),t(o,l),e(o)}while(c<o&&o<a);return u},s.filter=function(o){return ul(function(a){if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},function(a,l){if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!o(a););else for(;--l>=0;)for(;t(a,1),!o(a););})},r&&(s.count=function(o,a){return xR.setTime(+o),DR.setTime(+a),e(xR),e(DR),Math.floor(r(xR,DR))},s.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?s.filter(i?function(a){return i(a)%o==0}:function(a){return s.count(0,a)%o==0}):s:null}),s}const _0=1e3,Pf=6e4,y0=60*Pf,rm=24*y0,FR=7*rm,MR=365*rm;function im(e){return ul(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+7*r)},function(t,r){return(r-t)/FR})}var I6=im(0),sm=im(1),MA=(im(2),im(3),im(4)),Fse=(im(5),im(6),ul(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/rm},function(e){return e.getUTCDate()-1}));const N3=Fse;function om(e){return ul(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+7*r)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pf)/FR})}var N6=om(0),am=om(1),TA=(om(2),om(3),om(4)),Mse=(om(5),om(6),ul(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pf)/rm,e=>e.getDate()-1));const O3=Mse;var TR=ul(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});TR.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ul(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)}):null};const Uf=TR;var IR=ul(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});IR.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ul(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null};const Lf=IR;function NR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function O6(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tse(e){var t=e.dateTime,r=e.date,i=e.time,s=e.periods,o=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=R6(s),f=k6(s),A=R6(o),d=k6(o),h=R6(a),g=k6(a),m=R6(l),v=k6(l),_=R6(u),C=k6(u),D={a:function oe(je){return a[je.getDay()]},A:function J(je){return o[je.getDay()]},b:function le(je){return u[je.getMonth()]},B:function de(je){return l[je.getMonth()]},c:null,d:Pse,e:Pse,f:QQe,g:YQe,G:JQe,H:PQe,I:UQe,j:LQe,L:Use,m:HQe,M:VQe,p:function De(je){return s[+(je.getHours()>=12)]},q:function Ie(je){return 1+~~(je.getMonth()/3)},Q:Gse,s:zse,S:$Qe,u:GQe,U:zQe,V:qQe,w:jQe,W:KQe,x:null,X:null,y:WQe,Y:XQe,Z:ZQe,"%":$se},T={a:function We(je){return a[je.getUTCDay()]},A:function Ve(je){return o[je.getUTCDay()]},b:function st(je){return u[je.getUTCMonth()]},B:function $t(je){return l[je.getUTCMonth()]},c:null,d:Qse,e:Qse,f:rHe,g:dHe,G:pHe,H:eHe,I:tHe,j:nHe,L:Hse,m:iHe,M:sHe,p:function gt(je){return s[+(je.getUTCHours()>=12)]},q:function ln(je){return 1+~~(je.getUTCMonth()/3)},Q:Gse,s:zse,S:oHe,u:aHe,U:lHe,V:uHe,w:cHe,W:fHe,x:null,X:null,y:AHe,Y:hHe,Z:gHe,"%":$se},I={a:function Ae(je,Et,Ft){var Oe=h.exec(Et.slice(Ft));return Oe?(je.w=g.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},A:function ae(je,Et,Ft){var Oe=A.exec(Et.slice(Ft));return Oe?(je.w=d.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},b:function Be(je,Et,Ft){var Oe=_.exec(Et.slice(Ft));return Oe?(je.m=C.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},B:function Ce(je,Et,Ft){var Oe=m.exec(Et.slice(Ft));return Oe?(je.m=v.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},c:function U(je,Et,Ft){return K(je,t,Et,Ft)},d:Rse,e:Rse,f:NQe,g:Ose,G:Nse,H:kse,I:kse,j:FQe,L:IQe,m:DQe,M:MQe,p:function ne(je,Et,Ft){var Oe=c.exec(Et.slice(Ft));return Oe?(je.p=f.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},q:xQe,Q:RQe,s:kQe,S:TQe,u:bQe,U:CQe,V:EQe,w:wQe,W:SQe,x:function Q(je,Et,Ft){return K(je,r,Et,Ft)},X:function z(je,Et,Ft){return K(je,i,Et,Ft)},y:Ose,Y:Nse,Z:BQe,"%":OQe};function V(je,Et){return function(Ft){var Kn,hn,$r,Oe=[],An=-1,bn=0,mr=je.length;for(Ft instanceof Date||(Ft=new Date(+Ft));++An<mr;)37===je.charCodeAt(An)&&(Oe.push(je.slice(bn,An)),null!=(hn=Ise[Kn=je.charAt(++An)])?Kn=je.charAt(++An):hn="e"===Kn?" ":"0",($r=Et[Kn])&&(Kn=$r(Ft,hn)),Oe.push(Kn),bn=An+1);return Oe.push(je.slice(bn,An)),Oe.join("")}}function R(je,Et){return function(Ft){var bn,mr,Oe=O6(1900,void 0,1);if(K(Oe,je,Ft+="",0)!=Ft.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(1e3*Oe.s+("L"in Oe?Oe.L:0));if(Et&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+12*Oe.p),void 0===Oe.m&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(mr=(bn=OR(O6(Oe.y,0,1))).getUTCDay(),bn=mr>4||0===mr?sm.ceil(bn):sm(bn),bn=N3.offset(bn,7*(Oe.V-1)),Oe.y=bn.getUTCFullYear(),Oe.m=bn.getUTCMonth(),Oe.d=bn.getUTCDate()+(Oe.w+6)%7):(mr=(bn=NR(O6(Oe.y,0,1))).getDay(),bn=mr>4||0===mr?am.ceil(bn):am(bn),bn=O3.offset(bn,7*(Oe.V-1)),Oe.y=bn.getFullYear(),Oe.m=bn.getMonth(),Oe.d=bn.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),mr="Z"in Oe?OR(O6(Oe.y,0,1)).getUTCDay():NR(O6(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+7*Oe.W-(mr+5)%7:Oe.w+7*Oe.U-(mr+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,OR(Oe)):NR(Oe)}}function K(je,Et,Ft,Oe){for(var Kn,hn,An=0,bn=Et.length,mr=Ft.length;An<bn;){if(Oe>=mr)return-1;if(37===(Kn=Et.charCodeAt(An++))){if(Kn=Et.charAt(An++),!(hn=I[Kn in Ise?Et.charAt(An++):Kn])||(Oe=hn(je,Ft,Oe))<0)return-1}else if(Kn!=Ft.charCodeAt(Oe++))return-1}return Oe}return D.x=V(r,D),D.X=V(i,D),D.c=V(t,D),T.x=V(r,T),T.X=V(i,T),T.c=V(t,T),{format:function(je){var Et=V(je+="",D);return Et.toString=function(){return je},Et},parse:function(je){var Et=R(je+="",!1);return Et.toString=function(){return je},Et},utcFormat:function(je){var Et=V(je+="",T);return Et.toString=function(){return je},Et},utcParse:function(je){var Et=R(je+="",!0);return Et.toString=function(){return je},Et}}}var R3,qse,jse,Kse,Wse,Ise={"-":"",_:" ",0:"0"},cl=/^\s*\d+/,vQe=/^%/,_Qe=/[\\^$*+?|[\]().{}]/g;function Os(e,t,r){var i=e<0?"-":"",s=(i?-e:e)+"",o=s.length;return i+(o<r?new Array(r-o+1).join(t)+s:s)}function yQe(e){return e.replace(_Qe,"\\$&")}function R6(e){return new RegExp("^(?:"+e.map(yQe).join("|")+")","i")}function k6(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wQe(e,t,r){var i=cl.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function bQe(e,t,r){var i=cl.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function CQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function EQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function SQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function Nse(e,t,r){var i=cl.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function Ose(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function BQe(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function xQe(e,t,r){var i=cl.exec(t.slice(r,r+1));return i?(e.q=3*i[0]-3,r+i[0].length):-1}function DQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function Rse(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function FQe(e,t,r){var i=cl.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function kse(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function MQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function TQe(e,t,r){var i=cl.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function IQe(e,t,r){var i=cl.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function NQe(e,t,r){var i=cl.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function OQe(e,t,r){var i=vQe.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function RQe(e,t,r){var i=cl.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function kQe(e,t,r){var i=cl.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function Pse(e,t){return Os(e.getDate(),t,2)}function PQe(e,t){return Os(e.getHours(),t,2)}function UQe(e,t){return Os(e.getHours()%12||12,t,2)}function LQe(e,t){return Os(1+O3.count(Uf(e),e),t,3)}function Use(e,t){return Os(e.getMilliseconds(),t,3)}function QQe(e,t){return Use(e,t)+"000"}function HQe(e,t){return Os(e.getMonth()+1,t,2)}function VQe(e,t){return Os(e.getMinutes(),t,2)}function $Qe(e,t){return Os(e.getSeconds(),t,2)}function GQe(e){var t=e.getDay();return 0===t?7:t}function zQe(e,t){return Os(N6.count(Uf(e)-1,e),t,2)}function Lse(e){var t=e.getDay();return t>=4||0===t?TA(e):TA.ceil(e)}function qQe(e,t){return e=Lse(e),Os(TA.count(Uf(e),e)+(4===Uf(e).getDay()),t,2)}function jQe(e){return e.getDay()}function KQe(e,t){return Os(am.count(Uf(e)-1,e),t,2)}function WQe(e,t){return Os(e.getFullYear()%100,t,2)}function YQe(e,t){return Os((e=Lse(e)).getFullYear()%100,t,2)}function XQe(e,t){return Os(e.getFullYear()%1e4,t,4)}function JQe(e,t){var r=e.getDay();return Os((e=r>=4||0===r?TA(e):TA.ceil(e)).getFullYear()%1e4,t,4)}function ZQe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Os(t/60|0,"0",2)+Os(t%60,"0",2)}function Qse(e,t){return Os(e.getUTCDate(),t,2)}function eHe(e,t){return Os(e.getUTCHours(),t,2)}function tHe(e,t){return Os(e.getUTCHours()%12||12,t,2)}function nHe(e,t){return Os(1+N3.count(Lf(e),e),t,3)}function Hse(e,t){return Os(e.getUTCMilliseconds(),t,3)}function rHe(e,t){return Hse(e,t)+"000"}function iHe(e,t){return Os(e.getUTCMonth()+1,t,2)}function sHe(e,t){return Os(e.getUTCMinutes(),t,2)}function oHe(e,t){return Os(e.getUTCSeconds(),t,2)}function aHe(e){var t=e.getUTCDay();return 0===t?7:t}function lHe(e,t){return Os(I6.count(Lf(e)-1,e),t,2)}function Vse(e){var t=e.getUTCDay();return t>=4||0===t?MA(e):MA.ceil(e)}function uHe(e,t){return e=Vse(e),Os(MA.count(Lf(e),e)+(4===Lf(e).getUTCDay()),t,2)}function cHe(e){return e.getUTCDay()}function fHe(e,t){return Os(sm.count(Lf(e)-1,e),t,2)}function AHe(e,t){return Os(e.getUTCFullYear()%100,t,2)}function dHe(e,t){return Os((e=Vse(e)).getUTCFullYear()%100,t,2)}function hHe(e,t){return Os(e.getUTCFullYear()%1e4,t,4)}function pHe(e,t){var r=e.getUTCDay();return Os((e=r>=4||0===r?MA(e):MA.ceil(e)).getUTCFullYear()%1e4,t,4)}function gHe(){return"+0000"}function $se(){return"%"}function Gse(e){return+e}function zse(e){return Math.floor(+e/1e3)}function P6(e){const t={};return r=>t[r]||(t[r]=e(r))}function Yse(e){const t=P6(e.format),r=e.formatPrefix;return{format:t,formatPrefix:r,formatFloat(i){const s=_6(i||",");if(null==s.precision){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1}return function vHe(e,t){return r=>{const i=e(r),s=i.indexOf(t);if(s<0)return i;let o=function _He(e,t){let i,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(i=e.charCodeAt(r),i>=48&&i<=57)return r+1}(i,s);const a=o<i.length?i.slice(o):"";for(;--o>s;)if("0"!==i[o]){++o;break}return i.slice(0,o)+a}}(t(s),t(".1f")(1)[1])}return t(s)},formatSpan(i,s,o,a){a=_6(a??",f");const l=function bLe(e,t,r){r=+r;const i=(t=+t)<(e=+e),s=i?Gie(t,e,r):Gie(e,t,r);return(i?-1:1)*(s<0?1/-s:s)}(i,s,o),u=Math.max(Math.abs(i),Math.abs(s));let c;if(null==a.precision)switch(a.type){case"s":return isNaN(c=function SLe(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(F3(t)/3)))-F3(Math.abs(e)))}(l,u))||(a.precision=c),r(a,u);case"":case"e":case"g":case"p":case"r":isNaN(c=function BLe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,F3(t)-F3(e))+1}(l,u))||(a.precision=c-("e"===a.type));break;case"f":case"%":isNaN(c=function xLe(e){return Math.max(0,-F3(Math.abs(e)))}(l))||(a.precision=c-2*("%"===a.type))}return t(a)}}}let RR,kR;function Xse(){return RR=Yse({format:Jie,formatPrefix:Zie})}function Jse(e){return Yse(Xie(e))}function dC(e){return arguments.length?RR=Jse(e):RR}function Zse(e,t,r){sr(r=r||{})||Yt(`Invalid time multi-format specifier: ${r}`);const i=t(kf),s=t(Vc),o=t(Hc),a=t(uc),l=t($a),u=t(nu),c=t(lc),f=t(Tl),A=e(r[FA]||".%L"),d=e(r[kf]||":%S"),h=e(r[Vc]||"%I:%M"),g=e(r[Hc]||"%I %p"),m=e(r[uc]||r[ru]||"%a %d"),v=e(r[$a]||"%b %d"),_=e(r[nu]||"%B"),C=e(r[lc]||"%B"),D=e(r[Tl]||"%Y");return T=>(i(T)<T?A:s(T)<T?d:o(T)<T?h:a(T)<T?g:u(T)<T?l(T)<T?m:v:f(T)<T?c(T)<T?_:C:D)(T)}function eoe(e){const t=P6(e.format),r=P6(e.utcFormat);return{timeFormat:i=>or(i)?t(i):Zse(t,T3,i),utcFormat:i=>or(i)?r(i):Zse(r,I3,i),timeParse:P6(e.parse),utcParse:P6(e.utcParse)}}function toe(){return kR=eoe({format:qse,parse:jse,utcFormat:Kse,utcParse:Wse})}function noe(e){return eoe(Tse(e))}function U6(e){return arguments.length?kR=noe(e):kR}!function mHe(e){R3=Tse(e),qse=R3.format,jse=R3.parse,Kse=R3.utcFormat,Wse=R3.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Xse(),toe();const PR=(e,t)=>Oi({},e,t);function roe(e,t){const r=e?Jse(e):dC(),i=t?noe(t):U6();return PR(r,i)}function UR(e,t){const r=arguments.length;return r&&2!==r&&Yt("defaultLocale expects either zero or two arguments."),r?PR(dC(e),U6(t)):PR(dC(),U6())}function yHe(){return Xse(),toe(),UR()}const wHe=/^(data:|([A-Za-z]+:)?\/\/)/,bHe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,CHe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ioe="file://";function SHe(e,t){return LR.apply(this,arguments)}function LR(){return LR=Ha(function*(e,t){const r=yield this.sanitize(e,t),i=r.href;return r.localFile?this.file(i):this.http(i,t)}),LR.apply(this,arguments)}function BHe(e,t){return QR.apply(this,arguments)}function QR(){return QR=Ha(function*(e,t){t=Oi({},this.options,t);const r=this.fileAccess,i={href:null};let s,o,a;const l=bHe.test(e.replace(CHe,""));(null==e||"string"!=typeof e||!l)&&Yt("Sanitize failure, invalid URI: "+Un(e));const u=wHe.test(e);return(a=t.baseURL)&&!u&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),o=(s=e.startsWith(ioe))||"file"===t.mode||"http"!==t.mode&&!u&&r,s?e=e.slice(ioe.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!o}),i.href=e,t.target&&(i.target=t.target+""),t.rel&&(i.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(i.crossOrigin=t.crossOrigin+""),i}),QR.apply(this,arguments)}function xHe(e){return e?t=>new Promise((r,i)=>{e.readFile(t,(s,o)=>{s?i(s):r(o)})}):DHe}function DHe(){return HR.apply(this,arguments)}function HR(){return(HR=Ha(function*(){Yt("No file system access.")})).apply(this,arguments)}function FHe(e){return e?function(){var t=Ha(function*(r,i){const s=Oi({},this.options.http,i),o=i&&i.response,a=yield e(r,s);return a.ok?Ni(a[o])?a[o]():a.text():Yt(a.status+""+a.statusText)});return function(r,i){return t.apply(this,arguments)}}():MHe}function MHe(){return VR.apply(this,arguments)}function VR(){return(VR=Ha(function*(){Yt("No HTTP fetch method available.")})).apply(this,arguments)}const THe=e=>null!=e&&e==e,soe=e=>!(Number.isNaN(+e)||e instanceof Date),$R={boolean:tR,integer:eu,number:eu,date:nR,string:rR,unknown:Zl},hC=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>soe(e)&&Number.isInteger(+e),soe,e=>!Number.isNaN(Date.parse(e))],RHe=["boolean","integer","number","date"];function ooe(e,t){if(!e||!e.length)return"unknown";const r=e.length,i=hC.length,s=hC.map((o,a)=>a+1);for(let l,u,o=0,a=0;o<r;++o)for(u=t?e[o][t]:e[o],l=0;l<i;++l)if(s[l]&&THe(u)&&!hC[l](u)&&(s[l]=0,++a,a===hC.length))return"string";return RHe[s.reduce((o,a)=>0===o?a:o,0)-1]}function aoe(e,t){return t.reduce((r,i)=>(r[i]=ooe(e,i),r),{})}function loe(e){const t=function(r,i){const s={delimiter:e};return GR(r,i?Oi(i,s):s)};return t.responseType="text",t}function GR(e,t){return t.header&&(e=t.header.map(Un).join(t.delimiter)+"\n"+e),hLe(t.delimiter).parse(e+"")}function zR(e,t){const r=t&&t.property?Of(t.property):Zl;return sr(e)&&!function kHe(e){return!("function"!=typeof Buffer||!Ni(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function PHe(e,t){return!Zt(e)&&Rie(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(r(e),t):r(JSON.parse(e))}GR.responseType="text",zR.responseType="json";const UHe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function uoe(e,t){let r,i,s,o;return e=zR(e,t),t&&t.feature?(r=Hre,s=t.feature):t&&t.mesh?(r=gLe,s=t.mesh,o=UHe[t.filter]):Yt("Missing TopoJSON feature or mesh parameter."),i=(i=e.objects[s])?r(e,i,o):Yt("Invalid TopoJSON object: "+s),i&&i.features||[i]}uoe.responseType="json";const pC={dsv:GR,csv:loe(","),tsv:loe("\t"),json:zR,topojson:uoe};function qR(e,t){return arguments.length>1?(pC[e]=t,this):pr(pC,e)?pC[e]:null}function coe(e){const t=qR(e);return t&&t.responseType||"text"}function foe(e,t,r,i){const s=qR((t=t||{}).type||"json");return s||Yt("Unknown data format type: "+t.type),e=s(e,t),t.parse&&function LHe(e,t,r,i){if(!e.length)return;const s=U6();r=r||s.timeParse,i=i||s.utcParse;let a,l,u,c,f,A,o=e.columns||Object.keys(e[0]);"auto"===t&&(t=aoe(e,o)),o=Object.keys(t);const d=o.map(h=>{const g=t[h];let m,v;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return m=g.split(/:(.+)?/,2),v=m[1],("'"===v[0]&&"'"===v[v.length-1]||'"'===v[0]&&'"'===v[v.length-1])&&(v=v.slice(1,-1)),("utc"===m[0]?i:r)(v);if(!$R[g])throw Error("Illegal format pattern: "+h+":"+g);return $R[g]});for(u=0,f=e.length,A=o.length;u<f;++u)for(a=e[u],c=0;c<A;++c)l=o[c],a[l]=d[c](a[l])}(e,t.parse,r,i),pr(e,"columns")&&delete e.columns,e}const gC=function EHe(e,t){return r=>({options:r||{},sanitize:BHe,load:SHe,fileAccess:!1,file:xHe(t),http:FHe(e)})}("undefined"!=typeof fetch&&fetch,null);function mC(e){const t=e||Zl,r=[],i={};return r.add=s=>{const o=t(s);return i[o]||(i[o]=1,r.push(s)),r},r.remove=s=>{const o=t(s);if(i[o]){i[o]=0;const a=r.indexOf(s);a>=0&&r.splice(a,1)}return r},r}function vC(e,t){return jR.apply(this,arguments)}function jR(){return jR=Ha(function*(e,t){try{yield t(e)}catch(r){e.error(r)}}),jR.apply(this,arguments)}const Aoe=Symbol("vega_id");let QHe=1;function _C(e){return!(!e||!jr(e))}function jr(e){return e[Aoe]}function doe(e,t){return e[Aoe]=t,e}function Qs(e){const t=e===Object(e)?e:{data:e};return jr(t)?t:doe(t,QHe++)}function KR(e){return yC(e,Qs({}))}function yC(e,t){for(const r in e)t[r]=e[r];return t}function hoe(e,t){return doe(t,jr(e))}function lm(e,t){return e?t?(r,i)=>e(r,i)||jr(t(r))-jr(t(i)):(r,i)=>e(r,i)||jr(r)-jr(i):null}function poe(e){return e&&e.constructor===um}function um(){const e=[],t=[],r=[],i=[],s=[];let o=null,a=!1;return{constructor:um,insert(l){const u=ar(l),c=u.length;for(let f=0;f<c;++f)e.push(u[f]);return this},remove(l){const u=Ni(l)?i:t,c=ar(l),f=c.length;for(let A=0;A<f;++A)u.push(c[A]);return this},modify(l,u,c){const f={field:u,value:tu(c)};return Ni(l)?(f.filter=l,s.push(f)):(f.tuple=l,r.push(f)),this},encode(l,u){return Ni(l)?s.push({filter:l,field:u}):r.push({tuple:l,field:u}),this},clean(l){return o=l,this},reflow(){return a=!0,this},pulse(l,u){const c={},f={};let A,d,h,g,m,v;for(A=0,d=u.length;A<d;++A)c[jr(u[A])]=1;for(A=0,d=t.length;A<d;++A)m=t[A],c[jr(m)]=-1;for(A=0,d=i.length;A<d;++A)g=i[A],u.forEach(C=>{g(C)&&(c[jr(C)]=-1)});for(A=0,d=e.length;A<d;++A)m=e[A],v=jr(m),c[v]?c[v]=1:l.add.push(Qs(e[A]));for(A=0,d=u.length;A<d;++A)m=u[A],c[jr(m)]<0&&l.rem.push(m);function _(C,D,T){T?C[D]=T(C):l.encode=D,a||(f[jr(C)]=C)}for(A=0,d=r.length;A<d;++A)h=r[A],m=h.tuple,g=h.field,v=c[jr(m)],v>0&&(_(m,g,h.value),l.modifies(g));for(A=0,d=s.length;A<d;++A)h=s[A],g=h.filter,u.forEach(C=>{g(C)&&c[jr(C)]>0&&_(C,h.field,h.value)}),l.modifies(h.field);if(a)l.mod=t.length||i.length?u.filter(C=>c[jr(C)]>0):u.slice();else for(v in f)l.mod.push(f[v]);return(o||null==o&&(t.length||i.length))&&l.clean(!0),l}}}const wC="_:mod:_";function bC(){Object.defineProperty(this,wC,{writable:!0,value:{}})}bC.prototype={set(e,t,r,i){const s=this,o=s[e],a=s[wC];return null!=t&&t>=0?(o[t]!==r||i)&&(o[t]=r,a[t+":"+e]=-1,a[e]=-1):(o!==r||i)&&(s[e]=r,a[e]=Zt(r)?1+r.length:-1),s},modified(e,t){const r=this[wC];if(!arguments.length){for(const i in r)if(r[i])return!0;return!1}if(Zt(e)){for(let i=0;i<e.length;++i)if(r[e[i]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},clear(){return this[wC]={},this}};let HHe=0;const $He=new bC;function go(e,t,r,i){this.id=++HHe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),r&&this.parameters(r,i)}function goe(e){return function(t){const r=this.flags;return 0===arguments.length?!!(r&e):(this.flags=t?r|e:r&~e,this)}}go.prototype={targets(){return this._targets||(this._targets=mC(p6))},set(e){return this.value!==e?(this.value=e,1):0},skip:goe(1),modified:goe(2),parameters(e,t,r){t=!1!==t;const i=this._argval=this._argval||new bC,s=this._argops=this._argops||[],o=[];let a,l,u,c;const f=(A,d,h)=>{h instanceof go?(h!==this&&(t&&h.targets().add(this),o.push(h)),s.push({op:h,name:A,index:d})):i.set(A,d,h)};for(a in e)if(l=e[a],"pulse"===a)ar(l).forEach(A=>{A instanceof go?A!==this&&(A.targets().add(this),o.push(A)):Yt("Pulse parameters must be operator instances.")}),this.source=l;else if(Zt(l))for(i.set(a,-1,Array(u=l.length)),c=0;c<u;++c)f(a,c,l[c]);else f(a,-1,l);return this.marshall().clear(),r&&(s.initonly=!0),o},marshall(e){const t=this._argval||$He,r=this._argops;let i,s,o,a;if(r){const l=r.length;for(s=0;s<l;++s)i=r[s],o=i.op,a=o.modified()&&o.stamp===e,t.set(i.name,i.index,o.value,a);if(r.initonly){for(s=0;s<l;++s)i=r[s],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,r,i,s;if(e)for(t=0,r=e.length;t<r;++t)i=e[t],s=i.op,s._targets&&s._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const r=this.marshall(e.stamp),i=t.call(this,r,e);if(r.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let KHe=0;function CC(e,t,r){this.id=++KHe,this.value=null,r&&(this.receive=r),e&&(this._filter=e),t&&(this._apply=t)}function r1(e,t,r){return new CC(e,t,r)}function WR(){return WR=Ha(function*(e,t){const r=this;let s,i=0;try{s=yield r.loader().load(e,{context:"dataflow",response:coe(t&&t.type)});try{s=r.parse(s,t)}catch(o){i=-2,r.warn("Data ingestion failed",e,o)}}catch(o){i=-1,r.warn("Loading failed",e,o)}return{data:s,status:i}}),WR.apply(this,arguments)}function YR(){return YR=Ha(function*(e,t,r){const i=this,s=i._pending||eVe(i);s.requests+=1;const o=yield i.request(t,r);return i.pulse(e,i.changeset().remove(Rf).insert(o.data||[])),s.done(),o}),YR.apply(this,arguments)}function eVe(e){let t;const r=new Promise(i=>t=i);return r.requests=0,r.done=()=>{0==--r.requests&&(e._pending=null,t(e))},e._pending=r}CC.prototype={_filter:Rf,_apply:Zl,targets(){return this._targets||(this._targets=mC(p6))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),r=this._targets,i=r?r.length:0;for(let s=0;s<i;++s)r[s].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=r1(e);return this.targets().add(t),t},apply(e){const t=r1(null,e);return this.targets().add(t),t},merge(){const e=r1();this.targets().add(e);for(let t=0,r=arguments.length;t<r;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const r=Date.now();return r-t>e?(t=r,1):0})},debounce(e){const t=r1();return this.targets().add(r1(null,null,JO(e,r=>{const i=r.dataflow;t.receive(r),i&&i.run&&i.run()}))),t},between(e,t){let r=!1;return e.targets().add(r1(null,null,()=>r=!0)),t.targets().add(r1(null,null,()=>r=!1)),this.filter(()=>r)},detach(){this._filter=Rf,this._targets=null}};const tVe={skip:!0};function rVe(e,t,r,i,s,o){const a=Oi({},o,tVe);let l,u;Ni(r)||(r=tu(r)),void 0===i?l=c=>e.touch(r(c)):Ni(i)?(u=new go(null,i,s,!1),l=c=>{u.evaluate(c);const f=r(c),A=u.value;poe(A)?e.pulse(f,A,o):e.update(f,A,a)}):l=c=>e.update(r(c),i,a),t.apply(l)}function iVe(e,t,r,i,s,o){if(void 0===i)t.targets().add(r);else{const a=o||{},l=new go(null,function sVe(e,t){return t=Ni(t)?t:tu(t),e?function(r,i){const s=t(r,i);return e.skip()||(e.skip(s!==this.value).value=s),s}:t}(r,i),s,!1);l.modified(a.force),l.rank=t.rank,t.targets().add(l),r&&(l.skip(!0),l.value=r.value,l.targets().add(r),e.connect(r,[l]))}}const EC={};function s1(e,t,r){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=r||null}function XR(e,t){const r=[];return t1(e,t,i=>r.push(i)),r}function woe(e,t){const r={};return e.visit(t,i=>{r[jr(i)]=1}),i=>r[jr(i)]?null:i}function SC(e,t){return e?(r,i)=>e(r,i)&&t(r,i):t}function JR(e,t,r,i){const s=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=r;for(const a of r)if(a.stamp===t){if(a.fields){const l=s.fields||(s.fields={});for(const u in a.fields)l[u]=1}a.changed(s.ADD)&&(o|=s.ADD),a.changed(s.REM)&&(o|=s.REM),a.changed(s.MOD)&&(o|=s.MOD)}this.changes=o}function ZR(){return ZR=Ha(function*(e,t,r){const i=this,s=[];if(i._pulse)return boe(i);if(i._pending&&(yield i._pending),t&&(yield vC(i,t)),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const o=++i._clock;i._pulse=new s1(i,o,e),i._touched.forEach(f=>i._enqueue(f,!0)),i._touched=mC(p6);let l,u,c,a=0;try{for(;i._heap.size()>0;)l=i._heap.pop(),l.rank===l.qrank?(u=l.run(i._getPulse(l,e)),u.then?u=yield u:u.async&&(s.push(u.async),u=EC),u!==EC&&l._targets&&l._targets.forEach(f=>i._enqueue(f)),++a):i._enqueue(l,!0)}catch(f){i._heap.clear(),c=f}if(i._input={},i._pulse=null,i.debug(`Pulse ${o}: ${a} operators`),c&&(i._postrun=[],i.error(c)),i._postrun.length){const f=i._postrun.sort((A,d)=>d.priority-A.priority);i._postrun=[];for(let A=0;A<f.length;++A)yield vC(i,f[A].callback)}return r&&(yield vC(i,r)),s.length&&Promise.all(s).then(f=>i.runAsync(null,()=>{f.forEach(A=>{try{A(i)}catch(d){i.error(d)}})})),i}),ZR.apply(this,arguments)}function ek(){return ek=Ha(function*(e,t,r){for(;this._running;)yield this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,r)).then(i,i),this._running}),ek.apply(this,arguments)}function boe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}s1.prototype={StopPropagation:EC,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new s1(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new s1(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const r=this;return r.stamp=e.stamp,r.encode=e.encode,e.fields&&!(64&t)&&(r.fields=e.fields),1&t?(r.addF=e.addF,r.add=e.add):(r.addF=null,r.add=[]),2&t?(r.remF=e.remF,r.rem=e.rem):(r.remF=null,r.rem=[]),4&t?(r.modF=e.modF,r.mod=e.mod):(r.modF=null,r.mod=[]),32&t?(r.srcF=null,r.source=null):(r.srcF=e.srcF,r.source=e.source,e.cleans&&(r.cleans=e.cleans)),r},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,r=this.source&&this.source.length;return r&&r!==t&&(this.mod=this.source,t&&this.filter(4,woe(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Zt(e)?e.forEach(r=>t[r]=!0):t[e]=!0,this},modified(e,t){const r=this.fields;return!(!t&&!this.mod.length||!r)&&(arguments.length?Zt(e)?e.some(i=>r[i]):r[e]:!!r)},filter(e,t){const r=this;return 1&e&&(r.addF=SC(r.addF,t)),2&e&&(r.remF=SC(r.remF,t)),4&e&&(r.modF=SC(r.modF,t)),16&e&&(r.srcF=SC(r.srcF,t)),r},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=XR(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=XR(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=XR(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const r=this,i=t;if(16&e)return t1(r.source,r.srcF,i),r;1&e&&t1(r.add,r.addF,i),2&e&&t1(r.rem,r.remF,i),4&e&&t1(r.mod,r.modF,i);const s=r.source;if(8&e&&s){const o=r.add.length+r.mod.length;o===s.length||t1(s,o?woe(r,5):r.srcF,i)}return r}},Gn(JR,s1,{fork(e){const t=new s1(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,r=>t.add.push(r)),e&t.REM&&this.visit(t.REM,r=>t.rem.push(r)),e&t.MOD&&this.visit(t.MOD,r=>t.mod.push(r))),t},changed(e){return this.changes&e},modified(e){const t=this,r=t.fields;return r&&t.changes&t.MOD?Zt(e)?e.some(i=>r[i]):r[e]:0},filter(){Yt("MultiPulse does not support filtering.")},materialize(){Yt("MultiPulse does not support materialization.")},visit(e,t){const r=this,i=r.pulses,s=i.length;let o=0;if(e&r.SOURCE)for(;o<s;++o)i[o].visit(e,t);else for(;o<s;++o)i[o].stamp===r.stamp&&i[o].visit(e,t);return r}});const tk={skip:!1,force:!1};function Coe(e,t,r,i){let s,o;const a=e[r];for(;r>t&&(o=r-1>>1,s=e[o],i(a,s)<0);)e[r]=s,r=o;return e[r]=a}function P3(){this.logger(jO()),this.logLevel(zO),this._clock=0,this._rank=0,this._locale=UR();try{this._loader=gC()}catch{}this._touched=mC(p6),this._input={},this._pulse=null,this._heap=function _Ve(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:r=>(t.push(r),Coe(t,0,t.length-1,e)),pop:()=>{const r=t.pop();let i;return t.length?(i=t[0],t[0]=r,function yVe(e,t,r){const i=t,s=e.length,o=e[t];let l,a=1+(t<<1);for(;a<s;)l=a+1,l<s&&r(e[a],e[l])>=0&&(a=l),e[t]=e[a],a=1+((t=a)<<1);e[t]=o,Coe(e,i,t,r)}(t,0,e)):i=r,i}}}((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Q6(e){return function(){return this._log[e].apply(this,arguments)}}function Ut(e,t){go.call(this,e,null,t)}P3.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Q6("error"),warn:Q6("warn"),info:Q6("info"),debug:Q6("debug"),logLevel:Q6("level"),cleanThreshold:1e4,add:function qHe(e,t,r,i){let o,s=1;return e instanceof go?o=e:e&&e.prototype instanceof go?o=new e:Ni(e)?o=new go(null,e):(s=0,o=new go(e,t)),this.rank(o),s&&(i=r,r=t),r&&this.connect(o,o.parameters(r,i)),this.touch(o),o},connect:function jHe(e,t){const r=e.rank,i=t.length;for(let s=0;s<i;++s)if(r<t[s].rank)return void this.rerank(e)},rank:function oVe(e){e.rank=++this._rank},rerank:function aVe(e){const t=[e];let r,i,s;for(;t.length;)if(this.rank(r=t.pop()),i=r._targets)for(s=i.length;--s>=0;)t.push(r=i[s]),r===e&&Yt("Cycle detected in dataflow graph.")},pulse:function vVe(e,t,r){this.touch(e,r||tk);const i=new s1(this,this._clock+(this._pulse?0:1)),s=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,s),this},touch:function gVe(e,t){const r=t||tk;return this._pulse?this._enqueue(e):this._touched.add(e),r.skip&&e.skip(!0),this},update:function mVe(e,t,r){const i=r||tk;return(e.set(t)||i.force)&&this.touch(e,i),this},changeset:um,ingest:function XHe(e,t,r){return t=this.parse(t,r),this.pulse(e,this.changeset().insert(t))},parse:function YHe(e,t){const r=this.locale();return foe(e,t,r.timeParse,r.utcParse)},preload:function ZHe(e,t,r){return YR.apply(this,arguments)},request:function JHe(e,t){return WR.apply(this,arguments)},events:function WHe(e,t,r,i){const s=this,o=r1(r,i),a=function(c){c.dataflow=s;try{o.receive(c)}catch(f){s.error(f)}finally{s.run()}};let l;l="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):ar(e);const u=l.length;for(let c=0;c<u;++c)l[c].addEventListener(t,a);return o},on:function nVe(e,t,r,i,s){return(e instanceof go?iVe:rVe)(this,e,t,r,i,s),this},evaluate:function uVe(e,t,r){return ZR.apply(this,arguments)},run:function fVe(e,t,r){return this._pulse?boe(this):(this.evaluate(e,t,r),this)},runAsync:function cVe(e,t,r){return ek.apply(this,arguments)},runAfter:function AVe(e,t,r){if(this._pulse||t)this._postrun.push({priority:r||0,callback:e});else try{e(this)}catch(i){this.error(i)}},_enqueue:function dVe(e,t){const r=e.stamp<this._clock;r&&(e.stamp=this._clock),(r||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function hVe(e,t){const r=e.source,i=this._clock;return r&&Zt(r)?new JR(this,i,r.map(s=>s.pulse),t):this._input[e.id]||function pVe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==EC&&(e.source=t.source),e)}(this._pulse,r&&r.pulse)}},Gn(Ut,go,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(r=>this.pulse=r):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),r=this.transform(t,e);return t.clear(),r},transform(){}});const U3={};function Eoe(e){const t=Soe(e);return t&&t.Definition||null}function Soe(e){return e=e&&e.toLowerCase(),pr(U3,e)?U3[e]:null}function BC(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Boe(e,t){let r;if(void 0===t)for(const i of e)null!=i&&(r<i||void 0===r&&i>=i)&&(r=i);else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(r<s||void 0===r&&s>=s)&&(r=s)}return r}function xoe(e,t){let r;if(void 0===t)for(const i of e)null!=i&&(r>i||void 0===r&&i>=i)&&(r=i);else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(r>s||void 0===r&&s>=s)&&(r=s)}return r}function xC(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Foe(e,t,r=0,i=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(e.length-1,i)),!(r<=t&&t<=i))return e;for(s=void 0===s?xC:function Doe(e=BC){if(e===BC)return xC;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const i=e(t,r);return i||0===i?i:(0===e(r,r))-(0===e(t,t))}}(s);i>r;){if(i-r>600){const u=i-r+1,c=t-r+1,f=Math.log(u),A=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*A*(u-A)/u)*(c-u/2<0?-1:1);Foe(e,t,Math.max(r,Math.floor(t-c*A/u+d)),Math.min(i,Math.floor(t+(u-c)*A/u+d)),s)}const o=e[t];let a=r,l=i;for(H6(e,r,t),s(e[i],o)>0&&H6(e,r,i);a<l;){for(H6(e,a,l),++a,--l;s(e[a],o)<0;)++a;for(;s(e[l],o)>0;)--l}0===s(e[r],o)?H6(e,r,l):(++l,H6(e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}return e}function H6(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function wVe(e){return null===e?NaN:+e}function nk(e,t,r){if(e=Float64Array.from(function*bVe(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&(yield i)}}(e,r)),(i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return xoe(e);if(t>=1)return Boe(e);var i,s=(i-1)*t,o=Math.floor(s),a=Boe(Foe(e,o).subarray(0,o+1));return a+(xoe(e.subarray(o+1))-a)*(s-o)}}function BVe(e,t){return nk(e,.5,t)}function*Moe(e,t){if(null==t)for(let r of e)null!=r&&""!==r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)i=t(i,++r,e),null!=i&&""!==i&&(i=+i)>=i&&(yield i)}}function rk(e,t,r){const i=Float64Array.from(Moe(e,r));return i.sort(BC),t.map(s=>function CVe(e,t,r=wVe){if((i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,s=(i-1)*t,o=Math.floor(s),a=+r(e[o],o,e);return a+(+r(e[o+1],o+1,e)-a)*(s-o)}}(i,s))}function ik(e,t){return rk(e,[.25,.5,.75],t)}function sk(e,t){const r=e.length,i=function SVe(e,t){const r=function EVe(e,t){let i,r=0,s=0,o=0;if(void 0===t)for(let a of e)null!=a&&(a=+a)>=a&&(i=a-s,s+=i/++r,o+=i*(a-s));else{let a=-1;for(let l of e)null!=(l=t(l,++a,e))&&(l=+l)>=l&&(i=l-s,s+=i/++r,o+=i*(l-s))}if(r>1)return o/(r-1)}(e,t);return r&&Math.sqrt(r)}(e,t),s=ik(e,t);return 1.06*(Math.min(i,(s[2]-s[0])/1.34)||i||Math.abs(s[0])||1)*Math.pow(r,-.2)}function Toe(e){const t=e.maxbins||20,r=e.base||10,i=Math.log(r),s=e.divide||[5,2];let l,u,c,f,A,d,o=e.extent[0],a=e.extent[1];const h=e.span||a-o||Math.abs(o)||1;if(e.step)l=e.step;else if(e.steps){for(f=h/t,A=0,d=e.steps.length;A<d&&e.steps[A]<f;++A);l=e.steps[Math.max(0,A-1)]}else{for(u=Math.ceil(Math.log(t)/i),c=e.minstep||0,l=Math.max(c,Math.pow(r,Math.round(Math.log(h)/i)-u));Math.ceil(h/l)>t;)l*=r;for(A=0,d=s.length;A<d;++A)f=l/s[A],f>=c&&h/f<=t&&(l=f)}f=Math.log(l);const m=Math.pow(r,-(f>=0?0:1+~~(-f/i))-1);return(e.nice||void 0===e.nice)&&(f=Math.floor(o/l+m)*l,o=o<f?f-l:f,a=Math.ceil(a/l)*l),{start:o,stop:a===o?o+l:a,step:l}}var Qf=Math.random;function xVe(e){Qf=e}function Ioe(e,t,r,i){if(!e.length)return[void 0,void 0];const s=Float64Array.from(Moe(e,i)),o=s.length,a=t;let l,u,c,f;for(c=0,f=Array(a);c<a;++c){for(l=0,u=0;u<o;++u)l+=s[~~(Qf()*o)];f[c]=l/o}return f.sort(BC),[nk(f,r/2),nk(f,1-r/2)]}function Noe(e,t,r,i){i=i||(d=>d);const s=e.length,o=new Float64Array(s);let A,a=0,l=1,u=i(e[0]),c=u,f=u+t;for(;l<s;++l){if(A=i(e[l]),A>=f){for(c=(u+c)/2;a<l;++a)o[a]=c;f=A+t,u=A}c=A}for(c=(u+c)/2;a<l;++a)o[a]=c;return r?function DVe(e,t){const r=e.length;let o,a,i=0,s=1;for(;e[i]===e[s];)++s;for(;s<r;){for(o=s+1;e[s]===e[o];)++o;if(e[s]-e[s-1]<t){for(a=s+(i+o-s-s>>1);a<s;)e[a++]=e[s];for(;a>s;)e[a--]=e[i]}i=s,s=o}return e}(o,t+t/4):o}function FVe(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function MVe(e,t){let r,i,s;null==t&&(t=e,e=0);const o={min(a){return arguments.length?(r=a||0,s=i-r,o):r},max(a){return arguments.length?(i=a||0,s=i-r,o):i},sample:()=>r+Math.floor(s*Qf()),pdf:a=>a===Math.floor(a)&&a>=r&&a<i?1/s:0,cdf(a){const l=Math.floor(a);return l<r?0:l>=i?1:(l-r+1)/s},icdf:a=>a>=0&&a<=1?r-1+Math.floor(a*s):NaN};return o.min(e).max(t)}const Ooe=Math.sqrt(2*Math.PI),TVe=Math.SQRT2;let V6=NaN;function DC(e,t){e=e||0,t=t??1;let s,o,r=0,i=0;if(V6==V6)r=V6,V6=NaN;else{do{r=2*Qf()-1,i=2*Qf()-1,s=r*r+i*i}while(0===s||s>1);o=Math.sqrt(-2*Math.log(s)/s),r*=o,V6=i*o}return e+r*t}function ok(e,t,r){const i=(e-(t||0))/(r=r??1);return Math.exp(-.5*i*i)/(r*Ooe)}function FC(e,t,r){const i=(e-(t=t||0))/(r=r??1),s=Math.abs(i);let o;if(s>37)o=0;else{const a=Math.exp(-s*s/2);let l;s<7.07106781186547?(l=.0352624965998911*s+.700383064443688,l=l*s+6.37396220353165,l=l*s+33.912866078383,l=l*s+112.079291497871,l=l*s+221.213596169931,l=l*s+220.206867912376,o=a*l,l=.0883883476483184*s+1.75566716318264,l=l*s+16.064177579207,l=l*s+86.7807322029461,l=l*s+296.564248779674,l=l*s+637.333633378831,l=l*s+793.826512519948,l=l*s+440.413735824752,o/=l):(l=s+.65,l=s+4/l,l=s+3/l,l=s+2/l,l=s+1/l,o=a/l/2.506628274631)}return i>0?1-o:o}function MC(e,t,r){return e<0||e>1?NaN:(t||0)+(r??1)*TVe*function IVe(e){let r,t=-Math.log((1-e)*(1+e));return t<6.25?(t-=3.125,r=-364441206401782e-35,r=r*t-16850591381820166e-35,r=128584807152564e-32+r*t,r=11157877678025181e-33+r*t,r=r*t-1333171662854621e-31,r=20972767875968562e-33+r*t,r=6637638134358324e-30+r*t,r=r*t-4054566272975207e-29,r=r*t-8151934197605472e-29,r=26335093153082323e-28+r*t,r=r*t-12975133253453532e-27,r=r*t-5415412054294628e-26,r=1.0512122733215323e-9+r*t,r=r*t-4.112633980346984e-9,r=r*t-2.9070369957882005e-8,r=4.2347877827932404e-7+r*t,r=r*t-13654692000834679e-22,r=r*t-13882523362786469e-21,r=.00018673420803405714+r*t,r=r*t-.000740702534166267,r=r*t-.006033670871430149,r=.24015818242558962+r*t,r=1.6536545626831027+r*t):t<16?(t=Math.sqrt(t)-3.25,r=2.2137376921775787e-9,r=9.075656193888539e-8+r*t,r=r*t-2.7517406297064545e-7,r=1.8239629214389228e-8+r*t,r=15027403968909828e-22+r*t,r=r*t-4013867526981546e-21,r=29234449089955446e-22+r*t,r=12475304481671779e-21+r*t,r=r*t-47318229009055734e-21,r=6828485145957318e-20+r*t,r=24031110387097894e-21+r*t,r=r*t-.0003550375203628475,r=.0009532893797373805+r*t,r=r*t-.0016882755560235047,r=.002491442096107851+r*t,r=r*t-.003751208507569241,r=.005370914553590064+r*t,r=1.0052589676941592+r*t,r=3.0838856104922208+r*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,r=-27109920616438573e-27,r=r*t-2.555641816996525e-10,r=1.5076572693500548e-9+r*t,r=r*t-3.789465440126737e-9,r=7.61570120807834e-9+r*t,r=r*t-1.496002662714924e-8,r=2.914795345090108e-8+r*t,r=r*t-6.771199775845234e-8,r=2.2900482228026655e-7+r*t,r=r*t-9.9298272942317e-7,r=4526062597223154e-21+r*t,r=r*t-1968177810553167e-20,r=7599527703001776e-20+r*t,r=r*t-.00021503011930044477,r=r*t-.00013871931833623122,r=1.0103004648645344+r*t,r=4.849906401408584+r*t):r=1/0,r*e}(2*e-1)}function ak(e,t){let r,i;const s={mean(o){return arguments.length?(r=o||0,s):r},stdev(o){return arguments.length?(i=o??1,s):i},sample:()=>DC(r,i),pdf:o=>ok(o,r,i),cdf:o=>FC(o,r,i),icdf:o=>MC(o,r,i)};return s.mean(e).stdev(t)}function lk(e,t){const r=ak();let i=0;const s={data(o){return arguments.length?(e=o,i=o?o.length:0,s.bandwidth(t)):e},bandwidth(o){return arguments.length?(!(t=o)&&e&&(t=sk(e)),s):t},sample:()=>e[~~(Qf()*i)]+t*r.sample(),pdf(o){let a=0,l=0;for(;l<i;++l)a+=r.pdf((o-e[l])/t);return a/t/i},cdf(o){let a=0,l=0;for(;l<i;++l)a+=r.cdf((o-e[l])/t);return a/i},icdf(){throw Error("KDE icdf not supported.")}};return s.data(e)}function uk(e,t){return e=e||0,t=t??1,Math.exp(e+DC()*t)}function ck(e,t,r){if(e<=0)return 0;t=t||0,r=r??1;const i=(Math.log(e)-t)/r;return Math.exp(-.5*i*i)/(r*Ooe*e)}function fk(e,t,r){return FC(Math.log(e),t,r)}function Ak(e,t,r){return Math.exp(MC(e,t,r))}function Roe(e,t){let r,i;const s={mean(o){return arguments.length?(r=o||0,s):r},stdev(o){return arguments.length?(i=o??1,s):i},sample:()=>uk(r,i),pdf:o=>ck(o,r,i),cdf:o=>fk(o,r,i),icdf:o=>Ak(o,r,i)};return s.mean(e).stdev(t)}function koe(e,t){let i,r=0;const o={weights(a){return arguments.length?(i=function s(a){const l=[];let c,u=0;for(c=0;c<r;++c)u+=l[c]=null==a[c]?1:+a[c];for(c=0;c<r;++c)l[c]/=u;return l}(t=a||[]),o):t},distributions(a){return arguments.length?(a?(r=a.length,e=a):(r=0,e=[]),o.weights(t)):e},sample(){const a=Qf();let l=e[r-1],u=i[0],c=0;for(;c<r-1;u+=i[++c])if(a<u){l=e[c];break}return l.sample()},pdf(a){let l=0,u=0;for(;u<r;++u)l+=i[u]*e[u].pdf(a);return l},cdf(a){let l=0,u=0;for(;u<r;++u)l+=i[u]*e[u].cdf(a);return l},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function dk(e,t){return null==t&&(t=e??1,e=0),e+(t-e)*Qf()}function hk(e,t,r){return null==r&&(r=t??1,t=0),e>=t&&e<=r?1/(r-t):0}function pk(e,t,r){return null==r&&(r=t??1,t=0),e<t?0:e>r?1:(e-t)/(r-t)}function gk(e,t,r){return null==r&&(r=t??1,t=0),e>=0&&e<=1?t+e*(r-t):NaN}function Poe(e,t){let r,i;const s={min(o){return arguments.length?(r=o||0,s):r},max(o){return arguments.length?(i=o??1,s):i},sample:()=>dk(r,i),pdf:o=>hk(o,r,i),cdf:o=>pk(o,r,i),icdf:o=>gk(o,r,i)};return null==t&&(t=e??1,e=0),s.min(e).max(t)}function mk(e,t,r){let i=0,s=0;for(const o of e){const a=r(o);null==t(o)||null==a||isNaN(a)||(i+=(a-i)/++s)}return{coef:[i],predict:()=>i,rSquared:0}}function $6(e,t,r,i){const s=i-e*e,o=Math.abs(s)<1e-24?0:(r-e*t)/s;return[t-o*e,o]}function TC(e,t,r,i){e=e.filter(h=>{let g=t(h),m=r(h);return null!=g&&(g=+g)>=g&&null!=m&&(m=+m)>=m}),i&&e.sort((h,g)=>t(h)-t(g));const s=e.length,o=new Float64Array(s),a=new Float64Array(s);let f,A,d,l=0,u=0,c=0;for(d of e)o[l]=f=+t(d),a[l]=A=+r(d),++l,u+=(f-u)/l,c+=(A-c)/l;for(l=0;l<s;++l)o[l]-=u,a[l]-=c;return[o,a,u,c]}function G6(e,t,r,i){let o,a,s=-1;for(const l of e)o=t(l),a=r(l),null!=o&&(o=+o)>=o&&null!=a&&(a=+a)>=a&&i(o,a,++s)}function L3(e,t,r,i,s){let o=0,a=0;return G6(e,t,r,(l,u)=>{const c=u-s(l),f=u-i;o+=c*c,a+=f*f}),1-o/a}function vk(e,t,r){let i=0,s=0,o=0,a=0,l=0;G6(e,t,r,(f,A)=>{++l,i+=(f-i)/l,s+=(A-s)/l,o+=(f*A-o)/l,a+=(f*f-a)/l});const u=$6(i,s,o,a),c=f=>u[0]+u[1]*f;return{coef:u,predict:c,rSquared:L3(e,t,r,s,c)}}function Uoe(e,t,r){let i=0,s=0,o=0,a=0,l=0;G6(e,t,r,(f,A)=>{++l,f=Math.log(f),i+=(f-i)/l,s+=(A-s)/l,o+=(f*A-o)/l,a+=(f*f-a)/l});const u=$6(i,s,o,a),c=f=>u[0]+u[1]*Math.log(f);return{coef:u,predict:c,rSquared:L3(e,t,r,s,c)}}function Loe(e,t,r){const[i,s,o,a]=TC(e,t,r);let d,h,g,l=0,u=0,c=0,f=0,A=0;G6(e,t,r,(C,D)=>{d=i[A++],h=Math.log(D),g=d*D,l+=(D*h-l)/A,u+=(g-u)/A,c+=(g*h-c)/A,f+=(d*g-f)/A});const[m,v]=$6(u/a,l/a,c/a,f/a),_=C=>Math.exp(m+v*(C-o));return{coef:[Math.exp(m-v*o),v],predict:_,rSquared:L3(e,t,r,a,_)}}function Qoe(e,t,r){let i=0,s=0,o=0,a=0,l=0,u=0;G6(e,t,r,(A,d)=>{const h=Math.log(A),g=Math.log(d);++u,i+=(h-i)/u,s+=(g-s)/u,o+=(h*g-o)/u,a+=(h*h-a)/u,l+=(d-l)/u});const c=$6(i,s,o,a),f=A=>c[0]*Math.pow(A,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:f,rSquared:L3(e,t,r,l,f)}}function _k(e,t,r){const[i,s,o,a]=TC(e,t,r),l=i.length;let h,g,m,v,u=0,c=0,f=0,A=0,d=0;for(h=0;h<l;)g=i[h],m=s[h++],v=g*g,u+=(v-u)/h,c+=(v*g-c)/h,f+=(v*v-f)/h,A+=(g*m-A)/h,d+=(v*m-d)/h;const _=f-u*u,C=u*_-c*c,D=(d*u-A*c)/C,T=(A*_-d*c)/C,I=-D*u,V=R=>D*(R-=o)*R+T*R+I+a;return{coef:[I-T*o+D*o*o+a,T-2*D*o,D],predict:V,rSquared:L3(e,t,r,a,V)}}function Hoe(e,t,r,i){if(0===i)return mk(e,t,r);if(1===i)return vk(e,t,r);if(2===i)return _k(e,t,r);const[s,o,a,l]=TC(e,t,r),u=s.length,c=[],f=[],A=i+1;let d,h,g,m,v;for(d=0;d<A;++d){for(g=0,m=0;g<u;++g)m+=Math.pow(s[g],d)*o[g];for(c.push(m),v=new Float64Array(A),h=0;h<A;++h){for(g=0,m=0;g<u;++g)m+=Math.pow(s[g],d+h);v[h]=m}f.push(v)}f.push(c);const _=function OVe(e){const t=e.length-1,r=[];let i,s,o,a,l;for(i=0;i<t;++i){for(a=i,s=i+1;s<t;++s)Math.abs(e[i][s])>Math.abs(e[i][a])&&(a=s);for(o=i;o<t+1;++o)l=e[o][i],e[o][i]=e[o][a],e[o][a]=l;for(s=i+1;s<t;++s)for(o=t;o>=i;o--)e[o][s]-=e[o][i]*e[i][s]/e[i][i]}for(s=t-1;s>=0;--s){for(l=0,o=s+1;o<t;++o)l+=e[o][s]*r[o];r[s]=(e[t][s]-l)/e[s][s]}return r}(f),C=D=>{let T=l+_[0]+_[1]*(D-=a)+_[2]*D*D;for(d=3;d<A;++d)T+=_[d]*Math.pow(D,d);return T};return{coef:NVe(A,_,-a,l),predict:C,rSquared:L3(e,t,r,l,C)}}function NVe(e,t,r,i){const s=Array(e);let o,a,l,u;for(o=0;o<e;++o)s[o]=0;for(o=e-1;o>=0;--o)for(l=t[o],u=1,s[o]+=l,a=1;a<=o;++a)u*=(o+1-a)/a,s[o-a]+=l*Math.pow(r,a)*u;return s[0]+=i,s}function Goe(e,t,r,i){const[s,o,a,l]=TC(e,t,r,!0),u=s.length,c=Math.max(2,~~(i*u)),f=new Float64Array(u),A=new Float64Array(u),d=new Float64Array(u).fill(1);for(let h=-1;++h<=2;){const g=[0,c-1];for(let v=0;v<u;++v){const _=s[v],C=g[0],D=g[1];let I=0,V=0,R=0,K=0,ne=0;const Ae=1/Math.abs(s[_-s[C]>s[D]-_?C:D]-_||1);for(let Ce=C;Ce<=D;++Ce){const U=s[Ce],Q=o[Ce],z=RVe(Math.abs(_-U)*Ae)*d[Ce],oe=U*z;I+=z,V+=oe,R+=Q*z,K+=Q*oe,ne+=U*oe}const[ae,Be]=$6(V/I,R/I,K/I,ne/I);f[v]=ae+Be*_,A[v]=Math.abs(o[v]-f[v]),kVe(s,v+1,g)}if(2===h)break;const m=BVe(A);if(Math.abs(m)<1e-12)break;for(let _,C,v=0;v<u;++v)_=A[v]/(6*m),d[v]=_>=1?1e-12:(C=1-_*_)*C}return function PVe(e,t,r,i){const s=e.length,o=[];let c,a=0,l=0,u=[];for(;a<s;++a)c=e[a]+r,u[0]===c?u[1]+=(t[a]-u[1])/++l:(l=0,u[1]+=i,u=[c,t[a]],o.push(u));return u[1]+=i,o}(s,f,a,l)}function RVe(e){return(e=1-e*e*e)*e*e}function kVe(e,t,r){const i=e[t];let s=r[0],o=r[1]+1;if(!(o>=e.length))for(;t>s&&e[o]-i<=i-e[s];)r[0]=++s,r[1]=o,++o}const UVe=.5*Math.PI/180;function IC(e,t,r,i){r=r||25,i=Math.max(r,i||200);const s=m=>[m,e(m)],o=t[0],a=t[1],l=a-o,u=l/i,c=[s(o)],f=[];if(r===i){for(let m=1;m<i;++m)c.push(s(o+m/r*l));return c.push(s(a)),c}f.push(s(a));for(let m=r;--m>0;)f.push(s(o+m/r*l));let A=c[0],d=f[f.length-1];const h=1/l,g=function LVe(e,t){let r=e,i=e;const s=t.length;for(let o=0;o<s;++o){const a=t[o][1];a<r&&(r=a),a>i&&(i=a)}return 1/(i-r)}(A[1],f);for(;d;){const m=s((A[0]+d[0])/2);m[0]-A[0]>=u&&QVe(A,m,d,h,g)>UVe?f.push(m):(A=d,c.push(d),f.pop()),d=f[f.length-1]}return c}function QVe(e,t,r,i,s){const o=Math.atan2(s*(r[1]-e[1]),i*(r[0]-e[0])),a=Math.atan2(s*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(o-a)}function yk(e,t){let r;if(void 0===t)for(const i of e)null!=i&&(r<i||void 0===r&&i>=i)&&(r=i);else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(r<s||void 0===r&&s>=s)&&(r=s)}return r}function wk(e,t){let r;if(void 0===t)for(const i of e)null!=i&&(r>i||void 0===r&&i>=i)&&(r=i);else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(r>s||void 0===r&&s>=s)&&(r=s)}return r}function z6(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NC(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function qoe(e,t,r=0,i=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(e.length-1,i)),!(r<=t&&t<=i))return e;for(s=void 0===s?NC:function zoe(e=z6){if(e===z6)return NC;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const i=e(t,r);return i||0===i?i:(0===e(r,r))-(0===e(t,t))}}(s);i>r;){if(i-r>600){const u=i-r+1,c=t-r+1,f=Math.log(u),A=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*A*(u-A)/u)*(c-u/2<0?-1:1);qoe(e,t,Math.max(r,Math.floor(t-c*A/u+d)),Math.min(i,Math.floor(t+(u-c)*A/u+d)),s)}const o=e[t];let a=r,l=i;for(q6(e,r,t),s(e[i],o)>0&&q6(e,r,i);a<l;){for(q6(e,a,l),++a,--l;s(e[a],o)<0;)++a;for(;s(e[l],o)>0;)--l}0===s(e[r],o)?q6(e,r,l):(++l,q6(e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}return e}function q6(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function joe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var i=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(s);++i<s;)o[i]=e+i*r;return o}function zVe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jVe(){return 0}function bk(e){return e&&e.length?1===e.length?e[0]:function KVe(e){return t=>{const r=e.length;let i=1,s=String(e[0](t));for(;i<r;++i)s+="|"+e[i](t);return s}}(e):function(){return""}}function Koe(e,t,r){return r||e+(t?"_"+t:"")}const Ck=()=>{},WVe={init:Ck,add:Ck,rem:Ck,idx:0},j6={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,r)=>{t<e.min&&(e.argmin=r)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,r)=>{t>e.max&&(e.argmax=r)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},K6=Object.keys(j6).filter(e=>"__count__"!==e);function Woe(e,t,r){return j6[e](r,t)}function Yoe(e,t){return e.idx-t.idx}function JVe(){this.valid=0,this.missing=0,this._ops.forEach(e=>null==e.aggregate_param?e.init(this):e.init(this,e.aggregate_param))}function ZVe(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(r=>r.add(this,e,t))):++this.missing}function e$e(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(r=>r.rem(this,e,t))):--this.missing}function t$e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Xoe(e,t){const r=t||Zl,i=function XVe(e){const t={};e.forEach(i=>t[i.name]=i);const r=i=>{!i.req||i.req.forEach(s=>{t[s]||r(t[s]=j6[s]())})};return e.forEach(r),Object.values(t).sort(Yoe)}(e),s=e.slice().sort(Yoe);function o(a){this._ops=i,this._out=s,this.cell=a,this.init()}return o.prototype.init=JVe,o.prototype.add=ZVe,o.prototype.rem=e$e,o.prototype.set=t$e,o.prototype.get=r,o.fields=e.map(a=>a.out),o}function Ek(e){this._key=e?Of(e):jr,this.reset()}[...K6,"__count__"].forEach(e=>{j6[e]=function YVe(e,t){return(r,i)=>Oi({name:e,aggregate_param:i,out:r||e},WVe,t)}(e,j6[e])});const Il=Ek.prototype;function o1(e){Ut.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function Sk(e){Ut.call(this,null,e)}function Joe(e,t,r){const i=e;let s=t||[],o=r||[],a={},l=0;return{add:u=>o.push(u),remove:u=>a[i(u)]=++l,size:()=>s.length,data:(u,c)=>(l&&(s=s.filter(f=>!a[i(f)]),a={},l=0),c&&u&&s.sort(u),o.length&&(s=u?Uie(u,s,o.sort(u)):s.concat(o),o=[]),s)}}function Bk(e){Ut.call(this,[],e)}function Zoe(e){go.call(this,null,r$e,e)}function r$e(e){return this.value&&!e.modified()?this.value:XO(e.fields,e.orders)}function xk(e){Ut.call(this,null,e)}function Dk(e){Ut.call(this,null,e)}Il.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Il.add=function(e){this._add.push(e)},Il.rem=function(e){this._rem.push(e)},Il.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,r=this._key,i=e.length,s=t.length,o=Array(i-s),a={};let l,u,c;for(l=0;l<s;++l)a[r(t[l])]=1;for(l=0,u=0;l<i;++l)a[r(c=e[l])]?a[r(c)]=0:o[u++]=c;return this._rem=[],this._add=o},Il.distinct=function(e){const t=this.values(),r={};let o,i=t.length,s=0;for(;--i>=0;)o=e(t[i])+"",pr(r,o)||(r[o]=1,++s);return s},Il.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),r=Nie(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext},Il.argmin=function(e){return this.extent(e)[0]||{}},Il.argmax=function(e){return this.extent(e)[1]||{}},Il.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},Il.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},Il.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=ik(this.values(),e),this._get=e),this._q},Il.q1=function(e){return this.quartile(e)[0]},Il.q2=function(e){return this.quartile(e)[1]},Il.q3=function(e){return this.quartile(e)[2]},Il.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=Ioe(this.values(),1e3,.05,e),this._get=e),this._ci},Il.ci0=function(e){return this.ci(e)[0]},Il.ci1=function(e){return this.ci(e)[1]},o1.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:K6},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Gn(o1,Ut,{transform(e,t){const r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.modified();return r.stamp=i.stamp,r.value&&(s||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=s?r.init(e):Object.create(null),t.visit(t.SOURCE,o=>r.add(o))):(r.value=r.value||r.init(e),t.visit(t.REM,o=>r.rem(o)),t.visit(t.ADD,o=>r.add(o))),i.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter(()=>this.clean()),r.changes(i)},cross(){const e=this,t=e.value,r=e._dnames,i=r.map(()=>({})),s=r.length;function o(l){let u,c,f,A;for(u in l)for(f=l[u].tuple,c=0;c<s;++c)i[c][A=f[r[c]]]=A}o(e._prev),o(t),function a(l,u,c){const f=r[c],A=i[c++];for(const d in A){const h=l?l+"|"+d:d;u[f]=A[d],c<s?a(h,u,c):t[h]||e.cell(h,u)}}("",{},0)},init(e){const t=this._inputs=[],r=this._outputs=[],i={};function s(C){const D=ar(Jl(C)),T=D.length;let V,I=0;for(;I<T;++I)i[V=D[I]]||(i[V]=1,t.push(V))}this._dims=ar(e.groupby),this._dnames=this._dims.map(C=>{const D=fa(C);return s(C),r.push(D),D}),this.cellkey=e.key?e.key:bk(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||["count"],l=e.aggregate_params||[null],u=e.as||[],c=o.length,f={};let A,d,h,g,m,v,_;for(c!==a.length&&Yt("Unmatched number of fields and aggregate ops."),_=0;_<c;++_)A=o[_],d=a[_],h=l[_]||null,null==A&&"count"!==d&&Yt("Null aggregate field specified."),m=fa(A),v=Koe(d,m,u[_]),r.push(v),"count"!==d?(g=f[m],g||(s(A),g=f[m]=[],g.field=A,this._measures.push(g)),"count"!==d&&(this._countOnly=!1),g.push(Woe(d,h,v))):this._counts.push(v);return this._measures=this._measures.map(C=>Xoe(C,C.field)),Object.create(null)},cellkey:bk(),cell(e,t){let r=this.value[e];return r?0===r.num&&this._drop&&r.stamp<this.stamp?(r.stamp=this.stamp,this._adds[this._alen++]=r):r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r):(r=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=r),r},newcell(e,t){const r={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const i=this._measures,s=i.length;r.agg=Array(s);for(let o=0;o<s;++o)r.agg[o]=new i[o](r)}return r.store&&(r.data=new Ek),r},newtuple(e,t){const r=this._dnames,i=this._dims,s=i.length,o={};for(let a=0;a<s;++a)o[r[a]]=i[a](e);return t?hoe(t.tuple,o):Qs(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),r=this.cell(t,e);if(r.num+=1,this._countOnly)return;r.store&&r.data.add(e);const i=r.agg;for(let s=0,o=i.length;s<o;++s)i[s].add(i[s].get(e),e)},rem(e){const t=this.cellkey(e),r=this.cell(t,e);if(r.num-=1,this._countOnly)return;r.store&&r.data.rem(e);const i=r.agg;for(let s=0,o=i.length;s<o;++s)i[s].rem(i[s].get(e),e)},celltuple(e){const t=e.tuple,r=this._counts;e.store&&e.data.values();for(let i=0,s=r.length;i<s;++i)t[r[i]]=e.num;if(!this._countOnly){const i=e.agg;for(let s=0,o=i.length;s<o;++s)i[s].set(t)}return t},changes(e){const t=this._adds,r=this._mods,i=this._prev,s=this._drop,o=e.add,a=e.rem,l=e.mod;let u,c,f,A;if(i)for(c in i)u=i[c],(!s||u.num)&&a.push(u.tuple);for(f=0,A=this._alen;f<A;++f)o.push(this.celltuple(t[f])),t[f]=null;for(f=0,A=this._mlen;f<A;++f)u=r[f],(0===u.num&&s?a:l).push(this.celltuple(u)),r[f]=null;return this._alen=this._mlen=0,this._prev=null,e}}),Sk.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Gn(Sk,Ut,{transform(e,t){const r=!1!==e.interval,i=this._bins(e),s=i.start,o=i.step,a=e.as||["bin0","bin1"],l=a[0],u=a[1];let c;return c=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Jl(e.field))?t.ADD_MOD:t.ADD,t.visit(c,r?f=>{const A=i(f);f[l]=A,f[u]=null==A?null:s+o*(1+(A-s)/o)}:f=>f[l]=i(f)),t.modifies(r?a:l)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,r=Toe(e),i=r.step;let a,l,s=r.start,o=s+Math.ceil((r.stop-s)/i)*i;null!=(a=e.anchor)&&(l=a-(s+i*Math.floor((a-s)/i)),s+=l,o+=l);const u=function(c){let f=eu(t(c));return null==f?null:f<s?-1/0:f>o?1/0:(f=Math.max(s,Math.min(f,o-i)),s+i*Math.floor(1e-14+(f-s)/i))};return u.start=s,u.stop=r.stop,u.step=i,this.value=oc(u,Jl(t),e.name||"bin_"+fa(t))}}),Bk.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Gn(Bk,Ut,{transform(e,t){const r=t.fork(t.ALL),i=Joe(jr,this.value,r.materialize(r.ADD).add),s=e.sort,o=t.changed()||s&&(e.modified("sort")||t.modified(s.fields));return r.visit(r.REM,i.remove),this.modified(o),this.value=r.source=i.data(lm(s),o),t.source&&t.source.root&&(this.value.root=t.source.root),r}}),Gn(Zoe,go),xk.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Gn(xk,Ut,{transform(e,t){const r=A=>d=>{for(var g,h=function i$e(e,t,r){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(r)}(l(d),e.case,o)||[],m=0,v=h.length;m<v;++m)a.test(g=h[m])||A(g)},i=this._parameterCheck(e,t),s=this._counts,o=this._match,a=this._stop,l=e.field,u=e.as||["text","count"],c=r(A=>s[A]=1+(s[A]||0)),f=r(A=>s[A]-=1);return i?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let r=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),r=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),r=!0),(e.modified("field")||t.modified(e.field.fields))&&(r=!0),r&&(this._counts={}),r},_finish(e,t){const r=this._counts,i=this._tuples||(this._tuples={}),s=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let l,u,c;for(l in r)u=i[l],c=r[l]||0,!u&&c?(i[l]=u=Qs({}),u[s]=l,u[o]=c,a.add.push(u)):0===c?(u&&a.rem.push(u),r[l]=null,i[l]=null):u[o]!==c&&(u[o]=c,a.mod.push(u));return a.modifies(t)}}),Dk.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Gn(Dk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE),i=e.as||["a","b"],s=i[0],o=i[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return a?(l&&(r.rem=l),l=t.materialize(t.SOURCE).source,r.add=this.value=function s$e(e,t,r,i){for(var u,c,s=[],o={},a=e.length,l=0;l<a;++l)for(o[t]=c=e[l],u=0;u<a;++u)o[r]=e[u],i(o)&&(s.push(Qs(o)),(o={})[t]=c);return s}(l,s,o,e.filter||Rf)):r.mod=l,r.source=this.value,r.modifies(i)}});const eae={kde:lk,mixture:koe,normal:ak,lognormal:Roe,uniform:Poe};function nae(e,t){const r=e.function;pr(eae,r)||Yt("Unknown distribution function: "+r);const i=eae[r]();for(const s in e)"field"===s?i.data((e.from||t()).map(e[s])):"distributions"===s?i[s](e[s].map(o=>nae(o,t))):"function"==typeof i[s]&&i[s](e[s]);return i}function Fk(e){Ut.call(this,null,e)}const rae=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function iae(e,t){return e?e.map((r,i)=>t[i]||fa(r)):null}function Mk(e,t,r){const i=[],s=A=>A(u);let o,a,l,u,c,f;if(null==t)i.push(e.map(r));else for(o={},a=0,l=e.length;a<l;++a)u=e[a],c=t.map(s),f=o[c],f||(o[c]=f=[],f.dims=c,i.push(f)),f.push(r(u));return i}function Tk(e){Ut.call(this,null,e)}function oae(e){go.call(this,null,f$e,e),this.modified(!0)}function f$e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:oc(r=>t(r,e),Jl(t),fa(t))}function Ik(e){Ut.call(this,[void 0,void 0],e)}function Nk(e,t){go.call(this,e),this.parent=t,this.count=0}function OC(e){Ut.call(this,{},e),this._keys=x3();const t=this._targets=[];t.active=0,t.forEach=r=>{for(let i=0,s=t.active;i<s;++i)r(t[i],i,t)}}function aae(e){go.call(this,null,A$e,e)}function A$e(e){return this.value&&!e.modified()?this.value:Zt(e.name)?ar(e.name).map(t=>Of(t)):Of(e.name,e.as)}function Ok(e){Ut.call(this,x3(),e)}function Rk(e){Ut.call(this,[],e)}function kk(e){Ut.call(this,[],e)}function Pk(e){Ut.call(this,null,e)}function lae(e){Ut.call(this,[],e)}Fk.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:rae.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:rae},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},Gn(Fk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=nae(e.distribution,function u$e(e){return()=>e.materialize(e.SOURCE).source}(t)),s=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Yt("Invalid density method: "+a),!e.extent&&!i.data&&Yt("Missing density extent parameter."),a=i[a];const l=e.as||["value","density"],c=IC(a,e.extent||Xd(i.data()),s,o).map(f=>{const A={};return A[l[0]]=f[0],A[l[1]]=f[1],Qs(A)});this.value&&(r.rem=this.value),this.value=r.add=r.source=c}return r}}),Tk.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Gn(Tk,Ut,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const r=t.materialize(t.SOURCE).source,i=Mk(t.source,e.groupby,Zl),s=e.smooth||!1,o=e.field,a=e.step||((e,t)=>m6(Xd(e,t))/30)(r,o),l=lm((g,m)=>o(g)-o(m)),u=e.as||"bin",c=i.length;let h,f=1/0,A=-1/0,d=0;for(;d<c;++d){const g=i[d].sort(l);h=-1;for(const m of Noe(g,a,s,o))m<f&&(f=m),m>A&&(A=m),g[++h][u]=m}return this.value={start:f,stop:A,step:a},t.reflow(!0).modifies(u)}}),Gn(oae,go),Ik.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Gn(Ik,Ut,{transform(e,t){const r=this.value,i=e.field,s=t.changed()||t.modified(i.fields)||e.modified("field");let o=r[0],a=r[1];if((s||null==o)&&(o=1/0,a=-1/0),t.visit(s?t.SOURCE:t.ADD,l=>{const u=eu(i(l));null!=u&&(u<o&&(o=u),u>a&&(a=u))}),!Number.isFinite(o)||!Number.isFinite(a)){let l=fa(i);l&&(l=` for field "${l}"`),t.dataflow.warn(`Infinite extent${l}: [${o}, ${a}]`),o=a=void 0}this.value=[o,a]}}),Gn(Nk,go,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),Gn(OC,Ut,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,r,i){const s=this.value;let a,l,o=pr(s,e)&&s[e];return o?o.value.stamp<r.stamp&&(o.init(r),this.activate(o)):(l=i||(l=this._group[e])&&l.tuple,a=r.dataflow,o=new Nk(r.fork(r.NO_SOURCE),this),a.add(o).connect(t(a,e,l)),s[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const r in e)if(0===e[r].count){const i=e[r].detachSubflow;i&&i(),delete e[r],++t}if(t){const r=this._targets.filter(i=>i&&i.count>0);this.initTargets(r)}},initTargets(e){const t=this._targets,r=t.length,i=e?e.length:0;let s=0;for(;s<i;++s)t[s]=e[s];for(;s<r&&null!=t[s];++s)t[s]=null;t.active=i},transform(e,t){const r=t.dataflow,i=e.key,s=e.subflow,o=this._keys,a=e.modified("key"),l=u=>this.subflow(u,s,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const c=jr(u),f=o.get(c);void 0!==f&&(o.delete(c),l(f).rem(u))}),t.visit(t.ADD,u=>{const c=i(u);o.set(jr(u),c),l(c).add(u)}),a||t.modified(i.fields)?t.visit(t.MOD,u=>{const c=jr(u),f=o.get(c),A=i(u);f===A?l(A).mod(u):(o.set(c,A),l(f).rem(u),l(A).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{l(o.get(jr(u))).mod(u)}),a&&t.visit(t.REFLOW,u=>{const c=jr(u),f=o.get(c),A=i(u);f!==A&&(o.set(c,A),l(f).rem(u),l(A).add(u))}),t.clean()?r.runAfter(()=>{this.clean(),o.clean()}):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}}),Gn(aae,go),Ok.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Gn(Ok,Ut,{transform(e,t){const r=t.dataflow,i=this.value,s=t.fork(),o=s.add,a=s.rem,l=s.mod,u=e.expr;let c=!0;function f(A){const d=jr(A),h=u(A,e),g=i.get(d);h&&g?(i.delete(d),o.push(A)):h||g?c&&h&&!g&&l.push(A):(i.set(d,1),a.push(A))}return t.visit(t.REM,A=>{const d=jr(A);i.has(d)?i.delete(d):a.push(A)}),t.visit(t.ADD,A=>{u(A,e)?o.push(A):i.set(jr(A),1)}),t.visit(t.MOD,f),e.modified()&&(c=!1,t.visit(t.REFLOW,f)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),s}}),Rk.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Gn(Rk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE),i=e.fields,s=iae(i,e.as||[]),o=e.index||null,a=s.length;return r.rem=this.value,t.visit(t.SOURCE,l=>{const u=i.map(g=>g(l)),c=u.reduce((g,m)=>Math.max(g,m.length),0);let A,d,h,f=0;for(;f<c;++f){for(d=KR(l),A=0;A<a;++A)d[s[A]]=null==(h=u[A][f])?null:h;o&&(d[o]=f),r.add.push(d)}}),this.value=r.source=r.add,o&&r.modifies(o),r.modifies(s)}}),kk.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Gn(kk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE),i=e.fields,s=i.map(fa),o=e.as||["key","value"],a=o[0],l=o[1],u=i.length;return r.rem=this.value,t.visit(t.SOURCE,c=>{for(let A,f=0;f<u;++f)A=KR(c),A[a]=s[f],A[l]=i[f](c),r.add.push(A)}),this.value=r.source=r.add,r.modifies(o)}}),Pk.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Gn(Pk,Ut,{transform(e,t){const r=e.expr,i=e.as,s=e.modified(),o=e.initonly?t.ADD:s?t.SOURCE:t.modified(r.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return s&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,a=>a[i]=r(a,e))}}),Gn(lae,Ut,{transform(e,t){const r=t.fork(t.ALL),i=e.generator;let a,l,u,s=this.value,o=e.size-s.length;if(o>0){for(a=[];--o>=0;)a.push(u=Qs(i(e))),s.push(u);r.add=r.add.length?r.materialize(r.ADD).add.concat(a):a}else l=s.slice(0,-o),r.rem=r.rem.length?r.materialize(r.REM).rem.concat(l):l,s=s.slice(-o);return r.source=this.value=s,r}});const RC={value:"value",median:function $Ve(e,t){return function VVe(e,t,r){if(e=Float64Array.from(function*HVe(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&(yield i)}}(e,r)),(i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return wk(e);if(t>=1)return yk(e);var i,s=(i-1)*t,o=Math.floor(s),a=yk(qoe(e,o).subarray(0,o+1));return a+(wk(e.subarray(o+1))-a)*(s-o)}}(e,.5,t)},mean:function GVe(e,t){let r=0,i=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(++r,i+=s);else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(o=+o)>=o&&(++r,i+=o)}if(r)return i/r},min:wk,max:yk},d$e=[];function Uk(e){Ut.call(this,[],e)}function Lk(e){o1.call(this,e)}function Qk(e){Ut.call(this,null,e)}function uae(e){go.call(this,null,m$e,e)}function m$e(e){return this.value&&!e.modified()?this.value:eR(e.fields,e.flat)}function cae(e){Ut.call(this,[],e),this._pending=null}function Hk(e,t,r){r.forEach(Qs);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=r,e._pending=null,i.rem.length&&i.clean(!0),i}function Vk(e){Ut.call(this,{},e)}function fae(e){go.call(this,null,_$e,e)}function _$e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,r=t.length;let o,a,i=1/0,s=-1/0;for(o=0;o<r;++o)a=t[o],a[0]<i&&(i=a[0]),a[1]>s&&(s=a[1]);return[i,s]}function Aae(e){go.call(this,null,y$e,e)}function y$e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,r)=>t.concat(r),[])}function dae(e){Ut.call(this,null,e)}function $k(e){o1.call(this,e)}function hae(e){OC.call(this,e)}function Gk(e){Ut.call(this,null,e)}function pae(e){Ut.call(this,null,e)}function zk(e){Ut.call(this,null,e)}function gae(e){Ut.call(this,null,e)}function qk(e){Ut.call(this,[],e),this.count=0}function jk(e){Ut.call(this,null,e)}function mae(e){Ut.call(this,null,e),this.modified(!0)}function Kk(e){Ut.call(this,null,e)}Uk.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Gn(Uk,Ut,{transform(e,t){var d,h,g,m,v,_,C,D,T,I,r=t.fork(t.ALL),i=function h$e(e){var r,t=e.method||RC.value;if(null!=RC[t])return t===RC.value?(r=void 0!==e.value?e.value:0,()=>r):RC[t];Yt("Unrecognized imputation method: "+t)}(e),s=function p$e(e){const t=e.field;return r=>r?t(r):NaN}(e),o=fa(e.field),a=fa(e.key),l=(e.groupby||[]).map(fa),u=function g$e(e,t,r,i){var c,f,A,d,h,g,m,v,s=_=>_(v),o=[],a=i?i.slice():[],l={},u={};for(a.forEach((_,C)=>l[_]=C+1),d=0,m=e.length;d<m;++d)g=r(v=e[d]),h=l[g]||(l[g]=a.push(g)),(A=u[f=(c=t?t.map(s):d$e)+""])||(A=u[f]=[],o.push(A),A.values=c),A[h-1]=v;return o.domain=a,o}(t.source,e.groupby,e.key,e.keyvals),c=[],f=this.value,A=u.domain.length;for(v=0,D=u.length;v<D;++v)for(g=(d=u[v]).values,h=NaN,C=0;C<A;++C)if(null==d[C]){for(m=u.domain[C],I={_impute:!0},_=0,T=g.length;_<T;++_)I[l[_]]=g[_];I[a]=m,I[o]=Number.isNaN(h)?h=i(d,s):h,c.push(Qs(I))}return c.length&&(r.add=r.materialize(r.ADD).add.concat(c)),f.length&&(r.rem=r.materialize(r.REM).rem.concat(f)),this.value=c,r}}),Lk.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:K6},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Gn(Lk,o1,{transform(e,t){const r=this,i=e.modified();let s;return r.value&&(i||t.modified(r._inputs,!0))?(s=r.value=i?r.init(e):{},t.visit(t.SOURCE,o=>r.add(o))):(s=r.value=r.value||this.init(e),t.visit(t.REM,o=>r.rem(o)),t.visit(t.ADD,o=>r.add(o))),r.changes(),t.visit(t.SOURCE,o=>{Oi(o,s[r.cellkey(o)].tuple)}),t.reflow(i).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let r,i;for(r=0,i=this._alen;r<i;++r)this.celltuple(e[r]),e[r]=null;for(r=0,i=this._mlen;r<i;++r)this.celltuple(t[r]),t[r]=null;this._alen=this._mlen=0}}),Qk.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Gn(Qk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,s=Mk(i,e.groupby,e.field),o=(e.groupby||[]).map(fa),a=e.bandwidth,l=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[];let f=e.extent,A=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Yt("Invalid density method: "+l),"shared"===e.resolve&&(f||(f=Xd(i,e.field)),A=d=e.steps||d),s.forEach(h=>{const g=lk(h,a)[l],m=e.counts?h.length:1;IC(g,f||Xd(h),A,d).forEach(_=>{const C={};for(let D=0;D<o.length;++D)C[o[D]]=h.dims[D];C[u[0]]=_[0],C[u[1]]=_[1]*m,c.push(Qs(C))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=c}return r}}),Gn(uae,go),Gn(cae,Ut,{transform(e,t){const r=t.dataflow;return this._pending?Hk(this,t,this._pending):function v$e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?Hk(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then(s=>(this._pending=ar(s.data),o=>o.touch(this)))}:r.request(e.url,e.format).then(i=>Hk(this,t,ar(i.data)))}}),Vk.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Gn(Vk,Ut,{transform(e,t){const r=e.fields,i=e.index,s=e.values,o=e.default??null,a=e.modified(),l=r.length;let A,d,h,u=a?t.SOURCE:t.ADD,c=t,f=e.as;return s?(d=s.length,l>1&&!f&&Yt('Multi-field lookup requires explicit "as" parameter.'),f&&f.length!==l*d&&Yt('The "as" parameter has too few output field names.'),f=f||s.map(fa),A=function(g){for(var _,C,m=0,v=0;m<l;++m)if(null==(C=i.get(r[m](g))))for(_=0;_<d;++_,++v)g[f[v]]=o;else for(_=0;_<d;++_,++v)g[f[v]]=s[_](C)}):(f||Yt("Missing output field names."),A=function(g){for(var v,m=0;m<l;++m)v=i.get(r[m](g)),g[f[m]]=v??o}),a?c=t.reflow(!0):(h=r.some(g=>t.modified(g.fields)),u|=h?t.MOD:0),t.visit(u,A),c.modifies(f)}}),Gn(fae,go),Gn(Aae,go),Gn(dae,Ut,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),$k.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:K6,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Gn($k,o1,{_transform:o1.prototype.transform,transform(e,t){return this._transform(function w$e(e,t){const r=e.field,i=e.value,s=("count"===e.op?"__count__":e.op)||"sum",o=Jl(r).concat(Jl(i)),a=function C$e(e,t,r){const i={},s=[];return r.visit(r.SOURCE,o=>{const a=e(o);i[a]||(i[a]=1,s.push(a))}),s.sort(B3),t?s.slice(0,t):s}(r,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>s),fields:a.map(l=>function b$e(e,t,r,i){return oc(s=>t(s)===e?r(s):NaN,i,e+"")}(l,r,i,o)),as:a.map(l=>l+""),modified:e.modified.bind(e)}}(e,t),t)}}),Gn(hae,OC,{transform(e,t){const r=e.subflow,i=e.field,s=o=>this.subflow(jr(o),r,t,o);return(e.modified("field")||i&&t.modified(Jl(i)))&&Yt("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,o=>{const a=s(o);i(o).forEach(l=>a.mod(l))}),t.visit(t.ADD,o=>{const a=s(o);i(o).forEach(l=>a.add(Qs(l)))}),t.visit(t.REM,o=>{const a=s(o);i(o).forEach(l=>a.rem(l))})):(t.visit(t.MOD,o=>s(o).mod(o)),t.visit(t.ADD,o=>s(o).add(o)),t.visit(t.REM,o=>s(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}}),Gk.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Gn(Gk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE),i=e.fields,s=iae(e.fields,e.as||[]),o=i?(l,u)=>function E$e(e,t,r,i){for(let s=0,o=r.length;s<o;++s)t[i[s]]=r[s](e);return t}(l,u,i,s):yC;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,l=>{const u=jr(l);r.rem.push(a[u]),a[u]=null}),t.visit(t.ADD,l=>{const u=o(l,Qs({}));a[jr(l)]=u,r.add.push(u)}),t.visit(t.MOD,l=>{r.mod.push(o(l,a[jr(l)]))}),r}}),Gn(pae,Ut,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),zk.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},Gn(zk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return r.source=this.value,r;const o=Mk(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(fa),l=[],u=e.step||.01,c=e.probs||joe(u/2,1-1e-14,u),f=c.length;return o.forEach(A=>{const d=rk(A,c);for(let h=0;h<f;++h){const g={};for(let m=0;m<a.length;++m)g[a[m]]=A.dims[m];g[i[0]]=c[h],g[i[1]]=d[h],l.push(Qs(g))}}),this.value&&(r.rem=this.value),this.value=r.add=r.source=l,r}}),Gn(gae,Ut,{transform(e,t){let r,i;return this.value?i=this.value:(r=t=t.addAll(),i=this.value={}),e.derive&&(r=t.fork(t.NO_SOURCE),t.visit(t.REM,s=>{const o=jr(s);r.rem.push(i[o]),i[o]=null}),t.visit(t.ADD,s=>{const o=KR(s);i[jr(s)]=o,r.add.push(o)}),t.visit(t.MOD,s=>{const o=i[jr(s)];for(const a in s)o[a]=s[a],r.modifies(a);r.mod.push(o)})),r}}),qk.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Gn(qk,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE),i=e.modified("size"),s=e.size,o=this.value.reduce((f,A)=>(f[jr(A)]=1,f),{});let a=this.value,l=this.count,u=0;function c(f){let A,d;a.length<s?a.push(f):(d=~~((l+1)*Qf()),d<a.length&&d>=u&&(A=a[d],o[jr(A)]&&r.rem.push(A),a[d]=f)),++l}if(t.rem.length&&(t.visit(t.REM,f=>{const A=jr(f);o[A]&&(o[A]=-1,r.rem.push(f)),--l}),a=a.filter(f=>-1!==o[jr(f)])),(t.rem.length||i)&&a.length<s&&t.source&&(u=l=a.length,t.visit(t.SOURCE,f=>{o[jr(f)]||c(f)}),u=-1),i&&a.length>s){const f=a.length-s;for(let A=0;A<f;++A)o[jr(a[A])]=-1,r.rem.push(a[A]);a=a.slice(f)}return t.mod.length&&t.visit(t.MOD,f=>{o[jr(f)]&&r.mod.push(f)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(r.add=a.filter(f=>!o[jr(f)])),this.count=l,this.value=r.source=a,r}}),jk.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Gn(jk,Ut,{transform(e,t){if(this.value&&!e.modified())return;const r=t.materialize().fork(t.MOD),i=e.as||"data";return r.rem=this.value?t.rem.concat(this.value):t.rem,this.value=joe(e.start,e.stop,e.step||1).map(s=>{const o={};return o[i]=s,Qs(o)}),r.add=t.add.concat(this.value),r}}),Gn(mae,Ut,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const vae=["unit0","unit1"];function _ae(e){Ut.call(this,x3(),e)}function yae(e){Ut.call(this,null,e)}Kk.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:vR,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:vae}]},Gn(Kk,Ut,{transform(e,t){const r=e.field,i=!1!==e.interval,s="utc"===e.timezone,o=this._floor(e,t),a=(s?I3:T3)(o.unit).offset,l=e.as||vae,u=l[0],c=l[1],f=o.step;let A=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Jl(r)))&&(h=(t=t.reflow(!0)).SOURCE,A=1/0,d=-1/0),t.visit(h,g=>{const m=r(g);let v,_;null==m?(g[u]=null,i&&(g[c]=null)):(g[u]=v=_=o(m),i&&(g[c]=_=a(v,f)),v<A&&(A=v),_>d&&(d=_))}),o.start=A,o.stop=d,t.modifies(i?l:u)},_floor(e,t){const r="utc"===e.timezone,{units:i,step:s}=e.units?{units:e.units,step:e.step||1}:xse({extent:e.extent||Xd(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=yR(i),a=this.value||{},l=(r?gse:pse)(o,s);return l.unit=ds(o),l.units=o,l.step=s,l.start=a.start,l.stop=a.stop,this.value=l}}),Gn(_ae,Ut,{transform(e,t){const r=t.dataflow,i=e.field,s=this.value,o=l=>s.set(i(l),l);let a=!0;return e.modified("field")||t.modified(i.fields)?(s.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,l=>s.delete(i(l))),t.visit(t.ADD,o)):a=!1,this.modified(a),s.empty>r.cleanThreshold&&r.runAfter(s.clean),t.fork()}}),Gn(yae,Ut,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(lm(e.sort)):t.source).map(e.field))}});const W6={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const r=t.index,i=t.data;return r&&t.compare(i[r-1],i[r])?e=r+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const r=t.index,i=t.data;return r&&t.compare(i[r-1],i[r])?++e:e}}},percent_rank:function(){const e=W6.rank(),t=e.next;return{init:e.init,next:r=>(t(r)-1)/(r.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const r=t.data,i=t.compare;let s=t.index;if(e<s){for(;s+1<r.length&&!i(r[s],r[s+1]);)++s;e=s}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Yt("ntile num must be greater than zero.");const r=W6.cume_dist(),i=r.next;return{init:r.init,next:s=>Math.ceil(t*i(s))}},lag:function(e,t){return t=+t||1,{next:r=>{const i=r.index-t;return i>=0?e(r.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:r=>{const i=r.index+t,s=r.data;return i<s.length?e(s[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Yt("nth_value nth must be greater than zero."),{next:r=>{const i=r.i0+(t-1);return i<r.i1?e(r.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:r=>{const i=e(r.data[r.index]);return null!=i?t=i:t}}},next_value:function(e){let t,r;return{init:()=>(t=null,r=-1),next:i=>{const s=i.data;return i.index<=r?t:(r=function x$e(e,t,r){for(let i=t.length;r<i;++r)if(null!=e(t[r]))return r;return-1}(e,s,i.index))<0?(r=s.length,t=null):t=e(s[r])}}}},D$e=Object.keys(W6);function wae(e){const t=ar(e.ops),r=ar(e.fields),i=ar(e.params),s=ar(e.aggregate_params),o=ar(e.as),a=this.outputs=[],l=this.windows=[],u={},c={},f=[],A=[];let d=!0;function h(g){ar(Jl(g)).forEach(m=>u[m]=1)}h(e.sort),t.forEach((g,m)=>{const v=r[m],_=i[m],C=s[m]||null,D=fa(v),T=Koe(g,D,o[m]);if(h(v),a.push(T),pr(W6,g))l.push(function B$e(e,t,r,i){const s=W6[e](t,r);return{init:s.init||Xp,update:function(o,a){a[i]=s.next(o)}}}(g,v,_,T));else{if(null==v&&"count"!==g&&Yt("Null aggregate field specified."),"count"===g)return void f.push(T);d=!1;let I=c[D];I||(I=c[D]=[],I.field=v,A.push(I)),I.push(Woe(g,C,T))}}),(f.length||A.length)&&(this.cell=function F$e(e,t,r){e=e.map(u=>Xoe(u,u.field));const i={num:0,agg:null,store:!1,count:t};if(!r)for(var s=e.length,o=i.agg=Array(s),a=0;a<s;++a)o[a]=new e[a](i);if(i.store)var l=i.data=new Ek;return i.add=function(u){if(i.num+=1,!r){l&&l.add(u);for(let c=0;c<s;++c)o[c].add(o[c].get(u),u)}},i.rem=function(u){if(i.num-=1,!r){l&&l.rem(u);for(let c=0;c<s;++c)o[c].rem(o[c].get(u),u)}},i.set=function(u){let c,f;for(l&&l.values(),c=0,f=t.length;c<f;++c)u[t[c]]=i.num;if(!r)for(c=0,f=o.length;c<f;++c)o[c].set(u)},i.init=function(){i.num=0,l&&l.reset();for(let u=0;u<s;++u)o[u].init()},i}(A,f,d)),this.inputs=Object.keys(u)}const bae=wae.prototype;function Wk(e){Ut.call(this,{},e),this._mlen=0,this._mods=[]}function M$e(e,t,r,i){const s=i.sort,o=s&&!i.ignorePeers,a=i.frame||[null,0],l=e.data(r),u=l.length,c=o?function qVe(e){let t,r,i;function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<0?c=A+1:f=A}while(c<f)}return c}return 2!==e.length?(t=z6,r=(l,u)=>z6(e(l),u),i=(l,u)=>e(l)-u):(t=e===z6||e===zVe?e:jVe,r=e,i=e),{left:s,center:function a(l,u,c=0,f=l.length){const A=s(l,u,c,f-1);return A>c&&i(l[A-1],u)>-i(l[A],u)?A-1:A},right:function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<=0?c=A+1:f=A}while(c<f)}return c}}}(s):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:s||tu(-1)};t.init();for(let A=0;A<u;++A)T$e(f,a,A,u),o&&I$e(f,c),t.update(f,l[A])}function T$e(e,t,r,i){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,r-Math.abs(t[0])),e.i1=null==t[1]?i:Math.min(i,r+Math.abs(t[1])+1),e.index=r}function I$e(e,t){const r=e.i0,i=e.i1-1,s=e.compare,o=e.data,a=o.length-1;r>0&&!s(o[r],o[r-1])&&(e.i0=t.left(o,o[r])),i<a&&!s(o[i],o[i+1])&&(e.i1=t.right(o,o[i]))}function kC(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PC(e){this._context=e}function a1(){}function Cae(e){this._context=e}function Eae(e){this._context=e}function Sae(e,t){this._basis=new PC(e),this._beta=t}bae.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},bae.update=function(e,t){const r=this.cell,i=this.windows,s=e.data,o=i&&i.length;let a;if(r){for(a=e.p0;a<e.i0;++a)r.rem(s[a]);for(a=e.p1;a<e.i1;++a)r.add(s[a]);r.set(t)}for(a=0;a<o;++a)i[a].update(e,t)},Wk.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:D$e.concat(K6)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Gn(Wk,Ut,{transform(e,t){this.stamp=t.stamp;const r=e.modified(),i=lm(e.sort),s=bk(e.groupby),o=l=>this.group(s(l));let a=this.state;(!a||r)&&(a=this.state=new wae(e)),r||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,l=>o(l).add(l))):(t.visit(t.REM,l=>o(l).remove(l)),t.visit(t.ADD,l=>o(l).add(l)));for(let l=0,u=this._mlen;l<u;++l)M$e(this._mods[l],a,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Joe(jr),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),PC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Cae.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Eae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:kC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sae.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var u,i=e[0],s=t[0],o=e[r]-i,a=t[r]-s,l=-1;++l<=r;)this._basis.point(this._beta*e[l]+(1-this._beta)*(i+(u=l/r)*o),this._beta*t[l]+(1-this._beta)*(s+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const k$e=function e(t){function r(i){return 1===t?new PC(i):new Sae(i,t)}return r.beta=function(i){return e(+i)},r}(.85);function UC(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Yk(e,t){this._context=e,this._k=(1-t)/6}Yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:UC(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:UC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const P$e=function e(t){function r(i){return new Yk(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Xk(e,t){this._context=e,this._k=(1-t)/6}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:UC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const U$e=function e(t){function r(i){return new Xk(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Jk(e,t){this._context=e,this._k=(1-t)/6}Jk.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:UC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const L$e=function e(t){function r(i){return new Jk(i,t)}return r.tension=function(i){return e(+i)},r}(0),Bae=Math.abs,iu=Math.atan2,b0=Math.cos,Q$e=Math.max,Q3=Math.min,cc=Math.sin,To=Math.sqrt,su=1e-12,l1=Math.PI,LC=l1/2,Y6=2*l1;function H$e(e){return e>1?0:e<-1?l1:Math.acos(e)}function xae(e){return e>=1?LC:e<=-1?-LC:Math.asin(e)}function Zk(e,t,r){var i=e._x1,s=e._y1,o=e._x2,a=e._y2;if(e._l01_a>su){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,s=(s*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>su){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/f,a=(a*c+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(i,s,o,a,e._x2,e._y2)}function Dae(e,t){this._context=e,this._alpha=t}Dae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V$e=function e(t){function r(i){return t?new Dae(i,t):new Yk(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function Fae(e,t){this._context=e,this._alpha=t}Fae.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $$e=function e(t){function r(i){return t?new Fae(i,t):new Jk(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function Mae(e,t){this._context=e,this._alpha=t}Mae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zk(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const G$e=function e(t){function r(i){return t?new Mae(i,t):new Xk(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function Tae(e){this._context=e}function eP(e){return new Tae(e)}function Iae(e){this._context=e}function Nae(e){return e<0?-1:1}function Oae(e,t,r){var i=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(i||s<0&&-0),a=(r-e._y1)/(s||i<0&&-0),l=(o*s+a*i)/(i+s);return(Nae(o)+Nae(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function Rae(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tP(e,t,r){var i=e._x0,o=e._x1,a=e._y1,l=(o-i)/3;e._context.bezierCurveTo(i+l,e._y0+l*t,o-l,a-l*r,o,a)}function QC(e){this._context=e}function kae(e){this._context=new Pae(e)}function Pae(e){this._context=e}function Uae(e){this._context=e}function Lae(e){var t,i,r=e.length-1,s=new Array(r),o=new Array(r),a=new Array(r);for(s[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)o[t]-=i=s[t]/o[t-1],a[t]-=i*a[t-1];for(s[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(a[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function HC(e,t){this._context=e,this._t=t}function Gs(e){return function(){return e}}Tae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Iae.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tP(this,this._t0,Rae(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tP(this,Rae(this,r=Oae(this,e,t)),r);break;default:tP(this,this._t0,r=Oae(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(kae.prototype=Object.create(QC.prototype)).point=function(e,t){QC.prototype.point.call(this,t,e)},Pae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,s,o){this._context.bezierCurveTo(t,e,i,r,o,s)}},Uae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var i=Lae(e),s=Lae(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],e[a],t[a]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},HC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const nP=Math.PI,rP=2*nP,cm=1e-6,J$e=rP-cm;function Qae(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class VC{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Qae:function Z$e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qae;const r=10**t;return function(i){this._+=i[0];for(let s=1,o=i.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+i[s]}}(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,s){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,r,i,s,o,a){this._append`C${+t},${+r},${+i},${+s},${this._x1=+o},${this._y1=+a}`}arcTo(t,r,i,s,o){if(t=+t,r=+r,i=+i,s=+s,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,u=i-t,c=s-r,f=a-t,A=l-r,d=f*f+A*A;if(null===this._x1)this._append`M${this._x1=t},${this._y1=r}`;else if(d>cm)if(Math.abs(A*u-c*f)>cm&&o){let h=i-a,g=s-l,m=u*u+c*c,v=h*h+g*g,_=Math.sqrt(m),C=Math.sqrt(d),D=o*Math.tan((nP-Math.acos((m+d-v)/(2*_*C)))/2),T=D/C,I=D/_;Math.abs(T-1)>cm&&this._append`L${t+T*f},${r+T*A}`,this._append`A${o},${o},0,0,${+(A*h>f*g)},${this._x1=t+I*u},${this._y1=r+I*c}`}else this._append`L${this._x1=t},${this._y1=r}`}arc(t,r,i,s,o,a){if(t=+t,r=+r,a=!!a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),u=i*Math.sin(s),c=t+l,f=r+u,A=1^a,d=a?s-o:o-s;null===this._x1?this._append`M${c},${f}`:(Math.abs(this._x1-c)>cm||Math.abs(this._y1-f)>cm)&&this._append`L${c},${f}`,i&&(d<0&&(d=d%rP+rP),d>J$e?this._append`A${i},${i},0,1,${A},${t-l},${r-u}A${i},${i},0,1,${A},${this._x1=c},${this._y1=f}`:d>cm&&this._append`A${i},${i},0,${+(d>=nP)},${A},${this._x1=t+i*Math.cos(o)},${this._y1=r+i*Math.sin(o)}`)}rect(t,r,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function $C(){return new VC}function GC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new VC(t)}function eGe(e){return e.innerRadius}function tGe(e){return e.outerRadius}function nGe(e){return e.startAngle}function rGe(e){return e.endAngle}function iGe(e){return e&&e.padAngle}function sGe(e,t,r,i,s,o,a,l){var u=r-e,c=i-t,f=a-s,A=l-o,d=A*u-f*c;if(!(d*d<su))return[e+(d=(f*(t-o)-A*(e-s))/d)*u,t+d*c]}function zC(e,t,r,i,s,o,a){var l=e-r,u=t-i,c=(a?o:-o)/To(l*l+u*u),f=c*u,A=-c*l,d=e+f,h=t+A,g=r+f,m=i+A,v=(d+g)/2,_=(h+m)/2,C=g-d,D=m-h,T=C*C+D*D,I=s-o,V=d*m-g*h,R=(D<0?-1:1)*To(Q$e(0,I*I*T-V*V)),K=(V*D-C*R)/T,ne=(-V*C-D*R)/T,Ae=(V*D+C*R)/T,ae=(-V*C+D*R)/T,Be=K-v,Ce=ne-_,U=Ae-v,Q=ae-_;return Be*Be+Ce*Ce>U*U+Q*Q&&(K=Ae,ne=ae),{cx:K,cy:ne,x01:-f,y01:-A,x11:K*(s/I-1),y11:ne*(s/I-1)}}function Hae(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Vae(e){return e[0]}function $ae(e){return e[1]}function Gae(e,t){var r=Gs(!0),i=null,s=eP,o=null,a=GC(l);function l(u){var c,A,h,f=(u=Hae(u)).length,d=!1;for(null==i&&(o=s(h=a())),c=0;c<=f;++c)!(c<f&&r(A=u[c],c,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(A,c,u),+t(A,c,u));if(h)return o=null,h+""||null}return e="function"==typeof e?e:void 0===e?Vae:Gs(e),t="function"==typeof t?t:void 0===t?$ae:Gs(t),l.x=function(u){return arguments.length?(e="function"==typeof u?u:Gs(+u),l):e},l.y=function(u){return arguments.length?(t="function"==typeof u?u:Gs(+u),l):t},l.defined=function(u){return arguments.length?(r="function"==typeof u?u:Gs(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,null!=i&&(o=s(i)),l):s},l.context=function(u){return arguments.length?(null==u?i=o=null:o=s(i=u),l):i},l}function zae(e,t,r){var i=null,s=Gs(!0),o=null,a=eP,l=null,u=GC(c);function c(A){var d,h,g,v,C,m=(A=Hae(A)).length,_=!1,D=new Array(m),T=new Array(m);for(null==o&&(l=a(C=u())),d=0;d<=m;++d){if(!(d<m&&s(v=A[d],d,A))===_)if(_=!_)h=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=d-1;g>=h;--g)l.point(D[g],T[g]);l.lineEnd(),l.areaEnd()}_&&(D[d]=+e(v,d,A),T[d]=+t(v,d,A),l.point(i?+i(v,d,A):D[d],r?+r(v,d,A):T[d]))}if(C)return l=null,C+""||null}function f(){return Gae().defined(s).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Vae:Gs(+e),t="function"==typeof t?t:Gs(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?$ae:Gs(+r),c.x=function(A){return arguments.length?(e="function"==typeof A?A:Gs(+A),i=null,c):e},c.x0=function(A){return arguments.length?(e="function"==typeof A?A:Gs(+A),c):e},c.x1=function(A){return arguments.length?(i=null==A?null:"function"==typeof A?A:Gs(+A),c):i},c.y=function(A){return arguments.length?(t="function"==typeof A?A:Gs(+A),r=null,c):t},c.y0=function(A){return arguments.length?(t="function"==typeof A?A:Gs(+A),c):t},c.y1=function(A){return arguments.length?(r=null==A?null:"function"==typeof A?A:Gs(+A),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(i).y(t)},c.defined=function(A){return arguments.length?(s="function"==typeof A?A:Gs(!!A),c):s},c.curve=function(A){return arguments.length?(a=A,null!=o&&(l=a(o)),c):a},c.context=function(A){return arguments.length?(null==A?o=l=null:l=a(o=A),c):o},c}$C.prototype=VC.prototype,To(3);const iP={draw(e,t){const r=To(t/l1);e.moveTo(r,0),e.arc(0,0,r,0,Y6)}};To(1/3),cc(l1/10),cc(7*l1/10);function u1(e,t){if("undefined"!=typeof document&&document.createElement){const r=document.createElement("canvas");if(r&&r.getContext)return r.width=e,r.height=t,r}return null}function X6(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FGe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kae(e){let t,r,i;function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<0?c=A+1:f=A}while(c<f)}return c}return 2!==e.length?(t=X6,r=(l,u)=>X6(e(l),u),i=(l,u)=>e(l)-u):(t=e===X6||e===FGe?e:MGe,r=e,i=e),{left:s,center:function a(l,u,c=0,f=l.length){const A=s(l,u,c,f-1);return A>c&&i(l[A-1],u)>-i(l[A],u)?A-1:A},right:function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<=0?c=A+1:f=A}while(c<f)}return c}}}function MGe(){return 0}function Wae(e){return null===e?NaN:+e}cc(Y6/10),b0(Y6/10),To(3),To(3),To(3),To(12);const aP=Kae(X6).right,J6=(Kae(Wae),aP),TGe=Math.sqrt(50),IGe=Math.sqrt(10),NGe=Math.sqrt(2);function qC(e,t,r){const i=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=TGe?10:o>=IGe?5:o>=NGe?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?qC(e,t,2*r):[l,u,c]}function lP(e,t,r){if(!((r=+r)>0))return[];if((e=+e)==(t=+t))return[e];const i=t<e,[s,o,a]=i?qC(t,e,r):qC(e,t,r);if(!(o>=s))return[];const l=o-s+1,u=new Array(l);if(i)if(a<0)for(let c=0;c<l;++c)u[c]=(o-c)/-a;else for(let c=0;c<l;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<l;++c)u[c]=(s+c)/-a;else for(let c=0;c<l;++c)u[c]=(s+c)*a;return u}function uP(e,t,r){return qC(e=+e,t=+t,r=+r)[2]}function Xae(e,t,r,i,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*i+a*s)/6}function Jae(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[i],o=e[i+1];return Xae((r-i/t)*t,i>0?e[i-1]:2*s-o,s,o,i<t-1?e[i+2]:2*o-s)}}function Zae(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t);return Xae((r-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}const jC=e=>()=>e;function ele(e,t){return function(r){return e+r*t}}function KC(e,t){var r=t-e;return r?ele(e,r>180||r<-180?r-360*Math.round(r/360):r):jC(isNaN(e)?t:e)}function fl(e,t){var r=t-e;return r?ele(e,r):jC(isNaN(e)?t:e)}const cP=function e(t){var r=function kGe(e){return 1==(e=+e)?fl:function(t,r){return r-t?function RGe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}(t,r,e):jC(isNaN(t)?r:t)}}(t);function i(s,o){var a=r((s=xA(s)).r,(o=xA(o)).r),l=r(s.g,o.g),u=r(s.b,o.b),c=fl(s.opacity,o.opacity);return function(f){return s.r=a(f),s.g=l(f),s.b=u(f),s.opacity=c(f),s+""}}return i.gamma=e,i}(1);function tle(e){return function(t){var a,l,r=t.length,i=new Array(r),s=new Array(r),o=new Array(r);for(a=0;a<r;++a)l=xA(t[a]),i[a]=l.r||0,s[a]=l.g||0,o[a]=l.b||0;return i=e(i),s=e(s),o=e(o),l.opacity=1,function(u){return l.r=i(u),l.g=s(u),l.b=o(u),l+""}}}var PGe=tle(Jae),UGe=tle(Zae);function fP(e,t){t||(t=[]);var s,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(s=0;s<r;++s)i[s]=e[s]*(1-o)+t[s]*o;return i}}function nle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LGe(e,t){return(nle(t)?fP:rle)(e,t)}function rle(e,t){var a,r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),o=new Array(r);for(a=0;a<i;++a)s[a]=fm(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function ile(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function IA(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sle(e,t){var s,r={},i={};for(s in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)s in e?r[s]=fm(e[s],t[s]):i[s]=t[s];return function(o){for(s in r)i[s]=r[s](o);return i}}var AP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dP=new RegExp(AP.source,"g");function ole(e,t){var i,s,o,r=AP.lastIndex=dP.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(i=AP.exec(e))&&(s=dP.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,u.push({i:a,x:IA(i,s)})),r=dP.lastIndex;return r<t.length&&(o=t.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function HGe(e){return function(t){return e(t)+""}}(u[0].x):function QGe(e){return function(){return e}}(t):(t=u.length,function(c){for(var A,f=0;f<t;++f)l[(A=u[f]).i]=A.x(c);return l.join("")})}function fm(e,t){var i,r=typeof t;return null==t||"boolean"===r?jC(t):("number"===r?IA:"string"===r?(i=p0(t))?(t=i,cP):ole:t instanceof p0?cP:t instanceof Date?ile:nle(t)?fP:Array.isArray(t)?rle:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?sle:IA)(e,t)}function WC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hP(e){return+e}var ale=[0,1];function fc(e){return e}function pP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function VGe(e){return function(){return e}}(isNaN(t)?NaN:.5)}function GGe(e,t,r){var i=e[0],s=e[1],o=t[0],a=t[1];return s<i?(i=pP(s,i),o=r(a,o)):(i=pP(i,s),o=r(o,a)),function(l){return o(i(l))}}function zGe(e,t,r){var i=Math.min(e.length,t.length)-1,s=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)s[a]=pP(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(l){var u=J6(e,l,1,i)-1;return o[u](s[u](l))}}function Z6(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YC(){var i,s,o,l,u,c,e=ale,t=ale,r=fm,a=fc;function f(){var d=Math.min(e.length,t.length);return a!==fc&&(a=function $Ge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}(e[0],e[d-1])),l=d>2?zGe:GGe,u=c=null,A}function A(d){return null==d||isNaN(d=+d)?o:(u||(u=l(e.map(i),t,r)))(i(a(d)))}return A.invert=function(d){return a(s((c||(c=l(t,e.map(i),IA)))(d)))},A.domain=function(d){return arguments.length?(e=Array.from(d,hP),f()):e.slice()},A.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},A.rangeRound=function(d){return t=Array.from(d),r=WC,f()},A.clamp=function(d){return arguments.length?(a=!!d||fc,f()):a!==fc},A.interpolate=function(d){return arguments.length?(r=d,f()):r},A.unknown=function(d){return arguments.length?(o=d,A):o},function(d,h){return i=d,s=h,f()}}function lle(){return YC()(fc,fc)}function eh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function c1(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}var ule,qGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e_(e){if(!(t=qGe.exec(e)))throw new Error("invalid format: "+e);var t;return new gP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function gP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function XC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function H3(e){return(e=XC(Math.abs(e)))?e[1]:NaN}function cle(e,t){var r=XC(e,t);if(!r)return e+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}e_.prototype=gP.prototype,gP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const fle={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function jGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cle(100*e,t),r:cle,s:function JGe(e,t){var r=XC(e,t);if(!r)return e+"";var i=r[0],s=r[1],o=s-(ule=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+XC(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ale(e){return e}var JC,mP,ple,dle=Array.prototype.map,hle=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function gle(e,t,r,i){var o,s=function OGe(e,t,r){r=+r;const i=(t=+t)<(e=+e),s=i?uP(t,e,r):uP(e,t,r);return(i?-1:1)*(s<0?1/-s:s)}(e,t,r);switch((i=e_(i??",f")).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null==i.precision&&!isNaN(o=function KGe(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(H3(t)/3)))-H3(Math.abs(e)))}(s,a))&&(i.precision=o),ple(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function tze(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,H3(t)-H3(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function nze(e){return Math.max(0,-H3(Math.abs(e)))}(s))&&(i.precision=o-2*("%"===i.type))}return mP(i)}function Am(e){var t=e.domain;return e.ticks=function(r){var i=t();return lP(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var s=t();return gle(s[0],s[s.length-1],r??10,i)},e.nice=function(r){null==r&&(r=10);var u,c,i=t(),s=0,o=i.length-1,a=i[s],l=i[o],f=10;for(l<a&&(c=a,a=l,l=c,c=s,s=o,o=c);f-- >0;){if((c=uP(a,l,r))===u)return i[s]=a,i[o]=l,t(i);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c}u=c}return e},e}function _le(e,t){var a,r=0,i=(e=e.slice()).length-1,s=e[r],o=e[i];return o<s&&(a=r,r=i,i=a,a=s,s=o,o=a),e[r]=t.floor(s),e[i]=t.ceil(o),e}function yle(e){return Math.log(e)}function wle(e){return Math.exp(e)}function rze(e){return-Math.log(-e)}function ize(e){return-Math.exp(-e)}function sze(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ble(e){return(t,r)=>-e(-t,r)}function vP(e){const t=e(yle,wle),r=t.domain;let s,o,i=10;function a(){return s=function aze(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function oze(e){return 10===e?sze:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(s=ble(s),o=ble(o),e(rze,ize)):e(yle,wle),t}return t.base=function(l){return arguments.length?(i=+l,a()):i},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const u=r();let c=u[0],f=u[u.length-1];const A=f<c;A&&([c,f]=[f,c]);let g,m,d=s(c),h=s(f);const v=null==l?10:+l;let _=[];if(!(i%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(g=1;g<i;++g)if(m=d<0?g/o(-d):g*o(d),!(m<c)){if(m>f)break;_.push(m)}}else for(;d<=h;++d)for(g=i-1;g>=1;--g)if(m=d>0?g/o(-d):g*o(d),!(m<c)){if(m>f)break;_.push(m)}2*_.length<v&&(_=lP(c,f,v))}else _=lP(d,h,Math.min(h-d,v)).map(o);return A?_.reverse():_},t.tickFormat=(l,u)=>{if(null==l&&(l=10),null==u&&(u=10===i?"s":","),"function"!=typeof u&&(!(i%1)&&null==(u=e_(u)).precision&&(u.trim=!0),u=mP(u)),l===1/0)return u;const c=Math.max(1,i*l/t.ticks().length);return f=>{let A=f/o(Math.round(s(f)));return A*i<i-.5&&(A*=i),A<=c?u(f):""}},t.nice=()=>r(_le(r(),{floor:l=>o(Math.floor(s(l))),ceil:l=>o(Math.ceil(s(l)))})),t}function Ele(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lze(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uze(e){return e<0?-e*e:e*e}function _P(e){var t=e(fc,fc),r=1;function i(){return 1===r?e(fc,fc):.5===r?e(lze,uze):e(Ele(r),Ele(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,i()):r},Am(t)}function yP(){var e=_P(YC());return e.copy=function(){return Z6(e,yP()).exponent(e.exponent())},eh.apply(e,arguments),e}function Sle(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ble(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wP(e){var t=1,r=e(Sle(t),Ble(t));return r.constant=function(i){return arguments.length?e(Sle(t=+i),Ble(t)):t},Am(r)}!function eze(e){JC=function ZGe(e){var t=void 0===e.grouping||void 0===e.thousands?Ale:function WGe(e,t){return function(r,i){for(var s=r.length,o=[],a=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),o.push(r.substring(s-=l,s+l)),!((u+=l+1)>i));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}(dle.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Ale:function YGe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}(dle.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(A){var d=(A=e_(A)).fill,h=A.align,g=A.sign,m=A.symbol,v=A.zero,_=A.width,C=A.comma,D=A.precision,T=A.trim,I=A.type;"n"===I?(C=!0,I="g"):fle[I]||(void 0===D&&(D=12),T=!0,I="g"),(v||"0"===d&&"="===h)&&(v=!0,d="0",h="=");var V="$"===m?r:"#"===m&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",R="$"===m?i:/[%p]/.test(I)?a:"",K=fle[I],ne=/[defgprs%]/.test(I);function Ae(ae){var U,Q,z,Be=V,Ce=R;if("c"===I)Ce=K(ae)+Ce,ae="";else{var oe=(ae=+ae)<0||1/ae<0;if(ae=isNaN(ae)?u:K(Math.abs(ae),D),T&&(ae=function XGe(e){e:for(var s,t=e.length,r=1,i=-1;r<t;++r)switch(e[r]){case".":i=s=r;break;case"0":0===i&&(i=r),s=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(s+1):e}(ae)),oe&&0==+ae&&"+"!==g&&(oe=!1),Be=(oe?"("===g?g:l:"-"===g||"("===g?"":g)+Be,Ce=("s"===I?hle[8+ule/3]:"")+Ce+(oe&&"("===g?")":""),ne)for(U=-1,Q=ae.length;++U<Q;)if(48>(z=ae.charCodeAt(U))||z>57){Ce=(46===z?s+ae.slice(U+1):ae.slice(U))+Ce,ae=ae.slice(0,U);break}}C&&!v&&(ae=t(ae,1/0));var J=Be.length+ae.length+Ce.length,le=J<_?new Array(_-J+1).join(d):"";switch(C&&v&&(ae=t(le+ae,le.length?_-Ce.length:1/0),le=""),h){case"<":ae=Be+ae+Ce+le;break;case"=":ae=Be+le+ae+Ce;break;case"^":ae=le.slice(0,J=le.length>>1)+Be+ae+Ce+le.slice(J);break;default:ae=le+Be+ae+Ce}return o(ae)}return D=void 0===D?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),Ae.toString=function(){return A+""},Ae}return{format:c,formatPrefix:function f(A,d){var h=c(((A=e_(A)).type="f",A)),g=3*Math.max(-8,Math.min(8,Math.floor(H3(d)/3))),m=Math.pow(10,-g),v=hle[8+g/3];return function(_){return h(m*_)+v}}}}(e),mP=JC.format,ple=JC.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var ZC=ul(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});ZC.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ul(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):ZC:null};const fze=ZC;var Dle=ul(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*_0)},function(e,t){return(t-e)/_0},function(e){return e.getUTCSeconds()});const V3=Dle;var Fle=ul(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*_0)},function(e,t){e.setTime(+e+t*Pf)},function(e,t){return(t-e)/Pf},function(e){return e.getMinutes()});const Mle=Fle;var Tle=ul(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*_0-e.getMinutes()*Pf)},function(e,t){e.setTime(+e+t*y0)},function(e,t){return(t-e)/y0},function(e){return e.getHours()});const Ile=Tle;var Nle=ul(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const Ole=Nle;var Rle=ul(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Pf)},function(e,t){return(t-e)/Pf},function(e){return e.getUTCMinutes()});const kle=Rle;var Ple=ul(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*y0)},function(e,t){return(t-e)/y0},function(e){return e.getUTCHours()});const Ule=Ple;var Lle=ul(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const Qle=Lle;function Hle(e,t,r,i,s,o){const a=[[V3,1,_0],[V3,5,5e3],[V3,15,15e3],[V3,30,3e4],[o,1,Pf],[o,5,5*Pf],[o,15,15*Pf],[o,30,30*Pf],[s,1,y0],[s,3,3*y0],[s,6,6*y0],[s,12,12*y0],[i,1,rm],[i,2,2*rm],[r,1,FR],[t,1,2592e6],[t,3,7776e6],[e,1,MR]];function u(c,f,A){const d=Math.abs(f-c)/A,h=ZN(([,,v])=>v).right(a,d);if(h===a.length)return e.every(ane(c/MR,f/MR,A));if(0===h)return fze.every(Math.max(ane(c,f,A),1));const[g,m]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return g.every(m)}return[function l(c,f,A){const d=f<c;d&&([c,f]=[f,c]);const h=A&&"function"==typeof A.range?A:u(c,f,A),g=h?h.range(c,+f+1):[];return d?g.reverse():g},u]}const[Aze,dze]=Hle(Lf,Qle,I6,N3,Ule,kle),[hze,pze]=Hle(Uf,Ole,N6,O3,Ile,Mle);function bP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function t_(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var $3,nue,rue,Vle={"-":"",_:" ",0:"0"},Al=/^\s*\d+/,mze=/^%/,vze=/[\\^$*+?|[\]().{}]/g;function Rs(e,t,r){var i=e<0?"-":"",s=(i?-e:e)+"",o=s.length;return i+(o<r?new Array(r-o+1).join(t)+s:s)}function _ze(e){return e.replace(vze,"\\$&")}function n_(e){return new RegExp("^(?:"+e.map(_ze).join("|")+")","i")}function r_(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yze(e,t,r){var i=Al.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function wze(e,t,r){var i=Al.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function bze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function Cze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function Eze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function $le(e,t,r){var i=Al.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function Gle(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function Sze(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function Bze(e,t,r){var i=Al.exec(t.slice(r,r+1));return i?(e.q=3*i[0]-3,r+i[0].length):-1}function xze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function zle(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function Dze(e,t,r){var i=Al.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function qle(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function Fze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function Mze(e,t,r){var i=Al.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function Tze(e,t,r){var i=Al.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function Ize(e,t,r){var i=Al.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function Nze(e,t,r){var i=mze.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function Oze(e,t,r){var i=Al.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function Rze(e,t,r){var i=Al.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function jle(e,t){return Rs(e.getDate(),t,2)}function kze(e,t){return Rs(e.getHours(),t,2)}function Pze(e,t){return Rs(e.getHours()%12||12,t,2)}function Uze(e,t){return Rs(1+O3.count(Uf(e),e),t,3)}function Kle(e,t){return Rs(e.getMilliseconds(),t,3)}function Lze(e,t){return Kle(e,t)+"000"}function Qze(e,t){return Rs(e.getMonth()+1,t,2)}function Hze(e,t){return Rs(e.getMinutes(),t,2)}function Vze(e,t){return Rs(e.getSeconds(),t,2)}function $ze(e){var t=e.getDay();return 0===t?7:t}function Gze(e,t){return Rs(N6.count(Uf(e)-1,e),t,2)}function Wle(e){var t=e.getDay();return t>=4||0===t?TA(e):TA.ceil(e)}function zze(e,t){return e=Wle(e),Rs(TA.count(Uf(e),e)+(4===Uf(e).getDay()),t,2)}function qze(e){return e.getDay()}function jze(e,t){return Rs(am.count(Uf(e)-1,e),t,2)}function Kze(e,t){return Rs(e.getFullYear()%100,t,2)}function Wze(e,t){return Rs((e=Wle(e)).getFullYear()%100,t,2)}function Yze(e,t){return Rs(e.getFullYear()%1e4,t,4)}function Xze(e,t){var r=e.getDay();return Rs((e=r>=4||0===r?TA(e):TA.ceil(e)).getFullYear()%1e4,t,4)}function Jze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rs(t/60|0,"0",2)+Rs(t%60,"0",2)}function Yle(e,t){return Rs(e.getUTCDate(),t,2)}function Zze(e,t){return Rs(e.getUTCHours(),t,2)}function eqe(e,t){return Rs(e.getUTCHours()%12||12,t,2)}function tqe(e,t){return Rs(1+N3.count(Lf(e),e),t,3)}function Xle(e,t){return Rs(e.getUTCMilliseconds(),t,3)}function nqe(e,t){return Xle(e,t)+"000"}function rqe(e,t){return Rs(e.getUTCMonth()+1,t,2)}function iqe(e,t){return Rs(e.getUTCMinutes(),t,2)}function sqe(e,t){return Rs(e.getUTCSeconds(),t,2)}function oqe(e){var t=e.getUTCDay();return 0===t?7:t}function aqe(e,t){return Rs(I6.count(Lf(e)-1,e),t,2)}function Jle(e){var t=e.getUTCDay();return t>=4||0===t?MA(e):MA.ceil(e)}function lqe(e,t){return e=Jle(e),Rs(MA.count(Lf(e),e)+(4===Lf(e).getUTCDay()),t,2)}function uqe(e){return e.getUTCDay()}function cqe(e,t){return Rs(sm.count(Lf(e)-1,e),t,2)}function fqe(e,t){return Rs(e.getUTCFullYear()%100,t,2)}function Aqe(e,t){return Rs((e=Jle(e)).getUTCFullYear()%100,t,2)}function dqe(e,t){return Rs(e.getUTCFullYear()%1e4,t,4)}function hqe(e,t){var r=e.getUTCDay();return Rs((e=r>=4||0===r?MA(e):MA.ceil(e)).getUTCFullYear()%1e4,t,4)}function pqe(){return"+0000"}function Zle(){return"%"}function eue(e){return+e}function tue(e){return Math.floor(+e/1e3)}function _qe(e){return new Date(e)}function yqe(e){return e instanceof Date?+e:+new Date(+e)}function EP(e,t,r,i,s,o,a,l,u,c){var f=lle(),A=f.invert,d=f.domain,h=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),_=c("%a %d"),C=c("%b %d"),D=c("%B"),T=c("%Y");function I(V){return(u(V)<V?h:l(V)<V?g:a(V)<V?m:o(V)<V?v:i(V)<V?s(V)<V?_:C:r(V)<V?D:T)(V)}return f.invert=function(V){return new Date(A(V))},f.domain=function(V){return arguments.length?d(Array.from(V,yqe)):d().map(_qe)},f.ticks=function(V){var R=d();return e(R[0],R[R.length-1],V??10)},f.tickFormat=function(V,R){return null==R?I:c(R)},f.nice=function(V){var R=d();return(!V||"function"!=typeof V.range)&&(V=t(R[0],R[R.length-1],V??10)),V?d(_le(R,V)):f},f.copy=function(){return Z6(f,EP(e,t,r,i,s,o,a,l,u,c))},f}function eE(){var r,i,s,o,u,e=0,t=1,a=fc,l=!1;function c(A){return null==A||isNaN(A=+A)?u:a(0===s?.5:(A=(o(A)-r)*s,l?Math.max(0,Math.min(1,A)):A))}function f(A){return function(d){var h,g;return arguments.length?([h,g]=d,a=A(h,g),c):[a(0),a(1)]}}return c.domain=function(A){return arguments.length?([e,t]=A,r=o(e=+e),i=o(t=+t),s=r===i?0:1/(i-r),c):[e,t]},c.clamp=function(A){return arguments.length?(l=!!A,c):l},c.interpolator=function(A){return arguments.length?(a=A,c):a},c.range=f(fm),c.rangeRound=f(WC),c.unknown=function(A){return arguments.length?(u=A,c):u},function(A){return o=A,r=A(e),i=A(t),s=r===i?0:1/(i-r),c}}function f1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SP(){var e=Am(eE()(fc));return e.copy=function(){return f1(e,SP())},c1.apply(e,arguments)}function BP(){var e=_P(eE());return e.copy=function(){return f1(e,BP()).exponent(e.exponent())},c1.apply(e,arguments)}function xP(e,t){void 0===t&&(t=e,e=fm);for(var r=0,i=t.length-1,s=t[0],o=new Array(i<0?0:i);r<i;)o[r]=e(s,s=t[++r]);return function(a){var l=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return o[l](a-l)}}function tE(){var s,o,a,l,u,f,d,e=0,t=.5,r=1,i=1,c=fc,A=!1;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+f(m))-o)*(i*m<i*o?l:u),c(A?Math.max(0,Math.min(1,m)):m))}function g(m){return function(v){var _,C,D;return arguments.length?([_,C,D]=v,c=xP(m,[_,C,D]),h):[c(0),c(.5),c(1)]}}return h.domain=function(m){return arguments.length?([e,t,r]=m,s=f(e=+e),o=f(t=+t),a=f(r=+r),l=s===o?0:.5/(o-s),u=o===a?0:.5/(a-o),i=o<s?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(A=!!m,h):A},h.interpolator=function(m){return arguments.length?(c=m,h):c},h.range=g(fm),h.rangeRound=g(WC),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return f=m,s=m(e),o=m(t),a=m(r),l=s===o?0:.5/(o-s),u=o===a?0:.5/(a-o),i=o<s?-1:1,h}}function DP(){var e=_P(tE());return e.copy=function(){return f1(e,DP()).exponent(e.exponent())},c1.apply(e,arguments)}function Sqe(e,t,r=Wae){if((i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,s=(i-1)*t,o=Math.floor(s),a=+r(e[o],o,e);return a+(+r(e[o+1],o+1,e)-a)*(s-o)}}!function vqe(e){$3=function gze(e){var t=e.dateTime,r=e.date,i=e.time,s=e.periods,o=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=n_(s),f=r_(s),A=n_(o),d=r_(o),h=n_(a),g=r_(a),m=n_(l),v=r_(l),_=n_(u),C=r_(u),D={a:function oe(je){return a[je.getDay()]},A:function J(je){return o[je.getDay()]},b:function le(je){return u[je.getMonth()]},B:function de(je){return l[je.getMonth()]},c:null,d:jle,e:jle,f:Lze,g:Wze,G:Xze,H:kze,I:Pze,j:Uze,L:Kle,m:Qze,M:Hze,p:function De(je){return s[+(je.getHours()>=12)]},q:function Ie(je){return 1+~~(je.getMonth()/3)},Q:eue,s:tue,S:Vze,u:$ze,U:Gze,V:zze,w:qze,W:jze,x:null,X:null,y:Kze,Y:Yze,Z:Jze,"%":Zle},T={a:function We(je){return a[je.getUTCDay()]},A:function Ve(je){return o[je.getUTCDay()]},b:function st(je){return u[je.getUTCMonth()]},B:function $t(je){return l[je.getUTCMonth()]},c:null,d:Yle,e:Yle,f:nqe,g:Aqe,G:hqe,H:Zze,I:eqe,j:tqe,L:Xle,m:rqe,M:iqe,p:function gt(je){return s[+(je.getUTCHours()>=12)]},q:function ln(je){return 1+~~(je.getUTCMonth()/3)},Q:eue,s:tue,S:sqe,u:oqe,U:aqe,V:lqe,w:uqe,W:cqe,x:null,X:null,y:fqe,Y:dqe,Z:pqe,"%":Zle},I={a:function Ae(je,Et,Ft){var Oe=h.exec(Et.slice(Ft));return Oe?(je.w=g.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},A:function ae(je,Et,Ft){var Oe=A.exec(Et.slice(Ft));return Oe?(je.w=d.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},b:function Be(je,Et,Ft){var Oe=_.exec(Et.slice(Ft));return Oe?(je.m=C.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},B:function Ce(je,Et,Ft){var Oe=m.exec(Et.slice(Ft));return Oe?(je.m=v.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},c:function U(je,Et,Ft){return K(je,t,Et,Ft)},d:zle,e:zle,f:Ize,g:Gle,G:$le,H:qle,I:qle,j:Dze,L:Tze,m:xze,M:Fze,p:function ne(je,Et,Ft){var Oe=c.exec(Et.slice(Ft));return Oe?(je.p=f.get(Oe[0].toLowerCase()),Ft+Oe[0].length):-1},q:Bze,Q:Oze,s:Rze,S:Mze,u:wze,U:bze,V:Cze,w:yze,W:Eze,x:function Q(je,Et,Ft){return K(je,r,Et,Ft)},X:function z(je,Et,Ft){return K(je,i,Et,Ft)},y:Gle,Y:$le,Z:Sze,"%":Nze};function V(je,Et){return function(Ft){var Kn,hn,$r,Oe=[],An=-1,bn=0,mr=je.length;for(Ft instanceof Date||(Ft=new Date(+Ft));++An<mr;)37===je.charCodeAt(An)&&(Oe.push(je.slice(bn,An)),null!=(hn=Vle[Kn=je.charAt(++An)])?Kn=je.charAt(++An):hn="e"===Kn?" ":"0",($r=Et[Kn])&&(Kn=$r(Ft,hn)),Oe.push(Kn),bn=An+1);return Oe.push(je.slice(bn,An)),Oe.join("")}}function R(je,Et){return function(Ft){var bn,mr,Oe=t_(1900,void 0,1);if(K(Oe,je,Ft+="",0)!=Ft.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(1e3*Oe.s+("L"in Oe?Oe.L:0));if(Et&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+12*Oe.p),void 0===Oe.m&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(mr=(bn=CP(t_(Oe.y,0,1))).getUTCDay(),bn=mr>4||0===mr?sm.ceil(bn):sm(bn),bn=N3.offset(bn,7*(Oe.V-1)),Oe.y=bn.getUTCFullYear(),Oe.m=bn.getUTCMonth(),Oe.d=bn.getUTCDate()+(Oe.w+6)%7):(mr=(bn=bP(t_(Oe.y,0,1))).getDay(),bn=mr>4||0===mr?am.ceil(bn):am(bn),bn=O3.offset(bn,7*(Oe.V-1)),Oe.y=bn.getFullYear(),Oe.m=bn.getMonth(),Oe.d=bn.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),mr="Z"in Oe?CP(t_(Oe.y,0,1)).getUTCDay():bP(t_(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+7*Oe.W-(mr+5)%7:Oe.w+7*Oe.U-(mr+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,CP(Oe)):bP(Oe)}}function K(je,Et,Ft,Oe){for(var Kn,hn,An=0,bn=Et.length,mr=Ft.length;An<bn;){if(Oe>=mr)return-1;if(37===(Kn=Et.charCodeAt(An++))){if(Kn=Et.charAt(An++),!(hn=I[Kn in Vle?Et.charAt(An++):Kn])||(Oe=hn(je,Ft,Oe))<0)return-1}else if(Kn!=Ft.charCodeAt(Oe++))return-1}return Oe}return D.x=V(r,D),D.X=V(i,D),D.c=V(t,D),T.x=V(r,T),T.X=V(i,T),T.c=V(t,T),{format:function(je){var Et=V(je+="",D);return Et.toString=function(){return je},Et},parse:function(je){var Et=R(je+="",!1);return Et.toString=function(){return je},Et},utcFormat:function(je){var Et=V(je+="",T);return Et.toString=function(){return je},Et},utcParse:function(je){var Et=R(je+="",!0);return Et.toString=function(){return je},Et}}}(e),nue=$3.format,rue=$3.utcFormat}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class Aue extends Map{constructor(t,r=pue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=t)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(FP(this,t))}has(t){return super.has(FP(this,t))}set(t,r){return super.set(due(this,t),r)}delete(t){return super.delete(hue(this,t))}}class nE extends Set{constructor(t,r=pue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=t)for(const i of t)this.add(i)}has(t){return super.has(FP(this,t))}add(t){return super.add(due(this,t))}delete(t){return super.delete(hue(this,t))}}function FP({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):r}function due({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function hue({_intern:e,_key:t},r){const i=t(r);return e.has(i)&&(r=e.get(r),e.delete(i)),r}function pue(e){return null!==e&&"object"==typeof e?e.valueOf():e}const MP=Symbol("implicit");function TP(){var e=new Aue,t=[],r=[],i=MP;function s(o){let a=e.get(o);if(void 0===a){if(i!==MP)return i;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Aue;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return TP(t,r).unknown(i)},eh.apply(s,arguments),s}function Bqe(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function xqe(e,t){var r=KC(+e,+t);return function(i){var s=r(i);return s-360*Math.floor(s/360)}}var rE,gue=180/Math.PI,IP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mue(e,t,r,i,s,o){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,u/=l),e*i<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*gue,skewX:Math.atan(u)*gue,scaleX:a,scaleY:l}}function vue(e,t,r,i){function s(c){return c.length?c.pop()+" ":""}return function(c,f){var A=[],d=[];return c=e(c),f=e(f),function o(c,f,A,d,h,g){if(c!==A||f!==d){var m=h.push("translate(",null,t,null,r);g.push({i:m-4,x:IA(c,A)},{i:m-2,x:IA(f,d)})}else(A||d)&&h.push("translate("+A+t+d+r)}(c.translateX,c.translateY,f.translateX,f.translateY,A,d),function a(c,f,A,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:A.push(s(A)+"rotate(",null,i)-2,x:IA(c,f)})):f&&A.push(s(A)+"rotate("+f+i)}(c.rotate,f.rotate,A,d),function l(c,f,A,d){c!==f?d.push({i:A.push(s(A)+"skewX(",null,i)-2,x:IA(c,f)}):f&&A.push(s(A)+"skewX("+f+i)}(c.skewX,f.skewX,A,d),function u(c,f,A,d,h,g){if(c!==A||f!==d){var m=h.push(s(h)+"scale(",null,",",null,")");g.push({i:m-4,x:IA(c,A)},{i:m-2,x:IA(f,d)})}else(1!==A||1!==d)&&h.push(s(h)+"scale("+A+","+d+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,A,d),c=f=null,function(h){for(var v,g=-1,m=d.length;++g<m;)A[(v=d[g]).i]=v.x(h);return A.join("")}}}var Mqe=vue(function Dqe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?IP:mue(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Tqe=vue(function Fqe(e){return null!=e&&(rE||(rE=document.createElementNS("http://www.w3.org/2000/svg","g")),rE.setAttribute("transform",e),e=rE.transform.baseVal.consolidate())?mue((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):IP},", ",")",")");function _ue(e){return((e=Math.exp(e))+1/e)/2}const Rqe=function e(t,r,i){function s(o,a){var v,_,l=o[0],u=o[1],c=o[2],d=a[2],h=a[0]-l,g=a[1]-u,m=h*h+g*g;if(m<1e-12)_=Math.log(d/c)/t,v=function(R){return[l+R*h,u+R*g,c*Math.exp(t*R*_)]};else{var C=Math.sqrt(m),D=(d*d-c*c+i*m)/(2*c*r*C),T=(d*d-c*c-i*m)/(2*d*r*C),I=Math.log(Math.sqrt(D*D+1)-D),V=Math.log(Math.sqrt(T*T+1)-T);_=(V-I)/t,v=function(R){var K=R*_,ne=_ue(I),Ae=c/(r*C)*(ne*function Oqe(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*K+I)-function Nqe(e){return((e=Math.exp(e))-1/e)/2}(I));return[l+Ae*h,u+Ae*g,c*ne/_ue(t*K+I)]}}return v.duration=1e3*_*t/Math.SQRT2,v}return s.rho=function(o){var a=Math.max(.001,+o),l=a*a;return e(a,l,l*l)},s}(Math.SQRT2,2,4);function yue(e){return function(t,r){var i=e((t=vO(t)).h,(r=vO(r)).h),s=fl(t.s,r.s),o=fl(t.l,r.l),a=fl(t.opacity,r.opacity);return function(l){return t.h=i(l),t.s=s(l),t.l=o(l),t.opacity=a(l),t+""}}}const kqe=yue(KC);var Pqe=yue(fl);const Eue=4/29,G3=6/29,Sue=3*G3*G3;function Bue(e){if(e instanceof NA)return new NA(e.l,e.a,e.b,e.opacity);if(e instanceof th)return Due(e);e instanceof Ml||(e=gO(e));var o,a,t=PP(e.r),r=PP(e.g),i=PP(e.b),s=OP((.2225045*t+.7168786*r+.0606169*i)/1);return t===r&&r===i?o=a=s:(o=OP((.4360747*t+.3850649*r+.1430804*i)/.96422),a=OP((.0139322*t+.0971045*r+.7141733*i)/.82521)),new NA(116*s-16,500*(o-s),200*(s-a),e.opacity)}function NP(e,t,r,i){return 1===arguments.length?Bue(e):new NA(e,t,r,i??1)}function NA(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}function OP(e){return e>.008856451679035631?Math.pow(e,1/3):e/Sue+Eue}function RP(e){return e>G3?e*e*e:Sue*(e-Eue)}function kP(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function PP(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xue(e){if(e instanceof th)return new th(e.h,e.c,e.l,e.opacity);if(e instanceof NA||(e=Bue(e)),0===e.a&&0===e.b)return new th(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Nre;return new th(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function UP(e,t,r,i){return 1===arguments.length?xue(e):new th(e,t,r,i??1)}function th(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function Due(e){if(isNaN(e.h))return new NA(e.l,0,0,e.opacity);var t=e.h*Ire;return new NA(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Lqe(e,t){var r=fl((e=NP(e)).l,(t=NP(t)).l),i=fl(e.a,t.a),s=fl(e.b,t.b),o=fl(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=i(a),e.b=s(a),e.opacity=o(a),e+""}}function Fue(e){return function(t,r){var i=e((t=UP(t)).h,(r=UP(r)).h),s=fl(t.c,r.c),o=fl(t.l,r.l),a=fl(t.opacity,r.opacity);return function(l){return t.h=i(l),t.c=s(l),t.l=o(l),t.opacity=a(l),t+""}}}g3(NA,NP,l6(Yp,{brighter:function(e){return new NA(this.l+18*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new NA(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new Ml(kP(3.1338561*(t=.96422*RP(t))-1.6168667*(e=1*RP(e))-.4906146*(r=.82521*RP(r))),kP(-.9787684*t+1.9161415*e+.033454*r),kP(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),g3(th,UP,l6(Yp,{brighter:function(e){return new th(this.h,this.c,this.l+18*(e??1),this.opacity)},darker:function(e){return new th(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb:function(){return Due(this).rgb()}}));const Qqe=Fue(KC);var Hqe=Fue(fl);function Mue(e){return function t(r){function i(s,o){var a=e((s=Wd(s)).h,(o=Wd(o)).h),l=fl(s.s,o.s),u=fl(s.l,o.l),c=fl(s.opacity,o.opacity);return function(f){return s.h=a(f),s.s=l(f),s.l=u(Math.pow(f,r)),s.opacity=c(f),s+""}}return r=+r,i.gamma=t,i}(1)}const Vqe=Mue(KC);var $qe=Mue(fl);function Gqe(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e(i/(t-1));return r}function nh(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(6*i,6*++i);return r}const zqe=nh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),qqe=nh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),jqe=nh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Kqe=nh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Wqe=nh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Yqe=nh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xqe=nh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Jqe=nh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Zqe=nh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),eje=nh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function LP(e,t,r){const i=e-t+2*r;return e?i>0?i:1:0}const z3="linear",C0="log",s_="sqrt",sE="symlog",dm="time",hm="utc",rh="sequential",q3="diverging",j3="quantile",oE="quantize",aE="threshold",QP="ordinal",HP="point",VP="bin-ordinal",Ga="continuous",o_="discrete",a_="discretizing",$f="interpolating",$P="temporal";function GP(){const e=TP().unknown(void 0),t=e.domain,r=e.range;let s,o,i=[0,1],a=!1,l=0,u=0,c=.5;function f(){const A=t().length,d=i[1]<i[0],h=i[1-d],g=LP(A,l,u);let m=i[d-0];s=(h-m)/(g||1),a&&(s=Math.floor(s)),m+=(h-m-s*(A-l))*c,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));const v=function DGe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var i=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(s);++i<s;)o[i]=e+i*r;return o}(A).map(_=>m+s*_);return r(d?v.reverse():v)}return delete e.unknown,e.domain=function(A){return arguments.length?(t(A),f()):t()},e.range=function(A){return arguments.length?(i=[+A[0],+A[1]],f()):i.slice()},e.rangeRound=function(A){return i=[+A[0],+A[1]],a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(A){return arguments.length?(a=!!A,f()):a},e.padding=function(A){return arguments.length?(u=Math.max(0,Math.min(1,A)),l=u,f()):l},e.paddingInner=function(A){return arguments.length?(l=Math.max(0,Math.min(1,A)),f()):l},e.paddingOuter=function(A){return arguments.length?(u=Math.max(0,Math.min(1,A)),f()):u},e.align=function(A){return arguments.length?(c=Math.max(0,Math.min(1,A)),f()):c},e.invertRange=function(A){if(null==A[0]||null==A[1])return;const d=i[1]<i[0],h=d?r().reverse():r(),g=h.length-1;let _,C,D,m=+A[0],v=+A[1];return m!=m||v!=v||(v<m&&(D=m,m=v,v=D),v<h[0]||m>i[1-d])?void 0:(_=Math.max(0,aP(h,m)-1),C=m===v?_:aP(h,v)-1,m-h[_]>o+1e-10&&++_,d&&(D=_,_=g-C,C=g-D),_>C?void 0:t().slice(_,C+1))},e.invert=function(A){const d=e.invertRange([A,A]);return d&&d[0]},e.copy=function(){return GP().domain(t()).range(i).round(a).paddingInner(l).paddingOuter(u).align(c)},f()}function Iue(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Iue(t())},e}var sje=Array.prototype.map;function oje(e){return sje.call(e,eu)}const aje=Array.prototype.slice,lE=new Map,Oue=Symbol("vega_scale");function Rue(e){return e[Oue]=!0,e}function kue(e){return e&&!0===e[Oue]}function lje(e,t,r){const i=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?function nje(e){return function(t){let s,r=t[0],i=t[1];return i<r&&(s=r,r=i,i=s),[e.invert(r),e.invert(i)]}}(o):o.invertExtent?function rje(e){return function(t){const r=e.range();let a,l,u,c,i=t[0],s=t[1],o=-1;for(s<i&&(l=i,i=s,s=l),u=0,c=r.length;u<c;++u)r[u]>=i&&r[u]<=s&&(o<0&&(o=u),a=u);if(!(o<0))return i=e.invertExtent(r[o]),s=e.invertExtent(r[a]),[void 0===i[0]?i[1]:i[0],void 0===s[1]?s[0]:s[1]]}}(o):void 0),o.type=e,Rue(o)};return i.metadata=DA(ar(r)),i}function ks(e,t,r){return arguments.length>1?(lE.set(e,lje(e,t,r)),this):Pue(e)?lE.get(e):void 0}function Pue(e){return lE.has(e)}function pm(e,t){const r=lE.get(e);return r&&r.metadata[t]}function zP(e){return pm(e,Ga)}function K3(e){return pm(e,o_)}function qP(e){return pm(e,a_)}function Uue(e){return pm(e,C0)}function Lue(e){return pm(e,$f)}function Que(e){return pm(e,j3)}ks("identity",function vle(e){var t;function r(i){return null==i||isNaN(i=+i)?t:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(e=Array.from(i,hP),r):e.slice()},r.unknown=function(i){return arguments.length?(t=i,r):t},r.copy=function(){return vle(e).unknown(t)},e=arguments.length?Array.from(e,hP):[0,1],Am(r)}),ks(z3,function mle(){var e=lle();return e.copy=function(){return Z6(e,mle())},eh.apply(e,arguments),Am(e)},Ga),ks(C0,function Cle(){const e=vP(YC()).domain([1,10]);return e.copy=()=>Z6(e,Cle()).base(e.base()),eh.apply(e,arguments),e},[Ga,C0]),ks("pow",yP,Ga),ks(s_,function cze(){return yP.apply(null,arguments).exponent(.5)},Ga),ks(sE,function xle(){var e=wP(YC());return e.copy=function(){return Z6(e,xle()).constant(e.constant())},eh.apply(e,arguments)},Ga),ks(dm,function wqe(){return eh.apply(EP(hze,pze,Uf,Ole,N6,O3,Ile,Mle,V3,nue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Ga,$P]),ks(hm,function bqe(){return eh.apply(EP(Aze,dze,Lf,Qle,I6,N3,Ule,kle,V3,rue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Ga,$P]),ks(rh,SP,[Ga,$f]),ks(`${rh}-${z3}`,SP,[Ga,$f]),ks(`${rh}-log`,function iue(){var e=vP(eE()).domain([1,10]);return e.copy=function(){return f1(e,iue()).base(e.base())},c1.apply(e,arguments)},[Ga,$f,C0]),ks(`${rh}-pow`,BP,[Ga,$f]),ks(`${rh}-sqrt`,function Cqe(){return BP.apply(null,arguments).exponent(.5)},[Ga,$f]),ks(`${rh}-${sE}`,function sue(){var e=wP(eE());return e.copy=function(){return f1(e,sue()).constant(e.constant())},c1.apply(e,arguments)},[Ga,$f]),ks(`${q3}-${z3}`,function oue(){var e=Am(tE()(fc));return e.copy=function(){return f1(e,oue())},c1.apply(e,arguments)},[Ga,$f]),ks(`${q3}-log`,function aue(){var e=vP(tE()).domain([.1,1,10]);return e.copy=function(){return f1(e,aue()).base(e.base())},c1.apply(e,arguments)},[Ga,$f,C0]),ks(`${q3}-pow`,DP,[Ga,$f]),ks(`${q3}-sqrt`,function Eqe(){return DP.apply(null,arguments).exponent(.5)},[Ga,$f]),ks(`${q3}-${sE}`,function lue(){var e=wP(tE());return e.copy=function(){return f1(e,lue()).constant(e.constant())},c1.apply(e,arguments)},[Ga,$f]),ks(j3,function uue(){var i,e=[],t=[],r=[];function s(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=Sqe(e,a/l);return o}function o(a){return null==a||isNaN(a=+a)?i:t[J6(r,a)]}return o.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)null!=l&&!isNaN(l=+l)&&e.push(l);return e.sort(X6),s()},o.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.quantiles=function(){return r.slice()},o.copy=function(){return uue().domain(e).range(t).unknown(i)},eh.apply(o,arguments)},[a_,j3]),ks(oE,function cue(){var o,e=0,t=1,r=1,i=[.5],s=[0,1];function a(u){return null!=u&&u<=u?s[J6(i,u,0,r)]:o}function l(){var u=-1;for(i=new Array(r);++u<r;)i[u]=((u+1)*t-(u-r)*e)/(r+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},a.invertExtent=function(u){var c=s.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,i[0]]:c>=r?[i[r-1],t]:[i[c-1],i[c]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return i.slice()},a.copy=function(){return cue().domain([e,t]).range(s).unknown(o)},eh.apply(Am(a),arguments)},a_),ks(aE,function fue(){var r,e=[.5],t=[0,1],i=1;function s(o){return null!=o&&o<=o?t[J6(e,o,0,i)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return fue().domain(e).range(t).unknown(r)},eh.apply(s,arguments)},a_),ks(VP,function Nue(){let e=[],t=[];function r(i){return null==i||i!=i?void 0:t[(J6(e,i)-1)%t.length]}return r.domain=function(i){return arguments.length?(e=oje(i),r):e.slice()},r.range=function(i){return arguments.length?(t=aje.call(i),r):t.slice()},r.tickFormat=function(i,s){return gle(e[0],ds(e),i??10,s)},r.copy=function(){return Nue().domain(r.domain()).range(r.range())},r},[o_,a_]),ks(QP,TP,o_),ks("band",GP,o_),ks(HP,function ije(){return Iue(GP().paddingInner(1))},o_);const cje=["clamp","base","constant","exponent"];function Hue(e,t){const r=t[0],i=ds(t)-r;return function(s){return e(r+s*i)}}function uE(e,t,r){return xP(jP(t||"rgb",r),e)}function Vue(e,t){const r=new Array(t),i=t+1;for(let s=0;s<t;)r[s]=e(++s/i);return r}function $ue(e,t,r){const i=r-t;let s,o,a;return i&&Number.isFinite(i)?(s=(o=e.type).indexOf("-"),o=s<0?o:o.slice(s+1),a=ks(o)().domain([t,r]).range([0,1]),cje.forEach(l=>e[l]?a[l](e[l]()):0),a):tu(.5)}function jP(e,t){const r=ie[function fje(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}(e)];return null!=t&&r&&r.gamma?r.gamma(t):r}function Gue(e){if(Zt(e))return e;const t=e.length/6|0,r=new Array(t);for(let i=0;i<t;)r[i]="#"+e.slice(6*i,6*++i);return r}function zue(e,t){for(const r in e)KP(r,t(e[r]))}const que={};function KP(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(que[e]=t,this):que[e]}zue({accent:zqe,category10:qqe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:jqe,observable10:Kqe,paired:Wqe,pastel1:Yqe,pastel2:Xqe,set1:Jqe,set2:Zqe,set3:eje,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},Gue),zue({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>uE(Gue(e)));const cE="symbol",gje=e=>Zt(e)?e.map(t=>String(t)):String(e),mje=(e,t)=>e[1]-t[1],vje=(e,t)=>t[1]-e[1];function WP(e,t,r){let i;return Ns(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=r&&(t=Math.min(t,Math.floor(m6(e.domain())/r||1)+1))),sr(t)&&(i=t.step,t=t.interval),or(t)&&(t=e.type===dm?T3(t):e.type==hm?I3(t):Yt("Only time and utc scales accept interval strings."),i&&(t=t.every(i))),t}function jue(e,t,r){let i=e.range(),s=i[0],o=ds(i),a=mje;if(s>o&&(i=o,o=s,s=i,a=vje),s=Math.floor(s),o=Math.ceil(o),t=t.map(l=>[l,e(l)]).filter(l=>s<=l[1]&&l[1]<=o).sort(a).map(l=>l[0]),r>0&&t.length>1){const l=[t[0],ds(t)];for(;t.length>r&&t.length>=3;)t=t.filter((u,c)=>!(c%2));t.length<3&&(t=l)}return t}function YP(e,t){return e.bins?jue(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Kue(e,t,r,i,s,o){const a=t.type;let l=gje;if(a===dm||s===dm)l=e.timeFormat(i);else if(a===hm||s===hm)l=e.utcFormat(i);else if(Uue(a)){const u=e.formatFloat(i);if(o||t.bins)l=u;else{const c=Wue(t,r,!1);l=f=>c(f)?u(f):""}}else if(t.tickFormat){const u=t.domain();l=e.formatSpan(u[0],u[u.length-1],r,i)}else i&&(l=e.format(i));return l}function Wue(e,t,r){const i=YP(e,t),s=e.base(),o=Math.log(s),a=Math.max(1,s*t/i.length),l=u=>{let c=u/Math.pow(s,Math.round(Math.log(u)/o));return c*s<s-.5&&(c*=s),c<=a};return r?i.filter(l):l}const XP={[j3]:"quantiles",[oE]:"thresholds",[aE]:"domain"},Yue={[j3]:"quantiles",[oE]:"domain"};function Xue(e,t){return e.bins?function wje(e){const t=e.slice(0,-1);return t.max=ds(e),t}(e.bins):e.type===C0?Wue(e,t,!0):XP[e.type]?function yje(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[XP[e.type]]()):YP(e,t)}function Jue(e,t,r,i,s,o,a){const l=Yue[t.type]&&o!==dm&&o!==hm?function _je(e,t,r){const i=t[Yue[t.type]](),s=i.length;let a,o=s>1?i[1]-i[0]:i[0];for(a=1;a<s;++a)o=Math.min(o,i[a]-i[a-1]);return e.formatSpan(0,o,30,r)}(e,t,s):Kue(e,t,r,s,o,a);return i===cE&&(e=>XP[e.type]||e.bins)(t)?Cje(l):"discrete"===i?Eje(l):Sje(l)}const Cje=e=>(t,r,i)=>{const s=Zue(i[r+1],Zue(i.max,1/0)),o=ece(t,e),a=ece(s,e);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o},Zue=(e,t)=>e??t,Eje=e=>(t,r)=>r?e(t):null,Sje=e=>t=>e(t),ece=(e,t)=>Number.isFinite(e)?t(e):null;function tce(e,t,r){r=r||{};const i=Math.max(3,r.maxlen||7),s=function xje(e,t,r,i){const s=i||t.type;return or(r)&&function uje(e){return pm(e,$P)}(s)&&(r=r.replace(/%a/g,"%A").replace(/%b/g,"%B")),r||s!==dm?r||s!==hm?Jue(e,t,5,null,r,i,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,r.format,r.formatType);if(qP(t.type)){const o=Xue(t).slice(1).map(s),a=o.length;return`${a} boundar${1===a?"y":"ies"}: ${o.join(", ")}`}if(K3(t.type)){const o=t.domain(),a=o.length;return`${a} value${1===a?"":"s"}: ${a>i?o.slice(0,i-2).map(s).join(", ")+", ending with "+o.slice(-1).map(s):o.map(s).join(", ")}`}{const o=t.domain();return`values from ${s(o[0])} to ${s(ds(o))}`}}let nce=0;function JP(e){return e&&e.gradient}function rce(e,t,r){const i=e.gradient;let s=e.id,o="radial"===i?"p_":"";return s||(s=e.id="gradient_"+nce++,"radial"===i?(e.x1=ih(e.x1,.5),e.y1=ih(e.y1,.5),e.r1=ih(e.r1,0),e.x2=ih(e.x2,.5),e.y2=ih(e.y2,.5),e.r2=ih(e.r2,.5),o="p_"):(e.x1=ih(e.x1,0),e.y1=ih(e.y1,0),e.x2=ih(e.x2,1),e.y2=ih(e.y2,0))),t[s]=e,"url("+(r||"")+"#"+o+s+")"}function ih(e,t){return e??t}function ice(e,t){var i,r=[];return i={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(s,o){return r.push({offset:s,color:o}),i}}}const sce={basis:{curve:function N$e(e){return new PC(e)}},"basis-closed":{curve:function O$e(e){return new Cae(e)}},"basis-open":{curve:function R$e(e){return new Eae(e)}},bundle:{curve:k$e,tension:"beta",value:.85},cardinal:{curve:P$e,tension:"tension",value:0},"cardinal-open":{curve:U$e,tension:"tension",value:0},"cardinal-closed":{curve:L$e,tension:"tension",value:0},"catmull-rom":{curve:V$e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:$$e,tension:"alpha",value:.5},"catmull-rom-open":{curve:G$e,tension:"alpha",value:.5},linear:{curve:eP},"linear-closed":{curve:function z$e(e){return new Iae(e)}},monotone:{horizontal:function j$e(e){return new kae(e)},vertical:function q$e(e){return new QC(e)}},natural:{curve:function K$e(e){return new Uae(e)}},step:{curve:function W$e(e){return new HC(e,.5)}},"step-after":{curve:function X$e(e){return new HC(e,1)}},"step-before":{curve:function Y$e(e){return new HC(e,0)}}};function ZP(e,t,r){var i=pr(sce,e)&&sce[e],s=null;return i&&(s=i.curve||i[t||"vertical"],i.tension&&null!=r&&(s=s[i.tension](r))),s}const Fje={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Mje=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Tje=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ije=/^((\s+,?\s*)|(,\s*))/,Nje=/^[01]/;function W3(e){const t=[];return(e.match(Mje)||[]).forEach(i=>{let s=i[0];const o=s.toLowerCase(),a=Fje[o],l=function Oje(e,t,r){const i=[];for(let s=0;t&&s<r.length;)for(let o=0;o<t;++o){const a="a"!==e||3!==o&&4!==o?Tje:Nje,l=r.slice(s).match(a);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");s+=l[0].length,i.push(+l[0]);const u=r.slice(s).match(Ije);null!==u&&(s+=u[0].length)}return i}(o,a,i.slice(1).trim()),u=l.length;if(u<a||u&&u%a!=0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([s,...l.slice(0,a)]),u!==a){"m"===o&&(s="M"===s?"L":"l");for(let c=a;c<u;c+=a)t.push([s,...l.slice(c,c+a)])}}),t}const A1=Math.PI/180,gm=Math.PI/2,sh=2*Math.PI,Y3=Math.sqrt(3)/2;var eU={},tU={},oce=[].join;function Pje(e){const t=oce.call(e);if(tU[t])return tU[t];var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7];const f=c*a,A=-u*l,d=u*a,h=c*l,g=Math.cos(s),m=Math.sin(s),v=Math.cos(o),_=Math.sin(o),C=.5*(o-s),D=Math.sin(.5*C),T=8/3*D*D/Math.sin(C),I=r+g-T*m,V=i+m+T*g,R=r+v,K=i+_,ne=R+T*_,Ae=K-T*v;return tU[t]=[f*I+A*V,d*I+h*V,f*ne+A*Ae,d*ne+h*Ae,f*R+A*K,d*R+h*K]}const Gf=["l",0,0,0,0,0,0,0];function Uje(e,t,r){const i=Gf[0]=e[0];if("a"===i||"A"===i)Gf[1]=t*e[1],Gf[2]=r*e[2],Gf[3]=e[3],Gf[4]=e[4],Gf[5]=e[5],Gf[6]=t*e[6],Gf[7]=r*e[7];else if("h"===i||"H"===i)Gf[1]=t*e[1];else if("v"===i||"V"===i)Gf[1]=r*e[1];else for(var s=1,o=e.length;s<o;++s)Gf[s]=(s%2==1?t:r)*e[s];return Gf}function l_(e,t,r,i,s,o){var a,d,h,g,m,l=null,u=0,c=0,f=0,A=0,v=0,_=0;null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==o&&(o=s),e.beginPath&&e.beginPath();for(var C=0,D=t.length;C<D;++C){switch(a=t[C],(1!==s||1!==o)&&(a=Uje(a,s,o)),a[0]){case"l":e.lineTo((u+=a[1])+r,(c+=a[2])+i);break;case"L":e.lineTo((u=a[1])+r,(c=a[2])+i);break;case"h":e.lineTo((u+=a[1])+r,c+i);break;case"H":e.lineTo((u=a[1])+r,c+i);break;case"v":e.lineTo(u+r,(c+=a[1])+i);break;case"V":e.lineTo(u+r,(c=a[1])+i);break;case"m":v=u+=a[1],_=c+=a[2],e.moveTo(u+r,c+i);break;case"M":v=u=a[1],_=c=a[2],e.moveTo(u+r,c+i);break;case"c":e.bezierCurveTo(u+a[1]+r,c+a[2]+i,(f=u+a[3])+r,(A=c+a[4])+i,(d=u+a[5])+r,(h=c+a[6])+i),u=d,c=h;break;case"C":e.bezierCurveTo(a[1]+r,a[2]+i,(f=a[3])+r,(A=a[4])+i,(u=a[5])+r,(c=a[6])+i);break;case"s":e.bezierCurveTo((f=2*u-f)+r,(A=2*c-A)+i,u+a[1]+r,c+a[2]+i,(d=u+a[3])+r,(h=c+a[4])+i),f=u+a[1],A=c+a[2],u=d,c=h;break;case"S":e.bezierCurveTo((f=2*u-f)+r,(A=2*c-A)+i,a[1]+r,a[2]+i,(d=a[3])+r,(h=a[4])+i),u=d,c=h,f=a[1],A=a[2];break;case"q":e.quadraticCurveTo((f=u+a[1])+r,(A=c+a[2])+i,(d=u+a[3])+r,(h=c+a[4])+i),u=d,c=h;break;case"Q":e.quadraticCurveTo(a[1]+r,a[2]+i,(d=a[3])+r,(h=a[4])+i),u=d,c=h,f=a[1],A=a[2];break;case"t":d=u+a[1],h=c+a[2],null===l[0].match(/[QqTt]/)?(f=u,A=c):"t"===l[0]?(f=2*u-g,A=2*c-m):"q"===l[0]&&(f=2*u-f,A=2*c-A),g=f,m=A,e.quadraticCurveTo(f+r,A+i,d+r,h+i),f=(u=d)+a[1],A=(c=h)+a[2];break;case"T":e.quadraticCurveTo((f=2*u-f)+r,(A=2*c-A)+i,(d=a[1])+r,(h=a[2])+i),u=d,c=h;break;case"a":ace(e,u+r,c+i,[a[1],a[2],a[3],a[4],a[5],a[6]+u+r,a[7]+c+i]),u+=a[6],c+=a[7];break;case"A":ace(e,u+r,c+i,[a[1],a[2],a[3],a[4],a[5],a[6]+r,a[7]+i]),u=a[6],c=a[7];break;case"z":case"Z":u=v,c=_,e.closePath()}l=a}}function ace(e,t,r,i){const s=function kje(e,t,r,i,s,o,a,l,u){const c=oce.call(arguments);if(eU[c])return eU[c];const f=a*A1,A=Math.sin(f),d=Math.cos(f),h=d*(l-e)*.5+A*(u-t)*.5,g=d*(u-t)*.5-A*(l-e)*.5;let m=h*h/((r=Math.abs(r))*r)+g*g/((i=Math.abs(i))*i);m>1&&(m=Math.sqrt(m),r*=m,i*=m);const v=d/r,_=A/r,C=-A/i,D=d/i,T=v*l+_*u,I=C*l+D*u,V=v*e+_*t,R=C*e+D*t;let ne=1/((V-T)*(V-T)+(R-I)*(R-I))-.25;ne<0&&(ne=0);let Ae=Math.sqrt(ne);o==s&&(Ae=-Ae);const ae=.5*(T+V)-Ae*(R-I),Be=.5*(I+R)+Ae*(V-T),Ce=Math.atan2(I-Be,T-ae);let Q=Math.atan2(R-Be,V-ae)-Ce;Q<0&&1===o?Q+=sh:Q>0&&0===o&&(Q-=sh);const z=Math.ceil(Math.abs(Q/(gm+.001))),oe=[];for(let J=0;J<z;++J)oe[J]=[ae,Be,Ce+J*Q/z,Ce+(J+1)*Q/z,r,i,A,d];return eU[c]=oe}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,r);for(let o=0;o<s.length;++o){const a=Pje(s[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const lce=.5773502691896257,uce={circle:{draw:function(e,t){const r=Math.sqrt(t)/2;e.moveTo(r,0),e.arc(0,0,r,0,sh)}},cross:{draw:function(e,t){var r=Math.sqrt(t)/2,i=r/2.5;e.moveTo(-r,-i),e.lineTo(-r,i),e.lineTo(-i,i),e.lineTo(-i,r),e.lineTo(i,r),e.lineTo(i,i),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(i,-i),e.lineTo(i,-r),e.lineTo(-i,-r),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.closePath()}},square:{draw:function(e,t){var r=Math.sqrt(t),i=-r/2;e.rect(i,i,r,r)}},arrow:{draw:function(e,t){var r=Math.sqrt(t)/2,i=r/7,s=r/2.5,o=r/8;e.moveTo(-i,r),e.lineTo(i,r),e.lineTo(i,-o),e.lineTo(s,-o),e.lineTo(0,-r),e.lineTo(-s,-o),e.lineTo(-i,-o),e.closePath()}},wedge:{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r,s=i-r*lce,o=r/4;e.moveTo(0,-i-s),e.lineTo(-o,i-s),e.lineTo(o,i-s),e.closePath()}},triangle:{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r,s=i-r*lce;e.moveTo(0,-i-s),e.lineTo(-r,i-s),e.lineTo(r,i-s),e.closePath()}},"triangle-up":{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r;e.moveTo(0,-i),e.lineTo(-r,i),e.lineTo(r,i),e.closePath()}},"triangle-down":{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r;e.moveTo(0,i),e.lineTo(-r,-i),e.lineTo(r,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r;e.moveTo(i,0),e.lineTo(-i,-r),e.lineTo(-i,r),e.closePath()}},"triangle-left":{draw:function(e,t){var r=Math.sqrt(t)/2,i=Y3*r;e.moveTo(-i,0),e.lineTo(i,-r),e.lineTo(i,r),e.closePath()}},stroke:{draw:function(e,t){const r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(r,0)}}};function cce(e){return pr(uce,e)?uce[e]:function Lje(e){if(!pr(nU,e)){const t=W3(e);nU[e]={draw:function(r,i){l_(r,t,0,0,Math.sqrt(i)/2)}}}return nU[e]}(e)}var nU={};const d1=.448084975506;function Qje(e){return e.x}function Hje(e){return e.y}function Vje(e){return e.width}function $je(e){return e.height}function E0(e){return"function"==typeof e?e:()=>+e}function AE(e,t,r){return Math.max(t,Math.min(e,r))}function fce(){var e=Qje,t=Hje,r=Vje,i=$je,s=E0(0),o=s,a=s,l=s,u=null;function c(f,A,d){var h,g=A??+e.call(this,f),m=d??+t.call(this,f),v=+r.call(this,f),_=+i.call(this,f),C=Math.min(v,_)/2,D=AE(+s.call(this,f),0,C),T=AE(+o.call(this,f),0,C),I=AE(+a.call(this,f),0,C),V=AE(+l.call(this,f),0,C);if(u||(u=h=$C()),D<=0&&T<=0&&I<=0&&V<=0)u.rect(g,m,v,_);else{var R=g+v,K=m+_;u.moveTo(g+D,m),u.lineTo(R-T,m),u.bezierCurveTo(R-d1*T,m,R,m+d1*T,R,m+T),u.lineTo(R,K-V),u.bezierCurveTo(R,K-d1*V,R-d1*V,K,R-V,K),u.lineTo(g+I,K),u.bezierCurveTo(g+d1*I,K,g,K-d1*I,g,K-I),u.lineTo(g,m+D),u.bezierCurveTo(g,m+d1*D,g+d1*D,m,g+D,m),u.closePath()}if(h)return u=null,h+""||null}return c.x=function(f){return arguments.length?(e=E0(f),c):e},c.y=function(f){return arguments.length?(t=E0(f),c):t},c.width=function(f){return arguments.length?(r=E0(f),c):r},c.height=function(f){return arguments.length?(i=E0(f),c):i},c.cornerRadius=function(f,A,d,h){return arguments.length?(s=E0(f),o=null!=A?E0(A):s,l=null!=d?E0(d):s,a=null!=h?E0(h):o,c):s},c.context=function(f){return arguments.length?(u=f??null,c):u},c}function Ace(){var e,t,r,i,o,a,l,u,s=null;function c(A,d,h){const g=h/2;if(o){var m=l-d,v=A-a;if(m||v){var _=Math.hypot(m,v),C=(m/=_)*u,D=(v/=_)*u,T=Math.atan2(v,m);s.moveTo(a-C,l-D),s.lineTo(A-m*g,d-v*g),s.arc(A,d,g,T-Math.PI,T),s.lineTo(a+C,l+D),s.arc(a,l,u,T,T+Math.PI)}else s.arc(A,d,g,0,sh);s.closePath()}else o=1;a=A,l=d,u=g}function f(A){var d,g,v,h=A.length,m=!1;for(null==s&&(s=v=$C()),d=0;d<=h;++d)!(d<h&&i(g=A[d],d,A))===m&&(m=!m)&&(o=0),m&&c(+e(g,d,A),+t(g,d,A),+r(g,d,A));if(v)return s=null,v+""||null}return f.x=function(A){return arguments.length?(e=A,f):e},f.y=function(A){return arguments.length?(t=A,f):t},f.size=function(A){return arguments.length?(r=A,f):r},f.defined=function(A){return arguments.length?(i=A,f):i},f.context=function(A){return arguments.length?(s=A??null,f):s},f}function u_(e,t){return e??t}const c_=e=>e.x||0,f_=e=>e.y||0,dE=e=>!1!==e.defined,aKe=function oGe(){var e=eGe,t=tGe,r=Gs(0),i=null,s=nGe,o=rGe,a=iGe,l=null,u=GC(c);function c(){var f,A,d=+e.apply(this,arguments),h=+t.apply(this,arguments),g=s.apply(this,arguments)-LC,m=o.apply(this,arguments)-LC,v=Bae(m-g),_=m>g;if(l||(l=f=u()),h<d&&(A=h,h=d,d=A),h>su)if(v>Y6-su)l.moveTo(h*b0(g),h*cc(g)),l.arc(0,0,h,g,m,!_),d>su&&(l.moveTo(d*b0(m),d*cc(m)),l.arc(0,0,d,m,g,_));else{var Ce,U,C=g,D=m,T=g,I=m,V=v,R=v,K=a.apply(this,arguments)/2,ne=K>su&&(i?+i.apply(this,arguments):To(d*d+h*h)),Ae=Q3(Bae(h-d)/2,+r.apply(this,arguments)),ae=Ae,Be=Ae;if(ne>su){var Q=xae(ne/d*cc(K)),z=xae(ne/h*cc(K));(V-=2*Q)>su?(T+=Q*=_?1:-1,I-=Q):(V=0,T=I=(g+m)/2),(R-=2*z)>su?(C+=z*=_?1:-1,D-=z):(R=0,C=D=(g+m)/2)}var oe=h*b0(C),J=h*cc(C),le=d*b0(I),de=d*cc(I);if(Ae>su){var st,De=h*b0(D),Ie=h*cc(D),We=d*b0(T),Ve=d*cc(T);if(v<l1)if(st=sGe(oe,J,We,Ve,De,Ie,le,de)){var $t=oe-st[0],gt=J-st[1],ln=De-st[0],je=Ie-st[1],Et=1/cc(H$e(($t*ln+gt*je)/(To($t*$t+gt*gt)*To(ln*ln+je*je)))/2),Ft=To(st[0]*st[0]+st[1]*st[1]);ae=Q3(Ae,(d-Ft)/(Et-1)),Be=Q3(Ae,(h-Ft)/(Et+1))}else ae=Be=0}R>su?Be>su?(Ce=zC(We,Ve,oe,J,h,Be,_),U=zC(De,Ie,le,de,h,Be,_),l.moveTo(Ce.cx+Ce.x01,Ce.cy+Ce.y01),Be<Ae?l.arc(Ce.cx,Ce.cy,Be,iu(Ce.y01,Ce.x01),iu(U.y01,U.x01),!_):(l.arc(Ce.cx,Ce.cy,Be,iu(Ce.y01,Ce.x01),iu(Ce.y11,Ce.x11),!_),l.arc(0,0,h,iu(Ce.cy+Ce.y11,Ce.cx+Ce.x11),iu(U.cy+U.y11,U.cx+U.x11),!_),l.arc(U.cx,U.cy,Be,iu(U.y11,U.x11),iu(U.y01,U.x01),!_))):(l.moveTo(oe,J),l.arc(0,0,h,C,D,!_)):l.moveTo(oe,J),d>su&&V>su?ae>su?(Ce=zC(le,de,De,Ie,d,-ae,_),U=zC(oe,J,We,Ve,d,-ae,_),l.lineTo(Ce.cx+Ce.x01,Ce.cy+Ce.y01),ae<Ae?l.arc(Ce.cx,Ce.cy,ae,iu(Ce.y01,Ce.x01),iu(U.y01,U.x01),!_):(l.arc(Ce.cx,Ce.cy,ae,iu(Ce.y01,Ce.x01),iu(Ce.y11,Ce.x11),!_),l.arc(0,0,d,iu(Ce.cy+Ce.y11,Ce.cx+Ce.x11),iu(U.cy+U.y11,U.cx+U.x11),_),l.arc(U.cx,U.cy,ae,iu(U.y11,U.x11),iu(U.y01,U.x01),!_))):l.arc(0,0,d,I,T,_):l.lineTo(le,de)}else l.moveTo(0,0);if(l.closePath(),f)return l=null,f+""||null}return c.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,A=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-l1/2;return[b0(A)*f,cc(A)*f]},c.innerRadius=function(f){return arguments.length?(e="function"==typeof f?f:Gs(+f),c):e},c.outerRadius=function(f){return arguments.length?(t="function"==typeof f?f:Gs(+f),c):t},c.cornerRadius=function(f){return arguments.length?(r="function"==typeof f?f:Gs(+f),c):r},c.padRadius=function(f){return arguments.length?(i=null==f?null:"function"==typeof f?f:Gs(+f),c):i},c.startAngle=function(f){return arguments.length?(s="function"==typeof f?f:Gs(+f),c):s},c.endAngle=function(f){return arguments.length?(o="function"==typeof f?f:Gs(+f),c):o},c.padAngle=function(f){return arguments.length?(a="function"==typeof f?f:Gs(+f),c):a},c.context=function(f){return arguments.length?(l=f??null,c):l},c}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),lKe=zae().x(c_).y1(f_).y0(e=>(e.y||0)+(e.height||0)).defined(dE),uKe=zae().y(f_).x1(c_).x0(e=>(e.x||0)+(e.width||0)).defined(dE),cKe=Gae().x(c_).y(f_).defined(dE),fKe=fce().x(c_).y(f_).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>u_(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>u_(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>u_(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>u_(e.cornerRadiusBottomLeft,e.cornerRadius)||0),AKe=function BGe(e,t){let r=null,i=GC(s);function s(){let o;if(r||(r=o=i()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return e="function"==typeof e?e:Gs(e||iP),t="function"==typeof t?t:Gs(void 0===t?64:+t),s.type=function(o){return arguments.length?(e="function"==typeof o?o:Gs(o),s):e},s.size=function(o){return arguments.length?(t="function"==typeof o?o:Gs(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}().type(e=>cce(e.shape||"circle")).size(e=>u_(e.size,64)),dKe=Ace().x(c_).y(f_).defined(dE).size(e=>e.size||1);function rU(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function X3(e,t,r,i){return fKe.context(e)(t,r,i)}var dce=1;function hce(){dce=1}function iU(e,t,r){var i=t.clip,s=e._defs,o=t.clip_id||(t.clip_id="clip"+dce++),a=s.clipping[o]||(s.clipping[o]={id:o});return Ni(i)?a.path=i(null):rU(r)?a.path=X3(null,r,0,0):(a.width=r.width||0,a.height=r.height||0),"url(#"+o+")"}function Ia(e){this.clear(),e&&this.union(e)}function hE(e){this.mark=e,this.bounds=this.bounds||new Ia}function pE(e){hE.call(this,e),this.items=this.items||[]}Ia.prototype={clone(){return new Ia(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,r,i){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,r){const i=this.rotatedPoints(e,t,r);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,r){var{x1:i,y1:s,x2:o,y2:a}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+r*u,f=r-t*u-r*l;return[l*i-u*s+c,u*i+l*s+f,l*i-u*a+c,u*i+l*a+f,l*o-u*s+c,u*o+l*s+f,l*o-u*a+c,u*o+l*a+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Gn(pE,hE);class pce{constructor(t){this._pending=0,this._loader=t||gC()}pending(){return this._pending}sanitizeURL(t){const r=this;return gce(r),r._loader.sanitize(t,{context:"href"}).then(i=>(A_(r),i)).catch(()=>(A_(r),null))}loadImage(t){const r=this,i="undefined"!=typeof Image?Image:null;return gce(r),r._loader.sanitize(t,{context:"image"}).then(s=>{const o=s.href;if(!o||!i)throw{url:o};const a=new i,l=pr(s,"crossOrigin")?s.crossOrigin:"anonymous";return null!=l&&(a.crossOrigin=l),a.onload=()=>A_(r),a.onerror=()=>A_(r),a.src=o,a}).catch(s=>(A_(r),{complete:!1,width:0,height:0,src:s&&s.url||""}))}ready(){const t=this;return new Promise(r=>{!function i(s){t.pending()?setTimeout(()=>{i(!0)},10):r(s)}(!1)})}}function gce(e){e._pending+=1}function A_(e){e._pending-=1}function S0(e,t,r){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(r?function yKe(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,i):0))}return e}const wKe=sh-1e-8;let gE,mE,vE,mm,sU,_E,oU,aU;const h1=(e,t)=>gE.add(e,t),yE=(e,t)=>h1(mE=e,vE=t),mce=e=>h1(e,gE.y1),vce=e=>h1(gE.x1,e),vm=(e,t)=>sU*e+oU*t,_m=(e,t)=>_E*e+aU*t,lU=(e,t)=>h1(vm(e,t),_m(e,t)),uU=(e,t)=>yE(vm(e,t),_m(e,t));function d_(e,t){return gE=e,t?(mm=t*A1,sU=aU=Math.cos(mm),_E=Math.sin(mm),oU=-_E):(sU=aU=1,mm=_E=oU=0),bKe}const bKe={beginPath(){},closePath(){},moveTo:uU,lineTo:uU,rect(e,t,r,i){mm?(lU(e+r,t),lU(e+r,t+i),lU(e,t+i),uU(e,t)):(h1(e+r,t+i),yE(e,t))},quadraticCurveTo(e,t,r,i){const s=vm(e,t),o=_m(e,t),a=vm(r,i),l=_m(r,i);_ce(mE,s,a,mce),_ce(vE,o,l,vce),yE(a,l)},bezierCurveTo(e,t,r,i,s,o){const a=vm(e,t),l=_m(e,t),u=vm(r,i),c=_m(r,i),f=vm(s,o),A=_m(s,o);yce(mE,a,u,f,mce),yce(vE,l,c,A,vce),yE(f,A)},arc(e,t,r,i,s,o){if(i+=mm,s+=mm,mE=r*Math.cos(s)+e,vE=r*Math.sin(s)+t,Math.abs(s-i)>wKe)h1(e-r,t-r),h1(e+r,t+r);else{const a=c=>h1(r*Math.cos(c)+e,r*Math.sin(c)+t);let l,u;if(a(i),a(s),s!==i)if((i%=sh)<0&&(i+=sh),(s%=sh)<0&&(s+=sh),s<i&&(o=!o,l=i,i=s,s=l),o)for(s-=sh,l=i-i%gm,u=0;u<4&&l>s;++u,l-=gm)a(l);else for(l=i-i%gm+gm,u=0;u<4&&l<s;++u,l+=gm)a(l)}}};function _ce(e,t,r,i){const s=(e-t)/(e+r-2*t);0<s&&s<1&&i(e+(t-e)*s)}function yce(e,t,r,i,s){const o=i-e+3*t-3*r,a=e+r-2*t,l=e-t;let f,u=0,c=0;Math.abs(o)>1e-14?(f=a*a+l*o,f>=0&&(f=Math.sqrt(f),u=(-a+f)/o,c=(-a-f)/o)):u=.5*l/a,0<u&&u<1&&s(wce(u,e,t,r,i)),0<c&&c<1&&s(wce(c,e,t,r,i))}function wce(e,t,r,i,s){const o=1-e,a=o*o,l=e*e;return a*o*t+3*a*e*r+3*o*l*i+l*e*s}var p1=(p1=u1(1,1))?p1.getContext("2d"):null;const cU=new Ia;function fU(e){return function(t,r){if(!p1)return!0;e(p1,t),cU.clear().union(t.bounds).intersect(r).round();const{x1:i,y1:s,x2:o,y2:a}=cU;for(let l=s;l<=a;++l)for(let u=i;u<=o;++u)if(p1.isPointInPath(u,l))return!0;return!1}}function AU(e,t){return t.contains(e.x||0,e.y||0)}function bce(e,t){const r=e.x||0,i=e.y||0;return t.intersects(cU.set(r,i,r+(e.width||0),i+(e.height||0)))}function Cce(e,t){const r=e.x||0,i=e.y||0;return J3(t,r,i,null!=e.x2?e.x2:r,null!=e.y2?e.y2:i)}function J3(e,t,r,i,s){const{x1:o,y1:a,x2:l,y2:u}=e,c=i-t,f=s-r;let h,g,m,v,A=0,d=1;for(v=0;v<4;++v){if(0===v&&(h=-c,g=-(o-t)),1===v&&(h=c,g=l-t),2===v&&(h=-f,g=-(a-r)),3===v&&(h=f,g=u-r),Math.abs(h)<1e-10&&g<0)return!1;if(m=g/h,h<0){if(m>d)return!1;m>A&&(A=m)}else if(h>0){if(m<A)return!1;m<d&&(d=m)}}return!0}function Z3(e,t){e.globalCompositeOperation=t.blend||"source-over"}function OA(e,t){return e??t}function Ece(e,t){const r=t.length;for(let i=0;i<r;++i)e.addColorStop(t[i].offset,t[i].color);return e}function Sce(e,t,r){return JP(r)?function CKe(e,t,r){const i=r.width(),s=r.height();let o;if("radial"===t.gradient)o=e.createRadialGradient(r.x1+OA(t.x1,.5)*i,r.y1+OA(t.y1,.5)*s,Math.max(i,s)*OA(t.r1,0),r.x1+OA(t.x2,.5)*i,r.y1+OA(t.y2,.5)*s,Math.max(i,s)*OA(t.r2,.5));else{const a=OA(t.x1,0),l=OA(t.y1,0),u=OA(t.x2,1),c=OA(t.y2,0);if(a!==u&&l!==c&&i!==s){const f=u1(Math.ceil(i),Math.ceil(s)),A=f.getContext("2d");return A.scale(i,s),A.fillStyle=Ece(A.createLinearGradient(a,l,u,c),t.stops),A.fillRect(0,0,i,s),e.createPattern(f,"no-repeat")}o=e.createLinearGradient(r.x1+a*i,r.y1+l*s,r.x1+u*i,r.y1+c*s)}return Ece(o,t.stops)}(e,r,t.bounds):r}function wE(e,t,r){return(r*=t.fillOpacity??1)>0&&(e.globalAlpha=r,e.fillStyle=Sce(e,t,t.fill),!0)}var EKe=[];function e4(e,t,r){var i=null!=(i=t.strokeWidth)?i:1;return!(i<=0)&&(r*=t.strokeOpacity??1)>0&&(e.globalAlpha=r,e.strokeStyle=Sce(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||EKe),e.lineDashOffset=t.strokeDashOffset||0),!0)}function SKe(e,t){return e.zindex-t.zindex||e.index-t.index}function dU(e){if(!e.zdirty)return e.zitems;var i,s,o,t=e.items,r=[];for(s=0,o=t.length;s<o;++s)(i=t[s]).index=s,i.zindex&&r.push(i);return e.zdirty=!1,e.zitems=r.sort(SKe)}function RA(e,t){var i,s,r=e.items;if(!r||!r.length)return;const o=dU(e);if(o&&o.length){for(i=0,s=r.length;i<s;++i)r[i].zindex||t(r[i]);r=o}for(i=0,s=r.length;i<s;++i)t(r[i])}function bE(e,t){var i,s,r=e.items;if(!r||!r.length)return null;const o=dU(e);for(o&&o.length&&(r=o),s=r.length;--s>=0;)if(i=t(r[s]))return i;if(r===o)for(s=(r=e.items).length;--s>=0;)if(!r[s].zindex&&(i=t(r[s])))return i;return null}function hU(e){return function(t,r,i){RA(r,s=>{(!i||i.intersects(s.bounds))&&Bce(e,t,s,s)})}}function BKe(e){return function(t,r,i){r.items.length&&(!i||i.intersects(r.bounds))&&Bce(e,t,r.items[0],r.items)}}function Bce(e,t,r,i){var s=r.opacity??1;0!==s&&(e(t,i)||(Z3(t,r),r.fill&&wE(t,r,s)&&t.fill(),r.stroke&&e4(t,r,s)&&t.stroke()))}function CE(e){return e=e||Rf,function(t,r,i,s,o,a){return i*=t.pixelRatio,s*=t.pixelRatio,bE(r,l=>{const u=l.bounds;if((!u||u.contains(o,a))&&u&&e(t,l,i,s,o,a))return l})}}function h_(e,t){return function(r,i,s,o){var f,a=Array.isArray(i)?i[0]:i,l=t??a.fill,u=a.stroke&&r.isPointInStroke;return u&&(f=a.strokeCap,r.lineWidth=a.strokeWidth??1,r.lineCap=f??"butt"),!e(r,i)&&(l&&r.isPointInPath(s,o)||u&&r.isPointInStroke(s,o))}}function pU(e){return CE(h_(e))}function ym(e,t){return"translate("+e+","+t+")"}function gU(e){return"rotate("+e+")"}function xce(e){return ym(e.x||0,e.y||0)}function mU(e,t,r){function o(a,l){var u=l.x||0,c=l.y||0,f=l.angle||0;a.translate(u,c),f&&a.rotate(f*=A1),a.beginPath(),t(a,l),f&&a.rotate(-f),a.translate(-u,-c)}return{type:e,tag:"path",nested:!1,attr:function i(a,l){a("transform",function DKe(e){return ym(e.x||0,e.y||0)+(e.angle?" "+gU(e.angle):"")}(l)),a("d",t(null,l))},bound:function s(a,l){return t(d_(a,l.angle),l),S0(a,l).translate(l.x||0,l.y||0)},draw:hU(o),pick:pU(o),isect:r||fU(o)}}var MKe=mU("arc",function hKe(e,t){return aKe.context(e)(t)});function vU(e,t,r){function o(u,c){u.beginPath(),t(u,c)}const a=h_(o);return{type:e,tag:"path",nested:!0,attr:function i(u,c){var f=c.mark.items;f.length&&u("d",t(null,f))},bound:function s(u,c){var f=c.items;return 0===f.length?u:(t(d_(u),f),S0(u,f[0]))},draw:BKe(o),pick:function l(u,c,f,A,d,h){var g=c.items,m=c.bounds;return!g||!g.length||m&&!m.contains(d,h)?null:a(u,g,f*=u.pixelRatio,A*=u.pixelRatio)?g[0]:null},isect:AU,tip:r}}var OKe=vU("area",function pKe(e,t){const r=t[0];return("horizontal"===r.orient?uKe:lKe).curve(ZP(r.interpolate||"linear",r.orient,r.tension)).context(e)(t)},function TKe(e,t){for(var a,l,r="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",s=e.length,o=1/0;--s>=0;)!1!==e[s].defined&&(l=Math.abs(e[s][i]-r))<o&&(o=l,a=e[s]);return a});function Dce(e,t){e.beginPath(),rU(t)?X3(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Fce(e){const t=OA(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Mce(e,t){const r=Fce(t);e("d",X3(null,t,r,r))}function p_(e,t,r,i){const s=Fce(t);e.beginPath(),X3(e,t,(r||0)+s,(i||0)+s)}const HKe=h_(p_),VKe=h_(p_,!1),$Ke=h_(p_,!0);var jKe={type:"group",tag:"g",nested:!1,attr:function kKe(e,t){e("transform",xce(t))},bound:function QKe(e,t){if(!t.clip&&t.items){const r=t.items,i=r.length;for(let s=0;s<i;++s)e.union(r[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),S0(e,t),e.translate(t.x||0,t.y||0)},draw:function GKe(e,t,r,i){RA(t,s=>{const o=s.x||0,a=s.y||0,l=s.strokeForeground,u=s.opacity??1;(s.stroke||s.fill)&&u&&(p_(e,s,o,a),Z3(e,s),s.fill&&wE(e,s,u)&&e.fill(),s.stroke&&!l&&e4(e,s,u)&&e.stroke()),e.save(),e.translate(o,a),s.clip&&Dce(e,s),r&&r.translate(-o,-a),RA(s,c=>{("group"===c.marktype||null==i||i.includes(c.marktype))&&this.draw(e,c,r,i)}),r&&r.translate(o,a),e.restore(),l&&s.stroke&&u&&(p_(e,s,o,a),Z3(e,s),e4(e,s,u)&&e.stroke())})},pick:function zKe(e,t,r,i,s,o){if(t.bounds&&!t.bounds.contains(s,o)||!t.items)return null;const a=r*e.pixelRatio,l=i*e.pixelRatio;return bE(t,u=>{let c,f,A;const d=u.bounds;if(d&&!d.contains(s,o))return;f=u.x||0,A=u.y||0;const m=u.clip;if(m&&(s<f||s>f+(u.width||0)||o<A||o>A+(u.height||0)))return;if(e.save(),e.translate(f,A),f=s-f,A=o-A,m&&rU(u)&&!$Ke(e,u,a,l))return e.restore(),null;const v=u.strokeForeground,_=!1!==t.interactive;return _&&v&&u.stroke&&VKe(e,u,a,l)?(e.restore(),u):(c=bE(u,C=>function qKe(e,t,r){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,r)}(C,f,A)?this.pick(C,r,i,f,A):null),!c&&_&&(u.fill||!v&&u.stroke)&&HKe(e,u,a,l)&&(c=u),e.restore(),c||null)})},isect:bce,content:function LKe(e,t,r){e("clip-path",t.clip?iU(r,t,t):null)},background:function PKe(e,t){e("class","background"),e("aria-hidden",!0),Mce(e,t)},foreground:function UKe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Mce(e,t):e("d","")}},g_={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _U(e,t){var r=e.image;return(!r||e.url&&e.url!==r.url)&&(r={complete:!1,width:0,height:0},t.loadImage(e.url).then(i=>{e.image=i,e.image.url=e.url})),r}function yU(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function wU(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function EE(e,t){return"center"===e?t/2:"right"===e?t:0}function SE(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var XKe={type:"image",tag:"image",nested:!1,attr:function KKe(e,t,r){const i=_U(t,r),s=yU(t,i),o=wU(t,i),a=(t.x||0)-EE(t.align,s),l=(t.y||0)-SE(t.baseline,o);e("href",!i.src&&i.toDataURL?i.toDataURL():i.src||"",g_["xmlns:xlink"],"xlink:href"),e("transform",ym(a,l)),e("width",s),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function WKe(e,t){const r=t.image,i=yU(t,r),s=wU(t,r),o=(t.x||0)-EE(t.align,i),a=(t.y||0)-SE(t.baseline,s);return e.set(o,a,o+i,a+s)},draw:function YKe(e,t,r){RA(t,i=>{if(r&&!r.intersects(i.bounds))return;const s=_U(i,this);let o=yU(i,s),a=wU(i,s);if(0===o||0===a)return;let c,f,A,d,l=(i.x||0)-EE(i.align,o),u=(i.y||0)-SE(i.baseline,a);!1!==i.aspect&&(f=s.width/s.height,A=i.width/i.height,f==f&&A==A&&f!==A&&(A<f?(d=o/f,u+=(a-d)/2,a=d):(d=a*f,l+=(o-d)/2,o=d))),(s.complete||s.toDataURL)&&(Z3(e,i),e.globalAlpha=null!=(c=i.opacity)?c:1,e.imageSmoothingEnabled=!1!==i.smooth,e.drawImage(s,l,u,o,a))})},pick:CE(),isect:Rf,get:_U,xOffset:EE,yOffset:SE},JKe=vU("line",function gKe(e,t){const r=t[0];return cKe.curve(ZP(r.interpolate||"linear",r.orient,r.tension)).context(e)(t)},function IKe(e,t){for(var s,o,r=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(s=e[i].x-t[0])*s+(o=e[i].y-t[1])*o<r)return e[i];return null});function BE(e,t){var r=t.path;if(null==r)return!0;var i=t.x||0,s=t.y||0,o=t.scaleX||1,a=t.scaleY||1,l=(t.angle||0)*A1,u=t.pathCache;(!u||u.path!==r)&&((t.pathCache=u=W3(r)).path=r),l&&e.rotate&&e.translate?(e.translate(i,s),e.rotate(l),l_(e,u,0,0,o,a),e.rotate(-l),e.translate(-i,-s)):l_(e,u,i,s,o,a)}var tWe={type:"path",tag:"path",nested:!1,attr:function ZKe(e,t){(1!==(t.scaleX||1)||1!==(t.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function FKe(e){return ym(e.x||0,e.y||0)+(e.angle?" "+gU(e.angle):"")+(e.scaleX||e.scaleY?" "+function xKe(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function eWe(e,t){return BE(d_(e,t.angle),t)?e.set(0,0,0,0):S0(e,t,!0)},draw:hU(BE),pick:pU(BE),isect:fU(BE)};function Tce(e,t){e.beginPath(),X3(e,t)}var iWe={type:"rect",tag:"path",nested:!1,attr:function nWe(e,t){e("d",X3(null,t))},bound:function rWe(e,t){var r,i;return S0(e.set(r=t.x||0,i=t.y||0,r+t.width||0,i+t.height||0),t)},draw:hU(Tce),pick:pU(Tce),isect:bce};function Ice(e,t,r){var i,s,o,a;return!(!t.stroke||!e4(e,t,r)||(i=t.x||0,s=t.y||0,o=null!=t.x2?t.x2:i,a=null!=t.y2?t.y2:s,e.beginPath(),e.moveTo(i,s),e.lineTo(o,a),0))}var uWe={type:"rule",tag:"line",nested:!1,attr:function sWe(e,t){e("transform",xce(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function oWe(e,t){var r,i;return S0(e.set(r=t.x||0,i=t.y||0,null!=t.x2?t.x2:r,null!=t.y2?t.y2:i),t)},draw:function aWe(e,t,r){RA(t,i=>{if(!r||r.intersects(i.bounds)){var s=i.opacity??1;s&&Ice(e,i,s)&&(Z3(e,i),e.stroke())}})},pick:CE(function lWe(e,t,r,i){return!!e.isPointInStroke&&Ice(e,t,1)&&e.isPointInStroke(r,i)}),isect:Cce},cWe=mU("shape",function mKe(e,t){return(t.mark.shape||t.shape).context(e)(t)}),fWe=mU("symbol",function vKe(e,t){return AKe.context(e)(t)},AU);const Nce=Pie();var $c={height:oh,measureWidth:bU,estimateWidth:xE,width:xE,canvas:Oce};function Oce(e){$c.width=e&&p1?bU:xE}function xE(e,t){return Rce(m1(e,t),oh(e))}function Rce(e,t){return~~(.8*e.length*t)}function bU(e,t){return oh(e)<=0||!(t=m1(e,t))?0:kce(t,DE(e))}function kce(e,t){const r=`(${t}) ${e}`;let i=Nce.get(r);return void 0===i&&(p1.font=t,i=p1.measureText(e).width,Nce.set(r,i)),i}function oh(e){return null!=e.fontSize?+e.fontSize||0:11}function g1(e){return null!=e.lineHeight?e.lineHeight:oh(e)+2}function m_(e){return function AWe(e){return Zt(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!Zt(e.text)?e.text.split(e.lineBreak):e.text)}function CU(e){const t=m_(e);return(Zt(t)?t.length-1:0)*g1(e)}function m1(e,t){const r=null==t?"":(t+"").trim();return e.limit>0&&r.length?function hWe(e,t){var r=+e.limit,i=function dWe(e){if($c.width===bU){const t=DE(e);return r=>kce(r,t)}if($c.width===xE){const t=oh(e);return r=>Rce(r,t)}return t=>$c.width(e,t)}(e);if(i(t)<r)return t;var u,s=e.ellipsis||"\u2026",o="rtl"===e.dir,a=0,l=t.length;if(r-=i(s),o){for(;a<l;)i(t.slice(u=a+l>>>1))>r?a=u+1:l=u;return s+t.slice(a)}for(;a<l;)i(t.slice(0,u=1+(a+l>>>1)))<r?a=u:l=u-1;return t.slice(0,a)+s}(e,r):r}function v_(e,t){var r=e.font;return(t&&r?String(r).replace(/"/g,"'"):r)||"sans-serif"}function DE(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+oh(e)+"px "+v_(e,t)}function EU(e){var t=e.baseline,r=oh(e);return Math.round("top"===t?.79*r:"middle"===t?.3*r:"bottom"===t?-.21*r:"line-top"===t?.29*r+.5*g1(e):"line-bottom"===t?.29*r-.5*g1(e):0)}Oce(!0);const pWe={left:"start",center:"middle",right:"end"},__=new Ia;function FE(e){var s,t=e.x||0,r=e.y||0,i=e.radius||0;return i&&(s=(e.theta||0)-gm,t+=i*Math.cos(s),r+=i*Math.sin(s)),__.x1=t,__.y1=r,__}function SU(e,t,r){var A,i=$c.height(t),s=t.align,o=FE(t),a=o.x1,l=o.y1,u=t.dx||0,c=(t.dy||0)+EU(t)-Math.round(.8*i),f=m_(t);if(Zt(f)?(i+=g1(t)*(f.length-1),A=f.reduce((d,h)=>Math.max(d,$c.width(t,h)),0)):A=$c.width(t,f),"center"===s?u-=A/2:"right"===s&&(u-=A),e.set(u+=a,c+=l,u+A,c+i),t.angle&&!r)e.rotate(t.angle*A1,a,l);else if(2===r)return e.rotatedPoints(t.angle*A1,a,l);return e}var yWe={type:"text",tag:"text",nested:!1,attr:function gWe(e,t){var u,r=t.dx||0,i=(t.dy||0)+EU(t),s=FE(t),o=s.x1,a=s.y1,l=t.angle||0;e("text-anchor",pWe[t.align]||"start"),l?(u=ym(o,a)+" "+gU(l),(r||i)&&(u+=" "+ym(r,i))):u=ym(o+r,a+i),e("transform",u)},bound:SU,draw:function mWe(e,t,r){RA(t,i=>{var o,a,l,u,c,f,A,s=i.opacity??1;if(!(r&&!r.intersects(i.bounds)||0===s||i.fontSize<=0||null==i.text||0===i.text.length)){if(e.font=DE(i),e.textAlign=i.align||"left",a=(o=FE(i)).x1,l=o.y1,i.angle&&(e.save(),e.translate(a,l),e.rotate(i.angle*A1),a=l=0),a+=i.dx||0,l+=(i.dy||0)+EU(i),f=m_(i),Z3(e,i),Zt(f))for(c=g1(i),u=0;u<f.length;++u)A=m1(i,f[u]),i.fill&&wE(e,i,s)&&e.fillText(A,a,l),i.stroke&&e4(e,i,s)&&e.strokeText(A,a,l),l+=c;else A=m1(i,f),i.fill&&wE(e,i,s)&&e.fillText(A,a,l),i.stroke&&e4(e,i,s)&&e.strokeText(A,a,l);i.angle&&e.restore()}})},pick:CE(function vWe(e,t,r,i,s,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=FE(t),l=a.x1,u=a.y1,c=SU(__,t,1),f=-t.angle*A1,A=Math.cos(f),d=Math.sin(f);return c.contains(A*s-d*o+(l-A*l+d*u),d*s+A*o+(u-d*l-A*u))}),isect:function _We(e,t){const r=SU(__,e,2);return J3(t,r[0],r[1],r[2],r[3])||J3(t,r[0],r[1],r[4],r[5])||J3(t,r[4],r[5],r[6],r[7])||J3(t,r[2],r[3],r[6],r[7])}},wWe=vU("trail",function _Ke(e,t){return dKe.context(e)(t)},function NKe(e,t){for(var i,s,r=e.length;--r>=0;)if(!1!==e[r].defined&&(i=e[r].x-t[0])*i+(s=e[r].y-t[1])*s<(i=e[r].size||1)*i)return e[r];return null}),Gc={arc:MKe,area:OKe,group:jKe,image:XKe,line:JKe,path:tWe,rect:iWe,rule:uWe,shape:cWe,symbol:fWe,text:yWe,trail:wWe};function BU(e,t,r){var i=Gc[e.mark.marktype];return i.nested&&(e=e.mark),(t||i.bound)(e.bounds||(e.bounds=new Ia),e,r)}var Pce={mark:null};function Uce(e,t,r){var l,u,c,f,i=Gc[e.marktype],s=i.bound,o=e.items,a=o&&o.length;if(i.nested)return a?c=o[0]:(Pce.mark=e,c=Pce),f=BU(c,s,r),t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new Ia,a)for(l=0,u=o.length;l<u;++l)t.union(BU(o[l],s,r));return e.bounds=t}const bWe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Lce(e,t){return JSON.stringify(e,bWe,t)}function Qce(e){return Hce("string"==typeof e?JSON.parse(e):e)}function Hce(e){var i,s,o,t=e.marktype,r=e.items;if(r)for(s=0,o=r.length;s<o;++s)r[s][i=t?"mark":"group"]=e,r[s].zindex&&(r[s][i].zdirty=!0),"group"===(t||i)&&Hce(r[s]);return t&&Uce(e),e}class Vce{constructor(t){arguments.length?this.root=Qce(t):(this.root=$ce({marktype:"group",name:"root",role:"frame"}),this.root.items=[new pE(this.root)])}toJSON(t){return Lce(this.root,t||0)}mark(t,r,i){const s=$ce(t,r=r||this.root.items[0]);return r.items[i]=s,s.zindex&&(s.group.zdirty=!0),s}}function $ce(e,t){const r={bounds:new Ia,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(r.aria=e.aria),e.description&&(r.description=e.description),r}function v1(e,t,r){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?r?e.createElementNS(r,t):e.createElement(t):null}function xU(e,t){t=t.toLowerCase();for(var r=e.childNodes,i=0,s=r.length;i<s;++i)if(r[i].tagName.toLowerCase()===t)return r[i]}function za(e,t,r,i){var o,s=e.childNodes[t];return(!s||s.tagName.toLowerCase()!==r.toLowerCase())&&(o=s||null,s=v1(e.ownerDocument,r,i),e.insertBefore(s,o)),s}function zf(e,t){for(var r=e.childNodes,i=r.length;i>t;)e.removeChild(r[--i]);return e}function Gce(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function ME(e,t){const r=t.getBoundingClientRect();return[e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0)]}class DU{constructor(t,r){this._active=null,this._handlers={},this._loader=t||gC(),this._tooltip=r||EWe}initialize(t,r,i){return this._el=t,this._obj=i||null,this.origin(r)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,r,i){for(let s=t?t.length:0;--s>=0;)if(t[s].type===r&&(!i||t[s].handler===i))return s;return-1}handlers(t){const r=this._handlers,i=[];if(t)i.push(...r[this.eventName(t)]);else for(const s in r)i.push(...r[s]);return i}eventName(t){const r=t.indexOf(".");return r<0?t:t.slice(0,r)}handleHref(t,r,i){this._loader.sanitize(i,{context:"href"}).then(s=>{const o=new MouseEvent(t.type,t),a=v1(null,"a");for(const l in s)a.setAttribute(l,s[l]);a.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,r,i){r&&null!=r.tooltip&&(r=function CWe(e,t,r,i){var o,a,s=e&&e.mark;if(s&&(o=Gc[s.marktype]).tip){for((a=ME(t,r))[0]-=i[0],a[1]-=i[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=o.tip(s.items,a)}return e}(r,t,this.canvas(),this._origin),this._tooltip.call(this._obj,this,t,r,i&&r&&r.tooltip||null))}getItemBoundingClientRect(t){const r=this.canvas();if(!r)return;const i=r.getBoundingClientRect(),s=this._origin,o=t.bounds,a=o.width(),l=o.height();let u=o.x1+s[0]+i.left,c=o.y1+s[1]+i.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,c+=t.y||0;return{x:u,y:c,width:a,height:l,left:u,top:c,right:u+a,bottom:c+l}}}function EWe(e,t,r,i){e.element().setAttribute("title",i||"")}class y_{constructor(t){this._el=null,this._bgcolor=null,this._loader=new pce(t)}initialize(t,r,i,s,o){return this._el=t,this.resize(r,i,s,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)}resize(t,r,i,s){return this._width=t,this._height=r,this._origin=i||[0,0],this._scale=s||1,this}dirty(){}render(t,r){const i=this;return i._call=function(){i._render(t,r)},i._call(),i._call=null,i}_render(){}renderAsync(t,r){const i=this.render(t,r);return this._ready?this._ready.then(()=>i):Promise.resolve(i)}_load(t,r){var i=this,s=i._loader[t](r);if(!i._ready){const o=i._call;i._ready=i._loader.ready().then(a=>{a&&o(),i._ready=null})}return s}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const TE="dragleave",FU="pointerdown",IE="pointermove",NE="pointerout",jce="pointerover",MU="mousedown",OE="mouseout",RE="click",Yce="mousewheel",kE="touchstart",PE="touchmove",UE="touchend",IWe=["keydown","keypress","keyup","dragenter",TE,"dragover",FU,"pointerup",IE,NE,jce,MU,"mouseup","mousemove",OE,"mouseover",RE,"dblclick","wheel",Yce,kE,PE,UE],TU=IE,w_=OE,IU=RE;class b_ extends DU{constructor(t,r){super(t,r),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=IWe,this.pointermove=Jce([IE,"mousemove"],[jce,"mouseover"],[NE,OE]),this.dragover=Jce(["dragover"],["dragenter"],[TE]),this.pointerout=Zce([NE,OE]),this.dragleave=Zce([TE])}initialize(t,r,i){return this._canvas=t&&xU(t,"canvas"),[RE,MU,FU,IE,NE,TE].forEach(s=>Xce(this,s)),super.initialize(t,r,i)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Yce,t)}pointerdown(t){this._down=this._active,this.fire(FU,t)}mousedown(t){this._down=this._active,this.fire(MU,t)}click(t){this._down===this._active&&(this.fire(RE,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(kE,t,!0)}touchmove(t){this.fire(PE,t,!0)}touchend(t){this.fire(UE,t,!0),this._touch=null}fire(t,r,i){const s=i?this._touch:this._active,o=this._handlers[t];if(r.vegaType=t,t===IU&&s&&s.href?this.handleHref(r,s,s.href):(t===TU||t===w_)&&this.handleTooltip(r,s,t!==w_),o)for(let a=0,l=o.length;a<l;++a)o[a].handler.call(this._obj,r,s)}on(t,r){const i=this.eventName(t),s=this._handlers;return this._handlerIndex(s[i],t,r)<0&&(Xce(this,t),(s[i]||(s[i]=[])).push({type:t,handler:r})),this}off(t,r){const i=this.eventName(t),s=this._handlers[i],o=this._handlerIndex(s,t,r);return o>=0&&s.splice(o,1),this}pickEvent(t){const r=ME(t,this._canvas),i=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-i[0],r[1]-i[1])}pick(t,r,i,s,o){const a=this.context();return Gc[t.marktype].pick.call(this,a,t,r,i,s,o)}}function Xce(e,t){(e=>e===kE||e===PE||e===UE?[kE,PE,UE]:[e])(t).forEach(r=>function OWe(e,t){const r=e.canvas();r&&!e._events[t]&&(e._events[t]=1,r.addEventListener(t,e[t]?i=>e[t](i):i=>e.fire(t,i)))}(e,r))}function C_(e,t,r){t.forEach(i=>e.fire(i,r))}function Jce(e,t,r){return function(i){const s=this._active,o=this.pickEvent(i);o===s||((!s||!s.exit)&&C_(this,r,i),this._active=o,C_(this,t,i)),C_(this,e,i)}}function Zce(e){return function(t){C_(this,e,t),this._active=null}}class LE extends y_{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Ia,this._tempb=new Ia}initialize(t,r,i,s,o,a){return this._options=a||{},this._canvas=this._options.externalContext?null:u1(1,1),t&&this._canvas&&(zf(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,r,i,s,o)}resize(t,r,i,s){if(super.resize(t,r,i,s),this._canvas)!function kWe(e,t,r,i,s,o){const a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,l=e.getContext("2d"),u=a?function RWe(){return"undefined"!=typeof window&&window.devicePixelRatio||1}():s;e.width=t*u,e.height=r*u;for(const c in o)l[c]=o[c];return a&&1!==u&&(e.style.width=t+"px",e.style.height=r+"px"),l.pixelRatio=u,l.setTransform(u,0,0,u,u*i[0],u*i[1]),e}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||Yt("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const r=this._tempb.clear().union(t.bounds);let i=t.mark.group;for(;i;)r.translate(i.x||0,i.y||0),i=i.mark.group;this._dirty.union(r)}_render(t,r){const i=this.context(),s=this._origin,o=this._width,a=this._height,l=this._dirty,u=PWe(s,o,a);i.save();const c=this._redraw||l.empty()?(this._redraw=!1,u.expand(1)):function UWe(e,t,r){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-r[0]%1,-r[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(i,u.intersect(l),s);return this.clear(-s[0],-s[1],o,a),this.draw(i,t,c,r),i.restore(),l.clear(),this}draw(t,r,i,s){if("group"!==r.marktype&&null!=s&&!s.includes(r.marktype))return;const o=Gc[r.marktype];r.clip&&function RKe(e,t){var r=t.clip;e.save(),Ni(r)?(e.beginPath(),r(e),e.clip()):Dce(e,t.group)}(t,r),o.draw.call(this,t,r,i,s),r.clip&&t.restore()}clear(t,r,i,s){const o=this._options,a=this.context();"pdf"!==o.type&&!o.externalContext&&a.clearRect(t,r,i,s),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(t,r,i,s))}}const PWe=(e,t,r)=>(new Ia).set(0,0,t,r).translate(-e[0],-e[1]);class efe extends DU{constructor(t,r){super(t,r);const i=this;i._hrefHandler=NU(i,(s,o)=>{o&&o.href&&i.handleHref(s,o,o.href)}),i._tooltipHandler=NU(i,(s,o)=>{i.handleTooltip(s,o,s.type!==w_)})}initialize(t,r,i){let s=this._svg;return s&&(s.removeEventListener(IU,this._hrefHandler),s.removeEventListener(TU,this._tooltipHandler),s.removeEventListener(w_,this._tooltipHandler)),this._svg=s=t&&xU(t,"svg"),s&&(s.addEventListener(IU,this._hrefHandler),s.addEventListener(TU,this._tooltipHandler),s.addEventListener(w_,this._tooltipHandler)),super.initialize(t,r,i)}canvas(){return this._svg}on(t,r){const i=this.eventName(t),s=this._handlers;if(this._handlerIndex(s[i],t,r)<0){const a={type:t,handler:r,listener:NU(this,r)};(s[i]||(s[i]=[])).push(a),this._svg&&this._svg.addEventListener(i,a.listener)}return this}off(t,r){const i=this.eventName(t),s=this._handlers[i],o=this._handlerIndex(s,t,r);return o>=0&&(this._svg&&this._svg.removeEventListener(i,s[o].listener),s.splice(o,1)),this}}const NU=(e,t)=>r=>{let i=r.target.__data__;i=Array.isArray(i)?i[0]:i,r.vegaType=r.type,t.call(e._obj,r,i)},tfe="aria-hidden",OU="aria-label",RU="role",kU="aria-roledescription",nfe="graphics-object",PU="graphics-symbol",rfe=(e,t,r)=>({[RU]:e,[kU]:t,[OU]:r||void 0}),LWe=DA(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),ife={axis:{desc:"axis",caption:function VWe(e){const t=e.datum,r=e.orient,i=t.title?ufe(e):null,s=e.context,o=s.scales[t.scale].value,a=s.dataflow.locale(),l=o.type;return("left"===r||"right"===r?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${K3(l)?"discrete":l} scale with ${tce(a,o,e)}`}},legend:{desc:"legend",caption:function $We(e){const t=e.datum,r=t.title?ufe(e):null,i=`${t.type||""} legend`.trim(),s=t.scales,o=Object.keys(s),a=e.context,l=a.scales[s[o[0]]].value,u=a.dataflow.locale();return function zWe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(i)+(r?` titled '${r}'`:"")+` for ${function GWe(e){return e=e.map(t=>t+("fill"===t||"stroke"===t?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+ds(e)}(o)} with ${tce(u,l,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${lfe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${lfe(e)}'`}},sfe={ariaRole:RU,ariaRoleDescription:kU,description:OU};function ofe(e,t){const r=!1===t.aria;if(e(tfe,r||void 0),r||null==t.description)for(const i in sfe)e(sfe[i],void 0);else{const i=t.mark.marktype;e(OU,t.description),e(RU,t.ariaRole||("group"===i?nfe:PU)),e(kU,t.ariaRoleDescription||`${i} mark`)}}function afe(e){return!1===e.aria?{[tfe]:!0}:LWe[e.role]?null:ife[e.role]?function HWe(e,t){try{const r=e.items[0],i=t.caption||(()=>"");return rfe(t.role||PU,t.desc,r.description||i(r))}catch{return null}}(e,ife[e.role]):function QWe(e){const t=e.marktype,r="group"===t||"text"===t||e.items.some(i=>null!=i.description&&!1!==i.aria);return rfe(r?nfe:PU,`${t} mark container`,e.description)}(e)}function lfe(e){return ar(e.text).join(" ")}function ufe(e){try{return ar(ds(e.items).items[0].text).join(" ")}catch{return null}}const cfe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function UU(){let e="",t="",r="";const i=[],s=()=>t=r="",a=(u,c)=>(null!=c&&(t+=` ${u}="${(e=>cfe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))(c)}"`),l),l={open(u){(u=>{t&&(e+=`${t}>${r}`,s()),i.push(u)})(u),t="<"+u;for(var c=arguments.length,f=new Array(c>1?c-1:0),A=1;A<c;A++)f[A-1]=arguments[A];for(const d of f)for(const h in d)a(h,d[h]);return l},close(){const u=i.pop();return e+=t?t+(r?`>${r}</${u}>`:"/>"):`</${u}>`,s(),l},attr:a,text:u=>(r+=cfe(u),l),toString:()=>e};return l}const ffe=e=>Afe(UU(),e)+"";function Afe(e,t){if(e.open(t.tagName),t.hasAttributes()){const r=t.attributes,i=r.length;for(let s=0;s<i;++s)e.attr(r[s].name,r[s].value)}if(t.hasChildNodes()){const r=t.childNodes;for(const i of r)3===i.nodeType?e.text(i.nodeValue):Afe(e,i)}return e.close()}const QE={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},HE={blend:"mix-blend-mode"},dfe={fill:"none","stroke-miterlimit":10},hfe="http://www.w3.org/2000/xmlns/",qa=g_.xmlns;class LU extends y_{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,r,i,s,o){return this._defs={},this._clearDefs(),t&&(this._svg=za(t,0,"svg",qa),this._svg.setAttributeNS(hfe,"xmlns",qa),this._svg.setAttributeNS(hfe,"xmlns:xlink",g_["xmlns:xlink"]),this._svg.setAttribute("version",g_.version),this._svg.setAttribute("class","marks"),zf(t,1),this._root=za(this._svg,0,"g",qa),_1(this._root,dfe),zf(this._svg,1)),this.background(this._bgcolor),super.initialize(t,r,i,s,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,r,i,s){return super.resize(t,r,i,s),this._svg&&(_1(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,r=this._bgcolor;if(!t)return null;let i;r&&(t.removeAttribute("style"),i=za(t,0,"rect",qa),_1(i,{width:this._width,height:this._height,fill:r}));const s=ffe(t);return r&&(t.removeChild(i),this._svg.style.setProperty("background-color",r)),s}_render(t,r){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,r),zf(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const r=++this._dirtyID;let i,s,o,a,l,u,c;for(l=0,u=t.length;l<u;++l)if(i=t[l],s=i.mark,s.marktype!==o&&(o=s.marktype,a=Gc[o]),s.zdirty&&s.dirty!==r&&(this._dirtyAll=!1,pfe(i,r),s.items.forEach(f=>{f.dirty=r})),!s.zdirty){if(i.exit){a.nested&&s.items.length?(c=s.items[0],c._svg&&this._update(a,c._svg,c)):i._svg&&(c=i._svg.parentNode,c&&c.removeChild(i._svg)),i._svg=null;continue}i=a.nested?s.items[0]:i,i._update!==r&&(i._svg&&i._svg.ownerSVGElement?this._update(a,i._svg,i):(this._dirtyAll=!1,pfe(i,r)),i._update=r)}return!this._dirtyAll}mark(t,r,i,s){if(!this.isDirty(r))return r._svg;const o=this._svg,a=r.marktype,l=Gc[a],u=!1===r.interactive?"none":null,c="g"===l.tag,f=gfe(r,t,i,"g",o);if("group"!==a&&null!=s&&!s.includes(a))return zf(f,0),r._svg;f.setAttribute("class",Gce(r));const A=afe(r);for(const m in A)Nu(f,m,A[m]);c||Nu(f,"pointer-events",u),Nu(f,"clip-path",r.clip?iU(this,r,r.group):null);let d=null,h=0;const g=m=>{const v=this.isDirty(m),_=gfe(m,f,d,l.tag,o);v&&(this._update(l,_,m),c&&function WWe(e,t,r,i){t=t.lastChild.previousSibling;let s,o=0;RA(r,a=>{s=e.mark(t,a,s,i),++o}),zf(t,1+o)}(this,_,m,s)),d=_,++h};return l.nested?r.items.length&&g(r.items[0]):RA(r,g),zf(f,h),f}_update(t,r,i){B0=r,ou=r.__values__,ofe(S_,i),t.attr(S_,i,this);const s=XWe[t.type];s&&s.call(this,t,r,i),B0&&this.style(B0,i)}style(t,r){if(null!=r){for(const i in QE){let s="font"===i?v_(r):r[i];if(s===ou[i])continue;const o=QE[i];null==s?t.removeAttribute(o):(JP(s)&&(s=rce(s,this._defs.gradient,mfe())),t.setAttribute(o,s+"")),ou[i]=s}for(const i in HE)VE(t,HE[i],r[i])}}defs(){const t=this._svg,r=this._defs;let i=r.el,s=0;for(const o in r.gradient)i||(r.el=i=za(t,1,"defs",qa)),s=jWe(i,r.gradient[o],s);for(const o in r.clipping)i||(r.el=i=za(t,1,"defs",qa)),s=KWe(i,r.clipping[o],s);i&&(0===s?(t.removeChild(i),r.el=null):zf(i,s))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function pfe(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function jWe(e,t,r){let i,s,o;if("radial"===t.gradient){let a=za(e,r++,"pattern",qa);_1(a,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=za(a,0,"rect",qa),_1(a,{width:1,height:1,fill:`url(${mfe()}#${t.id})`}),_1(e=za(e,r++,"radialGradient",qa),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else _1(e=za(e,r++,"linearGradient",qa),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,s=t.stops.length;i<s;++i)o=za(e,i,"stop",qa),o.setAttribute("offset",t.stops[i].offset),o.setAttribute("stop-color",t.stops[i].color);return zf(e,i),r}function KWe(e,t,r){let i;return(e=za(e,r,"clipPath",qa)).setAttribute("id",t.id),t.path?(i=za(e,0,"path",qa),i.setAttribute("d",t.path)):(i=za(e,0,"rect",qa),_1(i,{x:0,y:0,width:t.width,height:t.height})),zf(e,1),r+1}function gfe(e,t,r,i,s){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=v1(a,i,qa),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){const l=v1(a,"path",qa);o.appendChild(l),l.__data__=e;const u=v1(a,"g",qa);o.appendChild(u),u.__data__=e;const c=v1(a,"path",qa);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==s||function YWe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,r))&&t.insertBefore(o,r?r.nextSibling:t.firstChild),o}let B0=null,ou=null;const XWe={group(e,t,r){const i=B0=t.childNodes[2];ou=i.__values__,e.foreground(S_,r,this),ou=t.__values__,B0=t.childNodes[1],e.content(S_,r,this);const s=B0=t.childNodes[0];e.background(S_,r,this);const o=!1===r.mark.interactive?"none":null;if(o!==ou.events&&(Nu(i,"pointer-events",o),Nu(s,"pointer-events",o),ou.events=o),r.strokeForeground&&r.stroke){const a=r.fill;Nu(i,"display",null),this.style(s,r),Nu(s,"stroke",null),a&&(r.fill=null),ou=i.__values__,this.style(i,r),a&&(r.fill=a),B0=null}else Nu(i,"display","none")},image(e,t,r){!1===r.smooth?(VE(t,"image-rendering","optimizeSpeed"),VE(t,"image-rendering","pixelated")):VE(t,"image-rendering",null)},text(e,t,r){const i=m_(r);let s,o,a,l;Zt(i)?(o=i.map(u=>m1(r,u)),s=o.join("\n"),s!==ou.text&&(zf(t,0),a=t.ownerDocument,l=g1(r),o.forEach((u,c)=>{const f=v1(a,"tspan",qa);f.__data__=r,f.textContent=u,c&&(f.setAttribute("x",0),f.setAttribute("dy",l)),t.appendChild(f)}),ou.text=s)):(o=m1(r,i),o!==ou.text&&(t.textContent=o,ou.text=o)),Nu(t,"font-family",v_(r)),Nu(t,"font-size",oh(r)+"px"),Nu(t,"font-style",r.fontStyle),Nu(t,"font-variant",r.fontVariant),Nu(t,"font-weight",r.fontWeight)}};function S_(e,t,r){t!==ou[e]&&(r?function JWe(e,t,r,i){null!=r?e.setAttributeNS(i,t,r):e.removeAttributeNS(i,t)}(B0,e,t,r):Nu(B0,e,t),ou[e]=t)}function VE(e,t,r){r!==ou[t]&&(null==r?e.style.removeProperty(t):e.style.setProperty(t,r+""),ou[t]=r)}function _1(e,t){for(const r in t)Nu(e,r,t[r])}function Nu(e,t,r){null!=r?e.setAttribute(t,r):e.removeAttribute(t)}function mfe(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class vfe extends y_{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const r=UU();r.open("svg",Oi({},g_,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const i=this._bgcolor;return i&&"transparent"!==i&&"none"!==i&&r.open("rect",{width:this._width,height:this._height,fill:i}).close(),r.open("g",dfe,{transform:"translate("+this._origin+")"}),this.mark(r,t),r.close(),this.defs(r),this._text=r.close()+"",this}mark(t,r){const i=Gc[r.marktype],s=i.tag,o=[ofe,i.attr];t.open("g",{class:Gce(r),"clip-path":r.clip?iU(this,r,r.group):null},afe(r),{"pointer-events":"g"!==s&&!1===r.interactive?"none":null});const a=l=>{const u=this.href(l);if(u&&t.open("a",u),t.open(s,this.attr(r,l,o,"g"!==s?s:null)),"text"===s){const c=m_(l);if(Zt(c)){const f={x:0,dy:g1(l)};for(let A=0;A<c.length;++A)t.open("tspan",A?f:null).text(m1(l,c[A])).close()}else t.text(m1(l,c))}else if("g"===s){const c=l.strokeForeground,f=l.fill,A=l.stroke;c&&A&&(l.stroke=null),t.open("path",this.attr(r,l,i.background,"bgrect")).close(),t.open("g",this.attr(r,l,i.content)),RA(l,d=>this.mark(t,d)),t.close(),c&&A?(f&&(l.fill=null),l.stroke=A,t.open("path",this.attr(r,l,i.foreground,"bgrect")).close(),f&&(l.fill=f)):t.open("path",this.attr(r,l,i.foreground,"bgfore")).close()}t.close(),u&&t.close()};return i.nested?r.items&&r.items.length&&a(r.items[0]):RA(r,a),t.close()}href(t){const r=t.href;let i;if(r){if(i=this._hrefs&&this._hrefs[r])return i;this.sanitizeURL(r).then(s=>{s["xlink:href"]=s.href,s.href=null,(this._hrefs||(this._hrefs={}))[r]=s})}return null}attr(t,r,i,s){const o={},a=(l,u,c,f)=>{o[f||l]=u};return Array.isArray(i)?i.forEach(l=>l(a,r,this)):i(a,r,this),s&&function ZWe(e,t,r,i,s){let o;if(null==t||("bgrect"===i&&!1===r.interactive&&(e["pointer-events"]="none"),"bgfore"===i&&(!1===r.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill)))return e;"image"===i&&!1===t.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),"text"===i&&(e["font-family"]=v_(t),e["font-size"]=oh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in QE){let l=t[a];const u=QE[a];"transparent"===l&&("fill"===u||"stroke"===u)||null!=l&&(JP(l)&&(l=rce(l,s.gradient,"")),e[u]=l)}for(const a in HE){const l=t[a];null!=l&&(o=o||[],o.push(`${HE[a]}: ${l};`))}o&&(e.style=o.join(" "))}(o,r,t,s,this._defs),o}defs(t){const r=this._defs.gradient,i=this._defs.clipping;if(Object.keys(r).length+Object.keys(i).length!==0){t.open("defs");for(const o in r){const a=r[o],l=a.stops;"radial"===a.gradient?(t.open("pattern",{id:"p_"+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:o,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let u=0;u<l.length;++u)t.open("stop",{offset:l[u].offset,"stop-color":l[u].color}).close();t.close()}for(const o in i){const a=i[o];t.open("clipPath",{id:o}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}const kA={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function eYe(e){kA.svgMarkTypes=e.svgMarkTypes??["text"],kA.svgOnTop=e.svgOnTop??!0,kA.debug=e.debug??!1}class QU extends y_{constructor(t){super(t),this._svgRenderer=new LU(t),this._canvasRenderer=new LE(t)}initialize(t,r,i,s,o){this._root_el=za(t,0,"div");const a=za(this._root_el,0,"div"),l=za(this._root_el,1,"div");return this._root_el.style.position="relative",kA.debug||(a.style.height="100%",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%"),this._svgEl=kA.svgOnTop?l:a,this._canvasEl=kA.svgOnTop?a:l,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,r,i,s,o),this._svgRenderer.initialize(this._svgEl,r,i,s,o),super.initialize(t,r,i,s,o)}dirty(t){return kA.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,r){const s=(r??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!kA.svgMarkTypes.includes(o));this._svgRenderer.render(t,kA.svgMarkTypes),this._canvasRenderer.render(t,s)}resize(t,r,i,s){return super.resize(t,r,i,s),this._svgRenderer.resize(t,r,i,s),this._canvasRenderer.resize(t,r,i,s),this}background(t){return kA.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class _fe extends b_{constructor(t,r){super(t,r)}initialize(t,r,i){const s=za(za(t,0,"div"),kA.svgOnTop?0:1,"div");return super.initialize(s,r,i)}}const y1={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"},wm={};function $E(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(wm[e]=t,this):wm[e]}function Sfe(e,t,r){const i=[],s=(new Ia).union(t),o=e.marktype;return o?Bfe(e,s,r,i):"group"===o?xfe(e,s,r,i):Yt("Intersect scene must be mark node or group item.")}function Bfe(e,t,r,i){if(function tYe(e,t,r){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!r||r(e)))}(e,t,r)){const s=e.items,o=e.marktype,a=s.length;let l=0;if("group"===o)for(;l<a;++l)xfe(s[l],t,r,i);else for(const u=Gc[o].isect;l<a;++l){const c=s[l];Dfe(c,t,u)&&i.push(c)}}return i}function xfe(e,t,r,i){r&&r(e.mark)&&Dfe(e,t,Gc.group.isect)&&i.push(e);const s=e.items,o=s&&s.length;if(o){const a=e.x||0,l=e.y||0;t.translate(-a,-l);for(let u=0;u<o;++u)Bfe(s[u],t,r,i);t.translate(a,l)}return i}function Dfe(e,t,r){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&r(e,t)}wm.canvas=wm.png={renderer:LE,headless:LE,handler:b_},wm.svg={renderer:LU,headless:vfe,handler:efe},wm.hybrid={renderer:QU,headless:QU,handler:_fe},wm.none={};const HU=new Ia;function Ffe(e){const t=e.clip;if(Ni(t))t(d_(HU.clear()));else{if(!t)return;HU.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(HU)}function VU(e,t,r){return e===t||("path"===r?Mfe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Ns(e)&&Ns(t)?Math.abs(e-t)<=1e-9:e&&t&&(sr(e)||sr(t))?function rYe(e,t){var s,o,r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(r.sort(),i.sort(),o=r.length-1;o>=0;o--)if(r[o]!=i[o])return!1;for(o=r.length-1;o>=0;o--)if(!VU(e[s=r[o]],t[s],s))return!1;return typeof e==typeof t}(e,t):e==t)}function Mfe(e,t){return VU(W3(e),W3(t))}function iYe(){hce(),function Dje(){nce=0}()}const t4="top",PA="left",UA="right",w1="bottom",$U="start",GU="middle",Ou="end",GE="group",zU="axis",qU="title",jU="legend",Tfe="row-header",Ife="row-footer",Ofe="column-header",Rfe="column-footer",kfe="column-title",KU="none",zE="all",WU="each",YU="flush",b1="column",C1="row";function Qfe(e){Ut.call(this,null,e)}function qE(e,t,r){return t(e.bounds.clear(),e,r)}Gn(Qfe,Ut,{transform(e,t){const r=t.dataflow,i=e.mark,s=i.marktype,o=Gc[s],a=o.bound;let u,l=i.bounds;if(o.nested)i.items.length&&r.dirty(i.items[0]),l=qE(i,a),i.items.forEach(c=>{c.bounds.clear().union(l)});else if(s===GE||e.modified())switch(t.visit(t.MOD,c=>r.dirty(c)),l.clear(),i.items.forEach(c=>l.union(qE(c,a))),i.role){case zU:case jU:case qU:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,c=>{l.union(qE(c,a))}),t.visit(t.MOD,c=>{u=u||l.alignsWith(c.bounds),r.dirty(c),l.union(qE(c,a))}),u&&(l.clear(),i.items.forEach(c=>l.union(c.bounds)));return Ffe(i),t.modifies("bounds")}});const Hfe=":vega_identifier:";function XU(e){Ut.call(this,0,e)}function Vfe(e){Ut.call(this,null,e)}function $fe(e){Ut.call(this,null,e)}XU.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Gn(XU,Ut,{transform(e,t){const r=function gYe(e){return e._signals[Hfe]||(e._signals[Hfe]=e.add(0))}(t.dataflow),i=e.as;let s=r.value;return t.visit(t.ADD,o=>o[i]=o[i]||++s),r.set(this.value=s),t}}),Gn(Vfe,Ut,{transform(e,t){let r=this.value;r||(r=t.dataflow.scenegraph().mark(e.markdef,function mYe(e){const t=e.groups,r=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&r?t.lookup(r):null}(e),e.index),r.group.context=e.context,e.context.group||(e.context.group=r.group),r.source=this.source,r.clip=e.clip,r.interactive=e.interactive,this.value=r);const i=r.marktype===GE?pE:hE;return t.visit(t.ADD,s=>i.call(s,r)),(e.modified("clip")||e.modified("interactive"))&&(r.clip=e.clip,r.interactive=!!e.interactive,r.zdirty=!0,t.reflow()),r.items=t.source,t}});const Gfe={parity:e=>e.filter((t,r)=>r%2?t.opacity=0:1),greedy:(e,t)=>{let r;return e.filter((i,s)=>s&&zfe(r.bounds,i.bounds,t)?i.opacity=0:(r=i,1))}},zfe=(e,t,r)=>r>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),qfe=(e,t)=>{for(var o,r=1,i=e.length,s=e[0].bounds;r<i;s=o,++r)if(zfe(s,o=e[r].bounds,t))return!0},vYe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},jfe=e=>(e.forEach(t=>t.opacity=1),e),Kfe=(e,t)=>e.reflow(t.modified()).modifies("opacity");function Wfe(e){Ut.call(this,null,e)}Gn($fe,Ut,{transform(e,t){const r=Gfe[e.method]||Gfe.parity,i=e.separation||0;let o,a,s=t.materialize(t.SOURCE).source;if(!s||!s.length)return;if(!e.method)return e.modified("method")&&(jfe(s),t=Kfe(t,e)),t;if(s=s.filter(vYe),!s.length)return;if(e.sort&&(s=s.slice().sort(e.sort)),o=jfe(s),t=Kfe(t,e),o.length>=3&&qfe(o,i)){do{o=r(o,i)}while(o.length>=3&&qfe(o,i));o.length<3&&!ds(s).opacity&&(o.length>1&&(ds(o).opacity=0),ds(s).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=((e,t,r)=>{var i=e.range(),s=new Ia;return t===t4||t===w1?s.set(i[0],-1/0,i[1],1/0):s.set(-1/0,i[0],1/0,i[1]),s.expand(r||1),o=>s.encloses(o.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),s.forEach(u=>{a(u)||(u.opacity=0)}));const l=o[0].mark.bounds.clear();return s.forEach(u=>{u.opacity&&l.union(u.bounds)}),t}}),Gn(Wfe,Ut,{transform(e,t){const r=t.dataflow;if(t.visit(t.ALL,i=>r.dirty(i)),t.fields&&t.fields.zindex){const i=t.source&&t.source[0];i&&(i.mark.zdirty=!0)}}});const au=new Ia;function n4(e,t,r){return e[t]===r?0:(e[t]=r,1)}function yYe(e){var t=e.items[0].orient;return t===PA||t===UA}function bYe(e,t,r,i){var T,I,s=t.items[0],o=s.datum,a=null!=s.translate?s.translate:.5,l=s.orient,u=function wYe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(o),c=s.range,f=s.offset,A=s.position,d=s.minExtent,h=s.maxExtent,g=o.title&&s.items[u[2]].items[0],m=s.titlePadding,v=s.bounds,_=g&&CU(g),C=0,D=0;switch(au.clear().union(v),v.clear(),(T=u[0])>-1&&v.union(s.items[T].bounds),(T=u[1])>-1&&v.union(s.items[T].bounds),l){case t4:C=A||0,D=-f,I=Math.max(d,Math.min(h,-v.y1)),v.add(0,-I).add(c,0),g&&jE(e,g,I,m,_,0,-1,v);break;case PA:C=-f,D=A||0,I=Math.max(d,Math.min(h,-v.x1)),v.add(-I,0).add(0,c),g&&jE(e,g,I,m,_,1,-1,v);break;case UA:C=r+f,D=A||0,I=Math.max(d,Math.min(h,v.x2)),v.add(0,0).add(I,c),g&&jE(e,g,I,m,_,1,1,v);break;case w1:C=A||0,D=i+f,I=Math.max(d,Math.min(h,v.y2)),v.add(0,0).add(c,I),g&&jE(e,g,I,m,0,0,1,v);break;default:C=s.x,D=s.y}return S0(v.translate(C,D),s),n4(s,"x",C+a)|n4(s,"y",D+a)&&(s.bounds=au,e.dirty(s),s.bounds=v,e.dirty(s)),s.mark.bounds.clear().union(v)}function jE(e,t,r,i,s,o,a,l){const u=t.bounds;if(t.auto){const c=a*(r+s+i);let f=0,A=0;e.dirty(t),o?f=(t.x||0)-(t.x=c):A=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-f,-A)),e.dirty(t)}l.union(u)}const Yfe=(e,t)=>Math.floor(Math.min(e,t)),Xfe=(e,t)=>Math.ceil(Math.max(e,t));function EYe(e){return(new Ia).set(0,0,e.width||0,e.height||0)}function SYe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Qo(e,t,r){return(sr(e)?e[t]:e)??(void 0!==r?r:0)}function Jfe(e){return e<0?Math.ceil(-e):0}function Zfe(e,t,r){var V,R,K,ne,Ae,ae,Be,Ce,U,Q,z,i=!r.nodirty,s=r.bounds===YU?EYe:SYe,o=au.set(0,0,0,0),a=Qo(r.align,b1),l=Qo(r.align,C1),u=Qo(r.padding,b1),c=Qo(r.padding,C1),f=r.columns||t.length,A=f<=0?1:Math.ceil(t.length/f),d=t.length,h=Array(d),g=Array(f),m=0,v=Array(d),_=Array(A),C=0,D=Array(d),T=Array(d),I=Array(d);for(R=0;R<f;++R)g[R]=0;for(R=0;R<A;++R)_[R]=0;for(R=0;R<d;++R)Ae=I[R]=s(ae=t[R]),ae.x=ae.x||0,D[R]=0,ae.y=ae.y||0,T[R]=0,K=R%f,ne=~~(R/f),m=Math.max(m,Be=Math.ceil(Ae.x2)),C=Math.max(C,Ce=Math.ceil(Ae.y2)),g[K]=Math.max(g[K],Be),_[ne]=Math.max(_[ne],Ce),h[R]=u+Jfe(Ae.x1),v[R]=c+Jfe(Ae.y1),i&&e.dirty(t[R]);for(R=0;R<d;++R)R%f==0&&(h[R]=0),R<f&&(v[R]=0);if(a===WU)for(K=1;K<f;++K){for(z=0,R=K;R<d;R+=f)z<h[R]&&(z=h[R]);for(R=K;R<d;R+=f)h[R]=z+g[K-1]}else if(a===zE){for(z=0,R=0;R<d;++R)R%f&&z<h[R]&&(z=h[R]);for(R=0;R<d;++R)R%f&&(h[R]=z+m)}else for(a=!1,K=1;K<f;++K)for(R=K;R<d;R+=f)h[R]+=g[K-1];if(l===WU)for(ne=1;ne<A;++ne){for(z=0,V=(R=ne*f)+f;R<V;++R)z<v[R]&&(z=v[R]);for(R=ne*f;R<V;++R)v[R]=z+_[ne-1]}else if(l===zE){for(z=0,R=f;R<d;++R)z<v[R]&&(z=v[R]);for(R=f;R<d;++R)v[R]=z+C}else for(l=!1,ne=1;ne<A;++ne)for(V=(R=ne*f)+f;R<V;++R)v[R]+=_[ne-1];for(U=0,R=0;R<d;++R)D[R]+=(U=h[R]+(R%f?U:0))-t[R].x;for(K=0;K<f;++K)for(Q=0,R=K;R<d;R+=f)T[R]+=(Q+=v[R])-t[R].y;if(a&&Qo(r.center,b1)&&A>1)for(R=0;R<d;++R)(U=(Ae=a===zE?m:g[R%f])-I[R].x2-t[R].x-D[R])>0&&(D[R]+=U/2);if(l&&Qo(r.center,C1)&&1!==f)for(R=0;R<d;++R)(Q=(Ae=l===zE?C:_[~~(R/f)])-I[R].y2-t[R].y-T[R])>0&&(T[R]+=Q/2);for(R=0;R<d;++R)o.union(I[R].translate(D[R],T[R]));switch(U=Qo(r.anchor,"x"),Q=Qo(r.anchor,"y"),Qo(r.anchor,b1)){case Ou:U-=o.width();break;case GU:U-=o.width()/2}switch(Qo(r.anchor,C1)){case Ou:Q-=o.height();break;case GU:Q-=o.height()/2}for(U=Math.round(U),Q=Math.round(Q),o.clear(),R=0;R<d;++R)t[R].mark.bounds.clear();for(R=0;R<d;++R)(ae=t[R]).x+=D[R]+=U,ae.y+=T[R]+=Q,o.union(ae.mark.bounds.union(ae.bounds.translate(D[R],T[R]))),i&&e.dirty(ae);return o}function xYe(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function DYe(e,t){return e.bounds[t]}function KE(e,t,r,i,s,o,a,l,u,c,f,A,d,h){var _,C,D,T,I,V,R,K,ne,g=r.length,m=0,v=0;if(!g)return m;for(_=f;_<g;_+=A)r[_]&&(m=a(m,u(r[_],c)));if(!t.length)return m;for(t.length>s&&(e.warn("Grid headers exceed limit: "+s),t=t.slice(0,s)),m+=o,C=0,T=t.length;C<T;++C)e.dirty(t[C]),t[C].mark.bounds.clear();for(_=f,C=0,T=t.length;C<T;++C,_+=A){for(I=(V=t[C]).mark.bounds,D=_;D>=0&&null==(R=r[D]);D-=d);l?(K=null==h?R.x:Math.round(R.bounds.x1+h*R.bounds.width()),ne=m):(K=m,ne=null==h?R.y:Math.round(R.bounds.y1+h*R.bounds.height())),I.union(V.bounds.translate(K-(V.x||0),ne-(V.y||0))),V.x=K,V.y=ne,e.dirty(V),v=a(v,I[c])}return v}function eAe(e,t,r,i,s,o){if(t){e.dirty(t);var a=r,l=r;i?a=Math.round(s.x1+o*s.width()):l=Math.round(s.y1+o*s.height()),t.bounds.translate(a-(t.x||0),l-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=l,e.dirty(t)}}function TYe(e,t,r,i,s,o,a){const l=function FYe(e,t){const r=e[t]||{};return(i,s)=>null!=r[i]?r[i]:null!=e[i]?e[i]:s}(r,t),u=function MYe(e,t){let r=-1/0;return e.forEach(i=>{null!=i.offset&&(r=Math.max(r,i.offset))}),r>-1/0?r:t}(e,l("offset",0)),c=l("anchor",$U),f=c===Ou?1:c===GU?.5:0,A={align:WU,bounds:l("bounds",YU),columns:"vertical"===l("direction")?1:e.length,padding:l("margin",8),center:l("center"),nodirty:!0};switch(t){case PA:A.anchor={x:Math.floor(i.x1)-u,column:Ou,y:f*(a||i.height()+2*i.y1),row:c};break;case UA:A.anchor={x:Math.ceil(i.x2)+u,y:f*(a||i.height()+2*i.y1),row:c};break;case t4:A.anchor={y:Math.floor(s.y1)-u,row:Ou,x:f*(o||s.width()+2*s.x1),column:c};break;case w1:A.anchor={y:Math.ceil(s.y2)+u,x:f*(o||s.width()+2*s.x1),column:c};break;case"top-left":A.anchor={x:u,y:u};break;case"top-right":A.anchor={x:o-u,y:u,column:Ou};break;case"bottom-left":A.anchor={x:u,y:a-u,row:Ou};break;case"bottom-right":A.anchor={x:o-u,y:a-u,column:Ou,row:Ou}}return A}function IYe(e,t){var u,c,r=t.items[0],i=r.datum,s=r.orient,o=r.bounds,a=r.x,l=r.y;return r._bounds?r._bounds.clear().union(o):r._bounds=o.clone(),o.clear(),function OYe(e,t,r){var i=t.padding,s=i-r.x,o=i-r.y;if(t.datum.title){var a=t.items[1].items[0],l=a.anchor,u=t.titlePadding||0,c=i-a.x,f=i-a.y;switch(a.orient){case PA:s+=Math.ceil(a.bounds.width())+u;break;case UA:case w1:break;default:o+=a.bounds.height()+u}switch((s||o)&&B_(e,r,s,o),a.orient){case PA:f+=r4(t,r,a,l,1,1);break;case UA:c+=r4(t,r,a,Ou,0,0)+u,f+=r4(t,r,a,l,1,1);break;case w1:c+=r4(t,r,a,l,0,0),f+=r4(t,r,a,Ou,-1,0,1)+u;break;default:c+=r4(t,r,a,l,0,0)}(c||f)&&B_(e,a,c,f),(c=Math.round(a.bounds.x1-i))<0&&(B_(e,r,-c,0),B_(e,a,-c,0))}else(s||o)&&B_(e,r,s,o)}(e,r,r.items[0].items[0]),o=function NYe(e,t){return e.items.forEach(r=>t.union(r.bounds)),t.x1=e.padding,t.y1=e.padding,t}(r,o),u=2*r.padding,c=2*r.padding,o.empty()||(u=Math.ceil(o.width()+u),c=Math.ceil(o.height()+c)),"symbol"===i.type&&function RYe(e){const t=e.reduce((r,i)=>(r[i.column]=Math.max(i.bounds.x2-i.x,r[i.column]||0),r),{});e.forEach(r=>{r.width=t[r.column],r.height=r.bounds.y2-r.y})}(r.items[0].items[0].items[0].items),s!==KU&&(r.x=a=0,r.y=l=0),r.width=u,r.height=c,S0(o.set(a,l,a+u,l+c),r),r.mark.bounds.clear().union(o),r}function r4(e,t,r,i,s,o,a){const u=r.datum.vgrad,f=("symbol"===e.datum.type||!o&&u||a?t:t.items[0]).bounds[s?"y2":"x2"]-e.padding,A=u&&o?f:0,d=u&&o?0:f,h=s<=0?0:CU(r);return Math.round(i===$U?A:i===Ou?d-h:.5*(f-h))}function B_(e,t,r,i){t.x+=r,t.y+=i,t.bounds.translate(r,i),t.mark.bounds.translate(r,i),e.dirty(t)}function tAe(e){Ut.call(this,null,e)}function nAe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var i=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(s);++i<s;)o[i]=e+i*r;return o}function HYe(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rAe(e,t,r,i,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*i+a*s)/6}Gn(tAe,Ut,{transform(e,t){const r=t.dataflow;return e.mark.items.forEach(i=>{e.layout&&function BYe(e,t,r){var f,A,d,h,g,m,v,i=function CYe(e){var s,o,t=e.items,r=t.length,i=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<r;++i)if(o=(s=t[i]).items,s.marktype===GE)switch(s.role){case zU:case jU:case qU:break;case Tfe:a.rowheaders.push(...o);break;case Ife:a.rowfooters.push(...o);break;case Ofe:a.colheaders.push(...o);break;case Rfe:a.colfooters.push(...o);break;case"row-title":a.rowtitle=o[0];break;case kfe:a.coltitle=o[0];break;default:a.marks.push(...o)}return a}(t),s=i.marks,o=r.bounds===YU?xYe:DYe,a=r.offset,l=r.columns||s.length,u=l<=0?1:Math.ceil(s.length/l),c=u*l;const _=Zfe(e,s,r);_.empty()&&_.set(0,0,0,0),i.rowheaders&&(m=Qo(r.headerBand,C1,null),f=KE(e,i.rowheaders,s,0,u,-Qo(a,"rowHeader"),Yfe,0,o,"x1",0,l,1,m)),i.colheaders&&(m=Qo(r.headerBand,b1,null),A=KE(e,i.colheaders,s,0,l,-Qo(a,"columnHeader"),Yfe,1,o,"y1",0,1,l,m)),i.rowfooters&&(m=Qo(r.footerBand,C1,null),d=KE(e,i.rowfooters,s,0,u,Qo(a,"rowFooter"),Xfe,0,o,"x2",l-1,l,1,m)),i.colfooters&&(m=Qo(r.footerBand,b1,null),h=KE(e,i.colfooters,s,0,l,Qo(a,"columnFooter"),Xfe,1,o,"y2",c-l,1,l,m)),i.rowtitle&&(g=Qo(r.titleAnchor,C1),v=Qo(a,"rowTitle"),v=g===Ou?d+v:f-v,m=Qo(r.titleBand,C1,.5),eAe(e,i.rowtitle,v,0,_,m)),i.coltitle&&(g=Qo(r.titleAnchor,b1),v=Qo(a,"columnTitle"),v=g===Ou?h+v:A-v,m=Qo(r.titleBand,b1,.5),eAe(e,i.coltitle,v,1,_,m))}(r,i,e.layout),function UYe(e,t,r){var f,A,d,g,m,i=t.items,s=Math.max(0,t.width||0),o=Math.max(0,t.height||0),a=(new Ia).set(0,0,s,o),l=a.clone(),u=a.clone(),c=[];for(g=0,m=i.length;g<m;++g)switch(A=i[g],A.role){case zU:(yYe(A)?l:u).union(bYe(e,A,s,o));break;case qU:f=A;break;case jU:c.push(IYe(e,A));break;case"frame":case"scope":case Tfe:case Ife:case"row-title":case Ofe:case Rfe:case kfe:l.union(A.bounds),u.union(A.bounds);break;default:a.union(A.bounds)}if(c.length){const v={};c.forEach(_=>{(d=_.orient||UA)!==KU&&(v[d]||(v[d]=[])).push(_)});for(const _ in v){const C=v[_];Zfe(e,C,TYe(C,_,r.legends,l,u,s,o))}c.forEach(_=>{const C=_.bounds;if(C.equals(_._bounds)||(_.bounds=_._bounds,e.dirty(_),_.bounds=C,e.dirty(_)),!r.autosize||"fit"!==r.autosize.type&&"fit-x"!==r.autosize.type&&"fit-y"!==r.autosize.type)a.union(C);else switch(_.orient){case PA:case UA:a.add(C.x1,0).add(C.x2,0);break;case t4:case w1:a.add(0,C.y1).add(0,C.y2)}})}a.union(l).union(u),f&&a.union(function kYe(e,t,r,i,s){var D,o=t.items[0],l=o.orient,u=o.anchor,c=o.offset,f=o.padding,A=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=l===PA||l===UA?i:r,g=0,m=0,v=0,_=0,C=0;if(o.frame!==GE?l===PA?(g=s.y2,h=s.y1):l===UA?(g=s.y1,h=s.y2):(g=s.x1,h=s.x2):l===PA&&(g=i,h=0),D=u===$U?g:u===Ou?h:(g+h)/2,d&&d.text){switch(l){case t4:case w1:C=A.bounds.height()+f;break;case PA:_=A.bounds.width()+f;break;case UA:_=-A.bounds.width()-f}au.clear().union(d.bounds),au.translate(_-(d.x||0),C-(d.y||0)),n4(d,"x",_)|n4(d,"y",C)&&(e.dirty(d),d.bounds.clear().union(au),d.mark.bounds.clear().union(au),e.dirty(d)),au.clear().union(d.bounds)}else au.clear();switch(au.union(A.bounds),l){case t4:m=D,v=s.y1-au.height()-c;break;case PA:m=s.x1-au.width()-c,v=D;break;case UA:m=s.x2+au.width()+c,v=D;break;case w1:m=D,v=s.y2+c;break;default:m=o.x,v=o.y}return n4(o,"x",m)|n4(o,"y",v)&&(au.translate(m,v),e.dirty(o),o.bounds.clear().union(au),t.bounds.clear().union(au),e.dirty(o)),o.bounds}(e,f,s,o,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),function LYe(e,t,r,i){const s=i.autosize||{},o=s.type;if(e._autosize<1||!o)return;let a=e._width,l=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-r.x1)),f=Math.max(0,t.height||0),A=Math.max(0,Math.ceil(-r.y1));const d=Math.max(0,Math.ceil(r.x2-u)),h=Math.max(0,Math.ceil(r.y2-f));if("padding"===s.contains){const g=e.padding();a-=g.left+g.right,l-=g.top+g.bottom}o===KU?(c=0,A=0,u=a,f=l):"fit"===o?(u=Math.max(0,a-c-d),f=Math.max(0,l-A-h)):"fit-x"===o?(u=Math.max(0,a-c-d),l=f+A+h):"fit-y"===o?(a=u+c+d,f=Math.max(0,l-A-h)):"pad"===o&&(a=u+c+d,l=f+A+h),e._resizeView(a,l,u,f,[c,A],s.resize)}(e,t,a,r)}(r,i,e)}),function PYe(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}});const JU=e=>()=>e;function sAe(e,t){var r=t-e;return r?function iAe(e,t){return function(r){return e+r*t}}(e,r):JU(isNaN(e)?t:e)}const oAe=function e(t){var r=function zYe(e){return 1==(e=+e)?sAe:function(t,r){return r-t?function GYe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}(t,r,e):JU(isNaN(t)?r:t)}}(t);function i(s,o){var a=r((s=xA(s)).r,(o=xA(o)).r),l=r(s.g,o.g),u=r(s.b,o.b),c=sAe(s.opacity,o.opacity);return function(f){return s.r=a(f),s.g=l(f),s.b=u(f),s.opacity=c(f),s+""}}return i.gamma=e,i}(1);function aAe(e){return function(t){var a,l,r=t.length,i=new Array(r),s=new Array(r),o=new Array(r);for(a=0;a<r;++a)l=xA(t[a]),i[a]=l.r||0,s[a]=l.g||0,o[a]=l.b||0;return i=e(i),s=e(s),o=e(o),l.opacity=1,function(u){return l.r=i(u),l.g=s(u),l.b=o(u),l+""}}}function lAe(e,t){var a,r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),o=new Array(r);for(a=0;a<i;++a)s[a]=nL(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function qYe(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function ZU(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jYe(e,t){var s,r={},i={};for(s in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)s in e?r[s]=nL(e[s],t[s]):i[s]=t[s];return function(o){for(s in r)i[s]=r[s](o);return i}}aAe(function VYe(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[i],o=e[i+1];return rAe((r-i/t)*t,i>0?e[i-1]:2*s-o,s,o,i<t-1?e[i+2]:2*o-s)}}),aAe(function $Ye(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t);return rAe((r-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}});var eL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tL=new RegExp(eL.source,"g");function YYe(e,t){var i,s,o,r=eL.lastIndex=tL.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(i=eL.exec(e))&&(s=tL.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,u.push({i:a,x:ZU(i,s)})),r=tL.lastIndex;return r<t.length&&(o=t.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function WYe(e){return function(t){return e(t)+""}}(u[0].x):function KYe(e){return function(){return e}}(t):(t=u.length,function(c){for(var A,f=0;f<t;++f)l[(A=u[f]).i]=A.x(c);return l.join("")})}function XYe(e,t){t||(t=[]);var s,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(s=0;s<r;++s)i[s]=e[s]*(1-o)+t[s]*o;return i}}function nL(e,t){var i,r=typeof t;return null==t||"boolean"===r?JU(t):("number"===r?ZU:"string"===r?(i=p0(t))?(t=i,oAe):YYe:t instanceof p0?oAe:t instanceof Date?qYe:function JYe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?XYe:Array.isArray(t)?lAe:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?jYe:ZU)(e,t)}function uAe(e){Ut.call(this,null,e)}function cAe(e){Ut.call(this,null,e)}function ZYe(){return Qs({})}function fAe(e){Ut.call(this,null,e)}function AAe(e){Ut.call(this,[],e)}Gn(uAe,Ut,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var r=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.scale,l=WP(o,e.count??(e.values?e.values.length:10),e.minstep),u=e.format||Kue(r,o,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?jue(o,e.values,l):YP(o,l);return s&&(i.rem=s),s=c.map((f,A)=>Qs({index:A/(c.length-1||1),value:f,label:u(f)})),e.extra&&s.length&&s.push(Qs({index:-1,extra:{value:s[0].value},label:""})),i.source=s,i.add=s,this.value=s,i}}),Gn(cAe,Ut,{transform(e,t){var r=t.dataflow,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||ZYe,o=e.key||jr,a=this.value;return Zt(i.encode)&&(i.encode=null),a&&(e.modified("key")||t.modified(o))&&Yt("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function eXe(e){const t=x3().test(r=>r.exit);return t.lookup=r=>t.get(e(r)),t}(o)),t.visit(t.ADD,l=>{const u=o(l);let c=a.get(u);c?c.exit?(a.empty--,i.add.push(c)):i.mod.push(c):(c=s(l),a.set(u,c),i.add.push(c)),c.datum=l,c.exit=!1}),t.visit(t.MOD,l=>{const u=o(l),c=a.get(u);c&&(c.datum=l,i.mod.push(c))}),t.visit(t.REM,l=>{const u=o(l),c=a.get(u);l===c.datum&&!c.exit&&(i.rem.push(c),c.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&i.modifies("datum"),(t.clean()||e.clean&&a.empty>r.cleanThreshold)&&r.runAfter(a.clean),i}}),Gn(fAe,Ut,{transform(e,t){var r=t.fork(t.ADD_REM),i=e.mod||!1,s=e.encoders,o=t.encode;if(Zt(o)){if(!r.changed()&&!o.every(A=>s[A]))return t.StopPropagation;o=o[0],r.encode=null}var a="enter"===o,l=s.update||Jp,u=s.enter||Jp,c=s.exit||Jp,f=(o&&!a?s[o]:l)||Jp;if(t.changed(t.ADD)&&(t.visit(t.ADD,A=>{u(A,e),l(A,e)}),r.modifies(u.output),r.modifies(l.output),f!==Jp&&f!==l&&(t.visit(t.ADD,A=>{f(A,e)}),r.modifies(f.output))),t.changed(t.REM)&&c!==Jp&&(t.visit(t.REM,A=>{c(A,e)}),r.modifies(c.output)),a||f!==Jp){const A=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(A,d=>{const h=u(d,e)||i;(f(d,e)||h)&&r.mod.push(d)}),r.mod.length&&r.modifies(u.output)):t.visit(A,d=>{(f(d,e)||i)&&r.mod.push(d)}),r.mod.length&&r.modifies(f.output)}return r.changed()?r:t.StopPropagation}}),Gn(AAe,Ut,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var d,h,g,m,v,r=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.type||cE,a=e.scale,l=+e.limit,u=WP(a,e.count??5,e.minstep),f=e.format||Jue(r,a,u,o,e.formatSpecifier,e.formatType,!!e.values||o===cE),A=e.values||Xue(a,u);return s&&(i.rem=s),o===cE?(l&&A.length>l?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=A.slice(0,l-1),v=!0):s=A,Ni(g=e.size)?(!e.values&&0===a(s[0])&&(s=s.slice(1)),m=s.reduce((_,C)=>Math.max(_,g(C,e)),0)):g=tu(m=g||8),s=s.map((_,C)=>Qs({index:C,label:f(_,C,s),value:_,offset:m,size:g(_,e)})),v&&s.push(Qs({index:s.length,label:`\u2026${A.length-s.length} entries`,value:v=A[s.length],offset:m,size:g(v,e)}))):"gradient"===o?(d=a.domain(),h=$ue(a,d[0],ds(d)),A.length<3&&!e.values&&d[0]!==ds(d)&&(A=[d[0],ds(d)]),s=A.map((_,C)=>Qs({index:C,label:f(_,C,A),value:_,perc:h(_)}))):(g=A.length-1,h=function Bje(e){const t=e.domain(),r=t.length-1;let i=+t[0],s=+ds(t),o=s-i;if(e.type===aE){const a=r?o/r:.1;i-=a,s+=a,o=s-i}return a=>(a-i)/o}(a),s=A.map((_,C)=>Qs({index:C,label:f(_,C,A),value:_,perc:C?h(_):0,perc2:C===g?1:h(A[C+1])}))),i.source=s,i.add=s,this.value=s,i}});const tXe=e=>e.source.x,nXe=e=>e.source.y,rXe=e=>e.target.x,iXe=e=>e.target.y;function rL(e){Ut.call(this,{},e)}rL.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Gn(rL,Ut,{transform(e,t){var r=e.sourceX||tXe,i=e.sourceY||nXe,s=e.targetX||rXe,o=e.targetY||iXe,a=e.as||"path",u=e.shape||"line",c=gAe.get(u+"-"+(e.orient||"vertical"))||gAe.get(u);return c||Yt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,f=>{f[a]=c(r(f),i(f),s(f),o(f))}),t.reflow(e.modified()).modifies(a)}});const dAe=(e,t,r,i)=>"M"+e+","+t+"L"+r+","+i,hAe=(e,t,r,i)=>{var s=r-e,o=i-t,a=Math.hypot(s,o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,s)/Math.PI+" 0 1 "+r+","+i},pAe=(e,t,r,i)=>{const s=r-e,o=i-t,a=.2*(s+o),l=.2*(o-s);return"M"+e+","+t+"C"+(e+a)+","+(t+l)+" "+(r+l)+","+(i-a)+" "+r+","+i},gAe=x3({line:dAe,"line-radial":(e,t,r,i)=>dAe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),arc:hAe,"arc-radial":(e,t,r,i)=>hAe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),curve:pAe,"curve-radial":(e,t,r,i)=>pAe(t*Math.cos(e),t*Math.sin(e),i*Math.cos(r),i*Math.sin(r)),"orthogonal-horizontal":(e,t,r,i)=>"M"+e+","+t+"V"+i+"H"+r,"orthogonal-vertical":(e,t,r,i)=>"M"+e+","+t+"H"+r+"V"+i,"orthogonal-radial":(e,t,r,i)=>{const s=Math.cos(e),o=Math.sin(e),a=Math.cos(r),l=Math.sin(r);return"M"+t*s+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(r-e)>Math.PI?r<=e:r>e)?1:0)+" "+t*a+","+t*l+"L"+i*a+","+i*l},"diagonal-horizontal":(e,t,r,i)=>{const s=(e+r)/2;return"M"+e+","+t+"C"+s+","+t+" "+s+","+i+" "+r+","+i},"diagonal-vertical":(e,t,r,i)=>{const s=(t+i)/2;return"M"+e+","+t+"C"+e+","+s+" "+r+","+s+" "+r+","+i},"diagonal-radial":(e,t,r,i)=>{const s=Math.cos(e),o=Math.sin(e),a=Math.cos(r),l=Math.sin(r),u=(t+i)/2;return"M"+t*s+","+t*o+"C"+u*s+","+u*o+" "+u*a+","+u*l+" "+i*a+","+i*l}});function iL(e){Ut.call(this,null,e)}function mAe(e){return zP(e)&&e!==rh}iL.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Gn(iL,Ut,{transform(e,t){var g,m,v,r=e.as||["startAngle","endAngle"],i=r[0],s=r[1],a=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,u=t.source,c=u.map(e.field||C3),f=c.length,A=a,d=(l-a)/function QYe(e,t){let r=0;if(void 0===t)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let s of e)(s=+t(s,++i,e))&&(r+=s)}return r}(c),h=nAe(f);for(e.sort&&h.sort((_,C)=>c[_]-c[C]),g=0;g<f;++g)v=c[h[g]],(m=u[h[g]])[i]=A,m[s]=A+=v*d;return this.value=c,t.reflow(e.modified()).modifies(r)}});const uXe=DA(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function vAe(e){Ut.call(this,null,e),this.modified(!0)}function _Ae(e,t,r){return Uue(e)&&Math.abs(t.reduce((s,o)=>s+(o<0?-1:o>0?1:0),0))!==t.length&&r.warn("Log scale domain includes zero: "+Un(t)),t}function yAe(e,t,r){return Ni(e)&&(t||r)?Hue(e,sL(t||[0,1],r)):e}function sL(e,t){return t?e.slice().reverse():e}function wAe(e){Ut.call(this,null,e)}Gn(vAe,Ut,{transform(e,t){var r=t.dataflow,i=this.value,s=function cXe(e){var i,t=e.type,r="";return t===rh?rh+"-"+z3:(function fXe(e){const t=e.type;return zP(t)&&t!==dm&&t!==hm&&(e.scheme||e.range&&e.range.length&&e.range.every(or))}(e)&&(r=2===(i=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?rh+"-":3===i?q3+"-":""),(r+t||z3).toLowerCase())}(e);for(s in(!i||s!==i.type)&&(this.value=i=ks(s)()),e)if(!uXe[s]){if("padding"===s&&mAe(i.type))continue;Ni(i[s])?i[s](e[s]):r.warn("Unsupported scale property: "+s)}return function gXe(e,t,r){var i=e.type,s=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function mXe(e,t,r){return"band"!==e&&e!==HP&&Yt("Only band and point scales support rangeStep."),[0,t.rangeStep*LP(r,e===HP?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?t.paddingOuter:t.padding)||0)]}(i,t,r);else if(t.scheme&&Ni(o=function vXe(e,t,r){var o,i=t.schemeExtent;return Zt(t.scheme)?o=uE(t.scheme,t.interpolate,t.interpolateGamma):(o=KP(t.scheme.toLowerCase()))||Yt(`Unrecognized scheme name: ${t.scheme}`),r=e===aE?r+1:e===VP?r-1:e===j3||e===oE?+t.schemeCount||5:r,Lue(e)?yAe(o,i,t.reverse):Ni(o)?Vue(yAe(o,i),r):e===QP?o:o.slice(0,r)}(i,t,r))){if(e.interpolator)return e.interpolator(o);Yt(`Scale type ${i} does not support interpolating color schemes.`)}if(o&&Lue(i))return e.interpolator(uE(sL(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(jP(t.interpolate,t.interpolateGamma)):Ni(e.round)?e.round(s):Ni(e.rangeRound)&&e.interpolate(s?HYe:nL),o&&e.range(sL(o,t.reverse))}(i,e,function pXe(e,t,r){let i=t.bins;if(i&&!Zt(i)){const s=e.domain(),o=s[0],a=ds(s),l=i.step;let u=i.start??o,c=i.stop??a;l||Yt("Scale bins parameter missing step property."),u<o&&(u=l*Math.ceil(o/l)),c>a&&(c=l*Math.floor(a/l)),i=nAe(u,c+l/2,l)}return i?e.bins=i:e.bins&&delete e.bins,e.type===VP&&(i?!t.domain&&!t.domainRaw&&(e.domain(i),r=i.length):e.bins=e.domain()),r}(i,e,function AXe(e,t,r){const i=function dXe(e,t,r){return t?(e.domain(_Ae(e.type,t,r)),t.length):-1}(e,t.domainRaw,r);if(i>-1)return i;var l,u,s=t.domain,o=e.type,a=t.zero||void 0===t.zero&&function lXe(e){const t=e.type;return!e.bins&&(t===z3||"pow"===t||t===s_)}(e);if(!s)return 0;if((a||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(l=(s=s.slice()).length-1||1,a&&(s[0]>0&&(s[0]=0),s[l]<0&&(s[l]=0)),null!=t.domainMin&&(s[0]=t.domainMin),null!=t.domainMax&&(s[l]=t.domainMax),null!=t.domainMid)){const c=(u=t.domainMid)>s[l]?l+1:u<s[0]?0:l;c!==l&&r.warn("Scale domainMid exceeds domain min or max.",u),s.splice(c,0,u)}return mAe(o)&&t.padding&&s[0]!==ds(s)&&(s=function hXe(e,t,r,i,s,o){var a=Math.abs(ds(r)-r[0]),l=a/(a-2*i),u=e===C0?WO(t,null,l):e===s_?oC(t,null,l,.5):"pow"===e?oC(t,null,l,s||1):e===sE?YO(t,null,l,o||1):KO(t,null,l);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(o,s,t.range,t.padding,t.exponent,t.constant)),e.domain(_Ae(o,s,r)),o===QP&&e.unknown(t.domainImplicit?MP:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&WP(e,t.nice)||null),s.length}(i,e,r))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Gn(wAe,Ut,{transform(e,t){const r=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return r&&t.source.sort(lm(e.sort)),this.modified(r),t}});const SAe=["y0","y1"];function oL(e){Ut.call(this,null,e)}function _Xe(e,t,r,i,s){for(var u,o=(t-e.sum)/2,a=e.length,l=0;l<a;++l)(u=e[l])[i]=o,u[s]=o+=Math.abs(r(u))}function yXe(e,t,r,i,s){for(var f,o=1/e.sum,a=0,l=e.length,u=0,c=0;u<l;++u)(f=e[u])[i]=a,f[s]=a=o*(c+=Math.abs(r(f)))}function wXe(e,t,r,i,s){for(var c,f,o=0,a=0,l=e.length,u=0;u<l;++u)(c=+r(f=e[u]))<0?(f[i]=a,f[s]=a+=c):(f[i]=o,f[s]=o+=c)}oL.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:SAe}]},Gn(oL,Ut,{transform(e,t){var u,c,f,A,r=e.as||SAe,i=r[0],s=r[1],o=lm(e.sort),a=e.field||C3,l="center"===e.offset?_Xe:"normalize"===e.offset?yXe:wXe;for(u=function bXe(e,t,r,i){var a,l,u,c,f,A,d,h,g,s=[],o=m=>m(f);if(null==t)s.push(e.slice());else for(a={},l=0,u=e.length;l<u;++l)f=e[l],(d=a[A=t.map(o)])||(a[A]=d=[],s.push(d)),d.push(f);for(A=0,g=0,c=s.length;A<c;++A){for(l=0,h=0,u=(d=s[A]).length;l<u;++l)h+=Math.abs(i(d[l]));d.sum=h,h>g&&(g=h),r&&d.sort(r)}return s.max=g,s}(t.source,e.groupby,o,a),c=0,f=u.length,A=u.max;c<f;++c)l(u[c],A,a,i,s);return t.reflow(e.modified()).modifies(r)}});const CXe=Math.sqrt(50),EXe=Math.sqrt(10),SXe=Math.sqrt(2);function WE(e,t,r){const i=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=CXe?10:o>=EXe?5:o>=SXe?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?WE(e,t,2*r):[l,u,c]}function BAe(e,t,r){return WE(e=+e,t=+t,r=+r)[2]}function bm(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var i=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(s);++i<s;)o[i]=e+i*r;return o}function YE(e,t){let r;if(void 0===t)for(const i of e)null!=i&&(r<i||void 0===r&&i>=i)&&(r=i);else{let i=-1;for(let s of e)null!=(s=t(s,++i,e))&&(r<s||void 0===r&&s>=s)&&(r=s)}return r}const x_=e=>e;function XE(e,t){e&&DAe.hasOwnProperty(e.type)&&DAe[e.type](e,t)}var xAe={Feature:function(e,t){XE(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,s=r.length;++i<s;)XE(r[i].geometry,t)}},DAe={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)t.point((e=r[i])[0],e[1],e[2])},LineString:function(e,t){aL(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)aL(r[i],t,0)},Polygon:function(e,t){FAe(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)FAe(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,s=r.length;++i<s;)XE(r[i],t)}};function aL(e,t,r){var o,i=-1,s=e.length-r;for(t.lineStart();++i<s;)t.point((o=e[i])[0],o[1],o[2]);t.lineEnd()}function FAe(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)aL(e[r],t,1);t.polygonEnd()}function i4(e,t){e&&xAe.hasOwnProperty(e.type)?xAe[e.type](e,t):XE(e,t)}class ah{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const o=r[s],a=t+o,l=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);l&&(r[i++]=l),t=a}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let i,s,o,r=this._n,a=0;if(r>0){for(a=t[--r];r>0&&(i=a,s=t[--r],a=i+s,o=s-(a-i),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(s=2*o,i=a+s,s==i-a&&(a=i))}return a}}var Ri=1e-6,Wi=Math.PI,Aa=Wi/2,TAe=Wi/4,zc=2*Wi,lu=180/Wi,ta=Wi/180,zs=Math.abs,s4=Math.atan,x0=Math.atan2,Hi=Math.cos,IAe=(Math,Math.exp),JE=(Math,Math,Math.log),lL=Math.pow,Di=Math.sin,qf=Math.sign||function(e){return e>0?1:e<0?-1:0},Ac=Math.sqrt,uL=Math.tan;function NAe(e){return e>1?0:e<-1?Wi:Math.acos(e)}function jf(e){return e>1?Aa:e<-1?-Aa:Math.asin(e)}function Kf(){}var OAe,RAe,AL,dL,cL=new ah,fL=new ah,E1={point:Kf,lineStart:Kf,lineEnd:Kf,polygonStart:function(){E1.lineStart=DXe,E1.lineEnd=MXe},polygonEnd:function(){E1.lineStart=E1.lineEnd=E1.point=Kf,cL.add(zs(fL)),fL=new ah},result:function(){var e=cL/2;return cL=new ah,e}};function DXe(){E1.point=FXe}function FXe(e,t){E1.point=kAe,OAe=AL=e,RAe=dL=t}function kAe(e,t){fL.add(dL*e-AL*t),AL=e,dL=t}function MXe(){kAe(OAe,RAe)}const PAe=E1;var o4=1/0,ZE=o4,D_=-o4,eS=D_,TXe={point:function IXe(e,t){e<o4&&(o4=e),e>D_&&(D_=e),t<ZE&&(ZE=t),t>eS&&(eS=t)},lineStart:Kf,lineEnd:Kf,polygonStart:Kf,polygonEnd:Kf,result:function(){var e=[[o4,ZE],[D_,eS]];return D_=eS=-(ZE=o4=1/0),e}};const tS=TXe;var UAe,LAe,lh,uh,hL=0,pL=0,F_=0,nS=0,rS=0,a4=0,gL=0,mL=0,M_=0,LA={point:Cm,lineStart:QAe,lineEnd:HAe,polygonStart:function(){LA.lineStart=RXe,LA.lineEnd=kXe},polygonEnd:function(){LA.point=Cm,LA.lineStart=QAe,LA.lineEnd=HAe},result:function(){var e=M_?[gL/M_,mL/M_]:a4?[nS/a4,rS/a4]:F_?[hL/F_,pL/F_]:[NaN,NaN];return hL=pL=F_=nS=rS=a4=gL=mL=M_=0,e}};function Cm(e,t){hL+=e,pL+=t,++F_}function QAe(){LA.point=NXe}function NXe(e,t){LA.point=OXe,Cm(lh=e,uh=t)}function OXe(e,t){var r=e-lh,i=t-uh,s=Ac(r*r+i*i);nS+=s*(lh+e)/2,rS+=s*(uh+t)/2,a4+=s,Cm(lh=e,uh=t)}function HAe(){LA.point=Cm}function RXe(){LA.point=PXe}function kXe(){VAe(UAe,LAe)}function PXe(e,t){LA.point=VAe,Cm(UAe=lh=e,LAe=uh=t)}function VAe(e,t){var r=e-lh,i=t-uh,s=Ac(r*r+i*i);nS+=s*(lh+e)/2,rS+=s*(uh+t)/2,a4+=s,gL+=(s=uh*e-lh*t)*(lh+e),mL+=s*(uh+t),M_+=3*s,Cm(lh=e,uh=t)}const $Ae=LA;function GAe(e){this._context=e}GAe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,zc)}},result:Kf};var _L,zAe,qAe,T_,I_,vL=new ah,iS={point:Kf,lineStart:function(){iS.point=UXe},lineEnd:function(){_L&&jAe(zAe,qAe),iS.point=Kf},polygonStart:function(){_L=!0},polygonEnd:function(){_L=null},result:function(){var e=+vL;return vL=new ah,e}};function UXe(e,t){iS.point=jAe,zAe=T_=e,qAe=I_=t}function jAe(e,t){vL.add(Ac((T_-=e)*T_+(I_-=t)*I_)),T_=e,I_=t}const KAe=iS;let WAe,sS,YAe,XAe;class JAe{constructor(t){this._append=null==t?ZAe:function LXe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return ZAe;if(t!==WAe){const r=10**t;WAe=t,sS=function(s){let o=1;this._+=s[0];for(const a=s.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+s[o]}}return sS}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:this._append`M${t},${r}`,this._point=1;break;case 1:this._append`L${t},${r}`;break;default:if(this._append`M${t},${r}`,this._radius!==YAe||this._append!==sS){const i=this._radius,s=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,YAe=i,sS=this._append,XAe=this._,this._=s}this._+=XAe}}result(){const t=this._;return this._="",t.length?t:null}}function ZAe(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ede(e,t){let s,o,r=3,i=4.5;function a(l){return l&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),i4(l,s(o))),o.result()}return a.area=function(l){return i4(l,s(PAe)),PAe.result()},a.measure=function(l){return i4(l,s(KAe)),KAe.result()},a.bounds=function(l){return i4(l,s(tS)),tS.result()},a.centroid=function(l){return i4(l,s($Ae)),$Ae.result()},a.projection=function(l){return arguments.length?(s=null==l?(e=null,x_):(e=l).stream,a):e},a.context=function(l){return arguments.length?(o=null==l?(t=null,new JAe(r)):new GAe(t=l),"function"!=typeof i&&o.pointRadius(i),a):t},a.pointRadius=function(l){return arguments.length?(i="function"==typeof l?l:(o.pointRadius(+l),+l),a):i},a.digits=function(l){if(!arguments.length)return r;if(null==l)r=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);r=u}return null===t&&(o=new JAe(r)),a},a.projection(e).digits(r).context(t)}function tde(){var t,e=[];return{point:function(r,i,s){t.push([r,i,s])},lineStart:function(){e.push(t=[])},lineEnd:Kf,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function oS(e,t){return zs(e[0]-t[0])<Ri&&zs(e[1]-t[1])<Ri}function aS(e,t,r,i){this.x=e,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function nde(e,t,r,i,s){var l,u,o=[],a=[];if(e.forEach(function(g){if(!((m=g.length-1)<=0)){var m,C,v=g[0],_=g[m];if(oS(v,_)){if(!v[2]&&!_[2]){for(s.lineStart(),l=0;l<m;++l)s.point((v=g[l])[0],v[1]);return void s.lineEnd()}_[0]+=2*Ri}o.push(C=new aS(v,g,null,!0)),a.push(C.o=new aS(v,null,C,!1)),o.push(C=new aS(_,g,null,!1)),a.push(C.o=new aS(_,null,C,!0))}}),o.length){for(a.sort(t),rde(o),rde(a),l=0,u=a.length;l<u;++l)a[l].e=r=!r;for(var f,A,c=o[0];;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;f=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(l=0,u=f.length;l<u;++l)s.point((A=f[l])[0],A[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(h)for(l=(f=d.p.z).length-1;l>=0;--l)s.point((A=f[l])[0],A[1]);else i(d.x,d.p.x,-1,s);d=d.p}f=(d=d.o).z,h=!h}while(!d.v);s.lineEnd()}}}function rde(e){if(t=e.length){for(var t,s,r=0,i=e[0];++r<t;)i.n=s=e[r],s.p=i,i=s;i.n=s=e[0],s.p=i}}function yL(e){return[x0(e[1],e[0]),jf(e[2])]}function l4(e){var t=e[0],r=e[1],i=Hi(r);return[i*Hi(t),i*Di(t),Di(r)]}function lS(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function uS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function wL(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cS(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bL(e){var t=Ac(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function CL(e){return zs(e[0])<=Wi?e[0]:qf(e[0])*((zs(e[0])+Wi)%zc-Wi)}function fS(e){return Array.from(function*HXe(e){for(const t of e)yield*t}(e))}function ide(e,t,r,i){return function(s){var c,f,A,o=t(s),a=tde(),l=t(a),u=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=_,d.lineStart=C,d.lineEnd=D,f=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,f=fS(f);var T=function QXe(e,t){var r=CL(t),i=t[1],s=Di(i),o=[Di(r),-Hi(r),0],a=0,l=0,u=new ah;1===s?i=Aa+Ri:-1===s&&(i=-Aa-Ri);for(var c=0,f=e.length;c<f;++c)if(d=(A=e[c]).length)for(var A,d,h=A[d-1],g=CL(h),m=h[1]/2+TAe,v=Di(m),_=Hi(m),C=0;C<d;++C,g=T,v=V,_=R,h=D){var D=A[C],T=CL(D),I=D[1]/2+TAe,V=Di(I),R=Hi(I),K=T-g,ne=K>=0?1:-1,Ae=ne*K,ae=Ae>Wi,Be=v*V;if(u.add(x0(Be*ne*Di(Ae),_*R+Be*Hi(Ae))),a+=ae?K+ne*zc:K,ae^g>=r^T>=r){var Ce=uS(l4(h),l4(D));bL(Ce);var U=uS(o,Ce);bL(U);var Q=(ae^K>=0?-1:1)*jf(U[2]);(i>Q||i===Q&&(Ce[0]||Ce[1]))&&(l+=ae^K>=0?1:-1)}}return(a<-Ri||a<Ri&&u<-1e-12)^1&l}(c,i);f.length?(u||(s.polygonStart(),u=!0),nde(f,$Xe,T,r,s)):T&&(u||(s.polygonStart(),u=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),u&&(s.polygonEnd(),u=!1),f=c=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(T,I){e(T,I)&&s.point(T,I)}function g(T,I){o.point(T,I)}function m(){d.point=g,o.lineStart()}function v(){d.point=h,o.lineEnd()}function _(T,I){A.push([T,I]),l.point(T,I)}function C(){l.lineStart(),A=[]}function D(){_(A[0][0],A[0][1]),l.lineEnd();var V,K,ne,Ae,T=l.clean(),I=a.result(),R=I.length;if(A.pop(),c.push(A),A=null,R){if(1&T){if((K=(ne=I[0]).length-1)>0){for(u||(s.polygonStart(),u=!0),s.lineStart(),V=0;V<K;++V)s.point((Ae=ne[V])[0],Ae[1]);s.lineEnd()}return}R>1&&2&T&&I.push(I.pop().concat(I.shift())),f.push(I.filter(VXe))}}return d}}function VXe(e){return e.length>1}function $Xe(e,t){return((e=e.x)[0]<0?e[1]-Aa-Ri:Aa-e[1])-((t=t.x)[0]<0?t[1]-Aa-Ri:Aa-t[1])}const sde=ide(function(){return!0},function GXe(e){var s,t=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),s=1},point:function(o,a){var l=o>0?Wi:-Wi,u=zs(o-t);zs(u-Wi)<Ri?(e.point(t,r=(r+a)/2>0?Aa:-Aa),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),s=0):i!==l&&u>=Wi&&(zs(t-i)<Ri&&(t-=i*Ri),zs(o-l)<Ri&&(o-=l*Ri),r=function zXe(e,t,r,i){var s,o,a=Di(e-r);return zs(a)>Ri?s4((Di(t)*(o=Hi(i))*Di(r)-Di(i)*(s=Hi(t))*Di(e))/(s*o*a)):(t+i)/2}(t,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),s=0),e.point(t=o,r=a),i=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-s}}},function qXe(e,t,r,i){var s;if(null==e)i.point(-Wi,s=r*Aa),i.point(0,s),i.point(Wi,s),i.point(Wi,0),i.point(Wi,-s),i.point(0,-s),i.point(-Wi,-s),i.point(-Wi,0),i.point(-Wi,s);else if(zs(e[0]-t[0])>Ri){var o=e[0]<t[0]?Wi:-Wi;i.point(-o,s=r*o/2),i.point(0,s),i.point(o,s)}else i.point(t[0],t[1])},[-Wi,-Aa]);function ade(e,t){(t=l4(t))[0]-=e,bL(t);var r=NAe(-t[1]);return((-t[2]<0?-r:r)+zc-Ri)%zc}function jXe(e){var t=Hi(e),r=2*ta,i=t>0,s=zs(t)>Ri;function a(f,A){return Hi(f)*Hi(A)>t}function u(f,A,d){var m=[1,0,0],v=uS(l4(f),l4(A)),_=lS(v,v),C=v[0],D=_-C*C;if(!D)return!d&&f;var T=t*_/D,I=-t*C/D,V=uS(m,v),R=cS(m,T);wL(R,cS(v,I));var ne=V,Ae=lS(R,ne),ae=lS(ne,ne),Be=Ae*Ae-ae*(lS(R,R)-1);if(!(Be<0)){var Ce=Ac(Be),U=cS(ne,(-Ae-Ce)/ae);if(wL(U,R),U=yL(U),!d)return U;var le,Q=f[0],z=A[0],oe=f[1],J=A[1];z<Q&&(le=Q,Q=z,z=le);var de=z-Q,De=zs(de-Wi)<Ri;if(!De&&J<oe&&(le=oe,oe=J,J=le),De||de<Ri?De?oe+J>0^U[1]<(zs(U[0]-Q)<Ri?oe:J):oe<=U[1]&&U[1]<=J:de>Wi^(Q<=U[0]&&U[0]<=z)){var We=cS(ne,(-Ae+Ce)/ae);return wL(We,R),[U,yL(We)]}}}function c(f,A){var d=i?e:Wi-e,h=0;return f<-d?h|=1:f>d&&(h|=2),A<-d?h|=4:A>d&&(h|=8),h}return ide(a,function l(f){var A,d,h,g,m;return{lineStart:function(){g=h=!1,m=1},point:function(v,_){var D,C=[v,_],T=a(v,_),I=i?T?0:c(v,_):T?c(v+(v<0?Wi:-Wi),_):0;if(!A&&(g=h=T)&&f.lineStart(),T!==h&&(!(D=u(A,C))||oS(A,D)||oS(C,D))&&(C[2]=1),T!==h)m=0,T?(f.lineStart(),D=u(C,A),f.point(D[0],D[1])):(D=u(A,C),f.point(D[0],D[1],2),f.lineEnd()),A=D;else if(s&&A&&i^T){var V;!(I&d)&&(V=u(C,A,!0))&&(m=0,i?(f.lineStart(),f.point(V[0][0],V[0][1]),f.point(V[1][0],V[1][1]),f.lineEnd()):(f.point(V[1][0],V[1][1]),f.lineEnd(),f.lineStart(),f.point(V[0][0],V[0][1],3)))}T&&(!A||!oS(A,C))&&f.point(C[0],C[1]),A=C,h=T,d=I},lineEnd:function(){h&&f.lineEnd(),A=null},clean:function(){return m|(g&&h)<<1}}},function o(f,A,d,h){!function ode(e,t,r,i,s,o){if(r){var a=Hi(t),l=Di(t),u=i*r;null==s?(s=t+i*zc,o=t-u/2):(s=ade(a,s),o=ade(a,o),(i>0?s<o:s>o)&&(s+=i*zc));for(var c,f=s;i>0?f>o:f<o;f-=u)c=yL([a,-l*Hi(f),-l*Di(f)]),e.point(c[0],c[1])}}(h,e,r,d,f,A)},i?[0,-e]:[-Wi,e-Wi])}var N_=1e9,AS=-N_;function lde(e,t,r,i){function s(c,f){return e<=c&&c<=r&&t<=f&&f<=i}function o(c,f,A,d){var h=0,g=0;if(null==c||(h=a(c,A))!==(g=a(f,A))||u(c,f)<0^A>0)do{d.point(0===h||3===h?e:r,h>1?i:t)}while((h=(h+A+4)%4)!==g);else d.point(f[0],f[1])}function a(c,f){return zs(c[0]-e)<Ri?f>0?0:3:zs(c[0]-r)<Ri?f>0?2:1:zs(c[1]-t)<Ri?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var A=a(c,1),d=a(f,1);return A!==d?A-d:0===A?f[1]-c[1]:1===A?c[0]-f[0]:2===A?c[1]-f[1]:f[0]-c[0]}return function(c){var d,h,g,m,v,_,C,D,T,I,V,f=c,A=tde(),R={point:K,lineStart:function Be(){R.point=U,h&&h.push(g=[]),I=!0,T=!1,C=D=NaN},lineEnd:function Ce(){d&&(U(m,v),_&&T&&A.rejoin(),d.push(A.result())),R.point=K,T&&f.lineEnd()},polygonStart:function Ae(){f=A,d=[],h=[],V=!0},polygonEnd:function ae(){var Q=function ne(){for(var Q=0,z=0,oe=h.length;z<oe;++z)for(var Ie,We,J=h[z],le=1,de=J.length,De=J[0],Ve=De[0],st=De[1];le<de;++le)Ie=Ve,We=st,Ve=(De=J[le])[0],st=De[1],We<=i?st>i&&(Ve-Ie)*(i-We)>(st-We)*(e-Ie)&&++Q:st<=i&&(Ve-Ie)*(i-We)<(st-We)*(e-Ie)&&--Q;return Q}(),z=V&&Q,oe=(d=fS(d)).length;(z||oe)&&(c.polygonStart(),z&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),oe&&nde(d,l,Q,o,c),c.polygonEnd()),f=c,d=h=g=null}};function K(Q,z){s(Q,z)&&f.point(Q,z)}function U(Q,z){var oe=s(Q,z);if(h&&g.push([Q,z]),I)m=Q,v=z,_=oe,I=!1,oe&&(f.lineStart(),f.point(Q,z));else if(oe&&T)f.point(Q,z);else{var J=[C=Math.max(AS,Math.min(N_,C)),D=Math.max(AS,Math.min(N_,D))],le=[Q=Math.max(AS,Math.min(N_,Q)),z=Math.max(AS,Math.min(N_,z))];!function KXe(e,t,r,i,s,o){var g,a=e[0],l=e[1],f=0,A=1,d=t[0]-a,h=t[1]-l;if(g=r-a,d||!(g>0)){if(g/=d,d<0){if(g<f)return;g<A&&(A=g)}else if(d>0){if(g>A)return;g>f&&(f=g)}if(g=s-a,d||!(g<0)){if(g/=d,d<0){if(g>A)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<A&&(A=g)}if(g=i-l,h||!(g>0)){if(g/=h,h<0){if(g<f)return;g<A&&(A=g)}else if(h>0){if(g>A)return;g>f&&(f=g)}if(g=o-l,h||!(g<0)){if(g/=h,h<0){if(g>A)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<A&&(A=g)}return f>0&&(e[0]=a+f*d,e[1]=l+f*h),A<1&&(t[0]=a+A*d,t[1]=l+A*h),!0}}}}}(J,le,e,t,r,i)?oe&&(f.lineStart(),f.point(Q,z),V=!1):(T||(f.lineStart(),f.point(J[0],J[1])),f.point(le[0],le[1]),oe||f.lineEnd(),V=!1)}C=Q,D=z,T=oe}return R}}function EL(e,t){function r(i,s){return i=e(i,s),t(i[0],i[1])}return e.invert&&t.invert&&(r.invert=function(i,s){return(i=t.invert(i,s))&&e.invert(i[0],i[1])}),r}function SL(e,t){return zs(e)>Wi&&(e-=Math.round(e/zc)*zc),[e,t]}function ude(e,t,r){return(e%=zc)?t||r?EL(fde(e),Ade(t,r)):fde(e):t||r?Ade(t,r):SL}function cde(e){return function(t,r){return zs(t+=e)>Wi&&(t-=Math.round(t/zc)*zc),[t,r]}}function fde(e){var t=cde(e);return t.invert=cde(-e),t}function Ade(e,t){var r=Hi(e),i=Di(e),s=Hi(t),o=Di(t);function a(l,u){var c=Hi(u),f=Hi(l)*c,A=Di(l)*c,d=Di(u),h=d*r+f*i;return[x0(A*s-h*o,f*r-d*i),jf(h*s+A*o)]}return a.invert=function(l,u){var c=Hi(u),f=Hi(l)*c,A=Di(l)*c,d=Di(u),h=d*s-A*o;return[x0(A*s+d*o,f*r+h*i),jf(h*r-f*i)]},a}function O_(e){return function(t){var r=new BL;for(var i in e)r[i]=e[i];return r.stream=t,r}}function BL(){}function xL(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),i4(r,e.stream(tS)),t(tS.result()),null!=i&&e.clipExtent(i),e}function dS(e,t,r){return xL(e,function(i){var s=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(s/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),l=+t[0][0]+(s-a*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(o-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([l,u])},r)}function DL(e,t,r){return dS(e,[[0,0],t],r)}function FL(e,t,r){return xL(e,function(i){var s=+t,o=s/(i[1][0]-i[0][0]),a=(s-o*(i[1][0]+i[0][0]))/2,l=-o*i[0][1];e.scale(150*o).translate([a,l])},r)}function ML(e,t,r){return xL(e,function(i){var s=+t,o=s/(i[1][1]-i[0][1]),a=-o*i[0][0],l=(s-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,l])},r)}SL.invert=SL,BL.prototype={constructor:BL,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var YXe=Hi(30*ta);function hde(e,t){return+t?function JXe(e,t){function r(i,s,o,a,l,u,c,f,A,d,h,g,m,v){var _=c-i,C=f-s,D=_*_+C*C;if(D>4*t&&m--){var T=a+d,I=l+h,V=u+g,R=Ac(T*T+I*I+V*V),K=jf(V/=R),ne=zs(zs(V)-1)<Ri||zs(o-A)<Ri?(o+A)/2:x0(I,T),Ae=e(ne,K),ae=Ae[0],Be=Ae[1],Ce=ae-i,U=Be-s,Q=C*Ce-_*U;(Q*Q/D>t||zs((_*Ce+C*U)/D-.5)>.3||a*d+l*h+u*g<YXe)&&(r(i,s,o,a,l,u,ae,Be,ne,T/=R,I/=R,V,m,v),v.point(ae,Be),r(ae,Be,ne,T,I,V,c,f,A,d,h,g,m,v))}}return function(i){var s,o,a,l,u,c,f,A,d,h,g,m,v={point:_,lineStart:C,lineEnd:T,polygonStart:function(){i.polygonStart(),v.lineStart=I},polygonEnd:function(){i.polygonEnd(),v.lineStart=C}};function _(K,ne){K=e(K,ne),i.point(K[0],K[1])}function C(){A=NaN,v.point=D,i.lineStart()}function D(K,ne){var Ae=l4([K,ne]),ae=e(K,ne);r(A,d,f,h,g,m,A=ae[0],d=ae[1],f=K,h=Ae[0],g=Ae[1],m=Ae[2],16,i),i.point(A,d)}function T(){v.point=_,i.lineEnd()}function I(){C(),v.point=V,v.lineEnd=R}function V(K,ne){D(s=K,ne),o=A,a=d,l=h,u=g,c=m,v.point=D}function R(){r(A,d,f,h,g,m,o,a,s,l,u,c,16,i),v.lineEnd=T,T()}return v}}(e,t):function XXe(e){return O_({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}(e)}var ZXe=O_({point:function(e,t){this.stream.point(e*ta,t*ta)}});function pde(e,t,r,i,s,o){if(!o)return function tJe(e,t,r,i,s){function o(a,l){return[t+e*(a*=i),r-e*(l*=s)]}return o.invert=function(a,l){return[(a-t)/e*i,(r-l)/e*s]},o}(e,t,r,i,s);var a=Hi(o),l=Di(o),u=a*e,c=l*e,f=a/e,A=l/e,d=(l*r-a*t)/e,h=(l*t+a*r)/e;function g(m,v){return[u*(m*=i)-c*(v*=s)+t,r-c*m-u*v]}return g.invert=function(m,v){return[i*(f*m-A*v+d),s*(h-A*m-f*v)]},g}function D0(e){return gde(function(){return e})()}function gde(e){var t,f,_,C,D,V,R,K,ne,Ae,r=150,i=480,s=250,o=0,a=0,l=0,u=0,c=0,A=0,d=1,h=1,g=null,m=sde,v=null,T=x_,I=.5;function ae(Q){return K(Q[0]*ta,Q[1]*ta)}function Be(Q){return(Q=K.invert(Q[0],Q[1]))&&[Q[0]*lu,Q[1]*lu]}function Ce(){var Q=pde(r,0,0,d,h,A).apply(null,t(o,a)),z=pde(r,i-Q[0],s-Q[1],d,h,A);return f=ude(l,u,c),R=EL(t,z),K=EL(f,R),V=hde(R,I),U()}function U(){return ne=Ae=null,ae}return ae.stream=function(Q){return ne&&Ae===Q?ne:ne=ZXe(function eJe(e){return O_({point:function(t,r){var i=e(t,r);return this.stream.point(i[0],i[1])}})}(f)(m(V(T(Ae=Q)))))},ae.preclip=function(Q){return arguments.length?(m=Q,g=void 0,U()):m},ae.postclip=function(Q){return arguments.length?(T=Q,v=_=C=D=null,U()):T},ae.clipAngle=function(Q){return arguments.length?(m=+Q?jXe(g=Q*ta):(g=null,sde),U()):g*lu},ae.clipExtent=function(Q){return arguments.length?(T=null==Q?(v=_=C=D=null,x_):lde(v=+Q[0][0],_=+Q[0][1],C=+Q[1][0],D=+Q[1][1]),U()):null==v?null:[[v,_],[C,D]]},ae.scale=function(Q){return arguments.length?(r=+Q,Ce()):r},ae.translate=function(Q){return arguments.length?(i=+Q[0],s=+Q[1],Ce()):[i,s]},ae.center=function(Q){return arguments.length?(o=Q[0]%360*ta,a=Q[1]%360*ta,Ce()):[o*lu,a*lu]},ae.rotate=function(Q){return arguments.length?(l=Q[0]%360*ta,u=Q[1]%360*ta,c=Q.length>2?Q[2]%360*ta:0,Ce()):[l*lu,u*lu,c*lu]},ae.angle=function(Q){return arguments.length?(A=Q%360*ta,Ce()):A*lu},ae.reflectX=function(Q){return arguments.length?(d=Q?-1:1,Ce()):d<0},ae.reflectY=function(Q){return arguments.length?(h=Q?-1:1,Ce()):h<0},ae.precision=function(Q){return arguments.length?(V=hde(R,I=Q*Q),U()):Ac(I)},ae.fitExtent=function(Q,z){return dS(ae,Q,z)},ae.fitSize=function(Q,z){return DL(ae,Q,z)},ae.fitWidth=function(Q,z){return FL(ae,Q,z)},ae.fitHeight=function(Q,z){return ML(ae,Q,z)},function(){return t=e.apply(this,arguments),ae.invert=t.invert&&Be,Ce()}}function TL(e){var t=0,r=Wi/3,i=gde(e),s=i(t,r);return s.parallels=function(o){return arguments.length?i(t=o[0]*ta,r=o[1]*ta):[t*lu,r*lu]},s}function rJe(e,t){var r=Di(e),i=(r+Di(t))/2;if(zs(i)<Ri)return function nJe(e){var t=Hi(e);function r(i,s){return[i*t,Di(s)/t]}return r.invert=function(i,s){return[i/t,jf(s*t)]},r}(e);var s=1+r*(2*i-r),o=Ac(s)/i;function a(l,u){var c=Ac(s-2*i*Di(u))/i;return[c*Di(l*=i),o-c*Hi(l)]}return a.invert=function(l,u){var c=o-u,f=x0(l,zs(c))*qf(c);return c*i<0&&(f-=Wi*qf(l)*qf(c)),[f/i,jf((s-(l*l+c*c)*i*i)/(2*i))]},a}function hS(){return TL(rJe).scale(155.424).center([0,33.6442])}function mde(){return hS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function vde(e){return function(t,r){var i=Hi(t),s=Hi(r),o=e(i*s);return o===1/0?[2,0]:[o*s*Di(t),o*Di(r)]}}function R_(e){return function(t,r){var i=Ac(t*t+r*r),s=e(i),o=Di(s),a=Hi(s);return[x0(t*o,i*a),jf(i&&r*o/i)]}}var _de=vde(function(e){return Ac(2/(1+e))});_de.invert=R_(function(e){return 2*jf(e/2)});var yde=vde(function(e){return(e=NAe(e))&&e/Di(e)});function pS(e,t){return[e,JE(uL((Aa+t)/2))]}function wde(e){var l,u,c,t=D0(e),r=t.center,i=t.scale,s=t.translate,o=t.clipExtent,a=null;function f(){var A=Wi*i(),d=t(function WXe(e){function t(r){return(r=e(r[0]*ta,r[1]*ta))[0]*=lu,r[1]*=lu,r}return e=ude(e[0]*ta,e[1]*ta,e.length>2?e[2]*ta:0),t.invert=function(r){return(r=e.invert(r[0]*ta,r[1]*ta))[0]*=lu,r[1]*=lu,r},t}(t.rotate()).invert([0,0]));return o(null==a?[[d[0]-A,d[1]-A],[d[0]+A,d[1]+A]]:e===pS?[[Math.max(d[0]-A,a),l],[Math.min(d[0]+A,u),c]]:[[a,Math.max(d[1]-A,l)],[u,Math.min(d[1]+A,c)]])}return t.scale=function(A){return arguments.length?(i(A),f()):i()},t.translate=function(A){return arguments.length?(s(A),f()):s()},t.center=function(A){return arguments.length?(r(A),f()):r()},t.clipExtent=function(A){return arguments.length?(null==A?a=l=u=c=null:(a=+A[0][0],l=+A[0][1],u=+A[1][0],c=+A[1][1]),f()):null==a?null:[[a,l],[u,c]]},f()}function gS(e){return uL((Aa+e)/2)}function uJe(e,t){var r=Hi(e),i=e===t?Di(e):JE(r/Hi(t))/JE(gS(t)/gS(e)),s=r*lL(gS(e),i)/i;if(!i)return pS;function o(a,l){s>0?l<-Aa+Ri&&(l=-Aa+Ri):l>Aa-Ri&&(l=Aa-Ri);var u=s/lL(gS(l),i);return[u*Di(i*a),s-u*Hi(i*a)]}return o.invert=function(a,l){var u=s-l,c=qf(i)*Ac(a*a+u*u),f=x0(a,zs(u))*qf(u);return u*i<0&&(f-=Wi*qf(a)*qf(u)),[f/i,2*s4(lL(s/c,1/i))-Aa]},o}function mS(e,t){return[e,t]}function AJe(e,t){var r=Hi(e),i=e===t?Di(e):(r-Hi(t))/(t-e),s=r/i+e;if(zs(i)<Ri)return mS;function o(a,l){var u=s-l,c=i*a;return[u*Di(c),s-u*Hi(c)]}return o.invert=function(a,l){var u=s-l,c=x0(a,zs(u))*qf(u);return u*i<0&&(c-=Wi*qf(a)*qf(u)),[c/i,s-qf(i)*Ac(a*a+u*u)]},o}yde.invert=R_(function(e){return e}),pS.invert=function(e,t){return[e,2*s4(IAe(t))-Aa]},mS.invert=mS;var k_=1.340264,P_=-.081106,U_=893e-6,L_=.003796,vS=Ac(3)/2;function bde(e,t){var r=jf(vS*Di(t)),i=r*r,s=i*i*i;return[e*Hi(r)/(vS*(k_+3*P_*i+s*(7*U_+9*L_*i))),r*(k_+P_*i+s*(U_+L_*i))]}function Cde(e,t){var r=Hi(t),i=Hi(e)*r;return[r*Di(e)/i,Di(t)/i]}function Ede(e,t){var r=t*t,i=r*r;return[e*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function Sde(e,t){return[Hi(t)*Di(e),Di(t)]}function Bde(e,t){var r=Hi(t),i=1+Hi(e)*r;return[r*Di(e)/i,Di(t)/i]}function xde(e,t){return[JE(uL((Aa+t)/2)),-e]}function Q_(){}function Dde(){var t,e=[];return{point:function(r,i,s){t.push([r,i,s])},lineStart:function(){e.push(t=[])},lineEnd:Q_,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}bde.invert=function(e,t){for(var a,r=t,i=r*r,s=i*i*i,o=0;o<12&&(s=(i=(r-=a=(r*(k_+P_*i+s*(U_+L_*i))-t)/(k_+3*P_*i+s*(7*U_+9*L_*i)))*r)*i*i,!(zs(a)<1e-12));++o);return[vS*e*(k_+3*P_*i+s*(7*U_+9*L_*i))/Hi(r),jf(Di(r)/vS)]},Cde.invert=R_(s4),Ede.invert=function(e,t){var s,r=t,i=25;do{var o=r*r,a=o*o;r-=s=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(zs(s)>Ri&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Sde.invert=R_(jf),Bde.invert=R_(function(e){return 2*s4(e)}),xde.invert=function(e,t){return[-t,2*s4(IAe(e))-Aa]};var Eo=1e-6,ys=Math.PI,Wf=ys/2,Fde=ys/4,QA=2*ys,F0=180/ys,qc=ys/180,ya=Math.abs,CJe=Math.atan,H_=Math.atan2,wa=Math.cos,da=(Math,Math,Math,Math,Math,Math,Math.sin),EJe=Math.sign||function(e){return e>0?1:e<0?-1:0},_S=Math.sqrt;function V_(e){return e>1?Wf:e<-1?-Wf:Math.asin(e)}function yS(e,t){return ya(e[0]-t[0])<Eo&&ya(e[1]-t[1])<Eo}function wS(e,t,r,i){this.x=e,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Mde(e,t,r,i,s){var l,u,o=[],a=[];if(e.forEach(function(g){if(!((m=g.length-1)<=0)){var m,C,v=g[0],_=g[m];if(yS(v,_)){if(!v[2]&&!_[2]){for(s.lineStart(),l=0;l<m;++l)s.point((v=g[l])[0],v[1]);return void s.lineEnd()}_[0]+=2*Eo}o.push(C=new wS(v,g,null,!0)),a.push(C.o=new wS(v,null,C,!1)),o.push(C=new wS(_,g,null,!1)),a.push(C.o=new wS(_,null,C,!0))}}),o.length){for(a.sort(t),Tde(o),Tde(a),l=0,u=a.length;l<u;++l)a[l].e=r=!r;for(var f,A,c=o[0];;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;f=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(l=0,u=f.length;l<u;++l)s.point((A=f[l])[0],A[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(h)for(l=(f=d.p.z).length-1;l>=0;--l)s.point((A=f[l])[0],A[1]);else i(d.x,d.p.x,-1,s);d=d.p}f=(d=d.o).z,h=!h}while(!d.v);s.lineEnd()}}}function Tde(e){if(t=e.length){for(var t,s,r=0,i=e[0];++r<t;)i.n=s=e[r],s.p=i,i=s;i.n=s=e[0],s.p=i}}function IL(e){return[H_(e[1],e[0]),V_(e[2])]}function u4(e){var t=e[0],r=e[1],i=wa(r);return[i*wa(t),i*da(t),da(r)]}function bS(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function CS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function NL(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ES(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function OL(e){var t=_S(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function RL(e){return ya(e[0])<=ys?e[0]:EJe(e[0])*((ya(e[0])+ys)%QA-ys)}function Ide(e,t,r,i){return function(s){var c,f,A,o=t(s),a=Dde(),l=t(a),u=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=_,d.lineStart=C,d.lineEnd=D,f=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,f=fS(f);var T=function BJe(e,t){var r=RL(t),i=t[1],s=da(i),o=[da(r),-wa(r),0],a=0,l=0,u=new ah;1===s?i=Wf+Eo:-1===s&&(i=-Wf-Eo);for(var c=0,f=e.length;c<f;++c)if(d=(A=e[c]).length)for(var A,d,h=A[d-1],g=RL(h),m=h[1]/2+Fde,v=da(m),_=wa(m),C=0;C<d;++C,g=T,v=V,_=R,h=D){var D=A[C],T=RL(D),I=D[1]/2+Fde,V=da(I),R=wa(I),K=T-g,ne=K>=0?1:-1,Ae=ne*K,ae=Ae>ys,Be=v*V;if(u.add(H_(Be*ne*da(Ae),_*R+Be*wa(Ae))),a+=ae?K+ne*QA:K,ae^g>=r^T>=r){var Ce=CS(u4(h),u4(D));OL(Ce);var U=CS(o,Ce);OL(U);var Q=(ae^K>=0?-1:1)*V_(U[2]);(i>Q||i===Q&&(Ce[0]||Ce[1]))&&(l+=ae^K>=0?1:-1)}}return(a<-Eo||a<Eo&&u<-1e-12)^1&l}(c,i);f.length?(u||(s.polygonStart(),u=!0),Mde(f,DJe,T,r,s)):T&&(u||(s.polygonStart(),u=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),u&&(s.polygonEnd(),u=!1),f=c=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(T,I){e(T,I)&&s.point(T,I)}function g(T,I){o.point(T,I)}function m(){d.point=g,o.lineStart()}function v(){d.point=h,o.lineEnd()}function _(T,I){A.push([T,I]),l.point(T,I)}function C(){l.lineStart(),A=[]}function D(){_(A[0][0],A[0][1]),l.lineEnd();var V,K,ne,Ae,T=l.clean(),I=a.result(),R=I.length;if(A.pop(),c.push(A),A=null,R){if(1&T){if((K=(ne=I[0]).length-1)>0){for(u||(s.polygonStart(),u=!0),s.lineStart(),V=0;V<K;++V)s.point((Ae=ne[V])[0],Ae[1]);s.lineEnd()}return}R>1&&2&T&&I.push(I.pop().concat(I.shift())),f.push(I.filter(xJe))}}return d}}function xJe(e){return e.length>1}function DJe(e,t){return((e=e.x)[0]<0?e[1]-Wf-Eo:Wf-e[1])-((t=t.x)[0]<0?t[1]-Wf-Eo:Wf-t[1])}Math;const Nde=Ide(function(){return!0},function FJe(e){var s,t=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),s=1},point:function(o,a){var l=o>0?ys:-ys,u=ya(o-t);ya(u-ys)<Eo?(e.point(t,r=(r+a)/2>0?Wf:-Wf),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),s=0):i!==l&&u>=ys&&(ya(t-i)<Eo&&(t-=i*Eo),ya(o-l)<Eo&&(o-=l*Eo),r=function MJe(e,t,r,i){var s,o,a=da(e-r);return ya(a)>Eo?CJe((da(t)*(o=wa(i))*da(r)-da(i)*(s=wa(t))*da(e))/(s*o*a)):(t+i)/2}(t,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),s=0),e.point(t=o,r=a),i=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-s}}},function TJe(e,t,r,i){var s;if(null==e)i.point(-ys,s=r*Wf),i.point(0,s),i.point(ys,s),i.point(ys,0),i.point(ys,-s),i.point(0,-s),i.point(-ys,-s),i.point(-ys,0),i.point(-ys,s);else if(ya(e[0]-t[0])>Eo){var o=e[0]<t[0]?ys:-ys;i.point(-o,s=r*o/2),i.point(0,s),i.point(o,s)}else i.point(t[0],t[1])},[-ys,-Wf]);function Rde(e,t){(t=u4(t))[0]-=e,OL(t);var r=function SJe(e){return e>1?0:e<-1?ys:Math.acos(e)}(-t[1]);return((-t[2]<0?-r:r)+QA-Eo)%QA}function IJe(e){var t=wa(e),r=6*qc,i=t>0,s=ya(t)>Eo;function a(f,A){return wa(f)*wa(A)>t}function u(f,A,d){var m=[1,0,0],v=CS(u4(f),u4(A)),_=bS(v,v),C=v[0],D=_-C*C;if(!D)return!d&&f;var T=t*_/D,I=-t*C/D,V=CS(m,v),R=ES(m,T);NL(R,ES(v,I));var ne=V,Ae=bS(R,ne),ae=bS(ne,ne),Be=Ae*Ae-ae*(bS(R,R)-1);if(!(Be<0)){var Ce=_S(Be),U=ES(ne,(-Ae-Ce)/ae);if(NL(U,R),U=IL(U),!d)return U;var le,Q=f[0],z=A[0],oe=f[1],J=A[1];z<Q&&(le=Q,Q=z,z=le);var de=z-Q,De=ya(de-ys)<Eo;if(!De&&J<oe&&(le=oe,oe=J,J=le),De||de<Eo?De?oe+J>0^U[1]<(ya(U[0]-Q)<Eo?oe:J):oe<=U[1]&&U[1]<=J:de>ys^(Q<=U[0]&&U[0]<=z)){var We=ES(ne,(-Ae+Ce)/ae);return NL(We,R),[U,IL(We)]}}}function c(f,A){var d=i?e:ys-e,h=0;return f<-d?h|=1:f>d&&(h|=2),A<-d?h|=4:A>d&&(h|=8),h}return Ide(a,function l(f){var A,d,h,g,m;return{lineStart:function(){g=h=!1,m=1},point:function(v,_){var D,C=[v,_],T=a(v,_),I=i?T?0:c(v,_):T?c(v+(v<0?ys:-ys),_):0;if(!A&&(g=h=T)&&f.lineStart(),T!==h&&(!(D=u(A,C))||yS(A,D)||yS(C,D))&&(C[2]=1),T!==h)m=0,T?(f.lineStart(),D=u(C,A),f.point(D[0],D[1])):(D=u(A,C),f.point(D[0],D[1],2),f.lineEnd()),A=D;else if(s&&A&&i^T){var V;!(I&d)&&(V=u(C,A,!0))&&(m=0,i?(f.lineStart(),f.point(V[0][0],V[0][1]),f.point(V[1][0],V[1][1]),f.lineEnd()):(f.point(V[1][0],V[1][1]),f.lineEnd(),f.lineStart(),f.point(V[0][0],V[0][1],3)))}T&&(!A||!yS(A,C))&&f.point(C[0],C[1]),A=C,h=T,d=I},lineEnd:function(){h&&f.lineEnd(),A=null},clean:function(){return m|(g&&h)<<1}}},function o(f,A,d,h){!function Ode(e,t,r,i,s,o){if(r){var a=wa(t),l=da(t),u=i*r;null==s?(s=t+i*QA,o=t-u/2):(s=Rde(a,s),o=Rde(a,o),(i>0?s<o:s>o)&&(s+=i*QA));for(var c,f=s;i>0?f>o:f<o;f-=u)c=IL([a,-l*wa(f),-l*da(f)]),e.point(c[0],c[1])}}(h,e,r,d,f,A)},i?[0,-e]:[-ys,e-ys])}var $_=1e9,SS=-$_;function OJe(e,t,r,i){function s(c,f){return e<=c&&c<=r&&t<=f&&f<=i}function o(c,f,A,d){var h=0,g=0;if(null==c||(h=a(c,A))!==(g=a(f,A))||u(c,f)<0^A>0)do{d.point(0===h||3===h?e:r,h>1?i:t)}while((h=(h+A+4)%4)!==g);else d.point(f[0],f[1])}function a(c,f){return ya(c[0]-e)<Eo?f>0?0:3:ya(c[0]-r)<Eo?f>0?2:1:ya(c[1]-t)<Eo?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var A=a(c,1),d=a(f,1);return A!==d?A-d:0===A?f[1]-c[1]:1===A?c[0]-f[0]:2===A?c[1]-f[1]:f[0]-c[0]}return function(c){var d,h,g,m,v,_,C,D,T,I,V,f=c,A=Dde(),R={point:K,lineStart:function Be(){R.point=U,h&&h.push(g=[]),I=!0,T=!1,C=D=NaN},lineEnd:function Ce(){d&&(U(m,v),_&&T&&A.rejoin(),d.push(A.result())),R.point=K,T&&f.lineEnd()},polygonStart:function Ae(){f=A,d=[],h=[],V=!0},polygonEnd:function ae(){var Q=function ne(){for(var Q=0,z=0,oe=h.length;z<oe;++z)for(var Ie,We,J=h[z],le=1,de=J.length,De=J[0],Ve=De[0],st=De[1];le<de;++le)Ie=Ve,We=st,Ve=(De=J[le])[0],st=De[1],We<=i?st>i&&(Ve-Ie)*(i-We)>(st-We)*(e-Ie)&&++Q:st<=i&&(Ve-Ie)*(i-We)<(st-We)*(e-Ie)&&--Q;return Q}(),z=V&&Q,oe=(d=fS(d)).length;(z||oe)&&(c.polygonStart(),z&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),oe&&Mde(d,l,Q,o,c),c.polygonEnd()),f=c,d=h=g=null}};function K(Q,z){s(Q,z)&&f.point(Q,z)}function U(Q,z){var oe=s(Q,z);if(h&&g.push([Q,z]),I)m=Q,v=z,_=oe,I=!1,oe&&(f.lineStart(),f.point(Q,z));else if(oe&&T)f.point(Q,z);else{var J=[C=Math.max(SS,Math.min($_,C)),D=Math.max(SS,Math.min($_,D))],le=[Q=Math.max(SS,Math.min($_,Q)),z=Math.max(SS,Math.min($_,z))];!function NJe(e,t,r,i,s,o){var g,a=e[0],l=e[1],f=0,A=1,d=t[0]-a,h=t[1]-l;if(g=r-a,d||!(g>0)){if(g/=d,d<0){if(g<f)return;g<A&&(A=g)}else if(d>0){if(g>A)return;g>f&&(f=g)}if(g=s-a,d||!(g<0)){if(g/=d,d<0){if(g>A)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<A&&(A=g)}if(g=i-l,h||!(g>0)){if(g/=h,h<0){if(g<f)return;g<A&&(A=g)}else if(h>0){if(g>A)return;g>f&&(f=g)}if(g=o-l,h||!(g<0)){if(g/=h,h<0){if(g>A)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<A&&(A=g)}return f>0&&(e[0]=a+f*d,e[1]=l+f*h),A<1&&(t[0]=a+A*d,t[1]=l+A*h),!0}}}}}(J,le,e,t,r,i)?oe&&(f.lineStart(),f.point(Q,z),V=!1):(T||(f.lineStart(),f.point(J[0],J[1])),f.point(le[0],le[1]),oe||f.lineEnd(),V=!1)}C=Q,D=z,T=oe}return R}}function kL(e,t){function r(i,s){return i=e(i,s),t(i[0],i[1])}return e.invert&&t.invert&&(r.invert=function(i,s){return(i=t.invert(i,s))&&e.invert(i[0],i[1])}),r}const kde=e=>e;function PL(e,t){return[ya(e)>ys?e+Math.round(-e/QA)*QA:e,t]}function Ude(e){return function(t,r){return[(t+=e)>ys?t-QA:t<-ys?t+QA:t,r]}}function Lde(e){var t=Ude(e);return t.invert=Ude(-e),t}function Qde(e,t){var r=wa(e),i=da(e),s=wa(t),o=da(t);function a(l,u){var c=wa(u),f=wa(l)*c,A=da(l)*c,d=da(u),h=d*r+f*i;return[H_(A*s-h*o,f*r-d*i),V_(h*s+A*o)]}return a.invert=function(l,u){var c=wa(u),f=wa(l)*c,A=da(l)*c,d=da(u),h=d*s-A*o;return[H_(A*s+d*o,f*r+h*i),V_(h*r-f*i)]},a}function BS(e){return function(t){var r=new UL;for(var i in e)r[i]=e[i];return r.stream=t,r}}function UL(){}function xS(e,t){e&&Vde.hasOwnProperty(e.type)&&Vde[e.type](e,t)}PL.invert=PL,UL.prototype={constructor:UL,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hde={Feature:function(e,t){xS(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,s=r.length;++i<s;)xS(r[i].geometry,t)}},Vde={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)t.point((e=r[i])[0],e[1],e[2])},LineString:function(e,t){LL(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)LL(r[i],t,0)},Polygon:function(e,t){$de(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)$de(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,s=r.length;++i<s;)xS(r[i],t)}};function LL(e,t,r){var o,i=-1,s=e.length-r;for(t.lineStart();++i<s;)t.point((o=e[i])[0],o[1],o[2]);t.lineEnd()}function $de(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)LL(e[r],t,1);t.polygonEnd()}var c4=1/0,DS=c4,G_=-c4,FS=G_,kJe={point:function PJe(e,t){e<c4&&(c4=e),e>G_&&(G_=e),t<DS&&(DS=t),t>FS&&(FS=t)},lineStart:Q_,lineEnd:Q_,polygonStart:Q_,polygonEnd:Q_,result:function(){var e=[[c4,DS],[G_,FS]];return G_=FS=-(DS=c4=1/0),e}};const Gde=kJe;function QL(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),function RJe(e,t){e&&Hde.hasOwnProperty(e.type)?Hde[e.type](e,t):xS(e,t)}(r,e.stream(Gde)),t(Gde.result()),null!=i&&e.clipExtent(i),e}function zde(e,t,r){return QL(e,function(i){var s=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(s/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),l=+t[0][0]+(s-a*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(o-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([l,u])},r)}var HJe=wa(30*qc);function jde(e,t){return+t?function $Je(e,t){function r(i,s,o,a,l,u,c,f,A,d,h,g,m,v){var _=c-i,C=f-s,D=_*_+C*C;if(D>4*t&&m--){var T=a+d,I=l+h,V=u+g,R=_S(T*T+I*I+V*V),K=V_(V/=R),ne=ya(ya(V)-1)<Eo||ya(o-A)<Eo?(o+A)/2:H_(I,T),Ae=e(ne,K),ae=Ae[0],Be=Ae[1],Ce=ae-i,U=Be-s,Q=C*Ce-_*U;(Q*Q/D>t||ya((_*Ce+C*U)/D-.5)>.3||a*d+l*h+u*g<HJe)&&(r(i,s,o,a,l,u,ae,Be,ne,T/=R,I/=R,V,m,v),v.point(ae,Be),r(ae,Be,ne,T,I,V,c,f,A,d,h,g,m,v))}}return function(i){var s,o,a,l,u,c,f,A,d,h,g,m,v={point:_,lineStart:C,lineEnd:T,polygonStart:function(){i.polygonStart(),v.lineStart=I},polygonEnd:function(){i.polygonEnd(),v.lineStart=C}};function _(K,ne){K=e(K,ne),i.point(K[0],K[1])}function C(){A=NaN,v.point=D,i.lineStart()}function D(K,ne){var Ae=u4([K,ne]),ae=e(K,ne);r(A,d,f,h,g,m,A=ae[0],d=ae[1],f=K,h=Ae[0],g=Ae[1],m=Ae[2],16,i),i.point(A,d)}function T(){v.point=_,i.lineEnd()}function I(){C(),v.point=V,v.lineEnd=R}function V(K,ne){D(s=K,ne),o=A,a=d,l=h,u=g,c=m,v.point=D}function R(){r(A,d,f,h,g,m,o,a,s,l,u,c,16,i),v.lineEnd=T,T()}return v}}(e,t):function VJe(e){return BS({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}(e)}var GJe=BS({point:function(e,t){this.stream.point(e*qc,t*qc)}});function Kde(e,t,r,i,s,o){if(!o)return function qJe(e,t,r,i,s){function o(a,l){return[t+e*(a*=i),r-e*(l*=s)]}return o.invert=function(a,l){return[(a-t)/e*i,(r-l)/e*s]},o}(e,t,r,i,s);var a=wa(o),l=da(o),u=a*e,c=l*e,f=a/e,A=l/e,d=(l*r-a*t)/e,h=(l*t+a*r)/e;function g(m,v){return[u*(m*=i)-c*(v*=s)+t,r-c*m-u*v]}return g.invert=function(m,v){return[i*(f*m-A*v+d),s*(h-A*m-f*v)]},g}function jJe(e){return function KJe(e){var t,f,_,C,D,V,R,K,ne,Ae,r=150,i=480,s=250,o=0,a=0,l=0,u=0,c=0,A=0,d=1,h=1,g=null,m=Nde,v=null,T=kde,I=.5;function ae(Q){return K(Q[0]*qc,Q[1]*qc)}function Be(Q){return(Q=K.invert(Q[0],Q[1]))&&[Q[0]*F0,Q[1]*F0]}function Ce(){var Q=Kde(r,0,0,d,h,A).apply(null,t(o,a)),z=Kde(r,i-Q[0],s-Q[1],d,h,A);return f=function Pde(e,t,r){return(e%=QA)?t||r?kL(Lde(e),Qde(t,r)):Lde(e):t||r?Qde(t,r):PL}(l,u,c),R=kL(t,z),K=kL(f,R),V=jde(R,I),U()}function U(){return ne=Ae=null,ae}return ae.stream=function(Q){return ne&&Ae===Q?ne:ne=GJe(function zJe(e){return BS({point:function(t,r){var i=e(t,r);return this.stream.point(i[0],i[1])}})}(f)(m(V(T(Ae=Q)))))},ae.preclip=function(Q){return arguments.length?(m=Q,g=void 0,U()):m},ae.postclip=function(Q){return arguments.length?(T=Q,v=_=C=D=null,U()):T},ae.clipAngle=function(Q){return arguments.length?(m=+Q?IJe(g=Q*qc):(g=null,Nde),U()):g*F0},ae.clipExtent=function(Q){return arguments.length?(T=null==Q?(v=_=C=D=null,kde):OJe(v=+Q[0][0],_=+Q[0][1],C=+Q[1][0],D=+Q[1][1]),U()):null==v?null:[[v,_],[C,D]]},ae.scale=function(Q){return arguments.length?(r=+Q,Ce()):r},ae.translate=function(Q){return arguments.length?(i=+Q[0],s=+Q[1],Ce()):[i,s]},ae.center=function(Q){return arguments.length?(o=Q[0]%360*qc,a=Q[1]%360*qc,Ce()):[o*F0,a*F0]},ae.rotate=function(Q){return arguments.length?(l=Q[0]%360*qc,u=Q[1]%360*qc,c=Q.length>2?Q[2]%360*qc:0,Ce()):[l*F0,u*F0,c*F0]},ae.angle=function(Q){return arguments.length?(A=Q%360*qc,Ce()):A*F0},ae.reflectX=function(Q){return arguments.length?(d=Q?-1:1,Ce()):d<0},ae.reflectY=function(Q){return arguments.length?(h=Q?-1:1,Ce()):h<0},ae.precision=function(Q){return arguments.length?(V=jde(R,I=Q*Q),U()):_S(I)},ae.fitExtent=function(Q,z){return zde(ae,Q,z)},ae.fitSize=function(Q,z){return function UJe(e,t,r){return zde(e,[[0,0],t],r)}(ae,Q,z)},ae.fitWidth=function(Q,z){return function LJe(e,t,r){return QL(e,function(i){var s=+t,o=s/(i[1][0]-i[0][0]),a=(s-o*(i[1][0]+i[0][0]))/2,l=-o*i[0][1];e.scale(150*o).translate([a,l])},r)}(ae,Q,z)},ae.fitHeight=function(Q,z){return function QJe(e,t,r){return QL(e,function(i){var s=+t,o=s/(i[1][1]-i[0][1]),a=-o*i[0][0],l=(s-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,l])},r)}(ae,Q,z)},function(){return t=e.apply(this,arguments),ae.invert=t.invert&&Be,Ce()}}(function(){return e})()}var WJe=Math.abs,HL=(Math,Math,Math,Math.cos),MS=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),S1=(Math,Math.PI),VL=S1/2,Yde=(Math,TS(2));function Xde(e){return e>1?VL:e<-1?-VL:Math.asin(e)}function TS(e){return e>0?Math.sqrt(e):0}function XJe(e,t){var s,r=e*MS(t),i=30;do{t-=s=(t+MS(t)-r)/(1+HL(t))}while(WJe(s)>1e-6&&--i>0);return t/2}TS(S1);var ZJe=function JJe(e,t,r){function i(s,o){return[e*s*HL(o=XJe(r,o)),t*MS(o)]}return i.invert=function(s,o){return o=Xde(o/t),[s/(e*HL(o)),Xde((2*o+MS(2*o))/r)]},i}(Yde/VL,Yde,S1);const tZe=ede(),$L=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function nZe(e,t){return function r(){const i=t();return i.type=e,i.path=ede().projection(i),i.copy=i.copy||function(){const s=r();return $L.forEach(o=>{i[o]&&s[o](i[o]())}),s.path.pointRadius(i.path.pointRadius()),s},Rue(i)}}function GL(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(IS[e]=nZe(e,t),this):IS[e]||null}function Jde(e){return e&&e.path||tZe}const IS={albers:mde,albersusa:function sJe(){var e,t,i,o,l,u,r=mde(),s=hS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=hS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(d,h){u=[d,h]}};function f(d){var h=d[0],g=d[1];return u=null,i.point(h,g),u||(o.point(h,g),u)||(l.point(h,g),u)}function A(){return e=t=null,f}return f.invert=function(d){var h=r.scale(),g=r.translate(),m=(d[0]-g[0])/h,v=(d[1]-g[1])/h;return(v>=.12&&v<.234&&m>=-.425&&m<-.214?s:v>=.166&&v<.234&&m>=-.214&&m<-.115?a:r).invert(d)},f.stream=function(d){return e&&t===d?e:e=function iJe(e){var t=e.length;return{point:function(r,i){for(var s=-1;++s<t;)e[s].point(r,i)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}([r.stream(t=d),s.stream(d),a.stream(d)])},f.precision=function(d){return arguments.length?(r.precision(d),s.precision(d),a.precision(d),A()):r.precision()},f.scale=function(d){return arguments.length?(r.scale(d),s.scale(.35*d),a.scale(d),f.translate(r.translate())):r.scale()},f.translate=function(d){if(!arguments.length)return r.translate();var h=r.scale(),g=+d[0],m=+d[1];return i=r.translate(d).clipExtent([[g-.455*h,m-.238*h],[g+.455*h,m+.238*h]]).stream(c),o=s.translate([g-.307*h,m+.201*h]).clipExtent([[g-.425*h+Ri,m+.12*h+Ri],[g-.214*h-Ri,m+.234*h-Ri]]).stream(c),l=a.translate([g-.205*h,m+.212*h]).clipExtent([[g-.214*h+Ri,m+.166*h+Ri],[g-.115*h-Ri,m+.234*h-Ri]]).stream(c),A()},f.fitExtent=function(d,h){return dS(f,d,h)},f.fitSize=function(d,h){return DL(f,d,h)},f.fitWidth=function(d,h){return FL(f,d,h)},f.fitHeight=function(d,h){return ML(f,d,h)},f.scale(1070)},azimuthalequalarea:function oJe(){return D0(_de).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function aJe(){return D0(yde).scale(79.4188).clipAngle(179.999)},conicconformal:function cJe(){return TL(uJe).scale(109.5).parallels([30,30])},conicequalarea:hS,conicequidistant:function dJe(){return TL(AJe).scale(131.154).center([0,13.9389])},equalEarth:function pJe(){return D0(bde).scale(177.158)},equirectangular:function fJe(){return D0(mS).scale(152.63)},gnomonic:function gJe(){return D0(Cde).scale(144.049).clipAngle(60)},identity:function mJe(){var a,l,c,f,A,v,_,e=1,t=0,r=0,i=1,s=1,o=0,u=null,d=1,h=1,g=O_({point:function(T,I){var V=D([T,I]);this.stream.point(V[0],V[1])}}),m=x_;function C(){return d=e*i,h=e*s,v=_=null,D}function D(T){var I=T[0]*d,V=T[1]*h;if(o){var R=V*a-I*l;I=I*a+V*l,V=R}return[I+t,V+r]}return D.invert=function(T){var I=T[0]-t,V=T[1]-r;if(o){var R=V*a+I*l;I=I*a-V*l,V=R}return[I/d,V/h]},D.stream=function(T){return v&&_===T?v:v=g(m(_=T))},D.postclip=function(T){return arguments.length?(m=T,u=c=f=A=null,C()):m},D.clipExtent=function(T){return arguments.length?(m=null==T?(u=c=f=A=null,x_):lde(u=+T[0][0],c=+T[0][1],f=+T[1][0],A=+T[1][1]),C()):null==u?null:[[u,c],[f,A]]},D.scale=function(T){return arguments.length?(e=+T,C()):e},D.translate=function(T){return arguments.length?(t=+T[0],r=+T[1],C()):[t,r]},D.angle=function(T){return arguments.length?(l=Di(o=T%360*ta),a=Hi(o),C()):o*lu},D.reflectX=function(T){return arguments.length?(i=T?-1:1,C()):i<0},D.reflectY=function(T){return arguments.length?(s=T?-1:1,C()):s<0},D.fitExtent=function(T,I){return dS(D,T,I)},D.fitSize=function(T,I){return DL(D,T,I)},D.fitWidth=function(T,I){return FL(D,T,I)},D.fitHeight=function(T,I){return ML(D,T,I)},D},mercator:function lJe(){return wde(pS).scale(961/zc)},mollweide:function eZe(){return jJe(ZJe).scale(169.529)},naturalEarth1:function vJe(){return D0(Ede).scale(175.295)},orthographic:function _Je(){return D0(Sde).scale(249.5).clipAngle(90+Ri)},stereographic:function yJe(){return D0(Bde).scale(250).clipAngle(142)},transversemercator:function wJe(){var e=wde(xde),t=e.center,r=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):[(i=t())[1],-i[0]]},e.rotate=function(i){return arguments.length?r([i[0],i[1],i.length>2?i[2]+90:90]):[(i=r())[0],i[1],i[2]-90]},r([0,0,90]).scale(159.155)}};for(const e in IS)GL(e,IS[e]);var B1=1e-6,ehe=(Math,Math.abs),NS=(Math,Math,Math,Math.ceil);function the(e,t,r){var i=bm(e,t-B1,r).concat(t);return function(s){return i.map(function(o){return[s,o]})}}function nhe(e,t,r){var i=bm(e,t-B1,r).concat(t);return function(s){return i.map(function(o){return[o,s]})}}function zL(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ihe(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function q_(){}Math,Math,Math,Math,Math,Math,Math,Math,Math;var OS=1/.7,A4="\\s*([+-]?\\d+)\\s*",K_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iZe=/^#([0-9a-f]{3,8})$/,sZe=new RegExp(`^rgb\\(${A4},${A4},${A4}\\)$`),oZe=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),aZe=new RegExp(`^rgba\\(${A4},${A4},${A4},${K_}\\)$`),lZe=new RegExp(`^rgba\\(${ch},${ch},${ch},${K_}\\)$`),uZe=new RegExp(`^hsl\\(${K_},${ch},${ch}\\)$`),cZe=new RegExp(`^hsla\\(${K_},${ch},${ch},${K_}\\)$`),she={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ohe(){return this.rgb().formatHex()}function ahe(){return this.rgb().formatRgb()}function qL(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iZe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?lhe(t):3===r?new dc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?RS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?RS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=sZe.exec(e))?new dc(t[1],t[2],t[3],1):(t=oZe.exec(e))?new dc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=aZe.exec(e))?RS(t[1],t[2],t[3],t[4]):(t=lZe.exec(e))?RS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uZe.exec(e))?fhe(t[1],t[2]/100,t[3]/100,1):(t=cZe.exec(e))?fhe(t[1],t[2]/100,t[3]/100,t[4]):she.hasOwnProperty(e)?lhe(she[e]):"transparent"===e?new dc(NaN,NaN,NaN,0):null}function lhe(e){return new dc(e>>16&255,e>>8&255,255&e,1)}function RS(e,t,r,i){return i<=0&&(e=t=r=NaN),new dc(e,t,r,i)}function dZe(e){return e instanceof q_||(e=qL(e)),e?new dc((e=e.rgb()).r,e.g,e.b,e.opacity):new dc}function jL(e,t,r,i){return 1===arguments.length?dZe(e):new dc(e,t,r,i??1)}function dc(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function uhe(){return`#${Sm(this.r)}${Sm(this.g)}${Sm(this.b)}`}function che(){const e=kS(this.opacity);return`${1===e?"rgb(":"rgba("}${Em(this.r)}, ${Em(this.g)}, ${Em(this.b)}${1===e?")":`, ${e})`}`}function kS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Em(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sm(e){return((e=Em(e))<16?"0":"")+e.toString(16)}function fhe(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new HA(e,t,r,i)}function Ahe(e){if(e instanceof HA)return new HA(e.h,e.s,e.l,e.opacity);if(e instanceof q_||(e=qL(e)),!e)return new HA;if(e instanceof HA)return e;var t=(e=e.rgb()).r/255,r=e.g/255,i=e.b/255,s=Math.min(t,r,i),o=Math.max(t,r,i),a=NaN,l=o-s,u=(o+s)/2;return l?(a=t===o?(r-i)/l+6*(r<i):r===o?(i-t)/l+2:(t-r)/l+4,l/=u<.5?o+s:2-o-s,a*=60):l=u>0&&u<1?0:a,new HA(a,l,u,e.opacity)}function HA(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function dhe(e){return(e=(e||0)%360)<0?e+360:e}function PS(e){return Math.max(0,Math.min(1,e||0))}function KL(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function gZe(){}zL(q_,qL,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ohe,formatHex:ohe,formatHex8:function fZe(){return this.rgb().formatHex8()},formatHsl:function AZe(){return Ahe(this).formatHsl()},formatRgb:ahe,toString:ahe}),zL(dc,jL,ihe(q_,{brighter(e){return e=null==e?OS:Math.pow(OS,e),new dc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new dc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dc(Em(this.r),Em(this.g),Em(this.b),kS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uhe,formatHex:uhe,formatHex8:function hZe(){return`#${Sm(this.r)}${Sm(this.g)}${Sm(this.b)}${Sm(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:che,toString:che})),zL(HA,function pZe(e,t,r,i){return 1===arguments.length?Ahe(e):new HA(e,t,r,i??1)},ihe(q_,{brighter(e){return e=null==e?OS:Math.pow(OS,e),new HA(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new HA(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,s=2*r-i;return new dc(KL(e>=240?e-240:e+120,s,i),KL(e,s,i),KL(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new HA(dhe(this.h),PS(this.s),PS(this.l),kS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kS(this.opacity);return`${1===e?"hsl(":"hsla("}${dhe(this.h)}, ${100*PS(this.s)}%, ${100*PS(this.l)}%${1===e?")":`, ${e})`}`}}));const M0=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function hhe(){var e=1,t=1,r=l;function i(u,c){return c.map(f=>s(u,f))}function s(u,c){var f=[],A=[];return function o(u,c,f){var h,g,v,_,C,A=[],d=[];for(h=g=-1,M0[(v=u[0]>=c)<<1].forEach(D);++h<e-1;)M0[v|(v=u[h+1]>=c)<<1].forEach(D);for(M0[v<<0].forEach(D);++g<t-1;){for(h=-1,M0[(v=u[g*e+e]>=c)<<1|(_=u[g*e]>=c)<<2].forEach(D);++h<e-1;)C=_,M0[v|(v=u[g*e+e+h+1]>=c)<<1|(_=u[g*e+h+1]>=c)<<2|C<<3].forEach(D);M0[v|_<<3].forEach(D)}for(h=-1,M0[(_=u[g*e]>=c)<<2].forEach(D);++h<e-1;)C=_,M0[(_=u[g*e+h+1]>=c)<<2|C<<3].forEach(D);function D(T){var ne,Ae,I=[T[0][0]+h,T[0][1]+g],V=[T[1][0]+h,T[1][1]+g],R=a(I),K=a(V);(ne=d[R])?(Ae=A[K])?(delete d[ne.end],delete A[Ae.start],ne===Ae?(ne.ring.push(V),f(ne.ring)):A[ne.start]=d[Ae.end]={start:ne.start,end:Ae.end,ring:ne.ring.concat(Ae.ring)}):(delete d[ne.end],ne.ring.push(V),d[ne.end=K]=ne):(ne=A[K])?(Ae=d[R])?(delete A[ne.start],delete d[Ae.end],ne===Ae?(ne.ring.push(V),f(ne.ring)):A[Ae.start]=d[ne.end]={start:Ae.start,end:ne.end,ring:Ae.ring.concat(ne.ring)}):(delete A[ne.start],ne.ring.unshift(I),A[ne.start=R]=ne):A[R]=d[K]={start:R,end:K,ring:[I,V]}}M0[_<<3].forEach(D)}(u,c,d=>{r(d,u,c),function mZe(e){for(var t=0,r=e.length,i=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(d)>0?f.push([d]):A.push(d)}),A.forEach(d=>{for(var m,h=0,g=f.length;h<g;++h)if(-1!==vZe((m=f[h])[0],d))return void m.push(d)}),{type:"MultiPolygon",value:c,coordinates:f}}function a(u){return 2*u[0]+u[1]*(e+1)*4}function l(u,c,f){u.forEach(A=>{var v,d=A[0],h=A[1],g=0|d,m=0|h,_=c[m*e+g];d>0&&d<e&&g===d&&(A[0]=d+(f-(v=c[m*e+g-1]))/(_-v)-.5),h>0&&h<t&&m===h&&(A[1]=h+(f-(v=c[(m-1)*e+g]))/(_-v)-.5)})}return i.contour=s,i.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);return c>=0&&f>=0||Yt("invalid size"),e=c,t=f,i},i.smooth=function(u){return arguments.length?(r=u?l:gZe,i):r===l},i}function vZe(e,t){for(var s,r=-1,i=t.length;++r<i;)if(s=_Ze(e,t[r]))return s;return 0}function _Ze(e,t){for(var r=t[0],i=t[1],s=-1,o=0,a=e.length,l=a-1;o<a;l=o++){var u=e[o],c=u[0],f=u[1],A=e[l],d=A[0],h=A[1];if(yZe(u,A,t))return 0;f>i!=h>i&&r<(d-c)*(i-f)/(h-f)+c&&(s=-s)}return s}function yZe(e,t,r){var i;return function wZe(e,t,r){return(t[0]-e[0])*(r[1]-e[1])==(r[0]-e[0])*(t[1]-e[1])}(e,t,r)&&function bZe(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}(e[i=+(e[0]===t[0])],r[i],t[i])}function phe(e,t,r){return function(i){var s=Xd(i),o=r?Math.min(s[0],0):s[0],a=s[1],l=a-o,u=t?function BXe(e,t,r){r=+r;const i=(t=+t)<(e=+e),s=i?BAe(t,e,r):BAe(e,t,r);return(i?-1:1)*(s<0?1/-s:s)}(o,a,e):l/(e+1);return bm(o+u,a,u)}}function WL(e){Ut.call(this,null,e)}function ghe(e,t,r,i,s){const o=e.x1||0,a=e.y1||0,l=t*r<0;function u(A){A.forEach(c)}function c(A){l&&A.reverse(),A.forEach(f)}function f(A){A[0]=(A[0]-o)*t+i,A[1]=(A[1]-a)*r+s}return function(A){return A.coordinates.forEach(u),A}}function mhe(e,t,r){const i=e>=0?e:sk(t,r);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function YL(e){return Ni(e)?e:tu(+e)}function vhe(){var e=u=>u[0],t=u=>u[1],r=C3,i=[-1,-1],s=960,o=500,a=2;function l(u,c){const f=mhe(i[0],u,e)>>a,A=mhe(i[1],u,t)>>a,d=f?f+2:0,h=A?A+2:0,g=2*d+(s>>a),m=2*h+(o>>a),v=new Float32Array(g*m),_=new Float32Array(g*m);let C=v;u.forEach(T=>{const I=d+(+e(T)>>a),V=h+(+t(T)>>a);I>=0&&I<g&&V>=0&&V<m&&(v[I+V*g]+=+r(T))}),f>0&&A>0?(d4(g,m,v,_,f),h4(g,m,_,v,A),d4(g,m,v,_,f),h4(g,m,_,v,A),d4(g,m,v,_,f),h4(g,m,_,v,A)):f>0?(d4(g,m,v,_,f),d4(g,m,_,v,f),d4(g,m,v,_,f),C=_):A>0&&(h4(g,m,v,_,A),h4(g,m,_,v,A),h4(g,m,v,_,A),C=_);const D=c?Math.pow(2,-2*a):1/function xXe(e,t){let r=0;if(void 0===t)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let s of e)(s=+t(s,++i,e))&&(r+=s)}return r}(C);for(let T=0,I=g*m;T<I;++T)C[T]*=D;return{values:C,scale:1<<a,width:g,height:m,x1:d,y1:h,x2:d+(s>>a),y2:h+(o>>a)}}return l.x=function(u){return arguments.length?(e=YL(u),l):e},l.y=function(u){return arguments.length?(t=YL(u),l):t},l.weight=function(u){return arguments.length?(r=YL(u),l):r},l.size=function(u){if(!arguments.length)return[s,o];var c=+u[0],f=+u[1];return c>=0&&f>=0||Yt("invalid size"),s=c,o=f,l},l.cellSize=function(u){return arguments.length?((u=+u)>=1||Yt("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),l):1<<a},l.bandwidth=function(u){return arguments.length?(1===(u=ar(u)).length&&(u=[+u[0],+u[0]]),2!==u.length&&Yt("invalid bandwidth"),i=u,l):i},l}function d4(e,t,r,i,s){const o=1+(s<<1);for(let a=0;a<t;++a)for(let l=0,u=0;l<e+s;++l)l<e&&(u+=r[l+a*e]),l>=s&&(l>=o&&(u-=r[l-o+a*e]),i[l-s+a*e]=u/Math.min(l+1,e-1+o-l,o))}function h4(e,t,r,i,s){const o=1+(s<<1);for(let a=0;a<e;++a)for(let l=0,u=0;l<t+s;++l)l<t&&(u+=r[a+l*e]),l>=s&&(l>=o&&(u-=r[a+(l-o)*e]),i[a+(l-s)*e]=u/Math.min(l+1,t-1+o-l,o))}function XL(e){Ut.call(this,null,e)}WL.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Gn(WL,Ut,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,s=e.field||Zl,o=hhe().smooth(!1!==e.smooth),a=e.thresholds||function CZe(e,t,r){const i=phe(r.levels||10,r.nice,!1!==r.zero);return"shared"!==r.resolve?i:i(e.map(s=>YE(t(s).values)))}(i,s,e),l=null===e.as?null:e.as||"contour",u=[];return i.forEach(c=>{const f=s(c),A=o.size([f.width,f.height])(f.values,Zt(a)?a:a(f.values));(function EZe(e,t,r,i){let s=i.scale||t.scale,o=i.translate||t.translate;if(Ni(s)&&(s=s(r,i)),Ni(o)&&(o=o(r,i)),(1===s||null==s)&&!o)return;const a=(Ns(s)?s:s[0])||1,l=(Ns(s)?s:s[1])||1;e.forEach(ghe(t,a,l,o&&o[0]||0,o&&o[1]||0))})(A,f,c,e),A.forEach(d=>{u.push(yC(c,Qs(null!=l?{[l]:d}:d)))})}),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}}),XL.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const SZe=["x","y","weight","size","cellSize","bandwidth"];function _he(e,t){return SZe.forEach(r=>null!=t[r]?e[r](t[r]):0),e}function JL(e){Ut.call(this,null,e)}Gn(XL,Ut,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var u,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=function BZe(e,t){var s,o,a,l,u,c,r=[],i=f=>f(l);if(null==t)r.push(e);else for(s={},o=0,a=e.length;o<a;++o)l=e[o],(c=s[u=t.map(i)])||(s[u]=c=[],c.dims=u,r.push(c)),c.push(l);return r}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(fa),a=_he(vhe(),e),l=e.as||"grid";return u=s.map(f=>Qs(function c(f,A){for(let d=0;d<o.length;++d)f[o[d]]=A[d];return f}({[l]:a(f,e.counts)},f.dims))),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}}),JL.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Gn(JL,Ut,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var l,u,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=hhe().smooth(!1!==e.smooth),s=e.values,o=e.thresholds||phe(e.count||10,e.nice,!!s),a=e.size;return s||(s=t.materialize(t.SOURCE).source,u=ghe(l=_he(vhe(),e)(s,!0),l.scale||1,l.scale||1,0,0),a=[l.width,l.height],s=l.values),o=Zt(o)?o:o(s),s=i.size(a)(s,o),u&&s.forEach(u),this.value&&(r.rem=this.value),this.value=r.source=r.add=(s||[]).map(Qs),r}});const ZL="Feature",eQ="FeatureCollection";function tQ(e){Ut.call(this,null,e)}function nQ(e){Ut.call(this,null,e)}function rQ(e){Ut.call(this,null,e)}function iQ(e){Ut.call(this,null,e)}function sQ(e){Ut.call(this,[],e),this.generator=function rhe(){var e,t,r,i,s,o,a,l,d,h,g,m,u=10,c=u,f=90,A=360,v=2.5;function _(){return{type:"MultiLineString",coordinates:C()}}function C(){return bm(NS(i/f)*f,r,f).map(g).concat(bm(NS(l/A)*A,a,A).map(m)).concat(bm(NS(t/u)*u,e,u).filter(function(D){return ehe(D%f)>B1}).map(d)).concat(bm(NS(o/c)*c,s,c).filter(function(D){return ehe(D%A)>B1}).map(h))}return _.lines=function(){return C().map(function(D){return{type:"LineString",coordinates:D}})},_.outline=function(){return{type:"Polygon",coordinates:[g(i).concat(m(a).slice(1),g(r).reverse().slice(1),m(l).reverse().slice(1))]}},_.extent=function(D){return arguments.length?_.extentMajor(D).extentMinor(D):_.extentMinor()},_.extentMajor=function(D){return arguments.length?(l=+D[0][1],a=+D[1][1],(i=+D[0][0])>(r=+D[1][0])&&(D=i,i=r,r=D),l>a&&(D=l,l=a,a=D),_.precision(v)):[[i,l],[r,a]]},_.extentMinor=function(D){return arguments.length?(o=+D[0][1],s=+D[1][1],(t=+D[0][0])>(e=+D[1][0])&&(D=t,t=e,e=D),o>s&&(D=o,o=s,s=D),_.precision(v)):[[t,o],[e,s]]},_.step=function(D){return arguments.length?_.stepMajor(D).stepMinor(D):_.stepMinor()},_.stepMajor=function(D){return arguments.length?(f=+D[0],A=+D[1],_):[f,A]},_.stepMinor=function(D){return arguments.length?(u=+D[0],c=+D[1],_):[u,c]},_.precision=function(D){return arguments.length?(v=+D,d=the(o,s,90),h=nhe(t,e,v),g=the(l,a,90),m=nhe(i,r,v),_):v},_.extentMajor([[-180,-90+B1],[180,90-B1]]).extentMinor([[-180,-80-B1],[180,80+B1]])}()}function oQ(e){Ut.call(this,null,e)}function yhe(e){if(!Ni(e))return!1;const t=DA(Jl(e));return t.$x||t.$y||t.$value||t.$max}function whe(e){Ut.call(this,null,e),this.modified(!0)}function bhe(e,t,r){Ni(e[t])&&e[t](r)}function Che(e,t,r,i){if(isNaN(t)||isNaN(r))return e;var s,A,d,h,g,m,v,_,C,o=e._root,a={data:i},l=e._x0,u=e._y0,c=e._x1,f=e._y1;if(!o)return e._root=a,e;for(;o.length;)if((m=t>=(A=(l+c)/2))?l=A:c=A,(v=r>=(d=(u+f)/2))?u=d:f=d,s=o,!(o=o[_=v<<1|m]))return s[_]=a,e;if(h=+e._x.call(null,o.data),g=+e._y.call(null,o.data),t===h&&r===g)return a.next=o,s?s[_]=a:e._root=a,e;do{s=s?s[_]=new Array(4):e._root=new Array(4),(m=t>=(A=(l+c)/2))?l=A:c=A,(v=r>=(d=(u+f)/2))?u=d:f=d}while((_=v<<1|m)==(C=(g>=d)<<1|h>=A));return s[C]=o,s[_]=a,e}function Ru(e,t,r,i,s){this.node=e,this.x0=t,this.y0=r,this.x1=i,this.y1=s}function YZe(e){return e[0]}function JZe(e){return e[1]}function aQ(e,t,r){var i=new lQ(t??YZe,r??JZe,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function lQ(e,t,r,i,s,o){this._x=e,this._y=t,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function Ehe(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}tQ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Gn(tQ,Ut,{transform(e,t){var c,r=this._features,i=this._points,s=e.fields,o=s&&s[0],a=s&&s[1],l=e.geojson||!s&&Zl,u=t.ADD;c=e.modified()||t.changed(t.REM)||t.modified(Jl(l))||o&&t.modified(Jl(o))||a&&t.modified(Jl(a)),(!this.value||c)&&(u=t.SOURCE,this._features=r=[],this._points=i=[]),l&&t.visit(u,f=>r.push(l(f))),o&&a&&(t.visit(u,f=>{var A=o(f),d=a(f);null!=A&&null!=d&&(A=+A)===A&&(d=+d)===d&&i.push([A,d])}),r=r.concat({type:ZL,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:eQ,features:r}}}),nQ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Gn(nQ,Ut,{transform(e,t){var r=t.fork(t.ALL),i=this.value,s=e.field||Zl,o=e.as||"path",a=r.SOURCE;!i||e.modified()?(this.value=i=Jde(e.projection),r.materialize().reflow()):a=s===Zl||t.modified(s.fields)?r.ADD_MOD:r.ADD;const l=function DZe(e,t){const r=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),r}(i,e.pointRadius);return r.visit(a,u=>u[o]=i(s(u))),i.pointRadius(l),r.modifies(o)}}),rQ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Gn(rQ,Ut,{transform(e,t){var u,r=e.projection,i=e.fields[0],s=e.fields[1],o=e.as||["x","y"],a=o[0],l=o[1];function c(f){const A=r([i(f),s(f)]);A?(f[a]=A[0],f[l]=A[1]):(f[a]=void 0,f[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(u=t.modified(i.fields)||t.modified(s.fields),t.visit(u?t.ADD_MOD:t.ADD,c)),t.modifies(o)}}),iQ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Gn(iQ,Ut,{transform(e,t){var r=t.fork(t.ALL),i=this.value,s=e.as||"shape",o=r.ADD;return(!i||e.modified())&&(this.value=i=function FZe(e,t,r){const i=null==r?s=>e(t(s)):s=>{var o=e.pointRadius(),a=e.pointRadius(r)(t(s));return e.pointRadius(o),a};return i.context=s=>(e.context(s),i),i}(Jde(e.projection),e.field||Of("datum"),e.pointRadius),r.materialize().reflow(),o=r.SOURCE),r.visit(o,a=>a[s]=i),r.modifies(s)}}),sQ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Gn(sQ,Ut,{transform(e,t){var s,r=this.value,i=this.generator;if(!r.length||e.modified())for(const o in e)Ni(i[o])&&i[o](e[o]);return s=i(),r.length?t.mod.push(hoe(r[0],s)):t.add.push(Qs(s)),r[0]=s,t}}),oQ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Gn(oQ,Ut,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var r=t.materialize(t.SOURCE).source,i="shared"===e.resolve,s=e.field||Zl,o=function TZe(e,t){let r;return Ni(e)?(r=i=>e(i,t),r.dep=yhe(e)):e?r=tu(e):(r=i=>i.$value/i.$max||0,r.dep=!0),r}(e.opacity,e),a=function MZe(e,t){let r;return Ni(e)?(r=i=>jL(e(i,t)),r.dep=yhe(e)):r=tu(jL(e||"#888")),r}(e.color,e),l=e.as||"image",u={$x:0,$y:0,$value:0,$max:i?YE(r.map(c=>YE(s(c).values))):0};return r.forEach(c=>{const f=s(c),A=Oi({},c,u);i||(A.$max=YE(f.values||[])),c[l]=function IZe(e,t,r,i){const s=e.width,a=e.x1||0,l=e.y1||0,u=e.x2||s,c=e.y2||e.height,f=e.values,A=f?v=>f[v]:Xp,d=u1(u-a,c-l),h=d.getContext("2d"),g=h.getImageData(0,0,u-a,c-l),m=g.data;for(let v=l,_=0;v<c;++v){t.$y=v-l;for(let C=a,D=v*s;C<u;++C,_+=4){t.$x=C-a,t.$value=A(C+D);const T=r(t);m[_+0]=T.r,m[_+1]=T.g,m[_+2]=T.b,m[_+3]=~~(255*i(t))}}return h.putImageData(g,0,0),d}(f,A,a.dep?a:tu(a(A)),o.dep?o:tu(o(A)))}),t.reflow(!0).modifies(l)}}),Gn(whe,Ut,{transform(e,t){let r=this.value;return!r||e.modified("type")?(this.value=r=function OZe(e){const t=GL((e||"mercator").toLowerCase());return t||Yt("Unrecognized projection type: "+e),t()}(e.type),$L.forEach(i=>{null!=e[i]&&bhe(r,i,e[i])})):$L.forEach(i=>{e.modified(i)&&bhe(r,i,e[i])}),null!=e.pointRadius&&r.path.pointRadius(e.pointRadius),e.fit&&function NZe(e,t){const r=function RZe(e){return 1===(e=ar(e)).length?e[0]:{type:eQ,features:e.reduce((t,r)=>t.concat(function kZe(e){return e.type===eQ?e.features:ar(e).filter(t=>null!=t).map(t=>t.type===ZL?t:{type:ZL,geometry:t})}(r)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,r):t.size&&e.fitSize(t.size,r)}(r,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var ku=aQ.prototype=lQ.prototype;function Pu(e){return function(){return e}}function x1(e){return 1e-6*(e()-.5)}function eet(e){return e.x+e.vx}function tet(e){return e.y+e.vy}function oet(e){return e.x}function aet(e){return e.y}ku.copy=function(){var r,i,e=new lQ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=Ehe(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var s=0;s<4;++s)(i=t.source[s])&&(i.length?r.push({source:i,target:t.target[s]=new Array(4)}):t.target[s]=Ehe(i));return e},ku.add=function UZe(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return Che(this.cover(t,r),t,r,e)},ku.addAll=function LZe(e){var t,r,s,o,i=e.length,a=new Array(i),l=new Array(i),u=1/0,c=1/0,f=-1/0,A=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(a[r]=s,l[r]=o,s<u&&(u=s),s>f&&(f=s),o<c&&(c=o),o>A&&(A=o));if(u>f||c>A)return this;for(this.cover(u,c).cover(f,A),r=0;r<i;++r)Che(this,a[r],l[r],e[r]);return this},ku.cover=function QZe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{for(var u,c,a=s-r||1,l=this._root;r>e||e>=s||i>t||t>=o;)switch(c=(t<i)<<1|e<r,u=new Array(4),u[c]=l,l=u,a*=2,c){case 0:s=r+a,o=i+a;break;case 1:r=s-a,o=i+a;break;case 2:s=r+a,i=o-a;break;case 3:r=s-a,i=o-a}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this},ku.data=function HZe(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},ku.extent=function VZe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ku.find=function $Ze(e,t,r){var i,a,l,u,c,g,m,s=this._x0,o=this._y0,f=this._x1,A=this._y1,d=[],h=this._root;for(h&&d.push(new Ru(h,s,o,f,A)),null==r?r=1/0:(s=e-r,o=t-r,f=e+r,A=t+r,r*=r);g=d.pop();)if(!(!(h=g.node)||(a=g.x0)>f||(l=g.y0)>A||(u=g.x1)<s||(c=g.y1)<o))if(h.length){var v=(a+u)/2,_=(l+c)/2;d.push(new Ru(h[3],v,_,u,c),new Ru(h[2],a,_,v,c),new Ru(h[1],v,l,u,_),new Ru(h[0],a,l,v,_)),(m=(t>=_)<<1|e>=v)&&(g=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=g)}else{var C=e-+this._x.call(null,h.data),D=t-+this._y.call(null,h.data),T=C*C+D*D;if(T<r){var I=Math.sqrt(r=T);s=e-I,o=t-I,f=e+I,A=t+I,i=h.data}}return i},ku.remove=function GZe(e){if(isNaN(f=+this._x.call(null,e))||isNaN(A=+this._y.call(null,e)))return this;var t,i,s,o,f,A,d,h,g,m,v,_,r=this._root,a=this._x0,l=this._y0,u=this._x1,c=this._y1;if(!r)return this;if(r.length)for(;;){if((g=f>=(d=(a+u)/2))?a=d:u=d,(m=A>=(h=(l+c)/2))?l=h:c=h,t=r,!(r=r[v=m<<1|g]))return this;if(!r.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(i=t,_=v)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):t?(o?t[v]=o:delete t[v],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(i?i[_]=r:this._root=r),this):(this._root=o,this)},ku.removeAll=function zZe(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},ku.root=function qZe(){return this._root},ku.size=function jZe(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},ku.visit=function KZe(e){var r,s,o,a,l,u,t=[],i=this._root;for(i&&t.push(new Ru(i,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(i=r.node,o=r.x0,a=r.y0,l=r.x1,u=r.y1)&&i.length){var c=(o+l)/2,f=(a+u)/2;(s=i[3])&&t.push(new Ru(s,c,f,l,u)),(s=i[2])&&t.push(new Ru(s,o,f,c,u)),(s=i[1])&&t.push(new Ru(s,c,a,l,f)),(s=i[0])&&t.push(new Ru(s,o,a,c,f))}return this},ku.visitAfter=function WZe(e){var i,t=[],r=[];for(this._root&&t.push(new Ru(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,u=i.x1,c=i.y1,f=(a+u)/2,A=(l+c)/2;(o=s[0])&&t.push(new Ru(o,a,l,f,A)),(o=s[1])&&t.push(new Ru(o,f,l,u,A)),(o=s[2])&&t.push(new Ru(o,a,A,f,c)),(o=s[3])&&t.push(new Ru(o,f,A,u,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this},ku.x=function XZe(e){return arguments.length?(this._x=e,this):this._x},ku.y=function ZZe(e){return arguments.length?(this._y=e,this):this._y};var cet=Math.PI*(3-Math.sqrt(5));function det(e){return e.index}function Bhe(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}const xhe={center:function PZe(e,t){var r,i=1;function s(){var o,l,a=r.length,u=0,c=0;for(o=0;o<a;++o)u+=(l=r[o]).x,c+=l.y;for(u=(u/a-e)*i,c=(c/a-t)*i,o=0;o<a;++o)(l=r[o]).x-=u,l.y-=c}return null==e&&(e=0),null==t&&(t=0),s.initialize=function(o){r=o},s.x=function(o){return arguments.length?(e=+o,s):e},s.y=function(o){return arguments.length?(t=+o,s):t},s.strength=function(o){return arguments.length?(i=+o,s):i},s},collide:function net(e){var t,r,i,s=1,o=1;function a(){for(var c,A,d,h,g,m,v,f=t.length,_=0;_<o;++_)for(A=aQ(t,eet,tet).visitAfter(l),c=0;c<f;++c)v=(m=r[(d=t[c]).index])*m,h=d.x+d.vx,g=d.y+d.vy,A.visit(C);function C(D,T,I,V,R){var K=D.data,ne=D.r,Ae=m+ne;if(!K)return T>h+Ae||V<h-Ae||I>g+Ae||R<g-Ae;if(K.index>d.index){var ae=h-K.x-K.vx,Be=g-K.y-K.vy,Ce=ae*ae+Be*Be;Ce<Ae*Ae&&(0===ae&&(Ce+=(ae=x1(i))*ae),0===Be&&(Ce+=(Be=x1(i))*Be),Ce=(Ae-(Ce=Math.sqrt(Ce)))/Ce*s,d.vx+=(ae*=Ce)*(Ae=(ne*=ne)/(v+ne)),d.vy+=(Be*=Ce)*Ae,K.vx-=ae*(Ae=1-Ae),K.vy-=Be*Ae)}}}function l(c){if(c.data)return c.r=r[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function u(){if(t){var c,A,f=t.length;for(r=new Array(f),c=0;c<f;++c)r[(A=t[c]).index]=+e(A,c,t)}}return"function"!=typeof e&&(e=Pu(null==e?1:+e)),a.initialize=function(c,f){t=c,i=f,u()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(s=+c,a):s},a.radius=function(c){return arguments.length?(e="function"==typeof c?c:Pu(+c),u(),a):e},a},nbody:function Aet(){var e,t,r,i,o,s=Pu(-30),a=1,l=1/0,u=.81;function c(h){var g,m=e.length,v=aQ(e,oet,aet).visitAfter(A);for(i=h,g=0;g<m;++g)t=e[g],v.visit(d)}function f(){if(e){var h,m,g=e.length;for(o=new Array(g),h=0;h<g;++h)o[(m=e[h]).index]=+s(m,h,e)}}function A(h){var m,v,C,D,T,g=0,_=0;if(h.length){for(C=D=T=0;T<4;++T)(m=h[T])&&(v=Math.abs(m.value))&&(g+=m.value,_+=v,C+=v*m.x,D+=v*m.y);h.x=C/_,h.y=D/_}else{(m=h).x=m.data.x,m.y=m.data.y;do{g+=o[m.data.index]}while(m=m.next)}h.value=g}function d(h,g,m,v){if(!h.value)return!0;var _=h.x-t.x,C=h.y-t.y,D=v-g,T=_*_+C*C;if(D*D/u<T)return T<l&&(0===_&&(T+=(_=x1(r))*_),0===C&&(T+=(C=x1(r))*C),T<a&&(T=Math.sqrt(a*T)),t.vx+=_*h.value*i/T,t.vy+=C*h.value*i/T),!0;if(!(h.length||T>=l)){(h.data!==t||h.next)&&(0===_&&(T+=(_=x1(r))*_),0===C&&(T+=(C=x1(r))*C),T<a&&(T=Math.sqrt(a*T)));do{h.data!==t&&(t.vx+=_*(D=o[h.data.index]*i/T),t.vy+=C*D)}while(h=h.next)}}return c.initialize=function(h,g){e=h,r=g,f()},c.strength=function(h){return arguments.length?(s="function"==typeof h?h:Pu(+h),f(),c):s},c.distanceMin=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.distanceMax=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c.theta=function(h){return arguments.length?(u=h*h,c):Math.sqrt(u)},c},link:function het(e){var i,o,a,l,u,c,t=det,r=function A(v){return 1/Math.min(l[v.source.index],l[v.target.index])},s=Pu(30),f=1;function d(v){for(var _=0,C=e.length;_<f;++_)for(var T,I,V,R,K,ne,Ae,D=0;D<C;++D)R=(V=(T=e[D]).target).x+V.vx-(I=T.source).x-I.vx||x1(c),K=V.y+V.vy-I.y-I.vy||x1(c),K*=ne=((ne=Math.sqrt(R*R+K*K))-o[D])/ne*v*i[D],V.vx-=(R*=ne)*(Ae=u[D]),V.vy-=K*Ae,I.vx+=R*(Ae=1-Ae),I.vy+=K*Ae}function h(){if(a){var v,T,_=a.length,C=e.length,D=new Map(a.map((I,V)=>[t(I,V,a),I]));for(v=0,l=new Array(_);v<C;++v)(T=e[v]).index=v,"object"!=typeof T.source&&(T.source=Bhe(D,T.source)),"object"!=typeof T.target&&(T.target=Bhe(D,T.target)),l[T.source.index]=(l[T.source.index]||0)+1,l[T.target.index]=(l[T.target.index]||0)+1;for(v=0,u=new Array(C);v<C;++v)u[v]=l[(T=e[v]).source.index]/(l[T.source.index]+l[T.target.index]);i=new Array(C),g(),o=new Array(C),m()}}function g(){if(a)for(var v=0,_=e.length;v<_;++v)i[v]=+r(e[v],v,e)}function m(){if(a)for(var v=0,_=e.length;v<_;++v)o[v]=+s(e[v],v,e)}return null==e&&(e=[]),d.initialize=function(v,_){a=v,c=_,h()},d.links=function(v){return arguments.length?(e=v,h(),d):e},d.id=function(v){return arguments.length?(t=v,d):t},d.iterations=function(v){return arguments.length?(f=+v,d):f},d.strength=function(v){return arguments.length?(r="function"==typeof v?v:Pu(+v),g(),d):r},d.distance=function(v){return arguments.length?(s="function"==typeof v?v:Pu(+v),m(),d):s},d},x:function pet(e){var r,i,s,t=Pu(.1);function o(l){for(var f,u=0,c=r.length;u<c;++u)(f=r[u]).vx+=(s[u]-f.x)*i[u]*l}function a(){if(r){var l,u=r.length;for(i=new Array(u),s=new Array(u),l=0;l<u;++l)i[l]=isNaN(s[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return"function"!=typeof e&&(e=Pu(null==e?0:+e)),o.initialize=function(l){r=l,a()},o.strength=function(l){return arguments.length?(t="function"==typeof l?l:Pu(+l),a(),o):t},o.x=function(l){return arguments.length?(e="function"==typeof l?l:Pu(+l),a(),o):e},o},y:function get(e){var r,i,s,t=Pu(.1);function o(l){for(var f,u=0,c=r.length;u<c;++u)(f=r[u]).vy+=(s[u]-f.y)*i[u]*l}function a(){if(r){var l,u=r.length;for(i=new Array(u),s=new Array(u),l=0;l<u;++l)i[l]=isNaN(s[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return"function"!=typeof e&&(e=Pu(null==e?0:+e)),o.initialize=function(l){r=l,a()},o.strength=function(l){return arguments.length?(t="function"==typeof l?l:Pu(+l),a(),o):t},o.y=function(l){return arguments.length?(e="function"==typeof l?l:Pu(+l),a(),o):e},o}},W_="forces",uQ=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],met=["static","iterations"],Dhe=["x","y","vx","vy"];function cQ(e){Ut.call(this,null,e)}function Fhe(e,t,r,i){var o,a,l,u,s=ar(t.forces);for(o=0,a=uQ.length;o<a;++o)(l=uQ[o])!==W_&&t.modified(l)&&e[l](t[l]);for(o=0,a=s.length;o<a;++o)u=W_+o,(l=r||t.modified(W_,o)?wet(s[o]):i&&yet(s[o],i)?e.force(u):null)&&e.force(u,l);for(a=e.numForces||0;o<a;++o)e.force(W_+o,null);return e.numForces=s.length,e}function yet(e,t){var r,i;for(r in e)if(Ni(i=e[r])&&t.modified(Jl(i)))return 1;return 0}function wet(e){var t,r;for(r in pr(xhe,e.force)||Yt("Unrecognized force: "+e.force),t=xhe[e.force](),e)Ni(t[r])&&bet(t[r],e[r],e);return t}function bet(e,t,r){e(Ni(t)?i=>t(i,r):t)}function Cet(e){var t=0,r=e.children,i=r&&r.length;if(i)for(;--i>=0;)t+=r[i].value;else t=1;e.value=t}function fQ(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Het)):void 0===t&&(t=Qet);for(var i,o,a,l,u,r=new p4(e),s=[r];i=s.pop();)if((a=t(i.data))&&(u=(a=Array.from(a)).length))for(i.children=a,l=u-1;l>=0;--l)s.push(o=a[l]=new p4(a[l])),o.parent=i,o.depth=i.depth+1;return r.eachBefore(Mhe)}function Qet(e){return e.children}function Het(e){return Array.isArray(e)?e[1]:null}function Vet(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Mhe(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function p4(e){this.data=e,this.depth=this.height=0,this.parent=null}function US(e){return null==e?null:The(e)}function The(e){if("function"!=typeof e)throw new Error;return e}function Bm(){return 0}function g4(e){return function(){return e}}function Ket(e,t){var r,i;if(AQ(t,e))return[t];for(r=0;r<e.length;++r)if(LS(t,e[r])&&AQ(Y_(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(i=r+1;i<e.length;++i)if(LS(Y_(e[r],e[i]),t)&&LS(Y_(e[r],t),e[i])&&LS(Y_(e[i],t),e[r])&&AQ(Rhe(e[r],e[i],t),e))return[e[r],e[i],t];throw new Error}function LS(e,t){var r=e.r-t.r,i=t.x-e.x,s=t.y-e.y;return r<0||r*r<i*i+s*s}function Ohe(e,t){var r=e.r-t.r+1e-9*Math.max(e.r,t.r,1),i=t.x-e.x,s=t.y-e.y;return r>0&&r*r>i*i+s*s}function AQ(e,t){for(var r=0;r<t.length;++r)if(!Ohe(e,t[r]))return!1;return!0}function Wet(e){switch(e.length){case 1:return function Yet(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return Y_(e[0],e[1]);case 3:return Rhe(e[0],e[1],e[2])}}function Y_(e,t){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=o-r,c=a-i,f=l-s,A=Math.sqrt(u*u+c*c);return{x:(r+o+u/A*f)/2,y:(i+a+c/A*f)/2,r:(A+s+l)/2}}function Rhe(e,t,r){var i=e.x,s=e.y,o=e.r,a=t.x,l=t.y,u=t.r,c=r.x,f=r.y,A=r.r,d=i-a,h=i-c,g=s-l,m=s-f,v=u-o,_=A-o,C=i*i+s*s-o*o,D=C-a*a-l*l+u*u,T=C-c*c-f*f+A*A,I=h*g-d*m,V=(g*T-m*D)/(2*I)-i,R=(m*v-g*_)/I,K=(h*D-d*T)/(2*I)-s,ne=(d*_-h*v)/I,Ae=R*R+ne*ne-1,ae=2*(o+V*R+K*ne),Be=V*V+K*K-o*o,Ce=-(Math.abs(Ae)>1e-6?(ae+Math.sqrt(ae*ae-4*Ae*Be))/(2*Ae):Be/ae);return{x:i+V+R*Ce,y:s+K+ne*Ce,r:Ce}}function khe(e,t,r){var s,o,l,u,i=e.x-t.x,a=e.y-t.y,c=i*i+a*a;c?(o=t.r+r.r,u=e.r+r.r,(o*=o)>(u*=u)?(s=(c+u-o)/(2*c),l=Math.sqrt(Math.max(0,u/c-s*s)),r.x=e.x-s*i-l*a,r.y=e.y-s*a+l*i):(s=(c+o-u)/(2*c),l=Math.sqrt(Math.max(0,o/c-s*s)),r.x=t.x+s*i-l*a,r.y=t.y+s*a+l*i)):(r.x=t.x+r.r,r.y=t.y)}function Phe(e,t){var r=e.r+t.r-1e-6,i=t.x-e.x,s=t.y-e.y;return r>0&&r*r>i*i+s*s}function Uhe(e){var t=e._,r=e.next._,i=t.r+r.r,s=(t.x*r.r+r.x*t.r)/i,o=(t.y*r.r+r.y*t.r)/i;return s*s+o*o}function QS(e){this._=e,this.next=null,this.previous=null}function Lhe(e,t){if(!(o=(e=function qet(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var r,i,s,o,a,l,u,c,f,A,d;if((r=e[0]).x=0,r.y=0,!(o>1))return r.r;if(r.x=-(i=e[1]).r,i.x=r.r,i.y=0,!(o>2))return r.r+i.r;khe(i,r,s=e[2]),r=new QS(r),i=new QS(i),s=new QS(s),r.next=s.previous=i,i.next=r.previous=s,s.next=i.previous=r;e:for(u=3;u<o;++u){khe(r._,i._,s=e[u]),s=new QS(s),c=i.next,f=r.previous,A=i._.r,d=r._.r;do{if(A<=d){if(Phe(c._,s._)){r.next=i=c,i.previous=r,--u;continue e}A+=c._.r,c=c.next}else{if(Phe(f._,s._)){(r=f).next=i,i.previous=r,--u;continue e}d+=f._.r,f=f.previous}}while(c!==f.next);for(s.previous=r,s.next=i,r.next=i.previous=i=s,a=Uhe(r);(s=s.next)!==i;)(l=Uhe(s))<a&&(r=s,a=l);i=r.next}for(r=[i._],s=i;(s=s.next)!==i;)r.push(s._);for(s=function Nhe(e,t){for(var o,a,r=0,i=(e=function jet(e,t){let i,s,r=e.length;for(;r;)s=t()*r--|0,i=e[r],e[r]=e[s],e[s]=i;return e}(Array.from(e),t)).length,s=[];r<i;)o=e[r],a&&Ohe(a,o)?++r:(a=Wet(s=Ket(s,o)),r=0);return a}(r,t),u=0;u<o;++u)(r=e[u]).x-=s.x,r.y-=s.y;return s.r}function Xet(e){return Math.sqrt(e.value)}function Qhe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function dQ(e,t,r){return function(i){if(s=i.children){var s,o,u,a=s.length,l=e(i)*t||0;if(l)for(o=0;o<a;++o)s[o].r+=l;if(u=Lhe(s,r),l)for(o=0;o<a;++o)s[o].r-=l;i.r=u+l}}}function Hhe(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function Vhe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function X_(e,t,r,i,s){for(var a,o=e.children,l=-1,u=o.length,c=e.value&&(i-t)/e.value;++l<u;)(a=o[l]).y0=r,a.y1=s,a.x0=t,a.x1=t+=a.value*c}cQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Dhe}]},Gn(cQ,Ut,{transform(e,t){var r=this.value,i=t.changed(t.ADD_REM),s=e.modified(uQ),o=e.iterations||300;if(r?(i&&(t.modifies("index"),r.nodes(t.source)),(s||t.changed(t.MOD))&&Fhe(r,e,0,t)):(this.value=r=function _et(e,t){const r=function fet(e){var t,r=1,i=.001,s=1-Math.pow(i,1/300),o=0,a=.6,l=new Map,u=uO(A),c=Ene("tick","end"),f=function set(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();function A(){d(),c.call("tick",t),r<i&&(u.stop(),c.call("end",t))}function d(m){var v,C,_=e.length;void 0===m&&(m=1);for(var D=0;D<m;++D)for(r+=(o-r)*s,l.forEach(function(T){T(r)}),v=0;v<_;++v)null==(C=e[v]).fx?C.x+=C.vx*=a:(C.x=C.fx,C.vx=0),null==C.fy?C.y+=C.vy*=a:(C.y=C.fy,C.vy=0);return t}function h(){for(var _,m=0,v=e.length;m<v;++m){if((_=e[m]).index=m,null!=_.fx&&(_.x=_.fx),null!=_.fy&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var C=10*Math.sqrt(.5+m),D=m*cet;_.x=C*Math.cos(D),_.y=C*Math.sin(D)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function g(m){return m.initialize&&m.initialize(e,f),m}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(A),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),l.forEach(g),t):e},alpha:function(m){return arguments.length?(r=+m,t):r},alphaMin:function(m){return arguments.length?(i=+m,t):i},alphaDecay:function(m){return arguments.length?(s=+m,t):+s},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(a=1-m,t):1-a},randomSource:function(m){return arguments.length?(f=m,l.forEach(g),t):f},force:function(m,v){return arguments.length>1?(null==v?l.delete(m):l.set(m,g(v)),t):l.get(m)},find:function(m,v,_){var T,I,V,R,K,C=0,D=e.length;for(null==_?_=1/0:_*=_,C=0;C<D;++C)(V=(T=m-(R=e[C]).x)*T+(I=v-R.y)*I)<_&&(K=R,_=V);return K},on:function(m,v){return arguments.length>1?(c.on(m,v),t):c.on(m)}}}(e),i=r.stop,s=r.restart;let o=!1;return r.stopped=()=>o,r.restart=()=>(o=!1,s()),r.stop=()=>(o=!0,i()),Fhe(r,t,!0).on("end",()=>o=!0)}(t.source,e),r.on("tick",function vet(e,t){return()=>e.touch(t).run()}(t.dataflow,this)),e.static||(i=!0,r.tick()),t.modifies("index")),s||i||e.modified(met)||t.changed()&&e.restart)if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/o)),e.static)for(r.stop();--o>=0;)r.tick();else if(r.stopped()&&r.restart(),!i)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const r=t.dataflow;for(let f,l=this._argops,u=0,c=l.length;u<c;++u)if(f=l[u],f.name===W_&&"link"===f.op._argval.force)for(var a,i=f.op._argops,s=0,o=i.length;s<o;++s)if("links"===i[s].name&&(a=i[s].op.source)){r.pulse(a,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(Dhe)}}),p4.prototype=fQ.prototype={constructor:p4,count:function Eet(){return this.eachAfter(Cet)},each:function Bet(e,t){let r=-1;for(const i of this)e.call(t,i,++r,this);return this},eachAfter:function Det(e,t){for(var o,a,l,r=this,i=[r],s=[],u=-1;r=i.pop();)if(s.push(r),o=r.children)for(a=0,l=o.length;a<l;++a)i.push(o[a]);for(;r=s.pop();)e.call(t,r,++u,this);return this},eachBefore:function xet(e,t){for(var s,o,r=this,i=[r],a=-1;r=i.pop();)if(e.call(t,r,++a,this),s=r.children)for(o=s.length-1;o>=0;--o)i.push(s[o]);return this},find:function Fet(e,t){let r=-1;for(const i of this)if(e.call(t,i,++r,this))return i},sum:function Met(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,i=t.children,s=i&&i.length;--s>=0;)r+=i[s].value;t.value=r})},sort:function Tet(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function Iet(e){for(var t=this,r=function Net(e,t){if(e===t)return e;var r=e.ancestors(),i=t.ancestors(),s=null;for(e=r.pop(),t=i.pop();e===t;)s=e,e=r.pop(),t=i.pop();return s}(t,e),i=[t];t!==r;)i.push(t=t.parent);for(var s=i.length;e!==r;)i.splice(s,0,e),e=e.parent;return i},ancestors:function Oet(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function Ret(){return Array.from(this)},leaves:function ket(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function Pet(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t},copy:function Let(){return fQ(this).eachBefore(Vet)},[Symbol.iterator]:function*Uet(){var t,i,s,o,e=this,r=[e];do{for(t=r.reverse(),r=[];e=t.pop();)if(yield e,i=e.children)for(s=0,o=i.length;s<o;++s)r.push(i[s])}while(r.length)}};var ett={depth:-1},$he={},hQ={};function ttt(e){return e.id}function ntt(e){return e.parentId}function Ghe(){var r,e=ttt,t=ntt;function i(s){var u,c,f,A,d,h,g,m,o=Array.from(s),a=e,l=t,v=new Map;if(null!=r){const _=o.map((T,I)=>function rtt(e){let t=(e=`${e}`).length;return pQ(e,t-1)&&!pQ(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(r(T,I,s))),C=_.map(zhe),D=new Set(_).add("");for(const T of C)D.has(T)||(D.add(T),_.push(T),C.push(zhe(T)),o.push(hQ));a=(T,I)=>_[I],l=(T,I)=>C[I]}for(f=0,u=o.length;f<u;++f)h=o[f]=new p4(c=o[f]),null!=(g=a(c,f,s))&&(g+="")&&(m=h.id=g,v.set(m,v.has(m)?$he:h)),null!=(g=l(c,f,s))&&(g+="")&&(h.parent=g);for(f=0;f<u;++f)if(g=(h=o[f]).parent){if(!(d=v.get(g)))throw new Error("missing: "+g);if(d===$he)throw new Error("ambiguous: "+g);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(A)throw new Error("multiple roots");A=h}if(!A)throw new Error("no root");if(null!=r){for(;A.data===hQ&&1===A.children.length;)A=A.children[0],--u;for(let _=o.length-1;_>=0&&(h=o[_]).data===hQ;--_)h.data=null}if(A.parent=ett,A.eachBefore(function(_){_.depth=_.parent.depth+1,--u}).eachBefore(Mhe),A.parent=null,u>0)throw new Error("cycle");return A}return i.id=function(s){return arguments.length?(e=US(s),i):e},i.parentId=function(s){return arguments.length?(t=US(s),i):t},i.path=function(s){return arguments.length?(r=US(s),i):r},i}function zhe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!pQ(e,t););return e.slice(0,t)}function pQ(e,t){if("/"===e[t]){let r=0;for(;t>0&&"\\"===e[--t];)++r;if(0==(1&r))return!0}return!1}function itt(e,t){return e.parent===t.parent?1:2}function gQ(e){var t=e.children;return t?t[0]:e.t}function mQ(e){var t=e.children;return t?t[t.length-1]:e.t}function stt(e,t,r){var i=r/(t.i-e.i);t.c-=i,t.s+=r,e.c+=i,t.z+=r,t.m+=r}function att(e,t,r){return e.a.parent===t.parent?e.a:r}function HS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function ctt(e,t){return e.parent===t.parent?1:2}function Att(e,t){return e+t.x}function htt(e,t){return Math.max(e,t.y)}function VS(e,t,r,i,s){for(var a,o=e.children,l=-1,u=o.length,c=e.value&&(s-r)/e.value;++l<u;)(a=o[l]).x0=t,a.x1=i,a.y0=r,a.y1=r+=a.value*c}HS.prototype=Object.create(p4.prototype);var qhe=(1+Math.sqrt(5))/2;function jhe(e,t,r,i,s,o){for(var u,c,h,g,v,_,C,D,T,I,V,a=[],l=t.children,f=0,A=0,d=l.length,m=t.value;f<d;){h=s-r,g=o-i;do{v=l[A++].value}while(!v&&A<d);for(_=C=v,V=v*v*(I=Math.max(g/h,h/g)/(m*e)),T=Math.max(C/V,V/_);A<d;++A){if(v+=c=l[A].value,c<_&&(_=c),c>C&&(C=c),V=v*v*I,(D=Math.max(C/V,V/_))>T){v-=c;break}T=D}a.push(u={value:v,dice:h<g,children:l.slice(f,A)}),u.dice?X_(u,r,i,s,m?i+=g*v/m:o):VS(u,r,i,m?r+=h*v/m:s,o),m-=v,f=A}return a}const Khe=function e(t){function r(i,s,o,a,l){jhe(t,i,s,o,a,l)}return r.ratio=function(i){return e((i=+i)>1?i:1)},r}(qhe),ytt=function e(t){function r(i,s,o,a,l){if((u=i._squarify)&&u.ratio===t)for(var u,c,f,A,h,d=-1,g=u.length,m=i.value;++d<g;){for(f=(c=u[d]).children,A=c.value=0,h=f.length;A<h;++A)c.value+=f[A].value;c.dice?X_(c,s,o,a,m?o+=(l-o)*c.value/m:l):VS(c,s,o,m?s+=(a-s)*c.value/m:a,l),m-=c.value}else i._squarify=u=jhe(t,i,s,o,a,l),u.ratio=t}return r.ratio=function(i){return e((i=+i)>1?i:1)},r}(qhe);function vQ(e,t,r){const i={};return e.each(s=>{const o=s.data;r(o)&&(i[t(o)]=s)}),e.lookup=i,e}function _Q(e){Ut.call(this,null,e)}_Q.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const btt=e=>e.values;function Ctt(){const e=[],t={entries:s=>i(r(s,0),0),key:s=>(e.push(s),t)};function r(s,o){if(o>=e.length)return s;const a=s.length,l=e[o++],u={},c={};let A,d,h,f=-1;for(;++f<a;)A=l(d=s[f])+"",(h=u[A])?h.push(d):u[A]=[d];for(A in u)c[A]=r(u[A],o);return c}function i(s,o){if(++o>e.length)return s;const a=[];for(const l in s)a.push({key:l,values:i(s[l],o)});return a}return t}function T0(e){Ut.call(this,null,e)}Gn(_Q,Ut,{transform(e,t){t.source||Yt("Nest transform requires an upstream data source.");var r=e.generate,i=e.modified(),s=t.clone(),o=this.value;return(!o||i||t.changed())&&(o&&o.each(a=>{a.children&&_C(a.data)&&s.rem.push(a.data)}),this.value=o=fQ({values:ar(e.keys).reduce((a,l)=>(a.key(l),a),Ctt()).entries(s.source)},btt),r&&o.each(a=>{a.children&&(a=Qs(a.data),s.add.push(a),s.source.push(a))}),vQ(o,jr,jr)),s.source.root=o,s}});const Ett=(e,t)=>e.parent===t.parent?1:2;Gn(T0,Ut,{transform(e,t){(!t.source||!t.source.root)&&Yt(this.constructor.name+" transform requires a backing tree data source.");const r=this.layout(e.method),i=this.fields,s=t.source.root,o=e.as||i;e.field?s.sum(e.field):s.count(),e.sort&&s.sort(lm(e.sort,a=>a.data)),function Stt(e,t,r){for(let i,s=0,o=t.length;s<o;++s)i=t[s],i in r&&e[i](r[i])}(r,this.params,e),r.separation&&r.separation(!1!==e.separation?Ett:C3);try{this.value=r(s)}catch(a){Yt(a)}return s.each(a=>function Btt(e,t,r){const i=e.data,s=t.length-1;for(let o=0;o<s;++o)i[r[o]]=e[t[o]];i[r[s]]=e.children?e.children.length:0}(a,i,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});const yQ=["x","y","r","depth","children"];function wQ(e){T0.call(this,e)}wQ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yQ.length,default:yQ}]},Gn(wQ,T0,{layout:function Jet(){var e=null,t=1,r=1,i=Bm;function s(o){const a=function zet(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();return o.x=t/2,o.y=r/2,e?o.eachBefore(Qhe(e)).eachAfter(dQ(i,.5,a)).eachBefore(Hhe(1)):o.eachBefore(Qhe(Xet)).eachAfter(dQ(Bm,1,a)).eachAfter(dQ(i,o.r/Math.min(t,r),a)).eachBefore(Hhe(Math.min(t,r)/(2*o.r))),o}return s.radius=function(o){return arguments.length?(e=US(o),s):e},s.size=function(o){return arguments.length?(t=+o[0],r=+o[1],s):[t,r]},s.padding=function(o){return arguments.length?(i="function"==typeof o?o:g4(+o),s):i},s},params:["radius","size","padding"],fields:yQ});const bQ=["x0","y0","x1","y1","depth","children"];function CQ(e){T0.call(this,e)}function EQ(e){Ut.call(this,null,e)}CQ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:bQ.length,default:bQ}]},Gn(CQ,T0,{layout:function Zet(){var e=1,t=1,r=0,i=!1;function s(a){var l=a.height+1;return a.x0=a.y0=r,a.x1=e,a.y1=t/l,a.eachBefore(function o(a,l){return function(u){u.children&&X_(u,u.x0,a*(u.depth+1)/l,u.x1,a*(u.depth+2)/l);var c=u.x0,f=u.y0,A=u.x1-r,d=u.y1-r;A<c&&(c=A=(c+A)/2),d<f&&(f=d=(f+d)/2),u.x0=c,u.y0=f,u.x1=A,u.y1=d}}(t,l)),i&&a.eachBefore(Vhe),a}return s.round=function(a){return arguments.length?(i=!!a,s):i},s.size=function(a){return arguments.length?(e=+a[0],t=+a[1],s):[e,t]},s.padding=function(a){return arguments.length?(r=+a,s):r},s},params:["size","round","padding"],fields:bQ}),EQ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Gn(EQ,Ut,{transform(e,t){t.source||Yt("Stratify transform requires an upstream data source.");let r=this.value;const i=e.modified(),s=t.fork(t.ALL).materialize(t.SOURCE),o=!r||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s.source=s.source.slice(),o&&(r=s.source.length?vQ(Ghe().id(e.key).parentId(e.parentKey)(s.source),e.key,Rf):vQ(Ghe()([{}]),e.key,e.key)),s.source.root=this.value=r,s}});const Whe={tidy:function utt(){var e=itt,t=1,r=1,i=null;function s(c){var f=function ltt(e){for(var r,s,o,a,l,t=new HS(e,0),i=[t];r=i.pop();)if(o=r._.children)for(r.children=new Array(l=o.length),a=l-1;a>=0;--a)i.push(s=r.children[a]=new HS(o[a],a)),s.parent=r;return(t.parent=new HS(null,0)).children=[t],t}(c);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(a),i)c.eachBefore(u);else{var A=c,d=c,h=c;c.eachBefore(function(C){C.x<A.x&&(A=C),C.x>d.x&&(d=C),C.depth>h.depth&&(h=C)});var g=A===d?1:e(A,d)/2,m=g-A.x,v=t/(d.x+g+m),_=r/(h.depth||1);c.eachBefore(function(C){C.x=(C.x+m)*v,C.y=C.depth*_})}return c}function o(c){var f=c.children,A=c.parent.children,d=c.i?A[c.i-1]:null;if(f){!function ott(e){for(var o,t=0,r=0,i=e.children,s=i.length;--s>=0;)(o=i[s]).z+=t,o.m+=t,t+=o.s+(r+=o.c)}(c);var h=(f[0].z+f[f.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=function l(c,f,A){if(f){for(var T,d=c,h=c,g=f,m=d.parent.children[0],v=d.m,_=h.m,C=g.m,D=m.m;g=mQ(g),d=gQ(d),g&&d;)m=gQ(m),(h=mQ(h)).a=c,(T=g.z+C-d.z-v+e(g._,d._))>0&&(stt(att(g,c,A),c,T),v+=T,_+=T),C+=g.m,v+=d.m,D+=m.m,_+=h.m;g&&!mQ(h)&&(h.t=g,h.m+=C-_),d&&!gQ(m)&&(m.t=d,m.m+=v-D,A=c)}return A}(c,d,c.parent.A||A[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c){c.x*=t,c.y=c.depth*r}return s.separation=function(c){return arguments.length?(e=c,s):e},s.size=function(c){return arguments.length?(i=!1,t=+c[0],r=+c[1],s):i?null:[t,r]},s.nodeSize=function(c){return arguments.length?(i=!0,t=+c[0],r=+c[1],s):i?[t,r]:null},s},cluster:function mtt(){var e=ctt,t=1,r=1,i=!1;function s(o){var a,l=0;o.eachAfter(function(d){var h=d.children;h?(d.x=function ftt(e){return e.reduce(Att,0)/e.length}(h),d.y=function dtt(e){return 1+e.reduce(htt,0)}(h)):(d.x=a?l+=e(d,a):0,d.y=0,a=d)});var u=function ptt(e){for(var t;t=e.children;)e=t[0];return e}(o),c=function gtt(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),f=u.x-e(u,c)/2,A=c.x+e(c,u)/2;return o.eachAfter(i?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*r}:function(d){d.x=(d.x-f)/(A-f)*t,d.y=(1-(o.y?d.y/o.y:1))*r})}return s.separation=function(o){return arguments.length?(e=o,s):e},s.size=function(o){return arguments.length?(i=!1,t=+o[0],r=+o[1],s):i?null:[t,r]},s.nodeSize=function(o){return arguments.length?(i=!0,t=+o[0],r=+o[1],s):i?[t,r]:null},s}},SQ=["x","y","depth","children"];function BQ(e){T0.call(this,e)}function xQ(e){Ut.call(this,[],e)}BQ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:SQ.length,default:SQ}]},Gn(BQ,T0,{layout(e){const t=e||"tidy";if(pr(Whe,t))return Whe[t]();Yt("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:SQ}),xQ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Gn(xQ,Ut,{transform(e,t){const r=this.value,i=t.source&&t.source.root,s=t.fork(t.NO_SOURCE),o={};return i||Yt("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(s.rem=r,t.visit(t.SOURCE,a=>o[jr(a)]=1),i.each(a=>{const l=a.data,u=a.parent&&a.parent.data;u&&o[jr(l)]&&o[jr(u)]&&s.add.push(Qs({source:u,target:l}))}),this.value=s.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>o[jr(a)]=1),r.forEach(a=>{(o[jr(a.source)]||o[jr(a.target)])&&s.mod.push(a)})),s}});const Yhe={binary:function vtt(e,t,r,i,s){var a,u,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=u=a=0;a<l;++a)c[a+1]=u+=o[a].value;!function f(A,d,h,g,m,v,_){if(A>=d-1){var C=o[A];return C.x0=g,C.y0=m,C.x1=v,void(C.y1=_)}for(var D=c[A],T=h/2+D,I=A+1,V=d-1;I<V;){var R=I+V>>>1;c[R]<T?I=R+1:V=R}T-c[I-1]<c[I]-T&&A+1<I&&--I;var K=c[I]-D,ne=h-K;if(v-g>_-m){var Ae=h?(g*ne+v*K)/h:v;f(A,I,K,g,m,Ae,_),f(I,d,ne,Ae,m,v,_)}else{var ae=h?(m*ne+_*K)/h:_;f(A,I,K,g,m,v,ae),f(I,d,ne,g,ae,v,_)}}(0,l,e.value,t,r,i,s)},dice:X_,slice:VS,slicedice:function _tt(e,t,r,i,s){(1&e.depth?VS:X_)(e,t,r,i,s)},squarify:Khe,resquarify:ytt},DQ=["x0","y0","x1","y1","depth","children"];function FQ(e){T0.call(this,e)}FQ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:DQ.length,default:DQ}]},Gn(FQ,T0,{layout(){const e=function wtt(){var e=Khe,t=!1,r=1,i=1,s=[0],o=Bm,a=Bm,l=Bm,u=Bm,c=Bm;function f(d){return d.x0=d.y0=0,d.x1=r,d.y1=i,d.eachBefore(A),s=[0],t&&d.eachBefore(Vhe),d}function A(d){var h=s[d.depth],g=d.x0+h,m=d.y0+h,v=d.x1-h,_=d.y1-h;v<g&&(g=v=(g+v)/2),_<m&&(m=_=(m+_)/2),d.x0=g,d.y0=m,d.x1=v,d.y1=_,d.children&&(h=s[d.depth+1]=o(d)/2,g+=c(d)-h,m+=a(d)-h,(v-=l(d)-h)<g&&(g=v=(g+v)/2),(_-=u(d)-h)<m&&(m=_=(m+_)/2),e(d,g,m,v,_))}return f.round=function(d){return arguments.length?(t=!!d,f):t},f.size=function(d){return arguments.length?(r=+d[0],i=+d[1],f):[r,i]},f.tile=function(d){return arguments.length?(e=The(d),f):e},f.padding=function(d){return arguments.length?f.paddingInner(d).paddingOuter(d):f.paddingInner()},f.paddingInner=function(d){return arguments.length?(o="function"==typeof d?d:g4(+d),f):o},f.paddingOuter=function(d){return arguments.length?f.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):f.paddingTop()},f.paddingTop=function(d){return arguments.length?(a="function"==typeof d?d:g4(+d),f):a},f.paddingRight=function(d){return arguments.length?(l="function"==typeof d?d:g4(+d),f):l},f.paddingBottom=function(d){return arguments.length?(u="function"==typeof d?d:g4(+d),f):u},f.paddingLeft=function(d){return arguments.length?(c="function"==typeof d?d:g4(+d),f):c},f}();return e.ratio=t=>{const r=e.tile();r.ratio&&e.tile(r.ratio(t))},e.method=t=>{pr(Yhe,t)?e.tile(Yhe[t]):Yt("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:DQ});const MQ=4278190080;function TQ(e,t,r){return new Uint32Array(e.getImageData(0,0,t,r).data.buffer)}function $S(e,t,r){if(!t.length)return;const i=t[0].mark.marktype;"group"===i?t.forEach(s=>{s.items.forEach(o=>$S(e,o.items,r))}):Gc[i].draw(e,{items:r?t.map(Ftt):t})}function Ftt(e){const t=yC(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const D1=new Uint32Array(33),VA=new Uint32Array(33);VA[0]=0,D1[0]=~VA[0];for(let e=1;e<=32;++e)VA[e]=VA[e-1]<<1|1,D1[e]=~VA[e];function GS(e,t,r,i,s,o){let a=r/2;return e-a<0||e+a>s||t-(a=i/2)<0||t+a>o}function F1(e,t,r,i,s,o,a,l){const u=s*o/(2*i),c=e(t-u),f=e(t+u),A=e(r-(o/=2)),d=e(r+o);return a.outOfBounds(c,A,f,d)||a.getRange(c,A,f,d)||l&&l.getRange(c,A,f,d)}const Ott=[-1,-1,1,1],Rtt=[-1,1,-1,1],Ptt=["right","center","left"],Utt=["bottom","middle","top"];function Xhe(e,t,r,i,s,o,a,l,u,c,f,A){return!(s.outOfBounds(e,r,t,i)||(A&&o||s).getRange(e,r,t,i))}const Qtt={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Htt={naive:function Itt(e,t,r,i){const s=e.width,o=e.height;return function(a){const l=a.datum.datum.items[i].items,u=l.length,c=a.datum.fontSize,f=$c.width(a.datum,a.datum.text);let d,h,g,m,v,_,C,A=0;for(let D=0;D<u;++D)d=l[D].x,g=l[D].y,h=void 0===l[D].x2?d:l[D].x2,m=void 0===l[D].y2?g:l[D].y2,v=(d+h)/2,_=(g+m)/2,C=Math.abs(h-d+m-g),C>=A&&(A=C,a.x=v,a.y=_);return v=f/2,_=c/2,d=a.x-v,h=a.x+v,g=a.y-_,m=a.y+_,a.align="center",d<0&&h<=s?a.align="left":0<=d&&s<h&&(a.align="right"),a.baseline="middle",g<0&&m<=o?a.baseline="top":0<=g&&o<m&&(a.baseline="bottom"),!0}},"reduced-search":function Ntt(e,t,r,i){const s=e.width,o=e.height,a=t[0],l=t[1];function u(c,f,A,d,h){const g=e.invert(c),m=e.invert(f);let C,v=A,_=o;if(!GS(g,m,d,h,s,o)&&!F1(e,g,m,h,d,v,a,l)&&!F1(e,g,m,h,d,h,a,null)){for(;_-v>=1;)C=(v+_)/2,F1(e,g,m,h,d,C,a,l)?_=C:v=C;if(v>A)return[g,m,v,!0]}}return function(c){const f=c.datum.datum.items[i].items,A=f.length,d=c.datum.fontSize,h=$c.width(c.datum,c.datum.text);let C,D,T,I,V,R,K,ne,Ae,ae,Be,Ce,U,Q,z,oe,J,g=r?d:0,m=!1,v=!1,_=0;for(let le=0;le<A;++le){for(C=f[le].x,T=f[le].y,D=void 0===f[le].x2?C:f[le].x2,I=void 0===f[le].y2?T:f[le].y2,C>D&&(J=C,C=D,D=J),T>I&&(J=T,T=I,I=J),Ae=e(C),Be=e(D),ae=~~((Ae+Be)/2),Ce=e(T),Q=e(I),U=~~((Ce+Q)/2),K=ae;K>=Ae;--K)for(ne=U;ne>=Ce;--ne)oe=u(K,ne,g,h,d),oe&&([c.x,c.y,g,m]=oe);for(K=ae;K<=Be;++K)for(ne=U;ne<=Q;++ne)oe=u(K,ne,g,h,d),oe&&([c.x,c.y,g,m]=oe);!m&&!r&&(z=Math.abs(D-C+I-T),V=(C+D)/2,R=(T+I)/2,z>=_&&!GS(V,R,h,d,s,o)&&!F1(e,V,R,d,h,d,a,null)&&(_=z,c.x=V,c.y=R,v=!0))}return!(!m&&!v||(V=h/2,R=d/2,a.setRange(e(c.x-V),e(c.y-R),e(c.x+V),e(c.y+R)),c.align="center",c.baseline="middle",0))}},floodfill:function ktt(e,t,r,i){const s=e.width,o=e.height,a=t[0],l=t[1],u=e.bitmap();return function(c){const f=c.datum.datum.items[i].items,A=f.length,d=c.datum.fontSize,h=$c.width(c.datum,c.datum.text),g=[];let D,T,I,V,R,K,ne,Ae,ae,Be,Ce,U,m=r?d:0,v=!1,_=!1,C=0;for(let Q=0;Q<A;++Q){for(D=f[Q].x,I=f[Q].y,T=void 0===f[Q].x2?D:f[Q].x2,V=void 0===f[Q].y2?I:f[Q].y2,g.push([e((D+T)/2),e((I+V)/2)]);g.length;)if([ne,Ae]=g.pop(),!(a.get(ne,Ae)||l.get(ne,Ae)||u.get(ne,Ae))){u.set(ne,Ae);for(let z=0;z<4;++z)R=ne+Ott[z],K=Ae+Rtt[z],u.outOfBounds(R,K,R,K)||g.push([R,K]);if(R=e.invert(ne),K=e.invert(Ae),ae=m,Be=o,!GS(R,K,h,d,s,o)&&!F1(e,R,K,d,h,ae,a,l)&&!F1(e,R,K,d,h,d,a,null)){for(;Be-ae>=1;)Ce=(ae+Be)/2,F1(e,R,K,d,h,Ce,a,l)?Be=Ce:ae=Ce;ae>m&&(c.x=R,c.y=K,m=ae,v=!0)}}!v&&!r&&(U=Math.abs(T-D+V-I),R=(D+T)/2,K=(I+V)/2,U>=C&&!GS(R,K,h,d,s,o)&&!F1(e,R,K,d,h,d,a,null)&&(C=U,c.x=R,c.y=K,_=!0))}return!(!v&&!_||(R=h/2,K=d/2,a.setRange(e(c.x-R),e(c.y-K),e(c.x+R),e(c.y+K)),c.align="center",c.baseline="middle",0))}}};function Vtt(e,t,r,i,s,o,a,l,u,c,f){if(!e.length)return e;const A=Math.max(i.length,s.length),d=function $tt(e,t){const r=new Float64Array(t),i=e.length;for(let s=0;s<i;++s)r[s]=e[s]||0;for(let s=i;s<t;++s)r[s]=r[i-1];return r}(i,A),h=function Gtt(e,t){const r=new Int8Array(t),i=e.length;for(let s=0;s<i;++s)r[s]|=Qtt[e[s]];for(let s=i;s<t;++s)r[s]=r[i-1];return r}(s,A),g=function ztt(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),m="group"===g&&e[0].datum.items[u].marktype,v="area"===m,_=function qtt(e,t,r,i){const s=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?"line"===e||"area"===e?o=>s(o.datum):"line"===t?o=>{const a=o.datum.items[i].items;return s(a.length?a["start"===r?0:a.length-1]:{x:NaN,y:NaN})}:o=>{const a=o.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:s}(g,m,l,u),C=null===c||c===1/0,D=v&&"naive"===f;let T=-1,I=-1;const V=e.map(Ae=>{const ae=C?$c.width(Ae,Ae.text):void 0;return T=Math.max(T,ae),I=Math.max(I,Ae.fontSize),{datum:Ae,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:_(Ae),textWidth:ae}});c=null===c||c===1/0?Math.max(T,I)+Math.max(...i):c;const R=function Ttt(e,t,r){const i=Math.max(1,Math.sqrt(e*t/1e6)),s=~~((e+2*r+i)/i),o=~~((t+2*r+i)/i),a=l=>~~((l+r)/i);return a.invert=l=>l*i-r,a.bitmap=()=>function Mtt(e,t){const r=new Uint32Array(~~((e*t+32)/32));function i(o,a){r[o]|=a}function s(o,a){r[o]&=a}return{array:r,get:(o,a)=>{const l=a*e+o;return r[l>>>5]&1<<(31&l)},set:(o,a)=>{const l=a*e+o;i(l>>>5,1<<(31&l))},clear:(o,a)=>{const l=a*e+o;s(l>>>5,~(1<<(31&l)))},getRange:(o,a,l,u)=>{let f,A,d,h,c=u;for(;c>=a;--c)if(f=c*e+o,A=c*e+l,d=f>>>5,h=A>>>5,d===h){if(r[d]&D1[31&f]&VA[1+(31&A)])return!0}else{if(r[d]&D1[31&f]||r[h]&VA[1+(31&A)])return!0;for(let g=d+1;g<h;++g)if(r[g])return!0}return!1},setRange:(o,a,l,u)=>{let c,f,A,d,h;for(;a<=u;++a)if(c=a*e+o,f=a*e+l,A=c>>>5,d=f>>>5,A===d)i(A,D1[31&c]&VA[1+(31&f)]);else for(i(A,D1[31&c]),i(d,VA[1+(31&f)]),h=A+1;h<d;++h)i(h,4294967295)},clearRange:(o,a,l,u)=>{let c,f,A,d,h;for(;a<=u;++a)if(c=a*e+o,f=a*e+l,A=c>>>5,d=f>>>5,A===d)s(A,VA[31&c]|D1[1+(31&f)]);else for(s(A,VA[31&c]),s(d,D1[1+(31&f)]),h=A+1;h<d;++h)s(h,0)},outOfBounds:(o,a,l,u)=>o<0||a<0||u>=t||l>=e}}(s,o),a.ratio=i,a.padding=r,a.width=e,a.height=t,a}(t[0],t[1],c);let K;if(!D){r&&V.sort((Be,Ce)=>r(Be.datum,Ce.datum));let Ae=!1;for(let Be=0;Be<h.length&&!Ae;++Be)Ae=5===h[Be]||d[Be]<0;const ae=(g&&a||v)&&e.map(Be=>Be.datum);K=o.length||ae?function Dtt(e,t,r,i,s){const o=e.width,a=e.height,l=i||s,u=u1(o,a).getContext("2d"),c=u1(o,a).getContext("2d"),f=l&&u1(o,a).getContext("2d");r.forEach(K=>$S(u,K,!1)),$S(c,t,!1),l&&$S(f,t,!0);const A=TQ(u,o,a),d=TQ(c,o,a),h=l&&TQ(f,o,a),g=e.bitmap(),m=l&&e.bitmap();let v,_,C,D,T,I,V,R;for(_=0;_<a;++_)for(v=0;v<o;++v)T=_*o+v,I=A[T]&MQ,R=d[T]&MQ,V=l&&h[T]&MQ,(I||V||R)&&(C=e(v),D=e(_),!s&&(I||R)&&g.set(C,D),l&&(I||V)&&m.set(C,D));return[g,m]}(R,ae||[],o,Ae,v):function xtt(e,t){const r=e.bitmap();return(t||[]).forEach(i=>r.set(e(i.boundary[0]),e(i.boundary[3]))),[r,void 0]}(R,a&&V)}const ne=v?Htt[f](R,K,a,u):function Ltt(e,t,r,i){const s=e.width,o=e.height,a=t[0],l=t[1],u=i.length;return function(c){const f=c.boundary,A=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>s||f[3]>o)return!1;let h,g,m,v,_,C,D,T,I,V,R,K,ne,Ae,ae,d=c.textWidth??0;for(let Be=0;Be<u;++Be){if(h=(3&r[Be])-1,g=(r[Be]>>>2&3)-1,m=0===h&&0===g||i[Be]<0,v=h&&g?Math.SQRT1_2:1,_=i[Be]<0?-1:1,C=f[1+h]+i[Be]*h*v,R=f[4+g]+_*A*g/2+i[Be]*g*v,T=R-A/2,I=R+A/2,K=e(C),Ae=e(T),ae=e(I),!d){if(!Xhe(K,K,Ae,ae,a,l,0,0,0,0,0,m))continue;d=$c.width(c.datum,c.datum.text)}if(V=C+_*d*h/2,C=V-d/2,D=V+d/2,K=e(C),ne=e(D),Xhe(K,ne,Ae,ae,a,l,0,0,0,0,0,m))return c.x=h?h*_<0?D:C:V,c.y=g?g*_<0?I:T:R,c.align=Ptt[h*_+1],c.baseline=Utt[g*_+1],a.setRange(K,Ae,ne,ae),!0}return!1}}(R,K,h,d);return V.forEach(Ae=>Ae.opacity=+ne(Ae)),V}const UQ=["x","y","opacity","align","baseline"],Jhe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function LQ(e){Ut.call(this,null,e)}function Zhe(e,t){var s,o,a,l,u,c,r=[],i=function(f){return f(l)};if(null==t)r.push(e);else for(s={},o=0,a=e.length;o<a;++o)l=e[o],(c=s[u=t.map(i)])||(s[u]=c=[],c.dims=u,r.push(c)),c.push(l);return r}function QQ(e){Ut.call(this,null,e)}LQ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Jhe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:UQ.length,default:UQ}]},Gn(LQ,Ut,{transform(e,t){const i=e.modified();if(!(i||t.changed(t.ADD_REM)||function r(o){const a=e[o];return Ni(a)&&t.modified(a.fields)}("sort")))return;(!e.size||2!==e.size.length)&&Yt("Size parameter should be specified as a [width, height] array.");const s=e.as||UQ;return Vtt(t.materialize(t.SOURCE).source||[],e.size,e.sort,ar(e.offset??1),ar(e.anchor||Jhe),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(o=>{const a=o.datum;a[s[0]]=o.x,a[s[1]]=o.y,a[s[2]]=o.opacity,a[s[3]]=o.align,a[s[4]]=o.baseline}),t.reflow(i).modifies(s)}}),QQ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Gn(QQ,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=Zhe(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(fa),a=o.length,l=e.as||[fa(e.x),fa(e.y)],u=[];s.forEach(c=>{Goe(c,e.x,e.y,e.bandwidth||.3).forEach(f=>{const A={};for(let d=0;d<a;++d)A[o[d]]=c.dims[d];A[l[0]]=f[0],A[l[1]]=f[1],u.push(Qs(A))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=u}return r}});const HQ={constant:mk,linear:vk,log:Uoe,exp:Loe,pow:Qoe,quad:_k,poly:Hoe};function VQ(e){Ut.call(this,null,e)}VQ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(HQ)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Gn(VQ,Ut,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=Zhe(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(fa),a=e.method||"linear",l=e.order??3,u=((e,t)=>"poly"===e?t:"quad"===e?2:1)(a,l),c=e.as||[fa(e.x),fa(e.y)],f=HQ[a],A=[];let d=e.extent;pr(HQ,a)||Yt("Invalid regression method: "+a),null!=d&&"log"===a&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),s.forEach(h=>{if(h.length<=u)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const m=f(h,e.x,e.y,l);if(e.params)return void A.push(Qs({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));const v=d||Xd(h,e.x),_=C=>{const D={};for(let T=0;T<o.length;++T)D[o[T]]=h.dims[T];D[c[0]]=C[0],D[c[1]]=C[1],A.push(Qs(D))};"linear"===a||"constant"===a?v.forEach(C=>_([C,m.predict(C)])):IC(m.predict,v,25,200).forEach(_)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=A}return r}});const ja=134217729;function Z_(e,t,r,i,s){let o,a,l,u,c=t[0],f=i[0],A=0,d=0;f>c==f>-c?(o=c,c=t[++A]):(o=f,f=i[++d]);let h=0;if(A<e&&d<r)for(f>c==f>-c?(a=c+o,l=o-(a-c),c=t[++A]):(a=f+o,l=o-(a-f),f=i[++d]),o=a,0!==l&&(s[h++]=l);A<e&&d<r;)f>c==f>-c?(a=o+c,u=a-o,l=o-(a-u)+(c-u),c=t[++A]):(a=o+f,u=a-o,l=o-(a-u)+(f-u),f=i[++d]),o=a,0!==l&&(s[h++]=l);for(;A<e;)a=o+c,u=a-o,l=o-(a-u)+(c-u),c=t[++A],o=a,0!==l&&(s[h++]=l);for(;d<r;)a=o+f,u=a-o,l=o-(a-u)+(f-u),f=i[++d],o=a,0!==l&&(s[h++]=l);return(0!==o||0===h)&&(s[h++]=o),h}function wn(e){return new Float64Array(e)}const m4=wn(4),e0e=wn(8),t0e=wn(12),n0e=wn(16),Lu=wn(4);function zS(e,t,r,i,s,o){const a=(t-o)*(r-s),l=(e-s)*(i-o),u=a-l,c=Math.abs(a+l);return Math.abs(u)>=33306690738754716e-32*c?u:-function Ztt(e,t,r,i,s,o,a){let l,u,c,f,A,d,h,g,m,v,_,C,D,T,I,V,R,K;const ne=e-s,Ae=r-s,ae=t-o,Be=i-o;T=ne*Be,d=ja*ne,h=d-(d-ne),g=ne-h,d=ja*Be,m=d-(d-Be),v=Be-m,I=g*v-(T-h*m-g*m-h*v),V=ae*Ae,d=ja*ae,h=d-(d-ae),g=ae-h,d=ja*Ae,m=d-(d-Ae),v=Ae-m,R=g*v-(V-h*m-g*m-h*v),_=I-R,A=I-_,m4[0]=I-(_+A)+(A-R),C=T+_,A=C-T,D=T-(C-A)+(_-A),_=D-V,A=D-_,m4[1]=D-(_+A)+(A-V),K=C+_,A=K-C,m4[2]=C-(K-A)+(_-A),m4[3]=K;let Ce=function Wtt(e,t){let r=t[0];for(let i=1;i<e;i++)r+=t[i];return r}(4,m4),U=22204460492503146e-32*a;if(Ce>=U||-Ce>=U||(A=e-ne,l=e-(ne+A)+(A-s),A=r-Ae,c=r-(Ae+A)+(A-s),A=t-ae,u=t-(ae+A)+(A-o),A=i-Be,f=i-(Be+A)+(A-o),0===l&&0===u&&0===c&&0===f)||(U=11093356479670487e-47*a+33306690738754706e-32*Math.abs(Ce),Ce+=ne*f+Be*l-(ae*c+Ae*u),Ce>=U||-Ce>=U))return Ce;T=l*Be,d=ja*l,h=d-(d-l),g=l-h,d=ja*Be,m=d-(d-Be),v=Be-m,I=g*v-(T-h*m-g*m-h*v),V=u*Ae,d=ja*u,h=d-(d-u),g=u-h,d=ja*Ae,m=d-(d-Ae),v=Ae-m,R=g*v-(V-h*m-g*m-h*v),_=I-R,A=I-_,Lu[0]=I-(_+A)+(A-R),C=T+_,A=C-T,D=T-(C-A)+(_-A),_=D-V,A=D-_,Lu[1]=D-(_+A)+(A-V),K=C+_,A=K-C,Lu[2]=C-(K-A)+(_-A),Lu[3]=K;const Q=Z_(4,m4,4,Lu,e0e);T=ne*f,d=ja*ne,h=d-(d-ne),g=ne-h,d=ja*f,m=d-(d-f),v=f-m,I=g*v-(T-h*m-g*m-h*v),V=ae*c,d=ja*ae,h=d-(d-ae),g=ae-h,d=ja*c,m=d-(d-c),v=c-m,R=g*v-(V-h*m-g*m-h*v),_=I-R,A=I-_,Lu[0]=I-(_+A)+(A-R),C=T+_,A=C-T,D=T-(C-A)+(_-A),_=D-V,A=D-_,Lu[1]=D-(_+A)+(A-V),K=C+_,A=K-C,Lu[2]=C-(K-A)+(_-A),Lu[3]=K;const z=Z_(Q,e0e,4,Lu,t0e);T=l*f,d=ja*l,h=d-(d-l),g=l-h,d=ja*f,m=d-(d-f),v=f-m,I=g*v-(T-h*m-g*m-h*v),V=u*c,d=ja*u,h=d-(d-u),g=u-h,d=ja*c,m=d-(d-c),v=c-m,R=g*v-(V-h*m-g*m-h*v),_=I-R,A=I-_,Lu[0]=I-(_+A)+(A-R),C=T+_,A=C-T,D=T-(C-A)+(_-A),_=D-V,A=D-_,Lu[1]=D-(_+A)+(A-V),K=C+_,A=K-C,Lu[2]=C-(K-A)+(_-A),Lu[3]=K;const oe=Z_(z,t0e,4,Lu,n0e);return n0e[oe-1]}(e,t,r,i,s,o,c)}wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(8),wn(8),wn(8),wn(4),wn(8),wn(8),wn(8),wn(12),wn(192),wn(192),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(8),wn(8),wn(8),wn(8),wn(8),wn(8),wn(8),wn(8),wn(8),wn(4),wn(4),wn(4),wn(8),wn(16),wn(16),wn(16),wn(32),wn(32),wn(48),wn(64),wn(1152),wn(1152),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(4),wn(24),wn(24),wn(24),wn(24),wn(24),wn(24),wn(24),wn(24),wn(24),wn(24),wn(1152),wn(1152),wn(1152),wn(1152),wn(1152),wn(2304),wn(2304),wn(3456),wn(5760),wn(8),wn(8),wn(8),wn(16),wn(24),wn(48),wn(48),wn(96),wn(192),wn(384),wn(384),wn(384),wn(768),wn(96),wn(96),wn(96),wn(1152);const C0e=Math.pow(2,-52),tB=new Uint32Array(512);class nB{static from(t,r=_nt,i=ynt){const s=t.length,o=new Float64Array(2*s);for(let a=0;a<s;a++){const l=t[a];o[2*a]=r(l),o[2*a+1]=i(l)}return new nB(o)}constructor(t){const r=t.length>>1;if(r>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*r-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:i,_hullTri:s,_hullHash:o}=this,a=t.length>>1;let l=1/0,u=1/0,c=-1/0,f=-1/0;for(let ne=0;ne<a;ne++){const Ae=t[2*ne],ae=t[2*ne+1];Ae<l&&(l=Ae),ae<u&&(u=ae),Ae>c&&(c=Ae),ae>f&&(f=ae),this._ids[ne]=ne}const A=(l+c)/2,d=(u+f)/2;let h,g,m;for(let ne=0,Ae=1/0;ne<a;ne++){const ae=hH(A,d,t[2*ne],t[2*ne+1]);ae<Ae&&(h=ne,Ae=ae)}const v=t[2*h],_=t[2*h+1];for(let ne=0,Ae=1/0;ne<a;ne++){if(ne===h)continue;const ae=hH(v,_,t[2*ne],t[2*ne+1]);ae<Ae&&ae>0&&(g=ne,Ae=ae)}let C=t[2*g],D=t[2*g+1],T=1/0;for(let ne=0;ne<a;ne++){if(ne===h||ne===g)continue;const Ae=mnt(v,_,C,D,t[2*ne],t[2*ne+1]);Ae<T&&(m=ne,T=Ae)}let I=t[2*m],V=t[2*m+1];if(T===1/0){for(let ae=0;ae<a;ae++)this._dists[ae]=t[2*ae]-t[0]||t[2*ae+1]-t[1];S4(this._ids,this._dists,0,a-1);const ne=new Uint32Array(a);let Ae=0;for(let ae=0,Be=-1/0;ae<a;ae++){const Ce=this._ids[ae],U=this._dists[Ce];U>Be&&(ne[Ae++]=Ce,Be=U)}return this.hull=ne.subarray(0,Ae),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(zS(v,_,C,D,I,V)<0){const ne=g,Ae=C,ae=D;g=m,C=I,D=V,m=ne,I=Ae,V=ae}const R=function vnt(e,t,r,i,s,o){const a=r-e,l=i-t,u=s-e,c=o-t,f=a*a+l*l,A=u*u+c*c,d=.5/(a*c-l*u);return{x:e+(c*f-l*A)*d,y:t+(a*A-u*f)*d}}(v,_,C,D,I,V);this._cx=R.x,this._cy=R.y;for(let ne=0;ne<a;ne++)this._dists[ne]=hH(t[2*ne],t[2*ne+1],R.x,R.y);S4(this._ids,this._dists,0,a-1),this._hullStart=h;let K=3;i[h]=r[m]=g,i[g]=r[h]=m,i[m]=r[g]=h,s[h]=0,s[g]=1,s[m]=2,o.fill(-1),o[this._hashKey(v,_)]=h,o[this._hashKey(C,D)]=g,o[this._hashKey(I,V)]=m,this.trianglesLen=0,this._addTriangle(h,g,m,-1,-1,-1);for(let Ae,ae,ne=0;ne<this._ids.length;ne++){const Be=this._ids[ne],Ce=t[2*Be],U=t[2*Be+1];if(ne>0&&Math.abs(Ce-Ae)<=C0e&&Math.abs(U-ae)<=C0e||(Ae=Ce,ae=U,Be===h||Be===g||Be===m))continue;let Q=0;for(let de=0,De=this._hashKey(Ce,U);de<this._hashSize&&(Q=o[(De+de)%this._hashSize],-1===Q||Q===i[Q]);de++);Q=r[Q];let oe,z=Q;for(;oe=i[z],zS(Ce,U,t[2*z],t[2*z+1],t[2*oe],t[2*oe+1])>=0;)if(z=oe,z===Q){z=-1;break}if(-1===z)continue;let J=this._addTriangle(z,Be,i[z],-1,-1,s[z]);s[Be]=this._legalize(J+2),s[z]=J,K++;let le=i[z];for(;oe=i[le],zS(Ce,U,t[2*le],t[2*le+1],t[2*oe],t[2*oe+1])<0;)J=this._addTriangle(le,Be,oe,s[Be],-1,s[le]),s[Be]=this._legalize(J+2),i[le]=le,K--,le=oe;if(z===Q)for(;oe=r[z],zS(Ce,U,t[2*oe],t[2*oe+1],t[2*z],t[2*z+1])<0;)J=this._addTriangle(oe,Be,z,-1,s[z],s[oe]),this._legalize(J+2),s[oe]=J,i[z]=z,K--,z=oe;this._hullStart=r[Be]=z,i[z]=r[le]=Be,i[Be]=le,o[this._hashKey(Ce,U)]=Be,o[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(K);for(let ne=0,Ae=this._hullStart;ne<K;ne++)this.hull[ne]=Ae,Ae=i[Ae];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(function pnt(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:i,coords:s}=this;let o=0,a=0;for(;;){const l=i[t],u=t-t%3;if(a=u+(t+2)%3,-1===l){if(0===o)break;t=tB[--o];continue}const c=l-l%3,A=c+(l+2)%3,d=r[a],h=r[t],g=r[u+(t+1)%3],m=r[A];if(gnt(s[2*d],s[2*d+1],s[2*h],s[2*h+1],s[2*g],s[2*g+1],s[2*m],s[2*m+1])){r[t]=m,r[l]=d;const _=i[A];if(-1===_){let D=this._hullStart;do{if(this._hullTri[D]===A){this._hullTri[D]=t;break}D=this._hullPrev[D]}while(D!==this._hullStart)}this._link(t,_),this._link(l,i[a]),this._link(a,A);const C=c+(l+1)%3;o<tB.length&&(tB[o++]=C)}else{if(0===o)break;t=tB[--o]}}return a}_link(t,r){this._halfedges[t]=r,-1!==r&&(this._halfedges[r]=t)}_addTriangle(t,r,i,s,o,a){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=r,this._triangles[l+2]=i,this._link(l,s),this._link(l+1,o),this._link(l+2,a),this.trianglesLen+=3,l}}function hH(e,t,r,i){const s=e-r,o=t-i;return s*s+o*o}function gnt(e,t,r,i,s,o,a,l){const u=e-a,c=t-l,f=r-a,A=i-l,d=s-a,h=o-l,m=f*f+A*A,v=d*d+h*h;return u*(A*v-m*h)-c*(f*v-m*d)+(u*u+c*c)*(f*h-A*d)<0}function mnt(e,t,r,i,s,o){const a=r-e,l=i-t,u=s-e,c=o-t,f=a*a+l*l,A=u*u+c*c,d=.5/(a*c-l*u),h=(c*f-l*A)*d,g=(a*A-u*f)*d;return h*h+g*g}function S4(e,t,r,i){if(i-r<=20)for(let s=r+1;s<=i;s++){const o=e[s],a=t[o];let l=s-1;for(;l>=r&&t[e[l]]>a;)e[l+1]=e[l--];e[l+1]=o}else{let o=r+1,a=i;r9(e,r+i>>1,o),t[e[r]]>t[e[i]]&&r9(e,r,i),t[e[o]]>t[e[i]]&&r9(e,o,i),t[e[r]]>t[e[o]]&&r9(e,r,o);const l=e[o],u=t[l];for(;;){do{o++}while(t[e[o]]<u);do{a--}while(t[e[a]]>u);if(a<o)break;r9(e,o,a)}e[r+1]=e[a],e[a]=l,i-o+1>=a-r?(S4(e,t,o,i),S4(e,t,r,a-1)):(S4(e,t,r,a-1),S4(e,t,o,i))}}function r9(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function _nt(e){return e[0]}function ynt(e){return e[1]}class Rm{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,i){const s=(t=+t)+(i=+i),o=r=+r;if(i<0)throw new Error("negative radius");null===this._x1?this._+=`M${s},${o}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+s+","+o),i&&(this._+=`A${i},${i},0,1,1,${t-i},${r}A${i},${i},0,1,1,${this._x1=s},${this._y1=o}`)}rect(t,r,i,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+i}v${+s}h${-i}Z`}value(){return this._||null}}class pH{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}}class wnt{constructor(t,[r,i,s,o]=[0,0,960,500]){if(!((s=+s)>=(r=+r)&&(o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=s,this.xmin=r,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:i},vectors:s}=this;let o,a;const l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let C,D,m=0,v=0,_=i.length;m<_;m+=3,v+=2){const T=2*i[m],I=2*i[m+1],V=2*i[m+2],R=t[T],K=t[T+1],ae=t[V],Be=t[V+1],Ce=t[I]-R,U=t[I+1]-K,Q=ae-R,z=Be-K,oe=2*(Ce*z-U*Q);if(Math.abs(oe)<1e-9){if(void 0===o){o=a=0;for(const le of r)o+=t[2*le],a+=t[2*le+1];o/=r.length,a/=r.length}const J=1e9*Math.sign((o-R)*z-(a-K)*Q);C=(R+ae)/2-J*z,D=(K+Be)/2+J*Q}else{const J=1/oe,le=Ce*Ce+U*U,de=Q*Q+z*z;C=R+(z*le-U*de)*J,D=K+(Ce*de-Q*le)*J}l[v]=C,l[v+1]=D}let c,A,h,u=r[r.length-1],f=4*u,d=t[2*u],g=t[2*u+1];s.fill(0);for(let m=0;m<r.length;++m)u=r[m],c=f,A=d,h=g,f=4*u,d=t[2*u],g=t[2*u+1],s[c+2]=s[f]=h-g,s[c+3]=s[f+1]=d-A}render(t){const r=null==t?t=new Rm:void 0,{delaunay:{halfedges:i,inedges:s,hull:o},circumcenters:a,vectors:l}=this;if(o.length<=1)return null;for(let f=0,A=i.length;f<A;++f){const d=i[f];if(d<f)continue;const h=2*Math.floor(f/3),g=2*Math.floor(d/3);this._renderSegment(a[h],a[h+1],a[g],a[g+1],t)}let u,c=o[o.length-1];for(let f=0;f<o.length;++f){u=c,c=o[f];const A=2*Math.floor(s[c]/3),d=a[A],h=a[A+1],g=4*u,m=this._project(d,h,l[g+2],l[g+3]);m&&this._renderSegment(d,h,m[0],m[1],t)}return r&&r.value()}renderBounds(t){const r=null==t?t=new Rm:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const i=null==r?r=new Rm:void 0,s=this._clip(t);if(null===s||!s.length)return;r.moveTo(s[0],s[1]);let o=s.length;for(;s[0]===s[o-2]&&s[1]===s[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(s[a]!==s[a-2]||s[a+1]!==s[a-1])&&r.lineTo(s[a],s[a+1]);return r.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,i=t.length/2;r<i;++r){const s=this.cellPolygon(r);s&&(s.index=r,yield s)}}cellPolygon(t){const r=new pH;return this.renderCell(t,r),r.value()}_renderSegment(t,r,i,s,o){let a;const l=this._regioncode(t,r),u=this._regioncode(i,s);0===l&&0===u?(o.moveTo(t,r),o.lineTo(i,s)):(a=this._clipSegment(t,r,i,s,l,u))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(t,r,i){return(r=+r)==r&&(i=+i)==i&&this.delaunay._step(t,r,i)===t}*neighbors(t){const r=this._clip(t);if(r)for(const i of this.delaunay.neighbors(t)){const s=this._clip(i);if(s)e:for(let o=0,a=r.length;o<a;o+=2)for(let l=0,u=s.length;l<u;l+=2)if(r[o]===s[l]&&r[o+1]===s[l+1]&&r[(o+2)%a]===s[(l+u-2)%u]&&r[(o+3)%a]===s[(l+u-1)%u]){yield i;break e}}}_cell(t){const{circumcenters:r,delaunay:{inedges:i,halfedges:s,triangles:o}}=this,a=i[t];if(-1===a)return null;const l=[];let u=a;do{const c=Math.floor(u/3);if(l.push(r[2*c],r[2*c+1]),u=u%3==2?u-2:u+1,o[u]!==t)break;u=s[u]}while(u!==a&&-1!==u);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(null===r)return null;const{vectors:i}=this,s=4*t;return this._simplify(i[s]||i[s+1]?this._clipInfinite(t,r,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(t,r))}_clipFinite(t,r){const i=r.length;let o,a,c,A,s=null,l=r[i-2],u=r[i-1],f=this._regioncode(l,u),d=0;for(let h=0;h<i;h+=2)if(o=l,a=u,l=r[h],u=r[h+1],c=f,f=this._regioncode(l,u),0===c&&0===f)A=d,d=0,s?s.push(l,u):s=[l,u];else{let g,m,v,_,C;if(0===c){if(null===(g=this._clipSegment(o,a,l,u,c,f)))continue;[m,v,_,C]=g}else{if(null===(g=this._clipSegment(l,u,o,a,f,c)))continue;[_,C,m,v]=g,A=d,d=this._edgecode(m,v),A&&d&&this._edge(t,A,d,s,s.length),s?s.push(m,v):s=[m,v]}A=d,d=this._edgecode(_,C),A&&d&&this._edge(t,A,d,s,s.length),s?s.push(_,C):s=[_,C]}if(s)A=d,d=this._edgecode(s[0],s[1]),A&&d&&this._edge(t,A,d,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,r,i,s,o,a){const l=o<a;for(l&&([t,r,i,s,o,a]=[i,s,t,r,a,o]);;){if(0===o&&0===a)return l?[i,s,t,r]:[t,r,i,s];if(o&a)return null;let u,c,f=o||a;8&f?(u=t+(i-t)*(this.ymax-r)/(s-r),c=this.ymax):4&f?(u=t+(i-t)*(this.ymin-r)/(s-r),c=this.ymin):2&f?(c=r+(s-r)*(this.xmax-t)/(i-t),u=this.xmax):(c=r+(s-r)*(this.xmin-t)/(i-t),u=this.xmin),o?o=this._regioncode(t=u,r=c):a=this._regioncode(i=u,s=c)}}_clipInfinite(t,r,i,s,o,a){let u,l=Array.from(r);if((u=this._project(l[0],l[1],i,s))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],o,a))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let A,c=0,f=l.length,d=this._edgecode(l[f-2],l[f-1]);c<f;c+=2)A=d,d=this._edgecode(l[c],l[c+1]),A&&d&&(c=this._edge(t,A,d,l,c),f=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,r,i,s,o){for(;r!==i;){let a,l;switch(r){case 5:r=4;continue;case 4:r=6,a=this.xmax,l=this.ymin;break;case 6:r=2;continue;case 2:r=10,a=this.xmax,l=this.ymax;break;case 10:r=8;continue;case 8:r=9,a=this.xmin,l=this.ymax;break;case 9:r=1;continue;case 1:r=5,a=this.xmin,l=this.ymin}(s[o]!==a||s[o+1]!==l)&&this.contains(t,a,l)&&(s.splice(o,0,a,l),o+=2)}return o}_project(t,r,i,s){let a,l,u,o=1/0;if(s<0){if(r<=this.ymin)return null;(a=(this.ymin-r)/s)<o&&(u=this.ymin,l=t+(o=a)*i)}else if(s>0){if(r>=this.ymax)return null;(a=(this.ymax-r)/s)<o&&(u=this.ymax,l=t+(o=a)*i)}if(i>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/i)<o&&(l=this.xmax,u=r+(o=a)*s)}else if(i<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/i)<o&&(l=this.xmin,u=r+(o=a)*s)}return[l,u]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){const i=(r+2)%t.length,s=(r+4)%t.length;(t[r]===t[i]&&t[i]===t[s]||t[r+1]===t[i+1]&&t[i+1]===t[s+1])&&(t.splice(i,2),r-=2)}t.length||(t=null)}return t}}const bnt=2*Math.PI,B4=Math.pow;function Cnt(e){return e[0]}function Ent(e){return e[1]}function Bnt(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class gH{static from(t,r=Cnt,i=Ent,s){return new gH("length"in t?function xnt(e,t,r,i){const s=e.length,o=new Float64Array(2*s);for(let a=0;a<s;++a){const l=e[a];o[2*a]=t.call(i,l,a,e),o[2*a+1]=r.call(i,l,a,e)}return o}(t,r,i,s):Float64Array.from(function*Dnt(e,t,r,i){let s=0;for(const o of e)yield t.call(i,o,s,e),yield r.call(i,o,s,e),++s}(t,r,i,s)))}constructor(t){this._delaunator=new nB(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&function Snt(e){const{triangles:t,coords:r}=e;for(let i=0;i<t.length;i+=3){const s=2*t[i],o=2*t[i+1],a=2*t[i+2];if((r[a]-r[s])*(r[o+1]-r[s+1])-(r[o]-r[s])*(r[a+1]-r[s+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:r.length/2},(d,h)=>h).sort((d,h)=>r[2*d]-r[2*h]||r[2*d+1]-r[2*h+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[r[2*u],r[2*u+1],r[2*c],r[2*c+1]],A=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let d=0,h=r.length/2;d<h;++d){const g=Bnt(r[2*d],r[2*d+1],A);r[2*d]=g[0],r[2*d+1]=g[1]}this._delaunator=new nB(r)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,c=i.length;u<c;++u){const f=o[u%3==2?u-2:u+1];(-1===i[u]||-1===a[f])&&(a[f]=u)}for(let u=0,c=s.length;u<c;++u)l[s[u]]=u;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],a[s[0]]=1,2===s.length&&(a[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(t){return new wnt(this,t)}*neighbors(t){const{inedges:r,hull:i,_hullIndex:s,halfedges:o,triangles:a,collinear:l}=this;if(l){const A=l.indexOf(t);return A>0&&(yield l[A-1]),void(A<l.length-1&&(yield l[A+1]))}const u=r[t];if(-1===u)return;let c=u,f=-1;do{if(yield f=a[c],c=c%3==2?c-2:c+1,a[c]!==t)return;if(c=o[c],-1===c){const A=i[(s[t]+1)%i.length];return void(A!==f&&(yield A))}}while(c!==u)}find(t,r,i=0){if((t=+t)!=t||(r=+r)!=r)return-1;const s=i;let o;for(;(o=this._step(i,t,r))>=0&&o!==i&&o!==s;)i=o;return o}_step(t,r,i){const{inedges:s,hull:o,_hullIndex:a,halfedges:l,triangles:u,points:c}=this;if(-1===s[t]||!c.length)return(t+1)%(c.length>>1);let f=t,A=B4(r-c[2*t],2)+B4(i-c[2*t+1],2);const d=s[t];let h=d;do{let g=u[h];const m=B4(r-c[2*g],2)+B4(i-c[2*g+1],2);if(m<A&&(A=m,f=g),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=l[h],-1===h){if(h=o[(a[t]+1)%o.length],h!==g&&B4(r-c[2*h],2)+B4(i-c[2*h+1],2)<A)return h;break}}while(h!==d);return f}render(t){const r=null==t?t=new Rm:void 0,{points:i,halfedges:s,triangles:o}=this;for(let a=0,l=s.length;a<l;++a){const u=s[a];if(u<a)continue;const c=2*o[a],f=2*o[u];t.moveTo(i[c],i[c+1]),t.lineTo(i[f],i[f+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){void 0===r&&(!t||"function"!=typeof t.moveTo)&&(r=t,t=null),r=null==r?2:+r;const i=null==t?t=new Rm:void 0,{points:s}=this;for(let o=0,a=s.length;o<a;o+=2){const l=s[o],u=s[o+1];t.moveTo(l+r,u),t.arc(l,u,r,0,bnt)}return i&&i.value()}renderHull(t){const r=null==t?t=new Rm:void 0,{hull:i,points:s}=this,o=2*i[0],a=i.length;t.moveTo(s[o],s[o+1]);for(let l=1;l<a;++l){const u=2*i[l];t.lineTo(s[u],s[u+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new pH;return this.renderHull(t),t.value()}renderTriangle(t,r){const i=null==r?r=new Rm:void 0,{points:s,triangles:o}=this,a=2*o[t*=3],l=2*o[t+1],u=2*o[t+2];return r.moveTo(s[a],s[a+1]),r.lineTo(s[l],s[l+1]),r.lineTo(s[u],s[u+1]),r.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,i=t.length/3;r<i;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new pH;return this.renderTriangle(t,r),r.value()}}function mH(e){Ut.call(this,null,e)}mH.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Fnt=[-1e5,-1e5,1e5,1e5];function Mnt(e){const t=e[0][0],r=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===r;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}function Tnt(e){return 2===e.length&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}Gn(mH,Ut,{transform(e,t){const r=e.as||"path",i=t.source;if(!i||!i.length)return t;let s=e.size;s=s?[0,0,s[0],s[1]]:(s=e.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:Fnt;const o=this.value=gH.from(i,e.x,e.y).voronoi(s);for(let a=0,l=i.length;a<l;++a){const u=o.cellPolygon(a);i[a][r]=u&&!Tnt(u)?Mnt(u):null}return t.reflow(e.modified()).modifies(r)}});var vH=Math.PI/180;function Nnt(e,t,r,i){if(!t.sprite){var s=e.context,o=e.ratio;s.clearRect(0,0,2048/o,2048/o);var f,A,d,h,g,a=0,l=0,u=0,c=r.length;for(--i;++i<c;){if(t=r[i],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,f=s.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var m=Math.sin(t.rotate*vH),v=Math.cos(t.rotate*vH),_=f*v,C=f*m,D=d*v,T=d*m;f=Math.max(Math.abs(_+T),Math.abs(_-T))+31>>5<<5,d=~~Math.max(Math.abs(C+D),Math.abs(C-D))}else f=f+31>>5<<5;if(d>u&&(u=d),a+f>=2048&&(a=0,l+=u,u=0),l+d>=2048)break;s.translate((a+(f>>1))/o,(l+(d>>1))/o),t.rotate&&s.rotate(t.rotate*vH),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=f,t.height=d,t.xoff=a,t.yoff=l,t.x1=f>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=f}for(var I=s.getImageData(0,0,2048/o,2048/o).data,V=[];--i>=0;)if((t=r[i]).hasText){for(A=(f=t.width)>>5,d=t.y1-t.y0,h=0;h<d*A;h++)V[h]=0;if(null==(a=t.xoff))return;l=t.yoff;var R=0,K=-1;for(g=0;g<d;g++){for(h=0;h<f;h++){var Ae=I[2048*(l+g)+(a+h)<<2]?1<<31-h%32:0;V[A*g+(h>>5)]|=Ae,R|=Ae}R?K=g:(t.y0++,d--,g--,l++)}t.y1=t.y0+K,t.sprite=V.slice(0,(t.y1-t.y0)*A)}}}function Ont(e,t,r){for(var f,i=e.sprite,s=e.width>>5,o=e.x-(s<<4),a=127&o,l=32-a,u=e.y1-e.y0,c=(e.y+e.y0)*(r>>=5)+(o>>5),A=0;A<u;A++){f=0;for(var d=0;d<=s;d++)if((f<<l|(d<s?(f=i[A*s+d])>>>a:0))&t[c+d])return!0;c+=r}return!1}function Rnt(e,t){var r=e[0],i=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function knt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function S0e(e){var t=e[0]/e[1];return function(r){return[t*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function km(e){return"function"==typeof e?e:function(){return e}}var Lnt={archimedean:S0e,rectangular:function Pnt(e){var r=4*e[0]/e[1],i=0,s=0;return function(o){var a=o<0?-1:1;switch(Math.sqrt(1+4*a*o)-a&3){case 0:i+=r;break;case 1:s+=4;break;case 2:i-=r;break;default:s-=4}return[i,s]}}};const B0e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Qnt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function _H(e){Ut.call(this,function Int(){var t,r,i,s,o,a,l,e=[256,256],u=S0e,c=[],f=Math.random,A={};function h(g,m,v){for(var R,K,ne,_=m.x,C=m.y,D=Math.hypot(e[0],e[1]),T=u(e),I=f()<.5?1:-1,V=-I;(R=T(V+=I))&&(K=~~R[0],ne=~~R[1],!(Math.min(Math.abs(K),Math.abs(ne))>=D));)if(m.x=_+K,m.y=C+ne,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!v||!Ont(m,g,e[0]))&&(!v||knt(m,v))){for(var J,Ae=m.sprite,ae=m.width>>5,Be=e[0]>>5,Ce=m.x-(ae<<4),U=127&Ce,Q=32-U,z=m.y1-m.y0,oe=(m.y+m.y0)*Be+(Ce>>5),le=0;le<z;le++){J=0;for(var de=0;de<=ae;de++)g[oe+de]|=J<<Q|(de<ae?(J=Ae[le*ae+de])>>>U:0);oe+=Be}return m.sprite=null,!0}return!1}return A.layout=function(){for(var g=function d(g){g.width=g.height=1;var m=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=2048/m,g.height=2048/m;var v=g.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:m}}(u1()),m=function Unt(e){for(var t=[],r=-1;++r<e;)t[r]=0;return t}((e[0]>>5)*e[1]),v=null,_=c.length,C=-1,D=[],T=c.map(V=>({text:t(V),font:r(V),style:s(V),weight:o(V),rotate:a(V),size:~~(i(V)+1e-14),padding:l(V),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:V})).sort((V,R)=>R.size-V.size);++C<_;){var I=T[C];I.x=e[0]*(f()+.5)>>1,I.y=e[1]*(f()+.5)>>1,Nnt(g,I,T,C),I.hasText&&h(m,I,v)&&(D.push(I),v?Rnt(v,I):v=[{x:I.x+I.x0,y:I.y+I.y0},{x:I.x+I.x1,y:I.y+I.y1}],I.x-=e[0]>>1,I.y-=e[1]>>1)}return D},A.words=function(g){return arguments.length?(c=g,A):c},A.size=function(g){return arguments.length?(e=[+g[0],+g[1]],A):e},A.font=function(g){return arguments.length?(r=km(g),A):r},A.fontStyle=function(g){return arguments.length?(s=km(g),A):s},A.fontWeight=function(g){return arguments.length?(o=km(g),A):o},A.rotate=function(g){return arguments.length?(a=km(g),A):a},A.text=function(g){return arguments.length?(t=km(g),A):t},A.spiral=function(g){return arguments.length?(u=Lnt[g]||g,A):u},A.fontSize=function(g){return arguments.length?(i=km(g),A):i},A.padding=function(g){return arguments.length?(l=km(g),A):l},A.random=function(g){return arguments.length?(f=g,A):f},A}(),e)}function iB(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hnt(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function x0e(e){let t,r,i;function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<0?c=A+1:f=A}while(c<f)}return c}return 2!==e.length?(t=iB,r=(l,u)=>iB(e(l),u),i=(l,u)=>e(l)-u):(t=e===iB||e===Hnt?e:Vnt,r=e,i=e),{left:s,center:function a(l,u,c=0,f=l.length){const A=s(l,u,c,f-1);return A>c&&i(l[A-1],u)>-i(l[A],u)?A-1:A},right:function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<=0?c=A+1:f=A}while(c<f)}return c}}}function Vnt(){return 0}_H.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:B0e}]},Gn(_H,Ut,{transform(e,t){e.size&&(!e.size[0]||!e.size[1])&&Yt("Wordcloud size dimensions must be non-zero.");const i=e.modified();if(!(i||t.changed(t.ADD_REM)||Qnt.some(function r(g){const m=e[g];return Ni(m)&&t.modified(m.fields)})))return;const s=t.materialize(t.SOURCE).source,o=this.value,a=e.as||B0e;let u,l=e.fontSize||14;if(Ni(l)?u=e.fontSizeRange:l=tu(l),u){const g=l,m=ks("sqrt")().domain(Xd(s,g)).range(u);l=v=>m(g(v))}s.forEach(g=>{g[a[0]]=NaN,g[a[1]]=NaN,g[a[3]]=0});const c=o.words(s).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random(Qf).layout(),f=o.size(),A=f[0]>>1,d=f[1]>>1,h=c.length;for(let m,v,g=0;g<h;++g)m=c[g],v=m.datum,v[a[0]]=m.x+A,v[a[1]]=m.y+d,v[a[2]]=m.font,v[a[3]]=m.size,v[a[4]]=m.style,v[a[5]]=m.weight,v[a[6]]=m.rotate;return t.reflow(i).modifies(a)}});const D0e=x0e(iB),Gnt=D0e.right,znt=D0e.left;x0e(function $nt(e){return null===e?NaN:+e});const jnt=e=>new Uint8Array(e),Knt=e=>new Uint16Array(e),s9=e=>new Uint32Array(e);function sB(e,t,r){const i=(t<257?jnt:t<65537?Knt:s9)(e);return r&&i.set(r),i}function F0e(e,t,r){const i=1<<t;return{one:i,zero:~i,range:r.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(s,o){const a=this,l=a.bisect(a.range,s.value),u=s.index,c=l[0],f=l[1],A=u.length;let d;for(d=0;d<c;++d)o[u[d]]|=i;for(d=f;d<A;++d)o[u[d]]|=i;return a}}}function M0e(){let e=s9(0),t=[],r=0;return{insert:function i(l,u,c){if(!u.length)return[];const f=r,A=u.length,d=s9(A);let g,m,v,h=Array(A);for(v=0;v<A;++v)h[v]=l(u[v]),d[v]=v;if(h=function Xnt(e,t){return e.sort.call(t,(r,i)=>{const s=e[r],o=e[i];return s<o?-1:s>o?1:0}),function qnt(e,t){return Array.from(t,r=>e[r])}(e,t)}(h,d),f)g=t,m=e,t=Array(f+A),e=s9(f+A),function Jnt(e,t,r,i,s,o,a,l,u){let A,c=0,f=0;for(A=0;c<i&&f<a;++A)t[c]<s[f]?(l[A]=t[c],u[A]=r[c++]):(l[A]=s[f],u[A]=o[f++]+e);for(;c<i;++c,++A)l[A]=t[c],u[A]=r[c];for(;f<a;++f,++A)l[A]=s[f],u[A]=o[f]+e}(c,g,m,f,h,d,A,t,e);else{if(c>0)for(v=0;v<A;++v)d[v]+=c;t=h,e=d}return r=f+A,{index:d,value:h}},remove:function s(l,u){const c=r;let f,A,d;for(A=0;!u[e[A]]&&A<c;++A);for(d=A;A<c;++A)u[f=e[A]]||(e[d]=f,t[d]=t[A],++d);r=c-l},bisect:function a(l,u){let c;return u?c=u.length:(u=t,c=r),[znt(u,l[0],0,c),Gnt(u,l[1],0,c)]},reindex:function o(l){for(let u=0,c=r;u<c;++u)e[u]=l[e[u]]},index:()=>e,size:()=>r}}function yH(e){Ut.call(this,function Wnt(){let e=8,t=[],r=s9(0),i=sB(0,e),s=sB(0,e);return{data:()=>t,seen:()=>r=function Ynt(e,t,r){return e.length>=t?e:((r=r||new e.constructor(t)).set(e),r)}(r,t.length),add(o){for(let c,a=0,l=t.length,u=o.length;a<u;++a)c=o[a],c._index=l++,t.push(c)},remove(o,a){const l=t.length,u=Array(l-o),c=t;let f,A,d;for(A=0;!a[A]&&A<l;++A)u[A]=t[A],c[A]=A;for(d=A;A<l;++A)f=t[A],a[A]?c[A]=-1:(c[A]=d,i[d]=i[A],s[d]=s[A],u[d]=f,f._index=d++),i[A]=0;return t=u,c},size:()=>t.length,curr:()=>i,prev:()=>s,reset:o=>s[o]=i[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,a){i[o]|=a},clear(o,a){i[o]&=~a},resize(o,a){(o>i.length||a>e)&&(e=Math.max(a,e),i=sB(o,e,i),s=sB(o,e))}}}(),e),this._indices=null,this._dims=null}function wH(e){Ut.call(this,null,e)}yH.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Gn(yH,Ut,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(i=>t.modified(i.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const r=e.fields,i=e.query,s=this._indices={},o=this._dims=[],a=i.length;let u,c,l=0;for(;l<a;++l)u=r[l].fname,c=s[u]||(s[u]=M0e()),o.push(F0e(c,l,i[l]));return this.eval(e,t)},reinit(e,t){const r=t.materialize().fork(),i=e.fields,s=e.query,o=this._indices,a=this._dims,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),A=r.rem=r.add,d=r.mod,h=s.length,g={};let m,v,_,C,D,T,I,V,R;if(c.set(u),t.rem.length&&(D=this.remove(e,t,r)),t.add.length&&l.add(t.add),t.mod.length)for(T={},C=t.mod,I=0,V=C.length;I<V;++I)T[C[I]._index]=1;for(I=0;I<h;++I)R=i[I],(!a[I]||e.modified("fields",I)||t.modified(R.fields))&&(_=R.fname,(m=g[_])||(o[_]=v=M0e(),g[_]=m=v.insert(R,t.source,0)),a[I]=F0e(v,I,s[I]).onAdd(m,u));for(I=0,V=l.data().length;I<V;++I)D[I]||(c[I]!==u[I]?A.push(I):T[I]&&u[I]!==f&&d.push(I));return l.mask=(1<<h)-1,r},eval(e,t){const r=t.materialize().fork(),i=this._dims.length;let s=0;return t.rem.length&&(this.remove(e,t,r),s|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(s|=this.update(e,t,r)),t.add.length&&(this.insert(e,t,r),s|=(1<<i)-1),t.mod.length&&(this.modify(t,r),s|=(1<<i)-1),this.value.mask=s,r},insert(e,t,r){const i=t.add,s=this.value,o=this._dims,a=this._indices,l=e.fields,u={},c=r.add,f=s.size()+i.length,A=o.length;let h,g,m,d=s.size();s.resize(f,A),s.add(i);const v=s.curr(),_=s.prev(),C=s.all();for(h=0;h<A;++h)g=l[h].fname,m=u[g]||(u[g]=a[g].insert(l[h],i,d)),o[h].onAdd(m,v);for(;d<f;++d)_[d]=C,v[d]!==C&&c.push(d)},modify(e,t){const r=t.mod,i=this.value,s=i.curr(),o=i.all(),a=e.mod;let l,u,c;for(l=0,u=a.length;l<u;++l)c=a[l]._index,s[c]!==o&&r.push(c)},remove(e,t,r){const i=this._indices,s=this.value,o=s.curr(),a=s.prev(),l=s.all(),u={},c=r.rem,f=t.rem;let A,d,h,g;for(A=0,d=f.length;A<d;++A)h=f[A]._index,u[h]=1,a[h]=g=o[h],o[h]=l,g!==l&&c.push(h);for(h in i)i[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,r){const i=this._indices,s=this.value;e.runAfter(()=>{const o=s.remove(t,r);for(const a in i)i[a].reindex(o)})},update(e,t,r){const i=this._dims,s=e.query,o=t.stamp,a=i.length;let u,c,l=0;for(r.filters=0,c=0;c<a;++c)e.modified("query",c)&&(u=c,++l);if(1===l)l=i[u].one,this.incrementOne(i[u],s[u],r.add,r.rem);else for(c=0,l=0;c<a;++c)!e.modified("query",c)||(l|=i[c].one,this.incrementAll(i[c],s[c],o,r.add),r.rem=r.add);return l},incrementAll(e,t,r,i){const s=this.value,o=s.seen(),a=s.curr(),l=s.prev(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),A=f[0],d=f[1],h=c[0],g=c[1],m=e.one;let v,_,C;if(A<h)for(v=A,_=Math.min(h,d);v<_;++v)C=u[v],o[C]!==r&&(l[C]=a[C],o[C]=r,i.push(C)),a[C]^=m;else if(A>h)for(v=h,_=Math.min(A,g);v<_;++v)C=u[v],o[C]!==r&&(l[C]=a[C],o[C]=r,i.push(C)),a[C]^=m;if(d>g)for(v=Math.max(A,g),_=d;v<_;++v)C=u[v],o[C]!==r&&(l[C]=a[C],o[C]=r,i.push(C)),a[C]^=m;else if(d<g)for(v=Math.max(h,d),_=g;v<_;++v)C=u[v],o[C]!==r&&(l[C]=a[C],o[C]=r,i.push(C)),a[C]^=m;e.range=t.slice()},incrementOne(e,t,r,i){const o=this.value.curr(),a=e.index(),l=e.bisect(e.range),u=e.bisect(t),c=u[0],f=u[1],A=l[0],d=l[1],h=e.one;let g,m,v;if(c<A)for(g=c,m=Math.min(A,f);g<m;++g)v=a[g],o[v]^=h,r.push(v);else if(c>A)for(g=A,m=Math.min(c,d);g<m;++g)v=a[g],o[v]^=h,i.push(v);if(f>d)for(g=Math.max(c,d),m=f;g<m;++g)v=a[g],o[v]^=h,r.push(v);else if(f<d)for(g=Math.max(A,f),m=d;g<m;++g)v=a[g],o[v]^=h,i.push(v);e.range=t.slice()}}),wH.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Gn(wH,Ut,{transform(e,t){const r=~(e.ignore||0),i=e.filter,s=i.mask;if(0==(s&r))return t.StopPropagation;const o=t.fork(t.ALL),a=i.data(),l=i.curr(),u=i.prev(),c=f=>l[f]&r?null:a[f];return o.filter(o.MOD,c),s&s-1?(o.filter(o.ADD,f=>{const A=l[f]&r;return!A&&A^u[f]&r?a[f]:null}),o.filter(o.REM,f=>{const A=l[f]&r;return!A||A^A^u[f]&r?null:a[f]})):(o.filter(o.ADD,c),o.filter(o.REM,f=>(l[f]&r)===s?a[f]:null)),o.filter(o.SOURCE,f=>c(f._index))}});const Znt=Math.sqrt(50),ert=Math.sqrt(10),trt=Math.sqrt(2);function oB(e,t,r){const i=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=Znt?10:o>=ert?5:o>=trt?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?oB(e,t,2*r):[l,u,c]}function T0e(e,t,r){return oB(e=+e,t=+t,r=+r)[2]}const Pm="Literal",I0e="CallExpression";function zA(e){this.type=e}var ph,Mr,qt,uu,Zs;zA.prototype.visit=function(e){let t,r,i;if(e(this))return 1;for(t=function drt(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case I0e:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),r=0,i=t.length;r<i;++r)if(t[r].visit(e))return 1},(ph={})[1]="Boolean",ph[2]="<end>",ph[3]="Identifier",ph[4]="Keyword",ph[5]="Null",ph[6]="Numeric",ph[7]="Punctuator",ph[8]="String",ph[9]="RegularExpression";var N0e="Identifier",dl="Unexpected token %0",bH="Invalid regular expression",CH="Invalid regular expression: missing /",O0e="Octal literals are not allowed in strict mode.",Nl="ILLEGAL",l9="Disabled.",Trt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Irt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function uB(e,t){if(!e)throw new Error("ASSERT: "+t)}function N0(e){return e>=48&&e<=57}function EH(e){return"0123456789abcdefABCDEF".includes(e)}function u9(e){return"01234567".includes(e)}function Nrt(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function c9(e){return 10===e||13===e||8232===e||8233===e}function f9(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Trt.test(String.fromCharCode(e))}function cB(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Irt.test(String.fromCharCode(e))}const Ort={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function R0e(){for(;qt<uu;){const e=Mr.charCodeAt(qt);if(!Nrt(e)&&!c9(e))break;++qt}}function SH(e){var t,r,i,s=0;for(r="u"===e?4:2,t=0;t<r;++t)qt<uu&&EH(Mr[qt])?(i=Mr[qt++],s=16*s+"0123456789abcdef".indexOf(i.toLowerCase())):Ps({},dl,Nl);return String.fromCharCode(s)}function Rrt(){var e,t;for(t=0,"}"===(e=Mr[qt])&&Ps({},dl,Nl);qt<uu&&EH(e=Mr[qt++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Ps({},dl,Nl),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function k0e(){var e,t;for(e=Mr.charCodeAt(qt++),t=String.fromCharCode(e),92===e&&(117!==Mr.charCodeAt(qt)&&Ps({},dl,Nl),++qt,(!(e=SH("u"))||"\\"===e||!f9(e.charCodeAt(0)))&&Ps({},dl,Nl),t=e);qt<uu&&cB(e=Mr.charCodeAt(qt));)++qt,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Mr.charCodeAt(qt)&&Ps({},dl,Nl),++qt,(!(e=SH("u"))||"\\"===e||!cB(e.charCodeAt(0)))&&Ps({},dl,Nl),t+=e);return t}function BH(){var r,s,o,a,e=qt,t=Mr.charCodeAt(qt),i=Mr[qt];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++qt,{type:7,value:String.fromCharCode(t),start:e,end:qt};default:if(61===(r=Mr.charCodeAt(qt+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return qt+=2,{type:7,value:String.fromCharCode(t)+String.fromCharCode(r),start:e,end:qt};case 33:case 61:return 61===Mr.charCodeAt(qt+=2)&&++qt,{type:7,value:Mr.slice(e,qt),start:e,end:qt}}}return">>>="===(a=Mr.substr(qt,4))?{type:7,value:a,start:e,end:qt+=4}:">>>"===(o=a.substr(0,3))||"<<="===o||">>="===o?{type:7,value:o,start:e,end:qt+=3}:i===(s=o.substr(0,2))[1]&&"+-<>&|".includes(i)||"=>"===s?{type:7,value:s,start:e,end:qt+=2}:("//"===s&&Ps({},dl,Nl),"<>=!+-*%&|^/".includes(i)?{type:7,value:i,start:e,end:++qt}:void Ps({},dl,Nl))}function P0e(){var e,t,r;if(uB(N0((r=Mr[qt]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),t=qt,e="","."!==r){if(e=Mr[qt++],r=Mr[qt],"0"===e){if("x"===r||"X"===r)return++qt,function Urt(e){let t="";for(;qt<uu&&EH(Mr[qt]);)t+=Mr[qt++];return 0===t.length&&Ps({},dl,Nl),f9(Mr.charCodeAt(qt))&&Ps({},dl,Nl),{type:6,value:parseInt("0x"+t,16),start:e,end:qt}}(t);if(u9(r))return function Lrt(e){let t="0"+Mr[qt++];for(;qt<uu&&u9(Mr[qt]);)t+=Mr[qt++];return(f9(Mr.charCodeAt(qt))||N0(Mr.charCodeAt(qt)))&&Ps({},dl,Nl),{type:6,value:parseInt(t,8),octal:!0,start:e,end:qt}}(t);r&&N0(r.charCodeAt(0))&&Ps({},dl,Nl)}for(;N0(Mr.charCodeAt(qt));)e+=Mr[qt++];r=Mr[qt]}if("."===r){for(e+=Mr[qt++];N0(Mr.charCodeAt(qt));)e+=Mr[qt++];r=Mr[qt]}if("e"===r||"E"===r)if(e+=Mr[qt++],("+"===(r=Mr[qt])||"-"===r)&&(e+=Mr[qt++]),N0(Mr.charCodeAt(qt)))for(;N0(Mr.charCodeAt(qt));)e+=Mr[qt++];else Ps({},dl,Nl);return f9(Mr.charCodeAt(qt))&&Ps({},dl,Nl),{type:6,value:parseFloat(e),start:t,end:qt}}function U0e(){if(R0e(),qt>=uu)return{type:2,start:qt,end:qt};const e=Mr.charCodeAt(qt);return f9(e)?function Prt(){var e,t;return e=qt,t=92===Mr.charCodeAt(qt)?k0e():function krt(){var e,t;for(e=qt++;qt<uu;){if(92===(t=Mr.charCodeAt(qt)))return qt=e,k0e();if(!cB(t))break;++qt}return Mr.slice(e,qt)}(),{type:1===t.length?3:Ort.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:qt}}():40===e||41===e||59===e?BH():39===e||34===e?function Qrt(){var t,r,i,s,e="",o=!1;for(uB("'"===(t=Mr[qt])||'"'===t,"String literal must starts with a quote"),r=qt,++qt;qt<uu;){if((i=Mr[qt++])===t){t="";break}if("\\"===i)if((i=Mr[qt++])&&c9(i.charCodeAt(0)))"\r"===i&&"\n"===Mr[qt]&&++qt;else switch(i){case"u":case"x":"{"===Mr[qt]?(++qt,e+=Rrt()):e+=SH(i);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:u9(i)?(0!==(s="01234567".indexOf(i))&&(o=!0),qt<uu&&u9(Mr[qt])&&(o=!0,s=8*s+"01234567".indexOf(Mr[qt++]),"0123".includes(i)&&qt<uu&&u9(Mr[qt])&&(s=8*s+"01234567".indexOf(Mr[qt++]))),e+=String.fromCharCode(s)):e+=i}else{if(c9(i.charCodeAt(0)))break;e+=i}}return""!==t&&Ps({},dl,Nl),{type:8,value:e,octal:o,start:r,end:qt}}():46===e?N0(Mr.charCodeAt(qt+1))?P0e():BH():N0(e)?P0e():BH()}function mc(){const e=Zs;return qt=e.end,Zs=U0e(),qt=e.end,e}function L0e(){const e=qt;Zs=U0e(),qt=e}function Q0e(e,t,r){const i=new zA("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=r,i}function jrt(e,t){const r=new zA("CallExpression");return r.callee=e,r.arguments=t,r}function xH(e){const t=new zA(N0e);return t.name=e,t}function A9(e){const t=new zA("Literal");return t.value=e.value,t.raw=Mr.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function H0e(e,t,r){const i=new zA("MemberExpression");return i.computed="["===e,i.object=t,i.property=r,i.computed||(r.member=!0),i}function V0e(e,t,r){const i=new zA("Property");return i.key=t,i.value=r,i.kind=e,i}function Ps(e,t){var r,i=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,a)=>(uB(a<i.length,"Message reference must be in range"),i[a]));throw(r=new Error(s)).index=qt,r.description=s,r}function fB(e){2===e.type&&Ps(e,"Unexpected end of input"),6===e.type&&Ps(e,"Unexpected number"),8===e.type&&Ps(e,"Unexpected string"),3===e.type&&Ps(e,"Unexpected identifier"),4===e.type&&Ps(e,"Unexpected reserved word"),Ps(e,dl,e.value)}function cu(e){const t=mc();(7!==t.type||t.value!==e)&&fB(t)}function Io(e){return 7===Zs.type&&Zs.value===e}function DH(e){return 4===Zs.type&&Zs.value===e}function $0e(){qt=Zs.start;const e=mc();return 8===e.type||6===e.type?(e.octal&&Ps(e,O0e),A9(e)):xH(e.value)}function Jrt(){var e,t,r;return qt=Zs.start,3===(e=Zs).type?(r=$0e(),cu(":"),V0e("init",r,Qm())):2!==e.type&&7!==e.type?(t=$0e(),cu(":"),V0e("init",t,Qm())):void fB(e)}const tit={if:1};function nit(){var e,t,r;if(Io("("))return function eit(){cu("(");const e=FH();return cu(")"),e}();if(Io("["))return function Xrt(){const e=[];for(qt=Zs.start,cu("[");!Io("]");)Io(",")?(mc(),e.push(null)):(e.push(Qm()),Io("]")||cu(","));return mc(),function qrt(e){const t=new zA("ArrayExpression");return t.elements=e,t}(e)}();if(Io("{"))return function Zrt(){var t,i,e=[],s={},o=String;for(qt=Zs.start,cu("{");!Io("}");)i="$"+((t=Jrt()).key.type===N0e?t.key.name:o(t.key.value)),Object.prototype.hasOwnProperty.call(s,i)?Ps({},"Duplicate data property in object literal not allowed in strict mode"):s[i]=!0,e.push(t),Io("}")||cu(",");return cu("}"),function Wrt(e){const t=new zA("ObjectExpression");return t.properties=e,t}(e)}();if(qt=Zs.start,3===(e=Zs.type)||tit[Zs.value])r=xH(mc().value);else if(8===e||6===e)Zs.octal&&Ps(Zs,O0e),r=A9(mc());else{if(4===e)throw new Error(l9);1===e?((t=mc()).value="true"===t.value,r=A9(t)):5===e?((t=mc()).value=null,r=A9(t)):Io("/")||Io("/=")?(r=A9(function Grt(){var e,t,r,i;return Zs=null,R0e(),e=qt,t=function Vrt(){var e,t,r,i;for(uB("/"===(e=Mr[qt]),"Regular expression literal must start with a slash"),t=Mr[qt++],r=!1,i=!1;qt<uu;)if(t+=e=Mr[qt++],"\\"===e)c9((e=Mr[qt++]).charCodeAt(0))&&Ps({},CH),t+=e;else if(c9(e.charCodeAt(0)))Ps({},CH);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||Ps({},CH),{value:t.substr(1,t.length-2),literal:t}}(),r=function $rt(){var e,t,r;for(t="",r="";qt<uu&&cB((e=Mr[qt]).charCodeAt(0));)++qt,"\\"===e&&qt<uu?Ps({},dl,Nl):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&Ps({},bH,r),{value:r,literal:t}}(),i=function Hrt(e,t){let r=e;t.includes("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,s)=>{if(parseInt(s,16)<=1114111)return"x";Ps({},bH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch{Ps({},bH)}try{return new RegExp(e,t)}catch{return null}}(t.value,r.value),{literal:t.literal+r.literal,value:i,regex:{pattern:t.value,flags:r.value},start:e,end:qt}}()),L0e()):fB(mc())}return r}function rit(){const e=[];if(cu("("),!Io(")"))for(;qt<uu&&(e.push(Qm()),!Io(")"));)cu(",");return cu(")"),e}function oit(){cu("[");const e=FH();return cu("]"),e}function G0e(){const e=function ait(){var e;for(e=nit();;)if(Io("."))e=H0e(".",e,(cu("."),function iit(){qt=Zs.start;const e=mc();return function zrt(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||fB(e),xH(e.value)}()));else if(Io("("))e=jrt(e,rit());else{if(!Io("["))break;e=H0e("[",e,oit())}return e}();if(7===Zs.type&&(Io("++")||Io("--")))throw new Error(l9);return e}function AB(){var e,t;if(7!==Zs.type&&4!==Zs.type)t=G0e();else{if(Io("++")||Io("--"))throw new Error(l9);if(Io("+")||Io("-")||Io("~")||Io("!"))e=mc(),t=AB(),t=function Yrt(e,t){const r=new zA("UnaryExpression");return r.operator=e,r.argument=t,r.prefix=!0,r}(e.value,t);else{if(DH("delete")||DH("void")||DH("typeof"))throw new Error(l9);t=G0e()}}return t}function z0e(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Qm(){var e,t;return e=function lit(){var e,t,r,i,s,o,a,l,u,c;if(e=Zs,u=AB(),0===(s=z0e(i=Zs)))return u;for(i.prec=s,mc(),t=[e,Zs],o=[u,i,a=AB()];(s=z0e(Zs))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)a=o.pop(),l=o.pop().value,u=o.pop(),t.pop(),r=Q0e(l,u,a),o.push(r);(i=mc()).prec=s,o.push(i),t.push(Zs),r=AB(),o.push(r)}for(r=o[c=o.length-1],t.pop();c>1;)t.pop(),r=Q0e(o[c-1].value,o[c-2],r),c-=2;return r}(),Io("?")&&(mc(),t=Qm(),cu(":"),e=function Krt(e,t,r){const i=new zA("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=r,i}(e,t,Qm())),e}function FH(){const e=Qm();if(Io(","))throw new Error(l9);return e}function q0e(e){qt=0,uu=(Mr=e).length,Zs=null,L0e();const t=FH();if(2!==Zs.type)throw new Error("Unexpect token after expression.");return t}var j0e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function K0e(e){function r(a,l,u){return c=>function t(a,l,u,c){let f=e(l[0]);return u&&(f=u+"("+f+")",0===u.lastIndexOf("new ",0)&&(f="("+f+")")),f+"."+a+(c<0?"":0===c?"()":"("+l.slice(1).map(e).join(",")+")")}(a,c,l,u)}const i="new Date",s="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&Yt("Missing arguments to clamp function."),a.length>3&&Yt("Too many arguments to clamp function.");const l=a.map(e);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:r("getDate",i,0),day:r("getDay",i,0),year:r("getFullYear",i,0),month:r("getMonth",i,0),hours:r("getHours",i,0),minutes:r("getMinutes",i,0),seconds:r("getSeconds",i,0),milliseconds:r("getMilliseconds",i,0),time:r("getTime",i,0),timezoneoffset:r("getTimezoneOffset",i,0),utcdate:r("getUTCDate",i,0),utcday:r("getUTCDay",i,0),utcyear:r("getUTCFullYear",i,0),utcmonth:r("getUTCMonth",i,0),utchours:r("getUTCHours",i,0),utcminutes:r("getUTCMinutes",i,0),utcseconds:r("getUTCSeconds",i,0),utcmilliseconds:r("getUTCMilliseconds",i,0),length:r("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:r("toUpperCase",s,0),lower:r("toLowerCase",s,0),substring:r("substring",s),split:r("split",s),trim:r("trim",s,0),btoa:"btoa",atob:"atob",regexp:o,test:r("test",o),if:function(a){a.length<3&&Yt("Missing arguments to if function."),a.length>3&&Yt("Too many arguments to if function.");const l=a.map(e);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}function W0e(e){const t=(e=e||{}).allowed?DA(e.allowed):{},r=e.forbidden?DA(e.forbidden):{},i=e.constants||j0e,s=(e.functions||K0e)(A),o=e.globalvar,a=e.fieldvar,l=Ni(o)?o:g=>`${o}["${g}"]`;let u={},c={},f=0;function A(g){if(or(g))return g;const m=d[g.type];return null==m&&Yt("Unsupported type: "+g.type),m(g)}const d={Literal:g=>g.raw,Identifier:g=>{const m=g.name;return f>0?m:pr(r,m)?Yt("Illegal identifier: "+m):pr(i,m)?i[m]:pr(t,m)?m:(u[m]=1,l(m))},MemberExpression:g=>{const m=!g.computed,v=A(g.object);m&&(f+=1);const _=A(g.property);return v===a&&(c[function uit(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(_)]=1),m&&(f-=1),v+(m?"."+_:"["+_+"]")},CallExpression:g=>{"Identifier"!==g.callee.type&&Yt("Illegal callee type: "+g.callee.type);const m=g.callee.name,v=g.arguments,_=pr(s,m)&&s[m];return _||Yt("Unrecognized function: "+m),Ni(_)?_(v):_+"("+v.map(A).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(A).join(",")+"]",BinaryExpression:g=>"("+A(g.left)+" "+g.operator+" "+A(g.right)+")",UnaryExpression:g=>"("+g.operator+A(g.argument)+")",ConditionalExpression:g=>"("+A(g.test)+"?"+A(g.consequent)+":"+A(g.alternate)+")",LogicalExpression:g=>"("+A(g.left)+g.operator+A(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(A).join(",")+"}",Property:g=>{f+=1;const m=A(g.key);return f-=1,m+":"+A(g.value)}};function h(g){const m={code:A(g),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},m}return h.functions=s,h.constants=i,h}class gh{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const o=r[s],a=t+o,l=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);l&&(r[i++]=l),t=a}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let i,s,o,r=this._n,a=0;if(r>0){for(a=t[--r];r>0&&(i=a,s=t[--r],a=i+s,o=s-(a-i),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(s=2*o,i=a+s,s==i-a&&(a=i))}return a}}var dB=1e-6,x4=Math.PI,X0e=x4/2,J0e=x4/4,Z0e=2*x4,d9=180/x4,fu=x4/180,MH=Math.abs,hB=(Math,Math.atan2),Vu=Math.cos,TH=(Math,Math,Math,Math.hypot),Au=(Math,Math,Math.sin),epe=(Math,Math.sqrt);function IH(e){return e>1?X0e:e<-1?-X0e:Math.asin(e)}function h9(){}function pB(e,t){e&&npe.hasOwnProperty(e.type)&&npe[e.type](e,t)}Math;var tpe={Feature:function(e,t){pB(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,s=r.length;++i<s;)pB(r[i].geometry,t)}},npe={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)t.point((e=r[i])[0],e[1],e[2])},LineString:function(e,t){NH(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)NH(r[i],t,0)},Polygon:function(e,t){rpe(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,s=r.length;++i<s;)rpe(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,s=r.length;++i<s;)pB(r[i],t)}};function NH(e,t,r){var o,i=-1,s=e.length-r;for(t.lineStart();++i<s;)t.point((o=e[i])[0],o[1],o[2]);t.lineEnd()}function rpe(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)NH(e[r],t,1);t.polygonEnd()}function OH(e,t){e&&tpe.hasOwnProperty(e.type)?tpe[e.type](e,t):pB(e,t)}var ipe,spe,RH,kH,PH,gB=new gh,mB=new gh,mh={point:h9,lineStart:h9,lineEnd:h9,polygonStart:function(){gB=new gh,mh.lineStart=cit,mh.lineEnd=fit},polygonEnd:function(){var e=+gB;mB.add(e<0?Z0e+e:e),this.lineStart=this.lineEnd=this.point=h9},sphere:function(){mB.add(Z0e)}};function cit(){mh.point=Ait}function fit(){ope(ipe,spe)}function Ait(e,t){mh.point=ope,ipe=e,spe=t,RH=e*=fu,kH=Vu(t=(t*=fu)/2+J0e),PH=Au(t)}function ope(e,t){var r=(e*=fu)-RH,i=r>=0?1:-1,s=i*r,o=Vu(t=(t*=fu)/2+J0e),a=Au(t),l=PH*a,u=kH*o+l*Vu(s),c=l*i*Au(s);gB.add(hB(c,u)),RH=e,kH=o,PH=a}function ape(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}var na,vc,ha,Zc,Hm,lpe,upe,D4,p9,k1,O0,R0={point:UH,lineStart:fpe,lineEnd:Ape,polygonStart:function(){R0.point=dpe,R0.lineStart=mit,R0.lineEnd=vit,p9=new gh,mh.polygonStart()},polygonEnd:function(){mh.polygonEnd(),R0.point=UH,R0.lineStart=fpe,R0.lineEnd=Ape,gB<0?(na=-(ha=180),vc=-(Zc=90)):p9>dB?Zc=90:p9<-dB&&(vc=-90),O0[0]=na,O0[1]=ha},sphere:function(){na=-(ha=180),vc=-(Zc=90)}};function UH(e,t){k1.push(O0=[na=e,ha=e]),t<vc&&(vc=t),t>Zc&&(Zc=t)}function cpe(e,t){var r=function pit(e){var t=e[0],r=e[1],i=Vu(r);return[i*Vu(t),i*Au(t),Au(r)]}([e*fu,t*fu]);if(D4){var i=ape(D4,r),o=ape([i[1],-i[0],0],i);(function git(e){var t=epe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t})(o),o=function hit(e){return[hB(e[1],e[0]),IH(e[2])]}(o);var c,a=e-Hm,l=a>0?1:-1,u=o[0]*d9*l,f=MH(a)>180;f^(l*Hm<u&&u<l*e)?(c=o[1]*d9)>Zc&&(Zc=c):f^(l*Hm<(u=(u+360)%360-180)&&u<l*e)?(c=-o[1]*d9)<vc&&(vc=c):(t<vc&&(vc=t),t>Zc&&(Zc=t)),f?e<Hm?ef(na,e)>ef(na,ha)&&(ha=e):ef(e,ha)>ef(na,ha)&&(na=e):ha>=na?(e<na&&(na=e),e>ha&&(ha=e)):e>Hm?ef(na,e)>ef(na,ha)&&(ha=e):ef(e,ha)>ef(na,ha)&&(na=e)}else k1.push(O0=[na=e,ha=e]);t<vc&&(vc=t),t>Zc&&(Zc=t),D4=r,Hm=e}function fpe(){R0.point=cpe}function Ape(){O0[0]=na,O0[1]=ha,R0.point=UH,D4=null}function dpe(e,t){if(D4){var r=e-Hm;p9.add(MH(r)>180?r+(r>0?360:-360):r)}else lpe=e,upe=t;mh.point(e,t),cpe(e,t)}function mit(){mh.lineStart()}function vit(){dpe(lpe,upe),mh.lineEnd(),MH(p9)>dB&&(na=-(ha=180)),O0[0]=na,O0[1]=ha,D4=null}function ef(e,t){return(t-=e)<0?t+360:t}function _it(e,t){return e[0]-t[0]}function hpe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var g9,vB,_B,yB,wB,bB,CB,EB,LH,QH,HH,ppe,gpe,$u,Gu,zu,qA={sphere:h9,point:VH,lineStart:mpe,lineEnd:vpe,polygonStart:function(){qA.lineStart=Cit,qA.lineEnd=Eit},polygonEnd:function(){qA.lineStart=mpe,qA.lineEnd=vpe}};function VH(e,t){e*=fu;var r=Vu(t*=fu);m9(r*Vu(e),r*Au(e),Au(t))}function m9(e,t,r){++g9,_B+=(e-_B)/g9,yB+=(t-yB)/g9,wB+=(r-wB)/g9}function mpe(){qA.point=wit}function wit(e,t){e*=fu;var r=Vu(t*=fu);$u=r*Vu(e),Gu=r*Au(e),zu=Au(t),qA.point=bit,m9($u,Gu,zu)}function bit(e,t){e*=fu;var r=Vu(t*=fu),i=r*Vu(e),s=r*Au(e),o=Au(t),a=hB(epe((a=Gu*o-zu*s)*a+(a=zu*i-$u*o)*a+(a=$u*s-Gu*i)*a),$u*i+Gu*s+zu*o);vB+=a,bB+=a*($u+($u=i)),CB+=a*(Gu+(Gu=s)),EB+=a*(zu+(zu=o)),m9($u,Gu,zu)}function vpe(){qA.point=VH}function Cit(){qA.point=Sit}function Eit(){_pe(ppe,gpe),qA.point=VH}function Sit(e,t){ppe=e,gpe=t,e*=fu,t*=fu,qA.point=_pe;var r=Vu(t);$u=r*Vu(e),Gu=r*Au(e),zu=Au(t),m9($u,Gu,zu)}function _pe(e,t){e*=fu;var r=Vu(t*=fu),i=r*Vu(e),s=r*Au(e),o=Au(t),a=Gu*o-zu*s,l=zu*i-$u*o,u=$u*s-Gu*i,c=TH(a,l,u),f=IH(c),A=c&&-f/c;LH.add(A*a),QH.add(A*l),HH.add(A*u),vB+=f,bB+=f*($u+($u=i)),CB+=f*(Gu+(Gu=s)),EB+=f*(zu+(zu=o)),m9($u,Gu,zu)}function v9(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SB(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Vm(){}var BB=1/.7,F4="\\s*([+-]?\\d+)\\s*",y9="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xit=/^#([0-9a-f]{3,8})$/,Dit=new RegExp(`^rgb\\(${F4},${F4},${F4}\\)$`),Fit=new RegExp(`^rgb\\(${vh},${vh},${vh}\\)$`),Mit=new RegExp(`^rgba\\(${F4},${F4},${F4},${y9}\\)$`),Tit=new RegExp(`^rgba\\(${vh},${vh},${vh},${y9}\\)$`),Iit=new RegExp(`^hsl\\(${y9},${vh},${vh}\\)$`),Nit=new RegExp(`^hsla\\(${y9},${vh},${vh},${y9}\\)$`),ype={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wpe(){return this.rgb().formatHex()}function bpe(){return this.rgb().formatRgb()}function $H(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xit.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Cpe(t):3===r?new du(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?xB(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?xB(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Dit.exec(e))?new du(t[1],t[2],t[3],1):(t=Fit.exec(e))?new du(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Mit.exec(e))?xB(t[1],t[2],t[3],t[4]):(t=Tit.exec(e))?xB(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Iit.exec(e))?xpe(t[1],t[2]/100,t[3]/100,1):(t=Nit.exec(e))?xpe(t[1],t[2]/100,t[3]/100,t[4]):ype.hasOwnProperty(e)?Cpe(ype[e]):"transparent"===e?new du(NaN,NaN,NaN,0):null}function Cpe(e){return new du(e>>16&255,e>>8&255,255&e,1)}function xB(e,t,r,i){return i<=0&&(e=t=r=NaN),new du(e,t,r,i)}function Epe(e){return e instanceof Vm||(e=$H(e)),e?new du((e=e.rgb()).r,e.g,e.b,e.opacity):new du}function GH(e,t,r,i){return 1===arguments.length?Epe(e):new du(e,t,r,i??1)}function du(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function Spe(){return`#${Gm(this.r)}${Gm(this.g)}${Gm(this.b)}`}function Bpe(){const e=DB(this.opacity);return`${1===e?"rgb(":"rgba("}${$m(this.r)}, ${$m(this.g)}, ${$m(this.b)}${1===e?")":`, ${e})`}`}function DB(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $m(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gm(e){return((e=$m(e))<16?"0":"")+e.toString(16)}function xpe(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jA(e,t,r,i)}function Dpe(e){if(e instanceof jA)return new jA(e.h,e.s,e.l,e.opacity);if(e instanceof Vm||(e=$H(e)),!e)return new jA;if(e instanceof jA)return e;var t=(e=e.rgb()).r/255,r=e.g/255,i=e.b/255,s=Math.min(t,r,i),o=Math.max(t,r,i),a=NaN,l=o-s,u=(o+s)/2;return l?(a=t===o?(r-i)/l+6*(r<i):r===o?(i-t)/l+2:(t-r)/l+4,l/=u<.5?o+s:2-o-s,a*=60):l=u>0&&u<1?0:a,new jA(a,l,u,e.opacity)}function Fpe(e,t,r,i){return 1===arguments.length?Dpe(e):new jA(e,t,r,i??1)}function jA(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function Mpe(e){return(e=(e||0)%360)<0?e+360:e}function FB(e){return Math.max(0,Math.min(1,e||0))}function zH(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}v9(Vm,$H,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wpe,formatHex:wpe,formatHex8:function Oit(){return this.rgb().formatHex8()},formatHsl:function Rit(){return Dpe(this).formatHsl()},formatRgb:bpe,toString:bpe}),v9(du,GH,SB(Vm,{brighter(e){return e=null==e?BB:Math.pow(BB,e),new du(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new du(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new du($m(this.r),$m(this.g),$m(this.b),DB(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Spe,formatHex:Spe,formatHex8:function kit(){return`#${Gm(this.r)}${Gm(this.g)}${Gm(this.b)}${Gm(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bpe,toString:Bpe})),v9(jA,Fpe,SB(Vm,{brighter(e){return e=null==e?BB:Math.pow(BB,e),new jA(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new jA(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,s=2*r-i;return new du(zH(e>=240?e-240:e+120,s,i),zH(e,s,i),zH(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new jA(Mpe(this.h),FB(this.s),FB(this.l),DB(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=DB(this.opacity);return`${1===e?"hsl(":"hsla("}${Mpe(this.h)}, ${100*FB(this.s)}%, ${100*FB(this.l)}%${1===e?")":`, ${e})`}`}}));const Pit=Math.PI/180,Uit=180/Math.PI,Ope=4/29,M4=6/29,Rpe=3*M4*M4;function kpe(e){if(e instanceof KA)return new KA(e.l,e.a,e.b,e.opacity);if(e instanceof _h)return Qpe(e);e instanceof du||(e=Epe(e));var o,a,t=WH(e.r),r=WH(e.g),i=WH(e.b),s=qH((.2225045*t+.7168786*r+.0606169*i)/1);return t===r&&r===i?o=a=s:(o=qH((.4360747*t+.3850649*r+.1430804*i)/.96422),a=qH((.0139322*t+.0971045*r+.7141733*i)/.82521)),new KA(116*s-16,500*(o-s),200*(s-a),e.opacity)}function Ppe(e,t,r,i){return 1===arguments.length?kpe(e):new KA(e,t,r,i??1)}function KA(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}function qH(e){return e>.008856451679035631?Math.pow(e,1/3):e/Rpe+Ope}function jH(e){return e>M4?e*e*e:Rpe*(e-Ope)}function KH(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function WH(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Upe(e){if(e instanceof _h)return new _h(e.h,e.c,e.l,e.opacity);if(e instanceof KA||(e=kpe(e)),0===e.a&&0===e.b)return new _h(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Uit;return new _h(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Lpe(e,t,r,i){return 1===arguments.length?Upe(e):new _h(e,t,r,i??1)}function _h(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function Qpe(e){if(isNaN(e.h))return new KA(e.l,0,0,e.opacity);var t=e.h*Pit;return new KA(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function YH(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qit(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vit(){return 0}function zit(e){return e instanceof nE?e:new nE(e)}v9(KA,Ppe,SB(Vm,{brighter(e){return new KA(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new KA(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new du(KH(3.1338561*(t=.96422*jH(t))-1.6168667*(e=1*jH(e))-.4906146*(r=.82521*jH(r))),KH(-.9787684*t+1.9161415*e+.033454*r),KH(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),v9(_h,Lpe,SB(Vm,{brighter(e){return new _h(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new _h(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return Qpe(this).rgb()}}));const Hpe=Symbol("vega_selection_getter");function Vpe(e){return(!e.getter||!e.getter[Hpe])&&(e.getter=Of(e.field),e.getter[Hpe]=!0),e.getter}const XH="intersect",yh="_vgsid_",w9=Of(yh),TB="index:unit";function zpe(e,t){for(var a,l,r=t.fields,i=t.values,s=r.length,o=0;o<s;++o)if(e1(a=Vpe(l=r[o])(e))&&(a=eu(a)),e1(i[o])&&(i[o]=eu(i[o])),Zt(i[o])&&e1(i[o][0])&&(i[o]=i[o].map(eu)),"E"===l.type){if(Zt(i[o])?!i[o].includes(a):a!==i[o])return!1}else if("R"===l.type){if(!D3(a,i[o]))return!1}else if("R-RE"===l.type){if(!D3(a,i[o],!0,!1))return!1}else if("R-E"===l.type){if(!D3(a,i[o],!1,!1))return!1}else if("R-LE"===l.type){if(!D3(a,i[o],!1,!0))return!1}else if("E-LT"===l.type){if(a>=i[o])return!1}else if("E-LTE"===l.type){if(a>i[o])return!1}else if("E-GT"===l.type){if(a<=i[o])return!1}else if("E-GTE"===l.type){if(a<i[o])return!1}else if("E-VALID"===l.type){if(null===a||isNaN(a))return!1}else if("E-ONE"===l.type&&-1===i[o].indexOf(a))return!1;return!0}const qpe=function Hit(e){let t,r,i;function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<0?c=A+1:f=A}while(c<f)}return c}return 2!==e.length?(t=YH,r=(l,u)=>YH(e(l),u),i=(l,u)=>e(l)-u):(t=e===YH||e===Qit?e:Vit,r=e,i=e),{left:s,center:function a(l,u,c=0,f=l.length){const A=s(l,u,c,f-1);return A>c&&i(l[A-1],u)>-i(l[A],u)?A-1:A},right:function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const A=c+f>>>1;r(l[A],u)<=0?c=A+1:f=A}while(c<f)}return c}}}(w9),ast=qpe.left,lst=qpe.right;var JH={[`${yh}_union`]:function $it(...e){const t=new nE;for(const r of e)for(const i of r)t.add(i);return t},[`${yh}_intersect`]:function Git(e,...t){e=new nE(e),t=t.map(zit);e:for(const r of e)for(const i of t)if(!i.has(r)){e.delete(r);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var r=0,i=t.length;r<i;++r)e.includes(t[r])||e.push(t[r]);return e},E_intersect:function(e,t){return e.length?e.filter(r=>t.includes(r)):t},R_union:function(e,t){var r=eu(t[0]),i=eu(t[1]);return r>i&&(r=t[1],i=t[0]),e.length?(e[0]>r&&(e[0]=r),e[1]<i&&(e[1]=i),e):[r,i]},R_intersect:function(e,t){var r=eu(t[0]),i=eu(t[1]);return r>i&&(r=t[1],i=t[0]),e.length?i<e[0]||e[1]<r?[]:(e[0]<r&&(e[0]=r),e[1]>i&&(e[1]=i),e):[r,i]}};function ZH(e,t,r,i){t[0].type!==Pm&&Yt("First argument to selection functions must be a string literal.");const s=t[0].value,a="unit",l="@"+a,u=":"+s;(t.length>=2&&ds(t).value)===XH&&!pr(i,l)&&(i[l]=r.getData(s).indataRef(r,a)),pr(i,u)||(i[u]=r.getData(s).tuplesRef())}function jpe(e){const t=this.context.data[e];return t?t.values.value:[]}const b9=e=>function(t,r){const i=this.context.dataflow.locale();return null===t?"null":i[e](r)(t)},vst=b9("format"),Kpe=b9("timeFormat"),_st=b9("utcFormat"),yst=b9("timeParse"),wst=b9("utcParse"),IB=new Date(2e3,0,1);function NB(e,t,r){return Number.isInteger(e)&&Number.isInteger(t)?(IB.setYear(2e3),IB.setMonth(e),IB.setDate(t),Kpe.call(this,IB,r)):""}function tV(e,t,r,i){t[0].type!==Pm&&Yt("First argument to data functions must be a string literal.");const s=t[0].value,o=":"+s;if(!pr(o,i))try{i[o]=r.getData(s).tuplesRef()}catch{}}function qu(e,t,r,i){if(t[0].type===Pm)Ype(r,i,t[0].value);else for(e in r.scales)Ype(r,i,e)}function Ype(e,t,r){const i="%"+r;if(!pr(t,i))try{t[i]=e.scaleRef(r)}catch{}}function wh(e,t){if(or(e)){const r=t.scales[e];return r&&kue(r.value)?r.value:void 0}if(Ni(e))return kue(e)?e:void 0}function nV(e,t){return function(r,i,s){if(r){const o=wh(r,(s||this).context);return o&&o.path[e](i)}return t(i)}}const Mst=nV("area",function dit(e){return mB=new gh,OH(e,mh),2*mB}),Tst=nV("bounds",function yit(e){var t,r,i,s,o,a,l;if(Zc=ha=-(na=vc=1/0),k1=[],OH(e,R0),r=k1.length){for(k1.sort(_it),t=1,o=[i=k1[0]];t<r;++t)hpe(i,(s=k1[t])[0])||hpe(i,s[1])?(ef(i[0],s[1])>ef(i[0],i[1])&&(i[1]=s[1]),ef(s[0],i[1])>ef(i[0],i[1])&&(i[0]=s[0])):o.push(i=s);for(a=-1/0,t=0,i=o[r=o.length-1];t<=r;i=s,++t)(l=ef(i[1],(s=o[t])[0]))>a&&(a=l,na=s[0],ha=i[1])}return k1=O0=null,na===1/0||vc===1/0?[[NaN,NaN],[NaN,NaN]]:[[na,vc],[ha,Zc]]}),Ist=nV("centroid",function Bit(e){g9=vB=_B=yB=wB=bB=CB=EB=0,LH=new gh,QH=new gh,HH=new gh,OH(e,qA);var t=+LH,r=+QH,i=+HH,s=TH(t,r,i);return s<1e-12&&(t=bB,r=CB,i=EB,vB<dB&&(t=_B,r=yB,i=wB),(s=TH(t,r,i))<1e-12)?[NaN,NaN]:[hB(r,t)*d9,IH(i/s)*d9]});function rV(e,t,r){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(r)))}catch(i){e.warn(i)}return r[r.length-1]}function iV(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sV(e){const t=GH(e);return.2126*iV(t.r)+.7152*iV(t.g)+.0722*iV(t.b)}function Xpe(e,t){return e===t||e!=e&&t!=t||(Zt(e)?!(!Zt(t)||e.length!==t.length)&&function Qst(e,t){for(let r=0,i=e.length;r<i;++r)if(!Xpe(e[r],t[r]))return!1;return!0}(e,t):!(!sr(e)||!sr(t))&&Jpe(e,t))}function Jpe(e,t){for(const r in e)if(!Xpe(e[r],t[r]))return!1;return!0}function Zpe(e){return t=>Jpe(e,t)}const e1e={};function OB(e){return Zt(e)||ArrayBuffer.isView(e)?e:null}function oV(e){return OB(e)||(or(e)?e:null)}const t1e=e=>e.data;function n1e(e,t){const r=jpe.call(t,e);return r.root&&r.root.lookup||{}}const r1e=()=>"undefined"!=typeof window&&window||null;function i1e(e,t,r){if(!e)return[];const[i,s]=e,o=(new Ia).set(i[0],i[1],s[0],s[1]);return Sfe(r||this.context.dataflow.scenegraph().root,o,function dot(e){let t=null;if(e){const r=ar(e.marktype),i=ar(e.markname);t=s=>(!r.length||r.some(o=>s.marktype===o))&&(!i.length||i.some(o=>s.name===o))}return t}(t))}const C9={random:()=>Qf(),cumulativeNormal:FC,cumulativeLogNormal:fk,cumulativeUniform:pk,densityNormal:ok,densityLogNormal:ck,densityUniform:hk,quantileNormal:MC,quantileLogNormal:Ak,quantileUniform:gk,sampleNormal:DC,sampleLogNormal:uk,sampleUniform:dk,isArray:Zt,isBoolean:Zp,isDate:e1,isDefined:e=>void 0!==e,isNumber:Ns,isObject:sr,isRegExp:ZO,isString:or,isTuple:_C,isValid:e=>null!=e&&e==e,toBoolean:tR,toDate:e=>nR(e),toNumber:eu,toString:rR,indexof:function qst(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oV(e).indexOf(...r)},join:function zst(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return OB(e).join(...r)},lastindexof:function jst(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oV(e).lastIndexOf(...r)},replace:function Wst(e,t,r){return Ni(r)&&Yt("Function argument passed to replace."),!or(t)&&!ZO(t)&&Yt("Please pass a string or RegExp argument to replace."),String(e).replace(t,r)},reverse:function Yst(e){return OB(e).slice().reverse()},sort:function Xst(e){return OB(e).slice().sort(B3)},slice:function Kst(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return oV(e).slice(...r)},flush:Oie,lerp:kie,merge:function Lst(){const e=[].slice.call(arguments);return e.unshift({}),Oi(...e)},pad:Lie,peek:ds,pluck:function Gst(e,t){const r=e1e[t]||(e1e[t]=Of(t));return Zt(e)?e.map(r):r(e)},span:m6,inrange:D3,truncate:Qie,rgb:GH,lab:Ppe,hcl:Lpe,hsl:Fpe,luminance:sV,contrast:function Ust(e,t){const r=sV(e),i=sV(t);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)},sequence:function hst(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var i=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(s);++i<s;)o[i]=e+i*r;return o},format:vst,utcFormat:_st,utcParse:wst,utcOffset:_se,utcSequence:bse,timeFormat:Kpe,timeParse:yst,timeOffset:vse,timeSequence:wse,timeUnitSpecifier:ase,monthFormat:function bst(e){return NB.call(this,e,1,"%B")},monthAbbrevFormat:function Cst(e){return NB.call(this,e,1,"%b")},dayFormat:function Est(e){return NB.call(this,0,2+e,"%A")},dayAbbrevFormat:function Sst(e){return NB.call(this,0,2+e,"%a")},quarter:Mie,utcquarter:Tie,week:use,utcweek:Ase,dayofyear:lse,utcdayofyear:fse,warn:function Rst(){return rV(this.context.dataflow,"warn",arguments)},info:function kst(){return rV(this.context.dataflow,"info",arguments)},debug:function Pst(){return rV(this.context.dataflow,"debug",arguments)},extent:e=>Xd(e),inScope:function Ost(e){const t=this.context.group;let r=!1;if(t)for(;e;){if(e===t){r=!0;break}e=e.mark.group}return r},intersect:i1e,clampRange:Iie,pinchDistance:function Vst(e){const t=e.touches;return Math.hypot(t[0].clientX-t[1].clientX,t[0].clientY-t[1].clientY)},pinchAngle:function $st(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function cot(){const e=r1e();return e?e.screen:{}},containerSize:function Aot(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function fot(){const e=r1e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function Jst(e,t,r){return LP(e||0,t||0,r||0)},setdata:function gst(e,t){const r=this.context.dataflow;return r.pulse(this.context.data[e].input,r.changeset().remove(Rf).insert(t)),1},pathShape:function aot(e){let t=null;return function(r){return r?l_(r,t=t||W3(e)):e}},panLinear:Bie,panLog:xie,panPow:Die,panSymlog:Fie,zoomLinear:KO,zoomLog:WO,zoomPow:oC,zoomSymlog:YO,encode:function mst(e,t,r){if(e){const i=this.context.dataflow;i.pulse(e.mark.source,i.changeset().encode(e,t))}return void 0!==r?r:e},modify:function Hst(e,t,r,i,s,o){const a=this.context.dataflow,l=this.context.data[e],u=l.input,c=a.stamp();let A,d,f=l.changes;if(!1===a._trigger||!(u.value.length||t||i))return 0;if((!f||f.stamp<c)&&(l.changes=f=a.changeset(),f.stamp=c,a.runAfter(()=>{l.modified=!0,a.pulse(u,f).run()},!0,1)),r&&(A=!0===r?Rf:Zt(r)||_C(r)?r:Zpe(r),f.remove(A)),t&&f.insert(t),i&&(A=Zpe(i),u.value.some(A)?f.remove(A):f.insert(i)),s)for(d in o)f.modify(s,d,o[d]);return 1},lassoAppend:function hot(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const s=(e=ar(e))[e.length-1];return void 0===s||Math.hypot(s[0]-t,s[1]-r)>i?[...e,[t,r]]:e},lassoPath:function pot(e){return ar(e).reduce((t,r,i)=>{let[s,o]=r;return t+(0==i?`M ${s},${o} `:i===e.length-1?" Z":`L ${s},${o} `)},"")},intersectLasso:function got(e,t,r){const{x:i,y:s,mark:o}=r,a=(new Ia).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,c]of t)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),c<a.y1&&(a.y1=c),c>a.y2&&(a.y2=c);return a.translate(i,s),i1e([[a.x1,a.y1],[a.x2,a.y2]],e,o).filter(u=>function mot(e,t,r){let i=0;for(let s=0,o=r.length-1;s<r.length;o=s++){const[a,l]=r[o],[u,c]=r[s];c>t!=l>t&&e<(a-u)*(t-c)/(l-c)+u&&i++}return 1&i}(u.x,u.y,t))}},vot=["view","item","group","xy","x","y"],aV={},o1e={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Un("$"+e)}]`,functions:function yot(e){const t=K0e(e);vot.forEach(r=>t[r]="event.vega."+r);for(const r in C9)t[r]="this."+r;return Oi(t,function Fst(e,t,r){t.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,r._bandwidth=qu,r._range=qu,r._scale=qu;const i=s=>"_["+(s.type===Pm?Un("%"+s.value):Un("%")+"+"+e(s))+"]";return{_bandwidth:s=>`this.__bandwidth(${i(s[0])})`,_range:s=>`${i(s[0])}.range()`,_scale:s=>`${i(s[0])}(${e(s[1])})`}}(e,C9,aV)),t},constants:j0e,visitors:aV},lV=W0e(o1e);function ba(e,t,r){return 1===arguments.length?C9[e]:(C9[e]=t,r&&(aV[e]=r),lV&&(lV.functions[e]="this."+e),this)}function bh(e,t){const r={};let i;try{i=q0e(e=or(e)?e:Un(e)+"")}catch{Yt("Expression parse error: "+e)}i.visit(o=>{if(o.type!==I0e)return;const a=o.callee.name,l=o1e.visitors[a];l&&l(a,o.arguments,t,r)});const s=lV(i);return s.globals.forEach(o=>{const a="$"+o;!pr(r,a)&&t.getSignal(o)&&(r[a]=t.signalRef(o))}),{$expr:Oi({code:s.code},t.options.ast?{ast:i}:null),$fields:s.fields,$params:r}}ba("bandwidth",function Zst(e,t){const r=wh(e,(t||this).context);return r&&r.bandwidth?r.bandwidth():0},qu),ba("copy",function eot(e,t){const r=wh(e,(t||this).context);return r?r.copy():void 0},qu),ba("domain",function tot(e,t){const r=wh(e,(t||this).context);return r?r.domain():[]},qu),ba("range",function rot(e,t){const r=wh(e,(t||this).context);return r&&r.range?r.range():[]},qu),ba("invert",function not(e,t,r){const i=wh(e,(r||this).context);return i?Zt(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0},qu),ba("scale",function iot(e,t,r){const i=wh(e,(r||this).context);return i?i(t):void 0},qu),ba("gradient",function sot(e,t,r,i,s){e=wh(e,(s||this).context);const o=ice(t,r);let a=e.domain(),l=a[0],u=ds(a),c=Zl;return u-l?c=$ue(e,l,u):e=(e.interpolator?ks("sequential")().interpolator(e.interpolator()):ks("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,u=1]),e.ticks&&(a=e.ticks(+i||15),l!==a[0]&&a.unshift(l),u!==ds(a)&&a.push(u)),a.forEach(f=>o.stop(c(f),e(f))),o},qu),ba("geoArea",Mst,qu),ba("geoBounds",Tst,qu),ba("geoCentroid",Ist,qu),ba("geoShape",function oot(e,t,r){const i=wh(e,(r||this).context);return function(s){return i?i.path.context(s)(t):""}},qu),ba("geoScale",function Nst(e,t){const r=wh(e,(t||this).context);return r&&r.scale()},qu),ba("indata",function pst(e,t,r){const i=this.context.data[e]["index:"+t],s=i?i.value.get(r):void 0;return s&&s.count},function Dst(e,t,r,i){t[0].type!==Pm&&Yt("First argument to indata must be a string literal."),t[1].type!==Pm&&Yt("Second argument to indata must be a string literal.");const s=t[0].value,o=t[1].value,a="@"+o;pr(a,i)||(i[a]=r.getData(s).indataRef(r,o))}),ba("data",jpe,tV),ba("treePath",function lot(e,t,r){const i=n1e(e,this),s=i[t],o=i[r];return s&&o?s.path(o).map(t1e):void 0},tV),ba("treeAncestors",function uot(e,t){const r=n1e(e,this)[t];return r?r.ancestors().map(t1e):void 0},tV),ba("vlSelectionTest",function ost(e,t,r){for(var c,f,A,d,h,i=this.context.data[e],s=i?i.values.value:[],o=i?i[TB]&&i[TB].value:void 0,a=r===XH,l=s.length,u=0;u<l;++u)if(c=s[u],o&&a){if(-1===(A=(f=f||{})[d=c.unit]||0))continue;if(h=zpe(t,c),f[d]=h?-1:++A,h&&1===o.size)return!0;if(!h&&A===o.get(d).count)return!1}else if(a^(h=zpe(t,c)))return h;return l&&a},ZH),ba("vlSelectionIdTest",function ust(e,t,r){const i=this.context.data[e],s=i?i.values.value:[],o=i?i[TB]&&i[TB].value:void 0,a=r===XH,l=w9(t),u=ast(s,l);if(u===s.length||w9(s[u])!==l)return!1;if(o&&a){if(1===o.size)return!0;if(lst(s,l)-u<o.size)return!1}return!0},ZH),ba("vlSelectionResolve",function fst(e,t,r,i){for(var c,f,A,d,h,g,m,v,_,I,V,s=this.context.data[e],o=s?s.values.value:[],a={},l={},u={},D=o.length,T=0;T<D;++T)if(d=(c=o[T]).unit,A=c.values,(f=c.fields)&&A){for(I=0,V=f.length;I<V;++I)v=(m=a[(h=f[I]).field]||(a[h.field]={}))[d]||(m[d]=[]),u[h.field]=_=h.type.charAt(0),m[d]=(0,JH[`${_}_union`])(v,ar(A[I]));r&&(v=l[d]||(l[d]=[])).push(ar(A).reduce((R,K,ne)=>(R[f[ne].field]=K,R),{}))}else h=yh,g=w9(c),(v=(m=a[h]||(a[h]={}))[d]||(m[d]=[])).push(g),r&&(v=l[d]||(l[d]=[])).push({[yh]:g});return t=t||"union",a[yh]?a[yh]=JH[`${yh}_${t}`](...Object.values(a[yh])):Object.keys(a).forEach(R=>{a[R]=Object.keys(a[R]).map(K=>a[R][K]).reduce((K,ne)=>void 0===K?ne:JH[`${u[R]}_${t}`](K,ne))}),o=Object.keys(l),r&&o.length&&(a[i?"vlPoint":"vlMulti"]="union"===t?{or:o.reduce((K,ne)=>(K.push(...l[ne]),K),[])}:{and:o.map(K=>({or:l[K]}))}),a},ZH),ba("vlSelectionTuples",function cst(e,t){return e.map(r=>Oi(t.fields?{values:t.fields.map(i=>Vpe(i)(r.datum))}:{[yh]:w9(r.datum)},t))});const bot=DA(["rule"]),a1e=DA(["group","image","rect"]);function uV(e){return(e+"").toLowerCase()}function E9(e,t,r){r.endsWith(";")||(r="return("+r+");");const i=Function(...t.concat(r));return e&&e.functions?i.bind(e.functions):i}var xot={operator:(e,t)=>E9(e,["_"],t.code),parameter:(e,t)=>E9(e,["datum","_"],t.code),event:(e,t)=>E9(e,["event"],t.code),handler:(e,t)=>E9(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:r,channels:i}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const o in i){const a="o["+Un(o)+"]";s+=`$=${i[o].code};if(${a}!==$)${a}=$,m=1;`}return s+=function Cot(e,t){let r="";return bot[t]||(e.x2&&(e.x?(a1e[t]&&(r+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),r+="o.width=o.x2-o.x;"):r+="o.x=o.x2-(o.width||0);"),e.xc&&(r+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a1e[t]&&(r+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),r+="o.height=o.y2-o.y;"):r+="o.y=o.y2-(o.height||0);"),e.yc&&(r+="o.y=o.yc-(o.height||0)/2;")),r}(i,r),s+="return m;",E9(e,["item","_"],s)},codegen:{get(e){const t=`[${e.map(Un).join("][")}]`,r=Function("_",`return _${t};`);return r.path=t,r},comparator(e,t){let r;const s=Function("a","b","var u, v; return "+e.map((o,a)=>{const l=t[a];let u,c;return o.path?(u=`a${o.path}`,c=`b${o.path}`):((r=r||{})["f"+a]=o,u=`this.f${a}(a)`,c=`this.f${a}(b)`),function Bot(e,t,r,i){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${r}\n  : (u > v || v == null) && u != null ? ${i}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${r}\n  : v !== v && u === u ? ${i} : `}(u,c,-l,l)}).join("")+"0;");return r?s.bind(r):s}}};function l1e(e,t,r){if(!e||!sr(e))return e;for(let o,i=0,s=u1e.length;i<s;++i)if(o=u1e[i],pr(e,o.key))return o.parse(e,t,r);return e}var u1e=[{key:"$ref",parse:function Tot(e,t){return t.get(e.$ref)||Yt("Operator not defined: "+e.$ref)}},{key:"$key",parse:function Not(e,t){const r="k:"+e.$key+"_"+!!e.$flat;return t.fn[r]||(t.fn[r]=eR(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function Iot(e,t,r){e.$params&&t.parseParameters(e.$params,r);const i="e:"+e.$expr.code;return t.fn[i]||(t.fn[i]=oc(t.parameterExpression(e.$expr),e.$fields))}},{key:"$field",parse:function Oot(e,t){if(!e.$field)return null;const r="f:"+e.$field+"_"+e.$name;return t.fn[r]||(t.fn[r]=Of(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function kot(e,t){const r=e.$encode,i={};for(const s in r){const o=r[s];i[s]=oc(t.encodeExpression(o.$expr),o.$fields),i[s].output=o.$output}return i}},{key:"$compare",parse:function Rot(e,t){const r="c:"+e.$compare+"_"+e.$order,i=ar(e.$compare).map(s=>s&&s.$tupleid?jr:s);return t.fn[r]||(t.fn[r]=XO(i,e.$order,t.expr.codegen))}},{key:"$context",parse:function Pot(e,t){return t}},{key:"$subflow",parse:function Uot(e,t){const r=e.$subflow;return function(i,s,o){const a=t.fork().parse(r),l=a.get(r.operators[0].id),u=a.signals.parent;return u&&u.set(o),l.detachSubflow=()=>t.detach(a),l}}},{key:"$tupleid",parse:function Lot(){return jr}}];const Vot={skip:!0};function c1e(e,t,r,i){return new f1e(e,t,r,i)}function f1e(e,t,r,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||xot,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},r&&(this.functions=Object.create(r),this.functions.context=this)}function A1e(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}f1e.prototype=A1e.prototype={fork(){const e=new A1e(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(r=>r!==e);const t=Object.keys(e.nodes);for(const r of t)e.nodes[r]._targets=null;for(const r of t)e.nodes[r].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const r=this,i=r.dataflow,s=e.value;if(r.set(e.id,t),function Sot(e){return"collect"===uV(e)}(e.type)&&s&&(s.$ingest?i.ingest(t,s.$ingest,s.$format):s.$request?i.preload(t,s.$request,s.$format):i.pulse(t,i.changeset().insert(s))),e.root&&(r.root=t),e.parent){let o=r.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(r.unresolved=r.unresolved||[]).push(()=>{o=r.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(const o in e.data){const a=r.data[o]||(r.data[o]={});e.data[o].forEach(l=>a[l]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[uV(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,r,i,s){this.dataflow.on(t,r,i,s,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function wot(e){const t=this,r=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),r.forEach(i=>t.parseOperator(i)),r.forEach(i=>t.parseOperatorParameters(i)),(e.streams||[]).forEach(i=>t.parseStream(i)),(e.updates||[]).forEach(i=>t.parseUpdate(i)),t.resolve()},parseOperator:function Dot(e){const t=this;!function Eot(e){return"operator"===uV(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function Fot(e){const t=this;if(e.params){const r=t.get(e.id);r||Yt("Invalid operator id: "+e.id),t.dataflow.connect(r,r.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function Mot(e,t){t=t||{};const r=this;for(const i in e){const s=e[i];t[i]=Zt(s)?s.map(o=>l1e(o,r,t)):l1e(s,r,t)}return t},parseStream:function Qot(e){var s,t=this,r=null!=e.filter?t.eventExpression(e.filter):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(i=(s=e.merge.map(o=>t.get(o)))[0].merge.apply(s[0],s.slice(1))),e.between&&(s=e.between.map(o=>t.get(o)),i=i.between(s[0],s[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Yt("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)},parseUpdate:function Hot(e){var s,t=this,r=sr(r=e.source)?r.$ref:r,i=t.get(r),o=e.update,a=void 0;i||Yt("Source not defined: "+e.source),s=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(a=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,i,s,o,a)},getState:function $ot(e){var t=this,r={};if(e.signals){var i=r.signals={};Object.keys(t.signals).forEach(o=>{const a=t.signals[o];e.signals(o,a)&&(i[o]=a.value)})}if(e.data){var s=r.data={};Object.keys(t.data).forEach(o=>{const a=t.data[o];e.data(o,a)&&(s[o]=a.input.value)})}return t.subcontext&&!1!==e.recurse&&(r.subcontext=t.subcontext.map(o=>o.getState(e))),r},setState:function Got(e){var t=this,r=t.dataflow,i=e.data,s=e.signals;Object.keys(s||{}).forEach(o=>{r.update(t.signals[o],s[o],Vot)}),Object.keys(i||{}).forEach(o=>{r.pulse(t.data[o].input,r.changeset().remove(Rf).insert(i[o]))}),(e.subcontext||[]).forEach((o,a)=>{const l=t.subcontext[a];l&&l.setState(o)})}};var RB,x9,T4=0,S9=0,B9=0,kB=0,zm=0,PB=0,D9="object"==typeof performance&&performance.now?performance:Date,h1e="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cV(){return zm||(h1e(zot),zm=D9.now()+PB)}function zot(){zm=0}function UB(){this._call=this._time=this._next=null}function p1e(){zm=(kB=D9.now())+PB,T4=S9=0;try{!function jot(){cV(),++T4;for(var t,e=RB;e;)(t=zm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--T4}()}finally{T4=0,function Wot(){for(var e,r,t=RB,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:RB=r);x9=e,fV(i)}(),zm=0}}function Kot(){var e=D9.now(),t=e-kB;t>1e3&&(PB-=t,kB=e)}function fV(e){T4||(S9&&(S9=clearTimeout(S9)),e-zm>24?(e<1/0&&(S9=setTimeout(p1e,e-D9.now()-PB)),B9&&(B9=clearInterval(B9))):(B9||(kB=D9.now(),B9=setInterval(Kot,1e3)),T4=1,h1e(p1e)))}function g1e(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}UB.prototype=function qot(e,t,r){var i=new UB;return i.restart(e,t,r),i}.prototype={constructor:UB,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?cV():+r)+(null==t?0:+t),!this._next&&x9!==this&&(x9?x9._next=this:RB=this,x9=this),this._call=e,this._time=r,fV()},stop:function(){this._call&&(this._call=null,this._time=1/0,fV())}};const AV="default";function dV(e,t){const r=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(r)return null==t?r.style.removeProperty("cursor"):r.style.cursor=t}function LB(e,t){var r=e._runtime.data;return pr(r,t)||Yt("Unrecognized data set: "+t),r[t]}function QB(e,t){poe(t)||Yt("Second argument to changes must be a changeset.");const r=LB(this,e);return r.modified=!0,this.pulse(r.input,t)}function m1e(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function v1e(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function HB(e){var t=e.padding(),r=e._origin;return[t.left+r[0],t.top+r[1]]}const lat={trap:!1};function y1e(e,t,r,i){e._eventListeners.push({type:r,sources:ar(t),handler:i})}function VB(e,t,r){const i=e._eventConfig&&e._eventConfig[t];return!(!1===i||sr(i)&&!i[r])||(e.warn(`Blocked ${t} ${r} event listener.`),!1)}function w1e(e){return e.item}function b1e(e){return e.item.mark.source}function C1e(e){return function(t,r){return r.vega.view().changeset().encode(r.item,e)}}function tf(e,t,r){const i=document.createElement(e);for(const s in t)i.setAttribute(s,t[s]);return null!=r&&(i.textContent=r),i}function mat(e,t,r){if(!t)return;const i=r.param;let s=r.state;return s||(s=r.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(i.signal)&&e.runAsync(null,()=>{s.source=!0,e.signal(i.signal,a)})}},i.debounce&&(s.update=JO(i.debounce,s.update))),(null==i.input&&i.element?vat:yat)(s,t,i,e),s.active||(e.on(e._signals[i.signal],null,()=>{s.source?s.source=!1:s.set(e.signal(i.signal))}),s.active=!0),s}function vat(e,t,r,i){const s=r.event||"input",o=()=>e.update(t.value);i.signal(r.signal,t.value),t.addEventListener(s,o),y1e(i,t,s,o),e.set=a=>{t.value=a,t.dispatchEvent(function _at(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(s))}}function yat(e,t,r,i){const s=i.signal(r.signal),o=tf("div",{class:"vega-bind"}),a="radio"===r.input?o:o.appendChild(tf("label"));a.appendChild(tf("span",{class:"vega-bind-name"},r.name||r.signal)),t.appendChild(o);let l=wat;switch(r.input){case"checkbox":l=bat;break;case"select":l=Cat;break;case"radio":l=Eat;break;case"range":l=Sat}l(e,a,r,s)}function wat(e,t,r,i){const s=tf("input");for(const o in r)"signal"!==o&&"element"!==o&&s.setAttribute("input"===o?"type":o,r[o]);s.setAttribute("name",r.signal),s.value=i,t.appendChild(s),s.addEventListener("input",()=>e.update(s.value)),e.elements=[s],e.set=o=>s.value=o}function bat(e,t,r,i){const s={type:"checkbox",name:r.signal};i&&(s.checked=!0);const o=tf("input",s);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=a=>o.checked=!!a||null}function Cat(e,t,r,i){const s=tf("select",{name:r.signal}),o=r.labels||[];r.options.forEach((a,l)=>{const u={value:a};$B(a,i)&&(u.selected=!0),s.appendChild(tf("option",u,(o[l]||a)+""))}),t.appendChild(s),s.addEventListener("change",()=>{e.update(r.options[s.selectedIndex])}),e.elements=[s],e.set=a=>{for(let l=0,u=r.options.length;l<u;++l)if($B(r.options[l],a))return void(s.selectedIndex=l)}}function Eat(e,t,r,i){const s=tf("span",{class:"vega-bind-radio"}),o=r.labels||[];t.appendChild(s),e.elements=r.options.map((a,l)=>{const u={type:"radio",name:r.signal,value:a};$B(a,i)&&(u.checked=!0);const c=tf("input",u);c.addEventListener("change",()=>e.update(a));const f=tf("label",{},(o[l]||a)+"");return f.prepend(c),s.appendChild(f),c}),e.set=a=>{const l=e.elements,u=l.length;for(let c=0;c<u;++c)$B(l[c].value,a)&&(l[c].checked=!0)}}function Sat(e,t,r,i){i=void 0!==i?i:(+r.max+ +r.min)/2;const s=null!=r.max?r.max:Math.max(100,+i)||100,o=r.min||Math.min(0,s,+i)||0,a=r.step||function nrt(e,t,r){r=+r;const i=(t=+t)<(e=+e),s=i?T0e(t,e,r):T0e(e,t,r);return(i?-1:1)*(s<0?1/-s:s)}(o,s,100),l=tf("input",{type:"range",name:r.signal,min:o,max:s,step:a});l.value=i;const u=tf("span",{},+i);t.appendChild(l),t.appendChild(u);const c=()=>{u.textContent=l.value,e.update(+l.value)};l.addEventListener("input",c),l.addEventListener("change",c),e.elements=[l],e.set=f=>{l.value=f,u.textContent=f}}function $B(e,t){return e===t||e+""==t+""}function E1e(e,t,r,i,s,o){return(t=t||new i(e.loader())).initialize(r,m1e(e),v1e(e),HB(e),s,o).background(e.background())}function hV(e,t){return t?function(){try{t.apply(this,arguments)}catch(r){e.error(r)}}:null}function pV(e,t,r){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&r)try{t.textContent=""}catch(i){t=null,e.error(i)}return t}const F9=e=>+e||0;function S1e(e){return sr(e)?{top:F9(e.top),bottom:F9(e.bottom),left:F9(e.left),right:F9(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(F9(e))}function gV(e,t,r,i){return mV.apply(this,arguments)}function mV(){return mV=Ha(function*(e,t,r,i){const s=$E(t),o=s&&s.headless;return o||Yt("Unrecognized renderer type: "+t),yield e.runAsync(),E1e(e,null,null,o,r,i).renderAsync(e._scenegraph.root)}),mV.apply(this,arguments)}function vV(){return vV=Ha(function*(e,t){e!==y1.Canvas&&e!==y1.SVG&&e!==y1.PNG&&Yt("Unrecognized image type: "+e);const r=yield gV(this,e,t);return e===y1.SVG?Mat(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png")}),vV.apply(this,arguments)}function Mat(e,t){const r=new Blob([e],{type:t});return window.URL.createObjectURL(r)}function _V(){return _V=Ha(function*(e,t){return(yield gV(this,y1.Canvas,e,t)).canvas()}),_V.apply(this,arguments)}function yV(){return yV=Ha(function*(e){return(yield gV(this,y1.SVG,e)).svg()}),yV.apply(this,arguments)}var wV="padding",D1e={skip:!0};function F1e(e,t){var r=e.autosize(),i=e.padding();return t-(r&&r.contains===wV?i.left+i.right:0)}function M1e(e,t){var r=e.autosize(),i=e.padding();return t-(r&&r.contains===wV?i.top+i.bottom:0)}function Uat(e,t){return t.modified&&Zt(t.input.value)&&!e.startsWith("_:vega:_")}function Lat(e,t){return!("parent"===e||t instanceof U3.proxy)}function Vat(e,t,r,i){const s=e.element();s&&s.setAttribute("title",function $at(e){return null==e?"":Zt(e)?T1e(e):sr(e)&&!e1(e)?function Gat(e){return Object.keys(e).map(t=>{const r=e[t];return t+": "+(Zt(r)?T1e(r):I1e(r))}).join("\n")}(e):e+""}(i))}function T1e(e){return"["+e.map(I1e).join(", ")+"]"}function I1e(e){return Zt(e)?"[\u2026]":sr(e)&&!e1(e)?"{\u2026}":e}function N1e(e,t){const r=this;if(t=t||{},P3.call(r),t.loader&&r.loader(t.loader),t.logger&&r.logger(t.logger),null!=t.logLevel&&r.logLevel(t.logLevel),t.locale||e.locale){const o=Oi({},e.locale,t.locale);r.locale(roe(o.number,o.time))}r._el=null,r._elBind=null,r._renderType=t.renderer||y1.Canvas,r._scenegraph=new Vce;const i=r._scenegraph.root;r._renderer=null,r._tooltip=t.tooltip||Vat,r._redraw=!0,r._handler=(new b_).scene(i),r._globalCursor=!1,r._preventDefault=!1,r._timers=[],r._eventListeners=[],r._resizeListeners=[],r._eventConfig=function uat(e){const t=Oi({defaults:{}},e),r=(i,s)=>{s.forEach(o=>{Zt(i[o])&&(i[o]=DA(i[o]))})};return r(t.defaults,["prevent","allow"]),r(t,["view","window","selector"]),t}(e.eventConfig),r.globalCursor(r._eventConfig.globalCursor);const s=function Nat(e,t,r){return c1e(e,U3,C9,r).parse(t)}(r,e,t.expr);r._runtime=s,r._signals=s.signals,r._bind=(e.bindings||[]).map(o=>({state:null,param:Oi({},o)})),s.root&&s.root.set(i),i.source=s.data.root.input,r.pulse(s.data.root.input,r.changeset().insert(i.items)),r._width=r.width(),r._height=r.height(),r._viewWidth=F1e(r,r._width),r._viewHeight=M1e(r,r._height),r._origin=[0,0],r._resize=0,r._autosize=1,function Rat(e){var t=e._signals,r=t.width,i=t.height,s=t[wV];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,l=>{e._width=l.size,e._viewWidth=F1e(e,l.size),o()},{size:r}),e._resizeHeight=e.add(null,l=>{e._height=l.size,e._viewHeight=M1e(e,l.size),o()},{size:i});const a=e.add(null,o,{pad:s});e._resizeWidth.rank=r.rank+1,e._resizeHeight.rank=i.rank+1,a.rank=s.rank+1}(r),function Jot(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(r),function Zot(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:AV,item:null}));e.on(e.events("view","pointermove"),t,(r,i)=>{const s=t.value,o=s?or(s)?s:s.user:AV,a=i.item&&i.item.cursor||null;return s&&o===s.user&&a==s.item?s:{user:o,item:a}}),e.add(null,function(r){let i=r.cursor,s=this.value;return or(i)||(s=i.item,i=i.user),dV(e,i&&i!==AV?i:s||i),s},{cursor:t})}(r),r.description(e.description),t.hover&&r.hover(),t.container&&r.initialize(t.container,t.bind),t.watchPixelRatio&&r._watchPixelRatio()}function GB(e,t){return pr(e._signals,t)?e._signals[t]:Yt("Unrecognized signal name: "+Un(t))}function O1e(e,t){const r=(e._targets||[]).filter(i=>i._update&&i._update.handler===t);return r.length?r[0]:null}function R1e(e,t,r,i){let s=O1e(r,i);return s||(s=hV(e,()=>i(t,r.value)),s.handler=i,e.on(r,null,s)),e}function k1e(e,t,r){const i=O1e(t,r);return i&&t._targets.remove(i),e}Gn(N1e,P3,{evaluate(e,t,r){var i=this;return Ha(function*(){if(yield P3.prototype.evaluate.call(i,e,t),i._redraw||i._resize)try{i._renderer&&(i._resize&&(i._resize=0,function rat(e){var t=HB(e),r=m1e(e),i=v1e(e);e._renderer.background(e.background()),e._renderer.resize(r,i,t),e._handler.origin(t),e._resizeListeners.forEach(s=>{try{s(r,i)}catch(o){e.error(o)}})}(i)),yield i._renderer.renderAsync(i._scenegraph.root)),i._redraw=!1}catch(s){i.error(s)}return r&&vC(i,r),i})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&g1e(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,r){const i=GB(this,e);return 1===arguments.length?i.value:this.update(i,t,r)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",S1e(e)):S1e(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?($E(e)||Yt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(P3.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(GB(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function kat(e,t,r,i,s,o){this.runAfter(a=>{let l=0;a._autosize=0,a.width()!==r&&(l=1,a.signal("width",r,D1e),a._resizeWidth.skip(!0)),a.height()!==i&&(l=1,a.signal("height",i,D1e),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==s[0]||a._origin[1]!==s[1])&&(a._resize=1,a._origin=s),l&&a.run("enter"),o&&a.runAfter(u=>u.resize())},!1,1)},addEventListener(e,t,r){let i=t;return r&&!1===r.trap||(i=hV(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var s,o,r=this._handler.handlers(e),i=r.length;--i>=0;)if(s=r[i].handler,e===(o=r[i].type)&&(t===s||t===s.raw)){this._handler.off(o,s);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,r=t.indexOf(e);return r>=0&&t.splice(r,1),this},addSignalListener(e,t){return R1e(this,e,GB(this,e),t)},removeSignalListener(e,t){return k1e(this,GB(this,e),t)},addDataListener(e,t){return R1e(this,e,LB(this,e).values,t)},removeDataListener(e,t){return k1e(this,LB(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=dV(this,null);this._globalCursor=!!e,t&&dV(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function Hat(e,t){this._timers.push(function Yot(e,t,r){var i=new UB,s=t;return null==t?(i.restart(e,t,r),i):(i._restart=i.restart,i.restart=function(o,a,l){a=+a,l=null==l?cV():+l,i._restart(function u(c){c+=s,i._restart(u,s+=a,l),o(c)},a,l)},i.restart(e,t,r),i)}(function r(i){e({timestamp:Date.now(),elapsed:i})},t))},events:function fat(e,t,r){var a,i=this,s=new CC(r),o=function(c,f){i.runAsync(null,()=>{"view"===e&&function cat(e,t){var r=e._eventConfig.defaults,i=r.prevent,s=r.allow;return!1!==i&&!0!==s&&(!0===i||!1===s||(i?i[t]:s?!s[t]:e.preventDefault()))}(i,t)&&c.preventDefault(),s.receive(function iat(e,t,r){var o,l,i=e._renderer,s=i&&i.canvas();return s&&(l=HB(e),(o=ME(t.changedTouches?t.changedTouches[0]:t,s))[0]-=l[0],o[1]-=l[1]),t.dataflow=e,t.item=r,t.vega=function sat(e,t,r){const i=t?"group"===t.mark.marktype?t:t.mark.group:null;function s(a){var u,l=i;if(a)for(u=t;u;u=u.mark.group)if(u.mark.name===a){l=u;break}return l&&l.mark&&l.mark.interactive?l:{}}function o(a){if(!a)return r;or(a)&&(a=s(a));const l=r.slice();for(;a;)l[0]-=a.x||0,l[1]-=a.y||0,a=a.mark&&a.mark.group;return l}return{view:tu(e),item:tu(t||{}),group:s,xy:o,x:a=>o(a)[0],y:a=>o(a)[1]}}(e,r,o),t}(i,c,f))})};if("timer"===e)VB(i,"timer",t)&&i.timer(o,t);else if("view"===e)VB(i,"view",t)&&i.addEventListener(t,o,lat);else if("window"===e?VB(i,"window",t)&&"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&VB(i,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),a){for(var l=0,u=a.length;l<u;++l)a[l].addEventListener(t,o);y1e(i,a,t,o)}else i.warn("Can not resolve event source: "+e);return s},finalize:function dat(){var s,o,a,e=this._tooltip,t=this._timers,r=this._handler.handlers(),i=this._eventListeners;for(s=t.length;--s>=0;)t[s].stop();for(s=i.length;--s>=0;)for(o=(a=i[s]).sources.length;--o>=0;)a.sources[o].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),s=r.length;--s>=0;)this._handler.off(r[s].type,r[s].handler);return this},hover:function Aat(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","pointerover",w1e),b1e,C1e(e)),this.on(this.events("view","pointerout",w1e),b1e,C1e(t)),this},data:function eat(e,t){return arguments.length<2?LB(this,e).values.value:QB.call(this,e,um().remove(Rf).insert(t))},change:QB,insert:function tat(e,t){return QB.call(this,e,um().insert(t))},remove:function nat(e,t){return QB.call(this,e,um().remove(t))},scale:function Oat(e){var t=this._runtime.scales;return pr(t,e)||Yt("Unrecognized scale or projection: "+e),t[e].value},initialize:function xat(e,t){const r=this,i=r._renderType,s=r._eventConfig.bind,o=$E(i);e=r._el=e?pV(r,e,!0):null,function Xot(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),g1e(t,e.description()))}(r),o||r.error("Unrecognized renderer type: "+i);const a=o.handler||b_,l=e?o.renderer:o.headless;return r._renderer=l?E1e(r,r._renderer,e,l):null,r._handler=function Bat(e,t,r,i){const s=new i(e.loader(),hV(e,e.tooltip())).scene(e.scenegraph().root).initialize(r,HB(e),e);return t&&t.handlers().forEach(o=>{s.on(o.type,o.handler)}),s}(r,r._handler,e,a),r._redraw=!0,e&&"none"!==s&&(t=t?r._elBind=pV(r,t,!0):e.appendChild(tf("form",{class:"vega-bindings"})),r._bind.forEach(u=>{u.param.element&&"container"!==s&&(u.element=pV(r,u.param.element,!!u.param.input))}),r._bind.forEach(u=>{mat(r,u.element||t,u)})),r},toImageURL:function Fat(e,t){return vV.apply(this,arguments)},toCanvas:function Tat(e,t){return _V.apply(this,arguments)},toSVG:function Iat(e){return yV.apply(this,arguments)},getState:function Pat(e){return this._runtime.getState(e||{data:Uat,signals:Lat,recurse:!0})},setState:function Qat(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this},_watchPixelRatio:function zat(){if("canvas"===this.renderer()&&this._renderer._canvas){let e=null;const t=()=>{null!=e&&e();const r=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);r.addEventListener("change",t),e=()=>{r.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}});const Yat=/[[\]{}]/,Xat={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Q1e,H1e;function P1(e,t,r){return Q1e=t||"view",H1e=r||Xat,V1e(e.trim()).map(bV)}function M9(e,t,r,i,s){const o=e.length;let l,a=0;for(;t<o;++t){if(l=e[t],!a&&l===r)return t;s&&s.indexOf(l)>=0?--a:i&&i.indexOf(l)>=0&&++a}return t}function V1e(e){const t=[],r=e.length;let i=0,s=0;for(;s<r;)s=M9(e,s,",","[{","]}"),t.push(e.substring(i,s).trim()),i=++s;if(0===t.length)throw"Empty event selector: "+e;return t}function bV(e){return"["===e[0]?function Zat(e){const t=e.length;let i,r=1;if(r=M9(e,r,"]","[","]"),r===t)throw"Empty between selector: "+e;if(i=V1e(e.substring(1,r)),2!==i.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;i=i.map(bV);const s=bV(e.slice(1).trim());return s.between?{between:i,stream:s}:(s.between=i,s)}(e):function elt(e){const t={source:Q1e},r=[];let u,c,i=[0,0],s=0,o=0,a=e.length,l=0;if("}"===e[a-1]){if(l=e.lastIndexOf("{"),!(l>=0))throw"Unmatched right brace: "+e;try{i=function tlt(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map(r=>{const i=+r;if(i!=i)throw e;return i})}(e.substring(l+1,a-1))}catch{throw"Invalid throttle specification: "+e}a=(e=e.slice(0,l).trim()).length,l=0}if(!a)throw e;if("@"===e[0]&&(s=++l),u=M9(e,l,":"),u<a&&(r.push(e.substring(o,u).trim()),o=l=++u),l=M9(e,l,"["),l===a)r.push(e.substring(o,a).trim());else if(r.push(e.substring(o,l).trim()),c=[],o=++l,o===a)throw"Unmatched left bracket: "+e;for(;l<a;){if(l=M9(e,l,"]"),l===a)throw"Unmatched left bracket: "+e;if(c.push(e.substring(o,l).trim()),l<a-1&&"["!==e[++l])throw"Expected left bracket: "+e;o=++l}if(!(a=r.length)||Yat.test(r[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=r[1],s?t.markname=r[0].slice(1):function Jat(e){return H1e[e]}(r[0])?t.marktype=r[0]:t.source=r[0]):t.type=r[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=c&&(t.filter=c),i[0]&&(t.throttle=i[0]),i[1]&&(t.debounce=i[1]),t}(e)}function nlt(e){return sr(e)?e:{type:e||"pad"}}const T9=e=>+e||0;function ilt(e){return sr(e)?e.signal?e:{top:T9(e.top),bottom:T9(e.bottom),left:T9(e.left),right:T9(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(T9(e))}const hl=e=>sr(e)&&!Zt(e)?Oi({},e):{value:e};function $1e(e,t,r,i){return null!=r?(sr(r)&&!Zt(r)||Zt(r)&&r.length&&sr(r[0])?e.update[t]=r:e[i||"enter"][t]={value:r},1):0}function Ol(e,t,r){for(const i in t)$1e(e,i,t[i]);for(const i in r)$1e(e,i,r[i],"update")}function I4(e,t,r){for(const i in t)r&&pr(r,i)||(e[i]=Oi(e[i]||{},t[i]));return e}function N4(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const CV="mark",EV="frame",SV="scope",G1e="legend-label";function BV(e,t,r){e[t]=r&&r.signal?{signal:r.signal}:{value:r}}const z1e=e=>or(e)?Un(e):e.signal?`(${e.signal})`:q1e(e);function jB(e){if(null!=e.gradient)return function blt(e){const t=[e.start,e.stop,e.count].map(r=>null==r?null:Un(r));for(;t.length&&null==ds(t);)t.pop();return t.unshift(z1e(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function wlt(e){return e.c?KB("hcl",e.h,e.c,e.l):e.h||e.s?KB("hsl",e.h,e.s,e.l):e.l||e.a?KB("lab",e.l,e.a,e.b):e.r||e.g||e.b?KB("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?q1e(e.field):void 0!==e.value?Un(e.value):void 0;return null!=e.scale&&(t=function Clt(e,t){const r=z1e(e.scale);return null!=e.range?t=`lerp(_range(${r}), ${+e.range})`:(void 0!==t&&(t=`_scale(${r}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${r})`+(1==+e.band?"":"*"+WB(e.band)),e.extra&&(t=`(datum.extra ? _scale(${r}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${WB(e.exponent)})`),null!=e.mult&&(t+=`*${WB(e.mult)}`),null!=e.offset&&(t+=`+${WB(e.offset)}`),e.round&&(t=`round(${t})`),t}const KB=(e,t,r,i)=>`(${e}(${[t,r,i].map(jB).join(",")})+'')`;function WB(e){return sr(e)?"("+jB(e)+")":e}function q1e(e){return j1e(sr(e)?e:{datum:e})}function j1e(e){let t,r,i;if(e.signal)t="datum",i=e.signal;else if(e.group||e.parent){for(r=Math.max(1,e.level||1),t="item";r-- >0;)t+=".mark.group";e.parent?(i=e.parent,t+=".datum"):i=e.group}else e.datum?(t="datum",i=e.datum):Yt("Invalid field reference: "+Un(e));return e.signal||(i=or(i)?Yd(i).map(Un).join("]["):j1e(i)),t+"["+i+"]"}function K1e(e,t,r,i,s,o){const a={};(o=o||{}).encoders={$encode:a},e=function ylt(e,t,r,i,s){const o={},a={};let l,u,c,f;for(u in u="lineBreak","text"===t&&null!=s[u]&&!N4(u,e)&&BV(o,u,s[u]),("legend"==r||String(r).startsWith("axis"))&&(r=null),f=r===EV?s.group:r===CV?Oi({},s.mark,s[t]):null,f)c=N4(u,e)||("fill"===u||"stroke"===u)&&(N4("fill",e)||N4("stroke",e)),c||BV(o,u,f[u]);for(u in ar(i).forEach(A=>{const d=s.style&&s.style[A];for(const h in d)N4(h,e)||BV(o,h,d[h])}),e=Oi({},e),o)f=o[u],f.signal?(l=l||{})[u]=f:a[u]=f;return e.enter=Oi(a,e.enter),l&&(e.update=Oi(l,e.update)),e}(e,t,r,i,s.config);for(const l in e)a[l]=Slt(e[l],t,o,s);return o}function Slt(e,t,r,i){const s={},o={};for(const a in e)null!=e[a]&&(s[a]=xlt(Blt(e[a]),i,r,o));return{$expr:{marktype:t,channels:s},$fields:Object.keys(o),$output:Object.keys(e)}}function Blt(e){return Zt(e)?function Elt(e){let t="";return e.forEach(r=>{const i=jB(r);t+=r.test?`(${r.test})?${i}:`:i}),":"===ds(t)&&(t+="null"),t}(e):jB(e)}function xlt(e,t,r,i){const s=bh(e,t);return s.$fields.forEach(o=>i[o]=1),Oi(r,s.$params),s.$expr}const Flt=["value","update","init","react","bind"];function W1e(e,t){Yt(e+' for "outer" push: '+Un(t))}function Y1e(e,t){const r=e.name;if("outer"===e.push)t.signals[r]||W1e("No prior signal definition",r),Flt.forEach(i=>{void 0!==e[i]&&W1e("Invalid property ",i)});else{const i=t.addSignal(r,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(r,e.bind)}}function xV(e,t,r,i){this.id=-1,this.type=e,this.value=t,this.params=r,i&&(this.parent=i)}function YB(e,t,r,i){return new xV(e,t,r,i)}function XB(e,t){return YB("operator",e,t)}function Kr(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function I9(e,t){return t?{$field:e,$name:t}:{$field:e}}const DV=I9("key");function X1e(e,t){return{$compare:e,$order:t}}function JB(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const FV="scope",MV="view";function Ka(e){return e&&e.signal}function ZB(e){if(Ka(e))return!0;if(sr(e))for(const t in e)if(ZB(e[t]))return!0;return!1}function WA(e,t){return e??t}function qm(e){return e&&e.signal||e}function N9(e,t){return(e.merge?klt:e.stream?Plt:e.type?Ult:Yt("Invalid stream specification: "+Un(e)))(e,t)}function klt(e,t){const i=TV({merge:e.merge.map(s=>N9(s,t))},e,t);return t.addStream(i).id}function Plt(e,t){const i=TV({stream:N9(e.stream,t)},e,t);return t.addStream(i).id}function Ult(e,t){let r;"timer"===e.type?(r=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):r=t.event(function Rlt(e){return e===FV?MV:e||MV}(e.source),e.type);const i=TV({stream:r},e,t);return 1===Object.keys(i).length?r:t.addStream(i).id}function TV(e,t,r){let i=t.between;return i&&(2!==i.length&&Yt('Stream "between" parameter must have 2 entries: '+Un(t)),e.between=[N9(i[0],r),N9(i[1],r)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(function Llt(e,t,r){const i="event.item";return i+(e&&"*"!==e?"&&"+i+".mark.marktype==='"+e+"'":"")+(r?"&&"+i+".mark.role==='"+r+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===FV&&i.push("inScope(event.item)"),i.length&&(e.filter=bh("("+i.join(")&&(")+")",r).$expr),null!=(i=t.throttle)&&(e.throttle=+i),null!=(i=t.debounce)&&(e.debounce=+i),t.consume&&(e.consume=!0),e}const Qlt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function $lt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}const so=e=>(t,r,i)=>YB(e,r,t||void 0,i),Z1e=so("aggregate"),zlt=so("axisticks"),ege=so("bound"),YA=so("collect"),tge=so("compare"),qlt=so("datajoin"),nge=so("encode"),jlt=so("expression"),Klt=so("facet"),Wlt=so("field"),Ylt=so("key"),Xlt=so("legendentries"),Jlt=so("load"),Zlt=so("mark"),eut=so("multiextent"),tut=so("multivalues"),nut=so("overlap"),rut=so("params"),rge=so("prefacet"),iut=so("projection"),sut=so("proxy"),out=so("relay"),ige=so("render"),aut=so("scale"),jm=so("sieve"),lut=so("sortitems"),sge=so("viewlayout"),uut=so("values");let cut=0;const oge={min:"min",max:"max",count:"sum"};function Aut(e,t){const r=t.getScale(e.name).params;let i;for(i in r.domain=age(e.domain,e,t),null!=e.range&&(r.range=uge(e,t,r)),null!=e.interpolate&&function but(e,t){t.interpolate=Yf(e.type||e),null!=e.gamma&&(t.interpolateGamma=Yf(e.gamma))}(e.interpolate,r),null!=e.nice&&(r.nice=function wut(e,t){return e.signal?t.signalRef(e.signal):sr(e)?{interval:Yf(e.interval),step:Yf(e.step)}:Yf(e)}(e.nice,t)),null!=e.bins&&(r.bins=function yut(e,t){return e.signal||Zt(e)?ex(e,t):t.objectProperty(e)}(e.bins,t)),e)pr(r,i)||"name"===i||(r[i]=Yf(e[i],t))}function Yf(e,t){return sr(e)?e.signal?t.signalRef(e.signal):Yt("Unsupported object: "+Un(e)):e}function ex(e,t){return e.signal?t.signalRef(e.signal):e.map(r=>Yf(r,t))}function tx(e){Yt("Can not find data set: "+Un(e))}function age(e,t,r){if(e)return e.signal?r.signalRef(e.signal):(Zt(e)?dut:e.fields?put:hut)(e,t,r);(null!=t.domainMin||null!=t.domainMax)&&Yt("No scale domain defined for domainMin/domainMax to override.")}function dut(e,t,r){return e.map(i=>Yf(i,r))}function hut(e,t,r){const i=r.getData(e.data);return i||tx(e.data),K3(t.type)?i.valuesRef(r,e.field,lge(e.sort,!1)):Que(t.type)?i.domainRef(r,e.field):i.extentRef(r,e.field)}function put(e,t,r){const i=e.data,s=e.fields.reduce((o,a)=>(a=or(a)?{data:i,field:a}:Zt(a)||a.signal?function gut(e,t){const r="_:vega:_"+cut++,i=YA({});if(Zt(e))i.value={$ingest:e};else if(e.signal){const s="setdata("+Un(r)+","+e.signal+")";i.params.input=t.signalRef(s)}return t.addDataPipeline(r,[i,jm({})]),{data:r,field:"data"}}(a,r):a,o.push(a),o),[]);return(K3(t.type)?mut:Que(t.type)?vut:_ut)(e,r,s)}function mut(e,t,r){const i=lge(e.sort,!0);let s,o;const a=r.map(c=>{const f=t.getData(c.data);return f||tx(c.data),f.countsRef(t,c.field,i)}),l={groupby:DV,pulse:a};i&&(s=i.op||"count",o=i.field?JB(s,i.field):"count",l.ops=[oge[s]],l.fields=[t.fieldRef(o)],l.as=[o]),s=t.add(Z1e(l));const u=t.add(YA({pulse:Kr(s)}));return o=t.add(uut({field:DV,sort:t.sortRef(i),pulse:Kr(u)})),Kr(o)}function lge(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!oge[e.op]&&Yt("Multiple domain scales can not be sorted using "+e.op):Yt("No field provided for sort aggregate op: "+e.op):sr(e)?e.field="key":e={field:"key"}),e}function vut(e,t,r){const i=r.map(s=>{const o=t.getData(s.data);return o||tx(s.data),o.domainRef(t,s.field)});return Kr(t.add(tut({values:i})))}function _ut(e,t,r){const i=r.map(s=>{const o=t.getData(s.data);return o||tx(s.data),o.extentRef(t,s.field)});return Kr(t.add(eut({extents:i})))}function uge(e,t,r){const i=t.config.range;let s=e.range;if(s.signal)return t.signalRef(s.signal);if(or(s)){if(i&&pr(i,s))return uge(e=Oi({},e,{range:i[s]}),t,r);"width"===s?s=[0,{signal:"width"}]:"height"===s?s=K3(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Yt("Unrecognized scale range value: "+Un(s))}else{if(s.scheme)return r.scheme=Zt(s.scheme)?ex(s.scheme,t):Yf(s.scheme,t),s.extent&&(r.schemeExtent=ex(s.extent,t)),void(s.count&&(r.schemeCount=Yf(s.count,t)));if(s.step)return void(r.rangeStep=Yf(s.step,t));if(K3(e.type)&&!Zt(s))return age(s,e,t);Zt(s)||Yt("Unsupported range type: "+Un(s))}return s.map(o=>(Zt(o)?ex:Yf)(o,t))}function IV(e,t,r){return Zt(e)?e.map(i=>IV(i,t,r)):sr(e)?e.signal?r.signalRef(e.signal):"fit"===t?e:Yt("Unsupported parameter object: "+Un(e)):e}const XA="top",U1="bottom",OV="label",Xf="value",O9="guide-label",RV="guide-title",nx="gradient",kV="discrete",UV=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],R9={name:1,style:1,interactive:1},bs={value:0},Jf={value:1},rx="group",LV="rule",Km="text";function k9(e){return e.type=rx,e.interactive=e.interactive||!1,e}function _c(e,t){const r=(i,s)=>WA(e[i],WA(t[i],s));return r.isVertical=i=>"vertical"===WA(e.direction,t.direction||(i?t.symbolDirection:t.gradientDirection)),r.gradientLength=()=>WA(e.gradientLength,t.gradientLength||t.gradientWidth),r.gradientThickness=()=>WA(e.gradientThickness,t.gradientThickness||t.gradientHeight),r.entryColumns=()=>WA(e.columns,WA(t.columns,+r.isVertical(!0))),r}function dge(e,t){const r=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return r&&r.signal?r:r?r.value:null}function ix(e,t,r){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${r}`}const QV=ix(Un("left"),Un("right"),Un("center"));function hge(e,t){return t?e?sr(e)?Object.assign({},e,{offset:hge(e.offset,t)}):{value:e,offset:t}:t:e}function nf(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=I4(e.encode,t,R9)):e.interactive=!1,e}function Rut(e,t,r,i){const s=_c(e,r),o=s.isVertical(),a=s.gradientThickness(),l=s.gradientLength();let u,c,f,A,d;o?(c=[0,1],f=[0,0],A=a,d=l):(c=[0,0],f=[1,0],A=l,d=a);const h={enter:u={opacity:bs,x:bs,y:bs,width:hl(A),height:hl(d)},update:Oi({},u,{opacity:Jf,fill:{gradient:t,start:c,stop:f}}),exit:{opacity:bs}};return Ol(h,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),nf({type:"rect",role:"legend-gradient",encode:h},i)}function kut(e,t,r,i,s){const o=_c(e,r),a=o.isVertical(),l=o.gradientThickness(),u=o.gradientLength();let c,f,A,d,h="";a?(c="y",A="y2",f="x",d="width",h="1-"):(c="x",A="x2",f="y",d="height");const g={opacity:bs,fill:{scale:t,field:Xf}};g[c]={signal:h+"datum.perc",mult:u},g[f]=bs,g[A]={signal:h+"datum.perc2",mult:u},g[d]=hl(l);const m={enter:g,update:Oi({},g,{opacity:Jf}),exit:{opacity:bs}};return Ol(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),nf({type:"rect",role:"legend-band",key:Xf,from:s,encode:m},i)}const Uut=`datum.perc<=0?"${U1}":datum.perc>=1?"top":"middle"`;function pge(e,t,r,i){const s=_c(e,t),o=s.isVertical(),a=hl(s.gradientThickness()),l=s.gradientLength();let c,f,A,d,u=s("labelOverlap"),h="";const g={enter:c={opacity:bs},update:f={opacity:Jf,text:{field:OV}},exit:{opacity:bs}};return Ol(g,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:WA(e.labelLimit,t.gradientLabelLimit)}),o?(c.align={value:"left"},c.baseline=f.baseline={signal:Uut},A="y",d="x",h="1-"):(c.align=f.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},c.baseline={value:"top"},A="x",d="y"),c[A]=f[A]={signal:h+"datum.perc",mult:l},c[d]=f[d]=a,a.offset=WA(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:s("labelSeparation"),method:u,order:"datum.index"}:void 0,nf({type:Km,role:G1e,style:O9,key:Xf,from:i,encode:g,overlap:u},r)}function Lut(e,t,r,i,s){const o=_c(e,t),a=r.entries,l=!(!a||!a.interactive),u=a?a.name:void 0,c=o("clipHeight"),f=o("symbolOffset"),A={data:"value"},d=`(${s}) ? datum.offset : datum.size`,h=c?hl(c):{field:"size"},g="datum.index",m=`max(1, ${s})`;let v,_,C,D,T;h.mult=.5,v={enter:_={opacity:bs,x:{signal:d,mult:.5,offset:f},y:h},update:C={opacity:Jf,x:_.x,y:_.y},exit:{opacity:bs}};let I=null,V=null;e.fill||(I=t.symbolBaseFillColor,V=t.symbolBaseStrokeColor),Ol(v,{fill:o("symbolFillColor",I),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",V),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),UV.forEach(Ae=>{e[Ae]&&(C[Ae]=_[Ae]={scale:e[Ae],field:Xf})});const R=nf({type:"symbol",role:"legend-symbol",key:Xf,from:A,clip:!!c||void 0,encode:v},r.symbols),K=hl(f);K.offset=o("labelOffset"),v={enter:_={opacity:bs,x:{signal:d,offset:K},y:h},update:C={opacity:Jf,text:{field:OV},x:_.x,y:_.y},exit:{opacity:bs}},Ol(v,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const ne=nf({type:Km,role:G1e,style:O9,key:Xf,from:A,encode:v},r.labels);return v={enter:{noBound:{value:!c},width:bs,height:c?hl(c):bs,opacity:bs},exit:{opacity:bs},update:C={opacity:Jf,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(D=`ceil(item.mark.items.length / ${m})`,C.row.signal=`${g}%${D}`,C.column.signal=`floor(${g} / ${D})`,T={field:["row",g]}):(C.row.signal=`floor(${g} / ${m})`,C.column.signal=`${g} % ${m}`,T={field:g}),C.column.signal=`(${s})?${C.column.signal}:${g}`,k9({role:SV,from:i={facet:{data:i,name:"value",groupby:"index"}},encode:I4(v,a,R9),marks:[R,ne],name:u,interactive:l,sort:T})}const HV='item.orient === "left"',VV='item.orient === "right"',sx=`(${HV} || ${VV})`,Hut=`datum.vgrad && ${sx}`,Vut=ix('"top"','"bottom"','"middle"'),Gut=`datum.vgrad && ${VV} ? (${ix('"right"','"left"','"center"')}) : (${sx} && !(datum.vgrad && ${HV})) ? "left" : ${QV}`,zut=`item._anchor || (${sx} ? "middle" : "start")`,qut=`${Hut} ? (${HV} ? -90 : 90) : 0`,jut=`${sx} ? (datum.vgrad ? (${VV} ? "bottom" : "top") : ${Vut}) : "top"`;function Wut(e,t){let r;return sr(e)&&(e.signal?r=e.signal:e.path?r="pathShape("+gge(e.path)+")":e.sphere&&(r="geoShape("+gge(e.sphere)+', {type: "Sphere"})')),r?t.signalRef(r):!!e}function gge(e){return sr(e)&&e.signal?e.signal:Un(e)}function mge(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===rx?SV:t||CV}function Yut(e){return{marktype:e.type,name:e.name||void 0,role:e.role||mge(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Xut(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function $V(e,t){const r=Eoe(e.type);r||Yt("Unrecognized transform type: "+Un(e.type));const i=YB(r.type.toLowerCase(),null,vge(r,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=r.metadata||{},i}function vge(e,t,r){const i={},s=e.params.length;for(let o=0;o<s;++o){const a=e.params[o];i[a.name]=Jut(a,t,r)}return i}function Jut(e,t,r){const i=e.type,s=t[e.name];return"index"===i?function Zut(e,t,r){return or(t.from)||Yt('Lookup "from" parameter must be a string literal.'),r.getData(t.from).lookupRef(r,t.key)}(0,t,r):void 0!==s?"param"===i?function ect(e,t,r){const i=t[e.name];return e.array?(Zt(i)||Yt("Expected an array of sub-parameters. Instead: "+Un(i)),i.map(s=>yge(e,s,r))):yge(e,i,r)}(e,t,r):"projection"===i?r.projectionRef(t[e.name]):e.array&&!Ka(s)?s.map(o=>_ge(e,o,r)):_ge(e,s,r):void(e.required&&Yt("Missing required "+Un(t.type)+" parameter: "+Un(e.name)))}function _ge(e,t,r){const i=e.type;if(Ka(t))return wge(i)?Yt("Expression references can not be signals."):GV(i)?r.fieldRef(t):bge(i)?r.compareRef(t):r.signalRef(t.signal);{const s=e.expr||GV(i);return s&&tct(t)?r.exprRef(t.expr,t.as):s&&nct(t)?I9(t.field,t.as):wge(i)?bh(t,r):rct(i)?Kr(r.getData(t).values):GV(i)?I9(t):bge(i)?r.compareRef(t):t}}function yge(e,t,r){const i=e.params.length;let s;for(let a=0;a<i;++a){s=e.params[a];for(const l in s.key)if(s.key[l]!==t[l]){s=null;break}if(s)break}s||Yt("Unsupported parameter: "+Un(t));const o=Oi(vge(s,t,r),s.key);return Kr(r.add(rut(o)))}const tct=e=>e&&e.expr,nct=e=>e&&e.field,rct=e=>"data"===e,wge=e=>"expr"===e,GV=e=>"field"===e,bge=e=>"compare"===e;function ox(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Kr(t.getData(e.data).output)}function Wm(e,t,r,i,s){this.scope=e,this.input=t,this.output=r,this.values=i,this.aggregate=s,this.index={}}function Cge(e){return or(e)?e:null}function Ege(e,t,r){const i=JB(r.op,r.field);let s;if(t.ops){for(let o=0,a=t.as.length;o<a;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];r.op&&(t.ops.push((s=r.op.signal)?e.signalRef(s):r.op),t.fields.push(e.fieldRef(r.field)),t.as.push(i))}function P9(e,t,r,i,s,o,a){const l=t[r]||(t[r]={}),u=function Nlt(e){return sr(e)?("descending"===e.order?"-":"+")+JB(e.op,e.field):""}(o);let f,A,c=Cge(s);if(null!=c&&(e=t.scope,c+=u?"|"+u:"",f=l[c]),!f){const d=o?{field:DV,pulse:t.countsRef(e,s,o)}:{field:e.fieldRef(s),pulse:Kr(t.output)};u&&(d.sort=e.sortRef(o)),A=e.add(YB(i,void 0,d)),a&&(t.index[s]=A),f=Kr(A),null!=c&&(l[c]=f)}return f}function Sge(e,t,r){const i=e.remove,s=e.insert,o=e.toggle,a=e.modify,l=e.values,u=t.add(XB()),f=bh("if("+e.trigger+',modify("'+r+'",'+[s,i,o,a,l].map(A=>A??"null").join(",")+"),0)",t);u.update=f.$expr,u.params=f.$params}function ax(e,t){const r=mge(e),i=e.type===rx,s=e.from&&e.from.facet,o=e.overlap;let l,u,c,f,A,d,h,a=e.layout||r===SV||r===EV;const g=r===CV||a||s,m=function ict(e,t,r){let i,s,o,a,l;return e?(i=e.facet)&&(t||Yt("Only group marks can be faceted."),null!=i.field?a=l=ox(i,r):(e.data?l=Kr(r.getData(e.data).aggregate):(o=$V(Oi({type:"aggregate",groupby:ar(i.groupby)},i.aggregate),r),o.params.key=r.keyRef(i.groupby),o.params.pulse=ox(i,r),a=l=Kr(r.add(o))),s=r.keyRef(i.groupby,!0))):a=Kr(r.add(YA(null,[{}]))),a||(a=ox(e,r)),{key:s,pulse:a,parent:l}}(e.from,i,t);u=t.add(qlt({key:m.key||(e.key?I9(e.key):void 0),pulse:m.pulse,clean:!i}));const v=Kr(u);u=c=t.add(YA({pulse:v})),u=t.add(Zlt({markdef:Yut(e),interactive:Xut(e.interactive,t),clip:Wut(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Kr(u)}));const _=Kr(u);u=f=t.add(nge(K1e(e.encode,e.type,r,e.style,t,{mod:!1,pulse:_}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(V=>{const R=$V(V,t),K=R.metadata;(K.generates||K.changes)&&Yt("Mark transforms should not generate new data."),K.nomod||(f.params.mod=!0),R.params.pulse=Kr(u),t.add(u=R)}),e.sort&&(u=t.add(lut({sort:t.compareRef(e.sort),pulse:Kr(u)})));const C=Kr(u);(s||a)&&(a=t.add(sge({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:C})),d=Kr(a));const D=t.add(ege({mark:_,pulse:d||C}));h=Kr(D),i&&(g&&(l=t.operators,l.pop(),a&&l.pop()),t.pushState(C,d||h,v),s?function sct(e,t,r){const i=e.from.facet,s=i.name,o=ox(i,t);let a;i.name||Yt("Facet must have a name: "+Un(i)),i.data||Yt("Facet must reference a data set: "+Un(i)),i.field?a=t.add(rge({field:t.fieldRef(i.field),pulse:o})):i.groupby?a=t.add(Klt({key:t.keyRef(i.groupby),group:Kr(t.proxy(r.parent)),pulse:o})):Yt("Facet must specify groupby or field: "+Un(i));const l=t.fork(),u=l.add(YA()),c=l.add(jm({pulse:Kr(u)}));l.addData(s,new Wm(l,u,u,c)),l.addSignal("parent",null),a.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,t,m):g?function oct(e,t,r){const i=t.add(rge({pulse:r.pulse})),s=t.fork();s.add(jm()),s.addSignal("parent",null),i.params.subflow={$subflow:s.parse(e).toRuntime()}}(e,t,m):t.parse(e),t.popState(),g&&(a&&l.push(a),l.push(D))),o&&(h=function act(e,t,r){const i=e.method,s=e.bound,o=e.separation,a={separation:Ka(o)?r.signalRef(o.signal):o,method:Ka(i)?r.signalRef(i.signal):i,pulse:t};if(e.order&&(a.sort=r.compareRef({field:e.order})),s){const l=s.tolerance;a.boundTolerance=Ka(l)?r.signalRef(l.signal):+l,a.boundScale=r.scaleRef(s.scale),a.boundOrient=s.orient}return Kr(r.add(nut(a)))}(o,h,t));const T=t.add(ige({pulse:h})),I=t.add(jm({pulse:Kr(T)},void 0,t.parent()));null!=e.name&&(A=e.name,t.addData(A,new Wm(t,c,T,I)),e.on&&e.on.forEach(V=>{(V.insert||V.remove||V.toggle)&&Yt("Marks only support modify triggers."),Sge(V,t,A)}))}function fct(e,t,r){const i={enter:{},update:{}};return Ol(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:r.strokeWidth,strokeDash:r.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function Bge(e,t,r){return t[e]?`scale("${t[e]}",datum)`:dge(e,r[0].encode)}function mct(e,t){const r={enter:{},update:{}};return Ol(r,{orient:e("orient"),anchor:e("anchor"),align:{signal:QV},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),I4(r,t,R9)}function Ym(e){const t=YA({},e);return t.metadata={source:!0},t}function xge(e,t){return Jlt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}Wm.fromEntries=function(e,t){const r=t.length,i=t[r-1],s=t[r-2];let o=t[0],a=null,l=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);l<r;++l)t[l].params.pulse=Kr(t[l-1]),e.add(t[l]),"aggregate"===t[l].type&&(a=t[l]);return new Wm(e,o,s,i,a)},Wm.prototype={countsRef(e,t,r){const i=this,s=i.counts||(i.counts={}),o=Cge(t);let a,l,u;return null!=o&&(e=i.scope,a=s[o]),a?r&&r.field&&Ege(e,a.agg.params,r):(u={groupby:e.fieldRef(t,"key"),pulse:Kr(i.output)},r&&r.field&&Ege(e,u,r),l=e.add(Z1e(u)),a=e.add(YA({pulse:Kr(l)})),a={agg:l,ref:Kr(a)},null!=o&&(s[o]=a)),a.ref},tuplesRef(){return Kr(this.values)},extentRef(e,t){return P9(e,this,"extent","extent",t,!1)},domainRef(e,t){return P9(e,this,"domain","values",t,!1)},valuesRef(e,t,r){return P9(e,this,"vals","values",t,r||!0)},lookupRef(e,t){return P9(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return P9(e,this,"indata","tupleindex",t,!0,!0)}};const Dge=e=>e===U1||e===XA,lx=(e,t,r)=>Ka(e)?Sct(e.signal,t,r):"left"===e||e===XA?t:r,pl=(e,t,r)=>Ka(e)?Cct(e.signal,t,r):Dge(e)?t:r,JA=(e,t,r)=>Ka(e)?Ect(e.signal,t,r):Dge(e)?r:t,Fge=(e,t,r)=>Ka(e)?Bct(e.signal,t,r):e===XA?{value:t}:{value:r},Cct=(e,t,r)=>Mge(`${e} === 'top' || ${e} === '${U1}'`,t,r),Ect=(e,t,r)=>Mge(`${e} !== 'top' && ${e} !== '${U1}'`,t,r),Sct=(e,t,r)=>zV(`${e} === 'left' || ${e} === 'top'`,t,r),Bct=(e,t,r)=>zV(`${e} === 'top'`,t,r),Mge=(e,t,r)=>(t=null!=t?hl(t):t,r=null!=r?hl(r):r,Tge(t)&&Tge(r)?{signal:`${e} ? (${t=t?t.signal||Un(t.value):null}) : (${r=r?r.signal||Un(r.value):null})`}:[Oi({test:e},t)].concat(r||[])),Tge=e=>null==e||1===Object.keys(e).length,zV=(e,t,r)=>({signal:`${e} ? (${P4(t)}) : (${P4(r)})`}),Dct=(e,t,r,i,s)=>({signal:(null!=i?`${e} === 'left' ? (${P4(i)}) : `:"")+(null!=r?`${e} === '${U1}' ? (${P4(r)}) : `:"")+(null!=s?`${e} === 'right' ? (${P4(s)}) : `:"")+(null!=t?`${e} === 'top' ? (${P4(t)}) : `:"")+"(null)"}),P4=e=>Ka(e)?e.signal:null==e?null:Un(e),U4=(e,t)=>{const r=e.signal;return r&&r.endsWith("(null)")?{signal:r.slice(0,-6)+t.signal}:e};function L4(e,t,r,i){let s;if(t&&pr(t,e))return t[e];if(pr(r,e))return r[e];if(e.startsWith("title")){switch(e){case"titleColor":s="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":s=e[5].toLowerCase()+e.slice(6)}return i[RV][s]}if(e.startsWith("label")){switch(e){case"labelColor":s="fill";break;case"labelFont":case"labelFontSize":s=e[5].toLowerCase()+e.slice(6)}return i[O9][s]}return null}function Ige(e){const t={};for(const r of e)if(r)for(const i in r)t[i]=1;return Object.keys(t)}function Nge(e,t){return{scale:e.scale,range:t}}function qV(e,t,r,i,s){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+r+","+i+","+s+")"}}function Rct(e,t,r,i,s,o){const a=_c(e,t),l=e.orient,u=e.scale,c=lx(l,-1,1),f=qm(a("labelFlush")),A=qm(a("labelFlushOffset")),d=a("labelAlign"),h=a("labelBaseline");let m,g=0===f||!!f;const v=hl(s);v.mult=c,v.offset=hl(a("labelPadding")||0),v.offset.mult=c;const _={scale:u,field:Xf,band:.5,offset:hge(o.offset,a("labelOffset"))},C=pl(l,g?qV(u,f,'"left"','"right"','"center"'):{value:"center"},((e,t,r)=>Ka(e)?((e,t,r)=>zV(`${e} === 'right'`,t,r))(e.signal,t,r):"right"===e?{value:t}:{value:r})(l,"left","right")),D=pl(l,Fge(l,"bottom","top"),g?qV(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),T=qV(u,f,`-(${A})`,A,0);g=g&&A;const I={opacity:bs,x:pl(l,_,v),y:JA(l,_,v)},V={enter:I,update:m={opacity:Jf,text:{field:OV},x:I.x,y:I.y,align:C,baseline:D},exit:{opacity:bs,x:I.x,y:I.y}};Ol(V,{dx:!d&&g?pl(l,T):null,dy:!h&&g?JA(l,T):null}),Ol(V,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:d,baseline:h});const R=a("labelBound");let K=a("labelOverlap");return K=K||R?{separation:a("labelSeparation"),method:K,order:"datum.index",bound:R?{scale:u,orient:l,tolerance:R}:null}:void 0,m.align!==C&&(m.align=U4(m.align,C)),m.baseline!==D&&(m.baseline=U4(m.baseline,D)),nf({type:Km,role:"axis-label",style:O9,key:Xf,from:i,encode:V,overlap:K},r)}function Uct(e,t){const r=function Mct(e,t){var l,u,c,r=t.config,i=r.style,s=r.axis,o="band"===t.scaleType(e.scale)&&r.axisBand,a=e.orient;if(Ka(a)){const A=Ige([r.axisX,r.axisY]),d=Ige([r.axisTop,r.axisBottom,r.axisLeft,r.axisRight]);for(c of(l={},A))l[c]=pl(a,L4(c,r.axisX,s,i),L4(c,r.axisY,s,i));for(c of(u={},d))u[c]=Dct(a.signal,L4(c,r.axisTop,s,i),L4(c,r.axisBottom,s,i),L4(c,r.axisLeft,s,i),L4(c,r.axisRight,s,i))}else l=a===XA||a===U1?r.axisX:r.axisY,u=r["axis"+a[0].toUpperCase()+a.slice(1)];return l||u||o?Oi({},s,l,u,o):s}(e,t),i=e.encode||{},s=i.axis||{},o=s.name||void 0,a=s.interactive,l=s.style,u=_c(e,r),c=function Out(e){const t=e("tickBand");let i,s,r=e("tickOffset");return t?t.signal?(i={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},s={signal:`(${t.signal}) === 'extent'`},sr(r)||(r={signal:`(${t.signal}) === 'extent' ? 0 : ${r}`})):"extent"===t?(i=1,s=!0,r=0):(i=.5,s=!1):(i=e("bandPosition"),s=e("tickExtra")),{extra:s,band:i,offset:r}}(u),f={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:null!=e.title},A=Kr(t.add(YA({},[f]))),d=Kr(t.add(zlt({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let g;return f.grid&&h.push(function Ict(e,t,r,i,s){const o=_c(e,t),a=e.orient,l=e.gridScale,u=lx(a,1,-1),c=function Nct(e,t){if(1!==t)if(sr(e)){let r=e=Oi({},e);for(;null!=r.mult;){if(!sr(r.mult))return r.mult=Ka(t)?{signal:`(${r.mult}) * (${t.signal})`}:r.mult*t,e;r=r.mult=Oi({},r.mult)}r.mult=t}else e=Ka(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,u);let f,A,d;const h={enter:f={opacity:bs},update:d={opacity:Jf},exit:A={opacity:bs}};Ol(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Xf,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")},m=pl(a,{signal:"height"},{signal:"width"}),v=l?{scale:l,range:0,mult:u,offset:c}:{value:0,offset:c},_=l?{scale:l,range:1,mult:u,offset:c}:Oi(m,{mult:u,offset:c});return f.x=d.x=pl(a,g,v),f.y=d.y=JA(a,g,v),f.x2=d.x2=JA(a,_),f.y2=d.y2=pl(a,_),A.x=pl(a,g),A.y=JA(a,g),nf({type:LV,role:"axis-grid",key:Xf,from:i,encode:h},r)}(e,r,i.grid,d,c)),f.ticks&&(g=u("tickSize"),h.push(function Oct(e,t,r,i,s,o){const a=_c(e,t),l=e.orient,u=lx(l,-1,1);let c,f,A;const d={enter:c={opacity:bs},update:A={opacity:Jf},exit:f={opacity:bs}};Ol(d,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const h=hl(s);h.mult=u;const g={scale:e.scale,field:Xf,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return A.y=c.y=pl(l,bs,g),A.y2=c.y2=pl(l,h),f.x=pl(l,g),A.x=c.x=JA(l,bs,g),A.x2=c.x2=JA(l,h),f.y=JA(l,g),nf({type:LV,role:"axis-tick",key:Xf,from:i,encode:d},r)}(e,r,i.ticks,d,g,c))),f.labels&&(g=f.ticks?g:0,h.push(Rct(e,r,i.labels,d,g,c))),f.domain&&h.push(function Tct(e,t,r,i){const s=_c(e,t),o=e.orient;let a,l;const u={enter:a={opacity:bs},update:l={opacity:Jf},exit:{opacity:bs}};Ol(u,{stroke:s("domainColor"),strokeCap:s("domainCap"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")});const c=Nge(e,0),f=Nge(e,1);return a.x=l.x=pl(o,c,bs),a.x2=l.x2=pl(o,f),a.y=l.y=JA(o,c,bs),a.y2=l.y2=JA(o,f),nf({type:LV,role:"axis-domain",from:i,encode:u},r)}(e,r,i.domain,A)),f.title&&h.push(function kct(e,t,r,i){const s=_c(e,t),o=e.orient,a=lx(o,-1,1);let l,u;const c={enter:l={opacity:bs,anchor:hl(s("titleAnchor",null)),align:{signal:QV}},update:u=Oi({},l,{opacity:Jf,text:hl(e.title)}),exit:{opacity:bs}},f={signal:`lerp(range("${e.scale}"), ${ix(0,1,.5)})`};return u.x=pl(o,f),u.y=JA(o,f),l.angle=pl(o,bs,((e,t)=>Ka(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(a)),l.baseline=pl(o,Fge(o,U1,XA),{value:U1}),u.angle=l.angle,u.baseline=l.baseline,Ol(c,{fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),angle:s("titleAngle"),baseline:s("titleBaseline")}),function Pct(e,t,r,i){const s=(l,u)=>null!=l?(r.update[u]=U4(hl(l),r.update[u]),!1):!N4(u,i),o=s(e("titleX"),"x"),a=s(e("titleY"),"y");r.enter.auto=a===o?hl(a):pl(t,hl(a),hl(o))}(s,o,c,r),c.update.align=U4(c.update.align,l.align),c.update.angle=U4(c.update.angle,l.angle),c.update.baseline=U4(c.update.baseline,l.baseline),nf({type:Km,role:"axis-title",style:RV,from:i,encode:c},r)}(e,r,i.title,A)),ax(k9({role:"axis",from:A,encode:I4(Lct(u,e),s,R9),marks:h,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:o,interactive:a,style:l}),t)}function Lct(e,t){const r={enter:{},update:{}};return Ol(r,{orient:e("orient"),offset:e("offset")||0,position:WA(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),r}function Oge(e,t,r){const i=ar(e.signals),s=ar(e.scales);return r||i.forEach(o=>Y1e(o,t)),ar(e.projections).forEach(o=>function Cut(e,t){const r=t.config.projection||{},i={};for(const s in e)"name"!==s&&(i[s]=IV(e[s],s,t));for(const s in r)null==i[s]&&(i[s]=IV(r[s],s,t));t.addProjection(e.name,i)}(o,t)),s.forEach(o=>function fut(e,t){const r=e.type||"linear";Pue(r)||Yt("Unrecognized scale type: "+Un(r)),t.addScale(e.name,{type:r,domain:void 0})}(o,t)),ar(e.data).forEach(o=>function yct(e,t){const r=[];e.transform&&e.transform.forEach(i=>{r.push($V(i,t))}),e.on&&e.on.forEach(i=>{Sge(i,t,e.name)}),t.addDataPipeline(e.name,function wct(e,t,r){const i=[];let l,u,c,f,A,s=null,o=!1,a=!1;for(e.values?Ka(e.values)||ZB(e.format)?(i.push(xge(t,e)),i.push(s=Ym())):i.push(s=Ym({$ingest:e.values,$format:e.format})):e.url?ZB(e.url)||ZB(e.format)?(i.push(xge(t,e)),i.push(s=Ym())):i.push(s=Ym({$request:e.url,$format:e.format})):e.source&&(s=l=ar(e.source).map(d=>Kr(t.getData(d).output)),i.push(null)),u=0,c=r.length;u<c;++u)f=r[u],A=f.metadata,!s&&!A.source&&i.push(s=Ym()),i.push(f),A.generates&&(a=!0),A.modifies&&!a&&(o=!0),A.source?s=f:A.changes&&(s=null);return l&&(c=l.length-1,i[0]=out({derive:o,pulse:c?l:l[0]}),(o||c)&&i.splice(1,0,Ym())),s||i.push(Ym()),i.push(jm({})),i}(e,t,r))}(o,t)),s.forEach(o=>Aut(o,t)),(r||i).forEach(o=>function Glt(e,t){const r=t.getSignal(e.name);let i=e.update;e.init&&(i?Yt("Signals can not include both init and update expressions."):(i=e.init,r.initonly=!0)),i&&(i=bh(i,t),r.update=i.$expr,r.params=i.$params),e.on&&e.on.forEach(s=>function Hlt(e,t,r){const i=e.encode,s={target:r};let o=e.events,a=e.update,l=[];o||Yt("Signal update missing events specification."),or(o)&&(o=P1(o,t.isSubscope()?FV:MV)),o=ar(o).filter(u=>u.signal||u.scale?(l.push(u),0):1),l.length>1&&(l=[$lt(l)]),o.length&&l.push(o.length>1?{merge:o}:o[0]),null!=i&&(a&&Yt("Signal encode and update are mutually exclusive."),a="encode(item(),"+Un(i)+")"),s.update=or(a)?bh(a,t):null!=a.expr?bh(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:Qlt,$params:{$value:t.signalRef(a.signal)}}:Yt("Invalid signal update specification."),e.force&&(s.options={force:!0}),l.forEach(u=>t.addUpdate(Oi(function Vlt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):N9(e,t)}}(u,t),s)))}(s,t,r.id))}(o,t)),ar(e.axes).forEach(o=>Uct(o,t)),ar(e.marks).forEach(o=>ax(o,t)),ar(e.legends).forEach(o=>function lct(e,t){const r=t.config.legend,i=e.encode||{},s=_c(e,r),o=i.legend||{},a=o.name||void 0,l=o.interactive,u=o.style,c={};let A,d,h,f=0;UV.forEach(D=>e[D]?(c[D]=e[D],f=f||e[D]):0),f||Yt("Missing valid scale for legend.");const g=function uct(e,t){let r=e.type||"symbol";return!e.type&&1===function cct(e){return UV.reduce((t,r)=>t+(e[r]?1:0),0)}(e)&&(e.fill||e.stroke)&&(r=zP(t)?nx:qP(t)?kV:"symbol"),r!==nx?r:qP(t)?kV:nx}(e,t.scaleType(f)),m={title:null!=e.title,scales:c,type:g,vgrad:"symbol"!==g&&s.isVertical()},v=Kr(t.add(YA(null,[m]))),C=Kr(t.add(Xlt(d={type:g,scale:t.scaleRef(f),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===nx?(h=[Rut(e,f,r,i.gradient),pge(e,r,i.labels,C)],d.count=d.count||t.signalRef(`max(2,2*floor((${qm(s.gradientLength())})/100))`)):g===kV?h=[kut(e,f,r,i.gradient,C),pge(e,r,i.labels,C)]:(A=function Qut(e,t){const r=_c(e,t);return{align:r("gridAlign"),columns:r.entryColumns(),center:{row:!0,column:!1},padding:{row:r("rowPadding"),column:r("columnPadding")}}}(e,r),h=[Lut(e,r,i,C,qm(A.columns))],d.size=function Act(e,t,r){const i=qm(Bge("size",e,r)),s=qm(Bge("strokeWidth",e,r)),o=qm(function dct(e,t,r){return dge("fontSize",e)||function Nut(e,t,r){const i=t.config.style[r];return i&&i[e]}("fontSize",t,r)}(r[1].encode,t,O9));return bh(`max(ceil(sqrt(${i})+${s}),${o})`,t)}(e,t,h[0].marks)),h=[k9({role:"legend-entry",from:v,encode:{enter:{x:{value:0},y:{value:0}}},marks:h,layout:A,interactive:l})],m.title&&h.push(function Kut(e,t,r,i){const s=_c(e,t),o={enter:{opacity:bs},update:{opacity:Jf,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:bs}};return Ol(o,{orient:s("titleOrient"),_anchor:s("titleAnchor"),anchor:{signal:zut},angle:{signal:qut},align:{signal:Gut},baseline:{signal:jut},text:e.title,fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),baseline:s("titleBaseline")}),nf({type:Km,role:"legend-title",style:RV,from:i,encode:o},r)}(e,r,i.title,v)),ax(k9({role:"legend",from:v,encode:I4(fct(s,e,r),o,R9),marks:h,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:a,interactive:l,style:u}),t)}(o,t)),e.title&&function pct(e,t){const r=_c(e=or(e)?{text:e}:e,t.config.title),i=e.encode||{},s=i.group||{},o=s.name||void 0,a=s.interactive,l=s.style,u=[],f=Kr(t.add(YA(null,[{}])));return u.push(function vct(e,t,r,i){const s={value:0},a={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Ol(a,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),nf({type:Km,role:"title-text",style:"group-title",from:i,encode:a},r)}(e,r,function gct(e){const t=e.encode;return t&&t.title||Oi({name:e.name,interactive:e.interactive,style:e.style},t)}(e),f)),e.subtitle&&u.push(function _ct(e,t,r,i){const s={value:0},a={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Ol(a,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),nf({type:Km,role:"title-subtitle",style:"group-subtitle",from:i,encode:a},r)}(e,r,i.subtitle,f)),ax(k9({role:"title",from:f,encode:mct(r,s),marks:u,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:o,interactive:a,style:l}),t)}(e.title,t),t.parseLambdas(),t}function U9(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Rge(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function kge(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function jV(e){return(Zt(e)?$ct:Gct)(e)}function $ct(e){const t=e.length;let r="[";for(let i=0;i<t;++i){const s=e[i];r+=(i>0?",":"")+(sr(s)?s.signal||jV(s):Un(s))}return r+"]"}function Gct(e){let i,s,t="{",r=0;for(i in e)s=e[i],t+=(++r>1?",":"")+Un(i)+":"+(sr(s)?s.signal||jV(s):Un(s));return t+"}"}function qct(e,t,r){return sr(e)||Yt("Input Vega specification must be an object."),function Hct(e,t){const r=t.config,i=Kr(t.root=t.add(XB())),s=function Vct(e,t){const r=a=>WA(e[a],t[a]),i=[U9("background",r("background")),U9("autosize",nlt(r("autosize"))),U9("padding",ilt(r("padding"))),U9("width",r("width")||0),U9("height",r("height")||0)],s=i.reduce((a,l)=>(a[l.name]=l,a),{}),o={};return ar(e.signals).forEach(a=>{pr(s,a.name)?a=Oi(s[a.name],a):i.push(a),o[a.name]=a}),ar(t.signals).forEach(a=>{!pr(o,a.name)&&!pr(s,a.name)&&i.push(a)}),i}(e,r);s.forEach(c=>Y1e(c,t)),t.description=e.description||r.description,t.eventConfig=r.events,t.legends=t.objectProperty(r.legend&&r.legend.layout),t.locale=r.locale;const o=t.add(YA()),a=t.add(nge(K1e((e=>I4({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),rx,EV,e.style,t,{pulse:Kr(o)}))),l=t.add(sge({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:i,pulse:Kr(a)}));t.operators.pop(),t.pushState(Kr(a),Kr(l),null),Oge(e,t,s),t.operators.push(l);let u=t.add(ege({mark:i,pulse:Kr(l)}));return u=t.add(ige({pulse:Kr(u)})),u=t.add(jm({pulse:Kr(u)})),t.addData("root",new Wm(t,o,o,u)),t}(e,new Rge(t=E3(function zct(){const e="sans-serif",i="#4c78a8",s="#000",o="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:i},area:{fill:i},image:null,line:{stroke:i,strokeWidth:2},path:{stroke:i},rect:{fill:i},rule:{stroke:s},shape:{stroke:i},symbol:{fill:i,size:64},text:{fill:s,font:e,fontSize:11},trail:{fill:i,size:2},style:{"guide-label":{fill:s,font:e,fontSize:10},"guide-title":{fill:s,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:s,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:s,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),r)).toRuntime()}Rge.prototype=kge.prototype={parse(e){return Oge(e,this)},fork(){return new kge(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof xV?Kr(e):e;return this.add(sut({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function r(i,s,o){let a,l;i&&(a=i.data||(i.data={}),l=a[s]||(a[s]=[]),l.push(o))}for(e in this.data){t=this.data[e],r(t.input,e,"input"),r(t.output,e,"output"),r(t.values,e,"values");for(const i in t.index)r(t.index[i],e,"index:"+i)}return this},pushState(e,t,r){this._encode.push(Kr(this.add(jm({pulse:e})))),this._parent.push(t),this._lookup.push(r?Kr(this.proxy(r)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return ds(this._parent)},encode(){return ds(this._encode)},lookup(){return ds(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(or(e))return I9(e,t);e.signal||Yt("Unsupported field reference: "+Un(e));const r=e.signal;let i=this.field[r];if(!i){const s={name:this.signalRef(r)};t&&(s.as=t),this.field[r]=i=Kr(this.add(Wlt(s)))}return i},compareRef(e){let t=!1;const r=o=>Ka(o)?(t=!0,this.signalRef(o.signal)):function Olt(e){return e&&e.expr}(o)?(t=!0,this.exprRef(o.expr)):o,i=ar(e.field).map(r),s=ar(e.order).map(r);return t?Kr(this.add(tge({fields:i,orders:s}))):X1e(i,s)},keyRef(e,t){let r=!1;const s=this.signals;return e=ar(e).map(o=>Ka(o)?(r=!0,Kr(s[o.signal])):o),r?Kr(this.add(Ylt({fields:e,flat:t}))):function Mlt(e,t){const r={$key:e};return t&&(r.$flat=!0),r}(e,t)},sortRef(e){if(!e)return e;const t=JB(e.op,e.field),r=e.order||"ascending";return r.signal?Kr(this.add(tge({fields:t,orders:this.signalRef(r.signal)}))):X1e(t,r)},event(e,t){const r=e+":"+t;if(!this.events[r]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[r]=i}return this.events[r]},hasOwnSignal(e){return pr(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Yt("Duplicate signal name: "+Un(e));const r=t instanceof xV?t:this.add(XB(t));return this.signals[e]=r},getSignal(e){return this.signals[e]||Yt("Unrecognized signal name: "+Un(e)),this.signals[e]},signalRef(e){return this.signals[e]?Kr(this.signals[e]):(pr(this.lambdas,e)||(this.lambdas[e]=this.add(XB(null))),Kr(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,r=e.length;t<r;++t){const i=e[t],s=bh(i,this),o=this.lambdas[i];o.params=s.$params,o.update=s.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&sr(e)?this.signalRef(e.signal||jV(e)):e},exprRef(e,t){const r={expr:bh(e,this)};return t&&(r.expr.$name=t),Kr(this.add(jlt(r)))},addBinding(e,t){this.bindings||Yt("Nested signals do not support binding: "+Un(e)),this.bindings.push(Oi({signal:e},t))},addScaleProj(e,t){pr(this.scales,e)&&Yt("Duplicate scale or projection name: "+Un(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,aut(t))},addProjection(e,t){this.addScaleProj(e,iut(t))},getScale(e){return this.scales[e]||Yt("Unrecognized scale name: "+Un(e)),this.scales[e]},scaleRef(e){return Kr(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return pr(this.data,e)&&Yt("Duplicate data set name: "+Un(e)),this.data[e]=t},getData(e){return this.data[e]||Yt("Undefined data set name: "+Un(e)),this.data[e]},addDataPipeline(e,t){return pr(this.data,e)&&Yt("Duplicate data set name: "+Un(e)),this.addData(e,Wm.fromEntries(this,t))}};var jct="5.33.0";Oi(U3,Hs,M,Dr,kr,xe,Vn,Tt,Hn,Pr,Nt,ve);var Wct={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Yct={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Xct={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Jct=Array.prototype.slice,Xm=(e,t,r)=>{const i=r?r(t[0]):t[0];return i[e].apply(i,Jct.call(t,1))};var eft={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,r)=>Math.max(t,Math.min(r,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,r,i,s,o,a)=>new Date(e,t||0,r??1,i||0,s||0,o||0,a||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Xm("join",arguments)},indexof:function(){return Xm("indexOf",arguments)},lastindexof:function(){return Xm("lastIndexOf",arguments)},slice:function(){return Xm("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(B3),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Xm("substring",arguments,String)},split:function(){return Xm("split",arguments,String)},replace:function(){return Xm("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const tft=["view","item","group","xy","x","y"],KV=new Set([Function,eval,setTimeout,setInterval]);"function"==typeof setImmediate&&KV.add(setImmediate);const nft={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const r=t.name;return e.memberDepth>0?r:"datum"===r?e.datum:"event"===r?e.event:"item"===r?e.item:Wct[r]||e.params["$"+r]},MemberExpression:(e,t)=>{const r=!t.computed,i=e(t.object);r&&(e.memberDepth+=1);const s=e(t.property);if(r&&(e.memberDepth-=1),!KV.has(i[s]))return i[s];console.error(`Prevented interpretation of member "${s}" which could lead to insecure code execution`)},CallExpression:(e,t)=>{const r=t.arguments;let i=t.callee.name;return i.startsWith("_")&&(i=i.slice(1)),"if"===i?e(r[0])?e(r[1]):e(r[2]):(e.fn[i]||eft[i]).apply(e.fn,r.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Yct[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Xct[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((r,i)=>{e.memberDepth+=1;const s=e(i.key);return e.memberDepth-=1,KV.has(e(i.value))?console.error(`Prevented interpretation of property "${s}" which could lead to insecure code execution`):r[s]=e(i.value),r},{})};function L9(e,t,r,i,s,o){const a=l=>nft[l.type](a,l);return a.memberDepth=0,a.fn=Object.create(t),a.params=r,a.datum=i,a.event=s,a.item=o,tft.forEach(l=>a.fn[l]=function(){return s.vega[l](...arguments)}),a(e)}var rft={operator(e,t){const r=t.ast,i=e.functions;return s=>L9(r,i,s)},parameter(e,t){const r=t.ast,i=e.functions;return(s,o)=>L9(r,i,o,s)},event(e,t){const r=t.ast,i=e.functions;return s=>L9(r,i,void 0,void 0,s)},handler(e,t){const r=t.ast,i=e.functions;return(s,o)=>L9(r,i,s,o.item&&o.item.datum,o)},encode(e,t){const{marktype:r,channels:i}=t,s=e.functions,o="group"===r||"image"===r||"rect"===r;return(a,l)=>{const u=a.datum;let f,c=0;for(const A in i)f=L9(i[A].ast,s,l,u,void 0,a),a[A]!==f&&(a[A]=f,c=1);return"rule"!==r&&function Kct(e,t,r){let i;t.x2&&(t.x?(r&&e.x>e.x2&&(i=e.x,e.x=e.x2,e.x2=i),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(r&&e.y>e.y2&&(i=e.y,e.y=e.y2,e.y2=i),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(a,i,o),c}}};function WV(e){return Bn(e,"or")}function YV(e){return Bn(e,"and")}function XV(e){return Bn(e,"not")}function ux(e,t){if(XV(e))ux(e.not,t);else if(YV(e))for(const r of e.and)ux(r,t);else if(WV(e))for(const r of e.or)ux(r,t);else t(e)}function Q4(e,t){return XV(e)?{not:Q4(e.not,t)}:YV(e)?{and:e.and.map(r=>Q4(r,t))}:WV(e)?{or:e.or.map(r=>Q4(r,t))}:t(e)}const yi=structuredClone;function Pge(e){throw new Error(e)}function H4(e,t){const r={};for(const i of t)pr(e,i)&&(r[i]=e[i]);return r}function yc(e,t){const r={...e};for(const i of t)delete r[i];return r}function os(e){if(Ns(e))return e;const t=or(e)?e:ao(e);if(t.length<250)return t;let r=0;for(let i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i),r&=r;return r}function JV(e){return!1===e||null===e}function Yi(e,t){return e.includes(t)}function V4(e,t){let r=0;for(const[i,s]of e.entries())if(t(s,i,r++))return!0;return!1}function ZV(e,t){let r=0;for(const[i,s]of e.entries())if(!t(s,i,r++))return!1;return!0}function Uge(e,...t){for(const r of t)sft(e,r??{});return e}function sft(e,t){for(const r of fn(t))S3(e,r,t[r],!0)}function Ch(e,t){const r=[],i={};let s;for(const o of e)s=t(o),!(s in i)&&(i[s]=1,r.push(o));return r}function oft(e,t){const r=fn(e),i=fn(t);if(r.length!==i.length)return!1;for(const s of r)if(e[s]!==t[s])return!1;return!0}function Lge(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function e$(e,t){for(const r of e)if(t.has(r))return!0;return!1}function t$(e){const t=new Set;for(const r of e){const s=Yd(r).map((a,l)=>0===l?a:`[${a}]`),o=s.map((a,l)=>s.slice(0,l+1).join(""));for(const a of o)t.add(a)}return t}function n$(e,t){return void 0===e||void 0===t||e$(t$(e),t$(t))}function oo(e){return 0===fn(e).length}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>ao(e)).join(",")})`};const fn=Object.keys,Rl=Object.values,L1=Object.entries;function Q9(e){return!0===e||!1===e}function $o(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function H9(e,t){return XV(e)?`!(${H9(e.not,t)})`:YV(e)?`(${e.and.map(r=>H9(r,t)).join(") && (")})`:WV(e)?`(${e.or.map(r=>H9(r,t)).join(") || (")})`:t(e)}function cx(e,t){if(0===t.length)return!0;const r=t.shift();return r in e&&cx(e[r],t)&&delete e[r],oo(e)}function V9(e){return e.charAt(0).toUpperCase()+e.substr(1)}function r$(e,t="datum"){const r=Yd(e),i=[];for(let s=1;s<=r.length;s++){const o=`[${r.slice(0,s).map(Un).join("][")}]`;i.push(`${t}${o}`)}return i.join(" && ")}function Qge(e,t="datum"){return`${t}[${Un(Yd(e).join("."))}]`}function eo(e){return`datum['${e.replaceAll("'","\\'")}']`}function aft(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Zf(e){return`${Yd(e).map(aft).join("\\.")}`}function Jm(e,t,r){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),r)}function $4(e){return`${Yd(e).join(".")}`}function G4(e){return e?Yd(e).length:0}function Ca(...e){return e.find(t=>void 0!==t)}let Hge=42;function Vge(e){const t=++Hge;return e?String(e)+t:t}function lft(){Hge=42}function $ge(e){return Gge(e)?e:`__${e}`}function Gge(e){return e.startsWith("__")}function $9(e){if(void 0!==e)return(e%360+360)%360}function fx(e){return!!Ns(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const zge=Object.getPrototypeOf(structuredClone({}));function rf(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor.name!==t.constructor.name)return!1;let r,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;0!=i--;)if(!rf(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!rf(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;0!=i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==zge.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==zge.toString)return e.toString()===t.toString();const s=Object.keys(e);if(r=s.length,r!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;0!=i--;){const o=s[i];if(!rf(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function ao(e){const t=[];return function r(i){if(i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),void 0===i)return;if("number"==typeof i)return isFinite(i)?""+i:"null";if("object"!=typeof i)return JSON.stringify(i);let s,o;if(Array.isArray(i)){for(o="[",s=0;s<i.length;s++)s&&(o+=","),o+=r(i[s])||"null";return o+"]"}if(null===i)return"null";if(t.includes(i))throw new TypeError("Converting circular structure to JSON");const a=t.push(i)-1,l=Object.keys(i).sort();for(o="",s=0;s<l.length;s++){const u=l[s],c=r(i[u]);!c||(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return t.splice(a,1),`{${o}}`}(e)}function Bn(e,t){return sr(e)&&pr(e,t)&&void 0!==e[t]}const k0="row",P0="column",Ax="facet",Go="x",gl="y",ZA="x2",Eh="y2",Q1="xOffset",z4="yOffset",ed="radius",U0="radius2",eA="theta",L0="theta2",td="latitude",nd="longitude",rd="latitude2",tA="longitude2",H1="time",wc="color",Sh="fill",Bh="stroke",bc="shape",Q0="size",Zm="angle",H0="opacity",V1="fillOpacity",$1="strokeOpacity",G1="strokeWidth",z1="strokeDash",G9="text",q4="order",z9="detail",dx="key",e2="tooltip",hx="href",px="url",gx="description",qge={theta:1,theta2:1,radius:1,radius2:1};function jge(e){return pr(qge,e)}const i$={longitude:1,longitude2:1,latitude:1,latitude2:1};function Kge(e){switch(e){case td:return"y";case rd:return"y2";case nd:return"x";case tA:return"x2"}}function Wge(e){return pr(i$,e)}const cft=fn(i$),s$={x:1,y:1,x2:1,y2:1,...qge,...i$,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function j4(e){return e===wc||e===Sh||e===Bh}const Yge={row:1,column:1,facet:1},nA=fn(Yge),o$={...s$,...Yge},fft=fn(o$),{order:jBt,detail:KBt,tooltip:WBt,...Xge}=o$,{row:YBt,column:XBt,facet:JBt,...Jge}=Xge;function Aft(e){return pr(Jge,e)}function Zge(e){return pr(o$,e)}fn(Xge),fn(Jge);const dft=[ZA,Eh,rd,tA,L0,U0];function eme(e){return t2(e)!==e}function t2(e){switch(e){case ZA:return Go;case Eh:return gl;case rd:return td;case tA:return nd;case L0:return eA;case U0:return ed}return e}function q1(e){if(jge(e))switch(e){case eA:return"startAngle";case L0:return"endAngle";case ed:return"outerRadius";case U0:return"innerRadius"}return e}function xh(e){switch(e){case Go:return ZA;case gl:return Eh;case td:return rd;case nd:return tA;case eA:return L0;case ed:return U0}}function Cc(e){switch(e){case Go:case ZA:return"width";case gl:case Eh:return"height"}}function tme(e){switch(e){case Go:return"xOffset";case gl:return"yOffset";case ZA:return"x2Offset";case Eh:return"y2Offset";case eA:return"thetaOffset";case ed:return"radiusOffset";case L0:return"theta2Offset";case U0:return"radius2Offset"}}function a$(e){switch(e){case Go:return"xOffset";case gl:return"yOffset"}}function hft(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const pft=fn(s$),{x:txt,y:nxt,x2:rxt,y2:ixt,xOffset:sxt,yOffset:oxt,latitude:axt,longitude:lxt,latitude2:uxt,longitude2:cxt,theta:fxt,theta2:Axt,radius:dxt,radius2:hxt,...l$}=s$,gft=fn(l$),u$={x:1,y:1},V0=fn(u$);function Ea(e){return pr(u$,e)}const c$={theta:1,radius:1},mft=fn(c$);function mx(e){return"width"===e?Go:gl}const f$={xOffset:1,yOffset:1};function q9(e){return pr(f$,e)}fn(f$);const nme={time:1};function A$(e){return e in nme}fn(nme);const{text:mxt,tooltip:vxt,href:_xt,url:yxt,description:wxt,detail:bxt,key:Cxt,order:Ext,...rme}=l$,vft=fn(rme),ime={...u$,...c$,...f$,...rme},d$=fn(ime);function Dh(e){return pr(ime,e)}const sme={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Sxt,...bft}=sme;function h$(e){switch(e){case Go:case gl:case eA:case ed:case Q1:case z4:case Q0:case Zm:case G1:case H0:case V1:case $1:case H1:case ZA:case Eh:case L0:case U0:return;case Ax:case k0:case P0:case bc:case z1:case G9:case e2:case hx:case px:case gx:return"discrete";case wc:case Sh:case Bh:return"flexible";case td:case nd:case rd:case tA:case z9:case dx:case q4:return}}const Eft={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Sft={count:1,min:1,max:1};function $0(e){return Bn(e,"argmin")}function j1(e){return Bn(e,"argmax")}function p$(e){return or(e)&&pr(Eft,e)}const Bft=new Set(["count","valid","missing","distinct"]);function vx(e){return or(e)&&Bft.has(e)}const Dft=new Set(["count","sum","distinct","valid","missing"]),Fft=new Set(["mean","average","median","q1","q3","min","max"]);function ome(e){return Zp(e)&&(e=Ux(e,void 0)),"bin"+fn(e).map(t=>_x(e[t])?$o(`_${t}_${L1(e[t])}`):$o(`_${t}_${e[t]}`)).join("")}function So(e){return!0===e||n2(e)&&!e.binned}function kl(e){return"binned"===e||n2(e)&&!0===e.binned}function n2(e){return sr(e)}function _x(e){return Bn(e,"param")}function ame(e){switch(e){case k0:case P0:case Q0:case wc:case Sh:case Bh:case G1:case H0:case V1:case $1:case bc:return 6;case z1:return 4;default:return 10}}function j9(e){return Bn(e,"expr")}function Pl(e,{level:t}={level:0}){const r=fn(e||{}),i={};for(const s of r)i[s]=0===t?sf(e[s]):Pl(e[s],{level:t-1});return i}function lme(e){const{anchor:t,frame:r,offset:i,orient:s,angle:o,limit:a,color:l,subtitleColor:u,subtitleFont:c,subtitleFontSize:f,subtitleFontStyle:A,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:g,...m}=e,_={...t?{anchor:t}:{},...r?{frame:r}:{},...i?{offset:i}:{},...s?{orient:s}:{},...void 0!==o?{angle:o}:{},...void 0!==a?{limit:a}:{}},C={...u?{subtitleColor:u}:{},...c?{subtitleFont:c}:{},...f?{subtitleFontSize:f}:{},...A?{subtitleFontStyle:A}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...g?{subtitlePadding:g}:{}};return{titleMarkConfig:{...m,...l?{fill:l}:{}},subtitleMarkConfig:H4(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:_,subtitle:C}}function K1(e){return or(e)||Zt(e)&&or(e[0])}function Ir(e){return Bn(e,"signal")}function r2(e){return Bn(e,"step")}function G0(e){return!Zt(e)&&Bn(e,"field")&&Bn(e,"data")}const Ift=fn({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Nft={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},g$=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ume(e){const t=Zt(e.condition)?e.condition.map(cme):cme(e.condition);return{...sf(e),condition:t}}function sf(e){if(j9(e)){const{expr:t,...r}=e;return{signal:t,...r}}return e}function cme(e){if(j9(e)){const{expr:t,...r}=e;return{signal:t,...r}}return e}function No(e){if(j9(e)){const{expr:t,...r}=e;return{signal:t,...r}}return Ir(e)?e:void 0!==e?{value:e}:void 0}function Oft(e){return Ir(e)?e.signal:Un(e)}function fme(e){return Ir(e)?e.signal:Un(e.value)}function id(e){return Ir(e)?e.signal:null==e?null:Un(e)}function Rft(e,t,r){for(const i of r){const s=Fh(i,t.markDef,t.config);void 0!==s&&(e[i]=No(s))}return e}function Ame(e){return[].concat(e.type,e.style??[])}function lo(e,t,r,i={}){const{vgChannel:s,ignoreVgConfig:o}=i;return s&&Bn(t,s)?t[s]:void 0!==t[e]?t[e]:!o||s&&s!==e?Fh(e,t,r,i):void 0}function Fh(e,t,r,{vgChannel:i}={}){const s=m$(e,t,r.style);return Ca(i?s:void 0,s,i?r[t.type][i]:void 0,r[t.type][e],i?r.mark[i]:r.mark[e])}function m$(e,t,r){return dme(e,Ame(t),r)}function dme(e,t,r){let i;t=ar(t);for(const s of t){const o=r[s];Bn(o,e)&&(i=o[e])}return i}function hme(e,t){return ar(e).reduce((r,i)=>(r.field.push(Yn(i,t)),r.order.push(i.sort??"ascending"),r),{field:[],order:[]})}function pme(e,t){const r=[...e];return t.forEach(i=>{for(const s of r)if(rf(s,i))return;r.push(i)}),r}function gme(e,t){return rf(e,t)||!t?e:e?[...ar(e),...ar(t)].join(", "):t}function mme(e,t){const r=e.value,i=t.value;if(null==r||null===i)return{explicit:e.explicit,value:null};if((K1(r)||Ir(r))&&(K1(i)||Ir(i)))return{explicit:e.explicit,value:gme(r,i)};if(K1(r)||Ir(r))return{explicit:e.explicit,value:r};if(K1(i)||Ir(i))return{explicit:e.explicit,value:i};if(!(K1(r)||Ir(r)||K1(i)||Ir(i)))return{explicit:e.explicit,value:pme(r,i)};throw new Error("It should never reach here")}function v$(e){return`Invalid specification ${ao(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function vme(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function _me(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function yme(e){return e?`Dropping "fit-${e}" because spec has discrete ${Cc(e)}.`:'Dropping "fit" because spec has discrete size.'}function _$(e){return`Unknown field for ${e}. Cannot calculate view size.`}function wme(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Pft(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function bme(e){return`Selection not supported for ${e} yet.`}function Cme(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const y$="Animation involving facet, layer, or concat is currently unsupported.";function Eme(e,t,r){return`An ancestor parsed field "${e}" as ${r} but a child wants to parse the field as ${t}.`}function eAt(e){return`Ignoring an invalid transform: ${ao(e)}.`}function Sme(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function iAt(e){return`${e}Offset dropped because ${e} is continuous`}function Bme(e){return`Invalid field type "${e}".`}function xme(e,t){const{fill:r,stroke:i}=t;return`Dropping color ${e} as the plot also has ${r&&i?"fill and stroke":r?"fill":"stroke"}.`}function w$(e,t){return`Dropping ${ao(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function yx(e,t,r){return`${e} dropped as it is incompatible with "${t}"${r?` when ${r}`:""}.`}function cAt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function fAt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function AAt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function b$(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function _At(e){return`Using unaggregated domain with raw field has no effect (${ao(e)}).`}function yAt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function wAt(e){return`Unaggregated domain is currently unsupported for log scale (${ao(e)}).`}function Dme(e,t,r){return`${r}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Fme(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const Mme="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function wx(e,t){return`Invalid ${e}: ${ao(t)}.`}function Tme(e){return`1D error band does not support ${e}.`}function Ime(e){return`Channel ${e} is required for "binned" bin.`}const Nme=jO(qO);let Mh=Nme;function C$(...e){Mh.error(...e)}function In(...e){Mh.warn(...e)}function s2(e){if(e&&sr(e))for(const t of S$)if(Bn(e,t))return!0;return!1}const Rme=["january","february","march","april","may","june","july","august","september","october","november","december"],zAt=Rme.map(e=>e.substr(0,3)),kme=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],qAt=kme.map(e=>e.substr(0,3));function E$(e,t){const r=[];if(t&&void 0!==e.day&&fn(e).length>1&&(In(function RAt(e){return`Dropping day from datetime ${ao(e)} as day cannot be combined with other units.`}(e)),delete(e=yi(e)).day),r.push(void 0!==e.year?e.year:2012),void 0!==e.month){const i=t?function KAt(e){if(fx(e)&&(e=+e),Ns(e))return e-1;{const t=e.toLowerCase(),r=Rme.indexOf(t);if(-1!==r)return r;const i=t.substr(0,3),s=zAt.indexOf(i);if(-1!==s)return s;throw new Error(wx("month",e))}}(e.month):e.month;r.push(i)}else if(void 0!==e.quarter){const i=t?function jAt(e){if(fx(e)&&(e=+e),Ns(e))return e>4&&In(wx("quarter",e)),e-1;throw new Error(wx("quarter",e))}(e.quarter):e.quarter;r.push(Ns(i)?3*i:`${i}*3`)}else r.push(0);if(void 0!==e.date)r.push(e.date);else if(void 0!==e.day){const i=t?function WAt(e){if(fx(e)&&(e=+e),Ns(e))return e%7;{const t=e.toLowerCase(),r=kme.indexOf(t);if(-1!==r)return r;const i=t.substr(0,3),s=qAt.indexOf(i);if(-1!==s)return s;throw new Error(wx("day",e))}}(e.day):e.day;r.push(Ns(i)?i+1:`${i}+1`)}else r.push(1);for(const i of["hours","minutes","seconds","milliseconds"]){const s=e[i];r.push(void 0===s?0:s)}return r}function o2(e){const r=E$(e,!0).join(", ");return e.utc?`utc(${r})`:`datetime(${r})`}const Pme={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},S$=fn(Pme);function a2(e){return sr(e)?e.binned:Ume(e)}function Ume(e){return e&&e.startsWith("binned")}function B$(e){return e.startsWith("utc")}const edt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function bx(e){return S$.filter(t=>Qme(e,t))}function Lme(e){const t=bx(e);return t[t.length-1]}function Qme(e,t){const r=e.indexOf(t);return!(r<0||r>0&&"seconds"===t&&"i"===e.charAt(r-1)||e.length>r+3&&"day"===t&&"o"===e.charAt(r+3)||r>0&&"year"===t&&"f"===e.charAt(r-1))}function Hme(e){if(e)return`timeUnitSpecifier(${ao(bx(e))}, ${ao(edt)})`}function ml(e){if(!e)return;let t;return or(e)?t=Ume(e)?{unit:e.substring(6),binned:!0}:{unit:e}:sr(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),B$(t.unit)&&(t.utc=!0,t.unit=function ZAt(e){return e.substring(3)}(t.unit)),t}function Vme(e,t=(r=>r)){const r=ml(e),i=Lme(r.unit);if(i&&"day"!==i){const s={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:a}=$me(i,r.step);return`${t(o2({...s,[a]:+s[a]+o}))} - ${t(o2(s))}`}}const idt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function $me(e,t=1){if(function sdt(e){return pr(idt,e)}(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:3*t};case"week":return{part:"date",step:7*t}}}function x$(e){return!!e?.field&&void 0!==e.equal}function D$(e){return!!e?.field&&void 0!==e.lt}function F$(e){return!!e?.field&&void 0!==e.lte}function M$(e){return!!e?.field&&void 0!==e.gt}function T$(e){return!!e?.field&&void 0!==e.gte}function I$(e){if(e?.field){if(Zt(e.range)&&2===e.range.length)return!0;if(Ir(e.range))return!0}return!1}function N$(e){return!!e?.field&&(Zt(e.oneOf)||Zt(e.in))}function Gme(e){return N$(e)||x$(e)||I$(e)||D$(e)||M$(e)||F$(e)||T$(e)}function Th(e,t){return Lx(e,{timeUnit:t,wrapTime:!0})}function zme(e,t=!0){const{field:r}=e,i=ml(e.timeUnit),{unit:s,binned:o}=i||{},a=Yn(e,{expr:"datum"}),l=s?`time(${o?a:function tdt(e,t,{end:r}={end:!1}){const i=r$(t),s=B$(e)?"utc":"";function o(u){return"quarter"===u?`(${s}quarter(${i})-1)`:`${s}${u}(${i})`}let a;const l={};for(const u of S$)Qme(e,u)&&(l[u]=o(u),a=u);return r&&(l[a]+="+1"),function YAt(e){const r=E$(e,!1).join(", ");return e.utc?`utc(${r})`:`datetime(${r})`}(l)}(s,r)})`:a;if(x$(e))return`${l}===${Th(e.equal,s)}`;if(D$(e))return`${l}<${Th(e.lt,s)}`;if(M$(e))return`${l}>${Th(e.gt,s)}`;if(F$(e))return`${l}<=${Th(e.lte,s)}`;if(T$(e))return`${l}>=${Th(e.gte,s)}`;if(N$(e))return`indexof([${function ldt(e,t){return e.map(r=>Th(r,t))}(e.oneOf,s).join(",")}], ${l}) !== -1`;if(function adt(e){return!!e?.field&&void 0!==e.valid}(e))return Cx(l,e.valid);if(I$(e)){const{range:u}=Pl(e),c=Ir(u)?{signal:`${u.signal}[0]`}:u[0],f=Ir(u)?{signal:`${u.signal}[1]`}:u[1];if(null!==c&&null!==f&&t)return"inrange("+l+", ["+Th(c,s)+", "+Th(f,s)+"])";const A=[];return null!==c&&A.push(`${l} >= ${Th(c,s)}`),null!==f&&A.push(`${l} <= ${Th(f,s)}`),A.length>0?A.join(" && "):"true"}throw new Error(`Invalid field predicate: ${ao(e)}`)}function Cx(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function udt(e){return Gme(e)&&e.timeUnit?{...e,timeUnit:ml(e.timeUnit)}:e}const l2={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function cdt(e){return"quantitative"===e||"temporal"===e}function qme(e){return"ordinal"===e||"nominal"===e}const u2=l2.quantitative,O$=l2.ordinal,K4=l2.temporal,R$=l2.nominal,W4=l2.geojson;fn(l2);const Ex={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Adt(e,t){const r=Ex[e],i=Ex[t];return r===i||"ordinal-position"===r&&"time"===i||"ordinal-position"===i&&"time"===r}fn(Ex);const ddt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function jme(e){return ddt[e]}const Kme=new Set(["linear","log","pow","sqrt","symlog"]),Wme=new Set([...Kme,"time","utc"]);function Yme(e){return Kme.has(e)}const Xme=new Set(["quantile","quantize","threshold"]),hdt=new Set([...Wme,...Xme,"sequential","identity"]),pdt=new Set(["ordinal","bin-ordinal","point","band"]);function vl(e){return pdt.has(e)}function sd(e){return hdt.has(e)}function Ih(e){return Wme.has(e)}function Y4(e){return Xme.has(e)}function Jme(e){return Bn(e,"param")}const Zme={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:qxt,domain:jxt,range:Kxt,rangeMax:Wxt,rangeMin:Yxt,scheme:Xxt,...ydt}=(fn(Zme),Zme),wdt=fn(ydt);function k$(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Ih(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return Ih(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Ih(e);case"nice":return Ih(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return sd(e)&&!Yi(["log","time","utc","threshold","quantile"],e)}}function e2e(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return j4(e)?void 0:function mAt(e){return`Cannot use the scale property "${e}" with non-color channel.`}(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const hu={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},t2e=hu.arc,Sx=hu.area,Bx=hu.bar,Sdt=hu.image,xx=hu.line,Dx=hu.point,Bdt=hu.rect,Fx=hu.rule,n2e=hu.text,P$=hu.tick,xdt=hu.trail,U$=hu.circle,L$=hu.square,r2e=hu.geoshape;function Y1(e){return["line","area","trail"].includes(e)}function W9(e){return["rect","bar","image","arc","tick"].includes(e)}const i2e=new Set(fn(hu));function od(e){return Bn(e,"type")}const Mdt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],s2e=fn({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Q$=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],Tdt={area:["line","point"],bar:Q$,rect:Q$,line:["point"],tick:["bandSize","thickness",...Q$]},o2e=fn({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function c2(e){return Bn(e,"band")}const Ndt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},H$={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},Odt={...H$,binSpacing:1},Rdt={...H$,thickness:1};function a2e(e,{isPath:t}){return void 0===e||"break-paths-show-path-domains"===e?t?"break-paths-show-domains":"filter":null===e?"show":e}function V$({markDef:e,config:t,scaleChannel:r,scaleType:i,isCountAggregate:s}){if(!i||!sd(i)||s)return"always-valid";const o=a2e(lo("invalid",e,t),{isPath:Y1(e.type)});return void 0!==t.scale?.invalid?.[r]?"show":o}function l2e({scaleName:e,scale:t,mode:r}){const i=`domain('${e}')`;if(!t||!e)return;const s=`${i}[0]`,o=`peek(${i})`,a=t.domainHasZero();return"definitely"===a?{scale:e,value:0}:"maybe"===a?{signal:`scale('${e}', inrange(0, ${i}) ? 0 : ${"zeroOrMin"===r?s:o})`}:{signal:`scale('${e}', ${"zeroOrMin"===r?s:o})`}}function u2e({scaleChannel:e,channelDef:t,scale:r,scaleName:i,markDef:s,config:o}){const a=r?.get("type"),l=ud(t),c=V$({scaleChannel:e,markDef:s,config:o,scaleType:a,isCountAggregate:vx(l?.aggregate)});if(l&&"show"===c){const f=o.scale.invalid?.[e]??"zero-or-min";return{test:Cx(Yn(l,{expr:"datum"}),!1),...Udt(f,r,i)}}}function Udt(e,t,r){if(function Edt(e){return sr(e)&&"value"in e}(e)){const{value:i}=e;return Ir(i)?{signal:i.signal}:{value:i}}return l2e({scale:t,scaleName:r,mode:"zeroOrMin"})}function $$(e){const{channel:t,channelDef:r,markDef:i,scale:s,scaleName:o,config:a}=e,l=t2(t),u=G$(e),c=u2e({scaleChannel:l,channelDef:r,scale:s,scaleName:o,markDef:i,config:a});return void 0!==c?[c,u]:u}function f2(e,t,r,i){const s={};if(t&&(s.scale=t),Nh(e)){const{datum:o}=e;s2(o)?s.signal=o2(o):Ir(o)?s.signal=o.signal:j9(o)?s.signal=o.expr:s.value=o}else s.field=Yn(e,r);if(i){const{offset:o,band:a}=i;o&&(s.offset=o),a&&(s.band=a)}return s}function Mx({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:r,offset:i,startSuffix:s,endSuffix:o="end",bandPosition:a=.5}){const l=!Ir(a)&&0<a&&a<1?"datum":void 0,u=Yn(t,{expr:l,suffix:s}),c=void 0!==r?Yn(r,{expr:l}):Yn(t,{suffix:o,expr:l}),f={};if(0===a||1===a)f.scale=e,f.field=0===a?u:c;else{const A=Ir(a)?`(1-${a.signal}) * ${u} + ${a.signal} * ${c}`:`${1-a} * ${u} + ${a} * ${c}`;f.signal=`scale("${e}", ${A})`}return i&&(f.offset=i),f}function G$({channel:e,channelDef:t,channel2Def:r,markDef:i,config:s,scaleName:o,scale:a,stack:l,offset:u,defaultRef:c,bandPosition:f}){if(t){if(Si(t)){const A=a?.get("type");if(ju(t)){f??(f=X1({fieldDef:t,fieldDef2:r,markDef:i,config:s}));const{bin:d,timeUnit:h,type:g}=t;if(So(d)||f&&h&&g===K4)return l?.impute?f2(t,o,{binSuffix:"mid"},{offset:u}):f&&!vl(A)?Mx({scaleName:o,fieldOrDatumDef:t,bandPosition:f,offset:u}):f2(t,o,t7(t,e)?{binSuffix:"range"}:{},{offset:u});if(kl(d)){if(kn(r))return Mx({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:r,bandPosition:f,offset:u});In(Ime(e===Go?ZA:Eh))}}return f2(t,o,vl(A)?{binSuffix:"range"}:{},{offset:u,band:"band"===A?f??t.bandPosition??.5:void 0})}if(ld(t)){const d=u?{offset:u}:{};return{...Y9(e,t.value),...d}}}return Ni(c)&&(c=c()),c&&{...c,...u?{offset:u}:{}}}function Y9(e,t){return Yi(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:Yi(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:No(t)}function A2(e){return e&&"number"!==e&&"time"!==e}function c2e(e,t,r){return`${e}(${t}${r?`, ${ao(r)}`:""})`}function z$({fieldOrDatumDef:e,format:t,formatType:r,expr:i,normalizeStack:s,config:o}){if(A2(r))return ad({fieldOrDatumDef:e,format:t,formatType:r,expr:i,config:o});const a=f2e(e,i,s),l=X4(e);if(void 0===t&&void 0===r&&o.customFormatTypes){if("quantitative"===l){if(s&&o.normalizedNumberFormatType)return ad({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:i,config:o});if(o.numberFormatType)return ad({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:i,config:o})}if("temporal"===l&&o.timeFormatType&&kn(e)&&void 0===e.timeUnit)return ad({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:i,config:o})}if(t5(e)){const u=function $dt({field:e,timeUnit:t,format:r,formatType:i,rawTimeFormat:s,isUTCScale:o}){return!t||r?!t&&i?`${i}(${e}, '${r}')`:`${o?"utc":"time"}Format(${e}, '${r=or(r)?r:s}')`:function ndt(e,t,r){if(!e)return;const i=Hme(e);return`${r||B$(e)?"utc":"time"}Format(${t}, ${i})`}(t,e,o)}({field:a,timeUnit:kn(e)?ml(e.timeUnit)?.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:d2(e)&&"utc"===e.scale?.type});return u?{signal:u}:void 0}return t=q$({type:l,specifiedFormat:t,config:o,normalizeStack:s}),kn(e)&&So(e.bin)?{signal:X9(a,Yn(e,{expr:i,binSuffix:"end"}),t,r,o)}:t||"quantitative"===X4(e)?{signal:`${h2e(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function f2e(e,t,r){return kn(e)?r?`${Yn(e,{expr:t,suffix:"end"})}-${Yn(e,{expr:t,suffix:"start"})}`:Yn(e,{expr:t}):function Ldt(e){const{datum:t}=e;return s2(t)?o2(t):`${ao(t)}`}(e)}function ad({fieldOrDatumDef:e,format:t,formatType:r,expr:i,normalizeStack:s,config:o,field:a}){return a??(a=f2e(e,i,s)),"datum.value"!==a&&kn(e)&&So(e.bin)?{signal:X9(a,Yn(e,{expr:i,binSuffix:"end"}),t,r,o)}:{signal:c2e(r,a,t)}}function A2e(e,t,r,i,s,o){if(!(or(i)&&A2(i)||void 0===r&&void 0===i&&s.customFormatTypes&&"quantitative"===X4(e)&&(s.normalizedNumberFormatType&&J4(e)&&"normalize"===e.stack||s.numberFormatType))){if(J4(e)&&"normalize"===e.stack&&s.normalizedNumberFormat)return q$({type:"quantitative",config:s,normalizeStack:!0});if(t5(e)){const a=kn(e)?ml(e.timeUnit)?.unit:void 0;return void 0===a&&s.customFormatTypes&&s.timeFormatType?void 0:function Vdt({specifiedFormat:e,timeUnit:t,config:r,omitTimeFormatConfig:i}){return e||(t?{signal:Hme(t)}:i?void 0:r.timeFormat)}({specifiedFormat:r,timeUnit:a,config:s,omitTimeFormatConfig:o})}return q$({type:t,specifiedFormat:r,config:s})}}function d2e(e,t,r){return e&&(Ir(e)||"number"===e||"time"===e)?e:t5(t)&&"time"!==r&&"utc"!==r?kn(t)&&ml(t?.timeUnit)?.utc?"utc":"time":void 0}function q$({type:e,specifiedFormat:t,config:r,normalizeStack:i}){return or(t)?t:e===u2?i?r.normalizedNumberFormat:r.numberFormat:void 0}function h2e(e,t){return`format(${e}, "${t||""}")`}function p2e(e,t,r,i){return A2(r)?c2e(r,e,t):h2e(e,(or(t)?t:void 0)??i.numberFormat)}function X9(e,t,r,i,s){if(void 0===r&&void 0===i&&s.customFormatTypes&&s.numberFormatType)return X9(e,t,s.numberFormat,s.numberFormatType,s);const o=p2e(e,r,i,s),a=p2e(t,r,i,s);return`${Cx(e,!1)} ? "null" : ${o} + " \u2013 " + ${a}`}const Tx="min",Gdt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function g2e(e){return pr(Gdt,e)}function z0(e){return e&&("count"===e.op||Bn(e,"field"))}function m2e(e){return e&&Zt(e)}function J9(e){return Bn(e,"row")||Bn(e,"column")}function j$(e){return Bn(e,"header")}function Ix(e){return Bn(e,"facet")}function v2e(e){const{field:t,timeUnit:r,bin:i,aggregate:s}=e;return{...r?{timeUnit:r}:{},...i?{bin:i}:{},...s?{aggregate:s}:{},field:t}}function K$(e){return Bn(e,"sort")}function X1({fieldDef:e,fieldDef2:t,markDef:r,config:i}){if(Si(e)&&void 0!==e.bandPosition)return e.bandPosition;if(kn(e)){const{timeUnit:s,bin:o}=e;if(s&&!t)return Fh("timeUnitBandPosition",r,i);if(So(o))return.5}}function _2e({channel:e,fieldDef:t,fieldDef2:r,markDef:i,config:s,scaleType:o,useVlSizeChannel:a}){const l=Cc(e),u=lo(a?"size":l,i,s,{vgChannel:l});if(void 0!==u)return u;if(kn(t)){const{timeUnit:c,bin:f}=t;if(c&&!r)return{band:Fh("timeUnitBandSize",i,s)};if(So(f)&&!vl(o))return{band:1}}return W9(i.type)?o?vl(o)?s[i.type]?.discreteBandSize||{band:1}:s[i.type]?.continuousBandSize:s[i.type]?.discreteBandSize:void 0}function y2e(e,t,r,i){return!!(So(e.bin)||e.timeUnit&&ju(e)&&"temporal"===e.type)&&void 0!==X1({fieldDef:e,fieldDef2:t,markDef:r,config:i})}function w2e(e){return Bn(e,"sort")&&!Bn(e,"field")}function Z9(e){return Bn(e,"condition")}function Nx(e){const t=e?.condition;return!!t&&!Zt(t)&&kn(t)}function e7(e){const t=e?.condition;return!!t&&!Zt(t)&&Si(t)}function kn(e){return Bn(e,"field")||"count"===e?.aggregate}function X4(e){return e?.type}function Nh(e){return Bn(e,"datum")}function J1(e){return ju(e)&&!Rx(e)||Ox(e)}function b2e(e){return ju(e)&&"quantitative"===e.type&&!e.bin||Ox(e)}function Ox(e){return Nh(e)&&Ns(e.datum)}function Si(e){return kn(e)||Nh(e)}function ju(e){return e&&(Bn(e,"field")||"count"===e.aggregate)&&Bn(e,"type")}function ld(e){return Bn(e,"value")}function d2(e){return Bn(e,"scale")||Bn(e,"sort")}function J4(e){return Bn(e,"axis")||Bn(e,"stack")||Bn(e,"impute")}function C2e(e){return Bn(e,"legend")}function E2e(e){return Bn(e,"format")||Bn(e,"formatType")}function Wdt(e){return yc(e,["legend","axis","header","scale"])}function Yn(e,t={}){let r=e.field;const i=t.prefix;let s=t.suffix,o="";if(function Jdt(e){return"count"===e.aggregate}(e))r=$ge("count");else{let a;if(!t.nofn)if(function Ydt(e){return Bn(e,"op")}(e))a=e.op;else{const{bin:l,aggregate:u,timeUnit:c}=e;So(l)?(a=ome(l),s=(t.binSuffix??"")+(t.suffix??"")):u?j1(u)?(o=`["${r}"]`,r=`argmax_${u.argmax}`):$0(u)?(o=`["${r}"]`,r=`argmin_${u.argmin}`):a=String(u):c&&!a2(c)&&(a=function rdt(e){const{utc:t,...r}=ml(e);return r.unit?(t?"utc":"")+fn(r).map(i=>$o(`${"unit"===i?"":`_${i}_`}${r[i]}`)).join(""):(t?"utc":"")+"timeunit"+fn(r).map(i=>$o(`_${i}_${r[i]}`)).join("")}(c),s=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(r=r?`${a}_${r}`:a)}return s&&(r=`${r}_${s}`),i&&(r=`${i}_${r}`),t.forAs?$4(r):t.expr?Qge(r,t.expr)+o:Zf(r)+o}function Rx(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return kn(e)&&!!e.bin;case"temporal":return!1}throw new Error(Bme(e.type))}const S2e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function eht(e){const{aggregate:t,bin:r,timeUnit:i,field:s}=e;if(j1(t))return`${s} for argmax(${t.argmax})`;if($0(t))return`${s} for argmin(${t.argmin})`;const o=i&&!a2(i)?ml(i):void 0,a=t||o?.unit||o?.maxbins&&"timeunit"||So(r)&&"bin";return a?`${a.toUpperCase()}(${s})`:s}(e);default:return function Zdt(e,t){const{field:r,bin:i,timeUnit:s,aggregate:o}=e;if("count"===o)return t.countTitle;if(So(i))return`${r} (binned)`;if(s&&!a2(s)){const a=ml(s)?.unit;if(a)return`${r} (${bx(a).join("-")})`}else if(o)return j1(o)?`${r} for max ${o.argmax}`:$0(o)?`${r} for min ${o.argmin}`:`${V9(o)} of ${r}`;return r}(e,t)}};let B2e=S2e;function x2e(e){B2e=e}function Z4(e,t,{allowDisabling:r,includeDefault:i=!0}){const s=W$(e)?.title;if(!kn(e))return s??e.title;const o=e,a=i?Y$(o,t):void 0;return r?Ca(s,o.title,a):s??o.title??a}function W$(e){return J4(e)&&e.axis?e.axis:C2e(e)&&e.legend?e.legend:j$(e)&&e.header?e.header:void 0}function Y$(e,t){return B2e(e,t)}function kx(e){if(E2e(e)){const{format:t,formatType:r}=e;return{format:t,formatType:r}}{const t=W$(e)??{},{format:r,formatType:i}=t;return{format:r,formatType:i}}}function ud(e){return kn(e)?e:Nx(e)?e.condition:void 0}function Wa(e){return Si(e)?e:e7(e)?e.condition:void 0}function D2e(e,t,r,i={}){return or(e)||Ns(e)||Zp(e)?(In(function sAt(e,t,r){return`Channel ${e} is a ${t}. Converted to {value: ${ao(r)}}.`}(t,or(e)?"string":Ns(e)?"number":"boolean",e)),{value:e}):Si(e)?Px(e,t,r,i):e7(e)?{...e,condition:Px(e.condition,t,r,i)}:e}function Px(e,t,r,i){if(E2e(e)){const{format:s,formatType:o,...a}=e;if(A2(o)&&!r.customFormatTypes)return In(Sme(t)),Px(a,t,r,i)}else{const s=J4(e)?"axis":C2e(e)?"legend":j$(e)?"header":null;if(s&&e[s]){const{format:o,formatType:a,...l}=e[s];if(A2(a)&&!r.customFormatTypes)return In(Sme(t)),Px({...e,[s]:l},t,r,i)}}return kn(e)?X$(e,t,i):function rht(e){let t=e.type;if(t)return e;const{datum:r}=e;return t=Ns(r)?"quantitative":or(r)?"nominal":s2(r)?"temporal":void 0,{...e,type:t}}(e)}function X$(e,t,{compositeMark:r=!1}={}){const{aggregate:i,timeUnit:s,bin:o,field:a}=e,l={...e};if(!r&&i&&!p$(i)&&!j1(i)&&!$0(i)&&(In(function aAt(e){return`Invalid aggregation operator "${e}".`}(i)),delete l.aggregate),s&&(l.timeUnit=ml(s)),a&&(l.field=`${a}`),So(o)&&(l.bin=Ux(o,t)),kl(o)&&!Ea(t)&&In(function LAt(e){return`Channel ${e} should not be used with "binned" bin.`}(t)),ju(l)){const{type:u}=l,c=function fdt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case u2:return"quantitative";case"t":case K4:return"temporal";case"o":case O$:return"ordinal";case"n":case R$:return"nominal";case W4:return"geojson"}}(u);u!==c&&(l.type=c),"quantitative"!==u&&vx(i)&&(In(function oAt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}(u,i)),l.type="quantitative")}else if(!eme(t)){const u=function nht(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(K$(e)&&Zt(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:s}=e;if(s)return"temporal";if(i||r&&!j1(r)&&!$0(r))return"quantitative";if(d2(e)&&e.scale?.type)switch(Ex[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,t);l.type=u}if(ju(l)){const{compatible:u,warning:c}=function iht(e,t){const r=e.type;if("geojson"===r&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case k0:case P0:case Ax:return Rx(e)?e5:{compatible:!1,warning:fAt(t)};case Go:case gl:case Q1:case z4:case wc:case Sh:case Bh:case G9:case z9:case dx:case e2:case hx:case px:case Zm:case eA:case ed:case gx:return e5;case nd:case tA:case td:case rd:return r!==u2?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:e5;case H0:case V1:case $1:case G1:case Q0:case L0:case U0:case ZA:case Eh:case H1:return"nominal"!==r||e.sort?e5:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case bc:case z1:return Rx(e)||function Xdt(e){return d2(e)&&Y4(e.scale?.type)}(e)?e5:{compatible:!1,warning:AAt(t)};case q4:return"nominal"!==e.type||"sort"in e?e5:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,t)||{};!1===u&&In(c)}if(K$(l)&&or(l.sort)){const{sort:u}=l;if(g2e(u))return{...l,sort:{encoding:u}};const c=u.substring(1);if("-"===u.charAt(0)&&g2e(c))return{...l,sort:{encoding:c,order:"descending"}}}if(j$(l)){const{header:u}=l;if(u){const{orient:c,...f}=u;if(c)return{...l,header:{...f,labelOrient:u.labelOrient||c,titleOrient:u.titleOrient||c}}}}return l}function Ux(e,t){return Zp(e)?{maxbins:ame(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:{...e,maxbins:ame(t)}}const e5={compatible:!0};function t5(e){const{formatType:t}=kx(e);return"time"===t||!t&&function sht(e){return e&&("temporal"===e.type||kn(e)&&!!e.timeUnit)}(e)}function Lx(e,{timeUnit:t,type:r,wrapTime:i,undefinedIfExprNotRequired:s}){const o=t&&ml(t)?.unit;let l,a=o||"temporal"===r;return j9(e)?l=e.expr:Ir(e)?l=e.signal:s2(e)?(a=!0,l=o2(e)):(or(e)||Ns(e))&&a&&(l=`datetime(${ao(e)})`,function JAt(e){return pr(Pme,e)}(o)&&(Ns(e)&&e<1e4||or(e)&&isNaN(Date.parse(e)))&&(l=o2({[o]:e}))),l?i&&a?`time(${l})`:l:s?void 0:ao(e)}function F2e(e,t){const{type:r}=e;return t.map(i=>{const o=Lx(i,{timeUnit:kn(e)&&!a2(e.timeUnit)?e.timeUnit:void 0,type:r,undefinedIfExprNotRequired:!0});return void 0!==o?{signal:o}:i})}function t7(e,t){return So(e.bin)?Dh(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const M2e={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function n7(e){return e?.condition}const T2e=["domain","grid","labels","ticks","title"],oht={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},I2e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},N2e={...I2e,style:1,labelExpr:1,encoding:1};function O2e(e){return pr(N2e,e)}fn(N2e);const R2e=fn({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function q0(e){return Bn(e,"mark")}class Qx{constructor(t,r){this.name=t,this.run=r}hasMatchingType(t){return!!q0(t)&&function kdt(e){return od(e)?e.type:e}(t.mark)===this.name}}function h2(e,t){const r=e&&e[t];return!!r&&(Zt(r)?V4(r,i=>!!i.field):kn(r)||Nx(r))}function k2e(e,t){const r=e&&e[t];return!!r&&(Zt(r)?V4(r,i=>!!i.field):kn(r)||Nh(r)||e7(r))}function P2e(e,t){if(Ea(t)){const r=e[t];if((kn(r)||Nh(r))&&(qme(r.type)||kn(r)&&r.timeUnit))return k2e(e,a$(t))}return!1}function U2e(e){return V4(fft,t=>{if(h2(e,t)){const r=e[t];if(Zt(r))return V4(r,i=>!!i.aggregate);{const i=ud(r);return i&&!!i.aggregate}}return!1})}function L2e(e,t){const r=[],i=[],s=[],o=[],a={};return J$(e,(l,u)=>{if(kn(l)){const{field:c,aggregate:f,bin:A,timeUnit:d,...h}=l;if(f||d||A){const m=W$(l)?.title;let v=Yn(l,{forAs:!0});const _={...m?[]:{title:Z4(l,t,{allowDisabling:!0})},...h,field:v};if(f){let C;if(j1(f)?(C="argmax",v=Yn({op:"argmax",field:f.argmax},{forAs:!0}),_.field=`${v}.${c}`):$0(f)?(C="argmin",v=Yn({op:"argmin",field:f.argmin},{forAs:!0}),_.field=`${v}.${c}`):"boxplot"!==f&&"errorbar"!==f&&"errorband"!==f&&(C=f),C){const D={op:C,as:v};c&&(D.field=c),o.push(D)}}else if(r.push(v),ju(l)&&So(A))i.push({bin:A,field:c,as:v}),r.push(Yn(l,{binSuffix:"end"})),t7(l,u)&&r.push(Yn(l,{binSuffix:"range"})),Ea(u)&&(a[`${u}2`]={field:`${v}_end`}),_.bin="binned",eme(u)||(_.type=u2);else if(d&&!a2(d)){s.push({timeUnit:d,field:c,as:v});const C=ju(l)&&l.type!==K4&&"time";C&&(u===G9||u===e2?_.formatType=C:function _ft(e){return pr(l$,e)}(u)?_.legend={formatType:C,..._.legend}:Ea(u)&&(_.axis={formatType:C,..._.axis}))}a[u]=_}else r.push(c),a[u]=e[u]}else a[u]=e[u]}),{bins:i,timeUnits:s,aggregate:o,groupby:r,encoding:a}}function aht(e,t,r){const i=function wft(e,t){return function Cft(e){switch(e){case wc:case Sh:case Bh:case gx:case z9:case dx:case e2:case hx:case q4:case H0:case V1:case $1:case G1:case Ax:case k0:case P0:return sme;case Go:case gl:case Q1:case z4:case td:case nd:case H1:return bft;case ZA:case Eh:case rd:case tA:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Q0:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case z1:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case bc:return{point:"always",geoshape:"always"};case G9:return{text:"always"};case Zm:return{point:"always",square:"always",text:"always"};case px:return{image:"always"};case eA:case ed:return{text:"always",arc:"always"};case L0:case U0:return{arc:"always"}}}(e)[t]}(t,r);if(!i)return!1;if("binned"===i){const s=e[t===ZA?Go:gl];return!!(kn(s)&&kn(e[t])&&kl(s.bin))}return!0}function Hx(e,t){const r={};for(const i of fn(e)){const s=D2e(e[i],i,t,{compositeMark:!0});r[i]=s}return r}function J$(e,t,r){if(e)for(const i of fn(e)){const s=e[i];if(Zt(s))for(const o of s)t.call(r,o,i);else t.call(r,s,i)}}function Q2e(e,t){return fn(t).reduce((r,i)=>{switch(i){case Go:case gl:case hx:case gx:case px:case ZA:case Eh:case Q1:case z4:case eA:case L0:case ed:case U0:case H1:case td:case nd:case rd:case tA:case G9:case bc:case Zm:case e2:return r;case q4:if("line"===e||"trail"===e)return r;case z9:case dx:{const s=t[i];if(Zt(s)||kn(s))for(const o of ar(s))o.aggregate||r.push(Yn(o,{}));return r}case Q0:if("trail"===e)return r;case wc:case Sh:case Bh:case H0:case V1:case $1:case z1:case G1:{const s=ud(t[i]);return s&&!s.aggregate&&r.push(Yn(s,{})),r}}},[])}function Z$(e,t,r,i=!0){if("tooltip"in r)return{tooltip:r.tooltip};const s=e.map(({fieldPrefix:a,titlePrefix:l})=>{const u=i?` of ${eG(t)}`:"";return{field:a+t.field,type:t.type,title:Ir(l)?{signal:`${l}"${escape(u)}"`}:l+u}}),o=function uht(e){const t=[];for(const r of fn(e))if(h2(e,r)){const s=ar(e[r]);for(const o of s)kn(o)?t.push(o):Nx(o)&&t.push(o.condition)}return t}(r).map(Wdt);return{tooltip:[...s,...Ch(o,os)]}}function eG(e){const{title:t,field:r}=e;return Ca(t,r)}function tG(e,t,r,i,s){const{scale:o,axis:a}=r;return({partName:l,mark:u,positionPrefix:c,endPositionPrefix:f,extraEncoding:A={}})=>{const d=eG(r);return H2e(e,l,s,{mark:u,encoding:{[t]:{field:`${c}_${r.field}`,type:r.type,...void 0!==d?{title:d}:{},...void 0!==o?{scale:o}:{},...void 0!==a?{axis:a}:{}},...or(f)?{[`${t}2`]:{field:`${f}_${r.field}`}}:{},...i,...A}})}}function H2e(e,t,r,i){const{clip:s,color:o,opacity:a}=e,l=e.type;return e[t]||void 0===e[t]&&r[t]?[{...i,mark:{...r[t],...s?{clip:s}:{},...o?{color:o}:{},...a?{opacity:a}:{},...od(i.mark)?i.mark:{type:i.mark},style:`${l}-${String(t)}`,...Zp(e[t])?{}:e[t]}}]:[]}function V2e(e,t,r){const{encoding:i}=e,s="vertical"===t?"y":"x",a=i[`${s}2`],l=i[`${s}Error`],u=i[`${s}Error2`];return{continuousAxisChannelDef:Vx(i[s],r),continuousAxisChannelDef2:Vx(a,r),continuousAxisChannelDefError:Vx(l,r),continuousAxisChannelDefError2:Vx(u,r),continuousAxis:s}}function Vx(e,t){if(e?.aggregate){const{aggregate:r,...i}=e;return r!==t&&In(function UAt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(r,t)),i}return e}function $2e(e,t){const{mark:r,encoding:i}=e,{x:s,y:o}=i;if(od(r)&&r.orient)return r.orient;if(J1(s)){if(J1(o)){const a=kn(s)&&s.aggregate,l=kn(o)&&o.aggregate;if(!a&&l===t)return"vertical";if(!l&&a===t)return"horizontal";if(a===t&&l===t)throw new Error("Both x and y cannot have aggregate");return t5(o)&&!t5(s)?"horizontal":"vertical"}return"horizontal"}if(J1(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}const $x="boxplot",dht=new Qx($x,z2e);function G2e(e){return Ns(e)?"tukey":e}function z2e(e,{config:t}){e={...e,encoding:Hx(e.encoding,t)};const{mark:r,encoding:i,params:s,projection:o,...a}=e,l=od(r)?r:{type:r};s&&In(bme("boxplot"));const u=l.extent??t.boxplot.extent,c=lo("size",l,t),f=l.invalid,A=G2e(u),{bins:d,timeUnits:h,transform:g,continuousAxisChannelDef:m,continuousAxis:v,groupby:_,aggregate:C,encodingWithoutContinuousAxis:D,ticksOrient:T,boxOrient:I,customTooltipWithoutAggregatedField:V}=function hht(e,t,r){const i=$2e(e,$x),{continuousAxisChannelDef:s,continuousAxis:o}=V2e(e,i,$x),a=s.field,l=$4(a),u=G2e(t),c=[...q2e(a),{op:"median",field:a,as:`mid_box_${l}`},{op:"min",field:a,as:("min-max"===u?"lower_whisker_":"min_")+l},{op:"max",field:a,as:("min-max"===u?"upper_whisker_":"max_")+l}],f="min-max"===u||"tukey"===u?[]:[{calculate:`${eo(`upper_box_${l}`)} - ${eo(`lower_box_${l}`)}`,as:`iqr_${l}`},{calculate:`min(${eo(`upper_box_${l}`)} + ${eo(`iqr_${l}`)} * ${t}, ${eo(`max_${l}`)})`,as:`upper_whisker_${l}`},{calculate:`max(${eo(`lower_box_${l}`)} - ${eo(`iqr_${l}`)} * ${t}, ${eo(`min_${l}`)})`,as:`lower_whisker_${l}`}],{[o]:A,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:g}=function fht(e){const{tooltip:t,...r}=e;if(!t)return{filteredEncoding:r};let i,s;if(Zt(t)){for(const o of t)o.aggregate?(i||(i=[]),i.push(o)):(s||(s=[]),s.push(o));i&&(r.tooltip=i)}else t.aggregate?r.tooltip=t:s=t;return Zt(s)&&1===s.length&&(s=s[0]),{customTooltipWithoutAggregatedField:s,filteredEncoding:r}}(d),{bins:m,timeUnits:v,aggregate:_,groupby:C,encoding:D}=L2e(g,r),T="vertical"===i?"horizontal":"vertical",I=i;return{bins:m,timeUnits:v,transform:[...m,...v,{aggregate:[..._,...c],groupby:C},...f],groupby:C,aggregate:_,continuousAxisChannelDef:s,continuousAxis:o,encodingWithoutContinuousAxis:D,ticksOrient:T,boxOrient:I,customTooltipWithoutAggregatedField:h}}(e,u,t),R=$4(m.field),{color:K,size:ne,...Ae}=D,ae=$r=>tG(l,v,m,$r,t.boxplot),Be=ae(Ae),Ce=ae(D),U=(sr(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",Q=ae({...Ae,...ne?{size:ne}:{},color:{condition:{test:`${eo(`lower_box_${m.field}`)} >= ${eo(`upper_box_${m.field}`)}`,...K||{value:U}}}}),z=Z$([{fieldPrefix:"min-max"===A?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===A?"lower_whisker_":"min_",titlePrefix:"Min"}],m,D),oe={type:"tick",color:"black",opacity:1,orient:T,invalid:f,aria:!1},J="min-max"===A?z:Z$([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,D),le=[...Be({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:J}),...Be({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:J}),...Be({partName:"ticks",mark:oe,positionPrefix:"lower_whisker",extraEncoding:J}),...Be({partName:"ticks",mark:oe,positionPrefix:"upper_whisker",extraEncoding:J})],de=[..."tukey"!==A?le:[],...Ce({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:I,invalid:f,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:z}),...Q({partName:"median",mark:{type:"tick",invalid:f,...sr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:T,aria:!1},positionPrefix:"mid_box",extraEncoding:z})];if("min-max"===A)return{...a,transform:(a.transform??[]).concat(g),layer:de};const De=eo(`lower_box_${m.field}`),Ie=eo(`upper_box_${m.field}`),We=`(${Ie} - ${De})`,Ve=`${De} - ${u} * ${We}`,st=`${Ie} + ${u} * ${We}`,$t=eo(m.field),gt={joinaggregate:q2e(m.field),groupby:_},ln={transform:[{filter:`(${Ve} <= ${$t}) && (${$t} <= ${st})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${R}`},{op:"max",field:m.field,as:`upper_whisker_${R}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${R}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${R}`},...C],groupby:_}],layer:le},{tooltip:je,...Et}=Ae,{scale:Ft,axis:Oe}=m,An=eG(m),bn=yc(Oe,["title"]),mr=H2e(l,"outliers",t.boxplot,{transform:[{filter:`(${$t} < ${Ve}) || (${$t} > ${st})`}],mark:"point",encoding:{[v]:{field:m.field,type:m.type,...void 0!==An?{title:An}:{},...void 0!==Ft?{scale:Ft}:{},...oo(bn)?{}:{axis:bn}},...Et,...K?{color:K}:{},...V?{tooltip:V}:{}}})[0];let Kn;const hn=[...d,...h,gt];return mr?Kn={transform:hn,layer:[mr,ln]}:(Kn=ln,Kn.transform.unshift(...hn)),{...a,layer:[Kn,{transform:g,layer:de}]}}function q2e(e){const t=$4(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}const nG="errorbar",ght=new Qx(nG,j2e);function j2e(e,{config:t}){e={...e,encoding:Hx(e.encoding,t)};const{transform:r,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:l,outerSpec:u,tooltipEncoding:c}=K2e(e,nG,t);delete o.size;const f=tG(l,s,i,o,t.errorbar),A=l.thickness,d=l.size,h={type:"tick",orient:a,aria:!1,...void 0!==A?{thickness:A}:{},...void 0!==d?{size:d}:{}},g=[...f({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:c}),...f({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c}),...f({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...void 0!==A?{size:A}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...u,transform:r,...g.length>1?{layer:g}:{...g[0]}}}function K2e(e,t,r){const{mark:i,encoding:s,params:o,projection:a,...l}=e,u=od(i)?i:{type:i};o&&In(bme(t));const{orient:c,inputType:f}=function mht(e,t){const{encoding:r}=e;if(function vht(e){return(Si(e.x)||Si(e.y))&&!Si(e.x2)&&!Si(e.y2)&&!Si(e.xError)&&!Si(e.xError2)&&!Si(e.yError)&&!Si(e.yError2)}(r))return{orient:$2e(e,t),inputType:"raw"};const i=function _ht(e){return Si(e.x2)||Si(e.y2)}(r),s=function yht(e){return Si(e.xError)||Si(e.xError2)||Si(e.yError)||Si(e.yError2)}(r),o=r.x,a=r.y;if(i){if(s)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const l=r.x2,u=r.y2;if(Si(l)&&Si(u))throw new Error(`${t} cannot have both x2 and y2`);if(Si(l)){if(J1(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(Si(u)){if(J1(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const l=r.xError,c=r.yError,f=r.yError2;if(Si(r.xError2)&&!Si(l))throw new Error(`${t} cannot have xError2 without xError`);if(Si(f)&&!Si(c))throw new Error(`${t} cannot have yError2 without yError`);if(Si(l)&&Si(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Si(l)){if(J1(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Si(c)){if(J1(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,t),{continuousAxisChannelDef:A,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:g,continuousAxis:m}=V2e(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:_,tooltipSummary:C,tooltipTitleWithFieldName:D}=function wht(e,t,r,i,s,o,a,l){let u=[],c=[];const f=t.field;let A,d=!1;if("raw"===o){const h=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":l.errorbar.center,g=e.extent?e.extent:"mean"===h?"stderr":"iqr";if("median"===h!=("iqr"===g)&&In(function PAt(e,t,r){return`${e} is not usually used with ${t} for ${r}.`}(h,g,a)),"stderr"===g||"stdev"===g)u=[{op:g,field:f,as:`extent_${f}`},{op:h,field:f,as:`center_${f}`}],c=[{calculate:`${eo(`center_${f}`)} + ${eo(`extent_${f}`)}`,as:`upper_${f}`},{calculate:`${eo(`center_${f}`)} - ${eo(`extent_${f}`)}`,as:`lower_${f}`}],A=[{fieldPrefix:"center_",titlePrefix:V9(h)},{fieldPrefix:"upper_",titlePrefix:W2e(h,g,"+")},{fieldPrefix:"lower_",titlePrefix:W2e(h,g,"-")}],d=!0;else{let m,v,_;"ci"===g?(m="mean",v="ci0",_="ci1"):(m="median",v="q1",_="q3"),u=[{op:v,field:f,as:`lower_${f}`},{op:_,field:f,as:`upper_${f}`},{op:m,field:f,as:`center_${f}`}],A=[{fieldPrefix:"upper_",titlePrefix:Z4({field:f,aggregate:_,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Z4({field:f,aggregate:v,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Z4({field:f,aggregate:m,type:"quantitative"},l,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&In(function kAt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===o?(A=[],c=[{calculate:eo(r.field),as:`upper_${f}`},{calculate:eo(f),as:`lower_${f}`}]):"aggregated-error"===o&&(A=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:`${eo(f)} + ${eo(i.field)}`,as:`upper_${f}`}],c.push(s?{calculate:`${eo(f)} + ${eo(s.field)}`,as:`lower_${f}`}:{calculate:`${eo(f)} - ${eo(i.field)}`,as:`lower_${f}`}));for(const h of c)A.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Jm(Jm(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:A,tooltipTitleWithFieldName:d}}(u,A,d,h,g,f,t,r),{[m]:T,["x"===m?"x2":"y2"]:I,["x"===m?"xError":"yError"]:V,["x"===m?"xError2":"yError2"]:R,...K}=s,{bins:ne,timeUnits:Ae,aggregate:ae,groupby:Be,encoding:Ce}=L2e(K,r),U=[...ae,...v],Q="raw"!==f?[]:Be,z=Z$(C,A,Ce,D);return{transform:[...l.transform??[],...ne,...Ae,...0===U.length?[]:[{aggregate:U,groupby:Q}],..._],groupby:Q,continuousAxisChannelDef:A,continuousAxis:m,encodingWithoutContinuousAxis:Ce,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:z}}function W2e(e,t,r){return`${V9(e)} ${r} ${t}`}const rG="errorband",Cht=new Qx(rG,Y2e);function Y2e(e,{config:t}){e={...e,encoding:Hx(e.encoding,t)};const{transform:r,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:l,tooltipEncoding:u}=K2e(e,rG,t),c=a,f=tG(c,s,i,o,t.errorband),A=void 0!==e.encoding.x&&void 0!==e.encoding.y;let d={type:A?"area":"rect"},h={type:A?"line":"rule"};const g={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return A?(d={...d,...g,ariaRoleDescription:"errorband"},h={...h,...g,aria:!1}):c.interpolate?In(Tme("interpolate")):c.tension&&In(Tme("tension")),{...l,transform:r,layer:[...f({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...f({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:u}),...f({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:u})]}}const iG={};function sG(e,t,r){const i=new Qx(e,t);iG[e]={normalizer:i,parts:r}}sG($x,z2e,["box","median","outliers","rule","ticks"]),sG(nG,j2e,["ticks","rule"]),sG(rG,Y2e,["band","borders"]);const Sht=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],X2e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},J2e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Bht=fn(X2e),xht=fn(J2e),Z2e=fn({header:1,headerRow:1,headerColumn:1,headerFacet:1}),eve=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],tve={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},cd=(fn(tve),"_vgsid_"),Fht={point:{on:"click",fields:[cd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function oG(e){return"legend"===e||!!e?.legend}function aG(e){return oG(e)&&sr(e)}function lG(e){return!!e?.select}function nve(e){const t=[];for(const r of e||[]){if(lG(r))continue;const{expr:i,bind:s,...o}=r;if(s&&i){const a={...o,bind:s,init:i};t.push(a)}else{const a={...o,...i?{update:i}:{},...s?{bind:s}:{}};t.push(a)}}return t}function uG(e){return Bn(e,"concat")}function Gx(e){return Bn(e,"vconcat")}function cG(e){return Bn(e,"hconcat")}function rve({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Oh(e){return Bn(e,"step")}function ive(e){return Bn(e,"view")||Bn(e,"width")||Bn(e,"height")}const Tht=fn({align:1,bounds:1,center:1,columns:1,spacing:1});function fG(e,t){return e[t]??e["width"===t?"continuousWidth":"continuousHeight"]}function AG(e,t){const r=zx(e,t);return Oh(r)?r.step:ove}function zx(e,t){return Ca(e[t]??e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const ove=20,Oht={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:ove},mark:{color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},arc:{},area:{},bar:Odt,circle:{},geoshape:{},image:{},line:{},point:{},rect:H$,rule:{color:"black"},square:{},text:{color:"black"},tick:Rdt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Fht,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},j0=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],ave={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},lve={blue:j0[0],orange:j0[1],red:j0[2],teal:j0[3],green:j0[4],yellow:j0[5],purple:j0[6],pink:j0[7],brown:j0[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function uve(e){const t=fn(e||{}),r={};for(const i of t){const s=e[i];r[i]=n7(s)?ume(s):sf(s)}return r}const Lht=[...o2e,...R2e,...Z2e,"background","padding","legend","lineBreak","scale","style","title","view"];function cve(e={}){const{color:t,font:r,fontSize:i,selection:s,...o}=e,a=E3({},yi(Oht),r?function Pht(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(r):{},t?function Rht(e={}){return{signals:[{name:"color",value:sr(e)?{...lve,...e}:lve}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},i?function kht(e){return{signals:[{name:"fontSize",value:sr(e)?{...ave,...e}:ave}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(i):{},o||{});s&&S3(a,"selection",s,!0);const l=yc(a,Lht);for(const u of["background","lineBreak","padding"])a[u]&&(l[u]=sf(a[u]));for(const u of o2e)a[u]&&(l[u]=Pl(a[u]));for(const u of R2e)a[u]&&(l[u]=uve(a[u]));for(const u of Z2e)a[u]&&(l[u]=Pl(a[u]));if(a.legend&&(l.legend=Pl(a.legend)),a.scale){const{invalid:u,...c}=a.scale,f=Pl(u,{level:1});l.scale={...Pl(c),...fn(f).length>0?{invalid:f}:{}}}return a.style&&(l.style=function Uht(e){const t=fn(e),r={};for(const i of t)r[i]=uve(e[i]);return r}(a.style)),a.title&&(l.title=Pl(a.title)),a.view&&(l.view=Pl(a.view)),l}const Qht=new Set(["view",...i2e]),Hht=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Vht={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Tdt};function zht(e,t,r,i){"view"===t&&(r="cell");const o={...i?e[t][i]:e[t],...e.style[r??t]};oo(o)||(e.style[r??t]=o),i||delete e[t]}function qx(e){return Bn(e,"layer")}class dG{map(t,r){return Ix(t)?this.mapFacet(t,r):function qht(e){return Bn(e,"repeat")}(t)?this.mapRepeat(t,r):cG(t)?this.mapHConcat(t,r):Gx(t)?this.mapVConcat(t,r):uG(t)?this.mapConcat(t,r):this.mapLayerOrUnit(t,r)}mapLayerOrUnit(t,r){if(qx(t))return this.mapLayer(t,r);if(q0(t))return this.mapUnit(t,r);throw new Error(v$(t))}mapLayer(t,r){return{...t,layer:t.layer.map(i=>this.mapLayerOrUnit(i,r))}}mapHConcat(t,r){return{...t,hconcat:t.hconcat.map(i=>this.map(i,r))}}mapVConcat(t,r){return{...t,vconcat:t.vconcat.map(i=>this.map(i,r))}}mapConcat(t,r){const{concat:i,...s}=t;return{...s,concat:i.map(o=>this.map(o,r))}}mapFacet(t,r){return{...t,spec:this.map(t.spec,r)}}mapRepeat(t,r){return{...t,spec:this.map(t.spec,r)}}}const Kht={zero:1,center:1,normalize:1},Yht=new Set([t2e,Bx,Sx,Fx,Dx,U$,L$,xx,n2e,P$]),Xht=new Set([Bx,Sx,t2e]);function n5(e){return kn(e)&&"quantitative"===X4(e)&&!e.bin}function fve(e,t,{orient:r,type:i}){const s="x"===t?"y":"radius",o="x"===t&&["bar","area"].includes(i),a=e[t],l=e[s];if(kn(a)&&kn(l))if(n5(a)&&n5(l)){if(a.stack)return t;if(l.stack)return s;const u=kn(a)&&!!a.aggregate;if(u!==(kn(l)&&!!l.aggregate))return u?t:s;if(o){if("vertical"===r)return s;if("horizontal"===r)return t}}else{if(n5(a))return t;if(n5(l))return s}else{if(n5(a))return o&&"vertical"===r?void 0:t;if(n5(l))return o&&"horizontal"===r?void 0:s}}function Ave(e,t){const r=od(e)?e:{type:e},i=r.type;if(!Yht.has(i))return null;const s=fve(t,"x",r)||fve(t,"theta",r);if(!s)return null;const o=t[s],a=kn(o)?Yn(o,{}):void 0,l=function Jht(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(s),u=[],c=new Set;if(t[l]){const m=t[l],v=kn(m)?Yn(m,{}):void 0;v&&v!==a&&(u.push(l),c.add(v))}const f="x"===l?"xOffset":"yOffset",A=t[f],d=kn(A)?Yn(A,{}):void 0;d&&d!==a&&(u.push(f),c.add(d));const h=gft.reduce((m,v)=>{if("tooltip"!==v&&h2(t,v)){const _=t[v];for(const C of ar(_)){const D=ud(C);if(D.aggregate)continue;const T=Yn(D,{});(!T||!c.has(T))&&m.push({channel:v,fieldDef:D})}}return m},[]);let g;return void 0!==o.stack?g=Zp(o.stack)?o.stack?"zero":null:o.stack:Xht.has(i)&&(g="zero"),!g||!function Wht(e){return pr(Kht,e)}(g)||U2e(t)&&0===h.length?null:(o?.scale?.type&&"linear"!==o?.scale?.type&&o?.stack&&In(function NAt(e){return`Stack is applied to a non-linear scale (${e}).`}(o.scale.type)),Si(t[xh(s)])?(void 0!==o.stack&&In(function IAt(e){return`Cannot stack "${e}" if there is already "${e}2".`}(s)),null):(kn(o)&&o.aggregate&&!Dft.has(o.aggregate)&&In(function OAt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}(o.aggregate)),{groupbyChannels:u,groupbyFields:c,fieldChannel:s,impute:null!==o.impute&&Y1(i),stackBy:h,offset:g}))}function dve(e,t,r){const i=Pl(e),s=lo("orient",i,r);if(i.orient=function n0t(e,t,r){switch(e){case Dx:case U$:case L$:case n2e:case Bdt:case Sdt:return}const{x:i,y:s,x2:o,y2:a}=t;switch(e){case Bx:if(kn(i)&&(kl(i.bin)||kn(s)&&s.aggregate&&!i.aggregate))return"vertical";if(kn(s)&&(kl(s.bin)||kn(i)&&i.aggregate&&!s.aggregate))return"horizontal";if(a||o){if(r)return r;if(!o)return(kn(i)&&i.type===u2&&!So(i.bin)||Ox(i))&&kn(s)&&kl(s.bin)?"horizontal":"vertical";if(!a)return(kn(s)&&s.type===u2&&!So(s.bin)||Ox(s))&&kn(i)&&kl(i.bin)?"vertical":"horizontal"}case Fx:if(o&&(!kn(i)||!kl(i.bin))&&a&&(!kn(s)||!kl(s.bin)))return;case Sx:if(a)return kn(s)&&kl(s.bin)?"horizontal":"vertical";if(o)return kn(i)&&kl(i.bin)?"vertical":"horizontal";if(e===Fx){if(i&&!s)return"vertical";if(s&&!i)return"horizontal"}case xx:case P$:{const l=b2e(i),u=b2e(s);if(r)return r;if(l&&!u)return"tick"!==e?"horizontal":"vertical";if(!l&&u)return"tick"!==e?"vertical":"horizontal";if(l&&u)return"vertical";{const c=ju(i)&&i.type===K4,f=ju(s)&&s.type===K4;if(c&&!f)return"vertical";if(!c&&f)return"horizontal"}return}}return"vertical"}(i.type,t,s),void 0!==s&&s!==i.orient&&In(function gAt(e,t){return`Specified orient "${e}" overridden with "${t}".`}(i.orient,s)),"bar"===i.type&&i.orient){const u=lo("cornerRadiusEnd",i,r);if(void 0!==u){const c="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:Ndt[i.orient];for(const f of c)i[f]=u;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}const o=lo("opacity",i,r),a=lo("fillOpacity",i,r);return void 0===o&&void 0===a&&(i.opacity=function e0t(e,t){if(Yi([Dx,P$,U$,L$],e)&&!U2e(t))return.7}(i.type,t)),void 0===lo("cursor",i,r)&&(i.cursor=function Zht(e,t,r){return t.href||e.href||lo("href",e,r)?"pointer":e.cursor}(i,t,r)),i}function r0t(e){const{point:t,line:r,...i}=e;return fn(i).length>1?i:i.type}function i0t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:yc(e[t],["point","line"])});return e}function hG(e,t={},r){return"transparent"===e.point?{opacity:0}:e.point?sr(e.point)?e.point:{}:void 0!==e.point?null:t.point||r.shape?sr(t.point)?t.point:{}:void 0}function hve(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class s0t{constructor(){this.name="path-overlay"}hasMatchingType(t,r){if(q0(t)){const{mark:i,encoding:s}=t,o=od(i)?i:{type:i};switch(o.type){case"line":case"rule":case"trail":return!!hG(o,r[o.type],s);case"area":return!!hG(o,r[o.type],s)||!!hve(o,r[o.type])}}return!1}run(t,r,i){const{config:s}=r,{params:o,projection:a,mark:l,name:u,encoding:c,...f}=t,A=Hx(c,s),d=od(l)?l:{type:l},h=hG(d,s[d.type],A),g="area"===d.type&&hve(d,s[d.type]),m=[{name:u,...o?{params:o}:{},mark:r0t({..."area"===d.type&&void 0===d.opacity&&void 0===d.fillOpacity?{opacity:.7}:{},...d}),encoding:yc(A,["shape"])}],v=Ave(dve(d,A,s),A);let _=A;if(v){const{fieldChannel:C,offset:D}=v;_={...A,[C]:{...A[C],...D?{stack:D}:{}}}}return _=yc(_,["y2","x2"]),g&&m.push({...a?{projection:a}:{},mark:{type:"line",...H4(d,["clip","interpolate","tension","tooltip"]),...g},encoding:_}),h&&m.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...H4(d,["clip","tooltip"]),...h},encoding:_}),i({...f,layer:m},{...r,config:i0t(s)})}}function o0t(e,t){return t?J9(e)?vve(e,t):pve(e,t):e}function pG(e,t){return t?vve(e,t):e}function gG(e,t,r){const i=t[e];return function jdt(e){return!or(e)&&Bn(e,"repeat")}(i)?i.repeat in r?{...t,[e]:r[i.repeat]}:void In(function jft(e){return`Unknown repeated value "${e}".`}(i.repeat)):t}function pve(e,t){if(void 0!==(e=gG("field",e,t))){if(null===e)return null;if(K$(e)&&z0(e.sort)){const r=gG("field",e.sort,t);e={...e,...r?{sort:r}:{}}}return e}}function gve(e,t){if(kn(e))return pve(e,t);{const r=gG("datum",e,t);return r!==e&&!r.type&&(r.type="nominal"),r}}function mve(e,t){if(!Si(e)){if(e7(e)){const r=gve(e.condition,t);if(r)return{...e,condition:r};{const{condition:i,...s}=e;return s}}return e}{const r=gve(e,t);if(r)return r;if(Z9(e))return{condition:e.condition}}}function vve(e,t){const r={};for(const i in e)if(Bn(e,i)){const s=e[i];if(Zt(s))r[i]=s.map(o=>mve(o,t)).filter(o=>o);else{const o=mve(s,t);void 0!==o&&(r[i]=o)}}return r}class a0t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(q0(t)){const{encoding:r,mark:i}=t;if("line"===i||od(i)&&"line"===i.type)for(const s of dft){const a=r[t2(s)];if(r[s]&&(kn(a)&&!kl(a.bin)||Nh(a)))return!0}}return!1}run(t,r,i){const{encoding:s,mark:o}=t;return In(function pAt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}(!!s.x2,!!s.y2)),i({...t,mark:sr(o)?{...o,type:"rule"}:"rule"},r)}}function _ve({parentEncoding:e,encoding:t={},layer:r}){let i={};if(e){const s=new Set([...fn(e),...fn(t)]);for(const o of s){const a=t[o],l=e[o];if(Si(a)){const u={...l,...a};i[o]=u}else e7(a)?i[o]={...a,condition:{...l,...a.condition}}:a||null===a?i[o]=a:(r||ld(l)||Ir(l)||Si(l)||Zt(l))&&(i[o]=l)}}else i=t;return!i||oo(i)?void 0:i}function yve(e){const{parentProjection:t,projection:r}=e;return t&&r&&In(function nAt(e){const{parentProjection:t,projection:r}=e;return`Layer's shared projection ${ao(t)} is overridden by a child projection ${ao(r)}.`}({parentProjection:t,projection:r})),r??t}function mG(e){return Bn(e,"filter")}function u0t(e){return Bn(e,"stop")}function wve(e){return Bn(e,"lookup")}function A0t(e){return Bn(e,"pivot")}function d0t(e){return Bn(e,"density")}function h0t(e){return Bn(e,"quantile")}function p0t(e){return Bn(e,"regression")}function g0t(e){return Bn(e,"loess")}function m0t(e){return Bn(e,"sample")}function v0t(e){return Bn(e,"window")}function _0t(e){return Bn(e,"joinaggregate")}function y0t(e){return Bn(e,"flatten")}function w0t(e){return Bn(e,"calculate")}function bve(e){return Bn(e,"bin")}function b0t(e){return Bn(e,"impute")}function C0t(e){return Bn(e,"timeUnit")}function E0t(e){return Bn(e,"aggregate")}function S0t(e){return Bn(e,"stack")}function B0t(e){return Bn(e,"fold")}function x0t(e){return Bn(e,"extent")&&!Bn(e,"density")&&!Bn(e,"regression")}function Cve(e,t){const{transform:r,...i}=e;return r?{...i,transform:r.map(o=>{if(mG(o))return{filter:vG(o,t)};if(bve(o)&&n2(o.bin))return{...o,bin:Sve(o.bin)};if(wve(o)){const{selection:a,...l}=o.from;return a?{...o,from:{param:a,...l}}:o}return o})}:e}function Eve(e,t){const r=yi(e);if(kn(r)&&n2(r.bin)&&(r.bin=Sve(r.bin)),d2(r)&&r.scale?.domain?.selection){const{selection:i,...s}=r.scale.domain;r.scale.domain={...s,...i?{param:i}:{}}}if(Z9(r))if(Zt(r.condition))r.condition=r.condition.map(i=>{const{selection:s,param:o,test:a,...l}=i;return o?i:{...l,test:vG(i,t)}});else{const{selection:i,param:s,test:o,...a}=Eve(r.condition,t);r.condition=s?r.condition:{...a,test:vG(r.condition,t)}}return r}function Sve(e){const t=e.extent;if(t?.selection){const{selection:r,...i}=t;return{...e,extent:{...i,param:r}}}return e}function vG(e,t){const r=i=>Q4(i,s=>{var o;const l={param:s,empty:t.emptySelections[s]??!0};return(o=t.selectionPredicates)[s]??(o[s]=[]),t.selectionPredicates[s].push(l),l});return e.selection?r(e.selection):Q4(e.test||e.filter,i=>i.selection?r(i.selection):i)}class _G extends dG{map(t,r){const i=r.selections??[];if(t.params&&!q0(t)){const s=[];for(const o of t.params)lG(o)?i.push(o):s.push(o);t.params=s}return r.selections=i,super.map(t,r)}mapUnit(t,r){const i=r.selections;if(!i||!i.length)return t;const s=(r.path??[]).concat(t.name),o=[];for(const a of i)if(a.views&&a.views.length)for(const l of a.views)(or(l)&&(l===t.name||s.includes(l))||Zt(l)&&l.map(u=>s.indexOf(u)).every((u,c,f)=>-1!==u&&(0===c||u>f[c-1])))&&o.push(a);else o.push(a);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=_G.prototype[e];_G.prototype[e]=function(r,i){return t.call(this,r,M0t(r,i))}}function M0t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Bve(e,t){void 0===t&&(t=cve(e.config));const r=function O0t(e,t={}){const r={config:t};return N0t.map(T0t.map(I0t.map(e,r),r),r)}(e,t),{width:i,height:s}=e,o=function R0t(e,t,r){let{width:i,height:s}=t;const o=q0(e)||qx(e),a={};o?"container"==i&&"container"==s?(a.type="fit",a.contains="padding"):"container"==i?(a.type="fit-x",a.contains="padding"):"container"==s&&(a.type="fit-y",a.contains="padding"):("container"==i&&(In(vme("width")),i=void 0),"container"==s&&(In(vme("height")),s=void 0));const l={type:"pad",...a,...r?xve(r.autosize):{},...xve(e.autosize)};if("fit"===l.type&&!o&&(In('Autosize "fit" only works for single views and layered views.'),l.type="pad"),"container"==i&&!("fit"==l.type||"fit-x"==l.type)&&In(_me("width")),"container"==s&&!("fit"==l.type||"fit-y"==l.type)&&In(_me("height")),!rf(l,{type:"pad"}))return l}(r,{width:i,height:s,autosize:e.autosize},t);return{...r,...o?{autosize:o}:{}}}const T0t=new class l0t extends dG{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[dht,ght,Cht,new s0t,new a0t]}map(t,r){if(q0(t)){const i=h2(t.encoding,k0),s=h2(t.encoding,P0),o=h2(t.encoding,Ax);if(i||s||o)return this.mapFacetedUnit(t,r)}return super.map(t,r)}mapUnit(t,r){const{parentEncoding:i,parentProjection:s}=r,o=pG(t.encoding,r.repeater),a={...t,...t.name?{name:[r.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...o?{encoding:o}:{}};if(i||s)return this.mapUnitWithParentEncodingOrProjection(a,r);const l=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,r.config))return u.run(a,r,l);return a}mapRepeat(t,r){return function jht(e){return!Zt(e.repeat)&&Bn(e.repeat,"layer")}(t)?this.mapLayerRepeat(t,r):this.mapNonLayerRepeat(t,r)}mapLayerRepeat(t,r){const{repeat:i,spec:s,...o}=t,{row:a,column:l,layer:u}=i,{repeater:c={},repeaterPrefix:f=""}=r;return a||l?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...l?{column:l}:{}},spec:{repeat:{layer:u},spec:s}},r):{...o,layer:u.map(A=>{const d={...c,layer:A},h=`${(s.name?`${s.name}_`:"")+f}child__layer_${$o(A)}`,g=this.mapLayerOrUnit(s,{...r,repeater:d,repeaterPrefix:h});return g.name=h,g})}}mapNonLayerRepeat(t,r){const{repeat:i,spec:s,data:o,...a}=t;!Zt(i)&&t.columns&&(t=yc(t,["columns"]),In(Cme("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=r,f=!Zt(i)&&i.row||[u?u.row:null],A=!Zt(i)&&i.column||[u?u.column:null],d=Zt(i)&&i||[u?u.repeat:null];for(const g of d)for(const m of f)for(const v of A){const _={repeat:g,row:m,column:v,layer:u.layer},C=(s.name?`${s.name}_`:"")+c+"child__"+(Zt(i)?`${$o(g)}`:(i.row?`row_${$o(m)}`:"")+(i.column?`column_${$o(v)}`:"")),D=this.map(s,{...r,repeater:_,repeaterPrefix:C});D.name=C,l.push(yc(D,["data"]))}const h=Zt(i)?t.columns:i.column?i.column.length:1;return{data:s.data??o,align:"all",...a,columns:h,concat:l}}mapFacet(t,r){const{facet:i}=t;return J9(i)&&t.columns&&(t=yc(t,["columns"]),In(Cme("facet"))),super.mapFacet(t,r)}mapUnitWithParentEncodingOrProjection(t,r){const{encoding:i,projection:s}=t,{parentEncoding:o,parentProjection:a,config:l}=r,u=yve({parentProjection:a,projection:s}),c=_ve({parentEncoding:o,encoding:pG(i,r.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:l})}mapFacetedUnit(t,r){const{row:i,column:s,facet:o,...a}=t.encoding,{mark:l,width:u,projection:c,height:f,view:A,params:d,encoding:h,...g}=t,{facetMapping:m,layout:v}=this.getFacetMappingAndLayout({row:i,column:s,facet:o},r),_=pG(a,r.repeater);return this.mapFacet({...g,...v,facet:m,spec:{...u?{width:u}:{},...f?{height:f}:{},...A?{view:A}:{},...c?{projection:c}:{},mark:l,encoding:_,...d?{params:d}:{}}},r)}getFacetMappingAndLayout(t,r){const{row:i,column:s,facet:o}=t;if(i||s){o&&In(function dAt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}([...i?[k0]:[],...s?[P0]:[]]));const a={},l={};for(const u of[k0,P0]){const c=t[u];if(c){const{align:f,center:A,spacing:d,columns:h,...g}=c;a[u]=g;for(const m of["align","center","spacing"])void 0!==c[m]&&(l[m]??(l[m]={}),l[m][u]=c[m])}}return{facetMapping:a,layout:l}}{const{align:a,center:l,spacing:u,columns:c,...f}=o;return{facetMapping:o0t(f,r.repeater),layout:{...a?{align:a}:{},...l?{center:l}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:r,parentProjection:i,...s}){const{encoding:o,projection:a,...l}=t,u={...s,parentEncoding:_ve({parentEncoding:r,encoding:o,layer:!0}),parentProjection:yve({parentProjection:i,projection:a})};return super.mapLayer({...l,...t.name?{name:[u.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},u)}},I0t=new class F0t extends dG{map(t,r){return r.emptySelections??(r.emptySelections={}),r.selectionPredicates??(r.selectionPredicates={}),t=Cve(t,r),super.map(t,r)}mapLayerOrUnit(t,r){if((t=Cve(t,r)).encoding){const i={};for(const[s,o]of L1(t.encoding))i[s]=Eve(o,r);t={...t,encoding:i}}return super.mapLayerOrUnit(t,r)}mapUnit(t,r){const{selection:i,...s}=t;return i?{...s,params:L1(i).map(([o,a])=>{const{init:l,bind:u,empty:c,...f}=a;"single"===f.type?(f.type="point",f.toggle=!1):"multi"===f.type&&(f.type="point"),r.emptySelections[o]="none"!==c;for(const A of Rl(r.selectionPredicates[o]??{}))A.empty="none"!==c;return{name:o,value:l,select:f,bind:u}})}:t}},N0t=new _G;function xve(e){return or(e)?{type:e}:e??{}}const U0t=["background","padding"];function Dve(e,t){const r={};for(const i of U0t)e&&void 0!==e[i]&&(r[i]=sf(e[i]));return t&&(r.params=e.params),r}class K0{constructor(t={},r={}){this.explicit=t,this.implicit=r}clone(){return new K0(yi(this.explicit),yi(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Ca(this.explicit[t],this.implicit[t])}getWithExplicit(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:r,explicit:i}){void 0!==r&&this.set(t,r,i)}set(t,r,i){return delete this[i?"implicit":"explicit"][t],this[i?"explicit":"implicit"][t]=r,this}copyKeyFromSplit(t,{explicit:r,implicit:i}){void 0!==r[t]?this.set(t,r[t],!0):void 0!==i[t]&&this.set(t,i[t],!1)}copyKeyFromObject(t,r){void 0!==r[t]&&this.set(t,r[t],!0)}copyAll(t){for(const r of fn(t.combine())){const i=t.getWithExplicit(r);this.setWithExplicit(r,i)}}}function Rh(e){return{explicit:!0,value:e}}function af(e){return{explicit:!1,value:e}}function Fve(e){return(t,r,i,s)=>{const o=e(t.value,r.value);return o>0?t:o<0?r:jx(t,r,i,s)}}function jx(e,t,r,i){return e.explicit&&t.explicit&&In(function SAt(e,t,r,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${ao(r)} and ${ao(i)}). Using ${ao(r)}.`}(r,i,e.value,t.value)),e}function Z1(e,t,r,i,s=jx){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:rf(e.value,t.value)?e:s(e,t,r,i)}class L0t extends K0{constructor(t={},r={},i=!1){super(t,r),this.explicit=t,this.implicit=r,this.parseNothing=i}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function r5(e){return Bn(e,"url")}function r7(e){return Bn(e,"values")}function Mve(e){return Bn(e,"name")&&!r5(e)&&!r7(e)&&!eg(e)}function eg(e){return e&&(Tve(e)||Ive(e)||yG(e))}function Tve(e){return Bn(e,"sequence")}function Ive(e){return Bn(e,"sphere")}function yG(e){return Bn(e,"graticule")}var zo=(()=>(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"}(zo||(zo={})),zo))();function Nve({invalid:e,isPath:t}){switch(a2e(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}class to{constructor(t,r){this.debugName=r,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,r){this._children.includes(t)?In("Attempt to add the same child twice."):void 0!==r?this._children.splice(r,0,t):this._children.push(t)}removeChild(t){const r=this._children.indexOf(t);return this._children.splice(r,1),r}remove(){let t=this._parent.removeChild(this);for(const r of this._children)r._parent=this._parent,this._parent.addChild(r,t++)}insertAsParentOf(t){const r=t.parent;r.removeChild(this),this.parent=r,t.parent=this}swapWithParent(){const t=this._parent,r=t.parent;for(const s of this._children)s.parent=t;this._children=[],t.removeChild(this);const i=t.parent.removeChild(t);this._parent=r,r.addChild(this,i),t.parent=this}}class Ec extends to{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,r,i,s){super(t,r),this.type=i,this.refCounts=s,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${Vge()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function wG(e){return void 0!==e.as}function Ove(e){return`${e}_end`}class kh extends to{clone(){return new kh(null,yi(this.timeUnits))}constructor(t,r){super(t),this.timeUnits=r}static makeFromEncoding(t,r){const i=r.reduceFieldDef((s,o,a)=>{const{field:l,timeUnit:u}=o;if(u){let c;if(a2(u)){if(ra(r)){const{mark:f,markDef:A,config:d}=r,h=X1({fieldDef:o,markDef:A,config:d});(W9(f)||h)&&(c={timeUnit:ml(u),field:l})}}else c={as:Yn(o,{forAs:!0}),field:l,timeUnit:u};if(ra(r)){const{mark:f,markDef:A,config:d}=r,h=X1({fieldDef:o,markDef:A,config:d});W9(f)&&Ea(a)&&.5!==h&&(c.rectBandPosition=h)}c&&(s[os(c)]=c)}return s},{});return oo(i)?null:new kh(t,i)}static makeFromTransform(t,r){const{timeUnit:i,...s}={...r},a={...s,timeUnit:ml(i)};return new kh(t,{[os(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const r in t.timeUnits)this.timeUnits[r]||(this.timeUnits[r]=t.timeUnits[r]);for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}removeFormulas(t){const r={};for(const[i,s]of L1(this.timeUnits)){const o=wG(s)?s.as:`${s.field}_end`;t.has(o)||(r[i]=s)}this.timeUnits=r}producedFields(){return new Set(Rl(this.timeUnits).map(t=>wG(t)?t.as:Ove(t.field)))}dependentFields(){return new Set(Rl(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${os(this.timeUnits)}`}assemble(){const t=[];for(const r of Rl(this.timeUnits)){const{rectBandPosition:i}=r,s=ml(r.timeUnit);if(wG(r)){const{field:o,as:a}=r,{unit:l,utc:u,...c}=s,f=[a,`${a}_end`];t.push({field:Zf(o),type:"timeunit",...l?{units:bx(l)}:{},...u?{timezone:"utc"}:{},...c,as:f}),t.push(...kve(f,i,s))}else if(r){const{field:o}=r,a=o.replaceAll("\\.","."),l=Rve({timeUnit:s,field:a}),u=Ove(a);t.push({type:"formula",expr:l,as:u}),t.push(...kve([a,u],i,s))}}return t}}const Kx="offsetted_rect_start",Wx="offsetted_rect_end";function Rve({timeUnit:e,field:t,reverse:r}){const{unit:i,utc:s}=e,o=Lme(i),{part:a,step:l}=$me(o,e.step);return`${s?"utcOffset":"timeOffset"}('${a}', ${eo(t)}, ${r?-l:l})`}function kve([e,t],r,i){if(void 0!==r&&.5!==r){const s=eo(e),o=eo(t);return[{type:"formula",expr:Pve([Rve({timeUnit:i,field:e,reverse:!0}),s],r+.5),as:`${e}_${Kx}`},{type:"formula",expr:Pve([s,o],r+.5),as:`${e}_${Wx}`}]}return[]}function Pve([e,t],r){return`${1-r} * ${e} + ${r} * ${t}`}const i7="_tuple_fields";class H0t{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const V0t={defined:()=>!0,parse:(e,t,r)=>{const i=t.name,s=t.project??(t.project=new H0t),o={},a={},l=new Set,u=(g,m)=>{const v="visual"===m?g.channel:g.field;let _=$o(`${i}_${v}`);for(let C=1;l.has(_);C++)_=$o(`${i}_${v}_${C}`);return l.add(_),{[m]:_}},c=t.type,f=e.config.selection[c],A=void 0!==r.value?ar(r.value):null;let{fields:d,encodings:h}=sr(r.select)?r.select:{};if(!d&&!h&&A)for(const g of A)if(sr(g))for(const m of fn(g))Aft(m)?(h||(h=[])).push(m):"interval"===c?(In('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),h=f.encodings):(d??(d=[])).push(m);!d&&!h&&(h=f.encodings,"fields"in f&&(d=f.fields));for(const g of h??[]){const m=e.fieldDef(g);if(m){let v=m.field;if(m.aggregate){In(Pft(g,m.aggregate));continue}if(!v){In(wme(g));continue}if(m.timeUnit&&!a2(m.timeUnit)){v=e.vgField(g);const _={timeUnit:m.timeUnit,as:v,field:m.field};a[os(_)]=_}if(!o[v]){const C={field:v,channel:g,type:"interval"===c&&Dh(g)&&sd(e.getScaleComponent(g).get("type"))?"R":m.bin?"R-RE":"E",index:s.items.length};C.signals={...u(C,"data"),...u(C,"visual")},s.items.push(o[v]=C),s.hasField[v]=o[v],s.hasSelectionId=s.hasSelectionId||v===cd,Wge(g)?(C.geoChannel=g,C.channel=Kge(g),s.hasChannel[C.channel]=o[v]):s.hasChannel[g]=o[v]}}else In(wme(g))}for(const g of d??[]){if(s.hasField[g])continue;const m={type:"E",field:g,index:s.items.length};m.signals={...u(m,"data")},s.items.push(m),s.hasField[g]=m,s.hasSelectionId=s.hasSelectionId||g===cd}A&&(t.init=A.map(g=>s.items.map(m=>sr(g)?void 0!==g[m.geoChannel||m.channel]?g[m.geoChannel||m.channel]:g[m.field]:g))),oo(a)||(s.timeUnit=new kh(null,a))},signals:(e,t,r)=>{const i=t.name+i7;return r.filter(o=>o.name===i).length>0||t.project.hasSelectionId?r:r.concat({name:i,value:t.project.items.map(Hve)})}},Yx="anim_value",i5="anim_clock",bG="eased_anim_clock",Lve="min_extent",Qve="max_range_extent",CG="last_tick_at",EG="is_playing",z0t={defined:e=>"point"===e.type,topLevelSignals:(e,t,r)=>(Ph(t)&&(r=r.concat([{name:i5,init:"0",on:[{events:{type:"timer",throttle:16.666666666666668},update:`${EG} ? (${i5} + (now() - ${CG}) > ${Qve} ? 0 : ${i5} + (now() - ${CG})) : ${i5}`}]},{name:CG,init:"now()",on:[{events:[{signal:i5},{signal:EG}],update:"now()"}]},{name:EG,init:"true"}])),r),signals:(e,t,r)=>{const i=t.name,s=i+i7,o=t.project,a="(item().isVoronoi ? datum.datum : datum)",l=Rl(e.component.selection??{}).reduce((f,A)=>"interval"===A.type?f.concat(A.name+s5):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(l?` && ${l}`:"");let c=`unit: ${m2(e)}, `;if(t.project.hasSelectionId?c+=`${cd}: ${a}[${Un(cd)}]`:Ph(t)?c+=`fields: ${s}, values: [${Yx} ? ${Yx} : ${Lve}]`:c+=`fields: ${s}, values: [${o.items.map(A=>e.fieldDef(A.channel)?.bin?`[${a}[${Un(e.vgField(A.channel,{}))}], ${a}[${Un(e.vgField(A.channel,{binSuffix:"end"}))}]]`:`${a}[${Un(A.field)}]`).join(", ")}]`,Ph(t))return r.concat(((e,t)=>[{name:bG,update:i5},{name:`${e}_domain`,init:`domain('${t}')`},{name:Lve,init:`extent(${e}_domain)[0]`},{name:Qve,init:`extent(range('${t}'))[1]`},{name:Yx,update:`invert('${t}', ${bG})`}])(t.name,e.scaleName(H1)),[{name:i+X0,on:[{events:[{signal:bG},{signal:Yx}],update:`{${c}}`,force:!0}]}]);{const f=t.events;return r.concat([{name:i+X0,on:f?[{events:f,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}}};function Hve(e){const{signals:t,hasLegend:r,index:i,...s}=e;return s.field=Zf(s.field),s}function p2(e,t=!0,r=Zl){if(Zt(e)){const i=e.map(s=>p2(s,t,r));return t?`[${i.join(", ")}]`:i}return s2(e)?r(t?o2(e):function XAt(e){const t=E$(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?r(ao(e)):e}function q0t(e,t){for(const r of Rl(e.component.selection??{})){const i=r.name;let s=`${i}${X0}, ${"global"===r.resolve?"true":`{unit: ${m2(e)}}`}`;for(const o of tD)!o.defined(r)||(o.signals&&(t=o.signals(e,r,t)),o.modifyExpr&&(s=o.modifyExpr(e,r,s)));t.push({name:i+ypt,on:[{events:{signal:r.name+X0},update:`modify(${Un(r.name+g2)}, ${s})`}]})}return SG(t)}function j0t(e,t){if(e.component.selection&&fn(e.component.selection).length){const r=Un(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:P1("pointermove","scope"),update:`isTuple(facet) ? facet : group(${r}).datum`}]})}return SG(t)}function Vve(e,t){for(const r of Rl(e.component.selection??{}))for(const i of tD)i.defined(r)&&i.marks&&(t=i.marks(e,r,t));return t}function SG(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const W0={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const r=t.scales=[];for(const i of t.project.items){const s=i.channel;if(!Dh(s))continue;const o=e.getScaleComponent(s),a=o?o.get("type"):void 0;"sequential"==a&&In("Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc"),o&&sd(a)?(o.set("selectionExtent",{param:t.name,field:i.field},!0),r.push(i)):In("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,r)=>{const i=t.scales.filter(a=>0===r.filter(l=>l.name===a.signals.data).length);if(!e.parent||xG(e)||0===i.length)return r;const s=r.find(a=>a.name===t.name);let o=s.update;if(o.includes(A3e))s.update=`{${i.map(a=>`${Un(Zf(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of i){const l=`${Un(Zf(a.field))}: ${a.signals.data}`;o.includes(l)||(o=`${o.substring(0,o.length-1)}, ${l}}`)}s.update=o}return r.concat(i.map(a=>({name:a.signals.data})))},signals:(e,t,r)=>{if(e.parent&&!xG(e))for(const i of t.scales){const s=r.find(o=>o.name===i.signals.data);s.push="outer",delete s.value,delete s.update}return r}};function BG(e,t){return`domain(${Un(e.scaleName(t))})`}function xG(e){return e.parent&&p5(e.parent)&&(!e.parent.parent||xG(e.parent.parent))}const s5="_brush",$ve="_scale_trigger",s7="geo_interval_init_tick",Z0t={defined:e=>"interval"===e.type,parse:(e,t,r)=>{var i;if(e.hasProjection){const s={...sr(r.select)?r.select:{}};s.fields=[cd],s.encodings||(s.encodings=r.value?fn(r.value):[nd,td]),r.select={type:"interval",...s}}if(t.translate&&!W0.defined(t)){const s=`!event.item || event.item.mark.name !== ${Un(t.name+s5)}`;for(const o of t.events){if(!o.between){In(`${o} is not an ordered event stream for interval selections.`);continue}const a=ar((i=o.between[0]).filter??(i.filter=[]));a.includes(s)||a.push(s)}}},signals:(e,t,r)=>{const i=t.name,s=i+X0,o=Rl(t.project.hasChannel).filter(l=>l.channel===Go||l.channel===gl),a=t.init?t.init[0]:null;if(r.push(...o.reduce((l,u)=>l.concat(function ept(e,t,r,i){const s=!e.hasProjection,o=r.channel,a=r.signals.visual,l=Un(s?e.scaleName(o):e.projectionName()),u=d=>`scale(${l}, ${d})`,c=e.getSizeSignalRef(o===Go?"width":"height").signal,f=`${o}(unit)`,A=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${f}, ${f}]`},{events:h,update:`[${a}[0], clamp(${f}, 0, ${c})]`}],[]);if(s){const d=r.signals.data,h=W0.defined(t),g=e.getScaleComponent(o),m=g?g.get("type"):void 0,v=i?{init:p2(i,!0,u)}:{value:[]};return A.push({events:{signal:t.name+$ve},update:sd(m)?`[${u(`${d}[0]`)}, ${u(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:a,...v,on:A},{name:d,...i?{init:p2(i)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${l}, ${a})`}]}]}{const d=o===Go?0:1,h=t.name+"_init";return[{name:a,...i?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]},on:A}]}}(e,t,u,a&&a[u.index])),[])),e.hasProjection){const l=Un(e.projectionName()),u=e.projectionName()+"_center",{x:c,y:f}=t.project.hasChannel,A=c&&c.signals.visual,d=f&&f.signals.visual,h=c?a&&a[c.index]:`${u}[0]`,g=f?a&&a[f.index]:`${u}[1]`,m=I=>e.getSizeSignalRef(I).signal,v=`[[${A?A+"[0]":"0"}, ${d?d+"[0]":"0"}],[${A?A+"[1]":m("width")}, ${d?d+"[1]":m("height")}]]`;a&&(r.unshift({name:i+"_init",init:`[scale(${l}, [${c?h[0]:h}, ${f?g[0]:g}]), scale(${l}, [${c?h[1]:h}, ${f?g[1]:g}])]`}),(!c||!f)&&(r.find(V=>V.name===u)||r.unshift({name:u,update:`invert(${l}, [${m("width")}/2, ${m("height")}/2])`})));const D=`vlSelectionTuples(intersect(${v}, {markname: ${Un(e.getName("marks"))}}, unit.mark), {unit: ${m2(e)}})`,T=o.map(I=>I.signals.visual);return r.concat({name:s,on:[{events:[...T.length?[{signal:T.join(" || ")}]:[],...a?[{signal:s7}]:[]],update:D}]})}{if(!W0.defined(t)){const c=i+$ve,f=o.map(A=>{const d=A.channel,{data:h,visual:g}=A.signals,m=Un(e.scaleName(d)),_=sd(e.getScaleComponent(d).get("type"))?"+":"";return`(!isArray(${h}) || (${_}invert(${m}, ${g})[0] === ${_}${h}[0] && ${_}invert(${m}, ${g})[1] === ${_}${h}[1]))`});f.length&&r.push({name:c,value:{},on:[{events:o.map(A=>({scale:e.scaleName(A.channel)})),update:f.join(" && ")+` ? ${c} : {}`}]})}const l=o.map(c=>c.signals.data),u=`unit: ${m2(e)}, fields: ${i+i7}, values`;return r.concat({name:s,...a?{init:`{${u}: ${p2(a)}}`}:{},...l.length?{on:[{events:[{signal:l.join(" || ")}],update:`${l.join(" && ")} ? {${u}: [${l}]} : null`}]}:{}})}},topLevelSignals:(e,t,r)=>(ra(e)&&e.hasProjection&&t.init&&(r.filter(s=>s.name===s7).length||r.unshift({name:s7,value:null,on:[{events:"timer{1}",update:`${s7} === null ? {} : ${s7}`}]})),r),marks:(e,t,r)=>{const i=t.name,{x:s,y:o}=t.project.hasChannel,a=s?.signals.visual,l=o?.signals.visual,u=`data(${Un(t.name+g2)})`;if(W0.defined(t)||!s&&!o)return r;const c={x:void 0!==s?{signal:`${a}[0]`}:{value:0},y:void 0!==o?{signal:`${l}[0]`}:{value:0},x2:void 0!==s?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${l}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const v of fn(c))c[v]=[{test:`${u}.length && ${u}[0].unit === ${m2(e)}`,...c[v]},{value:0}];const{fill:f,fillOpacity:A,cursor:d,...h}=t.mark,g=fn(h).reduce((v,_)=>(v[_]=[{test:[void 0!==s&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${l}[0] !== ${l}[1]`].filter(C=>C).join(" && "),value:h[_]},{value:null}],v),{}),m=d??(t.translate?"move":null);return[{name:`${i+s5}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:A}},update:c}},...r,{name:i+s5,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...c,...g}}}]}};function o5({model:e,channelDef:t,vgChannel:r,invalidValueRef:i,mainRefFn:s}){const o=Z9(t)&&t.condition;let a=[];o&&(a=ar(o).map(c=>{const f=s(c);if(function qdt(e){return Bn(e,"param")}(c)){const{param:A,empty:d}=c;return{test:F3e(e,{param:A,empty:d}),...f}}return{test:lD(e,c.test),...f}})),void 0!==i&&a.push(i);const l=s(t);return void 0!==l&&a.push(l),a.length>1||1===a.length&&Boolean(a[0].test)?{[r]:a}:1===a.length?{[r]:a[0]}:{}}function DG(e,t="text"){return o5({model:e,channelDef:e.encoding[t],vgChannel:t,mainRefFn:i=>Xx(i,e.config),invalidValueRef:void 0})}function Xx(e,t,r="datum"){if(e){if(ld(e))return No(e.value);if(Si(e)){const{format:i,formatType:s}=kx(e);return z$({fieldOrDatumDef:e,format:i,formatType:s,expr:r,config:t})}}}function zve(e,t={}){const{encoding:r,markDef:i,config:s,stack:o}=e,a=r.tooltip;if(Zt(a))return{tooltip:jve({tooltip:a},o,s,t)};{const l=t.reactiveGeom?"datum.datum":"datum";return o5({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:c=>{const f=Xx(c,s,l);if(f)return f;if(null===c)return;let A=lo("tooltip",i,s);return!0===A&&(A={content:"encoding"}),or(A)?{value:A}:sr(A)?Ir(A)?A:"encoding"===A.content?jve(r,o,s,t):{signal:l}:void 0},invalidValueRef:void 0})}}function qve(e,t,r,{reactiveGeom:i}={}){const s={...r,...r.tooltipFormat},o=new Set,a=i?"datum.datum":"datum",l=[];function u(f,A){const d=t2(A),h=ju(f)?f:{...f,type:e[d].type},m=ar(h.title||Y$(h,s)).join(", ").replaceAll(/"/g,'\\"');let v;if(Ea(A)){const _="x"===A?"x2":"y2",C=ud(e[_]);if(kl(h.bin)&&C){const D=Yn(h,{expr:a}),T=Yn(C,{expr:a}),{format:I,formatType:V}=kx(h);v=X9(D,T,I,V,s),o.add(_)}}if((Ea(A)||A===eA||A===ed)&&t&&t.fieldChannel===A&&"normalize"===t.offset){const{format:_,formatType:C}=kx(h);v=z$({fieldOrDatumDef:h,format:_,formatType:C,expr:a,config:s,normalizeStack:!0}).signal}v??(v=Xx(h,s,a).signal),l.push({channel:A,key:m,value:v})}J$(e,(f,A)=>{kn(f)?u(f,A):Nx(f)&&u(f.condition,A)});const c={};for(const{channel:f,key:A,value:d}of l)!o.has(f)&&!c[A]&&(c[A]=d);return c}function jve(e,t,r,{reactiveGeom:i}={}){const s=qve(e,t,r,{reactiveGeom:i}),o=L1(s).map(([a,l])=>`"${a}": ${l}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function tpt(e){const{markDef:t,config:r}=e,i=lo("aria",t,r);return!1===i?{}:{...i?{aria:i}:{},...npt(e),...rpt(e)}}function npt(e){const{mark:t,markDef:r,config:i}=e;if(!1===i.aria)return{};const s=lo("ariaRoleDescription",r,i);return null!=s?{ariaRoleDescription:{value:s}}:pr(Nft,t)?{}:{ariaRoleDescription:{value:t}}}function rpt(e){const{encoding:t,markDef:r,config:i,stack:s}=e,o=t.description;if(o)return o5({model:e,channelDef:o,vgChannel:"description",mainRefFn:u=>Xx(u,e.config),invalidValueRef:void 0});const a=lo("description",r,i);if(null!=a)return{description:No(a)};if(!1===i.aria)return{};const l=qve(t,s,i);return oo(l)?void 0:{description:{signal:L1(l).map(([u,c],f)=>`"${f>0?"; ":""}${u}: " + (${c})`).join(" + ")}}}function Ll(e,t,r={}){const{markDef:i,encoding:s,config:o}=t,{vgChannel:a}=r;let{defaultRef:l,defaultValue:u}=r;const c=s[e];void 0===l&&(u??(u=lo(e,i,o,{vgChannel:a,ignoreVgConfig:!Z9(c)})),void 0!==u&&(l=No(u)));const f={markDef:i,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},A=u2e({...f,scaleChannel:e,channelDef:c});return o5({model:t,channelDef:c,vgChannel:a??e,invalidValueRef:A,mainRefFn:h=>G$({...f,channel:e,channelDef:h,stack:null,defaultRef:l})})}function Kve(e,t={filled:void 0}){const{markDef:r,encoding:i,config:s}=e,{type:o}=r,a=t.filled??lo("filled",r,s),l=Yi(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,u=lo(!0===a?"color":void 0,r,s,{vgChannel:"fill"})??s.mark[!0===a&&"color"]??l,c=lo(!1===a?"color":void 0,r,s,{vgChannel:"stroke"})??s.mark[!1===a&&"color"],f=a?"fill":"stroke",A={...u?{fill:No(u)}:{},...c?{stroke:No(c)}:{}};return r.color&&(a?r.fill:r.stroke)&&In(xme("property",{fill:"fill"in r,stroke:"stroke"in r})),{...A,...Ll("color",e,{vgChannel:f,defaultValue:a?u:c}),...Ll("fill",e,{defaultValue:i.fill?u:void 0}),...Ll("stroke",e,{defaultValue:i.stroke?c:void 0})}}function ipt(e){const{encoding:t,mark:r}=e,i=t.order;return!Y1(r)&&ld(i)?o5({model:e,channelDef:i,vgChannel:"zindex",mainRefFn:s=>No(s.value),invalidValueRef:void 0}):{}}function a5({channel:e,markDef:t,encoding:r={},model:i,bandPosition:s}){const o=`${e}Offset`,a=t[o],l=r[o];if(("xOffset"===o||"yOffset"===o)&&l)return{offsetType:"encoding",offset:G$({channel:o,channelDef:l,markDef:t,config:i?.config,scaleName:i.scaleName(o),scale:i.getScaleComponent(o),stack:null,defaultRef:No(a),bandPosition:s})};const u=t[o];return u?{offsetType:"visual",offset:u}:{}}function Ku(e,t,{defaultPos:r,vgChannel:i}){const{encoding:s,markDef:o,config:a,stack:l}=t,u=s[e],c=s[xh(e)],f=t.scaleName(e),A=t.getScaleComponent(e),{offset:d,offsetType:h}=a5({channel:e,markDef:o,encoding:s,model:t,bandPosition:.5}),g=FG({model:t,defaultPos:r,channel:e,scaleName:f,scale:A}),m=!u&&Ea(e)&&(s.latitude||s.longitude)?{field:t.getName(e)}:function spt(e){const{channel:t,channelDef:r,scaleName:i,stack:s,offset:o,markDef:a}=e;if(Si(r)&&s&&t===s.fieldChannel){if(kn(r)){let l=r.bandPosition;if(void 0===l&&"text"===a.type&&("radius"===t||"theta"===t)&&(l=.5),void 0!==l)return Mx({scaleName:i,fieldOrDatumDef:r,startSuffix:"start",bandPosition:l,offset:o})}return f2(r,i,{suffix:"end"},{offset:o})}return $$(e)}({channel:e,channelDef:u,channel2Def:c,markDef:o,config:a,scaleName:f,scale:A,stack:l,offset:d,defaultRef:g,bandPosition:"encoding"===h?0:void 0});return m?{[i||e]:m}:void 0}function FG({model:e,defaultPos:t,channel:r,scaleName:i,scale:s}){const{markDef:o,config:a}=e;return()=>{const l=t2(r),u=q1(r),c=lo(r,o,a,{vgChannel:u});if(void 0!==c)return Y9(r,c);switch(t){case"zeroOrMin":return Wve({scaleName:i,scale:s,mode:"zeroOrMin",mainChannel:l,config:a});case"zeroOrMax":return Wve({scaleName:i,scale:s,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:l,config:a});case"mid":return{...e[Cc(r)],mult:.5}}}}function Wve({mainChannel:e,config:t,...r}){const i=l2e(r),{mode:s}=r;if(i)return i;switch(e){case"radius":{if("zeroOrMin"===s)return{value:0};const{widthSignal:o,heightSignal:a}=s.zeroOrMax;return{signal:`min(${o},${a})/2`}}case"theta":return"zeroOrMin"===s?{value:0}:{signal:"2*PI"};case"x":return"zeroOrMin"===s?{value:0}:{field:{group:"width"}};case"y":return"zeroOrMin"===s?{field:{group:"height"}}:{value:0}}}const opt={left:"x",center:"xc",right:"x2"},apt={top:"y",middle:"yc",bottom:"y2"};function Yve(e,t,r,i="middle"){if("radius"===e||"theta"===e)return q1(e);const s="x"===e?"align":"baseline",o=lo(s,t,r);let a;return Ir(o)?(In(function hAt(e){return`The ${e} for range marks cannot be an expression`}(s)),a=void 0):a=o,"x"===e?opt[a||("top"===i?"left":"center")]:apt[a||i]}function Jx(e,t,{defaultPos:r,defaultPos2:i,range:s}){return s?Xve(e,t,{defaultPos:r,defaultPos2:i}):Ku(e,t,{defaultPos:r})}function Xve(e,t,{defaultPos:r,defaultPos2:i}){const{markDef:s,config:o}=t,a=xh(e),l=Cc(e),u=function lpt(e,t,r){const{encoding:i,mark:s,markDef:o,stack:a,config:l}=e,u=t2(r),c=Cc(r),f=q1(r),A=i[u],d=e.scaleName(u),h=e.getScaleComponent(u),{offset:g}=a5(r in i||r in o?{channel:r,markDef:o,encoding:i,model:e}:{channel:u,markDef:o,encoding:i,model:e});if(!A&&("x2"===r||"y2"===r)&&(i.latitude||i.longitude)){const v=Cc(r),_=e.markDef[v];return null!=_?{[v]:{value:_}}:{[f]:{field:e.getName(r)}}}const m=function upt({channel:e,channelDef:t,channel2Def:r,markDef:i,config:s,scaleName:o,scale:a,stack:l,offset:u,defaultRef:c}){return Si(t)&&l&&e.charAt(0)===l.fieldChannel.charAt(0)?f2(t,o,{suffix:"start"},{offset:u}):$$({channel:e,channelDef:r,scaleName:o,scale:a,stack:l,markDef:i,config:s,offset:u,defaultRef:c})}({channel:r,channelDef:A,channel2Def:i[r],markDef:o,config:l,scaleName:d,scale:h,stack:a,offset:g,defaultRef:void 0});return void 0!==m?{[f]:m}:Zx(r,o)||Zx(r,{[r]:m$(r,o,l.style),[c]:m$(c,o,l.style)})||Zx(r,l[s])||Zx(r,l.mark)||{[f]:FG({model:e,defaultPos:t,channel:r,scaleName:d,scale:h})()}}(t,i,a);return{...Ku(e,t,{defaultPos:r,vgChannel:u[l]?Yve(e,s,o):q1(e)}),...u}}function Zx(e,t){const r=Cc(e),i=q1(e);if(void 0!==t[i])return{[i]:Y9(e,t[i])};if(void 0!==t[e])return{[i]:Y9(e,t[e])};if(t[r]){const s=t[r];if(!c2(s))return{[r]:Y9(e,s)};In(function lAt(e){return`Position range does not support relative band size for ${e}.`}(r))}}function Y0(e,t){const{config:r,encoding:i,markDef:s}=e,o=s.type,a=xh(t),l=Cc(t),u=i[t],c=i[a],f=e.getScaleComponent(t),A=f?f.get("type"):void 0,d=s.orient,h=i[l]??i.size??lo("size",s,r,{vgChannel:l}),g=tme(t),m="bar"===o&&("x"===t?"vertical"===d:"horizontal"===d)||"tick"===o&&("y"===t?"vertical"===d:"horizontal"===d);return!kn(u)||!(So(u.bin)||kl(u.bin)||u.timeUnit&&!c)||h&&!c2(h)||i[g]||vl(A)?(Si(u)&&vl(A)||m)&&!c?function fpt(e,t,r){const{markDef:i,encoding:s,config:o,stack:a}=r,l=i.orient,u=r.scaleName(t),c=r.getScaleComponent(t),f=Cc(t),A=xh(t),d=tme(t),h=r.scaleName(d),g=r.getScaleComponent(a$(t)),m="tick"===i.type||"horizontal"===l&&"y"===t||"vertical"===l&&"x"===t;let v;(s.size||i.size)&&(m?v=Ll("size",r,{vgChannel:f,defaultRef:No(i.size)}):In(function bAt(e){return`Cannot apply size to non-oriented mark "${e}".`}(i.type)));const _=!!v,C=_2e({channel:t,fieldDef:e,markDef:i,config:o,scaleType:(c||g)?.get("type"),useVlSizeChannel:m});v=v||{[f]:cpt(f,h||u,g||c,o,C,!!e,i.type)};const T=Yve(t,i,o,"band"===(c||g)?.get("type")&&c2(C)&&!_?"top":"middle"),I="xc"===T||"yc"===T,{offset:V,offsetType:R}=a5({channel:t,markDef:i,encoding:s,model:r,bandPosition:I?.5:0}),K=$$({channel:t,channelDef:e,markDef:i,config:o,scaleName:u,scale:c,stack:a,offset:V,defaultRef:FG({model:r,defaultPos:"mid",channel:t,scaleName:u,scale:c}),bandPosition:I?"encoding"===R?0:.5:Ir(C)?{signal:`(1-${C})/2`}:c2(C)?(1-C.band)/2:0});if(f)return{[T]:K,...v};{const ne=q1(A),Ae=v[f],ae=V?{...Ae,offset:V}:Ae;return{[T]:K,[ne]:Zt(K)?[K[0],{...K[1],offset:ae}]:{...K,offset:ae}}}}(u,t,e):Xve(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function Apt({fieldDef:e,fieldDef2:t,channel:r,model:i}){const{config:s,markDef:o,encoding:a}=i,l=i.getScaleComponent(r),u=i.scaleName(r),c=l?l.get("type"):void 0,f=l.get("reverse"),A=_2e({channel:r,fieldDef:e,markDef:o,config:s,scaleType:c}),h=i.component.axes[r]?.[0]?.get("translate")??.5,g=Ea(r)?lo("binSpacing",o,s)??0:0,m=xh(r),v=q1(r),_=q1(m),C=Fh("minBandSize",o,s),{offset:D}=a5({channel:r,markDef:o,encoding:a,model:i,bandPosition:0}),{offset:T}=a5({channel:m,markDef:o,encoding:a,model:i,bandPosition:0}),I=function Qdt({scaleName:e,fieldDef:t}){const r=Yn(t,{expr:"datum"});return`abs(scale("${e}", ${Yn(t,{expr:"datum",suffix:"end"})}) - scale("${e}", ${r}))`}({fieldDef:e,scaleName:u}),V=Jve(r,g,f,h,D,C,I),R=Jve(m,g,f,h,T??D,C,I),K=Ir(A)?{signal:`(1-${A.signal})/2`}:c2(A)?(1-A.band)/2:.5,ne=X1({fieldDef:e,fieldDef2:t,markDef:o,config:s});if(So(e.bin)||e.timeUnit){const Ae=e.timeUnit&&.5!==ne;return{[_]:Zve({fieldDef:e,scaleName:u,bandPosition:K,offset:R,useRectOffsetField:Ae}),[v]:Zve({fieldDef:e,scaleName:u,bandPosition:Ir(K)?{signal:`1-${K.signal}`}:1-K,offset:V,useRectOffsetField:Ae})}}if(kl(e.bin)){const Ae=f2(e,u,{},{offset:R});if(kn(t))return{[_]:Ae,[v]:f2(t,u,{},{offset:V})};if(n2(e.bin)&&e.bin.step)return{[_]:Ae,[v]:{signal:`scale("${u}", ${Yn(e,{expr:"datum"})} + ${e.bin.step})`,offset:V}}}In(Ime(m))}({fieldDef:u,fieldDef2:c,channel:t,model:e})}function cpt(e,t,r,i,s,o,a){if(c2(s)){if(!r)return{mult:s.band,field:{group:e}};{const u=r.get("type");if("band"===u){let c=`bandwidth('${t}')`;1!==s.band&&(c=`${s.band} * ${c}`);const f=Fh("minBandSize",{type:a},i);return{signal:f?`max(${id(f)}, ${c})`:c}}1!==s.band&&(In(function vAt(e){return`Cannot use the relative band size with ${e} scale.`}(u)),s=void 0)}}else{if(Ir(s))return s;if(s)return{value:s}}if(r){const u=r.get("range");if(r2(u)&&Ns(u.step))return{value:u.step-2}}if(!o){const{bandPaddingInner:u,barBandPaddingInner:c,rectBandPaddingInner:f,tickBandPaddingInner:A}=i.scale,d=Ca(u,"tick"===a?A:"bar"===a?c:f);if(Ir(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(Ns(d))return{signal:`${1-d} * ${e}`}}return{value:AG(i.view,e)-2}}function Jve(e,t,r,i,s,o,a){if(jge(e))return 0;const l="x"===e||"y2"===e,u=l?-t/2:t/2;if(Ir(r)||Ir(s)||Ir(i)||o){const c=id(r),f=id(s),A=id(i),d=id(o),g=o?`(${a} < ${d} ? ${l?"":"-"}0.5 * (${d} - (${a})) : ${u})`:u;return{signal:(A?`${A} + `:"")+(c?`(${c} ? -1 : 1) * `:"")+(f?`(${f} + ${g})`:g)}}return s=s||0,i+(r?-s-u:+s+u)}function Zve({fieldDef:e,scaleName:t,bandPosition:r,offset:i,useRectOffsetField:s}){return Mx({scaleName:t,fieldOrDatumDef:e,bandPosition:r,offset:i,...s?{startSuffix:Kx,endSuffix:Wx}:{}})}const dpt=new Set(["aria","width","height"]);function rA(e,t){const{fill:r,stroke:i}="include"===t.color?Kve(e):{};return{...hpt(e.markDef,t),...e3e("fill",r),...e3e("stroke",i),...Ll("opacity",e),...Ll("fillOpacity",e),...Ll("strokeOpacity",e),...Ll("strokeWidth",e),...Ll("strokeDash",e),...ipt(e),...zve(e),...DG(e,"href"),...tpt(e)}}function e3e(e,t){return t?{[e]:t}:{}}function hpt(e,t){return Ift.reduce((r,i)=>(!dpt.has(i)&&Bn(e,i)&&"ignore"!==t[i]&&(r[i]=No(e[i])),r),{})}function MG(e){const{config:t,markDef:r}=e,i=new Set;if(e.forEachFieldDef((s,o)=>{let a;if(!Dh(o)||!(a=e.getScaleType(o)))return;const l=vx(s.aggregate);if(function Pdt(e){return"break-paths-filter-domains"===e||"break-paths-show-domains"===e}(V$({scaleChannel:o,markDef:r,config:t,scaleType:a,isCountAggregate:l}))){const c=e.vgField(o,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&i.add(c)}}),i.size>0)return{defined:{signal:[...i].map(o=>Cx(o,!0)).join(" && ")}}}function t3e(e,t){if(void 0!==t)return{[e]:No(t)}}const TG="voronoi",n3e={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const r of t.events)r.markname=e.getName(TG)},marks:(e,t,r)=>{const{x:i,y:s}=t.project.hasChannel,o=e.mark;if(Y1(o))return In(function Uft(e){return`The "nearest" transform is not supported for ${e} marks.`}(o)),r;const a={name:e.getName(TG),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...zve(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:i||!s?"datum.datum.x || 0":"0"},y:{expr:s||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let l=0,u=!1;return r.forEach((c,f)=>{const A=c.name??"";A===e.component.mark[0].name?l=f:A.includes(TG)&&(u=!0)}),u||r.splice(l+1,0,a),r}},r3e={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!oG(e.bind),parse:(e,t,r)=>d3e(t,r),topLevelSignals:(e,t,r)=>{const i=t.name,s=t.project,o=t.bind,a=t.init&&t.init[0],l=n3e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.items.forEach((u,c)=>{const f=$o(`${i}_${u.field}`);r.filter(d=>d.name===f).length||r.unshift({name:f,...a?{init:p2(a[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${l}[${Un(u.field)}] : null`}]:[],bind:o[u.field]??o[u.channel]??o})}),r},signals:(e,t,r)=>{const i=t.name,s=t.project,o=r.find(c=>c.name===i+X0),a=i+i7,l=s.items.map(c=>$o(`${i}_${c.field}`)),u=l.map(c=>`${c} !== null`).join(" && ");return l.length&&(o.update=`${u} ? {fields: ${a}, values: [${l.join(", ")}]} : null`),delete o.value,delete o.on,r}},eD="_toggle",i3e={defined:e=>"point"===e.type&&!Ph(e)&&!!e.toggle,signals:(e,t,r)=>r.concat({name:t.name+eD,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const r=t.name+X0,i=t.name+eD;return`${i} ? null : ${r}, `+("global"===t.resolve?`${i} ? null : true, `:`${i} ? null : {unit: ${m2(e)}}, `)+`${i} ? ${r} : null`}},ppt={defined:e=>void 0!==e.clear&&!1!==e.clear&&!Ph(e),parse:(e,t)=>{t.clear&&(t.clear=or(t.clear)?P1(t.clear,"view"):t.clear)},topLevelSignals:(e,t,r)=>{if(r3e.defined(t))for(const i of t.project.items){const s=r.findIndex(o=>o.name===$o(`${t.name}_${i.field}`));-1!==s&&r[s].on.push({events:t.clear,update:"null"})}return r},signals:(e,t,r)=>{function i(s,o){-1!==s&&r[s].on&&r[s].on.push({events:t.clear,update:o})}if("interval"===t.type)for(const s of t.project.items){const o=r.findIndex(a=>a.name===s.signals.visual);i(o,"[0, 0]"),-1===o&&i(r.findIndex(l=>l.name===s.signals.data),"null")}else{let s=r.findIndex(o=>o.name===t.name+X0);i(s,"null"),i3e.defined(t)&&(s=r.findIndex(o=>o.name===t.name+eD),i(s,"false"))}return r}},s3e={defined:e=>{const t="global"===e.resolve&&e.bind&&oG(e.bind),r=1===e.project.items.length&&e.project.items[0].field!==cd;return t&&!r&&In("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&r},parse:(e,t,r)=>{const i=yi(r);if(i.select=or(i.select)?{type:i.select,toggle:t.toggle}:{...i.select,toggle:t.toggle},d3e(t,i),sr(r.select)&&(r.select.on||r.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=ar(l.filter??[]),l.filter.includes(a)||l.filter.push(a)}const s=aG(t.bind)?t.bind.legend:"click",o=or(s)?P1(s,"view"):ar(s);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,r)=>{const i=t.name,s=aG(t.bind)&&t.bind.legend,o=a=>l=>{const u=yi(l);return u.markname=a,u};for(const a of t.project.items){if(!a.hasLegend)continue;const l=`${$o(a.field)}_legend`,u=`${i}_${l}`;if(0===r.filter(f=>f.name===u).length){const f=s.merge.map(o(`${l}_symbols`)).concat(s.merge.map(o(`${l}_labels`))).concat(s.merge.map(o(`${l}_entries`)));r.unshift({name:u,...t.init?{}:{value:null},on:[{events:f,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return r},signals:(e,t,r)=>{const i=t.name,s=t.project,o=r.find(d=>d.name===i+X0),a=i+i7,l=s.items.filter(d=>d.hasLegend).map(d=>$o(`${i}_${$o(d.field)}_legend`)),c=`${l.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${a}, values: [${l.join(", ")}]} : null`;t.events&&l.length>0?o.on.push({events:l.map(d=>({signal:d})),update:c}):l.length>0&&(o.update=c,delete o.value,delete o.on);const f=r.find(d=>d.name===i+eD),A=aG(t.bind)&&t.bind.legend;return f&&(t.events?f.on.push({...f.on[0],events:A}):f.on[0].events=A),r}},o3e="_translate_anchor",a3e="_translate_delta",vpt={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,r)=>{const i=t.name,s=W0.defined(t),o=i+o3e,{x:a,y:l}=t.project.hasChannel;let u=P1(t.translate,"scope");return s||(u=u.map(c=>(c.between[0].markname=i+s5,c))),r.push({name:o,value:{},on:[{events:u.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?`, extent_x: ${s?BG(e,Go):`slice(${a.signals.visual})`}`:"")+(void 0!==l?`, extent_y: ${s?BG(e,gl):`slice(${l.signals.visual})`}`:"")+"}"}]},{name:i+a3e,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&l3e(e,t,a,"width",r),void 0!==l&&l3e(e,t,l,"height",r),r}};function l3e(e,t,r,i,s){const o=t.name,a=o+o3e,l=o+a3e,u=r.channel,c=W0.defined(t),f=s.find(I=>I.name===r.signals[c?"data":"visual"]),A=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(u),h=d&&d.get("type"),g=d&&d.get("reverse"),v=`${a}.extent_${u}`,T=`${c&&d?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear"}(${v}, ${c?u===Go?g?"":"-":g?"-":"":""}${l}.${u} / ${c?`${A}`:`span(${v})`}${c?"pow"===h?`, ${d.get("exponent")??1}`:"symlog"===h?`, ${d.get("constant")??1}`:"":""})`;f.on.push({events:{signal:l},update:c?T:`clampRange(${T}, 0, ${A})`})}const u3e="_zoom_anchor",c3e="_zoom_delta",_pt={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,r)=>{const i=t.name,s=W0.defined(t),o=i+c3e,{x:a,y:l}=t.project.hasChannel,u=Un(e.scaleName(Go)),c=Un(e.scaleName(gl));let f=P1(t.zoom,"scope");return s||(f=f.map(A=>(A.markname=i+s5,A))),r.push({name:i+u3e,on:[{events:f,update:s?"{"+[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(A=>A).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&f3e(e,t,a,"width",r),void 0!==l&&f3e(e,t,l,"height",r),r}};function f3e(e,t,r,i,s){const o=t.name,a=r.channel,l=W0.defined(t),u=s.find(C=>C.name===r.signals[l?"data":"visual"]),c=e.getSizeSignalRef(i).signal,f=e.getScaleComponent(a),A=f&&f.get("type"),d=l?BG(e,a):u.name,h=o+c3e,_=`${l&&f?"log"===A?"zoomLog":"symlog"===A?"zoomSymlog":"pow"===A?"zoomPow":"zoomLinear":"zoomLinear"}(${d}, ${o}${u3e}.${a}, ${h}${l?"pow"===A?`, ${f.get("exponent")??1}`:"symlog"===A?`, ${f.get("constant")??1}`:"":""})`;u.on.push({events:{signal:h},update:l?_:`clampRange(${_}, 0, ${c})`})}const g2="_store",X0="_tuple",ypt="_modify",A3e="vlSelectionResolve",tD=[z0t,Z0t,V0t,i3e,r3e,W0,s3e,ppt,vpt,_pt,n3e];function m2(e,{escape:t}={escape:!0}){let r=t?Un(e.name):e.name;const i=function wpt(e){let t=e.parent;for(;t&&!lf(t);)t=t.parent;return t}(e);if(i){const{facet:s}=i;for(const o of nA)s[o]&&(r+=` + '__facet_${o}_' + (facet[${Un(i.vgField(o))}])`)}return r}function IG(e){return Rl(e.component.selection??{}).reduce((t,r)=>t||r.project.hasSelectionId,!1)}function d3e(e,t){(or(t.select)||!t.select.on)&&delete e.events,(or(t.select)||!t.select.clear)&&delete e.clear,(or(t.select)||!t.select.toggle)&&delete e.toggle}function Ph(e){return e.events?.find(t=>"type"in t&&"timer"===t.type)}function fd(e){this.type=e}var Uh,Tr,jt,pu,no;fd.prototype.visit=function(e){let t,r,i;if(e(this))return 1;for(t=function Opt(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),r=0,i=t.length;r<i;++r)if(t[r].visit(e))return 1},(Uh={})[1]="Boolean",Uh[2]="<end>",Uh[3]="Identifier",Uh[4]="Keyword",Uh[5]="Null",Uh[6]="Numeric",Uh[7]="Punctuator",Uh[8]="String",Uh[9]="RegularExpression";var h3e="Identifier",_l="Unexpected token %0",NG="Invalid regular expression",OG="Invalid regular expression: missing /",p3e="Octal literals are not allowed in strict mode.",Ql="ILLEGAL",l7="Disabled.",Jpt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Zpt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function iD(e,t){if(!e)throw new Error("ASSERT: "+t)}function J0(e){return e>=48&&e<=57}function RG(e){return"0123456789abcdefABCDEF".includes(e)}function u7(e){return"01234567".includes(e)}function e1t(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function c7(e){return 10===e||13===e||8232===e||8233===e}function f7(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Jpt.test(String.fromCharCode(e))}function sD(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Zpt.test(String.fromCharCode(e))}const t1t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function g3e(){for(;jt<pu;){const e=Tr.charCodeAt(jt);if(!e1t(e)&&!c7(e))break;++jt}}function kG(e){var t,r,i,s=0;for(r="u"===e?4:2,t=0;t<r;++t)jt<pu&&RG(Tr[jt])?(i=Tr[jt++],s=16*s+"0123456789abcdef".indexOf(i.toLowerCase())):Us({},_l,Ql);return String.fromCharCode(s)}function n1t(){var e,t;for(t=0,"}"===(e=Tr[jt])&&Us({},_l,Ql);jt<pu&&RG(e=Tr[jt++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Us({},_l,Ql),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function m3e(){var e,t;for(e=Tr.charCodeAt(jt++),t=String.fromCharCode(e),92===e&&(117!==Tr.charCodeAt(jt)&&Us({},_l,Ql),++jt,(!(e=kG("u"))||"\\"===e||!f7(e.charCodeAt(0)))&&Us({},_l,Ql),t=e);jt<pu&&sD(e=Tr.charCodeAt(jt));)++jt,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Tr.charCodeAt(jt)&&Us({},_l,Ql),++jt,(!(e=kG("u"))||"\\"===e||!sD(e.charCodeAt(0)))&&Us({},_l,Ql),t+=e);return t}function PG(){var r,s,o,a,e=jt,t=Tr.charCodeAt(jt),i=Tr[jt];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++jt,{type:7,value:String.fromCharCode(t),start:e,end:jt};default:if(61===(r=Tr.charCodeAt(jt+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return jt+=2,{type:7,value:String.fromCharCode(t)+String.fromCharCode(r),start:e,end:jt};case 33:case 61:return 61===Tr.charCodeAt(jt+=2)&&++jt,{type:7,value:Tr.slice(e,jt),start:e,end:jt}}}return">>>="===(a=Tr.substr(jt,4))?{type:7,value:a,start:e,end:jt+=4}:">>>"===(o=a.substr(0,3))||"<<="===o||">>="===o?{type:7,value:o,start:e,end:jt+=3}:i===(s=o.substr(0,2))[1]&&"+-<>&|".includes(i)||"=>"===s?{type:7,value:s,start:e,end:jt+=2}:("//"===s&&Us({},_l,Ql),"<>=!+-*%&|^/".includes(i)?{type:7,value:i,start:e,end:++jt}:void Us({},_l,Ql))}function v3e(){var e,t,r;if(iD(J0((r=Tr[jt]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),t=jt,e="","."!==r){if(e=Tr[jt++],r=Tr[jt],"0"===e){if("x"===r||"X"===r)return++jt,function s1t(e){let t="";for(;jt<pu&&RG(Tr[jt]);)t+=Tr[jt++];return 0===t.length&&Us({},_l,Ql),f7(Tr.charCodeAt(jt))&&Us({},_l,Ql),{type:6,value:parseInt("0x"+t,16),start:e,end:jt}}(t);if(u7(r))return function o1t(e){let t="0"+Tr[jt++];for(;jt<pu&&u7(Tr[jt]);)t+=Tr[jt++];return(f7(Tr.charCodeAt(jt))||J0(Tr.charCodeAt(jt)))&&Us({},_l,Ql),{type:6,value:parseInt(t,8),octal:!0,start:e,end:jt}}(t);r&&J0(r.charCodeAt(0))&&Us({},_l,Ql)}for(;J0(Tr.charCodeAt(jt));)e+=Tr[jt++];r=Tr[jt]}if("."===r){for(e+=Tr[jt++];J0(Tr.charCodeAt(jt));)e+=Tr[jt++];r=Tr[jt]}if("e"===r||"E"===r)if(e+=Tr[jt++],("+"===(r=Tr[jt])||"-"===r)&&(e+=Tr[jt++]),J0(Tr.charCodeAt(jt)))for(;J0(Tr.charCodeAt(jt));)e+=Tr[jt++];else Us({},_l,Ql);return f7(Tr.charCodeAt(jt))&&Us({},_l,Ql),{type:6,value:parseFloat(e),start:t,end:jt}}function _3e(){if(g3e(),jt>=pu)return{type:2,start:jt,end:jt};const e=Tr.charCodeAt(jt);return f7(e)?function i1t(){var e,t;return e=jt,t=92===Tr.charCodeAt(jt)?m3e():function r1t(){var e,t;for(e=jt++;jt<pu;){if(92===(t=Tr.charCodeAt(jt)))return jt=e,m3e();if(!sD(t))break;++jt}return Tr.slice(e,jt)}(),{type:1===t.length?3:t1t.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:jt}}():40===e||41===e||59===e?PG():39===e||34===e?function a1t(){var t,r,i,s,e="",o=!1;for(iD("'"===(t=Tr[jt])||'"'===t,"String literal must starts with a quote"),r=jt,++jt;jt<pu;){if((i=Tr[jt++])===t){t="";break}if("\\"===i)if((i=Tr[jt++])&&c7(i.charCodeAt(0)))"\r"===i&&"\n"===Tr[jt]&&++jt;else switch(i){case"u":case"x":"{"===Tr[jt]?(++jt,e+=n1t()):e+=kG(i);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:u7(i)?(0!==(s="01234567".indexOf(i))&&(o=!0),jt<pu&&u7(Tr[jt])&&(o=!0,s=8*s+"01234567".indexOf(Tr[jt++]),"0123".includes(i)&&jt<pu&&u7(Tr[jt])&&(s=8*s+"01234567".indexOf(Tr[jt++]))),e+=String.fromCharCode(s)):e+=i}else{if(c7(i.charCodeAt(0)))break;e+=i}}return""!==t&&Us({},_l,Ql),{type:8,value:e,octal:o,start:r,end:jt}}():46===e?J0(Tr.charCodeAt(jt+1))?v3e():PG():J0(e)?v3e():PG()}function Bc(){const e=no;return jt=e.end,no=_3e(),jt=e.end,e}function y3e(){const e=jt;no=_3e(),jt=e}function w3e(e,t,r){const i=new fd("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=r,i}function h1t(e,t){const r=new fd("CallExpression");return r.callee=e,r.arguments=t,r}function UG(e){const t=new fd(h3e);return t.name=e,t}function A7(e){const t=new fd("Literal");return t.value=e.value,t.raw=Tr.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function b3e(e,t,r){const i=new fd("MemberExpression");return i.computed="["===e,i.object=t,i.property=r,i.computed||(r.member=!0),i}function C3e(e,t,r){const i=new fd("Property");return i.key=t,i.value=r,i.kind=e,i}function Us(e,t){var r,i=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,a)=>(iD(a<i.length,"Message reference must be in range"),i[a]));throw(r=new Error(s)).index=jt,r.description=s,r}function oD(e){2===e.type&&Us(e,"Unexpected end of input"),6===e.type&&Us(e,"Unexpected number"),8===e.type&&Us(e,"Unexpected string"),3===e.type&&Us(e,"Unexpected identifier"),4===e.type&&Us(e,"Unexpected reserved word"),Us(e,_l,e.value)}function gu(e){const t=Bc();(7!==t.type||t.value!==e)&&oD(t)}function Oo(e){return 7===no.type&&no.value===e}function LG(e){return 4===no.type&&no.value===e}function E3e(){jt=no.start;const e=Bc();return 8===e.type||6===e.type?(e.octal&&Us(e,p3e),A7(e)):UG(e.value)}function _1t(){var e,t,r;return jt=no.start,3===(e=no).type?(r=E3e(),gu(":"),C3e("init",r,y2())):2!==e.type&&7!==e.type?(t=E3e(),gu(":"),C3e("init",t,y2())):void oD(e)}const b1t={if:1};function C1t(){var e,t,r;if(Oo("("))return function w1t(){gu("(");const e=QG();return gu(")"),e}();if(Oo("["))return function v1t(){const e=[];for(jt=no.start,gu("[");!Oo("]");)Oo(",")?(Bc(),e.push(null)):(e.push(y2()),Oo("]")||gu(","));return Bc(),function d1t(e){const t=new fd("ArrayExpression");return t.elements=e,t}(e)}();if(Oo("{"))return function y1t(){var t,i,e=[],s={},o=String;for(jt=no.start,gu("{");!Oo("}");)i="$"+((t=_1t()).key.type===h3e?t.key.name:o(t.key.value)),Object.prototype.hasOwnProperty.call(s,i)?Us({},"Duplicate data property in object literal not allowed in strict mode"):s[i]=!0,e.push(t),Oo("}")||gu(",");return gu("}"),function g1t(e){const t=new fd("ObjectExpression");return t.properties=e,t}(e)}();if(jt=no.start,3===(e=no.type)||b1t[no.value])r=UG(Bc().value);else if(8===e||6===e)no.octal&&Us(no,p3e),r=A7(Bc());else{if(4===e)throw new Error(l7);1===e?((t=Bc()).value="true"===t.value,r=A7(t)):5===e?((t=Bc()).value=null,r=A7(t)):Oo("/")||Oo("/=")?(r=A7(function f1t(){var e,t,r,i;return no=null,g3e(),e=jt,t=function u1t(){var e,t,r,i;for(iD("/"===(e=Tr[jt]),"Regular expression literal must start with a slash"),t=Tr[jt++],r=!1,i=!1;jt<pu;)if(t+=e=Tr[jt++],"\\"===e)c7((e=Tr[jt++]).charCodeAt(0))&&Us({},OG),t+=e;else if(c7(e.charCodeAt(0)))Us({},OG);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||Us({},OG),{value:t.substr(1,t.length-2),literal:t}}(),r=function c1t(){var e,t,r;for(t="",r="";jt<pu&&sD((e=Tr[jt]).charCodeAt(0));)++jt,"\\"===e&&jt<pu?Us({},_l,Ql):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&Us({},NG,r),{value:r,literal:t}}(),i=function l1t(e,t){let r=e;t.includes("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,s)=>{if(parseInt(s,16)<=1114111)return"x";Us({},NG)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch{Us({},NG)}try{return new RegExp(e,t)}catch{return null}}(t.value,r.value),{literal:t.literal+r.literal,value:i,regex:{pattern:t.value,flags:r.value},start:e,end:jt}}()),y3e()):oD(Bc())}return r}function E1t(){const e=[];if(gu("("),!Oo(")"))for(;jt<pu&&(e.push(y2()),!Oo(")"));)gu(",");return gu(")"),e}function x1t(){gu("[");const e=QG();return gu("]"),e}function S3e(){const e=function D1t(){var e;for(e=C1t();;)if(Oo("."))e=b3e(".",e,(gu("."),function S1t(){jt=no.start;const e=Bc();return function A1t(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||oD(e),UG(e.value)}()));else if(Oo("("))e=h1t(e,E1t());else{if(!Oo("["))break;e=b3e("[",e,x1t())}return e}();if(7===no.type&&(Oo("++")||Oo("--")))throw new Error(l7);return e}function aD(){var e,t;if(7!==no.type&&4!==no.type)t=S3e();else{if(Oo("++")||Oo("--"))throw new Error(l7);if(Oo("+")||Oo("-")||Oo("~")||Oo("!"))e=Bc(),t=aD(),t=function m1t(e,t){const r=new fd("UnaryExpression");return r.operator=e,r.argument=t,r.prefix=!0,r}(e.value,t);else{if(LG("delete")||LG("void")||LG("typeof"))throw new Error(l7);t=S3e()}}return t}function B3e(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function y2(){var e,t;return e=function F1t(){var e,t,r,i,s,o,a,l,u,c;if(e=no,u=aD(),0===(s=B3e(i=no)))return u;for(i.prec=s,Bc(),t=[e,no],o=[u,i,a=aD()];(s=B3e(no))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)a=o.pop(),l=o.pop().value,u=o.pop(),t.pop(),r=w3e(l,u,a),o.push(r);(i=Bc()).prec=s,o.push(i),t.push(no),r=aD(),o.push(r)}for(r=o[c=o.length-1],t.pop();c>1;)t.pop(),r=w3e(o[c-1].value,o[c-2],r),c-=2;return r}(),Oo("?")&&(Bc(),t=y2(),gu(":"),e=function p1t(e,t,r){const i=new fd("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=r,i}(e,t,y2())),e}function QG(){const e=y2();if(Oo(","))throw new Error(l7);return e}function HG(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...HG(e.object)),t.push(...HG(e.property))),t)}function x3e(e){return"MemberExpression"===e.object.type?x3e(e.object):"datum"===e.object.name}function D3e(e){const t=function M1t(e){jt=0,pu=(Tr=e).length,no=null,y3e();const t=QG();if(2!==no.type)throw new Error("Unexpect token after expression.");return t}(e),r=new Set;return t.visit(i=>{"MemberExpression"===i.type&&x3e(i)&&r.add(HG(i).slice(1).join("."))}),r}class l5 extends to{clone(){return new l5(null,this.model,yi(this.filter))}constructor(t,r,i){super(t),this.model=r,this.filter=i,this.expr=lD(this.model,this.filter,this),this._dependentFields=D3e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function F3e(e,t,r,i="datum"){const s=or(t)?t:t.param,o=$o(s),a=Un(o+g2);let l;try{l=e.getSelectionComponent(o,s)}catch{return`!!${o}`}if(l.project.timeUnit){const d=r??e.component.data.raw,h=l.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const f=`${l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest("}${a}, ${i}${"global"===l.resolve?")":`, ${Un(l.resolve)})`}`,A=`length(data(${a}))`;return!1===t.empty?`${A} && ${f}`:`!${A} || ${f}`}function M3e(e,t,r){const i=$o(t),s=r.encoding;let a,o=r.field;try{a=e.getSelectionComponent(i,t)}catch{return i}if(s||o){if(s&&!o){const l=a.project.items.filter(u=>u.channel===s);!l.length||l.length>1?(o=a.project.items[0].field,In(function Yft(e,t,r,i){return(e.length?"Multiple ":"No ")+`matching ${Un(t)} encoding found for selection ${Un(r.param)}. Using "field": ${Un(i)}.`}(l,s,r,o))):o=l[0].field}}else o=a.project.items[0].field,a.project.items.length>1&&In(function Wft(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Un(e)}.`}(o));return`${a.name}[${Un(Zf(o))}]`}function lD(e,t,r){return H9(t,i=>or(i)?i:function odt(e){return Bn(e,"param")}(i)?F3e(e,i,r):zme(i))}function VG(e,t,r,i){var s,o;e.encode??(e.encode={}),(s=e.encode)[t]??(s[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[r]=i}function d7(e,t,r,i={header:!1}){const{disable:s,orient:o,scale:a,labelExpr:l,title:u,zindex:c,...f}=e.combine();if(!s){for(const A in f){const d=A,h=oht[d],g=f[d];if(h&&h!==t&&"both"!==h)delete f[d];else if(n7(g)){const{condition:m,...v}=g,_=ar(m),C=M2e[d];if(C){const{vgProp:D,part:T}=C;VG(f,T,D,[..._.map(V=>{const{test:R,...K}=V;return{test:lD(null,R),...K}}),v]),delete f[d]}else if(null===C){const D={signal:_.map(T=>{const{test:I,...V}=T;return`${lD(null,I)} ? ${fme(V)} : `}).join("")+fme(v)};f[d]=D}}else if(Ir(g)){const m=M2e[d];if(m){const{vgProp:v,part:_}=m;VG(f,_,v,g),delete f[d]}}Yi(["labelAlign","labelBaseline"],d)&&null===f[d]&&delete f[d]}if("grid"===t){if(!f.grid)return;if(f.encode){const{grid:A}=f.encode;f.encode={...A?{grid:A}:{}},oo(f.encode)&&delete f.encode}return{scale:a,orient:o,...f,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ca(c,0)}}{if(!i.header&&e.mainExtracted)return;if(void 0!==l){let d=l;f.encode?.labels?.update&&Ir(f.encode.labels.update.text)&&(d=Jm(l,"datum.label",f.encode.labels.update.text.signal)),VG(f,"labels","text",{signal:d})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const d of T2e)e.hasAxisPart(d)||delete f.encode[d];oo(f.encode)&&delete f.encode}const A=function k1t(e,t){if(e)return Zt(e)&&!K1(e)?e.map(r=>Y$(r,t)).join(", "):e}(u,r);return{scale:a,orient:o,grid:!1,...A?{title:A}:{},...f,...!1===r.aria?{aria:!1}:{},zindex:Ca(c,0)}}}}function T3e(e){const{axes:t}=e.component,r=[];for(const i of V0)if(t[i])for(const s of t[i])if(!s.get("disable")&&!s.get("gridScale")){const o="x"===i?"height":"width",a=e.getSizeSignalRef(o).signal;o!==a&&r.push({name:o,update:a})}return r}function I3e(e,t,r,i){return Object.assign.apply(null,[{},...e.map(s=>{if("axisOrient"===s){const o="x"===r?"bottom":"left",a=t["x"===r?"axisBottom":"axisLeft"]||{},l=t["x"===r?"axisTop":"axisRight"]||{},u=new Set([...fn(a),...fn(l)]),c={};for(const f of u.values())c[f]={signal:`${i.signal} === "${o}" ? ${id(a[f])} : ${id(l[f])}`};return c}return t[s]})])}function L1t(e,t){const r=[{}];for(const i of e){let s=t[i]?.style;if(s){s=ar(s);for(const o of s)r.push(t.style[o])}}return Object.assign.apply(null,r)}function $G(e,t,r,i={}){const s=dme(e,r,t);if(void 0!==s)return{configFrom:"style",configValue:s};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==i[o]?.[e])return{configFrom:o,configValue:i[o][e]};return{}}const N3e={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:r})=>t.grid??function Q1t(e,t){return!vl(e)&&kn(t)&&!So(t?.bin)&&!kl(t?.bin)}(r,e),gridScale:({model:e,channel:t})=>function H1t(e,t){const r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}(e,t),labelAlign:({axis:e,labelAngle:t,orient:r,channel:i})=>e.labelAlign||R3e(t,r,i),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:r,channel:i})=>e.labelBaseline||O3e(t,r,i),labelFlush:({axis:e,fieldOrDatumDef:t,channel:r})=>e.labelFlush??function $1t(e,t){if("x"===t&&Yi(["quantitative","temporal"],e))return!0}(t.type,r),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:r})=>e.labelOverlap??function G1t(e,t,r,i){if(r&&!sr(i)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(t.type,r,kn(t)&&!!t.timeUnit,kn(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:r,fieldOrDatumDef:i,scaleType:s})=>{const o="x"===e?"width":"y"===e?"height":void 0,a=o?t.getSizeSignalRef(o):void 0;return r.tickCount??function q1t({fieldOrDatumDef:e,scaleType:t,size:r,values:i}){if(!i&&!vl(t)&&"log"!==t){if(kn(e)){if(So(e.bin))return{signal:`ceil(${r.signal}/10)`};if(e.timeUnit&&Yi(["month","hours","day","quarter"],ml(e.timeUnit)?.unit))return}return{signal:`ceil(${r.signal}/40)`}}}({fieldOrDatumDef:i,scaleType:s,size:a,values:r.values})},tickMinStep:function j1t({format:e,fieldOrDatumDef:t}){if("d"===e)return 1;if(kn(t)){const{timeUnit:r}=t;if(r){const i=Vme(r);if(i)return{signal:i}}}},title:({axis:e,model:t,channel:r})=>{if(void 0!==e.title)return e.title;const i=k3e(t,r);if(void 0!==i)return i;const s=t.typedFieldDef(r),a=t.fieldDef("x"===r?"x2":"y2");return pme(s?[v2e(s)]:[],kn(a)?[v2e(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function K1t(e,t){const r=e.values;return Zt(r)?F2e(t,r):Ir(r)?r:void 0}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:r})=>e.zindex??function W1t(e,t){return"rect"===e&&Rx(t)?1:0}(r,t)};function GG(e){return`(((${e.signal} % 360) + 360) % 360)`}function O3e(e,t,r,i){if(void 0!==e){if("x"===r){if(Ir(e)){const s=GG(e);return{signal:`(45 < ${s} && ${s} < 135) || (225 < ${s} && ${s} < 315) ? "middle" :(${s} <= 45 || 315 <= ${s}) === ${Ir(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}return 45<e&&e<135||225<e&&e<315?"middle":Ir(t)?{signal:`${t.signal} ${e<=45||315<=e?"===":"!=="} "top" ? "bottom" : "top"`}:(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(Ir(e)){const s=GG(e);return{signal:`${s} <= 45 || 315 <= ${s} || (135 <= ${s} && ${s} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${s} && ${s} <= 135) === ${Ir(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}return e<=45||315<=e||135<=e&&e<=225?i?"middle":null:Ir(t)?{signal:`${t.signal} ${45<=e&&e<=135?"===":"!=="} "left" ? "top" : "bottom"`}:(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function R3e(e,t,r){if(void 0===e)return;const i="x"===r,s=i?0:90,o=i?"bottom":"left";if(Ir(e)){const a=GG(e);return{signal:`(${s?`(${a} + 90)`:a} % 180 === 0) ? ${i?null:'"center"'} :(${s} < ${a} && ${a} < ${180+s}) === ${Ir(t)?`(${t.signal} === "${o}")`:t===o} ? "left" : "right"`}}return(e+s)%180==0?i?null:"center":Ir(t)?{signal:`${t.signal} ${s<e&&e<180+s?"===":"!=="} "${o}" ? "left" : "right"`}:(s<e&&e<180+s)==(t===o)?"left":"right"}function k3e(e,t){const r="x"===t?"x2":"y2",i=e.fieldDef(t),s=e.fieldDef(r),o=i?i.title:void 0,a=s?s.title:void 0;return o&&a?gme(o,a):o||a||(void 0!==o?o:void 0!==a?a:void 0)}class u5 extends to{clone(){return new u5(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this._dependentFields=D3e(this.transform.calculate)}static parseAllForSortIndex(t,r){return r.forEachFieldDef((i,s)=>{if(d2(i)&&m2e(i.sort)){const{field:o,timeUnit:a}=i,l=i.sort,u=l.map((c,f)=>`${zme({field:o,timeUnit:a,equal:c})} ? ${f} : `).join("")+l.length;t=new u5(t,{calculate:u,as:c5(i,s,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${os(this.transform)}`}}function c5(e,t,r){return Yn(e,{prefix:t,suffix:"sort_index",...r})}function uD(e,t){return Yi(["top","bottom"],t)?"column":Yi(["left","right"],t)||"row"===e?"row":"column"}function f5(e,t,r,i){return Ca((t||{})[e],("row"===i?r.headerRow:"column"===i?r.headerColumn:r.headerFacet)[e],r.header[e])}function cD(e,t,r,i){const s={};for(const o of e){const a=f5(o,t||{},r,i);void 0!==a&&(s[o]=a)}return s}const zG=["row","column"],qG=["header","footer"];function Y1t(e,t){const r=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,s=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:l}=cD(["titleAnchor","titleAngle","titleOrient"],s.header,i,t),u=uD(t,l),c=$9(a);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:r,..."row"===t?{orient:"left"}:{},style:"guide-title",...U3e(c,u),...P3e(u,c,o),...L3e(i,s,t,Bht,X2e)}}}function P3e(e,t,r="middle"){switch(r){case"start":return{align:"left"};case"end":return{align:"right"}}const i=R3e(t,"row"===e?"left":"top","row"===e?"y":"x");return i?{align:i}:{}}function U3e(e,t){const r=O3e(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return r?{baseline:r}:{}}function X1t(e,t){const r=e.component.layoutHeaders[t],i=[];for(const s of qG)if(r[s])for(const o of r[s]){const a=Z1t(e,t,s,r,o);null!=a&&i.push(a)}return i}function J1t(e,t){const{sort:r}=e;return z0(r)?{field:Yn(r,{expr:"datum"}),order:r.order??"ascending"}:Zt(r)?{field:c5(e,t,{expr:"datum"}),order:"ascending"}:{field:Yn(e,{expr:"datum"}),order:r??"ascending"}}function jG(e,t,r){const{format:i,formatType:s,labelAngle:o,labelAnchor:a,labelOrient:l,labelExpr:u}=cD(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,r,t),c=z$({fieldOrDatumDef:e,format:i,formatType:s,expr:"parent",config:r}).signal,f=uD(t,l);return{text:{signal:u?Jm(Jm(u,"datum.label",c),"datum.value",Yn(e,{expr:"parent"})):c},..."row"===t?{orient:"left"}:{},style:"guide-label",frame:"group",...U3e(o,f),...P3e(f,o,a),...L3e(r,e,t,xht,J2e)}}function Z1t(e,t,r,i,s){if(s){let o=null;const{facetFieldDef:a}=i,l=e.config?e.config:void 0;if(a&&s.labels){const{labelOrient:A}=cD(["labelOrient"],a.header,l,t);("row"===t&&!Yi(["top","bottom"],A)||"column"===t&&!Yi(["left","right"],A))&&(o=jG(a,t,l))}const u=lf(e)&&!J9(e.facet),c=s.axes,f=c?.length>0;if(o||f){const A="row"===t?"height":"width";return{name:e.getName(`${t}_${r}`),type:"group",role:`${t}-${r}`,...i.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:J1t(a,t)}:{},...f&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...s.sizeSignal?{encode:{update:{[A]:s.sizeSignal}}}:{},...f?{axes:c}:{}}}}return null}const egt={column:{start:0,end:1},row:{start:1,end:0}};function tgt(e,t){return egt[t][e]}function L3e(e,t,r,i,s){const o={};for(const a of i){if(!s[a])continue;const l=f5(a,t?.header,e,r);void 0!==l&&(o[s[a]]=l)}return o}function KG(e){return[...fD(e,"width"),...fD(e,"height"),...fD(e,"childWidth"),...fD(e,"childHeight")]}function fD(e,t){const r="width"===t?"x":"y",i=e.component.layoutSize.get(t);if(!i||"merged"===i)return[];const s=e.getSizeSignalRef(t).signal;if("step"===i){const o=e.getScaleComponent(r);if(o){const a=o.get("type"),l=o.get("range");if(vl(a)&&r2(l)){const u=e.scaleName(r);return lf(e.parent)&&"independent"===e.parent.component.resolve.scale[r]?[Q3e(u,l)]:[Q3e(u,l),{name:s,update:H3e(u,o,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==i){const o=s.endsWith("width"),a=o?"containerSize()[0]":"containerSize()[1]",u=`isFinite(${a}) ? ${a} : ${fG(e.config.view,o?"width":"height")}`;return[{name:s,init:u,on:[{update:u,events:"window:resize"}]}]}return[{name:s,value:i}]}function Q3e(e,t){const r=`${e}_step`;return Ir(t.step)?{name:r,update:t.step.signal}:{name:r,value:t.step}}function H3e(e,t,r){const i=t.get("type"),s=t.get("padding"),o=Ca(t.get("paddingOuter"),s);let a=t.get("paddingInner");return a="band"===i?void 0!==a?a:s:1,`bandspace(${r}, ${id(a)}, ${id(o)}) * ${e}_step`}function V3e(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function $3e(e,t){return fn(e).reduce((r,i)=>({...r,...o5({model:t,channelDef:e[i],vgChannel:i,mainRefFn:s=>No(s.value),invalidValueRef:void 0})}),{})}function G3e(e,t){if(lf(t))return"theta"===e?"independent":"shared";if(p5(t))return"shared";if(cz(t))return Ea(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function WG(e,t){const r=e.scale[t],i=Ea(t)?"axis":"legend";return"independent"===r?("shared"===e[i][t]&&In(function xAt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[i][t]||"shared"}const rgt={...tve,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},z3e=fn(rgt);class igt extends K0{}const q3e={symbols:function sgt(e,{fieldOrDatumDef:t,model:r,channel:i,legendCmpt:s,legendType:o}){if("symbol"!==o)return;const{markDef:a,encoding:l,config:u,mark:c}=r,f=a.filled&&"trail"!==c;let A={...Rft({},r,Mdt),...Kve(r,{filled:f})};const d=s.get("symbolOpacity")??u.legend.symbolOpacity,h=s.get("symbolFillColor")??u.legend.symbolFillColor,g=s.get("symbolStrokeColor")??u.legend.symbolStrokeColor,m=void 0===d?j3e(l.opacity)??a.opacity:void 0;if(A.fill)if("fill"===i||f&&i===wc)delete A.fill;else if(Bn(A.fill,"field"))h?delete A.fill:(A.fill=No(u.legend.symbolBaseFillColor??"black"),A.fillOpacity=No(m??1));else if(Zt(A.fill)){const v=YG(l.fill??l.color)??a.fill??(f&&a.color);v&&(A.fill=No(v))}if(A.stroke)if("stroke"===i||!f&&i===wc)delete A.stroke;else if(Bn(A.stroke,"field")||g)delete A.stroke;else if(Zt(A.stroke)){const v=Ca(YG(l.stroke||l.color),a.stroke,f?a.color:void 0);v&&(A.stroke={value:v})}if(i!==H0){const v=kn(t)&&W3e(0,s,t);v?A.opacity=[{test:v,...No(m??1)},No(u.legend.unselectedOpacity)]:m&&(A.opacity=No(m))}return A={...A,...e},oo(A)?void 0:A},gradient:function ogt(e,{model:t,legendType:r,legendCmpt:i}){if("gradient"!==r)return;const{config:s,markDef:o,encoding:a}=t;let l={};const c=void 0===(i.get("gradientOpacity")??s.legend.gradientOpacity)?j3e(a.opacity)||o.opacity:void 0;return c&&(l.opacity=No(c)),l={...l,...e},oo(l)?void 0:l},labels:function agt(e,{fieldOrDatumDef:t,model:r,channel:i,legendCmpt:s}){const o=r.legend(i)||{},a=r.config,l=kn(t)?W3e(0,s,t):void 0,u=l?[{test:l,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:c,formatType:f}=o;let A;A2(f)?A=ad({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:f,config:a}):void 0===c&&void 0===f&&a.customFormatTypes&&("quantitative"===t.type&&a.numberFormatType?A=ad({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):"temporal"===t.type&&a.timeFormatType&&kn(t)&&void 0===t.timeUnit&&(A=ad({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const d={...u?{opacity:u}:{},...A?{text:A}:{},...e};return oo(d)?void 0:d},entries:function lgt(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}};function j3e(e){return K3e(e,(t,r)=>Math.max(t,r.value))}function YG(e){return K3e(e,(t,r)=>Ca(t,r.value))}function K3e(e,t){return function Kdt(e){const t=e?.condition;return!!t&&(Zt(t)||ld(t))}(e)?ar(e.condition).reduce(t,e.value):ld(e)?e.value:void 0}function W3e(e,t,r){const i=t.get("selections");if(!i?.length)return;const s=Un(r.field);return i.map(o=>`(!length(data(${Un($o(o)+g2)})) || (${o}[${s}] && indexof(${o}[${s}], datum.value) >= 0))`).join(" || ")}const Y3e={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:r})=>{const{format:i,formatType:s}=t;return A2e(e,e.type,i,s,r,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:r})=>{const{formatType:i}=e;return d2e(i,t,r)},gradientLength:e=>{const{legend:t,legendConfig:r}=e;return t.gradientLength??r.gradientLength??function pgt({legendConfig:e,model:t,direction:r,orient:i,scaleType:s}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:l,gradientVerticalMinLength:u}=e;if(Ih(s))return"horizontal"===r?"top"===i||"bottom"===i?X3e(t,"width",a,o):a:X3e(t,"height",u,l)}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:r})=>e.labelOverlap??t.labelOverlap??function ggt(e){if(Yi(["quantile","threshold","log","symlog"],e))return"greedy"}(r),symbolType:({legend:e,markDef:t,channel:r,encoding:i})=>e.symbolType??function cgt(e,t,r,i){if("shape"!==t){const s=YG(r)??i;if(s)return s}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,r,i.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Z4(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:r})=>{if(j4(r)&&Ih(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function ugt(e,t){const r=e.values;return Zt(r)?F2e(t,r):Ir(r)?r:void 0}(t,e)};function X3e(e,t,r,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${r}, ${i})`}}function J3e(e){const t=ra(e)?function mgt(e){const{encoding:t}=e,r={};for(const i of[wc,...eve]){const s=Wa(t[i]);!s||!e.getScaleComponent(i)||i===bc&&kn(s)&&s.type===W4||(r[i]=ygt(e,i))}return r}(e):function wgt(e){const{legends:t,resolve:r}=e.component;for(const i of e.children){J3e(i);for(const s of fn(i.component.legends))r.legend[s]=WG(e.component.resolve,s),"shared"===r.legend[s]&&(t[s]=Z3e(t[s],i.component.legends[s]),t[s]||(r.legend[s]="independent",delete t[s]))}for(const i of fn(t))for(const s of e.children)!s.component.legends[i]||"shared"===r.legend[i]&&delete s.component.legends[i];return t}(e);return e.component.legends=t,t}function _gt(e,t,r,i){switch(t){case"disable":return void 0!==r;case"values":return!!r?.values;case"title":if("title"===t&&e===i?.title)return!0}return e===(r||{})[t]}function ygt(e,t){let r=e.legend(t);const{markDef:i,encoding:s,config:o}=e,a=o.legend,l=new igt({},function vgt(e,t){const r=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:r};if("size"===t)return{strokeWidth:r}}return"color"===t?e.markDef.filled?{fill:r}:{stroke:r}:{[t]:r}}(e,t));!function mpt(e,t,r){const i=e.fieldDef(t)?.field;for(const s of Rl(e.component.selection??{})){const o=s.project.hasField[i]??s.project.hasChannel[t];if(o&&s3e.defined(s)){const a=r.get("selections")??[];a.push(s.name),r.set("selections",a,!1),o.hasLegend=!0}}}(e,t,l);const u=void 0!==r?!r:a.disable;if(l.set("disable",u,void 0!==r),u)return l;r=r||{};const c=e.getScaleComponent(t).get("type"),f=Wa(s[t]),A=kn(f)?ml(f.timeUnit)?.unit:void 0,d=r.orient||o.legend.orient||"right",h=function fgt(e){const{legend:t}=e;return Ca(t.type,function Agt({channel:e,timeUnit:t,scaleType:r}){if(j4(e)){if(Yi(["quarter","month","day"],t))return"symbol";if(Ih(r))return"gradient"}return"symbol"}(e))}({legend:r,channel:t,timeUnit:A,scaleType:c}),g=function dgt({legendConfig:e,legendType:t,orient:r,legend:i}){return i.direction??e[t?"gradientDirection":"symbolDirection"]??function hgt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(r,t)}({legend:r,legendType:h,orient:d,legendConfig:a}),m={legend:r,channel:t,model:e,markDef:i,encoding:s,fieldOrDatumDef:f,legendConfig:a,config:o,scaleType:c,orient:d,legendType:h,direction:g};for(const T of z3e){if("gradient"===h&&T.startsWith("symbol")||"symbol"===h&&T.startsWith("gradient"))continue;const I=T in Y3e?Y3e[T](m):r[T];if(void 0!==I){const V=_gt(I,T,r,e.fieldDef(t));(V||void 0===o.legend[T])&&l.set(T,I,V)}}const v=r?.encoding??{},_=l.get("selections"),C={},D={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:l,legendType:h};for(const T of["labels","legend","title","symbols","gradient","entries"]){const I=$3e(v[T]??{},e),V=T in q3e?q3e[T](I,D):I;void 0!==V&&!oo(V)&&(C[T]={..._?.length&&kn(f)?{name:`${$o(f.field)}_legend_${T}`}:{},..._?.length?{interactive:!!_}:{},update:V})}return oo(C)||l.set("encode",C,!!r?.encoding),l}function Z3e(e,t){if(!e)return t.clone();const r=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(r.explicit&&i.explicit&&r.value!==i.value)return;let s=!1;for(const o of z3e){const a=Z1(e.getWithExplicit(o),t.getWithExplicit(o),o,"legend",(l,u)=>{switch(o){case"symbolType":return bgt(l,u);case"title":return mme(l,u);case"type":return s=!0,af("symbol")}return jx(l,u,o,"legend")});e.setWithExplicit(o,a)}return s&&(e.implicit?.encode?.gradient&&cx(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&cx(e.explicit,["encode","gradient"])),e}function bgt(e,t){return"circle"===t.value?t:e}function e4e(e){const t=e.component.legends,r={};for(const s of fn(t)){const a=ao(e.getScaleComponent(s).get("domains"));if(r[a])for(const l of r[a])Z3e(l,t[s])||r[a].push(t[s]);else r[a]=[t[s].clone()]}return Rl(r).flat().map(s=>function Egt(e,t){const{disable:r,labelExpr:i,selections:s,...o}=e.combine();if(!r){if(!1===t.aria&&null==o.aria&&(o.aria=!1),o.encode?.symbols){const a=o.encode.symbols.update;a.fill&&"transparent"!==a.fill.value&&!a.stroke&&!o.stroke&&(a.stroke={value:"transparent"});for(const l of eve)o[l]&&delete a[l]}if(o.title||delete o.title,void 0!==i){let a=i;o.encode?.labels?.update&&Ir(o.encode.labels.update.text)&&(a=Jm(i,"datum.label",o.encode.labels.update.text.signal)),function Cgt(e,t,r,i){var s,o;e.encode??(e.encode={}),(s=e.encode)[t]??(s[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[r]=i}(o,"labels","text",{signal:a})}return o}}(s,e.config)).filter(s=>void 0!==s)}function t4e(e){const t=e.component.projection;if(!t||t.merged)return[];const r=t.combine(),{name:i}=r;if(t.data){const s={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},o=t.data.reduce((a,l)=>{const u=Ir(l)?l.signal:`data('${e.lookupDataSource(l)}')`;return Yi(a,u)||a.push(u),a},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:i,size:s,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...r}]}return[{name:i,translate:{signal:"[width / 2, height / 2]"},...r}]}const xgt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class n4e extends K0{constructor(t,r,i,s){super({...r},{name:t}),this.specifiedProjection=r,this.size=i,this.data=s,this.merged=!1}get isFit(){return!!this.data}}function r4e(e){e.component.projection=ra(e)?function Dgt(e){if(e.hasProjection){const t=Pl(e.specifiedProjection),r=!(t&&(null!=t.scale||null!=t.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,s=r?function Fgt(e){const t=[],{encoding:r}=e;for(const i of[[nd,td],[tA,rd]])(Wa(r[i[0]])||Wa(r[i[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(bc)&&e.typedFieldDef(bc).type===W4&&t.push({signal:e.getName(`geojson_${t.length}`)}),0===t.length&&t.push(e.requestDataName(zo.Main)),t}(e):void 0,o=new n4e(e.projectionName(!0),{...Pl(e.config.projection),...t},i,s);return o.get("type")||o.set("type","equalEarth",!1),o}}(e):function Tgt(e){if(0===e.children.length)return;let t;for(const i of e.children)r4e(i);const r=ZV(e.children,i=>{const s=i.component.projection;if(s){if(t){const o=function Mgt(e,t){const r=ZV(xgt,s=>!!(!pr(e.explicit,s)&&!pr(t.explicit,s)||pr(e.explicit,s)&&pr(t.explicit,s)&&rf(e.get(s),t.get(s))));if(rf(e.size,t.size)){if(r)return e;if(rf(e.explicit,{}))return t;if(rf(t.explicit,{}))return e}return null}(t,s);return o&&(t=o),!!o}return t=s,!0}return!0});if(t&&r){const i=e.projectionName(!0),s=new n4e(i,t.specifiedProjection,t.size,yi(t.data));for(const o of e.children){const a=o.component.projection;a&&(a.isFit&&s.data.push(...o.component.projection.data),o.renameProjection(a.get("name"),i),a.merged=!0)}return s}}(e)}function Igt(e,t,r,i){if(t7(t,r)){const s=ra(e)?e.axis(r)??e.legend(r)??{}:{},o=Yn(t,{expr:"datum"}),a=Yn(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Yn(t,{binSuffix:"range",forAs:!0}),formula:X9(o,a,s.format,s.formatType,i)}}return{}}function i4e(e,t){return`${ome(e)}_${t}`}function XG(e,t,r){const s=i4e(Ux(r,void 0)??{},t);return e.getName(`${s}_bins`)}function s4e(e,t,r){let i,s;i=function Ogt(e){return"as"in e}(e)?or(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[Yn(e,{forAs:!0}),Yn(e,{binSuffix:"end",forAs:!0})];const o={...Ux(t,void 0)},a=i4e(o,e.field),{signal:l,extentSignal:u}=function Ngt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(r,a);if(_x(o.extent)){const f=o.extent;s=M3e(r,f.param,f),delete o.extent}return{key:a,binComponent:{bin:o,field:e.field,as:[i],...l?{signal:l}:{},...u?{extentSignal:u}:{},...s?{span:s}:{}}}}class Lh extends to{clone(){return new Lh(null,yi(this.bins))}constructor(t,r){super(t),this.bins=r}static makeFromEncoding(t,r){const i=r.reduceFieldDef((s,o,a)=>{if(ju(o)&&So(o.bin)){const{key:l,binComponent:u}=s4e(o,o.bin,r);s[l]={...u,...s[l],...Igt(r,o,a,r.config)}}return s},{});return oo(i)?null:new Lh(t,i)}static makeFromTransform(t,r,i){const{key:s,binComponent:o}=s4e(r,r.bin,i);return new Lh(t,{[s]:o})}merge(t,r){for(const i of fn(t.bins))i in this.bins?(r(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=Ch([...this.bins[i].as,...t.bins[i].as],os)):this.bins[i]=t.bins[i];for(const i of t.children)t.removeChild(i),i.parent=this;t.remove()}producedFields(){return new Set(Rl(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Rl(this.bins).map(t=>t.field))}hash(){return`Bin ${os(this.bins)}`}assemble(){return Rl(this.bins).flatMap(t=>{const r=[],[i,...s]=t.as,{extent:o,...a}=t.bin,l={type:"bin",field:Zf(t.field),as:i,signal:t.signal,..._x(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!o&&t.extentSignal&&(r.push({type:"extent",field:Zf(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),r.push(l);for(const u of s)for(let c=0;c<2;c++)r.push({type:"formula",expr:Yn({field:i[c]},{expr:"datum"}),as:u[c]});return t.formula&&r.push({type:"formula",expr:t.formula,as:t.formulaAs}),r})}}class Ad extends to{clone(){return new Ad(null,new Set(this.dimensions),yi(this.measures))}constructor(t,r,i){super(t),this.dimensions=r,this.measures=i}get groupBy(){return this.dimensions}static makeFromEncoding(t,r){let i=!1;r.forEachFieldDef(a=>{a.aggregate&&(i=!0)});const s={},o=new Set;return i&&(r.forEachFieldDef((a,l)=>{const{aggregate:u,field:c}=a;if(u)if("count"===u)s["*"]??(s["*"]={}),s["*"].count=new Set([Yn(a,{forAs:!0})]);else{if($0(u)||j1(u)){const f=$0(u)?"argmin":"argmax",A=u[f];s[A]??(s[A]={}),s[A][f]=new Set([Yn({op:f,field:A},{forAs:!0})])}else s[c]??(s[c]={}),s[c][u]=new Set([Yn(a,{forAs:!0})]);Dh(l)&&"unaggregated"===r.scaleDomain(l)&&(s[c]??(s[c]={}),s[c].min=new Set([Yn({field:c,aggregate:"min"},{forAs:!0})]),s[c].max=new Set([Yn({field:c,aggregate:"max"},{forAs:!0})]))}else!function Rgt(e,t,r,i){const s=ra(i)?i.encoding[xh(t)]:void 0;if(ju(r)&&ra(i)&&y2e(r,s,i.markDef,i.config)){e.add(Yn(r,{})),e.add(Yn(r,{suffix:"end"}));const{mark:o,markDef:a,config:l}=i,u=X1({fieldDef:r,markDef:a,config:l});W9(o)&&.5!==u&&Ea(t)&&(e.add(Yn(r,{suffix:Kx})),e.add(Yn(r,{suffix:Wx}))),r.bin&&t7(r,t)&&e.add(Yn(r,{binSuffix:"range"}))}else if(Wge(t)){const o=Kge(t);e.add(i.getName(o))}else e.add(Yn(r));return d2(r)&&function _dt(e){return sr(e)&&"field"in e}(r.scale?.range)&&e.add(r.scale.range.field),e}(o,l,a,r)}),o.size+fn(s).length!==0)?new Ad(t,o,s):null}static makeFromTransform(t,r){var i;const s=new Set,o={};for(const a of r.aggregate){const{op:l,field:u,as:c}=a;l&&("count"===l?(o["*"]??(o["*"]={}),o["*"].count=new Set([c||Yn(a,{forAs:!0})])):(o[u]??(o[u]={}),(i=o[u])[l]??(i[l]=new Set),o[u][l].add(c||Yn(a,{forAs:!0}))))}for(const a of r.groupby??[])s.add(a);return s.size+fn(o).length===0?null:new Ad(t,s,o)}merge(t){return Lge(this.dimensions,t.dimensions)?(function kgt(e,t){for(const r of fn(t)){const i=t[r];for(const s of fn(i))r in e?e[r][s]=new Set([...e[r][s]??[],...i[s]]):e[r]={[s]:i[s]}}}(this.measures,t.measures),!0):(function GAt(...e){Mh.debug(...e)}("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...fn(this.measures)])}producedFields(){const t=new Set;for(const r of fn(this.measures))for(const i of fn(this.measures[r])){const s=this.measures[r][i];0===s.size?t.add(`${i}_${r}`):s.forEach(t.add,t)}return t}hash(){return`Aggregate ${os({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],r=[],i=[];for(const o of fn(this.measures))for(const a of fn(this.measures[o]))for(const l of this.measures[o][a])i.push(l),t.push(a),r.push("*"===o?null:Zf(o));return{type:"aggregate",groupby:[...this.dimensions].map(Zf),ops:t,fields:r,as:i}}}class A5 extends to{constructor(t,r,i,s){super(t),this.model=r,this.name=i,this.data=s;for(const o of nA){const a=r.facet[o];if(a){const{bin:l,sort:u}=a;this[o]={name:r.getName(`${o}_domain`),fields:[Yn(a),...So(l)?[Yn(a,{binSuffix:"end"})]:[]],...z0(u)?{sortField:u}:Zt(u)?{sortIndexField:c5(a,o)}:{}}}}this.childModel=r.child}hash(){let t="Facet";for(const r of nA)this[r]&&(t+=` ${r.charAt(0)}:${os(this[r])}`);return t}get fields(){const t=[];for(const r of nA)this[r]?.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const r of nA)this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const r of V0){const i=this.childModel.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(vl(s)&&r2(o)){const l=lz(dD(this.childModel,r));l?t[r]=l:In(_$(r))}}}return t}assembleRowColumnHeaderData(t,r,i){const s={row:"y",column:"x",facet:void 0}[t],o=[],a=[],l=[];s&&i&&i[s]&&(r?(o.push(`distinct_${i[s]}`),a.push("max")):(o.push(i[s]),a.push("distinct")),l.push(`distinct_${i[s]}`));const{sortField:u,sortIndexField:c}=this[t];if(u){const{op:f=Tx,field:A}=u;o.push(A),a.push(f),l.push(Yn(u,{forAs:!0}))}else c&&(o.push(c),a.push("max"),l.push(c));return{name:this[t].name,source:r??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:a,as:l}:{}}]}}assembleFacetHeaderData(t){const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,s=[],o={};for(const u of zG){for(const c of qG){const f=(i[u]&&i[u][c])??[];for(const A of f)if(A.axes?.length>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`;s.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:"row"===u?r?{signal:`ceil(${c} / ${r})`}:1:r?{signal:`min(${c}, ${r})`}:{signal:c}}]})}}const{row:a,column:l}=o;return(a||l)&&s.unshift(this.assembleRowColumnHeaderData("facet",null,t)),s}assemble(){const t=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:s,row:o,facet:a}=this;if(s&&o&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(i.x??[],i.y??[]),u=l.map(()=>"distinct");t.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const l of[P0,k0])this[l]&&t.push(this.assembleRowColumnHeaderData(l,r,i));if(a){const l=this.assembleFacetHeaderData(i);l&&t.push(...l)}return t}}function o4e(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Ugt(e){const t={};return ux(e.filter,r=>{if(Gme(r)){let i=null;x$(r)?i=sf(r.equal):F$(r)?i=sf(r.lte):D$(r)?i=sf(r.lt):M$(r)?i=sf(r.gt):T$(r)?i=sf(r.gte):I$(r)?i=r.range[0]:N$(r)&&(i=(r.oneOf??r.in)[0]),i&&(s2(i)?t[r.field]="date":Ns(i)?t[r.field]="number":or(i)&&(t[r.field]="string")),r.timeUnit&&(t[r.field]="date")}}),t}class mu extends to{clone(){return new mu(null,yi(this._parse))}constructor(t,r){super(t),this._parse=r}hash(){return`Parse ${os(this._parse)}`}static makeExplicit(t,r,i){let s={};const o=r.data;return!eg(o)&&o?.format?.parse&&(s=o.format.parse),this.makeWithAncestors(t,s,{},i)}static makeWithAncestors(t,r,i,s){for(const l of fn(i)){const u=s.getWithExplicit(l);void 0!==u.value&&(u.explicit||u.value===i[l]||"derived"===u.value||"flatten"===i[l]?delete i[l]:In(Eme(l,i[l],u.value)))}for(const l of fn(r)){const u=s.get(l);void 0!==u&&(u===r[l]?delete r[l]:In(Eme(l,r[l],u)))}const o=new K0(r,i);s.copyAll(o);const a={};for(const l of fn(o.combine())){const u=o.get(l);null!==u&&(a[l]=u)}return 0===fn(a).length||s.parseNothing?null:new mu(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const r of fn(this._parse)){const i=this._parse[r];1===G4(r)&&(t[r]=i)}return t}producedFields(){return new Set(fn(this._parse))}dependentFields(){return new Set(fn(this._parse))}assembleTransforms(t=!1){return fn(this._parse).filter(r=>!t||G4(r)>1).map(r=>{const i=function Pgt(e,t){const r=r$(e);return"number"===t?`toNumber(${r})`:"boolean"===t?`toBoolean(${r})`:"string"===t?`toString(${r})`:"date"===t?`toDate(${r})`:"flatten"===t?r:t.startsWith("date:")?`timeParse(${r},'${o4e(t.slice(5,t.length))}')`:t.startsWith("utc:")?`utcParse(${r},'${o4e(t.slice(4,t.length))}')`:(In(function Jft(e){return`Unrecognized parse "${e}".`}(t)),null)}(r,this._parse[r]);return i?{type:"formula",expr:i,as:$4(r)}:null}).filter(r=>null!==r)}}class ng extends to{clone(){return new ng(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([cd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:cd}}}class h7 extends to{clone(){return new h7(null,this.params)}constructor(t,r){super(t),this.params=r}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${os(this.params)}`}assemble(){return{type:"graticule",...!0===this.params?{}:this.params}}}class p7 extends to{clone(){return new p7(null,this.params)}constructor(t,r){super(t),this.params=r}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${os(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class w2 extends to{constructor(t){let r;if(super(null),t??(t={name:"source"}),eg(t)||(r=t.format?{...yc(t.format,["parse"])}:{}),r7(t))this._data={values:t.values};else if(r5(t)){if(this._data={url:t.url},!r.type){let i=/(?:\.([^.]+))?$/.exec(t.url)[1];Yi(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else Ive(t)?this._data={values:[{type:"Sphere"}]}:(Mve(t)||eg(t))&&(this._data={});this._generator=eg(t),t.name&&(this._name=t.name),r&&!oo(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var g7,a4e=function(e,t,r,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,r):s?s.value=r:t.set(e,r),r};function JG(e){return e instanceof w2||e instanceof h7||e instanceof p7}class ZG{constructor(){g7.set(this,void 0),a4e(this,g7,!1,"f")}setModified(){a4e(this,g7,!0,"f")}get modifiedFlag(){return function(e,t,r,i){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}(this,g7)}}g7=new WeakMap;class b2 extends ZG{getNodeDepths(t,r,i){i.set(t,r);for(const s of t.children)this.getNodeDepths(s,r+1,i);return i}optimize(t){const i=[...this.getNodeDepths(t,0,new Map).entries()].sort((s,o)=>o[1]-s[1]);for(const s of i)this.run(s[0]);return this.modifiedFlag}}class ez extends ZG{optimize(t){this.run(t);for(const r of t.children)this.optimize(r);return this.modifiedFlag}}class Vgt extends ez{mergeNodes(t,r){const i=r.shift();for(const s of r)t.removeChild(s),s.parent=i,s.remove()}run(t){const r=t.children.map(s=>s.hash()),i={};for(let s=0;s<r.length;s++)void 0===i[r[s]]?i[r[s]]=[t.children[s]]:i[r[s]].push(t.children[s]);for(const s of fn(i))i[s].length>1&&(this.setModified(),this.mergeNodes(t,i[s]))}}class $gt extends ez{constructor(t){super(),this.requiresSelectionId=t&&IG(t)}run(t){t instanceof ng&&(this.requiresSelectionId&&(JG(t.parent)||t.parent instanceof Ad||t.parent instanceof mu)||(this.setModified(),t.remove()))}}class Ggt extends ZG{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,r){let i=new Set;t instanceof kh&&(i=t.producedFields(),e$(i,r)&&(this.setModified(),t.removeFormulas(r),0===t.producedFields.length&&t.remove()));for(const s of t.children)this.run(s,new Set([...r,...i]))}}class zgt extends ez{constructor(){super()}run(t){t instanceof Ec&&!t.isRequired()&&(this.setModified(),t.remove())}}class qgt extends b2{run(t){if(!(JG(t)||t.numChildren()>1))for(const r of t.children)if(r instanceof mu)if(t instanceof mu)this.setModified(),t.merge(r);else{if(n$(t.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}class jgt extends b2{run(t){const r=[...t.children],i=t.children.filter(s=>s instanceof mu);if(t.numChildren()>1&&i.length>=1){const s={},o=new Set;for(const a of i){const l=a.parse;for(const u of fn(l))u in s?s[u]!==l[u]&&o.add(u):s[u]=l[u]}for(const a of o)delete s[a];if(!oo(s)){this.setModified();const a=new mu(t,s);for(const l of r){if(l instanceof mu)for(const u of fn(s))delete l.parse[u];t.removeChild(l),l.parent=a,l instanceof mu&&0===fn(l.parse).length&&l.remove()}}}}}class Kgt extends b2{run(t){t instanceof Ec||t.numChildren()>0||t instanceof A5||t instanceof w2||(this.setModified(),t.remove())}}class Wgt extends b2{run(t){const r=t.children.filter(s=>s instanceof kh),i=r.pop();for(const s of r)this.setModified(),i.merge(s)}}class Ygt extends b2{run(t){const r=t.children.filter(s=>s instanceof Ad),i={};for(const s of r){const o=os(s.groupBy);o in i||(i[o]=[]),i[o].push(s)}for(const s of fn(i)){const o=i[s];if(o.length>1){const a=o.pop();for(const l of o)a.merge(l)&&(t.removeChild(l),l.parent=a,l.remove(),this.setModified())}}}}class Xgt extends b2{constructor(t){super(),this.model=t}run(t){const r=!(JG(t)||t instanceof l5||t instanceof mu||t instanceof ng),i=[],s=[];for(const o of t.children)o instanceof Lh&&(r&&!n$(t.producedFields(),o.dependentFields())?i.push(o):s.push(o));if(i.length>0){const o=i.pop();for(const a of i)o.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Lh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(s.length>1){const o=s.pop();for(const a of s)o.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class Jgt extends b2{run(t){const r=[...t.children];if(!V4(r,a=>a instanceof Ec)||t.numChildren()<=1)return;const s=[];let o;for(const a of r)if(a instanceof Ec){let l=a;for(;1===l.numChildren();){const[u]=l.children;if(!(u instanceof Ec))break;l=u}s.push(...l.children),o?(t.removeChild(a),a.parent=o.parent,o.parent.removeChild(o),o.parent=l,this.setModified()):o=l}else s.push(a);if(s.length){this.setModified();for(const a of s)a.parent.removeChild(a),a.parent=o}}}class C2 extends to{clone(){return new C2(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=Ch(this.transform.groupby.concat(t),r=>r)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(r=>r.field).filter(r=>void 0!==r).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Yn(t)}hash(){return`JoinAggregateTransform ${os(this.transform)}`}assemble(){const t=[],r=[],i=[];for(const o of this.transform.joinaggregate)r.push(o.op),i.push(this.getDefaultName(o)),t.push(void 0===o.field?null:o.field);const s=this.transform.groupby;return{type:"joinaggregate",as:i,ops:r,fields:t,...void 0!==s?{groupby:s}:{}}}}class d5 extends to{clone(){return new d5(null,{...this.filter})}constructor(t,r){super(t),this.filter=r}static make(t,r,i){const{config:s,markDef:o}=r,{marks:a,scales:l}=i;if("include-invalid-values"===a&&"include-invalid-values"===l)return null;const u=r.reduceFieldDef((c,f,A)=>{const d=Dh(A)&&r.getScaleComponent(A);if(d){const h=d.get("type"),{aggregate:g}=f,m=V$({scaleChannel:A,markDef:o,config:s,scaleType:h,isCountAggregate:vx(g)});"show"!==m&&"always-valid"!==m&&(c[f.field]=f)}return c},{});return fn(u).length?new d5(t,u):null}dependentFields(){return new Set(fn(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${os(this.filter)}`}assemble(){const t=fn(this.filter).reduce((r,i)=>{const s=this.filter[i],o=Yn(s,{expr:"datum"});return null!==s&&("temporal"===s.type?r.push(`(isDate(${o}) || (${tz(o)}))`):"quantitative"===s.type&&r.push(tz(o))),r},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function tz(e){return`isValid(${e}) && isFinite(+${e})`}class Z0 extends to{clone(){return new Z0(null,yi(this._stack))}constructor(t,r){super(t),this._stack=r}static makeFromTransform(t,r){const{stack:i,groupby:s,as:o,offset:a="zero"}=r,l=[],u=[];if(void 0!==r.sort)for(const A of r.sort)l.push(A.field),u.push(Ca(A.order,"ascending"));const c={field:l,order:u};let f;return f=function emt(e){return Zt(e)&&e.every(t=>or(t))&&e.length>1}(o)?o:or(o)?[o,`${o}_end`]:[`${r.stack}_start`,`${r.stack}_end`],new Z0(t,{dimensionFieldDefs:[],stackField:i,groupby:s,offset:a,sort:c,facetby:[],as:f})}static makeFromEncoding(t,r){const i=r.stack,{encoding:s}=r;if(!i)return null;const{groupbyChannels:o,fieldChannel:a,offset:l,impute:u}=i,c=o.map(h=>ud(s[h])).filter(h=>!!h),f=function Zgt(e){return e.stack.stackBy.reduce((t,r)=>{const s=Yn(r.fieldDef);return s&&t.push(s),t},[])}(r),A=r.encoding.order;let d;if(Zt(A)||kn(A))d=hme(A);else{const h=w2e(A)?A.sort:"y"===a?"descending":"ascending";d=f.reduce((g,m)=>(g.field.includes(m)||(g.field.push(m),g.order.push(h)),g),{field:[],order:[]})}return new Z0(t,{dimensionFieldDefs:c,stackField:r.vgField(a),facetby:[],stackby:f,sort:d,offset:l,impute:u,as:[r.vgField(a,{suffix:"start",forAs:!0}),r.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${os(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:r,groupby:i}=this._stack;return t.length>0?t.map(s=>s.bin?r?[Yn(s,{binSuffix:"mid"})]:[Yn(s,{}),Yn(s,{binSuffix:"end"})]:[Yn(s)]).flat():i??[]}assemble(){const t=[],{facetby:r,dimensionFieldDefs:i,stackField:s,stackby:o,sort:a,offset:l,impute:u,as:c}=this._stack;if(u)for(const f of i){const{bandPosition:A=.5,bin:d}=f;if(d){const h=Yn(f,{expr:"datum"}),g=Yn(f,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${tz(h)} ? ${A}*${h}+${1-A}*${g} : ${h}`,as:Yn(f,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:s,groupby:[...o,...r],key:Yn(f,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:s,sort:a,as:c,offset:l}),t}}class h5 extends to{clone(){return new h5(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=Ch(this.transform.groupby.concat(t),r=>r)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(r=>t.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>void 0!==r).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Yn(t)}hash(){return`WindowTransform ${os(this.transform)}`}assemble(){const t=[],r=[],i=[],s=[];for(const A of this.transform.window)r.push(A.op),i.push(this.getDefaultName(A)),s.push(void 0===A.param?null:A.param),t.push(void 0===A.field?null:A.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&null===o[0]&&null===o[1]&&r.every(A=>p$(A)))return{type:"joinaggregate",as:i,ops:r,fields:t,...void 0!==a?{groupby:a}:{}};const l=[],u=[];if(void 0!==this.transform.sort)for(const A of this.transform.sort)l.push(A.field),u.push(A.order??"ascending");const f=this.transform.ignorePeers;return{type:"window",params:s,as:i,ops:r,fields:t,sort:{field:l,order:u},...void 0!==f?{ignorePeers:f}:{},...void 0!==a?{groupby:a}:{},...void 0!==o?{frame:o}:{}}}}function nz(e){if(e instanceof A5)if(1!==e.numChildren()||e.children[0]instanceof Ec){const t=e.model.component.data.main;l4e(t);const r=function tmt(e){return function t(r){if(!(r instanceof A5)){const i=r.clone();if(i instanceof Ec){const s=rz+i.getSource();i.setSource(s),e.model.component.data.outputNodes[s]=i}else(i instanceof Ad||i instanceof Z0||i instanceof h5||i instanceof C2)&&i.addDimensions(e.fields);for(const s of r.children.flatMap(t))s.parent=i;return[i]}return r.children.flatMap(t)}}(e),i=e.children.map(r).flat();for(const s of i)s.parent=t}else{const t=e.children[0];(t instanceof Ad||t instanceof Z0||t instanceof h5||t instanceof C2)&&t.addDimensions(e.fields),t.swapWithParent(),nz(e)}else e.children.map(nz)}function l4e(e){if(e instanceof Ec&&e.type===zo.Main&&1===e.numChildren()){const t=e.children[0];t instanceof A5||(t.swapWithParent(),l4e(e))}}const rz="scale_";function iz(e){for(const t of e){for(const r of t.children)if(r.parent!==t)return!1;if(!iz(t.children))return!1}return!0}function dd(e,t){let r=!1;for(const i of t)r=e.optimize(i)||r;return r}function u4e(e,t,r){let i=e.sources,s=!1;return s=dd(new zgt,i)||s,s=dd(new $gt(t),i)||s,i=i.filter(o=>o.numChildren()>0),s=dd(new Kgt,i)||s,i=i.filter(o=>o.numChildren()>0),r||(s=dd(new qgt,i)||s,s=dd(new Xgt(t),i)||s,s=dd(new Ggt,i)||s,s=dd(new jgt,i)||s,s=dd(new Ygt,i)||s,s=dd(new Wgt,i)||s,s=dd(new Vgt,i)||s,s=dd(new Jgt,i)||s),e.sources=i,s}class yl{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,r){return new yl(()=>t(r))}}function c4e(e){ra(e)?function rmt(e){const t=e.component.scales;for(const r of fn(t)){const i=omt(e,r);if(t[r].setWithExplicit("domains",i),lmt(e,r),e.component.data.isFaceted){let o=e;for(;!lf(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[r])for(const l of i.value)G0(l)&&(l.data=rz+l.data.replace(rz,""))}}}(e):function imt(e){for(const r of e.children)c4e(r);const t=e.component.scales;for(const r of fn(t)){let i,s=null;for(const o of e.children){const a=o.component.scales[r];if(a){i=void 0===i?a.getWithExplicit("domains"):Z1(i,a.getWithExplicit("domains"),"domains","scale",az);const l=a.get("selectionExtent");s&&l&&s.param!==l.param&&In("The same selection must be used to override scale domains in a layered view."),s=l}}t[r].setWithExplicit("domains",i),s&&t[r].set("selectionExtent",s,!0)}}(e)}function omt(e,t){const r=e.getScaleComponent(t).get("type"),{encoding:i}=e,s=function smt(e,t,r,i){if("unaggregated"===e){const{valid:s,reason:o}=f4e(t,r);if(!s)return void In(o)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:s}=f4e(t,r);if(s)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),r,e.config.scale);return s!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:s}),"x"===t&&Wa(i.x2)?Wa(i.x)?Z1(rg(r,s,e,"x"),rg(r,s,e,"x2"),"domain","scale",az):rg(r,s,e,"x2"):"y"===t&&Wa(i.y2)?Wa(i.y)?Z1(rg(r,s,e,"y"),rg(r,s,e,"y2"),"domain","scale",az):rg(r,s,e,"y2"):rg(r,s,e,t)}function sz(e,t,r){const i=ml(r)?.unit;return"temporal"===t||i?function amt(e,t,r){return e.map(i=>({signal:`{data: ${Lx(i,{timeUnit:r,type:t})}}`}))}(e,t,i):[e]}function rg(e,t,r,i){const{encoding:s,markDef:o,mark:a,config:l,stack:u}=r,c=Wa(s[i]),{type:f}=c,A=c.timeUnit,d=function Q0t(e){const{marks:t,scales:r}=Nve(e);return t===r?zo.Main:"include-invalid-values"===r?zo.PreFilterInvalid:zo.PostFilterInvalid}({invalid:Fh("invalid",o,l),isPath:Y1(a)});if(function vdt(e){return Bn(e,"unionWith")}(t)){const m=rg(e,void 0,r,i);return Rh([...sz(t.unionWith,f,A),...m.value])}if(Ir(t))return Rh([t]);if(t&&"unaggregated"!==t&&!Jme(t))return Rh(sz(t,f,A));if(u&&i===u.fieldChannel){if("normalize"===u.offset)return af([[0,1]]);const m=r.requestDataName(d);return af([{data:m,field:r.vgField(i,{suffix:"start"})},{data:m,field:r.vgField(i,{suffix:"end"})}])}const h=Dh(i)&&kn(c)?function umt(e,t,r){if(!vl(r))return;const i=e.fieldDef(t),s=i.sort;if(m2e(s))return{op:"min",field:c5(i,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map(l=>l.fieldDef.field)]):void 0;if(z0(s))return oz(s,o&&!a.has(s.field));if(function zdt(e){return Bn(e,"encoding")}(s)){const{encoding:l,order:u}=s,c=e.fieldDef(l),{aggregate:f,field:A}=c,d=o&&!a.has(A);if($0(f)||j1(f))return oz({field:Yn(c),order:u},d);if(p$(f)||!f)return oz({op:f,field:A,order:u},d)}else{if("descending"===s)return{op:"min",field:e.vgField(t),order:"descending"};if(Yi(["ascending",void 0],s))return!0}}(r,i,e):void 0;if(Nh(c))return af(sz([c.datum],f,A));const g=c;if("unaggregated"===t){const{field:m}=c;return af([{data:r.requestDataName(d),field:Yn({field:m,aggregate:"min"})},{data:r.requestDataName(d),field:Yn({field:m,aggregate:"max"})}])}if(So(g.bin)){if(vl(e))return af("bin-ordinal"===e?[]:[{data:Q9(h)?r.requestDataName(d):r.requestDataName(zo.Raw),field:r.vgField(i,t7(g,i)?{binSuffix:"range"}:{}),sort:!0!==h&&sr(h)?h:{field:r.vgField(i,{}),op:"min"}}]);{const{bin:m}=g;if(So(m)){const v=XG(r,g.field,m);return af([new yl(()=>{const _=r.getSignalName(v);return`[${_}.start, ${_}.stop]`})])}return af([{data:r.requestDataName(d),field:r.vgField(i,{})}])}}if(g.timeUnit&&Yi(["time","utc"],e)){const m=s[xh(i)];if(y2e(g,m,o,l)){const v=r.requestDataName(d),_=X1({fieldDef:g,fieldDef2:m,markDef:o,config:l}),C=W9(a)&&.5!==_&&Ea(i);return af([{data:v,field:r.vgField(i,C?{suffix:Kx}:{})},{data:v,field:r.vgField(i,{suffix:C?Wx:"end"})}])}}return af(h?[{data:Q9(h)?r.requestDataName(d):r.requestDataName(zo.Raw),field:r.vgField(i),sort:h}]:[{data:r.requestDataName(d),field:r.vgField(i)}])}function oz(e,t){const{op:r,field:i,order:s}=e;return{op:r??(t?"sum":Tx),...i?{field:Zf(i)}:{},...s?{order:s}:{}}}function lmt(e,t){const r=e.component.scales[t],i=e.specifiedScales[t].domain,s=e.fieldDef(t)?.bin,o=Jme(i)?i:void 0,a=n2(s)&&_x(s.extent)?s.extent:void 0;(o||a)&&r.set("selectionExtent",o??a,!0)}function f4e(e,t){const{aggregate:r,type:i}=e;return r?or(r)&&!Fft.has(r)?{valid:!1,reason:yAt(r)}:"quantitative"===i&&"log"===t?{valid:!1,reason:wAt(e)}:{valid:!0}:{valid:!1,reason:_At(e)}}function az(e,t,r,i){return e.explicit&&t.explicit&&In(function BAt(e,t,r,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${ao(r)} and ${ao(i)}). Using the union of the two domains.`}(r,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function lz(e){if(G0(e)&&or(e.field))return e.field;if(function Mft(e){return!Zt(e)&&Bn(e,"fields")&&!Bn(e,"data")}(e)){let t;for(const r of e.fields)if(G0(r)&&or(r.field))if(t){if(t!==r.field)return In("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=r.field;return In("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function Tft(e){return!Zt(e)&&Bn(e,"fields")&&Bn(e,"data")}(e)){In("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return or(t)?t:void 0}}function dD(e,t){return function cmt(e){const t=Ch(e.map(a=>{if(G0(a)){const{sort:l,...u}=a;return u}return a}),os),r=Ch(e.map(a=>{if(G0(a)){const l=a.sort;return void 0!==l&&!Q9(l)&&("op"in l&&"count"===l.op&&delete l.field,"ascending"===l.order&&delete l.order),l}}).filter(a=>void 0!==a),os);if(0===t.length)return;if(1===t.length){const a=e[0];if(G0(a)&&r.length>0){let l=r[0];if(r.length>1){In(Mme);const u=r.filter(c=>sr(c)&&"op"in c&&"min"!==c.op);l=!r.every(c=>sr(c)&&"op"in c)||1!==u.length||u[0]}else sr(l)&&"field"in l&&a.field===l.field&&(l=!l.order||{order:l.order});return{...a,sort:l}}return a}const i=Ch(r.map(a=>Q9(a)||!("op"in a)||or(a.op)&&pr(Sft,a.op)?a:(In(function DAt(e){return`Dropping sort property ${ao(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(a)),!0)),os);let s;1===i.length?s=i[0]:i.length>1&&(In(Mme),s=!0);const o=Ch(e.map(a=>G0(a)?a.data:null),a=>a);return 1===o.length&&null!==o[0]?{data:o[0],fields:t.map(l=>l.field),...s?{sort:s}:{}}:{fields:t,...s?{sort:s}:{}}}(e.component.scales[t].get("domains").map(s=>(G0(s)&&(s.data=e.lookupDataSource(s.data)),s)))}function A4e(e){return p5(e)||cz(e)?e.children.reduce((t,r)=>t.concat(A4e(r)),d4e(e)):d4e(e)}function d4e(e){return fn(e.component.scales).reduce((t,r)=>{const i=e.component.scales[r];if(i.merged)return t;const s=i.combine(),{name:o,type:a,selectionExtent:l,domains:u,range:c,reverse:f,...A}=s,d=function fmt(e,t,r,i){if(Ea(r)){if(r2(e))return{step:{signal:`${t}_step`}}}else if(sr(e)&&G0(e))return{...e,data:i.lookupDataSource(e.data)};return e}(s.range,o,r,e),h=dD(e,r),g=l?function X0t(e,t,r,i){const s=M3e(e,t.param,t);return{signal:sd(r.get("type"))&&Zt(i)&&i[0]>i[1]?`isValid(${s}) && reverse(${s})`:s}}(e,l,i,h):null;return t.push({name:o,type:a,...h?{domain:h}:{},...g?{domainRaw:g}:{},range:d,...void 0!==f?{reverse:f}:{},...A}),t},[])}class h4e extends K0{constructor(t,r){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",r)}domainHasZero(){const t=this.get("type");if(Yi(["log","time","utc"],t))return"definitely-not";const r=this.get("zero");if(!0===r||void 0===r&&Yi(["linear","sqrt","pow"],t))return"definitely";const i=this.get("domains");if(i.length>0){let s=!1,o=!1,a=!1;for(const l of i){if(Zt(l)){const u=l[0],c=l[l.length-1];if(Ns(u)&&Ns(c)){if(u<=0&&c>=0){s=!0;continue}o=!0;continue}}a=!0}if(s)return"definitely";if(o&&!a)return"definitely-not"}return"maybe"}}const Amt=["range","scheme"];function p4e(e,t){const r=e.fieldDef(t);if(r?.bin){const{bin:i,field:s}=r,o=Cc(t),a=e.getName(o);if(sr(i)&&i.binned&&void 0!==i.step)return new yl(()=>{const l=e.scaleName(t),u=`(domain("${l}")[1] - domain("${l}")[0]) / ${i.step}`;return`${e.getSignalName(a)} / (${u})`});if(So(i)){const l=XG(e,s,i);return new yl(()=>{const u=e.getSignalName(l),c=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(a)} / (${c})`})}}}function hmt(e,t){const r=t.specifiedScales[e],{size:i}=t,o=t.getScaleComponent(e).get("type");for(const A of Amt)if(void 0!==r[A]){const d=k$(o,A),h=e2e(e,A);if(d)if(h)In(h);else switch(A){case"range":{const g=r.range;if(Zt(g)){if(Ea(e))return Rh(g.map(m=>{if("width"===m||"height"===m){const v=t.getName(m),_=t.getSignalName.bind(t);return yl.fromName(_,v)}return m}))}else if(sr(g))return Rh({data:t.requestDataName(zo.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return Rh(g)}case"scheme":return Rh(pmt(r[A]))}else In(Dme(o,A,e))}const a=e===Go||"xOffset"===e?"width":"height",l=i[a];if(Oh(l))if(Ea(e))if(vl(o)){const A=m4e(l,t,e);if(A)return Rh({step:A})}else In(Fme(a));else if(q9(e)&&"band"===t.getScaleComponent(e===Q1?"x":"y").get("type")){const g=v4e(l,o);if(g)return Rh(g)}const{rangeMin:u,rangeMax:c}=r,f=function gmt(e,t){const{size:r,config:i,mark:s,encoding:o}=t,{type:a}=Wa(o[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Go:case gl:if(Yi(["point","band"],u)){const A=_4e(e,r,i.view);if(Oh(A))return{step:m4e(A,t,e)}}return g4e(e,t,u);case Q1:case z4:return function mmt(e,t,r){const i=e===Q1?"x":"y",s=t.getScaleComponent(i);if(!s)return g4e(i,t,r,{center:!0});const o=s.get("type"),a=t.scaleName(i),{markDef:l,config:u}=t;if("band"===o){const c=_4e(i,t.size,t.config.view);if(Oh(c)){const f=v4e(c,r);if(f)return f}return[0,{signal:`bandwidth('${a}')`}]}{const c=t.encoding[i];if(kn(c)&&c.timeUnit){const f=Vme(c.timeUnit,g=>`scale('${a}', ${g})`),A=t.config.scale.bandWithNestedOffsetPaddingInner,d=X1({fieldDef:c,markDef:l,config:u})-.5,h=0!==d?` + ${d}`:"";return A?[{signal:`${Ir(A)?`${A.signal}/2`+h:`${A/2+d}`} * (${f})`},{signal:`${Ir(A)?`(1 - ${A.signal}/2)`+h:`${1-A/2+d}`} * (${f})`}]:[0,{signal:f}]}return Pge(`Cannot use ${e} scale if ${i} scale is not discrete.`)}}(e,t,u);case Q0:{const A=function ymt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(yx("size",e))}(s,i),d=function wmt(e,t,r,i){const s={x:p4e(r,"x"),y:p4e(r,"y")};switch(e){case"bar":case"tick":{if(void 0!==i.scale.maxBandSize)return i.scale.maxBandSize;const o=w4e(t,s,i.view);return Ns(o)?o-1:new yl(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;const o=w4e(t,s,i.view);return Ns(o)?Math.pow(.95*o,2):new yl(()=>`pow(0.95 * ${o.signal}, 2)`)}}throw new Error(yx("size",e))}(s,r,t,i);return Y4(u)?function _mt(e,t,r){const i=()=>{const s=id(t),o=id(e),a=`(${s} - ${o}) / (${r} - 1)`;return`sequence(${o}, ${s} + ${a}, ${a})`};return Ir(t)?new yl(i):{signal:i()}}(A,d,function vmt(e,t,r,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==r&&Zt(r)?r.length+1:(In(function QAt(e){return`Domain for ${e} is required for threshold scale.`}(i)),3)}}(u,i,c,e)):[A,d]}case eA:return[0,2*Math.PI];case Zm:return[0,360];case ed:return[0,new yl(()=>`min(${t.getSignalName(lf(t.parent)?"child_width":"width")},${t.getSignalName(lf(t.parent)?"child_height":"height")})/2`)];case H1:return{step:1e3/i.scale.framesPerSecond};case G1:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case z1:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case bc:return"symbol";case wc:case Sh:case Bh:return"ordinal"===u?"nominal"===a?"category":"ordinal":void 0!==f?"diverging":"rect"===s||"geoshape"===s?"heatmap":"ramp";case H0:case V1:case $1:return[i.scale.minOpacity,i.scale.maxOpacity]}}(e,t);return(void 0!==u||void 0!==c)&&k$(o,"rangeMin")&&Zt(f)&&2===f.length?Rh([u??f[0],c??f[1]]):af(f)}function pmt(e){return function mdt(e){return!or(e)&&Bn(e,"name")}(e)?{scheme:e.name,...yc(e,["name"])}:{scheme:e}}function g4e(e,t,r,{center:i}={}){const s=Cc(e),o=t.getName(s),a=t.getSignalName.bind(t);return e===gl&&sd(r)?i?[yl.fromName(l=>`${a(l)}/2`,o),yl.fromName(l=>`-${a(l)}/2`,o)]:[yl.fromName(a,o),0]:i?[yl.fromName(l=>`-${a(l)}/2`,o),yl.fromName(l=>`${a(l)}/2`,o)]:[0,yl.fromName(a,o)]}function m4e(e,t,r){const{encoding:i}=t,s=t.getScaleComponent(r),o=a$(r),a=i[o];if("offset"===rve({step:e,offsetIsDiscrete:Si(a)&&qme(a.type)})&&k2e(i,o)){const u=t.getScaleComponent(o);let f=`domain('${t.scaleName(o)}').length`;"band"===u.get("type")&&(f=`bandspace(${f}, ${u.get("paddingInner")??u.get("padding")??0}, ${u.get("paddingOuter")??u.get("padding")??0})`);const A=s.get("paddingInner")??s.get("padding");return{signal:`${e.step} * ${f} / (1-${Oft(A)})`}}return e.step}function v4e(e,t){if("offset"===rve({step:e,offsetIsDiscrete:vl(t)}))return{step:e.step}}function _4e(e,t,r){const i=e===Go?"width":"height";return t[i]||zx(r,i)}function w4e(e,t,r){const i=Oh(e.width)?e.width.step:AG(r,"width"),s=Oh(e.height)?e.height.step:AG(r,"height");return t.x||t.y?new yl(()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:s].join(", ")})`):Math.min(i,s)}function b4e(e,t){ra(e)?function bmt(e,t){const r=e.component.scales,{config:i,encoding:s,markDef:o,specifiedScales:a}=e;for(const l of fn(r)){const u=a[l],c=r[l],f=e.getScaleComponent(l),A=Wa(s[l]),d=u[t],h=f.get("type"),g=f.get("padding"),m=f.get("paddingInner"),v=k$(h,t),_=e2e(l,t);if(void 0!==d&&(v?_&&In(_):In(Dme(h,t,l))),v&&void 0===_)if(void 0!==d){const C=A.timeUnit,D=A.type;switch(t){case"domainMax":case"domainMin":s2(u[t])||"temporal"===D||C?c.set(t,{signal:Lx(u[t],{type:D,timeUnit:C})},!0):c.set(t,u[t],!0);break;default:c.copyKeyFromObject(t,u)}}else{const C=Bn(C4e,t)?C4e[t]({model:e,channel:l,fieldOrDatumDef:A,scaleType:h,scalePadding:g,scalePaddingInner:m,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:o,config:i,hasNestedOffsetScale:P2e(s,l),hasSecondaryRangeChannel:!!s[xh(l)]}):i.scale[t];void 0!==C&&c.set(t,C,!1)}}}(e,t):S4e(e,t)}const C4e={bins:({model:e,fieldOrDatumDef:t})=>kn(t)?function Cmt(e,t){const r=t.bin;if(So(r)){const i=XG(e,t.field,r);return new yl(()=>e.getSignalName(i))}if(kl(r)&&n2(r)&&void 0!==r.step)return{step:r.step}}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function Emt(e,t){if(Yi([wc,Sh,Bh],e)&&"nominal"!==t)return"hcl"}(e,t.type),nice:({scaleType:e,channel:t,domain:r,domainMin:i,domainMax:s,fieldOrDatumDef:o})=>function Smt(e,t,r,i,s,o){if(!(ud(o)?.bin||Zt(r)||null!=s||null!=i||Yi(["time","utc"],e)))return!!Ea(t)||void 0}(e,t,r,i,s,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:r,markDef:i,config:s})=>function Bmt(e,t,r,i,s,o){if(Ea(e)){if(Ih(t)){if(void 0!==r.continuousPadding)return r.continuousPadding;const{type:a,orient:l}=s;if("bar"===a&&(!kn(i)||!i.bin&&!i.timeUnit)&&("vertical"===l&&"x"===e||"horizontal"===l&&"y"===e))return o.continuousBandSize}if("point"===t)return r.pointPadding}}(e,t,s.scale,r,i,s.bar),paddingInner:({scalePadding:e,channel:t,markDef:r,scaleType:i,config:s,hasNestedOffsetScale:o})=>function xmt(e,t,r,i,s,o=!1){if(void 0===e){if(Ea(t)){const{bandPaddingInner:a,barBandPaddingInner:l,rectBandPaddingInner:u,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:f}=s;return o?f:Ca(a,"bar"===r?l:"tick"===r?c:u)}if(q9(t)&&"band"===i)return s.offsetBandPaddingInner}}(e,t,r.type,i,s.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:r,scalePaddingInner:i,config:s,hasNestedOffsetScale:o})=>function Dmt(e,t,r,i,s,o=!1){if(void 0===e)if(Ea(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:l}=s;if(o)return l;if("band"===r)return Ca(a,Ir(i)?{signal:`${i.signal}/2`}:i/2)}else if(q9(t)){if("point"===r)return.5;if("band"===r)return s.offsetBandPaddingOuter}}(e,t,r,i,s.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:r,config:i})=>function Fmt(e,t,r,i){return"x"===r&&void 0!==i.xReverse?sd(e)&&"descending"===t?Ir(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse:!(!sd(e)||"descending"!==t)||void 0}(t,kn(e)?e.sort:void 0,r,i.scale),zero:({channel:e,fieldOrDatumDef:t,domain:r,markDef:i,scaleType:s,config:o,hasSecondaryRangeChannel:a})=>function Mmt(e,t,r,i,s,o,a){if(r&&"unaggregated"!==r&&sd(s)){if(Zt(r)){const u=r[0],c=r[r.length-1];if(Ns(u)&&u<=0&&Ns(c)&&c>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Y4(s))return!0;if((!kn(t)||!t.bin)&&Yi([...V0,...mft],e)){const{orient:u,type:c}=i;return(!Yi(["bar","area","line","trail"],c)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e))&&(!(!Yi(["bar","area"],c)||a)||o?.zero)}return!1}(e,t,r,i,s,o.scale,a)};function E4e(e){ra(e)?function dmt(e){const t=e.component.scales;for(const r of d$){const i=t[r];if(!i)continue;const s=hmt(r,e);i.setWithExplicit("range",s)}}(e):S4e(e,"range")}function S4e(e,t){const r=e.component.scales;for(const i of e.children)"range"===t?E4e(i):b4e(i,t);for(const i of fn(r)){let s;for(const o of e.children){const a=o.component.scales[i];a&&(s=Z1(s,a.getWithExplicit(t),t,"scale",Fve((u,c)=>"range"===t&&u.step&&c.step?u.step-c.step:0)))}r[i].setWithExplicit(t,s)}}function Tmt(e,t,r,i,s=!1){const o=function Imt(e,t,r,i){switch(t.type){case"nominal":case"ordinal":if(j4(e)||"discrete"===h$(e))return"shape"===e&&"ordinal"===t.type&&In(b$(e,"ordinal")),"ordinal";if(A$(e))return"band";if(Ea(e)||q9(e)){if(Yi(["rect","bar","image","rule","tick"],r.type)||i)return"band"}else if("arc"===r.type&&e in c$)return"band";return c2(r[Cc(e)])||J4(t)&&t.axis?.tickBand?"band":"point";case"temporal":return j4(e)?"time":"discrete"===h$(e)?(In(b$(e,"temporal")),"ordinal"):kn(t)&&t.timeUnit&&ml(t.timeUnit).utc?"utc":A$(e)?"band":"time";case"quantitative":return j4(e)?kn(t)&&So(t.bin)?"bin-ordinal":"linear":"discrete"===h$(e)?(In(b$(e,"quantitative")),"ordinal"):A$(e)?"band":"linear";case"geojson":return}throw new Error(Bme(t.type))}(t,r,i,s),{type:a}=e;return Dh(t)?void 0!==a?function Cdt(e,t,r=!1){if(!Dh(e))return!1;switch(e){case Go:case gl:case Q1:case z4:case eA:case ed:return!(!Ih(t)&&"band"!==t)||"point"===t&&!r;case H1:return Yi(["linear","band"],t);case Q0:case G1:case H0:case V1:case $1:case Zm:return Ih(t)||Y4(t)||Yi(["band","point","ordinal"],t);case wc:case Sh:case Bh:return"band"!==t;case z1:case bc:return"ordinal"===t||Y4(t)}}(t,a)?kn(r)&&!function bdt(e,t){return Yi([O$,R$],t)?void 0===e||vl(e):t===K4?Yi(["time","utc",void 0],e):t!==u2||Yme(e)||Y4(e)||void 0===e}(a,r.type)?(In(function EAt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}(a,o)),o):a:(In(function CAt(e,t,r){return`Channel "${e}" does not work with "${t}" scale. We are using "${r}" scale instead.`}(t,a,o)),o):o:null}function B4e(e){e.component.scales=ra(e)?function Omt(e){const{encoding:t,mark:r,markDef:i}=e,s={};for(const o of d$){const a=Wa(t[o]);if(a&&r===r2e&&o===bc&&a.type===W4)continue;let l=a&&a.scale;if(a&&null!==l&&!1!==l){l??(l={});const c=Tmt(l,o,a,i,P2e(t,o));s[o]=new h4e(e.scaleName(`${o}`,!0),{value:c,explicit:l.type===c})}}return s}(e):function kmt(e){var t;const r=e.component.scales={},i={},s=e.component.resolve;for(const o of e.children){B4e(o);for(const a of fn(o.component.scales))if((t=s.scale)[a]??(t[a]=G3e(a,e)),"shared"===s.scale[a]){const l=i[a],u=o.component.scales[a].getWithExplicit("type");l?Adt(l.value,u.value)?i[a]=Z1(l,u,"type","scale",Rmt):(s.scale[a]="independent",delete i[a]):i[a]=u}}for(const o of fn(i)){const a=e.scaleName(o,!0);r[o]=new h4e(a,i[o]);for(const u of e.children){const c=u.component.scales[o];c&&(u.renameScale(c.get("name"),a),c.merged=!0)}}return r}(e)}const Rmt=Fve((e,t)=>jme(e)-jme(t));class uz{constructor(){this.nameMap={}}rename(t,r){this.nameMap[t]=r}has(t){return void 0!==this.nameMap[t]}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function ra(e){return"unit"===e?.type}function lf(e){return"facet"===e?.type}function cz(e){return"concat"===e?.type}function p5(e){return"layer"===e?.type}class fz{constructor(t,r,i,s,o,a,l){this.type=r,this.parent=i,this.config=o,this.parent=i,this.config=o,this.view=Pl(l),this.name=t.name??s,this.title=K1(t.title)?{text:t.title}:t.title?Pl(t.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new uz,this.projectionNameMap=i?i.projectionNameMap:new uz,this.signalNameMap=i?i.signalNameMap:new uz,this.data=t.data,this.description=t.description,this.transforms=function D0t(e){return e.map(t=>mG(t)?{filter:Q4(t.filter,udt)}:t)}(t.transform??[]),this.layout="layer"===r||"unit"===r?{}:function Iht(e,t,r){const i=r[t],s={},{spacing:o,columns:a}=i;void 0!==o&&(s.spacing=o),void 0!==a&&(Ix(e)&&!J9(e.facet)||uG(e))&&(s.columns=a),Gx(e)&&(s.columns=1);for(const l of Tht)if(void 0!==e[l])if("spacing"===l){const u=e[l];s[l]=Ns(u)?u:{row:u.row??o,column:u.column??o}}else s[l]=e[l];return s}(t,r,o),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:Ix(t)||i?.component.data.isFaceted&&void 0===t.data},layoutSize:new K0,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?yi(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function Nmt(e,{ignoreRange:t}={}){B4e(e),c4e(e);for(const r of wdt)b4e(e,r);t||E4e(e)}(this)}parseProjection(){r4e(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){J3e(this)}assembleEncodeFromView(t){const{style:r,...i}=t,s={};for(const o of fn(i)){const a=i[o];void 0!==a&&(s[o]=No(a))}return s}assembleGroupEncodeEntry(t){let r={};return this.view&&(r=this.assembleEncodeFromView(this.view)),t||(this.description&&(r.description=No(this.description)),"unit"!==this.type&&"layer"!==this.type)?oo(r)?void 0:r:{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...r}}assembleLayout(){if(!this.layout)return;const{spacing:t,...r}=this.layout,{component:i,config:s}=this,o=function ngt(e,t){const r={};for(const i of nA){const s=e[i];if(s?.facetFieldDef){const{titleAnchor:o,titleOrient:a}=cD(["titleAnchor","titleOrient"],s.facetFieldDef.header,t,i),l=uD(i,a),u=tgt(o,l);void 0!==u&&(r[l]=u)}}return oo(r)?void 0:r}(i.layoutHeaders,s);return{padding:t,...this.assembleDefaultLayout(),...r,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let r=[];for(const i of nA)t[i].title&&r.push(Y1t(this,i));for(const i of zG)r=r.concat(X1t(this,i));return r}assembleAxes(){return function P1t(e,t){const{x:r=[],y:i=[]}=e;return[...r.map(s=>d7(s,"grid",t)),...i.map(s=>d7(s,"grid",t)),...r.map(s=>d7(s,"main",t)),...i.map(s=>d7(s,"main",t))].filter(s=>s)}(this.component.axes,this.config)}assembleLegends(){return e4e(this)}assembleProjections(){return function Sgt(e){return p5(e)||cz(e)?function Bgt(e){return e.children.reduce((t,r)=>t.concat(r.assembleProjections()),t4e(e))}(e):t4e(e)}(this)}assembleTitle(){const{encoding:t,...r}=this.title??{},i={...lme(this.config.title).nonMarkTitleProperties,...r,...t?{encode:{update:t}}:{}};if(i.text)return Yi(["unit","layer"],this.type)?Yi(["middle",void 0],i.anchor)&&(i.frame??(i.frame="group")):i.anchor??(i.anchor="start"),oo(i)?void 0:i}assembleGroup(t=[]){const r={};(t=t.concat(this.assembleSignals())).length>0&&(r.signals=t);const i=this.assembleLayout();i&&(r.layout=i),r.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const s=!this.parent||lf(this.parent)?A4e(this):[];s.length>0&&(r.scales=s);const o=this.assembleAxes();o.length>0&&(r.axes=o);const a=this.assembleLegends();return a.length>0&&(r.legends=a),r}getName(t){return $o((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(zo[t].toLowerCase())}requestDataName(t){const r=this.getDataName(t),i=this.component.data.outputNodeRefCounts;return i[r]=(i[r]||0)+1,r}getSizeSignalRef(t){if(lf(this.parent)){const i=mx(V3e(t)),s=this.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(vl(o)&&r2(a)){const l=s.get("name"),c=lz(dD(this,i));return c?{signal:H3e(l,s,Yn({aggregate:"distinct",field:c},{expr:"datum"}))}:(In(_$(i)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const r=this.component.data.outputNodes[t];return r?r.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,r){this.signalNameMap.rename(t,r)}renameScale(t,r){this.scaleNameMap.rename(t,r)}renameProjection(t,r){this.projectionNameMap.rename(t,r)}scaleName(t,r){return r?this.getName(t):Zge(t)&&Dh(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}projectionName(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const r=this.component.scales[t];return r&&!r.merged?r:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const r=this.getScaleComponent(t);return r?r.get("type"):void 0}getSelectionComponent(t,r){let i=this.component.selection[t];if(!i&&this.parent&&(i=this.parent.getSelectionComponent(t,r)),!i)throw new Error(function Lft(e){return`Cannot find a selection named "${e}".`}(r));return i}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class x4e extends fz{vgField(t,r={}){const i=this.fieldDef(t);if(i)return Yn(i,r)}reduceFieldDef(t,r){return function cht(e,t,r,i){return e?fn(e).reduce((s,o)=>{const a=e[o];return Zt(a)?a.reduce((l,u)=>t.call(i,l,u,o),s):t.call(i,s,a,o)},r):r}(this.getMapping(),(i,s,o)=>{const a=ud(s);return a?t(i,a,o):i},r)}forEachFieldDef(t,r){J$(this.getMapping(),(i,s)=>{const o=ud(i);o&&t(o,s)},r)}}class hD extends to{clone(){return new hD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"],this.transform.resolve=this.transform.resolve??"shared"}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${os(this.transform)}`}assemble(){const{density:t,...r}=this.transform,i={type:"kde",field:t,...r};return i.resolve=this.transform.resolve,i}}class pD extends to{clone(){return new pD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${os(this.transform)}`}assemble(){const{extent:t,param:r}=this.transform;return{type:"extent",field:t,signal:r}}}class gD extends to{clone(){return new gD(this.parent,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const{flatten:i,as:s=[]}=this.transform;this.transform.as=i.map((o,a)=>s[a]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${os(this.transform)}`}assemble(){const{flatten:t,as:r}=this.transform;return{type:"flatten",fields:t,as:r}}}class mD extends to{clone(){return new mD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${os(this.transform)}`}assemble(){const{fold:t,as:r}=this.transform;return{type:"fold",fields:t,as:r}}}class g5 extends to{clone(){return new g5(null,yi(this.fields),this.geojson,this.signal)}static parseAll(t,r){if(r.component.projection&&!r.component.projection.isFit)return t;let i=0;for(const s of[[nd,td],[tA,rd]]){const o=s.map(a=>{const l=Wa(r.encoding[a]);return kn(l)?l.field:Nh(l)?{expr:`${l.datum}`}:ld(l)?{expr:`${l.value}`}:void 0});(o[0]||o[1])&&(t=new g5(t,o,null,r.getName("geojson_"+i++)))}if(r.channelHasField(bc)){const s=r.typedFieldDef(bc);s.type===W4&&(t=new g5(t,null,s.field,r.getName("geojson_"+i++)))}return t}constructor(t,r,i,s){super(t),this.fields=r,this.geojson=i,this.signal=s}dependentFields(){const t=(this.fields??[]).filter(or);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${os(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class m7 extends to{clone(){return new m7(null,this.projection,yi(this.fields),yi(this.as))}constructor(t,r,i,s){super(t),this.projection=r,this.fields=i,this.as=s}static parseAll(t,r){if(!r.projectionName())return t;for(const i of[[nd,td],[tA,rd]]){const s=i.map(a=>{const l=Wa(r.encoding[a]);return kn(l)?l.field:Nh(l)?{expr:`${l.datum}`}:ld(l)?{expr:`${l.value}`}:void 0}),o=i[0]===tA?"2":"";(s[0]||s[1])&&(t=new m7(t,r.projectionName(),s,[r.getName(`x${o}`),r.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(or))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${os(this.fields)} ${os(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class E2 extends to{clone(){return new E2(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:r=0,stop:i,step:s}=t;return{signal:`sequence(${[r,i,...s?[s]:[]].join(",")})`}}static makeFromTransform(t,r){return new E2(t,r)}static makeFromEncoding(t,r){const i=r.encoding,s=i.x,o=i.y;if(kn(s)&&kn(o)){const a=s.impute?s:o.impute?o:void 0;if(void 0===a)return;const l=s.impute?o:o.impute?s:void 0,{method:u,value:c,frame:f,keyvals:A}=a.impute,d=Q2e(r.mark,i);return new E2(t,{impute:a.field,key:l.field,...u?{method:u}:{},...void 0!==c?{value:c}:{},...f?{frame:f}:{},...void 0!==A?{keyvals:A}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${os(this.transform)}`}assemble(){const{impute:t,key:r,keyvals:i,method:s,groupby:o,value:a,frame:l=[null,null]}=this.transform,u={type:"impute",field:t,key:r,...i?{keyvals:u0t(i)?this.processSequence(i):i}:{},method:"value",...o?{groupby:o}:{},value:s&&"value"!==s?null:a};return s&&"value"!==s?[u,{type:"window",as:[`imputed_${t}_value`],ops:[s],fields:[t],frame:l,ignorePeers:!1,...o?{groupby:o}:{}},{type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t}]:[u]}}class vD extends to{clone(){return new vD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${os(this.transform)}`}assemble(){const{loess:t,on:r,...i}=this.transform;return{type:"loess",x:r,y:t,...i}}}class v7 extends to{clone(){return new v7(null,yi(this.transform),this.secondary)}constructor(t,r,i){super(t),this.transform=r,this.secondary=i}static make(t,r,i,s){const o=r.component.data.sources,{from:a}=i;let l=null;if(function c0t(e){return Bn(e,"data")}(a)){let u=T4e(a.data,o);u||(u=new w2(a.data),o.push(u));const c=r.getName(`lookup_${s}`);l=new Ec(u,c,zo.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[c]=l}else if(function f0t(e){return Bn(e,"param")}(a)){const u=a.param;let c;i={as:u,...i};try{c=r.getSelectionComponent($o(u),u)}catch{throw new Error(function $ft(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}(u))}if(l=c.materialized,!l)throw new Error(function Gft(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(u))}return new v7(t,i,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ar(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${os({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:ar(this.transform.as)}:{}};else{let r=this.transform.as;or(r)||(In('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),r="_lookup"),t={as:[r]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class _D extends to{clone(){return new _D(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${os(this.transform)}`}assemble(){const{quantile:t,...r}=this.transform;return{type:"quantile",field:t,...r}}}class yD extends to{clone(){return new yD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r,this.transform=yi(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${os(this.transform)}`}assemble(){const{regression:t,on:r,...i}=this.transform;return{type:"regression",x:r,y:t,...i}}}class wD extends to{clone(){return new wD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r}addDimensions(t){this.transform.groupby=Ch((this.transform.groupby??[]).concat(t),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${os(this.transform)}`}assemble(){const{pivot:t,value:r,groupby:i,limit:s,op:o}=this.transform;return{type:"pivot",field:t,value:r,...void 0!==s?{limit:s}:{},...void 0!==o?{op:o}:{},...void 0!==i?{groupby:i}:{}}}}class bD extends to{clone(){return new bD(null,yi(this.transform))}constructor(t,r){super(t),this.transform=r}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${os(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function D4e(e){let t=0;return function r(i,s){if(i instanceof w2&&!i.isGenerator&&!r5(i.data)&&(e.push(s),s={name:null,source:s.name,transform:[]}),i instanceof mu&&(i.parent instanceof w2&&!s.source?(s.format={...s.format,parse:i.assembleFormatParse()},s.transform.push(...i.assembleTransforms(!0))):s.transform.push(...i.assembleTransforms())),i instanceof A5)return s.name||(s.name="data_"+t++),!s.source||s.transform.length>0?(e.push(s),i.data=s.name):i.data=s.source,void e.push(...i.assemble());switch((i instanceof h7||i instanceof p7||i instanceof d5||i instanceof l5||i instanceof u5||i instanceof m7||i instanceof Ad||i instanceof v7||i instanceof h5||i instanceof C2||i instanceof mD||i instanceof gD||i instanceof hD||i instanceof vD||i instanceof _D||i instanceof yD||i instanceof ng||i instanceof bD||i instanceof wD||i instanceof pD)&&s.transform.push(i.assemble()),(i instanceof Lh||i instanceof kh||i instanceof E2||i instanceof Z0||i instanceof g5)&&s.transform.push(...i.assemble()),i instanceof Ec&&(s.source&&0===s.transform.length?i.setSource(s.source):i.parent instanceof Ec?i.setSource(s.name):(s.name||(s.name="data_"+t++),i.setSource(s.name),1===i.numChildren()&&(e.push(s),s={name:null,source:s.name,transform:[]}))),i.numChildren()){case 0:i instanceof Ec&&(!s.source||s.transform.length>0)&&e.push(s);break;case 1:r(i.children[0],s);break;default:{s.name||(s.name="data_"+t++);let o=s.name;!s.source||s.transform.length>0?e.push(s):o=s.source;for(const a of i.children)r(a,{name:null,source:o,transform:[]});break}}}}function Lmt(e){return"top"===e||"left"===e||Ir(e)?"header":"footer"}function Hmt(e,t){const{facet:r,config:i,child:s,component:o}=e;if(e.channelHasField(t)){const a=r[t],l=f5("title",null,i,t);let u=Z4(a,i,{allowDisabling:!0,includeDefault:void 0===l||!!l});s.component.layoutHeaders[t].title&&(u=Zt(u)?u.join(", "):u,u+=` / ${s.component.layoutHeaders[t].title}`,s.component.layoutHeaders[t].title=null);const c=f5("labelOrient",a.header,i,t),f=null!==a.header&&Ca(a.header?.labels,i.header.labels,!0),A=Yi(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:null!==a.header?u:null,facetFieldDef:a,[A]:"facet"===t?[]:[F4e(e,t,f)]}}}function F4e(e,t,r){const i="row"===t?"height":"width";return{labels:r,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function M4e(e,t){const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:i,resolve:s}=e.component;if(s.axis[t]=WG(s,t),"shared"===s.axis[t]){const o="x"===t?"column":"row",a=i[o];for(const l of r.component.axes[t]){const u=Lmt(l.get("orient"));a[u]??(a[u]=[F4e(e,o,!1)]);const c=d7(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function Az(e){for(const t of e.children)t.parseLayoutSize()}function CD(e,t){const r=V3e(t),i=mx(r),s=e.component.resolve,o=e.component.layoutSize;let a;for(const l of e.children){const u=l.component.layoutSize.getWithExplicit(r),c=s.scale[i]??G3e(i,e);if("independent"===c&&"step"===u.value){a=void 0;break}if(a){if("independent"===c&&a.value!==u.value){a=void 0;break}a=Z1(a,u,r,"")}else a=u}if(a){for(const l of e.children)e.renameSignal(l.getName(r),e.getName(t)),l.component.layoutSize.set(r,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function zmt(e,t){const i=e.config,s=e.getScaleComponent("width"===t?"x":"y");if(s){const o=s.get("type"),a=s.get("range");if(vl(o)){const l=zx(i.view,t);return r2(a)||Oh(l)?"step":l}return fG(i.view,t)}if(e.hasProjection||"arc"===e.mark)return fG(i.view,t);{const o=zx(i.view,t);return Oh(o)?o.step:o}}function dz(e,t,r){return Yn(t,{suffix:`by_${Yn(e)}`,...r})}class _7 extends x4e{constructor(t,r,i,s){super(t,"facet",r,i,s,t.resolve),this.child=vz(t.spec,this,this.getName("child"),void 0,s),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!J9(t))return{facet:this.initFacetFieldDef(t,"facet")};const r=fn(t),i={};for(const s of r){if(![k0,P0].includes(s)){In(yx(s,"facet"));break}const o=t[s];if(void 0===o.field){In(w$(o,s));break}i[s]=this.initFacetFieldDef(o,s)}return i}initFacetFieldDef(t,r){const i=X$(t,r);return i.header?i.header=Pl(i.header):null===i.header&&(i.header=null),i}channelHasField(t){return Bn(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=ED(this),this.child.parseData()}parseLayoutSize(){Az(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Ph(t))&&C$(y$)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function Qmt(e){for(const t of nA)Hmt(e,t);M4e(e,"x"),M4e(e,"y")}(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const r of nA)for(const i of qG){const s=this.component.layoutHeaders[r],o=s[i],{facetFieldDef:a}=s;if(a){const l=f5("titleOrient",a.header,this.config,r);if(["right","bottom"].includes(l)){const u=uD(r,l);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(o?.[0]){const l="row"===r?"height":"width",u="header"===i?"headerBand":"footerBand";"facet"!==r&&!this.child.component.layoutSize.get(l)&&(t[u]??(t[u]={}),t[u][r]=.5),s.title&&(t.offset??(t.offset={}),t.offset["row"===r?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:r}=this.facet,i=t?this.columnDistinctSignal():r?1:void 0;let s="all";return(!r&&"independent"===this.component.resolve.scale.x||!t&&"independent"===this.component.resolve.scale.y)&&(s="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:s}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof _7))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof _7?{...this.channelHasField("column")?{encode:{update:{columns:{field:Yn(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],r=[],i=[];if(this.child instanceof _7){if(this.child.channelHasField("column")){const s=Yn(this.child.facet.column);t.push(s),r.push("distinct"),i.push(`distinct_${s}`)}}else for(const s of V0){const o=this.child.component.scales[s];if(o&&!o.merged){const a=o.get("type"),l=o.get("range");if(vl(a)&&r2(l)){const c=lz(dD(this.child,s));c?(t.push(c),r.push("distinct"),i.push(`distinct_${c}`)):In(_$(s))}}}return{fields:t,ops:r,as:i}}assembleFacet(){const{name:t,data:r}=this.component.data.facetRoot,{row:i,column:s}=this.facet,{fields:o,ops:a,as:l}=this.getCardinalityAggregateForChild(),u=[];for(const f of nA){const A=this.facet[f];if(A){u.push(Yn(A));const{bin:d,sort:h}=A;if(So(d)&&u.push(Yn(A,{binSuffix:"end"})),z0(h)){const{field:g,op:m=Tx}=h,v=dz(A,h);i&&s?(o.push(v),a.push("max"),l.push(v)):(o.push(g),a.push(m),l.push(v))}else if(Zt(h)){const g=c5(A,f);o.push(g),a.push("max"),l.push(g)}}}const c=!!i&&!!s;return{name:t,data:r,groupby:u,...c||o.length>0?{aggregate:{...c?{cross:c}:{},...o.length?{fields:o,ops:a,as:l}:{}}}:{}}}facetSortFields(t){const{facet:r}=this,i=r[t];return i?z0(i.sort)?[dz(i,i.sort,{expr:"datum"})]:Zt(i.sort)?[c5(i,t,{expr:"datum"})]:[Yn(i,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:r}=this,i=r[t];if(i){const{sort:s}=i;return[(z0(s)?s.order:!Zt(s)&&s)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:r}=this;if(t.facet)return jG(t.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const s of zG)if(t[s]){const o=f5("labelOrient",t[s]?.header,r,s);if(i[s].includes(o))return jG(t[s],s,r)}}assembleMarks(){const{child:t}=this,i=function Pmt(e){const t=[],r=D4e(t);for(const i of e.children)r(i,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),s=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:nA.map(u=>this.facetSortFields(u)).flat(),order:nA.map(u=>this.facetSortOrder(u)).flat()},...i.length>0?{data:i}:{},...s?{encode:{update:s}}:{},...t.assembleGroup(j0t(this,[]))}]}getMapping(){return this.facet}}function T4e(e,t){for(const r of t){const i=r.data;if(e.name&&r.hasName()&&e.name!==r.dataName)continue;const s=e.format?.mesh,o=i.format?.feature;if(s&&o)continue;const a=e.format?.feature;if((a||o)&&a!==o)continue;const l=i.format?.mesh;if(!s&&!l||s===l)if(r7(e)&&r7(i)){if(rf(e.values,i.values))return r}else if(r5(e)&&r5(i)){if(e.url===i.url)return r}else if(Mve(e)&&e.name===r.dataName)return r}return null}function ED(e){let t=function jmt(e,t){if(e.data||!e.parent){if(null===e.data){const i=new w2({values:[]});return t.push(i),i}const r=T4e(e.data,t);if(r)return eg(e.data)||(r.data.format=Uge({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;{const i=new w2(e.data);return t.push(i),i}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:r,outputNodeRefCounts:i}=e.component.data,s=e.data,a=s&&(eg(s)||r5(s)||r7(s))||!e.parent?new L0t:e.parent.component.data.ancestorParse.clone();eg(s)?(Tve(s)?t=new p7(t,s.sequence):yG(s)&&(t=new h7(t,s.graticule)),a.parseNothing=!0):null===s?.format?.parse&&(a.parseNothing=!0),t=mu.makeExplicit(t,e,a)??t,t=new ng(t);const l=e.parent&&p5(e.parent);(ra(e)||lf(e))&&l&&(t=Lh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=function Kmt(e,t,r){let i=0;for(const s of t.transforms){let o,a;if(w0t(s))a=e=new u5(e,s),o="derived";else if(mG(s)){const l=Ugt(s);a=e=mu.makeWithAncestors(e,{},l,r)??e,e=new l5(e,t,s.filter)}else if(bve(s))a=e=Lh.makeFromTransform(e,s,t),o="number";else if(C0t(s))o="date",void 0===r.getWithExplicit(s.field).value&&(e=new mu(e,{[s.field]:o}),r.set(s.field,o,!1)),a=e=kh.makeFromTransform(e,s);else if(E0t(s))a=e=Ad.makeFromTransform(e,s),o="number",IG(t)&&(e=new ng(e));else if(wve(s))a=e=v7.make(e,t,s,i++),o="derived";else if(v0t(s))a=e=new h5(e,s),o="number";else if(_0t(s))a=e=new C2(e,s),o="number";else if(S0t(s))a=e=Z0.makeFromTransform(e,s),o="derived";else if(B0t(s))a=e=new mD(e,s),o="derived";else if(x0t(s))a=e=new pD(e,s),o="derived";else if(y0t(s))a=e=new gD(e,s),o="derived";else if(A0t(s))a=e=new wD(e,s),o="derived";else if(m0t(s))e=new bD(e,s);else if(b0t(s))a=e=E2.makeFromTransform(e,s),o="derived";else if(d0t(s))a=e=new hD(e,s),o="derived";else if(h0t(s))a=e=new _D(e,s),o="derived";else if(p0t(s))a=e=new yD(e,s),o="derived";else{if(!g0t(s)){In(eAt(s));continue}a=e=new vD(e,s),o="derived"}if(a&&void 0!==o)for(const l of a.producedFields()??[])r.set(l,o,!1)}return e}(t,e,a));const u=function Qgt(e){const t={};if(ra(e)&&e.component.selection)for(const r of fn(e.component.selection)){const i=e.component.selection[r];for(const s of i.project.items)!s.channel&&G4(s.field)>1&&(t[s.field]="flatten")}return t}(e),c=function Lgt(e){const t={};function r(i){t5(i)?t[i.field]="date":"quantitative"===i.type&&function xft(e){return or(e)&&Yi(["min","max"],e)}(i.aggregate)?t[i.field]="number":G4(i.field)>1?i.field in t||(t[i.field]="flatten"):d2(i)&&z0(i.sort)&&G4(i.sort.field)>1&&(i.sort.field in t||(t[i.sort.field]="flatten"))}if((ra(e)||lf(e))&&e.forEachFieldDef((i,s)=>{if(ju(i))r(i);else{const o=t2(s),a=e.fieldDef(o);r({...i,type:a.type})}}),ra(e)){const{mark:i,markDef:s,encoding:o}=e;if(Y1(i)&&!e.encoding.order){const l=o["horizontal"===s.orient?"y":"x"];kn(l)&&"quantitative"===l.type&&!(l.field in t)&&(t[l.field]="number")}}return t}(e);t=mu.makeWithAncestors(t,{},{...u,...c},a)??t,ra(e)&&(t=g5.parseAll(t,e),t=m7.parseAll(t,e)),(ra(e)||lf(e))&&(l||(t=Lh.makeFromEncoding(t,e)??t),t=kh.makeFromEncoding(t,e)??t,t=u5.parseAllForSortIndex(t,e));const f=t=SD(zo.Raw,e,t);if(ra(e)){const v=Ad.makeFromEncoding(t,e);v&&(t=v,IG(e)&&(t=new ng(t))),t=E2.makeFromEncoding(t,e)??t,t=Z0.makeFromEncoding(t,e)??t}let A,d;if(ra(e)){const{markDef:v,mark:_,config:C}=e,D=lo("invalid",v,C),{marks:T,scales:I}=d=Nve({invalid:D,isPath:Y1(_)});T!==I&&"include-invalid-values"===I&&(A=t=SD(zo.PreFilterInvalid,e,t)),"exclude-invalid-values"===T&&(t=d5.make(t,e,d)??t)}const h=t=SD(zo.Main,e,t);let g;if(ra(e)&&d){const{marks:v,scales:_}=d;"include-invalid-values"===v&&"exclude-invalid-values"===_&&(t=d5.make(t,e,d)??t,g=t=SD(zo.PostFilterInvalid,e,t))}ra(e)&&function R1t(e,t){for(const[r,i]of L1(e.component.selection??{})){const s=e.getName(`lookup_${r}`);e.component.data.outputNodes[s]=i.materialized=new Ec(new l5(t,e,{param:r}),s,zo.Lookup,e.component.data.outputNodeRefCounts)}}(e,h);let m=null;if(lf(e)){const v=e.getName("facet");t=function qmt(e,t){const{row:r,column:i}=t;if(r&&i){let s=null;for(const o of[r,i])if(z0(o.sort)){const{field:a,op:l=Tx}=o.sort;e=s=new C2(e,{joinaggregate:[{op:l,field:a,as:dz(o,o.sort,{forAs:!0})}],groupby:[Yn(o)]})}return s}return null}(t,e.facet)??t,m=new A5(t,e,v,h.getSource()),r[v]=m}return{...e.component.data,outputNodes:r,outputNodeRefCounts:i,raw:f,main:h,facetRoot:m,ancestorParse:a,preFilterInvalid:A,postFilterInvalid:g}}function SD(e,t,r){const{outputNodes:i,outputNodeRefCounts:s}=t.component.data,o=t.getDataName(e),a=new Ec(r,o,e,s);return i[o]=a,a}class Wmt extends fz{constructor(t,r,i,s){super(t,"concat",r,i,s,t.resolve),("shared"===t.resolve?.axis?.x||"shared"===t.resolve?.axis?.y)&&In("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(t).map((o,a)=>vz(o,this,this.getName(`concat_${a}`),void 0,s))}parseData(){this.component.data=ED(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const r of fn(t.component.selection))this.component.selection[r]=t.component.selection[r]}Object.values(this.component.selection).some(t=>Ph(t))&&C$(y$)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Gx(t)?t.vconcat:cG(t)?t.hconcat:t.concat}parseLayoutSize(){!function $mt(e){Az(e);const r=void 0===e.layout.columns?"height":"childHeight";CD(e,1===e.layout.columns?"width":"childWidth"),CD(e,r)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=KG(this);for(const r of this.children)t.push(...r.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((r,i)=>i.assembleSelectionData(r),t)}assembleMarks(){return this.children.map(t=>{const r=t.assembleTitle(),i=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...r?{title:r}:{},...i?{style:i}:{},...s?{encode:{update:s}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...null!=t?{columns:t}:{},bounds:"full",align:"each"}}}const Xmt={disable:1,gridScale:1,scale:1,...I2e,labelExpr:1,encode:1},I4e=fn(Xmt);class hz extends K0{constructor(t={},r={},i=!1){super(),this.explicit=t,this.implicit=r,this.mainExtracted=i}clone(){return new hz(yi(this.explicit),yi(this.implicit),this.mainExtracted)}hasAxisPart(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function Ymt(e){return!1===e||null===e}(this.get(t)))}hasOrientSignalRef(){return Ir(this.explicit.orient)}}const e2t={bottom:"top",top:"bottom",left:"right",right:"left"};function n2t(e,t){if(!e)return t.map(r=>r.clone());{if(e.length!==t.length)return;const r=e.length;for(let i=0;i<r;i++){const s=e[i],o=t[i];if(!!s!=!!o)return;if(s&&o){const a=s.getWithExplicit("orient"),l=o.getWithExplicit("orient");if(a.explicit&&l.explicit&&a.value!==l.value)return;e[i]=r2t(s,o)}}}return e}function r2t(e,t){for(const r of I4e){const i=Z1(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(s,o)=>{switch(r){case"title":return mme(s,o);case"gridScale":return{explicit:s.explicit,value:Ca(s.value,o.value)}}return jx(s,o,r,"axis")});e.setWithExplicit(r,i)}return e}function i2t(e,t,r,i,s){if("disable"===t)return void 0!==r;switch(r=r||{},t){case"titleAngle":case"labelAngle":return e===(Ir(r.labelAngle)?r.labelAngle:$9(r.labelAngle));case"values":return!!r.values;case"encode":return!!r.encoding||!!r.labelAngle;case"title":if(e===k3e(i,s))return!0}return e===r[t]}const s2t=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function o2t(e,t){let r=t.axis(e);const i=new hz,s=Wa(t.encoding[e]),{mark:o,config:a}=t,l=r?.orient||a["x"===e?"axisX":"axisY"]?.orient||a.axis?.orient||function z1t(e){return"x"===e?"bottom":"left"}(e),u=t.getScaleComponent(e).get("type"),c=function U1t(e,t,r,i){const s="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:Yme(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=Ir(r)?"axisOrient":`axis${V9(r)}`,l=[...s,...s.map(c=>o+c.substr(4))],u=["axis",a,o];return{vlOnlyAxisConfig:I3e(l,i,e,r),vgAxisConfig:I3e(u,i,e,r),axisConfigStyle:L1t([...u,...l],i)}}(e,u,l,t.config),f=void 0!==r?!r:$G("disable",a.style,r?.style,c).configValue;if(i.set("disable",f,void 0!==r),f)return i;r=r||{};const A=function V1t(e,t,r,i,s){const o=t?.labelAngle;if(void 0!==o)return Ir(o)?o:$9(o);{const{configValue:a}=$G("labelAngle",i,t?.style,s);return void 0!==a?$9(a):r!==Go||!Yi([R$,O$],e.type)||kn(e)&&e.timeUnit?void 0:270}}(s,r,e,a.style,c),d=d2e(r.formatType,s,u),h=A2e(s,s.type,r.format,r.formatType,a,!0),g={fieldOrDatumDef:s,axis:r,channel:e,model:t,scaleType:u,orient:l,labelAngle:A,format:h,formatType:d,mark:o,config:a};for(const _ of I4e){const C=_ in N3e?N3e[_](g):O2e(_)?r[_]:void 0,D=void 0!==C,T=i2t(C,_,r,t,e);if(D&&T)i.set(_,C,T);else{const{configValue:I,configFrom:V}=O2e(_)&&"values"!==_?$G(_,a.style,r.style,c):{},R=void 0!==I;D&&!R?i.set(_,C,T):("vgAxisConfig"!==V||s2t.has(_)&&R||n7(I)||Ir(I))&&i.set(_,I,!1)}}const m=r.encoding??{},v=T2e.reduce((_,C)=>{if(!i.hasAxisPart(C))return _;const D=$3e(m[C]??{},t),T="labels"===C?function Jmt(e,t,r){const{encoding:i,config:s}=e,o=Wa(i[t])??Wa(i[xh(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;if(A2(u))return{text:ad({fieldOrDatumDef:o,field:"datum.value",format:l,formatType:u,config:s}),...r};if(void 0===l&&void 0===u&&s.customFormatTypes){if("quantitative"===X4(o)){if(J4(o)&&"normalize"===o.stack&&s.normalizedNumberFormatType)return{text:ad({fieldOrDatumDef:o,field:"datum.value",format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,config:s}),...r};if(s.numberFormatType)return{text:ad({fieldOrDatumDef:o,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}),...r}}if("temporal"===X4(o)&&s.timeFormatType&&kn(o)&&!o.timeUnit)return{text:ad({fieldOrDatumDef:o,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s}),...r}}return r}(t,e,D):D;return void 0!==T&&!oo(T)&&(_[C]={update:T}),_},{});return oo(v)||i.set("encode",v,!!r.encoding||void 0!==r.labelAngle),i}const l2t={vgMark:"arc",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ku("x",e,{defaultPos:"mid"}),...Ku("y",e,{defaultPos:"mid"}),...Y0(e,"radius"),...Y0(e,"theta")})},u2t={vgMark:"area",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Jx("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient}),...Jx("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient}),...MG(e)})},c2t={vgMark:"rect",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y")})},f2t={vgMark:"shape",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,r=t.shape;return[{type:"geoshape",projection:e.projectionName(),...r&&kn(r)&&r.type===W4?{field:Yn(r,{expr:"datum"})}:{}}]}},A2t={vgMark:"image",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y"),...DG(e,"url")})},d2t={vgMark:"line",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ku("x",e,{defaultPos:"mid"}),...Ku("y",e,{defaultPos:"mid"}),...Ll("size",e,{vgChannel:"strokeWidth"}),...MG(e)})},h2t={vgMark:"trail",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ku("x",e,{defaultPos:"mid"}),...Ku("y",e,{defaultPos:"mid"}),...Ll("size",e),...MG(e)})};function pz(e,t){const{config:r}=e;return{...rA(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ku("x",e,{defaultPos:"mid"}),...Ku("y",e,{defaultPos:"mid"}),...Ll("size",e),...Ll("angle",e),...p2t(e,0,t)}}function p2t(e,t,r){return r?{shape:{value:r}}:Ll("shape",e)}const g2t={vgMark:"symbol",encodeEntry:e=>pz(e)},m2t={vgMark:"symbol",encodeEntry:e=>pz(e,"circle")},v2t={vgMark:"symbol",encodeEntry:e=>pz(e,"square")},_2t={vgMark:"rect",encodeEntry:e=>({...rA(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y")})},y2t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,r=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?{...rA(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Jx("x",e,{defaultPos:"horizontal"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==r}),...Jx("y",e,{defaultPos:"vertical"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==r}),...Ll("size",e,{vgChannel:"strokeWidth"})}:{}}},w2t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:r}=e;return{...rA(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ku("x",e,{defaultPos:"mid"}),...Ku("y",e,{defaultPos:"mid"}),...DG(e),...Ll("size",e,{vgChannel:"fontSize"}),...Ll("angle",e),...t3e("align",b2t(e.markDef,0,t)),...t3e("baseline",C2t(e.markDef,0,t)),...Ku("radius",e,{defaultPos:null}),...Ku("theta",e,{defaultPos:null})}}};function b2t(e,t,r){if(void 0===lo("align",e,r))return"center"}function C2t(e,t,r){if(void 0===lo("baseline",e,r))return"middle"}const BD={arc:l2t,area:u2t,bar:c2t,circle:m2t,geoshape:f2t,image:A2t,line:d2t,point:g2t,rect:_2t,rule:y2t,square:v2t,text:w2t,tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:r}=e,i=r.orient,s="horizontal"===i?"x":"y",o="horizontal"===i?"y":"x",a="horizontal"===i?"height":"width";return{...rA(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,s),...Ku(o,e,{defaultPos:"mid",vgChannel:"y"===o?"yc":"xc"}),[a]:No(lo("thickness",r,t))}}},trail:h2t};const N4e="faceted_path_",O4e="stack_group_";function gz(e,t={fromPrefix:""}){const{mark:r,markDef:i,encoding:s,config:o}=e,a=Ca(i.clip,function D2t(e){const t=e.getScaleComponent("x"),r=e.getScaleComponent("y");return!(!t?.get("selectionExtent")&&!r?.get("selectionExtent"))||void 0}(e),function F2t(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),l=Ame(i),u=s.key,c=function x2t(e){const{encoding:t,stack:r,mark:i,markDef:s,config:o}=e,a=t.order;if(!(!Zt(a)&&ld(a)&&JV(a.value)||!a&&JV(lo("order",s,o)))){if((Zt(a)||kn(a))&&!r)return hme(a,{expr:"datum"});if(Y1(i)){const l="horizontal"===s.orient?"y":"x";if(kn(t[l]))return{field:l}}}}(e),f=function M2t(e){if(!e.component.selection)return null;const t=fn(e.component.selection).length;let r=t,i=e.parent;for(;i&&0===r;)r=fn(i.component.selection).length,i=i.parent;return r?{interactive:t>0||"geoshape"===e.mark||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}(e),A=lo("aria",i,o),d=BD[r].postEncodingTransform?BD[r].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:BD[r].vgMark,...a?{clip:a}:{},...l?{style:l}:{},...u?{key:u.field}:{},...c?{sort:c}:{},...f||{},...!1===A?{aria:A}:{},from:{data:t.fromPrefix+e.requestDataName(zo.Main)},encode:{update:BD[r].encodeEntry(e)},...d?{transform:d}:{}}]}class R4e extends x4e{constructor(t,r,i,s={},o){super(t,"unit",r,i,o,void 0,ive(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=c=>(c.from?.data&&(c.from.data=this.lookupDataSource(c.from.data),"time"in this.encoding&&(c.from.data=c.from.data+"_curr")),c.from?.facet?.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c);const a=od(t.mark)?{...t.mark}:{type:t.mark},l=a.type;void 0===a.filled&&(a.filled=function t0t(e,t,{graticule:r}){if(r)return!1;const i=Fh("filled",e,t),s=e.type;return Ca(i,s!==Dx&&s!==xx&&s!==Fx)}(a,o,{graticule:t.data&&yG(t.data)}));const u=this.encoding=function lht(e,t,r,i){const s={};for(const o of fn(e))Zge(o)||In(cAt(o));for(let o of pft){if(!e[o])continue;const a=e[o];if(q9(o)){const l=hft(o),u=s[l];if(kn(u)&&cdt(u.type)&&kn(a)&&!u.timeUnit){In(iAt(l));continue}}if("angle"===o&&"arc"===t&&!e.theta&&(In("Arc marks uses theta channel rather than angle, replacing angle with theta."),o=eA),aht(e,o,t))if(o===Q0&&"line"===t&&ud(e[o])?.aggregate)In("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");else if(o===wc&&(r?"fill"in e:"stroke"in e))In(xme("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(o===z9||o===q4&&!Zt(a)&&!ld(a)||o===e2&&Zt(a)){if(a){if(o===q4){const l=e[o];if(w2e(l)){s[o]=l;continue}}s[o]=ar(a).reduce((l,u)=>(kn(u)?l.push(X$(u,o)):In(w$(u,o)),l),[])}}else{if(o===e2&&null===a)s[o]=null;else if(!(kn(a)||Nh(a)||ld(a)||Z9(a)||Ir(a))){In(w$(a,o));continue}s[o]=D2e(a,o,i)}else In(yx(o,t))}return s}(t.encoding||{},l,a.filled,o);this.markDef=dve(a,u,o),this.size=function a2t({encoding:e,size:t}){for(const r of V0){const i=Cc(r);Oh(t[i])&&J1(e[r])&&(delete t[i],In(Fme(i)))}return t}({encoding:u,size:ive(t)?{...s,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:s}),this.stack=Ave(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>lG(c))}get hasProjection(){const{encoding:t}=this,r=this.mark===r2e,i=t&&cft.some(s=>Si(t[s]));return r||i}scaleDomain(t){const r=this.specifiedScales[t];return r?r.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,r){return d$.reduce((i,s)=>{const o=Wa(r[s]);return o&&(i[s]=this.initScale(o.scale??{})),i},{})}initScale(t){const{domain:r,range:i}=t,s=Pl(t);return Zt(r)&&(s.domain=r.map(sf)),Zt(i)&&(s.range=i.map(sf)),s}initAxes(t){return V0.reduce((r,i)=>{const s=t[i];if(Si(s)||i===Go&&Si(t.x2)||i===gl&&Si(t.y2)){const o=Si(s)?s.axis:void 0;r[i]=o&&this.initAxis({...o})}return r},{})}initAxis(t){const r=fn(t),i={};for(const s of r){const o=t[s];i[s]=n7(o)?ume(o):sf(o)}return i}initLegends(t){return vft.reduce((r,i)=>{const s=Wa(t[i]);if(s&&function yft(e){switch(e){case wc:case Sh:case Bh:case Q0:case bc:case H0:case G1:case z1:return!0;case V1:case $1:case Zm:case H1:return!1}}(i)){const o=s.legend;r[i]=o&&Pl(o)}return r},{})}parseData(){this.component.data=ED(this)}parseLayoutSize(){!function Gmt(e){const{size:t,component:r}=e;for(const i of V0){const s=Cc(i);if(t[s]){const o=t[s];r.layoutSize.set(s,Oh(o)?"step":o,!0)}else{const o=zmt(e,s);r.layoutSize.set(s,o,!1)}}}(this)}parseSelections(){this.component.selection=function O1t(e,t){const r={},i=e.config.selection;if(!t||!t.length)return r;let s=0;for(const o of t){const a=$o(o.name),l=o.select,u=or(l)?l:l.type,c=sr(l)?yi(l):{type:u},f=i[u];for(const h in f)"fields"===h||"encodings"===h||("mark"===h&&(c.mark={...f.mark,...c.mark}),(void 0===c[h]||!0===c[h])&&(c[h]=yi(f[h]??c[h])));const A=r[a]={...c,name:a,type:u,init:o.value,bind:o.bind,events:or(c.on)?P1(c.on,"scope"):ar(yi(c.on))};if(Ph(A)&&(s++,s>1)){delete r[a];continue}const d=yi(o);for(const h of tD)h.defined(A)&&h.parse&&h.parse(e,A,d)}return s>1&&In("Multiple timer selections in one unit spec are not supported. Ignoring all but the first."),r}(this,this.selection)}parseMarkGroup(){this.component.mark=function E2t(e){if(Yi([xx,Sx,xdt],e.mark)){const t=Q2e(e.mark,e.encoding);if(t.length>0)return function S2t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:N4e+e.requestDataName(zo.Main),data:e.requestDataName(zo.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:gz(e,{fromPrefix:N4e})}]}(e,t)}else if(e.mark===Bx){const t=g$.some(r=>lo(r,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return function B2t(e){const[t]=gz(e,{fromPrefix:O4e}),r=e.scaleName(e.stack.fieldChannel),i=(c={})=>e.vgField(e.stack.fieldChannel,c),s=(c,f)=>`${c}(${[i({prefix:"min",suffix:"start",expr:f}),i({prefix:"max",suffix:"start",expr:f}),i({prefix:"min",suffix:"end",expr:f}),i({prefix:"max",suffix:"end",expr:f})].map(d=>`scale('${r}',${d})`).join(",")})`;let o,a;"x"===e.stack.fieldChannel?(o={...H4(t.encode.update,["y","yc","y2","height",...g$]),x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...yc(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...H4(t.encode.update,["x","xc","x2","width"]),y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...yc(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of g$){const f=Fh(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=No(f)),f&&(t.encode.update[c]={value:0})}const l=[];if(e.stack.groupbyChannels?.length>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),A=Yn(f);A&&l.push(A),(f?.bin||f?.timeUnit)&&l.push(Yn(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const A=Fh(f,e.markDef,e.config);return void 0!==A?{...c,[f]:No(A)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(zo.Main),name:O4e+e.requestDataName(zo.Main),groupby:l,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}(e)}return gz(e)}(this)}parseAxesAndHeaders(){this.component.axes=function Zmt(e){return V0.reduce((t,r)=>(e.component.scales[r]&&(t[r]=[o2t(r,e)]),t),{})}(this)}assembleSelectionTopLevelSignals(t){return function K0t(e,t){let r=!1;for(const i of Rl(e.component.selection??{})){const s=i.name,o=Un(s+g2);if(0===t.filter(l=>l.name===s).length){const u="point"===i.type?", true, true)":")";t.push({name:i.name,update:`${A3e}(${o}, ${Un("global"===i.resolve?"union":i.resolve)}${u}`})}r=!0;for(const l of tD)l.defined(i)&&l.topLevelSignals&&(t=l.topLevelSignals(e,i,t))}return r&&0===t.filter(s=>"unit"===s.name).length&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),SG(t)}(this,t)}assembleSignals(){return[...T3e(this),...q0t(this,[])]}assembleSelectionData(t){return function W0t(e,t){const r=[],i=[],s=m2(e,{escape:!1});for(const o of Rl(e.component.selection??{})){const a={name:o.name+g2};if(o.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:cd}}]),o.init){const u=o.project.items.map(Hve);a.values=o.init.map(o.project.hasSelectionId?c=>({unit:s,[cd]:p2(c,!1)[0]}):c=>({unit:s,fields:u,values:p2(c,!1)}))}if([...r,...t].filter(u=>u.name===o.name+g2).length||r.push(a),Ph(o)&&t.length){const u=e.lookupDataSource(e.getDataName(zo.Main)),c=t.find(A=>A.name===u),f=c.transform.find(A=>"filter"===A.type&&A.expr.includes("vlSelectionTest"));f&&(c.transform=c.transform.filter(d=>d!==f),i.push({name:c.name+"_curr",source:c.name,transform:[f]}))}}return r.concat(t,i)}(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return KG(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!p5(this.parent))&&(t=Vve(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return h2(this.encoding,t)}fieldDef(t){return ud(this.encoding[t])}typedFieldDef(t){const r=this.fieldDef(t);return ju(r)?r:null}}class mz extends fz{constructor(t,r,i,s,o){super(t,"layer",r,i,o,t.resolve,t.view);const a={...s,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((l,u)=>{if(qx(l))return new mz(l,this,this.getName(`layer_${u}`),a,o);if(q0(l))return new R4e(l,this,this.getName(`layer_${u}`),a,o);throw new Error(v$(l))})}parseData(){this.component.data=ED(this);for(const t of this.children)t.parseData()}parseLayoutSize(){!function Vmt(e){Az(e),CD(e,"width"),CD(e,"height")}(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const r of fn(t.component.selection))this.component.selection[r]=t.component.selection[r]}Object.values(this.component.selection).some(t=>Ph(t))&&C$(y$)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){!function t2t(e){const{axes:t,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const s of e.children){s.parseAxesAndHeaders();for(const o of fn(s.component.axes))r.axis[o]=WG(e.component.resolve,o),"shared"===r.axis[o]&&(t[o]=n2t(t[o],s.component.axes[o]),t[o]||(r.axis[o]="independent",delete t[o]))}for(const s of V0){for(const o of e.children)if(o.component.axes[s]){if("independent"===r.axis[s]){t[s]=(t[s]??[]).concat(o.component.axes[s]);for(const a of o.component.axes[s]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!Ir(l)){if(i[l]>0&&!u){const c=e2t[l];i[l]>i[c]&&a.set("orient",c,!1)}i[l]++}}}delete o.component.axes[s]}if("independent"===r.axis[s]&&t[s]&&t[s].length>1)for(const[o,a]of(t[s]||[]).entries())o>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),t)}assembleSignals(){return this.children.reduce((t,r)=>t.concat(r.assembleSignals()),T3e(this))}assembleLayoutSignals(){return this.children.reduce((t,r)=>t.concat(r.assembleLayoutSignals()),KG(this))}assembleSelectionData(t){return this.children.reduce((r,i)=>i.assembleSelectionData(r),t)}assembleGroupStyle(){const t=new Set;for(const i of this.children)for(const s of ar(i.assembleGroupStyle()))t.add(s);const r=Array.from(t);return r.length>1?r:1===r.length?r[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const r of this.children)if(t=r.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return function Y0t(e,t){for(const r of e.children)ra(r)&&(t=Vve(r,t));return t}(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,r)=>t.concat(r.assembleLegends()),e4e(this))}}function vz(e,t,r,i,s){if(Ix(e))return new _7(e,t,r,s);if(qx(e))return new mz(e,t,r,i,s);if(q0(e))return new R4e(e,t,r,i,s);if(function Mht(e){return Gx(e)||cG(e)||uG(e)}(e))return new Wmt(e,t,r,s);throw new Error(v$(e))}function T2t(e,t={}){t.logger&&function $At(e){Mh=e}(t.logger),t.fieldTitle&&x2e(t.fieldTitle);try{const r=cve(E3(t.config,e.config)),i=Bve(e,r),s=vz(i,null,"",void 0,r);return s.parse(),function nmt(e,t){iz(e.sources);let r=0,i=0;for(let s=0;s<5&&u4e(e,t,!0);s++)r++;e.sources.map(nz);for(let s=0;s<5&&u4e(e,t,!1);s++)i++;iz(e.sources),5===Math.max(r,i)&&In("Maximum optimization runs(5) reached.")}(s.component.data,s),{spec:N2t(s,I2t(e,i.autosize,r,s),e.datasets,e.usermeta),normalized:i}}finally{t.logger&&function Ome(){return Mh=Nme,Mh}(),t.fieldTitle&&function tht(){x2e(S2e)}()}}function I2t(e,t,r,i){const s=i.component.layoutSize.get("width"),o=i.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):or(t)&&(t={type:t}),s&&o&&function k0t(e){return["fit","fit-x","fit-y"].includes(e)}(t.type))if("step"===s&&"step"===o)In(yme()),t.type="pad";else if("step"===s||"step"===o){const a="step"===s?"width":"height";In(yme(mx(a))),t.type=function P0t(e){return e?`fit-${mx(e)}`:"fit"}("width"===a?"height":"width")}return{...1===fn(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t},...Dve(r,!1),...Dve(e,!0)}}function N2t(e,t,r={},i){const s=e.config?function $ht(e){e=yi(e);for(const t of Hht)delete e[t];if(e.axis)for(const t in e.axis)n7(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Sht)delete e.legend[t];if(e.mark){for(const t of s2e)delete e.mark[t];e.mark.tooltip&&sr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(nve(e.params)),delete e.params);for(const t of Qht){for(const i of s2e)delete e[t][i];const r=Vht[t];if(r)for(const i of r)delete e[t][i];zht(e,t)}for(const t of function Eht(){return fn(iG)}())delete e[t];!function Ght(e){const{titleMarkConfig:t,subtitleMarkConfig:r,subtitle:i}=lme(e.title);oo(t)||(e.style["group-title"]={...e.style["group-title"],...t}),oo(r)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...r}),oo(i)?delete e.title:e.title=i}(e);for(const t in e)sr(e[t])&&oo(e[t])&&delete e[t];return oo(e)?void 0:e}(e.config):void 0,o=function Umt(e,t){const r=[],i=D4e(r);let s=0;for(const a of e.sources){a.hasName()||(a.dataName="source_"+s++);const l=a.assemble();i(a,l)}for(const a of r)0===a.transform.length&&delete a.transform;let o=0;for(const[a,l]of r.entries())0===(l.transform??[]).length&&!l.source&&r.splice(o++,0,r.splice(a,1)[0]);for(const a of r)for(const l of a.transform??[])"lookup"===l.type&&(l.from=e.outputNodes[l.from].getSource());for(const a of r)a.name in t&&(a.values=t[a.name]);return r}(e.component.data,r),a=e.assembleSelectionData(o),l=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),f=e.assembleGroupEncodeEntry(!0);let A=e.assembleLayoutSignals();A=A.filter(g=>"width"!==g.name&&"height"!==g.name||void 0===g.value||(t[g.name]=+g.value,!1));const{params:d,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...u?{title:u}:{},...c?{style:c}:{},...f?{encode:{update:f}}:{},data:a,...l.length>0?{projections:l}:{},...e.assembleGroup([...A,...e.assembleSelectionTopLevelSignals([]),...nve(d)]),...s?{config:s}:{},...i?{usermeta:i}:{}}}const O2t="5.23.0",k4e=function R2t(e){const[t,r]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:r}};const m5="#fff",tvt={background:"#333",view:{stroke:"#888"},title:{color:m5,subtitleColor:m5},style:{"guide-label":{fill:m5},"guide-title":{fill:m5}},axis:{domainColor:m5,gridColor:"#888",tickColor:m5}},S2="#4572a7",nvt={background:"#fff",arc:{fill:S2},area:{fill:S2},line:{stroke:S2,strokeWidth:2},path:{stroke:S2},rect:{fill:S2},shape:{stroke:S2},symbol:{fill:S2,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},B2="#30a2da",_z="#cbcbcb",svt={arc:{fill:B2},area:{fill:B2},axis:{domainColor:_z,grid:!0,gridColor:_z,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:_z,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:B2,strokeWidth:2},path:{stroke:B2,strokeWidth:.5},rect:{fill:B2},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:B2},bar:{binSpacing:2,fill:B2,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},x2="#000",ovt={group:{fill:"#e5e5e5"},arc:{fill:x2},area:{fill:x2},line:{stroke:x2},path:{stroke:x2},rect:{fill:x2},shape:{stroke:x2},symbol:{fill:x2,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Q4e="Benton Gothic, sans-serif",D2="#82c6df",yz="Benton Gothic Bold, sans-serif",y7={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},cvt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:yz,fontSize:22,fontWeight:"normal"},arc:{fill:D2},area:{fill:D2},line:{stroke:D2,strokeWidth:2},path:{stroke:D2},rect:{fill:D2},shape:{stroke:D2},symbol:{fill:D2,size:30},axis:{labelFont:Q4e,labelFontSize:11.5,labelFontWeight:"normal",titleFont:yz,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Q4e,labelFontSize:11.5,symbolType:"square",titleFont:yz,titleFontSize:13,titleFontWeight:"normal"},range:{category:y7["category-6"],diverging:y7["fireandice-6"],heatmap:y7["fire-7"],ordinal:y7["fire-7"],ramp:y7["fire-7"]}},F2="#ab5787",xD="#979797",fvt={background:"#f9f9f9",arc:{fill:F2},area:{fill:F2},line:{stroke:F2},path:{stroke:F2},rect:{fill:F2},shape:{stroke:F2},symbol:{fill:F2,size:30},axis:{domainColor:xD,domainWidth:.5,gridWidth:.2,labelColor:xD,tickColor:xD,tickWidth:.2,titleColor:xD},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},M2="#3e5c69",Avt={background:"#fff",arc:{fill:M2},area:{fill:M2},line:{stroke:M2},path:{stroke:M2},rect:{fill:M2},shape:{stroke:M2},symbol:{fill:M2},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},iA="#1696d2",DD="Lato",wz="Lato",w7={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},mvt={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:DD},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:wz,labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:DD},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:wz,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:DD,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:wz,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:DD,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:w7["six-groups-cat-1"],diverging:w7["diverging-colors"],heatmap:w7["diverging-colors"],ordinal:w7["six-groups-seq"],ramp:w7["shades-blue"]},area:{fill:iA},rect:{fill:iA},line:{color:iA,stroke:iA,strokeWidth:5},trail:{color:iA,stroke:iA,strokeWidth:0,size:1},path:{stroke:iA,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:iA,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:iA,stroke:null}},arc:{fill:iA},shape:{stroke:iA},symbol:{fill:iA,size:30}},T2="#3366CC",FD="Arial, sans-serif",vvt={arc:{fill:T2},area:{fill:T2},path:{stroke:T2},rect:{fill:T2},shape:{stroke:T2},symbol:{stroke:T2},circle:{fill:T2},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:FD,fontSize:12},"guide-title":{font:FD,fontSize:12},"group-title":{font:FD,fontSize:12}},title:{font:FD,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},bz=e=>e*(1/3+1),q4e=bz(9),j4e=bz(10),K4e=bz(12),b7="Segoe UI",W4e="wf_standard-font, helvetica, arial, sans-serif",C7="#605E5C",X4e="transparent",hd="#118DFF",e5e=["#DEEFFF","#118DFF"],xvt={view:{stroke:X4e},background:X4e,font:b7,header:{titleFont:W4e,titleFontSize:K4e,titleColor:"#252423",labelFont:b7,labelFontSize:j4e,labelColor:C7},axis:{ticks:!1,grid:!1,domain:!1,labelColor:C7,labelFontSize:q4e,titleFont:W4e,titleColor:"#252423",titleFontSize:K4e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:hd},line:{stroke:hd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:b7,fontSize:q4e,fill:C7},arc:{fill:hd},area:{fill:hd,line:!0,opacity:.6},path:{stroke:hd},rect:{fill:hd},point:{fill:hd,filled:!0,size:75},shape:{stroke:hd},symbol:{fill:hd,strokeWidth:1.5,size:50},legend:{titleFont:b7,titleFontWeight:"bold",titleColor:C7,labelFont:b7,labelFontSize:j4e,labelColor:C7,symbolType:"circle",symbolSize:75},range:{category:[hd,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:e5e,heatmap:e5e,ordinal:["#DEEFFF","#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff","#118DFF"]}},Cz='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',MD={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Fvt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Mvt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function TD({theme:e,background:t}){const r=["white","g10"].includes(e)?"light":"dark",i=MD.gridBg[e],s=MD.textPrimary[e],o=MD.textSecondary[e],l="dark"===r?"#d4bbff":"#6929c4";return{background:t,arc:{fill:l},area:{fill:l},path:{stroke:l},rect:{fill:l},shape:{stroke:l},symbol:{stroke:l},circle:{fill:l},view:{fill:i,stroke:i},group:{fill:i},title:{color:s,anchor:"start",dy:-15,fontSize:16,font:Cz,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:'IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',labelFontWeight:400,titleColor:s,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:MD.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:Cz,fill:o,fontWeight:400},"guide-title":{font:Cz,fill:o,fontWeight:400}},range:{category:"dark"===r?Fvt:Mvt,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Tvt=TD({theme:"white",background:"#ffffff"}),Ivt=TD({theme:"g10",background:"#f4f4f4"}),Nvt=TD({theme:"g90",background:"#262626"}),Ovt=TD({theme:"g100",background:"#161616"}),Rvt="2.15.0";function t5e(e,t){return JSON.stringify(e,function i3t(e){const t=[];return function(r,i){if("object"!=typeof i||null===i)return i;const s=t.indexOf(this)+1;return t.length=s,t.length>e?"[Object]":t.indexOf(i)>=0?"[Circular]":(t.push(i),i)}}(t))}const n5e="vg-tooltip-element",o3t={offsetX:10,offsetY:10,id:n5e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function a3t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function r3t(e,t,r,i){if(Zt(e))return`[${e.map(s=>t(or(s)?s:t5e(s,r))).join(", ")}]`;if(sr(e)){let s="";const{title:o,image:a,...l}=e;o&&(s+=`<h2>${t(o)}</h2>`),a&&(s+=`<img src="${new URL(t(a),i||location.href).href}">`);const u=Object.keys(l);if(u.length>0){s+="<table>";for(const c of u){let f=l[c];void 0!==f&&(sr(f)&&(f=t5e(f,r)),s+=`<tr><td class="key">${t(c)}</td><td class="value">${t(f)}</td></tr>`)}s+="</table>"}return s||"{}"}return t(e)},baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function r5e(e,t,{offsetX:r,offsetY:i}){const s=i5e({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,r,i),o=["bottom-right","bottom-left","top-right","top-left"];for(const a of o)if(s5e(s[a],t))return s[a];return s["top-left"]}function i5e(e,t,r,i){const a=e.x1-t.width-r,l=(e.x1+e.x2)/2-t.width/2,u=e.x2+r,c=e.y1-t.height-i,f=(e.y1+e.y2)/2-t.height/2,A=e.y2+i;return{top:{x:l,y:c},bottom:{x:l,y:A},left:{x:a,y:f},right:{x:u,y:f},"top-left":{x:a,y:c},"top-right":{x:u,y:c},"bottom-left":{x:a,y:A},"bottom-right":{x:u,y:A}}}function s5e(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function f3t(e,t,r){return e.clientX>=t.x&&e.clientX<=t.x+r.width&&e.clientY>=t.y&&e.clientY<=t.y+r.height}class o5e{constructor(t){this.options={...o3t,...t};const r=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const i=document.createElement("style");i.setAttribute("id",this.options.styleId),i.innerHTML=function l3t(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(n5e,e)}(r);const s=document.head;s.childNodes.length>0?s.insertBefore(i,s.childNodes[0]):s.appendChild(i)}}tooltipHandler(t,r,i,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),null==s||""===s)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(s,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}="mark"===this.options.anchor?function u3t(e,t,r,i,s){const{position:o,offsetX:a,offsetY:l}=s,f=function c3t(e,t,r){const i=r.isVoronoi?r.datum.bounds:r.bounds;let s=e.left+t[0]+i.x1,o=e.top+t[1]+i.y1,a=r;for(;a.mark.group;)a=a.mark.group,s+=a.x??0,o+=a.y??0;return{x1:s,x2:s+(i.x2-i.x1),y1:o,y2:o+(i.y2-i.y1)}}(e._el.getBoundingClientRect(),e._origin,r),A=i5e(f,i,a,l),d=Array.isArray(o)?o:[o];for(const h of d)if(s5e(A[h],i)&&!f3t(t,A[h],i))return A[h];return r5e(t,i,s)}(t,r,i,this.el.getBoundingClientRect(),this.options):r5e(r,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${a}px`,this.el.style.left=`${o}px`}}var A3t=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),d3t=Object.prototype.hasOwnProperty;function Sz(e,t){return d3t.call(e,t)}function Bz(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var i=[];for(var s in e)Sz(e,s)&&i.push(s);return i}function uf(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function xz(e){for(var i,t=0,r=e.length;t<r;){if(!((i=e.charCodeAt(t))>=48&&i<=57))return!1;t++}return!0}function I2(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function a5e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Dz(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Dz(e[t]))return!0}else if("object"==typeof e)for(var i=Bz(e),s=i.length,o=0;o<s;o++)if(Dz(e[i[o]]))return!0;return!1}function l5e(e,t){var r=[e];for(var i in t){var s="object"==typeof t[i]?JSON.stringify(t[i],null,2):t[i];void 0!==s&&r.push(i+": "+s)}return r.join("\n")}var u5e=function(e){function t(r,i,s,o,a){var l=this.constructor,u=e.call(this,l5e(r,{name:i,index:s,operation:o,tree:a}))||this;return u.name=i,u.index=s,u.operation=o,u.tree=a,Object.setPrototypeOf(u,l.prototype),u.message=l5e(r,{name:i,index:s,operation:o,tree:a}),u}return A3t(t,e),t}(Error),pa=u5e,v5={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var i=e[t];return delete e[t],{newDocument:r,removed:i}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:function(e,t,r){var i=ID(r,this.path);i&&(i=uf(i));var s=N2(r,{op:"remove",path:this.from}).removed;return N2(r,{op:"add",path:this.path,value:s}),{newDocument:r,removed:i}},copy:function(e,t,r){var i=ID(r,this.from);return N2(r,{op:"add",path:this.path,value:uf(i)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:E7(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},p3t={add:function(e,t,r){return xz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:v5.move,copy:v5.copy,test:v5.test,_get:v5._get};function ID(e,t){if(""==t)return e;var r={op:"_get",path:t};return N2(e,r),r.value}function N2(e,t,r,i,s,o){if(void 0===r&&(r=!1),void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===o&&(o=0),r&&("function"==typeof r?r(t,0,e,t.path):OD(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=ID(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=E7(e,t.value),!1===a.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(r)throw new pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}i||(e=uf(e));var u=(t.path||"").split("/"),c=e,f=1,A=u.length,d=void 0,h=void 0,g=void 0;for(g="function"==typeof r?r:OD;;){if((h=u[f])&&-1!=h.indexOf("~")&&(h=a5e(h)),s&&("__proto__"==h||"prototype"==h&&f>0&&"constructor"==u[f-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===d&&(void 0===c[h]?d=u.slice(0,f).join("/"):f==A-1&&(d=t.path),void 0!==d&&g(t,0,e,d)),f++,Array.isArray(c)){if("-"===h)h=c.length;else{if(r&&!xz(h))throw new pa("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);xz(h)&&(h=~~h)}if(f>=A){if(r&&"add"===t.op&&h>c.length)throw new pa("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=p3t[t.op].call(t,c,h,e)).test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(f>=A){if(!1===(a=v5[t.op].call(t,c,h,e)).test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(c=c[h],r&&f<A&&(!c||"object"!=typeof c))throw new pa("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function ND(e,t,r,i,s){if(void 0===i&&(i=!0),void 0===s&&(s=!0),r&&!Array.isArray(t))throw new pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=uf(e));for(var o=new Array(t.length),a=0,l=t.length;a<l;a++)o[a]=N2(e,t[a],r,!0,s,a),e=o[a].newDocument;return o.newDocument=e,o}function OD(e,t,r,i){if("object"!=typeof e||null===e||Array.isArray(e))throw new pa("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!v5[e.op])throw new pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new pa("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new pa('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new pa("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Dz(e.value))throw new pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var s=e.path.split("/").length,o=i.split("/").length;if(s!==o+1&&s!==o)throw new pa("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new pa("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var l=c5e([{op:"_get",path:e.from,value:void 0}],r);if(l&&"OPERATION_PATH_UNRESOLVABLE"===l.name)throw new pa("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function c5e(e,t,r){try{if(!Array.isArray(e))throw new pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ND(uf(t),uf(e),r||!0);else{r=r||OD;for(var i=0;i<e.length;i++)r(e[i],i,t,void 0)}}catch(s){if(s instanceof pa)return s;throw s}}function E7(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!E7(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=Object.keys(e);if((o=l.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!t.hasOwnProperty(l[s]))return!1;for(s=o;0!=s--;)if(!E7(e[a=l[s]],t[a]))return!1;return!0}return e!=e&&t!=t}var m3t=Object.freeze({__proto__:null,JsonPatchError:pa,_areEquals:E7,applyOperation:N2,applyPatch:ND,applyReducer:function g3t(e,t,r){var i=N2(e,t);if(!1===i.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument},deepClone:uf,getValueByPointer:ID,validate:c5e,validator:OD}),Fz=new WeakMap,v3t=function e(t){this.observers=new Map,this.obj=t},_3t=function e(t,r){this.callback=t,this.observer=r};function Mz(e,t){void 0===t&&(t=!1);var r=Fz.get(e.object);Tz(r.value,e.object,e.patches,"",t),e.patches.length&&ND(r.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function Tz(e,t,r,i,s){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=Bz(t),a=Bz(e),l=!1,u=a.length-1;u>=0;u--){var f=e[c=a[u]];if(!Sz(t,c)||void 0===t[c]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(s&&r.push({op:"test",path:i+"/"+I2(c),value:uf(f)}),r.push({op:"remove",path:i+"/"+I2(c)}),l=!0):(s&&r.push({op:"test",path:i,value:e}),r.push({op:"replace",path:i,value:t}));else{var A=t[c];"object"==typeof f&&null!=f&&"object"==typeof A&&null!=A&&Array.isArray(f)===Array.isArray(A)?Tz(f,A,r,i+"/"+I2(c),s):f!==A&&(s&&r.push({op:"test",path:i+"/"+I2(c),value:uf(f)}),r.push({op:"replace",path:i+"/"+I2(c),value:uf(A)}))}}if(l||o.length!=a.length)for(u=0;u<o.length;u++){var c;!Sz(e,c=o[u])&&void 0!==t[c]&&r.push({op:"add",path:i+"/"+I2(c),value:uf(t[c])})}}}var Iz,f5e,Nz,A5e,B3t=Object.freeze({__proto__:null,compare:function S3t(e,t,r){void 0===r&&(r=!1);var i=[];return Tz(e,t,i,"",r),i},generate:Mz,observe:function E3t(e,t){var i,s=function y3t(e){return Fz.get(e)}(e);if(s){var o=function w3t(e,t){return e.observers.get(t)}(s,t);i=o&&o.observer}else s=new v3t(e),Fz.set(e,s);if(i)return i;if(i={},s.value=uf(e),t){i.callback=t,i.next=null;var a=function(){Mz(i)},l=function(){clearTimeout(i.next),i.next=setTimeout(a)};"undefined"!=typeof window&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return i.patches=[],i.object=e,i.unobserve=function(){Mz(i),clearTimeout(i.next),function b3t(e,t){e.observers.delete(t.callback)}(s,i),"undefined"!=typeof window&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},s.observers.set(t,new _3t(t,i)),i},unobserve:function C3t(e,t){t.unobserve()}});function x3t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oz(){if(A5e)return Nz;A5e=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Nz=i=>i?"object"!=typeof i?e:i:t}Object.assign({},m3t,B3t,{JsonPatchError:u5e,deepClone:uf,escapePathComponent:I2,unescapePathComponent:a5e});var Rz,d5e,Pz,h5e,p5e,Lz,g5e,Qz,m5e,Vz,v5e,$z,_5e,Gz,y5e,zz,w5e,qz,b5e,jz,C5e,Kz,E5e,Wz,S5e,Yz,B5e,Xz,x5e,Jz,F5e,RD={exports:{}};function kz(){return d5e?Rz:(d5e=1,Rz={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2})}function kD(){return h5e||(h5e=1,Pz="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Pz}function Uz(){return p5e||(p5e=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=kz(),o=kD(),a=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={};let f=0;const A="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",s],[A,i]],g=(m,v,_)=>{const C=(m=>{for(const[v,_]of d)m=m.split(`${v}*`).join(`${v}{0,${_}}`).split(`${v}+`).join(`${v}{1,${_}}`);return m})(v),D=f++;o(m,D,v),c[m]=D,u[D]=v,a[D]=new RegExp(v,_?"g":void 0),l[D]=new RegExp(C,_?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),g("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${A}+`),g("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),g("FULL",`^${u[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),g("LOOSE",`^${u[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),g("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?(?:${u[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",u[c.COERCE],!0),g("COERCERTLFULL",u[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(RD,RD.exports)),RD.exports}function Hz(){if(m5e)return Qz;m5e=1;const e=kD(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=kz(),{safeRe:i,t:s}=Uz(),o=Oz(),{compareIdentifiers:a}=function F3t(){if(g5e)return Lz;g5e=1;const e=/^[0-9]+$/,t=(i,s)=>{const o=e.test(i),a=e.test(s);return o&&a&&(i=+i,s=+s),i===s?0:o&&!a?-1:a&&!o?1:i<s?-1:1};return Lz={compareIdentifiers:t,rcompareIdentifiers:(i,s)=>t(s,i)}}();class l{constructor(c,f){if(f=o(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if("string"!=typeof c)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const A=c.trim().match(f.loose?i[s.LOOSE]:i[s.FULL]);if(!A)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+A[1],this.minor=+A[2],this.patch=+A[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=A[4]?A[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const h=+d;if(h>=0&&h<r)return h}return d}):[],this.build=A[5]?A[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if("string"==typeof c&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),a(this.major,c.major)||a(this.minor,c.minor)||a(this.patch,c.patch)}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{const A=this.prerelease[f],d=c.prerelease[f];if(e("prerelease compare",f,A,d),void 0===A&&void 0===d)return 0;if(void 0===d)return 1;if(void 0===A)return-1;if(A!==d)return a(A,d)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{const A=this.build[f],d=c.build[f];if(e("build compare",f,A,d),void 0===A&&void 0===d)return 0;if(void 0===d)return 1;if(void 0===A)return-1;if(A!==d)return a(A,d)}while(++f)}inc(c,f,A){switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,A);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,A);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,A),this.inc("pre",f,A);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",f,A),this.inc("pre",f,A);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(A)?1:0;if(!f&&!1===A)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[d];else{let h=this.prerelease.length;for(;--h>=0;)"number"==typeof this.prerelease[h]&&(this.prerelease[h]++,h=-2);if(-1===h){if(f===this.prerelease.join(".")&&!1===A)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(f){let h=[f,d];!1===A&&(h=[f]),0===a(this.prerelease[0],f)?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Qz=l}function _5(){if(v5e)return Vz;v5e=1;const e=Hz();return Vz=(r,i,s)=>new e(r,s).compare(new e(i,s))}function D5e(){if(x5e)return Xz;x5e=1;const e=/\s+/g;class t{constructor(Q,z){if(z=s(z),Q instanceof t)return Q.loose===!!z.loose&&Q.includePrerelease===!!z.includePrerelease?Q:new t(Q.raw,z);if(Q instanceof o)return this.raw=Q.value,this.set=[[Q]],this.formatted=void 0,this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=Q.trim().replace(e," "),this.set=this.raw.split("||").map(oe=>this.parseRange(oe.trim())).filter(oe=>oe.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const oe=this.set[0];if(this.set=this.set.filter(J=>!m(J[0])),0===this.set.length)this.set=[oe];else if(this.set.length>1)for(const J of this.set)if(1===J.length&&v(J[0])){this.set=[J];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let Q=0;Q<this.set.length;Q++){Q>0&&(this.formatted+="||");const z=this.set[Q];for(let oe=0;oe<z.length;oe++)oe>0&&(this.formatted+=" "),this.formatted+=z[oe].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Q){const oe=((this.options.includePrerelease&&h)|(this.options.loose&&g))+":"+Q,J=i.get(oe);if(J)return J;const le=this.options.loose;Q=Q.replace(le?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE],Be(this.options.includePrerelease)),a("hyphen replace",Q),Q=Q.replace(u[c.COMPARATORTRIM],f),a("comparator trim",Q),Q=Q.replace(u[c.TILDETRIM],A),a("tilde trim",Q),Q=Q.replace(u[c.CARETTRIM],d),a("caret trim",Q);let De=Q.split(" ").map(st=>C(st,this.options)).join(" ").split(/\s+/).map(st=>ae(st,this.options));le&&(De=De.filter(st=>(a("loose invalid filter",st,this.options),!!st.match(u[c.COMPARATORLOOSE])))),a("range list",De);const Ie=new Map,We=De.map(st=>new o(st,this.options));for(const st of We){if(m(st))return[st];Ie.set(st.value,st)}Ie.size>1&&Ie.has("")&&Ie.delete("");const Ve=[...Ie.values()];return i.set(oe,Ve),Ve}intersects(Q,z){if(!(Q instanceof t))throw new TypeError("a Range is required");return this.set.some(oe=>_(oe,z)&&Q.set.some(J=>_(J,z)&&oe.every(le=>J.every(de=>le.intersects(de,z)))))}test(Q){if(!Q)return!1;if("string"==typeof Q)try{Q=new l(Q,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(Ce(this.set[z],Q,this.options))return!0;return!1}}Xz=t;const r=function D3t(){return f5e?Iz:(f5e=1,Iz=class e{constructor(){this.max=1e3,this.map=new Map}get(r){const i=this.map.get(r);if(void 0!==i)return this.map.delete(r),this.map.set(r,i),i}delete(r){return this.map.delete(r)}set(r,i){if(!this.delete(r)&&void 0!==i){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(r,i)}return this}})}(),i=new r,s=Oz(),o=function P3t(){if(B5e)return Yz;B5e=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,A){if(A=r(A),f instanceof t){if(f.loose===!!A.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),a("comparator",f,A),this.options=A,this.loose=!!A.loose,this.parse(f),this.value=this.semver===e?"":this.operator+this.semver.version,a("comp",this)}parse(f){const d=f.match(this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR]);if(!d)throw new TypeError(`Invalid comparator: ${f}`);this.operator=void 0!==d[1]?d[1]:"","="===this.operator&&(this.operator=""),this.semver=d[2]?new l(d[2],this.options.loose):e}toString(){return this.value}test(f){if(a("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if("string"==typeof f)try{f=new l(f,this.options)}catch{return!1}return o(f,this.operator,this.semver,this.options)}intersects(f,A){if(!(f instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(f.value,A).test(this.value):""===f.operator?""===f.value||new u(this.value,A).test(f.semver):!((A=r(A)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===f.value)||!A.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||o(this.semver,"<",f.semver,A)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||o(this.semver,">",f.semver,A)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Yz=t;const r=Oz(),{safeRe:i,t:s}=Uz(),o=function k3t(){if(S5e)return Wz;S5e=1;const e=function M3t(){if(_5e)return $z;_5e=1;const e=_5();return $z=(r,i,s)=>0===e(r,i,s)}(),t=function T3t(){if(y5e)return Gz;y5e=1;const e=_5();return Gz=(r,i,s)=>0!==e(r,i,s)}(),r=function I3t(){if(w5e)return zz;w5e=1;const e=_5();return zz=(r,i,s)=>e(r,i,s)>0}(),i=function N3t(){if(b5e)return qz;b5e=1;const e=_5();return qz=(r,i,s)=>e(r,i,s)>=0}(),s=function O3t(){if(C5e)return jz;C5e=1;const e=_5();return jz=(r,i,s)=>e(r,i,s)<0}(),o=function R3t(){if(E5e)return Kz;E5e=1;const e=_5();return Kz=(r,i,s)=>e(r,i,s)<=0}();return Wz=(l,u,c,f)=>{switch(u){case"===":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l===c;case"!==":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,f);case"!=":return t(l,c,f);case">":return r(l,c,f);case">=":return i(l,c,f);case"<":return s(l,c,f);case"<=":return o(l,c,f);default:throw new TypeError(`Invalid operator: ${u}`)}}}(),a=kD(),l=Hz(),u=D5e();return Yz}(),a=kD(),l=Hz(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:A,caretTrimReplace:d}=Uz(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:g}=kz(),m=U=>"<0.0.0-0"===U.value,v=U=>""===U.value,_=(U,Q)=>{let z=!0;const oe=U.slice();let J=oe.pop();for(;z&&oe.length;)z=oe.every(le=>J.intersects(le,Q)),J=oe.pop();return z},C=(U,Q)=>(a("comp",U,Q),U=V(U,Q),a("caret",U),U=T(U,Q),a("tildes",U),U=K(U,Q),a("xrange",U),U=Ae(U,Q),a("stars",U),U),D=U=>!U||"x"===U.toLowerCase()||"*"===U,T=(U,Q)=>U.trim().split(/\s+/).map(z=>I(z,Q)).join(" "),I=(U,Q)=>U.replace(Q.loose?u[c.TILDELOOSE]:u[c.TILDE],(oe,J,le,de,De)=>{let Ie;return a("tilde",U,oe,J,le,de,De),D(J)?Ie="":D(le)?Ie=`>=${J}.0.0 <${+J+1}.0.0-0`:D(de)?Ie=`>=${J}.${le}.0 <${J}.${+le+1}.0-0`:De?(a("replaceTilde pr",De),Ie=`>=${J}.${le}.${de}-${De} <${J}.${+le+1}.0-0`):Ie=`>=${J}.${le}.${de} <${J}.${+le+1}.0-0`,a("tilde return",Ie),Ie}),V=(U,Q)=>U.trim().split(/\s+/).map(z=>R(z,Q)).join(" "),R=(U,Q)=>{a("caret",U,Q);const oe=Q.includePrerelease?"-0":"";return U.replace(Q.loose?u[c.CARETLOOSE]:u[c.CARET],(J,le,de,De,Ie)=>{let We;return a("caret",U,J,le,de,De,Ie),D(le)?We="":D(de)?We=`>=${le}.0.0${oe} <${+le+1}.0.0-0`:D(De)?We="0"===le?`>=${le}.${de}.0${oe} <${le}.${+de+1}.0-0`:`>=${le}.${de}.0${oe} <${+le+1}.0.0-0`:Ie?(a("replaceCaret pr",Ie),We="0"===le?"0"===de?`>=${le}.${de}.${De}-${Ie} <${le}.${de}.${+De+1}-0`:`>=${le}.${de}.${De}-${Ie} <${le}.${+de+1}.0-0`:`>=${le}.${de}.${De}-${Ie} <${+le+1}.0.0-0`):(a("no pr"),We="0"===le?"0"===de?`>=${le}.${de}.${De}${oe} <${le}.${de}.${+De+1}-0`:`>=${le}.${de}.${De}${oe} <${le}.${+de+1}.0-0`:`>=${le}.${de}.${De} <${+le+1}.0.0-0`),a("caret return",We),We})},K=(U,Q)=>(a("replaceXRanges",U,Q),U.split(/\s+/).map(z=>ne(z,Q)).join(" ")),ne=(U,Q)=>(U=U.trim()).replace(Q.loose?u[c.XRANGELOOSE]:u[c.XRANGE],(oe,J,le,de,De,Ie)=>{a("xRange",U,oe,J,le,de,De,Ie);const We=D(le),Ve=We||D(de),st=Ve||D(De);return"="===J&&st&&(J=""),Ie=Q.includePrerelease?"-0":"",We?oe=">"===J||"<"===J?"<0.0.0-0":"*":J&&st?(Ve&&(de=0),De=0,">"===J?(J=">=",Ve?(le=+le+1,de=0,De=0):(de=+de+1,De=0)):"<="===J&&(J="<",Ve?le=+le+1:de=+de+1),"<"===J&&(Ie="-0"),oe=`${J+le}.${de}.${De}${Ie}`):Ve?oe=`>=${le}.0.0${Ie} <${+le+1}.0.0-0`:st&&(oe=`>=${le}.${de}.0${Ie} <${le}.${+de+1}.0-0`),a("xRange return",oe),oe}),Ae=(U,Q)=>(a("replaceStars",U,Q),U.trim().replace(u[c.STAR],"")),ae=(U,Q)=>(a("replaceGTE0",U,Q),U.trim().replace(u[Q.includePrerelease?c.GTE0PRE:c.GTE0],"")),Be=U=>(Q,z,oe,J,le,de,De,Ie,We,Ve,st,$t)=>`${z=D(oe)?"":D(J)?`>=${oe}.0.0${U?"-0":""}`:D(le)?`>=${oe}.${J}.0${U?"-0":""}`:de?`>=${z}`:`>=${z}${U?"-0":""}`} ${Ie=D(We)?"":D(Ve)?`<${+We+1}.0.0-0`:D(st)?`<${We}.${+Ve+1}.0-0`:$t?`<=${We}.${Ve}.${st}-${$t}`:U?`<${We}.${Ve}.${+st+1}-0`:`<=${Ie}`}`.trim(),Ce=(U,Q,z)=>{for(let oe=0;oe<U.length;oe++)if(!U[oe].test(Q))return!1;if(Q.prerelease.length&&!z.includePrerelease){for(let oe=0;oe<U.length;oe++)if(a(U[oe].semver),U[oe].semver!==o.ANY&&U[oe].semver.prerelease.length>0){const J=U[oe].semver;if(J.major===Q.major&&J.minor===Q.minor&&J.patch===Q.patch)return!0}return!1}return!0};return Xz}var L3t=function U3t(){if(F5e)return Jz;F5e=1;const e=D5e();return Jz=(r,i,s)=>{try{i=new e(i,s)}catch{return!1}return i.test(r)}}(),M5e=x3t(L3t);function Q3t(e,t,r){const i=e.open(t),{origin:a}=new URL(t);let l=40;e.addEventListener("message",function u(f){f.source===i&&(l=0,e.removeEventListener("message",u,!1))},!1),setTimeout(function c(){l<=0||(i.postMessage(r,a),setTimeout(c,250),l-=1)},250)}var H3t='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function T5e(e,...t){for(const r of t)V3t(e,r);return e}function V3t(e,t){for(const r of Object.keys(t))S3(e,r,t[r],!0)}const Qh=_t;let S7=Xn;const I5e="undefined"!=typeof window?window:void 0;void 0===S7&&I5e?.vl?.compile&&(S7=I5e.vl);const f4t={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},A4t={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},B7={vega:"Vega","vega-lite":"Vega-Lite"},PD={vega:Qh.version,"vega-lite":S7?S7.version:"not available"},d4t={vega:e=>e,"vega-lite":(e,t)=>S7.compile(e,{config:t}).spec},h4t='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',p4t="chart-wrapper";function g4t(e){return"function"==typeof e}function N5e(e,t,r,i){const s=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${r}</body></html>`,a=window.open("");a.document.write(s+e+o),a.document.title=`${B7[i]} JSON Source`}function m4t(e,t){if(e.$schema){const r=k4e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${B7[r.library]}, but mode argument sets ${B7[t]??t}.`);const i=r.library;return M5e(PD[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${B7[i]} ${r.version}, but the current version of ${B7[i]} is v${PD[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function O5e(e){return!(!e||!("load"in e))}function R5e(e){return O5e(e)?e:Qh.loader(e)}function v4t(e){const t=e.usermeta?.embedOptions??{};return or(t.defaultStyle)&&(t.defaultStyle=!1),t}function Zz(e,t){return eq.apply(this,arguments)}function eq(){return eq=Ha(function*(e,t,r={}){let i,s;or(t)?(s=R5e(r.loader),i=JSON.parse(yield s.load(t))):i=t;const o=v4t(i),a=o.loader;(!s||a)&&(s=R5e(r.loader??a));const l=yield k5e(o,s),u=yield k5e(r,s),c={...T5e(u,l),config:E3(u.config??{},l.config??{})};return yield y4t(e,i,c,s)}),eq.apply(this,arguments)}function k5e(e,t){return tq.apply(this,arguments)}function tq(){return tq=Ha(function*(e,t){const r=or(e.config)?JSON.parse(yield t.load(e.config)):e.config??{},i=or(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return{...e,...i?{patch:i}:{},...r?{config:r}:{}}}),tq.apply(this,arguments)}function _4t(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}function y4t(e,t){return nq.apply(this,arguments)}function nq(){return nq=Ha(function*(e,t,r={},i){const s=r.theme?E3(Lt[r.theme],r.config??{}):r.config,o=Zp(r.actions)?r.actions:T5e({},f4t,r.actions??{}),a={...A4t,...r.i18n},l=r.renderer??"canvas",u=r.logLevel??Qh.Warn,c=r.downloadFileName??"visualization",f="string"==typeof e?document.querySelector(e):e;if(!f)throw new Error(`${e} does not exist`);if(!1!==r.defaultStyle){const I="vega-embed-style",{root:V,rootContainer:R}=_4t(f);if(!V.getElementById(I)){const K=document.createElement("style");K.id=I,K.innerHTML=void 0===r.defaultStyle||!0===r.defaultStyle?H3t.toString():r.defaultStyle,R.appendChild(K)}}const A=m4t(t,r.mode);let d=d4t[A](t,s);if("vega-lite"===A&&d.$schema){const I=k4e(d.$schema);M5e(PD.vega,`^${I.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${I.version}, but current version is v${PD.vega}.`)}f.classList.add("vega-embed"),o&&f.classList.add("has-actions"),f.innerHTML="";let h=f;if(o){const I=document.createElement("div");I.classList.add(p4t),f.appendChild(I),h=I}const g=r.patch;if(g&&(d=g instanceof Function?g(d):ND(d,g,!0,!1).newDocument),r.formatLocale&&Qh.formatLocale(r.formatLocale),r.timeFormatLocale&&Qh.timeFormatLocale(r.timeFormatLocale),r.expressionFunctions)for(const I in r.expressionFunctions){const V=r.expressionFunctions[I];"fn"in V?Qh.expressionFunction(I,V.fn,V.visitor):V instanceof Function&&Qh.expressionFunction(I,V)}const{ast:m}=r,v=Qh.parse(d,"vega-lite"===A?{}:s,{ast:m}),_=new(r.viewClass||Qh.View)(v,{loader:i,logLevel:u,renderer:l,...m?{expr:Qh.expressionInterpreter??r.expr??rft}:{}});if(_.addSignalListener("autosize",(I,V)=>{const{type:R}=V;"fit-x"==R?(h.classList.add("fit-x"),h.classList.remove("fit-y")):"fit-y"==R?(h.classList.remove("fit-x"),h.classList.add("fit-y")):"fit"==R?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),!1!==r.tooltip){const{loader:I,tooltip:V}=r,R=I&&!O5e(I)?I?.baseURL:void 0,K=g4t(V)?V:new o5e({baseURL:R,...!0===V?{}:V}).call;_.tooltip(K)}let D,{hover:C}=r;if(void 0===C&&(C="vega"===A),C){const{hoverSet:I,updateSet:V}="boolean"==typeof C?{}:C;_.hover(I,V)}if(r&&(null!=r.width&&_.width(r.width),null!=r.height&&_.height(r.height),null!=r.padding&&_.padding(r.padding)),yield _.initialize(h,r.bind).runAsync(),!1!==o){let I=f;if(!1!==r.defaultStyle||r.forceActionsMenu){const R=document.createElement("details");R.title=a.CLICK_TO_VIEW_ACTIONS,f.append(R),I=R;const K=document.createElement("summary");K.innerHTML=h4t,R.append(K),D=ne=>{R.contains(ne.target)||R.removeAttribute("open")},document.addEventListener("click",D)}const V=document.createElement("div");if(I.append(V),V.classList.add("vega-actions"),!0===o||!1!==o.export)for(const R of["svg","png"])if(!0===o||!0===o.export||o.export[R]){const K=a[`${R.toUpperCase()}_ACTION`],ne=document.createElement("a"),Ae=sr(r.scaleFactor)?r.scaleFactor[R]:r.scaleFactor;ne.text=K,ne.href="#",ne.target="_blank",ne.download=`${c}.${R}`,ne.addEventListener("mousedown",function(){var ae=Ha(function*(Be){Be.preventDefault();const Ce=yield _.toImageURL(R,Ae);this.href=Ce});return function(Be){return ae.apply(this,arguments)}}()),V.append(ne)}if(!0===o||!1!==o.source){const R=document.createElement("a");R.text=a.SOURCE_ACTION,R.href="#",R.addEventListener("click",function(K){N5e(GO(t),r.sourceHeader??"",r.sourceFooter??"",A),K.preventDefault()}),V.append(R)}if("vega-lite"===A&&(!0===o||!1!==o.compiled)){const R=document.createElement("a");R.text=a.COMPILED_ACTION,R.href="#",R.addEventListener("click",function(K){N5e(GO(d),r.sourceHeader??"",r.sourceFooter??"","vega"),K.preventDefault()}),V.append(R)}if(!0===o||!1!==o.editor){const R=r.editorUrl??"https://vega.github.io/editor/",K=document.createElement("a");K.text=a.EDITOR_ACTION,K.href="#",K.addEventListener("click",function(ne){Q3t(window,R,{config:s,mode:g?"vega":A,renderer:l,spec:GO(g?d:t)}),ne.preventDefault()}),V.append(K)}}return{view:_,spec:t,vgSpec:d,finalize:function T(){D&&document.removeEventListener("click",D),_.finalize()},embedOptions:r}}),nq.apply(this,arguments)}const w4t=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","config":{"concat":{"spacing":30},"background":null},"resolve":{"scale":{"color":"independent","opacity":"independent"},"legend":{"color":"independent","opacity":"independent"}},"data":{"url":"","format":{"type":"topojson","feature":""}},"transform":[{"lookup":"","from":{"data":{"url":""},"key":"","fields":[]}}],"columns":1,"concat":[]}'),UD=Object.freeze({dataPath:"assets/data/",tooltipOptions:Object.freeze({autoPlacement:!0,showDelay:0,trigger:"hover"}),vegaLiteOptions:Object.freeze({renderer:"canvas",actions:!1,hover:!0,tooltip:!0})}),P5e=[{name:"Categorical",examples:[{sname:"Accent",file:"Accent",code:"accent",function:PPe},{sname:"Category 10",file:"Category10",code:"category10",function:kPe},{sname:"Dark 2",file:"Dark2",code:"dark2",function:UPe},{sname:"Paired",file:"Paired",code:"paired",function:LPe},{sname:"Pastel 1",file:"Pastel1",code:"pastel1",function:QPe},{sname:"Pastel 2",file:"Pastel2",code:"pastel2",function:HPe},{sname:"Set 1",file:"Set1",code:"set1",function:VPe},{sname:"Set 2",file:"Set2",code:"set2",function:$Pe},{sname:"Set 3",file:"Set3",code:"set3",function:GPe},{sname:"Tableau 10",file:"Tableau10",code:"tableau10",function:zPe}]},{name:"Sequential Single-Hue",examples:[{sname:"Blues",file:"Blues",code:"blues",function:Bre},{sname:"Greens",file:"Greens",code:"greens",function:xre},{sname:"Oranges",file:"Oranges",code:"oranges",function:Tre},{sname:"Reds",file:"Reds",code:"reds",function:Mre},{sname:"Purples",file:"Purples",code:"purples",function:Fre},{sname:"Greys",file:"Greys",code:"greys",function:Dre}]},{name:"Sequential Multi-Hue",examples:[{sname:"Turbo",file:"Turbo",code:"turbo",function:function JPe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}},{sname:"Magma",file:"Magma",code:"magma",function:eUe},{sname:"Viridis",file:"Viridis",code:"viridis",function:ZPe},{sname:"Inferno",file:"Inferno",code:"inferno",function:tUe},{sname:"Cividis",file:"Cividis",code:"cividis",function:function qPe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}},{sname:"Blue-Green",file:"BuGn",code:"bluegreen",function:hre},{sname:"Blue-Purple",file:"BuPu",code:"bluepurple",function:pre},{sname:"Green-Blue",file:"GnBu",code:"greenblue",function:gre},{sname:"Orange-Red",file:"OrRd",code:"orangered",function:mre},{sname:"Purple-Blue-Green",file:"PuBuGn",code:"purplebluegreen",function:vre},{sname:"Purple-Blue",file:"PuBu",code:"purpleblue",function:_re},{sname:"Purple-Red",file:"PuRd",code:"purplered",function:yre},{sname:"Red-Purple",file:"RdPu",code:"redpurple",function:wre},{sname:"Yellow-Green-Blue",file:"YlGnBu",code:"yellowgreenblue",function:bre},{sname:"Yellow-Green",file:"YlGn",code:"yellowgreen",function:Cre},{sname:"Yellow-Orange-Brown",file:"YlOrBr",code:"yelloworangebrown",function:Ere},{sname:"Yellow-Orange-Red",file:"YlOrRd",code:"yelloworangered",function:Sre}]},{name:"Diverging",examples:[{sname:"Brown-Blue-Green",file:"BrBG",code:"brownbluegreen",function:ore},{sname:"Pink-Yellow-Green",file:"PiYG",code:"pinkyellowgreen",function:are},{sname:"Purple-Orange",file:"PuOr",code:"purpleorange",function:lre},{sname:"Red-Blue",file:"RdBu",code:"redblue",function:ure},{sname:"Red-Grey",file:"RdGy",code:"redgrey",function:cre},{sname:"Red-Yellow-Blue",file:"RdYlBu",code:"redyellowblue",function:fre},{sname:"Red-Yellow-Green",file:"RdYlGn",code:"redyellowgreen",function:Are},{sname:"Spectral",file:"Spectral",code:"spectral",function:dre}]},{name:"Cyclical",examples:[{sname:"Rainbow",file:"Rainbow",code:"rainbow",function:function KPe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Yb.h=360*e-100,Yb.s=1.5-1.5*t,Yb.l=.8-.9*t,Yb+""}},{sname:"Sinebow",file:"Sinebow",code:"sinebow",function:function XPe(e){var t;return e=(.5-e)*Math.PI,Xb.r=255*(t=Math.sin(e))*t,Xb.g=255*(t=Math.sin(e+WPe))*t,Xb.b=255*(t=Math.sin(e+YPe))*t,Xb+""}}]}];let x7={usa:{featureFile:"us-county-indicators.csv",features:["Life Expectancy (2021)","Life Expectancy (2020)","Adult Obesity Percentage","Infant Mortality Rate","Incarceration Rate","Incarceration_Rate_1k","HIV_Prevalence","Motor Vehicle Death Rate","Secondary Educational Attainment","GINI Index (Income Inequality)","Population Density","Domestic In-Migrants 2010s","Domestic In-Migrants 2010s (norm)","Domestic Net Migrants 2010s","Domestic Net Migrants 2010s (norm)"],labelFeatures:["State","County"],primaryKey:"FIPS_Code"},india:{featureFile:"india-states-uts-indicators.csv",features:["Infant Mortality Rate","Total Fertility Rate (Children per women)","Population Density","Death Rate","Birth Rate","Elementary School Gross Enrolment Ratio (%) - Boys","Elementary School Gross Enrolment Ratio (%) - Girls","Elementary School Gross Enrolment Ratio (%) - Overall","Secondary School Gross Enrolment Ratio (%) - Boys","Secondary School Gross Enrolment Ratio (%) - Girls","Secondary School Gross Enrolment Ratio (%) - Overall","Senior Secondary School Gross Enrolment Ratio (%) - Boys","Senior Secondary School Gross Enrolment Ratio (%) - Girls","Senior Secondary School Gross Enrolment Ratio (%) - Overall","Higher Education Gross Enrolment Ratio (%) - Boys","Higher Education Gross Enrolment Ratio (%) - Girls","Higher Education Gross Enrolment Ratio (%) - Overall"],labelFeatures:["Category"],primaryKey:"State/UT"}},b4t={usa:{county:{geoFile:"us-counties.json",mapProjection:"albersUsa",mapCenter:[98.5795,39.8283],topoPrimaryKey:"id",topoFeatureRootKey:"counties"}},india:{state:{geoFile:"india-states-uts.json",mapProjection:"mercator",mapCenter:[78.9629,20.5937],topoFeatureRootKey:"india-states-uts",topoPrimaryKey:"id"}}},U5e=[{name:"India",code:"india",geographies:[{name:"State",code:"state",features:[]}]},{name:"United States",code:"usa",geographies:[{name:"County",code:"county",features:[]}]}];U5e.forEach(function(e){e.geographies.forEach(function(t){let i=b4t[e.code][t.code];i.featureFile=x7[e.code].featureFile,i.features=x7[e.code].features,i.labelFeatures=x7[e.code].labelFeatures,i.primaryKey=x7[e.code].primaryKey,x7[e.code].features.forEach(function(s){i.feature=s,t.features.push(JSON.parse(JSON.stringify(i)))})})});let L5e=U5e;const Q5e="equalInterval",rq="percentile",iq="boxPlot",V5e="standardDeviation",$5e="maximumBreaks",G5e="fisherJenks",z5e="geometricInterval",q5e="specialFrequencyMostFrequentClass";let N4t={unclassed:{name:"Unclassed",description:["No discrete bins; a continuous color ramp spans the range of data values."],longDescription:["This method divides data into a continuous range of values, rather than into a set number of discrete bins; it uses a color ramp, typically progressing from low to high values, to represent the data, with each color in the ramp representing a different range of values."]},definedInterval:{name:"Defined Interval",description:["Number of bins are determined by manually specifying a desired bin interval."],longDescription:["This method defines a series of bins with the same value range. By specifying the interval size and maximum sample size, the number of bins is determined automatically. For example, if the interval size is 75, each bin will span 75 units."]},[Q5e]:{name:"Equal Interval",description:["Each bin has the same interval size based on the manually specified number of bins."],longDescription:["This method divides the range of attribute values into equal-sized subranges (intervals). By specifying the number of bins (or intervals), the bin breaks are automatically determined based on the value range. For example, if we specify three bins for an attribute whose values range from 0 to 300, three bins with ranges of 0-100, 101-200, and 201-300 are created. Equal interval is best applied to familiar data ranges, such as percentages and temperature."]},prettyBreaks:{name:"Pretty Breaks",description:["Each bin break is rounded to pretty values (e.g., to two signficant digits) by the user."],longDescription:["This method rounds each bin break up or down into pretty values that are easier to read, understand, and explain, e.g., [0-10] instead of [0-9.364]. These bin intervals are defined based on the data values, user preferences, desired number of bins, and rounding factor."]},[z5e]:{name:"Geometric",description:["Bin intervals follow a geometric progression: a + ar + ar^2 + ... a = constant, r = coefficient."],longDescription:["Originally called 'Smart Quantiles', this method defines bin breaks based on bin intervals that have a geometric series (a + ar + ar^2 + ar^3 + ...) where a is a constant and r is the geometric coefficient. This r can change once (to its inverse) to optimize the bin ranges. This technique is useful for visualizing continuous data that is not distributed normally, or when the distribution is extremely skewed, creating a balance between highlighting changes in the middle values and the extreme values, thereby producing a result that is visually appealing and cartographically comprehensive."]},exponentialClassSize:{name:"Exponential",description:["Number of data records in each successive bin increase (or decrease) exponentially."],longDescription:["This method utilizes an exponential series (a^n) for classification. There are two commonly used variants of this strategy: (1) bin intervals are defined such that the number of observations in each successive interval increases (or decreases) exponentially; (2) bin intervals are defined such that the size of the intervals increases by an exponential factor between each successive interval, e.g., 1-2, 2-4, 4-8, 8-16, 16-32."]},manualInterval:{name:"Manual Interval",description:["Number of bins and corresponding bin breaks are manually specified as per user needs."],longDescription:["This method organizes data into bins based on predetermined criteria or when automated methods are inappropriate or unavailable. Note that this strategy is less explainable and can be time-consuming and error-prone to execute, especially when the dataset is large or complex."]},quantile:{name:"Quantile",description:["Each bin consists of approximately the same number of data observations."],longDescription:["This method defines bin intervals such that the number of observations in each interval is (approximately) the same. For example, if there are 100 data points and one needs 5 equal-sized bins (or quantiles), each bin would then contain 100/5=20 data points. The term quartiles is used when the attribute values are divided into four bins, quintiles for five, sextiles for six, etc. With this strategy, bins are not left empty nor do they have limited or excessive number of values. However, because of the way the bins are grouped, the maps can sometimes be confusing or misleading because the values that are put into the bins can be similar to or very different from one another."]},[rq]:{name:"Percentile",description:["6 Bins: [0,1)%, [1-10)%, [10-50)%, [50%-90)%, [90%-99)%, [99,100]%."],longDescription:["This method, a custom variant of the quantile strategy, defines six unequal bin intervals based on percentiles (%): [0,1), [1,10), [10,50), [50,90), [90,99), [99,100]."]},[iq]:{name:"Box Plot",description:["6 bins: [UQ+1.5*IQR, UQ, M, LQ, LQ-1.5*IQR]. M=median, Q=quartile, IQR=inter-Q range."],longDescription:["This method typically defines six bins: four quartiles plus two classifications for data items that are more than 1.5 times the inter-quartile range (IQR) from the median, enabling quick visualization of the distribution of the data across the region being mapped, as well as identifying any outliers or areas with unusual values."]},[V5e]:{name:"Standard Deviation",description:["2n Bins: [\u03bc - n * \u03c3, ..., \u03bc - \u03c3, \u03bc, \u03bc + \u03c3, ..., \u03bc + n * \u03c3]. \u03bc = mean, \u03c3 = standard deviation."],longDescription:["This method is a way to measure how spread out a dataset is compared to its mean divides. It divides the data into a set of bins such that each bin contains data points that are within a certain number of standard deviations (\u03c3) from the mean (\u03bc) of the data, usually at intervals of 1.0\u03c3 or 0.5\u03c3. There are two commonly used variants of this strategy: (1) bins are defined on either side of the mean and hence there is no central bin and the number of bins is even; (2) one central bin (\u03bc+-0.5\u03c3) and additional bins at \u03bc+-1.0\u03c3 intervals beyond this central bin, for a total odd number of bins."]},[$5e]:{name:"Maximum Breaks",description:["Bins are placed where differences between sorted, successive values are the largest."],longDescription:["Based on the manually specified number of bins, this method defines bin breaks based on the maximum gradients of sorted data values, where a gradient is the difference between successive data values. For each desired bin, this strategy looks at how apart each data value is from the next one in the sorted sequence and accordingly places a break point in between the pairs of values that are most stretched apart from each other."]},[G5e]:{name:"Natural Breaks",description:["Sum of the absolute deviations around the medians of the resultant bins is minimum."],longDescription:["This method defines bins such that they are as homogenous as possible within themselves and as heterogeneous as possible between themselves, by minimizing the within-bin variance and maximizing the between-bin variance, thereby creating bins that are more meaningful and interpretable. There are two commonly used variants of this strategy: (1) Jenks-Caspall minimizes the sum of absolute deviations around bin means; (2) Fisher-Jenks minimizes the sum of the absolute deviations around bin medians. Note that (2) uses a dynamic programming approach as opposed to (1)'s heuristic approach and is hence guaranteed to produce an optimal classification for a prespecified number of bins."]},ckMeans:{name:"CK-Means",description:["Standard deviation (sum of squared Euclidean distances to) of each bin is minimized."],longDescription:["This method heuristically partitions data into k bins such that the sum of squared Euclidean distances to each bin mean is minimized, computing new bin centers until local convergence is achieved. It is slow, not repeatable, and unoptimal; CK-Means is one dynamic programming algorithm for optimal one-dimensional classification."]},headTailBreaks:{name:"Head Tail Breaks",description:["Recursive binning to balance the number of smaller and larger values in each bin."],longDescription:["This method defines bins by recursively splitting data around the iterative means until the distributions within each of the bins no longer displays a heavy-tailed distribution, i.e., there is a balance between the number of smaller and larger values assigned to each bin. This method is particularly effective for data with a heavy-tailed distribution, such as power law and log normal distributions, as it recognizes that there may be far more objects of smaller (than larger) magnitudes."]},resiliency:{name:"Resiliency",description:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],longDescription:["This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning strategies. By adjusting the number of bins as well as bin intervals, this scheme strives to force-fit maximum geographic entities fall in the bin that is most frequently assigned to it; in this way, this scheme rewards consistency and is called resiliency."]}};const O4t=["compareBinFrequencyVisContainer"],R4t=["resiliencyVisContainer"],k4t=["attrDistributionVisContainer"],P4t=["downloadImageCanvas"],U4t=["downloadLink"],D7=function(){return{standalone:!0}};function L4t(e,t){if(1&e){const r=xs();et(0,"div",46),et(1,"input",47),tr("ngModelChange",function(s){const a=lr(r).$implicit;return Qt().visModel.validBinningMethodsForResiliency[a].selected=s})("ngModelChange",function(){return lr(r),Qt().updateAllVis()}),tt(),et(2,"label",48),ii(3),tt(),tt()}if(2&e){const r=t.$implicit,i=Qt();Rt(1),wg("name","'special-comparison-checkbox-' + ",r,""),wg("id","'special-comparison-checkbox-' + ",r,""),Vt("disabled",i.isCompatibleBinningMethod(r))("ngModel",i.visModel.validBinningMethodsForResiliency[r].selected)("ngModelOptions",Np(7,D7)),Rt(1),wg("for","'special-comparison-checkbox-' + ",r,""),Rt(1),Mc(i.visModel.binningMethods[r].name)}}function Q4t(e,t){1&e&&cs(0,"img",50),2&e&&Vt("src","assets/colorSchemes/"+Qt().$implicit.file+".png",bp)}function H4t(e,t){if(1&e&&(et(0,"table"),et(1,"tr"),et(2,"td",4),Qn(3,Q4t,1,1,"img",49),tt(),et(4,"td",4),et(5,"span"),ii(6),tt(),tt(),tt(),tt()),2&e){const r=t.$implicit;Rt(3),Vt("ngIf",r.sname),Rt(3),Mc(r.sname||r.name)}}function V4t(e,t){if(1&e&&(et(0,"div"),cs(1,"img",52),ii(2,"\xa0\xa0 "),et(3,"span"),ii(4),tt(),tt()),2&e){const r=Qt().$implicit;Rt(1),Vt("src","assets/colorSchemes/"+r.file+".png",bp),Rt(3),Mc(r.sname)}}function $4t(e,t){1&e&&Qn(0,V4t,5,2,"div",51),2&e&&Vt("ngIf",t.$implicit)}const G4t=function(){return["geographies","features"]},z4t=function(){return["examples"]};let j5e=(()=>{class e{constructor(){this.objectKeys=Object.keys,this.objectValues=Object.values,this.appConfig=UD,this.visModel={datasets:L5e,dataset:L5e[1].geographies[0].features[0],baseDataFeatureCollection:[],featureData:{},featureDataNaNs:{},featureRawDataWithNaNs:{},featureRawDataWithNaNsJSON:[],histogramBins:[],binMaxCount:0,showInvalidValues:"on",invalidValuesColor:"grey",binCount:6,frequencyOfBins:{},frequentBins:{},resiliency:{},validBinningMethodsForResiliency:{[Q5e]:{selected:!0},[rq]:{selected:!0},quantile:{selected:!0},[z5e]:{selected:!0},[iq]:{selected:!0},[V5e]:{selected:!0},[$5e]:{selected:!0},[G5e]:{selected:!0}},binningMethodsForResiliency:[],specialDataClassificationTypes:{[q5e]:{name:"Frequency of Most Consistent Bin"},specialCombinedMostFrequentClass:{name:"Most Consistent Bin and its Frequency"}},minFrequencyOfMostConsistentBin:null,maxFrequencyOfMostConsistentBin:null,averageFrequencyOfMostConsistentBin:null,binGuruObj:null,colorSchemes:P5e,colorScheme:P5e[3].examples[2],binningMethods:N4t,dataMap:new Map,colorScale:null,primaryKeys:[]}}getColorScheme(){return this.visModel.colorScheme.code}downloadView(r,i,s="medium",o){let a,l;switch(s){case"small":a=1,l=72;break;case"medium":a=5,l=150;break;case"large":a=10,l=300}qNe()($(i)[0],{scale:a}).then(u=>{const c=u.toDataURL("image/png");var f=AUe.Hv(c,l);this.downloadLink.nativeElement.href=f,this.downloadLink.nativeElement.download=s+"-export.png",this.downloadLink.nativeElement.click()})}getDataShape(r="total"){let s,i=this;try{const o=i.visModel.featureData[i.visModel.dataset.feature].length,a=i.visModel.featureDataNaNs[i.visModel.dataset.feature];let l=o+a;switch(r){case"total":s=l;break;case"valid":s=o;break;case"invalid":s=a;break;case"invalidpct":s=(100*a/l).toPrecision(3)}}catch{s=-1}return s}getValidBinningMethodForResiliency(){let r=this,i=[];return Object.keys(r.visModel.validBinningMethodsForResiliency).forEach(function(s){r.visModel.validBinningMethodsForResiliency[s].selected&&!r.isCompatibleBinningMethod(s)&&i.push(s)}),i}isCompatibleBinningMethod(r){return 6!=this.visModel.binCount&&-1!==[rq,iq].indexOf(r)}prepareSpecialVIS(){let r=this,i=[],s=[];const o=Array.from(Object.values(r.visModel.frequencyOfBins)).filter(Boolean),a=o.reduce((f,A)=>f+A);r.visModel.minFrequencyOfMostConsistentBin=Math.min(...o),r.visModel.maxFrequencyOfMostConsistentBin=Math.max(...o),r.visModel.averageFrequencyOfMostConsistentBin=(a/o.length).toFixed(2),Object.keys(r.visModel.frequencyOfBins).forEach(function(f,A){let d={Frequency_of_Most_Frequent_Bin:r.visModel.frequencyOfBins[f],Most_Frequent_Bin:r.visModel.frequentBins[f]};d[r.visModel.dataset.primaryKey]=f,r.visModel.binningMethodsForResiliency.forEach(function(h){d[h]=r.visModel.resiliency.binObjs[h].dataBinAssignments[A],s.push({field:h,type:"ordinal",title:"BinID("+r.visModel.binningMethods[h].name+")"})}),i.push(d)}),r.baseGeoVisSpec.columns=1,r.baseGeoVisSpec.transform.push({lookup:r.visModel.dataset.topoPrimaryKey,from:{data:{values:i},key:r.visModel.dataset.primaryKey,fields:["Frequency_of_Most_Frequent_Bin","Most_Frequent_Bin",r.visModel.dataset.primaryKey,...r.visModel.binningMethodsForResiliency]}});let u=r.compareBinFrequencyVisContainer.nativeElement.parentNode.offsetWidth/1-10-30-60,c=.66*u;Object.keys(r.visModel.specialDataClassificationTypes).forEach(function(f){let A={width:u,height:c,layer:[{title:{text:r.visModel.specialDataClassificationTypes[f].name,subtitle:"across multiple binning methods.",fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:r.visModel.dataset.mapProjection,fit:r.visModel.baseDataFeatureCollection,center:r.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:"on"==r.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['Frequency_of_Most_Frequent_Bin'])",value:r.visModel.invalidValuesColor},field:"Most_Frequent_Bin",type:"ordinal",legend:{title:"Bin",titleFontSize:16,labelFontSize:18},scale:{domain:[...Array(r.visModel.binCount).keys()].map(d=>d+1),type:"ordinal",scheme:r.getColorScheme()}},opacity:{field:"Frequency_of_Most_Frequent_Bin",type:"quantitative",legend:{title:"Freq",values:new Array(r.visModel.binningMethodsForResiliency.length).fill(null).map((d,h)=>h+1),titleFontSize:16,labelFontSize:18},scale:{domain:[1,r.visModel.binningMethodsForResiliency.length],range:[.1,1],type:"pow"}},tooltip:[...r.getMapTooltip(),{field:"Most_Frequent_Bin",type:"ordinal",title:"Most Frequent Bin"},{field:"Frequency_of_Most_Frequent_Bin",type:"ordinal",title:"Frequency of Most Frequent Bin"},...s]}}]};"off"==r.visModel.showInvalidValues&&delete A.layer[0].encoding.color.condition,"specialMostFrequentClass"==f&&delete A.layer[0].encoding.opacity,f==q5e&&(A.layer[0].mark.fill="black",delete A.layer[0].encoding.color),r.baseGeoVisSpec.concat.push(A)})}getMapTooltip(){let r=this,i=[];return i.push({field:r.visModel.dataset.feature,type:"quantitative",title:r.visModel.dataset.feature,format:".2f"}),i.push({field:r.visModel.dataset.primaryKey,type:"nominal",title:r.visModel.dataset.primaryKey}),r.visModel.dataset.labelFeatures.forEach(function(s){i.push({field:s,type:"nominal",title:s})}),i}prepareResiliencyVIS(r){let i=this,s=i.resiliencyVisContainer.nativeElement.parentNode.offsetWidth-10-30-60,a={width:s,height:.66*s,layer:[{title:{text:"Resiliency",subtitle:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],limit:s-20,fontSize:24,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:i.visModel.dataset.mapProjection,fit:i.visModel.baseDataFeatureCollection,center:i.visModel.dataset.mapCenter},mark:{type:"geoshape",stroke:"black",strokeWidth:"0.35",invalid:"on"==i.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['"+i.visModel.dataset.feature+"'])",value:i.visModel.invalidValuesColor},field:i.visModel.dataset.feature,type:"quantitative",legend:{title:null,format:".3f",labelFontSize:16},scale:r},tooltip:i.getMapTooltip()}}]};i.baseGeoVisSpec.concat.push(a)}renderAttrDistributionVisSpec(){let r=this,i=null,o=r.attrDistributionVisContainer.nativeElement.offsetWidth-60;o="off"==r.visModel.showInvalidValues?o:o-80;let a=.4*o,l=r.getDataShape("invalid"),u=[0,r.visModel.binMaxCount>l?r.visModel.binMaxCount:l];i={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:r.visModel.histogramBins},config:{concat:{spacing:0}},concat:[{width:o,height:a,mark:{type:"bar",tooltip:{content:"data"}},encoding:{x:{field:"bin_start",bin:{binned:!0},title:null,type:"quantitative",axis:{labelFontSize:12,titleFontSize:14}},x2:{field:"bin_end",axis:{labelFontSize:12,titleFontSize:14}},y:{field:"count",title:"count",type:"quantitative",scale:{domain:u},axis:{formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}},tooltip:[{field:"bin_start",type:"quantitative",format:".2f"},{field:"bin_end",type:"quantitative",format:".2f"},{field:"count",type:"quantitative"}]}}]},"on"==r.visModel.showInvalidValues&&i.concat.push({width:20,height:a,data:{values:[{field:"NaN/nulls",invalidCount:l}]},mark:{type:"bar",tooltip:{content:"invalidCount"}},encoding:{x:{field:"field",type:"nominal",title:null,axis:{labelAngle:"0",labelFontSize:12,titleFontSize:14}},y:{field:"invalidCount",type:"quantitative",title:"count",scale:{domain:u},axis:{orient:"right",formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}}}}),Zz("#attrDistributionVisContainer",i,r.appConfig.vegaLiteOptions).then(c=>{}).catch(console.warn)}prepareBaseVISSpec(){let r=this;r.baseGeoVisSpec=JSON.parse(JSON.stringify(w4t)),r.baseGeoVisSpec.columns=1,r.baseGeoVisSpec.data.url=UD.dataPath+r.visModel.dataset.geoFile,delete r.baseGeoVisSpec.transform[0].from.data.url,r.baseGeoVisSpec.transform[0].from.data.values=r.visModel.featureRawDataWithNaNsJSON,r.baseGeoVisSpec.transform[0].from.key=r.visModel.dataset.primaryKey,r.baseGeoVisSpec.transform[0].lookup=r.visModel.dataset.topoPrimaryKey,r.baseGeoVisSpec.data.format.feature=r.visModel.dataset.topoFeatureRootKey,r.baseGeoVisSpec.transform[0].from.fields=[r.visModel.dataset.primaryKey,...r.visModel.dataset.labelFeatures,...r.visModel.dataset.features]}renderVIS(){let r=this;r.visModel.binningMethodsForResiliency=r.getValidBinningMethodForResiliency(),r.visModel.resiliency=r.visModel.binGuruObj.resiliency(r.visModel.binningMethodsForResiliency,{});let i={};i.domain=r.visModel.resiliency.binBreaks,i.type="threshold",i.scheme=r.getColorScheme(),r.visModel.frequentBins={},Object.values(r.visModel.resiliency.mostFrequentBins).forEach(function(s,o){r.visModel.frequentBins[r.visModel.primaryKeys[o]]=s}),r.visModel.frequencyOfBins={},Object.values(r.visModel.resiliency.frequencyOfMostFrequentBins).forEach(function(s,o){r.visModel.frequencyOfBins[r.visModel.primaryKeys[o]]=s}),r.prepareBaseVISSpec(),r.prepareSpecialVIS(),Zz("#compareBinFrequencyVisContainer",r.baseGeoVisSpec,r.appConfig.vegaLiteOptions).then(s=>{}).catch(console.warn),r.prepareBaseVISSpec(),r.prepareResiliencyVIS(i),Zz("#resiliencyVisContainer",r.baseGeoVisSpec,r.appConfig.vegaLiteOptions).then(s=>{}).catch(console.warn)}updateDataset(){let r=this;Promise.all([RPe(UD.dataPath+r.visModel.dataset.geoFile),NPe(UD.dataPath+r.visModel.dataset.featureFile,function(i){return r.visModel.dataMap.set(i[r.visModel.dataset.primaryKey],i),i})]).then(function(i){let s=i[0],o=i[1];r.visModel.primaryKeys=[],r.visModel.featureData={},r.visModel.featureDataNaNs={},r.visModel.featureRawDataWithNaNs={},r.visModel.featureRawDataWithNaNsJSON=[],r.visModel.baseDataFeatureCollection=Hre(s,s.objects[r.visModel.dataset.topoFeatureRootKey]).features,o.forEach(function(a){let l={};r.visModel.primaryKeys.push(a[r.visModel.dataset.primaryKey]),Object.keys(a).forEach(function(u){u in r.visModel.featureData||(r.visModel.featureData[u]=[]),u in r.visModel.featureDataNaNs||(r.visModel.featureDataNaNs[u]=0),u in r.visModel.featureRawDataWithNaNs||(r.visModel.featureRawDataWithNaNs[u]=[]);let c=parseFloat(a[u]);Number.isNaN(c)?(r.visModel.featureDataNaNs[u]++,r.visModel.featureRawDataWithNaNs[u].push(a[u])):(r.visModel.featureData[u].push(c),r.visModel.featureRawDataWithNaNs[u].push(c)),l[u]=-1!==r.visModel.dataset.features.indexOf(u)?Number.isNaN(c)||null==c?NaN:c:a[u]}),r.visModel.featureRawDataWithNaNsJSON.push(l)}),r.updateAllVis()})}updateAllVis(){let r=this,s=r.visModel.binCount;r.visModel.binGuruObj=new ZUe(r.visModel.featureRawDataWithNaNs[r.visModel.dataset.feature],s);let o=r.visModel.binGuruObj.min,l=r.visModel.binGuruObj.minSortedData,u=[];const c=(r.visModel.binGuruObj.max-o)/s;[...Array(s).keys()].forEach(function(h){u.push(o+c*(h+1))});var f=function rOe(){var e=JNe,t=eO,r=nOe;function i(s){Array.isArray(s)||(s=Array.from(s));var o,l,a=s.length,u=new Array(a);for(o=0;o<a;++o)u[o]=e(s[o],o,s);var c=t(u),f=c[0],A=c[1],d=r(u,f,A);if(!Array.isArray(d)){const v=A,_=+d;if(t===eO&&([f,A]=function eOe(e,t,r){let i;for(;;){const s=iO(e,t,r);if(s===i||0===s||!isFinite(s))return[e,t];s>0?(e=Math.floor(e/s)*s,t=Math.ceil(t/s)*s):s<0&&(e=Math.ceil(e*s)/s,t=Math.floor(t*s)/s),i=s}}(f,A,_)),d=function ZNe(e,t,r){var i,o,a,l,s=-1;if(r=+r,(e=+e)==(t=+t)&&r>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(l=iO(e,t,r))||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),c=Math.round(t/l);for(u*l<e&&++u,c*l>t&&--c,a=new Array(o=c-u+1);++s<o;)a[s]=(u+s)*l}else{l=-l;let u=Math.round(e*l),c=Math.round(t*l);for(u/l<e&&++u,c/l>t&&--c,a=new Array(o=c-u+1);++s<o;)a[s]=(u+s)/l}return i&&a.reverse(),a}(f,A,_),d[d.length-1]>=A)if(v>=A&&t===eO){const C=iO(f,A,_);isFinite(C)&&(C>0?A=(Math.floor(A/C)+1)*C:C<0&&(A=(Math.ceil(A*-C)+1)/-C))}else d.pop()}for(var h=d.length;d[0]<=f;)d.shift(),--h;for(;d[h-1]>A;)d.pop(),--h;var m,g=new Array(h+1);for(o=0;o<=h;++o)(m=g[o]=[]).x0=o>0?d[o-1]:f,m.x1=o<h?d[o]:A;for(o=0;o<a;++o)f<=(l=u[o])&&l<=A&&g[XNe(d,l,0,h)].push(s[o]);return g}return i.value=function(s){return arguments.length?(e="function"==typeof s?s:Ob(s),i):e},i.domain=function(s){return arguments.length?(t="function"==typeof s?s:Ob([s[0],s[1]]),i):t},i.thresholds=function(s){return arguments.length?(r="function"==typeof s?s:Array.isArray(s)?Ob(jNe.call(s)):Ob(s),i):r},i}().value(h=>h).thresholds(u);let A=[],d=0;f(l).forEach(function(h){d<h.length&&(d=h.length),A.push({bin_start:h.x0,bin_end:h.x1,count:h.length})}),r.visModel.binMaxCount=d,r.visModel.histogramBins=A,r.renderAttrDistributionVisSpec(),r.renderVIS()}ngOnInit(){}ngAfterViewInit(){this.updateDataset()}ngOnDestroy(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ys({type:e,selectors:[["resiliency-app"]],viewQuery:function(r,i){if(1&r&&(nc(O4t,5,$i),nc(R4t,5,$i),nc(k4t,5,$i),nc(P4t,5),nc(U4t,5)),2&r){let s;fs(s=As())&&(i.compareBinFrequencyVisContainer=s.first),fs(s=As())&&(i.resiliencyVisContainer=s.first),fs(s=As())&&(i.attrDistributionVisContainer=s.first),fs(s=As())&&(i.downloadImageCanvas=s.first),fs(s=As())&&(i.downloadLink=s.first)}},features:[Js([])],decls:105,vars:51,consts:[[1,"h-full","w-100"],["restrictMove","true","direction","horizontal"],[3,"size"],[1,"p-md"],[1,"p-xs"],["tooltip","This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning methods.",1,"mb-0",3,"options"],["target","_blank","href","https://github.com/arpitnarechania/binguru"],[1,"form-group"],["tooltip","Configure datasets by selecting an existing one or uploading your own. Hover on the configuration name to know more",1,"fa","fa-database",3,"options"],["appendTo","body","optionLabel","feature","optionGroupLabel","name",3,"ngModelOptions","ngModel","options","optionGroupChildren","ngModelChange","onChange"],[1,"mt-sm","text-center"],[1,"text-muted"],[1,"form-check","form-check-inline","mr-0"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOn","value","on",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","showInvalidValuesOn",1,"form-check-label"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOff","value","off",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","showInvalidValuesOff",1,"form-check-label"],["id","attrDistributionVisContainer",1,"w-100","mt-sm"],["attrDistributionVisContainer",""],["tooltip","Pick one or more of these binning methods to compare by overlaying their bin sizes and bin breaks; note that these methods all have a fixed number of bins to be comparable.","width","16",2,"margin-top","-4px",3,"options","src"],[1,"float-right"],["tooltip","Only applicable for <b>Equal Interval</b>, <b>Quantile</b>, <b>Maximum Breaks</b>, <b>Natural Breaks</b>, <b>CK-Means</b>, and <b>Geometric Interval</b>",2,"cursor","help",3,"options"],["type","number","step","1","min","1","max","12","name","binCount","id","binCount",3,"ngModel","change","ngModelChange"],[2,"clear","both"],[1,"mt-sm"],["class","form-check",4,"ngFor","ngForOf"],["tooltip","Options to configure the color scheme for the choropleth maps. Hover on the configuration name to know more.",1,"fa","fa-palette",3,"options"],[1,"table-sm","w-100"],[2,"width","35%"],["tooltip","The base color scheme for valid (non NaN/null) values; optionally, reverse the scheme as per needs.",2,"cursor","help",3,"options"],["appendTo","body","optionLabel","sname","optionGroupLabel","name",3,"ngModelOptions","ngModel","options","optionGroupChildren","onChange","ngModelChange"],["pTemplate","option"],["pTemplate","value"],["tooltip","The color to be used for invalid (NaN/null) values",2,"cursor","help",3,"options"],[1,"form-check","form-check-inline"],["id","colorNullValues",1,"form-check-input",2,"width","16px","height","16px",3,"cpCancelButton","cpOKButton","cpSaveClickOutside","cpDisabled","cpPosition","cpAlphaChannel","cpOutputFormat","cpEyeDropper","colorPicker","colorPickerSelect","colorPickerChange"],["tooltip","Indicators that are relevant to Resiliency will be listed here.",1,"fa","fa-magic",3,"options"],["tooltip","This indicator, currently in beta, could potentially indicate how bouncy/stable a map is when we compute the Average Frequency of the Most Consistent Bin.",2,"cursor","help",3,"options"],["tooltip","This indicator, currently in beta, shows the Max Frequency of the Most Consistent Bin.",2,"cursor","help",3,"options"],["tooltip","This indicator, currently in beta, shows the Min Frequency of the Most Consistent Bin.",2,"cursor","help",3,"options"],[1,"p-sm"],[1,"h-full2",2,"width","100%"],["id","resiliencyVisContainer",1,"text-center"],["resiliencyVisContainer",""],["id","compareBinFrequencyVisContainer",1,"text-center"],["compareBinFrequencyVisContainer",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"name","disabled","ngModel","ngModelOptions","id","ngModelChange"],[1,"form-check-label",3,"for"],["height","20","width","150",3,"src",4,"ngIf"],["height","20","width","150",3,"src"],[4,"ngIf"],["height","15","width","40",3,"src"]],template:function(r,i){1&r&&(et(0,"div",0),et(1,"as-split",1),et(2,"as-split-area",2),et(3,"div",3),et(4,"div",4),et(5,"h3",5),ii(6,"Resiliency App"),tt(),et(7,"div"),et(8,"small"),et(9,"a",6),ii(10,"Powered by BinGuru"),tt(),tt(),tt(),tt(),cs(11,"hr"),et(12,"form"),et(13,"div",7),et(14,"strong"),cs(15,"i",8),ii(16,"\xa0Dataset\xa0 "),tt(),et(17,"p-cascadeSelect",9),tr("ngModelChange",function(o){return i.visModel.dataset=o})("onChange",function(){return i.updateDataset()}),tt(),et(18,"div",10),et(19,"small",11),ii(20),et(21,"div",12),et(22,"input",13),tr("ngModelChange",function(o){return i.visModel.showInvalidValues=o})("ngModelChange",function(){return i.updateAllVis()}),tt(),et(23,"label",14),ii(24," on "),tt(),tt(),ii(25," \xa0 "),et(26,"div",12),et(27,"input",15),tr("ngModelChange",function(o){return i.visModel.showInvalidValues=o})("ngModelChange",function(){return i.updateAllVis()}),tt(),et(28,"label",16),ii(29," off "),tt(),tt(),ii(30,") "),tt(),tt(),cs(31,"div",17,18),tt(),cs(33,"hr"),et(34,"div",7),et(35,"strong"),cs(36,"img",19),ii(37,"\xa0Data Binning "),tt(),et(38,"div",20),et(39,"span",21),ii(40," Bin Count "),tt(),et(41,"input",22),tr("change",function(){return i.updateAllVis()})("ngModelChange",function(o){return i.visModel.binCount=o}),tt(),tt(),cs(42,"div",23),et(43,"div",24),Qn(44,L4t,4,8,"div",25),tt(),tt(),cs(45,"hr"),et(46,"div",7),et(47,"strong"),cs(48,"i",26),ii(49,"\xa0Color Scheme "),tt(),et(50,"div",24),et(51,"table",27),et(52,"tbody"),et(53,"tr"),et(54,"td",28),et(55,"span",29),ii(56," Primary "),tt(),tt(),et(57,"td"),et(58,"p-cascadeSelect",30),tr("onChange",function(){return i.updateAllVis()})("ngModelChange",function(o){return i.visModel.colorScheme=o}),Qn(59,H4t,7,2,"ng-template",31),Qn(60,$4t,1,1,"ng-template",32),tt(),tt(),tt(),et(61,"tr"),et(62,"td",28),et(63,"span",33),ii(64," NaN/nulls "),tt(),tt(),et(65,"td"),et(66,"div",34),et(67,"input",35),tr("colorPickerSelect",function(){return i.updateAllVis()})("colorPickerChange",function(o){return i.visModel.invalidValuesColor=o}),tt(),tt(),tt(),tt(),tt(),tt(),tt(),tt(),cs(68,"hr"),et(69,"div",7),et(70,"strong"),cs(71,"i",36),ii(72,"\xa0Indicators "),tt(),et(73,"div",24),et(74,"table",27),et(75,"tbody"),et(76,"tr"),et(77,"td"),et(78,"span",37),ii(79," Average Frequency of the Most Consistent Bin "),tt(),tt(),et(80,"td"),et(81,"h5"),ii(82),tt(),tt(),tt(),et(83,"tr"),et(84,"td"),et(85,"span",38),ii(86," Maximum Frequency of the Most Consistent Bin "),tt(),tt(),et(87,"td"),et(88,"h5"),ii(89),tt(),tt(),tt(),et(90,"tr"),et(91,"td"),et(92,"span",39),ii(93," Minimum Frequency of the Most Consistent Bin "),tt(),tt(),et(94,"td"),et(95,"h5"),ii(96),tt(),tt(),tt(),tt(),tt(),tt(),tt(),tt(),tt(),tt(),et(97,"as-split-area",2),et(98,"div",40),et(99,"div",41),cs(100,"div",42,43),cs(102,"hr"),cs(103,"div",44,45),tt(),tt(),tt(),tt(),tt()),2&r&&(Rt(2),Vt("size",25),Rt(3),Vt("options",i.appConfig.tooltipOptions),Rt(10),Vt("options",i.appConfig.tooltipOptions),Rt(2),Vt("ngModelOptions",Np(45,D7))("ngModel",i.visModel.dataset)("options",i.visModel.datasets)("optionGroupChildren",Np(46,G4t)),Rt(3),HM(" ",i.getDataShape("total")," values; ",i.getDataShape("invalid")," (",i.getDataShape("invalidpct"),"%) NaN/nulls ( "),Rt(2),Vt("ngModel",i.visModel.showInvalidValues)("ngModelOptions",Np(47,D7)),Rt(5),Vt("ngModel",i.visModel.showInvalidValues)("ngModelOptions",Np(48,D7)),Rt(9),Vt("options",i.appConfig.tooltipOptions)("src","assets/tasks-alt.svg",bp),Rt(3),Vt("options",i.appConfig.tooltipOptions),Rt(2),Vt("ngModel",i.visModel.binCount),Rt(3),Vt("ngForOf",i.objectKeys(i.visModel.validBinningMethodsForResiliency)),Rt(4),Vt("options",i.appConfig.tooltipOptions),Rt(7),Vt("options",i.appConfig.tooltipOptions),Rt(3),Vt("ngModelOptions",Np(49,D7))("ngModel",i.visModel.colorScheme)("options",i.visModel.colorSchemes)("optionGroupChildren",Np(50,z4t)),Rt(5),Vt("options",i.appConfig.tooltipOptions),Rt(4),aa("background",i.visModel.invalidValuesColor),Vt("cpCancelButton",!0)("cpOKButton",!0)("cpSaveClickOutside",!1)("cpDisabled",!i.visModel.showInvalidValues)("cpPosition","top")("cpAlphaChannel","always")("cpOutputFormat","auto")("cpEyeDropper",!0)("colorPicker",i.visModel.invalidValuesColor),Rt(4),Vt("options",i.appConfig.tooltipOptions),Rt(7),Vt("options",i.appConfig.tooltipOptions),Rt(4),Mc(i.visModel.averageFrequencyOfMostConsistentBin),Rt(3),Vt("options",i.appConfig.tooltipOptions),Rt(4),Mc(i.visModel.maxFrequencyOfMostConsistentBin),Rt(3),Vt("options",i.appConfig.tooltipOptions),Rt(4),Mc(i.visModel.minFrequencyOfMostConsistentBin),Rt(1),Vt("size",75))},directives:[wZ,kSe,$Se,ZJ,UJ,Xw,MN,PJ,$I,zI,Vw,JI,XI,GI,s0,xI,Xee,yA,MBe],styles:["#visContainer{width:100%}  .hovered{stroke-width:2px!important;stroke:#000!important}  hr{margin-top:8px;margin-bottom:12px}  div.tooltip{position:absolute;max-width:250px;padding:8px;font:14px sans-serif;background:white;border:1.5px solid #ccc;border-radius:8px;pointer-events:none}  .colorSwatch{width:20px;height:20px;display:inline-block;margin-right:4px;border:1px solid black}  .selectedColorSwatch{border:3px solid black}"]}),e})();const q4t=[{path:"",redirectTo:"/app",pathMatch:"full"},{path:"app",component:j5e},{path:"**",redirectTo:"/app",pathMatch:"full"}];let j4t=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=wi({imports:[[tne.forRoot(q4t,{scrollPositionRestoration:"enabled",relativeLinkResolution:"legacy",useHash:!0})],tne]}),e})(),K4t=(()=>{class e{constructor(){}ngAfterViewInit(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ys({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&cs(0,"router-outlet")},directives:[GN],styles:[".h-full{height:100vh!important}  .display-inline-block{display:inline-block!important}  .display-inline{display:inline!important}  .overflow{overflow:auto!important}  .overflow-x{overflow-x:auto!important}  .overflow-y{overflow-y:auto!important}  .nowrap{white-space:nowrap!important}  .float-left{float:left!important}  .float-right{float:right!important}  .cursor-pointer{cursor:pointer}  .cursor-move{cursor:move}  .vspace-lg{margin-top:24px}  .vspace-md{margin-top:16px}  .vspace-sm{margin-top:8x}  .mb-xs{margin-bottom:4px}  .mt-xs{margin-top:4px}  .ml-xs{margin-left:4px}  .mr-xs{margin-right:4px}  .mb-sm{margin-bottom:8px}  .mt-sm{margin-top:8px}  .ml-sm{margin-left:8px}  .mr-sm{margin-right:8px}  .mb-md{margin-bottom:16px!important}  .mt-md{margin-top:16px}  .ml-md{margin-left:16px}  .mr-md{margin-right:16px}  .mw-md{margin-left:16px;margin-right:16px}  .mw-sm{margin-left:8px;margin-right:8px}  .mw-xs{margin-left:4px;margin-right:4px}  .mw-lg{margin-left:24px;margin-right:24px}  .m-none{margin:0}  .p-xs{padding:4px}  .p-sm{padding:8px}  .pb-sm{padding-bottom:8px}  .pt-sm{padding-top:8px}  .pl-sm{padding-left:8px}  .pr-sm{padding-right:8px}  .pb-xs{padding-bottom:4px}  .pt-xs{padding-top:4px}  .pl-xs{padding-left:4px}  .pr-xs{padding-right:4px}  .p-md{padding:16px}  .pb-md{padding-bottom:16px}  .pt-md{padding-top:16px}  .pl-md{padding-left:16px}  .pr-md{padding-right:16px}  .pw-md{padding-left:16px;padding-right:16px}  .pw-sm{padding-left:8px;padding-right:8px}  .pw-xs{padding-left:4px;padding-right:4px}  .pw-lg{padding-left:24px;padding-right:24px}  .p-none{padding:0}  .pt-0{padding-top:0}  .center-all{display:flex;align-items:center;justify-content:center}  #vg-tooltip-element{z-index:2000}"]}),e})(),W4t=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ni({type:e,bootstrap:[K4t]}),e.\u0275inj=wi({providers:[EEe,j5e],imports:[[ZY,sEe,pZ,bEe,j4t,GSe,TBe,PSe.forRoot(),ZMe,STe]]}),e})();(function nye(){aY=!1})(),ybe().bootstrapModule(W4t).catch(e=>console.error(e))},279:(Ya,Hl)=>{"use strict";Hl.Hv=function Lt(ze,Kt){var Wn=ze.split(","),Yr=Wn[0],Cn=Wn[1],Gr=void 0,Mn=void 0,Je=!1;if(-1!==Yr.indexOf(kr)){Gr=kr;var F=function mn(ze){var Kt=ze.indexOf(Tt);return-1===Kt&&(Kt=ze.indexOf(Vn)),-1===Kt&&(Kt=ze.indexOf(Hn)),Kt}(Cn);F>=0?(Mn=4*Math.ceil((F+28)/3),Je=!0):Mn=44}-1!==Yr.indexOf(xe)&&(Gr=xe,Mn=24);for(var O=Cn.substring(0,Mn),P=Cn.substring(Mn),q=atob(O),re=new Uint8Array(q.length),ce=0;ce<re.length;ce++)re[ce]=q.charCodeAt(ce);var ye=function vn(ze,Kt,Wn,Yr){if(Wn===xe)return ze[13]=1,ze[14]=Kt>>8,ze[15]=255&Kt,ze[16]=Kt>>8,ze[17]=255&Kt,ze;if(Wn===kr){var Cn=new Uint8Array(13);Kt*=39.3701,Cn[0]=Pr,Cn[1]=Nt,Cn[2]=ve,Cn[3]=_t,Cn[4]=Kt>>>24,Cn[5]=Kt>>>16,Cn[6]=Kt>>>8,Cn[7]=255&Kt,Cn[8]=Cn[4],Cn[9]=Cn[5],Cn[10]=Cn[6],Cn[11]=Cn[7],Cn[12]=1;var Gr=function M(ze){var Kt=-1;Dr||(Dr=function ie(){for(var ze=new Int32Array(256),Kt=0;Kt<256;Kt++){for(var Wn=Kt,Yr=0;Yr<8;Yr++)Wn=1&Wn?3988292384^Wn>>>1:Wn>>>1;ze[Kt]=Wn}return ze}());for(var Wn=0;Wn<ze.length;Wn++)Kt=Dr[255&(Kt^ze[Wn])]^Kt>>>8;return-1^Kt}(Cn),Mn=new Uint8Array(4);if(Mn[0]=Gr>>>24,Mn[1]=Gr>>>16,Mn[2]=Gr>>>8,Mn[3]=255&Gr,Yr){var Je=function rn(ze){for(var Wn=ze.length-1;Wn>=4;Wn--)if(9===ze[Wn-4]&&ze[Wn-3]===Pr&&ze[Wn-2]===Nt&&ze[Wn-1]===ve&&ze[Wn]===_t)return Wn-3}(ze);return ze.set(Cn,Je),ze.set(Mn,Je+13),ze}var F=new Uint8Array(4);F[0]=0,F[1]=0,F[2]=0,F[3]=9;var O=new Uint8Array(54);return O.set(ze,0),O.set(F,33),O.set(Cn,37),O.set(Mn,50),O}}(re,Kt,Gr,Je),Te=btoa(String.fromCharCode.apply(String,function Hs(ze){if(Array.isArray(ze)){for(var Kt=0,Wn=Array(ze.length);Kt<ze.length;Kt++)Wn[Kt]=ze[Kt];return Wn}return Array.from(ze)}(ye)));return[Yr,",",Te,P].join("")};var Dr=void 0,kr="image/png",xe="image/jpeg",Tt="AAlwSFlz",Vn="AAAJcEhZ",Hn="AAAACXBI",Pr="p".charCodeAt(0),Nt="H".charCodeAt(0),ve="Y".charCodeAt(0),_t="s".charCodeAt(0)},159:function(Ya){Ya.exports=function(){"use strict";var Hl=function(b,y){return(Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(S[k]=E[k])})(b,y)};function vr(b,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=b}Hl(b,y),b.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)}var Hs=function(){return Hs=Object.assign||function(y){for(var S,E=1,k=arguments.length;E<k;E++)for(var W in S=arguments[E])Object.prototype.hasOwnProperty.call(S,W)&&(y[W]=S[W]);return y},Hs.apply(this,arguments)};function ie(b,y,S,E){return new(S||(S=Promise))(function(W,fe){function Ee(ut){try{Ze(E.next(ut))}catch(mt){fe(mt)}}function be(ut){try{Ze(E.throw(ut))}catch(mt){fe(mt)}}function Ze(ut){ut.done?W(ut.value):function k(W){return W instanceof S?W:new S(function(fe){fe(W)})}(ut.value).then(Ee,be)}Ze((E=E.apply(b,y||[])).next())})}function M(b,y){var E,k,W,fe,S={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return fe={next:Ee(0),throw:Ee(1),return:Ee(2)},"function"==typeof Symbol&&(fe[Symbol.iterator]=function(){return this}),fe;function Ee(Ze){return function(ut){return function be(Ze){if(E)throw new TypeError("Generator is already executing.");for(;S;)try{if(E=1,k&&(W=2&Ze[0]?k.return:Ze[0]?k.throw||((W=k.return)&&W.call(k),0):k.next)&&!(W=W.call(k,Ze[1])).done)return W;switch(k=0,W&&(Ze=[2&Ze[0],W.value]),Ze[0]){case 0:case 1:W=Ze;break;case 4:return S.label++,{value:Ze[1],done:!1};case 5:S.label++,k=Ze[1],Ze=[0];continue;case 7:Ze=S.ops.pop(),S.trys.pop();continue;default:if(!(W=(W=S.trys).length>0&&W[W.length-1])&&(6===Ze[0]||2===Ze[0])){S=0;continue}if(3===Ze[0]&&(!W||Ze[1]>W[0]&&Ze[1]<W[3])){S.label=Ze[1];break}if(6===Ze[0]&&S.label<W[1]){S.label=W[1],W=Ze;break}if(W&&S.label<W[2]){S.label=W[2],S.ops.push(Ze);break}W[2]&&S.ops.pop(),S.trys.pop();continue}Ze=y.call(b,S)}catch(ut){Ze=[6,ut],k=0}finally{E=W=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}([Ze,ut])}}}function Dr(b,y,S){if(S||2===arguments.length)for(var W,E=0,k=y.length;E<k;E++)(W||!(E in y))&&(W||(W=Array.prototype.slice.call(y,0,E)),W[E]=y[E]);return b.concat(W||y)}for(var kr=function(){function b(y,S,E,k){this.left=y,this.top=S,this.width=E,this.height=k}return b.prototype.add=function(y,S,E,k){return new b(this.left+y,this.top+S,this.width+E,this.height+k)},b.fromClientRect=function(y,S){return new b(S.left+y.windowBounds.left,S.top+y.windowBounds.top,S.width,S.height)},b.fromDOMRectList=function(y,S){var E=Array.from(S).find(function(k){return 0!==k.width});return E?new b(E.left+y.windowBounds.left,E.top+y.windowBounds.top,E.width,E.height):b.EMPTY},b.EMPTY=new b(0,0,0,0),b}(),xe=function(b,y){return kr.fromClientRect(b,y.getBoundingClientRect())},Vn=function(b){for(var y=[],S=0,E=b.length;S<E;){var k=b.charCodeAt(S++);if(k>=55296&&k<=56319&&S<E){var W=b.charCodeAt(S++);56320==(64512&W)?y.push(((1023&k)<<10)+(1023&W)+65536):(y.push(k),S--)}else y.push(k)}return y},Hn=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],k=-1,W="";++k<S;){var fe=b[k];fe<=65535?E.push(fe):E.push(55296+((fe-=65536)>>10),fe%1024+56320),(k+1===S||E.length>16384)&&(W+=String.fromCharCode.apply(String,E),E.length=0)}return W},Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ve=0;ve<Pr.length;ve++)Nt[Pr.charCodeAt(ve)]=ve;for(var _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Lt=0;Lt<_t.length;Lt++)Xn[_t.charCodeAt(Lt)]=Lt;for(var Te=function(b,y,S){return b.slice?b.slice(y,S):new Uint16Array(Array.prototype.slice.call(b,y,S))},Ke=function(){function b(y,S,E,k,W,fe){this.initialValue=y,this.errorValue=S,this.highStart=E,this.highValueIndex=k,this.index=W,this.data=fe}return b.prototype.get=function(y){var S;if(y>=0){if(y<55296||y>56319&&y<=65535)return this.data[S=((S=this.index[y>>5])<<2)+(31&y)];if(y<=65535)return this.data[S=((S=this.index[2048+(y-55296>>5)])<<2)+(31&y)];if(y<this.highStart)return S=this.index[S=2080+(y>>11)],this.data[S=((S=this.index[S+=y>>5&63])<<2)+(31&y)];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",St="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Gt=0;Gt<Bt.length;Gt++)St[Bt.charCodeAt(Gt)]=Gt;var S,E,k,fe,Ee,zr=10,Fe=13,Ue=15,Ct=17,kt=18,$e=19,Le=20,an=21,L=22,we=24,Qe=25,Ye=26,he=27,nt=28,dt=30,ht=32,It=33,vt=34,at=35,Wt=37,Jt=38,sn=39,Jn=40,si=42,zn=[9001,65288],yn="\xd7",qr=(S=function(b){var E,W,fe,Ee,be,y=.75*b.length,S=b.length,k=0;"="===b[b.length-1]&&(y--,"="===b[b.length-2]&&y--);var Ze="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(y):new Array(y),ut=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(E=0;E<S;E+=4)W=Xn[b.charCodeAt(E)],fe=Xn[b.charCodeAt(E+1)],Ee=Xn[b.charCodeAt(E+2)],be=Xn[b.charCodeAt(E+3)],ut[k++]=W<<2|fe>>4,ut[k++]=(15&fe)<<4|Ee>>2,ut[k++]=(3&Ee)<<6|63&be;return Ze}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(S)?function(b){for(var y=b.length,S=[],E=0;E<y;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),k=Array.isArray(S)?function(b){for(var y=b.length,S=[],E=0;E<y;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),fe=Te(k,12,E[4]/2),Ee=2===E[5]?Te(k,(24+E[4])/2):function(b,y,S){return b.slice?b.slice(y,S):new Uint32Array(Array.prototype.slice.call(b,y,S))}(E,Math.ceil((24+E[4])/4)),new Ke(E[0],E[1],E[2],E[3],fe,Ee)),En=[dt,36],tn=[1,2,3,5],Vr=[zr,8],Sr=[he,Ye],G=tn.concat(Vr),Z=[Jt,sn,Jn,vt,at],Y=[Ue,Fe],me=function(b,y,S,E){var k=E[S];if(Array.isArray(b)?-1!==b.indexOf(k):b===k)for(var W=S;W<=E.length;){if((fe=E[++W])===y)return!0;if(fe!==zr)break}if(k===zr)for(W=S;W>0;){var Ee=E[--W];if(Array.isArray(b)?-1!==b.indexOf(Ee):b===Ee)for(var be=S;be<=E.length;){var fe;if((fe=E[++be])===y)return!0;if(fe!==zr)break}if(Ee!==zr)break}return!1},te=function(b,y){for(var S=b;S>=0;){var E=y[S];if(E!==zr)return E;S--}return 0},_e=function(b,y,S,E,k){if(0===S[E])return yn;var W=E-1;if(Array.isArray(k)&&!0===k[W])return yn;var fe=W-1,Ee=W+1,be=y[W],Ze=fe>=0?y[fe]:0,ut=y[Ee];if(2===be&&3===ut)return yn;if(-1!==tn.indexOf(be))return"!";if(-1!==tn.indexOf(ut)||-1!==Vr.indexOf(ut))return yn;if(8===te(W,y))return"\xf7";if(11===qr.get(b[W])||(be===ht||be===It)&&11===qr.get(b[Ee])||7===be||7===ut||9===be||-1===[zr,Fe,Ue].indexOf(be)&&9===ut||-1!==[Ct,kt,$e,we,nt].indexOf(ut)||te(W,y)===L||me(23,L,W,y)||me([Ct,kt],an,W,y)||me(12,12,W,y))return yn;if(be===zr)return"\xf7";if(23===be||23===ut)return yn;if(16===ut||16===be)return"\xf7";if(-1!==[Fe,Ue,an].indexOf(ut)||14===be||36===Ze&&-1!==Y.indexOf(be)||be===nt&&36===ut||ut===Le||-1!==En.indexOf(ut)&&be===Qe||-1!==En.indexOf(be)&&ut===Qe||be===he&&-1!==[Wt,ht,It].indexOf(ut)||-1!==[Wt,ht,It].indexOf(be)&&ut===Ye||-1!==En.indexOf(be)&&-1!==Sr.indexOf(ut)||-1!==Sr.indexOf(be)&&-1!==En.indexOf(ut)||-1!==[he,Ye].indexOf(be)&&(ut===Qe||-1!==[L,Ue].indexOf(ut)&&y[Ee+1]===Qe)||-1!==[L,Ue].indexOf(be)&&ut===Qe||be===Qe&&-1!==[Qe,nt,we].indexOf(ut))return yn;if(-1!==[Qe,nt,we,Ct,kt].indexOf(ut))for(var mt=W;mt>=0;){if((Pt=y[mt])===Qe)return yn;if(-1===[nt,we].indexOf(Pt))break;mt--}if(-1!==[he,Ye].indexOf(ut))for(mt=-1!==[Ct,kt].indexOf(be)?fe:W;mt>=0;){var Pt;if((Pt=y[mt])===Qe)return yn;if(-1===[nt,we].indexOf(Pt))break;mt--}if(Jt===be&&-1!==[Jt,sn,vt,at].indexOf(ut)||-1!==[sn,vt].indexOf(be)&&-1!==[sn,Jn].indexOf(ut)||-1!==[Jn,at].indexOf(be)&&ut===Jn||-1!==Z.indexOf(be)&&-1!==[Le,Ye].indexOf(ut)||-1!==Z.indexOf(ut)&&be===he||-1!==En.indexOf(be)&&-1!==En.indexOf(ut)||be===we&&-1!==En.indexOf(ut)||-1!==En.concat(Qe).indexOf(be)&&ut===L&&-1===zn.indexOf(b[Ee])||-1!==En.concat(Qe).indexOf(ut)&&be===kt)return yn;if(41===be&&41===ut){for(var fr=S[W],Pn=1;fr>0&&41===y[--fr];)Pn++;if(Pn%2!=0)return yn}return be===ht&&ut===It?yn:"\xf7"},Ge=function(b,y){y||(y={lineBreak:"normal",wordBreak:"normal"});var S=function(b,y){void 0===y&&(y="strict");var S=[],E=[],k=[];return b.forEach(function(W,fe){var Ee=qr.get(W);if(Ee>50?(k.push(!0),Ee-=50):k.push(!1),-1!==["normal","auto","loose"].indexOf(y)&&-1!==[8208,8211,12316,12448].indexOf(W))return E.push(fe),S.push(16);if(4===Ee||11===Ee){if(0===fe)return E.push(fe),S.push(dt);var be=S[fe-1];return-1===G.indexOf(be)?(E.push(E[fe-1]),S.push(be)):(E.push(fe),S.push(dt))}return E.push(fe),31===Ee?S.push("strict"===y?an:Wt):Ee===si||29===Ee?S.push(dt):43===Ee?S.push(W>=131072&&W<=196605||W>=196608&&W<=262141?Wt:dt):void S.push(Ee)}),[E,S,k]}(b,y.lineBreak),E=S[0],k=S[1],W=S[2];return("break-all"===y.wordBreak||"break-word"===y.wordBreak)&&(k=k.map(function(Ee){return-1!==[Qe,dt,si].indexOf(Ee)?Wt:Ee})),[E,k,"keep-all"===y.wordBreak?W.map(function(Ee,be){return Ee&&b[be]>=19968&&b[be]<=40959}):void 0]},ke=function(){function b(y,S,E,k){this.codePoints=y,this.required="!"===S,this.start=E,this.end=k}return b.prototype.slice=function(){return Hn.apply(void 0,this.codePoints.slice(this.start,this.end))},b}(),Ws=function(b){return b>=48&&b<=57},_i=function(b){return Ws(b)||b>=65&&b<=70||b>=97&&b<=102},Za=function(b){return 10===b||9===b||32===b},el=function(b){return function(b){return function(b){return b>=97&&b<=122}(b)||function(b){return b>=65&&b<=90}(b)}(b)||function(b){return b>=128}(b)||95===b},ni=function(b){return el(b)||Ws(b)||45===b},Na=function(b){return b>=0&&b<=8||11===b||b>=14&&b<=31||127===b},tl=function(b,y){return 92===b&&10!==y},Fn=function(b,y,S){return 45===b?el(y)||tl(y,S):!!el(b)||!(92!==b||!tl(b,y))},co=function(b,y,S){return 43===b||45===b?!!Ws(y)||46===y&&Ws(S):Ws(46===b?y:b)},Ss=function(b){var y=0,S=1;(43===b[y]||45===b[y])&&(45===b[y]&&(S=-1),y++);for(var E=[];Ws(b[y]);)E.push(b[y++]);var k=E.length?parseInt(Hn.apply(void 0,E),10):0;46===b[y]&&y++;for(var W=[];Ws(b[y]);)W.push(b[y++]);var fe=W.length,Ee=fe?parseInt(Hn.apply(void 0,W),10):0;(69===b[y]||101===b[y])&&y++;var be=1;(43===b[y]||45===b[y])&&(45===b[y]&&(be=-1),y++);for(var Ze=[];Ws(b[y]);)Ze.push(b[y++]);var ut=Ze.length?parseInt(Hn.apply(void 0,Ze),10):0;return S*(k+Ee*Math.pow(10,-fe))*Math.pow(10,be*ut)},sa={type:2},Cl={type:3},Fi={type:4},Zr={type:13},$n={type:8},ri={type:21},rs={type:9},us={type:10},qo={type:11},ki={type:12},_u={type:14},ro={type:23},Hh={type:1},gd={type:25},bi={type:24},ep={type:26},md={type:27},ig={type:28},vd={type:29},nl={type:31},sA={type:32},oA=function(){function b(){this._value=[]}return b.prototype.write=function(y){this._value=this._value.concat(Vn(y))},b.prototype.read=function(){for(var y=[],S=this.consumeToken();S!==sA;)y.push(S),S=this.consumeToken();return y},b.prototype.consumeToken=function(){var y=this.consumeCodePoint();switch(y){case 34:return this.consumeStringToken(34);case 35:var S=this.peekCodePoint(0),E=this.peekCodePoint(1),k=this.peekCodePoint(2);if(ni(S)||tl(E,k)){var W=Fn(S,E,k)?2:1;return{type:5,value:this.consumeName(),flags:W}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Zr;break;case 39:return this.consumeStringToken(39);case 40:return sa;case 41:return Cl;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_u;break;case 43:if(co(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case 44:return Fi;case 45:var Ee=y,be=this.peekCodePoint(0),Ze=this.peekCodePoint(1);if(co(Ee,be,Ze))return this.reconsumeCodePoint(y),this.consumeNumericToken();if(Fn(Ee,be,Ze))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();if(45===be&&62===Ze)return this.consumeCodePoint(),this.consumeCodePoint(),bi;break;case 46:if(co(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var ut=this.consumeCodePoint();if(42===ut&&47===(ut=this.consumeCodePoint()))return this.consumeToken();if(-1===ut)return this.consumeToken()}break;case 58:return ep;case 59:return md;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),gd;break;case 64:var mt=this.peekCodePoint(0),Pt=this.peekCodePoint(1),fr=this.peekCodePoint(2);if(Fn(mt,Pt,fr))return{type:7,value:this.consumeName()};break;case 91:return ig;case 92:if(tl(y,this.peekCodePoint(0)))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();break;case 93:return vd;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),$n;break;case 123:return qo;case 125:return ki;case 117:case 85:var Pn=this.peekCodePoint(0),ir=this.peekCodePoint(1);return 43===Pn&&(_i(ir)||63===ir)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(y),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),rs;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ri;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),us;break;case-1:return sA}return Za(y)?(this.consumeWhiteSpace(),nl):Ws(y)?(this.reconsumeCodePoint(y),this.consumeNumericToken()):el(y)?(this.reconsumeCodePoint(y),this.consumeIdentLikeToken()):{type:6,value:Hn(y)}},b.prototype.consumeCodePoint=function(){var y=this._value.shift();return void 0===y?-1:y},b.prototype.reconsumeCodePoint=function(y){this._value.unshift(y)},b.prototype.peekCodePoint=function(y){return y>=this._value.length?-1:this._value[y]},b.prototype.consumeUnicodeRangeToken=function(){for(var y=[],S=this.consumeCodePoint();_i(S)&&y.length<6;)y.push(S),S=this.consumeCodePoint();for(var E=!1;63===S&&y.length<6;)y.push(S),S=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(Hn.apply(void 0,y.map(function(be){return 63===be?48:be})),16),end:parseInt(Hn.apply(void 0,y.map(function(be){return 63===be?70:be})),16)};var fe=parseInt(Hn.apply(void 0,y),16);if(45===this.peekCodePoint(0)&&_i(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var Ee=[];_i(S)&&Ee.length<6;)Ee.push(S),S=this.consumeCodePoint();return{type:30,start:fe,end:parseInt(Hn.apply(void 0,Ee),16)}}return{type:30,start:fe,end:fe}},b.prototype.consumeIdentLikeToken=function(){var y=this.consumeName();return"url"===y.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:y}):{type:20,value:y}},b.prototype.consumeUrlToken=function(){var y=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var S=this.peekCodePoint(0);if(39===S||34===S){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),ro)}for(;;){var k=this.consumeCodePoint();if(-1===k||41===k)return{type:22,value:Hn.apply(void 0,y)};if(Za(k))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Hn.apply(void 0,y)}):(this.consumeBadUrlRemnants(),ro);if(34===k||39===k||40===k||Na(k))return this.consumeBadUrlRemnants(),ro;if(92===k){if(!tl(k,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ro;y.push(this.consumeEscapedCodePoint())}else y.push(k)}},b.prototype.consumeWhiteSpace=function(){for(;Za(this.peekCodePoint(0));)this.consumeCodePoint()},b.prototype.consumeBadUrlRemnants=function(){for(;;){var y=this.consumeCodePoint();if(41===y||-1===y)return;tl(y,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},b.prototype.consumeStringSlice=function(y){for(var E="";y>0;){var k=Math.min(5e4,y);E+=Hn.apply(void 0,this._value.splice(0,k)),y-=k}return this._value.shift(),E},b.prototype.consumeStringToken=function(y){for(var S="",E=0;;){var k=this._value[E];if(-1===k||void 0===k||k===y)return{type:0,value:S+=this.consumeStringSlice(E)};if(10===k)return this._value.splice(0,E),Hh;if(92===k){var W=this._value[E+1];-1!==W&&void 0!==W&&(10===W?(S+=this.consumeStringSlice(E),E=-1,this._value.shift()):tl(k,W)&&(S+=this.consumeStringSlice(E),S+=Hn(this.consumeEscapedCodePoint()),E=-1))}E++}},b.prototype.consumeNumber=function(){var y=[],S=4,E=this.peekCodePoint(0);for((43===E||45===E)&&y.push(this.consumeCodePoint());Ws(this.peekCodePoint(0));)y.push(this.consumeCodePoint());E=this.peekCodePoint(0);var k=this.peekCodePoint(1);if(46===E&&Ws(k))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Ws(this.peekCodePoint(0));)y.push(this.consumeCodePoint());E=this.peekCodePoint(0),k=this.peekCodePoint(1);var W=this.peekCodePoint(2);if((69===E||101===E)&&((43===k||45===k)&&Ws(W)||Ws(k)))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Ws(this.peekCodePoint(0));)y.push(this.consumeCodePoint());return[Ss(y),S]},b.prototype.consumeNumericToken=function(){var y=this.consumeNumber(),S=y[0],E=y[1],k=this.peekCodePoint(0),W=this.peekCodePoint(1),fe=this.peekCodePoint(2);return Fn(k,W,fe)?{type:15,number:S,flags:E,unit:this.consumeName()}:37===k?(this.consumeCodePoint(),{type:16,number:S,flags:E}):{type:17,number:S,flags:E}},b.prototype.consumeEscapedCodePoint=function(){var y=this.consumeCodePoint();if(_i(y)){for(var S=Hn(y);_i(this.peekCodePoint(0))&&S.length<6;)S+=Hn(this.consumeCodePoint());Za(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(S,16);return 0===E||function(b){return b>=55296&&b<=57343}(E)||E>1114111?65533:E}return-1===y?65533:y},b.prototype.consumeName=function(){for(var y="";;){var S=this.consumeCodePoint();if(ni(S))y+=Hn(S);else{if(!tl(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),y;y+=Hn(this.consumeEscapedCodePoint())}}},b}(),Vl=function(){function b(y){this._tokens=y}return b.create=function(y){var S=new oA;return S.write(y),new b(S.read())},b.parseValue=function(y){return b.create(y).parseComponentValue()},b.parseValues=function(y){return b.create(y).parseComponentValues()},b.prototype.parseComponentValue=function(){for(var y=this.consumeToken();31===y.type;)y=this.consumeToken();if(32===y.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(y);var S=this.consumeComponentValue();do{y=this.consumeToken()}while(31===y.type);if(32===y.type)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},b.prototype.parseComponentValues=function(){for(var y=[];;){var S=this.consumeComponentValue();if(32===S.type)return y;y.push(S),y.push()}},b.prototype.consumeComponentValue=function(){var y=this.consumeToken();switch(y.type){case 11:case 28:case 2:return this.consumeSimpleBlock(y.type);case 19:return this.consumeFunction(y)}return y},b.prototype.consumeSimpleBlock=function(y){for(var S={type:y,values:[]},E=this.consumeToken();;){if(32===E.type||xa(E,y))return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue()),E=this.consumeToken()}},b.prototype.consumeFunction=function(y){for(var S={name:y.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue())}},b.prototype.consumeToken=function(){var y=this._tokens.shift();return void 0===y?sA:y},b.prototype.reconsumeToken=function(y){this._tokens.unshift(y)},b}(),ps=function(b){return 15===b.type},_d=function(b){return 17===b.type},Ms=function(b){return 20===b.type},tp=function(b){return 0===b.type},Vh=function(b,y){return Ms(b)&&b.value===y},yd=function(b){return 31!==b.type},xc=function(b){return 31!==b.type&&4!==b.type},Ba=function(b){var y=[],S=[];return b.forEach(function(E){if(4===E.type){if(0===S.length)throw new Error("Error parsing function args, zero tokens for arg");return y.push(S),void(S=[])}31!==E.type&&S.push(E)}),S.length&&y.push(S),y},xa=function(b,y){return 11===y&&12===b.type||28===y&&29===b.type||2===y&&3===b.type},cf=function(b){return 17===b.type||15===b.type},Bs=function(b){return 16===b.type||cf(b)},$l=function(b){return b.length>1?[b[0],b[1]]:[b[0]]},jo={type:17,number:0,flags:4},ff={type:16,number:50,flags:4},yu={type:16,number:100,flags:4},Ko=function(b,y,S){var E=b[0],k=b[1];return[w(E,y),w(void 0!==k?k:E,S)]},w=function(b,y){if(16===b.type)return b.number/100*y;if(ps(b))switch(b.unit){case"rem":case"em":return 16*b.number;default:return b.number}return b.number},ot_parse=function(b,y){if(15===y.type)switch(y.unit){case"deg":return Math.PI*y.number/180;case"grad":return Math.PI/200*y.number;case"rad":return y.number;case"turn":return 2*Math.PI*y.number}throw new Error("Unsupported angle type")},ft=function(b){return 15===b.type&&("deg"===b.unit||"grad"===b.unit||"rad"===b.unit||"turn"===b.unit)},yt=function(b){switch(b.filter(Ms).map(function(S){return S.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jo,jo];case"to top":case"bottom":return zt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jo,yu];case"to right":case"left":return zt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yu,yu];case"to bottom":case"top":return zt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yu,jo];case"to left":case"right":return zt(270)}return 0},zt=function(b){return Math.PI*b/180},Xt_parse=function(b,y){if(18===y.type){var S=qi[y.name];if(void 0===S)throw new Error('Attempting to parse an unsupported color function "'+y.name+'"');return S(b,y.values)}if(5===y.type){if(3===y.value.length){var E=y.value.substring(0,1),k=y.value.substring(1,2),W=y.value.substring(2,3);return gr(parseInt(E+E,16),parseInt(k+k,16),parseInt(W+W,16),1)}if(4===y.value.length){E=y.value.substring(0,1),k=y.value.substring(1,2),W=y.value.substring(2,3);var fe=y.value.substring(3,4);return gr(parseInt(E+E,16),parseInt(k+k,16),parseInt(W+W,16),parseInt(fe+fe,16)/255)}if(6===y.value.length)return E=y.value.substring(0,2),k=y.value.substring(2,4),W=y.value.substring(4,6),gr(parseInt(E,16),parseInt(k,16),parseInt(W,16),1);if(8===y.value.length)return E=y.value.substring(0,2),k=y.value.substring(2,4),W=y.value.substring(4,6),fe=y.value.substring(6,8),gr(parseInt(E,16),parseInt(k,16),parseInt(W,16),parseInt(fe,16)/255)}if(20===y.type){var Ee=wr[y.value.toUpperCase()];if(void 0!==Ee)return Ee}return wr.TRANSPARENT},Sn=function(b){return 0==(255&b)},wt=function(b){var y=255&b,S=255&b>>8,E=255&b>>16,k=255&b>>24;return y<255?"rgba("+k+","+E+","+S+","+y/255+")":"rgb("+k+","+E+","+S+")"},gr=function(b,y,S,E){return(b<<24|y<<16|S<<8|Math.round(255*E)<<0)>>>0},_r=function(b,y){if(17===b.type)return b.number;if(16===b.type){var S=3===y?1:255;return 3===y?b.number/100*S:Math.round(b.number/100*S)}return 0},Or=function(b,y){var S=y.filter(xc);if(3===S.length){var E=S.map(_r);return gr(E[0],E[1],E[2],1)}if(4===S.length){var Ee=S.map(_r);return gr(Ee[0],Ee[1],Ee[2],Ee[3])}return 0};function ei(b,y,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(y-b)*S*6+b:S<.5?y:S<2/3?6*(y-b)*(2/3-S)+b:b}var Bi=function(b,y){var S=y.filter(xc),E=S[0],k=S[1],W=S[2],fe=S[3],Ee=(17===E.type?zt(E.number):ot_parse(b,E))/(2*Math.PI),be=Bs(k)?k.number/100:0,Ze=Bs(W)?W.number/100:0,ut=void 0!==fe&&Bs(fe)?w(fe,1):1;if(0===be)return gr(255*Ze,255*Ze,255*Ze,1);var mt=Ze<=.5?Ze*(be+1):Ze+be-Ze*be,Pt=2*Ze-mt,fr=ei(Pt,mt,Ee+1/3),Pn=ei(Pt,mt,Ee),ir=ei(Pt,mt,Ee-1/3);return gr(255*fr,255*Pn,255*ir,ut)},qi={hsl:Bi,hsla:Bi,rgb:Or,rgba:Or},Rn=function(b,y){return Xt_parse(b,Vl.create(y).parseComponentValue())},wr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Zi={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(b,y){return y.map(function(S){if(Ms(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ci={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},es=function(b,y){var S=Xt_parse(b,y[0]),E=y[1];return E&&Bs(E)?{color:S,stop:E}:{color:S,stop:null}},Vi=function(b,y){var S=b[0],E=b[b.length-1];null===S.stop&&(S.stop=jo),null===E.stop&&(E.stop=yu);for(var k=[],W=0,fe=0;fe<b.length;fe++){var Ee=b[fe].stop;if(null!==Ee){var be=w(Ee,y);k.push(be>W?be:W),W=be}else k.push(null)}var Ze=null;for(fe=0;fe<k.length;fe++){var ut=k[fe];if(null===ut)null===Ze&&(Ze=fe);else if(null!==Ze){for(var mt=fe-Ze,fr=(ut-k[Ze-1])/(mt+1),Pn=1;Pn<=mt;Pn++)k[Ze+Pn-1]=fr*Pn;Ze=null}}return b.map(function(ir,Ei){return{color:ir.color,stop:Math.max(Math.min(1,k[Ei]/y),0)}})},fi=function(b,y,S){var E="number"==typeof b?b:function(b,y,S){var E=y/2,k=S/2,W=w(b[0],y)-E,fe=k-w(b[1],S);return(Math.atan2(fe,W)+2*Math.PI)%(2*Math.PI)}(b,y,S),k=Math.abs(y*Math.sin(E))+Math.abs(S*Math.cos(E)),W=y/2,fe=S/2,Ee=k/2,be=Math.sin(E-Math.PI/2)*Ee,Ze=Math.cos(E-Math.PI/2)*Ee;return[k,W-Ze,W+Ze,fe-be,fe+be]},Li=function(b,y){return Math.sqrt(b*b+y*y)},Fo=function(b,y,S,E,k){return[[0,0],[0,y],[b,0],[b,y]].reduce(function(fe,Ee){var ut=Li(S-Ee[0],E-Ee[1]);return(k?ut<fe.optimumDistance:ut>fe.optimumDistance)?{optimumCorner:Ee,optimumDistance:ut}:fe},{optimumDistance:k?1/0:-1/0,optimumCorner:null}).optimumCorner},fo=function(b,y){var S=zt(180),E=[];return Ba(y).forEach(function(k,W){if(0===W){var fe=k[0];if(20===fe.type&&-1!==["top","left","right","bottom"].indexOf(fe.value))return void(S=yt(k));if(ft(fe))return void(S=(ot_parse(b,fe)+zt(270))%zt(360))}var Ee=es(b,k);E.push(Ee)}),{angle:S,stops:E,type:1}},Xs="closest-side",rl="farthest-side",_o="closest-corner",il="farthest-corner",yo="ellipse",sl="contain",ms=function(b,y){var S=0,E=3,k=[],W=[];return Ba(y).forEach(function(fe,Ee){var be=!0;if(0===Ee?be=fe.reduce(function(ut,mt){if(Ms(mt))switch(mt.value){case"center":return W.push(ff),!1;case"top":case"left":return W.push(jo),!1;case"right":case"bottom":return W.push(yu),!1}else if(Bs(mt)||cf(mt))return W.push(mt),!1;return ut},be):1===Ee&&(be=fe.reduce(function(ut,mt){if(Ms(mt))switch(mt.value){case"circle":return S=0,!1;case yo:return S=1,!1;case sl:case Xs:return E=0,!1;case rl:return E=1,!1;case _o:return E=2,!1;case"cover":case il:return E=3,!1}else if(cf(mt)||Bs(mt))return Array.isArray(E)||(E=[]),E.push(mt),!1;return ut},be)),be){var Ze=es(b,fe);k.push(Ze)}}),{size:E,shape:S,stops:k,position:W,type:2}},Vs_parse=function(b,y){if(22===y.type){var S={url:y.value,type:0};return b.cache.addImage(y.value),S}if(18===y.type){var E=ol[y.name];if(void 0===E)throw new Error('Attempting to parse an unsupported image function "'+y.name+'"');return E(b,y.values)}throw new Error("Unsupported image type "+y.type)};for(var ol={"linear-gradient":function(b,y){var S=zt(180),E=[];return Ba(y).forEach(function(k,W){if(0===W){var fe=k[0];if(20===fe.type&&"to"===fe.value)return void(S=yt(k));if(ft(fe))return void(S=ot_parse(b,fe))}var Ee=es(b,k);E.push(Ee)}),{angle:S,stops:E,type:1}},"-moz-linear-gradient":fo,"-ms-linear-gradient":fo,"-o-linear-gradient":fo,"-webkit-linear-gradient":fo,"radial-gradient":function(b,y){var S=0,E=3,k=[],W=[];return Ba(y).forEach(function(fe,Ee){var be=!0;if(0===Ee){var Ze=!1;be=fe.reduce(function(mt,Pt){if(Ze)if(Ms(Pt))switch(Pt.value){case"center":return W.push(ff),mt;case"top":case"left":return W.push(jo),mt;case"right":case"bottom":return W.push(yu),mt}else(Bs(Pt)||cf(Pt))&&W.push(Pt);else if(Ms(Pt))switch(Pt.value){case"circle":return S=0,!1;case yo:return S=1,!1;case"at":return Ze=!0,!1;case Xs:return E=0,!1;case"cover":case rl:return E=1,!1;case sl:case _o:return E=2,!1;case il:return E=3,!1}else if(cf(Pt)||Bs(Pt))return Array.isArray(E)||(E=[]),E.push(Pt),!1;return mt},be)}if(be){var ut=es(b,fe);k.push(ut)}}),{size:E,shape:S,stops:k,position:W,type:2}},"-moz-radial-gradient":ms,"-ms-radial-gradient":ms,"-o-radial-gradient":ms,"-webkit-radial-gradient":ms,"-webkit-gradient":function(b,y){var S=zt(180),E=[],k=1;return Ba(y).forEach(function(be,Ze){var ut=be[0];if(0===Ze){if(Ms(ut)&&"linear"===ut.value)return void(k=1);if(Ms(ut)&&"radial"===ut.value)return void(k=2)}if(18===ut.type)if("from"===ut.name){var mt=Xt_parse(b,ut.values[0]);E.push({stop:jo,color:mt})}else if("to"===ut.name)mt=Xt_parse(b,ut.values[0]),E.push({stop:yu,color:mt});else if("color-stop"===ut.name){var Pt=ut.values.filter(xc);if(2===Pt.length){mt=Xt_parse(b,Pt[1]);var fr=Pt[0];_d(fr)&&E.push({stop:{type:16,number:100*fr.number,flags:fr.flags},color:mt})}}}),1===k?{angle:(S+zt(180))%zt(360),stops:E,type:k}:{size:3,shape:0,stops:E,position:[],type:k}}},hf={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(b,y){if(0===y.length)return[];var S=y[0];return 20===S.type&&"none"===S.value?[]:y.filter(function(E){return xc(E)&&function df(b){return!(20===b.type&&"none"===b.value||18===b.type&&!ol[b.name])}(E)}).map(function(E){return Vs_parse(b,E)})}},Wo={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(b,y){return y.map(function(S){if(Ms(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(b,y){return Ba(y).map(function(S){return S.filter(Bs)}).map($l)}},uA={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(b,y){return Ba(y).map(function(S){return S.filter(Ms).map(function(E){return E.value}).join(" ")}).map(pf)}},pf=function(b){switch(b){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Yo=(()=>{return(b=Yo||(Yo={})).AUTO="auto",b.CONTAIN="contain",b.COVER="cover",Yo;var b})(),I7={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(b,y){return Ba(y).map(function(S){return S.filter(y5)})}},y5=function(b){return Ms(b)||Bs(b)},R2=function(b){return{name:"border-"+b+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wd=R2("top"),N7=R2("right"),w5=R2("bottom"),gi=R2("left"),b5=function(b){return{name:"border-radius-"+b,initialValue:"0 0",prefix:!1,type:1,parse:function(y,S){return $l(S.filter(Bs))}}},LD=b5("top-left"),QD=b5("top-right"),HD=b5("bottom-right"),O7=b5("bottom-left"),k2=function(b){return{name:"border-"+b+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(y,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},VD=k2("top"),dn=k2("right"),is=k2("bottom"),lr=k2("left"),ko=function(b){return{name:"border-"+b+"-width",initialValue:"0",type:0,prefix:!1,parse:function(y,S){return ps(S)?S.number:0}}},R7=ko("top"),sg=ko("right"),gf=ko("bottom"),C5=ko("left"),E5={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(b,y){return"rtl"===y?1:0}},$D={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(b,y){return y.filter(Ms).reduce(function(S,E){return S|P2(E.value)},0)}},P2=function(b){switch(b){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},U2={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(b,y){switch(y){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},El={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(b,y){return 20===y.type&&"normal"===y.value?0:17===y.type||15===y.type?y.number:0}},wu=(()=>{return(b=wu||(wu={})).NORMAL="normal",b.STRICT="strict",wu;var b})(),k7={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,y){return"strict"===y?wu.STRICT:wu.NORMAL}},np={name:"line-height",initialValue:"normal",prefix:!1,type:4},mf=function(b,y){return Ms(b)&&"normal"===b.value?1.2*y:17===b.type?y*b.number:Bs(b)?w(b,y):y},GD={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(b,y){return 20===y.type&&"none"===y.value?null:Vs_parse(b,y)}},P7={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(b,y){return"inside"===y?0:1}},S5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(b,y){switch(y){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},L2=function(b){return{name:"margin-"+b,initialValue:"0",prefix:!1,type:4}},B5=L2("top"),x5=L2("right"),U7=L2("bottom"),D5=L2("left"),zD={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(b,y){return y.filter(Ms).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},L7={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(b,y){return"break-word"===y?"break-word":"normal"}},$h=function(b){return{name:"padding-"+b,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Q7=$h("top"),H7=$h("right"),V7=$h("bottom"),$7=$h("left"),Q2={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(b,y){switch(y){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},qD={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(b,y){switch(y){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},jD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,y){return 1===y.length&&Vh(y[0],"none")?[]:Ba(y).map(function(S){for(var E={color:wr.TRANSPARENT,offsetX:jo,offsetY:jo,blur:jo},k=0,W=0;W<S.length;W++){var fe=S[W];cf(fe)?(0===k?E.offsetX=fe:1===k?E.offsetY=fe:E.blur=fe,k++):E.color=Xt_parse(b,fe)}return E})}},Sl={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(b,y){switch(y){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(b,y){if(20===y.type&&"none"===y.value)return null;if(18===y.type){var S=KD[y.name];if(void 0===S)throw new Error('Attempting to parse an unsupported transform function "'+y.name+'"');return S(y.values)}return null}},KD={matrix:function(b){var y=b.filter(function(S){return 17===S.type}).map(function(S){return S.number});return 6===y.length?y:null},matrix3d:function(b){var y=b.filter(function(be){return 17===be.type}).map(function(be){return be.number});return 16===y.length?[y[0],y[1],y[4],y[5],y[12],y[13]]:null}},z7={type:16,number:50,flags:4},WD=[z7,z7],YD={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(b,y){var S=y.filter(Bs);return 2!==S.length?WD:[S[0],S[1]]}},XD={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(b,y){switch(y){case"hidden":return 1;case"collapse":return 2;default:return 0}}},cA=(()=>{return(b=cA||(cA={})).NORMAL="normal",b.BREAK_ALL="break-all",b.KEEP_ALL="keep-all",cA;var b})(),H2={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,y){switch(y){case"break-all":return cA.BREAK_ALL;case"keep-all":return cA.KEEP_ALL;default:return cA.NORMAL}}},V2={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(b,y){if(20===y.type)return{auto:!0,order:0};if(_d(y))return{auto:!1,order:y.number};throw new Error("Invalid z-index number parsed")}},$2={name:"time",parse:function(b,y){if(15===y.type)switch(y.unit.toLowerCase()){case"s":return 1e3*y.number;case"ms":return y.number}throw new Error("Unsupported time type")}},q7={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(b,y){return _d(y)?y.number:1}},JD={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cd={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(b,y){return y.filter(Ms).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return 0!==S})}},og={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(b,y){var S=[],E=[];return y.forEach(function(k){switch(k.type){case 20:case 0:S.push(k.value);break;case 17:S.push(k.number.toString());break;case 4:E.push(S.join(" ")),S.length=0}}),S.length&&E.push(S.join(" ")),E.map(function(k){return-1===k.indexOf(" ")?k:"'"+k+"'"})}},ZD={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},eF={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(b,y){return _d(y)?y.number:Ms(y)&&"bold"===y.value?700:400}},ag={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(b,y){return y.filter(Ms).map(function(S){return S.value})}},F5={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(b,y){switch(y){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ma=function(b,y){return 0!=(b&y)},tF={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(b,y){if(0===y.length)return[];var S=y[0];return 20===S.type&&"none"===S.value?[]:y}},oq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(b,y){if(0===y.length)return null;var S=y[0];if(20===S.type&&"none"===S.value)return null;for(var E=[],k=y.filter(yd),W=0;W<k.length;W++){var fe=k[W],Ee=k[W+1];if(20===fe.type){var be=Ee&&_d(Ee)?Ee.number:1;E.push({counter:fe.value,increment:be})}}return E}},aq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(b,y){if(0===y.length)return[];for(var S=[],E=y.filter(yd),k=0;k<E.length;k++){var W=E[k],fe=E[k+1];if(Ms(W)&&"none"!==W.value){var Ee=fe&&_d(fe)?fe.number:0;S.push({counter:W.value,reset:Ee})}}return S}},G2={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(b,y){return y.filter(ps).map(function(S){return $2.parse(b,S)})}},j7={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(b,y){if(0===y.length)return null;var S=y[0];if(20===S.type&&"none"===S.value)return null;var E=[],k=y.filter(tp);if(k.length%2!=0)return null;for(var W=0;W<k.length;W+=2)E.push({open:k[W].value,close:k[W+1].value});return E}},z2=function(b,y,S){if(!b)return"";var E=b[Math.min(y,b.length-1)];return E?S?E.open:E.close:""},q2={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,y){return 1===y.length&&Vh(y[0],"none")?[]:Ba(y).map(function(S){for(var E={color:255,offsetX:jo,offsetY:jo,blur:jo,spread:jo,inset:!1},k=0,W=0;W<S.length;W++){var fe=S[W];Vh(fe,"inset")?E.inset=!0:cf(fe)?(0===k?E.offsetX=fe:1===k?E.offsetY=fe:2===k?E.blur=fe:E.spread=fe,k++):E.color=Xt_parse(b,fe)}return E})}},K7={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(b,y){var E=[];return y.filter(Ms).forEach(function(k){switch(k.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(k){-1===E.indexOf(k)&&E.push(k)}),E}},W7={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rp={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(b,y){return ps(y)?y.number:0}},nF=function(){function b(y,S){var E,k;this.animationDuration=ur(y,G2,S.animationDuration),this.backgroundClip=ur(y,Zi,S.backgroundClip),this.backgroundColor=ur(y,Ci,S.backgroundColor),this.backgroundImage=ur(y,hf,S.backgroundImage),this.backgroundOrigin=ur(y,Wo,S.backgroundOrigin),this.backgroundPosition=ur(y,lA,S.backgroundPosition),this.backgroundRepeat=ur(y,uA,S.backgroundRepeat),this.backgroundSize=ur(y,I7,S.backgroundSize),this.borderTopColor=ur(y,wd,S.borderTopColor),this.borderRightColor=ur(y,N7,S.borderRightColor),this.borderBottomColor=ur(y,w5,S.borderBottomColor),this.borderLeftColor=ur(y,gi,S.borderLeftColor),this.borderTopLeftRadius=ur(y,LD,S.borderTopLeftRadius),this.borderTopRightRadius=ur(y,QD,S.borderTopRightRadius),this.borderBottomRightRadius=ur(y,HD,S.borderBottomRightRadius),this.borderBottomLeftRadius=ur(y,O7,S.borderBottomLeftRadius),this.borderTopStyle=ur(y,VD,S.borderTopStyle),this.borderRightStyle=ur(y,dn,S.borderRightStyle),this.borderBottomStyle=ur(y,is,S.borderBottomStyle),this.borderLeftStyle=ur(y,lr,S.borderLeftStyle),this.borderTopWidth=ur(y,R7,S.borderTopWidth),this.borderRightWidth=ur(y,sg,S.borderRightWidth),this.borderBottomWidth=ur(y,gf,S.borderBottomWidth),this.borderLeftWidth=ur(y,C5,S.borderLeftWidth),this.boxShadow=ur(y,q2,S.boxShadow),this.color=ur(y,E5,S.color),this.direction=ur(y,sq,S.direction),this.display=ur(y,$D,S.display),this.float=ur(y,U2,S.cssFloat),this.fontFamily=ur(y,og,S.fontFamily),this.fontSize=ur(y,ZD,S.fontSize),this.fontStyle=ur(y,F5,S.fontStyle),this.fontVariant=ur(y,ag,S.fontVariant),this.fontWeight=ur(y,eF,S.fontWeight),this.letterSpacing=ur(y,El,S.letterSpacing),this.lineBreak=ur(y,k7,S.lineBreak),this.lineHeight=ur(y,np,S.lineHeight),this.listStyleImage=ur(y,GD,S.listStyleImage),this.listStylePosition=ur(y,P7,S.listStylePosition),this.listStyleType=ur(y,S5,S.listStyleType),this.marginTop=ur(y,B5,S.marginTop),this.marginRight=ur(y,x5,S.marginRight),this.marginBottom=ur(y,U7,S.marginBottom),this.marginLeft=ur(y,D5,S.marginLeft),this.opacity=ur(y,q7,S.opacity);var W=ur(y,zD,S.overflow);this.overflowX=W[0],this.overflowY=W[W.length>1?1:0],this.overflowWrap=ur(y,L7,S.overflowWrap),this.paddingTop=ur(y,Q7,S.paddingTop),this.paddingRight=ur(y,H7,S.paddingRight),this.paddingBottom=ur(y,V7,S.paddingBottom),this.paddingLeft=ur(y,$7,S.paddingLeft),this.paintOrder=ur(y,K7,S.paintOrder),this.position=ur(y,qD,S.position),this.textAlign=ur(y,Q2,S.textAlign),this.textDecorationColor=ur(y,JD,null!==(E=S.textDecorationColor)&&void 0!==E?E:S.color),this.textDecorationLine=ur(y,Cd,null!==(k=S.textDecorationLine)&&void 0!==k?k:S.textDecoration),this.textShadow=ur(y,jD,S.textShadow),this.textTransform=ur(y,Sl,S.textTransform),this.transform=ur(y,bd,S.transform),this.transformOrigin=ur(y,YD,S.transformOrigin),this.visibility=ur(y,XD,S.visibility),this.webkitTextStrokeColor=ur(y,W7,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=ur(y,rp,S.webkitTextStrokeWidth),this.wordBreak=ur(y,H2,S.wordBreak),this.zIndex=ur(y,V2,S.zIndex)}return b.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},b.prototype.isTransparent=function(){return Sn(this.backgroundColor)},b.prototype.isTransformed=function(){return null!==this.transform},b.prototype.isPositioned=function(){return 0!==this.position},b.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},b.prototype.isFloating=function(){return 0!==this.float},b.prototype.isInlineLevel=function(){return ma(this.display,4)||ma(this.display,33554432)||ma(this.display,268435456)||ma(this.display,536870912)||ma(this.display,67108864)||ma(this.display,134217728)},b}(),ip=function b(y,S){this.content=ur(y,tF,S.content),this.quotes=ur(y,j7,S.quotes)},j2=function b(y,S){this.counterIncrement=ur(y,oq,S.counterIncrement),this.counterReset=ur(y,aq,S.counterReset)},ur=function(b,y,S){var E=new oA,k=null!=S?S.toString():y.initialValue;E.write(k);var W=new Vl(E.read());switch(y.type){case 2:var fe=W.parseComponentValue();return y.parse(b,Ms(fe)?fe.value:y.initialValue);case 0:return y.parse(b,W.parseComponentValue());case 1:return y.parse(b,W.parseComponentValues());case 4:return W.parseComponentValue();case 3:switch(y.format){case"angle":return ot_parse(b,W.parseComponentValue());case"color":return Xt_parse(b,W.parseComponentValue());case"image":return Vs_parse(b,W.parseComponentValue());case"length":var Ee=W.parseComponentValue();return cf(Ee)?Ee:jo;case"length-percentage":var be=W.parseComponentValue();return Bs(be)?be:jo;case"time":return $2.parse(b,W.parseComponentValue())}}},K2=function(b,y){var S=function(b){switch(b.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(b);return 1===S||y===S},vf=function b(y,S){this.context=y,this.textNodes=[],this.elements=[],this.flags=0,K2(S,3),this.styles=new nF(y,window.getComputedStyle(S,null)),Bd(S)&&(this.styles.animationDuration.some(function(E){return E>0})&&(S.style.animationDuration="0s"),null!==this.styles.transform&&(S.style.transform="none")),this.bounds=xe(this.context,S),K2(S,4)&&(this.flags|=16)},sp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gh="undefined"==typeof Uint8Array?[]:new Uint8Array(256),op=0;op<sp.length;op++)Gh[sp.charCodeAt(op)]=op;for(var qh=function(b,y,S){return b.slice?b.slice(y,S):new Uint16Array(Array.prototype.slice.call(b,y,S))},ty=function(){function b(y,S,E,k,W,fe){this.initialValue=y,this.errorValue=S,this.highStart=E,this.highValueIndex=k,this.index=W,this.data=fe}return b.prototype.get=function(y){var S;if(y>=0){if(y<55296||y>56319&&y<=65535)return this.data[S=((S=this.index[y>>5])<<2)+(31&y)];if(y<=65535)return this.data[S=((S=this.index[2048+(y-55296>>5)])<<2)+(31&y)];if(y<this.highStart)return S=this.index[S=2080+(y>>11)],this.data[S=((S=this.index[S+=y>>5&63])<<2)+(31&y)];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),Z2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp="undefined"==typeof Uint8Array?[]:new Uint8Array(256),T5=0;T5<Z2.length;T5++)fp[Z2.charCodeAt(T5)]=T5;var cF=8,ny=9,Ap=11,fF=12,AF=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],k=-1,W="";++k<S;){var fe=b[k];fe<=65535?E.push(fe):E.push(55296+((fe-=65536)>>10),fe%1024+56320),(k+1===S||E.length>16384)&&(W+=String.fromCharCode.apply(String,E),E.length=0)}return W},Xu=function(b,y){var S=function(b){var E,W,fe,Ee,be,y=.75*b.length,S=b.length,k=0;"="===b[b.length-1]&&(y--,"="===b[b.length-2]&&y--);var Ze="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(y):new Array(y),ut=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(E=0;E<S;E+=4)W=Gh[b.charCodeAt(E)],fe=Gh[b.charCodeAt(E+1)],Ee=Gh[b.charCodeAt(E+2)],be=Gh[b.charCodeAt(E+3)],ut[k++]=W<<2|fe>>4,ut[k++]=(15&fe)<<4|Ee>>2,ut[k++]=(3&Ee)<<6|63&be;return Ze}(b),E=Array.isArray(S)?function(b){for(var y=b.length,S=[],E=0;E<y;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),k=Array.isArray(S)?function(b){for(var y=b.length,S=[],E=0;E<y;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),fe=qh(k,12,E[4]/2),Ee=2===E[5]?qh(k,(24+E[4])/2):function(b,y,S){return b.slice?b.slice(y,S):new Uint32Array(Array.prototype.slice.call(b,y,S))}(E,Math.ceil((24+E[4])/4));return new ty(E[0],E[1],E[2],E[3],fe,Ee)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),nv=function(b){return Xu.get(b)},ug=function(b,y,S){var E=S-2,k=y[E],W=y[S-1],fe=y[S];if(2===W&&3===fe)return"\xd7";if(2===W||3===W||4===W||2===fe||3===fe||4===fe)return"\xf7";if(W===cF&&-1!==[cF,ny,Ap,fF].indexOf(fe)||(W===Ap||W===ny)&&(fe===ny||10===fe)||(W===fF||10===W)&&10===fe||13===fe||5===fe||7===fe||1===W)return"\xd7";if(13===W&&14===fe){for(;5===k;)k=y[--E];if(14===k)return"\xd7"}if(15===W&&15===fe){for(var Ee=0;15===k;)Ee++,k=y[--E];if(Ee%2==0)return"\xd7"}return"\xf7"},iy=function(b){var y=function(b){for(var y=[],S=0,E=b.length;S<E;){var k=b.charCodeAt(S++);if(k>=55296&&k<=56319&&S<E){var W=b.charCodeAt(S++);56320==(64512&W)?y.push(((1023&k)<<10)+(1023&W)+65536):(y.push(k),S--)}else y.push(k)}return y}(b),S=y.length,E=0,k=0,W=y.map(nv);return{next:function(){if(E>=S)return{done:!0,value:null};for(var fe="\xd7";E<S&&"\xd7"===(fe=ug(0,W,++E)););if("\xd7"!==fe||E===S){var Ee=AF.apply(null,y.slice(k,E));return k=E,{value:Ee,done:!1}}return{done:!0,value:null}}}},rv=function(b){return 0===b[0]&&255===b[1]&&0===b[2]&&255===b[3]},oy=function(b,y,S,E,k){var W="http://www.w3.org/2000/svg",fe=document.createElementNS(W,"svg"),Ee=document.createElementNS(W,"foreignObject");return fe.setAttributeNS(null,"width",b.toString()),fe.setAttributeNS(null,"height",y.toString()),Ee.setAttributeNS(null,"width","100%"),Ee.setAttributeNS(null,"height","100%"),Ee.setAttributeNS(null,"x",S.toString()),Ee.setAttributeNS(null,"y",E.toString()),Ee.setAttributeNS(null,"externalResourcesRequired","true"),fe.appendChild(Ee),Ee.appendChild(k),fe},N5=function(b){return new Promise(function(y,S){var E=new Image;E.onload=function(){return y(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},Oa={get SUPPORT_RANGE_BOUNDS(){var b=function(b){if(b.createRange){var S=b.createRange();if(S.getBoundingClientRect){var E=b.createElement("boundtest");E.style.height="123px",E.style.display="block",b.body.appendChild(E),S.selectNode(E);var k=S.getBoundingClientRect(),W=Math.round(k.height);if(b.body.removeChild(E),123===W)return!0}}return!1}(document);return Object.defineProperty(Oa,"SUPPORT_RANGE_BOUNDS",{value:b}),b},get SUPPORT_WORD_BREAKING(){var b=Oa.SUPPORT_RANGE_BOUNDS&&function(b){var y=b.createElement("boundtest");y.style.width="50px",y.style.display="block",y.style.fontSize="12px",y.style.letterSpacing="0px",y.style.wordSpacing="0px",b.body.appendChild(y);var S=b.createRange();y.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=y.firstChild,k=Vn(E.data).map(function(be){return Hn(be)}),W=0,fe={},Ee=k.every(function(be,Ze){S.setStart(E,W),S.setEnd(E,W+be.length);var ut=S.getBoundingClientRect();W+=be.length;var mt=ut.x>fe.x||ut.y>fe.y;return fe=ut,0===Ze||mt});return b.body.removeChild(y),Ee}(document);return Object.defineProperty(Oa,"SUPPORT_WORD_BREAKING",{value:b}),b},get SUPPORT_SVG_DRAWING(){var b=function(b){var y=new Image,S=b.createElement("canvas"),E=S.getContext("2d");if(!E)return!1;y.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(y,0,0),S.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Oa,"SUPPORT_SVG_DRAWING",{value:b}),b},get SUPPORT_FOREIGNOBJECT_DRAWING(){var b="function"==typeof Array.from&&"function"==typeof window.fetch?function(b){var y=b.createElement("canvas"),S=100;y.width=S,y.height=S;var E=y.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,S,S);var k=new Image,W=y.toDataURL();k.src=W;var fe=oy(S,S,0,0,k);return E.fillStyle="red",E.fillRect(0,0,S,S),N5(fe).then(function(Ee){E.drawImage(Ee,0,0);var be=E.getImageData(0,0,S,S).data;E.fillStyle="red",E.fillRect(0,0,S,S);var Ze=b.createElement("div");return Ze.style.backgroundImage="url("+W+")",Ze.style.height=S+"px",rv(be)?N5(oy(S,S,0,0,Ze)):Promise.reject(!1)}).then(function(Ee){return E.drawImage(Ee,0,0),rv(E.getImageData(0,0,S,S).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Oa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:b}),b},get SUPPORT_CORS_IMAGES(){var b=void 0!==(new Image).crossOrigin;return Object.defineProperty(Oa,"SUPPORT_CORS_IMAGES",{value:b}),b},get SUPPORT_RESPONSE_TYPE(){var b="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Oa,"SUPPORT_RESPONSE_TYPE",{value:b}),b},get SUPPORT_CORS_XHR(){var b="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oa,"SUPPORT_CORS_XHR",{value:b}),b},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var b=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Oa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:b}),b}},cg=function b(y,S){this.text=y,this.bounds=S},gF=function(b,y){var S=y.ownerDocument;if(S){var E=S.createElement("html2canvaswrapper");E.appendChild(y.cloneNode(!0));var k=y.parentNode;if(k){k.replaceChild(E,y);var W=xe(b,E);return E.firstChild&&k.replaceChild(E.firstChild,E),W}}return kr.EMPTY},ay=function(b,y,S){var E=b.ownerDocument;if(!E)throw new Error("Node has no owner document");var k=E.createRange();return k.setStart(b,y),k.setEnd(b,y+S),k},iv=function(b){if(Oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var y=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(y.segment(b)).map(function(S){return S.segment})}return function(b){for(var E,y=iy(b),S=[];!(E=y.next()).done;)E.value&&S.push(E.value.slice());return S}(b)},sv=function(b,y){return 0!==y.letterSpacing?iv(b):function(b,y){if(Oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(b)).map(function(E){return E.segment})}return fg(b,y)}(b,y)},dq=[32,160,4961,65792,65793,4153,4241],fg=function(b,y){for(var k,S=function(b,y){var S=Vn(b),E=Ge(S,y),k=E[0],W=E[1],fe=E[2],Ee=S.length,be=0,Ze=0;return{next:function(){if(Ze>=Ee)return{done:!0,value:null};for(var ut=yn;Ze<Ee&&(ut=_e(S,W,k,++Ze,fe))===yn;);if(ut!==yn||Ze===Ee){var mt=new ke(S,ut,be,Ze);return be=Ze,{value:mt,done:!1}}return{done:!0,value:null}}}}(b,{lineBreak:y.lineBreak,wordBreak:"break-word"===y.overflowWrap?"break-word":y.wordBreak}),E=[],W=function(){if(k.value){var fe=k.value.slice(),Ee=Vn(fe),be="";Ee.forEach(function(Ze){-1===dq.indexOf(Ze)?be+=Hn(Ze):(be.length&&E.push(be),E.push(Hn(Ze)),be="")}),be.length&&E.push(be)}};!(k=S.next()).done;)W();return E},R5=function b(y,S,E){this.text=ov(S.data,E.textTransform),this.textBounds=function(b,y,S,E){var k=sv(y,S),W=[],fe=0;return k.forEach(function(Ee){if(S.textDecorationLine.length||Ee.trim().length>0)if(Oa.SUPPORT_RANGE_BOUNDS){var be=ay(E,fe,Ee.length).getClientRects();if(be.length>1){var Ze=iv(Ee),ut=0;Ze.forEach(function(Pt){W.push(new cg(Pt,kr.fromDOMRectList(b,ay(E,ut+fe,Pt.length).getClientRects()))),ut+=Pt.length})}else W.push(new cg(Ee,kr.fromDOMRectList(b,be)))}else{var mt=E.splitText(Ee.length);W.push(new cg(Ee,gF(b,E))),E=mt}else Oa.SUPPORT_RANGE_BOUNDS||(E=E.splitText(Ee.length));fe+=Ee.length}),W}(y,this.text,E,S)},ov=function(b,y){switch(y){case 1:return b.toLowerCase();case 3:return b.replace(mF,vF);case 2:return b.toUpperCase();default:return b}},mF=/(^|\s|:|-|\(|\))([a-z])/g,vF=function(b,y,S){return b.length>0?y+S.toUpperCase():b},ly=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.src=E.currentSrc||E.src,k.intrinsicWidth=E.naturalWidth,k.intrinsicHeight=E.naturalHeight,k.context.cache.addImage(k.src),k}return vr(y,b),y}(vf),k5=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.canvas=E,k.intrinsicWidth=E.width,k.intrinsicHeight=E.height,k}return vr(y,b),y}(vf),uy=function(b){function y(S,E){var k=b.call(this,S,E)||this,W=new XMLSerializer,fe=xe(S,E);return E.setAttribute("width",fe.width+"px"),E.setAttribute("height",fe.height+"px"),k.svg="data:image/svg+xml,"+encodeURIComponent(W.serializeToString(E)),k.intrinsicWidth=E.width.baseVal.value,k.intrinsicHeight=E.height.baseVal.value,k.context.cache.addImage(k.svg),k}return vr(y,b),y}(vf),hp=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.value=E.value,k}return vr(y,b),y}(vf),av=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.start=E.start,k.reversed="boolean"==typeof E.reversed&&!0===E.reversed,k}return vr(y,b),y}(vf),_F=[{type:15,flags:0,unit:"px",number:3}],er=[{type:16,flags:0,number:50}],pp="checkbox",Sd="radio",yF="password",fy=707406591,P5=function(b){function y(S,E){var k=b.call(this,S,E)||this;switch(k.type=E.type.toLowerCase(),k.checked=E.checked,k.value=function(b){var y=b.type===yF?new Array(b.value.length+1).join("\u2022"):b.value;return 0===y.length?b.placeholder||"":y}(E),(k.type===pp||k.type===Sd)&&(k.styles.backgroundColor=3739148031,k.styles.borderTopColor=k.styles.borderRightColor=k.styles.borderBottomColor=k.styles.borderLeftColor=2779096575,k.styles.borderTopWidth=k.styles.borderRightWidth=k.styles.borderBottomWidth=k.styles.borderLeftWidth=1,k.styles.borderTopStyle=k.styles.borderRightStyle=k.styles.borderBottomStyle=k.styles.borderLeftStyle=1,k.styles.backgroundClip=[0],k.styles.backgroundOrigin=[0],k.bounds=function(b){return b.width>b.height?new kr(b.left+(b.width-b.height)/2,b.top,b.height,b.height):b.width<b.height?new kr(b.left,b.top+(b.height-b.width)/2,b.width,b.width):b}(k.bounds)),k.type){case pp:k.styles.borderTopRightRadius=k.styles.borderTopLeftRadius=k.styles.borderBottomRightRadius=k.styles.borderBottomLeftRadius=_F;break;case Sd:k.styles.borderTopRightRadius=k.styles.borderTopLeftRadius=k.styles.borderBottomRightRadius=k.styles.borderBottomLeftRadius=er}return k}return vr(y,b),y}(vf),gp=function(b){function y(S,E){var k=b.call(this,S,E)||this,W=E.options[E.selectedIndex||0];return k.value=W&&W.text||"",k}return vr(y,b),y}(vf),Dc=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.value=E.value,k}return vr(y,b),y}(vf),U5=function(b){function y(S,E){var k=b.call(this,S,E)||this;k.src=E.src,k.width=parseInt(E.width,10)||0,k.height=parseInt(E.height,10)||0,k.backgroundColor=k.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){k.tree=uv(S,E.contentWindow.document.documentElement);var W=E.contentWindow.document.documentElement?Rn(S,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):wr.TRANSPARENT,fe=E.contentWindow.document.body?Rn(S,getComputedStyle(E.contentWindow.document.body).backgroundColor):wr.TRANSPARENT;k.backgroundColor=Sn(W)?Sn(fe)?k.styles.backgroundColor:fe:W}}catch{}return k}return vr(y,b),y}(vf),mp=["OL","UL","MENU"],lv=function(b,y,S,E){for(var k=y.firstChild,W=void 0;k;k=W)if(W=k.nextSibling,dy(k)&&k.data.trim().length>0)S.textNodes.push(new R5(b,k,S.styles));else if(vp(k))if(Ag(k)&&k.assignedNodes)k.assignedNodes().forEach(function(Ee){return lv(b,Ee,S,E)});else{var fe=L5(b,k);fe.styles.isVisible()&&(cv(k,fe,E)?fe.flags|=4:Ay(fe.styles)&&(fe.flags|=2),-1!==mp.indexOf(k.tagName)&&(fe.flags|=8),S.elements.push(fe),k.shadowRoot?lv(b,k.shadowRoot,fe,E):!Av(k)&&!CF(k)&&!H5(k)&&lv(b,k,fe,E))}},L5=function(b,y){return _p(y)?new ly(b,y):py(y)?new k5(b,y):CF(y)?new uy(b,y):wF(y)?new hp(b,y):pq(y)?new av(b,y):hy(y)?new P5(b,y):H5(y)?new gp(b,y):Av(y)?new Dc(b,y):fv(y)?new U5(b,y):new vf(b,y)},uv=function(b,y){var S=L5(b,y);return S.flags|=4,lv(b,y,S,S),S},cv=function(b,y,S){return y.styles.isPositionedWithZIndex()||y.styles.opacity<1||y.styles.isTransformed()||Q5(b)&&S.styles.isTransparent()},Ay=function(b){return b.isPositioned()||b.isFloating()},dy=function(b){return b.nodeType===Node.TEXT_NODE},vp=function(b){return b.nodeType===Node.ELEMENT_NODE},Bd=function(b){return vp(b)&&void 0!==b.style&&!xd(b)},xd=function(b){return"object"==typeof b.className},wF=function(b){return"LI"===b.tagName},pq=function(b){return"OL"===b.tagName},hy=function(b){return"INPUT"===b.tagName},CF=function(b){return"svg"===b.tagName},Q5=function(b){return"BODY"===b.tagName},py=function(b){return"CANVAS"===b.tagName},gy=function(b){return"VIDEO"===b.tagName},_p=function(b){return"IMG"===b.tagName},fv=function(b){return"IFRAME"===b.tagName},Kh=function(b){return"STYLE"===b.tagName},Av=function(b){return"TEXTAREA"===b.tagName},H5=function(b){return"SELECT"===b.tagName},Ag=function(b){return"SLOT"===b.tagName},dv=function(b){return b.tagName.indexOf("-")>0},my=function(){function b(){this.counters={}}return b.prototype.getCounterValue=function(y){var S=this.counters[y];return S&&S.length?S[S.length-1]:1},b.prototype.getCounterValues=function(y){return this.counters[y]||[]},b.prototype.pop=function(y){var S=this;y.forEach(function(E){return S.counters[E].pop()})},b.prototype.parse=function(y){var S=this,E=y.counterIncrement,k=y.counterReset,W=!0;null!==E&&E.forEach(function(Ee){var be=S.counters[Ee.counter];be&&0!==Ee.increment&&(W=!1,be.length||be.push(1),be[Math.max(0,be.length-1)]+=Ee.increment)});var fe=[];return W&&k.forEach(function(Ee){var be=S.counters[Ee.counter];fe.push(Ee.counter),be||(be=S.counters[Ee.counter]=[]),be.push(Ee.reset)}),fe},b}(),V5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},vy={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},SF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},yp=function(b,y,S,E,k,W){return b<y||b>S?dg(b,k,W.length>0):E.integers.reduce(function(fe,Ee,be){for(;b>=Ee;)b-=Ee,fe+=E.values[be];return fe},"")+W},_y=function(b,y,S,E){var k="";do{S||b--,k=E(b)+k,b/=y}while(b*y>=y);return k},Jo=function(b,y,S,E,k){var W=S-y+1;return(b<0?"-":"")+(_y(Math.abs(b),W,E,function(fe){return Hn(Math.floor(fe%W)+y)})+k)},Wh=function(b,y,S){void 0===S&&(S=". ");var E=y.length;return _y(Math.abs(b),E,!1,function(k){return y[Math.floor(k%E)]})+S},Fd=function(b,y,S,E,k,W){if(b<-9999||b>9999)return dg(b,4,k.length>0);var fe=Math.abs(b),Ee=k;if(0===fe)return y[0]+Ee;for(var be=0;fe>0&&be<=4;be++){var Ze=fe%10;0===Ze&&ma(W,1)&&""!==Ee?Ee=y[Ze]+Ee:Ze>1||1===Ze&&0===be||1===Ze&&1===be&&ma(W,2)||1===Ze&&1===be&&ma(W,4)&&b>100||1===Ze&&be>1&&ma(W,8)?Ee=y[Ze]+(be>0?S[be-1]:"")+Ee:1===Ze&&be>0&&(Ee=S[be-1]+Ee),fe=Math.floor(fe/10)}return(b<0?E:"")+Ee},pv="\ub9c8\uc774\ub108\uc2a4",dg=function(b,y,S){var E=S?". ":"",k=S?"\u3001":"",W=S?", ":"",fe=S?" ":"";switch(y){case 0:return"\u2022"+fe;case 1:return"\u25e6"+fe;case 2:return"\u25fe"+fe;case 5:var Ee=Jo(b,48,57,!0,E);return Ee.length<4?"0"+Ee:Ee;case 4:return Wh(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",k);case 6:return yp(b,1,3999,V5,3,E).toLowerCase();case 7:return yp(b,1,3999,V5,3,E);case 8:return Jo(b,945,969,!1,E);case 9:return Jo(b,97,122,!1,E);case 10:return Jo(b,65,90,!1,E);case 11:return Jo(b,1632,1641,!0,E);case 12:case 49:return yp(b,1,9999,$5,3,E);case 35:return yp(b,1,9999,$5,3,E).toLowerCase();case 13:return Jo(b,2534,2543,!0,E);case 14:case 30:return Jo(b,6112,6121,!0,E);case 15:return Wh(b,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",k);case 16:return Wh(b,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",k);case 17:case 48:return Fd(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",k,14);case 47:return Fd(b,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",k,15);case 42:return Fd(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",k,14);case 41:return Fd(b,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",k,15);case 26:return Fd(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",k,0);case 25:return Fd(b,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",k,7);case 31:return Fd(b,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",pv,W,7);case 33:return Fd(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",pv,W,0);case 32:return Fd(b,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",pv,W,7);case 18:return Jo(b,2406,2415,!0,E);case 20:return yp(b,1,19999,SF,3,E);case 21:return Jo(b,2790,2799,!0,E);case 22:return Jo(b,2662,2671,!0,E);case 22:return yp(b,1,10999,vy,3,E);case 23:return Wh(b,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Wh(b,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Jo(b,3302,3311,!0,E);case 28:return Wh(b,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",k);case 29:return Wh(b,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",k);case 34:return Jo(b,3792,3801,!0,E);case 37:return Jo(b,6160,6169,!0,E);case 38:return Jo(b,4160,4169,!0,E);case 39:return Jo(b,2918,2927,!0,E);case 40:return Jo(b,1776,1785,!0,E);case 43:return Jo(b,3046,3055,!0,E);case 44:return Jo(b,3174,3183,!0,E);case 45:return Jo(b,3664,3673,!0,E);case 46:return Jo(b,3872,3881,!0,E);default:return Jo(b,48,57,!0,E)}},yy="data-html2canvas-ignore",wy=function(){function b(y,S,E){if(this.context=y,this.options=E,this.scrolledElements=[],this.referenceElement=S,this.counters=new my,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return b.prototype.toIFrame=function(y,S){var E=this,k=gq(y,S);if(!k.contentWindow)return Promise.reject("Unable to find iframe window");var W=y.defaultView.pageXOffset,fe=y.defaultView.pageYOffset,Ee=k.contentWindow,be=Ee.document,Ze=by(k).then(function(){return ie(E,void 0,void 0,function(){var ut,mt;return M(this,function(Pt){switch(Pt.label){case 0:return this.scrolledElements.forEach(Sy),Ee&&(Ee.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ee.scrollY!==S.top||Ee.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ee.scrollX-S.left,Ee.scrollY-S.top,0,0))),ut=this.options.onclone,void 0===(mt=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:be.fonts&&be.fonts.ready?[4,be.fonts.ready]:[3,2];case 1:Pt.sent(),Pt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gv(be)]:[3,4];case 3:Pt.sent(),Pt.label=4;case 4:return"function"==typeof ut?[2,Promise.resolve().then(function(){return ut(be,mt)}).then(function(){return k})]:[2,k]}})})});return be.open(),be.write(Cy(document.doctype)+"<html></html>"),Ey(this.referenceElement.ownerDocument,W,fe),be.replaceChild(be.adoptNode(this.documentElement),be.documentElement),be.close(),Ze},b.prototype.createElementClone=function(y){if(K2(y,2),py(y))return this.createCanvasClone(y);if(gy(y))return this.createVideoClone(y);if(Kh(y))return this.createStyleClone(y);var S=y.cloneNode(!1);return _p(S)&&(_p(y)&&y.currentSrc&&y.currentSrc!==y.src&&(S.src=y.currentSrc,S.srcset=""),"lazy"===S.loading&&(S.loading="eager")),dv(S)?this.createCustomElementClone(S):S},b.prototype.createCustomElementClone=function(y){var S=document.createElement("html2canvascustomelement");return Yh(y.style,S),S},b.prototype.createStyleClone=function(y){try{var S=y.sheet;if(S&&S.cssRules){var E=[].slice.call(S.cssRules,0).reduce(function(W,fe){return fe&&"string"==typeof fe.cssText?W+fe.cssText:W},""),k=y.cloneNode(!1);return k.textContent=E,k}}catch(W){if(this.context.logger.error("Unable to access cssRules property",W),"SecurityError"!==W.name)throw W}return y.cloneNode(!1)},b.prototype.createCanvasClone=function(y){var S;if(this.options.inlineImages&&y.ownerDocument){var E=y.ownerDocument.createElement("img");try{return E.src=y.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",y)}}var k=y.cloneNode(!1);try{k.width=y.width,k.height=y.height;var W=y.getContext("2d"),fe=k.getContext("2d");if(fe)if(!this.options.allowTaint&&W)fe.putImageData(W.getImageData(0,0,y.width,y.height),0,0);else{var Ee=null!==(S=y.getContext("webgl2"))&&void 0!==S?S:y.getContext("webgl");if(Ee){var be=Ee.getContextAttributes();!1===(null==be?void 0:be.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",y)}fe.drawImage(y,0,0)}return k}catch{this.context.logger.info("Unable to clone canvas as it is tainted",y)}return k},b.prototype.createVideoClone=function(y){var S=y.ownerDocument.createElement("canvas");S.width=y.offsetWidth,S.height=y.offsetHeight;var E=S.getContext("2d");try{return E&&(E.drawImage(y,0,0,S.width,S.height),this.options.allowTaint||E.getImageData(0,0,S.width,S.height)),S}catch{this.context.logger.info("Unable to clone video as it is tainted",y)}var k=y.ownerDocument.createElement("canvas");return k.width=y.offsetWidth,k.height=y.offsetHeight,k},b.prototype.appendChildNode=function(y,S,E){(!vp(S)||!function(b){return"SCRIPT"===b.tagName}(S)&&!S.hasAttribute(yy)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!vp(S)||!Kh(S))&&y.appendChild(this.cloneNode(S,E))},b.prototype.cloneChildNodes=function(y,S,E){for(var k=this,W=y.shadowRoot?y.shadowRoot.firstChild:y.firstChild;W;W=W.nextSibling)if(vp(W)&&Ag(W)&&"function"==typeof W.assignedNodes){var fe=W.assignedNodes();fe.length&&fe.forEach(function(Ee){return k.appendChildNode(S,Ee,E)})}else this.appendChildNode(S,W,E)},b.prototype.cloneNode=function(y,S){if(dy(y))return document.createTextNode(y.data);if(!y.ownerDocument)return y.cloneNode(!1);var E=y.ownerDocument.defaultView;if(E&&vp(y)&&(Bd(y)||xd(y))){var k=this.createElementClone(y);k.style.transitionProperty="none";var W=E.getComputedStyle(y),fe=E.getComputedStyle(y,":before"),Ee=E.getComputedStyle(y,":after");this.referenceElement===y&&Bd(k)&&(this.clonedReferenceElement=k),Q5(k)&&G5(k);var be=this.counters.parse(new j2(this.context,W)),Ze=this.resolvePseudoContent(y,k,fe,wp.BEFORE);dv(y)&&(S=!0),gy(y)||this.cloneChildNodes(y,k,S),Ze&&k.insertBefore(Ze,k.firstChild);var ut=this.resolvePseudoContent(y,k,Ee,wp.AFTER);return ut&&k.appendChild(ut),this.counters.pop(be),(W&&(this.options.copyStyles||xd(y))&&!fv(y)||S)&&Yh(W,k),(0!==y.scrollTop||0!==y.scrollLeft)&&this.scrolledElements.push([k,y.scrollLeft,y.scrollTop]),(Av(y)||H5(y))&&(Av(k)||H5(k))&&(k.value=y.value),k}return y.cloneNode(!1)},b.prototype.resolvePseudoContent=function(y,S,E,k){var W=this;if(E){var fe=E.content,Ee=S.ownerDocument;if(Ee&&fe&&"none"!==fe&&"-moz-alt-content"!==fe&&"none"!==E.display){this.counters.parse(new j2(this.context,E));var be=new ip(this.context,E),Ze=Ee.createElement("html2canvaspseudoelement");Yh(E,Ze),be.content.forEach(function(mt){if(0===mt.type)Ze.appendChild(Ee.createTextNode(mt.value));else if(22===mt.type){var Pt=Ee.createElement("img");Pt.src=mt.value,Pt.style.opacity="1",Ze.appendChild(Pt)}else if(18===mt.type){if("attr"===mt.name){var fr=mt.values.filter(Ms);fr.length&&Ze.appendChild(Ee.createTextNode(y.getAttribute(fr[0].value)||""))}else if("counter"===mt.name){var Pn=mt.values.filter(xc),Ei=Pn[1];if((ir=Pn[0])&&Ms(ir)){var xr=W.counters.getCounterValue(ir.value),br=Ei&&Ms(Ei)?S5.parse(W.context,Ei.value):3;Ze.appendChild(Ee.createTextNode(dg(xr,br,!1)))}}else if("counters"===mt.name){var ir,_s=mt.values.filter(xc),Ii=_s[1];if(Ei=_s[2],(ir=_s[0])&&Ms(ir)){var di=W.counters.getCounterValues(ir.value),Ar=Ei&&Ms(Ei)?S5.parse(W.context,Ei.value):3,ts=Ii&&0===Ii.type?Ii.value:"",ji=di.map(function(zl){return dg(zl,Ar,!1)}).join(ts);Ze.appendChild(Ee.createTextNode(ji))}}}else if(20===mt.type)switch(mt.value){case"open-quote":Ze.appendChild(Ee.createTextNode(z2(be.quotes,W.quoteDepth++,!0)));break;case"close-quote":Ze.appendChild(Ee.createTextNode(z2(be.quotes,--W.quoteDepth,!1)));break;default:Ze.appendChild(Ee.createTextNode(mt.value))}}),Ze.className=By+" "+hg;var ut=k===wp.BEFORE?" "+By:" "+hg;return xd(S)?S.className.baseValue+=ut:S.className+=ut,Ze}}},b.destroy=function(y){return!!y.parentNode&&(y.parentNode.removeChild(y),!0)},b}(),wp=(()=>{return(b=wp||(wp={}))[b.BEFORE=0]="BEFORE",b[b.AFTER=1]="AFTER",wp;var b})(),gq=function(b,y){var S=b.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=y.width.toString(),S.height=y.height.toString(),S.scrolling="no",S.setAttribute(yy,"true"),b.body.appendChild(S),S},FF=function(b){return new Promise(function(y){b.complete?y():b.src?(b.onload=y,b.onerror=y):y()})},gv=function(b){return Promise.all([].slice.call(b.images,0).map(FF))},by=function(b){return new Promise(function(y,S){var E=b.contentWindow;if(!E)return S("No window assigned for iframe");var k=E.document;E.onload=b.onload=function(){E.onload=b.onload=null;var W=setInterval(function(){k.body.childNodes.length>0&&"complete"===k.readyState&&(clearInterval(W),y(b))},50)}})},_f=["all","d","content"],Yh=function(b,y){for(var S=b.length-1;S>=0;S--){var E=b.item(S);-1===_f.indexOf(E)&&y.style.setProperty(E,b.getPropertyValue(E))}return y},Cy=function(b){var y="";return b&&(y+="<!DOCTYPE ",b.name&&(y+=b.name),b.internalSubset&&(y+=b.internalSubset),b.publicId&&(y+='"'+b.publicId+'"'),b.systemId&&(y+='"'+b.systemId+'"'),y+=">"),y},Ey=function(b,y,S){b&&b.defaultView&&(y!==b.defaultView.pageXOffset||S!==b.defaultView.pageYOffset)&&b.defaultView.scrollTo(y,S)},Sy=function(b){var y=b[0],E=b[2];y.scrollLeft=b[1],y.scrollTop=E},By="___html2canvas___pseudoelement_before",hg="___html2canvas___pseudoelement_after",mv='{\n    content: "" !important;\n    display: none !important;\n}',G5=function(b){_q(b,"."+By+":before"+mv+"\n         ."+hg+":after"+mv)},_q=function(b,y){var S=b.ownerDocument;if(S){var E=S.createElement("style");E.textContent=y,b.appendChild(E)}},MF=function(){function b(){}return b.getOrigin=function(y){var S=b._link;return S?(S.href=y,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},b.isSameOrigin=function(y){return b.getOrigin(y)===b._origin},b.setContext=function(y){b._link=y.document.createElement("a"),b._origin=b.getOrigin(y.location.href)},b._origin="about:blank",b}(),xy=function(){function b(y,S){this.context=y,this._options=S,this._cache={}}return b.prototype.addImage=function(y){var S=Promise.resolve();return this.has(y)||(z5(y)||OF(y))&&(this._cache[y]=this.loadImage(y)).catch(function(){}),S},b.prototype.match=function(y){return this._cache[y]},b.prototype.loadImage=function(y){return ie(this,void 0,void 0,function(){var S,E,k,W,fe=this;return M(this,function(Ee){switch(Ee.label){case 0:return S=MF.isSameOrigin(y),E=!vv(y)&&!0===this._options.useCORS&&Oa.SUPPORT_CORS_IMAGES&&!S,k=!vv(y)&&!S&&!z5(y)&&"string"==typeof this._options.proxy&&Oa.SUPPORT_CORS_XHR&&!E,S||!1!==this._options.allowTaint||vv(y)||z5(y)||k||E?(W=y,k?[4,this.proxy(W)]:[3,2]):[2];case 1:W=Ee.sent(),Ee.label=2;case 2:return this.context.logger.debug("Added image "+y.substring(0,256)),[4,new Promise(function(be,Ze){var ut=new Image;ut.onload=function(){return be(ut)},ut.onerror=Ze,(_v(W)||E)&&(ut.crossOrigin="anonymous"),ut.src=W,!0===ut.complete&&setTimeout(function(){return be(ut)},500),fe._options.imageTimeout>0&&setTimeout(function(){return Ze("Timed out ("+fe._options.imageTimeout+"ms) loading image")},fe._options.imageTimeout)})];case 3:return[2,Ee.sent()]}})})},b.prototype.has=function(y){return void 0!==this._cache[y]},b.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},b.prototype.proxy=function(y){var S=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var k=y.substring(0,256);return new Promise(function(W,fe){var Ee=Oa.SUPPORT_RESPONSE_TYPE?"blob":"text",be=new XMLHttpRequest;be.onload=function(){if(200===be.status)if("text"===Ee)W(be.response);else{var mt=new FileReader;mt.addEventListener("load",function(){return W(mt.result)},!1),mt.addEventListener("error",function(Pt){return fe(Pt)},!1),mt.readAsDataURL(be.response)}else fe("Failed to proxy resource "+k+" with status code "+be.status)},be.onerror=fe;var Ze=E.indexOf("?")>-1?"&":"?";if(be.open("GET",""+E+Ze+"url="+encodeURIComponent(y)+"&responseType="+Ee),"text"!==Ee&&be instanceof XMLHttpRequest&&(be.responseType=Ee),S._options.imageTimeout){var ut=S._options.imageTimeout;be.timeout=ut,be.ontimeout=function(){return fe("Timed out ("+ut+"ms) proxying "+k)}}be.send()})},b}(),TF=/^data:image\/svg\+xml/i,IF=/^data:image\/.*;base64,/i,NF=/^data:image\/.*/i,OF=function(b){return Oa.SUPPORT_SVG_DRAWING||!q5(b)},vv=function(b){return NF.test(b)},_v=function(b){return IF.test(b)},z5=function(b){return"blob"===b.substr(0,4)},q5=function(b){return"svg"===b.substr(-3).toLowerCase()||TF.test(b)},cr=function(){function b(y,S){this.type=0,this.x=y,this.y=S}return b.prototype.add=function(y,S){return new b(this.x+y,this.y+S)},b}(),ho=function(b,y,S){return new cr(b.x+(y.x-b.x)*S,b.y+(y.y-b.y)*S)},pg=function(){function b(y,S,E,k){this.type=1,this.start=y,this.startControl=S,this.endControl=E,this.end=k}return b.prototype.subdivide=function(y,S){var E=ho(this.start,this.startControl,y),k=ho(this.startControl,this.endControl,y),W=ho(this.endControl,this.end,y),fe=ho(E,k,y),Ee=ho(k,W,y),be=ho(fe,Ee,y);return S?new b(this.start,E,fe,be):new b(be,Ee,W,this.end)},b.prototype.add=function(y,S){return new b(this.start.add(y,S),this.startControl.add(y,S),this.endControl.add(y,S),this.end.add(y,S))},b.prototype.reverse=function(){return new b(this.end,this.endControl,this.startControl,this.start)},b}(),Zu=function(b){return 1===b.type},bp=function b(y){var S=y.styles,E=y.bounds,k=Ko(S.borderTopLeftRadius,E.width,E.height),W=k[0],fe=k[1],Ee=Ko(S.borderTopRightRadius,E.width,E.height),be=Ee[0],Ze=Ee[1],ut=Ko(S.borderBottomRightRadius,E.width,E.height),mt=ut[0],Pt=ut[1],fr=Ko(S.borderBottomLeftRadius,E.width,E.height),Pn=fr[0],ir=fr[1],Ei=[];Ei.push((W+be)/E.width),Ei.push((Pn+mt)/E.width),Ei.push((fe+ir)/E.height),Ei.push((Ze+Pt)/E.height);var xr=Math.max.apply(Math,Ei);xr>1&&(W/=xr,fe/=xr,be/=xr,Ze/=xr,mt/=xr,Pt/=xr,Pn/=xr,ir/=xr);var br=E.width-be,_s=E.height-Pt,Ii=E.width-mt,di=E.height-ir,Ar=S.borderTopWidth,ts=S.borderRightWidth,ji=S.borderBottomWidth,hi=S.borderLeftWidth,Uo=w(S.paddingTop,y.bounds.width),zl=w(S.paddingRight,y.bounds.width),Eu=w(S.paddingBottom,y.bounds.width),Ls=w(S.paddingLeft,y.bounds.width);this.topLeftBorderDoubleOuterBox=W>0||fe>0?wo(E.left+hi/3,E.top+Ar/3,W-hi/3,fe-Ar/3,vs.TOP_LEFT):new cr(E.left+hi/3,E.top+Ar/3),this.topRightBorderDoubleOuterBox=W>0||fe>0?wo(E.left+br,E.top+Ar/3,be-ts/3,Ze-Ar/3,vs.TOP_RIGHT):new cr(E.left+E.width-ts/3,E.top+Ar/3),this.bottomRightBorderDoubleOuterBox=mt>0||Pt>0?wo(E.left+Ii,E.top+_s,mt-ts/3,Pt-ji/3,vs.BOTTOM_RIGHT):new cr(E.left+E.width-ts/3,E.top+E.height-ji/3),this.bottomLeftBorderDoubleOuterBox=Pn>0||ir>0?wo(E.left+hi/3,E.top+di,Pn-hi/3,ir-ji/3,vs.BOTTOM_LEFT):new cr(E.left+hi/3,E.top+E.height-ji/3),this.topLeftBorderDoubleInnerBox=W>0||fe>0?wo(E.left+2*hi/3,E.top+2*Ar/3,W-2*hi/3,fe-2*Ar/3,vs.TOP_LEFT):new cr(E.left+2*hi/3,E.top+2*Ar/3),this.topRightBorderDoubleInnerBox=W>0||fe>0?wo(E.left+br,E.top+2*Ar/3,be-2*ts/3,Ze-2*Ar/3,vs.TOP_RIGHT):new cr(E.left+E.width-2*ts/3,E.top+2*Ar/3),this.bottomRightBorderDoubleInnerBox=mt>0||Pt>0?wo(E.left+Ii,E.top+_s,mt-2*ts/3,Pt-2*ji/3,vs.BOTTOM_RIGHT):new cr(E.left+E.width-2*ts/3,E.top+E.height-2*ji/3),this.bottomLeftBorderDoubleInnerBox=Pn>0||ir>0?wo(E.left+2*hi/3,E.top+di,Pn-2*hi/3,ir-2*ji/3,vs.BOTTOM_LEFT):new cr(E.left+2*hi/3,E.top+E.height-2*ji/3),this.topLeftBorderStroke=W>0||fe>0?wo(E.left+hi/2,E.top+Ar/2,W-hi/2,fe-Ar/2,vs.TOP_LEFT):new cr(E.left+hi/2,E.top+Ar/2),this.topRightBorderStroke=W>0||fe>0?wo(E.left+br,E.top+Ar/2,be-ts/2,Ze-Ar/2,vs.TOP_RIGHT):new cr(E.left+E.width-ts/2,E.top+Ar/2),this.bottomRightBorderStroke=mt>0||Pt>0?wo(E.left+Ii,E.top+_s,mt-ts/2,Pt-ji/2,vs.BOTTOM_RIGHT):new cr(E.left+E.width-ts/2,E.top+E.height-ji/2),this.bottomLeftBorderStroke=Pn>0||ir>0?wo(E.left+hi/2,E.top+di,Pn-hi/2,ir-ji/2,vs.BOTTOM_LEFT):new cr(E.left+hi/2,E.top+E.height-ji/2),this.topLeftBorderBox=W>0||fe>0?wo(E.left,E.top,W,fe,vs.TOP_LEFT):new cr(E.left,E.top),this.topRightBorderBox=be>0||Ze>0?wo(E.left+br,E.top,be,Ze,vs.TOP_RIGHT):new cr(E.left+E.width,E.top),this.bottomRightBorderBox=mt>0||Pt>0?wo(E.left+Ii,E.top+_s,mt,Pt,vs.BOTTOM_RIGHT):new cr(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=Pn>0||ir>0?wo(E.left,E.top+di,Pn,ir,vs.BOTTOM_LEFT):new cr(E.left,E.top+E.height),this.topLeftPaddingBox=W>0||fe>0?wo(E.left+hi,E.top+Ar,Math.max(0,W-hi),Math.max(0,fe-Ar),vs.TOP_LEFT):new cr(E.left+hi,E.top+Ar),this.topRightPaddingBox=be>0||Ze>0?wo(E.left+Math.min(br,E.width-ts),E.top+Ar,br>E.width+ts?0:Math.max(0,be-ts),Math.max(0,Ze-Ar),vs.TOP_RIGHT):new cr(E.left+E.width-ts,E.top+Ar),this.bottomRightPaddingBox=mt>0||Pt>0?wo(E.left+Math.min(Ii,E.width-hi),E.top+Math.min(_s,E.height-ji),Math.max(0,mt-ts),Math.max(0,Pt-ji),vs.BOTTOM_RIGHT):new cr(E.left+E.width-ts,E.top+E.height-ji),this.bottomLeftPaddingBox=Pn>0||ir>0?wo(E.left+hi,E.top+Math.min(di,E.height-ji),Math.max(0,Pn-hi),Math.max(0,ir-ji),vs.BOTTOM_LEFT):new cr(E.left+hi,E.top+E.height-ji),this.topLeftContentBox=W>0||fe>0?wo(E.left+hi+Ls,E.top+Ar+Uo,Math.max(0,W-(hi+Ls)),Math.max(0,fe-(Ar+Uo)),vs.TOP_LEFT):new cr(E.left+hi+Ls,E.top+Ar+Uo),this.topRightContentBox=be>0||Ze>0?wo(E.left+Math.min(br,E.width+hi+Ls),E.top+Ar+Uo,br>E.width+hi+Ls?0:be-hi+Ls,Ze-(Ar+Uo),vs.TOP_RIGHT):new cr(E.left+E.width-(ts+zl),E.top+Ar+Uo),this.bottomRightContentBox=mt>0||Pt>0?wo(E.left+Math.min(Ii,E.width-(hi+Ls)),E.top+Math.min(_s,E.height+Ar+Uo),Math.max(0,mt-(ts+zl)),Pt-(ji+Eu),vs.BOTTOM_RIGHT):new cr(E.left+E.width-(ts+zl),E.top+E.height-(ji+Eu)),this.bottomLeftContentBox=Pn>0||ir>0?wo(E.left+hi+Ls,E.top+di,Math.max(0,Pn-(hi+Ls)),ir-(ji+Eu),vs.BOTTOM_LEFT):new cr(E.left+hi+Ls,E.top+E.height-(ji+Eu))},vs=(()=>{return(b=vs||(vs={}))[b.TOP_LEFT=0]="TOP_LEFT",b[b.TOP_RIGHT=1]="TOP_RIGHT",b[b.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",b[b.BOTTOM_LEFT=3]="BOTTOM_LEFT",vs;var b})(),wo=function(b,y,S,E,k){var W=(Math.sqrt(2)-1)/3*4,fe=S*W,Ee=E*W,be=b+S,Ze=y+E;switch(k){case vs.TOP_LEFT:return new pg(new cr(b,Ze),new cr(b,Ze-Ee),new cr(be-fe,y),new cr(be,y));case vs.TOP_RIGHT:return new pg(new cr(b,y),new cr(b+fe,y),new cr(be,Ze-Ee),new cr(be,Ze));case vs.BOTTOM_RIGHT:return new pg(new cr(be,y),new cr(be,y+Ee),new cr(b+fe,Ze),new cr(b,Ze));default:return new pg(new cr(be,Ze),new cr(be-fe,Ze),new cr(b,y+Ee),new cr(b,y))}},yv=function(b){return[b.topLeftBorderBox,b.topRightBorderBox,b.bottomRightBorderBox,b.bottomLeftBorderBox]},wv=function(b){return[b.topLeftPaddingBox,b.topRightPaddingBox,b.bottomRightPaddingBox,b.bottomLeftPaddingBox]},kF=function b(y,S,E){this.offsetX=y,this.offsetY=S,this.matrix=E,this.type=0,this.target=6},j5=function b(y,S){this.path=y,this.target=S,this.type=1},yq=function b(y){this.opacity=y,this.type=2,this.target=6},al=function(b){return 1===b.type},W5=function(b,y){return b.length===y.length&&b.some(function(S,E){return S===y[E]})},Ra=function b(y){this.element=y,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Cp=function(){function b(y,S){if(this.container=y,this.parent=S,this.effects=[],this.curves=new bp(this.container),this.container.styles.opacity<1&&this.effects.push(new yq(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new kF(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var fe=yv(this.curves),Ee=wv(this.curves);W5(fe,Ee)?this.effects.push(new j5(fe,6)):(this.effects.push(new j5(fe,2)),this.effects.push(new j5(Ee,4)))}}return b.prototype.getEffects=function(y){for(var S=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,k=this.effects.slice(0);E;){var W=E.effects.filter(function(be){return!al(be)});if(S||0!==E.container.styles.position||!E.parent){if(k.unshift.apply(k,W),S=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var fe=yv(E.curves),Ee=wv(E.curves);W5(fe,Ee)||k.unshift(new j5(Ee,6))}}else k.unshift.apply(k,W);E=E.parent}return k.filter(function(be){return ma(be.target,y)})},b}(),mg=function(b,y,S,E){b.container.elements.forEach(function(k){var W=ma(k.flags,4),fe=ma(k.flags,2),Ee=new Cp(k,b);ma(k.styles.display,2048)&&E.push(Ee);var be=ma(k.flags,8)?[]:E;if(W||fe){var Ze=W||k.styles.isPositioned()?S:y,ut=new Ra(Ee);if(k.styles.isPositioned()||k.styles.opacity<1||k.styles.isTransformed()){var mt=k.styles.zIndex.order;if(mt<0){var Pt=0;Ze.negativeZIndex.some(function(Pn,ir){return mt>Pn.element.container.styles.zIndex.order?(Pt=ir,!1):Pt>0}),Ze.negativeZIndex.splice(Pt,0,ut)}else if(mt>0){var fr=0;Ze.positiveZIndex.some(function(Pn,ir){return mt>=Pn.element.container.styles.zIndex.order?(fr=ir+1,!1):fr>0}),Ze.positiveZIndex.splice(fr,0,ut)}else Ze.zeroOrAutoZIndexOrTransformedOrOpacity.push(ut)}else k.styles.isFloating()?Ze.nonPositionedFloats.push(ut):Ze.nonPositionedInlineLevel.push(ut);mg(Ee,ut,W?ut:S,be)}else k.styles.isInlineLevel()?y.inlineLevel.push(Ee):y.nonInlineLevel.push(Ee),mg(Ee,y,S,be);ma(k.flags,8)&&Fy(k,be)})},Fy=function(b,y){for(var S=b instanceof av?b.start:1,E=b instanceof av&&b.reversed,k=0;k<y.length;k++){var W=y[k];W.container instanceof hp&&"number"==typeof W.container.value&&0!==W.container.value&&(S=W.container.value),W.listValue=dg(S,W.container.styles.listStyleType,!0),S+=E?-1:1}},Y5=function(b,y){switch(y){case 0:return ec(b.topLeftBorderBox,b.topLeftPaddingBox,b.topRightBorderBox,b.topRightPaddingBox);case 1:return ec(b.topRightBorderBox,b.topRightPaddingBox,b.bottomRightBorderBox,b.bottomRightPaddingBox);case 2:return ec(b.bottomRightBorderBox,b.bottomRightPaddingBox,b.bottomLeftBorderBox,b.bottomLeftPaddingBox);default:return ec(b.bottomLeftBorderBox,b.bottomLeftPaddingBox,b.topLeftBorderBox,b.topLeftPaddingBox)}},vg=function(b,y){var S=[];return Zu(b)?S.push(b.subdivide(.5,!1)):S.push(b),Zu(y)?S.push(y.subdivide(.5,!0)):S.push(y),S},ec=function(b,y,S,E){var k=[];return Zu(b)?k.push(b.subdivide(.5,!1)):k.push(b),Zu(S)?k.push(S.subdivide(.5,!0)):k.push(S),Zu(E)?k.push(E.subdivide(.5,!0).reverse()):k.push(E),Zu(y)?k.push(y.subdivide(.5,!1).reverse()):k.push(y),k},Ty=function(b){var S=b.styles;return b.bounds.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},Ep=function(b){var y=b.styles,S=b.bounds,E=w(y.paddingLeft,S.width),k=w(y.paddingRight,S.width),W=w(y.paddingTop,S.width),fe=w(y.paddingBottom,S.width);return S.add(E+y.borderLeftWidth,W+y.borderTopWidth,-(y.borderRightWidth+y.borderLeftWidth+E+k),-(y.borderTopWidth+y.borderBottomWidth+W+fe))},_g=function(b,y,S){var E=function(b,y){return 0===b?y.bounds:2===b?Ep(y):Ty(y)}(xp(b.styles.backgroundOrigin,y),b),k=function(b,y){return 0===b?y.bounds:2===b?Ep(y):Ty(y)}(xp(b.styles.backgroundClip,y),b),W=Bp(xp(b.styles.backgroundSize,y),S,E),fe=W[0],Ee=W[1],be=Ko(xp(b.styles.backgroundPosition,y),E.width-fe,E.height-Ee);return[VF(xp(b.styles.backgroundRepeat,y),be,W,E,k),Math.round(E.left+be[0]),Math.round(E.top+be[1]),fe,Ee]},Sp=function(b){return Ms(b)&&b.value===Yo.AUTO},bv=function(b){return"number"==typeof b},Bp=function(b,y,S){var E=y[0],k=y[1],W=y[2],fe=b[0],Ee=b[1];if(!fe)return[0,0];if(Bs(fe)&&Ee&&Bs(Ee))return[w(fe,S.width),w(Ee,S.height)];var be=bv(W);if(Ms(fe)&&(fe.value===Yo.CONTAIN||fe.value===Yo.COVER))return bv(W)?S.width/S.height<W!=(fe.value===Yo.COVER)?[S.width,S.width/W]:[S.height*W,S.height]:[S.width,S.height];var ut=bv(E),mt=bv(k),Pt=ut||mt;if(Sp(fe)&&(!Ee||Sp(Ee)))return ut&&mt?[E,k]:be||Pt?Pt&&be?[ut?E:k*W,mt?k:E/W]:[ut?E:S.width,mt?k:S.height]:[S.width,S.height];if(be){var xr=0,br=0;return Bs(fe)?xr=w(fe,S.width):Bs(Ee)&&(br=w(Ee,S.height)),Sp(fe)?xr=br*W:(!Ee||Sp(Ee))&&(br=xr/W),[xr,br]}var _s=null,Ii=null;if(Bs(fe)?_s=w(fe,S.width):Ee&&Bs(Ee)&&(Ii=w(Ee,S.height)),null!==_s&&(!Ee||Sp(Ee))&&(Ii=ut&&mt?_s/E*k:S.height),null!==Ii&&Sp(fe)&&(_s=ut&&mt?Ii/k*E:S.width),null!==_s&&null!==Ii)return[_s,Ii];throw new Error("Unable to calculate background-size for element")},xp=function(b,y){var S=b[y];return void 0===S?b[0]:S},VF=function(b,y,S,E,k){var W=y[0],fe=y[1],Ee=S[0],be=S[1];switch(b){case 2:return[new cr(Math.round(E.left),Math.round(E.top+fe)),new cr(Math.round(E.left+E.width),Math.round(E.top+fe)),new cr(Math.round(E.left+E.width),Math.round(be+E.top+fe)),new cr(Math.round(E.left),Math.round(be+E.top+fe))];case 3:return[new cr(Math.round(E.left+W),Math.round(E.top)),new cr(Math.round(E.left+W+Ee),Math.round(E.top)),new cr(Math.round(E.left+W+Ee),Math.round(E.height+E.top)),new cr(Math.round(E.left+W),Math.round(E.height+E.top))];case 1:return[new cr(Math.round(E.left+W),Math.round(E.top+fe)),new cr(Math.round(E.left+W+Ee),Math.round(E.top+fe)),new cr(Math.round(E.left+W+Ee),Math.round(E.top+fe+be)),new cr(Math.round(E.left+W),Math.round(E.top+fe+be))];default:return[new cr(Math.round(k.left),Math.round(k.top)),new cr(Math.round(k.left+k.width),Math.round(k.top)),new cr(Math.round(k.left+k.width),Math.round(k.height+k.top)),new cr(Math.round(k.left),Math.round(k.height+k.top))]}},Iy="Hidden Text",GF=function(){function b(y){this._data={},this._document=y}return b.prototype.parseMetrics=function(y,S){var E=this._document.createElement("div"),k=this._document.createElement("img"),W=this._document.createElement("span"),fe=this._document.body;E.style.visibility="hidden",E.style.fontFamily=y,E.style.fontSize=S,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",fe.appendChild(E),k.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",k.width=1,k.height=1,k.style.margin="0",k.style.padding="0",k.style.verticalAlign="baseline",W.style.fontFamily=y,W.style.fontSize=S,W.style.margin="0",W.style.padding="0",W.appendChild(this._document.createTextNode(Iy)),E.appendChild(W),E.appendChild(k);var Ee=k.offsetTop-W.offsetTop+2;E.removeChild(W),E.appendChild(this._document.createTextNode(Iy)),E.style.lineHeight="normal",k.style.verticalAlign="super";var be=k.offsetTop-E.offsetTop+2;return fe.removeChild(E),{baseline:Ee,middle:be}},b.prototype.getMetrics=function(y,S){var E=y+" "+S;return void 0===this._data[E]&&(this._data[E]=this.parseMetrics(y,S)),this._data[E]},b}(),X5=function b(y,S){this.context=y,this.options=S},qF=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k._activeEffects=[],k.canvas=E.canvas?E.canvas:document.createElement("canvas"),k.ctx=k.canvas.getContext("2d"),E.canvas||(k.canvas.width=Math.floor(E.width*E.scale),k.canvas.height=Math.floor(E.height*E.scale),k.canvas.style.width=E.width+"px",k.canvas.style.height=E.height+"px"),k.fontMetrics=new GF(document),k.ctx.scale(k.options.scale,k.options.scale),k.ctx.translate(-E.x,-E.y),k.ctx.textBaseline="bottom",k._activeEffects=[],k.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),k}return vr(y,b),y.prototype.applyEffects=function(S){for(var E=this;this._activeEffects.length;)this.popEffect();S.forEach(function(k){return E.applyEffect(k)})},y.prototype.applyEffect=function(S){this.ctx.save(),function(b){return 2===b.type}(S)&&(this.ctx.globalAlpha=S.opacity),function(b){return 0===b.type}(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),al(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},y.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},y.prototype.renderStack=function(S){return ie(this,void 0,void 0,function(){return M(this,function(k){switch(k.label){case 0:return S.element.container.styles.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})},y.prototype.renderNode=function(S){return ie(this,void 0,void 0,function(){return M(this,function(E){switch(E.label){case 0:return ma(S.container.flags,16),S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(S)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},y.prototype.renderTextWithLetterSpacing=function(S,E,k){var W=this;0===E?this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+k):iv(S.text).reduce(function(Ee,be){return W.ctx.fillText(be,Ee,S.bounds.top+k),Ee+W.ctx.measureText(be).width},S.bounds.left)},y.prototype.createFontStyle=function(S){var E=S.fontVariant.filter(function(fe){return"normal"===fe||"small-caps"===fe}).join(""),k=J5(S.fontFamily).join(", "),W=ps(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,E,S.fontWeight,W,k].join(" "),k,W]},y.prototype.renderTextNode=function(S,E){return ie(this,void 0,void 0,function(){var k,fe,Ee,be,Ze,ut,mt,Pt=this;return M(this,function(fr){return k=this.createFontStyle(E),fe=k[1],Ee=k[2],this.ctx.font=k[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",be=this.fontMetrics.getMetrics(fe,Ee),Ze=be.baseline,ut=be.middle,mt=E.paintOrder,S.textBounds.forEach(function(Pn){mt.forEach(function(ir){switch(ir){case 0:Pt.ctx.fillStyle=wt(E.color),Pt.renderTextWithLetterSpacing(Pn,E.letterSpacing,Ze);var Ei=E.textShadow;Ei.length&&Pn.text.trim().length&&(Ei.slice(0).reverse().forEach(function(xr){Pt.ctx.shadowColor=wt(xr.color),Pt.ctx.shadowOffsetX=xr.offsetX.number*Pt.options.scale,Pt.ctx.shadowOffsetY=xr.offsetY.number*Pt.options.scale,Pt.ctx.shadowBlur=xr.blur.number,Pt.renderTextWithLetterSpacing(Pn,E.letterSpacing,Ze)}),Pt.ctx.shadowColor="",Pt.ctx.shadowOffsetX=0,Pt.ctx.shadowOffsetY=0,Pt.ctx.shadowBlur=0),E.textDecorationLine.length&&(Pt.ctx.fillStyle=wt(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(xr){switch(xr){case 1:Pt.ctx.fillRect(Pn.bounds.left,Math.round(Pn.bounds.top+Ze),Pn.bounds.width,1);break;case 2:Pt.ctx.fillRect(Pn.bounds.left,Math.round(Pn.bounds.top),Pn.bounds.width,1);break;case 3:Pt.ctx.fillRect(Pn.bounds.left,Math.ceil(Pn.bounds.top+ut),Pn.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&Pn.text.trim().length&&(Pt.ctx.strokeStyle=wt(E.webkitTextStrokeColor),Pt.ctx.lineWidth=E.webkitTextStrokeWidth,Pt.ctx.lineJoin=window.chrome?"miter":"round",Pt.ctx.strokeText(Pn.text,Pn.bounds.left,Pn.bounds.top+Ze)),Pt.ctx.strokeStyle="",Pt.ctx.lineWidth=0,Pt.ctx.lineJoin="miter"}})}),[2]})})},y.prototype.renderReplacedElement=function(S,E,k){if(k&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var W=Ep(S),fe=wv(E);this.path(fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(k,0,0,S.intrinsicWidth,S.intrinsicHeight,W.left,W.top,W.width,W.height),this.ctx.restore()}},y.prototype.renderNodeContent=function(S){return ie(this,void 0,void 0,function(){var E,k,W,fe,Ee,ut,mt,Pt,Pn,ir,Ei,xr,br,_s,Ii,di;return M(this,function(Ar){switch(Ar.label){case 0:this.applyEffects(S.getEffects(4)),k=S.curves,W=(E=S.container).styles,fe=0,Ee=E.textNodes,Ar.label=1;case 1:return fe<Ee.length?[4,this.renderTextNode(Ee[fe],W)]:[3,4];case 2:Ar.sent(),Ar.label=3;case 3:return fe++,[3,1];case 4:if(!(E instanceof ly))return[3,8];Ar.label=5;case 5:return Ar.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return br=Ar.sent(),this.renderReplacedElement(E,k,br),[3,8];case 7:return Ar.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof k5&&this.renderReplacedElement(E,k,E.canvas),!(E instanceof uy))return[3,12];Ar.label=9;case 9:return Ar.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return br=Ar.sent(),this.renderReplacedElement(E,k,br),[3,12];case 11:return Ar.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof U5&&E.tree?[4,new y(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:ut=Ar.sent(),E.width&&E.height&&this.ctx.drawImage(ut,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Ar.label=14;case 14:if(E instanceof P5&&(mt=Math.min(E.bounds.width,E.bounds.height),E.type===pp?E.checked&&(this.ctx.save(),this.path([new cr(E.bounds.left+.39363*mt,E.bounds.top+.79*mt),new cr(E.bounds.left+.16*mt,E.bounds.top+.5549*mt),new cr(E.bounds.left+.27347*mt,E.bounds.top+.44071*mt),new cr(E.bounds.left+.39694*mt,E.bounds.top+.5649*mt),new cr(E.bounds.left+.72983*mt,E.bounds.top+.23*mt),new cr(E.bounds.left+.84*mt,E.bounds.top+.34085*mt),new cr(E.bounds.left+.39363*mt,E.bounds.top+.79*mt)]),this.ctx.fillStyle=wt(fy),this.ctx.fill(),this.ctx.restore()):E.type===Sd&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+mt/2,E.bounds.top+mt/2,mt/4,0,2*Math.PI,!0),this.ctx.fillStyle=wt(fy),this.ctx.fill(),this.ctx.restore())),jF(E)&&E.value.length){switch(Pt=this.createFontStyle(W),Pn=this.fontMetrics.getMetrics(Ii=Pt[0],Pt[1]).baseline,this.ctx.font=Ii,this.ctx.fillStyle=wt(W.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ny(E.styles.textAlign),di=Ep(E),ir=0,E.styles.textAlign){case 1:ir+=di.width/2;break;case 2:ir+=di.width}Ei=di.add(ir,0,0,-di.height/2+1),this.ctx.save(),this.path([new cr(di.left,di.top),new cr(di.left+di.width,di.top),new cr(di.left+di.width,di.top+di.height),new cr(di.left,di.top+di.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new cg(E.value,Ei),W.letterSpacing,Pn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ma(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(xr=E.styles.listStyleImage).type)return[3,18];br=void 0,_s=xr.url,Ar.label=15;case 15:return Ar.trys.push([15,17,,18]),[4,this.context.cache.match(_s)];case 16:return br=Ar.sent(),this.ctx.drawImage(br,E.bounds.left-(br.width+10),E.bounds.top),[3,18];case 17:return Ar.sent(),this.context.logger.error("Error loading list-style-image "+_s),[3,18];case 18:return[3,20];case 19:S.listValue&&-1!==E.styles.listStyleType&&(Ii=this.createFontStyle(W)[0],this.ctx.font=Ii,this.ctx.fillStyle=wt(W.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",di=new kr(E.bounds.left,E.bounds.top+w(E.styles.paddingTop,E.bounds.width),E.bounds.width,mf(W.lineHeight,W.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new cg(S.listValue,di),W.letterSpacing,mf(W.lineHeight,W.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Ar.label=20;case 20:return[2]}})})},y.prototype.renderStackContent=function(S){return ie(this,void 0,void 0,function(){var E,k,W,fe,Ee,be,Ze,ut,mt,Pt,fr,Pn,ir,Ei;return M(this,function(br){switch(br.label){case 0:return ma(S.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:br.sent(),E=0,k=S.negativeZIndex,br.label=2;case 2:return E<k.length?[4,this.renderStack(k[E])]:[3,5];case 3:br.sent(),br.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:br.sent(),W=0,fe=S.nonInlineLevel,br.label=7;case 7:return W<fe.length?[4,this.renderNode(fe[W])]:[3,10];case 8:br.sent(),br.label=9;case 9:return W++,[3,7];case 10:Ee=0,be=S.nonPositionedFloats,br.label=11;case 11:return Ee<be.length?[4,this.renderStack(be[Ee])]:[3,14];case 12:br.sent(),br.label=13;case 13:return Ee++,[3,11];case 14:Ze=0,ut=S.nonPositionedInlineLevel,br.label=15;case 15:return Ze<ut.length?[4,this.renderStack(ut[Ze])]:[3,18];case 16:br.sent(),br.label=17;case 17:return Ze++,[3,15];case 18:mt=0,Pt=S.inlineLevel,br.label=19;case 19:return mt<Pt.length?[4,this.renderNode(Pt[mt])]:[3,22];case 20:br.sent(),br.label=21;case 21:return mt++,[3,19];case 22:fr=0,Pn=S.zeroOrAutoZIndexOrTransformedOrOpacity,br.label=23;case 23:return fr<Pn.length?[4,this.renderStack(Pn[fr])]:[3,26];case 24:br.sent(),br.label=25;case 25:return fr++,[3,23];case 26:ir=0,Ei=S.positiveZIndex,br.label=27;case 27:return ir<Ei.length?[4,this.renderStack(Ei[ir])]:[3,30];case 28:br.sent(),br.label=29;case 29:return ir++,[3,27];case 30:return[2]}})})},y.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},y.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},y.prototype.formatPath=function(S){var E=this;S.forEach(function(k,W){var fe=Zu(k)?k.start:k;0===W?E.ctx.moveTo(fe.x,fe.y):E.ctx.lineTo(fe.x,fe.y),Zu(k)&&E.ctx.bezierCurveTo(k.startControl.x,k.startControl.y,k.endControl.x,k.endControl.y,k.end.x,k.end.y)})},y.prototype.renderRepeat=function(S,E,k,W){this.path(S),this.ctx.fillStyle=E,this.ctx.translate(k,W),this.ctx.fill(),this.ctx.translate(-k,-W)},y.prototype.resizeImage=function(S,E,k){var W;if(S.width===E&&S.height===k)return S;var Ee=(null!==(W=this.canvas.ownerDocument)&&void 0!==W?W:document).createElement("canvas");return Ee.width=Math.max(1,E),Ee.height=Math.max(1,k),Ee.getContext("2d").drawImage(S,0,0,S.width,S.height,0,0,E,k),Ee},y.prototype.renderBackgroundImage=function(S){return ie(this,void 0,void 0,function(){var E,k,W,fe,Ee;return M(this,function(Ze){switch(Ze.label){case 0:E=S.styles.backgroundImage.length-1,k=function(ut){var mt,Pt,fr,Pn,ir,Ei,xr,br,_s,Ii,di,Ar,ts,ji,hi,Uo,zl,Eu,Ls,Da,ql,Bl,xl,Xh,Su,Md,Td,Id,wf,fA,bf;return M(this,function(AA){switch(AA.label){case 0:if(0!==ut.type)return[3,5];mt=void 0,Pt=ut.url,AA.label=1;case 1:return AA.trys.push([1,3,,4]),[4,W.context.cache.match(Pt)];case 2:return mt=AA.sent(),[3,4];case 3:return AA.sent(),W.context.logger.error("Error loading background-image "+Pt),[3,4];case 4:return mt&&(fr=_g(S,E,[mt.width,mt.height,mt.width/mt.height]),Uo=fr[0],Bl=fr[1],xl=fr[2],ji=W.ctx.createPattern(W.resizeImage(mt,Ls=fr[3],Da=fr[4]),"repeat"),W.renderRepeat(Uo,ji,Bl,xl)),[3,6];case 5:!function(b){return 1===b.type}(ut)?function(b){return 2===b.type}(ut)&&(hi=_g(S,E,[null,null,null]),Uo=hi[0],zl=hi[1],Eu=hi[2],Da=hi[4],Bl=w((ql=0===ut.position.length?[ff]:ut.position)[0],Ls=hi[3]),xl=w(ql[ql.length-1],Da),Xh=function(b,y,S,E,k){var W=0,fe=0;switch(b.size){case 0:0===b.shape?W=fe=Math.min(Math.abs(y),Math.abs(y-E),Math.abs(S),Math.abs(S-k)):1===b.shape&&(W=Math.min(Math.abs(y),Math.abs(y-E)),fe=Math.min(Math.abs(S),Math.abs(S-k)));break;case 2:if(0===b.shape)W=fe=Math.min(Li(y,S),Li(y,S-k),Li(y-E,S),Li(y-E,S-k));else if(1===b.shape){var Ee=Math.min(Math.abs(S),Math.abs(S-k))/Math.min(Math.abs(y),Math.abs(y-E)),be=Fo(E,k,y,S,!0);fe=Ee*(W=Li(be[0]-y,(be[1]-S)/Ee))}break;case 1:0===b.shape?W=fe=Math.max(Math.abs(y),Math.abs(y-E),Math.abs(S),Math.abs(S-k)):1===b.shape&&(W=Math.max(Math.abs(y),Math.abs(y-E)),fe=Math.max(Math.abs(S),Math.abs(S-k)));break;case 3:if(0===b.shape)W=fe=Math.max(Li(y,S),Li(y,S-k),Li(y-E,S),Li(y-E,S-k));else if(1===b.shape){Ee=Math.max(Math.abs(S),Math.abs(S-k))/Math.max(Math.abs(y),Math.abs(y-E));var mt=Fo(E,k,y,S,!1);fe=Ee*(W=Li(mt[0]-y,(mt[1]-S)/Ee))}}return Array.isArray(b.size)&&(W=w(b.size[0],E),fe=2===b.size.length?w(b.size[1],k):W),[W,fe]}(ut,Bl,xl,Ls,Da),Md=Xh[1],(Su=Xh[0])>0&&Md>0&&(Td=W.ctx.createRadialGradient(zl+Bl,Eu+xl,0,zl+Bl,Eu+xl,Su),Vi(ut.stops,2*Su).forEach(function(Nd){return Td.addColorStop(Nd.stop,wt(Nd.color))}),W.path(Uo),W.ctx.fillStyle=Td,Su!==Md?(Id=S.bounds.left+.5*S.bounds.width,wf=S.bounds.top+.5*S.bounds.height,bf=1/(fA=Md/Su),W.ctx.save(),W.ctx.translate(Id,wf),W.ctx.transform(1,0,0,fA,0,0),W.ctx.translate(-Id,-wf),W.ctx.fillRect(zl,bf*(Eu-wf)+wf,Ls,Da*bf),W.ctx.restore()):W.ctx.fill())):(Pn=_g(S,E,[null,null,null]),Uo=Pn[0],Bl=Pn[1],xl=Pn[2],ir=fi(ut.angle,Ls=Pn[3],Da=Pn[4]),Ei=ir[0],xr=ir[1],br=ir[2],_s=ir[3],Ii=ir[4],(di=document.createElement("canvas")).width=Ls,di.height=Da,Ar=di.getContext("2d"),ts=Ar.createLinearGradient(xr,_s,br,Ii),Vi(ut.stops,Ei).forEach(function(Nd){return ts.addColorStop(Nd.stop,wt(Nd.color))}),Ar.fillStyle=ts,Ar.fillRect(0,0,Ls,Da),Ls>0&&Da>0&&(ji=W.ctx.createPattern(di,"repeat"),W.renderRepeat(Uo,ji,Bl,xl))),AA.label=6;case 6:return E--,[2]}})},W=this,fe=0,Ee=S.styles.backgroundImage.slice(0).reverse(),Ze.label=1;case 1:return fe<Ee.length?[5,k(Ee[fe])]:[3,4];case 2:Ze.sent(),Ze.label=3;case 3:return fe++,[3,1];case 4:return[2]}})})},y.prototype.renderSolidBorder=function(S,E,k){return ie(this,void 0,void 0,function(){return M(this,function(W){return this.path(Y5(k,E)),this.ctx.fillStyle=wt(S),this.ctx.fill(),[2]})})},y.prototype.renderDoubleBorder=function(S,E,k,W){return ie(this,void 0,void 0,function(){var fe,Ee;return M(this,function(be){switch(be.label){case 0:return E<3?[4,this.renderSolidBorder(S,k,W)]:[3,2];case 1:return be.sent(),[2];case 2:return fe=function(b,y){switch(y){case 0:return ec(b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox,b.topRightBorderBox,b.topRightBorderDoubleOuterBox);case 1:return ec(b.topRightBorderBox,b.topRightBorderDoubleOuterBox,b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox);case 2:return ec(b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox,b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox);default:return ec(b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox,b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox)}}(W,k),this.path(fe),this.ctx.fillStyle=wt(S),this.ctx.fill(),Ee=function(b,y){switch(y){case 0:return ec(b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox,b.topRightBorderDoubleInnerBox,b.topRightPaddingBox);case 1:return ec(b.topRightBorderDoubleInnerBox,b.topRightPaddingBox,b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox);case 2:return ec(b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox,b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox);default:return ec(b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox,b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox)}}(W,k),this.path(Ee),this.ctx.fill(),[2]}})})},y.prototype.renderNodeBackgroundAndBorders=function(S){return ie(this,void 0,void 0,function(){var E,k,W,fe,Ee,be,Ze,ut,mt=this;return M(this,function(Pt){switch(Pt.label){case 0:return this.applyEffects(S.getEffects(2)),k=!Sn((E=S.container.styles).backgroundColor)||E.backgroundImage.length,W=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],fe=KF(xp(E.backgroundClip,0),S.curves),k||E.boxShadow.length?(this.ctx.save(),this.path(fe),this.ctx.clip(),Sn(E.backgroundColor)||(this.ctx.fillStyle=wt(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:Pt.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(fr){mt.ctx.save();var Pn=yv(S.curves),ir=fr.inset?0:1e4,Ei=function(b,y,S,E,k){return b.map(function(W,fe){switch(fe){case 0:return W.add(y,S);case 1:return W.add(y+E,S);case 2:return W.add(y+E,S+k);case 3:return W.add(y,S+k)}return W})}(Pn,(fr.inset?1:-1)*fr.spread.number-ir,(fr.inset?1:-1)*fr.spread.number,fr.spread.number*(fr.inset?-2:2),fr.spread.number*(fr.inset?-2:2));fr.inset?(mt.path(Pn),mt.ctx.clip(),mt.mask(Ei)):(mt.mask(Pn),mt.ctx.clip(),mt.path(Ei)),mt.ctx.shadowOffsetX=fr.offsetX.number+ir,mt.ctx.shadowOffsetY=fr.offsetY.number,mt.ctx.shadowColor=wt(fr.color),mt.ctx.shadowBlur=fr.blur.number,mt.ctx.fillStyle=fr.inset?wt(fr.color):"rgba(0,0,0,1)",mt.ctx.fill(),mt.ctx.restore()}),Pt.label=2;case 2:Ee=0,be=0,Ze=W,Pt.label=3;case 3:return be<Ze.length?0!==(ut=Ze[be]).style&&!Sn(ut.color)&&ut.width>0?2!==ut.style?[3,5]:[4,this.renderDashedDottedBorder(ut.color,ut.width,Ee,S.curves,2)]:[3,11]:[3,13];case 4:return Pt.sent(),[3,11];case 5:return 3!==ut.style?[3,7]:[4,this.renderDashedDottedBorder(ut.color,ut.width,Ee,S.curves,3)];case 6:return Pt.sent(),[3,11];case 7:return 4!==ut.style?[3,9]:[4,this.renderDoubleBorder(ut.color,ut.width,Ee,S.curves)];case 8:return Pt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ut.color,Ee,S.curves)];case 10:Pt.sent(),Pt.label=11;case 11:Ee++,Pt.label=12;case 12:return be++,[3,3];case 13:return[2]}})})},y.prototype.renderDashedDottedBorder=function(S,E,k,W,fe){return ie(this,void 0,void 0,function(){var Ee,be,Ze,ut,mt,Pt,fr,Pn,ir,Ei,xr,br,_s,Ii,di,Ar;return M(this,function(ts){return this.ctx.save(),Ee=function(b,y){switch(y){case 0:return vg(b.topLeftBorderStroke,b.topRightBorderStroke);case 1:return vg(b.topRightBorderStroke,b.bottomRightBorderStroke);case 2:return vg(b.bottomRightBorderStroke,b.bottomLeftBorderStroke);default:return vg(b.bottomLeftBorderStroke,b.topLeftBorderStroke)}}(W,k),be=Y5(W,k),2===fe&&(this.path(be),this.ctx.clip()),Zu(be[0])?(Ze=be[0].start.x,ut=be[0].start.y):(Ze=be[0].x,ut=be[0].y),Zu(be[1])?(mt=be[1].end.x,Pt=be[1].end.y):(mt=be[1].x,Pt=be[1].y),fr=0===k||2===k?Math.abs(Ze-mt):Math.abs(ut-Pt),this.ctx.beginPath(),this.formatPath(3===fe?Ee:be.slice(0,2)),Pn=E<3?3*E:2*E,ir=E<3?2*E:E,3===fe&&(Pn=E,ir=E),Ei=!0,fr<=2*Pn?Ei=!1:fr<=2*Pn+ir?(Pn*=xr=fr/(2*Pn+ir),ir*=xr):(br=Math.floor((fr+ir)/(Pn+ir)),_s=(fr-br*Pn)/(br-1),ir=(Ii=(fr-(br+1)*Pn)/br)<=0||Math.abs(ir-_s)<Math.abs(ir-Ii)?_s:Ii),Ei&&this.ctx.setLineDash(3===fe?[0,Pn+ir]:[Pn,ir]),3===fe?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=wt(S),this.ctx.stroke(),this.ctx.setLineDash([]),2===fe&&(Zu(be[0])&&(di=be[3],Ar=be[0],this.ctx.beginPath(),this.formatPath([new cr(di.end.x,di.end.y),new cr(Ar.start.x,Ar.start.y)]),this.ctx.stroke()),Zu(be[1])&&(di=be[1],Ar=be[2],this.ctx.beginPath(),this.formatPath([new cr(di.end.x,di.end.y),new cr(Ar.start.x,Ar.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},y.prototype.render=function(S){return ie(this,void 0,void 0,function(){var E;return M(this,function(k){switch(k.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=wt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(b){var y=new Cp(b,null),S=new Ra(y),E=[];return mg(y,S,S,E),Fy(y.container,E),S}(S),[4,this.renderStack(E)];case 1:return k.sent(),this.applyEffects([]),[2,this.canvas]}})})},y}(X5),jF=function(b){return b instanceof Dc||b instanceof gp||b instanceof P5&&b.type!==Sd&&b.type!==pp},KF=function(b,y){switch(b){case 0:return yv(y);case 2:return function(b){return[b.topLeftContentBox,b.topRightContentBox,b.bottomRightContentBox,b.bottomLeftContentBox]}(y);default:return wv(y)}},Ny=function(b){switch(b){case 1:return"center";case 2:return"right";default:return"left"}},WF=["-apple-system","system-ui"],J5=function(b){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?b.filter(function(y){return-1===WF.indexOf(y)}):b},YF=function(b){function y(S,E){var k=b.call(this,S,E)||this;return k.canvas=E.canvas?E.canvas:document.createElement("canvas"),k.ctx=k.canvas.getContext("2d"),k.options=E,k.canvas.width=Math.floor(E.width*E.scale),k.canvas.height=Math.floor(E.height*E.scale),k.canvas.style.width=E.width+"px",k.canvas.style.height=E.height+"px",k.ctx.scale(k.options.scale,k.options.scale),k.ctx.translate(-E.x,-E.y),k.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),k}return vr(y,b),y.prototype.render=function(S){return ie(this,void 0,void 0,function(){var E,k;return M(this,function(W){switch(W.label){case 0:return E=oy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,Dp(E)];case 1:return k=W.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=wt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(k,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},y}(X5),Dp=function(b){return new Promise(function(y,S){var E=new Image;E.onload=function(){y(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},yf=function(){function b(y){var E=y.enabled;this.id=y.id,this.enabled=E,this.start=Date.now()}return b.prototype.debug=function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,Dr([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},b.prototype.getTime=function(){return Date.now()-this.start},b.prototype.info=function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,Dr([this.id,this.getTime()+"ms"],y))},b.prototype.warn=function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,Dr([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},b.prototype.error=function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,Dr([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},b.instances={},b}(),wq=function(){function b(y,S){var E;this.windowBounds=S,this.instanceName="#"+b.instanceCount++,this.logger=new yf({id:this.instanceName,enabled:y.logging}),this.cache=null!==(E=y.cache)&&void 0!==E?E:new xy(this,y)}return b.instanceCount=1,b}();"undefined"!=typeof window&&MF.setContext(window);var Oy=function(b,y){return ie(void 0,void 0,void 0,function(){var S,E,k,W,fe,Ee,be,Ze,ut,mt,Pt,fr,Pn,ir,Ei,xr,br,_s,Ii,di,Ar,ji,hi,Uo,zl,Eu,Ls,Da,ql,Bl,xl,Xh,Su,Md,Td,Id,wf,fA;return M(this,function(bf){switch(bf.label){case 0:if(!b||"object"!=typeof b)return[2,Promise.reject("Invalid element provided as first argument")];if(!(S=b.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=S.defaultView))throw new Error("Document is not attached to a Window");return k={allowTaint:null!==(ji=y.allowTaint)&&void 0!==ji&&ji,imageTimeout:null!==(hi=y.imageTimeout)&&void 0!==hi?hi:15e3,proxy:y.proxy,useCORS:null!==(Uo=y.useCORS)&&void 0!==Uo&&Uo},W=Hs({logging:null===(zl=y.logging)||void 0===zl||zl,cache:y.cache},k),fe={windowWidth:null!==(Eu=y.windowWidth)&&void 0!==Eu?Eu:E.innerWidth,windowHeight:null!==(Ls=y.windowHeight)&&void 0!==Ls?Ls:E.innerHeight,scrollX:null!==(Da=y.scrollX)&&void 0!==Da?Da:E.pageXOffset,scrollY:null!==(ql=y.scrollY)&&void 0!==ql?ql:E.pageYOffset},Ee=new kr(fe.scrollX,fe.scrollY,fe.windowWidth,fe.windowHeight),be=new wq(W,Ee),Ze=null!==(Bl=y.foreignObjectRendering)&&void 0!==Bl&&Bl,ut={allowTaint:null!==(xl=y.allowTaint)&&void 0!==xl&&xl,onclone:y.onclone,ignoreElements:y.ignoreElements,inlineImages:Ze,copyStyles:Ze},be.logger.debug("Starting document clone with size "+Ee.width+"x"+Ee.height+" scrolled to "+-Ee.left+","+-Ee.top),mt=new wy(be,b,ut),(Pt=mt.clonedReferenceElement)?[4,mt.toIFrame(S,Ee)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return fr=bf.sent(),Pn=Q5(Pt)||function(b){return"HTML"===b.tagName}(Pt)?function(b){var y=b.body,S=b.documentElement;if(!y||!S)throw new Error("Unable to get document size");var E=Math.max(Math.max(y.scrollWidth,S.scrollWidth),Math.max(y.offsetWidth,S.offsetWidth),Math.max(y.clientWidth,S.clientWidth)),k=Math.max(Math.max(y.scrollHeight,S.scrollHeight),Math.max(y.offsetHeight,S.offsetHeight),Math.max(y.clientHeight,S.clientHeight));return new kr(0,0,E,k)}(Pt.ownerDocument):xe(be,Pt),ir=Pn.width,Ei=Pn.height,xr=Pn.left,br=Pn.top,_s=Cq(be,Pt,y.backgroundColor),Ii={canvas:y.canvas,backgroundColor:_s,scale:null!==(Su=null!==(Xh=y.scale)&&void 0!==Xh?Xh:E.devicePixelRatio)&&void 0!==Su?Su:1,x:(null!==(Md=y.x)&&void 0!==Md?Md:0)+xr,y:(null!==(Td=y.y)&&void 0!==Td?Td:0)+br,width:null!==(Id=y.width)&&void 0!==Id?Id:Math.ceil(ir),height:null!==(wf=y.height)&&void 0!==wf?wf:Math.ceil(Ei)},Ze?(be.logger.debug("Document cloned, using foreign object rendering"),[4,new YF(be,Ii).render(Pt)]):[3,3];case 2:return di=bf.sent(),[3,5];case 3:return be.logger.debug("Document cloned, element located at "+xr+","+br+" with size "+ir+"x"+Ei+" using computed rendering"),be.logger.debug("Starting DOM parsing"),Ar=uv(be,Pt),_s===Ar.styles.backgroundColor&&(Ar.styles.backgroundColor=wr.TRANSPARENT),be.logger.debug("Starting renderer for element at "+Ii.x+","+Ii.y+" with size "+Ii.width+"x"+Ii.height),[4,new qF(be,Ii).render(Ar)];case 4:di=bf.sent(),bf.label=5;case 5:return(null===(fA=y.removeContainer)||void 0===fA||fA)&&(wy.destroy(fr)||be.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),be.logger.debug("Finished rendering"),[2,di]}})})},Cq=function(b,y,S){var E=y.ownerDocument,k=E.documentElement?Rn(b,getComputedStyle(E.documentElement).backgroundColor):wr.TRANSPARENT,W=E.body?Rn(b,getComputedStyle(E.body).backgroundColor):wr.TRANSPARENT,fe="string"==typeof S?Rn(b,S):null===S?wr.TRANSPARENT:4294967295;return y===E.documentElement?Sn(k)?Sn(W)?fe:W:k:fe};return function(b,y){return void 0===y&&(y={}),Oy(b,y)}}()},512:(Ya,Hl,vr)=>{var Hs=vr(270);vr(374),function(){"use strict";var ie=Hs.getCore(),M=ie.PARSER,Dr=ie.groups.N,kr=ie.groups.P,xe=ie.groups.S,Tt=ie.groups.EX,Vn=ie.groups.FN,Hn=ie.groups.PL,Pr=ie.groups.CP,Nt=ie.groups.CB,ve=ie.Utils.keys,_t=ie.Utils.even,Xn=ie.Utils.variables,Lt=ie.Utils.format,mn=ie.Utils.round,rn=ie.Frac,vn=ie.Utils.isInt,ze=ie.Symbol,Kt=ie.Settings.CONST_HASH,Wn=ie.Utils.importFunctions();function Cn(F,O,P){if(ie.Utils.isSymbol(F))this.parse(F),this.variable=this.variable||O;else if(isNaN(F))"string"==typeof F&&this.parse(M.parse(F));else{if(P=P||0,void 0===O)throw new ie.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[P]=F,this.fill(F)}}function Gr(){this.factors={},this.length=0}function Mn(F,O,P){this.terms=O||[],this.coeff=F,this.map=P,this.sum=new ie.Frac(0),this.image=void 0}Cn.fromArray=function(F,O){if(void 0===O)throw new ie.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var P=new Cn;return P.coeffs=F,P.variable=O,P},Cn.fit=function(F,O,P,q,re,ce){var ye=new Array(re+1),Te=P-O;ye[0]=O,ye[re]=F,Te-=F*Math.pow(q,re);for(var Me=re-1;Me>0;Me--){var Pe=Math.pow(q,Me),Ke=Te/Pe,St=Math.sign(Ke)*Math.floor(Math.abs(Ke));Te-=St*Pe,ye[Me]=St}if(0!==Te)return null;for(Me=0;Me<ye.length;Me++)ye[Me]=new rn(ye[Me]);return Cn.fromArray(ye,ce)},Cn.prototype={parse:function(F,O){if(this.variable=Xn(F)[0],!F.isPoly())throw ie.exceptions.NerdamerTypeError("Polynomial Expected! Received "+ie.Utils.text(F));if(O=O||[],F.power.absEquals(1)||(F=M.expand(F)),F.group===ie.groups.N)O[0]=F.multiplier;else if(F.group===ie.groups.S)O[F.power.toDecimal()]=F.multiplier;else for(var P in F.symbols){var q=F.symbols[P],re=q.power;if(ie.Utils.isSymbol(re))throw new ie.exceptions.NerdamerTypeError("power cannot be a Symbol");re=q.group===Dr?0:re.toDecimal(),q.symbols?this.parse(q,O):O[re]=q.multiplier}this.coeffs=O,this.fill()},fill:function(F){F=Number(F)||0;for(var O=this.coeffs.length,P=0;P<O;P++)void 0===this.coeffs[P]&&(this.coeffs[P]=new rn(F));return this},trim:function(){for(var F=this.coeffs.length;F--;){var O=this.coeffs[F],P=O.equals(0);if(!O||!P)break;if(0===F)break;this.coeffs.pop()}return this},modP:function(F){for(var O=this.coeffs.length,P=0;P<O;P++){var q=this.coeffs[P];if(q<0){for(var re,ce=P;ce<O;ce++)if(this.coeffs[ce]>0){re=this.coeffs[ce];break}if(re){for(;ce>P;ce--)this.coeffs[ce]=this.coeffs[ce].subtract(new rn(1)),this.coeffs[ce-1]=this.coeffs[ce-1].add(new rn(F));q=this.coeffs[P]}}var ye=q.mod(F),Te=q.subtract(ye).divide(F);if(!Te.equals(0)){var Me=P+1,Pe=this.coeffs[Me]||new rn(0);Pe=Pe.add(Te),this.coeffs[Me]=new rn(Pe),this.coeffs[P]=new rn(ye)}}return this},add:function(F){for(var O=Math.max(this.coeffs.length,F.coeffs.length),P=0;P<O;P++){var q=this.coeffs[P]||new rn(0),re=F.coeffs[P]||new rn(0);this.coeffs[P]=q.add(re)}return this},subtract:function(F){for(var O=Math.max(this.coeffs.length,F.coeffs.length),P=0;P<O;P++){var q=this.coeffs[P]||new rn(0),re=F.coeffs[P]||new rn(0);this.coeffs[P]=q.subtract(re)}return this},divide:function(F){for(var O=this.variable,P=ie.Utils.arrayClone(this.coeffs),q=ie.Utils.arrayClone(F.coeffs),re=P.length,ce=q.length-1,ye=[],Te=0;Te<re;Te++){var Me=re-(Te+1),Pe=Me-ce,Ke=P[Me].divide(q[ce]);if(Pe<0)break;ye[Pe]=Ke;for(var Bt=0;Bt<=ce;Bt++)P[Bt+Pe]=P[Bt+Pe].subtract(q[Bt].multiply(Ke))}var St=Cn.fromArray(P,O||"x").trim();return[Cn.fromArray(ye,O||"x"),St]},multiply:function(F){for(var O=this.coeffs.length,P=F.coeffs.length,q=[],re=0;re<O;re++)for(var ce=this.coeffs[re],ye=0;ye<P;ye++){var Te=re+ye,Me=F.coeffs[ye],Pe=q[Te]||new rn(0);q[Te]=Pe.add(ce.multiply(Me))}return this.coeffs=q,this},isZero:function(){for(var F=this.coeffs.length,O=0;O<F;O++)if(!this.coeffs[O].equals(0))return!1;return!0},sub:function(F){for(var O=new rn(0),P=this.coeffs.length,q=0;q<P;q++){var re=this.coeffs[q];re.equals(0)||(O=O.add(re.multiply(new rn(Math.pow(F,q)))))}return O},clone:function(){var F=new Cn;return F.coeffs=this.coeffs,F.variable=this.variable,F},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var F=this.lc(),O=this.coeffs.length,P=0;P<O;P++)this.coeffs[P]=this.coeffs[P].divide(F);return this},gcd:function(F){if(this.coeffs.length-1<F.coeffs.length-1)return F.gcd(this);for(var re=this;!F.isZero();){var ce=F.clone();F=(re=re.clone()).divide(ce)[1],re=ce}var ye=ie.Math2.QGCD.apply(null,re.coeffs);if(!ye.equals(1))for(var Te=re.coeffs.length,Me=0;Me<Te;Me++)re.coeffs[Me]=re.coeffs[Me].divide(ye);return re},diff:function(){for(var F=[],O=this.coeffs.length,P=1;P<O;P++)F.push(this.coeffs[P].multiply(new rn(P)));return this.coeffs=F,this},integrate:function(){for(var F=[0],O=this.coeffs.length,P=0;P<O;P++){var q=new rn(P+1);F[q]=this.coeffs[P].divide(q)}return this.coeffs=F,this},gcf:function(F){for(var P=[],q=0;q<this.coeffs.length;q++){var re=this.coeffs[q];!re.equals(0)&&-1===P.indexOf(re)&&P.push(re)}var ce=[ie.Math2.QGCD.apply(void 0,P),function(Te){for(var Me=0;Me<Te.length;Me++)if(!Te[Me].equals(0))return Me}(this.coeffs)].toDecimal();if(F){var ye=[];ye[ce[1]-1]=ce[0],ce=Cn.fromArray(ye,this.variable).fill()}return ce},quad:function(F){var O=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(0===this.coeffs.length)throw new Error("Polynomial array has no terms");var P=this.coeffs[2]||0,q=this.coeffs[1]||0,ce=q*q-4*P*this.coeffs[0];return ce<0&&!F||(O[0]=(-q+Math.sqrt(ce))/(2*P),O[1]=(-q-Math.sqrt(ce))/(2*P)),O},squareFree:function(){for(var F=this.clone(),O=1,P=F.clone().diff(),q=F.clone().gcd(P),re=F.divide(q)[0],ce=Cn.fromArray([new rn(1)],F.variable);!q.equalsNumber(1);){var ye=re.gcd(q),Te=re.divide(ye)[0];if(!Te.equalsNumber(1)&&O>1){for(var Me=Te.clone(),Pe=1;Pe<O;Pe++)Me.multiply(Te.clone());Te=Me}ce=ce.multiply(Te),O++,re=ye,q=q.divide(ye)[0]}return[ce,re,O]},toSymbol:function(){var F=this.coeffs.length,O=this.variable;if(0===F)return new ie.Symbol(0);for(var P=F-1,q="",re=0;re<F;re++){var ce=re===P?"":"+",ye=this.coeffs[re];ye.equals(0)||(q+=ye+"*"+O+"^"+re+ce)}return M.parse(q)},equalsNumber:function(F){return this.trim(),1===this.coeffs.length&&this.coeffs[0].toDecimal()===String(F)},toString:function(){return this.toSymbol().toString()}},ze.prototype.coeffs=function(F,O){O&&!this.isPoly(!0)&&M.error("Polynomial expected when requesting coefficients with order"),F=F||[];var P=this.clone().distributeMultiplier();if(P.isComposite())for(var q in P.symbols){var re=P.symbols[q];re.isComposite()?re.clone().distributeMultiplier().coeffs(F,O):O?F[re.isConstant()?0:re.power.toDecimal()]=re.multiplier:F.push(re.multiplier)}else if(O)F[P.isConstant(!0)?0:P.power.toDecimal()]=P.multiplier;else if(P.group===Nt&&P.isImaginary()){var ce=new ze(P.multiplier);P.each(function(Te){(Te.isConstant(!0)||Te.imaginary)&&(ce=M.multiply(ce,Te))}),F.push(ce)}else F.push(P.multiplier);if(O)for(var ye=0;ye<F.length;ye++)void 0===F[ye]&&(F[ye]=new ze(0));return F},ze.prototype.tBase=function(F){if(void 0===F)throw new Error("Symbol.tBase requires a map object!");for(var O=[],P=this.collectSymbols(null,null,null,!0),q=P.length,re=0;re<q;re++){var ce=P[re],ye=ce.group,Te=new Mn(ce.multiplier,[],F);if(ye===Nt)for(var Me in ce.symbols)Te.terms[F[Me]]=ce.symbols[Me].power;else Te.terms[F[ce.value]]=ce.power;O.push(Te.fill()),Te.updateCount()}return O},ze.prototype.altVar=function(F){var O=this.multiplier.toString(),P=this.power.toString();return("1"===O?"":O+"*")+F+("1"===P?"":"^"+P)},ze.prototype.sameVars=function(F){if(!this.symbols&&this.group!==F.group)return!1;for(var O in this.symbols){var q=F.symbols[O];if(!q||this.symbols[O].value!==q.value)return!1}return!0},ze.prototype.groupTerms=function(F){F=String(F);var O,P,q,re=[];return this.each(function(ce){if(ce.group===Hn){q=ce.groupTerms(F);for(var ye=0;ye<q.length;ye++){var Te=q[ye];Te&&(re[ye]=Te)}}else O=ie.Utils.decompose_fn(ce,F,!0),P=O.x.value===F?Number(O.x.power):0,re[P]=M.add(re[P]||new ze(0),O.a)}),re},ze.prototype.collectFactors=function(){var F=[];return this.group===Nt?this.each(function(O){F.push(O.clone())}):F.push(this.clone()),F},Gr.prototype.getNumberSymbolics=function(){var F=0;return this.each(function(O){O.isConstant(!0)||F++}),F},Gr.prototype.add=function(F){if(F.equals(0))return this;if(F.equals(-1)&&this.length>0){var O=ie.Utils.firstObject(this.factors,null,!0);return this.add(M.symfunction(ie.Settings.PARENTHESIS,[O.obj]).negate()),delete this.factors[O.key],this.length--,this}if(F.group===Nt){var P=this;F.multiplier.equals(1)||P.add(new ze(F.multiplier)),F.each(function(ce){P.add(ce)})}else{this.preAdd&&(F=this.preAdd(F)),this.pFactor&&(F=M.pow(F,new ze(this.pFactor)));var q=F.isConstant();if(q&&F.equals(1))return this;var re=q?F.value:F.text();re in this.factors?(this.factors[re]=M.multiply(this.factors[re],F),this.factors[re].equals(1)&&(delete this.factors[re],this.length--)):(this.factors[re]=F,this.length++)}return this},Gr.prototype.toSymbol=function(){for(var F=new ze(1),O=Object.values(this.factors).sort(function(ye,Te){return ye.group>Te.group}),P=0,q=O.length;P<q;P++){var re=O[P],ce=re.power.equals(1)&&""!==re.fname?M.symfunction(ie.PARENTHESIS,[re]):re;F=M.multiply(F,ce)}return""===F.fname&&(F=ze.unwrapPARENS(F)),F},Gr.prototype.merge=function(F){for(var O in F)this.factors[O]=O in this.factors?M.multiply(this.factors[O],F[O]):F[O];return this},Gr.prototype.each=function(F){for(var O in this.factors){var P=this.factors[O];P.fname===ie.PARENTHESIS&&P.isLinear()&&(P=P.args[0]),F.call(this,P,O)}return this},Gr.prototype.count=function(){return ve(this.factors).length},Gr.prototype.clean=function(){try{var F=ie.Settings.CONST_HASH;this.factors[F].lessThan(0)&&(this.factors[F].equals(-1)?delete this.factors[F]:this.factors[F].negate(),this.each(function(O){O.negate()}))}catch{}},Gr.prototype.toString=function(){return this.toSymbol().toString()},Mn.prototype.updateCount=function(){this.count=this.count||0;for(var F=0;F<this.terms.length;F++)this.terms[F].equals(0)||this.count++;return this},Mn.prototype.getVars=function(){for(var F=[],O=0;O<this.terms.length;O++){var P=this.terms[O];this.getRevMap(),P.equals(0)||F.push(this.rev_map[O])}return F.join(" ")},Mn.prototype.len=function(){return void 0===this.count&&this.updateCount(),this.count},Mn.prototype.toSymbol=function(F){F=F||this.getRevMap();for(var O=new ze(this.coeff),P=0;P<this.terms.length;P++){var q=F[P],re=this.terms[P];if(!re.equals(0)&&q!==Kt){var ce=new ze(q);ce.power=re,O=M.multiply(O,ce)}}return O},Mn.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var F={};for(var O in this.map)F[this.map[O]]=O;return this.rev_map=F,F},Mn.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},Mn.prototype.getImg=function(){return this.image||this.generateImage(),this.image},Mn.prototype.fill=function(){for(var F=this.map.length,O=0;O<F;O++)void 0===this.terms[O]?this.terms[O]=new ie.Frac(0):this.sum=this.sum.add(this.terms[O]);return this},Mn.prototype.divide=function(F){for(var O=this.coeff.divide(F.coeff),P=this.terms.length,q=new Mn(O,[],this.map),re=0;re<P;re++)q.terms[re]=this.terms[re].subtract(F.terms[re]),q.sum=q.sum.add(q.terms[re]);return q},Mn.prototype.multiply=function(F){for(var O=this.coeff.multiply(F.coeff),P=this.terms.length,q=new Mn(O,[],this.map),re=0;re<P;re++)q.terms[re]=this.terms[re].add(F.terms[re]),q.sum=q.sum.add(q.terms[re]);return q},Mn.prototype.isZero=function(){return this.coeff.equals(0)},Mn.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},ie.Utils.toMapObj=function(F){for(var O=0,P={},q=0;q<F.length;q++){var re=F[q];void 0===P[re]&&(P[re]=O,O++)}return P.length=O,P},ie.Utils.filledArray=function(F,O,P){for(var q=[];O--;)q[O]=P?new P(F):F;return q},ie.Utils.arrSum=function(F){for(var O=0,P=F.length,q=0;q<P;q++)O+=F[q];return O},ie.Utils.haveIntersection=function(F,O){var P;return O.length>F.length&&(P=O,O=F,F=P),F.some(function(q){return O.indexOf(q)>-1})},ie.Utils.subFunctions=function(F,O){O=O||{};var P=[];return F.each(function(q){if(q.group===Vn||q.previousGroup===Vn){var re=ie.Utils.text(q,"hash"),ce=O[re];if(ce)P.push(q.altVar(ce));else{var ye=q.fname+ve(O).length;O[re]=ye,P.push(q.altVar(ye))}}else P.push(q.group===Nt||q.group===Hn||q.group===Pr?ie.Utils.subFunctions(q,O):q.text())}),F.group===Pr||F.group===Hn?F.altVar(ie.Utils.inBrackets(P.join("+"))):F.group===Nt?F.altVar(ie.Utils.inBrackets(P.join("*"))):F.text()},ie.Utils.getFunctionsSubs=function(F){var O={};for(var P in F)O[F[P]]=M.parse(P);return O};var Je=ie.Algebra={version:"1.4.6",proots:function(F,O){O=O||7;var q=[],re=function(Nn,zr,Lr){for(var Re=function cn(Nn,zr,Lr){var Fe=Nn.slice(0);if(Nn.unshift(Lr),Lr>100)throw new ie.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var qe=[],Ue={};for(Ue.Degree=Lr,pn=0;pn<Lr;pn++)qe.push(0);var pt=qe.slice(0);function Ct(ct,ht,It,vt,at,lt){at[0]=lt.b=vt[0],at[1]=lt.a=-ht*lt.b+vt[1];for(var Wt=2;Wt<ct;Wt++)at[Wt]=-(ht*lt.a+It*lt.b)+vt[Wt],lt.b=lt.a,lt.a=at[Wt]}function kt(ct,ht,It,vt,at,lt,Wt,Jt,sn){var Jn=new Object,Dn=3;return Jn.b=Jn.a=0,Ct(ht,Wt,Jt,lt,sn,Jn),at.c=Jn.a,at.d=Jn.b,Math.abs(at.c)<=100*ct*Math.abs(lt[ht-1])&&Math.abs(at.d)<=100*ct*Math.abs(lt[ht-2])||(at.h=Jt*vt,Math.abs(at.d)>=Math.abs(at.c)?(Dn=2,at.e=It/at.d,at.f=at.c/at.d,at.g=Wt*vt,at.a3=at.e*(at.g+It)+at.h*(vt/at.d),at.a1=at.f*vt-It,at.a7=at.h+(at.f+Wt)*It):(Dn=1,at.e=It/at.c,at.f=at.d/at.c,at.g=at.e*Wt,at.a3=at.e*It+(at.g+at.h/at.c)*vt,at.a1=at.d/at.c*-It+vt,at.a7=at.g*at.d+at.h*at.f+It)),Dn}function $e(ct,ht,It,vt,at,lt,Wt,Jt,sn){var Jn;if(3!=It)if(Jn=1==It?at:vt,Math.abs(lt.a1)>10*ct*Math.abs(Jn))for(lt.a7/=lt.a1,lt.a3/=lt.a1,Wt[0]=sn[0],Wt[1]=-sn[0]*lt.a7+sn[1],Dn=2;Dn<ht;Dn++)Wt[Dn]=-sn[Dn-1]*lt.a7+Jt[Dn-2]*lt.a3+sn[Dn];else for(Wt[0]=0,Wt[1]=-sn[0]*lt.a7,Dn=2;Dn<ht;Dn++)Wt[Dn]=-sn[Dn-1]*lt.a7+Jt[Dn-2]*lt.a3;else{Wt[1]=Wt[0]=0;for(var Dn=2;Dn<ht;Dn++)Wt[Dn]=Jt[Dn-2]}}function Le(ct,ht,It,vt,at,lt,Wt,Jt,sn,Jn,Dn,si,Zn,zn,Qr,yn,Hr){var qr,En,tn,Vr,G,Z,Y,X;ht.b=ht.a=0,3!=ct&&(2!=ct?(qr=It+Zn*Wt+si*Jn,En=Jt+(Zn+zn*Jn)*sn):(qr=(It+Dn)*Jn+si,En=(Jn+Zn)*Jt+zn*sn),0!=(X=-(Y=-((G=(tn=-Qr[yn-1]/Hr[yn])*lt)+(Z=tn*tn*at))+zn*(Vr=-(Qr[yn-2]+tn*Hr[yn-1])/Hr[yn])*vt)+En+tn*qr)&&(ht.a=-(Zn*(Z+G)+zn*(tn*vt+Vr*lt))/X+Zn,ht.b=zn*(1+Y/X)))}function an(ct,ht,It,vt){var at,lt,Wt;vt.sr=vt.si=vt.lr=vt.li=0,0!=ct?0!=It?(at=ht/2,Math.abs(at)<Math.abs(It)?(Wt=-(Wt=It>=0?ct:-ct)+at*(at/Math.abs(It)),lt=Math.sqrt(Math.abs(Wt))*Math.sqrt(Math.abs(It))):(Wt=-ct/at*(It/at)+1,lt=Math.sqrt(Math.abs(Wt))*Math.abs(at)),Wt>=0?(vt.lr=(-at+(lt=at>=0?-lt:lt))/ct,vt.sr=0!=vt.lr?It/vt.lr/ct:vt.sr):(vt.lr=vt.sr=-at/ct,vt.si=Math.abs(lt/ct),vt.li=-vt.si)):vt.lr=-ht/ct:vt.sr=0!=ht?-It/ht:vt.sr}function L(ct,ht,It,vt,at,lt,Wt,Jt,sn,Jn,Dn,si){var zn,Qr,yn,Hr,qr,En,tn,Vr,Sr,G,Z,Zn=new Object,Y=0,me=0;It.NZ=0,En=vt,Vr=at;do{if(Zn.li=Zn.lr=Zn.si=Zn.sr=0,an(1,En,Vr,Zn),It.szr=Zn.sr,It.szi=Zn.si,It.lzr=Zn.lr,It.lzi=Zn.li,Math.abs(Math.abs(It.szr)-Math.abs(It.lzr))>.01*Math.abs(It.lzr))break;for(Ct(Wt,En,Vr,sn,lt,Jt),Qr=Math.abs(-It.szr*Jt.b+Jt.a)+Math.abs(It.szi*Jt.b),G=Math.sqrt(Math.abs(Vr)),zn=2*Math.abs(lt[0]),qr=-It.szr*Jt.b,Z=1;Z<ht;Z++)zn=zn*G+Math.abs(lt[Z]);if(Qr<=20*(zn=(9*(zn=zn*G+Math.abs(qr+Jt.a))+2*Math.abs(qr)-7*(Math.abs(Jt.a+qr)+G*Math.abs(Jt.b)))*ct)){It.NZ=2;break}if(++Y>20)break;if(Y>=2&&Hr<=.01&&Qr>=yn&&!me){for(Ct(Wt,En-=En*(Hr=Hr<ct?Math.sqrt(ct):Math.sqrt(Hr)),Vr+=Vr*Hr,sn,lt,Jt),Z=0;Z<5;Z++)$e(ct,ht,kt(ct,ht,Jt.a,Jt.b,Dn,si,En,Vr,Jn),Jt.a,Jt.b,Dn,si,Jn,lt);me=1,Y=0}yn=Qr,$e(ct,ht,kt(ct,ht,Jt.a,Jt.b,Dn,si,En,Vr,Jn),Jt.a,Jt.b,Dn,si,Jn,lt),Le(kt(ct,ht,Jt.a,Jt.b,Dn,si,En,Vr,Jn),Jt,Jt.a,Dn.a1,Dn.a3,Dn.a7,Jt.b,Dn.c,Dn.d,Dn.f,Dn.g,Dn.h,En,Vr,si,ht,sn),tn=Jt.a,0!=(Sr=Jt.b)&&(Hr=Math.abs((-Vr+Sr)/Sr),En=tn,Vr=Sr)}while(0!=Sr)}function ue(ct,ht,It,vt,at,lt,Wt,Jt,sn){var Jn,Dn,si,Zn,zn,Qr,yn,Hr,qr,En,tn,Vr=vt-1;for(ht.NZ=tn=qr=0,yn=It.a;;){for(Wt[0]=Qr=at[0],En=1;En<lt;En++)Wt[En]=Qr=Qr*yn+at[En];for(si=Math.abs(Qr),Zn=Math.abs(yn),Jn=.5*Math.abs(Wt[0]),En=1;En<lt;En++)Jn=Jn*Zn+Math.abs(Wt[En]);if(si<=20*ct*(2*Jn-si)){ht.NZ=1,ht.szr=yn,ht.szi=0;break}if(++tn>10)break;if(tn>=2&&Math.abs(Hr)<=.001*Math.abs(-Hr+yn)&&si>zn){qr=1,ht.a=yn;break}for(zn=si,sn[0]=Dn=Jt[0],En=1;En<vt;En++)sn[En]=Dn=Dn*yn+Jt[En];if(Math.abs(Dn)>10*Math.abs(Jt[Vr])*ct)for(Hr=-Qr/Dn,Jt[0]=Wt[0],En=1;En<vt;En++)Jt[En]=Hr*sn[En-1]+Wt[En];else for(Jt[0]=0,En=1;En<vt;En++)Jt[En]=sn[En-1];for(Dn=Jt[0],En=1;En<vt;En++)Dn=Dn*yn+Jt[En];yn+=Hr=Math.abs(Dn)>10*Math.abs(Jt[Vr])*ct?-Qr/Dn:0}return qr}function we(ct,ht,It,vt,at,lt,Wt,Jt,sn,Jn,Dn,si){var Hr,qr,En,tn,Vr,Sr,G,Z,Y,X,me,te,_e,Ge,ke,rt,Xe,Ot,Ht,on,Xr,Gi,as,Mi,Ui,Zn=new Object,zn=new Object,Qr=new Array(ht),yn=new Array(ht),en=1;for(si.NZ=0,tn=En=.25,Vr=vt,Z=at,Zn.b=Zn.a=0,Ct(sn,Dn,at,Jt,Jn,Zn),Hr=Zn.a,qr=Zn.b,zn.h=zn.g=zn.f=zn.e=zn.d=zn.c=zn.a7=zn.a3=zn.a1=0,as=kt(ct,Wt,Hr,qr,zn,lt,Dn,at,Qr),on=0;on<It;on++){if(Ot=1,$e(ct,Wt,as,Hr,qr,zn,lt,Qr,Jn),Le(as=kt(ct,Wt,Hr,qr,zn,lt,Dn,at,Qr),Zn,Hr,zn.a1,zn.a3,zn.a7,qr,zn.c,zn.d,zn.f,zn.g,zn.h,Dn,at,lt,Wt,Jt),ke=Zn.a,Xe=rt=Zn.b,X=0!=lt[Wt-1]?-Jt[Wt]/lt[Wt-1]:0,me=_e=1,0!=on&&3!=as&&(Mi=(Ge=(_e=0!=Xe?Math.abs((Xe-Z)/Xe):_e)<G?_e*G:1)<tn?1:0,(Xr=(te=(me=0!=X?Math.abs((X-Vr)/X):me)<Sr?me*Sr:1)<En?1:0)||Mi)){for(Ht=0;Ht<Wt;Ht++)yn[Ht]=lt[Ht];for(Y=X,Gi=Ui=0;;){if(!Ot||0!=(Ot=0)||!Xr||Mi&&!(te<Ge)){if(L(ct,Wt,si,ke,rt,Jn,sn,Zn,Jt,Qr,zn,lt),Hr=Zn.a,qr=Zn.b,si.NZ>0)return;if(en=Ui=1,tn*=.25,Gi||!Xr)en=0;else for(Ht=0;Ht<Wt;Ht++)lt[Ht]=yn[Ht]}if(0!=en){if(Zn.a=Y,en=ue(ct,si,Zn,Wt,Jt,sn,Jn,lt,Qr),Y=Zn.a,si.NZ>0)return;if(Gi=1,En*=.25,0!=en){ke=-(Y+Y),rt=Y*Y;continue}}for(Ht=0;Ht<Wt;Ht++)lt[Ht]=yn[Ht];if(!Mi||Ui)break}Ct(sn,Dn,at,Jt,Jn,Zn),as=kt(ct,Wt,Hr=Zn.a,qr=Zn.b,zn,lt,Dn,at,Qr)}Z=Xe,Vr=X,G=_e,Sr=me}}!function Qe(ct,ht,It,vt){var Qr,yn,Hr,qr,En,tn,Vr,Sr,G,Z,Y,X,me,te,_e,Ge,rt,Xe,Ot,Ht,en,on,Xr,at=ct.Degree,lt=.017453292519943295,Wt=Math.LN2,Jt=ct.Degree+1,sn=new Array(Jt),Jn=new Array(Jt),Dn=new Array(Jt),si=new Array(Jt),Zn=new Object,zn=new Object;X=1;do{yn=X,me=1+(X/=2)}while(me>1);var Gi=Number.MIN_VALUE/yn,as=Math.cos(94*lt),Mi=Math.sin(94*lt),Ui=Math.sqrt(.5),jn=-Ui;for(zn.NZ=Xe=0,zn.szr=zn.szi=zn.lzr=zn.lzi=0;0==ht[at];)It[Xe]=vt[Xe]=0,at--,Xe++;for(on=at+1;at>=1;){if(at<=2){at<2?(It[ct.Degree-1]=-ht[1]/ht[0],vt[ct.Degree-1]=0):(Zn.li=Zn.lr=Zn.si=Zn.sr=0,an(ht[0],ht[1],ht[2],Zn),It[ct.Degree-2]=Zn.sr,vt[ct.Degree-2]=Zn.si,It[ct.Degree-1]=Zn.lr,vt[ct.Degree-1]=Zn.li);break}for(Vr=0,Sr=Number.MAX_VALUE,On=0;On<on;On++)(Z=Math.abs(ht[On]))>Vr&&(Vr=Z),0!=Z&&Z<Sr&&(Sr=Z);if(((G=Gi/Sr)<=1&&Vr>=10||G>1&&Number.MAX_VALUE/G>=Vr)&&(G=0==G?Number.MIN_VALUE:G,Ht=Math.floor(Math.log(G)/Wt+.5),1!=(En=Math.pow(2,Ht))))for(On=0;On<on;On++)ht[On]*=En;for(var On=0;On<on;On++)Jn[On]=Math.abs(ht[On]);Jn[at]=-Jn[at],en=at-1,Z=Math.exp((Math.log(-Jn[at])-Math.log(Jn[0]))/at),0!=Jn[en]&&(Z=(Y=-Jn[at]/Jn[en])<Z?Y:Z),Y=Z;do{for(Y=.1*(Z=Y),tn=Jn[0],On=1;On<on;On++)tn=tn*Y+Jn[On]}while(tn>0);qr=Z;do{for(Hr=tn=Jn[0],On=1;On<at;On++)Hr=Z*Hr+(tn=Z*tn+Jn[On]);Z-=qr=(tn=Z*tn+Jn[at])/Hr}while(Math.abs(qr/Z)>.005);for(Qr=Z,On=1;On<at;On++)sn[On]=(at-On)*ht[On]/at;for(sn[0]=ht[0],X=ht[at],me=ht[en],Xr=0==sn[en]?1:0,Ot=0;Ot<5;Ot++)if(te=sn[en],Xr){for(On=0;On<en;On++)sn[Xe=en-On]=sn[Xe-1];sn[0]=0,Xr=0==sn[en]?1:0}else{for(Ge=-X/te,On=0;On<en;On++)sn[Xe=en-On]=Ge*sn[Xe-1]+ht[Xe];sn[0]=ht[0],Xr=Math.abs(sn[en])<=Math.abs(me)*yn*10?1:0}for(On=0;On<at;On++)si[On]=sn[On];for(Ot=1;Ot<=20;Ot++){if(rt=-Mi*jn+as*Ui,jn=Mi*Ui+as*jn,we(yn,Jt,20*Ot,_e=Qr*(Ui=rt),Qr,sn,at,ht,on,Dn,-2*_e,zn),0!=zn.NZ){for(It[Xe=ct.Degree-at]=zn.szr,vt[Xe]=zn.szi,at=(on-=zn.NZ)-1,On=0;On<on;On++)ht[On]=Dn[On];1!=zn.NZ&&(It[Xe+1]=zn.lzr,vt[Xe+1]=zn.lzi);break}for(On=0;On<at;On++)sn[On]=si[On]}if(Ot>20){ct.Degree-=at;break}}}(Ue,Fe,pt,qe);var Ye=qe.length;for(pn=0;pn<Ye;pn++){var he=mn(qe[pn],O+8),nt=mn(pt[pn],O+8),bt=he<0?"-":"";0===(nt=O-String(nt).length>2?nt:pt[pn])&&(nt=""),0===he&&(he=""),he=1===Math.abs(he)?bt+"i":he?he+"*i":"",pt[pn]=(nt&&he?nt+"+"+he:nt+he).replace(/\+\-/g,"-")}return pt}(Nn,0,Lr).concat(q),Fe=0;Fe<0;Fe++)Re.unshift(0);return Re};if(F instanceof ze&&F.isPoly()){if(F.distributeMultiplier(),F.group===Hn){var ce=ie.Utils.arrayMin(ve(F.symbols)),ye=F.symbols[ce].clone().toUnitMultiplier();F=M.expand(M.divide(F,ye)),q.push(0)}if(F.group===ie.groups.S)return[0];if(F.group===ie.groups.PL){var Bt=ve(F.symbols),Te=ie.Utils.arrayMin(Bt);F=ie.PARSER.divide(F,ie.PARSER.parse(F.value+"^"+Te))}for(var Me=ve(F.symbols).sort().pop(),Pe=F.group===ie.groups.PL?F.symbols:F.symbols[Me],Ke=Pe.group,St=(Bt=Ke===xe?[Pe.power.toDecimal()]:ve(Pe.symbols),[]),Gt=ie.Utils.arrayMax(Bt),pn=1;pn<=Gt;pn++){var Tn=0;-1!==Bt.indexOf(pn+"")&&(Tn=Ke===xe?Pe.multiplier:Pe.symbols[pn].multiplier),St.unshift(Tn)}return St.push(F.symbols[Kt].multiplier),Pe.group===xe&&(St[0]=Pe.multiplier),re(St,0,Gt)}if(ie.Utils.isArray(F)){var At=F,nr=(St=[],Bt=[],0);for(pn=0;pn<At.length;pn++){for(var qn=At[pn][0],xn=At[pn][1],Ur=xn-nr-1,ai=0;ai<Ur;ai++)St.unshift(0);St.unshift(qn),0!==xn&&Bt.push(xn),nr=xn}return re(St,0,Gt=Math.max.apply(void 0,Bt))}throw new ie.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!")},roots:function(F){if(F.isConstant(!0,!0))return ie.Utils.nroots(F);var O=Je.proots(F).map(function(P){return M.parse(P)});return ie.Vector.fromArray(O)},froot:function(F,O,P){return function(re){for(var ye=P||ie.Utils.build(ie.Calculus.diff(F.clone())),Te=F instanceof Function?F:ie.Utils.build(F),Pe=!1,Ke=0;!Pe;){var Bt=re-Te(re)/ye(re),St=Math.abs(Bt)-Math.abs(re);re=Bt,Math.abs(St)<1e-12?Pe=!0:Ke>1e4&&(re=null,Pe=!0),Ke++}return re}(Number(O))},quad:function(F,O,P){var q=function(re,ce,ye,Te){return M.parse("-("+ce+"+"+Te+"*sqrt(("+ce+")^2-4*("+re+")*("+ye+")))/(2*"+re+")")};return[q(F,O,P,1),q(F,O,P,-1)]},sumProd:function(F,O){return Je.quad(-O,F,-1).map(function(P){return P.invert()})},coeffs:function(F,O,P){O=String(O),F=M.expand(F),P=P||[new ze(0)],F.group===Tt&&F.contains(O,!0)&&M.error("Unable to get coefficients using expression "+F.toString());var q=Xn(F);if(1!==q.length||q[0]!==O||F.isImaginary())if(O||M.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),-1===q.indexOf(O))P[0]=M.add(F,P[0]);else if(P=P||[new ze(0)],F.group===Nt){var Pe=F.symbols[O];Pe||M.error("Expression is not a polynomial!");var Ke=Number(Pe.power);((Te=M.divide(F.clone(),Pe.clone())).contains(O,!0)||Ke<0||!vn(Ke))&&M.error("Expression is not a polynomial!"),(Me=P[Ke])&&(Te=M.add(Me,Te)),P[Ke]=Te}else F.group===Pr&&F.each(function(Bt){Je.coeffs(Bt.clone(),O,P)},!0);else for(var re=new Cn(F).coeffs.map(function(Bt){return new ze(Bt)}),ce=0,ye=re.length;ce<ye;ce++){var Me,Te=re[ce];(Me=P[ce])&&(Te=M.add(Me,Te)),P[ce]=Te}for(ce=0,ye=P.length;ce<ye;ce++)void 0===P[ce]&&(P[ce]=new ze(0));return P},polyPowers:function(F,O,P){if(P=P||[],(q=q=F.group)===Hn&&O===F.value)P=P.concat(ve(F.symbols));else if(q===Pr)for(var re in F.symbols){var q,ce=F.symbols[re],ye=ce.value;if((q=ce.group)===xe&&O===ye)P.push(ce.power);else if(q===Hn||q===Pr)P=Je.polyPowers(ce,O,P);else if(q===Nt&&ce.contains(O)){var Te=ce.symbols[O];Te&&P.push(Te.power)}else(q===Dr||O!==ye)&&P.push(0)}else q===Nt&&F.contains(O)&&P.push(ie.Utils.decompose_fn(F,O,!0).x.power);return ie.Utils.arrayUnique(P).sort()},Factor:{split:function(F){var O=new ze(1),P=new ze(1);return Je.Factor.factor(F,new Gr).each(function(q){var re=M.parse(q);q.isConstant(!0)?O=M.multiply(O,re):P=M.multiply(P,re)}),[O,P]},mix:function(F,O){for(var P=ve(F),q=P.length,re=[],ce=0;ce<q;ce++){for(var ye=P[ce],Te=F[ye],Me=re.length,Pe=0;Pe<Me;Pe++){var Ke=re[Pe]*ye;re.push(Ke),O&&re.push(-Ke)}for(Pe=1;Pe<=Te;Pe++)re.push(Math.pow(ye,Pe))}return re},common:function(F,O){try{if(F.group===Pr){for(var P=M.expand(F.clone(),!0).collectSymbols(null,null,function(Ke,Bt){return(Bt.length||1)-(Ke.length||1)}),q={},re=[],ce=0;ce<P.length;ce++){var ye=P[ce];re.push(ye.multiplier.clone()),ye.each(function(Ke){var Bt=Number(Ke.power);if(isNaN(Bt))throw new Error("exiting");Ke.value in q?(Bt<q[Ke.value][0]&&(q[Ke.value][0]=Bt),q[Ke.value][1].push(Ke)):q[Ke.value]=[Bt,[Ke]]})}var Te=new ze(1);for(var Me in q)q[Me][1].length===P.length&&(Te=M.multiply(Te,M.pow(new ze(Me),new ze(q[Me][0]))));var Pe=ie.Math2.QGCD.apply(null,re);if(!Pe.equals(1))for(O.add(new ze(Pe)),ce=0;ce<P.length;ce++)P[ce].multiplier=P[ce].multiplier.divide(Pe);if(!Te.equals(1))for(O.add(Te),F=new ze(0),ce=0;ce<P.length;ce++)F=M.add(F,M.divide(P[ce],Te.clone()))}}catch{}return F},zeroes:function(F,O){var P=function(){throw new ie.exceptions.ValueLimitExceededError("Exiting")};try{var q,re,ce,ye,Te;Te=(F=M.expand(F.clone())).toString(),q=Xn(F),ce=new ze(0);for(var Me=[],Pe=[],Ke=0,Bt=q.length;Ke<q.length;Ke++){for(var St={},Gt=0;Gt<Bt;Gt++)Ke!==Gt&&(St[q[Gt]]=0);re=M.parse(Te,St),vn(re.power)||P(),Me.push(re),Pe.push(re.power)}if(ie.Utils.allSame(Pe)){var Tn=F.length,At=Me.length;2===At&&(ye=new rn(Pe[0]/(Tn-1))),3===At&&(ye=new rn(Pe[0]/Math.round((Math.sqrt(8*Tn-1)-3)/2)))}else ye=ie.Math2.QGCD.apply(null,Pe);for(vn(ye)||P(),Ke=0;Ke<Me.length;Ke++){var nr=Me[Ke],qn=nr.power.clone().divide(ye);nr.multiplier=new rn(Math.pow(nr.multiplier,1/qn)),nr.power=ye.clone(),ce=M.add(ce,nr)}if(ce.group!==Pr)return F;for(;;){var xn=Je.div(F.clone(),ce.clone());if(!xn[1].equals(0))break;if(F=xn[0],O.add(ce.clone()),F.equals(1))break}}catch{}return F},factor:function(F,O){if(F.isConstant())return ie.Math2.factor(F);var P=M.parse(F),q=Je.Factor._factor(P,O);if(q.equals(F))return q;if(q.group===Nt){var re=new ze(1),ce=M.parse(q.power),ye=M.parse(q.multiplier);q.toUnitMultiplier(),q.multiplier.lessThan(0)&&(re.negate(),q.negate()),q.each(function(Te){var Me=M.parse(Je.Factor._factor(Te));Me.group===Nt?(ye=M.multiply(ye,ze.create(Me.multiplier)),Me.each(function(Pe){var Ke=M.parse(Je.Factor._factor(Pe));re=M.multiply(re,Ke),Ke.group===Nt&&(ye=M.multiply(ye,ze.create(Ke.multiplier)))})):re=M.multiply(re,Me)}),q=M.pow(M.multiply(ye,re),ce)}return q},quadFactor:function(F,O){if(F.isPoly()&&Je.degree(F.equals(2))){var P=ie.Utils.variables(F)[0],q=Je.coeffs(F,P),re=Je.Factor._factor(q[2].clone());if(re.group===Nt){var ce=re.collectSymbols();if(ce.length>2)return F;var ye=M.multiply(M.parse(q[0]),M.parse(ce[0])),Te=M.parse(q[1]).negate(),Me=M.parse(ce[1]),Pe=Je.quad(Me,Te,ye).filter(function(St){if(ie.Utils.isInt(St))return St});if(1===Pe.length){var Ke=Pe[0],Bt=M.divide(q[0],M.parse(Ke));ie.Utils.isInt(Bt)&&(O.add(M.parse(Lt("({0})*({1})+({2})",ce[1],P,Bt))),O.add(M.parse(Lt("({0})*({1})+({2})",ce[0],P,Ke))),F=new ze(1))}}}return F},cubeFactor:function(F,O){if(F.isComposite()){var P=F.collectSymbols();if(2===P.length){var q=P[0].sign(),re=P[0].clone().abs(),ce=P[1].sign(),ye=P[1].clone().abs();if(re.isCube()&&ye.isCube()){q<ce&&([q,ce]=[ce,q],[re,ye]=[ye,re]);var Te=M.parse(re.getNth(3)),Me=M.parse(ye.getNth(3)),Pe=M.multiply(M.expand(M.pow(re.clone().toUnitMultiplier(),M.parse("1/3"))),Te),Ke=M.multiply(M.expand(M.pow(ye.clone().toUnitMultiplier(),M.parse("1/3"))),Me);1===q&&-1===ce?(O.add(M.parse(Lt("(({0})-({1}))",Pe,Ke))),O.add(M.parse(Lt("(({0})^2+({0})*({1})+({1})^2)",Pe,Ke))),F=ze(1)):1===q&&1===ce&&(O.add(M.parse(Lt("(({0})+({1}))",Pe,Ke))),O.add(M.parse(Lt("(({0})^2-({0})*({1})+({1})^2)",Pe,Ke))),F=ze(1))}}}return F},_factor:function(F,O){if(F.group===Vn){var q=F.args[0];if(q.group===xe&&q.isSimple())return F}else if(F.group===xe&&F.isSimple())return F;if(F.group===Pr){F.distributeMultiplier(!0);var re=new ze(0);F.each(function(Ct){(Ct.group===Pr&&Ct.power.greaterThan(1)||Ct.group===Nt)&&(Ct=M.expand(Ct)),re=M.add(re,Ct)}),re.power=F.power,F=re}F.group===Vn&&"sqrt"!==F.fname&&(F=ie.Utils.evaluate(F));var ce=F.clone();try{if(F.group===Nt){var ye,Te,Me,Pe,Ke,Bt,At=M.parse(F.power);if(ye=Je.Simplify.strip(F.getDenom()),Te=Je.Simplify.strip(F.getNum()),Me=ye.pop(),(Pe=Te.pop()).equals(F))return F;Bt=Je.Factor.factor(Pe),Ke=Je.Factor.factor(Me);var St=Je.Simplify.unstrip(Te,Bt),Gt=Je.Simplify.unstrip(ye,Ke);return M.divide(St,Gt)}if(F.group===xe)return F;if(F.isConstant())return F.equals(1)?F.clone():ie.Math2.factor(F);if(At=F.power.clone(),vn(At)&&(!At.lessThan(0)||F.group!==Vn)){var nr=At.sign();F.toLinear(),O=O||new Gr;var qn={};F=M.parse(ie.Utils.subFunctions(F,qn)),ve(qn).length>0&&(O.preAdd=function(kt){return M.parse(kt,ie.Utils.getFunctionsSubs(qn))}),F.isLinear()||(O.pFactor=F.power.toString(),F.toLinear());var xn=Xn(F);F.isImaginary()&&xn.push(ie.Settings.IMAGINARY);var Ur=xn.length>1;if(Ur){var ai=!0,cn=!0;if(F.each(function(kt){kt.group!==xe&&(ai=!1),kt.multiplier.equals(1)||(cn=!1)}),ai&&cn)return M.pow(M.parse(F,ie.Utils.getFunctionsSubs(qn)),M.parse(At))}var Nn=new Gr;F=Je.Factor.coeffFactor(F,Nn),Nn.each(function(kt){_t(At)&&kt.lessThan(0)&&kt.negate(),nr<0&&kt.invert(),O.add(kt)});var zr=new Gr;if(F=Je.Factor.powerFactor(F,zr),zr.each(function(kt){nr<0&&kt.invert(),O.add(kt)}),Ur)F=Je.Factor.cubeFactor(F,O),F=Je.Factor.mfactor(F,O),O.each(function(kt){nr<0&&kt.power.negate()});else{var Lr=xn[0];F=Je.Factor.squareFree(F,O,Lr);var Re=new Gr;F=Je.Factor.trialAndError(F,Re,Lr);var Fe=Re.toSymbol();if(Fe.equals(ce))return Fe;for(var qe in Re.factors)O.add(M.pow(Re.factors[qe],M.parse(At)));F.equals(ce)&&(F=Je.Factor.quadFactor(F,O))}F=M.parse(F,ie.Utils.getFunctionsSubs(qn));var pt=1===O.length;O.add(M.pow(F,M.parse(At)));var pn=O.toSymbol();return pt&&F.equals(1)&&pn.isLinear()&&(pn=M.pow(pn,M.parse(At))),pn}return F}catch{return ce}},reduce:function(F,O){if(F.group===Pr&&2===F.length){var P=F.collectSymbols().sort(function(Bt,St){return St.multiplier-Bt.multiplier});if(P[0].power.equals(P[1].power)){var q=M.parse(P[0].power),re=P[0].clone().toLinear(),ce=P[1].clone().toLinear();O.add(M.add(re.clone(),ce.clone())),ce.negate();for(var ye=Number(q),Te=new ze(0),Me=1;Me<=ye;Me++){var Pe=M.pow(re.clone(),M.subtract(q.clone(),new ze(Me))),Ke=M.pow(ce.clone(),M.subtract(new ze(Me),new ze(1)));Te=M.add(Te,M.multiply(Pe,Ke))}return Te}}return F},squareFree:function(F,O,P){if(F.isConstant()||F.group===xe)return F;var re=new Cn(F,P).squareFree(),ce=re[2];if(1!==ce){var ye=re[1].toSymbol();return ye.power=ye.power.multiply(new rn(ce)),O.add(Je.Factor.factor(ye)),Je.Factor.squareFree(re[0].toSymbol(),O)}return F},powerFactor:function(F,O){if(F.group!==Hn||F.previousGroup===Tt)return F;var P=ve(F.symbols);if(!ie.Utils.allNumeric(P))return F;var q=ie.Utils.arrayMin(P),re=new ze(0),ce=M.parse(F.value+"^"+q);return F.each(function(ye){ye=M.divide(ye,ce.clone()),re=M.add(re,ye)}),O.add(ce),re},coeffFactor:function(F,O){if(F.isComposite()){var P=ie.Math2.QGCD.apply(null,F.coeffs());if(P.equals(1)){var q=function(ye){var Te;return ye.group===Nt?(Te=0,ye.each(function(Me){Te+=Me.power})):Te=Number(ye.power),Te},re=F.collectSymbols(null,null,null,!0).sort(function(ye,Te){return ye.isConstant(!0)?1:Te.power-ye.power}),ce=re[0];(q(ce)>q(re[1])||re[1].isConstant(!0))&&ce.multiplier.lessThan(0)&&(O.add(new ze(-1)),F.each(function(ye){ye.negate()},!0))}else F.each(function(ye){ye.isComposite()?ye.each(function(Te){Te.multiplier=Te.multiplier.divide(P)}):ye.multiplier=ye.multiplier.divide(P)}),F.updateHash();O&&O.add(new ze(P))}return F},trialAndError:function(F,O,P){var q=F.clone();try{var re=[];if(F.isConstant()||F.group===xe)return F;for(var ce=new Cn(F,P),Te=ie.Math2.ifactor(ce.coeffs[0]),Me=Je.proots(F),Pe=0;Pe<Me.length;Pe++){var Ke=Me[Pe],Bt=1;if(!isNaN(Ke)){for(var St in Te){var Gt=ie.Utils.round(Math.log(St)/Math.log(Math.abs(Ke)),8);if(vn(Gt)){Ke=St,Bt=Gt;break}}var pn=new rn(Ke),Tn=[new rn(pn.num).negate()];Tn[Bt]=new rn(pn.den);var At=Cn.fromArray(Tn,ce.variable).fill(),nr=ce.divide(At);nr[1].equalsNumber(0)&&(ce=nr[0],re.push(At.toSymbol()))}}return ce.equalsNumber(1)||(ce=Je.Factor.search(ce,O)),re.forEach(function(qn){O.add(qn)}),ce.toSymbol()}catch{return q}},search:function(F,O,P){P=P||10;var q=F.variable,re=function(xn,Ur,ai,cn){var Nn=Cn.fit(xn,Ur,ai,P,cn,q);if(Nn&&Nn.coeffs.length>1){var zr=F.divide(Nn);if(zr[1].equalsNumber(0))return O.add(Nn.toSymbol()),[zr[0],Nn]}return null},ce=F.coeffs[0],ye=ie.Math2.ifactor(ce),Te=F.lc(),Me=ie.Math2.ifactor(Te),Pe=F.sub(P),Ke=ie.Math2.ifactor(Pe),Bt=Je.Factor.mix(Ke,Pe<0),St=Math.ceil(F.coeffs.length/2),Gt=Te.lessThan(0),pn=ce.lessThan(0);for(Me[1]=1,ye[1]=1;St--;)for(var Tn in Me)for(var At in ye)for(var nr=0;nr<Bt.length;nr++){var qn=re(Tn,At,Bt[nr],St);if(qn)return ie.Utils.isPrime((F=qn[0]).sub(P))||(F=Je.Factor.search(F,O)),F;qn||(Gt&&pn?qn=re(-Tn,-At,Bt[nr],St):Gt?qn=re(-Tn,At,Bt[nr],St):pn&&(qn=re(Tn,-At,Bt[nr],St)))}return F},mSqfrFactor:function(F,O){if(F.group!==Vn)for(var P=Xn(F).reverse(),q=0;q<P.length;q++)do{if(P[q]!==F.value){var re=ie.Calculus.diff(F,P[q]),ce=Je.Factor.coeffFactor(re);if(ce.equals(0))break;var ye=!0;if(ce.isConstant()&&F.isComposite()&&F.each(function(Pe){Pe.multiplier%ce!=0&&(ye=!1)},!0),ye){var Te=Je.div(F,ce.clone()),Me=Te[1].equals(0);if(F.equals(Te[0])&&Te[1].equals(0))break;if(Te[0].isConstant()){O.add(Te[0]);break}}else Me=!1;Me&&(O.add(Te[0]),F=ce)}else O.add(F),F=new ze(1)}while(Me);return F},sqdiff:function(F,O){if(F.isConstant("all"))return F;try{var P=function(Ke){return ie.Utils.block("POSITIVE_MULTIPLIERS",function(){return ze.unwrapPARENS(Wn.sqrt(Wn.abs(Ke)))},!0)},q=ie.Utils.separate(F.clone()),re=[];for(var ce in q)"constants"!==ce&&re.push(q[ce]);if(re.sort(function(Ke,Bt){return Bt.power-Ke.power}),2===re.length){var ye,Te;if(ye=re.pop(),Te=re.pop(),_t(ye.power)&&_t(Te.power)&&ye.sign()===Te.sign()&&ye.group===xe&&Te.group===xe)throw new Error("Unable to factor");if(ye.isComposite()&&Te.power.equals(2)){Te=P(Te);var Me=Je.Factor.factor(M.add(ye,q.constants));Me.power.equals(2)&&(Me.toLinear(),O.add(M.subtract(Me.clone(),Te.clone())),O.add(M.add(Me,Te)),F=new ze(1))}else if(ye=ye.powSimp(),Te=Te.powSimp(),(ye.group===xe||""===ye.fname)&&ye.power.equals(2)&&(Te.group===xe||""===Te.fname)&&Te.power.equals(2)&&!q.constants){if(ye.multiplier.lessThan(0)){var Pe=Te;Te=ye,ye=Pe}ye.multiplier.greaterThan(0)&&(ye=P(ye),Te=P(Te)),O.add(M.subtract(ye.clone(),Te.clone())),O.add(M.add(ye,Te)),F=new ze(1)}}}catch{}return F},mfactor:function(F,O){if(F.group===Vn)if("sqrt"===F.fname){var P=new Gr,q=Je.Factor.common(F.args[0].clone(),P);q=Je.Factor.coeffFactor(q,P),F=M.multiply(M.symfunction("sqrt",[q]),M.parse(F.multiplier)),P.each(function(Lr){F=M.multiply(F,M.parse(ie.Utils.format("sqrt({0})",Lr)))})}else O.add(F);else{F=Je.Factor.mSqfrFactor(F,O);for(var re=Xn(F),ce=F.collectSymbols().map(function(Lr){return ze.unwrapSQRT(Lr)}),ye={},Te={},Me=re.length,Pe=ce.length,Ke=0;Ke<Me;Ke++){var Bt=re[Ke];ye[Bt]=new ze(0);for(var St=0;St<Pe;St++){var Gt=ce[St];if(Gt.contains(Bt)){var pn=Gt.value===Bt?Gt.power.toDecimal():Gt.symbols[Bt].power.toDecimal();(!Te[Bt]||pn<Te[Bt])&&(Te[Bt]=pn),ye[Bt]=M.add(ye[Bt],Gt.clone())}}}for(var Tn in ye){var At=M.parse(Tn+"^"+Te[Tn]),nr=M.divide(ye[Tn],At),qn=M.expand(nr);if(qn.equals(1))break;var xn=Je.div(F.clone(),qn);if(xn[0].equals(0))break;if(xn[1].equals(0)){var Ur=!1;if(xn[0].each(function(Lr){vn(Lr.multiplier)||(Ur=!0)}),Ur){xn[1]=M.expand(M.multiply(xn[1],qn));break}}var ai=vn(qn)&&qn.lessThan(0);if(xn[1].equals(0)&&!ai){var cn=Je.div(F.clone(),xn[0].clone());if((At=cn[0]).equals(0)||(F=cn[1],At.equals(-1)&&!F.equals(0)))return F;var Nn=xn[0];if(F.equals(Nn)){var zr=Je.Factor.reduce(Nn,O);return F.equals(zr)?zr:Je.Factor.mfactor(zr,O)}return O.add(Nn),F.equals(0)?At:At.isConstant("all")?(O.add(At),At):Je.Factor.mfactor(At,O)}}}return F=Je.Factor.sqdiff(F,O),F=Je.Factor.zeroes(F,O)}},allLinear:function(F){for(var O=F.length,P=0;P<O;P++)if(!Je.isLinear(F[P]))return!1;return!0},isLinear:function(F){var O=!1,P=F.group;if(P===Hn||P===Pr)for(var q in O=!0,F.symbols){var re=F.symbols[q],ce=re.group;if((ce===Vn||ce===Tt)&&(O=!1),ce===Nt)O=1===Xn(re).length;else if(ce===Hn||ce===Pr)O=Je.isLinear(re);else if(re.group!==Dr&&"1"!==re.power.toString()){O=!1;break}}else P===xe&&1===F.power&&(O=!0);return O},gcd:function(){var F;if(0===(F=1===arguments.length&&arguments[0]instanceof ie.Vector?arguments[0].elements:ie.Utils.arguments2Array(arguments)).length)return new ze(1);if(1===F.length)return F[0];for(var O=[],P=!1,q=0;q<F.length;q++)if(F[q].group===Vn&&"gcd"===F[q].fname)(F=F.concat(arguments[q].args)).splice(q,1);else{var re=Xn(F[q]);if(ie.Utils.haveIntersection(re,O)){P=!0;break}O=O.concat(re)}if(P||0===O.length){if(F.every(function(ye){return ye.getDenom().equals(1)})){var ce=F[0];for(q=1;q<F.length;q++)ce=Je.gcd_(F[q],ce);return ce}return M.divide(Je.gcd.apply(null,F.map(function(ye){return ye.getNum()})),Je.lcm.apply(null,F.map(function(ye){return ye.getDenom()})))}return M.symfunction("gcd",F)},gcd_:function(F,O){if((F.group===Vn||F.group===kr)&&(F=ie.Utils.block("PARSE2NUMBER",function(){return M.parse(F)})),O.group===Vn&&(O=ie.Utils.block("PARSE2NUMBER",function(){return M.parse(O)})),F.isConstant()&&O.isConstant())return new ze(ie.Math2.QGCD(new rn(+F),new rn(+O)));var P=M.multiply(F.getDenom()||new ze(1),O.getDenom()||new ze(1)).invert();if(F=M.multiply(F.clone(),P.clone()),O=M.multiply(O.clone(),P.clone()),F=M.expand(F),O=M.expand(O),F.group===Nt||O.group===Nt){var q=M.divide(F.clone(),O.clone());if(!(re=M.multiply(O.clone(),q.getDenom().invert())).equals(1))return re}if(F.group===Tt||O.group===Tt){var ce=new ze(ie.Math2.GCD(F.multiplier,O.multiplier)),ye=Je.gcd_(F.value===Kt?new ze(1):M.parse(F.value),O.value===Kt?new ze(1):M.parse(O.value)),Te=Je.gcd_(M.parse(F.power),M.parse(O.power));return M.multiply(ce,M.pow(ye,Te))}if(F.length<O.length){var re=F;F=O,O=re}var Me=Xn(F),Pe=Xn(O);if(Me.length===Pe.length&&1===Me.length&&Me[0]===Pe[0]||1===Me.length&&0===Pe.length||0===Me.length&&1===Pe.length)return F=new Cn(F),O=new Cn(O),M.divide(F.gcd(O).toSymbol(),P);var Bt,Ke=[];for(F.each(function(Gt){Ke.push(Gt.multiplier)}),O.each(function(Gt){Ke.push(Gt.multiplier)});!O.equals(0);){if(re=O.clone(),F=F.clone(),Bt=Je.div(F,re),O=Bt[1],Bt[0].equals(0))return M.divide(new ze(ie.Math2.QGCD(F.multiplier,O.multiplier)),P);F=re}var St=ie.Math2.QGCD.apply(void 0,Ke);return St.equals(1)||F.each(function(Gt){Gt.multiplier=Gt.multiplier.divide(St)}),!F.equals(1)||F.isConstant()||O.isConstant()?M.divide(F,P):M.divide(M.symfunction("gcd",arguments),P)},lcm:function(){var F;1===arguments.length?arguments[0]instanceof ie.Vector?F=arguments[0].elements:M.error("lcm expects either 1 vector or 2 or more arguments"):F=ie.Utils.arguments2Array(arguments);var q,O=F.reduce(function(ce,ye){return M.multiply(ce,ye.clone())},new ze(1)),P=function(ce,ye){ye=Number(ye);var Me,Pe,Ke,Te=[],Bt=Math.pow(2,ce.length);for(Pe=ye;Pe<Bt;Pe++){Me=[],Ke=ce.length-1;do{0!=(Pe&1<<Ke)&&Me.push(ce[Ke])}while(Ke--);Me.length===ye&&Te.push(Me)}return Te}(arguments,arguments.length-1).map(function(ce){return ce.reduce(function(ye,Te){return M.multiply(ye,Te.clone())},new ze(1))});q=F.every(function(ce){return ie.Utils.isVariableSymbol(ce)})?M.symfunction("gcd",ie.Utils.arrayUnique(P)):Je.gcd.apply(null,P);var re=M.divide(O,q);return re},divide:function(F,O){var P,q,re,ce;return(ce=(re=ie.Algebra.Factor.factor(F.clone())).getDenom()).isConstant("all")?ce=new ze(1):F=M.expand(ze.unwrapPARENS(M.multiply(re,ce.clone()))),P=Je.div(F,O),q=M.divide(P[1],O),M.divide(M.add(P[0],q),ce)},div:function(F,O){var dt,ct,P=[new ze(0),F.clone()];try{if(O.isConstant("all"))return F.each(function(dt){dt.multiplier=dt.multiplier.divide(O.multiplier)}),[F,new ze(0)];if(F=M.expand(F),O=M.expand(O),F.group===xe&&O.group===Pr){var q=F.value,re=ie.Utils.decompose_fn(O.clone(),q,!0);if(F.isLinear()&&re.x&&re.x.isLinear()&&O.isLinear()){var ce=ze.create(F.multiplier);return[M.divide(ce.clone(),re.a.clone()),M.divide(M.multiply(ce,re.b),re.a).negate()]}}if(F.group===xe&&O.group===xe){var ye=M.divide(F.clone(),O.clone());return ye.isConstant()?[ye,new ze(0)]:[new ze(0),F.clone()]}var Te=F.hasFunc(),Me=O.hasFunc(),Pe=!1;if(Te||Me){Pe=!0;var Ke={},Bt=(F=M.parse(ie.Utils.subFunctions(F,Ke)),O=M.parse(ie.Utils.subFunctions(O,Ke)),ie.Utils.getFunctionsSubs(Ke))}var Gt,pn,St=ie.Utils.arrayUnique(Xn(F).concat(Xn(O)));if((F.isImaginary()||O.isImaginary())&&St.push(ie.Settings.IMAGINARY),1===St.length)Gt=(Tn=new Cn(F).divide(new Cn(O)))[0].toSymbol(),pn=Tn[1].toSymbol();else{St.push(Kt);var At=function(dt){for(var ct=new ze(0),ht=0;ht<dt.length;ht++){var It=dt[ht].toSymbol();ct=M.add(ct,It)}return ct},nr=function(dt,ct){var vt,ht=Math.max.apply(null,dt.terms),It=0;if(!ct)for(var at=0;at<dt.terms.length;at++)if(dt.terms[at].equals(ht)&&(vt=at,It++),It>1)return;if(ct)for(at=0;at<dt.terms.length;at++)if(dt.terms[at].equals(ht)){vt=at;break}return[ht,vt,dt]},qn=function(dt,ct){var ht=dt[ct=ct||0],It=dt.length;if(ht){for(var vt=nr(ht),at=ct+1;at<It;at++){var lt=dt[at],Wt=ht.sum.equals(lt.sum);if(!Wt&&vt)break;if(Wt){for(var Jt,sn,Jn,Dn,si=ht.terms.length,Zn=0;Zn<si;Zn++){var zn=ht.terms[Zn],Qr=lt.terms[Zn];(void 0===Jt||zn.greaterThan(Jt))&&(Jt=zn,Jn=Zn),(void 0===sn||Qr.greaterThan(sn))&&(sn=Qr,Dn=Zn)}var yn=Jt.subtract(lt.terms[Jn]),Hr=sn.subtract(ht.terms[Dn]);if(Hr>yn){vt=[sn,Dn,lt];break}if(yn>Hr){vt=[Jt,Jn,ht];break}}else if(vt=nr(lt))break;vt=nr(lt)}if(!vt)return nr(dt[0],!0);var qr,En;for(at=0;at<Nn.length;at++){var tn=Nn[at].terms;if((En=vt[1])===tn.length-1)return;if(!(qr=tn[En]).equals(0))break}return qr.equals(0)?qn(dt,++ct):vt}},xn=ie.Utils.toMapObj(St),Ur=function(dt,ct){return ct.sum.subtract(dt.sum)},ai=function(dt,ct){if(!dt||!ct)return!1;for(var ht=0;ht<dt.terms.length;ht++)if(dt.terms[ht].lessThan(ct.terms[ht]))return!1;return!0},cn=F.tBase(xn).sort(Ur),Nn=O.tBase(xn).sort(Ur),zr=ai(cn[0],Nn[0])&&cn[0].count>Nn[0].count?Nn:cn,Lr=qn(zr),Re=[];if(Lr){var Fe=Lr[1],pt=function(dt,ct){var ht=dt.len(),It=ct.len(),vt=ct.terms[Fe],at=dt.terms[Fe];return It>ht&&vt.greaterThan(at)?It-ht:vt.subtract(at)};Fe=function(dt,ct,ht){for(var It=[],vt=0;vt<dt.length;vt++)for(var at=dt[vt],lt=0;lt<at.terms.length;lt++){var Wt=It[lt],Jt=at.terms[lt];0===vt?It[lt]=Jt:Wt&&!Wt.equals(Jt)&&(It[lt]=void 0)}for(vt=0;vt<It.length;vt++)if((at=It[vt])&&!at.equals(0))return vt;return ht}(cn,0,Fe),cn.sort(pt),Nn.sort(pt);var Ct=Nn[0],kt=cn[0],$e=new Mn(new rn(1),[],kt.map);if(Ct.sum.greaterThan(kt.sum)&&kt.len()>1)for(var Le=0;Le<kt.terms.length;Le++){var an=Ct.terms[Le].subtract(kt.terms[Le]);if(an.equals(0))$e.terms[Le]=new rn(0);else{var L=an.add(new rn(1));$e.terms[Le]=an;for(var ue=0;ue<cn.length;ue++)cn[ue].terms[Le]=cn[ue].terms[Le].add(L)}}for(var we=ai(cn[0],Nn[0]),Qe=0;we&&(!(dt=cn)[0].sum.equals((ct=Nn)[0].sum)||dt.length>=ct.length);){if(Qe++>200)throw new ie.exceptions.InfiniteLoopError("Unable to compute!");var Tn=cn[0].divide(Nn[0]);for(Re.push(Tn),cn.shift(),Le=1;Le<Nn.length;Le++){var he=Nn[Le].multiply(Tn).generateImage(),nt=cn.length;for(0===nt&&(he.coeff=he.coeff.neg(),cn.push(he),cn.sort(pt)),ue=0;ue<nt;ue++){var bt=cn[ue];if(bt.getImg()===he.getImg()){bt.coeff=bt.coeff.subtract(he.coeff),bt.coeff.equals(0)&&(ie.Utils.remove(cn,ue),ue--);break}ue===nt-1&&(he.coeff=he.coeff.neg(),cn.push(he),cn.sort(pt))}}if(!(we=ai(cn[0],Nn[0]))&&cn.length>=Nn.length)for(Le=1;Le<cn.length;Le++)if(we=ai(cn[Le],Nn[0])){cn.unshift(ie.Utils.remove(cn,Le));break}}}Gt=At(Re),pn=At(cn),void 0!==$e&&($e=$e.toSymbol(),Gt=M.divide(Gt,$e.clone()),pn=M.divide(pn,$e))}return Pe&&(Gt=M.parse(Gt.text(),Bt),pn=M.parse(pn.text(),Bt)),[Gt,pn]}catch{return P}},line:function(F,O,P){ie.Utils.isArray(F)&&(F=ie.Utils.convertToVector(F)),ie.Utils.isArray(O)&&(O=ie.Utils.convertToVector(O)),P=M.parse(P||"x"),(!ie.Utils.isVector(F)||!ie.Utils.isVector(O))&&M.error('Line expects a vector! Received "'+F+'" & "'+O+'"');var q=M.subtract(O.e(1).clone(),F.e(1).clone()),re=M.subtract(O.e(2).clone(),F.e(2).clone()),ce=M.divide(re,q),ye=M.multiply(P,ce.clone()),Te=M.multiply(F.e(1).clone(),ce);return M.add(M.subtract(ye,Te),F.e(2).clone())},PartFrac:{createTemplate:function(F,O,P,q){var re,ce,ye,Te,Me,Pe,Ke;(F=Je.Factor.factor(F)).each(function(At,nr){if(At.group===Vn&&""===At.fname&&At.args[0].group===xe){var qn=At.args[0];this.symbols?(delete this.symbols[nr],this.symbols[qn.value]=qn):F=At.args[0]}}),re=O.collectFactors(),ce=[],Pe=[],Ke=new ze(1);for(var Bt=0;Bt<re.length;Bt++){var St=ze.unwrapPARENS(re[Bt]);if(St.power.greaterThan(1)){Te=Number(St.power),ye=St.clone().toLinear(),Me=Number(Je.degree(ye,q));for(var Gt=0;Gt<Te;Gt++){var pn=M.pow(ye.clone(),new ze(Gt+1));P.push(pn.clone());var Tn=M.divide(F.clone(),pn.clone());Pe.push(Me),ce.push(Tn)}}else Me=Number(Je.degree(St,q)),P.push(St),Tn=M.divide(F.clone(),St.clone()),Tn=M.expand(ze.unwrapPARENS(Tn)),Pe.push(Me),ce.push(Tn)}return[P=P.map(function(At){return M.multiply(At,Ke.clone())}),ce,Pe]},partfrac:function(F,O,P){var q=Xn(F);O=O||M.parse(q[0]);try{var re,ce,ye,Te,Me,Pe,Ke,Bt,St,Gt,pn,Tn,At,qn,xn,Ur,cn,Nn;if(re=M.expand(F.getNum()),ce=M.expand(F.getDenom().toUnitMultiplier()),re.multiplier=F.multiplier,Me=re.groupTerms(O),Number(Je.degree(re,O))>=Number(Je.degree(ce,O))?(At=(Tn=Je.div(re.clone(),M.expand(ce.clone())))[0],Me=(re=Tn[1]).groupTerms(O)):At=new ze(0),1===Number(Je.degree(ce,O))){var ai=M.divide(re,ce);return P?[At,ai]:M.add(At,ai)}Te=Je.Factor.factor(ce),xn=Je.PartFrac.createTemplate(ce.clone(),Te,[],O),Ur=xn[0],Pe=xn[2],pn=[Me.length],Ke=[],ye=[],qn=[],xn[1].map(function(pt,Ct){cn=Ur[Ct],Nn=Pe[Ct];for(var kt=0;kt<Nn;kt++){ye.push(cn.clone());var $e=ze.create(O,kt),Le=M.expand(M.multiply(pt,$e.clone())).groupTerms(O);pn.push(Le.length),Ke.push(Le),qn.push($e.clone())}}),Bt=ie.Utils.arrayMax(pn),Gt=new ie.Matrix(ie.Utils.fillHoles(Me,Bt)).transpose(),St=new ie.Matrix;for(var zr=0;zr<Ke.length;zr++)St.elements.push(ie.Utils.fillHoles(Ke[zr],Bt));var Lr=M.multiply(St.transpose().invert(),Gt),Re=P?[At]:At;return Lr.each(function(pt,Ct){var kt=M.multiply(qn[Ct],M.divide(pt,ye[Ct]));P?Re.push(kt):Re=M.add(Re,kt)}),Re}catch{try{if(F.isComposite()){var Fe={};F.each(function(Ct){var kt=Ct.getDenom(),$e=Ct.getNum(),Le=Fe[kt];Fe[kt]=Le?M.add(Le,$e):$e});var qe=new ze(0);for(var Ue in Fe)qe=M.add(qe,M.divide(Fe[Ue],M.parse(Ue)));F=qe}}catch{}}return F}},degree:function(F,O,P){if(P=P||{nd:[],sd:[],depth:0},!O){var q=Xn(F);if(q.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(0===q.length)return new ze(0);O=M.parse(q[0])}var re=F.group;F.isComposite()?((F=F.clone()).distributeExponent(),F.each(function(ye){P.depth++,Je.degree(ye,O,P),P.depth--})):F.group===Nt?F.each(function(ye){P.depth++,Je.degree(ye,O,P),P.depth++}):re===Tt&&F.value===O.value?P.sd.push(F.power.clone()):P.nd.push(re===xe&&F.value===O.value?M.parse(F.power):new ze(0));var ce=P.nd.length>0?ie.Utils.arrayMax(P.nd):void 0;return 0===P.depth&&P.sd.length>0?(void 0!==ce&&P.sd.unshift(ce),M.symfunction("max",P.sd)):(ie.Utils.isSymbol(ce)||(ce=M.parse(ce)),ce)},sqComplete:function(F,O,P){ie.Utils.isSymbol(O)||(O=M.parse(O));var re,ce,ye,Te,Me,Pe,Ke,Bt,St,Gt,pn,q=function(Tn){throw new ie.exceptions.ValueLimitExceededError(Tn=Tn||"Stopping")};return F.isPoly(!0)||q("Must be a polynomial!"),St=ie.Utils.inBrackets,F=F.clone(),(re=ie.Algebra.degree(F,O)).equals(2)||q("Cannot complete square for degree "+re),ce=(Ke=ie.Algebra.coeffs(F,O))[2],Bt=Ke[1].sign(),ye=M.divide(Ke[1],new ze(2)),Te=M.pow(ye.clone(),new ze(2)),P?[ce,ye,Me]:(pn=Wn.sqrt(ce),Pe=M.divide(Wn.sqrt(Te),pn.clone()),Me=M.subtract(Ke[0],M.pow(Pe.clone(),new ze(2))),{a:Gt=M.parse(St(pn.clone()+"*"+O+(Bt<0?"-":"+")+Pe)),c:Me,f:M.add(M.pow(Gt.clone(),new ze(2)),Me.clone())})},Simplify:{strip:function(F){var O=M.parse(F.multiplier);F.toUnitMultiplier();var P=M.parse(F.power);return F.toLinear(),[O,P,F]},unstrip:function(F,O){return M.multiply(F[0],M.pow(O,F[1]))},complexSimp:function(F,O){var P,q,re,ce,ye,Te,Me,Pe,Ke;return Te=F.realpart(),Pe=F.imagpart(),Me=O.realpart(),Ke=O.imagpart(),P=M.multiply(Te.clone(),Me.clone()),q=M.multiply(Pe.clone(),Ke.clone()),re=M.multiply(Me.clone(),Pe),ce=M.multiply(Te,Ke.clone()),ye=M.add(M.pow(Me,new ze(2)),M.pow(Ke,new ze(2))),M.divide(M.add(M.add(P,q),M.multiply(M.subtract(re,ce),ze.imaginary())),ye)},trigSimp:function(F){if(F.containsFunction(["cos","sin","tan"])){F=F.clone();var O=Je.Simplify.strip(F),P=(F=O.pop()).clone();if(F.group===Pr){var q=new ze(0);F.each(function(Te){var Me=Je.Simplify.trigSimp(Te.fnTransform());q=M.add(q,Me)},!0),P=M.pow(M.multiply(new ze(F.multiplier),q),new ze(F.power))}else if(F.group===Nt){var re=F.getNum(),ce=F.getDenom();if("sin"===re.fname&&"cos"===ce.fname&&re.args[0].equals(ce.args[0])&&re.power.equals(ce.power)&&(P=M.parse(ie.Utils.format("({0})*({1})*tan({2})^({3})",ce.multiplier,re.multiplier,re.args[0],re.power))),P.group===Nt){var ye=new ze(1);P.each(function(Te){"tan"===Te.fname&&(Te=M.parse(ie.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",Te.multiplier,Je.Simplify.simplify(Te.args[0]),Te.power))),ye=M.multiply(ye,Te)}),P=ye}}F=P=Je.Simplify.unstrip(O,P).distributeMultiplier()}return F},fracSimp:function(F){var O=F.getDenom();if((P=F.getNum()).isImaginary()&&O.isImaginary()&&(F=Je.Simplify.complexSimp(P,O)),F.isComposite()){F.power>1&&(F=M.expand(F));var re,ce,ye,Te,Me,Pe,Ke,Bt,St,Gt,pn,P,q=F.collectSymbols();for(ce=q.pop();q.length;)ye=q.pop(),Te=M.parse(ce.getDenom()),Me=M.parse(ye.getDenom()),Pe=ce.getNum(),Ke=ye.getNum(),pn=M.multiply(Te.clone(),Me.clone()),St=M.multiply(Pe,Me),Gt=M.multiply(Ke,Te),Bt=M.add(St,Gt),ce=M.divide(Bt,pn);return O=M.expand(ce.getDenom()),(re=(P=M.expand(ce.getNum())).isImaginary()&&O.isImaginary()?Je.Simplify.complexSimp(P,O):M.divide(P,O)).equals(F)?F:Je.Simplify.simplify(re)}return F},ratSimp:function(F){if(F.group===Nt){var O=F.getDenom(),P=F.getNum().distributeMultiplier(),q=Je.Simplify.fracSimp(O),re=Je.Simplify.fracSimp(P);F=M.divide(re,q)}return F},sqrtSimp:function(F,O){if(F.isSQRT()){var ye,q=Je.Factor.factor(F.args[0].clone()),re=M.parse(q.multiplier),ce=re.sign(),P=M.sqrt(re.abs());if(vn(P)){if(q.group===Nt){var Te=new ze(1);q.each(function(Ke){if(Ke.group===Dr){var Bt=M.sqrt(Ke.clone());vn(Bt)?P=M.multiply(P,Bt):Te=M.multiply(Te,Ke)}else Te=M.multiply(Te,Ke)});var Me=M.multiply(Te,M.parse(ce));(ye=M.sqrt(Me.clone())).isImaginary&&(ye=M.sqrt(M.expand(Me.clone())))}else ye=M.sqrt(q.clone().toUnitMultiplier());return M.multiply(P,ye)}}else F.isComposite()&&F.isLinear()?(P=new ze(0),F.each(function(Pe){P=M.add(P,Je.Simplify.sqrtSimp(Pe))},!0),P=M.multiply(P,M.parse(F.multiplier))):F.group===Nt&&(P=M.parse(F.multiplier),F.each(function(Pe){var Ke=Je.Simplify.sqrtSimp(Pe);P=M.multiply(P,Ke)},!0),P=M.pow(P,M.parse(F.power)));return P||M.parse(F)},patternSub:function(F){var O={},P=function(re){var ce=!1;return re.each(function(ye){ye.group===Pr?ce=!0:ye.symbols&&(ce=P(ye))}),ce},q=function(re){re.each(function(ce){if(ce.symbols||ce.group===Vn)if(P(ce))q(ce);else if(!O[ce.value]){var ye=ie.Utils.getU(F);O[ce.value]=ye,F=F.sub(ce.value,ye)}},!0)};return q(F),[F,O]},simplify:function(F){var O=Je.Simplify.strip(F);if(F=O.pop(),(F=Je.Simplify.fracSimp(F)).isConstant()||F.group===ie.groups.S)return O.push(F),Je.Simplify.unstrip(O,F);var q=F.clone();if(q=Je.Simplify.trigSimp(q),q=Je.Simplify.ratSimp(q),(q=Je.Factor.factor(q)).group===ie.groups.CP&&q.isLinear()){var re=q.multiplier.clone();q.toUnitMultiplier();var ce=new ze(0);q.each(function(Te){var Me=Je.Simplify.simplify(Te);ce=M.add(ce,Me)}),q=ce,ce.multiplier=ce.multiplier.multiply(re)}return Je.Simplify.unstrip(O,q)}},Classes:{Polynomial:Cn,Factors:Gr,MVTerm:Mn}};ie.Expression.prototype.simplify=function(){return Je.Simplify.simplify(this.symbol)},Hs.useAlgebraDiv=function(){var F=Je.divideFn=M.divide,O=0;M.divide=function(P,q){var re;return re=1==++O?ie.Algebra.divide(P,q):F(P,q),O=0,re}},Hs.useParserDiv=function(){Je.divideFn&&(M.divide=Je.divideFn),delete Je.divideFn},Hs.register([{name:"factor",visible:!0,numargs:1,build:function(){return Je.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return Je.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return Je.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return Je.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return Je.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return Je.divide}},{name:"div",visible:!0,numargs:2,build:function(){return Je.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return Je.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return Je.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var O=Je.coeffs.apply(Je,arguments);return new ie.Vector(O)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return Je.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(O,P){try{return P=P||Xn(O)[0],Je.sqComplete(O.clone(),P).f}catch{return O}}}}]),Hs.updateAPI()}()},374:(Ya,Hl,vr)=>{if(void 0===Hs){var Hs=vr(270);vr(512)}!function(){"use strict";var ie=Hs.getCore(),M=ie.PARSER,Dr=ie.Frac,kr=ie.Settings,xe=ie.Utils.isSymbol,Tt=ie.Symbol,Vn=ie.Utils.text,Hn=ie.Utils.inBrackets,Pr=ie.Utils.isInt,Nt=ie.Utils.format,ve=ie.Utils.even,_t=ie.Utils.evaluate,Xn=ie.groups.N,Lt=ie.groups.S,mn=ie.groups.FN,rn=ie.groups.PL,vn=ie.groups.CP,ze=ie.groups.CB,Kt=ie.groups.EX,Wn=ie.groups.P,Yr=kr.LOG,Gr="abs",Mn="sqrt",Je="sin",F="cos",O="tan",P="sec",q="csc",re="cot",ce="asin",ye="acos",Te="atan",Me="asec",Pe="acsc",Ke="acot",Bt="sinh",St="cosh",Gt="tanh",Tn="sech",nr="asech",qn="acsch",xn="acoth";function Ur(Fe){this.message=Fe||""}Ur.prototype=new Error,Tt.prototype.hasIntegral=function(){return this.containsFunction("integrate")},Tt.prototype.fnTransform=function(){if(this.group!==mn)return this;var Fe,qe=this.args[0],Ue=new Tt(this.multiplier),pt=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case Bt:Fe=M.parse(Nt("(e^({0})-e^(-({0})))/2",qe));break;case St:Fe=M.parse(Nt("(e^({0})+e^(-({0})))/2",qe));break;case Gt:Fe=M.parse(Nt("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",qe));break;case O:Fe=M.parse(Nt("sin({0})/cos({0})",qe));break;case q:Fe=M.parse(Nt("1/sin({0})",qe));break;case P:Fe=M.parse(Nt("1/cos({0})",qe));break;default:Fe=pt}else if(this.power.equals(2))switch(this.fname){case Je:Fe=M.parse(Nt("1/2-cos(2*({0}))/2",qe));break;case F:Fe=M.parse(Nt("1/2+cos(2*({0}))/2",qe));break;case O:Fe=M.parse(Nt("sin({0})^2/cos({0})^2",qe));break;case St:Fe=M.parse(Nt("1/2+cosh(2*({0}))/2",qe));break;case Bt:Fe=M.parse(Nt("-1/2+cosh(2*({0}))/2",qe));break;case Gt:Fe=M.parse(Nt("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",qe));break;case P:Fe=M.parse(Nt("(1-cos(2*({0})))/(1+cos(2*({0})))+1",qe));break;default:Fe=pt}else if(this.fname===P)Fe=M.parse(Nt("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===q)Fe=M.parse(Nt("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===O)Fe=this.power.lessThan(0)?M.parse(Nt("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):M.parse(Nt("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===Je&&this.power.lessThan(0))Fe=M.parse(Nt("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===F&&this.power.lessThan(0))Fe=M.parse(Nt("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===Je&&this.power.equals(3))Fe=M.parse(Nt("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===F&&this.power.equals(3))Fe=M.parse(Nt("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if(this.fname!==F&&this.fname!==Je||!ve(this.power))Fe=pt;else{var Ct=this.power/2,kt=M.pow(this.clone().toLinear(),M.parse(2)).fnTransform(),$e=M.expand(M.pow(kt,M.parse(Ct)));Fe=new Tt(0),$e.each(function(Le){var an=Le.fnTransform();Fe=M.add(Fe,an)},!0)}return M.multiply(Fe,Ue)},Tt.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===Lt)return!1;if(this.fname&&(ie.Utils.in_trig(this.fname)||ie.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols)for(var Fe in this.symbols)if(this.symbols[Fe].hasTrig())return!0;return!1},ie.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},ie.Utils.toCommonDenominator=function(Fe){if(Fe.isComposite()&&Fe.isLinear()){var qe=new Tt(Fe.multiplier),Ue=new Tt(1),pt=new Tt(0);return Fe.each(function(kt){Ue=M.multiply(Ue,kt.getDenom())},!0),Fe.each(function(kt){var $e=kt.getNum(),Le=kt.getDenom(),an=M.multiply($e,M.divide(Ue.clone(),Le));pt=M.add(pt,an)}),M.multiply(qe,ie.Algebra.divide(M.expand(pt),M.expand(Ue)))}return Fe},ie.Utils.in_inverse_trig=function(Fe){return-1!==[ce,ye,Te,Pe,Me,Ke].indexOf(Fe)},ie.Utils.in_trig=function(Fe){return-1!==[F,Je,O,P,q,re].indexOf(Fe)},ie.Utils.in_htrig=function(Fe){return-1!==[Bt,St,Gt,qn,nr,xn].indexOf(Fe)},ie.Matrix.jacobian=function(Fe,qe){var Ue=new ie.Matrix;return qe||(qe=ie.Utils.arrayGetVariables(Fe)),qe.forEach(function(pt,Ct){Fe.forEach(function(kt,$e){var Le=ie.Calculus.diff(kt.clone(),pt);Ue.set($e,Ct,Le)})}),Ue},ie.Matrix.prototype.max=function(){var Fe=new Tt(0);return this.each(function(qe){var Ue=qe.abs();Ue.gt(Fe)&&(Fe=Ue)}),Fe},ie.Matrix.cMatrix=function(Fe,qe){var Ue=new ie.Matrix;return qe.forEach(function(pt,Ct){Ue.set(Ct,0,M.parse(Fe))}),Ue};var ai=ie.Utils.all_functions=function(Fe){for(var qe=0,Ue=Fe.length;qe<Ue;qe++)if(Fe[qe].group!==mn)return!1;return!0},cn=ie.Utils.cosAsinBtranform=function(Fe,qe){return M.parse(Nt("(sin(({0})+({1}))-sin(({0})-({1})))/2",Fe.args[0],qe.args[0]))},Nn=ie.Utils.cosAsinAtranform=function(Fe,qe){return 1!==Number(qe.power)?M.multiply(Fe,qe):M.parse(Nt("(sin(2*({0})))/2",Fe.args[0]))},zr=ie.Utils.cosAsinBtranform=function(Fe,qe){return M.parse(Nt("(cos(({0})+({1}))-cos(({0})-({1})))/2",Fe.args[0],qe.args[0]))},Lr=ie.Utils.trigTransform=function(Fe){for(var Ue,pt,qe={},Ct=new Tt(1),kt=0,$e=Fe.length;kt<$e;kt++)if((Ue=Fe[kt]).group===mn){var Le=Ue.fname;Le===F&&qe.sin?(pt=qe.sin.args[0].toString()!==Ue.args[0].toString()?cn(Ue,qe.sin):Nn(Ue,qe.sin),delete qe.sin,Ct=M.multiply(Ct,pt)):Le===Je&&qe[F]?(pt=qe[F].args[0].toString()!==Ue.args[0].toString()?cn(Ue,qe[F]):Nn(Ue,qe[F]),delete qe[F],Ct=M.multiply(Ct,pt)):Le===Je&&qe.sin?(qe.sin.args[0].toString()!==Ue.args[0].toString()?(pt=zr(Ue,qe.sin),delete qe.sin):(pt=M.multiply(Ue,qe.sin),delete qe.sin),Ct=pt):qe[Le]=Ue}else Ct=M.multiply(Ct,Ue);for(var an in qe)Ct=M.multiply(Ct,qe[an]);return Ct};ie.Settings.integration_depth=10,ie.Settings.max_lim_depth=10;var Re=ie.Calculus={version:"1.4.6",sum:function(Fe,qe,Ue,pt){if(qe.group!==ie.groups.S)throw new ie.exceptions.NerdamerTypeError("Index must be symbol. "+Vn(qe)+" provided");var Ct;if(qe=qe.value,ie.Utils.isNumericSymbol(Ue)&&ie.Utils.isNumericSymbol(pt)){var kt=pt-Ue<200?"":"PARSE2NUMBER";Ue=Number(Ue),pt=Number(pt),Ct=ie.Utils.block(kt,function(){for(var $e=Fe.text(),Le={"~":!0},an=new ie.Symbol(0),L=Ue;L<=pt;L++){Le[qe]=new Tt(L);var ue=M.parse($e,Le);an=M.add(an,ue)}return an})}else Ct=M.symfunction("sum",arguments);return Ct},product:function(Fe,qe,Ue,pt){if(qe.group!==ie.groups.S)throw new ie.exceptions.NerdamerTypeError("Index must be symbol. "+Vn(qe)+" provided");var Ct;if(qe=qe.value,ie.Utils.isNumericSymbol(Ue)&&ie.Utils.isNumericSymbol(pt)){var kt=pt-Ue<200?"":"PARSE2NUMBER";Ct=ie.Utils.block(kt,function(){Ue=Number(Ue),pt=Number(pt.multiplier);for(var $e=Fe.text(),Le={},an=new ie.Symbol(1),L=Ue;L<=pt;L++)Le[qe]=new Tt(L),an=M.multiply(an,M.parse($e,Le));return an})}else Ct=M.symfunction("product",arguments);return Ct},diff:function(Fe,qe,Ue){if(ie.Utils.isVector(Fe)){var pt=new ie.Vector([]);return Fe.each(function(he){pt.elements.push(Re.diff(he,qe,Ue))}),pt}if(ie.Utils.isMatrix(Fe)){var Ct=new ie.Matrix;return Fe.each(function(he,nt,bt){Ct.set(nt,bt,Re.diff(he,qe,Ue))}),Ct}var kt=xe(qe)?qe.text():qe;if(Ue=xe(Ue)?Ue.multiplier:Ue||1,void 0===kt&&(kt=ie.Utils.variables(Fe)[0]),Fe.group===mn&&Fe.fname===Mn){var $e=Fe.args[0],Le=Fe.power.clone();($e.group!==Xn||$e.group!==Wn)&&($e.power=xe($e.power)?M.multiply($e.power,M.multiply(new Tt(.5)),Le):$e.power.multiply(new Dr(.5)).multiply(Le),$e.multiplier=$e.multiplier.multiply(Fe.multiplier)),Fe=$e}if(Fe.group!==mn||xe(Fe.power))Fe=we(Fe);else{var an=we(M.parse(Fe)),L=Re.diff(Fe.args[0].clone(),kt);Fe=M.multiply(an,L)}return Ue>1&&(Ue--,Fe=Re.diff(Fe,qe,Ue)),Fe;function ue(he){return(he.value===kt||he.contains(kt,!0))&&(he.multiplier=he.multiplier.multiply(he.power),he.power=he.power.subtract(new Dr(1)),he.power.equals(0)&&(he=Tt(he.multiplier))),he}function we(he){var dt,ct,nt=he.group;if(nt===Xn||nt===Lt&&he.value!==kt||nt===Wn)he=Tt(0);else if(nt===Lt)he=ue(he);else{if(nt===ze){var ht=he.multiplier.clone();he.toUnitMultiplier();var It=M.multiply(function Ye(he){for(var nt=he.collectSymbols(),bt=new Tt(0),dt=nt.length,ct=0;ct<dt;ct++){for(var ht=Re.diff(nt[ct].clone(),kt),It=0;It<dt;It++)ct!==It&&(ht=M.multiply(ht,nt[It].clone()));bt=M.add(bt,ht)}return bt}(he),ue(he));return It.multiplier=It.multiplier.multiply(ht),It}if(nt===mn&&he.power.equals(1))switch(he.fname){case Yr:ct=he.clone(),(he=he.args[0].clone()).power=he.power.negate(),he.multiplier=ct.multiplier.divide(he.multiplier);break;case F:he.fname=Je,he.multiplier.negate();break;case Je:he.fname=F;break;case O:he.fname=P,he.power=new Dr(2);break;case P:he=Qe(he,O);break;case q:he=Qe(he,"-cot");break;case re:he.fname=q,he.multiplier.negate(),he.power=new Dr(2);break;case ce:he=M.parse("(sqrt(1-("+Vn(he.args[0])+")^2))^(-1)");break;case ye:he=M.parse("-(sqrt(1-("+Vn(he.args[0])+")^2))^(-1)");break;case Te:he=M.parse("(1+("+Vn(he.args[0])+")^2)^(-1)");break;case Gr:ht=he.multiplier.clone(),he.toUnitMultiplier(),(dt=he.args[0].clone()).toUnitMultiplier(),(he=M.parse(Hn(Vn(he.args[0]))+"/abs"+Hn(Vn(dt)))).multiplier=ht;break;case"parens":he=Tt(1);break;case"cosh":he.fname="sinh";break;case"sinh":he.fname="cosh";break;case Gt:he.fname=Tn,he.power=new Dr(2);break;case Tn:he=Qe(he,"-tanh");break;case"csch":var vt=String(he.args[0]);return M.parse("-coth("+vt+")*csch("+vt+")");case"coth":return vt=String(he.args[0]),M.parse("-csch("+vt+")^2");case"asinh":he=M.parse("(sqrt(1+("+Vn(he.args[0])+")^2))^(-1)");break;case"acosh":he=M.parse("(sqrt(-1+("+Vn(he.args[0])+")^2))^(-1)");break;case"atanh":he=M.parse("(1-("+Vn(he.args[0])+")^2)^(-1)");break;case nr:vt=String(he.args[0]),he=M.parse("-1/(sqrt(1/("+vt+")^2-1)*("+vt+")^2)");break;case xn:he=M.parse("-1/(("+he.args[0]+")^2-1)");break;case qn:vt=String(he.args[0]),he=M.parse("-1/(sqrt(1/("+vt+")^2+1)*("+vt+")^2)");break;case Me:vt=String(he.args[0]),he=M.parse("1/(sqrt(1-1/("+vt+")^2)*("+vt+")^2)");break;case Pe:vt=String(he.args[0]),he=M.parse("-1/(sqrt(1-1/("+vt+")^2)*("+vt+")^2)");break;case Ke:he=M.parse("-1/(("+he.args[0]+")^2+1)");break;case"S":vt=String(he.args[0]),he=M.parse("sin((pi*("+vt+")^2)/2)");break;case"C":vt=String(he.args[0]),he=M.parse("cos((pi*("+vt+")^2)/2)");break;case"Si":he=M.parse("sin("+(vt=he.args[0])+")/("+vt+")");break;case"Shi":he=M.parse("sinh("+(vt=he.args[0])+")/("+vt+")");break;case"Ci":he=M.parse("cos("+(vt=he.args[0])+")/("+vt+")");break;case"Chi":he=M.parse("cosh("+(vt=he.args[0])+")/("+vt+")");break;case"Ei":he=M.parse("e^("+(vt=he.args[0])+")/("+vt+")");break;case"Li":he=M.parse("1/"+kr.LOG+"("+(vt=he.args[0])+")");break;case"erf":he=M.parse("(2*e^(-("+he.args[0]+")^2))/sqrt(pi)");break;case"atan2":var at=String(he.args[0]),lt=String(he.args[1]);he=M.parse("("+lt+")/(("+lt+")^2+("+at+")^2)");break;case"sign":he=new Tt(0);break;case"sinc":he=M.parse(Nt("(({0})*cos({0})-sin({0}))*({0})^(-2)",he.args[0]));break;case kr.LOG10:he=M.parse("1/(("+he.args[0]+")*"+kr.LOG+"(10))");break;default:he=M.symfunction("diff",[he,qe])}else if(nt===Kt||nt===mn&&xe(he.power)){var Wt;Wt=nt===Kt?he.value:nt===mn&&he.contains(kt)?he.fname+Hn(Vn(he.args[0])):he.value+Hn(Vn(he.args[0])),M.multiply(M.parse(Yr+Hn(Wt)),he.power.clone()),dt=Re.diff(M.multiply(M.parse(Yr+Hn(Wt)),he.power.clone()),kt),he=M.multiply(he,dt)}else if(nt!==mn||he.power.equals(1)){if(nt===vn||nt===rn){var Jt=he.clone(),sn=new Tt(0);for(var Jn in he.symbols)sn=M.add(sn,Re.diff(he.symbols[Jn].clone(),kt));he=M.multiply(ue(Jt),sn)}}else(dt=he.clone()).toLinear(),dt.toUnitMultiplier(),he=M.multiply(ue(he.clone()),we(dt))}return he.updateHash(),he}function Qe(he,nt,bt){return M.multiply(he,M.parse(nt+Hn(bt||Vn(he.args[0]))))}},integration:{u_substitution:function(Fe,qe){function Ue(at,lt,Wt){var Jt=Re.diff(lt,qe),sn=Wt?Wt(at,lt):M.divide(at.clone(),Jt);return sn.contains(qe,!0)?null:sn}function pt(at,lt){var Wt=Re.integrate(M.symfunction(at,[new Tt(an)]),an,0);return(Wt=Wt.sub(new Tt(an),lt)).updateHash(),Wt}var L,Ct=Fe[0].clone(),kt=Fe[1].clone(),$e=Ct.group,Le=kt.group,an="__u__";if($e===mn&&Le!==mn){if(L=Ue(kt,(ue=Ct.args[0]).clone()))return M.multiply(L,pt(Ct.fname,ue));if(L=Ue(kt,Ct))return Re.integration.poly_integrate(Ct)}else if(Le===mn&&$e!==mn){var ue;if(L=Ue(Ct,(ue=kt.args[0]).clone()))return M.multiply(L,pt(kt.fname,ue))}else if($e===mn&&Le===mn){if((L=Ue(Ct.clone(),kt.clone()))||(L=Ue(kt.clone(),Ct.clone())))return M.multiply(Re.integration.poly_integrate(kt),L)}else{if($e===Kt&&Le!==Kt){if(!(L=Ue(kt,(we=Ct.power).clone()))){var Qe=Re.integration.decompose_arg(we.clone(),qe),Ye=Re.diff(Qe[2].clone(),qe),he=Re.integration.decompose_arg(Ye.clone(),qe);if(M.multiply(Qe[1],he[1]).power.equals(kt.power)){var nt=M.divide(Qe[0].clone(),he[0].clone()),bt=M.multiply(nt.clone(),M.pow(new Tt(Ct.value),M.multiply(Qe[0],new Tt(an))));return bt=M.multiply(bt,new Tt(an)),Re.integration.by_parts(bt,an,0,{}).sub(an,Qe[1].clone())}}var dt=Re.integrate(Ct.sub(we.clone(),new Tt(an)),an,0);return M.multiply(dt.sub(new Tt(an),we),L)}var we;if(Le===Kt&&$e!==Kt)return L=Ue(Ct,(we=kt.power).clone()),dt=Re.integrate(kt.sub(we,new Tt(an)),an,0),M.multiply(dt.sub(new Tt(an),we),L);if(Ct.isComposite()||kt.isComposite()){var ht=function(at,lt){var Wt=Re.diff(lt,qe),Jt=ie.Algebra.Factor.factor(at),sn=ie.Algebra.Factor.factor(Wt);return M.divide(Jt,sn)},It=Ct.isComposite()?Ct.clone().toLinear():Ct.clone(),vt=kt.isComposite()?kt.clone().toLinear():kt.clone();if(L=Ue(It.clone(),vt.clone(),ht))return M.multiply(Re.integration.poly_integrate(kt),L);if(L=Ue(vt.clone(),It.clone(),ht))return M.multiply(Re.integration.poly_integrate(Ct),L)}}},poly_integrate:function(Fe){var qe=Fe.power.toString(),Ue=Fe.multiplier.toDecimal(),pt=Fe.toUnitMultiplier().toLinear();return-1===Number(qe)?M.multiply(new Tt(Ue),M.symfunction(Yr,[pt])):M.parse(Nt("({0})*({1})^(({2})+1)/(({2})+1)",Ue,pt,qe))},stop:function(Fe){throw ie.Utils.warn(Fe=Fe||"Unable to compute integral!"),new Ur(Fe)},partial_fraction:function(Fe,qe,Ue,pt){var Ct,kt;return xe(qe)||(qe=M.parse(qe)),Ct=new Tt(0),(kt=ie.Algebra.PartFrac.partfrac(Fe,qe)).group===ze&&kt.isLinear()?(kt.each(function($e){$e.isLinear()||Re.integration.stop()}),kt.each(function($e){Ct=M.add(Ct,Re.integrate($e,qe,Ue,pt))})):Ct=M.add(Ct,Re.integrate(kt,qe,Ue,pt)),Ct},get_udv:function(Fe){var qe=[[],[],[],[],[]],Ue=function(ue){var we=ue.group;if(we===mn){var Qe=ue.fname;ie.Utils.in_trig(Qe)||ie.Utils.in_htrig(Qe)?qe[3].push(ue):ie.Utils.in_inverse_trig(Qe)?qe[1].push(ue):Qe===Yr?qe[0].push(ue):Re.integration.stop()}else we===Lt||ue.isComposite()&&ue.isLinear()||we===ze&&ue.isLinear()?qe[2].push(ue):we===Kt||ue.isComposite()&&!ue.isLinear()?qe[4].push(ue):Re.integration.stop()};Fe.group===ze?Fe.each(function(ue){Ue(Tt.unwrapSQRT(ue,!0))}):Ue(Fe);for(var pt,Ct=new Tt(1),kt=0;kt<5;kt++){var Le,$e=qe[kt],an=$e.length;if(an>0){if(an>1){Le=new Tt(1);for(var L=0;L<an;L++)Le=M.multiply(Le,$e[L].clone())}else Le=$e[0].clone();pt?Ct=M.multiply(Ct,Le):(pt=Le).multiplier=pt.multiplier.multiply(Fe.multiplier)}}return[pt,Ct]},trig_sub:function(Fe,qe,Ue,pt,Ct,kt){var an=(Ct=Ct||Re.integration.decompose_arg(Fe.clone().toLinear(),qe))[0],L=Ct[1];if(L.power.equals(2)&&an.greaterThan(0)){var ue=ie.Utils.getU(Fe),we=M.parse(O+Hn(ue)),Qe=M.parse(P+Hn(ue)+"^2"),Ye=M.multiply(Fe.sub(L,we),Qe),he=Re.integrate(Ye,ue,Ue,pt).sub(we,L);return ie.Utils.clearU(we),he}},by_parts:function(Fe,qe,Ue,pt){var Ct,kt,$e,Le,an,L,ue,we,Qe,Ye,he,nt;if(pt.previous=pt.previous||[],$e=(Ct=Re.integration.get_udv(Fe))[1],he=(Le=Tt.unwrapSQRT(M.expand(Re.diff((kt=Ct[0]).clone(),qe)),!0)).clone().stripVar(qe),Le=M.divide(Le,he.clone()),an=Re.integrate($e.clone(),qe,Ue||0),nt=(L=M.multiply(an.clone(),Le)).toString(),-1!==pt.previous.indexOf(nt)&&ie.Utils.in_trig(kt.fname)&&$e.isE())return pt.is_cyclic=!0,new Tt(1);if(pt.previous.push(nt),ue=M.multiply(kt,an),Ye=L.multiplier.clone(),L.toUnitMultiplier(),(Qe=M.multiply(Re.integrate(L.clone(),qe,Ue,pt),he)).multiplier=Qe.multiplier.multiply(Ye),we=M.subtract(ue,Qe),pt.is_cyclic&&(pt.previous.pop(),0===pt.previous.length)){we=M.expand(we);var bt=new Tt(0);we.each(function(dt){dt.contains(qe)||(bt=M.add(bt,dt.clone()))}),we=M.divide(M.subtract(we,bt.clone()),M.subtract(new Tt(1),bt))}return we},decompose_arg:ie.Utils.decompose_fn},integrate:function(Fe,qe,Ue,pt){if(!qe){var Ct=ie.Utils.variables(Fe);1===Ct.length&&(qe=Ct[0]),qe=qe||"x"}if(ie.Utils.isVector(Fe)){var kt=new ie.Vector([]);return Fe.each(function($e){kt.elements.push(Re.integrate($e,qe))}),kt}return isNaN(qe)||M.error("variable expected but received "+qe),Fe.isConstant(!0)?M.multiply(Fe.clone(),M.parse(qe)):(pt=pt||{},ie.Utils.block("PARSE2NUMBER",function(){Ue=Ue||0;var L,$e=xe(qe)?qe.toString():qe,Le=Tt.unwrapSQRT(Fe.clone(),!0),an=Le.group;try{if(++Ue>ie.Settings.integration_depth&&Re.integration.stop("Maximum depth reached. Exiting!"),Le.contains($e,!0)){if(an===Lt)L=Re.integration.poly_integrate(Le,$e,Ue);else if(an===Kt)if(Le.previousGroup===mn&&!("sqrt"===Le.fname||Le.fname===kr.PARENTHESIS)&&Re.integration.stop(),Le.contains($e)&&Le.previousGroup!==mn)Le.power.contains($e)?Re.integration.stop():((ue=Re.diff(Le.clone().toLinear(),$e)).contains($e)&&Re.integration.stop(),L=Re.integration.poly_integrate(Le,$e,Ue));else{if((we=Re.diff(Le.power.clone(),$e)).contains($e)){var Qe=we.stripVar($e);if((Ye=M.divide(we.clone(),Qe.clone())).group===Lt&&Ye.isLinear())return Qe.multiplier=Qe.multiplier.divide(new Dr(2)),M.parse(Nt("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",Qe,$e,Le.multiplier));Re.integration.stop()}if(Le.isE())we.isLinear()?L=Le:we.isE()&&we.power.group===Lt&&we.power.power.equals(1)?L=M.multiply(M.symfunction("Ei",[Le.power.clone()]),Le.power):Re.integration.stop();else{var he=M.symfunction(Yr,[M.parse(Le.value)]);L=M.divide(Le,he)}L=M.divide(L,we)}else if(Le.isComposite()&&Le.isLinear()){var nt=M.parse(Le.multiplier);Le.toUnitMultiplier(),L=new Tt(0),Le.each(function(Fi){L=M.add(L,Re.integrate(Fi,$e,Ue))}),L=M.multiply(nt,L)}else if(an===vn)if(Le.power.greaterThan(1)&&(Le=M.expand(Le)),Le.power.equals(1))L=new Tt(0),Le.each(function(Fi){L=M.add(L,Re.integrate(Fi,$e,Ue))},!0);else{var bt=Number(Le.power);nt=Le.multiplier.clone(),Le.toUnitMultiplier();var dt=Le.clone().toLinear(),ht=(ct=Re.integration.decompose_arg(dt,$e))[3],It=ct[2],we=ct[0],Ye=ct[1];if(-1===bt&&Ye.group!==rn&&Ye.power.equals(2)){var vt=!Pr(ht)||ht>0;if(Ye.group===Lt&&Ye.power.equals(2)&&vt){var at=function(rs){var us=new Tt(1);return rs.each(function(qo){us=M.multiply(us,"abs"===qo.fname?qo.args[0]:qo)}),us},lt=we.clone(),Wt=ht.clone();lt=M.pow(lt,new Tt(.5)),Wt=M.pow(Wt,new Tt(.5)),he=M.multiply(at(Wt),at(lt));var Jt=M.symfunction(Te,[M.divide(M.multiply(we,Ye.toLinear()),he.clone())]);L=M.divide(Jt,he)}else if(Ye.group===Lt&&Ye.isLinear())L=M.divide(Re.integration.poly_integrate(Le),we);else if(Ye.power.equals(4)){var sn,Jn,Dn,si,Hr,qr,En=Hn;lt=M.parse(Mn+En(we)+"*"+$e+"^2"),Wt=M.parse(Mn+En(2)+"*"+En(we)+"^"+En("1/4")+"*"+En(ht)+"^"+En("1/4")+"*"+$e),sn=M.parse(Mn+En(ht)),Zn=M.add(M.add(lt.clone(),Wt.clone()),sn.clone()),zn=M.add(M.subtract(lt,Wt),sn),Jn=M.parse(Mn+En(2)+"*"+En(ht)+"^"+En("3/4")),Dn=M.parse(Mn+En(ht)+"*"+En(ht)+"^"+En("1/4")+"*"+$e),si=M.parse("2*"+En(ht)+"*"+Mn+En(2)+"*"+En(ht)+"^"+En("1/4")),Hr=M.divide(M.subtract(Jn.clone(),Dn.clone()),M.multiply(si.clone(),zn)),qr=M.divide(M.add(Jn,Dn),M.multiply(si,Zn.clone())),L=M.add(Re.integrate(Hr,$e,Ue,pt),Re.integrate(qr,$e,Ue,pt))}else L=Re.integration.partial_fraction(Le,$e,Ue)}else if(-.5===bt)if(Ye.group===Lt&&Ye.power.equals(2))if(It.multiplier.lessThan(0)&&!ht.multiplier.lessThan(0))if(we.negate(),ht.isConstant()&&we.isConstant()){he=M.symfunction(Mn,[we.clone()]);var tn=M.symfunction(Mn,[M.multiply(we.clone(),ht)]);L=M.divide(M.symfunction(ce,[M.divide(It.toLinear(),tn)]),he)}else{var Vr=M.symfunction(Mn,[we]),Sr=M.multiply(Vr.clone(),Ye.clone().toLinear());L=M.divide(M.symfunction(Te,[M.divide(Sr,M.symfunction(Mn,[dt.clone()]))]),Vr)}else Re.integration.stop();else Re.integration.stop();else if(.5===bt&&Ye.power.equals(2)&&we.greaterThan(0))Re.integration.stop();else if(Ye.isLinear()&&Ye.group!==rn)L=M.divide(Re.integration.poly_integrate(Le),we);else{if(Ye.power.equals(2)&&we.greaterThan(0)){var G,Z,Y,X,te,_e;G=M.parse(Mn+Hn(we)),Z=M.parse(Mn+Hn(ht)),Y=M.multiply(G.clone(),Z.clone()).invert(),X=M.pow(ht,new Tt(Le.power)),_e=ie.Utils.getU(Le),me=M.multiply(Y,Ye.clone().toLinear()),te=M.parse(Te+Hn(me));var Ge=2*(Math.abs(Le.power)-1),ke=Re.integrate(M.parse(F+Hn(_e)+"^"+Ge));return ie.Utils.clearU(_e),M.multiply(ke.sub(_e,te),X)}if(Le.group===ze||Le.power.lessThan(0)){Jt=Le.clone().toLinear();var Xe=ie.Algebra.Factor.factor(Jt).toString()!==Jt.toString();if(ie.Algebra.degree(Jt,M.parse($e)).equals(2)&&!Xe)try{var Zn,Ot,Ht;Ht=ie.Algebra.sqComplete(Jt,$e),me=ie.Utils.getU(Jt),Zn=Ht.f.sub(Ht.a,me),Ot=M.pow(Zn,M.parse(Le.power)),L=Re.integrate(Ot,me).sub(me,Ht.a)}catch{Re.integration.stop()}else L=Re.integration.partial_fraction(Le,$e,Ue,pt)}else L=Re.integration.by_parts(Le,$e,Ue,pt)}L.multiplier=L.multiplier.multiply(nt)}else if(an===mn){var en=Le.args[0];nt=Le.multiplier.clone(),Le.toUnitMultiplier(),we=(ct=Re.integration.decompose_arg(en,$e))[0],Ye=ct[1];var on=Le.fname;if(on===Yr||on===ce||on===ye||on===Te&&Ye.isLinear())if(bt=Le.power.toString(),Pr(bt)&&(Ue-=bt),en.isComposite()){var me=ie.Utils.getU(Le),Xr=(Jt=M.pow(M.parse(Yr+Hn(me)),new Tt(bt)),Re.diff(en,$e)),Gi=M.multiply(Jt,Xr);ke=Re.integrate(Gi,me,Ue,pt),L=M.multiply(M.parse(nt),ke.sub(me,en))}else L=M.multiply(M.parse(nt),Re.integration.by_parts(Le,$e,Ue,pt));else{if(on===O&&Le.power.lessThan(0))return(as=Le.clone()).power.negate(),as.fname=re,M.multiply(M.parse(nt),Re.integrate(as,$e,Ue));if(!we.contains($e,!0)&&Le.isLinear())if(on===Gr)if((Ye=M.divide(en.clone(),we.clone())).group!==Lt||Ye.power.lessThan(0))Re.integration.stop();else if(ie.Utils.even(Ye.power))L=Re.integrate(en,$e,Ue);else{var Mi=Re.integrate(Ye,$e,Ue);Mi.power=Mi.power.subtract(new Dr(1)),L=M.multiply(M.multiply(M.symfunction(Gr,[Ye.toLinear()]),Mi),we)}else{var Ui=Le.args[0].group,jn=Re.integration.decompose_arg(en,$e);switch((!(Ui===vn||Ui===Lt||Ui===ze)||!jn[1].power.equals(1)||en.hasFunc())&&Re.integration.stop(),on){case F:L=M.symfunction(Je,[en]);break;case Je:(L=M.symfunction(F,[en])).negate();break;case O:L=M.parse(Nt(kr.LOG+"(sec({0}))",en));break;case P:L=M.parse(Nt(kr.LOG+"(tan({0})+sec({0}))",en));break;case q:L=M.parse(Nt("-"+kr.LOG+"(csc({0})+cot({0}))",en));break;case re:L=M.parse(Nt(kr.LOG+"(sin({0}))",en));break;case Bt:L=M.symfunction(St,[en]);break;case St:L=M.symfunction(Bt,[en]);break;case Gt:L=M.parse(Nt(kr.LOG+"(cosh({0}))",en));break;case Me:case Pe:case Ke:case nr:case qn:case xn:L=Re.integration.by_parts(Le,$e,Ue,pt);break;case Tn:L=M.parse(Nt("atan(sinh({0}))",en));break;case"csch":L=M.parse(Nt(kr.LOG+"(tanh(({0})/2))",en));break;case"coth":L=M.parse(Nt(kr.LOG+"(sinh({0}))",en));break;case"exp":L=Re.integrate(M.parse(Nt("e^({0})",en)),$e,Ue);break;case"S":en=Le.args[0].clone();var ls=(Cs=Re.integration.decompose_arg(en,$e))[1];L=M.parse(Nt("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",Xi=Cs[0],Cs[3],Ye));break;case"C":en=Le.args[0].clone();var Cs=Re.integration.decompose_arg(en,$e);L=M.parse(Nt("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",Xi=Cs[0],Cs[3],ls=Cs[1]));break;case"erf":en=Le.args[0].clone(),Cs=Re.integration.decompose_arg(en,$e),L=M.parse(Nt("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",Xi=Cs[0],ls=Cs[1],en));break;case"sign":L=M.multiply(Le.clone(),en.clone());break;default:Re.integration.stop()}L=M.divide(L,we)}else if(Ye.isLinear())if(on===F||on===Je)if((bt=Number(Le.power))<0)Le.fname=on===Je?q:P,Le.invert().updateHash(),L=Re.integrate(Le,$e,Ue);else{en=Le.args[0];var un=Le.clone(),pe=Le.clone(),Ji=new Tt((bt-1)/bt),li=M.multiply(we.clone(),new Tt(bt)).invert();un.power=un.power.subtract(new Dr(1)),pe.power=pe.power.subtract(new Dr(2));var ue=M.symfunction(on===F?Je:F,[en.clone()]);on===Je&&ue.negate(),L=M.add(M.multiply(M.multiply(li,un),ue),M.multiply(Ji,Re.integrate(M.parse(pe),$e,Ue)))}else if(on===O||on===re){if(Le.args[0].isLinear($e)){Ge=Le.power.subtract(new Dr(1)).toString();var Er=Le.clone().toUnitMultiplier(),Ti=M.parse(Nt((on===re?"-":"")+"1/({2}*{0})*{3}({1})^({0})",Ge,en,we,on));Er.power=Er.power.subtract(new Dr(2)),Er.power.equals(0)&&(Er=M.parse(Er)),L=M.subtract(Ti,Re.integrate(Er,$e,Ue))}}else if(on===P||on===q){var Fr=Le.power.subtract(new Dr(1)).toString(),gn=Le.power.subtract(new Dr(2)).toString(),zn=on===P?O:re,wl=(Er=Le.clone().toUnitMultiplier(),Nt((on===q?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",we,Fr,gn,en,on,zn));Ti=M.parse(wl),Er.power=Er.power.subtract(new Dr(2)),Er.power.equals(0)&&(Er=M.parse(Er)),L=M.add(Ti,M.multiply(new Tt(gn/Fr),Re.integrate(Er,$e,Ue)))}else on!==St&&on!==Bt||!Le.power.equals(2)?Re.integration.stop():L=Re.integrate(Le.fnTransform(),$e,Ue);else Re.integration.stop();L.multiplier=L.multiplier.multiply(nt)}}else if(an===rn)L=Re.integration.partial_fraction(Le,$e,Ue);else if(an===ze){Le.getDenom().group===Lt&&(Le=M.expand(Le));var Xa=Le.stripVar($e),Rr=M.divide(Le.clone(),Xa.clone());if(Xa.contains($e)&&(Rr=M.multiply(Rr,Xa),Xa=new Tt(1)),Rr.group!==ze){if(Rr.equals(1))return Re.integrate(M.expand(Le),$e,Ue);Rr.clone().toLinear().isPoly(!0)&&ie.Utils.variables(Rr).length>1&&(Rr=ie.Algebra.Factor.factor(Rr)),L=Re.integrate(Rr,$e,Ue)}else{var p=Rr.collectSymbols().sort(function(Fi,Zr){return Fi.group===Zr.group?Number(Fi.power)===Number(Zr.power)?Fi<Zr?1:-1:Zr.power-Fi.power:Zr.group-Fi.group}).map(function(Fi){var Zr=Tt.unwrapSQRT(Fi,!0);return"exp"===Zr.fname?M.parse(Nt("({1})*e^({0})",Zr.args[0],Zr.multiplier)):Zr}),B=p.length;if(Le.power<0){if(2===B)return Re.integrate(M.expand(Le),$e,Ue,pt)}else if(2===B){try{L=Re.integration.u_substitution(p,$e)}catch{}if(!L){var N=p[0].group,H=p[1].group,j=p[0],ee=p[1],Se=j.fname,Ne=ee.fname;if(Le=M.multiply(j.clone(),ee.clone()),N===mn&&H===mn)if(Se===Yr||Ne===Yr)L=Re.integration.by_parts(Le.clone(),$e,Ue,pt);else{p.sort(function(Zr,$n){return $n.fname>Zr.fname});var Dt=j.args[0];if((!Dt.isLinear()||Dt.group!==vn&&Dt.group!==ze&&Dt.group!==Lt)&&Re.integration.stop(),we=(ct=Re.integration.decompose_arg(Dt,$e))[0],(Ye=ct[1]).isLinear()||Re.integration.stop(),Dt.equals(ee.args[0]))if(Se===Je&&Ne===F||Se===F&&Ne===Je)if(j.power.lessThan(0)&&Re.integration.stop(),Se===Je&&j.power.add(ee.power).equals(0))j.fname=O,j.updateHash(),L=Re.integrate(j,$e,Ue);else if(ve(j.power)&&Ne===F&&ee.power.lessThan(0)){Ge=Number(j.power)/2;var xt=M.parse(Nt("(1-cos({0})^2)^({1})",j.args[0],Ge));L=Re.integrate(M.expand(M.multiply(xt,ee.clone())),$e,Ue,pt)}else if(ve(j.power)&&Ne===Je&&ee.power.lessThan(0))Ge=Number(j.power)/2,xt=M.parse(Nt("(1-sin({0})^2)^({1})",j.args[0],Ge)),L=Re.integrate(M.expand(M.multiply(xt,ee.clone())),$e,Ue,pt);else{var Ln=ie.Utils.even(j.power),nn=ie.Utils.even(ee.power);if(L=new Tt(0),Ln&&nn){var ui=function(us){var ki=us.power/2;return M.parse(us.fname===F?"((1/2)+(cos(2*("+us.args[0]+"))/2))^"+ki:"((1/2)-(cos(2*("+us.args[0]+"))/2))^"+ki)};return we=ui(j),ht=ui(ee),ue=M.multiply(we,ht),(as=M.expand(ue)).each(function(us){L=M.add(L,Re.integrate(us,$e,Ue))}),M.multiply(L,Xa)}Ln?(me=j,Er=ee):(me=ee,Er=j);var _n=me.fname===F?-1:1,rr=((Ge=Er.power)-1)/2,yr=M.parse("(1-"+me.fname+ie.Utils.inBrackets(Dt)+"^2)^"+rr);(as=M.expand(M.multiply(new Tt(_n),M.multiply(me.clone(),yr)))).each(function(us){L=M.add(L,Re.integration.poly_integrate(us.clone()))})}else if(Se===P&&Ne===O&&Ye.isLinear()&&ee.isLinear())L=M.parse(Nt("sec({0})^({1})/({1})",j.args[0],j.power));else if(Se===O&&Ne===P&&Ye.isLinear())j.isLinear()&&ee.isLinear()?L=M.divide(M.symfunction(P,[Dt.clone()]),we):ve(j.power)?(bt=Number(j.power)/2,ue=M.parse(Nt("(sec({0})^2-1)^({1})",j.args[0],bt)),L=Re.integrate(M.expand(M.multiply(ue,ee)),$e,Ue)):Re.integration.stop();else if(Se===P&&Ne===F)j.fname=F,j.invert().updateHash(),L=Re.integrate(M.multiply(j,ee),$e,Ue);else if(Se===Je&&Ne===q)ee.fname=Je,ee.invert().updateHash(),L=Re.integrate(M.multiply(j,ee),$e,Ue);else if(Se!==O||Ne!==F&&Ne!==Je||!ee.power.lessThan(0))ue=M.multiply(j.fnTransform(),ee.fnTransform()),L=Re.integrate(M.expand(ue),$e,Ue);else{ue=M.multiply(j.fnTransform(),ee);L=Re.integrate(M.expand(ue),$e,Ue)}else if(Se!==Je&&Se!==F||Ne!==Je&&Ne!==F)Re.integration.stop();else if(j.isLinear()&&ee.isLinear())if(j.args[0].isLinear()&&ee.args[0].isLinear())Ne===Je?(It=j.args[0],Wr=ee.args[0]):(Wr=j.args[0],It=ee.args[0]),Jt=M.parse(Nt("(sin(({1})+({0}))+sin(({1})-({0})))/2",It.toString(),Wr.toString())),L=Re.integrate(Jt,$e,Ue);else{var Nr=Lr(p);L=Re.integrate(M.expand(Nr),$e,Ue)}else Nr=new Tt(1),p.map(function(ri){var rs=ri.fnTransform();Nr=M.multiply(Nr,rs)}),ue=M.expand(Nr),(L=Re.integrate(ue,$e,Ue)).hasIntegral()&&(L=Re.integrate(Lr(Nr.collectSymbols()),$e,Ue))}else if(N===mn&&H===Lt){var zi=j.isLinear();if(j.fname===F&&zi&&ee.power.equals(-1))L=M.symfunction("Ci",[j.args[0]]);else if(j.fname===F&&ee.power.equals(-1))L=Re.integrate(M.multiply(j.fnTransform(),ee.clone()),$e,Ue);else if(j.fname===St&&zi&&ee.power.equals(-1))L=M.symfunction("Chi",[j.args[0]]);else if(j.fname===St&&ee.power.equals(-1))L=Re.integrate(M.multiply(j.fnTransform(),ee.clone()),$e,Ue);else if(j.fname===Je&&zi&&ee.power.equals(-1))L=M.symfunction("Si",[j.args[0]]);else if(j.fname===Je&&ee.power.equals(-1))L=Re.integrate(M.multiply(j.fnTransform(),ee.clone()),$e,Ue);else if(j.fname===Bt&&zi&&ee.power.equals(-1))L=M.symfunction("Shi",[j.args[0]]);else if(j.fname===Bt&&ee.power.equals(-1))L=Re.integrate(M.multiply(j.fnTransform(),ee.clone()),$e,Ue);else if(j.fname===Yr&&ee.power.equals(-1))L=Re.integration.poly_integrate(j,$e,Ue);else if("erf"===j.fname){if(ee.power.equals(1)){var Xi=(Cs=Re.integration.decompose_arg(j.args[0],$e))[0];ls=Cs[1],en=j.args[0].toString(),L=M.parse(Nt("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",Xi,ls,en))}}else L=Re.integration.by_parts(Le,$e,Ue,pt)}else if(N===Kt&&H===Lt)Ye=Se===Yr?Re.integration.decompose_arg(j.args[0],$e)[1]:null,L=j.isE()&&(j.power.group===Lt||j.power.group===ze)&&ee.power.equals(-1)?M.symfunction("Ei",[j.power.clone()]):Se===Yr&&Ye.value===ee.value?Re.integration.poly_integrate(j,$e,Ue):Re.integration.by_parts(Le,$e,Ue,pt);else if(N===rn&&H===Lt){if(ee.value===j.value&&j.power.equals(-1)){var Ds=Math.min.apply(null,ie.Utils.keys(j.symbols)),vi=Math.min(Ds,ee.power),Jr=ee.clone();Jr.power=new Dr(vi),ee=M.divide(ee,Jr.clone()),ue=new Tt(0),j.each(function(Zr){ue=M.add(ue,M.divide(Zr.clone(),Jr.clone()))}),ue.multiplier=j.multiplier,Le=M.divide(ee,ue)}else Le=M.expand(Le);L=Re.integration.partial_fraction(Le,$e,Ue)}else if(N===vn&&H===Lt){Jt=j.clone().toLinear();var ga=ie.Algebra.degree(Jt,M.parse($e)).equals(1);if(j.power.equals(-.5)){we=(ct=Re.integration.decompose_arg(j.clone().toLinear(),$e))[0].negate(),Ye=ct[1],ht=ct[3];var xo=Number(j.power),ci=Number(ee.power);if(Pr(ci)&&ie.Utils.even(ci)&&Ye.power.equals(2)){var Br=M.divide(M.multiply(M.pow(ht.clone(),new Tt(2)),M.symfunction(Mn,[M.divide(ht.clone(),we.clone())])),M.pow(we.clone(),new Tt(2)));Br=M.multiply(Br,M.symfunction(Mn,[ht]).invert());var Fs=M.parse("sin(u)");Fs.power=Fs.power.multiply(ee.power),ke=Re.integrate(Fs,"u",Ue);var Do=M.parse("asin(sqrt("+we+"/"+ht+")*"+$e+")");L=M.multiply(Br,ke.sub(new Tt("u"),Do))}else if(-.5===xo){var Ro=function(us,qo){var ki=M.parse(Re.integrate(us,$e,Ue,pt).sub($e,Nt(qo,$e)));if(!ki.hasIntegral())return ki};-1===ci?L=Ro(M.expand(M.expand(M.pow(M.multiply(j.invert(),ee.invert()),new Tt(2)))).invert(),"sqrt(1-1/({0})^2)"):-2===ci&&(L=Ro(M.sqrt(M.expand(M.divide(M.pow(Le,new Tt(2)).invert(),M.pow(new Tt($e),new Tt(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(j.power.equals(-1)&&ee.isLinear()&&ga)L=Re.integration.partial_fraction(Le,$e,Ue);else if(!j.power.lessThan(0)&&Pr(j.power)){var Ws=M.expand(j);L=new Tt(0),Ws.each(function(Zr){Zr.group===rn?Zr.each(function($n){L=M.add(L,Re.integrate(M.multiply(ee.clone(),$n),$e,Ue))}):L=M.add(L,Re.integrate(M.multiply(ee.clone(),Zr),$e,Ue))})}else if(j.power.lessThan(-2))L=Re.integration.by_parts(Le,$e,Ue,pt);else if(j.power.lessThan(0)&&ee.power.greaterThan(1)){var ct;if(we=(ct=Re.integration.decompose_arg(j.clone().toLinear(),$e))[0].negate(),Ye=ct[1],ht=ct[3],dt=j.clone().toLinear(),Ye.group!==rn&&Ye.isLinear()){bt=Number(ee.power),me=new Tt(Xr="_u_");var Es=M.expand(M.divide(M.pow(M.subtract(me.clone(),ht.clone()),new Tt(bt)),me.clone())),_i={};_i[Xr]=dt;var uo=M.parse(Es,_i);L=Re.integrate(uo,$e,0)}else if(ee.power.greaterThan(Ye.power)||ee.power.equals(Ye.power)){var Ys=new ie.Algebra.Classes.Factors;j=ie.Algebra.Factor.coeffFactor(j.invert(),Ys);var Ja=ie.Algebra.divide(ee,j);Ja.group!==ze?(L=new Tt(0),Ja.each(function(qo){L=M.add(L,Re.integrate(qo,$e,Ue))}),Ys.each(function(qo){L=M.divide(L,qo)}),L=M.expand(L)):L=Re.integration.by_parts(Le,$e,Ue,pt)}else L=Re.integration.partial_fraction(Le,$e,Ue)}else if(j.power.den.equals(2)){we=(Cs=Re.integration.decompose_arg(j.clone().toLinear(),$e))[3],ht=Cs[0];var Wr=Cs[2];if((Ye=Cs[1]).power.equals(2)&&ht.lessThan(0)){we.equals(1)||(Xa=M.multiply(Xa,M.pow(we,new Tt(2)))),me=$e,Br=M.divide(M.pow(ht.clone().negate(),new Tt(.5)),M.pow(we,new Tt(.5))),Xr=M.symfunction(F,[new Tt(me)]);var bl=M.pow(M.symfunction(F,[new Tt(me)]),new Tt(j.power.num)),Za=M.pow(M.symfunction(Je,[new Tt(me)]),new Tt(ee.power)),el=M.multiply(M.multiply(bl,Xr),Za);ke=Re.integrate(el,me,Ue),L=ke.sub(me,M.symfunction(ce,[M.multiply(new Tt($e),Br)]))}else L=Re.integration.partial_fraction(Le,$e,Ue,pt)}else ga&&(L=Re.integration.partial_fraction(Le,$e,Ue))}else if(j.isComposite()&&ee.isComposite())if(L=new Tt(0),j.power.greaterThan(0)&&ee.power.greaterThan(0)){var as;(as=M.expand(Le)).each(function(Zr){L=M.add(L,Re.integrate(Zr,$e,Ue))},!0)}else xo=Number(j.power),ci=Number(ee.power),xo<0&&ci>0&&(ue=j,j=ee,ee=ue),-1===xo&&-1===ci?L=Re.integration.partial_fraction(Le,$e):j.each(function($n){var ri=M.multiply($n,ee.clone()),rs=Re.integrate(ri,$e,Ue);L=M.add(L,rs)});else if(N===vn&&p[0].power.greaterThan(0))j=M.expand(j),L=new Tt(0),j.each(function(Fi){L=M.add(L,Re.integrate(M.multiply(Fi,ee.clone()),$e,Ue))},!0);else if(N===mn&&H===Kt&&ie.Utils.in_htrig(j.fname))j=j.fnTransform(),L=Re.integrate(M.expand(M.multiply(j,ee)),$e,Ue);else if(N===mn&&H===vn||H===mn&&N===vn){var ni,Na,tl;if(H===mn&&N===vn&&(ue=j,j=ee,ee=ue),Xr=Tt.unwrapSQRT(Re.diff(j.clone(),$e),!0),ni=Tt.unwrapSQRT(ee,!0),Xr.power.equals(ni.power)){if(bt=new Tt(ee.power),Na=Xr.clone().toLinear(),tl=ee.clone().toLinear(),(Ji=ie.Algebra.divide(Na.toLinear(),tl)).isConstant()){var Fn=M.pow(Ji,bt.negate());L=M.multiply(Fn,Re.integration.poly_integrate(j.clone()))}}else L=Re.integration.by_parts(Le,$e,Ue,pt)}else{var co=j.clone().toLinear(),Ss=ee.clone().toLinear();L=N===Kt&&H===Kt&&j.power.contains($e)&&ee.power.contains($e)&&!co.contains($e)&&!Ss.contains($e)?M.parse(Nt("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",co.toString(),Ss.toString(),j.power.multiplier.toString(),ee.power.multiplier.toString(),$e)):Re.integration.by_parts(Le,$e,Ue,pt)}}}else if(3===B&&(p[2].group===Lt&&p[2].power.lessThan(2)||p[0].group===vn)){var sa=p[0];sa.group===vn?(sa.power.greaterThan(1)&&(sa=M.expand(sa)),Er=M.multiply(p[1],p[2]),L=new Tt(0),sa.each(function(Zr){var $n=M.multiply(Zr,Er.clone()),ri=Re.integrate($n,$e,Ue);L=M.add(L,ri)},!0)):L=Re.integration.by_parts(Le,$e,Ue,pt)}else if(ai(p)){ue=new Tt(1);var Cl=0;for(B=p.length;Cl<B;Cl++)ue=M.multiply(ue,p[Cl].fnTransform());ue=M.expand(ue),L=Re.integrate(ue,$e,Ue)}else Nr=Lr(p),L=Re.integrate(M.expand(Nr),$e,Ue)}L=M.multiply(L,Xa)}}else L=M.multiply(Le.clone(),M.parse($e));if(L)return L}catch(Fi){if(!(Fi instanceof Ur||Fi instanceof ie.exceptions.DivisionByZero))throw Fi}return M.symfunction("integrate",[Fe,qe])},!1))},defint:function(Fe,qe,Ue,pt){pt=pt||"x";var Le,an,Ct=function(he,nt,bt){try{return M.parse(he,nt)}catch{return Re.Limit.limit(he,pt,bt)}},kt=ie.Utils.variables(Fe),$e=Fe.hasTrig();if(1===kt.length&&!pt&&(pt=kt[0]),$e||(an=Re.integrate(Fe,pt)),$e||an.hasIntegral())if(1===kt.length&&qe.isConstant()&&Ue.isConstant()){var Ye=ie.Utils.build(Fe);Le=new Tt(ie.Math2.num_integrate(Ye,Number(qe),Number(Ue)))}else Le=M.symfunction("defint",[Fe,qe,Ue,pt]);else{var we,Qe,L={},ue={};L[pt]=Ue,ue[pt]=qe,we=Ct(an,L,Ue),Qe=Ct(an,ue,qe),Le=M.subtract(we,Qe)}return Le},Limit:{interval:function(Fe,qe){return M.parse(Nt("[{0}, {1}]",Fe,qe))},diverges:function(){return Re.Limit.interval("-Infinity","Infinity")},divide:function(Fe,qe,Ue,pt,Ct){if(!(Ct++>kr.max_lim_depth)){Fe.clone();var $e=qe.clone();if(qe.fname===Gr){var Le=Fe.sign(),an=pt.sign();if(pt.isInfinity)return M.multiply(new Tt(Le),new Tt(an));if(pt.equals(0)){var L=M.parse(Fe.multiplier),ue=M.parse(qe.multiplier);return M.divide(M.multiply(L,Re.Limit.interval("-1","1")),ue)}Re.Limit.diverges()}var we=function(at){if(ie.Utils.isVector(at)){for(var lt=0;lt<at.elements.length;lt++)if(!at.elements[lt].isInfinity)return!1;return!0}return at.isInfinity},Qe=function(at,lt){return!ie.Utils.isVector(at)&&at.equals(lt)};do{var he=_t(Re.Limit.limit(Fe.clone(),Ue,pt,Ct)),nt=_t(Re.Limit.limit(qe.clone(),Ue,pt,Ct)),bt=we(he)&&we(nt)||Qe(he,0)&&Qe(nt,0);if(bt){var dt=Re.diff(Fe.clone(),Ue),ct=Re.diff(qe.clone(),Ue),ht=M.expand(M.divide(dt,ct));Fe=ht.getNum(),qe=ht.getDenom()}}while(bt);var It=nt.equals(0),vt=Number($e.power);return pt.isConstant(!0)&&It?Tt.infinity(ie.Utils.even(vt)&&he.lessThan(0)?-1:void 0):It?Re.Limit.diverges():M.divide(he,nt)}},rewriteToLog:function(Fe){var qe=Fe.power.clone();return Fe.toLinear(),M.pow(new Tt("e"),M.multiply(qe,M.symfunction(kr.LOG+"",[Fe])))},getSubbed:function(Fe,qe,Ue){var pt;Fe.group===Kt&&(Fe=Re.rewriteToLog(Fe));try{pt=Fe.sub(qe,Ue)}catch{pt=Fe}return pt},isInterval:function(Fe){return ie.Utils.isVector(Fe)},isConvergent:function(Fe){return!(Re.Limit.isInterval(Fe)&&Fe.elements[0].isInfinity&&Fe.elements[1].isInfinity||Fe.containsFunction("limit"))},limit:function(Fe,qe,Ue,pt){if(Fe.isLinear()&&Fe.isComposite()){var Ct=new Tt(0);return Fe.each(function(Vr){Ct=M.add(Ct,Re.Limit.limit(Vr,qe,Ue,pt))},!0),Ct}if(Fe=ie.Algebra.Simplify.simplify(Fe),pt=pt||1,!(pt++>kr.max_lim_depth)){var kt=M.parse(Fe.multiplier);Fe.toUnitMultiplier();try{var $e;if(Fe.isConstant(!0))$e=Fe;else{var Le={};Le[qe]=Ue;try{var an=M.parse(Fe.sub(qe,Ue),Le);(an.isConstant(!0)||an.isInfinity)&&($e=an)}catch{}if(!$e){var L=Fe.getNum(),ue=Fe.getDenom();if(ue.isConstant(!0)){if(Fe.group===Kt){var we=Fe.clone().toLinear(),Ye=(Fe.power.clone(),we.getNum()),he=we.getDenom(),nt=ie.Utils.decompose_fn(he,qe,!0);if(Ye.group===Lt&&Ye.multiplier.isOne()&&nt.ax.group===Lt&&nt.b.isConstant(!0)&&nt.a.isOne()&&nt.b.isConstant(!0))$e=M.parse(Nt("(1/e^({0}))",nt.b));else{var bt=Re.Limit.rewriteToLog(Fe.clone()),dt=bt.power.clone(),ct=bt.clone().toLinear(),ht=Re.Limit.limit(ct,qe,Ue,pt),It=Re.Limit.limit(dt,qe,Ue,pt);$e=M.pow(ht,It)}}else if(Fe.group===mn&&1===Fe.args.length){var vt,at=Re.Limit.limit(Fe.args[0],qe,Ue,pt);if(ie.Utils.isVector(at))return $e=at.map(function(Vr){return Fe.clone().args[0]=Vr,Re.Limit.limit(M.symfunction(Fe.fname,[Vr]),qe,Ue,pt)}),M.multiply(kt,$e);if(at.isConstant(!0)){var lt=M.symfunction(Fe.fname,[at]);try{_t(lt),vt=!0}catch{vt=!1}}if(vt)$e=lt;else if(Re.Limit.isConvergent(at))if(Fe.fname===Yr)switch(at.toString()){case"0":$e=Tt.infinity().negate();break;case"Infinity":case"-Infinity":$e=Tt.infinity()}else if(Fe.fname!==F&&Fe.fname!==Je||!Ue.isInfinity){if(Fe.fname===O){var Wt=Fe.args[0],Jt=Wt.getNum(),sn=Wt.getDenom(),Jn=Jt.toUnitMultiplier();(Ue.isInfinity||Jn.equals("pi")&&sn.equals(2))&&($e=divergent())}else if(Fe.fname===kr.FACTORIAL&&at.isInfinity)return Tt.infinity()}else $e=Re.Limit.interval(-1,1)}else if(Fe.group===Lt){if(Fe.power>0)return M.parse(Fe,Le);$e=ie.Utils.even(Fe.power)?Tt.infinity():Re.Limit.diverges()}else if(Fe.group===ze){var Dn,si;for(we=(Zn=Fe.collectSymbols().sort(function(Sr,G){return Sr.group-G.group})).pop(),Dn=_t(Re.Limit.limit(we,qe,Ue,pt));Zn.length;){var zn=Zn.pop();si=_t(Re.Limit.limit(zn,qe,Ue,pt)),Dn.isInfinity||!Re.Limit.isConvergent(Dn)&&si.equals(0)||Dn.equals(0)&&Re.Limit.isConvergent(si)?(zn.containsFunction(Yr)&&(zn=[we,we=zn][0]),zn.invert(),Dn=Dn.isInfinity&&si.isInfinity?Tt.infinity():Re.Limit.divide(we,zn,qe,Ue,pt)):(Dn=M.multiply(Dn,si),we=M.multiply(we,zn))}$e=Dn}else if(Fe.isComposite()){var Qr;Fe.isLinear()||(Fe=M.expand(Fe)),$e=new Tt(0);for(var Zn=Fe.collectSymbols().sort(function(Sr,G){return G.group-Sr.group}),yn=[],Hr=new Tt(0),qr=0,En=Zn.length;qr<En;qr++)(tn=Zn[qr].clone()).group===mn||tn.group===ze&&tn.hasFunc()?Hr=M.add(Hr,tn):yn.push(tn);for(yn.unshift(Hr),1!==yn.length&&(Zn=yn),qr=0,En=Zn.length;qr<En;qr++){var tn=Zn[qr];try{Qr=Re.Limit.limit(tn,qe,Ue,pt)}catch{Qr=Re.Limit.diverges()}try{$e=M.add($e,Qr)}catch{if(pt++>kr.max_lim_depth)return;$e=Re.Limit.limit(Re.diff(Fe,qe),qe,Ue,pt)}}}}else $e=Re.Limit.divide(L,ue,qe,Ue,pt)}}$e||($e=M.symfunction("limit",[Fe,qe,Ue]))}catch{$e=M.symfunction("limit",[Fe,qe,Ue])}return M.multiply(kt,$e)}}},Fresnel:{S:function(Fe){return Fe.isConstant(!0)?Re.defint(M.parse("sin(pi*x^2/2)"),Tt(0),Fe,"x"):M.symfunction("S",arguments)},C:function(Fe){return Fe.isConstant(!0)?Re.defint(M.parse("cos(pi*x^2/2)"),Tt(0),Fe,"x"):M.symfunction("C",arguments)}}};Hs.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return Re.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return Re.sum}},{name:"product",visible:!0,numargs:4,build:function(){return Re.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return Re.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return Re.defint}},{name:"S",visible:!0,numargs:1,build:function(){return Re.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return Re.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return Re.Limit.limit}}]),Hs.updateAPI()}()},312:(Ya,Hl,vr)=>{var Hs=vr(270);vr(374),vr(512),function(){var O,ie=Hs.getCore(),M=ie.PARSER,Dr=ie.Algebra,kr=ie.Calculus,xe=kr.integration.decompose_arg,Tt=ie.Utils.evaluate,Vn=ie.Utils.remove,Hn=ie.Utils.format,Pr=ie.Utils.build,Nt=ie.Utils.knownVariable,ve=ie.Symbol,_t=ie.Utils.isSymbol,Xn=ie.Utils.variables,Lt=ie.groups.S,mn=ie.groups.PL,rn=ie.groups.CB,vn=ie.groups.CP,ze=ie.groups.FN,Kt=ie.Settings,Wn=ie.Utils.range,Yr=ie.Utils.isArray;function Cn(O,P){if(P.isConstant()&&O.isConstant()&&!O.equals(P)||O.equals(ie.Settings.IMAGINARY)&&P.isConstant(!0)||P.equals(ie.Settings.IMAGINARY)&&O.isConstant(!0))throw new ie.exceptions.NerdamerValueError(O.toString()+" does not equal "+P.toString());this.LHS=O,this.RHS=P}ie.Settings.SOLVE_RADIUS=1e3,ie.Settings.ROOTS_PER_SIDE=10,ie.Settings.make_pi_conversions=!1,ie.Settings.STEP_SIZE=.1,ie.Settings.EPSILON=1e-13,ie.Settings.MAX_NEWTON_ITERATIONS=200,ie.Settings.MAX_NON_LINEAR_TRIES=12,ie.Settings.NON_LINEAR_JUMP_AT=50,ie.Settings.NON_LINEAR_JUMP_SIZE=100,ie.Settings.NON_LINEAR_START=.01,ie.Settings.NEWTON_SLICES=200,ie.Settings.NEWTON_EPSILON=2*Number.EPSILON,ie.Settings.SOLUTION_PROXIMITY=1e-14,ie.Settings.FILTER_SOLUTIONS=!0,ie.Settings.MAX_SOLVE_DEPTH=10,ie.Settings.ZERO_EPSILON=1e-9,ie.Settings.MAX_BISECTION_ITER=2e3,ie.Settings.BI_SECTION_EPSILON=1e-12,ie.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},ie.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var O in this.symbols){var P=this.symbols[O];if(P.group===mn&&P.hasNegativeTerms()||this.symbols[O].power.lessThan(0))return!0}return!1},Cn.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(O){return this.LHS.text(O)+"="+this.RHS.text(O)},toLHS:function(O){var P,q=(P=(O=void 0===O)?this.removeDenom():this.clone()).LHS,re=P.RHS;q.isConstant(!0)&&!re.isConstant(!0)&&([q,re]=[re,q]);var ce=M.subtract(q,re),ye=O?M.expand(ce):ce;return new Cn(ye,new ve(0)).removeDenom().LHS},removeDenom:function(){var O=this.LHS.clone(),P=this.RHS.clone(),q=M.multiply(O.getDenom(),P.getDenom());if(O=M.expand(M.multiply(O,q.clone())),(P=M.expand(M.multiply(P,q))).group===vn&&P.group!==vn){var re=O;O=P,P=re}if(O.group===rn){re=new ve(O.multiplier);var ce=P.clone();O.each(function(Bt){Bt.power.lessThan(0)?ce=M.divide(ce,Bt):re=M.multiply(re,Bt)}),O=re,P=ce}else if(O.group===vn)for(var ye in O.symbols){var Te=O.symbols[ye];if(Te.group===rn)for(var Me in Te.symbols){var Pe=Te.symbols[Me];if(Pe.power.lessThan(0))return new Cn(M.expand(M.multiply(Pe.clone().toLinear(),O)),M.expand(M.multiply(Pe.clone().toLinear(),P)))}}return new Cn(O,P)},clone:function(){return new Cn(this.LHS.clone(),this.RHS.clone())},sub:function(O,P){var q=this.clone();return q.LHS=q.LHS.sub(O.clone(),P.clone()),q.RHS=q.RHS.sub(O.clone(),P.clone()),q},isZero:function(){return ie.Utils.evaluate(this.toLHS()).equals(0)},latex:function(O){return[this.LHS.latex(O),this.RHS.latex(O)].join("=")}},M.equals=function(O,P){return new Cn(O,P)},O=M.functions.simplify[0],M.functions.simplify[0]=function(P){return P instanceof Cn?(P.LHS=O(P.LHS),P.RHS=O(P.RHS),P):O(P)},ie.Expression.prototype.equals=function(O){return O instanceof ie.Expression&&(O=O.symbol),new Cn(this.symbol,O)},ie.Expression.prototype.solveFor=function(O){var P;if(this.symbol instanceof Cn){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(O))return new ie.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(O))return new ie.Expression(this.symbol.RHS);P=this.symbol.toLHS()}else P=this.symbol;return F(P,O).map(function(q){return new ie.Expression(q)})},ie.Expression.prototype.expand=function(){if(this.symbol instanceof Cn){var O=this.symbol.clone();return O.RHS=M.expand(O.RHS),O.LHS=M.expand(O.LHS),new ie.Expression(O)}return new ie.Expression(M.expand(this.symbol))},ie.Expression.prototype.variables=function(){return this.symbol instanceof Cn?ie.Utils.arrayUnique(Xn(this.symbol.LHS).concat(Xn(this.symbol.RHS))):Xn(this.symbol)};var Gr=function(O,P){return M.equals(O,P)};ie.Equation=Cn;var Mn=ie.Utils.checkAll=function(O,P){for(var q=0;q<O.length;q++)if(P(O[q]))return!1;return!0},Je=ie.Solve={version:"2.0.3",solutions:[],solve:function(O,P){var q=F(O,String(P));return new ie.Vector(q)},toLHS:function(O,P){if(_t(O))return O;if(!(O instanceof Cn)){var q=O.split("=");q[1]=q[1]||"0",O=new Cn(M.parse(q[0]),M.parse(q[1]))}return O.toLHS(P)},solveCircle:function(O,P){for(var q=P.map(function(Tn){return M.parse(Tn)}),re=[],ce=[],ye=0;ye<O.length;ye++){for(var Te=[],Me=0;Me<q.length;Me++)Te.push(Number(ie.Algebra.degree(O[ye],q[Me])));Te.push(ie.Utils.arraySum(Te,!0)),re.push(Te)}var Pe=O[0],Ke=O[1];if(re[0][2]>re[1][2]&&([Ke,Pe]=[Pe,Ke],[re[1],re[0]]=[re[0],re[1]]),1===re[0][0]&&2===re[0][2]&&2===re[1][0]&&4===re[1][2]){var Bt=P[0],St=P[1],Gt=F(M.parse(Ke,Nt(Bt,F(M.parse(Pe),Bt)[0])),St).map(function(Tn){return Tn.toString()}),pn=[F(M.parse(Pe,Nt(St,Gt[0])))[0].toString()];Gt[1]&&pn.push(F(M.parse(Pe,Nt(St,Gt[1])))[0].toString()),Kt.SOLUTIONS_AS_OBJECT?((ce={})[Bt]=pn,ce[St]=Gt):(Gt.unshift(St),pn.unshift(Bt),ce=[pn,Gt])}return ce},solveNonLinearSystem:function(O,P,q){if(P<0)return[];q=void 0===q?ie.Settings.NON_LINEAR_START:q;var re=ie.Settings.MAX_NON_LINEAR_TRIES,ce=Math.floor(re/2);P=void 0===P?re:P;var Gt,pn,Tn,At,nr,qn,xn,Ur,ye=ie.Settings.NON_LINEAR_JUMP_AT,Te=ie.Settings.NON_LINEAR_JUMP_SIZE,Pe=function(Re,Fe){return Re.map(function(qe,Ue){return Number(Fe.get(Ue,0))})},Ke=ie.Utils.arrayGetVariables(O),Bt=ie.Matrix.jacobian(O,Ke,function(Re){return Pr(Re,Ke)},!0),St=ie.Settings.MAX_NEWTON_ITERATIONS,ai=O.map(function(Re){return Pr(Re,Ke)}),cn=Bt.map(function(Re){return Pr(Re,Ke)},!0);At=ie.Matrix.cMatrix(0,Ke);var Nn=ie.Matrix.cMatrix(q,Ke);Tn=0;do{if(Tn>St)break;Gt=Pe(Ke,Nn),xn=Nn.clone(),ai.forEach(function(Re,Fe){Nn.set(Fe,0,Re.apply(null,Gt))});var zr=new ie.Matrix;if(cn.each(function(Re,Fe,qe){var Ue=Re.apply(null,Gt);zr.set(Fe,qe,Ue)}),zr=zr.invert(),Ur=(pn=M.multiply(zr,Nn).negate()).subtract(At,function(Re){return M.parse(Number(Re))}),At=xn.add(pn,function(Re){return M.parse(Number(Re))}),Nn=At,Tn>=ye&&nr>1){P===ce&&(q=0);var Lr=P>ce?1:-1;return n=P%Math.floor(ce)+1,q+=Lr*n*Te,Je.solveNonLinearSystem(O,--P,q)}if(qn=nr,Tn++,nr=Ur.max(),Number(nr)===Number(qn))break}while(Number(nr)>=Number.EPSILON);return Je.systemSolutions(Nn,Ke,!0,function(Re){return ie.Utils.round(Number(Re),14)})},systemSolutions:function(O,P,q,re){var ce=ie.Settings.SOLUTIONS_AS_OBJECT?{}:[];return O.each(function(ye,Te){var Me=(q?M.expand(ye):ye).valueOf();re&&(Me=re.call(ye,Me));var Pe=P[Te];ie.Settings.SOLUTIONS_AS_OBJECT?ce[Pe]=Me:ce.push([Pe,Me])}),ce},solveSystemBySubstitution:function(O){var P=Xn(O[0]),q=Xn(O[1]);return 2===O.length&&2===P.length&&ie.Utils.arrayEqual(P,q)?Je.solveCircle(O,P):[]},solveSystem:function(O,P){for(var q=0;q<O.length;q++)O[q]=Je.toLHS(O[q]);var Me,re=O.length,ce=new ie.Matrix,ye=new ie.Matrix,Te=!1;if(void 0===P){if(!Dr.allLinear(O))try{return Je.solveNonLinearSystem(O)}catch(Fe){if(Fe instanceof ie.exceptions.DivisionByZero)return Je.solveSystemBySubstitution(O)}if(1===(Me=ie.Utils.arrayGetVariables(O)).length){var Ke,Pe=0;do{var Bt=O[Pe].clone();Pe>0&&(Bt=Bt.sub(Me[0],Ke[0])),Ke=F(Bt,Me[0])}while(++Pe<O.length);return Kt.SOLUTIONS_AS_OBJECT?(St={})[Me[0]]=Ke:St=0===Ke.length?Ke:[Me[0],Ke],St}if(Me.length<O.length){var Gt=[];for(Pe=O.length,q=0;q<Pe-1;q++)Gt.push(M.parse(O[q]));var pn={},St=Je.solveSystem(Gt,Me);Array.isArray(St)?St.forEach(function(Ue){pn[Ue[0]]=Ue[1]}):pn=St;var Tn=!0;for(q=Pe-1;q<Pe;q++)M.parse(O[q],pn).equals(0)||(Tn=!1);if(Tn)return St}for(q=0;q<Me.length;q++)Hs.setVar(Me[q],"delete");for(q=0;q<re;q++){Bt=O[q];for(var At=0;At<Me.length;At++){var nr=Me[At],qn=[];Bt.each(function(Ue){Ue.contains(nr)&&(qn=qn.concat(Ue.coeffs()))});var xn=ie.Utils.arraySum(qn);ce.set(q,At,xn)}var Ur=Bt.clone();Me.map(function(Ue){Ur=Ur.stripVar(Ue,!0)}),ye.set(q,0,Ur.negate())}}else for(Me=P,Te=!0,q=0;q<re;q++){for(ye.set(q,0,new ve(0)),Bt=M.expand(O[q]).collectSymbols(),At=0;At<P.length;At++){ce.set(q,At,new ve(0)),nr=P[At];for(var ai=0;ai<Bt.length;ai++){for(var cn=Bt[ai],Nn=!1,zr=0;zr<P.length;zr++)cn.contains(P[zr])&&(Nn&&ie.err("Multiple variables found for term "+cn),Nn=!0);if(cn.contains(nr)){var Lr=xe(Vn(Bt,ai),nr);ce.set(q,At,M.add(ce.get(q,At),Lr[0]))}}}for(ai=0;ai<Bt.length;ai++)ye.set(q,0,M.add(ye.get(q,0),Bt[ai]))}if(Me.length!==O.length||ce.determinant().equals(0))throw new ie.exceptions.SolveError("System does not have a distinct solution");var Re=(ce=ce.invert()).multiply(ye);return ie.Utils.isArray(P)&&Re.each(function(Fe){return Fe.negate()}),Je.systemSolutions(Re,Me,Te)},quad:function(O,P,q){var re=M.subtract(M.pow(P.clone(),ve(2)),M.multiply(M.multiply(q.clone(),O.clone()),ve(4)));re=M.expand(re);var ce=M.pow(re,ve(.5)),ye=M.parse(M.multiply(new ve(2),q.clone()));return[M.parse(Hn("(-({0})+({1}))/({2})",P,ce,ye)),M.parse(Hn("(-({0})-({1}))/({2})",P,ce,ye))]},cubic:function(O,P,q,re){var ce=re.text(),ye=q.text(),Te=P.text(),Pe=`(-(${ye})^3/(27*(${ce})^3)+(${ye})*(${Te})/(6*(${ce})^2)-(${O.text()})/(2*(${ce})))`,Ke=`((${Te})/(3*(${ce}))-(${ye})^2/(9*(${ce})^2))`,St=`((${Pe})+sqrt((${Pe})^2+(${Ke})^3))^(1/3)+((${Pe})-sqrt((${Pe})^2+(${Ke})^3))^(1/3)-((${ye})/(3*(${ce})))`,Gt="1/2+sqrt(3)/2*i";return[M.parse(St),M.parse(`(${St})(${Gt})`),M.parse(`(${St})(${Gt})^2`)]},quartic:function(O,P,q,re,ce){var Te,Me,Ke,Bt,St,ye={};return ie.Utils.arrayUnique(Xn(ce).concat(Xn(re)).concat(Xn(q)).concat(Xn(P)).concat(Xn(O))).map(function(nr){ye[nr]=1}),ce=ce.toString(),re=re.toString(),q=q.toString(),P=P.toString(),O=O.toString(),Te=M.parse(Hn("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",ce,re,q)).toString(),Me=M.parse(Hn("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",ce,re,q,P)).toString(),Ke=M.parse(Hn("12*({0})*({4})-3*({1})*({3})+({2})^2",ce,re,q,P,O)).toString(),Bt=M.parse(Hn("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",ce,re,q,P,O)).toString(),St=M.parse(Hn("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",Ke,Bt)).toString(),Lt=M.parse(Hn("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",ce,Te,St,Ke)).toString(),[M.parse(Hn("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",ce,re,Te,Me,Lt)),M.parse(Hn("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",ce,re,Te,Me,Lt)),M.parse(Hn("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",ce,re,Te,Me,Lt)),M.parse(Hn("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",ce,re,Te,Me,Lt))]},divideAndConquer:function(O,P){var q=[],re=ie.Algebra.Factor.factor(O);return re.group===rn&&re.each(function(ce){ce=ve.unwrapPARENS(ce),q=q.concat(F(ce,P))}),q},csolve:function(O,P){return ie.Utils.block("IGNORE_E",function(){var q,re,ce,ye,Ke,St;if(St=[],(q=ie.Utils.decompose_fn(O,P,!0)).x.group===Lt){re=M.parse(q.x.power),ce=Number(re),ye=M.pow(M.divide(q.b.negate(),q.a),re.invert()),Ke=ve.toPolarFormArray(ye)[0].toString(),re.toString();for(var pn,Tn,At=0;At<ce;At++)Tn=Hn("({0})*e^(2*{1}*pi*{2}*{3})",Ke,At,re,ie.Settings.IMAGINARY),pn=M.parse(Tn),St.push(pn)}return St},!0)},getPoints:function(O,P,q){P=P||.01,q=q||[];var re=Pr(O),ye=Math.round(0),Te=re(ye),Me=Te/Math.abs(Te),Pe=ie.Settings.ROOTS_PER_SIDE,Ke=Pe;q.push(Math.floor(ye/2)),q.push(Math.abs(ye)),q.push(ye),O.each(function(pn){pn.containsFunction(ie.Settings.LOG)&&q.push(.1)});var Bt=Wn(-ie.Settings.SOLVE_RADIUS,ye,P),St=Wn(ye,ie.Settings.SOLVE_RADIUS,P),Gt=function(pn,Tn){for(var At,nr,qn,xn=[],Ur=0,ai=pn.length;Ur<ai;Ur++)qn=(nr=re(At=pn[Ur]))/Math.abs(nr),!(isNaN(nr)||!isFinite(nr)||xn.length>Tn)&&(qn!==Me&&xn.push(At),Me=qn);q=q.concat(xn)};return Gt(Bt,Ke),Gt(St,Pe),q},bisection:function(O,P){var q=O-1,re=O+1;if(Math.sign(P(q))!==Math.sign(P(re))){var ye,Te,ce=0;do{if(ye=Math.abs(re-q),ce++>ie.Settings.MAX_BISECTION_ITER||isNaN(ye))return;Te=(q+re)/2,P(q)*P(Te)>0?q=Te:re=Te}while(ye>=Kt.EPSILON);var Me=(q+re)/2,Pe=P(Me);if(!isNaN(Pe)&&Math.abs(Pe)<=ie.Settings.BI_SECTION_EPSILON)return ie.Utils.round(Me,13)}},Newton:function(O,P,q){var Te,re=ie.Settings.MAX_NEWTON_ITERATIONS,ce=0,ye=O;do{var Me=P(ye);if(0===ye&&0===Me){Te=0;break}if(++ce>re)return;Te=ye-Me/q(ye);var Pe=Math.abs(Te-ye);ye=Te}while(Pe>Kt.NEWTON_EPSILON);if(Math.abs(P(Te))<=Kt.EPSILON)return Te},rewrite:function(O,P,q){if(P=P||new ve(0),O.isComposite()&&O.isLinear()){var re=[],ce=[];O.each(function(Ke){"sqrt"===(Ke=Ke.clone()).fname&&Ke.contains(q)?re.push(Ke):ce.push(Ke)},!0),1===re.length&&(P=M.expand(M.pow(M.subtract(P,ie.Utils.arraySum(ce)),new ve(2))),O=M.expand(M.pow(ve.unwrapSQRT(re[0]),new ve(2))))}else O=ve.unwrapSQRT(M.expand(O));var ye=0,Te=O.length;if(O.group===vn&&O.contains(q)&&O.isLinear()){O.distributeMultiplier();var Me=new ve(0);return O.each(function(Ke){Ke.contains(q)?(ye++,Me=M.add(Me,Ke.clone())):P=M.subtract(P,Ke.clone())}),O=Me,ye!==Te?Je.rewrite(O,P,q):[O,P]}if(O.group===rn&&O.contains(q)&&O.isLinear())return O.multiplier.lessThan(0)&&(O.multiplier=O.multiplier.multiply(new ie.Frac(-1)),P.multiplier=P.multiplier.multiply(new ie.Frac(-1))),P.equals(0)?new ve(0):(Me=new ve(1),O.each(function(Bt){Bt.contains(q)?Me=M.multiply(Me,Bt.clone()):P=M.divide(P,Bt.clone())}),Je.rewrite(O=Me,P,q));if(!O.isLinear()&&O.contains(q)){var Pe=M.parse(O.power.clone().invert());return O=M.pow(O,Pe.clone()),P=M.pow(M.expand(P),Pe.clone()),Je.rewrite(O,P,q)}return O.group===ze||O.group===Lt||O.group===mn?[O,P]:void 0},sqrtSolve:function(O,P){var q=new ve(0),re=new ve(0);if(O.isComposite()&&(O.each(function(Te){"sqrt"===Te.fname&&Te.contains(P)?q=M.add(q,Te.clone()):re=M.add(re,Te.clone())}),!q.equals(0))){var ce=M.expand(M.multiply(M.parse(O.multiplier),M.subtract(M.pow(re,new ve(2)),M.pow(q,new ve(2))))),ye=F(ce,P);return ye.filter(function(Te){if(Te.isImaginary())return Te;var Me={};return Me[P]=Te,Tt(O,Me).equals(0)?Te:void 0})}}},F=function(O,P,q,re,ce){if(re=re||0,re++>Kt.MAX_SOLVE_DEPTH)return q;if(O instanceof Cn){if(O.isZero())return[new ve(0)];if(O.LHS.equals(P)&&!O.RHS.contains(P))return[O.RHS];if(O.RHS.equals(P)&&!O.LHS.contains(P))return[O.LHS]}if(O instanceof ie.Vector&&(O=O.elements),P=P||"x",Yr(O))return Je.solveSystem.apply(void 0,arguments);q=q||[];var ye={},Te={};if(Te[P]=0,_t(O)&&!0===Tt(O.getDenom(),Te).equals(0))return q;var Me=function(lt,Wt){var Jt=_t(lt);if(!(void 0===lt||"number"==typeof lt&&isNaN(lt)))if(Yr(lt))lt.forEach(function(zn){Me(zn)});else if("null"!==lt.valueOf()){if("function"==typeof ie.Settings.PRE_ADD_SOLUTION&&(lt=ie.Settings.PRE_ADD_SOLUTION(lt)),Jt||(lt=M.parse(lt)),ie.Settings.make_pi_conversions&&Wt){var sn=M.divide(lt.clone(),new ve(Math.PI)),Jn=sn.multiplier,Dn=Math.abs(Jn.num),si=Math.abs(Jn.den);Dn<10&&si<10&&(lt=M.multiply(sn,new ve("pi")))}var Zn=lt.toString();ye[Zn]||q.push(lt),ye[Zn]=!0}};if(O.group===Lt&&O.contains(P)){try{var Pe={};Pe[P]=0,Tt(ce,Pe,"numer"),Me(new ve(0))}catch{}return q}if(O.group===rn){var Ke=O.getNum();if(Ke.group===rn){var Bt=String(P);return Ke.each(function(lt){lt.contains(Bt)&&F(lt,P,q,re,O)}),q}return F(Ke,P,q,re,ce)}O.group===ze&&"sqrt"===O.fname&&(O=M.pow(ve.unwrapSQRT(O),new ve(2)));var St=(ie.Utils.isSymbol(O)?O:Je.toLHS(O,!1)).getNum(),Gt=ie.Utils.variables(St),pn=Gt.length;if(ie.Utils.isInt(St.power)&&St.power>0&&(St=M.parse(St).toLinear()),St.group===Lt||St.group===rn&&St.contains(P))return[new ve(0)];var At,Tn={},nr=function(lt){var Wt=(lt=M.expand(lt,{expand_denominator:!0,expand_functions:!0})).clone();if(lt.symbols)for(var Jt in lt.symbols){var sn=lt.symbols[Jt],Jn=sn.getDenom();if(!Jn.isConstant(!0)&&lt.isComposite()){var Dn=new ve(0);return lt.each(function(tn){Dn=M.add(Dn,M.multiply(tn,Jn.clone()))}),nr(M.multiply(M.parse(lt.multiplier),Dn))}var si=xe(sn,P),Zn=si[1].fname===ie.Settings.SQRT,zn=ve.unwrapSQRT(si[1]),Qr=zn.power.clone();if(!_t(Qr)&&!Qr.equals(.5))if(Qr.den.gt(1)){if(Zn)return lt=M.subtract(lt,sn.clone()),lt=M.add(lt,M.multiply(si[0].clone(),zn)),nr(lt);var yn=Tn[Qr.den];Tn[Qr.den]=yn?yn++:1}else{if(-1===Qr.sign()){var Hr=M.parse(P+"^"+Math.abs(Qr));return lt.each(function(tn,Vr){tn.contains(P)&&(lt.symbols[Vr]=M.multiply(tn,Hr.clone()))}),Tn={},nr(M.parse(lt))}if(sn.group===mn){var qr=ie.Utils.arrayMin(ie.Utils.keys(sn.symbols));if(qr<0){Hr=M.parse(P+"^"+Math.abs(qr));var En=new ve(0);return Wt.each(function(Vr){En=M.add(En,M.multiply(Vr.clone(),Hr.clone()))},!0),En}}}}return lt},qn=function(lt){var Wt=new ve(0),Jt=new ve(0);return lt.each(function(sn){sn.contains(P,!0)?Wt=M.add(Wt,sn.clone()):Jt=M.subtract(Jt,sn.clone())}),[Wt,Jt]};if(Je.inverseFunctionSolve=function(lt,Wt,Jt){var sn=xe(Wt.args[0],P);if(sn[1].group===Lt)return M.divide(M.symfunction(lt,[M.divide(Jt,M.parse(Wt.multiplier))]),sn[0])},(St=nr(St)).equals(0))return[St];var xn=ie.Utils.keys(Tn);if(1===xn.length&&(At=xn[0],St.each(function(lt,Wt){if(lt.contains(P)){var Jt=xe(lt,P),sn=Jt[1],Jn=sn.power;Jn.den.gt(1)&&(sn.power=Jn.multiply(new ie.Frac(At)),St.symbols[Wt]=M.multiply(sn,Jt[0]))}}),St=M.parse(St)),Me(Je.sqrtSolve(St,P)),1===pn)if(St.isPoly(!0)){var Ur=new ie.Algebra.Classes.Factors;if(ie.Algebra.Factor.factor(St,Ur),Ur.getNumberSymbolics()>1)for(var ai in Ur.factors)Me(F(Ur.factors[ai],P));else{var Nn=(cn=ie.Utils.getCoeffs(St,P)).length-1,zr=!1;if(Gt[0]===P){if(Mn(cn,function(lt){return lt.group!==ie.groups.N})){var Lr=ie.Algebra.proots(St);Mn(Lr,function(lt){return!ie.Utils.isInt(lt)})&&(zr=!0,Lr.map(function(lt){Me(new ve(lt))}))}if(!zr)if((O=M.parse(O))instanceof ie.Equation&&(O=O.toLHS()),1===Nn)Me(M.divide(cn[0],cn[1].negate()));else if(2===Nn)Me(M.expand(Je.quad.apply(void 0,cn)));else if(3===Nn){q=[];var Re=ie.Algebra.Factor.factor(O);Me((q=[]).length>0?q:Je.cubic.apply(void 0,cn))}else Dr.proots(St).map(Me)}}}else try{var kt,$e,Le,Fe=St.hasTrig(),qe=Je.getPoints(St,.1),Ue=Je.getPoints(St,.05),pt=Je.getPoints(St,.01),Ct=ie.Utils.arrayUnique(qe.concat(Ue).concat(pt)).sort(function(lt,Wt){return lt-Wt}),an=Pr(St.clone()),L=[];for(kt=0;kt<Ct.length;kt++)void 0!==(Le=Je.bisection($e=Ct[kt],an))?Me(Le,Fe):L.push($e);Ct=L;var ue=kr.diff(St.clone()),we=Pr(ue);for(kt=0;kt<Ct.length;kt++)Me(Je.Newton($e=Ct[kt],an,we),Fe);q.sort()}catch(lt){console.log(lt)}else if(!St.hasFunc(P)&&St.isComposite())try{if((Re=ie.Algebra.Factor.factor(St.clone())).group===rn)Re.each(function(Wt){Me(F(Wt,P))});else{var cn,Qe=(cn=ie.Utils.getCoeffs(St,P)).length;switch(Nn=Qe-1){case 0:var nt=(Ye=qn(St))[1];if((he=Ye[0]).group===ie.groups.EX){var bt=ie.Settings.LOG,dt=`${bt}((${nt})/(${he.multiplier}))/${bt}(${he.value})/${he.power.multiplier}`;Me(M.parse(dt))}break;case 1:Me(M.divide(cn[0],cn[1].negate()));break;case 2:Me(Je.quad.apply(void 0,cn));break;case 3:Me(Je.cubic.apply(void 0,cn));break;case 4:Me(Je.quartic.apply(void 0,cn));break;default:Me(Je.csolve(St,P)),0===q.length&&Me(Je.divideAndConquer(St,P))}0===q.length&&Me(F(Re,P,q,re))}}catch{}else try{var ct=Je.rewrite(St,null,P);if(nt=ct[1],(he=ct[0]).group===ze)if("abs"===he.fname)Me([nt.clone(),nt.negate()]);else if("sin"===he.fname)Me(Je.inverseFunctionSolve("asin",he,nt));else if("cos"===he.fname)Me(Je.inverseFunctionSolve("acos",he,nt));else if("tan"===he.fname)Me(Je.inverseFunctionSolve("atan",he,nt));else if(he.fname===ie.Settings.LOG){var ht=xe(he.args[0],P);(ai=ht[1]).group===Lt&&(St=new Cn(ai,nt=M.divide(M.subtract(M.pow(he.args.length>1?he.args[1]:new ve("e"),M.divide(nt,M.parse(he.multiplier))),ht[3]),ht[0])).toLHS(),Me(F(St,P)))}else Me(M.subtract(he,nt));else{var It=new Cn(he,nt).toLHS();if(It.equals(St))throw new Error("Stopping. No stop condition exists");Me(F(It,P))}}catch{try{if(St.group===rn)Me(0);else if(St.group===vn){var Ye,he;if(nt=(Ye=qn(St))[1],(he=Ye[0]).group===ie.groups.EX&&he.value===P){var vt=he.power.clone().invert();Me(M.pow(nt,vt))}}}catch{}}if(At&&(q=q.map(function(lt){return M.pow(lt,new ve(At))})),_t(O)){var at={};q=q.filter(function(lt){try{at[P]=lt;var Wt=Number(Tt(O,at));return isNaN(Wt),!0}catch{return!1}})}return q};Hs.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return F}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return ie.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return Gr}}]),Hs.updateAPI()}()},270:function(Ya,Hl,vr){Ya=vr.nmd(Ya);var ie,Dr,M=function(Dr){"use strict";var xe=new Ji,Tt=Dr.bigInt,Vn=Dr.bigDec;Vn.set({precision:250});var Hn={},Pr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],Nt={},ve={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:["\u03c0"],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9\u221e][0-9a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]+[\+\-\/\*]*)/gi,ALIASES:{\u03c0:"pi","\u221e":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};!function(){ve.CACHE.roots={};for(var N=2;N<=40;N++)for(var H=2;H<=40;H++){var j=Tt(N).pow(H);ve.CACHE.roots[j+"-"+H]=N}}();var _t=Hn.N=1,Xn=Hn.P=2,Lt=Hn.S=3,mn=Hn.EX=4,rn=Hn.FN=5,vn=Hn.PL=6,ze=Hn.CB=7,Kt=Hn.CP=8,Wn=ve.CONST_HASH="#",Yr=ve.PARENTHESIS,Cn=ve.SQRT,Gr=ve.ABS,Mn=ve.FACTORIAL,Je=ve.DOUBLEFACTORIAL,F=[],O={},P=[],q=[],re=function(p,B){if(!ve.suppress_errors)throw B?new B(p):new Error(p)},ce=function(p){var B=function(N){this.name=p,this.message=void 0!==N?N:"";var H=new Error(this.message);H.name=this.name,this.stack=H.stack};return B.prototype=Object.create(Error.prototype),B},ye=function(p){return-1!==P.indexOf(p)},Te=function(p){for(var B=p[0],N=1,H=p.length;N<H;N++)if(!p[N].equals(B))return!1;return!0},Me=function(p){q.push(p),ve.SHOW_WARNINGS&&console&&console.warn&&console.warn(p)},Pe=function(p,B){if(B=B||"variable",-1===ve.ALLOW_CHARS.indexOf(p)&&!ve.VALIDATION_REGEX.test(p))throw new en(p+" is not a valid "+B+" name")},Ke=function(p){var B=Math.sign(p);if(p=Math.abs(p),/\d+\.?\d*e[\+\-]*\d+/i.test(p)){var H=String(p).toLowerCase().split("e"),j=H.pop(),ee=Math.abs(j),Se=j/ee,Ne=H[0].split(".");if(-1===Se)p=(ee-=Ne[0].length)<0?Ne[0].slice(0,ee)+"."+Ne[0].slice(ee)+(2===Ne.length?Ne[1]:""):"0."+new Array(ee+1).join("0")+Ne.join("");else{var Dt=Ne[1];Dt&&(ee-=Dt.length),p=ee<0?Ne[0]+Dt.slice(0,ee)+"."+Dt.slice(ee):Ne.join("")+new Array(ee+1).join("0")}}return B<0?"-"+p:p},Bt=function(p){for(var B=Math.floor(Math.sqrt(p)),N=2;N<=B;N++)if(p%N==0)return!1;return!0},Gt=function(p){return/^\d+\.?\d*$/.test(p)},Tn=function(p){return At(p)?Tn(p.multiplier.toDecimal()):p%1!=0},At=function(p){return p instanceof pe},nr=function(p){return p instanceof ls},qn=function(p,B,N){if(N=N||{c:[],add:function(Ne){-1===this.c.indexOf(Ne)&&isNaN(Ne)&&this.c.push(Ne)}},At(p)){var H=p.group,j=p.previousGroup;if(H===mn&&qn(p.power,B,N),H===Kt||H===ze||j===Kt||j===ze)for(var ee in p.symbols)qn(p.symbols[ee],B,N);else if(H===Lt||j===Lt)"e"===p.value||"pi"===p.value||p.value===ve.IMAGINARY||N.add(p.value);else if(H===vn||j===vn)qn(we(p.symbols),B,N);else if(H===mn)isNaN(p.value)||N.add(p.value),qn(p.power,B,N);else if(H===rn&&!B)for(var Se=0;Se<p.args.length;Se++)qn(p.args[Se],B,N)}return N.c.sort()},Ur=function(p,B){p=xe.expand(p),B=B||{};var N=function(H,j){B[H]||(B[H]=new pe(0)),B[H]=xe.add(B[H],j.clone())};return p.each(function(H){if(H.isConstant("all"))N("constants",H);else if(H.group===Lt)N(H.value,H);else if(H.group!==rn||H.fname!==Gr&&""!==H.fname){if(H.group===mn||H.group===rn)throw new Error("Unable to separate. Term cannot be a function!");N(qn(H).join(" "),H)}else Ur(H.args[0])}),B},cn=function(p){return p instanceof Ti},Nn=function(p){return p instanceof Fr},zr=function(p){return p instanceof gn},Lr=function(p){return p.group===_t||p.group===Xn},Fe=function(p){return Array.isArray(p)},qe=function(p){return/^[-+]?\d+e?\+?\d*$/gim.test(p.toString())},Ue=function(p){return At(p)&&(p=p.multiplier),p.lessThan(0)},pt=function(p){return p&&String(p)},Ct=function(p){return"("+p+")"},an=function(){var p=[].slice.call(arguments),B=p.shift(),N=B.replace(/{(\d+)}/g,function(H,j){var ee=p[j];return"function"==typeof ee?ee():ee});return N},ue=Object.keys,we=function(p,B,N){for(var H in p)break;return B?H:N?{key:H,obj:p[H]}:p[H]},Ye=function(p,B,N){return Pe(p),ye(p)?null:(B=B||qn(xe.parse(N)),xe.functions[p]=[xe.mapped_function,B.length,{name:p,params:B,body:N}],N)},nt=function(p){return Math.min.apply(void 0,p)},vt=function(p,B,N){var H,j,ee,Se;if(B=String(B),p.group===Kt){var Ne=xe.expand(p.clone()).stripVar(B);H=xe.subtract(p.clone(),Ne.clone()),Se=Ne}else H=p.clone();return j=H.stripVar(B),ee=xe.divide(H.clone(),j.clone()),Se=Se||new pe(0),N?{a:j,x:ee,ax:H,b:Se}:[j,ee,H,Se]},at=function(p,B){return qe(p)?p>=Number.MAX_VALUE?p.toString():Number(p):(B=void 0===B?14:B,Math.round(p*Math.pow(10,B))/Math.pow(10,B))},Jt=function(p,B){if(Fe(p))for(var N=p.length,H=0;H<N;H++)B.call(p,H);else for(var j in p)p.hasOwnProperty(j)&&B.call(p,j)},sn=function(p){return p%2==0},Jn=function(p){return 1/(p%1)%2==0},Dn=function(p){for(var B=p.length,N=[],H=0;H<B;H++){var j=p[H];-1===N.indexOf(j)&&N.push(j)}return N},zn=function(p){var B=function(N){-1===P.indexOf(N)&&P.push(N)};"string"==typeof p?B(p):Jt(p,function(N){B(N)})},Qr=function(p,B){var N;return Fe(p)?N=p.splice(B,1)[0]:(N=p[B],delete p[B]),N},yn=function(p,B,N,H){var j=ve[p];ve[p]=void 0===N||!!N;var ee=B.call(H);return ve[p]=j,ee},qr=function(p){return[].slice.call(p)},tn=function(p,B){return yn("PARSE2NUMBER",function(){return xe.parse(p,B)},!0)},Vr=function(p){if(Fe(p)){for(var B=new Ti([]),N=0;N<p.length;N++)B.elements.push(Vr(p[N]));return B}return At(p)?p:xe.parse(p)},Sr=function(p){for(var N=Pr[Pr.length-1]||2;N<p;N++)Bt(N)&&Pr.push(N)},G=function(p){for(var B=0;B<p.length;B++)if(p[B].group!==_t)return!1;return!0},Z=function(p){for(var B=0;B<p.length;B++)if(!p[B].isPi()&&!p[B].isE()&&!p[B].isConstant(!0))return!1;return!0},Y=function(p,B,N){(B.isComposite()&&!p.isComposite()||B.isLinear()&&!p.isLinear())&&([p,B]=[B,p]);var H=new pe(0);return p.isLinear()?p.each(function(j){if(B.isComposite())B.isLinear()?B.each(function(Se){var Ne=xe.multiply(xe.parse(j),xe.parse(Se)),Dt=xe.expand(xe.parse(Ne),N);H=xe.add(H,Dt)},!0):H=xe.add(H,xe.multiply(j,xe.parse(B)));else{var ee=xe.multiply(xe.parse(j),xe.parse(B));H=xe.add(H,xe.expand(ee,N))}},!0):H=xe.multiply(p,B),H},X=ce("DivisionByZero"),me=ce("ParseError"),te=ce("UndefinedError"),_e=ce("OutOfFunctionDomainError"),Ge=ce("MaximumIterationsReached"),ke=ce("NerdamerTypeError"),rt=ce("ParityError"),Xe=ce("OperatorError"),Ot=ce("OutOfRangeError"),Ht=ce("DimensionError"),en=ce("InvalidVariableNameError"),on=ce("ValueLimitExceededError"),Xr=ce("NerdamerValueError"),Gi=ce("SolveError"),as=ce("InfiniteLoopError"),Mi=ce("UnexpectedTokenError"),Ui={DivisionByZero:X,ParseError:me,OutOfFunctionDomainError:_e,UndefinedError:te,MaximumIterationsReached:Ge,NerdamerTypeError:ke,ParityError:rt,OperatorError:Xe,OutOfRangeError:Ot,DimensionError:Ht,InvalidVariableNameError:en,ValueLimitExceededError:on,NerdamerValueError:Xr,SolveError:Gi,InfiniteLoopError:as,UnexpectedTokenError:Mi},jn={csc:function(p){return 1/Math.sin(p)},sec:function(p){return 1/Math.cos(p)},cot:function(p){return 1/Math.tan(p)},acsc:function(p){return Math.asin(1/p)},asec:function(p){return Math.acos(1/p)},acot:function(p){return Math.PI/2-Math.atan(p)},erf:function(p){var B=1/(1+.5*Math.abs(p)),N=1-B*Math.exp(-p*p-1.26551223+B*(1.00002368+B*(.37409196+B*(.09678418+B*(B*(.27886807+B*(B*(1.48851587+B*(.17087277*B-.82215223))-1.13520398))-.18628806)))));return p>=0?N:-N},diff:function(p){var B=.001;return function(H){return(p(H+B)-p(H-B))/(2*B)}},median:function(...p){p.sort(function(N,H){return N-H});var B=Math.floor(p.length/2);return p.length%2?p[B]:(p[B-1]+p[B])/2},fromContinued:function(p){for(var B=p.fractions.slice(),N=1/B.pop(),H=0,j=B.length;H<j;H++)N=1/(B.pop()+N);return p.sign*(p.whole+N)},continuedFraction:function(p,B){B=B||20;for(var xt,Ln,N=Math.sign(p),H=Math.abs(p),j=Math.floor(H),ee=H-j,Se=0,Ne=!1,nn={whole:j,sign:N,fractions:[]};!Ne&&0!==ee&&(xt=1/ee,!((Ln=Math.floor(xt))>1e7&&jn.fromContinued(nn)-p<=Number.EPSILON));)nn.fractions.push(Ln),((ee=xt-Ln)<=1e-14||Se>=B-1)&&(Ne=!0),Se++;var rr=nn.fractions.length-1;return 1===nn.fractions[rr]&&(nn.fractions.pop(),nn.fractions[--rr]++),nn},bigpow:function(p,B){p instanceof un||(p=un.create(p)),B instanceof un||(B=un.create(B));var N=new un(0);if(B.isInteger())N.num=p.num.pow(B.toString()),N.den=p.den.pow(B.toString());else{var H=un.create(Math.pow(p.num,B.num)),j=un.create(Math.pow(p.den,B.num));N.num=jn.nthroot(H,B.den.toString()),N.den=jn.nthroot(j,B.den)}return N},gamma:function(p){var N=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];if(p<.5)return Math.PI/(Math.sin(Math.PI*p)*jn.gamma(1-p));p-=1;for(var H=N[0],j=1;j<9;j++)H+=N[j]/(p+j);var ee=p+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(ee,p+.5)*Math.exp(-ee)*H},bigfactorial:function(p){for(var B=new Tt(1),N=2;N<=p;N++)B=B.times(N);return new un(B)},bigLog:function(p){var B=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(B[p])return un.quick.apply(null,B[p].split("/"));p=new un(p);for(var H=new un(0),j=p.subtract(new un(1)),ee=p.add(new un(1)),Se=0;Se<80;Se++){var Ne=new un(2*Se+1),Dt=jn.bigpow(j.divide(ee),Ne),Mt=Ne.clone().invert().multiply(Dt);H=H.add(Mt)}return H.multiply(new un(2))},factorial:function(p){var B=p%1==0;if(B&&p<0)return NaN;if(!B)return jn.gamma(p+1);for(var N=1,H=2;H<=p;H++)N*=H;return N},dfactorial:function(p){if(qe(p)){var B=p%2==0,N=B?p/2:(p+1)/2,H=new un(1);if(B)for(var j=1;j<=N;j++)H=H.multiply(new un(2).multiply(new un(j)));else for(j=1;j<=N;j++)H=H.multiply(new un(2).multiply(new un(j)).subtract(new un(1)))}else H=Math.pow(2,(1+2*p-Math.cos(Math.PI*p))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*p)-1)/4)*jn.gamma(1+p/2);return H},GCD:function(){for(var p=Dn([].slice.call(arguments).map(function(j){return Math.abs(j)})).sort(),B=Math.abs(p.shift()),N=p.length;N-- >0;)for(var H=Math.abs(p.shift());;){if(0==(B%=H)){B=H;break}if(0==(H%=B))break}return B},QGCD:function(){for(var p=[].slice.call(arguments),B=p[0],N=1;N<p.length;N++){var H=p[N],j=B.isNegative()&&H.isNegative()?-1:1;B=H.gcd(B),j<0&&B.negate()}return B},LCM:function(p,B){return p*B/jn.GCD(p,B)},pow:function(p,B){return p<0&&Math.abs(B)<1?1/B%2==0?NaN:-Math.pow(Math.abs(p),B):Math.pow(p,B)},factor:function(p){p=Number(p);var B=Math.sign(p);p=Math.abs(p);var N=jn.ifactor(p),H=new pe;for(var j in H.symbols={},H.group=ze,N){var ee=new pe(1);ee.group=Xn,ee.value=j,ee.power=new pe(N[j]),H.symbols[j]=ee}return H.updateHash(),1===p&&(H=new pe(p)),B<0&&H.negate(),H},sfactor:function(p,B){B=B||{};var N=Math.floor(Math.sqrt(p));N>Pr[Pr.length-1]&&p<1e6&&Sr(N);for(var j=Pr.length,ee=0;ee<j;ee++)for(var Se=Pr[ee];p%Se==0;)p/=Se,B[Se]=(B[Se]||0)+1;return p>1&&(B[p]=1),B},ifactor:function(p){var B=new Tt(p);if("0"===(p=String(p)))return{0:1};var N=(p=new Tt(p)).sign?-1:1;p=p.abs();var H={};if(p.lt("65536"))H=jn.sfactor(p,H);else{var j=function(Mt){Mt.isPrime()?H[Mt]=(H[Mt]||0)+1:H=jn.sfactor(Mt,H)};try{for(var Se=0;!p.abs().equals(1);){if(p.isPrime()){j(p);break}{let Mt=function(xt){for(var Ln=new Tt(xt),nn=2,_n=new Tt(xt),rr=new Tt(1);rr.equals(1);){for(var yr=0;yr<=nn&&rr.equals(1);yr++){if(Se++>1e3)throw new Error("stopping");_n=_n.pow(2).add(1).mod(p),rr=Tt.gcd(_n.minus(Ln).abs(),p)}nn*=2,Ln=_n}return rr.equals(p)?Mt(xt+1):rr};var Ne=Mt(2);j(Ne),p=p.divide(Ne)}}}catch{H={},j(B)}}if(-1===N){var Dt=nt(ue(H));H["-"+Dt]=H[Dt],delete H[Dt]}return H},boxfactor:function(p,B){B=B||200;for(var N,H,j=Math.floor(5/12*p),ee=0,Se=!1;N=Math.floor(p/j),0!=(H=p%j);){if(Se)return[p,1];j=Math.max(H,j-H),Se=++ee>B}return[N,j,ee]},fib:function(p){var B=Math.sign(p);p=Math.abs(p),B=sn(p)?B:Math.abs(B);for(var N=0,H=1,j=1,ee=2;ee<=p;ee++)j=N+H,N=H,H=j;return j*B},mod:function(p,B){return p%B},integer_part:function(p){return Math.sign(p)*Math.floor(Math.abs(p))},simpson:function(p,B,N,H){var j=function(_n,rr,yr){var ui=_n(rr);return isNaN(ui)&&(ui=_n(1===yr?rr+1e-12:rr-1e-12)),ui};H=H||1e-4;var ee=Math.abs(Math.floor((N-B)/H));ee%2!=0&&ee++;for(var Se=(N-B)/ee,Ne=j(p,B,1),Dt=!1,Mt=B+Se,nn=1;nn<ee;nn++)Ne+=(Dt?2:4)*j(p,Mt,1),Dt=!Dt,Mt+=Se;return(Ne+j(p,Mt,2))*(Se/3)},num_integrate:function(p,B,N,H,j){if(j<0)throw new Error("max depth cannot be negative");function ee(Dt,Mt,xt,Ln,nn,_n,rr,yr,ui,Wr,Nr){if(Nr.nanEncountered)return NaN;var zi,Ds,vi,Jr,ga,xo,ci,Br,Fs,Do;if(Ds=Dt(Mt+.25*(zi=xt-Mt)),vi=Dt(xt-.25*zi),isNaN(Ds))Nr.nanEncountered=!0;else{if(!isNaN(vi))return Do=((xo=(Jr=zi*(Ln+4*Ds+nn)/12)+(ga=zi*(nn+4*vi+_n)/12))-rr)/15,Nr.maxDepthCount>1e3*ui?void 0:Wr>ui?(Nr.maxDepthCount++,xo+Do):Math.abs(Do)<yr?xo+Do:(Br=ee(Dt,Mt,ci=Mt+.5*zi,Ln,Ds,nn,Jr,.5*yr,ui,Wr+1,Nr),isNaN(Br)?(Nr.nanEncountered=!0,NaN):(Fs=ee(Dt,ci,xt,nn,vi,_n,ga,.5*yr,ui,Wr+1,Nr),isNaN(Fs)?(Nr.nanEncountered=!0,NaN):Br+Fs));Nr.nanEncountered=!0}}var Ne;try{Ne=function Se(Dt,Mt,xt,Ln,nn){var _n={maxDepthCount:0,nanEncountered:!1};void 0===Ln&&(Ln=1e-9),void 0===nn&&(nn=45);var rr=Dt(Mt),yr=Dt(.5*(Mt+xt)),ui=Dt(xt),Nr=ee(Dt,Mt,xt,rr,yr,ui,(rr+4*yr+ui)*(xt-Mt)/6,Ln,nn,1,_n);if(_n.maxDepthCount>0&&Me("integrate-adaptive-simpson: Warning: maximum recursion depth ("+nn+") reached "+_n.maxDepthCount+" times"),_n.nanEncountered)throw new Error("Function does not converge over interval!");return Nr}(p,B,N,H,j)}catch{return jn.simpson(p,B,N)}return at(Ne,12)},Ci:function(p){for(var H=0,j=1;j<20;j++){var ee=2*j;H+=Math.pow(-1,j)*Math.pow(p,ee)/(ee*jn.factorial(ee))}return Math.log(p)+.5772156649015329+H},Si:function(p){for(var N=0,H=0;H<20;H++){var j=2*H;N+=Math.pow(-1,H)*Math.pow(p,j+1)/((j+1)*jn.factorial(j+1))}return N},Ei:function(p){if(0===Number(p))return-1/0;for(var H=0,j=1;j<30;j++)H+=Math.pow(p,j)/(j*jn.factorial(j));return.5772156649015329+Math.abs(Math.log(p))+H},Shi:function(p){for(var H,j,N=0,ee=0;ee<30;ee++)j=1+(H=2*ee),N+=Math.pow(p,j)/(j*j*jn.factorial(H));return N},Chi:function(p){var H;return H=function(j){return(Math.cosh(j)-1)/j},Math.log(p)+.5772156649015329+jn.num_integrate(H,.002,p,.001)},Li:function(p){return jn.Ei(jn.bigLog(p))},gamma_incomplete:function(p,j){for(var N=p-1,H=0,ee=(j=j||0,0);ee<N;ee++)H+=Math.pow(j,ee)/jn.factorial(ee);return jn.factorial(N)*Math.exp(-j)*H},step:function(p){return p>0?1:p<0?0:.5},rect:function(B){return.5===(B=Math.abs(B))?B:B>.5?0:1},sinc:function(p){return p.equals(0)?1:Math.sin(p)/p},tri:function(p){return(p=Math.abs(p))>=1?0:1-p},nthroot:function(p,B){if(p instanceof un||(p=new un(p.toString())),B instanceof un||(B=new un(B.toString())),B.equals(1))return p;var j,ee,Se,N=p.divide(new un(2)),H=new un(1e-15),Ne=B.clone().invert(),Dt=B.subtract(new un(1));do{var Mt=jn.bigpow(N,Dt),xt=Ne.multiply(p.divide(Mt).subtract(N)).toDecimal(25);if(j=un.create(xt),Se)break;N=N.add(j),xt=j.toDecimal(),Se=!!ee&&ee===xt,ee=xt}while(j.abs().gte(H));return N},sqrt:function(p){p instanceof un||(p=new un(p));var B,N,H,j,ee=0,Se=!1,Ne=new un(1e-20);B=p.divide(new un(2));do{if(ee>1e3)throw new Error("Unable to calculate square root for "+p);B=B.add(p.divide(B)).divide(new un(2)),B=new un(B.decimal(30)),N=p.subtract(B.multiply(B)),j=!!H&&H.equals(N),(N.clone().abs().lessThan(Ne)||j)&&(Se=!0),H=N,ee++}while(!Se);return B}};function On(p,B,N,H){var j="hash"===B,ee=void 0,Se=j?void 0:B,Ne="decimal"===Se||"decimals"===Se;function Dt(ci){switch(B){case"decimals":case"decimal":return ee=ee||function(Fi){return!1},ci.valueOf();case"recurring":ee=ee||function(Fi){return-1!==Fi.indexOf("'")};var el=ci.toString();if(0===(ni=/^-?\d+(?:\/\d+)?$/.exec(el)).length)return el;var Na=ni[0].split("/"),Br=!1,Fs=Number(Na[0]);Fs<0&&(Fs=-Fs,Br=!0);var Do=Number(Na[1]);Do||(Do=1);var Ro=10*(Fs-(Ss=Math.floor(Fs/Do))*Do);for(Ss=Ss.toString()+".";Ro&&Ro<Do;)Ro*=10,Ss+="0";for(var Ws="",Es=[],_i=0;;){if(void 0!==Es[Ro])return(Br?"-":"")+(Ss+Ws.slice(0,Es[Ro])+"'"+Ws.slice(Es[Ro])+"'").replace("'0'","").replace(/\.$/,"");var bl=Math.floor(Ro/Do),Za=Ro-bl*Do;Es[Ro]=_i,Ws+=bl.toString(),_i+=1,Ro=10*Za}case"mixed":var ni;if(ee=ee||function(Fi){return-1!==Fi.indexOf("/")},el=ci.toString(),0===(ni=/^-?\d+(?:\/\d+)?$/.exec(el)).length)return el;Na=ni[0].split("/");var tl=new Tt(Na[0]),Fn=new Tt(Na[1]);Fn.equals(0)&&(Fn=new Tt(1));var co=tl.divmod(Fn),Ss=co.quotient,sa=co.remainder,Cl="-"===Na[0][0]||Ss.equals(0)||sa.equals(0)?"":"+";return(Ss.equals(0)?"":Ss.toString())+Cl+(sa.equals(0)?"":sa.toString()+"/"+Na[1]);case"scientific":return ee=ee||function(Fi){return!1},new Xi(ci.valueOf()).toString(ve.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return ee=ee||function(Fi){return-1!==Fi.indexOf("/")},ci.toString()}}if(Ne&&void 0===H&&(H=ve.DEFAULT_DECP),At(p)){var Mt="",xt="",Ln="",nn=p.group||N,_n=p.value;if(!j){var rr=Dt(p.multiplier);"-1"==rr&&"-1"===String(p.multiplier)&&(Ln="-",rr="1"),"1"!=rr&&(Mt=rr);var yr=p.power?Dt(p.power):"";"1"!=yr&&(xt=At(yr)?On(yr,Se):yr)}switch(nn){case _t:Mt="";var ui=H&&Ne?p.multiplier.toDecimal(H):Dt(p.multiplier);_n="-1"==String(p.multiplier)?"1":ui,xt="";break;case vn:_n=p.collectSymbols().map(function(ci){var Br=On(ci,Se,N,H);return"0"==Br&&(Br=""),Br}).sort().join("+").replace(/\+\-/g,"-");break;case Kt:_n=p.collectSymbols().map(function(ci){var Br=On(ci,Se,N,H);return"0"==Br&&(Br=""),Br}).sort().join("+").replace(/\+\-/g,"-");break;case ze:_n=p.collectSymbols(function(ci){var Br=ci.group;return(Br===vn||Br===Kt)&&ci.power.equals(1)&&ci.multiplier.equals(1)?Ct(On(ci,Se)):On(ci,Se)}).join("*");break;case mn:var Wr=p.previousGroup,Nr=p.power.group;Wr===vn&&(_n=p.collectSymbols(On,Se).join("+").replace("+-","-")),!(Wr===_t||Wr===Lt||Wr===rn)&&!j&&(_n=Ct(_n)),(Nr===Kt||Nr===ze||Nr===vn||"1"!=p.power.multiplier.toString())&&xt&&(xt=Ct(xt))}if(nn===rn&&(_n=p.fname+Ct(p.args.map(function(ci){return On(ci,Se)}).join(","))),nn===rn&&p.fname in Nt){var zi=On(p.args[0]),Ds=On(p.args[1]);p.args[0].isComposite()&&(zi=Ct(zi)),p.args[1].isComposite()&&(Ds=Ct(Ds)),_n=zi+Nt[p.fname]+Ds}xt&&nn!==mn&&ee(xt)&&(xt=Ct(xt)),((nn===Kt||nn===vn)&&(Mt&&"1"!=Mt||"-"===Ln)||(nn===ze||nn===Kt||nn===vn)&&xt&&"1"!=xt||!j&&nn===Xn&&-1==_n||p.fname===Yr)&&(_n=Ct(_n)),H&&("decimal"===B||"decimals"===B&&Mt)&&(Mt=at(Mt,H));var vi=Ln+Mt;if(Mt&&ee(Mt)&&(vi=Ct(vi)),xt<0&&(xt=Ct(xt)),Mt&&(vi+="*"),xt){if("e"===_n&&ve.E_TO_EXP)return vi+"exp"+Ct(xt);xt=ve.POWER_OPERATOR+xt}nn===mn&&"-"===_n.charAt(0)&&(_n=Ct(_n));var Jr=vi+_n;return p.parens&&(Jr=Ct(Jr)),Jr+xt}if(cn(p)){for(var ga=p.elements.length,xo=(vi=[],0);xo<ga;xo++)vi.push(p.elements[xo].text(B));return"["+vi.join(",")+"]"}try{return p.toString()}catch{return""}}function Cs(p){if(Bt(p))return[p];for(var B=p,N=1,H=[];N<B;){var ee=p/N,Se=Math.floor(ee);if(ee-Se<=2220446049250313e-31&&N>1){if(Bt(N)&&(-1===Pr.indexOf(N)&&Pr.push(N),H.push(N)),Bt(Se)){H.push(Se);break}B=Se}N++}return H.sort(function(Dt,Mt){return Dt-Mt})}function ls(p){this.symbol=p}function Xi(p){return this instanceof Xi?((p=String(void 0===p?0:p)).startsWith("-")?(this.sign=-1,p=p.substr(1,p.length)):this.sign=1,Xi.isScientific(p)?this.fromScientific(p):this.convert(p),this):new Xi(p)}function un(p){if(p instanceof un)return p;if(void 0===p)return this;try{if(qe(p))try{this.num=Tt(p),this.den=Tt(1)}catch{return un.simple(p)}else{var B=p instanceof Vn?li.quickConversion(p):li.convert(p);this.num=new Tt(B[0]),this.den=new Tt(B[1])}}catch{return un.simple(p)}}function pe(p){var B="Infinity"===p;return this instanceof pe?(p instanceof Vn&&(p=p.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(p)||p instanceof Vn?(this.group=_t,this.value=Wn,this.multiplier=new un(p)):(this.group=Lt,Pe(p),this.value=p,this.multiplier=new un(1),this.imaginary=p===ve.IMAGINARY,this.isInfinity=B),this.power=new un(1),this):new pe(p)}function Ji(){var p=this,B={},N={names:[],actions:[]};function H(w,x){this.start=w,this.end=x}function j(){this.elements=[]}function ee(w,x,se){if(this.type=x,this.value=w,void 0!==se&&(this.column=se+1),x===ee.OPERATOR){var ge=Mt[w];for(var He in ge)this[He]=ge[He]}else x===ee.FUNCTION&&(this.precedence=ee.MAX_PRECEDENCE,this.leftAssoc=!1)}H.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},H.prototype.text=function(){return On(this.start)+":"+On(this.end)},j.prototype.append=function(w){this.elements.push(w)},j.prototype.getItems=function(){return this.elements},j.prototype.toString=function(){return p.pretty_print(this.elements)},j.create=function(w){var x=new j;return w&&x.append(w),x},ee.prototype.toString=function(){return this.value},ee.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},ee.OPERATOR="OPERATOR",ee.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",ee.FUNCTION="FUNCTION",ee.UNIT="UNIT",ee.KEYWORD="KEYWORD",ee.MAX_PRECEDENCE=999,this.classes={Collection:j,Slice:H,Token:ee};var Se={prec:void 0,cos:function(w,x){var se,ge;return se=p.parse(Math.cos(w)*Math.cosh(x)),ge=p.parse(Math.sin(w)*Math.sinh(x)),p.subtract(se,p.multiply(ge,pe.imaginary()))},sin:function(w,x){var se,ge;return se=p.parse(Math.sin(w)*Math.cosh(x)),ge=p.parse(Math.cos(w)*Math.sinh(x)),p.subtract(se,p.multiply(ge,pe.imaginary()))},tan:function(w,x){var se,ge;return se=p.parse(Math.sin(2*w)/(Math.cos(2*w)+Math.cosh(2*x))),ge=p.parse(Math.sinh(2*x)/(Math.cos(2*w)+Math.cosh(2*x))),p.add(se,p.multiply(ge,pe.imaginary()))},sec:function(w,x){var se=this.removeDen(this.cos(w,x));return p.subtract(se[0],p.multiply(se[1],pe.imaginary()))},csc:function(w,x){var se=this.removeDen(this.sin(w,x));return p.add(se[0],p.multiply(se[1],pe.imaginary()))},cot:function(w,x){var se=this.removeDen(this.tan(w,x));return p.subtract(se[0],p.multiply(se[1],pe.imaginary()))},acos:function(w,x){var se,ge,He,ft,yt;return se=this.fromArray([w,x]),yt=p.pow(se.clone(),new pe(2)),ge=p.expand(yt),He=p.multiply(_i(p.subtract(new pe(1),ge)),pe.imaginary()),ft=Zr(p.expand(p.add(se.clone(),He))),p.expand(p.multiply(pe.imaginary().negate(),ft))},asin:function(w,x){return p.subtract(p.parse("pi/2"),this.acos(w,x))},atan:function(w,x){return w.equals(0)&&(x.equals(1)||x.equals(-1))?p.parse(`${pe.infinity()}*${ve.IMAGINARY}*${x}`):(ot=Se.fromArray([w,x]),se=p.expand(p.multiply(pe.imaginary(),ot.clone())),ge=Zr(p.expand(p.subtract(new pe(1),se.clone()))),He=Zr(p.expand(p.add(new pe(1),se.clone()))),p.expand(p.multiply(p.divide(pe.imaginary(),new pe(2)),p.subtract(ge,He))));var se,ge,He,ot},asec:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.acos.apply(this,se)},acsc:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.asin.apply(this,se)},acot:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.atan.apply(this,se)},cosh:function(w,x){var se,ge;return se=p.parse(Math.cosh(w)*Math.cos(x)),ge=p.parse(Math.sinh(w)*Math.sin(x)),p.add(se,p.multiply(ge,pe.imaginary()))},sinh:function(w,x){var se,ge;return se=p.parse(Math.sinh(w)*Math.cos(x)),ge=p.parse(Math.cosh(w)*Math.sin(x)),p.add(se,p.multiply(ge,pe.imaginary()))},tanh:function(w,x){var se,ge;return se=p.parse(Math.sinh(2*w)/(Math.cos(2*x)+Math.cosh(2*w))),ge=p.parse(Math.sin(2*x)/(Math.cos(2*x)+Math.cosh(2*w))),p.subtract(se,p.multiply(ge,pe.imaginary()))},sech:function(w,x){var se=this.removeDen(this.cosh(w,x));return p.subtract(se[0],p.multiply(se[1],pe.imaginary()))},csch:function(w,x){var se=this.removeDen(this.sinh(w,x));return p.subtract(se[0],p.multiply(se[1],pe.imaginary()))},coth:function(w,x){var se=this.removeDen(this.tanh(w,x));return p.add(se[0],p.multiply(se[1],pe.imaginary()))},acosh:function(w,x){var se,ge,He;return He=this.fromArray([w,x]),se=_i(p.add(He.clone(),new pe(1))),ge=_i(p.subtract(He.clone(),new pe(1))),p.expand(Zr(p.add(He,p.expand(p.multiply(se,ge)))))},asinh:function(w,x){var se,ge;return ge=this.fromArray([w,x]),se=_i(p.add(new pe(1),p.expand(p.pow(ge.clone(),new pe(2))))),p.expand(Zr(p.add(ge,se)))},atanh:function(w,x){var se,ge,He;return He=this.fromArray([w,x]),se=Zr(p.add(He.clone(),new pe(1))),ge=Zr(p.subtract(new pe(1),He)),p.expand(p.divide(p.subtract(se,ge),new pe(2)))},asech:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.acosh.apply(this,se)},acsch:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.asinh.apply(this,se)},acoth:function(w,x){var se=this.removeDen([w,x]);return se[1].negate(),this.atanh.apply(this,se)},sqrt:function(w){var x,se,ge,He,ot;return x=w.realpart(),se=w.imagpart(),ge=pe.hyp(x,se),He=p.add(x.clone(),ge),ot=_i(p.multiply(new pe(2),He.clone())),p.add(p.divide(He.clone(),ot.clone()),p.multiply(p.divide(se,ot),pe.imaginary()))},log:function(w,x){var se,ge,He;return se=Zr(pe.hyp(w,x)),He=ve.USE_BIG?pe(Vn.atan2(x.multiplier.toDecimal(),w.multiplier.toDecimal())):Math.atan2(x,w),ge=p.parse(He),p.add(se,p.multiply(pe.imaginary(),ge))},erf:(w,x)=>p.symfunction("erf",[w]),removeDen:function(w){var x,se,ge;return Fe(w)?(se=w[0],ge=w[1]):(se=w.realpart(),ge=w.imagpart()),x=Math.pow(se,2)+Math.pow(ge,2),[p.parse(se/x),p.parse(ge/x)]},fromArray:function(w){return p.add(w[0],p.multiply(pe.imaginary(),w[1]))},evaluate:function(w,x){var se,ge,He;if(He=w.power.sign(),w.power=w.power.abs(),w.power.greaterThan(1)&&(w=p.expand(w)),He<0){var ot=this.removeDen(w);se=ot[0],ge=ot[1]}else se=w.realpart(),ge=w.imagpart();return se.isConstant("all")&&ge.isConstant("all")?this[x].call(this,se,ge):p.symfunction(x,[w])}},Ne=this.trig={cos:function(w){if(w.equals("pi")&&w.multiplier.den.equals(2))return new pe(0);if(ve.PARSE2NUMBER){if(w.equals(new pe(ve.PI/2)))return new pe(0);if(w.isConstant())return new pe(ve.USE_BIG?Vn.cos(w.multiplier.toDecimal()):Math.cos(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"cos")}if(w.equals(0))return new pe(1);var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier.abs();if(w.multiplier=He,w.isPi()&&w.isLinear())if(qe(He))x=new pe(sn(He)?1:-1);else{Number(He.num);var ft=Number(He.den);2===ft?x=new pe(0):3===ft?(x=p.parse("1/2"),se=!0):4===ft?(x=p.parse("1/sqrt(2)"),se=!0):6===ft?(x=p.parse("sqrt(3)/2"),se=!0):x=p.symfunction("cos",[w])}return se&&(2===ge||3===ge)&&x.negate(),x||(x=p.symfunction("cos",[w])),x},sin:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return w%Math.PI==0?new pe(0):new pe(ve.USE_BIG?Vn.sin(w.multiplier.toDecimal()):Math.sin(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"sin")}if(w.equals(0))return new pe(0);var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier.sign(),ot=w.multiplier.abs();if(w.multiplier=ot,w.equals("pi"))x=new pe(0);else if(w.isPi()&&w.isLinear())if(qe(ot))x=new pe(0);else{var yt=ot.den;2==yt?(x=new pe(1),se=!0):3==yt?(x=p.parse("sqrt(3)/2"),se=!0):4==yt?(x=p.parse("1/sqrt(2)"),se=!0):6==yt?(x=p.parse("1/2"),se=!0):x=p.multiply(new pe(He),p.symfunction("sin",[w]))}return x||(x=p.multiply(new pe(He),p.symfunction("sin",[w]))),se&&(3===ge||4===ge)&&x.negate(),x},tan:function(w){if(ve.PARSE2NUMBER){if(w%Math.PI==0&&w.isLinear())return new pe(0);if(w.isConstant())return new pe(ve.USE_BIG?Vn.tan(w.multiplier.toDecimal()):Math.tan(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"tan")}var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier;if(w.multiplier=He,w.isPi()&&w.isLinear())if(qe(He))x=new pe(0);else{var ft=He.den;if(2==ft)throw new te("tan is undefined for "+w.toString());3==ft?(x=p.parse("sqrt(3)"),se=!0):4==ft?(x=new pe(1),se=!0):6==ft?(x=p.parse("1/sqrt(3)"),se=!0):x=p.symfunction("tan",[w])}return x||(x=p.symfunction("tan",[w])),se&&(2===ge||4===ge)&&x.negate(),x},sec:function(w){if(ve.PARSE2NUMBER)return w.isConstant()?new pe(ve.USE_BIG?new Vn(1).dividedBy(Vn.cos(w.multiplier.toDecimal())):jn.sec(w.valueOf())):w.isImaginary()?Se.evaluate(w,"sec"):p.parse(an("1/cos({0})",w));var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier.abs();if(w.multiplier=He,w.isPi()&&w.isLinear())if(qe(He))x=new pe(sn(He)?1:-1);else{var ft=He.den;if(2==ft)throw new te("sec is undefined for "+w.toString());3==ft?(x=new pe(2),se=!0):4==ft?(x=p.parse("sqrt(2)"),se=!0):6==ft?(x=p.parse("2/sqrt(3)"),se=!0):x=p.symfunction("sec",[w])}return se&&(2===ge||3===ge)&&x.negate(),x||(x=p.symfunction("sec",[w])),x},csc:function(w){if(ve.PARSE2NUMBER)return w.isConstant()?new pe(ve.USE_BIG?new Vn(1).dividedBy(Vn.sin(w.multiplier.toDecimal())):jn.csc(w.valueOf())):w.isImaginary()?Se.evaluate(w,"csc"):p.parse(an("1/sin({0})",w));var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier.sign(),ot=w.multiplier.abs();if(w.multiplier=ot,w.isPi()&&w.isLinear()){if(qe(ot))throw new te("csc is undefined for "+w.toString());var yt=ot.den;2==yt?(x=new pe(1),se=!0):3==yt?(x=p.parse("2/sqrt(3)"),se=!0):4==yt?(x=p.parse("sqrt(2)"),se=!0):6==yt?(x=new pe(2),se=!0):x=p.multiply(new pe(He),p.symfunction("csc",[w]))}return x||(x=p.multiply(new pe(He),p.symfunction("csc",[w]))),se&&(3===ge||4===ge)&&x.negate(),x},cot:function(w){if(ve.PARSE2NUMBER)return w%(Math.PI/2)==0?new pe(0):w.isConstant()?new pe(ve.USE_BIG?new Vn(1).dividedBy(Vn.tan(w.multiplier.toDecimal())):jn.cot(w.valueOf())):w.isImaginary()?Se.evaluate(w,"cot"):p.parse(an("1/tan({0})",w));var x,se=!1,ge=ri(w.multiplier.toDecimal()),He=w.multiplier;if(w.multiplier=He,w.isPi()&&w.isLinear()){if(qe(He))throw new te("cot is undefined for "+w.toString());var ft=He.den;2==ft?x=new pe(0):3==ft?(x=p.parse("1/sqrt(3)"),se=!0):4==ft?(x=new pe(1),se=!0):6==ft?(x=p.parse("sqrt(3)"),se=!0):x=p.symfunction("cot",[w])}return x||(x=p.symfunction("cot",[w])),se&&(2===ge||4===ge)&&x.negate(),x},acos:function(w){if(ve.PARSE2NUMBER){if(w.isConstant()){if(w.gt(1)||w.lt(-1)){var x=w.toString();return ki(tn(`pi/2-asin(${x})`))}return new pe(ve.USE_BIG?Vn.acos(w.multiplier.toDecimal()):Math.acos(w.valueOf()))}if(w.isImaginary())return Se.evaluate(w,"acos")}return p.symfunction("acos",arguments)},asin:function(w){if(ve.PARSE2NUMBER){if(w.isConstant()){if(w.gt(1)||w.lt(-1)){var x=ve.IMAGINARY,se=w.multiplier.toDecimal();return ki(tn(`${x}*log(sqrt(1-${se}^2)-${x}*${se})`))}return new pe(ve.USE_BIG?Vn.asin(w.multiplier.toDecimal()):Math.asin(w.valueOf()))}if(w.isImaginary())return Se.evaluate(w,"asin")}return p.symfunction("asin",arguments)},atan:function(w){var x;if(w.equals(0))x=new pe(0);else{if(ve.PARSE2NUMBER)return w.isConstant()?new pe(ve.USE_BIG?Vn.atan(w.multiplier.toDecimal()):Math.atan(w.valueOf())):w.isImaginary()?Se.evaluate(w,"atan"):p.symfunction("atan",arguments);x=w.equals(-1)?p.parse("-pi/4"):p.symfunction("atan",arguments)}return x},asec:function(w){if(ve.PARSE2NUMBER){if(w.equals(0))throw new _e("Input is out of the domain of sec!");if(w.isConstant())return Ne.acos(w.invert());if(w.isImaginary())return Se.evaluate(w,"asec")}return p.symfunction("asec",arguments)},acsc:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return Ne.asin(w.invert());if(w.isImaginary())return Se.evaluate(w,"acsc")}return p.symfunction("acsc",arguments)},acot:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return new p.add(p.parse("pi/2"),Ne.atan(w).negate());if(w.isImaginary())return Se.evaluate(w,"acot")}return p.symfunction("acot",arguments)},atan2:function(w,x){if(w.equals(0)&&x.equals(0))throw new te("atan2 is undefined for 0, 0");return ve.PARSE2NUMBER&&w.isConstant()&&x.isConstant()?new pe(Math.atan2(w,x)):p.symfunction("atan2",arguments)}},Dt=this.trigh={cosh:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return new pe(Math.cosh(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"cosh")}return p.symfunction("cosh",arguments)},sinh:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return new pe(Math.sinh(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"sinh")}return p.symfunction("sinh",arguments)},tanh:function(w){if(ve.PARSE2NUMBER){if(w.isConstant())return new pe(Math.tanh(w.valueOf()));if(w.isImaginary())return Se.evaluate(w,"tanh")}return p.symfunction("tanh",arguments)},sech:function(w){return ve.PARSE2NUMBER?w.isConstant()?new pe(Math.sech(w.valueOf())):w.isImaginary()?Se.evaluate(w,"sech"):p.parse(an("1/cosh({0})",w)):p.symfunction("sech",arguments)},csch:function(w){return ve.PARSE2NUMBER?w.isConstant()?new pe(Math.csch(w.valueOf())):w.isImaginary()?Se.evaluate(w,"csch"):p.parse(an("1/sinh({0})",w)):p.symfunction("csch",arguments)},coth:function(w){return ve.PARSE2NUMBER?w.isConstant()?new pe(Math.coth(w.valueOf())):w.isImaginary()?Se.evaluate(w,"coth"):p.parse(an("1/tanh({0})",w)):p.symfunction("coth",arguments)},acosh:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"acosh"):ve.PARSE2NUMBER?tn(p.parse(an(ve.LOG+"(({0})+sqrt(({0})^2-1))",w.toString()))):p.symfunction("acosh",arguments)},asinh:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"asinh"):ve.PARSE2NUMBER?tn(p.parse(an(ve.LOG+"(({0})+sqrt(({0})^2+1))",w.toString()))):p.symfunction("asinh",arguments)},atanh:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"atanh"):ve.PARSE2NUMBER?tn(p.parse(an("(1/2)*"+ve.LOG+"((1+({0}))/(1-({0})))",w.toString()))):p.symfunction("atanh",arguments)},asech:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"asech"):ve.PARSE2NUMBER?tn(Zr(p.add(w.clone().invert(),_i(p.subtract(p.pow(w,new pe(-2)),new pe(1)))))):p.symfunction("asech",arguments)},acsch:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"acsch"):ve.PARSE2NUMBER?tn(p.parse(an(ve.LOG+"((1+sqrt(1+({0})^2))/({0}))",w.toString()))):p.symfunction("acsch",arguments)},acoth:function(w){return ve.PARSE2NUMBER&&w.isImaginary()?Se.evaluate(w,"acoth"):ve.PARSE2NUMBER?w.equals(1)?pe.infinity():tn(p.divide(Zr(p.divide(p.add(w.clone(),new pe(1)),p.subtract(w.clone(),new pe(1)))),new pe(2))):p.symfunction("acoth",arguments)}};this.units={};var w,Mt={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(w){return w}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(w){return p.symfunction(ve.DOUBLEFACTORIAL,[w])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(w){return Ds(w)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(w){return p.divide(w,new pe(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(w){return w}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(w){return w}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(w){return w.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},xt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},Ln=this.functions={cos:[Ne.cos,1],sin:[Ne.sin,1],tan:[Ne.tan,1],sec:[Ne.sec,1],csc:[Ne.csc,1],cot:[Ne.cot,1],acos:[Ne.acos,1],asin:[Ne.asin,1],atan:[Ne.atan,1],arccos:[Ne.acos,1],arcsin:[Ne.asin,1],arctan:[Ne.atan,1],asec:[Ne.asec,1],acsc:[Ne.acsc,1],acot:[Ne.acot,1],atan2:[Ne.atan2,2],acoth:[Dt.acoth,1],asech:[Dt.asech,1],acsch:[Dt.acsch,1],sinh:[Dt.sinh,1],cosh:[Dt.cosh,1],tanh:[Dt.tanh,1],asinh:[Dt.asinh,1],sech:[Dt.sech,1],csch:[Dt.csch,1],coth:[Dt.coth,1],acosh:[Dt.acosh,1],atanh:[Dt.atanh,1],log10:[,1],exp:[function Fs(w){return w.fname===ve.LOG&&w.isLinear()?p.pow(w.args[0],pe.create(w.multiplier)):p.parse(an("e^({0})",w))},1],radians:[function Do(w){return p.parse(an("({0})*pi/180",w))},1],degrees:[function Ro(w){return p.parse(an("({0})*180/pi",w))},1],min:[function sa(){var w=[].slice.call(arguments);return Te(w)?w[0]:G(w)?new pe(Math.min.apply(null,w)):ve.SYMBOLIC_MIN_MAX&&Z(w)?co("min",w):p.symfunction("min",w)},-1],max:[function Ss(){var w=[].slice.call(arguments);return Te(w)?w[0]:G(w)?new pe(Math.max.apply(null,w)):ve.SYMBOLIC_MIN_MAX&&Z(w)?co("max",w):p.symfunction("max",w)},-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[function Br(w){return ve.PARSE2NUMBER?w.isConstant()?new pe(jn.sinc(w)):p.parse(an("sin({0})/({0})",w)):p.symfunction("sinc",[w])},1],tri:[,1],sign:[function Cl(w){return w.isConstant(!0)?new pe(Math.sign(tn(w))):p.symfunction("sign",arguments)},1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[Ds,1],factorial:[Ds,1],continued_fraction:[function vi(w,x){var se=tn(w);if(se.isConstant()){var ge=jn.continuedFraction(se,x),He=Ti.fromArray(ge.fractions.map(function(ot){return new pe(ot)}));return Ti.fromArray([new pe(ge.sign),new pe(ge.whole),He])}return p.symfunction("continued_fraction",arguments)},[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[$n,[1,2]],scientific:[function Ys(w,x){return w.scientific=x||10,w},[1,2]],mod:[ga,2],pfactor:[bl,1],vector:[function sA(){return new Ti([].slice.call(arguments))},-1],matrix:[function oA(){return Fr.fromArray(arguments)},-1],Set:[function Vl(){return gn.fromArray(arguments)},-1],imatrix:[function _u(w){return Fr.identity(w)},-1],parens:[function Nr(w){return ve.PARSE2NUMBER?w:p.symfunction("parens",[w])},-1],sqrt:[_i,1],cbrt:[uo,1],nthroot:[Ja,2],log:[Zr,[1,2]],expand:[function qo(w,x){return ki(w,x=x||{expand_denominator:!0,expand_functions:!0})},1],abs:[zi,1],invert:[function yd(w){if(Nn(w))return w.invert();re("invert expects a matrix")},1],determinant:[function ps(w){return Nn(w)?w.determinant():w},1],size:[function _d(w){var x;return Nn(w)?x=[new pe(w.cols()),new pe(w.rows())]:cn(w)||zr(w)?x=new pe(w.elements.length):re("size expects a matrix or a vector"),x},1],transpose:[function Vh(w){if(Nn(w))return w.transpose();re("function transpose expects a matrix")},1],dot:[function Ms(w,x){if(cn(w)&&cn(x))return w.dot(x);re("function dot expects 2 vectors")},2],cross:[function tp(w,x){if(cn(w)&&cn(x))return w.cross(x);re("function cross expects 2 vectors")},2],vecget:[function ro(w,x){return x.isConstant()&&qe(x)?w.elements[x]:p.symfunction("vecget",arguments)},2],vecset:[function gd(w,x,se){return x.isConstant?(w.elements[x]=se,w):p.symfunction("vecset",arguments)},3],vectrim:[function Hh(w,x){return x=void 0===x?1e-14:x,w=w.clone(),x=Number(x),w.elements.sort(function(se,ge){return ge.group-se.group}),w.elements=function(p,B){var N=typeof B;("function"!==N||"undefined"===N)&&(B=function(Dt,Mt){return Dt===Mt});for(var H=[];p.length;){var j=p[0];if(1===p.length){H.push(j);break}var ee=[];H.push(j);for(var Se=1;Se<p.length;Se++){var Ne=p[Se];B(j,Ne)||ee.push(Ne)}p=ee}return H}(w.elements,function(se,ge){return Number(p.subtract(tn(se),tn(ge)).abs())<=x}),w},[1,2]],matget:[function bi(w,x,se){return x.isConstant()&&se.isConstant()?w.elements[x][se]:p.symfunction("matget",arguments)},3],matset:[function nl(w,x,se,ge){return w.elements[x][se]=ge,w},4],matgetrow:[function ep(w,x){return x.isConstant()?new Fr(w.elements[x]):p.symfunction("matgetrow",arguments)},2],matsetrow:[function md(w,x,se){if(!x.isConstant())return p.symfunction("matsetrow",arguments);if(w.elements[x].length!==se.elements.length)throw new Ht("Matrix row must match row dimensions!");var ge=w.clone();return ge.elements[x]=se.clone().elements,ge},3],matgetcol:[function ig(w,x){if(!x.isConstant())return p.symfunction("matgetcol",arguments);x=Number(x);var se=Fr.fromArray([]);return w.each(function(ge,He,ot){ot===x&&se.elements.push([ge.clone()])}),se},2],matsetcol:[function vd(w,x,se){if(!x.isConstant())return p.symfunction("matsetcol",arguments);if(x=Number(x),w.rows()!==se.elements.length)throw new Ht("Matrix columns must match number of columns!");return se.each(function(ge,He){w.set(He-1,x,ge.elements[0].clone())}),w},3],rationalize:[Es,1],IF:[function xo(w,x,se){return"boolean"!=typeof w&&Lr(w)&&(w=!!Number(w)),w?x:se},3],is_in:[function ci(w,x){if(Nn(w)){for(var se=0,ge=w.rows();se<ge;se++)for(var He=0,ot=w.cols();He<ot;He++)if(w.elements[se][He].equals(x))return new pe(1)}else if(w.elements)for(se=0,ge=w.elements.length;se<ge;se++)if(w.elements[se].equals(x))return new pe(1);return new pe(0)},2],realpart:[Za,1],imagpart:[el,1],conjugate:[ni,1],arg:[Na,1],polarform:[function tl(w){var x,se,ge;return se=(x=pe.toPolarFormArray(w))[0],ge=p.parse(an("e^({0}*({1}))",ve.IMAGINARY,x[1])),p.multiply(se,ge)},1],rectform:[function Fn(w){var x=w.clone();try{var se,ge,He,yt,zt;return se=vt(w,"e",!0),ge=p.divide(se.x.power,pe.imaginary()),He=tn(Ne.tan(ge)),p.pow(se.a,new pe(2)),yt=He.getDenom(!0),zt=He.getNum(),pe.hyp(zt,yt).equals(se.a)?p.add(yt,p.multiply(pe.imaginary(),zt)):x}catch{return x}},1],sort:[function Fi(w,x){x=x?x.toString():"asc";var se=function(He){return He.group===_t?He.multiplier:He.group===rn?""===He.fname?se(He.args[0]):He.fname:He.group===Lt?He.power:He.value};return new Ti((cn(w)?w.elements:w.collectSymbols()).sort(function(He,ot){var ft=se(He),yt=se(ot);return"desc"===x?yt-ft:ft-yt}))},[1,2]],integer_part:[,1],union:[function xc(w,x){return w.union(x)},2],contains:[function xa(w,x){return w.contains(x)},2],intersection:[function Ba(w,x){return w.intersection(x)},2],difference:[function cf(w,x){return w.difference(x)},2],intersects:[function Bs(w,x){return new pe(Number(w.intersects(x)))},2],is_subset:[function $l(w,x){return new pe(Number(w.is_subset(x)))},2],print:[function jo(){qr(arguments).map(function(w){console.log(w.toString())})},-1]};function rr(w){this.type=w.type,this.value=w.value,this.left=w.left,this.right=w.right}this.error=re,this.override=function(w,x){B[w]||(B[w]=[]),B[w].push(this[w]),this[w]=x},this.restore=function(w){this[w]&&(this[w]=B[w].pop())},this.extend=function(w,x,se){var ge=this;if("function"==typeof this[w]&&"function"==typeof x){var ot=this[w];this[w]=function(ft,yt){return At(ft)&&At(yt)&&!se?ot.call(ge,ft,yt):x.call(ge,ft,yt,ot)}}},this.symfunction=function(w,x){var se=new pe(w);return se.group=rn,"object"==typeof x&&(x=[].slice.call(x)),se.args=x,se.fname=w===Yr?"":w,se.updateHash(),se},this.callfunction=function(w,x,se){var ge=Ln[w];ge||re("Nerdamer currently does not support the function "+w);var ft,He=ge[1]||se,ot=ge[0];if(x instanceof Array||(x=void 0!==x?[x]:[]),-1!==He){var yt=Fe(He),zt=yt?He[0]:He,Xt=yt?He[1]:He,Sn=x.length,wt=w+" requires a {0} of {1} arguments. {2} provided!";Sn<zt&&re(an(wt,"minimum",zt,Sn)),Sn>Xt&&re(an(wt,"maximum",Xt,Sn))}var gr=G(x);return ot?ft=ot.apply(ge[2],x):(ot=function(w){for(var x=ve.FUNCTION_MODULES,se=x.length,ge=0;ge<se;ge++){var He=x[ge];if(w in He)return He[w]}re("The function "+w+" is undefined!")}(w),ft=ve.PARSE2NUMBER&&gr?rs(ot.apply(ot,x)):p.symfunction(w,x)),ft},this.operator_filter_regex=(w="^\\"+Object.keys(Mt).filter(function(x){if(1===x.length)return x}).join("\\"),new RegExp("(["+w+"])\\s+(["+w+"])")),this.setOperator=function(w,x,se){var ge=w.operator;if(Mt[ge]=w,x&&(this[w.action]=x),p[ge]=w.operation,!w.action&&!(w.prefix||w.postif)&&(w.action=ge),"over"===se||"under"===se){var He=w.precedence;for(var ot in Mt){var ft=Mt[ot];("over"===se?ft.precedence>=He:ft.precedence>He)&&ft.precedence++}}},this.getOperator=function(w){return Mt[w]},this.aliasOperator=function(w,x){var se={},ge=Mt[w];for(var He in ge)se[He]=ge[He];se.operator=x,this.setOperator(se)},this.getOperators=function(){return Mt},this.getBrackets=function(){return xt},this.initConstants=function(){this.CONSTANTS={E:new pe(ve.E),PI:new pe(ve.PI)}},this.pretty_print=function(w){if(Array.isArray(w)){var x=w.map(se=>p.pretty_print(se)).join(", ");return"vector"===w.type?"vector<"+x+">":"("+x+")"}return w.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(w){if(ve.callPeekers)for(var x=this.peekers[w],se=qr(arguments).slice(1).map(pt),ge=0;ge<x.length;ge++)x[ge].apply(null,se)},this.tokenize=function(w){for(var x in w=(w=String(w)).trim().replace(/\s+/g," "),xt){var se=new RegExp(xt[x].is_close?"\\s+\\"+x:"\\"+x+"\\s+","g");w=w.replace(se,x)}for(var ge=0,He=w.length,ot=0,ft=[],yt=[ft],zt=yt[0],Xt=0,Sn=[],wt=!1,qi=function(Ts,yo){var Ao=[];void 0!==Ts&&(Ao.type=Ts),Ao.column=yo,yt.push(Ao),zt.push(Ao),zt=Ao,Xt++},Rn=function(){yt.pop(),zt=yt[--Xt]},wr=function(Ts){for(var yo=(Ts=void 0!==Ts?Ts:ge)+1;w.charAt(yo++)in Mt;);return w.substring(Ts,yo-1)},Zi=function(Ts){for(var yo=ge-Ts.length,Ao=[],sl=Ts.charAt(0),Af=1,ms=Ts.length;Af<ms;Af++){var aA=Ts.charAt(Af),Yu=sl+aA;Yu in Mt?sl=Yu:(Ao.push(new ee(sl,ee.OPERATOR,yo+Af)),sl=aA)}return Ao.push(new ee(sl,ee.OPERATOR,yo+Af)),Ao},Ci=function(Ts,yo){void 0===yo&&(yo=w.substring(ot,Ts)),yo in p.units?zt.push(new ee(yo,ee.UNIT,ot)):""!==yo&&zt.push(new ee(yo,ee.VARIABLE_OR_LITERAL,ot))},es=function(Ts){zt.push(new ee(Ts,ee.FUNCTION,ot))},Vi=function(Ts){ot=Ts+1};ge<He;ge++){var fi=w.charAt(ge);if(fi in Mt){Ci(ge);var Li=zt[0]&&Gt(zt[0]);wt&&ot<ge&&!(","===fi||Li&&"*"===fi)&&(wt=!1,Rn()),Vi(ge+1);var mo=wr(ge);ge=(ot=ot+mo.length-2)-1,zt.push.apply(zt,Zi(mo))}else if(fi in xt){var vo=xt[fi];if(vo.is_open)Sn.push([vo,ot]),(fo=w.substring(ot,ge))in Ln?es(fo):""!==fo&&zt.push(new ee(fo,ee.VARIABLE_OR_LITERAL,ot)),qi(vo.maps_to,ge);else if(vo.is_close){var Wu=Sn.pop();if(!Wu)throw new rt("Missing open bracket for bracket at: "+(ge+1));if(Wu[0].id!==vo.id-1)throw new rt("Parity error");Ci(ge),Rn()}Vi(ge)}else if(" "===fi){var Xs=w.substring(ot,ge),rl=w.charAt(ge+1);if(wt){if(Xs in Mt)zt.push(new ee(Xs,ee.OPERATOR,ge));else{Ci(void 0,Xs),Rn();var _o=rl in Mt;(_o&&"-"===Mt[rl].value||!_o)&&zt.push(new ee("*",ee.OPERATOR,ge))}wt=!1}else{var fo;(fo=w.substring(ot,ge))in Ln?(wt=!0,es(fo),qi()):fo in Mt?zt.push(new ee(fo,ee.OPERATOR,ge)):(Ci(void 0,fo),rl=w.charAt(ge+1),""!==Xs&&""!==rl&&!(Xs in Mt)&&!(rl in Mt)&&zt.push(new ee("*",ee.OPERATOR,ge)))}Vi(ge)}}if(Sn.length){var il=Sn.pop();throw new rt("Missing closed bracket for bracket at "+(il[1]+1))}return Ci(ge),ft},this.toRPN=function(w){var ge,x=w.type,se=w.length,He=[],ot=[],ft=[],yt=function(Bi,qi){for(;Bi.length;)qi.push(Bi.pop())};for(ge=0;ge<se;ge++){var zt=w[ge];if(zt.type!==ee.OPERATOR)break;if(!zt.prefix)throw new Xe("Not a prefix operator");zt.is_prefix=!0,ot.push(zt)}for(;ge<se;ge++){var Xt=w[ge];if(Xt.type===ee.OPERATOR){var Sn=Xt;for(Sn.overloaded&&(wt=w[ge+1])&&wt.type===ee.VARIABLE_OR_LITERAL&&(Sn.postfix=!1,Sn.action=Sn.overloadAction,Sn.leftAssoc=Sn.overloadLeftAssoc);ot.length;){var gr=ot[ot.length-1];if(!(gr.precedence>Sn.precedence||!Sn.leftAssoc&&gr.precedence===Sn.precedence))break;He.push(ot.pop())}if(("vector"===x||"set"===x)&&"vectorFn"in Sn&&(Sn.action=Sn.vectorFn),Sn.postfix){var _r=w[ge-1];if(!_r)throw new Xe("Unexpected prefix operator '"+Xt.value+"'! at "+Xt.column);if(_r.type===ee.OPERATOR&&!_r.postfix)throw new Xe("Unexpected prefix operator '"+_r.value+"'! at "+_r.column)}else do{var wt,Or=!!(wt=w[ge+1])&&wt.type===ee.OPERATOR;if(Or){if(!wt.prefix)throw new Xe("A prefix operator was expected at "+wt.column);wt.is_prefix=!0,ft.push(wt),ge++}}while(Or);for(Sn.is_prefix?ft.push(Sn):ot.push(Sn);ft.length&&(Sn.leftAssoc||!Sn.leftAssoc&&ft[ft.length-1].precedence>=Sn.precedence);)ot.push(ft.pop())}else if(Xt.type===ee.VARIABLE_OR_LITERAL){0===He.length&&yt(ft,ot),He.push(Xt);var ei=ot[ot.length-1];(!ei||!ei.leftAssoc)&&yt(ft,He)}else Xt.type===ee.FUNCTION?ot.push(Xt):Xt.type===ee.UNIT&&He.push(Xt);Array.isArray(Xt)&&(He.push(this.toRPN(Xt)),Xt.type&&He.push(new ee(Xt.type,ee.FUNCTION,Xt.column)))}return yt(ot,He),yt(ft,He),He},this.parseRPN=function(w,x){try{for(var se in x=x||{})x[se]=p.parse(x[se],{});ve.PARSE2NUMBER&&("e"in x||(x.e=new pe(ve.E)),"pi"in x||(x.pi=new pe(ve.PI)));for(var ge=[],He=0,ot=w.length;He<ot;He++){var ft=w[He];if(Array.isArray(ft)&&(ft=this.parseRPN(ft,x)),ft)if(ft.type===ee.OPERATOR)if(ft.is_prefix||ft.postfix)ge.push(ft.operation(ge.pop()));else{var yt=ge.pop(),zt=ge.pop();if(void 0===zt)throw new Xe(ft+" is not a valid postfix operator at "+ft.column);var Xt="comma"===ft.action;zt instanceof gn&&!Xt&&(zt=Ti.fromSet(zt)),yt instanceof gn&&!Xt&&(yt=Ti.fromSet(yt)),this.callPeekers("pre_operator",zt,yt,ft);var Sn=p[ft.action](zt,yt);this.callPeekers("post_operator",Sn,zt,yt,ft),ge.push(Sn)}else if(ft.type===ee.FUNCTION){var wt=ge.pop(),gr=wt.parent;wt instanceof j||(wt=j.create(wt));var _r=ft.value,Or=wt.getItems();this.callPeekers("pre_function",_r,Or);var ei=p.callfunction(_r,Or);this.callPeekers("post_function",ei,_r,Or);var Bi=ge[ge.length-1],qi=w[He+1];if(qi&&qi.type===ee.OPERATOR&&","===qi.value||!(ei instanceof Ti)||!Bi||!Bi.elements||Bi instanceof j)gr&&(ei.parent=gr),ge.push(ei);else{var wr=ge.pop(),Zi=ei.elements[0];if(Zi.isConstant())if(Zi instanceof H)ge.push(Ti.fromArray(wr.elements.slice(Zi.start,Zi.end)));else{var Ci=Number(Zi),es=wr.elements.length;if(Ci<0&&(Ci=es+Ci),Ci<0||Ci>=es)throw new Ot("Index out of range "+(ft.column+1));var Vi=wr.elements[Ci];wr.getter=Ci,Vi.parent=wr,ge.push(Vi)}else wr.getter=Zi,ge.push(wr),ge.push(ei)}}else{var gs,fi=ft.value;fi in ve.ALIASES?ft=p.parse(ve.ALIASES[ft]):ft.type===ee.VARIABLE_OR_LITERAL?ft=new pe(fi):ft.type===ee.UNIT&&((ft=new pe(fi)).isUnit=!0),fi in p.CONSTANTS?(gs=ft,ft=new pe(p.CONSTANTS[fi])):fi in x&&fi!==x[fi].toString()?(gs=ft,ft=x[fi].clone()):fi in O&&(gs=ft,ft=O[fi].clone()),gs&&(ft.subbed=gs),ge.push(ft)}}var Li=ge[0];if(-1!==["undefined","string","number"].indexOf(typeof Li))throw new Mi("Unexpected token!");return Li}catch(mo){throw[_e].forEach(function(vo){if(mo instanceof vo)throw new vo(mo.message+": "+ft.column)}),new me(mo.message+": "+ft.column)}},rr.prototype.toString=function(){var w=this.left?this.left.toString()+"---":"",x=this.right?"---"+this.right.toString():"";return w+"("+this.value+")"+x},rr.prototype.toHTML=function(w,x){w=w||0,x=void 0===x?4:x;var se=function(ft){return" ".repeat(x*ft)},ot="",ge=this.left?se(w+1)+"<li>\n"+this.left.toHTML(w+2,x)+se(w+1)+"</li> \n":"",He=this.right?se(w+1)+"<li>\n"+this.right.toHTML(w+2,x)+se(w+1)+"</li>\n":"";return ot=se(w)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+se(w)+"\n",(ge||He)&&(ot+=se(w)+"<ul>\n"+ge+He+se(w)+"</ul>\n"),ot+""},this.tree=function(w){for(var x=[],se=0;se<w.length;se++){var ge=w[se];if(Array.isArray(ge))ge=this.tree(ge),x.push(ge);else if(ge.type===ee.OPERATOR)if(ge.is_prefix||ge.postfix){var He=ge.is_prefix?"left":"right",ot=x.pop();(ge=new rr(ge))[He]=ot,x.push(ge)}else(ge=new rr(ge)).right=x.pop(),ge.left=x.pop(),x.push(ge);else if(ge.type===ee.FUNCTION){ge=new rr(ge);var ft=x.pop();if(ge.right=ft,"object"===ge.value&&(ot=x[x.length-1])){for(;ot.right;)ot=ot.right;ot.right=ge;continue}x.push(ge)}else x.push(new rr(ge))}return x[0]},this.parse=function(w,x){w=function(w){w=String(w);for(var x=0;x<N.actions.length;x++)w=N.actions[x].call(this,w);for(w=w.replace(/\s+/g," "),/e/gi.test(w)&&(w=w.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(ge){return Ke(ge)})),w=w.replace(ve.IMPLIED_MULTIPLICATION_REGEX,function(){var ge=arguments[4],He=arguments[1],ot=arguments[2],ft=arguments[3],zt="",Xt="*";return ge.charAt(ft).match(/[\+\-\/\*]/)||(zt=ge.charAt(ft-1)),zt.match(/[a-z]/i)&&(Xt=""),He+Xt+ot}).replace(/([a-z0-9_]+)/gi,function(ge,He){return!1===ve.USE_MULTICHARACTER_VARS&&!(He in Ln)&&isNaN(He)?He.split("").join("*"):He}).replace(/\)\(/g,")*(")||"0";w!==(w=w.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(ge,He,ot,ft,yt){var zt=He||ft,Xt=ot||yt;return zt in Ln?zt+Xt:zt+"*"+Xt})););return w}(w),x=x||{};var se=this.tokenize(w),ge=this.toRPN(se);return this.parseRPN(ge,x)},this.toObject=function(w){var x=function(se){for(var ge=[],He=0,ot=se.length;He<ot;He++){var ft=se[He],yt=ft.value;if(ft.type===ee.VARIABLE_OR_LITERAL)ge.push(new pe(yt));else if(ft.type===ee.FUNCTION){He++;var zt=p.symfunction(yt,x(se[He]));zt.isConversion=!0,ge.push(zt)}else ge.push(ft.type===ee.OPERATOR?yt:x(ft))}return ge};return x(p.tokenize(w))};var yr=function(w){for(var se=0,ge=[[]],x=0,He=w.length;x<He;x++)","===w[x]?ge[++se]=[]:ge[se].push(w[x]);return ge},ui=function(w){return w.replace(/^\\left\((.+)\\right\)$/g,function(x,se){return se||x})};function zi(w){if(w.isInfinity)return pe.infinity();if(w.multiplier.lessThan(0)&&w.multiplier.negate(),w.isImaginary()){var x=w.realpart(),se=w.imagpart();if(x.isConstant()&&se.isConstant())return _i(p.add(p.pow(x,new pe(2)),p.pow(se,new pe(2))))}else if(Lr(w)||sn(w.power))return w;if(w.isComposite()){var ge=[];w.each(function(ft){ge.push(ft.multiplier)}),jn.QGCD.apply(null,ge).lessThan(0)&&(w.multiplier=w.multiplier.multiply(new un(-1)),w.distributeMultiplier())}var ot=p.parse(w.multiplier);return w.toUnitMultiplier(),p.multiply(ot,p.symfunction(Gr,[w]))}function Ds(w){if(cn(w)){var se=new Ti;return w.each(function(Sn,wt){se.set(wt-1,Ds(Sn))}),se}if(Nn(w)){var ge=new Fr;return w.each(function(Sn,wt,gr){ge.set(wt,gr,Ds(Sn))}),ge}if(ve.PARSE2NUMBER&&w.isConstant())return rs(qe(w)?jn.bigfactorial(w):jn.gamma(w.multiplier.add(new un(1)).toDecimal()));if(w.isConstant()&&w.getDenom().equals(2)){var ft,yt,zt,Xt,ot=w.getNum();return w.multiplier.isNegative()?(Xt=p.subtract(ot.negate(),new pe(1)).multiplier.divide(new un(2)),ft=p.pow(new pe(-4),new pe(Xt)).multiplier.multiply(jn.bigfactorial(Xt)),yt=jn.bigfactorial(new un(2).multiply(Xt))):(Xt=p.add(ot,new pe(1)).multiplier.divide(new un(2)),ft=jn.bigfactorial(new un(2).multiply(Xt)),yt=p.pow(new pe(4),new pe(Xt)).multiplier.multiply(jn.bigfactorial(Xt))),zt=ft.divide(yt),p.multiply(p.parse("sqrt(pi)"),new pe(zt))}return p.symfunction(Mn,[w])}function ga(w,x){if(w.isConstant()&&x.isConstant()){var se=new pe(1);return se.multiplier=se.multiplier.multiply(w.multiplier.mod(x.multiplier)),se}var ge=p.divide(w.clone(),x.clone());return qe(ge)?new pe(0):p.symfunction("mod",[w,x])}function Es(w){if(w.isComposite()){var se,ge,He,ot,ft,yt,zt,Xt,x=new pe(0);return w.each(function(Sn){se=Sn.getNum(),ge=Sn.getDenom(),He=x.getNum(),ot=x.getDenom(),ft=p.multiply(ge,He),yt=p.multiply(se,ot),zt=p.expand(p.add(ft,yt)),Xt=p.multiply(ot,ge),x=p.divide(zt,Xt)},!0),x}return w}function _i(w){if(At(w)||(w=p.parse(w)),w.group===mn)return p.symfunction(Cn,[w]);""===w.fname&&w.power.equals(1)&&(w=w.args[0]);var x=w.multiplier.sign()<0;if(ve.PARSE2NUMBER){if(w.isConstant()&&!x)return new pe(Vn.sqrt(w.multiplier.toDecimal()));if(w.isImaginary())return Se.sqrt(w);if(w.group===Lt)return p.symfunction("sqrt",[w])}var se,ge,He=w.isConstant();if(w.group===ze&&w.isLinear()){var ot=_i(pe(w.multiplier));for(var ft in w.symbols)ot=p.multiply(ot,_i(yt=w.symbols[ft]));ge=ot}else if(w.fname===Cn){var zt=w.multiplier;(ft=w.args[0]).setPower(w.power.multiply(new un(.25))),ge=ft,zt.equals(1)||(ge=p.multiply(_i(p.parse(zt)),ge))}else if(w.power.isInteger())if(w.multiplier<0&&w.group===Lt){var Xt=p.parse(w.multiplier).negate(),Sn=p.parse(w).toUnitMultiplier().negate();ge=p.multiply(p.symfunction(ve.SQRT,[Sn]),_i(Xt))}else{var wt=w.power.sign();w.power=w.power.abs(),He&&w.multiplier.lessThan(0)&&(se=pe.imaginary(),w.multiplier=w.multiplier.abs());var gr=w.multiplier.toDecimal(),_r=Math.abs(gr),Or=Math.sqrt(_r);if(qe(Or))ot=new pe(Or);else if(qe(gr)){var ei=jn.ifactor(gr),Bi=1;for(var yt in ei){var Rn=(qi=ei[yt])-qi%2;if(Rn){var wr=Math.pow(yt,Rn);Bi*=Math.pow(yt,Rn/2),gr/=wr}}ot=p.multiply(p.symfunction(Cn,[new pe(gr)]),new pe(Bi))}else{for(var Zi=[new pe(w.multiplier.num),new pe(w.multiplier.den)],Ci=[new pe(1),new pe(1)],es=[new pe(1),new pe(1)],Vi=0;Vi<2;Vi++){var qi;bl(qi=Zi[Vi]).each(function(Li){var Fo=(Li=pe.unwrapPARENS(Li)).clone().toLinear(),mo=Number(Li.power),vo=mo%2;Ci[Vi]=p.multiply(Ci[Vi],p.pow(Fo,new pe((mo-vo)/2))),es[Vi]=p.multiply(es[Vi],_i(p.pow(Fo,new pe(vo))))})}ot=p.divide(p.multiply(Ci[0],es[0]),p.multiply(Ci[1],es[1]))}ge=(w=w.toUnitMultiplier(!0)).isOne()?w:sn(w.power.toString())?p.pow(w.clone(),new pe(.5)):p.symfunction(Cn,[w]),wt<0&&ge.power.negate(),ot&&(ge=p.multiply(ot,ge)),se&&(ge=p.multiply(se,ge))}else w.setPower(w.power.multiply(new un(.5))),ge=w;return x&&ve.PARSE2NUMBER?p.parse(ge):ge}function uo(w){if(!w.isConstant(!0)){var x,se=w.power/3,ge=p.pow(p.parse(w.multiplier),new pe(1/3)),He=w.toUnitMultiplier();return qe(se)?x=p.pow(He.toLinear(),p.parse(se)):He.group===ze?(x=new pe(1),He.each(function(ot){x=p.multiply(x,uo(ot))})):x=p.symfunction("cbrt",[He]),p.multiply(ge,x)}return Ja(w,new pe(3))}function Ja(w,x,se,ge){if((x=tn(p.parse(x))).equals(0))throw new te("Unable to calculate nthroots of zero");if(w<0&&sn(x))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!w.isConstant(!0))return p.symfunction("nthroot",arguments);w.group!==_t&&(w=tn(w)),void 0===ge&&(ge=!0),se=se||25;var ft,ot,He=w.sign();return He<0&&(w=zi(w)),qe(w)&&x.isConstant()?(ft=w<0x10000000000000000?un.create(Math.pow(w,1/x)):jn.nthroot(w,x),ge&&(ot=new pe(ft)),ot=new pe(ft.toDecimal(se)),p.multiply(new pe(He),ot)):void 0}function bl(w){if(w.greaterThan(9999999999998891e26)||w.equals(-1))return w;if(w.equals(Math.PI))return new pe(Math.PI);if((w=tn(w.clone())).isConstant()){var x=new pe(1),se=w.toString();if(qe(se)){var ge=jn.ifactor(se);for(var He in ge){var ot=ge[He];x=p.multiply(x,p.symfunction("parens",[new pe(He).setPower(new un(ot))]))}}else{var ft=bl(new pe(w.multiplier.num)),yt=bl(new pe(w.multiplier.den));x=p.multiply(p.symfunction("parens",[ft]),p.symfunction("parens",[yt]).invert())}}else x=p.symfunction("pfactor",arguments);return x}function Za(w){return w.realpart()}function el(w){return w.imagpart()}function ni(w){var x=w.realpart(),se=w.imagpart();return p.add(x,p.multiply(se.negate(),pe.imaginary()))}function Na(w){var x=w.realpart(),se=w.imagpart();return x.isConstant()&&se.isConstant()?se.equals(0)&&x.equals(-1)?p.parse("pi"):se.equals(1)&&x.equals(0)?p.parse("pi/2"):se.equals(1)&&x.equals(1)?p.parse("pi/4"):new pe(Math.atan2(se,x)):p.symfunction("atan2",[se,x])}function co(w,x){x.map(function(yt){yt.numVal=tn(yt).multiplier});for(var se,ge,He;;){if((se=x.length)<2)return x[0];ge=x.pop(),He=x[se-2],("min"===w?ge.numVal<He.numVal:ge.numVal>He.numVal)&&(x.pop(),x.push(ge))}}function Zr(w,x){if(w.equals(1))return new pe(0);var se;if(w.fname===Cn&&w.multiplier.equals(1))return se=p.divide(Zr(w.args[0]),new pe(2)),w.power.sign()<0&&se.negate(),se;if(w.equals(0))throw new te(ve.LOG+"(0) is undefined!");if(w.isImaginary())return Se.evaluate(w,ve.LOG);if(w.isConstant()&&void 0!==x&&x.isConstant()){var ge=Math.log(w),He=Math.log(x);se=new pe(ge/He)}else if(w.group===mn&&w.power.multiplier.lessThan(0)||"-1"===w.power.toString())w.power.negate(),se=Zr(w).negate();else if("e"===w.value&&w.multiplier.equals(1)){var ot=w.power;se=At(ot)?ot:new pe(ot)}else if(w.group===rn&&"exp"===w.fname){var ft=w.args[0];se=w.multiplier.equals(1)?p.multiply(ft,new pe(w.power)):p.symfunction(ve.LOG,[w])}else if(ve.PARSE2NUMBER&&Lr(w)){var yt;(w=p.parse(w)).multiplier.lessThan(0)&&(w.negate(),yt=p.multiply(new pe(Math.PI),new pe("i"))),se=new pe(Math.log(w.multiplier.toDecimal())),yt&&(se=p.add(se,yt))}else!w.power.equals(1)&&!w.contains("e")&&(ft=w.group===mn?w.power:new pe(w.power),w.toLinear()),se=arguments.length>1&&Te(arguments)?new pe(1):p.symfunction(ve.LOG,arguments),ft&&(se=p.multiply(ft,se));return se}function $n(w,x){var ge,He,ot,ft,se=x&&x.isConstant()||void 0===x;return w.isConstant()&&se?(ge=w,x&&x.lessThan(0)&&(x=zi(x),ge=(He=Number(w).toExponential().toString().split("e"))[0],ot=He[1]),ft=new pe(at(ge,Number(x||0))),p.multiply(ft,p.pow(new pe(10),new pe(ot||0)))):p.symfunction("round",arguments)}function ri(w){var x=w%2;return x<0&&(x=2+x),x>=0&&x<=.5?1:x>.5&&x<=1?2:x>1&&x<=1.5?3:4}function rs(w){if(!isFinite(w)){var x=Math.sign(w),se=new pe(String(Math.abs(w)));return se.multiplier=se.multiplier.multiply(new un(x)),se}if(At(w))return w;if("number"==typeof w)try{w=un.simple(w)}catch{w=new un(w)}var ge=new pe(0);return ge.multiplier=w,ge}function ki(w,x){if(Array.isArray(w))return w.map(function(Or){return ki(Or,x)});if(x=x||{},w.group===rn&&""===w.fname){var se=ki(w.args[0],x),ge=ki(p.pow(se,p.parse(w.power)),x);return p.multiply(p.parse(w.multiplier),ge).distributeMultiplier()}if(-1!==[_t,Xn,Lt].indexOf(w.group))return w;var He=w.clone();try{var ot=w.multiplier.toString(),ft=Number(w.power),yt=w;if(w.isComposite()&&qe(w.power)&&w.power>0){var zt=ft-1;se=new pe(0),w.each(function(ei){se=p.add(se,ki(p.parse(ei),x))});for(var Xt=p.parse(se),Sn=0;Sn<zt;Sn++)Xt=Y(Xt,se,x);yt=p.multiply(p.parse(ot),Xt).distributeMultiplier()}else if(w.group===rn&&!0===x.expand_functions){var wt=[];w.args.forEach(function(Or){wt.push(ki(Or,x))}),yt=p.pow(p.symfunction(w.fname,wt),p.parse(w.power)),yt=p.multiply(yt,p.parse(w.multiplier))}else if(w.isComposite()&&qe(w.power)&&w.power<0&&!0===x.expand_denominator)w=w.invert(),(yt=ki(w,x)).invert();else if(w.group===ze){var gr=function(ei){switch(ei.group){case Kt:return 0;case vn:return 1;case ze:return 2;case rn:return 3;default:return 4}},_r=w.collectSymbols().sort(function(ei,Bi){return gr(Bi)-gr(ei)}).map(function(ei){return ki(p.pow(ei,p.parse(ft)),x)});(se=_r.pop()).isComposite()&&se.isLinear()?(_r.forEach(function(ei){se=Y(se,ei,x)}),se.isComposite()?(se.power>1&&(se=ki(p.pow(se,p.parse(se.power)),x)),yt=p.multiply(p.parse(ot),se).distributeMultiplier()):yt=se):(yt=se,_r.forEach(function(ei){yt=p.multiply(yt,ei)}),yt=p.multiply(yt,p.parse(ot)).distributeMultiplier()),yt.group===ze&&(yt=p.parse(yt))}else yt=w;return yt}catch{return He}return He}function ff(w){if(!At(w.power)&&w.power.absEquals(.5)){var x=w.power.sign(),se=_i(w.group===Xn?new pe(w.value):w.toLinear());return x<0&&se.invert(),se}return w}this.toTeX=function(w,x){var se=!0===(x=x||{}).decimals?"decimals":void 0,ge="string"==typeof w?this.toObject(w):w,He=[],ot=void 0===x.cdot?"\\cdot":x.cdot;if(ge=function(w){for(var x=[];w.length;){var se=w.shift(),ge=w[0],He=Fe(ge),ot="-"===ge;if("^"===se&&("+"===ge?w.shift():He&&"+"===ge[0]&&ge.shift(),He&&1===ge.length&&w.unshift(w.shift()[0])),"^"===se&&(He&&"-"===ge[0]||ot)){var ft=x.pop(),yt=x[x.length-1],zt="1";"*"===yt?(x.pop(),zt=x.pop()):Fe(yt)&&(zt=x.pop()),x.push(zt,"/",ft,se),He?ge.shift():w.shift(),He&&1===ge.length&&x.push(w.shift()[0])}else x.push(se)}return x}(ge),Fe(ge)){for(var yt,zt,ft=[],Xt=0;Xt<ge.length;Xt++)yt=ge[Xt],"^"===ge[Xt+1]?(zt=ge[Xt+2],ft.push(Er.braces(this.toTeX([yt]))+"^"+Er.braces(this.toTeX([zt]))),Xt+=2):ft.push(yt);ge=ft}Xt=0;for(var Sn=ge.length;Xt<Sn;Xt++){var wt=ge[Xt];if("*"===wt&&(wt=ot),At(wt))if(wt.group===rn){var _r,gr=wt.fname;if(gr===Cn)_r="\\sqrt"+Er.braces(this.toTeX(wt.args));else if(gr===Gr)_r=Er.brackets(this.toTeX(wt.args),"abs");else if(gr===Yr)_r=Er.brackets(this.toTeX(wt.args),"parens");else if(gr===ve.LOG10)_r="\\"+ve.LOG10_LATEX+"\\left( "+this.toTeX(wt.args)+"\\right)";else if("integrate"===gr){var Or=yr(wt.args);_r="\\int "+(ei=Er.braces(this.toTeX(Or[0])))+"\\, d"+(Bi=this.toTeX(Or[1]))}else if("defint"===gr){Or=yr(wt.args);var ei=Er.braces(this.toTeX(Or[0])),Bi=this.toTeX(Or[3]);_r="\\int\\limits_{"+this.toTeX(Or[1])+"}^{"+this.toTeX(Or[2])+"} "+ei+"\\, d"+Bi}else if("diff"===gr){if(Or=yr(wt.args),Bi="",ei=Er.braces(this.toTeX(Or[0])),1===Or.length){var wr=[];for(Ci=0;Ci<Or[0].length;Ci++)3===Or[0][Ci].group&&wr.push(Or[0][Ci].value);wr.sort(),Bi=wr.length>0?"\\frac{d}{d "+wr[0]+"}":"\\frac{d}{d x}"}else Bi=2===Or.length?"\\frac{d}{d "+Or[1]+"}":"\\frac{d^{"+Or[2]+"}}{d "+this.toTeX(Or[1])+"^{"+Or[2]+"}}";_r=Bi+"\\left("+ei+"\\right)"}else if("sum"===gr||"product"===gr){var Zi=[[],[],[],[]],Ci=0;for(Xt=0;Xt<wt.args.length;Xt++)","!==wt.args[Xt]?Zi[Ci].push(wt.args[Xt]):Ci++;_r=("sum"===gr?"\\sum_":"\\prod_")+Er.braces(this.toTeX(Zi[1])+" = "+this.toTeX(Zi[2])),_r+="^"+Er.braces(this.toTeX(Zi[3]))+Er.braces(this.toTeX(Zi[0]))}else if("limit"===gr){var es=yr(wt.args).map(function(gs){return Array.isArray(gs)?p.toTeX(gs.join("")):p.toTeX(String(gs))});_r="\\lim_"+Er.braces(es[1]+"\\to "+es[2])+" "+Er.braces(es[0])}else _r=gr===Mn||gr===Je?this.toTeX(wt.args)+(gr===Mn?"!":"!!"):Er.latex(wt,se);He.push(_r)}else He.push(Er.latex(wt,se));else Fe(wt)?He.push(Er.brackets(this.toTeX(wt))):He.push("/"===wt?Er.frac(ui(He.pop()),ui(this.toTeX([ge[++Xt]]))):wt)}return He.join(" ")},this.expand=ki,this.round=$n,this.clean=function us(w){var se,x=w.group;if(x===Kt){var ge=w.getNum(),He=w.getDenom()||new pe(1),ot=Number(w.power),ft=new pe(1);if(1===Math.abs(ot)){He.each(function(Xt){Xt.group===ze?ft=p.multiply(ft,us(Xt.getDenom())):Xt.power.lessThan(0)&&(ft=p.multiply(ft,us(Xt.clone().toUnitMultiplier())))});var zt,yt=new pe(0);He.each(function(Xt){yt=p.add(p.divide(Xt,ft.clone()),yt)}),ft.invert(),ge.isComposite()?(zt=new pe(0),ge.each(function(Xt){zt=p.add(p.multiply(us(Xt),ft.clone()),zt)})):zt=p.multiply(ft,ge),se=p.divide(zt,yt)}}else x===ze?(se=new pe(1),w.each(function(Xt){se=p.multiply(se,p.clean(Xt))})):x===rn&&1===w.args.length&&w.args[0].isConstant()&&(se=yn("PARSE2NUMBER",function(){return p.parse(w)},!0));return se||(se=w),se},this.sqrt=_i,this.cbrt=uo,this.abs=zi,this.log=Zr,this.rationalize=Es,this.nthroot=Ja,this.arg=Na,this.conjugate=ni,this.imagpart=el,this.realpart=Za,this.getFunction=function(w){return Ln[w][0]},this.addPreprocessor=function(w,x,se,ge){var He=N.names,ot=N.actions;if("function"!=typeof x)throw new PreprocessorError("Incorrect parameters. Function expected!");se?ge?(He.splice(se,0,w),ot.splice(se,0,x)):(He[se]=w,ot[se]=x):(He.push(w),ot.push(x))},this.getPreprocessors=function(){for(var w={},x=0,se=w.names.length;x<se;x++)w[w.names[x]]={order:x,action:w.actions[x]};return w},this.removePreprocessor=function(w,x){var se=N.names.indexOf(w);x?(Qr(N.names,se),Qr(N.actions,se)):(N.names[se]=void 0,N.actions[se]=void 0)},this.mapped_function=function(){for(var w={},x=this.params,se=0;se<x.length;se++)w[x[se]]=String(arguments[se]);return p.parse(this.body,w)},this.add=function(w,x){var se=At(w),ge=At(x);if(se&&ge){if(w.unit||x.unit)return p.Unit.add(w,x);if(w.isInfinity||x.isInfinity){var He=w.multiplier.lessThan(0),ot=x.multiplier.lessThan(0);if(w.isInfinity&&x.isInfinity&&He!==ot)throw new te("("+w+")+("+x+") is not defined!");var ft=pe.infinity();return ot&&ft.negate(),ft}if(w.isComposite()&&w.isLinear()&&x.isComposite()&&x.isLinear()&&(w.distributeMultiplier(),x.distributeMultiplier(),x.length>w.length&&w.group===x.group&&([w,x]=[x,w])),w.multiplier.equals(0))return x;if(x.multiplier.equals(0))return w;if(w.isConstant()&&x.isConstant()&&ve.PARSE2NUMBER)return new pe(w.multiplier.add(x.multiplier).toDecimal(ve.PRECISION));var yt=w.group,zt=x.group,Xt=w.power.toString(),Sn=x.power.toString();if(yt<zt||yt===zt&&Xt>Sn&&Sn>0)return this.add(x,w);if(yt===ze&&zt===vn&&w.value===x.value){var wt=w;yt=(w=x).group,zt=(x=wt).group,Xt=w.power.toString(),Sn=x.power.toString()}var qi,Rn,wr,gr=Xt===Sn,_r=w.value,Or=x.value,ei=w.isComposite(),Bi=x.isComposite();if(ei&&(qi=On(w,"hash")),Bi&&(Rn=On(x,"hash")),yt===Kt&&zt===Kt&&x.isLinear()&&!w.isLinear()&&qi!==Rn)return this.add(x,w);yt===vn&&zt===vn&&(_r=qi,Or=Rn);var Zi=yt===Xn&&zt===_t,Ci=w.value===x.multiplier.toString(),es=_r===Or||qi===Rn&&void 0!==qi||Zi&&Ci;if(es&&gr&&yt===zt)if(Zi&&(x=x.convert(Xn)),yt!==vn||zt!==Lt&&zt!==Xn)if(wr=w,w.multiplier.isOne()&&x.multiplier.isOne()&&yt===Kt&&w.isLinear()&&x.isLinear())for(var Vi in x.symbols)wr.attach(x.symbols[Vi]);else wr.multiplier=wr.multiplier.add(x.multiplier);else w.distributeMultiplier(),wr=w.attach(x);else if(es&&yt!==vn)yt===Kt&&zt===vn?(x.insert(w,"add"),wr=x):(wr=pe.shell(vn).attach([w,x])).value=yt===vn?qi:_r;else if(ei&&w.isLinear()){var fi=yt===zt,Li=yt===vn&&zt===vn;if(Li&&(fi=w.value===x.value),w.distributeMultiplier(),x.isComposite()&&x.isLinear()&&fi){for(var Vi in x.distributeMultiplier(),x.symbols)w.attach(x.symbols[Vi]);wr=w}else Li&&w.value!==Rn||yt===vn&&!es?(wr=pe.shell(Kt).attach([w,x])).updateHash():wr=w.attach(x)}else{if(yt===rn&&w.fname===Cn&&zt!==mn&&x.power.equals(.5)){var Fo=x.multiplier.clone();(x=_i(x.toUnitMultiplier().toLinear())).multiplier=Fo}2===w.length&&2===x.length&&sn(w.power)&&sn(x.power)?wr=p.add(ki(w),ki(x)):(wr=pe.shell(Kt).attach([w,x])).updateHash()}return wr.multiplier.equals(0)&&(wr=new pe(0)),1===wr.length&&(Fo=wr.multiplier,(wr=we(wr.symbols)).multiplier=wr.multiplier.multiply(Fo)),wr}ge&&!se&&(wt=w,w=x,x=wt,wt=ge,ge=se,se=wt);var mo=Nn(x);if(se&&mo){var vo=new Fr;x.eachElement(function(Wu,Xs,rl){vo.set(Xs,rl,p.add(w.clone(),Wu))}),x=vo}else if(Nn(w)&&mo)x=w.add(x);else if(se&&cn(x))x.each(function(Wu,Xs){Xs--,x.elements[Xs]=p.add(w.clone(),x.elements[Xs])});else if(cn(w)&&cn(x))x.each(function(Wu,Xs){Xs--,x.elements[Xs]=p.add(w.elements[Xs],x.elements[Xs])});else{if(cn(w)&&Nn(x))return p.add(x,w);if(Nn(w)&&cn(x)){if(x.elements.length===w.rows()){vo=new Fr;var fo=w.cols();return x.each(function(Xs,rl){for(var _o=[],il=0;il<fo;il++)_o.push(p.add(w.elements[rl-1][il].clone(),Xs.clone()));vo.elements.push(_o)}),vo}re("Dimensions must match!")}}return x},this.subtract=function(w,x){var se=se=At(w),ge=At(x);if(se&&ge)return w.unit||x.unit?p.Unit.subtract(w,x):this.add(w,x.negate());if(ge&&cn(w))x=w.map(function(yt){return p.subtract(yt,x.clone())});else if(se&&cn(x))x=x.map(function(yt){return p.subtract(w.clone(),yt)});else if(cn(w)&&cn(x))w.dimensions()===x.dimensions()?x=w.subtract(x):p.error("Unable to subtract vectors. Dimensions do not match.");else if(Nn(w)&&cn(x)){if(x.elements.length===w.rows()){var ot=new Fr,ft=w.cols();return x.each(function(yt,zt){for(var Xt=[],Sn=0;Sn<ft;Sn++)Xt.push(p.subtract(w.elements[zt-1][Sn].clone(),yt.clone()));ot.elements.push(Xt)}),ot}re("Dimensions must match!")}else{if(cn(w)&&Nn(x))return ot=x.clone().negate(),p.add(ot,w);Nn(w)&&Nn(x)?x=w.subtract(x):Nn(w)&&ge?(ot=new Fr,w.each(function(zt,Xt,Sn){ot.set(Xt,Sn,p.subtract(zt,x.clone()))}),x=ot):se&&Nn(x)&&(ot=new Fr,x.each(function(zt,Xt,Sn){ot.set(Xt,Sn,p.subtract(w.clone(),zt))}),x=ot)}return x},this.multiply=function(w,x){var se=At(w),ge=At(x);if(se&&x instanceof j)return x.elements.push(w),x;if(se&&ge){if(x.isUnit){var Rn=w.clone();return w.unit=x,Rn}if(w.unit||x.unit)return p.Unit.multiply(w,x);if(w.isInfinity||x.isInfinity){if(w.equals(0)||x.equals(0))throw new te(w+"*"+x+" is undefined!");if(x.power.lessThan(0)){if(w.isInfinity)throw new te("Infinity/Infinity is not defined!");return new pe(0)}var ei=w.multiplier.multiply(x.multiplier).sign(),He=pe.infinity();if(w.isConstant()||x.isConstant()||w.isInfinity&&x.isInfinity)return ei<0&&He.negate(),He}if(w.isConstant()&&x.isConstant()&&ve.PARSE2NUMBER)return new pe(ot=new Vn(w.multiplier.toDecimal()).times(new Vn(x.multiplier.toDecimal())).toFixed());if(w.isOne())return x.clone();if(x.isOne())return w.clone();if(w.multiplier.equals(0)||x.multiplier.equals(0))return new pe(0);if(x.group>w.group&&x.group!==Kt)return this.multiply(x,w);if(w.group===ze&&x.group===vn&&w.value===x.value){var ot=w;w=x,x=ot}var yt=w.group,zt=x.group,Xt=x.multiplier.num,Sn=x.multiplier.den;if(yt!==rn||w.fname!==Cn||x.isConstant()||w.args[0].value!==x.value||w.args[0].multiplier.lessThan(0))yt===rn&&w.fname===Cn&&w.multiplier.equals(1)&&w.power.equals(-1)&&x.isConstant()&&w.args[0].equals(x)&&(w=p.symfunction(Cn,[x.clone()]),x=new pe(1));else{var wt=w.power,gr=p.parse(w.multiplier);(w=p.multiply(gr,w.args[0].clone())).setPower(new un(.5).multiply(wt)),yt=w.group}var _r=w.value,Or=x.value,Bi=(ei=new un(w.sign()),yt===Xn&&zt===_t&&x.multiplier.equals(w.value)),qi=Bi?new un(1).multiply(w.multiplier).abs():w.multiplier.multiply(x.multiplier).abs();if(Rn=w.clone().toUnitMultiplier(),x=x.clone().toUnitMultiplier(!0),yt===rn&&zt===rn){var wr=w.args[0].clone(),Zi=x.args[0].clone();if(w.fname===Cn&&x.fname===Cn&&w.isLinear()&&x.isLinear()){var Ci=p.divide(wr,Zi).invert();Ci.gt(1)&&qe(Ci)&&(Rn=p.multiply(w.args[0].clone(),_i(Ci.clone())),x=new pe(1))}else if(w.fname===Mn&&x.fname===Mn&&!wr.isConstant()&&!Zi.isConstant()&&x.power<0){var es=p.subtract(wr.clone(),Zi.clone());if(es.isConstant())if(ot=new pe(1),es<0){for(var Vi=0,gs=Math.abs(es);Vi<=gs;Vi++){var fi=p.add(wr.clone(),new pe(Vi));ot=p.multiply(ot,fi)}Rn=p.multiply(p.pow(wr,new pe(w.power)),p.pow(ot,new pe(x.power))),x=new pe(1)}else{for(Vi=0,gs=Math.abs(es);Vi<=gs;Vi++)fi=p.add(Zi.clone(),new pe(Vi)),ot=p.multiply(ot,fi);Rn=p.multiply(p.pow(ot,new pe(w.power)),p.pow(Zi,new pe(x.power))),x=new pe(1)}}}if(_r===Or&&yt===vn&&yt===zt&&(_r=w.text("hash"),Or=x.text("hash")),zt===mn&&x.previousGroup===vn&&yt===vn&&(_r=On(w,"hash",mn)),_r!==Or&&!Bi||yt===vn&&(zt===Lt||zt===Xn||zt===rn)||yt===vn&&zt===ze)if(yt===ze&&w.isLinear())if(zt===ze&&x.distributeExponent(),zt===ze&&x.isLinear()){for(var fi in x.symbols)Rn=Rn.combine(x.symbols[fi]);Rn.multiplier=Rn.multiplier.multiply(x.multiplier)}else Rn.combine(x);else if(yt!==_t){if(yt===ze)Rn.distributeExponent(),Rn.combine(x);else if(!x.isOne()){var rl=x.multiplier.clone();x.toUnitMultiplier(),(Rn=pe.shell(ze).combine([Rn,x])).multiplier=Rn.multiplier.multiply(rl)}}else Rn=x.clone().toUnitMultiplier();else{var Li=w.power,Fo=x.power,mo=At(Li),vo=At(Fo),fo=mo||vo;yt===vn&&zt!==vn&&x.previousGroup!==vn&&Li.equals(1)?(Rn=new pe(0),w.each(function(df){Rn=p.add(Rn,p.multiply(df,x.clone()))},!0)):(Rn.power=fo?p.add(At(Li)?Li:new pe(Li),At(Fo)?Fo:new pe(Fo)):yt===_t?Li:Li.add(Fo),Rn.power.equals(0)&&(Rn=Rn.convert(_t)),fo&&Rn.convert(mn),w.imaginary&&x.imaginary&&sn(Rn.power%2)&&(Rn=new pe(1),qi.negate()),Rn.group!==mn&&Rn.previousGroup&&(Rn.previousGroup=void 0),Rn.multiplier=Rn.multiplier.multiply(x.multiplier))}if(Rn.group===Xn){var _o=Math.log(Rn.value),il=Math.log(Xt)/_o,Ts=Math.log(Sn)/_o,yo=qi.num/Xt,Ao=qi.den/Sn;0!==il&&qe(il)&&qe(yo)&&(Rn.power=Rn.power.add(new un(il)),qi.num/=Xt),0!==Ts&&qe(Ts)&&qe(Ao)&&(Rn.power=Rn.power.subtract(new un(Ts)),qi.den/=Sn)}1===Rn.length&&(ot=Rn.multiplier,(Rn=we(Rn.symbols)).multiplier=Rn.multiplier.multiply(ot));var sl=Rn.power.toString();if(sn(sl)&&Rn.fname===Cn){ei*=Rn.sign();var Af=Rn.power;Rn=Rn.args[0],Rn=p.multiply(new pe(qi),p.pow(Rn,new pe(Af.divide(new un(2))))),ei<0&&Rn.negate()}else Rn.multiplier=Rn.multiplier.multiply(qi).multiply(ei),Rn.group===Kt&&Rn.isImaginary()&&Rn.distributeMultiplier();return Rn.group===Xn&&qe(Rn.power.toDecimal())&&(Rn=Rn.convert(_t)),Rn}ge&&!se&&(ot=w,w=x,x=ot,ot=ge,ge=se,se=ot);var ms=Nn(x),aA=Nn(w);if(se&&ms){var Yu=new Fr;x.eachElement(function(df,ol,hf){Yu.set(ol,hf,p.multiply(w.clone(),df))}),x=Yu}else if(aA&&ms)x=w.multiply(x);else if(se&&cn(x))x.each(function(df,ol){ol--,x.elements[ol]=p.multiply(w.clone(),x.elements[ol])});else if(cn(w)&&cn(x))x.each(function(df,ol){ol--,x.elements[ol]=p.multiply(w.elements[ol],x.elements[ol])});else{if(cn(w)&&Nn(x))return this.multiply(x,w);if(Nn(w)&&cn(x)){if(x.elements.length===w.rows()){Yu=new Fr;var Vs=w.cols();return x.each(function(ol,hf){for(var Wo=[],lA=0;lA<Vs;lA++)Wo.push(p.multiply(w.elements[hf-1][lA].clone(),ol.clone()));Yu.elements.push(Wo)}),Yu}re("Dimensions must match!")}}return x},this.divide=function(w,x){var se=At(w),ge=At(x);if(se&&ge){if(w.unit||x.unit)return p.Unit.divide(w,x);var He;if(x.equals(0))throw new X("Division by zero not allowed!");return w.isConstant()&&x.isConstant()?(He=w.clone()).multiplier=He.multiplier.divide(x.multiplier):(x.invert(),He=p.multiply(w,x)),He}var ot=cn(w),ft=cn(x);if(se&&ft)x=x.map(function(Sn){return p.divide(w.clone(),Sn)});else if(ot&&ge)x=w.map(function(Sn){return p.divide(Sn,x.clone())});else if(ot&&ft)w.dimensions()===x.dimensions()?x=x.map(function(Sn,wt){return p.divide(w.elements[--wt],Sn)}):p.error("Cannot divide vectors. Dimensions do not match!");else{var yt=Nn(w),zt=Nn(x);if(yt&&ge){var Xt=new Fr;w.eachElement(function(Sn,wt,gr){Xt.set(wt,gr,p.divide(Sn,x.clone()))}),x=Xt}else se&&zt?(Xt=new Fr,x.eachElement(function(wt,gr,_r){Xt.set(gr,_r,p.divide(w.clone(),wt))}),x=Xt):yt&&zt?(Xt=new Fr,w.rows()===x.rows()&&w.cols()===x.cols()?(w.eachElement(function(wt,gr,_r){Xt.set(gr,_r,p.divide(wt,x.elements[gr][_r]))}),x=Xt):p.error("Dimensions do not match!")):yt&&ft&&(w.cols()===x.dimensions()?(Xt=new Fr,w.eachElement(function(wt,gr,_r){Xt.set(gr,_r,p.divide(wt,x.elements[gr].clone()))}),x=Xt):p.error("Unable to divide matrix by vector."))}return x},this.pow=function(w,x){var se=At(w),ge=At(x);if(se&&ge){if(w.unit||x.unit)return p.Unit.pow(w,x);if(w.group===rn&&w.fname===Gr&&sn(x)){var Sn=w.multiplier.clone(),He=p.pow(w.args[0],x);return He.multiplier=Sn,He}if(w.isInfinity||x.isInfinity){if(w.isInfinity&&x.isInfinity)throw new te("("+w+")^("+x+") is undefined!");if(w.isConstant()&&x.isInfinity){if(w.equals(0)){if(x.lessThan(0))throw new te("0^Infinity is undefined!");return new pe(0)}if(w.equals(1))throw new te("1^"+x.toString()+" is undefined!");if(x.lessThan(0))return new pe(0);if(!w.lessThan(0))return pe.infinity()}if(w.isInfinity&&x.isConstant()){if(x.equals(0))throw new te(w+"^0 is undefined!");return x.lessThan(0)?new pe(0):p.multiply(pe.infinity(),p.pow(new pe(w.sign()),x.clone()))}}var ot=w.equals(0),ft=x.equals(0);if(ot&&ft)throw new te("0^0 is undefined!");if(ot&&x.isConstant()&&x.multiplier.greaterThan(0))return new pe(0);if(ft)return new pe(1);var gr,qi,Rn,wr,es,yt=x.isConstant(),zt=w.isConstant(),Xt=x.isInteger(),wt=(Sn=w.multiplier,w.clone());if(zt&&yt&&w.equals(0)&&x.lessThan(0))throw new te("Division by zero is not allowed!");if(ve.PARSE2NUMBER&&zt&&yt&&w.sign()<0&&Jn(x))return gr=Math.PI*x,_r=new pe(Math.cos(gr)),Or=p.multiply(pe.imaginary(),new pe(Math.sin(gr))),p.add(_r,Or);if(ve.PARSE2NUMBER&&w.isImaginary()&&yt&&qe(x)&&!x.lessThan(0)&&(_r=w.realpart(),Or=w.imagpart(),_r.isConstant("all")&&Or.isConstant("all")))return wr=ve.USE_BIG?pe(Vn.atan2(Fo.multiplier.toDecimal(),ei.multiplier.toDecimal()).times(x.toString())):Math.atan2(Or,_r)*x,Bi=new pe(wr),ei=p.pow(pe.hyp(_r,Or),x),qi=p.multiply(ei.clone(),p.trig.cos(Bi.clone())),Rn=p.multiply(ei,p.trig.sin(Bi)),p.add(qi,p.multiply(pe.imaginary(),Rn));if(wt.toUnitMultiplier(),wt.group!==rn||wt.fname!==Cn||yt){var Ci=Sn.sign();Jn(x)&&Ci<0&&(wt.negate(),(wt=p.symfunction(Yr,[wt])).negate()),wt.multiplyPower(x)}else(Zi=wt.args[0]).multiplyPower(new pe(.5)),Zi.multiplier.multiply(wt.multiplier),Zi.multiplyPower(x),wt=Zi;if(zt&&yt&&ve.PARSE2NUMBER)Ci<0&&(w.negate(),es=x.multiplier.den.equals(2)?new pe(ve.IMAGINARY):qe(x.multiplier)?sn(x.multiplier)?new pe(1):new pe(-1):sn(x.multiplier.den)?p.pow(p.symfunction(Yr,[new pe(Ci)]),x.clone()):new pe(Math.pow(Ci,x.multiplier.num))),wt=new pe(Math.pow(w.multiplier.toDecimal(),x.multiplier.toDecimal())),es&&(wt=p.multiply(wt,es));else if(Xt&&!Sn.equals(1)){if(x.abs().gt(ve.MAX_EXP))return x.sign()<0?new pe(0):pe.infinity();var gs=x.multiplier.toDecimal(),fi=Math.sign(gs);gs=Math.abs(gs);var Li=new un(1);Li.num=Sn.num.pow(gs),Li.den=Sn.den.pow(gs),fi<0&&Li.invert(),wt.multiplier=wt.multiplier.multiply(Li)}else if(Ci=w.sign(),x.isConstant()&&w.isConstant()&&!x.multiplier.den.equals(1)&&Ci<0)if(x.multiplier.den.equals(2)){var Fo=new pe(ve.IMAGINARY);w.negate(),x.lessThan(0)&&(Fo.negate(),x.negate()),wt=p.multiply(p.pow(w,x),Fo)}else{(mo=w.clone()).multiplier.negate(),wt=p.pow(p.symfunction(Yr,[new pe(Ci)]),x.clone());var vo=p.pow(new pe(mo.multiplier.num),x.clone()),fo=p.pow(new pe(mo.multiplier.den),x.clone()),ei=p.divide(vo,fo);wt=p.multiply(wt,ei)}else if(ve.PARSE2NUMBER&&x.isImaginary()){var _r=x.realpart(),Or=x.imagpart(),mo=w.clone().toLinear(),Wu=p.pow(mo.clone(),_r),Xs=Zr(mo.clone()),rl=Ne.cos(p.multiply(Or.clone(),Xs)),_o=p.multiply(Ne.sin(p.multiply(Or,Zr(mo))),pe.imaginary());wt=p.multiply(Wu,p.add(rl,_o)),wt=p.expand(p.parse(wt))}else{var il=w.group===_t&&Ci<0,Ts=ff(new pe(il?Sn.num:Math.abs(Sn.num)).setPower(x.clone())),yo=ff(new pe(Sn.den).setPower(x.clone()).invert());if(w.imaginary)if(Xt){var Zi;Zi=Math.sign(x),gs=zi(x),wt=new pe(sn(Ao=gs%4)?-1:ve.IMAGINARY),(0===Ao||Zi<0&&1===Ao||Zi>0&&3===Ao)&&wt.negate()}else{var sl=x.multiplier.multiply(un.quick(1,2)),Af=Math.pow(-1,sl.num);wt=sn(sl.den)?new pe(-1).setPower(sl,!0):new pe(Af)}if(Ci<0&&!il&&wt.negate(),yt&&w.group!==mn){var ms=sn(x.multiplier.den),aA=sn(w.power),Ao=wt.power.toDecimal(),Yu=sn(Ao);ms&&aA&&!Yu&&(1===Ao?wt=p.symfunction(Gr,[wt]):qe(Ao)?wt=p.multiply(p.symfunction(Gr,[wt.clone().toLinear()]),wt.clone().setPower(new un(Ao-1))):(gs=wt.power,wt=p.symfunction(Gr,[wt.toLinear()]).setPower(gs)),ve.POSITIVE_MULTIPLIERS&&wt.fname===Gr&&(wt=wt.args[0]))}if(x.equals(2)&&wt.group===ze){var Vs=new pe(1);wt.each(function(uA){Vs=p.multiply(Vs,p.pow(uA,x))}),wt=Vs}}if(wt=ff(wt),Ts&&yo&&(wt=p.multiply(wt,function yu(w){if(w.group===Xn){var x=w.value,se=Cs(x)[0];if(!se)return Me("Unable to compute prime factors. This should not happen. Please review and report."),w;var He=new un(Math.log(x)/Math.log(se)).multiply(w.power);if(He.den>w.power.den)return w;w=qe(He)?pe(Math.pow(se,He)):new pe(se).setPower(He)}return w}(p.multiply(Ts,yo)))),wt.fname===Cn){var df=wt.group===mn,ol=df?wt.power.multiplier.toString():wt.power.toString();if(sn(ol)){var hf=df?p.divide(wt.power,new pe(2)):new pe(wt.power.divide(new un(2)));Sn=wt.multiplier,(wt=p.pow(wt.args[0],hf)).multiplier=wt.multiplier.multiply(Sn)}}else if(!ve.IGNORE_E&&wt.isE()&&wt.group===mn&&wt.power.contains("pi")&&wt.power.contains(ve.IMAGINARY)&&x.group===ze){var Bi=x.stripVar(ve.IMAGINARY);wt=p.add(Ne.cos(Bi),p.multiply(pe.imaginary(),Ne.sin(Bi)))}return wt}if(cn(w)&&ge)w=w.map(function(lA){return p.pow(lA,x.clone())});else if(Nn(w)&&ge){var Wo=new Fr;w.eachElement(function(lA,uA,pf){Wo.set(uA,pf,p.pow(lA,x.clone()))}),w=Wo}else se&&Nn(x)&&(Wo=new Fr,x.eachElement(function(uA,pf,Yo){Wo.set(pf,Yo,p.pow(w.clone(),uA))}),w=Wo);return w},this.comma=function(w,x){return w instanceof j||(w=j.create(w)),w.append(x),w},this.mod=function(w,x){return ga(w,x)},this.slice=function(w,x){return new H(w,x)},this.equals=function(w,x){return w.group!==Lt&&!w.isLinear()&&re("Cannot set equality for "+w.toString()),O[w.value]=x.clone(),x},this.percent=function(w){return p.divide(w,new pe(100))},this.assign=function(w,x){if(w instanceof j&&x instanceof j)return w.elements.map(function(ge,He){return p.assign(ge,x.elements[He])}),Ti.fromArray(x.elements);if(w.parent){var se=w.parent;return se.elements[se.getter]=x,delete se.getter,se}if(w.group!==Lt)throw new Xr("Cannot complete operation. Incorrect LH value for "+w);return O[w.value]=x,x},this.function_assign=function(w,x){var se=w.elements.pop();return Ye(se,w.elements,x)};var Ko=function(w){return new pe(!0===w?1:0)};this.eq=function(w,x){return Ko(w.equals(x))},this.gt=function(w,x){return Ko(w.gt(x))},this.gte=function(w,x){return Ko(w.gte(x))},this.lt=function(w,x){return Ko(w.lt(x))},this.lte=function(w,x){return Ko(w.lte(x))},this.factorial=function(w){return this.symfunction(Mn,[w])},this.dfactorial=function(w){return this.symfunction(Je,[w])}}ve.FUNCTION_MODULES.push(jn),zn(jn),Math.sign=Math.sign||function(p){return 0==(p=+p)||isNaN(p)?p:p>0?1:-1},Math.cosh=Math.cosh||function(p){var B=Math.exp(p);return(B+1/B)/2},Math.sech=Math.sech||function(p){return 1/Math.cosh(p)},Math.csch=Math.csch||function(p){return 1/Math.sinh(p)},Math.coth=Math.coth||function(p){return 1/Math.tanh(p)},Math.sinh=Math.sinh||function(p){var B=Math.exp(p);return(B-1/B)/2},Math.tanh=Math.tanh||function(p){if(p===1/0)return 1;if(p===-1/0)return-1;var B=Math.exp(2*p);return(B-1)/(B+1)},Math.asinh=Math.asinh||function(p){return p===-1/0?p:Math.log(p+Math.sqrt(p*p+1))},Math.acosh=Math.acosh||function(p){return Math.log(p+Math.sqrt(p*p-1))},Math.atanh=Math.atanh||function(p){return Math.log((1+p)/(1-p))/2},Math.log10=Math.log10||function(p){return Math.log(p)*Math.LOG10E},Math.trunc=Math.trunc||function(p){return isNaN(p)?NaN:p>0?Math.floor(p):Math.ceil(p)},Cs(314146179365),ls.getExpression=function(p,B){("last"===p||!p)&&(p=F.length),"first"===p&&(p=1);var H=F[p-1];return H&&new ls(H)},(ls.prototype={text:function(p,B){return B=B||ve.EXPRESSION_DECP,p=p||"decimals",this.symbol.text_?this.symbol.text_(p):On(this.symbol,p,void 0,B)},latex:function(p){return this.symbol.latex?this.symbol.latex(p):Er.latex(this.symbol,p)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(cn(this.symbol)&&0===this.symbol.dimensions())return this;var B,p=arguments[0],N=1;"string"==typeof p?B="%"===p.charAt(0)?ls.getExpression(p.substr(1)).text():p:p instanceof ls||At(p)?B=p.text():(B=this.symbol.text(),N--);var H=arguments[N]||{},j=new ls(yn("PARSE2NUMBER",function(){return xe.parse(B,H)},!0));return j},buildFunction:function(p){return wl.build(this.symbol,p)},isNumber:function(){return Lr(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return tn(xe.parse(this.symbol)).isImaginary()},variables:function(){return qn(this.symbol)},toString:function(){try{return Fe(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(p){ve.precision=p;var B=On(this.symbol,"decimals");return ve.precision=void 0,B},isFraction:function(){return Tn(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(p,B){return new ls(this.symbol.sub(xe.parse(p),xe.parse(B)))},operation:function(p,B){return nr(B)?B=B.symbol:At(B)||(B=xe.parse(B)),new ls(xe[p](this.symbol.clone(),B.clone()))},add:function(p){return this.operation("add",p)},subtract:function(p){return this.operation("subtract",p)},multiply:function(p){return this.operation("multiply",p)},divide:function(p){return this.operation("divide",p)},pow:function(p){return this.operation("pow",p)},expand:function(){return new ls(xe.expand(this.symbol))},each:function(p,B){if(this.symbol.each)this.symbol.each(p,B);else if(Fe(this.symbol))for(B=0;B<this.symbol.length;B++)p.call(this.symbol,this.symbol[B],B);else p.call(this.symbol)},eq:function(p){At(p)||(p=xe.parse(p));try{return xe.subtract(this.symbol.clone(),p).equals(0)}catch{return!1}},lt:function(p){At(p)||(p=xe.parse(p));try{return tn(xe.subtract(this.symbol.clone(),p)).lessThan(0)}catch{return!1}},gt:function(p){At(p)||(p=xe.parse(p));try{return tn(xe.subtract(this.symbol.clone(),p)).greaterThan(0)}catch{return!1}},gte:function(p){return this.gt(p)||this.eq(p)},lte:function(p){return this.lt(p)||this.eq(p)},numerator:function(){return new ls(this.symbol.getNum())},denominator:function(){return new ls(this.symbol.getDenom())},hasFunction:function(p){return this.symbol.containsFunction(p)},contains:function(p){return this.symbol.contains(p)}}).toTeX=ls.prototype.latex,Xi.prototype={fromScientific:function(p){var B=String(p).toLowerCase().split("e");return this.coeff=B[0],this.exponent=B[1],this},convert:function(p){var B=p.split("."),N=B[0]||"",H=B[1]||"";N=Xi.removeLeadingZeroes(N),H=Xi.removeTrailingZeroes(H);var j=N.length,ee=N+H,Se=Xi.leadingZeroes(ee).length;this.exponent=j-(Se+1);var Ne=Xi.removeLeadingZeroes(ee);this.coeff=Ne.charAt(0)+"."+(Ne.substr(1,Ne.length)||"0");var Dt=this.coeff.split(".")[1]||"";return this.decp="0"===Dt?0:Dt.length,this.dec=H,this.wholes=N,this},round:function(p){var B=this.copy();if(0===(p=Number(p)))B.coeff=B.coeff.charAt(0);else{var N=this.coeff.substring(0,p+1),H=this.coeff.substring(p+1,p+3),j=H.charAt(0);H.charAt(1)>4&&j++,B.coeff=N+j}return B},copy:function(){var p=new Xi(0);return p.coeff=this.coeff,p.exponent=this.exponent,p.sign=this.sign,p},toString:function(p){var B;if(ve.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&0===this.exponent&&this.decp<p)B=0===this.decp?this.wholes:this.coeff;else{var N=void 0===p?this.coeff:Xi.round(this.coeff,Math.min(p,this.decp||1));B=0===this.exponent?N:N+"e"+this.exponent}return(-1===this.sign?"-":"")+B}},Xi.isScientific=function(p){return/\d+\.?\d*e[\+\-]*\d+/i.test(p)},Xi.leadingZeroes=function(p){var B=p.match(/^(0*).*$/);return B?B[1]:""},Xi.removeLeadingZeroes=function(p){var B=p.match(/^0*(.*)$/);return B?B[1]:""},Xi.removeTrailingZeroes=function(p){var B=p.match(/0*$/);return B?p.substring(0,p.length-B[0].length):""},Xi.round=function(p,B){var N=at(p,B),j=B-String(N).split(".").pop().length;return j>0&&(N+=new Array(j+1).join(0)),N},un.create=function(p){if(p instanceof un)return p;var B="-"===(p=p.toString()).charAt(0);B&&(p=p.substr(1,p.length-1));var N=new un(p);return B&&N.negate(),N},un.isFrac=function(p){return p instanceof un},un.quick=function(p,B){var N=new un;return N.num=new Tt(p),N.den=new Tt(B),N},un.simple=function(p){for(var N=String(Ke(p)).split("."),H=N.join(""),j=1,ee=(N[1]||"").length,Se=0;Se<ee;Se++)j+="0";return un.quick(H,j).simplify()},un.prototype={multiply:function(p){if(this.isOne())return p.clone();if(p.isOne())return this.clone();var B=this.clone();return B.num=B.num.multiply(p.num),B.den=B.den.multiply(p.den),B.simplify()},divide:function(p){if(p.equals(0))throw new X("Division by zero not allowed!");return this.clone().multiply(p.clone().invert()).simplify()},subtract:function(p){return this.clone().add(p.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(p){var B=this.den,N=p.den,H=this.clone(),j=H.num,ee=p.num;return B.equals(N)?H.num=j.add(ee):(H.num=j.multiply(N).add(ee.multiply(B)),H.den=B.multiply(N)),H.simplify()},mod:function(p){var B=this.clone(),N=p.clone();return B.num=B.num.multiply(N.den),B.den=B.den.multiply(N.den),N.num=N.num.multiply(this.den),N.den=N.den.multiply(this.den),B.num=B.num.mod(N.num),B.simplify()},simplify:function(){var p=Tt.gcd(this.num,this.den);return this.num=this.num.divide(p),this.den=this.den.divide(p),this},clone:function(){var p=new un;return p.num=new Tt(this.num),p.den=new Tt(this.den),p},decimal:function(p){var B=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";p=p||ve.PRECISION,p++;for(var N=[],H=this.num.abs(),j=this.den,ee=0;ee<p;ee++){var Se=H.divide(j),Ne=H.subtract(Se.multiply(j));if(N.push(Se),Ne.equals(0))break;H=Ne.times(10)}var Dt=N.shift();if(0===N.length)return B+Dt.toString();if(ee===p){var Mt=[];for(ee=0;ee<2;ee++)Mt.unshift(N.pop());N.push(Math.round(Mt.join(".")))}return B+(Dt.toString()+".")+N.join("")},toDecimal:function(p){return(p=p||ve.PRECISION)?this.decimal(p):this.num/this.den},qcompare:function(p){return[this.num.multiply(p.den),p.num.multiply(this.den)]},equals:function(p){isNaN(p)||(p=new un(p));var B=this.qcompare(p);return B[0].equals(B[1])},absEquals:function(p){isNaN(p)||(p=new un(p));var B=this.qcompare(p);return B[0].abs().equals(B[1])},greaterThan:function(p){isNaN(p)||(p=new un(p));var B=this.qcompare(p);return B[0].gt(B[1])},gte:function(p){return this.greaterThan(p)||this.equals(p)},lte:function(p){return this.lessThan(p)||this.equals(p)},lessThan:function(p){isNaN(p)||(p=new un(p));var B=this.qcompare(p);return B[0].lt(B[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var p=this.den;if(!this.num.equals(0)){var B=this.num.isNegative();this.den=this.num.abs(),this.num=p,B&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(p){return un.quick(Tt.gcd(p.num,this.num),Tt.lcm(p.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){return ve.USE_BIG?new Vn(this.num.toString()).div(new Vn(this.den.toString())):this.num/this.den},isNegative:function(){return this.toDecimal()<0}},pe.imaginary=function(){var p=new pe(ve.IMAGINARY);return p.imaginary=!0,p},pe.infinity=function(p){var B=new pe("Infinity");return-1===p&&B.negate(),B},pe.shell=function(p,B){var N=new pe(B);return N.group=p,N.symbols={},N.length=0,N},pe.unwrapSQRT=function(p,B){var N=p.power;if(p.fname===Cn&&(p.isLinear()||B)){var H=p.args[0].clone();H.power=H.power.multiply(new un(.5)),H.multiplier=H.multiplier.multiply(p.multiplier),p=H,B&&(p.power=N.multiply(new un(.5)))}return p},pe.hyp=function(p,B){return p=p||new pe(0),B=B||new pe(0),xe.sqrt(xe.add(xe.pow(p.clone(),new pe(2)),xe.pow(B.clone(),new pe(2))))},pe.toPolarFormArray=function(p){var B,N;return B=p.realpart(),N=p.imagpart(),[pe.hyp(B,N),B.equals(0)?xe.parse("pi/2"):xe.trig.atan(xe.divide(N,B))]},pe.unwrapPARENS=function(p){if(""===p.fname){var B=p.args[0];return B.power=B.power.multiply(p.power),B.multiplier=B.multiplier.multiply(p.multiplier),""===p.fname?pe.unwrapPARENS(B):B}return p},pe.create=function(p,B){return xe.parse("("+p+")^("+(B=void 0===B?1:B)+")")},pe.prototype={getNth:function(p){var B=tn(xe.pow(xe.parse(this.multiplier),xe.parse(p).invert())),N=xe.parse(at(B));return tn(xe.pow(N,xe.parse(p))).equals(xe.parse(this.multiplier))?N:B},isToNth:function(p){var H,B=this.getNth(p),N=qe(B);return this.group===ze?(H=!0,this.each(function(j){j.isToNth(p)||(H=!1)})):H=this.group===_t||qe(xe.divide(xe.parse(this.power),xe.parse(p))),N&&H},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===ze){var p=[],N=this.multiplier.sign();this.each(function(Ln){var nn=Ln.power;if(At(nn)||nn.equals(1))return this.clone();p.push(nn)});var B=new un(nt(p)),H=(N=this.multiplier.sign(),this.multiplier.clone().abs()),j=jn.ifactor(H),ee=new un(1),Se=new un(1);for(var Ne in j){var Dt=new un(j[Ne]);Dt.lessThan(B)||(Dt=Dt.divide(B).subtract(new un(1)),Se=Se.multiply(new un(Ne))),ee=ee.multiply(xe.parse(Ct(Ne)+"^"+Ct(Dt)).multiplier)}var Mt=new pe(Se);this.each(function(Ln){(Ln=Ln.clone()).power=Ln.power.divide(B),Mt=xe.multiply(Mt,Ln)});var xt=xe.symfunction(Yr,[Mt]);return xt.power=B,xt.multiplier=N<0?ee.negate():ee,xt}return this.clone()},equals:function(p){return At(p)||(p=new pe(p)),this.value===p.value&&this.power.equals(p.power)&&this.multiplier.equals(p.multiplier)&&this.group===p.group},abs:function(){var p=this.clone();return p.multiplier.abs(),p},gt:function(p){return At(p)||(p=new pe(p)),this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},gte:function(p){return At(p)||(p=new pe(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},lt:function(p){return At(p)||(p=new pe(p)),this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},lte:function(p){return At(p)||(p=new pe(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},isPoly:function(p){var B=this.group,N=this.power;if(!qe(N)||N<0)return!1;if(B===_t||B===Lt||this.isConstant(!0))return!0;var H=qn(this);if(B===ze&&1===H.length){var j=H[0];if(!j)return!0;for(var ee in this.symbols){var Se=this.symbols[ee];if(Se.group===rn&&!Se.args[0].isConstant()||!Se.contains(j)&&!Se.isConstant(!0))return!1}return!0}if(this.isComposite()||B===ze&&p){if(!p&&H.length>1)return!1;for(var ee in this.symbols)if(!this.symbols[ee].isPoly(p))return!1;return!0}return!1},stripVar:function(p,B){var N;return this.group!==vn&&this.group!==Lt||this.value!==p?this.group===ze&&this.isLinear()?(N=new pe(1),this.each(function(H){H.contains(p,!0)||(N=xe.multiply(N,H.clone()))}),N.multiplier=N.multiplier.multiply(this.multiplier)):this.group!==Kt||this.isLinear()?this.group===Kt&&this.isLinear()?(N=new pe(0),this.each(function(H){if(!H.contains(p)){var j=H.clone();j.multiplier=j.multiplier.multiply(this.multiplier),N=xe.add(N,j)}}),N.equals(0)&&(N=new pe(this.multiplier))):N=this.group===mn&&this.power.contains(p,!0)||this.group===rn&&this.contains(p)?new pe(this.multiplier):this.clone():N=new pe(this.multiplier):N=new pe(B?0:this.multiplier),N},toArray:function(p,B){B=B||{arr:[],add:function(Ne,Dt){var Mt=this.arr[Dt];this.arr[Dt]=Mt?xe.add(Mt,Ne):Ne}};var N=this.group;if(N===Lt&&this.contains(p))B.add(new pe(this.multiplier),this.power);else if(N===ze){var H=this.stripVar(p),j=xe.divide(this.clone(),H.clone()),ee=j.isConstant()?0:j.power;B.add(H,ee)}else if(N===vn&&this.value===p)this.each(function(Ne,Dt){B.add(Ne.stripVar(p),Dt)});else if(N===Kt)this.each(function(Ne){Ne.toArray(p,B)});else{if(this.contains(p))throw new ke("Cannot convert to array! Exiting");B.add(this.clone(),0)}B=B.arr;for(var Se=0;Se<B.length;Se++)B[Se]||(B[Se]=new pe(0));return B},hasFunc:function(p){var B=this.group===rn||this.group===mn;if(B&&!p||B&&this.contains(p))return!0;if(this.symbols)for(var N in this.symbols)if(this.symbols[N].hasFunc(p))return!0;return!1},sub:function(p,B){p=At(p)?p.clone():xe.parse(p),B=At(B)?B.clone():xe.parse(B),(p.group===_t||p.group===Xn)&&re("Cannot substitute a number. Must be a variable");var ee,N=!1,H=p.multiplier.equals(1),j=this.multiplier.clone();if(this.value===p.value&&(this.group!==vn&&p.group!==vn||this.group===vn&&p.group===vn))(H||p.multiplier.equals(this.multiplier))&&(p.isLinear()?ee=B:p.power.equals(this.power)&&(ee=B,N=!0),p.multiplier.equals(this.multiplier)&&(j=new un(1)));else if(this.group===ze||this.previousGroup===ze)ee=new pe(1),this.each(function(_n){var rr=xe.parse(_n.sub(p,B));ee=xe.multiply(ee,rr)});else if(this.isComposite()){var Se=this.clone();if(p.isComposite()&&Se.isComposite()&&Se.isLinear()&&p.isLinear()){var Ne=function(_n,rr){for(var yr in _n.symbols){var ui=_n.symbols[yr];if(ui.isComposite()&&Ne(ui,rr)||ui.equals(rr))return!0}return!1};for(var Dt in p.symbols)if(!Ne(Se,p.symbols[Dt]))return Se.clone();ee=xe.add(xe.subtract(Se.clone(),p),B)}else ee=new pe(0),Se.each(function(_n){ee=xe.add(ee,_n.sub(p,B))})}else if(this.group===mn)ee=xe.parse(this.value).sub(p,B);else if(this.group===rn){for(var Mt=[],xt=0;xt<this.args.length;xt++){var Ln=this.args[xt];At(Ln)||(Ln=xe.parse(Ln)),Mt.push(Ln.sub(p,B))}ee=xe.symfunction(this.fname,Mt)}if(ee){if(!N){var nn=this.group===mn?this.power.sub(p,B):xe.parse(this.power);ee=xe.pow(ee,nn)}return ee.multiplier=ee.multiplier.multiply(j),ee}return this.clone()},isMonomial:function(){if(this.group===Lt)return!0;if(this.group!==ze)return!1;for(var p in this.symbols)if(this.symbols[p].group!==Lt)return!1;return!0},isPi:function(){return this.group===Lt&&"pi"===this.value},sign:function(){return this.multiplier.sign()},isE:function(){return"e"===this.value},isSQRT:function(){return this.fname===Cn},isConstant:function(p,B){if(B&&this.group===ze)for(var N in this.symbols)if(this.symbols[N].isConstant(!0))return!0;if("functions"===p&&this.isComposite()){var H=!0;return this.each(function(ee){ee.isConstant(p,B)||(H=!1)},!0),H}if("all"===p&&(this.isPi()||this.isE()))return!0;if(p&&this.group===rn){for(var j=0;j<this.args.length;j++)if(!this.args[j].isConstant(p))return!1;return!0}return p?Lr(this):this.value===Wn},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols)for(var p in this.symbols)if(this.symbols[p].isImaginary())return!0;return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new pe(0);if(this.isComposite()){var p=new pe(0);return this.each(function(B){p=xe.add(p,B.realpart())}),p}return this.isImaginary()?new pe(0):this.clone()},imagpart:function(){if(this.group===Lt&&this.isImaginary())return new pe(this.multiplier);if(this.isComposite()){var p=new pe(0);return this.each(function(B){p=xe.add(p,B.imagpart())}),p}return this.group===ze?this.stripVar(ve.IMAGINARY):new pe(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(p){if(p){if(this.isConstant())return!0;if(this.group===Lt)return this.value!==p||this.power.equals(1);if(this.isComposite()&&this.power.equals(1)){for(var B in this.symbols)if(!this.symbols[B].isLinear(p))return!1;return!0}return!(this.group!==ze||!this.symbols[p])&&this.symbols[p].isLinear(p)}return this.power.equals(1)},containsFunction:function(p){if("string"==typeof p&&(p=[p]),this.group===rn&&-1!==p.indexOf(this.fname))return!0;if(this.symbols)for(var B in this.symbols)if(this.symbols[B].containsFunction(p))return!0;return!1},multiplyPower:function(p){if(this.group===_t&&this.multiplier.equals(1))return this;var B=this.power;if(this.group!==mn&&p.group===_t){var N=p.multiplier;this.group===_t&&!N.isInteger()&&this.convert(Xn),this.power=B.equals(1)?N.clone():B.multiply(N),this.group===Xn&&qe(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(_t))}else this.group!==mn&&(B=new pe(B),this.convert(mn)),this.power=xe.multiply(B,p);return this},setPower:function(p,B){if(this.group===_t&&this.multiplier.equals(1))return this;if(this.group!==mn||At(p)){var N=!1;At(p)&&(p.group===_t?p=p.multiplier:N=!0);var H=N?mn:Xn;this.power=p,this.group===_t&&H&&this.convert(H,B)}else this.group=this.previousGroup,delete this.previousGroup,this.group===_t?(this.multiplier=new un(this.value),this.value=Wn):this.power=p;return this},isInverse:function(){return this.group===mn?this.power.multiplier.lessThan(0):this.power<0},clone:function(p){var j,B=p||new pe(0),N=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],H=N.length;if(this.symbols)for(var ee in B.symbols={},this.symbols)B.symbols[ee]=this.symbols[ee].clone();for(j=0;j<H;j++)void 0!==this[N[j]]&&(B[N[j]]=this[N[j]]);return B.power=this.power.clone(),B.multiplier=this.multiplier.clone(),this.isConversion&&(B.isConversion=this.isConversion),this.isUnit&&(B.isUnit=this.isUnit),B},toUnitMultiplier:function(p){return this.multiplier.num=new Tt(this.multiplier.num.isNegative()&&p?-1:1),this.multiplier.den=new Tt(1),this},toLinear:function(){return this.power.equals(1)||this.setPower(new un(1)),this},each:function(p,B){if(this.symbols)for(var N in this.symbols){var H=this.symbols[N];if(H.group===vn&&B)for(var j in H.symbols)p.call(N,H.symbols[j],j);else p.call(this,H,N)}else p.call(this,this,this.value)},valueOf:function(){return this.group===_t?this.multiplier.valueOf():0===this.power?1:0===this.multiplier?0:On(this,"decimals")},contains:function(p,B){p=String(p);var N=this.group;if(this.value===p)return!0;if(this.symbols)for(var H in this.symbols)if(this.symbols[H].contains(p,B))return!0;if(N===rn||this.previousGroup===rn)for(var j=0;j<this.args.length;j++)if(this.args[j].contains(p,B))return!0;return!(N!==mn||!(B&&this.power.contains(p,B)||this.value===p))||this.value===p},negate:function(){return this.multiplier.negate(),(this.group===Kt||this.group===vn)&&this.distributeMultiplier(),this},invert:function(p,B){return p||(this.multiplier=this.multiplier.invert()),At(this.power)?this.power.negate():this.group===ze&&B?this.each(function(N){return N.invert()}):this.power&&this.group!==_t&&this.power.negate(),this},distributeMultiplier:function(p){var B=p?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&B&&this.group!==ze&&!this.multiplier.equals(1)){for(var N in this.symbols){var H=this.symbols[N];H.multiplier=H.multiplier.multiply(this.multiplier),H.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var p=this.power;for(var B in this.symbols){var N=this.symbols[B];N.group===mn?N.power=xe.multiply(N.power,new pe(p)):this.symbols[B].power=this.symbols[B].power.multiply(p)}this.toLinear()}return this},convert:function(p,B){if(p>rn){var N=this.clone();this.symbols={},p===ze?N.toUnitMultiplier():this.toUnitMultiplier(),this.group===rn&&(N.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[N.keyForGroup(p)]=N,this.group=p,this.length=1}else if(p===mn)this.group===_t&&this.multiplier.equals(1)||(this.group!==mn&&(this.previousGroup=this.group),this.group===_t?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=On(this,"hash"),this.group=mn);else if(p===_t){var H=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new pe(this.group===Xn?H*Math.pow(this.value,this.power):H).clone(this)}else p===Xn&&this.group===_t&&(this.value=B?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!B),this.group=Xn);return this},insert:function(p,B){if(At(p)||re("Object "+p+" is not of type Symbol!"),this.symbols){var N=this.group;if(N>rn){var H=p.keyForGroup(N),j=H in this.symbols&&this.symbols[H];if("add"===B){var ee=H;j?(this.symbols[ee]=xe.add(j,p),this.symbols[ee].multiplier.equals(0)&&(delete this.symbols[ee],this.length--,0===this.length&&(this.convert(_t),this.multiplier=new un(0)))):(this.symbols[H]=p,this.length++)}else p.group===Xn&&qe(p.power)&&p.convert(_t),p.group!==mn?(this.multiplier=this.multiplier.multiply(p.multiplier),p.toUnitMultiplier()):(p.parens=p.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(p.multiplier.clone().abs()),p.toUnitMultiplier(!0)),j&&((p=xe.multiply(Qr(this.symbols,H),p)).isConstant()&&(this.multiplier=this.multiplier.multiply(p.multiplier),p=new pe(1)),this.length--),p.isOne(!0)?p.multiplier.lessThan(0)&&this.negate():(this.symbols[H]=p,this.length++);0===this.length&&this.convert(_t),(this.group===Kt||this.group===ze)&&this.updateHash()}}return this},attach:function(p){if(Fe(p)){for(var B=0;B<p.length;B++)this.insert(p[B],"add");return this}return this.insert(p,"add")},combine:function(p){if(Fe(p)){for(var B=0;B<p.length;B++)this.insert(p[B],"multiply");return this}return this.insert(p,"multiply")},updateHash:function(){if(this.group!==_t)if(this.group===rn){for(var p="",B=this.args,N=this.fname===Yr,H=0;H<B.length;H++)p+=(0===H?"":",")+On(B[H]);this.value=(N?"":this.fname)+(N?p:Ct(p))}else this.group===Lt||this.group===vn||(this.value=On(this,"hash"))},keyForGroup:function(p){var N,B=this.group;if(B===_t)N=this.value;else if(B===Lt||B===Xn)N=p===vn?this.power.toDecimal():this.value;else if(B===rn)N=p===vn?this.power.toDecimal():On(this,"hash");else{if(B===vn)return p===ze?On(this,"hash"):p===Kt?this.power.equals(1)?this.value:Ct(On(this,"hash"))+ve.POWER_OPERATOR+this.power.toDecimal():p===vn?this.power.toString():this.value;B===Kt?(p===Kt&&(N=On(this,"hash")),N=p===vn?this.power.toDecimal():this.value):B===ze?N=p===vn?this.power.toDecimal():On(this,"hash"):B===mn&&(N=p===vn?On(this.power):On(this,"hash"))}return N},collectSymbols:function(p,B,N,H){var j=[];if(this.symbols)for(var ee in this.symbols){var Se=this.symbols[ee];!H||Se.group!==vn&&Se.group!==Kt?j.push(p?p(Se,B):Se):j=j.concat(Se.collectSymbols())}else j.push(this);return null===N&&(N=void 0),j.sort(N)},latex:function(p){return Er.latex(this,p)},text:function(p){return On(this,p)},isOne:function(p){return this.group===_t?this.multiplier[p?"absEquals":"equals"](1):this.power.equals(0)},isComposite:function(){var p=this.group,B=this.previousGroup;return p===Kt||p===vn||B===vn||B===Kt},isCombination:function(){return this.group===ze||this.previousGroup===ze},lessThan:function(p){return this.multiplier.lessThan(p)},greaterThan:function(p){return At(p)||(p=new pe(p)),!(!this.isConstant(!0)||!p.isConstant(!0))&&this.multiplier.greaterThan(p.multiplier)},getDenom:function(){var p,B;if(B=this.clone(),this.group===ze&&this.power.lessThan(0)&&(B=xe.expand(B)),B.power.lessThan(0)||B.group===mn&&B.power.multiplier.lessThan(0)){var N=xe.parse(B.multiplier.den);(p=B.toUnitMultiplier()).power.negate(),p=xe.multiply(N,p)}else if(B.group===ze)for(var H in p=xe.parse(B.multiplier.den),B.symbols){var j=B.symbols[H];(j.power<0||j.group===mn&&j.power.multiplier.lessThan(0))&&(p=xe.multiply(p,B.symbols[H].clone().invert()))}else p=xe.parse(B.multiplier.den);return p},getNum:function(){var p,B;return(B=this.clone()).group===ze&&B.power.lessThan(0)&&(B=xe.expand(B)),B.power.greaterThan(0)&&B.group!==ze||B.group===mn&&B.power.multiplier.greaterThan(0)?p=xe.multiply(xe.parse(B.multiplier.num),B.toUnitMultiplier()):B.group===ze?(p=xe.parse(B.multiplier.num),B.each(function(N){(N.power>0||N.group===mn&&N.power.multiplier>0)&&(p=xe.multiply(p,N.clone()))})):p=xe.parse(B.multiplier.num),p},toString:function(){return this.text()}};var li={convert:function(p,B){var N;if(0===p)N=[0,1];else if(p<1e-6||p>1e20){var H=this.quickConversion(Number(p));if(H[1]<=1e20){var j=Math.abs(p),ee=p/j;(N=this.fullConversion(j.toFixed((H[1]+"").length-1)))[0]=N[0]*ee}else N=H}else N=this.fullConversion(p);return N},quickConversion:function(p){return function N(H){Xi.isScientific(H)&&(H=Ke(H));var Se,j=function(H){"string"!=typeof H&&(H=H.toString());var j="",ee=H.charAt(0);return"-"===ee?(H=H.substr(1,H.length),j="-"):"+"===ee&&(H=H.substr(1,H.length)),{sign:j,value:H}}(H),ee=j.value.split(".");Se=1===ee.length?ee[0]:ee[0]+ee[1];var Dt=`1${"0".repeat(ee[1]?ee[1].length:0)}`;return"0"!==Se&&(Se=Se.replace(/^0+/,"")),[j.sign+Se,Dt]}(p)},fullConversion:function(p){for(var B=!1,N=0,H=1,j=1,ee=0,Se=0,Ne=p;!B;){++Se>1e4&&(B=!0);var Mt=Math.floor(Ne),xt=N+Mt*j,Ln=H+Mt*ee,nn=Ne-Mt;nn<1e-16&&(B=!0),Ne=1/nn,N=j,H=ee,j=xt,ee=Ln,(Math.abs(xt/Ln-p)<1e-16||Se>30)&&(B=!0)}return[xt,Ln]}},Er={parser:function(){var p=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],B=new Ji;for(var N in B)-1===p.indexOf(N)&&delete B[N];return B.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(j){return j}}),B.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(j){return j}}),B.getBrackets()["{"].maps_to=void 0,B}(),space:"~",dot:" \\cdot ",latex:function(p,B){if(p.clone&&(p=p.clone()),p instanceof xe.classes.Collection&&(p=p.elements),Fe(p)){for(var N=[],H=0;H<p.length;H++){var j=p[H];At(j)||(j=xe.parse(j)),N.push(this.latex(j,B))}return this.brackets(N.join(", "),"square")}if(Nn(p)){var ee="\\begin{pmatrix}\n";for(H=0;H<p.elements.length;H++){for(var Se=[],Ne=p.elements[H],Dt=0;Dt<Ne.length;Dt++)Se.push(this.latex(Ne[Dt],B));ee+=Se.join(" & "),H<p.elements.length-1&&(ee+="\\\\\n")}return ee+"\\end{pmatrix}"}if(cn(p)){for(ee="\\left[",H=0;H<p.elements.length;H++)ee+=this.latex(p.elements[H],B)+" "+(H!==p.elements.length-1?",\\,":"");return ee+"\\right]"}if(zr(p)){for(ee="\\{",H=0;H<p.elements.length;H++)ee+=this.latex(p.elements[H],B)+" "+(H!==p.elements.length-1?",\\,":"");return ee+"\\}"}var _n,Mt="decimal"===B||"decimals"===B,xt=(p=p.clone()).power,Ln=Ue(xt),nn=p.multiplier.lessThan(0);if(p.group===Xn&&Mt)return String(p.multiplier.toDecimal()*Math.pow(p.value,p.power.toDecimal()));p.multiplier=p.multiplier.abs(),_n=Mt?[String(p.multiplier.toDecimal()),""]:[p.multiplier.num,p.multiplier.den];var ui,yr=this.value(p,Ln,B,nn);Ln&&xt.negate(),Mt?(ui=At(xt)?Er.latex(xt,B):String(xt.toDecimal()),"1"===String(ui)&&(ui="")):ui=At(xt)?this.latex(xt,B):this.formatFrac(xt,!0);var Wr=["",""];return Wr[Ln?1:0]=ui,((nn?"-":"")+this.set(_n,yr,Wr,p.group===ze)).replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(p,B,N,H){var j=p.group,ee=p.previousGroup,Se=["",""],Ne=B?1:0;if(p.isInfinity)Se[Ne]="\\infty";else if(j===Lt||j===Xn||ee===Lt||ee===Xn||ee===_t){(Dt=this.formatSubscripts(p.value)).replace&&(Dt=Dt.replace(/(.+)_$/,"$1\\_"));var Mt=String(Dt).split("_"),xt=this.greek[Mt[0]];xt&&(Mt[0]=xt,Dt=Mt.join("_")),(p=this.symbols[Mt[0]])&&(Mt[0]=p,Dt=Mt.join("_")),Se[Ne]=Dt}else if(j===rn||ee===rn){for(var nn=[],_n=p.fname,rr=0;rr<p.args.length;rr++){var ui;ui="string"==typeof(yr=p.args[rr])?yr:this.latex(yr,N),nn.push(ui)}if(_n===Cn)Se[Ne]="\\sqrt"+this.braces(nn.join(","));else if(_n===Gr)Se[Ne]=this.brackets(nn.join(","),"abs");else if(_n===Yr)Se[Ne]=this.brackets(nn.join(","),"parens");else if("limit"===_n)Se[Ne]=" \\lim\\limits_{"+nn[1]+" \\to "+nn[2]+"} "+nn[0];else if("integrate"===_n)Se[Ne]="\\int"+this.braces(nn[0])+this.braces("d"+nn[1]);else if("defint"===_n)Se[Ne]="\\int\\limits_"+this.braces(nn[1])+"^"+this.braces(nn[2])+" "+nn[0]+" d"+nn[3];else if(_n===Mn||_n===Je){var yr;(yr=p.args[0]).power.equals(1)&&(yr.isComposite()||yr.isCombination())&&(nn[0]=this.brackets(nn[0])),Se[Ne]=nn[0]+(_n===Mn?"!":"!!")}else if("floor"===_n)Se[Ne]="\\left \\lfloor"+this.braces(nn[0])+"\\right \\rfloor";else if("ceil"===_n)Se[Ne]="\\left \\lceil"+this.braces(nn[0])+"\\right \\rceil";else if(_n===ve.LOG&&nn.length>1)Se[Ne]="\\mathrm"+this.braces(ve.LOG)+"_"+this.braces(nn[1])+this.brackets(nn[0]);else if(_n===ve.LOG10)Se[Ne]="\\mathrm"+this.braces(ve.LOG)+"_"+this.braces(10)+this.brackets(nn[0]);else if("sum"===_n){var Wr=nn[0],zi=nn[2],Ds=nn[3];Se[Ne]="\\sum\\limits_{"+this.braces(nn[1])+"="+this.braces(zi)+"}^"+this.braces(Ds)+" "+this.braces(Wr)}else if("product"===_n)Wr=nn[0],zi=nn[2],Ds=nn[3],Se[Ne]="\\prod\\limits_{"+this.braces(nn[1])+"="+this.braces(zi)+"}^"+this.braces(Ds)+" "+this.braces(Wr);else if("nthroot"===_n)Se[Ne]="\\sqrt["+nn[1]+"]"+this.braces(nn[0]);else if("mod"===_n)Se[Ne]=nn[0]+" \\bmod "+nn[1];else if("realpart"===_n)Se[Ne]="\\operatorname{Re}"+this.brackets(nn[0]);else if("imagpart"===_n)Se[Ne]="\\operatorname{Im}"+this.brackets(nn[0]);else{var Ln=""!==_n?"\\mathrm"+this.braces(_n.replace(/_/g,"\\_")):"";Se[Ne]=p.isConversion?Ln+this.brackets(nn.join(""),"parens"):Ln+this.brackets(nn.join(","),"parens")}}else if(p.isComposite()){var vi=p.collectSymbols().sort(j===Kt||ee===Kt?function(_i,uo){return uo.group-_i.group}:function(_i,uo){var Ys=At(_i.power)?-1:_i.power;return(At(uo.power)?-1:uo.power)-Ys}),Jr=[],ga=vi.length;for(rr=0;rr<ga;rr++)Jr.push(Er.latex(vi[rr],N));var Dt=Jr.join("+");Se[Ne]=p.isLinear()&&p.multiplier.equals(1)&&!H?Dt:this.brackets(Dt,"parens")}else if(j===ze||ee===mn||ee===ze){j===ze&&p.distributeExponent();var xo=[],ci=[],Br=[],Fs=[],Do=0,Ro=0,Ws=function(Es,_i,uo){if(uo>1&&_i.length>0)for(var Ys=_i.length,Ja=0;Ja<Ys;Ja++){var bl=_i[Ja],Za=Es[bl];/^\\left\(.+\\right\)\^\{.+\}$/g.test(Za)||/^\\left\(.+\\right\)$/g.test(Za)||(Es[bl]=Er.brackets(Za,"parens"))}return Es};p.each(function(Es){var uo;Ue(Es.power)?(uo=Er.latex(Es.invert(),N),Ro++,Es.isComposite()&&(1!=p.multiplier.den&&1==Math.abs(Es.power)&&(uo=Er.brackets(uo,"parens")),Br.push(xo.length)),xo.push(uo)):(uo=Er.latex(Es,N),Do++,Es.isComposite()&&(1!=p.multiplier.num&&1==Math.abs(Es.power)&&(uo=Er.brackets(uo,"parens")),Fs.push(ci.length)),ci.push(uo))}),Ws(ci,Fs,Do),Se[0]=ci.join(this.dot),Ws(xo,Br,Ro),Se[1]=xo.join(this.dot)}return Se},set:function(p,B,N,H){var j=function(_n){return/^\\left\(.+\\right\)$/.test(_n)};if(N&&(N=this.formatP(N)),H){var ee=N[0];N[0]=""}B=this.merge(B,N);var Se=p[0],Ne=p[1],Dt=B[0],Mt=B[1];Dt&&1===Number(Se)&&(Se=""),1===Number(Ne)&&(Ne="");var xt=this.join(Se,Dt,j(Dt)?"":this.dot),Ln=this.join(Ne,Mt,j(Mt)?"":this.dot);if(xt&&Ln){var nn=this.frac(xt,Ln);return H&&ee&&(nn=this.brackets(nn)+ee),nn}return xt},merge:function(p,B){for(var N=[],H=0;H<2;H++)N[H]=p[H]+B[H];return N},join:function(p,B,N){return p||B?p&&!B?p:B&&!p?B:p+N+B:""},formatSubscripts:function(p){for(var B=p.toString().split("_"),N="";B.length>1;)B.length>0&&(N="_"+this.braces(B.pop()+N));return B[0]+N},formatP:function(p){for(var B=0;B<2;B++){var N=p[B];N&&(p[B]="^"+this.braces(N))}return p},formatFrac:function(p,B){var N=p.num.toString(),H=p.den.toString();return B&&"1"===N&&"1"===H?"":"1"===H?N:this.frac(N,H)},frac:function(p,B){return"\\frac"+this.braces(p)+this.braces(B)},braces:function(p){return"{"+p+"}"},brackets:function(p,B){var H={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]}[B=B||"parens"];return"\\left"+H[0]+p+"\\right"+H[1]},filterTokens:function(p){var B=[];Fe(p)&&(B.type=p.type);for(var N=["\\","left","right","big","Big","large","Large"],H=0,j=p.length;H<j;H++){var ee=p[H];"\\"===ee.value&&"\\"===p[H+1].value?B.push(ee):Fe(ee)?B.push(Er.filterTokens(ee)):-1===N.indexOf(ee.value)&&B.push(ee)}return B},parse:function(p){var B,H="",j=this.filterTokens(p),ee={cdot:"",times:"",infty:"Infinity"},Se=function(vi){return j[void 0===vi?++B:B+=vi]},Ne=function(){return Er.parse(Se())},Dt=function(vi){return vi in ee?ee[vi]:"*"===vi&&"&"===j[B+1].value?(Se(2),","):"&"===vi?(Se(),","):"\\"===vi?"],[":vi};for(B=0,N=j.length;B<N;B++){var Mt=j[B];if("frac"===Mt.value)H+=Ne()+"/"+Ne();else if(Mt.value in Er.symbols)if(Mt.value===Cn&&"vector"===j[B+1].type&&"Set"===j[B+2].type){var nn=Ne();H+=Ne()+"^"+Ct("1/"+nn)}else H+=Mt.value+Ne();else if("int"===Mt.value){var rr=Ne();B++,yr=Dt((yr=Se().value).substring(1,yr.length)),H+="integrate"+Ct(rr+","+yr)}else if("int_"===Mt.value){var N=Ne();if(B++,void 0===(ui=Se().value)){B--;var ui=Ne()}if(rr=Ne(),","===(yr=Se().value))var yr=Se().value;"differentialD"===yr&&(B++,yr=Se().value),"mathrm"===yr&&(B++,yr=Se().value),H+="defint"+Ct(rr+","+N+","+ui+","+yr)}else if(Mt.value&&Mt.value.startsWith("int_"))N=Mt.value.replace("int_",""),console.log("uppernow"),B++,void 0===(ui=Se().value)&&(B--,ui=Ne()),rr=Ne(),","===(yr=Se().value)&&(yr=Se().value),"differentialD"===yr&&(B++,yr=Se().value),"mathrm"===yr&&(B++,yr=Se().value),H+="defint"+Ct(rr+","+N+","+ui+","+yr);else if("mathrm"===Mt.value)H+=(rr=j[++B][0].value)+Ne();else if("sum_"===Mt.value||"prod_"===Mt.value){var Wr="sum_"===Mt.value?"sum":"product",Nr=Se();B++;var zi=Ne();rr=Ne(),H+=Wr+Ct([rr,Dt(Nr[0]),Dt(Nr[2]),Dt(zi)].join(","))}else"lim_"===Mt.value?(Nr=Se(),H+="limit"+Ct([Ne(),Dt(Nr[0]),Dt(Nr[2])].join(","))):"begin"===Mt.value?(Nr=Se(),Array.isArray(Nr)&&"matrix"===Nr[0].value&&(H+="matrix([")):"end"===Mt.value?(Nr=Se(),Array.isArray(Nr)&&"matrix"===Nr[0].value&&(H+="])")):Array.isArray(Mt)?H+=Dt(Er.parse(Mt)):H+=Dt(Mt.value.toString())}return Ct(H)}};function Ti(p){this.elements=cn(p)?p.items.slice(0):Fe(p)?p.slice(0):[].slice.call(arguments)}function Fr(){var N,j,ee,Se,p=arguments,B=p.length,H=[];if(Nn(p))for(N=0;N<B;N++)H.push(p[N].slice(0));else for(N=0;N<B;N++)cn(j=p[N])&&(j=j.elements),Fe(j)||(j=[j]),Se=j.length,ee&&ee!==Se&&re("Unable to create Matrix. Row dimensions do not match!"),H.push(j),ee=Se;this.elements=H}function gn(p){if(this.elements=[],cn(p)||(p=Ti.fromArray(arguments)),p)for(var B=p.elements,N=0,H=B.length;N<H;N++)this.add(B[N])}Ti.arrayPrefill=function(p,B){var N=[];B=B||0;for(var H=0;H<p;H++)N[H]=B;return N},Ti.fromArray=function(p){var B=new Ti;return B.elements=p,B},Ti.fromSet=function(p){return Ti.fromArray(p.elements)},Ti.prototype={custom:!0,e:function(p){return p<1||p>this.elements.length?null:this.elements[p-1]},set:function(p,B){At(B)||(B=new pe(B)),this.elements[p]=B},dimensions:function(){return this.elements.length},modulus:function(){return yn("SAFE",function(){return xe.pow(this.dot(this.clone()),new pe(.5))},void 0,this)},eql:function(p){var B=this.elements.length,N=p.elements||p;if(B!==N.length)return!1;do{if(Math.abs(xe.subtract(this.elements[B-1],N[B-1]).valueOf())>PRECISION)return!1}while(--B);return!0},clone:function(){for(var p=new Ti,B=this.elements.length,N=0;N<B;N++)p.elements.push(this.elements[N].clone());return this.getter&&(p.getter=this.getter.clone()),p},map:function(p){var B=[];return this.each(function(N,H){B.push(p(N,H))}),new Ti(B)},each:function(p){var H,B=this.elements.length,N=B;do{p(this.elements[H=N-B],H+1)}while(--B)},toUnitVector:function(){return yn("SAFE",function(){var p=this.modulus();return 0===p.valueOf()?this.clone():this.map(function(B){return xe.divide(B,p)})},void 0,this)},angleFrom:function(p){return yn("SAFE",function(){var B=p.elements||p;if(this.elements.length!==B.length)return null;var H=new pe(0),j=new pe(0),ee=new pe(0);this.each(function(Mt,xt){H=xe.add(H,xe.multiply(Mt,B[xt-1])),j=xe.add(j,xe.multiply(Mt,Mt)),ee=xe.add(ee,xe.multiply(B[xt-1],B[xt-1]))}),j=xe.pow(j,new pe(.5)),ee=xe.pow(ee,new pe(.5));var Se=xe.multiply(j,ee);if(0===Se.valueOf())return null;var Ne=xe.divide(H,Se),Dt=Ne.valueOf();return Dt<-1&&(Ne=-1),Dt>1&&(Ne=1),new pe(Math.acos(Ne))},void 0,this)},isParallelTo:function(p){var B=this.angleFrom(p).valueOf();return null===B?null:B<=PRECISION},isAntiparallelTo:function(p){var B=this.angleFrom(p).valueOf();return null===B?null:Math.abs(B-Math.PI)<=PRECISION},isPerpendicularTo:function(p){var B=this.dot(p);return null===B?null:Math.abs(B)<=PRECISION},add:function(p){return yn("SAFE",function(){var B=p.elements||p;return this.elements.length!==B.length?null:this.map(function(N,H){return xe.add(N,B[H-1])})},void 0,this)},subtract:function(p){return yn("SAFE",function(){var B=p.elements||p;return this.elements.length!==B.length?null:this.map(function(N,H){return xe.subtract(N,B[H-1])})},void 0,this)},multiply:function(p){return this.map(function(B){return B.clone()*p.clone()})},x:function(p){return this.multiply(p)},dot:function(p){return yn("SAFE",function(){var B=p.elements||p,N=new pe(0),H=this.elements.length;if(H!==B.length)return null;do{N=xe.add(N,xe.multiply(this.elements[H-1],B[H-1]))}while(--H);return N},void 0,this)},cross:function(p){var B=p.elements||p;if(3!==this.elements.length||3!==B.length)return null;var N=this.elements;return yn("SAFE",function(){return new Ti([xe.subtract(xe.multiply(N[1],B[2]),xe.multiply(N[2],B[1])),xe.subtract(xe.multiply(N[2],B[0]),xe.multiply(N[0],B[2])),xe.subtract(xe.multiply(N[0],B[1]),xe.multiply(N[1],B[0]))])},void 0,this)},max:function(){var H,p=0,B=this.elements.length,N=B;do{H=N-B,Math.abs(this.elements[H].valueOf())>Math.abs(p.valueOf())&&(p=this.elements[H])}while(--B);return p},magnitude:function(){var p=new pe(0);return this.each(function(B){p=xe.add(p,xe.pow(B,new pe(2)))}),xe.sqrt(p)},indexOf:function(p){var j,B=null,N=this.elements.length,H=N;do{j=H-N,null===B&&this.elements[j].valueOf()===p.valueOf()&&(B=j+1)}while(--N);return B},text:function(p){return On(this)},toString:function(){return this.text()},latex:function(p){for(var B=[],N=0;N<this.elements.length;N++)B.push(Er.latex.call(Er,this.elements[N],p));return"["+B.join(", ")+"]"}},Fr.identity=function(p){for(var B=new Fr,N=0;N<p;N++){B.elements.push([]);for(var H=0;H<p;H++)B.set(N,H,new pe(N===H?1:0))}return B},Fr.fromArray=function(p){function B(N){return Fr.apply(this,N)}return B.prototype=Fr.prototype,new B(p)},Fr.zeroMatrix=function(p,B){for(var N=new Fr,H=0;H<p;H++)N.elements.push(Ti.arrayPrefill(B,new pe(0)));return N},(Fr.prototype={custom:!0,get:function(p,B){if(this.elements[p])return this.elements[p][B]},map:function(p,B){var N=new Fr;return this.each(function(H,j,ee){N.set(j,ee,p.call(N,H),B)}),N},set:function(p,B,N,H){this.elements[p]||(this.elements[p]=[]),this.elements[p][B]=H||At(N)?N:new pe(N)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(p){return!p||p>this.cols()?[]:this.elements[p-1]},col:function(p){var B=this.rows(),N=[];if(p>this.cols()||!p)return N;for(var H=0;H<B;H++)N.push(this.elements[H][p-1]);return N},eachElement:function(p){var H,j,B=this.rows(),N=this.cols();for(H=0;H<B;H++)for(j=0;j<N;j++)p.call(this,this.elements[H][j],H,j)},determinant:function(){if(!this.isSquare())return null;var j,p=this.toRightTriangular(),B=p.elements[0][0],N=p.elements.length-1,H=N;do{B=xe.multiply(B,p.elements[j=H-N+1][j])}while(--N);return B},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(p){var B=this.rows();B!==p.rows()&&re("Cannot augment matrix. Rows don't match.");for(var H=0;H<B;H++)this.elements[H]=this.elements[H].concat(p.elements[H]);return this},clone:function(){for(var p=this.rows(),B=this.cols(),N=new Fr,H=0;H<p;H++){N.elements[H]=[];for(var j=0;j<B;j++){var ee=this.elements[H][j];N.elements[H][j]=At(ee)?ee.clone():ee}}return N},invert:function(){return this.isSquare()||re("Matrix is not square!"),yn("SAFE",function(){var N,H,Se,Dt,Mt,xt,nn,p=this.elements.length,B=p,j=Fr.identity(p),ee=this.augment(j).toRightTriangular(),Ne=ee.elements[0].length,Ln=[];do{Mt=[],Se=Ne,Ln[N=p-1]=[],xt=ee.elements[N][N];do{nn=xe.divide(ee.elements[N][Dt=Ne-Se],xt.clone()),Mt.push(nn),Dt>=B&&Ln[N].push(nn)}while(--Se);for(ee.elements[N]=Mt,H=0;H<N;H++){Mt=[],Se=Ne;do{Mt.push(xe.subtract(ee.elements[H][Dt=Ne-Se].clone(),xe.multiply(ee.elements[N][Dt].clone(),ee.elements[H][N].clone())))}while(--Se);ee.elements[H]=Mt}}while(--p);return Fr.fromArray(Ln)},void 0,this)},toRightTriangular:function(){return yn("SAFE",function(){var B,H,Se,Ne,Mt,p=this.clone(),j=this.elements.length,ee=j,Dt=this.elements[0].length;do{if(0===p.elements[Se=ee-j][Se].valueOf())for(var xt=Se+1;xt<ee;xt++)if((H=p.elements[xt][Se])&&0!==H.valueOf()){B=[],Ne=Dt;do{B.push(xe.add(p.elements[Se][Mt=Dt-Ne].clone(),p.elements[xt][Mt].clone()))}while(--Ne);p.elements[Se]=B;break}if(0!==p.elements[Se][Se].valueOf())for(xt=Se+1;xt<ee;xt++){var Ln=xe.divide(p.elements[xt][Se].clone(),p.elements[Se][Se].clone());B=[],Ne=Dt;do{B.push((Mt=Dt-Ne)<=Se?new pe(0):xe.subtract(p.elements[xt][Mt].clone(),xe.multiply(p.elements[Se][Mt].clone(),Ln.clone())))}while(--Ne);p.elements[xt]=B}}while(--j);return p},void 0,this)},transpose:function(){var j,ee,Se,p=this.elements.length,B=this.elements[0].length,N=new Fr,H=B;do{N.elements[j=B-H]=[],ee=p;do{N.elements[j][Se=p-ee]=this.elements[Se][j].clone()}while(--ee)}while(--H);return N},canMultiplyFromLeft:function(p){var B=Nn(p)?p.elements.length:p.length;return this.elements[0].length===B},sameSize:function(p){return this.rows()===p.rows()&&this.cols()===p.cols()},multiply:function(p){return yn("SAFE",function(){var B=p.elements||p;if(!this.canMultiplyFromLeft(B)){if(this.sameSize(p)){for(var N=new Fr,H=this.rows(),Ne=0;Ne<H;Ne++){var j=xe.multiply(new Ti(this.elements[Ne]),new Ti(p.elements[Ne]));N.elements[Ne]=j.elements}return N}return null}var Dt,xt,_n,rr,yr,ee=this.elements.length,Se=ee,Mt=B[0].length,Ln=this.elements[0].length,nn=[];do{nn[Ne=Se-ee]=[],Dt=Mt;do{xt=Mt-Dt,_n=new pe(0),rr=Ln;do{_n=xe.add(_n,xe.multiply(this.elements[Ne][yr=Ln-rr],B[yr][xt]))}while(--rr);nn[Ne][xt]=_n}while(--Dt)}while(--ee);return Fr.fromArray(nn)},void 0,this)},add:function(p,B){var N=new Fr;return this.sameSize(p)&&this.eachElement(function(H,j,ee){var Se=xe.add(H.clone(),p.elements[j][ee].clone());B&&(Se=B.call(N,Se,H,p.elements[j][ee])),N.set(j,ee,Se)}),N},subtract:function(p,B){var N=new Fr;return this.sameSize(p)&&this.eachElement(function(H,j,ee){var Se=xe.subtract(H.clone(),p.elements[j][ee].clone());B&&(Se=B.call(N,Se,H,p.elements[j][ee])),N.set(j,ee,Se)}),N},negate:function(){return this.each(function(p){return p.negate()}),this},toVector:function(){if(1===this.rows()||1===this.cols()){var p=new Ti;return p.elements=this.elements,p}return this},toString:function(p,B){var N=this.rows(),H=[];p=void 0===p?"\n":p;for(var j=0;j<N;j++)H.push("["+this.elements[j].map(function(ee){var Se=B?ee.multiplier.toDecimal():ee.toString();return void 0!==ee?Se:""}).join(",")+"]");return"matrix"+Ct(H.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(p){var B=this.cols(),N=this.elements;return an("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var H=[];for(var j in N){for(var ee=[],Se=0;Se<B;Se++)ee.push(Er.latex.call(Er,N[j][Se],p));H.push(ee.join(" & "))}return H.join(" \\cr ")})}}).each=Fr.prototype.eachElement,gn.fromArray=function(p){function B(N){return gn.apply(this,N)}return B.prototype=gn.prototype,new B(p)},gn.prototype={add:function(p){this.contains(p)||this.elements.push(p.clone())},contains:function(p){for(var B=0;B<this.elements.length;B++)if(p.equals(this.elements[B]))return!0;return!1},each:function(p){for(var B=this.elements,N=new gn,H=0,j=B.length;H<j;H++)p.call(this,B[H],N,H);return N},clone:function(){var p=new gn;return this.each(function(B){p.add(B.clone())}),p},union:function(p){var B=this.clone();return p.each(function(N){B.add(N)}),B},difference:function(p){var B=this.clone();return p.each(function(N){B.remove(N)}),B},remove:function(p){for(var B=0,N=this.elements.length;B<N;B++)if(this.elements[B].equals(p))return Qr(this.elements,B),!0;return!1},intersection:function(p){var B=new gn,N=this;return p.each(function(H){N.contains(H)&&B.add(H)}),B},intersects:function(p){return this.intersection(p).elements.length>0},is_subset:function(p){for(var B=p.elements,N=0,H=B.length;N<H;N++)if(!this.contains(B[N]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var wl={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":jn.gamma},gamma_incomplete:{"Math2.factorial":jn.factorial},Li:{"Math2.Ei":jn.Ei,"Math2.bigLog":jn.bigLog,Frac:un},Ci:{"Math2.factorial":jn.factorial},Ei:{"Math2.factorial":jn.factorial},Si:{"Math2.factorial":jn.factorial},Shi:{"Math2.factorial":jn.factorial},Chi:{isInt:qe,nround:at,"Math2.num_integrate":jn.num_integrate},factor:{"Math2.ifactor":jn.ifactor,Symbol:pe},num_integrate:{"Math2.simpson":jn.simpson,nround:at},fib:{even:sn}},reformat:{diff:function(p,B){var N=p.args[1].toString(),H="var f = "+wl.build(p.args[0].toString(),[N])+";";return B[1]+="var diff = "+jn.diff.toString()+";",B[1]+=H,["diff(f)("+N+")",B]}},getProperName:function(p){return{continued_fraction:"continuedFraction"}[p]||p},compileDependencies:function(p,B){var N=wl.dependencies[p],H=B&&B[1]?B[1]:"",j=B&&B[0]?B[0]:{};for(var ee in N)if("object"!=typeof N[ee]){var Se=ee.split(".");H+="var "+(Se.length>1?Se[1]:Se[0])+"="+N[ee]+";",j[ee]=Se.pop()}return[j,H]},getArgsDeps:function(p,B){for(var N=p.args,H=0;H<N.length;H++)p.args[H].each(function(j){j.group===rn&&(B=wl.compileDependencies(j.fname,B))});return B},build:function(p,B){p=yn("PARSE2NUMBER",function(){return xe.parse(p)},!0);var N=qn(p),H=[],j=[],ee=function(xt,Ln){""===xt.fname&&(xt=pe.unwrapPARENS(xt)),Ln=Ln||[];var Wr,nn=[],_n=xt.group,rr="",yr=function(vi){var Jr=vi===ze?"*":"+",ga=[];for(var xo in xt.symbols){var ci=xt.symbols[xo],Br=ee(ci,Ln)[0];ci.isComposite()&&(Br=Ct(Br)),ga.push(Br)}var Fs=ga.join(Jr);return Fs&&!xt.multiplier.equals(1)?Ct(Fs):Fs},ui=function(vi){var Jr;return vi in Math?Jr="Math."+vi:(vi=wl.getProperName(vi),-1===H.indexOf(vi)&&(Ln.push("var "+vi+" = "+jn[vi].toString()+"; "),H.push(vi)),Jr=vi),Jr+Ct(xt.args.map(function(ga){return ee(ga,Ln)[0]}).join(","))};if(_n===_t?nn.push(xt.multiplier.toDecimal()):xt.multiplier.equals(-1)?rr="-":xt.multiplier.equals(1)||nn.push(xt.multiplier.toDecimal()),_n===Lt||_n===Xn)Wr=xt.value;else if(_n===rn)if(j=wl.compileDependencies(xt.fname,j),j=wl.getArgsDeps(xt,j),wl.reformat[xt.fname]){var Nr=wl.reformat[xt.fname](xt,j);j=Nr[1],Wr=Nr[0]}else Wr=ui(xt.fname);else if(_n===mn){var zi=xt.previousGroup;zi===_t||zi===Lt?Wr=xt.value:zi===rn?(Wr=ui(xt.fname),j=wl.compileDependencies(xt.fname,j),j=wl.getArgsDeps(xt,j)):Wr=yr(xt.previousGroup)}else Wr=yr(xt.group);if(xt.group!==_t&&!xt.power.equals(1)){var Ds=ee(xe.parse(xt.power));Ln.push(Ds[1]),Wr="Math.pow"+Ct(Wr+","+Ds[0])}return Wr&&nn.push(rr+Wr),[nn.join("*"),Ln.join("").replace(/\n+\s+/g," ")]};B&&(N=B);var Se=ee(p);for(var Ne in j[0]){var Dt=j[0][Ne];Se[1]=Se[1].replace(Ne,Dt),j[1]=j[1].replace(Ne,Dt)}return new Function(N,(j[1]||"")+Se[1]+" return "+Se[0]+";")}};zn(xe.CONSTANTS),zn(xe.functions),xe.initConstants(),xe.error||(xe.error=re),ve.LOG_FNS={log:xe.functions.log,log10:xe.functions.log10};var wi={allSame:Te,allNumeric:function(p){for(var B=0;B<p.length;B++)if(!Gt(p[B]))return!1;return!0},arguments2Array:qr,arrayAddSlices:function(p,B){B=B||20;var H,ee,N=[];N.push(p[0]);for(var Se=0;Se<p.length-1;Se++){ee=(p[Se+1]-(H=p[Se]))/B;for(var Ne=0;Ne<B;Ne++)N.push(H+=ee)}return N},arrayClone:function(p){for(var B=[],N=p.length,H=0;H<N;H++)B[H]=p[H].clone();return B},arrayMax:function(p){return Math.max.apply(void 0,p)},arrayMin:nt,arrayEqual:function(p,B){if(p.sort(),B.sort(),p.length===B.length){for(var N=0;N<p.length;N++)if(p[N]!==B[N])return!1;return!0}return!1},arrayUnique:Dn,arrayGetVariables:function(p){for(var B=qn(p[0],null,null,!0),N=1,H=p.length;N<H;N++)B=B.concat(qn(p[N]));return Dn(B).sort()},arraySum:function(p,B){for(var N=new pe(0),H=0;H<p.length;H++){var j=p[H];N=xe.add(N,At(j)?j:xe.parse(j))}return B?Number(N):N},block:yn,build:wl.build,clearU:function(p){var B=P.indexOf(p);-1!==B&&(P[B]=void 0)},comboSort:function(p,B){for(var N=p.length,H=[],j=0;j<p.length;j++)H.push([p[j],B[j]]);H.sort(function(Ne,Dt){return Ne[0]-Dt[0]});var ee=[],Se=[];for(j=0;j<N;j++)ee.push(H[j][0]),Se.push(H[j][1]);return[ee,Se]},compare:function(p,B,N){for(var ee,j={},Se=0;Se<N.length;Se++)j[N[Se]]=new pe(Math.floor(5*Math.random())+1);return yn("PARSE2NUMBER",function(){ee=xe.parse(p,j).equals(xe.parse(B,j))}),ee},convertToVector:Vr,customError:ce,customType:function(p){return void 0!==p&&p.custom},decompose_fn:vt,each:Jt,evaluate:tn,even:sn,evenFraction:Jn,fillHoles:function(p,B){B=B||p.length;for(var N=0;N<B;N++)p[N]||(p[N]=new pe(0));return p},firstObject:we,format:an,generatePrimes:Sr,getCoeffs:function(p,B,N){var H=[];p.each(function(ee){if(ee.contains(B))var Se=ee.stripVar(B),Dt=xe.divide(ee.clone(),Se.clone()).power.toDecimal();else Se=ee,Dt=0;var Mt=H[Dt];H[Dt]=Mt?xe.add(Mt,Se):Se},!0);for(var j=0;j<H.length;j++)H[j]||(H[j]=new pe(0));return H},getU:function(p){for(var N="u",H=0,j=qn(p);-1!==P.indexOf(N)||-1!==j.indexOf(N);)N="u"+H++;for(var ee=0,Se=P.length;ee<=Se;ee++)if(!P[ee]){P[ee]=N;break}return N},importFunctions:function(){var p={};for(var B in xe.functions)p[B]=xe.functions[B][0];return p},inBrackets:Ct,isArray:Fe,isExpression:nr,isFraction:Tn,isInt:qe,isMatrix:Nn,isNegative:Ue,isNumericSymbol:Lr,isPrime:Bt,isReserved:ye,isSymbol:At,isVariableSymbol:function(p){return p.group===Lt&&p.multiplier.equals(1)&&p.power.equals(1)},isVector:cn,keys:ue,knownVariable:function(p,B){var N={};return N[p]=B,N},nroots:function(p){var B,N;if(p.group===rn&&""===p.fname?(B=pe.unwrapPARENS(xe.parse(p).toLinear()),N=xe.parse(p.power)):p.group===Xn&&(B=xe.parse(p.value),N=xe.parse(p.power)),B&&N&&B.group===_t&&N.group===_t&&B.multiplier.isNegative()){for(var H=[],ee=pe.toPolarFormArray(tn(p))[0],Se=xe.arg(B),Ne=N.multiplier.den.toString(),Dt=N.multiplier.num.toString(),xt=0;xt<Ne;xt++){var Ln=tn(xe.parse(an("(({0})+2*pi*({1}))/({2})",Se,xt,Ne))).multiplier.toDecimal();H.push(tn(xe.parse(an("(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",ee,Ne,ve.IMAGINARY,Ln,Dt))))}return Ti.fromArray(H)}if(p.isConstant(!0,!0)){var nn=p.sign(),_n=(Se=tn(p.abs()),xe.sqrt(Se));H=[_n.clone(),_n.negate()],nn<0&&(H=H.map(function(ui){return xe.multiply(ui,pe.imaginary())}))}else H=[xe.parse(p)];return Ti.fromArray(H)},remove:Qr,reserveNames:zn,range:function(p,B,N){var H=[];N=N||1;for(var j=p;j<=B;j++)H.push(j*N);return H},round:at,sameSign:function(p,B){return p<0==B<0},scientificToDecimal:Ke,separate:Ur,stringReplace:function(p,B,N,H){return p.substr(0,B)+H+p.substr(N,p.length)},text:On,validateName:Pe,variables:qn,warn:Me},Xa={groups:Hn,Symbol:pe,Expression:ls,Frac:un,Vector:Ti,Matrix:Fr,Parser:Ji,Scientific:Xi,Fraction:li,Math2:jn,LaTeX:Er,Utils:wi,PARSER:xe,PARENTHESIS:Yr,Settings:ve,err:re,bigInt:Tt,bigDec:Vn,exceptions:Ui},Rr=function(p,B,N,H){var j=!1,ee=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(p);if(ee)return M.setFunction(ee[1],ee[2].split(","),ee[3]);p instanceof ls&&(p=p.toString()),Fe(N)||(N=void 0===N?[]:[N]),N.forEach(function(Ne){if("numer"!==Ne){var Dt=xe.functions[N];Dt&&1===Dt[1]&&(p=`${Ne}(${p})`)}else j=!0});var Se=yn("PARSE2NUMBER",function(){return xe.parse(p,B)},j||ve.PARSE2NUMBER);return H?F[H-1]=Se:F.push(Se),new ls(Se)};return Rr.rpn=function(p){return xe.tokenize(xe.toRPN(p))},Rr.convertToLaTeX=function(p,B){return xe.toTeX(p,B)},Rr.convertFromLaTeX=function(p){var B=Er.parse(xe.tokenize(p));return new ls(xe.parse(B))},Rr.version=function(p){if(p)try{return Xa[p].version}catch{return"No module named "+p+" found!"}return"1.1.13"},Rr.getWarnings=function(){return q},Rr.setConstant=function(p,B){if(Pe(p),!ye(p))if("delete"===B||""===B)delete xe.CONSTANTS[p];else{if(isNaN(B))throw new ke("Constant must be a number!");xe.CONSTANTS[p]=B}return this},Rr.getConstant=function(p){return String(xe.constant[p])},Rr.setFunction=Ye,Rr.getCore=function(){return Xa},Rr.getExpression=Rr.getEquation=ls.getExpression,Rr.reserved=function(p){return p?P:P.join(", ")},Rr.clear=function(p,B){if("all"===p)F=[];else if("last"===p)F.pop();else if("first"===p)F.shift();else{var N=p?p-1:F.length;!0===B?F[N]=void 0:Qr(F,N)}return this},Rr.flush=function(){return this.clear("all"),this},Rr.expressions=function(p,B,N){for(var H=p?{}:[],j=0;j<F.length;j++){var ee=B?Er.latex(F[j],N):On(F[j],N);p?H[j+1]=ee:H.push(ee)}return H},Rr.register=function(p){var B=this.getCore();if(Fe(p))for(var N=0;N<p.length;N++)p&&this.register(p[N]);else if(p&&-1===ve.exclude.indexOf(p.name)){if(p.dependencies)for(N=0;N<p.dependencies.length;N++)if(!B[p.dependencies[N]])throw new Error(an("{0} requires {1} to be loaded!",p.name,p.dependencies[N]));var H=p.parent,j=p.build.call(B);H&&(B[H]||(B[p.parent]={}),("nerdamer"===H?this:B[H])[p.name]=j),p.visible&&(xe.functions[p.name]=[j,p.numargs])}},Rr.validateName=Pe,Rr.validVarName=function(p){try{return Pe(p),-1===P.indexOf(p)}catch{return!1}},Rr.supported=function(){return ue(xe.functions)},Rr.numEquations=Rr.numExpressions=function(){return F.length},Rr.setVar=function(p,B){return Pe(p),p in xe.CONSTANTS&&re("Cannot set value for constant "+p),"delete"===B||""===B?delete O[p]:O[p]=At(B)?B:xe.parse(B),this},Rr.getVar=function(p){return O[p]},Rr.clearVars=function(){return O={},this},Rr.load=function(p){return p.call(this),this},Rr.getVars=function(p,B){var N={};if("object"===(p=p||"text"))N=O;else for(var H in O)"latex"===p?N[H]=O[H].latex(B):"text"===p&&(N[H]=O[H].text(B));return N},Rr.set=function(p,B){if("object"==typeof p)for(var N in p)Rr.set(N,p[N]);-1!==["SAFE"].indexOf(p)&&re("Cannot modify setting: "+p),"PRECISION"===p?(Vn.set({precision:B}),ve.PRECISION=B,B>21&&this.set("USE_BIG",!0)):"USE_LN"===p&&!0===B?(ve.LOG="LN",ve.LOG10="log",xe.functions.log=ve.LOG_FNS.log10,xe.functions.log[0]=function(j){return j.isConstant()?new pe(Math.log10(j)):xe.symfunction(ve.LOG10,[j])},xe.functions.LN=ve.LOG_FNS.log,delete xe.functions.log10):ve[p]=B},Rr.get=function(p){return ve[p]},Rr.updateAPI=function(p){var B=function(H){return function(){for(var j=[].slice.call(arguments),ee=0;ee<j.length;ee++)j[ee]=xe.parse(j[ee]);return new ls(yn("PARSE2NUMBER",function(){return xe.callfunction(H,j)}))}};for(var N in xe.functions)(!(N in Rr)||p)&&(Rr[N]=B(N))},Rr.replaceFunction=function(p,B,N){var H=xe.functions[p],j=void 0===N?H[1]:N;xe.functions[p]=[B.call(void 0,H[0],Xa),j]},Rr.setOperator=function(p,B){xe.setOperator(p,B)},Rr.getOperator=function(p){return xe.getOperator(p)},Rr.aliasOperator=function(p,B){xe.aliasOperator(p,B)},Rr.tree=function(p){return xe.tree(xe.toRPN(xe.tokenize(p)))},Rr.htmlTree=function(p,B){return'<div class="tree">\n    <ul>\n        <li>\n'+this.tree(p).toHTML(3,B)+"\n        </li>\n    </ul>\n</div>"},Rr.addPeeker=function(p,B){xe.peekers[p]&&xe.peekers[p].push(B)},Rr.removePeeker=function(p,B){Qr(xe.peekers[p],B)},Rr.parse=function(p){return String(p).split(";").map(function(B){return xe.parse(B)})},Rr.updateAPI(),Rr}({bigInt:(Dr=function(kr){"use strict";var xe=1e7,Vn=9007199254740992,Hn=Lt(Vn),Pr=Math.log(Vn);function Nt(L,ue){return void 0===L?Nt[0]:void 0!==ue?10==+ue?Le(L):Fe(L,ue):Le(L)}function ve(L,ue){this.value=L,this.sign=ue,this.isSmall=!1}function _t(L){this.value=L,this.sign=L<0,this.isSmall=!0}function Xn(L){return-Vn<L&&L<Vn}function Lt(L){return L<1e7?[L]:L<1e14?[L%1e7,Math.floor(L/1e7)]:[L%1e7,Math.floor(L/1e7)%1e7,Math.floor(L/1e14)]}function mn(L){rn(L);var ue=L.length;if(ue<4&&Ke(L,Hn)<0)switch(ue){case 0:return 0;case 1:return L[0];case 2:return L[0]+L[1]*xe;default:return L[0]+(L[1]+L[2]*xe)*xe}return L}function rn(L){for(var ue=L.length;0===L[--ue];);L.length=ue+1}function vn(L){for(var ue=new Array(L),we=-1;++we<L;)ue[we]=0;return ue}function ze(L){return L>0?Math.floor(L):Math.ceil(L)}function Kt(L,ue){var bt,dt,we=L.length,Qe=ue.length,Ye=new Array(we),he=0,nt=xe;for(dt=0;dt<Qe;dt++)Ye[dt]=(bt=L[dt]+ue[dt]+he)-(he=bt>=nt?1:0)*nt;for(;dt<we;)bt=L[dt]+he,Ye[dt++]=bt-(he=bt===nt?1:0)*nt;return he>0&&Ye.push(he),Ye}function Wn(L,ue){return L.length>=ue.length?Kt(L,ue):Kt(ue,L)}function Yr(L,ue){var he,nt,we=L.length,Qe=new Array(we),Ye=xe;for(nt=0;nt<we;nt++)he=L[nt]-Ye+ue,ue=Math.floor(he/Ye),Qe[nt]=he-ue*Ye,ue+=1;for(;ue>0;)Qe[nt++]=ue%Ye,ue=Math.floor(ue/Ye);return Qe}function Cn(L,ue){var bt,dt,we=L.length,Qe=ue.length,Ye=new Array(we),he=0;for(bt=0;bt<Qe;bt++)(dt=L[bt]-he-ue[bt])<0?(dt+=1e7,he=1):he=0,Ye[bt]=dt;for(bt=Qe;bt<we;bt++){if(!((dt=L[bt]-he)<0)){Ye[bt++]=dt;break}Ye[bt]=dt+=1e7}for(;bt<we;bt++)Ye[bt]=L[bt];return rn(Ye),Ye}function Mn(L,ue,we){var bt,dt,Qe=L.length,Ye=new Array(Qe),he=-ue,nt=xe;for(bt=0;bt<Qe;bt++)dt=L[bt]+he,he=Math.floor(dt/nt),Ye[bt]=(dt%=nt)<0?dt+nt:dt;return"number"==typeof(Ye=mn(Ye))?(we&&(Ye=-Ye),new _t(Ye)):new ve(Ye,we)}function Je(L,ue){var bt,dt,ct,ht,we=L.length,Qe=ue.length,he=vn(we+Qe);for(ct=0;ct<we;++ct){ht=L[ct];for(var vt=0;vt<Qe;++vt)bt=ht*ue[vt]+he[ct+vt],dt=Math.floor(bt/1e7),he[ct+vt]=bt-1e7*dt,he[ct+vt+1]+=dt}return rn(he),he}function F(L,ue){var nt,bt,we=L.length,Qe=new Array(we),Ye=xe,he=0;for(bt=0;bt<we;bt++)nt=L[bt]*ue+he,he=Math.floor(nt/Ye),Qe[bt]=nt-he*Ye;for(;he>0;)Qe[bt++]=he%Ye,he=Math.floor(he/Ye);return Qe}function O(L,ue){for(var we=[];ue-- >0;)we.push(0);return we.concat(L)}function P(L,ue){var we=Math.max(L.length,ue.length);if(we<=30)return Je(L,ue);we=Math.ceil(we/2);var Qe=L.slice(we),Ye=L.slice(0,we),he=ue.slice(we),nt=ue.slice(0,we),bt=P(Ye,nt),dt=P(Qe,he),ct=P(Wn(Ye,Qe),Wn(nt,he)),ht=Wn(Wn(bt,O(Cn(Cn(ct,bt),dt),we)),O(dt,2*we));return rn(ht),ht}function re(L,ue,we){return new ve(L<xe?F(ue,L):Je(ue,Lt(L)),we)}function ce(L){var Ye,he,nt,bt,ue=L.length,we=vn(ue+ue);for(nt=0;nt<ue;nt++){he=0-(bt=L[nt])*bt;for(var ct=nt;ct<ue;ct++)Ye=bt*L[ct]*2+we[nt+ct]+he,he=Math.floor(Ye/1e7),we[nt+ct]=Ye-1e7*he;we[nt+ue]=he}return rn(we),we}function Me(L,ue){var he,nt,bt,dt,we=L.length,Qe=vn(we);for(bt=0,he=we-1;he>=0;--he)bt=(dt=1e7*bt+L[he])-(nt=ze(dt/ue))*ue,Qe[he]=0|nt;return[Qe,0|bt]}function Pe(L,ue){var we,nt,Qe=Le(ue),Ye=L.value,he=Qe.value;if(0===he)throw new Error("Cannot divide by zero");if(L.isSmall)return Qe.isSmall?[new _t(ze(Ye/he)),new _t(Ye%he)]:[Nt[0],L];if(Qe.isSmall){if(1===he)return[L,Nt[0]];if(-1==he)return[L.negate(),Nt[0]];var bt=Math.abs(he);if(bt<xe){nt=mn((we=Me(Ye,bt))[0]);var dt=we[1];return L.sign&&(dt=-dt),"number"==typeof nt?(L.sign!==Qe.sign&&(nt=-nt),[new _t(nt),new _t(dt)]):[new ve(nt,L.sign!==Qe.sign),new _t(dt)]}he=Lt(bt)}var ct=Ke(Ye,he);if(-1===ct)return[Nt[0],L];if(0===ct)return[Nt[L.sign===Qe.sign?1:-1],Nt[0]];we=Ye.length+he.length<=200?function ye(L,ue){var ht,It,vt,at,lt,Wt,Jt,we=L.length,Qe=ue.length,Ye=xe,he=vn(ue.length),nt=ue[Qe-1],bt=Math.ceil(Ye/(2*nt)),dt=F(L,bt),ct=F(ue,bt);for(dt.length<=we&&dt.push(0),ct.push(0),nt=ct[Qe-1],It=we-Qe;It>=0;It--){for(ht=Ye-1,dt[It+Qe]!==nt&&(ht=Math.floor((dt[It+Qe]*Ye+dt[It+Qe-1])/nt)),vt=0,at=0,Wt=ct.length,lt=0;lt<Wt;lt++)vt+=ht*ct[lt],Jt=Math.floor(vt/Ye),at+=dt[It+lt]-(vt-Jt*Ye),vt=Jt,at<0?(dt[It+lt]=at+Ye,at=-1):(dt[It+lt]=at,at=0);for(;0!==at;){for(ht-=1,vt=0,lt=0;lt<Wt;lt++)(vt+=dt[It+lt]-Ye+ct[lt])<0?(dt[It+lt]=vt+Ye,vt=0):(dt[It+lt]=vt,vt=1);at+=vt}he[It]=ht}return dt=Me(dt,bt)[0],[mn(he),mn(dt)]}(Ye,he):function Te(L,ue){for(var bt,dt,ct,It,we=L.length,Qe=ue.length,Ye=[],he=[],nt=xe;we;)if(he.unshift(L[--we]),rn(he),Ke(he,ue)<0)Ye.push(0);else{ct=he[(dt=he.length)-1]*nt+he[dt-2],dt>Qe&&(ct=(ct+1)*nt),bt=Math.ceil(ct/(ue[Qe-1]*nt+ue[Qe-2]));do{if(Ke(It=F(ue,bt),he)<=0)break;bt--}while(bt);Ye.push(bt),he=Cn(he,It)}return Ye.reverse(),[mn(Ye),mn(he)]}(Ye,he);var ht=L.sign!==Qe.sign,It=we[1],vt=L.sign;return"number"==typeof(nt=we[0])?(ht&&(nt=-nt),nt=new _t(nt)):nt=new ve(nt,ht),"number"==typeof It?(vt&&(It=-It),It=new _t(It)):It=new ve(It,vt),[nt,It]}function Ke(L,ue){if(L.length!==ue.length)return L.length>ue.length?1:-1;for(var we=L.length-1;we>=0;we--)if(L[we]!==ue[we])return L[we]>ue[we]?1:-1;return 0}function Bt(L){var ue=L.abs();return!ue.isUnit()&&(!!(ue.equals(2)||ue.equals(3)||ue.equals(5))||!(ue.isEven()||ue.isDivisibleBy(3)||ue.isDivisibleBy(5))&&(!!ue.lesser(49)||void 0))}function St(L,ue){for(var he,bt,dt,we=L.prev(),Qe=we,Ye=0;Qe.isEven();)Qe=Qe.divide(2),Ye++;e:for(bt=0;bt<ue.length;bt++)if(!L.lesser(ue[bt])&&(dt=Dr(ue[bt]).modPow(Qe,L),!dt.equals(Nt[1])&&!dt.equals(we))){for(he=Ye-1;0!=he;he--){if((dt=dt.square().mod(L)).isUnit())return!1;if(dt.equals(we))continue e}return!1}return!0}ve.prototype=Object.create(Nt.prototype),_t.prototype=Object.create(Nt.prototype),ve.prototype.add=function(L){var ue=Le(L);if(this.sign!==ue.sign)return this.subtract(ue.negate());var we=this.value,Qe=ue.value;return new ve(ue.isSmall?Yr(we,Math.abs(Qe)):Wn(we,Qe),this.sign)},ve.prototype.plus=ve.prototype.add,_t.prototype.add=function(L){var ue=Le(L),we=this.value;if(we<0!==ue.sign)return this.subtract(ue.negate());var Qe=ue.value;if(ue.isSmall){if(Xn(we+Qe))return new _t(we+Qe);Qe=Lt(Math.abs(Qe))}return new ve(Yr(Qe,Math.abs(we)),we<0)},_t.prototype.plus=_t.prototype.add,ve.prototype.subtract=function(L){var ue=Le(L);if(this.sign!==ue.sign)return this.add(ue.negate());var we=this.value,Qe=ue.value;return ue.isSmall?Mn(we,Math.abs(Qe),this.sign):function Gr(L,ue,we){var Qe;return Ke(L,ue)>=0?Qe=Cn(L,ue):(Qe=Cn(ue,L),we=!we),"number"==typeof(Qe=mn(Qe))?(we&&(Qe=-Qe),new _t(Qe)):new ve(Qe,we)}(we,Qe,this.sign)},ve.prototype.minus=ve.prototype.subtract,_t.prototype.subtract=function(L){var ue=Le(L),we=this.value;if(we<0!==ue.sign)return this.add(ue.negate());var Qe=ue.value;return ue.isSmall?new _t(we-Qe):Mn(Qe,Math.abs(we),we>=0)},_t.prototype.minus=_t.prototype.subtract,ve.prototype.negate=function(){return new ve(this.value,!this.sign)},_t.prototype.negate=function(){var L=this.sign,ue=new _t(-this.value);return ue.sign=!L,ue},ve.prototype.abs=function(){return new ve(this.value,!1)},_t.prototype.abs=function(){return new _t(Math.abs(this.value))},ve.prototype.multiply=function(L){var he,ue=Le(L),we=this.value,Qe=ue.value,Ye=this.sign!==ue.sign;if(ue.isSmall){if(0===Qe)return Nt[0];if(1===Qe)return this;if(-1===Qe)return this.negate();if((he=Math.abs(Qe))<xe)return new ve(F(we,he),Ye);Qe=Lt(he)}return function q(L,ue){return-.012*L-.012*ue+15e-6*L*ue>0}(we.length,Qe.length)?new ve(P(we,Qe),Ye):new ve(Je(we,Qe),Ye)},ve.prototype.times=ve.prototype.multiply,_t.prototype._multiplyBySmall=function(L){return Xn(L.value*this.value)?new _t(L.value*this.value):re(Math.abs(L.value),Lt(Math.abs(this.value)),this.sign!==L.sign)},ve.prototype._multiplyBySmall=function(L){return 0===L.value?Nt[0]:1===L.value?this:-1===L.value?this.negate():re(Math.abs(L.value),this.value,this.sign!==L.sign)},_t.prototype.times=_t.prototype.multiply=function(L){return Le(L)._multiplyBySmall(this)},ve.prototype.square=function(){return new ve(ce(this.value),!1)},_t.prototype.square=function(){var L=this.value*this.value;return Xn(L)?new _t(L):new ve(ce(Lt(Math.abs(this.value))),!1)},_t.prototype.divmod=ve.prototype.divmod=function(L){var ue=Pe(this,L);return{quotient:ue[0],remainder:ue[1]}},_t.prototype.over=_t.prototype.divide=ve.prototype.over=ve.prototype.divide=function(L){return Pe(this,L)[0]},_t.prototype.remainder=_t.prototype.mod=ve.prototype.remainder=ve.prototype.mod=function(L){return Pe(this,L)[1]},ve.prototype.pow=function(L){var Ye,he,nt,ue=Le(L),we=this.value,Qe=ue.value;if(0===Qe)return Nt[1];if(0===we)return Nt[0];if(1===we)return Nt[1];if(-1===we)return ue.isEven()?Nt[1]:Nt[-1];if(ue.sign)return Nt[0];if(!ue.isSmall)throw new Error("The exponent "+ue.toString()+" is too large.");if(this.isSmall&&Xn(Ye=Math.pow(we,Qe)))return new _t(ze(Ye));for(he=this,nt=Nt[1];!0&Qe&&(nt=nt.times(he),--Qe),0!==Qe;)Qe/=2,he=he.square();return nt},_t.prototype.pow=ve.prototype.pow,_t.prototype.modPow=ve.prototype.modPow=function(L,ue){if(L=Le(L),(ue=Le(ue)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var we=Nt[1],Qe=this.mod(ue);L.isPositive();){if(Qe.isZero())return Nt[0];L.isOdd()&&(we=we.multiply(Qe).mod(ue)),L=L.divide(2),Qe=Qe.square().mod(ue)}return we},ve.prototype.compareAbs=function(L){var ue=Le(L);return ue.isSmall?1:Ke(this.value,ue.value)},_t.prototype.compareAbs=function(L){var ue=Le(L),we=Math.abs(this.value),Qe=ue.value;return ue.isSmall?we===(Qe=Math.abs(Qe))?0:we>Qe?1:-1:-1},ve.prototype.compareTo=ve.prototype.compare=function(L){if(L===1/0)return-1;if(L===-1/0)return 1;var ue=Le(L);return this.sign!==ue.sign?ue.sign?1:-1:ue.isSmall?this.sign?-1:1:Ke(this.value,ue.value)*(this.sign?-1:1)},_t.prototype.compareTo=_t.prototype.compare=function(L){if(L===1/0)return-1;if(L===-1/0)return 1;var ue=Le(L),we=this.value,Qe=ue.value;return ue.isSmall?we==Qe?0:we>Qe?1:-1:we<0!==ue.sign?we<0?-1:1:we<0?1:-1},_t.prototype.eq=_t.prototype.equals=ve.prototype.eq=ve.prototype.equals=function(L){return 0===this.compare(L)},_t.prototype.neq=_t.prototype.notEquals=ve.prototype.neq=ve.prototype.notEquals=function(L){return 0!==this.compare(L)},_t.prototype.gt=_t.prototype.greater=ve.prototype.gt=ve.prototype.greater=function(L){return this.compare(L)>0},_t.prototype.lt=_t.prototype.lesser=ve.prototype.lt=ve.prototype.lesser=function(L){return this.compare(L)<0},_t.prototype.geq=_t.prototype.greaterOrEquals=ve.prototype.geq=ve.prototype.greaterOrEquals=function(L){return this.compare(L)>=0},_t.prototype.leq=_t.prototype.lesserOrEquals=ve.prototype.leq=ve.prototype.lesserOrEquals=function(L){return this.compare(L)<=0},ve.prototype.isEven=function(){return 0==(1&this.value[0])},_t.prototype.isEven=function(){return 0==(1&this.value)},ve.prototype.isOdd=function(){return 1==(1&this.value[0])},_t.prototype.isOdd=function(){return 1==(1&this.value)},ve.prototype.isPositive=function(){return!this.sign},_t.prototype.isPositive=function(){return this.value>0},ve.prototype.isNegative=function(){return this.sign},_t.prototype.isNegative=function(){return this.value<0},ve.prototype.isUnit=function(){return!1},_t.prototype.isUnit=function(){return 1===Math.abs(this.value)},ve.prototype.isZero=function(){return!1},_t.prototype.isZero=function(){return 0===this.value},_t.prototype.isDivisibleBy=ve.prototype.isDivisibleBy=function(L){var ue=Le(L),we=ue.value;return 0!==we&&(1===we||(2===we?this.isEven():this.mod(ue).equals(Nt[0])))},_t.prototype.isPrime=ve.prototype.isPrime=function(L){var ue=Bt(this);if(ue!==kr)return ue;var we=this.abs(),Qe=we.bitLength();if(Qe<=64)return St(we,[2,325,9375,28178,450775,9780504,1795265022]);for(var Ye=Math.log(2)*Qe,he=Math.ceil(!0===L?2*Math.pow(Ye,2):Ye),nt=[],bt=0;bt<he;bt++)nt.push(Dr(bt+2));return St(we,nt)},_t.prototype.isProbablePrime=ve.prototype.isProbablePrime=function(L){var ue=Bt(this);if(ue!==kr)return ue;for(var we=this.abs(),Qe=L===kr?5:L,Ye=[],he=0;he<Qe;he++)Ye.push(Dr.randBetween(2,we.minus(2)));return St(we,Ye)},_t.prototype.modInv=ve.prototype.modInv=function(L){for(var he,nt,bt,ue=Dr.zero,we=Dr.one,Qe=Le(L),Ye=this.abs();!Ye.equals(Dr.zero);)he=Qe.divide(Ye),nt=ue,bt=Qe,ue=we,Qe=Ye,we=nt.subtract(he.multiply(we)),Ye=bt.subtract(he.multiply(Ye));if(!Qe.equals(1))throw new Error(this.toString()+" and "+L.toString()+" are not co-prime");return-1===ue.compare(0)&&(ue=ue.add(L)),this.isNegative()?ue.negate():ue},ve.prototype.next=function(){var L=this.value;return this.sign?Mn(L,1,this.sign):new ve(Yr(L,1),this.sign)},_t.prototype.next=function(){var L=this.value;return L+1<Vn?new _t(L+1):new ve(Hn,!1)},ve.prototype.prev=function(){var L=this.value;return this.sign?new ve(Yr(L,1),!0):Mn(L,1,this.sign)},_t.prototype.prev=function(){var L=this.value;return L-1>-Vn?new _t(L-1):new ve(Hn,!0)};for(var Gt=[1];2*Gt[Gt.length-1]<=xe;)Gt.push(2*Gt[Gt.length-1]);var pn=Gt.length,Tn=Gt[pn-1];function At(L){return("number"==typeof L||"string"==typeof L)&&+Math.abs(L)<=xe||L instanceof ve&&L.value.length<=1}function nr(L,ue,we){ue=Le(ue);for(var Qe=L.isNegative(),Ye=ue.isNegative(),he=Qe?L.not():L,nt=Ye?ue.not():ue,bt=0,dt=0,ct=null,ht=null,It=[];!he.isZero()||!nt.isZero();)bt=(ct=Pe(he,Tn))[1].toJSNumber(),Qe&&(bt=Tn-1-bt),dt=(ht=Pe(nt,Tn))[1].toJSNumber(),Ye&&(dt=Tn-1-dt),he=ct[0],nt=ht[0],It.push(we(bt,dt));for(var vt=0!==we(Qe?1:0,Ye?1:0)?Dr(-1):Dr(0),at=It.length-1;at>=0;at-=1)vt=vt.multiply(Tn).add(Dr(It[at]));return vt}_t.prototype.shiftLeft=ve.prototype.shiftLeft=function(L){if(!At(L))throw new Error(String(L)+" is too large for shifting.");if((L=+L)<0)return this.shiftRight(-L);var ue=this;if(ue.isZero())return ue;for(;L>=pn;)ue=ue.multiply(Tn),L-=pn-1;return ue.multiply(Gt[L])},_t.prototype.shiftRight=ve.prototype.shiftRight=function(L){var ue;if(!At(L))throw new Error(String(L)+" is too large for shifting.");if((L=+L)<0)return this.shiftLeft(-L);for(var we=this;L>=pn;){if(we.isZero()||we.isNegative()&&we.isUnit())return we;we=(ue=Pe(we,Tn))[1].isNegative()?ue[0].prev():ue[0],L-=pn-1}return(ue=Pe(we,Gt[L]))[1].isNegative()?ue[0].prev():ue[0]},_t.prototype.not=ve.prototype.not=function(){return this.negate().prev()},_t.prototype.and=ve.prototype.and=function(L){return nr(this,L,function(ue,we){return ue&we})},_t.prototype.or=ve.prototype.or=function(L){return nr(this,L,function(ue,we){return ue|we})},_t.prototype.xor=ve.prototype.xor=function(L){return nr(this,L,function(ue,we){return ue^we})};function Ur(L){var ue=L.value,we="number"==typeof ue?1073741824|ue:ue[0]+ue[1]*xe|1073758208;return we&-we}function ai(L,ue){if(ue.compareTo(L)<=0){var we=ai(L,ue.square(ue)),Qe=we.p,Ye=we.e,he=Qe.multiply(ue);return he.compareTo(L)<=0?{p:he,e:2*Ye+1}:{p:Qe,e:2*Ye}}return{p:Dr(1),e:0}}function cn(L,ue){return L=Le(L),ue=Le(ue),L.greater(ue)?L:ue}function Nn(L,ue){return L=Le(L),ue=Le(ue),L.lesser(ue)?L:ue}function zr(L,ue){if(L=Le(L).abs(),ue=Le(ue).abs(),L.equals(ue))return L;if(L.isZero())return ue;if(ue.isZero())return L;for(var Qe,Ye,we=Nt[1];L.isEven()&&ue.isEven();)Qe=Math.min(Ur(L),Ur(ue)),L=L.divide(Qe),ue=ue.divide(Qe),we=we.multiply(Qe);for(;L.isEven();)L=L.divide(Ur(L));do{for(;ue.isEven();)ue=ue.divide(Ur(ue));L.greater(ue)&&(Ye=ue,ue=L,L=Ye),ue=ue.subtract(L)}while(!ue.isZero());return we.isUnit()?L:L.multiply(we)}_t.prototype.bitLength=ve.prototype.bitLength=function(){var L=this;return L.compareTo(Dr(0))<0&&(L=L.negate().subtract(Dr(1))),0===L.compareTo(Dr(0))?Dr(0):Dr(ai(L,Dr(2)).e).add(Dr(1))};var Fe=function(L,ue){for(var we=L.length,Ye=Math.abs(ue),Qe=0;Qe<we;Qe++)if("-"!==(he=L[Qe].toLowerCase())&&/[a-z0-9]/.test(he)){if(/[0-9]/.test(he)&&+he>=Ye){if("1"===he&&1===Ye)continue;throw new Error(he+" is not a valid digit in base "+ue+".")}if(he.charCodeAt(0)-87>=Ye)throw new Error(he+" is not a valid digit in base "+ue+".")}if(2<=ue&&ue<=36&&we<=Pr/Math.log(ue)){var nt=parseInt(L,ue);if(isNaN(nt))throw new Error(he+" is not a valid digit in base "+ue+".");return new _t(parseInt(L,ue))}ue=Le(ue);var bt=[],dt="-"===L[0];for(Qe=dt?1:0;Qe<L.length;Qe++){var he,ct=(he=L[Qe].toLowerCase()).charCodeAt(0);if(48<=ct&&ct<=57)bt.push(Le(he));else if(97<=ct&&ct<=122)bt.push(Le(he.charCodeAt(0)-87));else{if("<"!==he)throw new Error(he+" is not a valid character");var ht=Qe;do{Qe++}while(">"!==L[Qe]);bt.push(Le(L.slice(ht+1,Qe)))}}return qe(bt,ue,dt)};function qe(L,ue,we){var he,Qe=Nt[0],Ye=Nt[1];for(he=L.length-1;he>=0;he--)Qe=Qe.add(L[he].times(Ye)),Ye=Ye.times(ue);return we?Qe.negate():Qe}function Ue(L){return L<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(L):"<"+L+">"}function pt(L,ue){if((ue=Dr(ue)).isZero()){if(L.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ue.equals(-1)){if(L.isZero())return{value:[0],isNegative:!1};if(L.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-L)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var we=Array.apply(null,Array(+L-1)).map(Array.prototype.valueOf,[0,1]);return we.unshift([1]),{value:[].concat.apply([],we),isNegative:!1}}var Qe=!1;if(L.isNegative()&&ue.isPositive()&&(Qe=!0,L=L.abs()),ue.equals(1))return L.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+L)).map(Number.prototype.valueOf,1),isNegative:Qe};for(var nt,Ye=[],he=L;he.isNegative()||he.compareAbs(ue)>=0;){nt=he.divmod(ue),he=nt.quotient;var bt=nt.remainder;bt.isNegative()&&(bt=ue.minus(bt).abs(),he=he.next()),Ye.push(bt.toJSNumber())}return Ye.push(he.toJSNumber()),{value:Ye.reverse(),isNegative:Qe}}function Ct(L,ue){var we=pt(L,ue);return(we.isNegative?"-":"")+we.value.map(Ue).join("")}function kt(L){if(Xn(+L)){var ue=+L;if(ue===ze(ue))return new _t(ue);throw new Error("Invalid integer: "+L)}var we="-"===L[0];we&&(L=L.slice(1));var Qe=L.split(/e/i);if(Qe.length>2)throw new Error("Invalid integer: "+Qe.join("e"));if(2===Qe.length){var Ye=Qe[1];if("+"===Ye[0]&&(Ye=Ye.slice(1)),(Ye=+Ye)!==ze(Ye)||!Xn(Ye))throw new Error("Invalid integer: "+Ye+" is not a valid exponent.");var he=Qe[0],nt=he.indexOf(".");if(nt>=0&&(Ye-=he.length-nt-1,he=he.slice(0,nt)+he.slice(nt+1)),Ye<0)throw new Error("Cannot include negative exponent part for integers");L=he+=new Array(Ye+1).join("0")}if(!/^([0-9][0-9]*)$/.test(L))throw new Error("Invalid integer: "+L);for(var dt=[],ct=L.length,It=ct-7;ct>0;)dt.push(+L.slice(It,ct)),(It-=7)<0&&(It=0),ct-=7;return rn(dt),new ve(dt,we)}function Le(L){return"number"==typeof L?function $e(L){if(Xn(L)){if(L!==ze(L))throw new Error(L+" is not an integer.");return new _t(L)}return kt(L.toString())}(L):"string"==typeof L?kt(L):L}ve.prototype.toArray=function(L){return pt(this,L)},_t.prototype.toArray=function(L){return pt(this,L)},ve.prototype.toString=function(L){if(L===kr&&(L=10),10!==L)return Ct(this,L);for(var he,ue=this.value,we=ue.length,Qe=String(ue[--we]);--we>=0;)he=String(ue[we]),Qe+="0000000".slice(he.length)+he;return(this.sign?"-":"")+Qe},_t.prototype.toString=function(L){return L===kr&&(L=10),10!=L?Ct(this,L):String(this.value)},ve.prototype.toJSON=_t.prototype.toJSON=function(){return this.toString()},ve.prototype.toJSNumber=ve.prototype.valueOf=function(){return parseInt(this.toString(),10)},_t.prototype.toJSNumber=_t.prototype.valueOf=function(){return this.value};for(var an=0;an<1e3;an++)Nt[an]=new _t(an),an>0&&(Nt[-an]=new _t(-an));return Nt.one=Nt[1],Nt.zero=Nt[0],Nt.minusOne=Nt[-1],Nt.max=cn,Nt.min=Nn,Nt.gcd=zr,Nt.lcm=function Lr(L,ue){return L=Le(L).abs(),ue=Le(ue).abs(),L.divide(zr(L,ue)).multiply(ue)},Nt.isInstance=function(L){return L instanceof ve||L instanceof _t},Nt.randBetween=function Re(L,ue){var we=Nn(L=Le(L),ue=Le(ue)),Ye=cn(L,ue).subtract(we).add(1);if(Ye.isSmall)return we.add(Math.floor(Math.random()*Ye));for(var nt=[],bt=!0,dt=Ye.value.length-1;dt>=0;dt--){var ct=bt?Ye.value[dt]:xe,ht=ze(Math.random()*ct);nt.unshift(ht),ht<ct&&(bt=!1)}return nt=mn(nt),we.add("number"==typeof nt?new _t(nt):new ve(nt,!1))},Nt.fromArray=function(L,ue,we){return qe(L.map(Le),Le(ue||10),we)},Nt}(),Ya.hasOwnProperty("exports")&&(Ya.exports=Dr),void 0!==(ie=function(){return Dr}.apply(Hl,[]))&&(Ya.exports=ie),Dr),bigDec:function(Dr){"use strict";var kr,xe,Vn,Hn=9e15,Pr=1e9,Nt="0123456789abcdef",ve="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",_t="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Xn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Hn,maxE:Hn,crypto:!1},Lt=!0,mn="[DecimalError] ",rn=mn+"Invalid argument: ",vn=mn+"Precision limit exceeded",ze=mn+"crypto unavailable",Kt=Math.floor,Wn=Math.pow,Yr=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Gr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Mn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Je=1e7,O=ve.length-1,P=_t.length-1,q={name:"[object Decimal]"};function re(G){var Z,Y,X,me=G.length-1,te="",_e=G[0];if(me>0){for(te+=_e,Z=1;Z<me;Z++)(Y=7-(X=G[Z]+"").length)&&(te+=Tn(Y)),te+=X;(Y=7-(X=(_e=G[Z])+"").length)&&(te+=Tn(Y))}else if(0===_e)return"0";for(;_e%10==0;)_e/=10;return te+_e}function ce(G,Z,Y){if(G!==~~G||G<Z||G>Y)throw Error(rn+G)}function ye(G,Z,Y,X){var me,te,_e,Ge;for(te=G[0];te>=10;te/=10)--Z;return--Z<0?(Z+=7,me=0):(me=Math.ceil((Z+1)/7),Z%=7),te=Wn(10,7-Z),Ge=G[me]%te|0,null==X?Z<3?(0==Z?Ge=Ge/100|0:1==Z&&(Ge=Ge/10|0),_e=Y<4&&99999==Ge||Y>3&&49999==Ge||5e4==Ge||0==Ge):_e=(Y<4&&Ge+1==te||Y>3&&Ge+1==te/2)&&(G[me+1]/te/100|0)==Wn(10,Z-2)-1||(Ge==te/2||0==Ge)&&0==(G[me+1]/te/100|0):Z<4?(0==Z?Ge=Ge/1e3|0:1==Z?Ge=Ge/100|0:2==Z&&(Ge=Ge/10|0),_e=(X||Y<4)&&9999==Ge||!X&&Y>3&&4999==Ge):_e=((X||Y<4)&&Ge+1==te||!X&&Y>3&&Ge+1==te/2)&&(G[me+1]/te/1e3|0)==Wn(10,Z-3)-1,_e}function Te(G,Z,Y){for(var X,me,te=[0],_e=0,Ge=G.length;_e<Ge;){for(me=te.length;me--;)te[me]*=Z;for(te[0]+=Nt.indexOf(G.charAt(_e++)),X=0;X<te.length;X++)te[X]>Y-1&&(void 0===te[X+1]&&(te[X+1]=0),te[X+1]+=te[X]/Y|0,te[X]%=Y)}return te.reverse()}q.absoluteValue=q.abs=function(){var G=new this.constructor(this);return G.s<0&&(G.s=1),Pe(G)},q.ceil=function(){return Pe(new this.constructor(this),this.e+1,2)},q.comparedTo=q.cmp=function(G){var Z,Y,X,me,te=this,_e=te.d,Ge=(G=new te.constructor(G)).d,ke=te.s,rt=G.s;if(!_e||!Ge)return ke&&rt?ke!==rt?ke:_e===Ge?0:!_e^ke<0?1:-1:NaN;if(!_e[0]||!Ge[0])return _e[0]?ke:Ge[0]?-rt:0;if(ke!==rt)return ke;if(te.e!==G.e)return te.e>G.e^ke<0?1:-1;for(Z=0,Y=(X=_e.length)<(me=Ge.length)?X:me;Z<Y;++Z)if(_e[Z]!==Ge[Z])return _e[Z]>Ge[Z]^ke<0?1:-1;return X===me?0:X>me^ke<0?1:-1},q.cosine=q.cos=function(){var G,Z,Y=this,X=Y.constructor;return Y.d?Y.d[0]?(Z=X.rounding,X.precision=(G=X.precision)+Math.max(Y.e,Y.sd())+7,X.rounding=1,Y=function(me,te){var _e,Ge,ke=te.d.length;ke<32?Ge=(1/Lr(4,_e=Math.ceil(ke/3))).toString():(_e=16,Ge="2.3283064365386962890625e-10"),me.precision+=_e,te=zr(me,1,te.times(Ge),new me(1));for(var rt=_e;rt--;){var Xe=te.times(te);te=Xe.times(Xe).minus(Xe).times(8).plus(1)}return me.precision-=_e,te}(X,Re(X,Y)),X.precision=G,X.rounding=Z,Pe(2==Vn||3==Vn?Y.neg():Y,G,Z,!0)):new X(1):new X(NaN)},q.cubeRoot=q.cbrt=function(){var G,Z,Y,X,me,te,_e,Ge,ke,rt,Xe=this,Ot=Xe.constructor;if(!Xe.isFinite()||Xe.isZero())return new Ot(Xe);for(Lt=!1,(te=Xe.s*Wn(Xe.s*Xe,1/3))&&Math.abs(te)!=1/0?X=new Ot(te.toString()):(Y=re(Xe.d),(te=((G=Xe.e)-Y.length+1)%3)&&(Y+=1==te||-2==te?"0":"00"),te=Wn(Y,1/3),G=Kt((G+1)/3)-(G%3==(G<0?-1:2)),(X=new Ot(Y=te==1/0?"5e"+G:(Y=te.toExponential()).slice(0,Y.indexOf("e")+1)+G)).s=Xe.s),_e=(G=Ot.precision)+3;;)if(rt=(ke=(Ge=X).times(Ge).times(Ge)).plus(Xe),X=Me(rt.plus(Xe).times(Ge),rt.plus(ke),_e+2,1),re(Ge.d).slice(0,_e)===(Y=re(X.d)).slice(0,_e)){if("9999"!=(Y=Y.slice(_e-3,_e+1))&&(me||"4999"!=Y)){+Y&&(+Y.slice(1)||"5"!=Y.charAt(0))||(Pe(X,G+1,1),Z=!X.times(X).times(X).eq(Xe));break}if(!me&&(Pe(Ge,G+1,0),Ge.times(Ge).times(Ge).eq(Xe))){X=Ge;break}_e+=4,me=1}return Lt=!0,Pe(X,G,Ot.rounding,Z)},q.decimalPlaces=q.dp=function(){var G,Z=this.d,Y=NaN;if(Z){if(Y=7*((G=Z.length-1)-Kt(this.e/7)),G=Z[G])for(;G%10==0;G/=10)Y--;Y<0&&(Y=0)}return Y},q.dividedBy=q.div=function(G){return Me(this,new this.constructor(G))},q.dividedToIntegerBy=q.divToInt=function(G){var Z=this.constructor;return Pe(Me(this,new Z(G),0,1,1),Z.precision,Z.rounding)},q.equals=q.eq=function(G){return 0===this.cmp(G)},q.floor=function(){return Pe(new this.constructor(this),this.e+1,3)},q.greaterThan=q.gt=function(G){return this.cmp(G)>0},q.greaterThanOrEqualTo=q.gte=function(G){var Z=this.cmp(G);return 1==Z||0===Z},q.hyperbolicCosine=q.cosh=function(){var G,Z,Y,X,me,te=this,_e=te.constructor,Ge=new _e(1);if(!te.isFinite())return new _e(te.s?1/0:NaN);if(te.isZero())return Ge;X=_e.rounding,_e.precision=(Y=_e.precision)+Math.max(te.e,te.sd())+4,_e.rounding=1,(me=te.d.length)<32?Z=(1/Lr(4,G=Math.ceil(me/3))).toString():(G=16,Z="2.3283064365386962890625e-10"),te=zr(_e,1,te.times(Z),new _e(1),!0);for(var ke,rt=G,Xe=new _e(8);rt--;)ke=te.times(te),te=Ge.minus(ke.times(Xe.minus(ke.times(Xe))));return Pe(te,_e.precision=Y,_e.rounding=X,!0)},q.hyperbolicSine=q.sinh=function(){var G,Z,Y,X,me=this,te=me.constructor;if(!me.isFinite()||me.isZero())return new te(me);if(Y=te.rounding,te.precision=(Z=te.precision)+Math.max(me.e,me.sd())+4,te.rounding=1,(X=me.d.length)<3)me=zr(te,2,me,me,!0);else{G=(G=1.4*Math.sqrt(X))>16?16:0|G,me=zr(te,2,me=me.times(1/Lr(5,G)),me,!0);for(var _e,Ge=new te(5),ke=new te(16),rt=new te(20);G--;)_e=me.times(me),me=me.times(Ge.plus(_e.times(ke.times(_e).plus(rt))))}return te.precision=Z,te.rounding=Y,Pe(me,Z,Y,!0)},q.hyperbolicTangent=q.tanh=function(){var G,Z,Y=this,X=Y.constructor;return Y.isFinite()?Y.isZero()?new X(Y):(Z=X.rounding,X.precision=(G=X.precision)+7,X.rounding=1,Me(Y.sinh(),Y.cosh(),X.precision=G,X.rounding=Z)):new X(Y.s)},q.inverseCosine=q.acos=function(){var G,Z=this,Y=Z.constructor,X=Z.abs().cmp(1),me=Y.precision,te=Y.rounding;return-1!==X?0===X?Z.isNeg()?Gt(Y,me,te):new Y(0):new Y(NaN):Z.isZero()?Gt(Y,me+4,te).times(.5):(Y.precision=me+6,Y.rounding=1,Z=Z.asin(),G=Gt(Y,me+4,te).times(.5),Y.precision=me,Y.rounding=te,G.minus(Z))},q.inverseHyperbolicCosine=q.acosh=function(){var G,Z,Y=this,X=Y.constructor;return Y.lte(1)?new X(Y.eq(1)?0:NaN):Y.isFinite()?(Z=X.rounding,X.precision=(G=X.precision)+Math.max(Math.abs(Y.e),Y.sd())+4,X.rounding=1,Lt=!1,Y=Y.times(Y).minus(1).sqrt().plus(Y),Lt=!0,X.precision=G,X.rounding=Z,Y.ln()):new X(Y)},q.inverseHyperbolicSine=q.asinh=function(){var G,Z,Y=this,X=Y.constructor;return!Y.isFinite()||Y.isZero()?new X(Y):(Z=X.rounding,X.precision=(G=X.precision)+2*Math.max(Math.abs(Y.e),Y.sd())+6,X.rounding=1,Lt=!1,Y=Y.times(Y).plus(1).sqrt().plus(Y),Lt=!0,X.precision=G,X.rounding=Z,Y.ln())},q.inverseHyperbolicTangent=q.atanh=function(){var G,Z,Y,X,me=this,te=me.constructor;return me.isFinite()?me.e>=0?new te(me.abs().eq(1)?me.s/0:me.isZero()?me:NaN):(G=te.precision,Z=te.rounding,X=me.sd(),Math.max(X,G)<2*-me.e-1?Pe(new te(me),G,Z,!0):(te.precision=Y=X-me.e,me=Me(me.plus(1),new te(1).minus(me),Y+G,1),te.precision=G+4,te.rounding=1,me=me.ln(),te.precision=G,te.rounding=Z,me.times(.5))):new te(NaN)},q.inverseSine=q.asin=function(){var G,Z,Y,X,me=this,te=me.constructor;return me.isZero()?new te(me):(Z=me.abs().cmp(1),Y=te.precision,X=te.rounding,-1!==Z?0===Z?((G=Gt(te,Y+4,X).times(.5)).s=me.s,G):new te(NaN):(te.precision=Y+6,te.rounding=1,me=me.div(new te(1).minus(me.times(me)).sqrt().plus(1)).atan(),te.precision=Y,te.rounding=X,me.times(2)))},q.inverseTangent=q.atan=function(){var G,Z,Y,X,me,te,_e,Ge,ke,rt=this,Xe=rt.constructor,Ot=Xe.precision,Ht=Xe.rounding;if(rt.isFinite()){if(rt.isZero())return new Xe(rt);if(rt.abs().eq(1)&&Ot+4<=P)return(_e=Gt(Xe,Ot+4,Ht).times(.25)).s=rt.s,_e}else{if(!rt.s)return new Xe(NaN);if(Ot+4<=P)return(_e=Gt(Xe,Ot+4,Ht).times(.5)).s=rt.s,_e}for(Xe.precision=Ge=Ot+10,Xe.rounding=1,G=Y=Math.min(28,Ge/7+2|0);G;--G)rt=rt.div(rt.times(rt).plus(1).sqrt().plus(1));for(Lt=!1,Z=Math.ceil(Ge/7),X=1,ke=rt.times(rt),_e=new Xe(rt),me=rt;-1!==G;)if(me=me.times(ke),te=_e.minus(me.div(X+=2)),me=me.times(ke),void 0!==(_e=te.plus(me.div(X+=2))).d[Z])for(G=Z;_e.d[G]===te.d[G]&&G--;);return Y&&(_e=_e.times(2<<Y-1)),Lt=!0,Pe(_e,Xe.precision=Ot,Xe.rounding=Ht,!0)},q.isFinite=function(){return!!this.d},q.isInteger=q.isInt=function(){return!!this.d&&Kt(this.e/7)>this.d.length-2},q.isNaN=function(){return!this.s},q.isNegative=q.isNeg=function(){return this.s<0},q.isPositive=q.isPos=function(){return this.s>0},q.isZero=function(){return!!this.d&&0===this.d[0]},q.lessThan=q.lt=function(G){return this.cmp(G)<0},q.lessThanOrEqualTo=q.lte=function(G){return this.cmp(G)<1},q.logarithm=q.log=function(G){var Z,Y,X,me,te,_e,Ge,ke,rt=this.constructor,Xe=rt.precision,Ot=rt.rounding;if(null==G)G=new rt(10),Z=!0;else{if(Y=(G=new rt(G)).d,G.s<0||!Y||!Y[0]||G.eq(1))return new rt(NaN);Z=G.eq(10)}if(Y=this.d,this.s<0||!Y||!Y[0]||this.eq(1))return new rt(Y&&!Y[0]?-1/0:1!=this.s?NaN:Y?0:1/0);if(Z)if(Y.length>1)te=!0;else{for(me=Y[0];me%10==0;)me/=10;te=1!==me}if(Lt=!1,_e=Ur(this,Ge=Xe+5),X=Z?St(rt,Ge+10):Ur(G,Ge),ye((ke=Me(_e,X,Ge,1)).d,me=Xe,Ot))do{if(_e=Ur(this,Ge+=10),X=Z?St(rt,Ge+10):Ur(G,Ge),ke=Me(_e,X,Ge,1),!te){+re(ke.d).slice(me+1,me+15)+1==1e14&&(ke=Pe(ke,Xe+1,0));break}}while(ye(ke.d,me+=10,Ot));return Lt=!0,Pe(ke,Xe,Ot)},q.minus=q.sub=function(G){var Z,Y,X,me,te,_e,Ge,ke,rt,Xe,Ot,Ht,en=this,on=en.constructor;if(G=new on(G),!en.d||!G.d)return en.s&&G.s?en.d?G.s=-G.s:G=new on(G.d||en.s!==G.s?en:NaN):G=new on(NaN),G;if(en.s!=G.s)return G.s=-G.s,en.plus(G);if(Ht=G.d,Ge=on.precision,ke=on.rounding,!(rt=en.d)[0]||!Ht[0]){if(Ht[0])G.s=-G.s;else{if(!rt[0])return new on(3===ke?-0:0);G=new on(en)}return Lt?Pe(G,Ge,ke):G}if(Y=Kt(G.e/7),Xe=Kt(en.e/7),rt=rt.slice(),te=Xe-Y){for((Ot=te<0)?(Z=rt,te=-te,_e=Ht.length):(Z=Ht,Y=Xe,_e=rt.length),te>(X=Math.max(Math.ceil(Ge/7),_e)+2)&&(te=X,Z.length=1),Z.reverse(),X=te;X--;)Z.push(0);Z.reverse()}else{for((Ot=(X=rt.length)<(_e=Ht.length))&&(_e=X),X=0;X<_e;X++)if(rt[X]!=Ht[X]){Ot=rt[X]<Ht[X];break}te=0}for(Ot&&(Z=rt,rt=Ht,Ht=Z,G.s=-G.s),X=Ht.length-(_e=rt.length);X>0;--X)rt[_e++]=0;for(X=Ht.length;X>te;){if(rt[--X]<Ht[X]){for(me=X;me&&0===rt[--me];)rt[me]=Je-1;--rt[me],rt[X]+=Je}rt[X]-=Ht[X]}for(;0===rt[--_e];)rt.pop();for(;0===rt[0];rt.shift())--Y;return rt[0]?(G.d=rt,G.e=Bt(rt,Y),Lt?Pe(G,Ge,ke):G):new on(3===ke?-0:0)},q.modulo=q.mod=function(G){var Z,Y=this,X=Y.constructor;return G=new X(G),!Y.d||!G.s||G.d&&!G.d[0]?new X(NaN):!G.d||Y.d&&!Y.d[0]?Pe(new X(Y),X.precision,X.rounding):(Lt=!1,9==X.modulo?(Z=Me(Y,G.abs(),0,3,1)).s*=G.s:Z=Me(Y,G,0,X.modulo,1),Z=Z.times(G),Lt=!0,Y.minus(Z))},q.naturalExponential=q.exp=function(){return xn(this)},q.naturalLogarithm=q.ln=function(){return Ur(this)},q.negated=q.neg=function(){var G=new this.constructor(this);return G.s=-G.s,Pe(G)},q.plus=q.add=function(G){var Z,Y,X,me,te,_e,Ge,ke,rt,Xe,Ot=this,Ht=Ot.constructor;if(G=new Ht(G),!Ot.d||!G.d)return Ot.s&&G.s?Ot.d||(G=new Ht(G.d||Ot.s===G.s?Ot:NaN)):G=new Ht(NaN),G;if(Ot.s!=G.s)return G.s=-G.s,Ot.minus(G);if(Xe=G.d,Ge=Ht.precision,ke=Ht.rounding,!(rt=Ot.d)[0]||!Xe[0])return Xe[0]||(G=new Ht(Ot)),Lt?Pe(G,Ge,ke):G;if(te=Kt(Ot.e/7),X=Kt(G.e/7),rt=rt.slice(),me=te-X){for(me<0?(Y=rt,me=-me,_e=Xe.length):(Y=Xe,X=te,_e=rt.length),me>(_e=(te=Math.ceil(Ge/7))>_e?te+1:_e+1)&&(me=_e,Y.length=1),Y.reverse();me--;)Y.push(0);Y.reverse()}for((_e=rt.length)-(me=Xe.length)<0&&(me=_e,Y=Xe,Xe=rt,rt=Y),Z=0;me;)Z=(rt[--me]=rt[me]+Xe[me]+Z)/Je|0,rt[me]%=Je;for(Z&&(rt.unshift(Z),++X),_e=rt.length;0==rt[--_e];)rt.pop();return G.d=rt,G.e=Bt(rt,X),Lt?Pe(G,Ge,ke):G},q.precision=q.sd=function(G){var Z,Y=this;if(void 0!==G&&G!==!!G&&1!==G&&0!==G)throw Error(rn+G);return Y.d?(Z=pn(Y.d),G&&Y.e+1>Z&&(Z=Y.e+1)):Z=NaN,Z},q.round=function(){var G=this,Z=G.constructor;return Pe(new Z(G),G.e+1,Z.rounding)},q.sine=q.sin=function(){var G,Z,Y=this,X=Y.constructor;return Y.isFinite()?Y.isZero()?new X(Y):(Z=X.rounding,X.precision=(G=X.precision)+Math.max(Y.e,Y.sd())+7,X.rounding=1,Y=function(me,te){var _e,Ge=te.d.length;if(Ge<3)return zr(me,2,te,te);_e=(_e=1.4*Math.sqrt(Ge))>16?16:0|_e,te=zr(me,2,te=te.times(1/Lr(5,_e)),te);for(var ke,rt=new me(5),Xe=new me(16),Ot=new me(20);_e--;)ke=te.times(te),te=te.times(rt.plus(ke.times(Xe.times(ke).minus(Ot))));return te}(X,Re(X,Y)),X.precision=G,X.rounding=Z,Pe(Vn>2?Y.neg():Y,G,Z,!0)):new X(NaN)},q.squareRoot=q.sqrt=function(){var G,Z,Y,X,me,te,_e=this,Ge=_e.d,ke=_e.e,rt=_e.s,Xe=_e.constructor;if(1!==rt||!Ge||!Ge[0])return new Xe(!rt||rt<0&&(!Ge||Ge[0])?NaN:Ge?_e:1/0);for(Lt=!1,0==(rt=Math.sqrt(+_e))||rt==1/0?(((Z=re(Ge)).length+ke)%2==0&&(Z+="0"),rt=Math.sqrt(Z),ke=Kt((ke+1)/2)-(ke<0||ke%2),X=new Xe(Z=rt==1/0?"5e"+ke:(Z=rt.toExponential()).slice(0,Z.indexOf("e")+1)+ke)):X=new Xe(rt.toString()),Y=(ke=Xe.precision)+3;;)if(X=(te=X).plus(Me(_e,te,Y+2,1)).times(.5),re(te.d).slice(0,Y)===(Z=re(X.d)).slice(0,Y)){if("9999"!=(Z=Z.slice(Y-3,Y+1))&&(me||"4999"!=Z)){+Z&&(+Z.slice(1)||"5"!=Z.charAt(0))||(Pe(X,ke+1,1),G=!X.times(X).eq(_e));break}if(!me&&(Pe(te,ke+1,0),te.times(te).eq(_e))){X=te;break}Y+=4,me=1}return Lt=!0,Pe(X,ke,Xe.rounding,G)},q.tangent=q.tan=function(){var G,Z,Y=this,X=Y.constructor;return Y.isFinite()?Y.isZero()?new X(Y):(Z=X.rounding,X.precision=(G=X.precision)+10,X.rounding=1,(Y=Y.sin()).s=1,Y=Me(Y,new X(1).minus(Y.times(Y)).sqrt(),G+10,0),X.precision=G,X.rounding=Z,Pe(2==Vn||4==Vn?Y.neg():Y,G,Z,!0)):new X(NaN)},q.times=q.mul=function(G){var Z,Y,X,me,te,_e,Ge,ke,rt,Ot=this.constructor,Ht=this.d,en=(G=new Ot(G)).d;if(G.s*=this.s,!(Ht&&Ht[0]&&en&&en[0]))return new Ot(!G.s||Ht&&!Ht[0]&&!en||en&&!en[0]&&!Ht?NaN:Ht&&en?0*G.s:G.s/0);for(Y=Kt(this.e/7)+Kt(G.e/7),(ke=Ht.length)<(rt=en.length)&&(te=Ht,Ht=en,en=te,_e=ke,ke=rt,rt=_e),te=[],X=_e=ke+rt;X--;)te.push(0);for(X=rt;--X>=0;){for(Z=0,me=ke+X;me>X;)Ge=te[me]+en[X]*Ht[me-X-1]+Z,te[me--]=Ge%Je|0,Z=Ge/Je|0;te[me]=(te[me]+Z)%Je|0}for(;!te[--_e];)te.pop();return Z?++Y:te.shift(),G.d=te,G.e=Bt(te,Y),Lt?Pe(G,Ot.precision,Ot.rounding):G},q.toBinary=function(G,Z){return Fe(this,2,G,Z)},q.toDecimalPlaces=q.toDP=function(G,Z){var Y=this,X=Y.constructor;return Y=new X(Y),void 0===G?Y:(ce(G,0,Pr),void 0===Z?Z=X.rounding:ce(Z,0,8),Pe(Y,G+Y.e+1,Z))},q.toExponential=function(G,Z){var Y,X=this,me=X.constructor;return void 0===G?Y=Ke(X,!0):(ce(G,0,Pr),void 0===Z?Z=me.rounding:ce(Z,0,8),Y=Ke(X=Pe(new me(X),G+1,Z),!0,G+1)),X.isNeg()&&!X.isZero()?"-"+Y:Y},q.toFixed=function(G,Z){var Y,X,me=this,te=me.constructor;return void 0===G?Y=Ke(me):(ce(G,0,Pr),void 0===Z?Z=te.rounding:ce(Z,0,8),Y=Ke(X=Pe(new te(me),G+me.e+1,Z),!1,G+X.e+1)),me.isNeg()&&!me.isZero()?"-"+Y:Y},q.toFraction=function(G){var Z,Y,X,me,te,_e,Ge,ke,rt,Xe,Ot,Ht,en=this,on=en.d,Xr=en.constructor;if(!on)return new Xr(en);if(rt=Y=new Xr(1),X=ke=new Xr(0),_e=(te=(Z=new Xr(X)).e=pn(on)-en.e-1)%7,Z.d[0]=Wn(10,_e<0?7+_e:_e),null==G)G=te>0?Z:rt;else{if(!(Ge=new Xr(G)).isInt()||Ge.lt(rt))throw Error(rn+Ge);G=Ge.gt(Z)?te>0?Z:rt:Ge}for(Lt=!1,Ge=new Xr(re(on)),Xe=Xr.precision,Xr.precision=te=7*on.length*2;Ot=Me(Ge,Z,0,1,1),1!=(me=Y.plus(Ot.times(X))).cmp(G);)Y=X,X=me,rt=ke.plus(Ot.times(me=rt)),ke=me,Z=Ge.minus(Ot.times(me=Z)),Ge=me;return me=Me(G.minus(Y),X,0,1,1),ke=ke.plus(me.times(rt)),Y=Y.plus(me.times(X)),ke.s=rt.s=en.s,Ht=Me(rt,X,te,1).minus(en).abs().cmp(Me(ke,Y,te,1).minus(en).abs())<1?[rt,X]:[ke,Y],Xr.precision=Xe,Lt=!0,Ht},q.toHexadecimal=q.toHex=function(G,Z){return Fe(this,16,G,Z)},q.toNearest=function(G,Z){var Y=this,X=Y.constructor;if(Y=new X(Y),null==G){if(!Y.d)return Y;G=new X(1),Z=X.rounding}else{if(G=new X(G),void 0===Z?Z=X.rounding:ce(Z,0,8),!Y.d)return G.s?Y:G;if(!G.d)return G.s&&(G.s=Y.s),G}return G.d[0]?(Lt=!1,Y=Me(Y,G,0,Z,1).times(G),Lt=!0,Pe(Y)):(G.s=Y.s,Y=G),Y},q.toNumber=function(){return+this},q.toOctal=function(G,Z){return Fe(this,8,G,Z)},q.toPower=q.pow=function(G){var Z,Y,X,me,te,_e,Ge=this,ke=Ge.constructor,rt=+(G=new ke(G));if(!(Ge.d&&G.d&&Ge.d[0]&&G.d[0]))return new ke(Wn(+Ge,rt));if((Ge=new ke(Ge)).eq(1))return Ge;if(X=ke.precision,te=ke.rounding,G.eq(1))return Pe(Ge,X,te);if((Z=Kt(G.e/7))>=G.d.length-1&&(Y=rt<0?-rt:rt)<=9007199254740991)return me=At(ke,Ge,Y,X),G.s<0?new ke(1).div(me):Pe(me,X,te);if((_e=Ge.s)<0){if(Z<G.d.length-1)return new ke(NaN);if(0==(1&G.d[Z])&&(_e=1),0==Ge.e&&1==Ge.d[0]&&1==Ge.d.length)return Ge.s=_e,Ge}return(Z=0!=(Y=Wn(+Ge,rt))&&isFinite(Y)?new ke(Y+"").e:Kt(rt*(Math.log("0."+re(Ge.d))/Math.LN10+Ge.e+1)))>ke.maxE+1||Z<ke.minE-1?new ke(Z>0?_e/0:0):(Lt=!1,ke.rounding=Ge.s=1,Y=Math.min(12,(Z+"").length),(me=xn(G.times(Ur(Ge,X+Y)),X)).d&&ye((me=Pe(me,X+5,1)).d,X,te)&&+re((me=Pe(xn(G.times(Ur(Ge,(Z=X+10)+Y)),Z),Z+5,1)).d).slice(X+1,X+15)+1==1e14&&(me=Pe(me,X+1,0)),me.s=_e,Lt=!0,ke.rounding=te,Pe(me,X,te))},q.toPrecision=function(G,Z){var Y,X=this,me=X.constructor;return void 0===G?Y=Ke(X,X.e<=me.toExpNeg||X.e>=me.toExpPos):(ce(G,1,Pr),void 0===Z?Z=me.rounding:ce(Z,0,8),Y=Ke(X=Pe(new me(X),G,Z),G<=X.e||X.e<=me.toExpNeg,G)),X.isNeg()&&!X.isZero()?"-"+Y:Y},q.toSignificantDigits=q.toSD=function(G,Z){var Y=this.constructor;return void 0===G?(G=Y.precision,Z=Y.rounding):(ce(G,1,Pr),void 0===Z?Z=Y.rounding:ce(Z,0,8)),Pe(new Y(this),G,Z)},q.toString=function(){var G=this,Z=G.constructor,Y=Ke(G,G.e<=Z.toExpNeg||G.e>=Z.toExpPos);return G.isNeg()&&!G.isZero()?"-"+Y:Y},q.truncated=q.trunc=function(){return Pe(new this.constructor(this),this.e+1,1)},q.valueOf=q.toJSON=function(){var G=this,Z=G.constructor,Y=Ke(G,G.e<=Z.toExpNeg||G.e>=Z.toExpPos);return G.isNeg()?"-"+Y:Y};var Me=function(){function G(X,me,te){var _e,Ge=0,ke=X.length;for(X=X.slice();ke--;)X[ke]=(_e=X[ke]*me+Ge)%te|0,Ge=_e/te|0;return Ge&&X.unshift(Ge),X}function Z(X,me,te,_e){var Ge,ke;if(te!=_e)ke=te>_e?1:-1;else for(Ge=ke=0;Ge<te;Ge++)if(X[Ge]!=me[Ge]){ke=X[Ge]>me[Ge]?1:-1;break}return ke}function Y(X,me,te,_e){for(var Ge=0;te--;)X[te]-=Ge,X[te]=(Ge=X[te]<me[te]?1:0)*_e+X[te]-me[te];for(;!X[0]&&X.length>1;)X.shift()}return function(X,me,te,_e,Ge,ke){var rt,Xe,Ot,Ht,en,on,Xr,Gi,as,Mi,Ui,jn,On,Cs,ls,Xi,un,pe,Ji,li,Er=X.constructor,Ti=X.s==me.s?1:-1,Fr=X.d,gn=me.d;if(!(Fr&&Fr[0]&&gn&&gn[0]))return new Er(X.s&&me.s&&(Fr?!gn||Fr[0]!=gn[0]:gn)?Fr&&0==Fr[0]||!gn?0*Ti:Ti/0:NaN);for(ke?(en=1,Xe=X.e-me.e):(ke=Je,Xe=Kt(X.e/(en=7))-Kt(me.e/en)),Ji=gn.length,un=Fr.length,Mi=(as=new Er(Ti)).d=[],Ot=0;gn[Ot]==(Fr[Ot]||0);Ot++);if(gn[Ot]>(Fr[Ot]||0)&&Xe--,null==te?(Cs=te=Er.precision,_e=Er.rounding):Cs=Ge?te+(X.e-me.e)+1:te,Cs<0)Mi.push(1),on=!0;else{if(Cs=Cs/en+2|0,Ot=0,1==Ji){for(Ht=0,gn=gn[0],Cs++;(Ot<un||Ht)&&Cs--;Ot++)Mi[Ot]=(ls=Ht*ke+(Fr[Ot]||0))/gn|0,Ht=ls%gn|0;on=Ht||Ot<un}else{for((Ht=ke/(gn[0]+1)|0)>1&&(gn=G(gn,Ht,ke),Fr=G(Fr,Ht,ke),Ji=gn.length,un=Fr.length),Xi=Ji,jn=(Ui=Fr.slice(0,Ji)).length;jn<Ji;)Ui[jn++]=0;(li=gn.slice()).unshift(0),pe=gn[0],gn[1]>=ke/2&&++pe;do{Ht=0,(rt=Z(gn,Ui,Ji,jn))<0?(On=Ui[0],Ji!=jn&&(On=On*ke+(Ui[1]||0)),(Ht=On/pe|0)>1?(Ht>=ke&&(Ht=ke-1),1==(rt=Z(Xr=G(gn,Ht,ke),Ui,Gi=Xr.length,jn=Ui.length))&&(Ht--,Y(Xr,Ji<Gi?li:gn,Gi,ke))):(0==Ht&&(rt=Ht=1),Xr=gn.slice()),(Gi=Xr.length)<jn&&Xr.unshift(0),Y(Ui,Xr,jn,ke),-1==rt&&(rt=Z(gn,Ui,Ji,jn=Ui.length))<1&&(Ht++,Y(Ui,Ji<jn?li:gn,jn,ke)),jn=Ui.length):0===rt&&(Ht++,Ui=[0]),Mi[Ot++]=Ht,rt&&Ui[0]?Ui[jn++]=Fr[Xi]||0:(Ui=[Fr[Xi]],jn=1)}while((Xi++<un||void 0!==Ui[0])&&Cs--);on=void 0!==Ui[0]}Mi[0]||Mi.shift()}if(1==en)as.e=Xe,xe=on;else{for(Ot=1,Ht=Mi[0];Ht>=10;Ht/=10)Ot++;as.e=Ot+Xe*en-1,Pe(as,Ge?te+as.e+1:te,_e,on)}return as}}();function Pe(G,Z,Y,X){var me,te,_e,Ge,ke,rt,Xe,Ot,Ht,en=G.constructor;e:if(null!=Z){if(!(Ot=G.d))return G;for(me=1,Ge=Ot[0];Ge>=10;Ge/=10)me++;if((te=Z-me)<0)te+=7,ke=(Xe=Ot[Ht=0])/Wn(10,me-(_e=Z)-1)%10|0;else if((Ht=Math.ceil((te+1)/7))>=(Ge=Ot.length)){if(!X)break e;for(;Ge++<=Ht;)Ot.push(0);Xe=ke=0,me=1,_e=(te%=7)-7+1}else{for(Xe=Ge=Ot[Ht],me=1;Ge>=10;Ge/=10)me++;ke=(_e=(te%=7)-7+me)<0?0:Xe/Wn(10,me-_e-1)%10|0}if(X=X||Z<0||void 0!==Ot[Ht+1]||(_e<0?Xe:Xe%Wn(10,me-_e-1)),rt=Y<4?(ke||X)&&(0==Y||Y==(G.s<0?3:2)):ke>5||5==ke&&(4==Y||X||6==Y&&(te>0?_e>0?Xe/Wn(10,me-_e):0:Ot[Ht-1])%10&1||Y==(G.s<0?8:7)),Z<1||!Ot[0])return Ot.length=0,rt?(Ot[0]=Wn(10,(7-(Z-=G.e+1)%7)%7),G.e=-Z||0):Ot[0]=G.e=0,G;if(0==te?(Ot.length=Ht,Ge=1,Ht--):(Ot.length=Ht+1,Ge=Wn(10,7-te),Ot[Ht]=_e>0?(Xe/Wn(10,me-_e)%Wn(10,_e)|0)*Ge:0),rt)for(;;){if(0==Ht){for(te=1,_e=Ot[0];_e>=10;_e/=10)te++;for(_e=Ot[0]+=Ge,Ge=1;_e>=10;_e/=10)Ge++;te!=Ge&&(G.e++,Ot[0]==Je&&(Ot[0]=1));break}if(Ot[Ht]+=Ge,Ot[Ht]!=Je)break;Ot[Ht--]=0,Ge=1}for(te=Ot.length;0===Ot[--te];)Ot.pop()}return Lt&&(G.e>en.maxE?(G.d=null,G.e=NaN):G.e<en.minE&&(G.e=0,G.d=[0])),G}function Ke(G,Z,Y){if(!G.isFinite())return ai(G);var X,me=G.e,te=re(G.d),_e=te.length;return Z?(Y&&(X=Y-_e)>0?te=te.charAt(0)+"."+te.slice(1)+Tn(X):_e>1&&(te=te.charAt(0)+"."+te.slice(1)),te=te+(G.e<0?"e":"e+")+G.e):me<0?(te="0."+Tn(-me-1)+te,Y&&(X=Y-_e)>0&&(te+=Tn(X))):me>=_e?(te+=Tn(me+1-_e),Y&&(X=Y-me-1)>0&&(te=te+"."+Tn(X))):((X=me+1)<_e&&(te=te.slice(0,X)+"."+te.slice(X)),Y&&(X=Y-_e)>0&&(me+1===_e&&(te+="."),te+=Tn(X))),te}function Bt(G,Z){var Y=G[0];for(Z*=7;Y>=10;Y/=10)Z++;return Z}function St(G,Z,Y){if(Z>O)throw Lt=!0,Y&&(G.precision=Y),Error(vn);return Pe(new G(ve),Z,1,!0)}function Gt(G,Z,Y){if(Z>P)throw Error(vn);return Pe(new G(_t),Z,Y,!0)}function pn(G){var Z=G.length-1,Y=7*Z+1;if(Z=G[Z]){for(;Z%10==0;Z/=10)Y--;for(Z=G[0];Z>=10;Z/=10)Y++}return Y}function Tn(G){for(var Z="";G--;)Z+="0";return Z}function At(G,Z,Y,X){var me,te=new G(1),_e=Math.ceil(X/7+4);for(Lt=!1;;){if(Y%2&&qe((te=te.times(Z)).d,_e)&&(me=!0),0===(Y=Kt(Y/2))){Y=te.d.length-1,me&&0===te.d[Y]&&++te.d[Y];break}qe((Z=Z.times(Z)).d,_e)}return Lt=!0,te}function nr(G){return 1&G.d[G.d.length-1]}function qn(G,Z,Y){for(var X,me=new G(Z[0]),te=0;++te<Z.length;){if(!(X=new G(Z[te])).s){me=X;break}me[Y](X)&&(me=X)}return me}function xn(G,Z){var Y,X,me,te,_e,Ge,ke,rt=0,Xe=0,Ot=0,Ht=G.constructor,en=Ht.rounding,on=Ht.precision;if(!G.d||!G.d[0]||G.e>17)return new Ht(G.d?G.d[0]?G.s<0?0:1/0:1:G.s?G.s<0?0:G:NaN);for(null==Z?(Lt=!1,ke=on):ke=Z,Ge=new Ht(.03125);G.e>-2;)G=G.times(Ge),Ot+=5;for(ke+=X=Math.log(Wn(2,Ot))/Math.LN10*2+5|0,Y=te=_e=new Ht(1),Ht.precision=ke;;){if(te=Pe(te.times(G),ke,1),Y=Y.times(++Xe),re((Ge=_e.plus(Me(te,Y,ke,1))).d).slice(0,ke)===re(_e.d).slice(0,ke)){for(me=Ot;me--;)_e=Pe(_e.times(_e),ke,1);if(null!=Z)return Ht.precision=on,_e;if(!(rt<3&&ye(_e.d,ke-X,en,rt)))return Pe(_e,Ht.precision=on,en,Lt=!0);Ht.precision=ke+=10,Y=te=Ge=new Ht(1),Xe=0,rt++}_e=Ge}}function Ur(G,Z){var Y,X,me,te,_e,Ge,ke,rt,Xe,Ot,Ht,en=1,on=G,Xr=on.d,Gi=on.constructor,as=Gi.rounding,Mi=Gi.precision;if(on.s<0||!Xr||!Xr[0]||!on.e&&1==Xr[0]&&1==Xr.length)return new Gi(Xr&&!Xr[0]?-1/0:1!=on.s?NaN:Xr?0:on);if(null==Z?(Lt=!1,Xe=Mi):Xe=Z,Gi.precision=Xe+=10,X=(Y=re(Xr)).charAt(0),!(Math.abs(te=on.e)<15e14))return rt=St(Gi,Xe+2,Mi).times(te+""),on=Ur(new Gi(X+"."+Y.slice(1)),Xe-10).plus(rt),Gi.precision=Mi,null==Z?Pe(on,Mi,as,Lt=!0):on;for(;X<7&&1!=X||1==X&&Y.charAt(1)>3;)X=(Y=re((on=on.times(G)).d)).charAt(0),en++;for(te=on.e,X>1?(on=new Gi("0."+Y),te++):on=new Gi(X+"."+Y.slice(1)),Ot=on,ke=_e=on=Me(on.minus(1),on.plus(1),Xe,1),Ht=Pe(on.times(on),Xe,1),me=3;;){if(_e=Pe(_e.times(Ht),Xe,1),re((rt=ke.plus(Me(_e,new Gi(me),Xe,1))).d).slice(0,Xe)===re(ke.d).slice(0,Xe)){if(ke=ke.times(2),0!==te&&(ke=ke.plus(St(Gi,Xe+2,Mi).times(te+""))),ke=Me(ke,new Gi(en),Xe,1),null!=Z)return Gi.precision=Mi,ke;if(!ye(ke.d,Xe-10,as,Ge))return Pe(ke,Gi.precision=Mi,as,Lt=!0);Gi.precision=Xe+=10,rt=_e=on=Me(Ot.minus(1),Ot.plus(1),Xe,1),Ht=Pe(on.times(on),Xe,1),me=Ge=1}ke=rt,me+=2}}function ai(G){return String(G.s*G.s/0)}function cn(G,Z){var Y,X,me;for((Y=Z.indexOf("."))>-1&&(Z=Z.replace(".","")),(X=Z.search(/e/i))>0?(Y<0&&(Y=X),Y+=+Z.slice(X+1),Z=Z.substring(0,X)):Y<0&&(Y=Z.length),X=0;48===Z.charCodeAt(X);X++);for(me=Z.length;48===Z.charCodeAt(me-1);--me);if(Z=Z.slice(X,me)){if(me-=X,G.e=Y=Y-X-1,G.d=[],X=(Y+1)%7,Y<0&&(X+=7),X<me){for(X&&G.d.push(+Z.slice(0,X)),me-=7;X<me;)G.d.push(+Z.slice(X,X+=7));X=7-(Z=Z.slice(X)).length}else X-=me;for(;X--;)Z+="0";G.d.push(+Z),Lt&&(G.e>G.constructor.maxE?(G.d=null,G.e=NaN):G.e<G.constructor.minE&&(G.e=0,G.d=[0]))}else G.e=0,G.d=[0];return G}function zr(G,Z,Y,X,me){var te,_e,Ge,ke,rt=G.precision,Xe=Math.ceil(rt/7);for(Lt=!1,ke=Y.times(Y),Ge=new G(X);;){if(_e=Me(Ge.times(ke),new G(Z++*Z++),rt,1),Ge=me?X.plus(_e):X.minus(_e),X=Me(_e.times(ke),new G(Z++*Z++),rt,1),void 0!==(_e=Ge.plus(X)).d[Xe]){for(te=Xe;_e.d[te]===Ge.d[te]&&te--;);if(-1==te)break}te=Ge,Ge=X,X=_e,_e=te}return Lt=!0,_e.d.length=Xe+1,_e}function Lr(G,Z){for(var Y=G;--Z;)Y*=G;return Y}function Re(G,Z){var Y,X=Z.s<0,me=Gt(G,G.precision,1),te=me.times(.5);if((Z=Z.abs()).lte(te))return Vn=X?4:1,Z;if((Y=Z.divToInt(me)).isZero())Vn=X?3:2;else{if((Z=Z.minus(Y.times(me))).lte(te))return Vn=nr(Y)?X?2:3:X?4:1,Z;Vn=nr(Y)?X?1:4:X?3:2}return Z.minus(me).abs()}function Fe(G,Z,Y,X){var me,te,_e,Ge,ke,rt,Xe,Ot,Ht,en=G.constructor,on=void 0!==Y;if(on?(ce(Y,1,Pr),void 0===X?X=en.rounding:ce(X,0,8)):(Y=en.precision,X=en.rounding),G.isFinite()){for(on?(me=2,16==Z?Y=4*Y-3:8==Z&&(Y=3*Y-2)):me=Z,(_e=(Xe=Ke(G)).indexOf("."))>=0&&(Xe=Xe.replace(".",""),(Ht=new en(1)).e=Xe.length-_e,Ht.d=Te(Ke(Ht),10,me),Ht.e=Ht.d.length),te=ke=(Ot=Te(Xe,10,me)).length;0==Ot[--ke];)Ot.pop();if(Ot[0]){if(_e<0?te--:((G=new en(G)).d=Ot,G.e=te,Ot=(G=Me(G,Ht,Y,X,0,me)).d,te=G.e,rt=xe),_e=Ot[Y],Ge=me/2,rt=rt||void 0!==Ot[Y+1],rt=X<4?(void 0!==_e||rt)&&(0===X||X===(G.s<0?3:2)):_e>Ge||_e===Ge&&(4===X||rt||6===X&&1&Ot[Y-1]||X===(G.s<0?8:7)),Ot.length=Y,rt)for(;++Ot[--Y]>me-1;)Ot[Y]=0,Y||(++te,Ot.unshift(1));for(ke=Ot.length;!Ot[ke-1];--ke);for(_e=0,Xe="";_e<ke;_e++)Xe+=Nt.charAt(Ot[_e]);if(on){if(ke>1)if(16==Z||8==Z){for(_e=16==Z?4:3,--ke;ke%_e;ke++)Xe+="0";for(ke=(Ot=Te(Xe,me,Z)).length;!Ot[ke-1];--ke);for(_e=1,Xe="1.";_e<ke;_e++)Xe+=Nt.charAt(Ot[_e])}else Xe=Xe.charAt(0)+"."+Xe.slice(1);Xe=Xe+(te<0?"p":"p+")+te}else if(te<0){for(;++te;)Xe="0"+Xe;Xe="0."+Xe}else if(++te>ke)for(te-=ke;te--;)Xe+="0";else te<ke&&(Xe=Xe.slice(0,te)+"."+Xe.slice(te))}else Xe=on?"0p+0":"0";Xe=(16==Z?"0x":2==Z?"0b":8==Z?"0o":"")+Xe}else Xe=ai(G);return G.s<0?"-"+Xe:Xe}function qe(G,Z){if(G.length>Z)return G.length=Z,!0}function Ue(G){return new this(G).abs()}function pt(G){return new this(G).acos()}function Ct(G){return new this(G).acosh()}function kt(G,Z){return new this(G).plus(Z)}function $e(G){return new this(G).asin()}function Le(G){return new this(G).asinh()}function an(G){return new this(G).atan()}function L(G){return new this(G).atanh()}function ue(G,Z){G=new this(G),Z=new this(Z);var Y,X=this.precision,me=this.rounding,te=X+4;return G.s&&Z.s?G.d||Z.d?!Z.d||G.isZero()?(Y=Z.s<0?Gt(this,X,me):new this(0)).s=G.s:!G.d||Z.isZero()?(Y=Gt(this,te,1).times(.5)).s=G.s:Z.s<0?(this.precision=te,this.rounding=1,Y=this.atan(Me(G,Z,te,1)),Z=Gt(this,te,1),this.precision=X,this.rounding=me,Y=G.s<0?Y.minus(Z):Y.plus(Z)):Y=this.atan(Me(G,Z,te,1)):(Y=Gt(this,te,1).times(Z.s>0?.25:.75)).s=G.s:Y=new this(NaN),Y}function we(G){return new this(G).cbrt()}function Qe(G){return Pe(G=new this(G),G.e+1,2)}function Ye(G){if(!G||"object"!=typeof G)throw Error(mn+"Object expected");var Z,Y,X,me=!0===G.defaults,te=["precision",1,Pr,"rounding",0,8,"toExpNeg",-Hn,0,"toExpPos",0,Hn,"maxE",0,Hn,"minE",-Hn,0,"modulo",0,9];for(Z=0;Z<te.length;Z+=3)if(Y=te[Z],me&&(this[Y]=Xn[Y]),void 0!==(X=G[Y])){if(!(Kt(X)===X&&X>=te[Z+1]&&X<=te[Z+2]))throw Error(rn+Y+": "+X);this[Y]=X}if(Y="crypto",me&&(this[Y]=Xn[Y]),void 0!==(X=G[Y])){if(!0!==X&&!1!==X&&0!==X&&1!==X)throw Error(rn+Y+": "+X);if(X){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(ze);this[Y]=!0}else this[Y]=!1}return this}function he(G){return new this(G).cos()}function nt(G){return new this(G).cosh()}function bt(G,Z){return new this(G).div(Z)}function dt(G){return new this(G).exp()}function ct(G){return Pe(G=new this(G),G.e+1,3)}function ht(){var G,Z,Y=new this(0);for(Lt=!1,G=0;G<arguments.length;)if((Z=new this(arguments[G++])).d)Y.d&&(Y=Y.plus(Z.times(Z)));else{if(Z.s)return Lt=!0,new this(1/0);Y=Z}return Lt=!0,Y.sqrt()}function It(G){return G instanceof kr||G&&"[object Decimal]"===G.name||!1}function vt(G){return new this(G).ln()}function at(G,Z){return new this(G).log(Z)}function lt(G){return new this(G).log(2)}function Wt(G){return new this(G).log(10)}function Jt(){return qn(this,arguments,"lt")}function sn(){return qn(this,arguments,"gt")}function Jn(G,Z){return new this(G).mod(Z)}function Dn(G,Z){return new this(G).mul(Z)}function si(G,Z){return new this(G).pow(Z)}function Zn(G){var Z,Y,X,me,te=0,_e=new this(1),Ge=[];if(void 0===G?G=this.precision:ce(G,1,Pr),X=Math.ceil(G/7),this.crypto)if(crypto.getRandomValues)for(Z=crypto.getRandomValues(new Uint32Array(X));te<X;)(me=Z[te])>=429e7?Z[te]=crypto.getRandomValues(new Uint32Array(1))[0]:Ge[te++]=me%1e7;else{if(!crypto.randomBytes)throw Error(ze);for(Z=crypto.randomBytes(X*=4);te<X;)(me=Z[te]+(Z[te+1]<<8)+(Z[te+2]<<16)+((127&Z[te+3])<<24))>=214e7?crypto.randomBytes(4).copy(Z,te):(Ge.push(me%1e7),te+=4);te=X/4}else for(;te<X;)Ge[te++]=1e7*Math.random()|0;for(G%=7,(X=Ge[--te])&&G&&(me=Wn(10,7-G),Ge[te]=(X/me|0)*me);0===Ge[te];te--)Ge.pop();if(te<0)Y=0,Ge=[0];else{for(Y=-1;0===Ge[0];Y-=7)Ge.shift();for(X=1,me=Ge[0];me>=10;me/=10)X++;X<7&&(Y-=7-X)}return _e.e=Y,_e.d=Ge,_e}function zn(G){return Pe(G=new this(G),G.e+1,this.rounding)}function Qr(G){return(G=new this(G)).d?G.d[0]?G.s:0*G.s:G.s||NaN}function yn(G){return new this(G).sin()}function Hr(G){return new this(G).sinh()}function qr(G){return new this(G).sqrt()}function En(G,Z){return new this(G).sub(Z)}function tn(G){return new this(G).tan()}function Vr(G){return new this(G).tanh()}function Sr(G){return Pe(G=new this(G),G.e+1,1)}return(kr=function G(Z){var Y,X,me;function te(_e){var Ge,ke,rt,Xe=this;if(!(Xe instanceof te))return new te(_e);if(Xe.constructor=te,_e instanceof te)return Xe.s=_e.s,void(Lt?!_e.d||_e.e>te.maxE?(Xe.e=NaN,Xe.d=null):_e.e<te.minE?(Xe.e=0,Xe.d=[0]):(Xe.e=_e.e,Xe.d=_e.d.slice()):(Xe.e=_e.e,Xe.d=_e.d?_e.d.slice():_e.d));if("number"==(rt=typeof _e)){if(0===_e)return Xe.s=1/_e<0?-1:1,Xe.e=0,void(Xe.d=[0]);if(_e<0?(_e=-_e,Xe.s=-1):Xe.s=1,_e===~~_e&&_e<1e7){for(Ge=0,ke=_e;ke>=10;ke/=10)Ge++;return void(Lt?Ge>te.maxE?(Xe.e=NaN,Xe.d=null):Ge<te.minE?(Xe.e=0,Xe.d=[0]):(Xe.e=Ge,Xe.d=[_e]):(Xe.e=Ge,Xe.d=[_e]))}return 0*_e!=0?(_e||(Xe.s=NaN),Xe.e=NaN,void(Xe.d=null)):cn(Xe,_e.toString())}if("string"!==rt)throw Error(rn+_e);return 45===(ke=_e.charCodeAt(0))?(_e=_e.slice(1),Xe.s=-1):(43===ke&&(_e=_e.slice(1)),Xe.s=1),Mn.test(_e)?cn(Xe,_e):function Nn(G,Z){var Y,X,me,te,_e,Ge,ke,rt,Xe;if("Infinity"===Z||"NaN"===Z)return+Z||(G.s=NaN),G.e=NaN,G.d=null,G;if(Cn.test(Z))Y=16,Z=Z.toLowerCase();else if(Yr.test(Z))Y=2;else{if(!Gr.test(Z))throw Error(rn+Z);Y=8}for((te=Z.search(/p/i))>0?(ke=+Z.slice(te+1),Z=Z.substring(2,te)):Z=Z.slice(2),_e=(te=Z.indexOf("."))>=0,X=G.constructor,_e&&(te=(Ge=(Z=Z.replace(".","")).length)-te,me=At(X,new X(Y),te,2*te)),te=Xe=(rt=Te(Z,Y,Je)).length-1;0===rt[te];--te)rt.pop();return te<0?new X(0*G.s):(G.e=Bt(rt,Xe),G.d=rt,Lt=!1,_e&&(G=Me(G,me,4*Ge)),ke&&(G=G.times(Math.abs(ke)<54?Wn(2,ke):kr.pow(2,ke))),Lt=!0,G)}(Xe,_e)}if(te.prototype=q,te.ROUND_UP=0,te.ROUND_DOWN=1,te.ROUND_CEIL=2,te.ROUND_FLOOR=3,te.ROUND_HALF_UP=4,te.ROUND_HALF_DOWN=5,te.ROUND_HALF_EVEN=6,te.ROUND_HALF_CEIL=7,te.ROUND_HALF_FLOOR=8,te.EUCLID=9,te.config=te.set=Ye,te.clone=G,te.isDecimal=It,te.abs=Ue,te.acos=pt,te.acosh=Ct,te.add=kt,te.asin=$e,te.asinh=Le,te.atan=an,te.atanh=L,te.atan2=ue,te.cbrt=we,te.ceil=Qe,te.cos=he,te.cosh=nt,te.div=bt,te.exp=dt,te.floor=ct,te.hypot=ht,te.ln=vt,te.log=at,te.log10=Wt,te.log2=lt,te.max=Jt,te.min=sn,te.mod=Jn,te.mul=Dn,te.pow=si,te.random=Zn,te.round=zn,te.sign=Qr,te.sin=yn,te.sinh=Hr,te.sqrt=qr,te.sub=En,te.tan=tn,te.tanh=Vr,te.trunc=Sr,void 0===Z&&(Z={}),Z&&!0!==Z.defaults)for(me=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Y=0;Y<me.length;)Z.hasOwnProperty(X=me[Y++])||(Z[X]=this[X]);return te.config(Z),te}(Xn)).default=kr.Decimal=kr,ve=new kr(ve),_t=new kr(_t),void 0!==(ie=function(){return kr}.call(Hl,vr,Hl,Ya))&&(Ya.exports=ie),kr}()});Ya.exports=M}},Ya=>{Ya(Ya.s=557)}]);